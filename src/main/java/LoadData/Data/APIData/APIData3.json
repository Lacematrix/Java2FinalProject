{"items":[{"last_activity_date":1684824077,"question_id":76311726,"body":"<p>I want to run selenium script (Java, Maven &amp; Selenium) in bitbucket pipeline. For this I want to use a image <a href=\"https://hub.docker.com/r/selenium/standalone-chrome\" rel=\"nofollow noreferrer\">selenium/standalone-chrome</a> from docker hub. But I dont know how to configure my bitbucket-pipelines.yml for this. Currently I am using below yml file in my project and I am getting below error on bitbucket pipeline -</p>\n<p><strong>Error</strong></p>\n<p>Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.</p>\n<p>Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'</p>\n<p>System info: host: '2469e757-cd7e-46a6-815f-e4e651a95a17-5cdxg', ip: '10.36.149.209', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-1035-aws', java.version: '11.0.3'</p>\n<p><strong>Bitbucket YAML file</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>image: maven:3.6.0\n\npipelines:\n  default:\n    - parallel:\n        - step:\n            name: Build and Test\n            caches:\n              - maven\n            script:\n            #  - mvn -B verify\n              - ls -l /opt/atlassian/pipelines/agent/build/chromedriver_win32/\n              - mvn test\n            after-script:\n              # Collect checkstyle results, if any, and convert to Bitbucket Code Insights.\n              - pipe: atlassian/checkstyle-report:0.3.0\n        - step:\n            name: Security Scan\n            script:\n              # Run a security scan for sensitive data.\n              # See more security tools at https://bitbucket.org/product/features/pipelines/integrations?&amp;category=security\n              - pipe: atlassian/git-secrets-scan:0.5.1\n                definitions:\n                  services:\n                    chrome:\n                      image: selenium/standalone-chrome</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Note</strong></p>\n<p>I am using selenium hub server(http://localhost:4444/wd/hub) to host the selenium/standalone-chrome container and its working fine when I am launching from my local. But giving above error when pipeline is running on bitbucket.</p>\n"},{"comments":[{"comment_id":134569510,"body":"impossible to tell without a lot more details. Most likely you&#39;re trying to scrape a website that has protection against scraping and it&#39;s refusing to serve you the data. Which is what it would do as you need a license from them and use their actual API to get their data legally."},{"comment_id":134570300,"body":"Oh looks like I forgot about this @jwenting"}],"last_activity_date":1684823542,"question_id":76311862,"body":"<p>I don't know why i got this error, while using jsoup, I write as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        try {\n            Connection.Response res = (Jsoup.connect(&quot;https://www.bloomberg.com/markets&quot;)\n                    .ignoreContentType(true)\n                    .userAgent(&quot;Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.101 Safari/537.36&quot;)\n                    .referrer(&quot;https://www.google.com&quot;)\n                    .timeout(10000)\n                    .followRedirects(true)\n                    .execute());\n\n            System.out.println(res.cookies());\n    } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>result is:</p>\n<pre><code>SEVERE: Invalid cookie for https://www.bloomberg.com/markets: table: 0x7f68806a9068\n{seen_uk=1, table: 0x7f68806a9068=, _pxhd=fURRQiqHuqlN8Xy9x0SblYscSu3CWW3jeiQbd8v1G0TM5sdtC9KY/yi1v6WXPBBqtaiTi1-I8L0IcLL5JsUziw==:OmYTAq8UYU4a1GWvaJ1D2COUt2AKUMLs/xu4pc-NYtOoc4Dbs9QMxosaRrfCI/dMgXbwlp2/C/0T7UHFs0UIoAQjHuABQ-zEDCF0B2W7r2E=}\n</code></pre>\n<p>I tried changing userAgent to:  <code>Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:25.0) Gecko/20100101 Firefox/25.0 </code>\nand it doesn't have that error anymore, but it looks old and not my version\n( result:     <code>{_pxhd=wjoUoOZLsimXYJMnahs0BFu0CBJMQkUScCIxSwtJv1ofEuJrjdNYelpgbUDs2Dm0bqhrn6RWks4GeamFINb/A==:lmU9p3JVuVdcOv6gqq/s-UAf1aytRbzUcXhANldDBjq3ecHDEi4leCC8fEST0uwbWNeulsJpDpzpDT8wSK1u1IVyM/hnNYhA72kG4UCoiPQ=}</code>)</p>\n<p>So what is the solution for me to use the original userAgent, or is it really related to userAgent or is there some other reason. Please help me, thanks</p>\n"},{"last_activity_date":1684823263,"question_id":76311683,"body":"<p>I am a beginner coder, and i want to create an application with android application with NFC based system where you are required to scan NFC tag to get customer to input their user information data(name, email, phone no. and address) into NFC tag (NDEF tag), and when user scan NFC tag on their phone, their phone will display their user information. For these part im a bit confuse where i wanted to implement the NFC based system, should i just create an NFC scan page only or i am required to create multiple pages of NFC pages like seperated NFC_scan.xml, NFC_UsergetDetail.xml or any suggestion? so far what i created is just the iceberg of user information.\nAnother question is that when i implemented the  inside the manifest file , the app instantly cannot even be opened.</p>\n<p>manifest.xml file</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.nfc&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@drawable/rentalagency&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.LayoutAndDesignNFC&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.NFC_Scan&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.nfc.action.NDEF_DISCOVERED&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n                &lt;data android:mimeType=&quot;text/plain&quot; /&gt;\n                \n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=&quot;android.nfc.action.TECH_DISCOVERED&quot;\n                android:resource=&quot;@xml/nfc_tech_filter&quot; /&gt;\n        &lt;/activity&gt;\n\n\n        &lt;activity\n            android:name=&quot;.EditProfileActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.SignupActivity1&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.ProfileActivity1&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainPage&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.LoginActivity1&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>NFC_SCAN.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.layoutanddesignnfc;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.nfc.NdefMessage;\nimport android.nfc.NdefRecord;\nimport android.nfc.NfcAdapter;\nimport android.nfc.Tag;\nimport android.os.Bundle;\nimport android.os.Parcelable;\nimport android.widget.Toast;\n\npublic class NFC_Scan extends AppCompatActivity {\n    private NfcAdapter nfcAdapter;\n    private PendingIntent pendingIntent;\n    private IntentFilter[] intentFilters;\n    private String[][] techLists;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_nfc_scan);\n        nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n        if (nfcAdapter == null) {\n            // NFC is not supported on this device\n            Toast.makeText(this, &quot;NFC is not supported&quot;, Toast.LENGTH_SHORT).show();\n            finish();\n            return;\n        }\n        // Create a PendingIntent for the NFC intent\n        pendingIntent = PendingIntent.getActivity(\n                this,\n                0,\n                new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP),\n                PendingIntent.FLAG_UPDATE_CURRENT\n        );\n\n        // Define the intent filters and tech lists for NFC\n        IntentFilter ndefIntent = new IntentFilter(NfcAdapter.ACTION_NDEF_DISCOVERED);\n        try {\n            ndefIntent.addDataType(&quot;*/*&quot;);\n        } catch (IntentFilter.MalformedMimeTypeException e) {\n            e.printStackTrace();\n        }\n        intentFilters = new IntentFilter[]{ndefIntent};\n        techLists = new String[][]{new String[]{android.nfc.tech.Ndef.class.getName()}};\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        // Enable foreground dispatch to capture NFC intents\n        nfcAdapter.enableForegroundDispatch(this, pendingIntent, intentFilters, techLists);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        // Disable foreground dispatch\n        nfcAdapter.disableForegroundDispatch(this);\n    }\n\n    @Override\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n\n        Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n\n        if (NfcAdapter.ACTION_NDEF_DISCOVERED.equals(intent.getAction())) {\n            Parcelable[] rawMessages =\n                    intent.getParcelableArrayExtra(NfcAdapter.EXTRA_NDEF_MESSAGES);\n            if (rawMessages != null) {\n                NdefMessage[] messages = new NdefMessage[rawMessages.length];\n                for (int i = 0; i &lt; rawMessages.length; i++) {\n                    messages[i] = (NdefMessage) rawMessages[i];\n                }\n                // Process the messages array.\n                for (NdefMessage message : messages) {\n                    // Extract and handle the payload data\n                    NdefRecord[] records = message.getRecords();\n                    for (NdefRecord record : records) {\n                        byte[] payload = record.getPayload();\n                        String data = new String(payload);\n                        // Display the data to the user\n                        Toast.makeText(this, &quot;NFC Tag Data: &quot; + data, Toast.LENGTH_LONG).show();\n\n                    }\n                }\n            }\n        }\n    }\n}\n\n\n\n\n</code></pre>\n<p>Hope i can get a solution to that :)</p>\n"},{"last_activity_date":1684823220,"question_id":76304061,"body":"<p>I am currently migrating our project to the latest version of Spring. Since Spring 6 is using the new Apache HttpClient5, I am struggling to find any kind of replacement for the old removed methods from the <code>DefaultRedirectStrategy</code> class:</p>\n<p><code>protected boolean isRedirectable(String method)</code></p>\n<p>and</p>\n<p><code>public HttpUriRequest getRedirect(final HttpRequest request, final HttpResponse response, final HttpContext context) throws ProtocolException </code></p>\n<p>With HttpClient4 these methods were used to make all request redirectable and reset streams if possible.\nI tried to search for any replacement or documentation about it, but unfortunately I could not find anything.</p>\n<p>I am happy for each answer :)</p>\n"},{"comments":[{"comment_id":134567950,"body":"What errors have you gotten exactly?"}],"last_activity_date":1684823189,"question_id":76311209,"body":"<p>I have been attempting to make a mod that detects if the local player is at a specific set of coordinates, it will execute a command.</p>\n<p>Here's what I have:</p>\n<pre><code>package com.example.examplemod;\n\nimport net.minecraftforge.event.TickEvent.PlayerTickEvent;\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\nimport net.minecraftforge.fml.common.Mod;\n\n@Mod.EventBusSubscriber(modid = &quot;examplemod&quot;)\npublic class PlayerEventHandler {\n\n    @SubscribeEvent\n    public static void onPlayerTick(PlayerTickEvent event) {\n        if (event.phase != TickEvent.Phase.START) {\n            return;\n        }\n        \n        int targetX = 100;\n        int targetY = 100;\n        int targetZ = 100;\n\n        if (event.player.posX == targetX &amp;&amp; event.player.posY == targetY &amp;&amp; event.player.posZ == targetZ) {\n            event.player.sendChatMessage(&quot;hi&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I'm not sure what I've been doing wrong but no matter what I have tried, I have gotten errors.</p>\n<p>I am using Minecraft Forge 1.8.9 and the version cannot be changed.</p>\n"},{"comments":[{"comment_id":134568944,"body":"The last snippet does not use refresh in any meaningful way. Nothing in the code depends on its value. It behaves exactly as the sniper before it."},{"comment_id":134569072,"body":"The 4th version is equivalent to the 2nd one.  The HB relation involving <code>finish</code> is the same.  (The <code>flush</code> variable doesn&#39;t alter the HB relation for <code>finish</code>.  It is just redundant.)   And you can make a similar argument to say that the 4th version is equivalent to the 3rd version."},{"comment_id":134569171,"body":"clearification: the reason for the instruction &quot;boolean dummy = refresh;&quot; is solely to refresh the cache of the thread. And my question is &quot;Is it really refreshed&quot;? If i replace the statement with &quot;boolean dummy = flush;&quot; the refresh is guaranteed!"},{"comment_id":134570105,"body":"Stephen: In the 3rd and 4th version finish ist not declared as volatile!"},{"comment_id":134571081,"body":"<a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-unobserved-volatiles\" rel=\"nofollow noreferrer\">4.5. Wishful Thinking: Unobserved Volatiles Have Memory Effects</a> • <a href=\"https://shipilev.net/blog/2016/close-encounters-of-jmm-kind/#wishful-mismatched\" rel=\"nofollow noreferrer\">4.6. Wishful Thinking: Mismatched Ops Are Okay</a>"}],"last_activity_date":1684822735,"question_id":76311736,"body":"<p>Question: Is this statement true: „A write to a volatile field happens-before every subsequent read of that <strong>or another volatile</strong> field.“</p>\n<p>On <a href=\"https://stackoverflow.com/questions/11970428/how-to-understand-happens-before-consistent\">How to understand happens-before consistent</a> I found the following statements:</p>\n<p>Happens-before: „Two actions can be ordered by a happens-before relationship. If one action happens-before another, then the first is visible to and ordered before the second.“</p>\n<p>Volatile: „A write to a volatile field happens-before every subsequent read of that field.“</p>\n<p>Visibility: „When Thread A changes/writes a volatile variable it also pushes all previous changes into RAM - Main Memory as a result all not volatile variable will be up to date and visible for another threads“.</p>\n<p>In the following program, according to the java memory model, it is <strong>not guaranteed</strong> that the output &quot;thread end&quot; will appear on the console:</p>\n<pre><code>public class VolatileQuestion {\n\nstatic boolean finish = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish);\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n<p>Declaring field „finish&quot; as volatile it <strong>is guaranteed</strong> that the output &quot;thread end&quot; will appear on the console:</p>\n<pre><code>public class VolatileQuestion {\n\nstatic volatile boolean finish = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish);\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n<p>In the third program, I don't declare field finish as volatile, but I introduce another field declared as volatile, which the main thread writes and the other thread reads. Therefore, according to the java memory model, the output of &quot;thread end&quot; <strong>is guaranteed</strong>:</p>\n<pre><code>public class VolatileQuestion {\n\nstatic boolean finish = false;\nstatic volatile boolean flush = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish) {\n            boolean dummy = flush;\n        }\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    flush = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n<p>And now my question: What happens if I write a volatile field in the main thread and read another volatile field in the other thread: Is the output of &quot;thread end&quot; guaranteed in that case too?</p>\n<pre><code>public class VolatileQuestion {\n\nstatic boolean finish = false;\nstatic volatile boolean flush = false;\nstatic volatile boolean refresh = false;\n\npublic static void main(String[] args) throws Exception {\n    new Thread(() -&gt; {\n        while (!finish) {\n            boolean dummy = refresh;\n        }\n        System.out.println(&quot;thread end&quot;);\n    }).start();\n    Thread.sleep(2000);\n    finish = true;\n    flush = true;\n    System.out.println(&quot;main end&quot;);\n}\n}\n</code></pre>\n"},{"comments":[{"comment_id":134565726,"body":"... so what is your question?"},{"comment_id":134565727,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"comment_id":134567174,"body":"One of these possible <a href=\"https://stackoverflow.com/search?q=%5Bjfreechart%5D+ChartFactory.createStackedBarChart\">duplicates</a>, for <a href=\"https://stackoverflow.com/a/63959088/230513\">example</a> or <a href=\"https://stackoverflow.com/a/8002959/230513\">example</a>, may help guide you."},{"comment_id":134568942,"body":"@VirajShah  I given the images link of my exact output  &amp; expected output image. Also I given the code snippet. What I want to know is how can i change the code to get the expected output"},{"comment_id":134568980,"body":"@trashgod those are different than my error"}],"last_activity_date":1684822470,"question_id":76306724,"body":"<p>createStackedBarChart() not generating stacked bar chart. Instead generating horizontal stacked bar chart. Used default method only not overwrite anything</p>\n<pre><code>JFreeChart gChart;\ngChart=ChartFactory.createStackedBarChart(reportName, xLabel, yLabel, (CategoryDataset)graphDataset, plotOrient, true, true, false);\n\n\n//Code used to generate image \nchart.createBufferedImage(500,300,BufferedImage.TYPE_INT_RGB,new ChartRenderingInfo());\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ergkr.png\" rel=\"nofollow noreferrer\">Output image generated for me</a></p>\n<p><a href=\"https://i.stack.imgur.com/wukRK.png\" rel=\"nofollow noreferrer\">Expected image</a></p>\n<p>Data set is like</p>\n<pre><code>         | Critical  | Trouble | Attention \n\nInProcess|     0      |    1    |     0\n\nClosed   |     1     |    0    |      1\n\nOpen     |     1     |     0   |      0\n</code></pre>\n"},{"answers":[{"answer_id":69431396,"body":"<p>Please take a look <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#test\" rel=\"nofollow noreferrer\">here</a>. Spring security comes with proper testing support. I have shared link for section dedicated to test support for Security.</p>\n<p>Example:</p>\n<pre><code>@Test\n@WithMockUser(username=&quot;admin&quot;,roles={&quot;USER&quot;,&quot;ADMIN&quot;})\npublic void getMessageWithMockUserCustomUser() {\n    String message = messageService.getMessage();\n    ...\n}\n</code></pre>\n<p>This is how you apply test annotations on a class.</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration\n@WithMockUser(username=&quot;admin&quot;,roles={&quot;USER&quot;,&quot;ADMIN&quot;})\npublic class WithMockUserTests {\n}\n</code></pre>\n"},{"answer_id":69479921,"body":"<p>In the security configuration you have specified that any endpoints that match <code>&quot;/user/**&quot;</code> must have the authority &quot;VT&quot;, &quot;Admin&quot;, &quot;User&quot; or &quot;Developer&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>.mvcMatchers(&quot;/user/**&quot;).hasAnyAuthority(VT_SCOPE, ADMIN_SCOPE, USER_SCOPE, DEVELOPER_SCOPE)\n</code></pre>\n<p>However, in the test, the request is made with a user that has the authorities &quot;VT_SCOPE&quot;, &quot;ADMIN_SCOPE&quot;, &quot;USER_SCOPE&quot; and &quot;DEVELOPER_SCOPE&quot;.<br />\nNone of these authorities match the required authorities, which is why you see a 403 response.</p>\n<p>Note that you can more robustly test JWT authentication, using the built-in <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#testing-jwt\" rel=\"nofollow noreferrer\"><code>jwt()</code> RequestPostProcessor</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>mvc\n    .perform(post(&quot;/user/forum/add&quot;)\n        .with(jwt().authorities(new SimpleGrantedAuthority(&quot;SCOPE_example&quot;))));\n</code></pre>\n<p>You can find extensive details and examples in the Spring Security <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#testing-jwt\" rel=\"nofollow noreferrer\">reference documentation</a>.</p>\n"},{"answer_id":76311712,"body":"<p>For me I had to do</p>\n<pre><code>with(SecurityMockMvcRequestPostProcessors.jwt().authorities(new SimpleGrantedAuthority(&quot;ADMIN&quot;))))\n</code></pre>\n<p>hope this helps you!</p>\n"}],"last_activity_date":1684822282,"question_id":69431307,"body":"<p>I am using JWT based authentication in my Spring project and I was trying to write JUnit Test cases for the secured end-points though I am not able to test it and getting</p>\n<p><strong>org.opentest4j.AssertionFailedError:\nExpected :201\nActual :403</strong></p>\n<p>My Security Config file is :</p>\n<pre><code>@Configuration\n@EnableWebSecurity(debug = true)\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\npublic class ScopeMapping extends WebSecurityConfigurerAdapter {\n    @Autowired\n    XsuaaServiceConfiguration xsuaaServiceConfiguration;\n    private static final String VT_SCOPE = &quot;VT&quot;;\n    private static final String DEVELOPER_SCOPE = &quot;Developer&quot;;\n    private static final String USER_SCOPE = &quot;User&quot;;\n    private static final String ADMIN_SCOPE = &quot;Admin&quot;;\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http\n                .headers()\n                .contentSecurityPolicy(&quot;script-src 'self' https://trustedscripts.example.com; object-src https://trustedplugins.example.com; report-uri /csp-report-endpoint/&quot;);\n        http\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .mvcMatchers(HttpMethod.GET,&quot;/health&quot;).permitAll()\n                .mvcMatchers(&quot;/v2/api-docs/**&quot;, &quot;/swagger-ui.html&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-resources/**&quot;).permitAll()\n                .mvcMatchers(&quot;/v1/**&quot;).hasAuthority(VT_SCOPE)\n                .mvcMatchers(&quot;/v2/**&quot;).permitAll()\n                .mvcMatchers(&quot;/user/**&quot;).hasAnyAuthority(VT_SCOPE, ADMIN_SCOPE, USER_SCOPE, DEVELOPER_SCOPE)\n                .mvcMatchers(&quot;/admin/**&quot;).hasAnyAuthority(VT_SCOPE, ADMIN_SCOPE, DEVELOPER_SCOPE)\n                .mvcMatchers(&quot;/vt/**&quot;).hasAnyAuthority(VT_SCOPE, DEVELOPER_SCOPE)\n                .anyRequest().denyAll()\n                .and()\n                .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(getJwtAuthenticationConverter());\n    }\n    Converter&lt;Jwt, AbstractAuthenticationToken&gt; getJwtAuthenticationConverter() {\n        TokenAuthenticationConverter converter = new TokenAuthenticationConverter(xsuaaServiceConfiguration);\n        converter.setLocalScopeAsAuthorities(true);\n        return converter;\n    }\n}\n</code></pre>\n<p><strong>Test-case</strong></p>\n<pre><code>@WithUserDetails(value=&quot;ram&quot;,userDetailsServiceBeanName = &quot;secureBean&quot;)\n    public void addForumTest() throws Exception {\n        //  ForumQuery forumQuery = new ForumQuery(&quot;1&quot;,&quot;Query 1&quot;,&quot;Query 1 Desc&quot;,&quot;1&quot;,currentTime,replies,forumLikes);\n        ForumQueryDto forumQueryDto = new ForumQueryDto(&quot;1&quot;,&quot;Query 1&quot;,&quot;Query 1 Desc&quot;,userDto,currentTime,repliesDto);\n        Mockito.when(forumService.insertQuery(Mockito.any(ForumQueryDto.class))).thenReturn(forumQueryDto);\n        MvcResult result = mockMvc.perform(MockMvcRequestBuilders.post(&quot;/user/forum/add&quot;)\n                .contentType(&quot;application/json&quot;)\n//                .header(HttpHeaders.AUTHORIZATION,&lt;JWT-TOKEN&gt;)\n                .content(objectMapper.writeValueAsString(forumQueryDto)))\n                .andReturn();\n        MockHttpServletResponse response = result.getResponse();\n        assertEquals(HttpStatus.CREATED.value(), response.getStatus());\n    }\n</code></pre>\n<p><strong>Custom-Bean</strong></p>\n<pre><code>@Bean(&quot;secureBean&quot;)\n    public UserDetailsService userDetailsService() {\n        GrantedAuthority authority = new SimpleGrantedAuthority(&quot;VT_SCOPE&quot;);\n        GrantedAuthority authority1 = new SimpleGrantedAuthority(&quot;ADMIN_SCOPE&quot;);\n        GrantedAuthority authority2 = new SimpleGrantedAuthority(&quot;USER_SCOPE&quot;);\n        GrantedAuthority authority3 = new SimpleGrantedAuthority(&quot;DEVELOPER_SCOPE&quot;);\n        UserDetails userDetails = (UserDetails) new User(&quot;ram&quot;, &quot;ram123&quot;, Arrays.asList(authority\n                , authority1, authority2, authority3));\n        return new InMemoryUserDetailsManager(Arrays.asList(userDetails));\n    }\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":24902832,"body":"That is works for me. But strange my DB object does not have serverStatus() method."},{"comment_id":66213574,"body":"@Lugaru <code>db.serverStatus()</code> is a shell command and not part of the MongoDB Java driver"}],"answer_id":17194417,"body":"<p>Use <code>MongoClient</code> for Java, all the info you need is here...</p>\n\n<p><a href=\"http://docs.mongodb.org/ecosystem/tutorial/getting-started-with-java-driver/\" rel=\"nofollow\">http://docs.mongodb.org/ecosystem/tutorial/getting-started-with-java-driver/</a></p>\n"},{"answer_id":17194476,"body":"<p>If I understand your question correctly you want to get state returned via a web service call. You can write a function that invokes <code>db.serverStatus()</code> and have it return the data. Check out the documentation here:</p>\n\n<p><a href=\"http://docs.mongodb.org/manual/administration/monitoring/\" rel=\"nofollow\">Monitoring for MongoDB</a></p>\n"},{"comments":[{"comment_id":95832349,"body":"The method is deprecated in version 3.9."}],"answer_id":33758102,"body":"<p>I use this:</p>\n\n<pre><code>Builder o = MongoClientOptions.builder().connectTimeout(3000);  \nMongoClient mongo = new MongoClient(new ServerAddress(\"192.168.0.1\", 3001), o.build());    \n\ntry {\n  mongo.getAddress();\n} catch (Exception e) {\n  System.out.println(\"Mongo is down\");\n  mongo.close();\n  return;\n}\n</code></pre>\n"},{"comments":[{"comment_id":71845869,"body":"Good one, looking for the place where I could declare such a listener in the new mongodb java async driver... not found yet. MongoClientOptions seems to be replaced by MongoClientSettings which does not have the addServerMonitorListener()"}],"answer_id":39294943,"body":"<p>In Java MongoDriver 3.3.0 use ServerMonitorListener to determine whether server is up and connected or not.\nHere is the example code,</p>\n\n<pre><code>public class ServerConnection implements ServerMonitorListener {\n    private MongoClient client;\n\n    public ServerConnection(){\n        try {\n            MongoClientOptions clientOptions = new MongoClientOptions.Builder()\n                .addServerMonitorListener(this)\n                .build();\n\n            client = new MongoClient(new ServerAddress(\"localhost\", 27017), clientOptions);\n        } catch (Exception ex) {\n\n        }\n    }\n\n    @Override\n    public void serverHearbeatStarted(ServerHeartbeatStartedEvent serverHeartbeatStartedEvent) {\n        // Ping Started\n    }\n\n    @Override\n    public void serverHeartbeatSucceeded(ServerHeartbeatSucceededEvent serverHeartbeatSucceededEvent) {\n        // Ping Succeed, Connected to server\n    }\n\n    @Override\n    public void serverHeartbeatFailed(ServerHeartbeatFailedEvent serverHeartbeatFailedEvent) {\n        // Ping failed, server down or connection lost\n    }\n}\n</code></pre>\n"},{"answer_id":40690891,"body":"<p>The ping command is a no-op used to test whether a server is responding to commands. This command will return immediately even if the server is write-locked:</p>\n\n<pre><code>        try{\n\n            DBObject ping = new BasicDBObject(\"ping\", \"1\");\n            mongoTemplate.getDb().getMongo().getDB(\"DATABASE NAME\"\").command(ping);\n        } catch (Exception exp){\n            // MongoDb is down..\n        }\n</code></pre>\n"},{"answer_id":76311707,"body":"<p>Answering: How do I check that my <code>MongoClient</code> connected to my db?</p>\n<p>As has already been pointed out, the <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/connection/connect/\" rel=\"nofollow noreferrer\">getting started documentation</a> uses the <a href=\"https://www.mongodb.com/docs/manual/reference/command/ping/\" rel=\"nofollow noreferrer\">ping</a> command.</p>\n<p>Packaged as a function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Try to detect if the given MongoDatabase successfully connected to a Mongo\n * instance.\n * \n * Will block up to the client's socket settings timeout, e.g. 30000 ms.\n * \n * Returning true indicates that future uses of the given client will probably\n * succeed,\n * but the connection is not guaranteed as connection state may change.\n * \n * @param database\n * @return the present connection state\n */\nstatic boolean isConnected(MongoDatabase database) {\n    Bson command = new BsonDocument(&quot;ping&quot;, new BsonInt64(1));\n    try {\n        database.runCommand(command);\n    } catch (MongoTimeoutException e) {\n        return false;\n    }\n    return true;\n\n}\n\n/**\n * Try to detect if the given MongoClient successfully connected to a Mongodb\n * instance.\n * \n * Will block up to the client's socket settings timeout, e.g. 30000 ms.\n * \n * Returning true indicates that future uses of the given client will probably\n * succeed,\n * but the connection is not guaranteed as connection state may change.\n * \n * @param mongoClient\n * @return the present connection state\n */\nstatic boolean isConnected(MongoClient mongoClient) {\n    return isConnected(mongoClient.getDatabase(&quot;admin&quot;));\n}\n</code></pre>\n<p><code>mongoClient.listDatabaseNames().first();</code> would also work, but that would just run the <a href=\"https://www.mongodb.com/docs/manual/reference/command/listDatabases/\" rel=\"nofollow noreferrer\">listDatabases</a> command against the admin database. So manually writing the ping command is slightly better.</p>\n<p>After running a command, <a href=\"https://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-legacy/com/mongodb/MongoClient.html#getClusterDescription()\" rel=\"nofollow noreferrer\"><code>mongoClient.getClusterDescription()</code></a> will return a meaningful result, but it does not block or wait, so calling it right after creating a MongoClient instance will not return an actionable response.</p>\n<p>If you need more control, look at the <a href=\"https://stackoverflow.com/a/39294943/8954109\">answer</a> using <a href=\"http://mongodb.github.io/mongo-java-driver/4.7/apidocs/mongodb-driver-core/com/mongodb/event/ServerMonitorListener.html\" rel=\"nofollow noreferrer\">ServerMonitorListener</a>.</p>\n<p>This answer is valid as of/for <code>'org.mongodb:mongodb-driver-sync:4.9.1'</code></p>\n"}],"last_activity_date":1684822252,"question_id":17194268,"body":"<p>I'm looking for best way to check connection to Mongo DB.\nSituation: client makes request (api) to server. And server returns status of all databases.</p>\n\n<p>What the best way to do it?</p>\n"},{"comments":[{"comment_id":4733837,"body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/821466/how-can-i-get-the-database-name-i-am-connected-to-through-hibernate\" title=\"how can i get the database name i am connected to through hibernate\">stackoverflow.com/questions/821466/&hellip;</a>"}],"answers":[{"answer_id":4351499,"body":"<p>Since you have either a hibernate.properties or a hibernate.cfg.xml, you can allways read any information off these files.</p>\n"},{"comments":[{"comment_id":66746809,"body":"Be aware, that this method creates a abandoned connection without closing it."}],"answer_id":4351514,"body":"<p>I think you can do it this way:</p>\n\n<pre><code>sessionFactory.getCurrentSession().connection().getMetaData().getURL()\n</code></pre>\n"},{"answer_id":4357715,"body":"<p>Thanks very much javamonkey79 and costis for responding to this question.</p>\n\n<p>Yes - I can read the hibernate.properties/cfg.xml file - but I wanted to avoid the file reading workflow.</p>\n\n<p>It appears that <code>Session::connection()</code> api is deprecated now, but it still works.\nWe also can retrieve the same info in another way as listed below.</p>\n\n<h1>OPTION 1</h1>\n\n<pre><code>Session session = sessionFactory.openSession();\nString dbURL = session.connection().getMetaData().getURL().toString();\nsession.close();\n</code></pre>\n\n<h1>OPTION 2</h1>\n\n<pre><code>Settings settings = ((SessionFactoryImpl) sessionFactory).getSettings();\nif (settings != null) {\n    Connection connection = settings.getConnectionProvider().getConnection();\n    String dbURL  = connection.getMetaData().getURL();\n    connection.close();\n}\n</code></pre>\n\n<p>For MySql, the return URL will be in form of:</p>\n\n<pre><code>jdbc:mysql://localhost:3306/edm?useUnicode=true\n</code></pre>\n"},{"answer_id":7886773,"body":"<pre><code>sessionFactory.getDialect();\n</code></pre>\n\n<p>gives you the <code>Dialect</code> and  </p>\n\n<pre><code>sessionFactory.getSettings().getConnectionProvider().getConnection().getMetaData().getURL();\n</code></pre>\n\n<p>provides you the connection url.</p>\n\n<p><strong>Note</strong>: This only works with the <code>SessionFactoryImpl</code> class, not with the interface</p>\n"},{"comments":[{"comment_id":47319801,"body":"I was hoping this would be a way I could look at all Hibernate properties, but it  seems that it only works if the config is being read from the file hibernate.cfg.xml. I am using Spring to configure Hibernate so it doesn&#39;t work. Any idea how to access the SessionFactoryImpl that is created by Spring?"},{"comment_id":47320086,"body":"I figured out that I could get the SessionFactory from Spring like this <code>(SessionFactoryImpl) appContext.getBean(&quot;sessionFactory&quot;);</code> where appContext is my ApplicationContext. Using this I can get lots of properties, but oddly not the <i>hibernate.connection.url</i> mentioned in this post."}],"answer_id":8937361,"body":"<p>Or you can try:</p>\n\n<pre><code>SessionFactory sessionFactory = new Configuration().configure().buildSessionFactory();\nSessionFactoryImpl sessionFactoryImpl = (SessionFactoryImpl) sessionFactory;\nProperties props = sessionFactoryImpl.getProperties();\nString url = props.get(\"hibernate.connection.url\").toString();\nString[] urlArray = url.split(\":\");\nString db_name = urlArray[urlArray.length - 1];\n</code></pre>\n"},{"answer_id":19852479,"body":"<p>and you can try this code: </p>\n\n<pre><code>String url = null;\ntry {\n    url = getSession().connection().getMetaData().getURL().toString();\n} catch (HibernateException e) {\n    e.printStackTrace();\n} catch (SQLException e) {\n    e.printStackTrace();\n}\nString[] urlArray = url.split(\":\");\nString db_name = urlArray[1];\n</code></pre>\n\n<p>;)</p>\n"},{"answer_id":51743968,"body":"<p>For Hibernate 5.2.0, to get the datasource..</p>\n\n<pre><code>SessionFactoryImplementor entityManagerFactory = (SessionFactoryImplementor) sessionFactory.openSession().getEntityManagerFactory();\nDatasourceConnectionProviderImpl connectionProvider = (DatasourceConnectionProviderImpl) entityManagerFactory.getServiceRegistry().getService(ConnectionProvider.class);\nBasicDataSource dataSource = (BasicDataSource) connectionProvider.getDataSource();\ndataSource.getUrl();\n</code></pre>\n"},{"answer_id":62398065,"body":"<p>Easiest way is to get the currently configured properties and then get your db URL using key \"hibernate.connection.url\". The following code prints current session url</p>\n\n<pre><code>System.out.println(sessionFactory.getProperties().get(\"hibernate.connection.url\"))\n</code></pre>\n\n<p>on my system I get</p>\n\n<pre><code>jdbc:postgresql://localhost:15432/tempdb\n</code></pre>\n"},{"answer_id":66683138,"body":"<p>You can inspect it in variable view in IntelliJ as below</p>\n<p><a href=\"https://i.stack.imgur.com/DRJ6t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRJ6t.png\" alt=\"Screenshot\" /></a></p>\n"},{"comments":[{"comment_id":120997208,"body":"Please explain your lines of code so other users can understand its functionality. Thanks!"}],"answer_id":68462273,"body":"<p>this worked for me:</p>\n<pre><code>DataSource dataSource = (DataSource)entityManagerFactory.getProperties()\n.get(&quot;hibernate.connection.datasource&quot;);\n\nConnection connection = dataSource.getConnection();\nString databaseName = connection.getCatalog();  \n</code></pre>\n"},{"answer_id":76311687,"body":"<p>With Hibernate5 and C3P0 managed connection pool, the following returned me the JDBC URL:</p>\n<pre><code>    ((DriverManagerDataSource) \n            ((WrapperConnectionPoolDataSource) \n            ((ComboPooledDataSource) hibernateTemplate.getSessionFactory().getProperties()\n                    .get(&quot;hibernate.connection.datasource&quot;))\n            .getConnectionPoolDataSource())\n            .getNestedDataSource()).getJdbcUrl();\n</code></pre>\n"}],"last_activity_date":1684822009,"question_id":4351443,"body":"<p>I am using hibernate 3.x with Jboss.\nCurrently we support multiple databases.</p>\n\n<p>Now in runtime, how can I know the underlying database information ? at least name or database-dialect? (e.g. MySQL, Derby, Oracle, etc)?</p>\n\n<p>Can any one suggests any way to find this information?\nI thought hibernate SessionFactory class will provide such api - but it is not?</p>\n\n<p>Thanks in advance, </p>\n"},{"comments":[{"comment_id":131429161,"body":"I think the problem is that your first regex for valid names uses the <code>*</code> quantifier, thereby allowing zero length entries to be considered valid. Change it to a + and blank entries will no longer qualify."},{"comment_id":134568729,"body":"It has the literal text, &quot;null&quot;, or it is an unassigned value, which is <code>null</code>?"},{"comment_id":134570053,"body":"If it is <code>null</code> instead of text there&#39;s not much point in testing it for <i>anything,</i> is there? None whatsover in fact."}],"answers":[{"comments":[{"comment_id":131429382,"body":"im using java fxml, it tried your solution and it doesnt work"},{"comment_id":131435075,"body":"If by null you mean empty you can use this: ` <code>textfieldFirstName.getText() != null &amp;&amp; !textfieldFirstName.getText().trim().isEmpty()</code> It does a null check and then checks if it is empty using trim() to remove any leading and trailing whitespace"},{"comment_id":134570085,"body":"Evaluating a condition is pointless unless you do something with the result. Did you intend that he should (a) use it in an <code>if</code> statement? (b) use it in a <code>while</code> statement? (c) store the value of the condition into a variable and use it later?"}],"answer_id":74451239,"body":"<p>If you are using Java Swing for your textfield (JTextField) you can do:</p>\n<pre><code>textfieldFirstName.getText() != null\n</code></pre>\n"},{"answer_id":76311670,"body":"<p>If you're saying the variable <code>textfieldFirstName</code> is <code>null</code>, then you can check that with an if-statement.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (textfieldFirstName == null ) {\n    firstNameIsValid = false;\n} else if(textfieldFirstName.matches(&quot;[a-zA-ZäÄöÖüÜß]*&quot;)) {\n    firstNameIsValid = true;\n} else if(textfieldFirstName.matches(&quot;[0-9]*&quot;)) {\n    firstName.setText(&quot;incorrect&quot;);\n} else if(textfieldFirstName.matches(&quot;[$&amp;+,:;=?@#|'&lt;&gt;.^*()%!-]*&quot;)) {\n    firstName.setText(&quot;incorrect&quot;);\n} else if(!textfieldFirstName.matches(&quot;[a-zA-Z0-9$&amp;+,:;=?@#|'&lt;&gt;.^*()%!-]*$&quot;)) {\n    firstName.setText(&quot;requiered field&quot;);\n}\n</code></pre>\n"}],"last_activity_date":1684821797,"question_id":74451061,"body":"<pre><code>if(textfieldFirstName.matches(&quot;[a-zA-ZäÄöÖüÜß]*&quot;)) {\n    firstNameIsValid = true;\n} else if(textfieldFirstName.matches(&quot;[0-9]*&quot;)) {\n    firstName.setText(&quot;incorrect&quot;);\n} else if(textfieldFirstName.matches(&quot;[$&amp;+,:;=?@#|'&lt;&gt;.^*()%!-]*&quot;)) {\n    firstName.setText(&quot;incorrect&quot;);\n} else if(!textfieldFirstName.matches(&quot;[a-zA-Z0-9$&amp;+,:;=?@#|'&lt;&gt;.^*()%!-]*$&quot;)) { \n    firstName.setText(&quot;requiered field&quot;);\n}\n</code></pre>\n<p>I tried the equal comparison, <code>==</code>, <code>isEmpty</code>, <code>isBlank</code>, plenty of regex</p>\n"},{"answers":[{"answer_id":50005648,"body":"<p>This error message...</p>\n\n<pre><code>org.openqa.selenium.NoSuchSessionException: no such session\n</code></pre>\n\n<p>...implies that the <em>chromedriver=2.38</em> wasn't able to initiate an active session with the WebClient i.e <em>Chrome</em> browser.</p>\n\n<p>Your main issue is the <strong>version compatibility</strong> between the binaries you are using as follows :</p>\n\n<ul>\n<li>Though you are using latest <em>Selenium Client</em> version <strong>3.11.0</strong>, <em>Chrome Driver</em> version <em>2.38</em> and <em>Chrome</em> version <em>v66.0</em>.</li>\n<li>Your <em>JDK version</em> is <strong>1.8.0_144</strong> which is pretty <strong>ancient</strong>.</li>\n</ul>\n\n<hr>\n\n<h2>Solution</h2>\n\n<ul>\n<li>Upgrade <em>JDK</em> to  recent levels <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">JDK 8u241</a>.</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code>.</li>\n</ul>\n"}],"last_activity_date":1684821705,"question_id":50005248,"body":"<p>Getting \"No Such Session\" exception while accessing the below method in selenium. I know there are lot of same questions with different answers online but none seems to be worked out in my case. Any assistance?</p>\n\n<p>Chrome Driver Version:- 2.38\nChrome version:-66.0.3359.117</p>\n\n<p>Exception message is:-</p>\n\n<pre><code>org.openqa.selenium.NoSuchSessionException: no such session\n  (Driver info: chromedriver=2.38.552522 (437e6fbedfa8762dec75e2c5b3ddb86763dc9dcb),platform=Windows NT 10.0.10240 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\nBuild info: version: '3.11.0', revision: 'e59cfb3', time: '2018-03-11T20:26:55.152Z'\nSystem info: host: 'XXYYXX', ip: 'XXYYXX', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_144'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, acceptSslCerts: false, applicationCacheEnabled: false, browserConnectionEnabled: false, browserName: chrome, chrome: {chromedriverVersion: 2.38.552522 (437e6fbedfa876..., userDataDir: C:\\Users\\XXYYXX\\AppData\\L...}, cssSelectorsEnabled: true, databaseEnabled: false, handlesAlerts: true, hasTouchScreen: false, javascriptEnabled: true, locationContextEnabled: true, mobileEmulationEnabled: false, nativeEvents: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, rotatable: false, setWindowRect: true, takesHeapSnapshot: true, takesScreenshot: true, unexpectedAlertBehaviour: , unhandledPromptBehavior: , version: 66.0.3359.117, webStorageEnabled: true}\nSession ID: 6db82d5d19891c00f783fd9b7cebd234\n*** Element info: {Using=xpath, value=html/body/div[1]/div/div/div[2]/div/div[2]/div/div/p}\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\n    at org.openqa.selenium.remote.http.JsonHttpResponseCodec.reconstructValue(JsonHttpResponseCodec.java:40)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:80)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:44)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:545)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElements(RemoteWebDriver.java:346)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementsByXPath(RemoteWebDriver.java:425)\n    at org.openqa.selenium.By$ByXPath.findElements(By.java:356)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElements(RemoteWebDriver.java:307)\n    at org.openqa.selenium.support.ui.ExpectedConditions.findElement(ExpectedConditions.java:895)\n    at org.openqa.selenium.support.ui.ExpectedConditions.access$000(ExpectedConditions.java:44)\n    at org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:206)\n    at org.openqa.selenium.support.ui.ExpectedConditions$7.apply(ExpectedConditions.java:202)\n    at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:248)\n    at UserInterfaceTesting.LoginValidator.validation(LoginValidator.java:31)\n    at HybridFrameWork.test1.validation_of_server_response_at_something_page(test1.java:41)\n    at ?.And Validation of server response at \"Login\" Page(Userlogin.feature:14)\n</code></pre>\n\n<p>My Program:-</p>\n\n<pre><code> else if (CommonObjRepository.getMessage().contentEquals(\"Login\")) {\n\n\n// This is where exception is being thrown //\n            String Message = wait\n                    .until(ExpectedConditions\n                            .visibilityOfElementLocated(By.xpath(\"html/body/div[1]/div/div/div[2]/div/div[2]/div/div/p\")))\n                    .getText();\n\n            assertEquals(ReadProperties.GetConstant(\"XXTTX\"), Message);\n            CommonObjRepository.getLog().info(\"***** XXXYYYZZZ *****\");\n\n        }\n</code></pre>\n"},{"comments":[{"comment_id":134311259,"body":"could you enumerate what is the input string, what is the expected behaviour and what is the expected output? also format the code"},{"comment_id":134311713,"body":"We need to assign payment for EB6764589 even if theres a space after 5. Currently above regex is only accepting space after EB and not b/w digits. I need to make regex accept space in b/w digits. @Gast&#243;nSchabas"},{"comment_id":134313742,"body":"You mention <i>Using <code>value.replaceAll(&quot;\\s&quot;,&quot;&quot;);</code> in code</i>. Does this work? I guess the syntax would be <code>value.replaceAll(new RegExp(&quot;\\\\s+&quot;,&quot;g&quot;), &#39;&#39;)</code> but <code>value.replace(&#47;\\s+&#47;g, &quot;&quot;)</code> is shorter and does the same. You can combine it with <code>match</code> and <a href=\"https://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">capture</a> 7 digits like this demo at tio.run: <a href=\"https://tio.run/##y0osSyxOLsosKNEts/j/Pye1RKEsMac0VcFWQd3VScHM3MzEVMHCUp2LKzk/rzg/J1UvJz9dA6xEryi1ICcxOVVDP6ZYWz9dR0lJUy83sSQ5Q0Pf1UkjJqXavFZTXzPaMFbz/38A\" rel=\"nofollow noreferrer\"><code>value.replace(&#47;\\s+&#47;g,&quot;&quot;).match(&#47;EB(\\d{7})&#47;)[1]</code></a>"}],"answers":[{"comments":[{"comment_id":134312163,"body":"What about [0,9] before {7} and whats significance of {0,}."},{"comment_id":134312211,"body":"Currently its accepting only one space, we need to make it accept multiple spaces as well. Earlier its was accepting multiple spaces after EB."},{"comment_id":134312266,"body":"Got you, you meant multiple spaces between words then use this one <a href=\"https://regex101.com/r/lZ2zAH/1\" rel=\"nofollow noreferrer\">regex101.com/r/lZ2zAH/1</a>"},{"comment_id":134312450,"body":"Thanks Anton. I have one doubt why its not working with (.*)(EB)\\s*(\\d\\s*)[0-9]{7}, if i add [0,9]"},{"comment_id":134312502,"body":"Why do you need [0,9] at whole? This part (\\d\\s*){7} means you will have subsequence of any digit with or without whitespaces 7 times. Basically if you want to say any digit - you can use \\d."}],"answer_id":76160988,"body":"<p>You can try this regex, it should help to solve your problem:</p>\n<pre><code>(.*)(EB)\\s*(\\d\\s*){7}\n</code></pre>\n<p>By the way you can use regex101 to play with regex, it's very useful environment when you're working with regexps.</p>\n"},{"answer_id":76161625,"body":"<p>To match the example string you don't need the capture groups, you can match 7 times a digit preceded by optional whitespace chars (note that it can also match newlines).</p>\n<p>Then you can remove the whitespace chars from this match using replaceAll:</p>\n<pre><code>\\bEB(?:\\s*\\d){7}\\b\n</code></pre>\n<p>In Java</p>\n<pre><code>String regex = &quot;\\\\bEB(?:\\\\s*\\\\d){7}\\\\b&quot;;\n</code></pre>\n<p><a href=\"https://regex101.com/r/ULfRL6/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"answer_id":76311633,"body":"<p>If the space will only ever appear after the 5th digit, then the following pattern will work.</p>\n<pre class=\"lang-none prettyprint-override\"><code>EB\\s(?:\\d{7}|\\d{5}\\s\\d\\d)\n</code></pre>\n<p>You can use a literal space, also.</p>\n<pre class=\"lang-none prettyprint-override\"><code>EB (?:\\d{7}|\\d{5} \\d\\d)\n</code></pre>\n"}],"last_activity_date":1684821237,"question_id":76160558,"body":"<p>Using this regex: <code>(.*)(EB([\\s]{0,})[0-9]{7})</code> to remove white spaces and able to read 7 digits after <code>EB</code> but its not accepting space between digits.</p>\n<p>Currently it's passing value with space after <code>EB</code> and not accepting space in b/w 7 digits.</p>\n<p>Input string: <code>EB 67645 89</code></p>\n<p>Using <code>value.replaceAll(&quot;\\s&quot;,&quot;&quot;);</code> in code.</p>\n"},{"comments":[{"comment_id":134568353,"body":"What is &quot;it&quot;, what command do you run? what error do you get?"},{"comment_id":134568661,"body":"&quot;it&quot; refers to build.gradle file for the separate application"},{"comment_id":134573227,"body":"Why do you share the dependency in Maven format if you asking about Gradle? Share how it is defined in your Gradle script."}],"last_activity_date":1684821146,"question_id":76311418,"body":"<p>We built a java library com.company.aws-s3:1.0.0 using the following dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n    &lt;version&gt;1.12.472&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I would like to incorporate com.company.aws-s3:1.0.0 into a separate application, but build.gradle expects me to declare com.amazonaws.aws-java-sdk dependency for interfaces which we have in com.company.aws-s3:1.0.0.</p>\n<p>Is there a way to avoid redeclaring the com.amazonaws.aws-java-sdk dependency since its already declared in com.company.aws-s3:1.0.0 library.</p>\n"},{"comments":[{"comment_id":134562332,"body":"Everything here that I can see is within the context of an enclosing class.  They all have access to each other&#39;s <code>private</code> fields and methods, that&#39;s just how it works.  There&#39;s no difference between accessing a private field from <code>ListPool</code> or from <code>MyLinkedList</code>.  It&#39;s all &quot;one class&quot; so you have access to all private members."},{"comment_id":134562411,"body":"Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-6.html#jls-6.6.1-100-D-D-A\" rel=\"nofollow noreferrer\">6.6.1. Determining Accessibility</a>: &quot;<i>A member (...) of a class, ..., is accessible only if (i) the class, ... is accessible, and (ii) the member or constructor is declared to permit access: ..., the member or constructor is declared private. Access is permitted only when one of the following is true:  Access occurs from within the body of the top level class or interface that encloses the declaration of the member or constructor. ...</i>&quot; (one advantage/reason for nested classes)"}],"answers":[{"answer_id":76310994,"body":"<p>If it's an inner or nested class, even the <code>private</code> members are accessible to the enclosing class.</p>\n"}],"last_activity_date":1684821128,"question_id":76308110,"body":"<p>Consider the following code snippet:</p>\n<p><strong>File: ListPool.java</strong></p>\n<pre><code>package smc;\n\nimport smc.ListPool.MyLinkedList;\n\npublic class ListPool {                          // (1) Top-level class\n\n    public static class MyLinkedList {             // (2) Static member class\n\n        private static String str = &quot;test&quot;;     // (2')\n\n        private interface ILink { }                  // (3) Static member interface\n\n        public static class BiNode                   // (4) Static member class\n        implements IBiLink {\n\n            public static void printSimpleName() {     // (5) Static method\n                System.out.println(BiNode.class.getSimpleName());\n            }\n\n            public void printName() {                  // (6) Instance method\n                System.out.println(this.getClass().getName());\n            }\n        } // end BiNode\n    } // end MyLinkedList\n\n    interface IBiLink\n    extends MyLinkedList.ILink {         // (7) Static member interface\n        //  private static class Traversal { }           // (8) Compile-time error!\n        //     Can only be public.\n        class BiTraversal { }                        // (9) Class is public and static\n    } // end IBiLink\n\n    public class SortedList {                      // (10) Non-static member class\n        private static class SortCriteria {}         // (11) Static member class\n    }\n\n    public static void main(String[] args) {\n        String test = MyLinkedList.str;             // (12)\n    }\n}\n</code></pre>\n<p>I'm surprised that (7) and (12) are compiled without error as they are accessing the private field of a class. Is this something special that static nested classes bring to Java?</p>\n"},{"comments":[{"comment_id":134571012,"body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"last_activity_date":1684820939,"question_id":76311609,"body":"<p>I'm not able to find a solution to visit menus and sub-menus while automating an website, I can visit them but the problem is the code is like 500-700 lines. I need a solution like using for loop for the problem.</p>\n<p>I expected the driver to visit the menus and it's sub menus but I was only able to visit a single menu and a single sub menu which is present in the first menu.</p>\n"},{"comments":[{"comment_id":116001702,"body":"&gt; Task :app:bundleReleaseJsAndAssets FAILED"}],"answers":[{"answer_id":65610938,"body":"<p>Delete All drawable dir</p>\n<p>rm -rf android/app/src/main/res/drawable-*</p>\n<p>&amp; also change the formate of Your Image</p>\n<p>Then Try to generate Again, Hope your Problem will solve.</p>\n"},{"comments":[{"comment_id":128851850,"body":"<a href=\"http://example.com\" rel=\"nofollow noreferrer\">link</a> @Sajib thanks"}],"answer_id":65610982,"body":"<p>You Using splash screen in java file. and the splash screen image maybe.. &quot;.png&quot; file. so just change the file name &quot;.png&quot; to &quot;.jpg&quot;.....</p>\n<p>main background in splash screen should be in .jpg...</p>\n<p>//this will help you to Removing error</p>\n"},{"answer_id":65612009,"body":"<p>You are facing this error because some of your Icons or Images are not in the PNG extension. Make sure all of your Icons and Images are in PNG.</p>\n"},{"answer_id":74359513,"body":"<p>I have download some icons in .webp format and just change their extention to .png I thought it will work but it hasn't work, that why I were unable to release .apk. latter I convert all those images icons to .png and it works for me.</p>\n"},{"comments":[{"comment_id":134387201,"body":"My app was building fine for iOS (expo: eas build) but failed for Android. The Android error does not tell you much &amp; I spent quite a bit of time searching. This answer helped me. Thanks!"}],"answer_id":74645813,"body":"<p>You have a folder named assets/images/ in your root project directory and a image file nour.png like assets/images/nour.png in it.</p>\n<p>First change this png file to jpg. you can use this <a href=\"https://png2jpg.com/\" rel=\"nofollow noreferrer\">https://png2jpg.com/</a> image convertor tool. Then after delete nour.png from assets/images and paste your downloaded nour.jpg file here.\nYou need to change the image extension png to jpg in your code somewhere too, means if you write nour.png somewhere in your code change it to nour.jpg.\nThen delete the build folder android/app/build. Now everything is done, run command</p>\n<pre><code>./gradlew assemblerelease\n</code></pre>\n<p>in android folder.</p>\n"}],"last_activity_date":1684820804,"question_id":65610603,"body":"<blockquote>\n<p>**<strong>Task</strong> :app:mergeReleaseResources FAILED\n<em>FAILURE</em>: Build failed with an exception.</p>\n</blockquote>\n<ul>\n<li>What went wrong:**\nExecution failed for task ':app:mergeReleaseResources'.</li>\n</ul>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\nAndroid resource compilation failed\n\\mobile\\flyfoot2\\android\\app\\build\\generated\\res\\react\\release\\drawable-mdpi\\assets_images_nour.png: AAPT: error: failed\nto read PNG signature: file does not start with PNG signature.</p>\n</blockquote>\n<pre><code> \\mobile\\flyfoot2\\android\\app\\build\\generated\\res\\react\\release\\drawable-mdpi\\assets_images_nour.png: AAPT: error: file failed to compile.\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":130554808,"body":"The link doesn&#39;t point to anything helpful today."},{"comment_id":134564407,"body":"@rekire updated it, thanks!"}],"answer_id":24532876,"body":"<p>Take a look at <a href=\"https://www.w3docs.com/snippets/java/adding-header-for-httpurlconnection.html\" rel=\"nofollow noreferrer\"><code>setRequestProperty()</code></a> method</p>\n"}],"last_activity_date":1684820323,"question_id":24532672,"body":"<p>I need to send a header If-Modified-Since to this address and only download if the server returns 200 not 304. Is there a way I can add/modify the header in this code?</p>\n\n<pre><code>new java.net.URL(API.JSON_ZIP_OF_ALL_FILES).openStream()\n</code></pre>\n"},{"last_activity_date":1684818770,"question_id":76309427,"body":"<p>I'm trying to migrate from Java EE 8 to Jakarta EE 10 and was running a JUnit 5 test with Weld. I created a simple example with JUnit5 and Weld (cdi) could not resolve the (inner) injected classes.</p>\n<p>The test failed with: <strong>WELD-001408: Unsatisfied dependencies</strong> ...</p>\n<p>Example class (which injects the ExampleHelper class):</p>\n<pre><code>public class Example {\n    @Inject\n    ExampleHelper exampleHelper;\n\n    public void getHelloText() {\n        exampleHelper.greet();\n    }\n}\n</code></pre>\n<p>ExampleHelper class:</p>\n<pre><code>public class ExampleHelper {\n    public void greet() {\n        System.out.println(&quot;Hello&quot;);\n    }\n}\n</code></pre>\n<p>JUnit5 Test:</p>\n<pre><code>@ExtendWith(WeldJunit5Extension.class)\nclass ExampleTest {\n\n    @WeldSetup\n    public WeldInitiator weld = WeldInitiator.of(WeldInitiator.createWeld()\n            .addBeanClass(Example.class)\n            .addPackages(false, Example.class.getPackage())\n    );\n\n    @Inject\n    Example example;\n\n    @Test\n    public void test() {\n        example.getHelloText();\n    }\n}\n</code></pre>\n<p>I would have expected that by adding the package, all classes within that package could be found and injected. (This is how I did it before with JEE8).</p>\n<p>I get the error:</p>\n<pre><code>org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type ExampleHelper with qualifiers @Default\n  at injection point [BackedAnnotatedField] @Inject com.company.wf28test.Example.exampleHelper\n  at com.company.wf28test.Example.exampleHelper(Example.java:0)\n</code></pre>\n<p>Only if I explicitly add all injected classes individually Weld can find them.</p>\n<pre><code>.addBeanClass(Example.class)\n.addBeanClass(ExampleHelper.class)\n</code></pre>\n<p>then the test runs through</p>\n<p>Dependencies:</p>\n<pre><code>jakarta.jakartaee-api 10.0.0\njunit-jupiter-api 5.9.3\njunit-jupiter-engine 5.9.3\nweld-junit5 4.0.0.Final\n</code></pre>\n<p>What is my mistake or misunderstanding?</p>\n"},{"comments":[{"comment_id":134564343,"body":"If the class exposes the cache, sure, why not? If it is private only, then no (unless you are allowing Reflection)"}],"answers":[{"answer_id":76311430,"body":"<p>The phrasing of your question is a bit unclear, so if I'm answering the wrong question, please try rephrasing it.</p>\n<p>A Guava cache is a Java object like any other Java object. Its visibility can be as narrow or as wide as you want it to be. I would recommend making access to it available through a method (or methods) on the class it's in, rather than directly, since that keeps the pieces of your implementation better encapsulated. But it's totally up to you.</p>\n"}],"last_activity_date":1684818563,"question_id":76309139,"body":"<p>Is it possible to access the guava cache from any of the class within that project?</p>\n<p>Suppose if I create class cache <code>bannelUrl</code> within <code>FetchBanner.java</code>, can the values from <code>bannelUrl</code> from any other class other than <code>FetchBanner.java</code>?</p>\n"},{"last_activity_date":1684818411,"question_id":76311426,"body":"<p>Java catalog references snakeyaml as follows</p>\n<p>Java catalog build.gradle declaration\nlibrary('snakeyaml', 'org.yaml', 'snakeyaml').version('2.0')</p>\n<p>Compilation throws the following error, how to perform the exlcude in the java catalog itself to avoid loading the android.jar</p>\n<pre><code>* What went wrong:\nExecution failed for task ':compileTestJava'.\n&gt; Could not resolve all files for configuration ':testCompileClasspath'.\n   &gt; Could not find snakeyaml-2.0-android.jar (org.yaml:snakeyaml:2.0).\n     Searched in the following locations:\n         https://repo.maven.apache.org/maven2/org/yaml/snakeyaml/2.0/snakeyaml-2.0-android.jar\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n"},{"comments":[{"comment_id":134568235,"body":"First, note <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">the <code>HashMap</code> documentation</a> states: &quot;<i>This implementation provides constant-time performance for the basic operations (get and put), <b>assuming the hash function disperses the elements properly among the buckets</b></i>&quot;. And this is exactly why. The linked list you&#39;re seeing in the code is how <code>HashMap</code> handles two keys that hash to the same bucket. Figuring out which bucket to look at is still constant time, however. And you&#39;re <i>likely</i> still not iterating the entire key set."},{"comment_id":134568255,"body":"This is <a href=\"https://stackoverflow.com/q/4553624/555045\">well known</a> but also note that eventually a <a href=\"https://stackoverflow.com/q/31373648/555045\">tree is used instead of a linked list</a> (this is also visible in the code you quoted, but it doesn&#39;t show the conditions under which the tree is created)"},{"comment_id":134568260,"body":"So, yes, if somehow every key was hashed to the same bucket, then the performance degrades to O(n). Though if enough keys are hashed to the same bucket, then <code>HashMap</code> switches from a linked list to a balanced tree which, if I&#39;m not mistaken, keeps the performance to O(log(n))."}],"last_activity_date":1684817157,"question_id":76311356,"body":"<p>This is the documentation for HashMap.containsKey(). As you can see, it uses getNode(). I could be wrong, but it looks like the the hash map is still being iterated through, which would be linear time.</p>\n<pre><code>/**\n * Implements Map.get and related methods.\n *\n * @param key the key\n * @return the node, or null if none\n */\nfinal Node&lt;K,V&gt; getNode(Object key) {\n    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; first, e; int n, hash; K k;\n    if ((tab = table) != null &amp;&amp; (n = tab.length) &gt; 0 &amp;&amp;\n        (first = tab[(n - 1) &amp; (hash = hash(key))]) != null) {\n        if (first.hash == hash &amp;&amp; // always check first node\n            ((k = first.key) == key || (key != null &amp;&amp; key.equals(k))))\n            return first;\n        if ((e = first.next) != null) {\n            if (first instanceof TreeNode)\n                return ((TreeNode&lt;K,V&gt;)first).getTreeNode(hash, key);\n            do {\n                if (e.hash == hash &amp;&amp;\n                    ((k = e.key) == key || (key != null &amp;&amp; key.equals(k))))\n                    return e;\n            } while ((e = e.next) != null);\n        }\n    }\n    return null;\n}\n\n/**\n * Returns {@code true} if this map contains a mapping for the\n * specified key.\n *\n * @param   key   The key whose presence in this map is to be tested\n * @return {@code true} if this map contains a mapping for the specified\n * key.\n */\npublic boolean containsKey(Object key) {\n    return getNode(key) != null;\n}\n</code></pre>\n"},{"comments":[{"comment_id":134549474,"body":"Don&#39;t like to your code, include it in your question. Check the formatting help for how (basically, put three backticks (The &#39;`&#39; character) on a line, paste your code, another line with 3 backticks."},{"comment_id":134549527,"body":"Yes, this isn&#39;t a &quot;please check the code in the link&quot; help site, and in fact isn&#39;t even a help site per se, but rather a question and answer site, where we hope to have high quality questions and answers that are helpful to all -- to the original poster as well as to future visitors who come to the site for solutions to similar problems. Mainly for this reason, it is best to have all code and all important resources readily visible in your question as text (for code, as code-formatted text). Please check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> link for the details as well as the <a href=\"https://stackoverflow.com/help\">help center</a> link."},{"comment_id":134549810,"body":"split does not include the delimiter in the resulting array so there will never be a newline in it."},{"comment_id":134554217,"body":"I think you should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Are you saying that you are not getting your expected result?"},{"comment_id":134555274,"body":"Edited giving a minimal reproducible example. Yes, the result of the test is not the expected."}],"answers":[{"answer_id":76304258,"body":"<p>The <code>Scanner</code> class (Java 17 at least) uses the following regex to match a line separator:</p>\n<pre><code>\\r\\n|[\\n\\r\\u2028\\u2029\\u0085]\n</code></pre>\n<p>As you can see, this will match a CR, an LF or a CR followed by a LF<sup>1</sup>. After matching,  line separator at the end of the line is then removed, as per the javadoc.  That means that <code>readLine()</code> will NEVER return a line that ends with an LF (i.e. <code>'\\n'</code>) or a CR (i.e. <code>'\\r'</code>).</p>\n<blockquote>\n<p>Is there a way to read the text by lines without removing the delimiters?</p>\n</blockquote>\n<p>Not using <code>Scanner.nextLine()</code> or <code>BufferedReader.readLine()</code>.  If you really need to preserve the line separator, the simplest way is to use a <code>for</code> loop to read a characters from <code>BufferedReader</code>, recognize line separators, and assemble lines yourself.  You can then include the line separators in the line strings, or put them into a different variable.</p>\n<p>HOWEVER ... it is not obvious to me why you need to preserve the line separators if you are simply reading a CSV file.  If I was doing this, I would use <code>BufferedReader.readLine</code> to read each line, and then use a <code>Scanner</code> or <code>String.split</code> or something more sophisticated to deal with the commas and quotes.</p>\n<p>Or ... find and use a 3rd party CSV parser library and save the effort of implementing the code yourself.</p>\n<hr />\n<p><sup>1 - ... and some other obscure codes that you've probably never heard of.</sup></p>\n"}],"last_activity_date":1684816993,"question_id":76300685,"body":"<p>I have created a project using Java to simulate a Library, I have a method named &quot;Arrumbadas&quot; that return those publishings which have never been lend separated by a linefeed and a test that only checks if each line of this result (&quot;Arrumbadas&quot; method) has a linefeed at the end.</p>\n<p>I have implemented &quot;Arrumbadas&quot; method as follow:</p>\n<pre><code>(Omitted code)\n     result = new StringBuilder();\n      for(omitted code){\n       if(omitted code){\n         result.append(publishing).append(\\n)\n        }\n       }\n      return result.toString()\n</code></pre>\n<p>I have implemented the test as follow:</p>\n<pre><code>  public static boolean hasLineFeed(String t){\n        Scanner text = new Scanner(t);\n        while(text.hasNextLine()){\n            String line = text.nextLine();\n            System.out.println(line);\n            if(!line.endsWith(&quot;\\n&quot;) &amp;&amp; !line.isEmpty()){\n                return false;\n            }\n        }\n\n        return true;\n    }\n</code></pre>\n<p>Given this certain text:</p>\n<pre><code>&quot;9780547928227&quot;,&quot;The Hobbit&quot;,&quot;J.R.R. Tolkien&quot;,&quot;2&quot;,&quot;0&quot;,&quot;High fantasy&quot;\n&quot;9780316769174&quot;,&quot;The Catcher in the Rye&quot;,&quot;J.R.R. Tolkien&quot;,&quot;3&quot;,&quot;0&quot;,&quot;Coming-of-age fiction&quot;\n&quot;9780143124672&quot;,&quot;Moby-Dick&quot;,&quot;J.R.R. Tolkien&quot;,&quot;1&quot;,&quot;0&quot;,&quot;Adventure fiction&quot;\n</code></pre>\n<p>The output of the test is:</p>\n<pre><code>&quot;9780547928227&quot;,&quot;The Hobbit&quot;,&quot;J.R.R. Tolkien&quot;,&quot;2&quot;,&quot;0&quot;,&quot;High fantasy&quot;\nHas linefeed: false\n</code></pre>\n<p>Figure out that .hasNextLine() doesnt include the delimiter, neither does .split() that I had used it before. Is there a way to read the text by lines without removing the delimiters?</p>\n"},{"comments":[{"comment_id":134465383,"body":"I am sorry, I can’t follow. I think I need a representative assortment of example inputs with desired outputs."},{"comment_id":134466164,"body":"@OleV.V. The start date and end date are inputs the expected outputs are <code>startDateGeneration</code> and <code>endDateGeneration</code>"},{"comment_id":134466267,"body":"@OleV.V. Let me know if this helps or would you need more details"},{"comment_id":134475833,"body":"I am still far from understanding it all. So these are guesses, and you must deem whether they are right or not: 1. If start_month &gt; end_month, the row spans New Year. In this case a date is in the range if monthOfDate &lt;= end_month || monthOfDate &gt;= start_month. In the opposite case, not crossing New Year, the condition is monthOfDate &gt;= start_month &amp;&amp; monthOfDate &lt;= end_month. 2. Similarly if advance_start_month &gt; discount_start_month, then the “advance” period (whatever that is) starts the year before, so subtract 1 from the year."},{"comment_id":134480227,"body":"@OleV.V. 1. Your first condition should be <code>&amp;&amp;</code> 2. the advance_start_month will always be less than the discount_start_month"},{"comment_id":134480336,"body":"@OleV.V. I have edited the question and added more details with date examples, describing how the flow is . This should help you else let me know how I can help in further understanding."},{"comment_id":134480977,"body":"1. I put <code>||</code> (or) there on purpose. If the date is 2023-12-19, discount_start_month is 12 and end month 1, then if I do 12 &lt;= 1 &amp;&amp; 12 &gt;= 12, then it will never be true even thought the date is within the interval from December through January. With <code>||</code> it will be true for dates in December and January and no other dates.  2. In the FEB_MAR row discount_start_month is 2 and advance_start_month is 12. And 12 is not less than 2. I think this was why you asked that question to begin with? I am sorry, I am about to give up on helping you."},{"comment_id":134481514,"body":"@OleV.V. ` I think this was why you asked that question to begin with?`  the current logic is handled for Dececmber month what if the month was 10 or 11 in the <code>discount_start_month</code>. <code>I am sorry, I am about to give up on helping you.</code> Oops ! Is this a complex question or you are having trouble to understand it ?"},{"comment_id":134483793,"body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253674/discussion-between-ole-v-v-and-oldcode\">continue this discussion in chat</a>."}],"last_activity_date":1684816704,"question_id":76250521,"body":"<p>I have a logic where there are 2 dates and I need to compare these dates by iterating over a dataset which contains only Month information.</p>\n<p><a href=\"https://i.stack.imgur.com/uO4nG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uO4nG.png\" alt=\"enter image description here\" /></a></p>\n<p>Inputs are <strong>start date</strong> and <strong>end date</strong>.</p>\n<p>The idea is to query the row which these start and end dates are within the month's range by iterating over this dataset by seasonId. You would either get 101 or 100 not all records.</p>\n<p>When iterating over each row this function is invoked,</p>\n<p><code>fromMonth</code> -&gt; <code>discount_start_month</code> // from the the dataset</p>\n<p><code>toMonth</code> - &gt; <code>discount_end_month</code> // from the dataset</p>\n<p>This is how the YearMonth combinations would be derived in the below function from the above table using the <code>discount_start_month</code> and <code>discount_end_month</code>.</p>\n<p>Both the start date and end date will be checked if they are in the below ranges and then the corresponding row would be returned.</p>\n<p><a href=\"https://i.stack.imgur.com/z5c1i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z5c1i.png\" alt=\"enter image description here\" /></a></p>\n<p>This function will be called for all the rows. This process would repeat for end date as well for the same <code>seasonId</code></p>\n<p>These will be iterated</p>\n<pre><code>private static boolean isInRange(\n      LocalDate discountDate, Integer fromMonth, Integer toMonth) {\n    YearMonth fromMonthDiscount = YearMonth.of(discountDate.getYear(), fromMonth);\n    YearMonth toMonthDiscount = YearMonth.of(discountDate.getYear(), toMonth);\n    YearMonth yearMonthDiscountDate =\n        YearMonth.of(discountDate.getYear(), discountDate.getMonthValue());\n\n    if (fromMonth &gt; toMonth) {\n      if (discountDate.getMonthValue() == Constants.DEC_MONTH) {\n        toMonthDiscount = YearMonth.of(discountDate.getYear() + 1, toMonth);\n      } else if (discountDate.getMonthValue() == Constants.JAN_MONTH) {\n        fromMonthDiscount = YearMonth.of(discountDate.getYear() - 1, fromMonth);\n      }\n    }\n\n    return (yearMonthDiscountDate.isAfter(fromMonthDiscount)\n            || yearMonthDiscountDate.equals(fromMonthDiscount))\n        &amp;&amp; (yearMonthDiscountDate.isBefore(toMonthDiscount)\n            || yearMonthDiscountDate.equals(toMonthDiscount));\n  }\n</code></pre>\n<p>Lets say you have <code>FEB_MAR</code> matching for the start date: 02-02-2023 you store the entire DB row that contains the <code>FEB_MAR</code> in a Object lets say , <code>startDateDatabaseDetail</code></p>\n<p>And then lets say you have <code>SEPT_NOV</code> matching for the end date: 01-09-2023 you store the entire DB row that contains the <code>SEPT_NOV</code> in a Object lets say , <code>endDateDatabaseDetail</code></p>\n<p>When the corresponding rows from both the dates are fetched.</p>\n<p>Next step is as follows, create 2 date objects <code>startDateGeneration</code> and <code>endDateGeneration</code></p>\n<ol>\n<li><p>For the <code>startDateGeneration</code> <code>LocalDate</code> object,take the <code>advance_start_month</code> of the <code>FEB_MAR</code> which is <code>12</code>.\nSo now for this month you will have to calculate the year. the <code>start_year</code> is calculated with the below logic.(from <code>startDateDatabaseDetail</code>)</p>\n</li>\n<li><p>For the <code>endDateGeneration</code> <code>LocalDate</code> object take the <code>advance_end_month</code> of the <code>SEPT_NOV</code> which is <code>11</code>. So now for this month you will have to calculate the year, it is calculated as below,(from <code>endDateDatabaseDetail</code>).</p>\n<p>int startYear = fromDate.getYear();\nint endYear = toDate.getYear();</p>\n<pre><code> // Get the advance_start_month from the DB iterating object of the start date\n int advanceStartMonth = ....\n\n if(advanceStartMonth &gt;= Constants.OCT_MONTH &amp;&amp;\n     advanceStartMonth &lt;= Constants.DEC_MONTH &amp;&amp;\n     startYear == endYear) {\n     startYear = startYear - 1;\n }\n\n // Get the advance_start_month and advance_end_month from the DB iterating object of the end date  \n int discountResultStartMonth = //.......\n     int discountResultEndMonth = //........\n\n     if (discountResultStartMonth &gt; discountResultEndMonth) {\n         if (toDate.getMonthValue() == Constants.DEC_MONTH) {\n             endYear = endYear + 1;\n         }\n     }\n</code></pre>\n</li>\n</ol>\n<p>Logic for forming the dates to generate a range out of these,</p>\n<p><code>fromDateSeasonMap</code> -&gt; Dataset for 1 row from the above dataset(for start date)\n<code>toDateSeasonMap</code> -&gt; Dataset for 1 row from the above dataset(for end date)</p>\n<pre><code>LocalDate startDateGeneration =\n          fromDate\n              .withMonth((Integer) fromDateSeasonMap.get(Constants.ADVANCE_START_MONTH))\n              .withYear(startYear);\n      LocalDate endDateGeneration =\n          toDate\n              .withMonth((Integer) toDateSeasonMap.get(Constants.ADVANCE_END_MONTH))\n              .withYear(endYear)\n              .withDayOfMonth(\n                  YearMonth.of(endYear, (Integer) toDateSeasonMap.get(Constants.ADVANCE_END_MONTH))\n                      .atEndOfMonth()\n                      .getDayOfMonth());\n</code></pre>\n<p>Notes:</p>\n<ol>\n<li>At any given point of time there would be no overlapping months in the dataset.</li>\n<li>Only Months numerical data is present.</li>\n<li>There would be no values greater than 12 as there are only 12 months in a year.</li>\n</ol>\n<p>My Questions:</p>\n<ol>\n<li><p>How do I handle the logic for <code>isInRange</code> for months between years other than this range like from November(11) to February(2) dynamically ?</p>\n</li>\n<li><p>How do I handle the year generation logic based on the above dataset ? right now it is hardcoded for this data</p>\n</li>\n</ol>\n<p>Expected Input and output</p>\n<pre><code>Begin Input\nStart Date: 2023-08-01\nEnd Date: 2023-10-01\nstartDateGeneration: 2023-06-01\nendDateGeneration: 2023-11-30\n===================================\nBegin Input\nStart Date: 2023-09-01\nEnd Date: 2023-12-01\nstartDateGeneration: 2023-07-01\nendDateGeneration: 2024-01-31\n===================================\nBegin Input\nStart Date: 2023-01-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-11-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-01-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-11-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2022-10-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-08-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2022-08-30\nEnd Date: 2022-10-01\nstartDateGeneration: 2022-06-30\nendDateGeneration: 2022-12-31\n===================================\nBegin Input\nStart Date: 2022-08-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-06-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-04-30\nEnd Date: 2023-07-01\nstartDateGeneration: 2023-02-28\nendDateGeneration: 2023-07-31\n===================================\nBegin Input\nStart Date: 2023-06-30\nEnd Date: 2023-07-01\nstartDateGeneration: 2023-04-30\nendDateGeneration: 2023-07-31\n===================================\nBegin Input\nStart Date: 2023-08-30\nEnd Date: 2023-10-01\nstartDateGeneration: 2023-06-30\nendDateGeneration: 2023-12-31\n===================================\nBegin Input\nStart Date: 2023-10-30\nEnd Date: 2024-01-01\nstartDateGeneration: 2023-08-30\nendDateGeneration: 2024-03-31\n===================================\nBegin Input\nStart Date: 2022-12-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-10-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-01-30\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-10-30\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2022-10-01\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-07-01\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2022-12-01\nEnd Date: 2023-02-01\nstartDateGeneration: 2022-10-01\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-02-01\nEnd Date: 2023-04-01\nstartDateGeneration: 2022-12-01\nendDateGeneration: 2023-05-31\n===================================\nBegin Input\nStart Date: 2023-02-01\nEnd Date: 2023-03-01\nstartDateGeneration: 2022-12-01\nendDateGeneration: 2023-03-31\n===================================\nBegin Input\nStart Date: 2023-04-30\nEnd Date: 2023-06-01\nstartDateGeneration: 2023-02-28\nendDateGeneration: 2023-07-31\n===================================\nBegin Input\nStart Date: 2023-06-30\nEnd Date: 2023-08-01\nstartDateGeneration: 2023-04-30\nendDateGeneration: 2023-08-31\n===================================\n</code></pre>\n"},{"comments":[{"comment_id":134568142,"body":"Rename your class from <code>Exception</code> to something else"},{"comment_id":134568188,"body":"Avoid naming your class the same as a class in the standard library, especially if that standard library class is in the <code>java.lang</code> package. There is already a <code>java.lang.Exception</code> class. You have <code>catch (Exception e)</code>, but since your class is named <code>Exception</code> the code tries to use it instead of <code>java.lang.Exception</code>. Therefore, the code fails to compile because your class does not inherit from <code>Throwable</code>. So, as already stated, rename your class to something other than <code>Exception</code> (or any other standard library class name)."},{"comment_id":134568338,"body":"Even if it were compiling, you&#39;d have a division-by-zero error. (But maybe that&#39;s the expected behavior; you haven&#39;t told us what the error is nor what your expectations are)"}],"last_activity_date":1684816567,"question_id":76311322,"body":"<p>package helloworld;</p>\n<p>public class Exception {</p>\n<pre><code>public static void main(String[] args) {\n    int A=0;\n    int b=0;\n    try\n    {\n        b=b/A;\n    }\n    catch(Exception e){\n    \n        System.out.println(&quot;statemrnt went wrong&quot;+e);\n    }\n    System.out.println(b);\n\n}\n</code></pre>\n<p>}</p>\n<p>error check in that program</p>\n"},{"comments":[{"comment_id":134573063,"body":"You can <a href=\"https://stackoverflow.com/posts/76311315/edit\">edit</a> your question to replace those screenshots of text with formatted text. See why you should not upload <a href=\"https://meta.stackoverflow.com/a/285557/12567365\">images of code, data, errors</a> when asking a question. You can also read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and browse topics in the <a href=\"https://stackoverflow.com/help\">help center</a>."},{"comment_id":134573102,"body":"There may be more specific and relevant error messages in Tomcat&#39;s log files - which are probably in <code>&#47;opt&#47;tomcat&#47;logs&#47;catalina*.log</code>."}],"last_activity_date":1684816357,"question_id":76311315,"body":"<p>Hello I am new at this server admin thing, and ran into some problem while trying to start up tomcat. I followed this link step by step on how to install tomcat for our ubuntu 20.04 server <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-10-on-ubuntu-20-04\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-install-apache-tomcat-10-on-ubuntu-20-04</a>\nbut when I reach the part where you have to check the status of tomcat it shows Main PID: 102174 (code=exited, status=1/FAILURE).</p>\n<p><a href=\"https://i.stack.imgur.com/kibYW.png\" rel=\"nofollow noreferrer\">Tomcat error message</a></p>\n<p>I entered journalctl -xe to see what was wrong and it showed me this.</p>\n<p><a href=\"https://i.stack.imgur.com/ktYx4.png\" rel=\"nofollow noreferrer\">journalctl -xe results</a></p>\n<p>This is my information of and version of the java inside the server</p>\n<p><a href=\"https://i.stack.imgur.com/hPGPe.png\" rel=\"nofollow noreferrer\">java</a></p>\n<p>and this is what is inside the tomcat.service in systemd</p>\n<p><a href=\"https://i.stack.imgur.com/mtuyt.png\" rel=\"nofollow noreferrer\">tomcat.service</a></p>\n<p>I just want to know how to get the tomcat in the server working without the error message.</p>\n"},{"answers":[{"comments":[{"comment_id":123118100,"body":"Thx but the answear to this question is much more complex...  Your link helped me in my search...i read this instead [ <a href=\"https://spring.io/blog/2014/03/07/deploying-spring-boot-applications\" rel=\"nofollow noreferrer\">spring.io/blog/2014/03/07/deploying-spring-boot-applications</a> ] and basically understood what i need to do , to deploy my project in other AS like another tomcat or JavaEE old deployment style like a war file. Wich is my goal."}],"answer_id":69649564,"body":"<p>You need to override the properties in the parent pom.xml .</p>\n<pre><code>&lt;properties&gt;\n......\n    &lt;tomcat.version&gt;10.0.11&lt;/tomcat.version&gt;\n......\n&lt;properties&gt;\n</code></pre>\n<p><a href=\"https://www.springboottutorial.com/spring-boot-starter-parent\" rel=\"nofollow noreferrer\">This link</a> can be helpful in your case .</p>\n"}],"last_activity_date":1684816272,"question_id":69649041,"body":"<p>How to change deployment server for project in spring tool suite 4 eclipse to another A.S. like another tomcat outside embembed tomcat?</p>\n<p>So I have dowloaded Spring Tool Suite package pre installed in eclipse from <a href=\"https://spring.io/tools\" rel=\"nofollow noreferrer\">here</a> and followed a basic tutorial to start building a maven REST webservice app.\nEverything works very well, I have well builded project structure, connects to Postgres DB... etc.</p>\n<p>Later I noticed that this app runs on an internal tomcat server in this development &quot;pack&quot;, meaning there are no servers displayed.</p>\n<p><a href=\"https://i.stack.imgur.com/Nf72D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nf72D.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried to add to eclipse the latest tomcat server ( 10 at the time ) but my project doesn´t show up to add.</p>\n<p><a href=\"https://i.stack.imgur.com/Dh96E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dh96E.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/AJmxC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AJmxC.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/53h6J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/53h6J.png\" alt=\"Spring Tool Suite 4\" /></a></p>\n"},{"answers":[{"answer_id":14248682,"body":"<p>The easiest thing to do would be to click the debug icon instead of the run icon in JDeveloper - that will start your WebLogic in debug mode and you'll be able to debug your JSPs.</p>\n\n<p><a href=\"https://blogs.oracle.com/shay/entry/introduction_to_the_adf_debugger\" rel=\"nofollow\">https://blogs.oracle.com/shay/entry/introduction_to_the_adf_debugger</a></p>\n\n<p>You can also start WebLogic itself with debug parameters \n<a href=\"http://www.oracle.com/technetwork/developer-tools/jdev/remotedebugwls-086628.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/developer-tools/jdev/remotedebugwls-086628.html</a></p>\n"},{"answer_id":14964714,"body":"<p>As Shay mentioned, you could just debug your project instead of running it. To set the debug params, just goto :</p>\n\n<pre><code>project properties - run debug - launch settings - java options and add all your params\n</code></pre>\n"},{"answer_id":39098756,"body":"<p>Another option - start Weblogic in debug mode and connect to it using remote debugger from JDeveloper.</p>\n"}],"last_activity_date":1684814881,"question_id":14193616,"body":"<p>For  some reason, instead of target jspx page i am gettin the error</p>\n\n<pre><code>OracleJSP error: java.io.FileNotFoundException:\n\nSet the init-param debug_mode to \"true\" to see the complete exception message.\n</code></pre>\n\n<p>(thats it, no file name).</p>\n\n<p>But i have no idea where to set this init-param.</p>\n\n<p>As far as i googled, everyone suggesting (well, back in 2001-2009 years) to set it in <code>global-web-application.xml</code> file, but it seems missing in modern JDeveloper setup.</p>\n\n<p>Also ones are suggesting to add init-param in <code>web.xml</code> (which is exists), but to non-existing section:</p>\n\n<pre><code>&lt;servlet&gt;\n  &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;oracle.jsp.runtimev2.JspServlet&lt;/servlet-class&gt;\n</code></pre>\n\n<p>So i am confused. Where should i add this init-param in modern (11.1.1.6.0+) JDeveloper setups?</p>\n"},{"comments":[{"comment_id":134567873,"body":"Printing things to the screen takes time too, you know. It takes <i>significantly</i> more time than doing some calculations and moving things around in memory."},{"comment_id":134567913,"body":"Please read the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> page for tips on how to improve this question; For starters, ensure your title actually reflects the question (instead of some random commentary)"},{"comment_id":134567917,"body":"thank you, you are completly rigth i tried to print the number of steps in both cases an the count its  just equal"},{"comment_id":134569098,"body":"Why is the code that obfuscated?"},{"comment_id":134573280,"body":"Edit your subject to remove offensive language."}],"last_activity_date":1684813768,"question_id":76311187,"body":"<p>I was just solving a algorithmic problem (not importan, just a trivial algorithm) an something un-expected happend; when i do not print-debbug inside  an infinite while-cicle [while(true)] the program comes succesfully to an end otherwise if i try to print-debug inside the while-cycle the program continues enlessly WHY?\n<a href=\"https://i.stack.imgur.com/LGQdi.png\" rel=\"nofollow noreferrer\">succesfull run </a></p>\n<p>less than 2 minutes of execution.</p>\n<p><a href=\"https://i.stack.imgur.com/tI2pJ.png\" rel=\"nofollow noreferrer\">enless execution example</a></p>\n<pre><code>package classes;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class prue {\n    public static void main(String[] args) {\n        List&lt;Integer&gt; ar = new ArrayList&lt;&gt;();\n                        \n        ar.add(2);\n        ar.add(3);\n        ar.add(1);\n        ar.add(5);\n        ar.add(7);\n        ar.add(6);\n        ar.add(21);\n        ar.add(7);\n        ar.add(11);\n        ar.add(9);\n        ar.add(0);\n        ar.add(2);\n        \n        \n        ar=intermediate.suma(3-1,11-1,11-1,ar); //1\n    \n        ar=intermediate.suma(1-1,ar.get(9-1),5-1, ar); //2\n        \n        \n        \n        \n        \n        \n        \n        boolean flag = false;\n        \n        do {\n            ar=intermediate.multi(12-1,12-1,12-1,ar); //3\n            \n            System.out.println(ar);\n            if(ar.get(5-1)==ar.get(10-1)) { //4\n                break;\n            }\n            \n            ar.set(12-1,ar.get(12-1)-2); //5\n            \n            ar = intermediate.suma(5-1,2-1,5-1,ar); //6\n        \n        }while(!flag);\n        System.out.println(ar);\n        \n        ar=intermediate.resta(7-1,5-1,8-1, ar);\n        \n        ar=intermediate.suma(12-1,8-1,6-1,ar);\n        \n        System.out.println(ar.size());\n        System.out.println(ar.get(6-1));\n        \n        \n        \n    }\n    \n    class intermediate{\n        public static List&lt;Integer&gt; suma(int pos1,int pos2,int pos_res,List&lt;Integer&gt; ar){\n            \n            ar.set(pos_res,ar.get(pos1)+ar.get(pos2));\n            \n            return ar;\n        }\n        \n        public static List&lt;Integer&gt; resta(int pos1,int pos2,int pos_res,List&lt;Integer&gt; ar){\n            \n            ar.set(pos_res,ar.get(pos1)-ar.get(pos2));\n            \n            return ar;\n        }\n        \n        public static List&lt;Integer&gt; multi(int pos1,int pos2,int pos_res,List&lt;Integer&gt; ar){\n            \n            ar.set(pos_res,ar.get(pos1)*ar.get(pos2));\n            \n            return ar;\n        }\n    }\n</code></pre>\n<p>the expected output was 12 16</p>\n"},{"comments":[{"comment_id":134567244,"body":"for comparing PDFA-levels there are many on and offline tools possibly simplest is <a href=\"https://bfo.com/blog/2017/11/08/verify_pdfa_online/\" rel=\"nofollow noreferrer\">bfo.com/blog/2017/11/08/verify_pdfa_online</a> where /A-2b is listed, but 2MB limit"},{"comment_id":134568243,"body":"@KJ, I need to check pdf/a-2b compliance using pdfbox or any other java library. Is there any way to check that?"},{"comment_id":134569932,"body":"Try VeraPDF, this is a EU funded checker"}],"answers":[{"answer_id":76311183,"body":"<p>The file is tolerated by some PDF applications, as many will fix such discrepancies but pdf box is detecting many oddities, I did not try to spend much time but the comments seemed potentially valid thus the file is potentially non conformant.</p>\n<pre><code>The file Doc1-withHelvetica-pdfa1b.pdf is not a valid PDF/A-1b file, error(s) :\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 32264 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Length}:COSInt{8702};COSName{Subtype}:COSName{XML};COSName{Type}:COSName{Metadata};}; defined length=8702; actual length=8702, starting offset=23561\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 35134 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{2574};COSName{N}:COSInt{3};COSName{Range}:COSArray{COSFloat{0.0};COSFloat{1.0};0;1065353216;0;1065353216;};}; defined length=2574; actual length=2574, starting offset=32559\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 1562 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{202};}; defined length=202; actual length=202, starting offset=1359\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 4486 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Alternate}:COSName{DeviceRGB};COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{2612};COSName{N}:COSInt{3};}; defined length=2612; actual length=2612, starting offset=1873\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 4640 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{17};}; defined length=17; actual length=17, starting offset=4622\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 15067 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{10342};COSName{Length1}:COSInt{27968};}; defined length=10342; actual length=10342, starting offset=4724\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 16081 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{407};}; defined length=407; actual length=407, starting offset=15673\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 22792 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{6627};COSName{Length1}:COSInt{15080};}; defined length=6627; actual length=6627, starting offset=16164\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 23435 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{Length}:COSInt{355};}; defined length=355; actual length=355, starting offset=23079\n1.2.2 : Body Syntax error, Expected 'EOL' before the endstream keyword at offset 822 but found '101'\n1.2.5 : Body Syntax error, Stream length is invalid [dic=COSDictionary{COSName{Filter}:COSName{FlateDecode};COSName{I}:COSInt{93};COSName{Length}:COSInt{85};COSName{S}:COSInt{39};}; defined length=85; actual length=85, starting offset=736\n</code></pre>\n<p>So on the face of it I simply rebuilt the file using &quot;clean&quot; in MuPDF and reran for validation in PDF box.</p>\n<p><code>C:\\Apps\\PDF\\inspectors\\Apache\\preflight-app-3.0.0-alpha3.jar Doc1-withHelvetica-pdfa1ba.pdf</code></p>\n<blockquote>\n<p>The file Doc1-withHelvetica-pdfa1ba.pdf is a valid PDF/A-1b file</p>\n</blockquote>\n<p>HOWEVER catch 22, now it fails others validations as it reports</p>\n<blockquote>\n<p>The PDF structure was damaged but has been repaired. Depending on the extent of the damage, some data may theoretically have been lost (although typically this is unlikely).</p>\n</blockquote>\n<p>So recycle by remove PDF/A compatibility and see what's wrong by regenerate as PDF/A and now the report is there is at least 1 bad font definition for Calibri (not surprising as it was previously a word document printout.) What is not obvious is there is a rogue Calibri space character at the end of the line that contains Helvetica Bold and on removal, then that reports other problems so another run through the Editors and finally with all the dross removed, both agree no more problems.</p>\n<p><a href=\"https://i.stack.imgur.com/UTHpe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UTHpe.png\" alt=\"enter image description here\" /></a></p>\n"}],"last_activity_date":1684813691,"question_id":76308725,"body":"<p>I am using following code to detect whether a file is PDF/A-1b file or not?</p>\n<pre><code>public boolean isPDF_A1BFile(File file) throws IOException {\n        PreflightParser parser = new PreflightParser(file);\n        parser.parse(Format.PDF_A1B);\n        PreflightDocument preflightDocument = parser.getPreflightDocument();\n        preflightDocument.validate();\n\n        ValidationResult validationResult = preflightDocument.getResult();\n        \n        return validationResult.isValid(); //Return false in every case\n    }\n</code></pre>\n<p>But it is always returning false irrespective of file is PDF/A-1b or not. I am using this <a href=\"https://drive.google.com/file/d/1kCd1vcRuqTKPR8DTRnunWr7CEZLyYmyN/view?usp=sharing\" rel=\"nofollow noreferrer\">pdf/a-1b file</a>. I have validated using preflight tool in acrobat and it is saying that the file is PDF/A-1b compliance. Sharing the screenshot for the same<a href=\"https://i.stack.imgur.com/AgWBl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AgWBl.png\" alt=\"enter image description here\" /></a>\nCan anyone please tell me whats wrong in my code or am I missing something?</p>\n<p>Also, is there any way where I can check that the file is PDF/A-<strong>2B</strong> compliance or not?</p>\n"},{"answers":[{"comments":[{"comment_id":1775789,"body":"See also LinkedHashSet, if you wish to retain the order."},{"comment_id":12679403,"body":"But this will just create the set without duplicates , I want to know which number was duplicate in O(n) time"},{"comment_id":13463287,"body":"Chetan, finding the items in O(n) is possible if the set of possible values is small (think Byte or Short); a BitSet or similar can then be used to store and look up already encountered values in O(1) time. But then again - with such a small value set, doing it in O(n log n) might not be a problem anyway since n is low. (This comment is not applicable to original poster, who needs to do this with String.)"},{"comment_id":14567963,"body":"@Chetan finding all duplicates from ArrayList in O(n), its important to have correctly defined equals method on objects which you have in the list (no problem for numbers):  <code>public Set&lt;Object&gt; findDuplicates(List&lt;Object&gt; list)       {           Set&lt;Object&gt; items = new HashSet&lt;Object&gt;();           Set&lt;Object&gt; duplicates = new HashSet&lt;Object&gt;();           for (Object item : list) {               if (items.contains(item)) {                   duplicates.add(item);               } else {                   items.add(item);               }           }           return duplicates;       }</code>"},{"comment_id":25984041,"body":"this is great, and it gets even better if you change HashSet to LinkedHashSet"},{"comment_id":27207372,"body":"A good practice would be to define variables using the interface types <code>List</code> and <code>Set</code> (instead of implementation types <code>ArrayList</code> and <code>HashSet</code> as in your example)."},{"comment_id":31156069,"body":"You can clean this up by using <code>new HashSet(al)</code> instead of initializing it to empty and calling <code>addAll</code>."},{"comment_id":52034280,"body":"can I add rules for setting what&#39;s duplicate to me? For example: when my <code>Object</code> has several values if two of them repeat I consider them as duplicate (other values can be different) and use <code>Set</code>?"},{"comment_id":55188348,"body":"@jonathan-stafford nice and useful peace of code. voteup"},{"comment_id":64849586,"body":"One reason that I am force to use collection instead of set is due to HTTP API calls. The API returns a POJO of certain objects, I need to act data on it so I really need it not to be duplicated. For some reason, it wasn&#39;t part of the API, to return to me a list of non-duplicated data, I cannot wait until it is developed so I must find a way to present a list with no duplicates."},{"comment_id":65702570,"body":"And the OneLiner would be: <code>myArrayList = new ArrayList(new HashSet(myArrayList));</code> (But just do it if you really need the ArrayList before AND after this line!)"},{"comment_id":65713370,"body":"@jeand&#39;arme If you use a TreeSet instead of a HashSet, you can define your own Comparator to use, and the TreeSet will consider two items to be duplicates if the Comparators .compare(e1, e2) returns 0. Note that this will destroy the existing order of the arraylist."},{"comment_id":93488919,"body":"what is the time complexity ?"},{"comment_id":106872597,"body":"not working with ArrayList having model instead of string ."},{"comment_id":109987647,"body":"Alternative: <code>Set&lt;Object&gt; set = new HashSet&lt;&gt;(); yourList.removeIf(x -&gt; !set.add(x));</code> The advantage is that this alternative allows you to decide what to use in the <code>set.add(…)</code> expression, for your particular notion of “duplicate”. It’s also independent of the list’s actual elements type. It also retains the order, regardless of whether the set maintains the order or not. Also usable with a <code>TreeSet</code> (e.g. with custom comparator) instead of <code>HashSet</code>."},{"comment_id":126905868,"body":"For those, who have problem in understanding ArrayList&lt;Integer&gt; arrList3 = new ArrayList&lt;Integer&gt;(Arrays.asList(1, 23, 1, 3, 3, 2, 3, 2, 12, 67, 23, 12, 34, 9)); Collection&lt;Integer&gt; set = new HashSet&lt;&gt;(arrList3); arrList3.clear(); arrList3.addAll(set); System.out.println(set);"}],"answer_id":203992,"body":"<p>If you don't want duplicates in a <code>Collection</code>, you should consider why you're using a <code>Collection</code> that allows duplicates. The easiest way to remove repeated elements is to add the contents to a <code>Set</code> (which will not allow duplicates) and then add the <code>Set</code> back to the <code>ArrayList</code>:</p>\n\n<pre><code>Set&lt;String&gt; set = new HashSet&lt;&gt;(yourList);\nyourList.clear();\nyourList.addAll(set);\n</code></pre>\n\n<p>Of course, this destroys the ordering of the elements in the <code>ArrayList</code>.</p>\n"},{"comments":[{"comment_id":67746864,"body":"Similarly at the bottom of the thread, I have given an answer where I am using Set for Custom Object. In a case if anyone have custom object like &quot;Contact&quot; or &quot;Student&quot; can use that answer that works fine for me."},{"comment_id":97761932,"body":"The problem comes when you have to specifically access an element. For instance when binding an object to a list item view in Android, you are given its index. So <code>Set</code> cannot be used here."},{"comment_id":107417782,"body":"How can I aproach this when the list is an object list"}],"answer_id":203997,"body":"<p>If you don't want duplicates, use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Set.html\" rel=\"noreferrer\">Set</a> instead of a <code>List</code>. To convert a <code>List</code> to a <code>Set</code> you can use the following code:</p>\n\n<pre><code>// list is some List of Strings\nSet&lt;String&gt; s = new HashSet&lt;String&gt;(list);\n</code></pre>\n\n<p>If really necessary you can use the same construction to convert a <code>Set</code> back into a <code>List</code>.</p>\n"},{"comments":[{"comment_id":6714661,"body":"Does LinkedHashSet make any guarantees as to which of several duplicates are kept from the list?  For instance, if position 1, 3, and 5 are duplicates in the original list, can we assume that this process will remove 3 and 5?  Or maybe remove 1 and 3?  Thanks."},{"comment_id":6727886,"body":"@Matt: yes, it does guarantee that. The <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\">docs</a> say: &quot;This linked list defines the iteration ordering, which is the order in which elements were inserted into the set (insertion-order). Note that insertion order is not affected if an element is re-inserted into the set.&quot;"},{"comment_id":13059427,"body":"Very interesting. I have a different situation here. I am not trying to sort String but another object called AwardYearSource. This class has an int attribute called year. So I want to remove duplicates based on the year. i.e if there is year 2010 mentioned more than once, I want to remove that AwardYearSource object. How can I do that?"},{"comment_id":14568322,"body":"@WowBow For example you can define Wrapper object which holds AwardYearSource. And define this Wrapper objects equals method based on AwardYearSources year field. Then you can use Set with these Wrapper objects."},{"comment_id":19813078,"body":"@WowBow or implement Comparable/Comparator"}],"answer_id":204004,"body":"<p>Although converting the <code>ArrayList</code> to a <code>HashSet</code> effectively removes duplicates, if you need to preserve insertion order, I'd rather suggest you to use this variant</p>\n\n<pre><code>// list is some List of Strings\nSet&lt;String&gt; s = new LinkedHashSet&lt;&gt;(list);\n</code></pre>\n\n<p>Then, if you need to get back a <code>List</code> reference, you can use again the conversion constructor.</p>\n"},{"answer_id":204766,"body":"<p>As said before, you should use a class implementing the Set interface instead of List to be sure of the unicity of elements. If you have to keep the order of elements, the SortedSet interface can then be used; the TreeSet class implements that interface.</p>\n"},{"comments":[{"comment_id":1601599,"body":"Why use ArrayList in parameter? Why not just List? Will that not work?"},{"comment_id":1775769,"body":"A List will absolutely <i>work</i> as in-parameter for the first method listed. The method is however <i>optimized</i> for use with a random access list such as ArrayList, so if a LinkedList is passed instead you will get poor performance. For example, setting the n:th element in a LinkedList takes O(n) time, whereas setting the n:th element in a random access list (such as ArrayList) takes O(1) time. Again, though, this is probably overkill... If you need this kind of specialized code it will hopefully be in an isolated situation."}],"answer_id":215212,"body":"<p>Probably a bit overkill, but I enjoy this kind of isolated problem. :)</p>\n\n<p>This code uses a temporary Set (for the uniqueness check) but removes elements directly inside the original list. Since element removal inside an ArrayList can induce a huge amount of array copying, the remove(int)-method is avoided.</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicates(ArrayList&lt;T&gt; list) {\n    int size = list.size();\n    int out = 0;\n    {\n        final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\n        for (int in = 0; in &lt; size; in++) {\n            final T t = list.get(in);\n            final boolean first = encountered.add(t);\n            if (first) {\n                list.set(out++, t);\n            }\n        }\n    }\n    while (out &lt; size) {\n        list.remove(--size);\n    }\n}\n</code></pre>\n\n<p>While we're at it, here's a version for LinkedList (a lot nicer!):</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicates(LinkedList&lt;T&gt; list) {\n    final Set&lt;T&gt; encountered = new HashSet&lt;T&gt;();\n    for (Iterator&lt;T&gt; iter = list.iterator(); iter.hasNext(); ) {\n        final T t = iter.next();\n        final boolean first = encountered.add(t);\n        if (!first) {\n            iter.remove();\n        }\n    }\n}\n</code></pre>\n\n<p>Use the marker interface to present a unified solution for List:</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicates(List&lt;T&gt; list) {\n    if (list instanceof RandomAccess) {\n        // use first version here\n    } else {\n        // use other version here\n    }\n}\n</code></pre>\n\n<p>EDIT: I guess the generics-stuff doesn't really add any value here.. Oh well. :)</p>\n"},{"comments":[{"comment_id":56024369,"body":"This answer lacks two things: 1) It does not use generics, but raw types (<code>ArrayList&lt;T&gt;</code> should be used instead of <code>ArrayList</code>) 2) The explicit iterator creating can be avoided by using a <code>for (T current : l1) { ... }</code>. Even if you wanted to use an <code>Iterator</code> explicitly, <code>iterador</code> is misspelled."},{"comment_id":64039697,"body":"And this implementation runs in quadratic time, compared to the linked hash set implementation running in linear time. (i.e. this takes 10 times longer on a list with 10 elements, 10,000 times longer on a list with 10,000 elements. JDK 6 implementation for <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b27/java/util/ArrayList.java#ArrayList.indexOf%28java.lang.Object%29\" rel=\"nofollow noreferrer\">ArrayList.contains</a>, JDK8 impl is the same.)"}],"answer_id":4547382,"body":"<p>Here's a way that doesn't affect your list ordering:</p>\n\n<pre><code>ArrayList l1 = new ArrayList();\nArrayList l2 = new ArrayList();\n\nIterator iterator = l1.iterator();\n\nwhile (iterator.hasNext()) {\n    YourClass o = (YourClass) iterator.next();\n    if(!l2.contains(o)) l2.add(o);\n}\n</code></pre>\n\n<p>l1 is the original list, and l2 is the list without repeated items\n(Make sure YourClass has the equals method according to what you want to stand for equality)</p>\n"},{"answer_id":5618571,"body":"<p>When you are filling the ArrayList, use a condition for each element. For example:</p>\n\n<pre><code>    ArrayList&lt; Integer &gt; al = new ArrayList&lt; Integer &gt;(); \n\n    // fill 1 \n    for ( int i = 0; i &lt;= 5; i++ ) \n        if ( !al.contains( i ) ) \n            al.add( i ); \n\n    // fill 2 \n    for (int i = 0; i &lt;= 10; i++ ) \n        if ( !al.contains( i ) ) \n            al.add( i ); \n\n    for( Integer i: al )\n    {\n        System.out.print( i + \" \");     \n    }\n</code></pre>\n\n<p>We will get an array {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10}</p>\n"},{"comments":[{"comment_id":80911620,"body":"Note that there is an <code>ImmutableSet.asList()</code> method, returning an <code>ImmutableList</code>, if you need it back as a <code>List</code>."}],"answer_id":8452741,"body":"<p>There is also <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/ImmutableSet.html\" rel=\"noreferrer\"><code>ImmutableSet</code></a> from <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> as an option (<a href=\"https://github.com/google/guava/wiki/ImmutableCollectionsExplained\" rel=\"noreferrer\">here</a> is the documentation):</p>\n\n<pre><code>ImmutableSet.copyOf(list);\n</code></pre>\n"},{"answer_id":8962127,"body":"<pre><code>for(int a=0;a&lt;myArray.size();a++){\n        for(int b=a+1;b&lt;myArray.size();b++){\n            if(myArray.get(a).equalsIgnoreCase(myArray.get(b))){\n                myArray.remove(b); \n                dups++;\n                b--;\n            }\n        }\n}\n</code></pre>\n"},{"answer_id":12665409,"body":"<pre><code>import java.util.*;\nclass RemoveDupFrmString\n{\n    public static void main(String[] args)\n    {\n\n        String s=\"appsc\";\n\n        Set&lt;Character&gt; unique = new LinkedHashSet&lt;Character&gt; ();\n\n        for(char c : s.toCharArray()) {\n\n            System.out.println(unique.add(c));\n        }\n        for(char dis:unique){\n            System.out.println(dis);\n        }\n\n\n    }\n}\n</code></pre>\n"},{"answer_id":14126093,"body":"<p>LinkedHashSet will do the trick.</p>\n\n<pre><code>String[] arr2 = {\"5\",\"1\",\"2\",\"3\",\"3\",\"4\",\"1\",\"2\"};\nSet&lt;String&gt; set = new LinkedHashSet&lt;String&gt;(Arrays.asList(arr2));\nfor(String s1 : set)\n    System.out.println(s1);\n\nSystem.out.println( \"------------------------\" );\nString[] arr3 = set.toArray(new String[0]);\nfor(int i = 0; i &lt; arr3.length; i++)\n     System.out.println(arr3[i].toString());\n</code></pre>\n\n<p>//output: 5,1,2,3,4</p>\n"},{"answer_id":18504616,"body":"<pre><code>public Set&lt;Object&gt; findDuplicates(List&lt;Object&gt; list) {\n        Set&lt;Object&gt; items = new HashSet&lt;Object&gt;();\n        Set&lt;Object&gt; duplicates = new HashSet&lt;Object&gt;();\n        for (Object item : list) {\n            if (items.contains(item)) {\n                duplicates.add(item);\n                } else { \n                    items.add(item);\n                    } \n            } \n        return duplicates;\n        }\n</code></pre>\n"},{"comments":[{"comment_id":82254329,"body":"I liked this solution better."}],"answer_id":19305534,"body":"<p>this can solve the problem:</p>\n\n<pre><code>private List&lt;SomeClass&gt; clearListFromDuplicateFirstName(List&lt;SomeClass&gt; list1) {\n\n     Map&lt;String, SomeClass&gt; cleanMap = new LinkedHashMap&lt;String, SomeClass&gt;();\n     for (int i = 0; i &lt; list1.size(); i++) {\n         cleanMap.put(list1.get(i).getFirstName(), list1.get(i));\n     }\n     List&lt;SomeClass&gt; list = new ArrayList&lt;SomeClass&gt;(cleanMap.values());\n     return list;\n}\n</code></pre>\n"},{"answer_id":19334383,"body":"<p>If you want to preserve your Order then it is best to use <strong>LinkedHashSet</strong>.\nBecause if you want to pass this List to an Insert Query by Iterating it, the order would be preserved.</p>\n\n<p>Try this</p>\n\n<pre><code>LinkedHashSet link=new LinkedHashSet();\nList listOfValues=new ArrayList();\nlistOfValues.add(link);\n</code></pre>\n\n<p>This conversion will be very helpful when you want to return a List but not a Set.</p>\n"},{"comments":[{"comment_id":28833455,"body":"It&#39;s slow and you might get a ConcurrentModificationException."},{"comment_id":28835203,"body":"@maaartinus Have you tried that code ?. It won&#39;t produce any exceptions.Also it is pretty fast. I tried the code before posting."},{"comment_id":28835623,"body":"You&#39;re right, it doesn&#39;t as you iterate the array instead of the list. However, it&#39;s slow like hell. Try it with a few millions elements. Compare it to <code>ImmutableSet.copyOf(lst).toList()</code>."},{"comment_id":61641279,"body":"answers the question I was asked in the interview .. How to remove repeated values from an ArrayList without using Sets. Thanx"},{"comment_id":64042233,"body":"Internally, <code>indexOf</code> iterates the <code>lst</code> using a for loop."}],"answer_id":19434592,"body":"<p>It is possible to remove duplicates from arraylist without using <strong>HashSet</strong> or <strong>one more arraylist</strong>. </p>\n\n<p>Try this code..</p>\n\n<pre><code>    ArrayList&lt;String&gt; lst = new ArrayList&lt;String&gt;();\n    lst.add(\"ABC\");\n    lst.add(\"ABC\");\n    lst.add(\"ABCD\");\n    lst.add(\"ABCD\");\n    lst.add(\"ABCE\");\n\n    System.out.println(\"Duplicates List \"+lst);\n\n    Object[] st = lst.toArray();\n      for (Object s : st) {\n        if (lst.indexOf(s) != lst.lastIndexOf(s)) {\n            lst.remove(lst.lastIndexOf(s));\n         }\n      }\n\n    System.out.println(\"Distinct List \"+lst);\n</code></pre>\n\n<p>Output is</p>\n\n<pre><code>Duplicates List [ABC, ABC, ABCD, ABCD, ABCE]\nDistinct List [ABC, ABCD, ABCE]\n</code></pre>\n"},{"comments":[{"comment_id":66275539,"body":"How do i do this for case insensitive distinct ?"},{"comment_id":81162138,"body":"@StackFlowed If you don&#39;t need to preserve the order of the list you can <code>addAll</code> to <code>new TreeSet&lt;String&gt;(String.CASE_INSENSITIVE_ORDER)</code>.  The first element added will remain in the set so if your list contains &quot;Dog&quot; and &quot;dog&quot; (in that order) the <code>TreeSet</code> will contain &quot;Dog&quot;. If order must be preserved then before the line in the answer put <code>list.replaceAll(String::toUpperCase);</code>."},{"comment_id":86316160,"body":"I am getting this error :incompatible types: List&lt;Object&gt; cannot be converted to List&lt;String&gt;"},{"comment_id":105901507,"body":"This is a simple solution in general but how do you remove the duplicates from an Arraylist of int[]?"}],"answer_id":23177411,"body":"<p>In Java 8:</p>\n\n<pre><code>List&lt;String&gt; deduped = list.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p>Please note that the <a href=\"https://stackoverflow.com/questions/2265503/why-do-i-need-to-override-the-equals-and-hashcode-methods-in-java\">hashCode-equals</a> contract for list members should be respected for the filtering to work properly.</p>\n"},{"answer_id":24205781,"body":"<pre><code>    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    HashSet&lt;String&gt; unique = new LinkedHashSet&lt;String&gt;();\n    HashSet&lt;String&gt; dup = new LinkedHashSet&lt;String&gt;();\n    boolean b = false;\n    list.add(\"Hello\");\n    list.add(\"Hello\");\n    list.add(\"how\");\n    list.add(\"are\");\n    list.add(\"u\");\n    list.add(\"u\");\n\n    for(Iterator iterator= list.iterator();iterator.hasNext();)\n    {\n        String value = (String)iterator.next();\n        System.out.println(value);\n\n        if(b==unique.add(value))\n            dup.add(value);\n        else\n            unique.add(value);\n\n\n    }\n    System.out.println(unique);\n    System.out.println(dup);\n</code></pre>\n"},{"comments":[{"comment_id":40321736,"body":"Why would you post a quadratic solution to a question that already has 2-year-old linear and log-linear solutions, that are also simpler?"}],"answer_id":25780946,"body":"<p>If you want to remove duplicates from ArrayList means find the below logic,</p>\n\n<pre><code>public static Object[] removeDuplicate(Object[] inputArray)\n{\n    long startTime = System.nanoTime();\n    int totalSize = inputArray.length;\n    Object[] resultArray = new Object[totalSize];\n    int newSize = 0;\n    for(int i=0; i&lt;totalSize; i++)\n    {\n        Object value = inputArray[i];\n        if(value == null)\n        {\n            continue;\n        }\n\n        for(int j=i+1; j&lt;totalSize; j++)\n        {\n            if(value.equals(inputArray[j]))\n            {\n                inputArray[j] = null;\n            }\n        }\n        resultArray[newSize++] = value;\n    }\n\n    long endTime = System.nanoTime()-startTime;\n    System.out.println(\"Total Time-B:\"+endTime);\n    return resultArray;\n}\n</code></pre>\n"},{"answer_id":27356461,"body":"<p>This three lines of code can remove the duplicated element from ArrayList or any collection.</p>\n\n<pre><code>List&lt;Entity&gt; entities = repository.findByUserId(userId);\n\nSet&lt;Entity&gt; s = new LinkedHashSet&lt;Entity&gt;(entities);\nentities.clear();\nentities.addAll(s);\n</code></pre>\n"},{"answer_id":28987005,"body":"<p><strong>Code:</strong></p>\n\n<pre><code>List&lt;String&gt; duplicatList = new ArrayList&lt;String&gt;();\nduplicatList = Arrays.asList(\"AA\",\"BB\",\"CC\",\"DD\",\"DD\",\"EE\",\"AA\",\"FF\");\n//above AA and DD are duplicate\nSet&lt;String&gt; uniqueList = new HashSet&lt;String&gt;(duplicatList);\nduplicatList = new ArrayList&lt;String&gt;(uniqueList); //let GC will doing free memory\nSystem.out.println(\"Removed Duplicate : \"+duplicatList);\n</code></pre>\n\n<p><strong>Note:</strong> Definitely, there will be memory overhead.</p>\n"},{"comments":[{"comment_id":100318049,"body":"When you use <code>T element = iter.next();</code>, you don’t need the unchecked type casts. Or you use <code>for(T element: list) …</code> instead of dealing with an <code>Iterator</code> manually."}],"answer_id":31160570,"body":"<p>The @jonathan-stafford solution is OK. But this don't preserve the list order.</p>\n\n<p>If you want preserve the list order you have to use this:</p>\n\n<pre><code>public static &lt;T&gt; void removeDuplicate(List &lt;T&gt; list) {\nSet &lt;T&gt; set = new HashSet &lt;T&gt;();\nList &lt;T&gt; newList = new ArrayList &lt;T&gt;();\nfor (Iterator &lt;T&gt;iter = list.iterator();    iter.hasNext(); ) {\n   Object element = iter.next();\n   if (set.add((T) element))\n      newList.add((T) element);\n   }\n   list.clear();\n   list.addAll(newList);\n}\n</code></pre>\n\n<p>It's only to complete the answer. Very good!</p>\n"},{"answer_id":31770675,"body":"<pre><code>        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n        Set&lt;String&gt; set = new LinkedHashSet&lt;String&gt;();\n        String s = \"ravi is a good!boy. But ravi is very nasty fellow.\";\n        StringTokenizer st = new StringTokenizer(s, \" ,. ,!\");\n        while (st.hasMoreTokens()) {\n            result.add(st.nextToken());\n        }\n         System.out.println(result);\n         set.addAll(result);\n        result.clear();\n        result.addAll(set);\n        System.out.println(result);\n\noutput:\n[ravi, is, a, good, boy, But, ravi, is, very, nasty, fellow]\n[ravi, is, a, good, boy, But, very, nasty, fellow]\n</code></pre>\n"},{"answer_id":31971798,"body":"<p>Java 8 streams provide a very simple way to remove duplicate elements from a list. Using the distinct method.\nIf we have a list of cities and we want to remove duplicates from that list it can be done in a single line - </p>\n\n<pre><code> List&lt;String&gt; cityList = new ArrayList&lt;&gt;();\n cityList.add(\"Delhi\");\n cityList.add(\"Mumbai\");\n cityList.add(\"Bangalore\");\n cityList.add(\"Chennai\");\n cityList.add(\"Kolkata\");\n cityList.add(\"Mumbai\");\n\n cityList = cityList.stream().distinct().collect(Collectors.toList());\n</code></pre>\n\n<p><a href=\"http://netjs.blogspot.com/2015/08/how-to-remove-duplicate-elements-from-arraylist-java.html\" rel=\"noreferrer\">How to remove duplicate elements from an arraylist</a></p>\n"},{"comments":[{"comment_id":53312351,"body":"This implementation return no element in the list because of the last j--"},{"comment_id":53363666,"body":"This implementation work&#39;s very fine.there is no issue behind this and for this task i am only use one arraylist.so this answer is completely good.before giving negative feedback you shold also add testcase also so that every one can understand the result.Thanks Manash"}],"answer_id":32680600,"body":"<pre><code>public static void main(String[] args){\n    ArrayList&lt;Object&gt; al = new ArrayList&lt;Object&gt;();\n    al.add(\"abc\");\n    al.add('a');\n    al.add('b');\n    al.add('a');\n    al.add(\"abc\");\n    al.add(10.3);\n    al.add('c');\n    al.add(10);\n    al.add(\"abc\");\n    al.add(10);\n    System.out.println(\"Before Duplicate Remove:\"+al);\n    for(int i=0;i&lt;al.size();i++){\n        for(int j=i+1;j&lt;al.size();j++){\n            if(al.get(i).equals(al.get(j))){\n                al.remove(j);\n                j--;\n            }\n        }\n    }\n    System.out.println(\"After Removing duplicate:\"+al);\n}\n</code></pre>\n"},{"comments":[{"comment_id":100318094,"body":"“without using any other data structure”, except another <code>ArrayList</code>. Which will be very inefficient for larger lists."}],"answer_id":32735976,"body":"<p>Here is my answer without using any other data structure like set or hashmap etc.</p>\n\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; uniquefy(ArrayList&lt;T&gt; myList) {\n\n    ArrayList &lt;T&gt; uniqueArrayList = new ArrayList&lt;T&gt;();\n    for (int i = 0; i &lt; myList.size(); i++){\n        if (!uniqueArrayList.contains(myList.get(i))){\n            uniqueArrayList.add(myList.get(i));\n        }\n    }\n\n    return uniqueArrayList;\n}\n</code></pre>\n"},{"answer_id":33751322,"body":"<p>In Java, List permits ordered access of their elements. They can have duplicates because their lookup key is the position not some hash code, every element can be modified while they remain in the list where as Set represents a collection of unique elements and while elements are in set, they must not be modified.While there is no restriction preventing you from modifying elements in a set, if an element is modified, then it could become forever lost in the set.</p>\n<pre><code>public static void main(String[] args) {\n       List&lt;String&gt; l = new ArrayList&lt;String&gt;();\n       l.add(&quot;A&quot;);\n       l.add(&quot;B&quot;);\n       l.add(&quot;C&quot;);\n       l.add(&quot;A&quot;);\n       System.out.println(&quot;Before removing duplicates: &quot;);\n       for (String s : l) {\n            System.out.println(s);\n       }\n       Set&lt;String&gt; set = new HashSet&lt;String&gt;(l);\n       List&lt;String&gt; newlist = new ArrayList&lt;String&gt;(set);\n       System.out.println(&quot;after removing duplicates: &quot;);\n       for (String s : newlist) {\n            System.out.println(s);\n       }\n  }\n</code></pre>\n<p>for reference, refer this link <a href=\"http://techno-terminal.blogspot.in/2015/11/how-to-remove-duplicates-from-arraylist.html\" rel=\"nofollow noreferrer\">How to remove duplicates from ArrayList</a></p>\n"},{"comments":[{"comment_id":100318180,"body":"“…and also not be quadratic in run time” <i>Of course</i>, this <i>is</i> quadratic in run time. It’s even worse than other quadratic solutions."}],"answer_id":34033817,"body":"<p>Would something like this work better ?</p>\n<pre><code>public static void removeDuplicates(ArrayList&lt;String&gt; list) {\n    Arraylist&lt;Object&gt; ar     = new Arraylist&lt;Object&gt;();\n    Arraylist&lt;Object&gt; tempAR = new Arraylist&lt;Object&gt;();\n    while (list.size()&gt;0){\n        ar.add(list(0));\n        list.removeall(Collections.singleton(list(0)));\n    }\n    list.addAll(ar);\n}\n</code></pre>\n<p>That should maintain the order and also not be quadratic in run time.</p>\n"},{"answer_id":34204842,"body":"<p>If you're willing to use a third-party library, you can use the method <code>distinct()</code> in <a href=\"http://www.eclipse.org/collections/\" rel=\"nofollow\">Eclipse Collections</a> (formerly GS Collections).</p>\n\n<pre><code>ListIterable&lt;Integer&gt; integers = FastList.newListWith(1, 3, 1, 2, 2, 1);\nAssert.assertEquals(\n    FastList.newListWith(1, 3, 2),\n    integers.distinct());\n</code></pre>\n\n<p>The advantage of using <code>distinct()</code> instead of converting to a Set and then back to a List is that <code>distinct()</code> preserves the order of the original List, retaining the first occurrence of each element. It's implemented by using both a Set and a List.</p>\n\n<pre><code>MutableSet&lt;T&gt; seenSoFar = UnifiedSet.newSet();\nint size = list.size();\nfor (int i = 0; i &lt; size; i++)\n{\n    T item = list.get(i);\n    if (seenSoFar.add(item))\n    {\n        targetCollection.add(item);\n    }\n}\nreturn targetCollection;\n</code></pre>\n\n<p>If you cannot convert your original List into an Eclipse Collections type, you can use ListAdapter to get the same API.</p>\n\n<pre><code>MutableList&lt;Integer&gt; distinct = ListAdapter.adapt(integers).distinct();\n</code></pre>\n\n<p><strong>Note:</strong> I am a committer for Eclipse Collections.</p>\n"},{"answer_id":36234085,"body":"<pre><code>ArrayList&lt;String&gt; city=new ArrayList&lt;String&gt;();\ncity.add(\"rajkot\");\ncity.add(\"gondal\");\ncity.add(\"rajkot\");\ncity.add(\"gova\");\ncity.add(\"baroda\");\ncity.add(\"morbi\");\ncity.add(\"gova\");\n\nHashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\nhashSet.addAll(city);\ncity.clear();\ncity.addAll(hashSet);\nToast.makeText(getActivity(),\"\" + city.toString(),Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"comments":[{"comment_id":90526040,"body":"Yah, When i typed my previous comments, I was in a impression that <code>parallel streams</code> will give better performance always. But it&#39;s a myth. I later learned that there are certain scenarios where parallel streams should be used. In this scenario parallel streams will not give any better performance. and yes parallel streams might not give desired results some cases. <code>List&lt;String&gt; deDupStringList3 = stringList.stream().map(String::toLowerCase).distinct().coll&zwnj;&#8203;ect(Collectors.toLis&zwnj;&#8203;t());</code> should be the suitable solution in this case"}],"answer_id":37405769,"body":"<p>Suppose we have a list of <code>String</code> like:</p>\n<pre><code>List&lt;String&gt; strList = new ArrayList&lt;&gt;(5);\n// insert up to five items to list.        \n</code></pre>\n<p>Then we can remove duplicate elements in multiple ways.</p>\n<h2>Prior to Java 8</h2>\n<pre><code>List&lt;String&gt; deDupStringList = new ArrayList&lt;&gt;(new HashSet&lt;&gt;(strList));\n</code></pre>\n<h2><strong>Note:</strong> If we want to maintain the insertion order then we need to use <code>LinkedHashSet</code> in place of <code>HashSet</code>\nUsing Guava</h2>\n<pre><code>List&lt;String&gt; deDupStringList2 = Lists.newArrayList(Sets.newHashSet(strList));\n</code></pre>\n<h2>Using Java 8</h2>\n<pre><code>List&lt;String&gt; deDupStringList3 = strList.stream().distinct().collect(Collectors.toList());\n</code></pre>\n<p><strong>Note:</strong>  In case we want to collect the result in a <strong>specific list implementation</strong> e.g. <code>LinkedList</code> then we can modify the above example as:</p>\n<pre><code>List&lt;String&gt; deDupStringList3 = strList.stream().distinct()\n                 .collect(Collectors.toCollection(LinkedList::new));\n</code></pre>\n<p>We can use <code>parallelStream</code> also in the above code but it may not always give expected performance benefits. Check this <a href=\"https://stackoverflow.com/questions/53645037/will-parallel-stream-work-fine-with-distinct-operation\">question</a> for more.</p>\n"},{"comments":[{"comment_id":97018364,"body":"I think this is the best way of removing duplicated in an ArrayList. Definitely recommended. Thank you @Nenad for the answer."}],"answer_id":40419515,"body":"<p>You can also do it this way, and preserve order:</p>\n\n<pre><code>// delete duplicates (if any) from 'myArrayList'\nmyArrayList = new ArrayList&lt;String&gt;(new LinkedHashSet&lt;String&gt;(myArrayList));\n</code></pre>\n"},{"answer_id":43025730,"body":"<p>This is used for your Custom Objects list </p>\n\n<pre><code>   public List&lt;Contact&gt; removeDuplicates(List&lt;Contact&gt; list) {\n    // Set set1 = new LinkedHashSet(list);\n    Set set = new TreeSet(new Comparator() {\n\n        @Override\n        public int compare(Object o1, Object o2) {\n            if (((Contact) o1).getId().equalsIgnoreCase(((Contact) o2).getId()) /*&amp;&amp;\n                    ((Contact)o1).getName().equalsIgnoreCase(((Contact)o2).getName())*/) {\n                return 0;\n            }\n            return 1;\n        }\n    });\n    set.addAll(list);\n\n    final List newList = new ArrayList(set);\n    return newList;\n}\n</code></pre>\n"},{"comments":[{"comment_id":121745720,"body":"Perfect - just missing &quot;repeated = false;&quot; in the internal loop after the &quot;if(!repeated) l2.add(c1);&quot; otherwise it return a short list"}],"answer_id":47580485,"body":"<p>you can use nested loop in follow :</p>\n\n<pre><code>ArrayList&lt;Class1&gt; l1 = new ArrayList&lt;Class1&gt;();\nArrayList&lt;Class1&gt; l2 = new ArrayList&lt;Class1&gt;();\n\n        Iterator iterator1 = l1.iterator();\n        boolean repeated = false;\n\n        while (iterator1.hasNext())\n        {\n            Class1 c1 = (Class1) iterator1.next();\n            for (Class1 _c: l2) {\n                if(_c.getId() == c1.getId())\n                    repeated = true;\n            }\n            if(!repeated)\n                l2.add(c1);\n        }\n</code></pre>\n"},{"answer_id":50253949,"body":"<h2>If you are using model type List&lt; T>/ArrayList&lt; T> . Hope,it's help you.</h2>\n\n<p><strong>Here is my code without using any other data structure like set or hashmap</strong></p>\n\n<pre><code>for (int i = 0; i &lt; Models.size(); i++){\nfor (int j = i + 1; j &lt; Models.size(); j++) {       \n if (Models.get(i).getName().equals(Models.get(j).getName())) {    \n Models.remove(j);\n   j--;\n  }\n }\n}\n</code></pre>\n"},{"comments":[{"comment_id":100318232,"body":"Calling <code>indexOf</code> on an <code>ArrayList</code> within a <code>forEach</code> is O(n&#178;)."}],"answer_id":50382676,"body":"<p>Time Complexity : O(n) : Without Set</p>\n\n<pre><code>private static void removeDup(ArrayList&lt;String&gt; listWithDuplicateElements) {\n    System.out.println(\" Original Duplicate List :\" + listWithDuplicateElements);\n    List&lt;String&gt; listWithoutDuplicateElements = new ArrayList&lt;&gt;(listWithDuplicateElements.size());\n\n    listWithDuplicateElements.stream().forEach(str -&gt; {\n        if (listWithoutDuplicateElements.indexOf(str) == -1) {\n            listWithoutDuplicateElements.add(str);\n        }\n    });     \n\n    System.out.println(\" Without Duplicate List :\" + listWithoutDuplicateElements);\n}\n</code></pre>\n"},{"comments":[{"comment_id":100323095,"body":"“if you are concerned about the overhead of HashSet” and are ignorant towards the overhead of <code>Collectiors.sort</code>…"}],"answer_id":51181971,"body":"<p>This is the right one (if you are concerned about the overhead of HashSet.</p>\n\n<pre><code> public static ArrayList&lt;String&gt; removeDuplicates (ArrayList&lt;String&gt; arrayList){\n    if (arrayList.isEmpty()) return null;  //return what makes sense for your app\n    Collections.sort(arrayList, String.CASE_INSENSITIVE_ORDER);\n    //remove duplicates\n    ArrayList &lt;String&gt; arrayList_mod = new ArrayList&lt;&gt;();\n    arrayList_mod.add(arrayList.get(0));\n    for (int i=1; i&lt;arrayList.size(); i++){\n        if (!arrayList.get(i).equals(arrayList.get(i-1))) arrayList_mod.add(arrayList.get(i));\n    }\n    return arrayList_mod;\n}\n</code></pre>\n"},{"comments":[{"comment_id":100323121,"body":"Not easier than <code>Set&lt;String&gt; strSet = new HashSet&lt;&gt;(strList);</code>"}],"answer_id":54595465,"body":"<pre><code>Set&lt;String&gt; strSet = strList.stream().collect(Collectors.toSet());\n</code></pre>\n\n<p>Is the easiest way to remove your duplicates.</p>\n"},{"comments":[{"comment_id":100323342,"body":"Try <code>ListIterator&lt;String&gt; i = hashList.listIterator(); i.add(&quot;hello&quot;); i.add(&quot;hello&quot;);</code>. Alternatively, you can use <code>hashList.add(&quot;a&quot;); hashList.add(&quot;b&quot;); hashList.replaceAll(x -&gt; &quot;hello&quot;);</code>. And there might be more ways to counteract this approach in the future. The takeaway is that you shouldn’t try to enforce new contracts via subclassing with classes not designed for that. You will find more about this topic when you search for the “<i>Prefer composition over inheritance</i>” OOP rule."},{"comment_id":113331387,"body":"that makes a lot of sense"}],"answer_id":55073204,"body":"<p>If you want your list to automatically ignore duplicates and preserve its order, you could create a <strong>HashList</strong>(a HashMap embedded List).</p>\n\n<pre><code>public static class HashList&lt;T&gt; extends ArrayList&lt;T&gt;{\n        private HashMap &lt;T,T&gt; hashMap;\n        public HashList(){\n            hashMap=new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public boolean add(T t){\n            if(hashMap.get(t)==null){\n                hashMap.put(t,t);\n                return super.add(t);\n            }else return false;\n        }\n\n        @Override\n        public boolean addAll(Collection&lt;? extends T&gt; c){\n            HashList&lt;T&gt; addup=(HashList&lt;T&gt;)c;\n            for(int i=0;i&lt;addup.size();i++){\n                add(addup.get(i));\n            }return true;\n        }\n\n    }\n</code></pre>\n\n<p><strong><code>Usage Example:</code></strong></p>\n\n<pre><code>HashList&lt;String&gt; hashlist=new HashList&lt;&gt;();\nhashList.add(\"hello\");\nhashList.add(\"hello\");\nSystem.out.println(\" HashList: \"+hashlist);\n</code></pre>\n"},{"answer_id":69499989,"body":"<p>Here is a solution that works with any object:</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; clearDuplicates(List&lt;T&gt; messages,Comparator&lt;T&gt; comparator) {\n    List&lt;T&gt; results = new ArrayList&lt;T&gt;();\n    for (T m1 : messages) {\n        boolean found = false;\n        for (T m2 : results) {\n            if (comparator.compare(m1,m2)==0) {\n                found=true;\n                break;\n            }\n        }\n        if (!found) {\n            results.add(m1);\n        }\n    }\n    return results;\n}\n</code></pre>\n"},{"answer_id":71637149,"body":"<p>Kotlin</p>\n<pre><code>val list = listOf('a', 'A', 'b', 'B', 'A', 'a')\nprintln(list.distinct()) // [a, A, b, B]\nprintln(list.distinctBy { it.uppercaseChar() }) // [a, b]\n</code></pre>\n<p>from here <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct-by.html\" rel=\"nofollow noreferrer\">kotlinlang</a></p>\n"}],"last_activity_date":1684813644,"question_id":203984,"body":"<p>I have an <code>ArrayList&lt;String&gt;</code>, and I want to remove repeated strings from it. How can I do this?</p>\n"},{"comments":[{"comment_id":134550460,"body":"What makes you think your server is using SSL?"},{"comment_id":134551482,"body":"Show your code and show the stack trace. Without evidence to support your claims your question may be closed."},{"comment_id":134556900,"body":"here is my code guys        try         {            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;&zwnj;&#8203;);             String url=&quot;jdbc:sqlserver://LAPTOP-HJOFUHOH\\\\MSSQLSERVER02:1433;da&zwnj;&#8203;tabaseName=DOAN;encr&zwnj;&#8203;ypt=false;trustServe&zwnj;&#8203;rCertificate=true&quot;;             Connection con = DriverManager.getConnection(url);             System.out.println(&quot;connect successfully&quot;);         }            catch(Exception ex)             {                 ex.printStackTrace();                 System.out.println(&quot;connect failed&quot;);             }    }"},{"comment_id":134557854,"body":"Please post that <i>formatted as code in your question</i>. And you didn&#39;t answer my question..."},{"comment_id":134566729,"body":"<code>LAPTOP-HJOFUHOH\\\\MSSQLSERVER02:1433</code> ... unlikely to work. Port 1433 is the one used for the default <code>MSSQLSERVER</code> instance. Pick one method: instance name <b>or</b> port number, don&#39;t try to combine the two in a connection string."},{"comment_id":134567717,"body":"@g00se I dont know how to know I am using SSL or not"},{"comment_id":134567833,"body":"@AlwaysLearning the link below said that jdbc:sqlserver://[serverName[\\instanceName][:portNumber]][;p&zwnj;&#8203;roperty=value[;prope&zwnj;&#8203;rty=value]], did i get it wrong or something? <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url?view=sql-server-ver16\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/sql/connect/jdbc/&hellip;</a>"},{"comment_id":134567946,"body":"@Gecko the square brackets surround optional parameters, i.e.: <code>[\\instanceName]</code> is optional, <code>[:portNumber]</code> is optional. When you specify an instance name the client attempts to connect to the SQL Browser service on the target machine at udp/1434, sends an SSRQ (SQL Server Resolution Query) with the instance name, gets back the port number that the instance is listening on, then finally connects to the resolved TCP port number. Port 1433 is the default port and is what gets used when neither the instance name nor port number parameters are supplied."},{"comment_id":134569498,"body":"@AlwaysLearning I got it, but I tried to use one of them but it still have the same issue"},{"comment_id":134571286,"body":"<i>@g00se I dont know how to know I am using SSL or not</i>  Your connection string shows that you think you are. You tell it to trust the server certificate. Try getting rid of that."}],"last_activity_date":1684813060,"question_id":76301152,"body":"<p><code>{ Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;); String url=&quot;jdbc:sqlserver://LAPTOP-HJOFUHOH\\\\MSSQLSERVER02:1433;databaseName=DOAN;encrypt=false;trustServerCertificate=true&quot;; Connection con = DriverManager.getConnection(url); System.out.println(&quot;connect successfully&quot;); } catch(Exception ex) { ex.printStackTrace(); System.out.println(&quot;connect failed&quot;); } }</code>I had this problem like below:</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server\nby using Secure Sockets Layer (SSL) encryption. \nError: No appropriate protocol (protocol is disabled or cipher suites are inappropriate).\n</code></pre>\n<p>I am trying to connect SQLServer to java code in netbeans and I added <code>setEncrypt(false);</code> but it does not work. Can anyone help me?</p>\n"},{"comments":[{"comment_id":134568627,"body":"Write it yourself in a dedicated method or use <code>@Mapping</code> which will generate the proper code."}],"last_activity_date":1684812854,"question_id":76311141,"body":"<p>How to use MapSturct to map multi-layer DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Menu.java\npublic class Menu {\n    private String path;\n    private String name;\n    private String component;\n    private String redirect;\n    private MenuMeta meta; // &lt;- This \n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// MenuMata.java\npublic class MenuMeta {\n    private String title;\n    private String icon;\n    private Boolean hideMenu;\n    private String currentActiveMenu;\n    private Boolean ignoreKeepAlive;\n    private Boolean showMenu;\n    private String frameSrc;\n    private Boolean hideBreadcrumb;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// MenuSavaQuerey\npublic class MenuSaveQuery {\n    private Long parentId;\n    private String path;\n    private String name;\n    private String component;\n    private String redirect;\n    private String title;\n    private String icon;\n    private Boolean hideMenu;\n    private String currentActiveMenu;\n    private Boolean ignoreKeepAlive;\n    private Boolean showMenu;\n    private String frameSrc;\n    private Boolean hideBreadcrumb;\n}\n</code></pre>\n<p>I want to project the above two classes into this one below, but I don't know how to do it.</p>\n<p>Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Menu save(MenuSaveQuery query);\n</code></pre>\n<p>I know that I can use @Mapping <code>target</code> and <code>source</code> to map one by one, but this is too much trouble. Is there any easy way</p>\n"},{"comments":[{"comment_id":134567445,"body":"Do not use images for textual information like logs and configurations in Stackoverlow."},{"comment_id":134570294,"body":"First using this: <code>org.apache.maven.plugins:maven-resources-plugin:2.6:resource&zwnj;&#8203;s (default-resources) on project ruoyi-admin: &#47;BOOT-INF&#47;lib&#47;cesiumlanguagewriter-2.20.1.jar</code>. on a spring boot project looks completely wrong... I don&#39;t know what you are trying to do here? Packaging of the jar in spring boot the spring-boot-maven-plugin is intended to handle that apart from that you use using an very old version of Maven. Furthermore using <code>-f </code> option in Jenkins build looks a bit strange to be honest... why do you need that? The project can be built from root location...via configuration..."}],"answers":[{"comments":[{"comment_id":134567514,"body":"that <code>cesiumlanguagewriter-2.20.1.jar</code> jar is built before maven start building, I try to install it in the maven local path"},{"comment_id":134567579,"body":"You should publish it to a Maven repository, the local one or a remote one. Don&#39;t treat a library as a resource."}],"answer_id":76310939,"body":"<p>You are not building that jar. You are telling Maven that it is to be found at a given directory relative to the project directory. It seems that in the Jenkins build that directory is set to a path where that jar is not there:</p>\n<pre><code>/BOOT-INF/lib/cesiumlangua\ngewriter-2.20.1.jar (No such file or directory)\n</code></pre>\n<p>You didn't share enough information to find more but if you are using a Maven plugin to copy the jar file it maybe filtering a jar file because it is not supposed to do that.</p>\n"},{"answer_id":76311140,"body":"<p>after a long time struggle, I found a solution: Edit <code>ruoyi-admin\\pom.xml</code>,</p>\n<p>remove all the resource part in <code>&lt;build&gt;</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- REMOVE IT --&gt;\n&lt;resources&gt;\n  &lt;resource&gt;\n     &lt;directory&gt;lib&lt;/directory&gt;\n     &lt;targetPath&gt;/BOOT-INF/lib/&lt;/targetPath&gt;\n     &lt;includes&gt;\n        &lt;include&gt;**/*.jar&lt;/include&gt;\n     &lt;/includes&gt;\n  &lt;/resource&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>add one line here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt; &lt;!-- HERE --&gt;\n    &lt;fork&gt;true&lt;/fork&gt; \n  &lt;/configuration&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;repackage&lt;/goal&gt;\n      &lt;/goals&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>sorry I just a newbie in Java and Maven, so why it can happen, I don't know</p>\n"}],"last_activity_date":1684812838,"question_id":76310846,"body":"<p>This time we use <code>Jenkins</code> to help us to build Java, it used to work well, but if we add a local jar file, it failed.</p>\n<pre><code>...\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar (No such file or directory) -&gt; [Help 1]\n[ERROR] \n[JENKINS] Archiving /var/lib/jenkins/workspace/qrd_back/ruoyi-system/pom.xml to com.ruoyi/ruoyi-system/3.8.5/ruoyi-system-3.8.5.pom\n[JENKINS] Archiving /var/lib/jenkins/workspace/qrd_back/ruoyi-system/target/ruoyi-system-3.8.5.jar to com.ruoyi/ruoyi-system/3.8.5/ruoyi-system-3.8.5.jar\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n[ERROR] \n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;goals&gt; -rf :ruoyi-admin\n...\n</code></pre>\n<p>this jar file <code>cesiumlanguagewriter-2.20.1.jar</code> is our local jar file, we include it in <code>ruoyi-admin\\pom.xml</code> file</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;ruoyi&lt;/artifactId&gt;\n        &lt;groupId&gt;com.ruoyi&lt;/groupId&gt;\n        &lt;version&gt;3.8.5&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;artifactId&gt;ruoyi-admin&lt;/artifactId&gt;\n\n    &lt;dependencies&gt;\n\n        ......\n        &lt;dependency&gt;\n            &lt;groupId&gt;cesiumlanguagewriter&lt;/groupId&gt;\n            &lt;artifactId&gt;cesiumlanguagewriter&lt;/artifactId&gt;\n            &lt;version&gt;2.20.1&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/lib/cesiumlanguagewriter-2.20.1.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;lib&lt;/directory&gt;\n                &lt;targetPath&gt;/BOOT-INF/lib/&lt;/targetPath&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/*.jar&lt;/include&gt;\n                &lt;/includes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                ...\n            &lt;/plugin&gt;\n            &lt;plugin&gt;   \n                ...\n           &lt;/plugin&gt;   \n        &lt;/plugins&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>it looks fine, and exactly, it can build with command <code>mvn clean package</code> in our local <strong>Windows environment</strong>, and in our local <strong>Ubuntu environment</strong>, but not enable to build in Jenkins, what are the difference between the Ubuntu environment and Jenkins?</p>\n<p>Ubuntu and Jenkins use the same <code>Maven</code>, the difference between them may be the <code>settings.xml</code>, but because I am newbie in Java, so I can not find the difference between them</p>\n<p>the mavn version on the Ubuntu(it can build success):</p>\n<pre><code>jenkins@sakuramoyu:~/workspace/ruoyi_qrd$ mvn --version\nApache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 11.0.19, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.15.0-71-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p><strong>Edit</strong></p>\n<p>The command Jenkins use is <code>mvn -B -f /var/lib/jenkins/workspace/qrd_back/pom.xml clean package</code>, I think it will cause the problem, what are the difference between <code>mvn clean package</code></p>\n<p><strong>Edit2</strong></p>\n<p>If I run build with <code>mvn -B -f /var/lib/jenkins/workspace/qrd_back/pom.xml clean package -X</code>, it tells me</p>\n<pre><code>...\n[DEBUG] ignoreDelta true\n[INFO] Copying 1 resource to /BOOT-INF/lib/\n[DEBUG] file cesiumlanguagewriter-2.20.1.jar has a filtered file extension\n[DEBUG] copy /var/lib/jenkins/workspace/qrd_back/ruoyi-admin/lib/cesiumlanguagewriter-2.20.1.jar to /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for ruoyi 3.8.5:\n[INFO]\n[INFO] ruoyi .............................................. SUCCESS [  0.186 s]\n[INFO] ruoyi-common ....................................... SUCCESS [  8.158 s]\n[INFO] ruoyi-system ....................................... SUCCESS [  2.043 s]\n[INFO] ruoyi-framework .................................... SUCCESS [  1.785 s]\n[INFO] ruoyi-quartz ....................................... SUCCESS [  1.148 s]\n[INFO] ruoyi-generator .................................... SUCCESS [  1.174 s]\n[INFO] ruoyi-admin ........................................ FAILURE [  0.701 s]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  15.679 s\n[INFO] Finished at: 2023-05-23T09:40:23+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlanguagewriter-2.20.1.jar (No such file or directory)\n-&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:2.6:resources (default-resources) on project ruoyi-admin: /BOOT-INF/lib/cesiumlangua\ngewriter-2.20.1.jar (No such file or directory)\n...\n</code></pre>\n<p>it means the local jar file is filtered? so it can not find it?</p>\n"},{"answers":[{"answer_id":71076622,"body":"<pre><code>long size = jdbcTemplate.queryForObject(query, Long.class);\n</code></pre>\n"},{"answer_id":71076663,"body":"<p>If you look at the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html#query-java.lang.String-java.lang.Object:A-org.springframework.jdbc.core.RowMapper-\" rel=\"nofollow noreferrer\"><code>query</code></a> javadocs in <code>JdbcOperations</code> it states:</p>\n<blockquote>\n<p><strong>Deprecated.</strong> as of 5.3, in favor of <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html#query-java.lang.String-org.springframework.jdbc.core.RowMapper-java.lang.Object...-\" rel=\"nofollow noreferrer\">query(String, RowMapper, Object...)</a></p>\n</blockquote>\n<p>So you can use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; sizeResults = jdbcTemplate.query(query, (rs, rowNum) -&gt;\n        rs.getLong(&quot;size&quot;), id, type);\nif (sizeResults.isEmpty()){\n    System.out.println(&quot;Result not found!&quot;);\n} else {\n    System.out.println(&quot;Result found!&quot;);\n}\n</code></pre>\n<p><em><strong>Note:</strong> <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html#queryForObject-java.lang.String-org.springframework.jdbc.core.RowMapper-\" rel=\"nofollow noreferrer\"><code>queryForObject</code></a> throws <code>EmptyResultDataAccessException</code> for empty results. Often it is not desired behavior.</em></p>\n"}],"last_activity_date":1684812159,"question_id":71076358,"body":"<p>I have this query for my jdbcTemplate and I wanna get just the long value from the database, what should be fixed here?</p>\n<pre><code>String query = &quot;SELECT size from users where name = ? AND type = ?&quot;;\nlong size = jdbcTemplate.query(query, new Object[]{id, type}, (rs, rowNum) -&gt; \nrs.getLong(&quot;size&quot;));\n</code></pre>\n"},{"answers":[{"answer_id":76311087,"body":"<p>You'll need an instance of <code>B</code>, to instantiate <code>C</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>A.B b = new A.B();\nA.C c = new A.C(b);\nassert c.foo() == 42;\n</code></pre>\n<p>Or, simplified.</p>\n<pre class=\"lang-java prettyprint-override\"><code>assert new A.C(new A.B()).foo() == 42;\n</code></pre>\n<p>If a class contains no constructor, an empty constructor is inferred.</p>\n"}],"last_activity_date":1684811862,"question_id":76311067,"body":"<p>I'm stuck on this question where we need to instantiate the C class through A</p>\n<pre><code>class A{\n  static class B{}\n  static class C{ B b;\n    C(B b){this.b=b;}\n    int foo(){return 42;}\n  }\n}\npublic class Exercise{\n\n  public static void main(String [] arg){\n    assert ([???].foo()==42);\n  }\n}     \n</code></pre>\n<p>Obviously we need to instantiate the C class within the A class, however I tried doing\nsomething like <code>A.C(new B b)</code> and a few other variations, but I can't seem to figure it out, does anyone have any suggestions?</p>\n"},{"last_activity_date":1684811472,"question_id":76311064,"body":"<pre><code>\n      mybatis always doesn't map to my xml file. The BIGINT error is not found, but the mybatis plug-in recognizes it and locates it. Have checked all corresponding class names are OK, looking forward to your answer.Have a nice day.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ytSux.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThis is the error reported\n<a href=\"https://i.stack.imgur.com/rw9dZ.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThis is the compiled file directory\n<a href=\"https://i.stack.imgur.com/3dS3s.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nCaused by: java.lang.ClassNotFoundException: Cannot find class: BIGINT</p>\n"},{"comments":[{"comment_id":134490095,"body":"<a href=\"https://stackoverflow.com/questions/1200621/how-do-i-declare-and-initialize-an-array-in-java\" title=\"how do i declare and initialize an array in java\">stackoverflow.com/questions/1200621/&hellip;</a>"},{"comment_id":134490272,"body":"If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/76265197/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"comment_id":134490299,"body":"Your title says int array but your example uses a char array.  And what are all the dimensions for x,y,and z?"},{"comment_id":134490427,"body":"<code>int x = size[2]; int y = size[0]; int z = size[1]; char[][][] map = new char[y][z][x];</code>"},{"comment_id":134510145,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"answer_id":76284528,"body":"<p>If I understand the question correctly, you're looking to initialize the array with a set of values.<br />\nAs opposed to initializing an array with a fixed length, and then adding the values one at a time.</p>\n<p>Your code is correct, just remove the <code>new</code> keyword.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] size = { y, z, x };\n</code></pre>\n"},{"answer_id":76311045,"body":"<p><a href=\"https://i.stack.imgur.com/mjyAG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mjyAG.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>// Online Java Compiler\n// Use this editor to write, compile and run your Java code online\n\nimport java.io.*;\n\nclass Test3DArray {\n        public static void main(String[] args) {\n    \n        // Declaration 3D Array\n        int row = 3;\n        int col = 3;\n        int arr = 3;\n        int[][][] map = new int[row][col][arr];\n\n        // Initialization 3D Array\n        int n = 1; \n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++) {\n                for (int k = 0; k &lt; arr; k++) {\n                    map[i][j][k] = n++;\n                }\n            }\n        }\n    \n        // Print 3D Array\n        for (int i = 0; i &lt; row; i++) {\n            for (int j = 0; j &lt; col; j++) {\n                for (int k = 0; k &lt; arr; k++) {\n                    System.out.println(&quot;map[&quot;+ i +&quot;][&quot;+ j +&quot;][&quot;+ k +&quot;] = &quot; + map[i][j][k]);\n                }\n                System.out.println(&quot;&quot;);\n            }\n            System.out.println(&quot;&quot;);\n        }\n\n        // Size 3D Array\n        System.out.println(&quot;size arrays = &quot; + map[0].length * map[1].length * map[2].length);\n    \n    }\n}\n</code></pre>\n<p>OUTPUT</p>\n<pre><code>map[0][0][0] = 1\nmap[0][0][1] = 2\nmap[0][0][2] = 3\n\nmap[0][1][0] = 4\nmap[0][1][1] = 5\nmap[0][1][2] = 6\n\nmap[0][2][0] = 7\nmap[0][2][1] = 8\nmap[0][2][2] = 9\n\nmap[1][0][0] = 10\nmap[1][0][1] = 11\nmap[1][0][2] = 12\n\nmap[1][1][0] = 13\nmap[1][1][1] = 14\nmap[1][1][2] = 15\n\nmap[1][2][0] = 16\nmap[1][2][1] = 17\nmap[1][2][2] = 18\n\nmap[2][0][0] = 19\nmap[2][0][1] = 20\nmap[2][0][2] = 21\n\nmap[2][1][0] = 22\nmap[2][1][1] = 23\nmap[2][1][2] = 24\n\nmap[2][2][0] = 25\nmap[2][2][1] = 26\nmap[2][2][2] = 27\n\nsize arrays = 27\n</code></pre>\n"}],"last_activity_date":1684811169,"question_id":76265197,"body":"<p>how do i do:\n<code>char[][][] map = new char[y][z][x];</code>\nbut define the size with:</p>\n<blockquote>\n<p>int[] size = new {y,z,x};</p>\n</blockquote>\n<p>I tried looking it up but i couldn't find anything helpful.</p>\n"},{"comments":[{"comment_id":134567619,"body":"Did you check that the application is configured correctly to listen on the expected port and interface?"},{"comment_id":134567632,"body":"Review the application logs to check for any errors or exceptions that might be occurring during startup. This Jenkins log does not show the application log."},{"comment_id":134571335,"body":"Instead of piping the logs to <code>&#47;dev&#47;null</code> you might want to temporarily send it to a file; and archive it to the build for more information (via <code>archiveArtifacts(...)</code>). Also, in my understanding, using <code>2&gt;&amp;1</code> routes stderr to stdout; so the Job would never show as failed or show that <code>sh(...)</code> failure information."}],"last_activity_date":1684810421,"question_id":76311015,"body":"<p>I have initialized a Jenkins pipeline with the following script. The pipeline reported a successful run, but the application has no response at all. Please help me.</p>\n<p>This is my pipeline script</p>\n<pre><code>pipeline {\n    agent any\n    \n    stages {\n        stage('Checkout') {\n             steps {\n                script {\n                   git credentialsId: '3',\n                   url: 'git@github.com:myusername/myproject.git'\n                   sh &quot;git checkout master&quot;\n                  }\n               }\n        }\n        \n        stage('Build') {\n            steps {\n                sh 'mvn clean package'\n                sh 'mvn package -Dmaven.test.skip=true'\n                sh 'mv target/my-project-0.0.1.jar target/my-project.jar'\n            }\n        }\n    \n        stage('Deploy') {\n            steps {\n                sh 'java -jar target/my-project.jar &gt; /dev/null 2&gt;&amp;1 &amp;'\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is pipeline last line log:</p>\n<pre><code>[Pipeline] sh\n+ mv target/my-project-0.0.1.jar target/my-project.jar\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] stage\n[Pipeline] { (Deploy)\n[Pipeline] sh\n+ java -jar target/my-project.jar\n[Pipeline] }\n[Pipeline] // stage\n[Pipeline] }\n[Pipeline] // node\n[Pipeline] End of Pipeline\nFinished: SUCCESS\n</code></pre>\n"},{"comments":[{"comment_id":134425689,"body":"It is so until you set Unrestricted battery mode in Android settings for your app. And this all is bad for user. Did you manage to do something?"}],"answers":[{"answer_id":72647174,"body":"<p>It will return <code>isGranted = true</code> when the permission is being requested the <code>AndroidManifest.xml</code>.</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n</code></pre>\n<p>And actually, the intent is <code>Settings.ACTION_REQUEST_SCHEDULE_EXACT_ALARM</code>:</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; startActivityForResult = registerForActivityResult(\n        new ActivityResultContracts.StartActivityForResult(), (ActivityResult result) -&gt; {\n            if (result.getResultCode() == RESULT_OK) {}\n        });\n\n@RequiresApi(api = Build.VERSION_CODES.S_V2)\nvoid hasPermission(@NonNull Context context) {\n    AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S_V2) {\n\n        // it depends on the manifest permission, just alike the toggle does.\n        if (! alarmManager.canScheduleExactAlarms()) {\n\n        }\n\n        // one can only disable the permission, when the manifest requested it.\n        startActivityForResult.launch(new Intent(\n                Settings.ACTION_REQUEST_SCHEDULE_EXACT_ALARM,\n                Uri.parse(&quot;package:&quot; + getPackageName())\n        ));\n    }\n}\n</code></pre>\n<p>Listen for broadcast action <a href=\"https://developer.android.com/reference/android/app/AlarmManager#ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED\" rel=\"nofollow noreferrer\"><code>AlarmManager.ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED</code></a>.</p>\n<p>And there's also permission <a href=\"https://developer.android.com/reference/android/Manifest.permission#USE_EXACT_ALARM\" rel=\"nofollow noreferrer\"><code>USE_EXACT_ALARM</code></a>, when targeting API <code>33</code> onwards.</p>\n<p>See behavioral changes: <a href=\"https://developer.android.com/about/versions/12/behavior-changes-12#exact-alarm-permission\" rel=\"nofollow noreferrer\">exact alarm permission</a>.</p>\n"}],"last_activity_date":1684809685,"question_id":72646917,"body":"<p>I have app which set alarms. I use this code to ask user for permission:</p>\n<pre><code>Intent intent = new Intent(\n&quot;android.settings.REQUEST_SCHEDULE_EXACT_ALARM&quot;,\n Uri.parse(&quot;package:&quot;+ getPackageName())\n);\n someActivityResultLauncher.launch(intent);\n</code></pre>\n<p>In manifest I added permission:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot;/&gt;\n</code></pre>\n<p>When I click the button which launch the intent I can see:</p>\n<p><a href=\"https://i.stack.imgur.com/xb7Qh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xb7Qh.png\" alt=\"enter image description here\" /></a></p>\n<p>But I can't toggle button with permission and I don't know why.</p>\n"},{"answers":[{"answer_id":76308613,"body":"<p>You can't do a return like you do in java. You should change a return type of <strong>play</strong> to array if you want call this method to return two values.</p>\n<p>My suggestion is to change <strong>play</strong> and call it from constructor.</p>\n<pre><code>import java.util.Scanner;\n\npublic class UI {\n    Scanner input = new Scanner(System.in);\n    int Store, Week;\n    \n    public UI() {\n        play();\n    }\n\n    public void play() {\n        System.out.print(&quot; Please enter the store #(1-6)&quot;);\n        Store = input.nextInt();`\n\n        System.out.print(&quot;please enter the operation (1-7)&quot;);\n        Week = input.nextInt();\n    }\n}\n</code></pre>\n"},{"answer_id":76310961,"body":"<p>The <code>play</code> method doesn't need to return a value.</p>\n<p>If the values are fields, you can simply assign them from within the method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UI {\n    Scanner input = new Scanner(System.in);\n    int store, week;\n\n    void play() {\n        System.out.print(&quot; Please enter the store #(1-6)&quot;);\n        store = input.nextInt();\n        System.out.print(&quot;please enter the operation (1-7)&quot;);\n        week = input.nextInt();\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684809123,"question_id":76308524,"body":"<pre><code>import java.util.Scanner;\n\npublic class UI {\nScanner input = new Scanner(System.in);\n\n    int Store ,Week = play();\n\n    public int play() {\n\n           System.out.print(&quot; Please enter the store #(1-6)&quot;);\n           Store = input.nextInt();`\n\n           System.out.print(&quot;please enter the operation (1-7)&quot;);\n           Week = input.nextInt();\n\nreturn Store,Week;\n}\n\n}\n</code></pre>\n<p>how can I possibly return Store and Week value into ui class. So I can use these values for further coding.</p>\n"},{"comments":[{"comment_id":134564085,"body":"To clarify your question, what part of the provided text would you like extracted?  The <code>testt</code>, <code>**</code>, and <code>xls</code> values?"}],"answers":[{"answer_id":76309258,"body":"<p>To reiterate, you're saying that within the log-file there are sections which start and end with the example text you provided.</p>\n<p>To capture these sections, you can use the following regular expression pattern.</p>\n<pre><code>(?s)(\\d{4}-\\d\\d-\\d\\d .+?rspDesc.+?$)\n</code></pre>\n<ul>\n<li>Use the <code>s</code> flag to enable single-line mode, causing a <code>.</code> to additionally match new-line characters.</li>\n<li>The beginning of the pattern will match the time-stamp.</li>\n<li>Then, match all characters up to &quot;rspDesc&quot;.</li>\n<li>Finally, continue until the end of the line is reached.</li>\n</ul>\n"}],"last_activity_date":1684808590,"question_id":76308969,"body":"<p>I have application log file which contains the application requests and responses, the complete request and response looks like the below, I tried different patterns using RegEx but unfortunately without any luck, can some one suggest what should I change :</p>\n<p>pattern =&gt;</p>\n<pre><code>&quot;\n(?m)\\b\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2},\\d{3}\\b.?\\bRequest given by the user\\b.?\\brspDesc is\\b(?!.\\n)..?(?=\\R|$)\n&quot;\n</code></pre>\n<pre><code>2023-05-11 00:20:26,103 [http-apr-7777-exec-46] INFO com.welcome.ws.AccountWebServiceImpl. - Request given by the user\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:GetCustomerBalanceReq xmlns=&quot;url&quot; xmlns:ns2=&quot;url&quot;&gt;\n\ntestt\n**\nxls\n\nns2:ID/EID/5000000004/123456****1234&lt;/ns2:ID&gt;\n&lt;/ns2:GetCustomerBalanceReq&gt;\n\n2023-05-11 00:20:26,144 [http-apr-7777-exec-46] INFO com.welcome.svc.AccountService. - rspCode is:1001 and rspDesc is:Account or Media does not Exist\n</code></pre>\n<p>I was trying this regex but it wasn't matching anything</p>\n<pre><code>&quot;(?m)\\b\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2},\\d{3}\\b.?\\bRequest given by the user\\b.?\\brspDesc is\\b(?!.\\n)..?(?=\\R|$) \n</code></pre>\n"},{"comments":[{"comment_id":134567419,"body":"Check out: <a href=\"https://stackoverflow.com/a/54028681/131872\">stackoverflow.com/a/54028681/131872</a> for an example to get you started. It uses a Swing Timer to animate multiple objects. You will be able to simplify the logic. Note that your Polygon object should be created relative to offset (0, 0). Then in the painting method you would use the g.translate(...) method to move the object to its new location. Maybe you would even want to paint the projectile to a BufferedImage, then you can simply paint the image at its new location each time the Timer fires. This will be more efficient."},{"comment_id":134567644,"body":"For <a href=\"https://stackoverflow.com/questions/41785697/graphics-stuttering-in-java-space-invaders/41787291#41787291\">example</a>; <a href=\"https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859\">example</a>; <a href=\"https://stackoverflow.com/questions/35003520/program-not-painting-screen-properly/35004777#35004777\">example</a>;"}],"last_activity_date":1684808563,"question_id":76310894,"body":"<p>I have a Java final, and I would like to make a bullet hell type game, but what I'm stumped on is how to make the projectiles move. My first idea would be to constantly update the projectile; I just don't know how to do that. Any ideas?</p>\n<pre><code>//outer polygon\ng.setColor(Color.ORANGE);\nPolygon projectile = new Polygon();\nprojectile.addPoint(220,100);\nprojectile.addPoint(224,106);\nprojectile.addPoint(227,110);\nprojectile.addPoint(227,128);\nprojectile.addPoint(222,140);\nprojectile.addPoint(216,140);\nprojectile.addPoint(208,128);\nprojectile.addPoint(208,110);\nprojectile.addPoint(213,104);\nprojectile.addPoint(215,100);\ng.fillPolygon(projectile);\n\n//inner polygon, like a highlight\ng.setColor(Color.CYAN);\nPolygon innerColor = new Polygon();\nint scaleFactor = 80; \ndouble scale = scaleFactor / 100.0;\nfor (int i = 0; i &lt; projectile.npoints; i++) {\n    int smallX = (int) ((projectile.xpoints[i] - 220) * scale);\n    int smallY = (int) ((projectile.ypoints[i] - 120) * scale);\n    int x = 220 + smallX;\n    int y = 120 + smallY;\n    innerColor.addPoint(x, y);\n}\ng.fillPolygon(innerColor);\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":2659682,"body":"This is fine for an <code>ArrayList</code>, but the performance is <code>O(N^2)</code> for a <code>LinkedList</code>."},{"comment_id":2659722,"body":"Yes. for yours, the opposit is true."},{"comment_id":2659779,"body":"Sorry, for the original algorithm, the opposit is true."}],"answer_id":2644665,"body":"<p>This is probably faster:</p>\n\n<pre><code>for(int i=0,l=strings.size();i&lt;l;++i)\n{\n  strings.set(i, strings.get(i).toLowerCase());\n}\n</code></pre>\n"},{"answer_id":2644697,"body":"<p>Well, there is no real elegant solution due to two facts:</p>\n\n<ul>\n<li><code>String</code>s in Java are immutable</li>\n<li>Java gives you no real nice <code>map(f, list)</code> function as you have in functional languages.</li>\n</ul>\n\n<p>Asymptotically speaking, you can't get a better run time than your current method. You will have to create a new string using <code>toLowerCase()</code> and you will need to iterate by yourself over the list and generate each new lower-case string, replacing it with the existing one.</p>\n"},{"answer_id":2644719,"body":"<p>Try <a href=\"http://commons.apache.org/collections/api-release/org/apache/commons/collections/CollectionUtils.html#transform(java.util.Collection,%20org.apache.commons.collections.Transformer)\" rel=\"nofollow noreferrer\">CollectionUtils#transform in Commons Collections</a> for an in-place solution, or <a href=\"http://guava-libraries.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Collections2.html#transform(java.util.Collection,%20com.google.common.base.Function)\" rel=\"nofollow noreferrer\">Collections2#transform in Guava</a> if you need a live view.</p>\n"},{"answer_id":2644722,"body":"<p>I don't believe it is possible to do the manipulation in place (without creating another Collection) if you change strings to be a Set. This is because you can only iterate over the Set using an iterator or a for each loop, and cannot insert new objects whilst doing so (it throws an exception)</p>\n"},{"comments":[{"comment_id":13557704,"body":"Referring to your first solution: how would one return a ListIterator as List?"},{"comment_id":13574111,"body":"@rookie, Your question isn&#39;t clear. Are you asking how to use a ListIterator as a List? If so, then you can&#39;t. An Iterator is not a collection, but a pointer into one."},{"comment_id":104602688,"body":"With Java 8, the first example can be simplified to <code>strings.replaceAll(String::toLowerCase);</code> You could do a similar thing with the second, using <code>Arrays.asList(stringsArray).replaceAll(String::toLowerCase);</code>"}],"answer_id":2644731,"body":"<p>This seems like a fairly clean solution for lists.  It should allow for the particular List implementation being used to provide an implementation that is optimal for both the traversal of the list--in linear time--and the replacing of the string--in constant time.</p>\n\n<pre><code>public static void replace(List&lt;String&gt; strings)\n{\n    ListIterator&lt;String&gt; iterator = strings.listIterator();\n    while (iterator.hasNext())\n    {\n        iterator.set(iterator.next().toLowerCase());\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>This is the best that I can come up with for sets.  As others have said, the operation cannot be performed in-place in the set for a number of reasons.  The lower-case string may need to be placed in a different location in the set than the string it is replacing.  Moreover, the lower-case string may not be added to the set at all if it is identical to another lower-case string that has already been added (e.g., \"HELLO\" and \"Hello\" will both yield \"hello\", which will only be added to the set once).</p>\n\n<pre><code>public static void replace(Set&lt;String&gt; strings)\n{\n    String[] stringsArray = strings.toArray(new String[0]);\n    for (int i=0; i&lt;stringsArray.length; ++i)\n    {\n        stringsArray[i] = stringsArray[i].toLowerCase();\n    }\n    strings.clear();\n    strings.addAll(Arrays.asList(stringsArray));\n}\n</code></pre>\n"},{"answer_id":2644764,"body":"<p>You can do this with Google Collections:</p>\n\n<pre><code>    Collection&lt;String&gt; lowerCaseStrings = Collections2.transform(strings,\n        new Function&lt;String, String&gt;() {\n            public String apply(String str) {\n                return str.toLowerCase();\n            }\n        }\n    );\n</code></pre>\n"},{"answer_id":10489981,"body":"<p>Referring to the ListIterator method in the accepted (Matthew T. Staebler's) solution. How is using the ListIterator better than the method here?</p>\n\n<pre><code>public static Set&lt;String&gt; replace(List&lt;String&gt; strings) {\n    Set&lt;String&gt; set = new HashSet&lt;&gt;();\n    for (String s: strings)\n        set.add(s.toLowerCase());\n    return set;\n}\n</code></pre>\n"},{"comments":[{"comment_id":88979097,"body":"Though this is more elegant, this is not the more performant solution. <a href=\"https://jaxenter.com/java-performance-tutorial-how-fast-are-the-java-8-streams-118830.html\" rel=\"nofollow noreferrer\">Angelica&#39;s benchmark</a> for finding the max value in a list of boxed ints:  ArrayList, for-loop : 6.55 ms ArrayList, seq. stream: 8.33 ms"},{"comment_id":104602931,"body":"@thisisananth a benchmark (if we dare to call the undocumented methodology a benchmark) of an operation that searches for a maximum in an <code>int[]</code> array, is entirely unrelated to an operation converting a collection of strings to lower case. A list of boxed ints would be a <code>List&lt;Integer&gt;</code>, by the way, but that linked article uses <code>int[]</code>, which is an array of primitive ints. And since that will yield an <code>IntStream</code>, a serious developer would use <code>max()</code> rather than <code>reduce(Integer.MIN_VALUE, Math::max)</code> for that."},{"comment_id":125322682,"body":"Also if there is really large List it should be mentioned that there is an parrallelStream that can improve the performance for larger list."}],"answer_id":31104211,"body":"<p>Yet another solution, but with Java 8 and above:</p>\n\n<pre><code>List&lt;String&gt; result = strings.stream()\n                             .map(String::toLowerCase)\n                             .collect(Collectors.toList());\n</code></pre>\n"},{"answer_id":34355390,"body":"<p>I was looking for similar stuff, but was stuck because my <strong><em>ArrayList</em></strong> object was not declared as <strong>GENERIC</strong> and it was available as raw <strong>List</strong> type object from somewhere. I was just getting an <strong><em>ArrayList</em></strong> object \"_products\". So, what I did is mentioned below and it worked for me perfectly :: </p>\n\n<pre><code>List&lt;String&gt; dbProducts = _products;\n    for(int i = 0; i&lt;dbProducts.size(); i++) {\n        dbProducts.add(dbProducts.get(i).toLowerCase());         \n    }\n</code></pre>\n\n<p>That is, I first took my available <strong>_products</strong> and made a <strong>GENERIC</strong> list object (As I were getting only strings in same) then I applied the <strong>toLowerCase()</strong> method on list elements which was not working previously because of non-generic <strong><em>ArrayList</em></strong> object.</p>\n\n<p>And the method <strong><em>toLowerCase()</em></strong> we are using here is of <strong>String</strong> class.</p>\n\n<blockquote>\n  <p>String java.lang.String.toLowerCase()</p>\n</blockquote>\n\n<p>not of <strong>ArrayList</strong> or <strong>Object</strong> class.</p>\n\n<p>Please correct if m wrong. Newbie in JAVA seeks guidance. :)</p>\n"},{"comments":[{"comment_id":66812003,"body":"The order of strings in the result will be different"}],"answer_id":38787059,"body":"<p>Using JAVA 8 parallel stream it becomes faster </p>\n\n<pre><code>List&lt;String&gt; output= new ArrayList&lt;&gt;();\nList&lt;String&gt; input= new ArrayList&lt;&gt;();\ninput.add(\"A\");\ninput.add(\"B\");\ninput.add(\"C\");\ninput.add(\"D\");\ninput.stream().parallel().map((item) -&gt; item.toLowerCase())\n            .collect(Collectors.toCollection(() -&gt; output));\n</code></pre>\n"},{"comments":[{"comment_id":120388213,"body":"This won&#39;t work with immutable collections, like ones created using List.of(). Although, an elegant solution."}],"answer_id":54105619,"body":"<p>If you are fine with changing the input list here is one more way to achieve it.</p>\n\n<p><code>strings.replaceAll(String::toLowerCase)</code></p>\n"},{"answer_id":75577919,"body":"<p>Have used Java8 <strong>streams</strong> for <strong>lowercase</strong> of every element in a Collection.</p>\n<pre><code>List&lt;String&gt; groupNamesList =  new ArrayList&lt;&gt;();\ngroupNamesList.add(&quot;GroupOne&quot;);\ngroupNamesList.add(&quot;GroupTwo&quot;);\ngroupNamesList.add(&quot;GroupThree&quot;);\ngroupNamesList = groupNamesList.stream().map(groupName -&gt; groupName.toLowerCase()).collect(Collectors.toList());\n</code></pre>\n<p>Output:</p>\n<pre><code>[groupone,grouptwo,groupthree]\n</code></pre>\n"},{"comments":[{"comment_id":134567642,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76310933/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76310933,"body":"<p>private static void getOccuranceCount() {\nList listdemo=Arrays.asList(&quot;saradhi&quot;,&quot;bill&quot;,&quot;mike&quot;,&quot;Bill&quot;,&quot;MIKE&quot;);</p>\n<pre><code>Map&lt;String, Long&gt; collect = listdemo.stream().map(**String::toLowerCase**).collect(Collectors.groupingBy(e-&gt;e,Collectors.counting()));\nSystem.out.println(&quot;collector printing is : &quot;+collect);\n\n}\n</code></pre>\n"}],"last_activity_date":1684808405,"question_id":2644637,"body":"<p>What's the most efficient way to lower case every element of a List or Set?</p>\n\n<p>My idea for a List:</p>\n\n<pre><code>final List&lt;String&gt; strings = new ArrayList&lt;String&gt;();\nstrings.add(\"HELLO\");\nstrings.add(\"WORLD\");\n\nfor(int i=0,l=strings.size();i&lt;l;++i)\n{\n  strings.add(strings.remove(0).toLowerCase());\n}\n</code></pre>\n\n<p>Is there a better, faster way? How would this example look like for a Set? As there is currently no method for applying an operation to each element of a Set (or List) can it be done without creating an additional temporary Set?</p>\n\n<p>Something like this would be nice:</p>\n\n<pre><code>Set&lt;String&gt; strings = new HashSet&lt;String&gt;();\nstrings.apply(\n  function (element)\n  { this.replace(element, element.toLowerCase();) } \n);\n</code></pre>\n\n<p>Thanks,</p>\n"},{"comments":[{"comment_id":134567055,"body":"<code>NoClassDefFoundError: org&#47;springframework&#47;security&#47;oauth2&#47;server&#47;resource&#47;web&#47;Bear&zwnj;&#8203;erTokenResolver</code> looks like a missing runtime dependency"},{"comment_id":134567071,"body":"Also check out <a href=\"https://stackoverflow.com/a/75829647/18157\">this SO question</a>, which I found by searching for the NoClassDefFoundError message text."}],"answers":[{"answer_id":76310923,"body":"<p>Clean and Build your application through your preferred build tool manager (ex. Gradle), then check back again, if the issue still persists it might miss a dependency in the pom.xml (if maven) or build.gradle (if gradle) file.</p>\n"}],"last_activity_date":1684808245,"question_id":76310692,"body":"<p>Authenticating Azure AD token to authorize some endpoints/controllers</p>\n<p>Security configuration</p>\n<p>Compilation Error</p>\n<pre><code>Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/BearerTokenResolver\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\n\n    @Autowired\n    private TokenFilter tokenFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .authorizeRequests()\n                .antMatchers(\n                        &quot;/api/authenticate/username&quot;)\n                .permitAll().anyRequest().authenticated().and()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler)\n                .and()\n                .oauth2ResourceServer()\n                .jwt()\n                .jwtAuthenticationConverter(new AADJwtBearerTokenAuthenticationConverter());\n    }\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":134566974,"body":"From the structure of your code it looks like <code>enqueue</code> queues a callback object, which will then be executed asynchronously. In other words, your code continues onward in your thread while the callback is run on another thread.  If you expect the return to wait for completion of the request you will need to synchronize.  That will depend on the implementation of <code>TokensService</code>."},{"comment_id":134567378,"body":"I just updated the question with TokensService interface. How should I modify it in order to make execute() a suitable option for the request?"},{"comment_id":134568679,"body":"There is no way you can return the <code>listTokens</code> as a result of a method, even if you&#39;re using Retrofit. Firebase API is asynchronous. So please check the duplicate to see how can you solve this using a callback. You might also be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."}],"last_activity_date":1684807827,"question_id":76310396,"body":"<p>I am currently trying to get tokens from a Realtime Database (Firebase) using Retrofit2 and Gson, in Android Studio. My API class and TokensService is correctly defined, and I'm using the .enqueue() method in order to perform the GET command.</p>\n<p>TokensService</p>\n<pre><code>public interface TokensService {\n\n    @GET(&quot;Tokens.json&quot;)\n    Call&lt;Object&gt; getAllTokens();\n\n    @POST(&quot;Tokens.json&quot;)\n    Call&lt;Object&gt; postToken(@Body Tokens miToken);\n\n}\n</code></pre>\n<p>HelperTokens</p>\n<pre><code>public ArrayList&lt;Tokens&gt; getTokens() {\n        Arraylist&lt;Tokens&gt; listTokens=new ArrayList&lt;&gt;();\n        Retrofit myRetro = APIService.getInstancia();\n        TokensService myTokensService = myRetro.create(TokensService.class);\n\n            myTokensService.getAllTokens().enqueue(new Callback&lt;Object&gt;() {\n                @Override\n                public void onResponse(Call&lt;Object&gt; call, Response&lt;Object&gt; response) {\n\n                    //Here, I verified that the info is being received in the response.body()\n\n                    Map&lt;String,Map&gt; datos = (Map&lt;String, Map&gt;) response.body();\n\n                    for (Map.Entry&lt;String, Map&gt; item : datos.entrySet()){\n                        Log.d(&quot;Entered the for loop&quot;,&quot;iterations&quot;);\n                        Tokens eachToken = new Tokens();\n                        eachToken.setTheToken((String) item.getValue().get(&quot;theToken&quot;));\n                        eachToken.setfCreacion((String) item.getValue().get(&quot;fCreacion&quot;));\n                        eachToken.setLimited((double) item.getValue().get(&quot;isLimited&quot;));\n                        eachToken.setfVencimiento((String) item.getValue().get(&quot;fVencimiento&quot;));\n\n                        //Here, I assign each attribute to a new instance of &quot;Tokens&quot; and add it\n                        //to the Arraylist that will be returned from getTokens()\n\n                        listTokens.add(eachToken);\n                    }\n                    Log.d(&quot;Finishing onResponse, this is the Arraylist&quot;,listTokens.toString());\n                }\n                @Override\n                public void onFailure(Call&lt;Object&gt; call, Throwable t) {\n                    Log.d(&quot;Fallo&quot;,t.getMessage());\n\n                }\n            });\n\n        Log.d(&quot;Arraylist about to be returned&quot;,listTokens.toString());\n\n        return listTokens;\n\n    }\n</code></pre>\n<p>However, I'm having trouble with getting this right. There is no error, but the execution order looks a bit weird. As soon as I call the method getTokens() on my java.class, it goes through each line, creates the Arraylist, gets the Retrofit instance (singleton), creates the TokensService class, and finally arrives at the getAllTokens().enqueue().</p>\n<p>But it returns listTokens before entering the onResponse/onFailure. It returns an empty array, and just then goes into the onResponse and performs all it's tasks switfly. But there's nothing I can do with the empty Arraylist it returns. Is almost like onResponse executes with a delay</p>\n<p>Check the Logs and compare them to the following Logcat, so you can get what I'm talking about.</p>\n<p>ANNOTATIONS:</p>\n<p>The class for a singular instance is called Tokens, in plural. &quot;Token&quot; would be hard to work with, since is a word used in a lot of methods and commands, and etc. So keep it in mind.</p>\n<p>I just have one single Tokens up in the Realtime Database, so in the &quot;filled&quot; listTokens, you can only observe 1 Tokens being added. It's not because the for is only iterating once. I've tested it, and iterates as many times as there are Tokens in the database.</p>\n<p>Since I first thought it may be a online-type issue, like a little delay in the connection, I tried to Thread.sleep() the program, so that the connection would have time more than enough to perform it's duties. But no matter how much time it sleeps, the return command keeps executing before the onResponse</p>\n"},{"comments":[{"comment_id":134575122,"body":"I&#39;m a freelance solution architect if you want you can contact me and we can establish a price were we both feel confortable. You should be able to find me on linkedin"}],"last_activity_date":1684807187,"question_id":76310860,"body":"<p>i'm requiered to build a spring microservices system where an admin manage supervisors and interns, supervisors create and assign tasks to interns, and interns update task statuses and upload reports for completed tasks.</p>\n<p>Can you help me for the architecture of microservices ?</p>\n<p>and if it's possible to have a database per service, because it's part of the requierement.</p>\n<p>thank you for your help!</p>\n<p>i did build a monolith application if that can make it easy for me</p>\n"},{"comments":[{"comment_id":134569732,"body":"We recently built the Erlang 25.x for centos 7. See <a href=\"https://github.com/rabbitmq/erlang-rpm/releases/tag/v25.3.2\" rel=\"nofollow noreferrer\">github.com/rabbitmq/erlang-rpm/releases/tag/v25.3.2</a>"}],"last_activity_date":1684806692,"question_id":76310841,"body":"<p>For installing a RabbitMQ cluster on CentOS 7.9, what is the maximum version supported and what version are most people using?</p>\n<p>I installed version 3.8.18, but it is too old</p>\n<p>and erlang version supported,rabbitMQ and erlang supported</p>\n"},{"last_activity_date":1684805671,"question_id":76310795,"body":"<p>I´m working on a react native app, and started recently to implement some native modules. I´m trying to handle an ArrayList in java but I am having trouble understanding how react implements ReadableArrays. I don´t really know much about java, I usually work with js.</p>\n<p>I have the following function in java:</p>\n<pre><code>@ReactMethod\n    private void serveCoffee(ReadableArray steps) {\n        ArrayList&lt;Object&gt; recipe = steps.toArrayList();\n        String listString = TextUtils.join(&quot;, &quot;, recipe);\n        Log.d(&quot;MachineDriverModule&quot;, listString);\n    }\n</code></pre>\n<p>I then use it in React defined like this:</p>\n<pre><code>type step = {\n    canister: number,\n    water_volume: number,\n    powder_volume: number,\n    stirring_speed: number,\n    water_temperature: string,\n}\n\nserveCoffee(steps: Array&lt;step&gt;): void;\n</code></pre>\n<p>I have no problem with that code, but I have no idea how to get any value inside java. The function prints as expected (two identical steps inside the array): <code>{canister: 1, water_volume: 1, powder_volume: 1, stirring_speed: 1, water_temperature: string}, {canister: 1, water_volume: 1, powder_volume: 1, stirring_speed: 1, water_temperature: string} </code></p>\n<p>Now, how would I get the value of canister or water_temperature of any of these?</p>\n"},{"answers":[{"comments":[{"comment_id":4864012,"body":"cannot find symbol symbol  : method setText(java.lang.String) location: class java.lang.Object \t\t   \t\t\t     VolatilityTableModel.data[0][0].setText(TextLine);"},{"comment_id":4864052,"body":"<code>Object</code> has no member <code>setText</code>.  You will have to cast the result to the appropriate type."}],"answer_id":4451966,"body":"<p>If you want the fields to be global, you need to declare them static:</p>\n\n<pre><code>static String[] columnNames = ...\n\nstatic Object[][] data = ...\n</code></pre>\n\n<p>Without the <code>static</code> keyword, the fields belong to <em>instances</em> of <code>OptraderGlobal</code> and not to the class itself.</p>\n"},{"answer_id":4451972,"body":"<p>Make columnNames static.</p>\n"},{"comments":[{"comment_id":4864233,"body":"Many thanks for your advise, so better to make an instance of Volatatility table model in the class I want to acess the variable?"}],"answer_id":4451976,"body":"<p>If you want something to be global to a class, you need to declare it as <code>static</code>.  This means that the field is associated with the class itself (only one copy), rather than a new version being created for each instance.</p>\n\n<p>Since you didn't do this at present, you ended up with the error copied in your VolatilityTableModel - you can't reference the field without some <em>particular</em> instance of OptraderGlobal.</p>\n\n<p>I would suggest that you take a look at some resources dealing with <a href=\"http://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow\">Object oriented programming</a> - both this mistake, and your design as a whole (i.e. globals are generally a bad idea), indicate perhaps a lack of familiarity with these principles.  Since Java is an object-oriented language, becoming familiar with this style will help you no end.</p>\n"},{"comments":[{"comment_id":4862823,"body":"Technically, they don&#39;t need to be <code>public</code> so long as all the accessing classes are within the same package.  (And it looks like everything&#39;s in the default package).  While I agree with you that these <i>should</i> be public and non-default packages <i>should</i> be used, there also <i>shouldn&#39;t</i> be global/static variables so I guess it&#39;s varying levels of moot. :-)"},{"comment_id":4862892,"body":"@Andr, you are correct.  It doesn&#39;t need to be public, but, for them to truly be global, they need to be public."},{"comment_id":4864008,"body":"Hiya,Thanks for the help but it is still saying... cannot find symbol symbol : method setText(java.lang.String) location: class java.lang.Object DividendsTableModel.data[0][0].setText(TextLine); Not sure what to do now regards Stephen"},{"comment_id":4864479,"body":"@Stephen, <code>data</code> is an <code>Object</code> array.  It doesn&#39;t have the method <code>setText()</code>.  You probably don&#39;t want to be using an <code>Object[][]</code> in this case.  But without more information it is hard to say."},{"comment_id":4867574,"body":"Yes thanks you&#39;re right. These are table values that I write to a file say x.dat I open the file and i want to read the data back into the data array - what do I use the object data[][] has no setText() property? Thank you for your help"}],"answer_id":4451984,"body":"<p>You need to declare them as <code>public static</code> to access them the way you want.</p>\n\n<pre><code>public static String[] columnNames\n           = {\"Ex-Date\",\n              \"Dividend\",\n              \"Actual\",\n              \"Yield (%)\"\n             };\n\npublic static Object[][] data  = {\n       {\"dd/mm/yyyy\", new Double(5), new Boolean(false), \n                 {\"21/12/2013\", new Double(5), new Boolean(false)};\n                     }\n</code></pre>\n\n<p>You should declare the classes as public as well.</p>\n"},{"comments":[{"comment_id":4864023,"body":"Hiya still have problems as it is saying"}],"answer_id":4451988,"body":"<p>You have to learn more about <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow\">member fields in Java</a>.</p>\n\n<p>In your case if you want them just accessible from other classes without creating an instance of <code>OptTraderGlobal</code>, you have to make <code>columnNames</code> and <code>data</code> <code>static</code>.</p>\n"},{"answer_id":76310767,"body":"<p>You can either create a new instance of <code>OptraderGlobal</code>, or declare the <code>columnNames</code> variable as <code>static</code>.</p>\n<p>It appears you are trying to access it in a static contex</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String[] columnNames = { &quot;Ex-Date&quot;, &quot;Dividend&quot;, &quot;Actual&quot;, &quot;Yield (%)&quot; };\n</code></pre>\n"}],"last_activity_date":1684805186,"question_id":4451937,"body":"<p>I have a simple question regarding how to access global variables and global array information which I have had no luck.</p>\n\n<p>I have two Java files, but can't access the string and array information in my application <code>Optrader.java</code>.</p>\n\n<ol>\n<li>Optrader.java</li>\n<li>OptraderGlobals</li>\n</ol>\n\n<p>My OptraderGlobal.java file:</p>\n\n<pre><code> class OptraderGlobal\n {\n    String[] columnNames\n           = {\"Ex-Date\",\n              \"Dividend\",\n              \"Actual\",\n              \"Yield (%)\"\n             };\n\n  Object[][] data  = {\n       {\"dd/mm/yyyy\", new Double(5), new Boolean(false), \n          {\"21/12/2013\", new Double(5), new Boolean(false)};\n       }\n}\n</code></pre>\n\n<p>My Optrader.java file:</p>\n\n<pre><code>/* Volatility Table Model is  CLASS within Optrader.java */\n//Create Volatility Table\nclass VolatilityTableModel extends AbstractTableModel\n{\n   public int getColumnCount()\n   {\n         return OptraderGlobal.columnNames1.length;\n    }   \n }\n</code></pre>\n\n<p>error:</p>\n\n<pre><code> non-static variable columnNames cannot be\n referenced from a static context\n return OptraderGlobal.columnNames.length;\n</code></pre>\n\n<p>Also I need to access the global array data within other classes in Optrader.java.</p>\n"},{"comments":[{"comment_id":133578121,"body":"Have you tried anything yet? Using <code>substring</code> with a few length checks should to the trick. Nobody here will just do your homework for you if you don&#39;t show what you&#39;ve tried."},{"comment_id":133579403,"body":"I figured out a way :)"}],"answers":[{"answer_id":75754323,"body":"<p>A similar issue was resolved here <a href=\"https://www.geeksforgeeks.org/generate-all-rotations-of-a-number/\" rel=\"nofollow noreferrer\">Generate all rotations of a number</a></p>\n<pre><code>public class Pattern28 {\n\n\n        // Function to return the count of digits of n\n        static int numberOfDigits(int n)\n        {\n            int cnt = 0;\n            while (n &gt; 0)\n            {\n                cnt++;\n                n /= 10;\n            }\n            return cnt;\n        }\n\n        // Function to print the left shift numbers\n        static void cal(int num)\n        {\n            int digits = numberOfDigits(num);\n            int powTen = (int) Math.pow(10, digits - 1);\n\n            for (int i = 0; i &lt; digits - 1; i++)\n            {\n                int firstDigit = num / powTen;\n\n                // Formula to calculate left shift\n                // from previous number\n                int left = ((num * 10) + firstDigit) -\n                        (firstDigit * powTen * 10);\n\n                System.out.println(left + &quot; &quot;);\n\n                // Update the original number\n                num = left;\n            }\n        }\n\n        // Driver Code\n        public static void main(String[] args)\n        {\n            int num = 1445;\n            Scanner sc = new Scanner(System.in);\n            System.out.println(&quot;Please enter your number ?&quot;);\n            int n = sc.nextInt();\n            cal(n);\n        }\n    }\n</code></pre>\n"},{"answer_id":76298475,"body":"<p>Append the first character of the string to the end, and <code>substring</code> the string at index <code>1</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String rotate(String string) {\n    return string.substring(1) + string.substring(0, 1);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;13579&quot;;\ndo {\n    System.out.println(string);\n    string = rotate(string);\n} while (!string.equals(&quot;13579&quot;));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>13579\n35791\n57913\n79135\n91357\n</code></pre>\n<p>If you need all these values in a <code>String</code> array, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;13579&quot;;\nString[] strings = new String[string.length()];\nfor (int index = 0; index &lt; strings.length; index++) {\n    strings[index] = string;\n    string = rotate(string);\n}\n</code></pre>\n<p>Output of <code>strings</code></p>\n<pre class=\"lang-none prettyprint-override\"><code>[13579, 35791, 57913, 79135, 91357]\n</code></pre>\n"}],"last_activity_date":1684804746,"question_id":75720392,"body":"<p>Basically I have a string of numbers and that string will be dynamic in nature both content wise and length wise ex. &quot;13579&quot;, &quot;12345789&quot; etc.\nIf the length of string is n then I want to create n strings from it.\nSuppose string is &quot;13579&quot; then I have to create 5 Strings from it starting from different index like below:</p>\n<pre class=\"lang-none prettyprint-override\"><code>13579\n35791\n57913\n79135\n91357\n</code></pre>\n<p>How can I do this using a generic loop which works for all the string lengths?</p>\n<p>Can someone help?</p>\n<p>Thank!!!</p>\n<h2>EDIT:</h2>\n<p>Here is what I have tried</p>\n<pre><code>public class Pattern28 {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    Scanner sc= new Scanner(System.in);\n    int n= sc.nextInt();\n    int i=1;\n    int odd=1;\n    String sNum=&quot;&quot;;\n    while(i&lt;=n) {\n        int j=1;\n        if(i==1) {\n        while(j&lt;=n) {\n           System.out.print(odd);\n         if(i==1 &amp;&amp; j&lt;=n) sNum=sNum.concat(Integer.toString(odd)); //to get first row numbers in string\n            odd+=2;\n            j++;\n        }\n    }\n    //System.out.println(&quot;im &quot;+sNum);\n    j=i-1;\n    if(i!=1) {\n        //  int k=i-1;\n        while(j&lt;=n) {\n            System.out.print(sNum.charAt(j));\n            j++;\n        }\n    }\n    System.out.println();\n    i++;\n}\n}\n}\n</code></pre>\n<p>Stuck at last while loop. Every time I do something there I end up with &quot;java.lang.StringIndexOutOfBoundsException&quot; as index either reaches string length+ or goes in negative.</p>\n"},{"comments":[{"comment_id":134560298,"body":"Because the array is declared as an <code>Animal[]</code>, in other words: according to the type of the variable, the type of the elements in the array is <code>Animal</code> and not some specific subtype of <code>Animal</code>. This doesn&#39;t have anything to do with arrays; it&#39;s exactly the same as with &#39;normal&#39; (non-array) variables."},{"comment_id":134560369,"body":"You can check the runtime type of the array contents (e.g. with the instanceof operator) and cast to the resulting type. But this is usually a bad idea."},{"comment_id":134560591,"body":"Because that&#39;s not how polymorphism works."},{"comment_id":134560765,"body":"An <code>Animal</code> is not a <code>Dog</code>. A list of animals can include any animal, not just dogs. Calling <code>setBreedOfDog</code> only makes sense for a dog. <i>(Tangential: <code>setBreed</code> is sufficient--you already know it&#39;s a <code>Dog</code>, and <code>setBreed</code> is a general-purpose method that might belong on <code>Animal</code>)</i>."},{"comment_id":134560774,"body":"You could abstract a method such as &quot;setBreed&quot; to Animal class, then you could call  Animal object&#39;s &quot;setBreed&quot; and actually invoke subclass&#39;s &quot;Dog&quot; method. This is polymorphism in Java."},{"comment_id":134560975,"body":"Why are you putting an Animal in the dog instance? I assume a Dog is a subclass of Animal. Or are you not using inheritance?"}],"answers":[{"answer_id":76310741,"body":"<p>You'll need to cast your array item to the representing class, <code>Dog</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Animal[] c = new Animal[6];\nc[0] = new Dog();\n((Dog) c[0]).setBreedOfDog(&quot;Pug&quot;);\n</code></pre>\n"}],"last_activity_date":1684804534,"question_id":76306973,"body":"<p>In java, can I create an array of a parent class that contains its subclasses. Then after that, can I apply the methods found in the subclass to the object in the array.</p>\n<p>For example,</p>\n<pre><code>Animal[] c =new Animal[6]; \n\nc[0] = new Dog(new Animal()); \n \nc[0].setBreedOfDog(&quot;Pug&quot;)\n</code></pre>\n<p>In this, I create an parent array using Animal, and then put in the subclass Dog into it. But when I try to use a setter in the Dog class, I get an error. <strong>Can't I do this with pointers?</strong> Can anyone tell me why this is. Thank you.</p>\n"},{"answers":[{"answer_id":76310736,"body":"<p>Add the below code statement</p>\n<pre><code>    webView?.getSettings().setDomStorageEnabled(true);\n</code></pre>\n<p>Also add <strong>www.</strong> in the beginning of URL</p>\n<pre><code>webView.loadUrl(&quot;https://www.softcommerceltd.com/&quot;)\n</code></pre>\n<p>for reference:\n<a href=\"https://stackoverflow.com/questions/16207094/android-webview-not-loading-url\">Android WebView not loading URL</a></p>\n"}],"last_activity_date":1684804458,"question_id":76306575,"body":"<p>when i replace webView.loadUrl(&quot;https://softcommerceltd.com/&quot;); to webView.loadUrl(&quot;https://google.com/&quot;); then the app works fine , i can brows google and do everything. but when i put my website url then when i run the app the app shows blank activity. my internet is fine. how i can solve that issue? is that fault of my website? that website working fine in my browser.</p>\n<p>Mainactivity.java:</p>\n<pre><code>\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        CustomWebViewClient client = new CustomWebViewClient(this);\n\n        webView = findViewById(R.id.webView);\n        webView.setWebViewClient(client);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.loadUrl(&quot;https://softcommerceltd.com/&quot;);\n    }\n\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event){\n        if(keyCode == KeyEvent.KEYCODE_BACK &amp;&amp; this.webView.canGoBack()){\n            this.webView.goBack();\n            return true;\n        }\n        return super.onKeyDown(keyCode, event);\n    }\n}\n\nclass CustomWebViewClient extends WebViewClient{\n    private Activity activity;\n    public CustomWebViewClient(Activity activity){\n        this.activity = activity;\n    }\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView webView, String url){\n        return false;\n    }\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView webView, WebResourceRequest request){\n        return false;\n    }\n}\n</code></pre>\n<p>activity_main.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;WebView\n        android:id=&quot;@+id/webView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>AndroidManifest.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.tochy.webapp&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Tochy&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134567208,"body":"Yes. You forgot to ask a question, but eclipse (and Java in general) can use a lot of memory (especially if you don&#39;t limit it in the <code>eclipse.ini</code> file). Using 3GB of memory should not make anything crash."},{"comment_id":134567304,"body":"Also forgot to mention versions, plugins used and to use text instead of images."},{"comment_id":134567309,"body":"Just a guess but as a very complex IDE Eclipse may ell consume lots of memory, depending on what you are using it for."}],"last_activity_date":1684803893,"question_id":76310714,"body":"<p>I am not an expert on Java but for some reason java is taking like 3GB of memory usage. This is most likely causing the system to crash. I would like some guidance on where the problem is.</p>\n<p>I am using eclipse on a ubuntu 22.04\n<a href=\"https://i.stack.imgur.com/xmZLf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xmZLf.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NqiQ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NqiQ9.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/OLmdx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OLmdx.png\" alt=\"enter image description here\" /></a></p>\n"},{"answers":[{"comments":[{"comment_id":9080890,"body":"I agree, this would be a good test. Besides, wireless is never as good as it says on the box. That&#39;s why they have &quot;up to 108Mbps&quot;, instead of just &quot;108Mbps&quot;. If you were to try the same code using an actual cable, I&#39;m quite sure you would reach a very reasonable/realistic speed."}],"answer_id":7500102,"body":"<p>At 2.8MB/s, it is unlikely that the slowness has anything to do with your code. It is almost certainly due to the wireless network not being able to achieve the theoretical throughput (possibly due to environmental conditions).</p>\n\n<p>It's easy to test whether this is the case: simply time a large <code>ftp</code> or <code>scp</code> file transfer between the same two computers and see what kind of throughput you're seeing.</p>\n"},{"comments":[{"comment_id":9081187,"body":"I tried increasing it to 128K, 1MB, 1.2Mb and the speed was lower. I gave up trying different buffer sizes after that."}],"answer_id":7500285,"body":"<p>Your timer is wrong ! you should start it after you accept the connection not when you start the host</p>\n\n<p>Did you try increasing your buffer size ?</p>\n"},{"comments":[{"comment_id":9081094,"body":"Locally, my results are: Server:  <code>Wed Sep 21 15:26:37 CEST 2011: Accepted a connection Exception in thread &quot;main&quot; java.io.IOException: An existing connection was forcibly closed by the remote host \tat sun.nio.ch.SocketDispatcher.read0(Native Method) \tat sun.nio.ch.SocketDispatcher.read(Unknown Source) \tat sun.nio.ch.IOUtil.readIntoNativeBuffer(Unknown Source) \tat sun.nio.ch.IOUtil.read(Unknown Source) \tat sun.nio.ch.SocketChannelImpl.read(Unknown Source) \tat EchoServerMain.main(EchoServerMain.java:22)</code>"},{"comment_id":9081105,"body":"Client:     Wed Sep 21 15:26:37 CEST 2011 Sending for 10.0 seconds.    Wed Sep 21 15:26:47 CEST 2011 ... sent.    Wed Sep 21 15:26:48 CEST 2011 ... received 85393408    Send and received 7.5 MB/s` Windows 7, Core i5 2500K"},{"comment_id":9081225,"body":"If you consider the total bandwidth over the network is double that, does that sound about right? I assume you are using the wireless, not loop back as I am getting 2 GB/s each way over loop back."},{"comment_id":9081385,"body":"Thats loop back not over the network. It just disconnects and gives a bad reading. I don&#39;t know why. I&#39;m using Windows 7, it&#39;s almost a clean install."},{"comment_id":9081458,"body":"The client wasn&#39;t gracefully closing the connection which could have triggered the error on the other end. I have added an <code>s.close()</code>"},{"comment_id":9081494,"body":"BTW: I have Ubuntu 11.0 Core i7 2600K @ 3.8 GHz."},{"comment_id":9081594,"body":"I have Core i5, JDk 6 and Windows 7. It now gives me:  Wed Sep 21 15:47:57 CEST 2011 Sending for 10.0 seconds. Wed Sep 21 15:48:07 CEST 2011 ... sent. Wed Sep 21 15:48:07 CEST 2011 ... received 484638720 Send and received 46.2 MB/s  Wed Sep 21 15:47:57 CEST 2011: Accepted a connection Wed Sep 21 15:48:07 CEST 2011: Transfer rate was 46.2 MB/s"},{"comment_id":9082136,"body":"I imagine you are using a laptop. Even so, it should be much faster, AFAIK."},{"comment_id":9091745,"body":"There are problems with this code. You aren&#39;t taking account of the return value of write(). If writing falls behind reading, the buffer will fill, read() will return zero, and your loop will terminate prematurely. The correct idiom is <code>while ((len = in.read(buffer) &gt;= 0 || buffer.position() &gt; 0) ... </code>"},{"comment_id":9095623,"body":"@EJP, I think I can see what your saying and I did need to check the result of write.  I fairly liberally clear the buffer because I&#39;m not interested in the contents, only the length of data.  This is not normal practice. I think I should re-write in case someone copies the code without realising this."},{"comment_id":9100999,"body":"Peter, the standard idiom is <code>while ((len = in.read(buffer)) &gt;= 0 || buffer.position() &gt; 0) { buffer.flip(); out.write(buffer); buffer.compact(); }</code> ... and you certainly shouldn&#39;t throw EOFException on a <i>write</i> error. T"}],"answer_id":7500397,"body":"<p>I suggest you try the following code which prints</p>\n\n<pre><code>Wed Oct 26 14:21:03 BST 2011: Accepted a connection\nWed Oct 26 14:21:13 BST 2011: Transfer rate was 3212.5 MB/s\n</code></pre>\n\n<p>on the server and on the client prints</p>\n\n<pre><code>Wed Oct 26 14:21:03 BST 2011 Sending for 10.0 seconds.\nWed Oct 26 14:21:13 BST 2011 ... sent.\nWed Oct 26 14:21:13 BST 2011 ... received 33691287552\nSend and received 3212.8 MB/s\n</code></pre>\n\n<p>Note: the total amount transferred is double this as everything sent client to server is sent server to client.</p>\n\n<hr>\n\n<pre><code>import java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.ServerSocketChannel;\nimport java.nio.channels.SocketChannel;\nimport java.util.Date;\n\npublic class EchoServerMain {\n  public static void main(String... args) throws IOException {\n    int port = args.length &lt; 1 ? 55555 : Integer.parseInt(args[0]);\n    ServerSocketChannel ss = ServerSocketChannel.open();\n    ss.socket().bind(new InetSocketAddress(port));\n    while (!ss.socket().isClosed()) {\n      SocketChannel s = ss.accept();\n      System.out.println(new Date() + \": Accepted a connection\");\n      long start = System.nanoTime();\n      ByteBuffer bytes = ByteBuffer.allocateDirect(32*1024);\n      int len;\n      long total = 0;\n      // Thank you @EJP, for a more elegant single loop.\n      while ((len = s.read(bytes)) &gt;= 0 || bytes.position() &gt; 0) { \n        bytes.flip(); \n        s.write(bytes); \n        bytes.compact(); \n        total += len;\n      }\n      long time = System.nanoTime() - start;\n      System.out.printf(new Date() + \": Transfer rate was %.1f MB/s%n\", total * 1e9 / 1024 / 1024 / time);\n    }\n    ss.close();\n  }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import java.io.EOFException;\nimport java.io.IOException;\nimport java.net.InetSocketAddress;\nimport java.net.Socket;\nimport java.net.UnknownHostException;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.SocketChannel;\nimport java.util.Date;\n\npublic class EchoClientMain {\n  public static void main(String ... args) throws IOException {\n    String hostname = args.length &lt; 1 ? \"localhost\" : args[0];\n    int port = args.length &lt; 2 ? 55555 : Integer.parseInt(args[1]);\n    double seconds = args.length &lt; 3 ? 10 : Double.parseDouble(args[2]);\n\n    SocketChannel s = SocketChannel.open(new InetSocketAddress(hostname, port));\n    s.configureBlocking(false);\n    ByteBuffer bytes = ByteBuffer.allocateDirect(32*1024);\n\n    System.out.printf(new Date()+ \" Sending for %.1f seconds.%n\", seconds);\n    long start = System.nanoTime();\n    long dataSent = 0, dataReceived = 0;\n    // run for 10 seconds.\n    while(start + seconds*1e9 &gt; System.nanoTime()) {\n      bytes.clear();\n      int wlen = s.write(bytes);\n      if (wlen &lt; 0) throw new IOException();\n      dataSent += wlen;\n\n      bytes.clear();\n      int rlen = s.read(bytes);\n      if (rlen &lt; 0) throw new EOFException();\n      dataReceived += rlen;\n    }\n    System.out.println(new Date()+ \" ... sent.\");\n\n    while(dataReceived &lt; dataSent) {\n      bytes.clear();\n      int rlen = s.read(bytes);\n      if (rlen &lt; 0) throw new EOFException();\n      dataReceived += rlen;\n    }\n    s.close();\n    long time = System.nanoTime() - start;\n    System.out.println(new Date()+ \" ... received \"+dataReceived);\n    System.out.printf(\"Send and received %.1f MB/s%n\", dataReceived * 1e9/1024/1024/time);\n  }\n}\n</code></pre>\n"},{"comments":[{"comment_id":9081305,"body":"(my answer, &quot;test same program over different links&quot; is complementary to @aix&#39;s answer: &quot;test different programs over same link&quot;)"}],"answer_id":7500696,"body":"<p>Test the same program using a wired, Fast Ethernet (100Mbit/s) link between the computers (and then possibly using a 1Gbit link). That way, you'll see whether the transfer rate is actually limited by your program or by the link.</p>\n"},{"answer_id":7515203,"body":"<p>Just set a very large socket send buffer, and if possible set a very large socket receive buffer at the receiver. Code 'optimizations' contribute basically nothing to these scenarios.</p>\n<p>Set a very large socket receive buffer at the receiver, 256K or more. Use a <code>BufferedOutputStream</code> around the <code>FileOutputStream</code> so that you are always writing to block boundaries. NB your test <code>if (bytesRead &gt; 0)</code> can never be false. The only way <code>InputStream.read()</code> can return zero is if you supply a zero length buffer or a zero length parameter, and you aren't. I would get rid of the <code>println()</code> calls inside the loops.</p>\n"}],"last_activity_date":1684803692,"question_id":7500059,"body":"<p>I have two wireless computers connected to an N wireless router. Each of these PCs are connected at between 108-150Mbps.</p>\n<p>Theoretically, I should be able to transfer at 13.5MB/s to 18.75MB/s, under the absolute best of conditions.</p>\n<p>The first computer (that is sending), uses a very fast SSD, which is around 100MB/s if I remember correctly. CPU usage also stays below 20%.</p>\n<p>It sent 1960273535 bytes (1.8GB) in 656367ms. That's 2.8MB/s (22 out of 108 Megabits).\nWhen I open up task manager, I see that only 25-27% of the network connection is being used.</p>\n<p>I am looking for any ideas, suggestions, or improvements that can make the transfer faster (over a network). I was thinking of buffering the file from the disk on a thread and sending the buffered data from another thread but I'm not sure if it's a good idea.\nHere is the SSCCE:</p>\n<p>Host:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\n\npublic class Host {\n\n\n    public static void main(String[] args) throws IOException {\n        \n        \n        ServerSocket servsock = new ServerSocket(15064);\n        Socket sock = servsock.accept();\n            long time = System.currentTimeMillis();\n\n        OutputStream out = sock.getOutputStream();\n        FileInputStream fileInputStream = new FileInputStream(&quot;C:\\\\complete.rar&quot;);\n\n        byte [] buffer = new byte[64*1024]; \n        int bytesRead = 0;\n        long totalSent = 0;\n        \n        while ( (bytesRead = fileInputStream.read(buffer)) != -1)\n        {\n            if (bytesRead &gt; 0)\n            {   \n                out.write(buffer, 0, bytesRead);\n                totalSent += bytesRead;\n                System.out.println(&quot;sent &quot; + totalSent);\n            }   \n        }\n        \n        sock.close();\n        \n        System.out.println(&quot;Sent &quot; + totalSent + &quot; bytes in &quot;\n                + (System.currentTimeMillis() - time) + &quot;ms.&quot;);\n        \n    }\n}\n</code></pre>\n<p>Client:</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class Client {\n\n    public static void main(String[] args) throws Exception {\n        Socket sock = new Socket(&quot;127.0.0.1&quot;, 15064);\n        InputStream in = sock.getInputStream();\n        FileOutputStream fileOutputStream = new FileOutputStream(&quot;output.rar&quot;);\n\n        byte [] buffer = new byte[64*1024]; \n        int bytesRead = 0;\n\n        while ( (bytesRead = in.read(buffer)) != -1)\n            fileOutputStream.write(buffer, 0, bytesRead);\n        sock.close();\n        fileOutputStream.close();\n    }\n}\n</code></pre>\n<p>Edit: I tried mapping a network drive and sending the file over that, and windows did even worse - 2.35MB/s. According to <a href=\"http://webcache.googleusercontent.com/search?q=cache:gWffoluxtm4J:www.seabreezecomputers.com/tips/filexfer.htm%20Fastest%20wireless%20Lan%20file%20transfer&amp;cd=1&amp;hl=en&amp;ct=clnk\" rel=\"nofollow noreferrer\">this article</a> mapping a network drive is faster than FTP, and I also don't have the time to stay playing around and setting up the FTP server.</p>\n<p>Edit2: After changing the timer, turns out it was transferring at 3MB/s over WiFi. I hate the &quot;theoretical&quot; throughput. When I buy something, I want to know it's REAL performance.\nIt turns out the code is indeed limited by WiFi speeds. I am still open to suggestions though.</p>\n<p>Edit 3: After running the program on 100Mbps LAN, it managed to transfer the file at 11.8MB/s. That's pretty good considering that the maximum transfer rate is 12.5MB/s.</p>\n"},{"answers":[{"answer_id":76310699,"body":"<p>Reading the error, this might take place when the jackson library (responsible for (de-)serializing the incoming and outgoing request/response objects from json to their respective objects and vice versa.</p>\n<p>The problem you have might be one of two things, or both:</p>\n<ul>\n<li>You didn't set the property content-type when making a request to the backend</li>\n<li>You didn't annotate the motivationFile properly</li>\n</ul>\n<p>When sending the request, be sure to use the form data content type.\nFor your entity class, you'd have to annotate the field with @Lob and optionally define what type of file you're saving.\nE.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\n    @Lob\n    @Type(type=&quot;org.hibernate.type.MaterializedBlobType&quot;)\n    private Blob motivationFile\n//...\n</code></pre>\n"}],"last_activity_date":1684803578,"question_id":76309903,"body":"<p>I am starting to work on a project with spring boot and angular, and I have a database where I want to store a file. I have set this column to Blob, but after populating my database, with files, Spring does not want to work anymore.</p>\n<p>Here is the error I got :</p>\n<pre><code>ERROR[0;39m [35m19036[0;39m [2m---[0;39m [2m[nio-8080-exec-7][0;39m [36mo.a.c.c.C.[.[.[.[dispatcherServlet]     [0;39m [2m:[0;39m Servlet.service() for servlet [dispatcherServlet] in context with path [/alternance] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class java.io.ByteArrayInputStream]] with root cause  com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ByteArrayInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: java.util.ArrayList[7]-&gt;com.alternance.dto.StageDTO[&quot;motivationFile&quot;]-&gt;jdk.proxy2.$Proxy134[&quot;wrappedBlob&quot;]-&gt;com.mysql.cj.jdbc.Blob[&quot;binaryStream&quot;])   \n</code></pre>\n<p>Here is the code that seems to be the problem :</p>\n<pre><code>import java.sql.Blob;\nimport java.util.Date;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Stage {\n    \n    @Id\n    @GeneratedValue (strategy = GenerationType.IDENTITY)\n    private Long id;\n    private Blob motivationFile;\n</code></pre>\n<p>Can someone help me ?</p>\n"},{"comments":[{"comment_id":134567041,"body":"<code>-\\&gt;</code> and <code>`your text`</code> seem incorrect. Please <a href=\"https://stackoverflow.com/posts/76310523/edit\">edit</a> your question to format it properly"},{"comment_id":134571475,"body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"last_activity_date":1684803229,"question_id":76310523,"body":"<p>I'm trying to code a Minecraft mod and i am trying to create a command to disable the mod.Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.totemwarns;\n\nimport net.fabricmc.api.ClientModInitializer;\nimport net.fabricmc.fabric.api.command.v2.CommandRegistrationCallback;\nimport net.minecraft.text.Text;\n\npublic class totemwarns implements ClientModInitializer {\n@Override\npublic void onInitializeClient() {\nCommandRegistrationCallback.EVENT.register((dispatcher, registryAccess, environment) -\\&gt;            `your text`dispatcher.register(((Object) literal(&quot;totemwarns&quot;))    \n.executes(context,ItemUsage -\\&gt; {\n context.getSource().sendMessage(Text.literal(&quot;Called /totemwarns with no arguments&quot;));\n\n        return 1;\n      })));\n    }\n\n    private Object literal(String string) {\n        return null;\n    }\n</code></pre>\n<p>everything else is fine except for the context which i know nothing about and i really need help</p>\n<p>Ive tried changing the syntax and googling it but it simply does not work.</p>\n"},{"comments":[{"comment_id":71233756,"body":"Apache commons has a function that escapes html aka converts characters to HTML entities. See function escapeHtml: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/&zwnj;&#8203;&hellip;</a>"},{"comment_id":71233843,"body":"You could run this through an HTML reader. Though it isn&#39;t a complete document. <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/text/html/HTMLDocument.HTMLReader.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/swing/text/html/&hellip;</a>"},{"comment_id":71234155,"body":"Btw. Are you talking about an android ListView? in that case this might help: <a href=\"http://stackoverflow.com/questions/6502759/how-to-strip-or-escape-html-tags-in-android\" title=\"how to strip or escape html tags in android\">stackoverflow.com/questions/6502759/&hellip;</a>"},{"comment_id":71234342,"body":"@DejaVuSansMono Sorry but I don&#39;t know how to do it. Can you explain better how to use it please?"}],"answers":[{"answer_id":49206797,"body":"<p>If you heal the html, it will be rendered fine by many Swing components, without assistance:</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Se0124 extends JFrame\n{\n    String myString = \"&lt;html&gt;\" +\n                   \"The accuracy of a potentiometer (pH meter) is\" +\n                   \"&amp;#177;0.1 mV. A solution contains 1x10&lt;SUP&gt;-4&lt;/SUP&gt; mol/L Cl\" +\n                   \"&lt;SUP&gt;-&lt;/SUP&gt; and 1x10&lt;SUP&gt;-3&lt;/SUP&gt; mol/L Ca&lt;SUP&gt;2+&lt;/SUP&gt;.\" +\n                   \"What is the error in concentration to be expected when measuring\" +\n                   \"these ions with a chloride or a calcium ion selective electrode?\" +\n                   \"&lt;/html&gt;\";\n\n    public Se0124 ()\n    {\n        super (\"Se0124\");\n        JPanel mainpanel = new JPanel ();\n        mainpanel.setLayout (new BorderLayout ());\n        this.getContentPane ().add (mainpanel);\n\n        JLabel jl = new JLabel (myString);\n        mainpanel.add (jl, BorderLayout.CENTER);\n        setSize (400, 400);\n        setLocation (100, 100);\n        setDefaultCloseOperation (JFrame.EXIT_ON_CLOSE);\n        setVisible (true);\n    }\n\n    public static void main (String args[])\n    {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new Se0124 ();\n            }\n        });\n    }\n}\n</code></pre>\n\n<p>As you can see, I have removed the trailing , which looks empty. Then I capsulated it in  tags. And I removed the backslashes from the slashes.</p>\n\n<p>This can be done by regular expressions. Now SUP and SUB are rendered fine.</p>\n"},{"answer_id":76310638,"body":"<p>You can use the <code>String.replaceAll</code> method to replace all occurrences of a specified regular expression.</p>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>myString = myString.replaceAll(&quot;&lt;\\\\s*.+?&gt;&quot;, &quot;&quot;);\n</code></pre>\n<p>Output (I've added new lines, to provide readablity)</p>\n<pre class=\"lang-none prettyprint-override\"><code>The accuracy of a potentiometer (pH meter) is\n&amp;#177;0.1 mV. A solution contains 1x10-4 mol/L Cl\n- and 1x10-3 mol/L Ca2+.\nWhat is the error in concentration to be expected when measuring\nthese ions with a chloride or a calcium ion selective electrode?\n     &amp;nbsp;\n</code></pre>\n<p>In regard to the entity value, <code>&amp;#177;</code>, this is a trivial task.</p>\n<p>You <em>could</em> create a method to capture the value, and parse it to it's Unicode equivalent, although not all entities use the Unicode value, sometimes it's a literal, such as &quot;amp&quot;, or &quot;lt&quot;.</p>\n<p>Many people choose to use the Apache Commons Text library, to decode entities.</p>\n<p><a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html#unescapeHtml4-java.lang.String-\" rel=\"nofollow noreferrer\">StringEscapeUtils (Apache Commons Text 1.10.0 API)</a></p>\n"}],"last_activity_date":1684803165,"question_id":42029603,"body":"<p>I need help\nI have a string like this </p>\n\n<pre><code>String myString = \"The accuracy of a potentiometer (pH meter) is\n                   &amp;#177;0.1 mV. A solution contains 1x10&lt;SUP&gt;-4&lt;\\/SUP&gt; mol\\/L Cl\n                   &lt;SUP&gt;-&lt;\\/SUP&gt; and 1x10&lt;SUP&gt;-3&lt;\\/SUP&gt; mol\\/L Ca&lt;SUP&gt;2+&lt;\\/SUP&gt;. \n                   What is the error in concentration to be expected when measuring\n                   these ions with a chloride or a calcium ion selective electrode? \n                   &lt;TABLE BORDER=0 ALIGN=CENTER&gt; &lt;TR&gt;&lt;TD&gt;    &lt;\\/TD&gt;&lt;TD&gt;&amp;nbsp;&lt;\\/TD&gt;&lt;TD&gt;\n                   &lt;\\/TD&gt;&lt;\\/TR&gt;&lt;\\/TABLE&gt;\";\n</code></pre>\n\n<p>I have to show this string in a listView but obviously when I print it there are these html tags. </p>\n\n<p>I already tried to get rid of the tags but if so I lost informations (like -4 as superscipt). \nI'd like to know if it is possible to format the string in a proper way.</p>\n\n<p>Thanks</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I have partially solved by using Html.fromHtml(String)</p>\n\n<pre><code>public String processString(String html) {\n    Spanned spanned;\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.N) {\n        spanned = Html.fromHtml(html, Html.FROM_HTML_MODE_LEGACY);\n    } else {\n        spanned = Html.fromHtml(html);\n    }\n    return spanned.toString();\n}\n</code></pre>\n\n<p>Now the problem is that the  tag is displayed like an obj icon\n<a href=\"https://i.stack.imgur.com/itvF1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/itvF1.png\" alt=\"image\"></a> \nand i don't know how to visualize them.</p>\n\n<p>Is it possible?</p>\n"},{"comments":[{"comment_id":132303997,"body":"Put a breakpoint where the cast is attempted and see if you can figure out what is happening by looking at values up the stack."},{"comment_id":133397623,"body":"Note that we prefer a technical style of writing here. We gently discourage greetings, hope-you-can-helps, thanks, advance thanks, notes of appreciation, regards, kind regards, signatures, please-can-you-helps, chatty material and abbreviated txtspk, pleading, how long you&#39;ve been stuck, voting advice, meta commentary, etc. Just explain your problem, and show what you&#39;ve tried, what you expected, and what actually happened."}],"answers":[{"answer_id":74979387,"body":"<p>If you are using <a href=\"https://github.com/mirromutth/r2dbc-mysql\" rel=\"nofollow noreferrer\">https://github.com/mirromutth/r2dbc-mysql</a> 0.8.x RELEASE and the latest Spring Boot 2.7 or Spring Boot 3.0.x, I think there is a compatibility issue between the R2dbc MySQL driver you are using and R2dbc SPI managed by Spring Boot.</p>\n<p>In the latest Spring Boot 3.0, R2dbc SPI was updated to 1.0, which introduced several incompatible APIs since 0.8(r2dbc-mysql 0.8.x RELEASE is aligned with R2dbc SPI 0.8). <strong>I have encountered similar exceptions when upgrading to R2dbc 0.9 and 1.0 but used driver version is incompatible</strong>.</p>\n<ul>\n<li>Try to use the latest <a href=\"https://github.com/mariadb-corporation/mariadb-connector-r2dbc\" rel=\"nofollow noreferrer\">MariaDB R2dbc Driver</a> to connect your MySQL</li>\n<li>Consider other database, eg. PostgreSQL or switch to MariaDB directly.</li>\n</ul>\n<p><strong>Update(2023-5-23)</strong>: In the latest Spring Boot 3.x, it includes <a href=\"https://github.com/jasync-sql/jasync-sql/tree/master/r2dbc-mysql\" rel=\"nofollow noreferrer\">jasycn r2dbc mysql</a> instead of the original <a href=\"https://github.com/mirromutth/r2dbc-mysql\" rel=\"nofollow noreferrer\">r2dbc mysql driver</a> which is not active and stick on the old R2dbc SPI 0.8.</p>\n"},{"comments":[{"comment_id":133425307,"body":"this one still does not work for springboot 3 and kotlin: first has Long to Integer cast exception on delete query, second does not perform the delete right even though handles Integer properly"}],"answer_id":75395646,"body":"<p>Helped for me change dependency from</p>\n<pre><code>implementation(&quot;org.postgresql:r2dbc-postgresql:1.0.0.RELEASE&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>implementation(&quot;io.r2dbc:r2dbc-postgresql:0.8.13.RELEASE&quot;)\n</code></pre>\n<p>for springboot 2.7.6</p>\n<p>Thanks to Hantsy.</p>\n"},{"answer_id":75759656,"body":"<p>I had the same issue on delete operations with latest kotlin: 1.8.10, spring-boot: 3.0.4, r2dbc-spi: 1.0.0.RELEASE, r2dbc-postgresql: 1.0.1.RELEASE and jooq: 3.17.8.</p>\n<p>It is interesting to note that the same code worked in coroutine style, when I converted jooq r2dbc publishers to suspend function with awaitSingle() method. But it failed in reactor mode.</p>\n<p>Nevertheless the issue was resolved by updating jooq version to 3.18.0.</p>\n"},{"answer_id":75974790,"body":"<p>I assume you're using a recent version of Spring Boot and Spring Framework.</p>\n<p>The issue's root cause is using r2dbc-spi:1.0.0, which requires <code>getRowsUpdated()</code> to return a Long, but you're using dev.miku:r2dbc-mysql:0.8.2, which returns an Integer.</p>\n<p>I suggest switching to <a href=\"https://github.com/asyncer-io/r2dbc-mysql\" rel=\"nofollow noreferrer\"><code>io.asyncer:r2dbc-mysql:1.0.0</code></a> which is official successor to <code>dev.miku:r2dbc-mysql</code>. for more information see the <a href=\"https://github.com/mirromutth/r2dbc-mysql/issues/251\" rel=\"nofollow noreferrer\">Deprecation NEWS</a></p>\n"},{"answer_id":76262411,"body":"<p>The compatibility now seems to be documented and can be found here <a href=\"https://github.com/asyncer-io/r2dbc-mysql#spring-framework-and-r2dbc-spi-compatibility\" rel=\"nofollow noreferrer\">https://github.com/asyncer-io/r2dbc-mysql#spring-framework-and-r2dbc-spi-compatibility</a></p>\n"}],"last_activity_date":1684802787,"question_id":74972672,"body":"<p>I use R2DBC MySQL driver in my Spring Webflux reactive web. And I try to execute table schema SQL script. But the script continuously cause errors.</p>\n<p>First, I make 3 model classes.</p>\n<p><strong>User.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder \n@Table(&quot;blog_user&quot;) \npublic class User {\n     \n    @Id\n    @Column(&quot;user_id&quot;)\n    private Long id;\n    \n    @Column\n    private String username;\n \n    @Column\n    @JsonIgnore\n    private String password;\n     \n    @Column\n    private String fullname;\n    \n    @Column\n    private Integer role;\n}\n</code></pre>\n<p><strong>Post.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Table\npublic class Post {\n \n    @Id\n    @Column(&quot;post_id&quot;)\n    private Long id;\n    \n    @Column\n    private String title;\n  \n    @Column\n    private String body;\n        \n    @Column(&quot;created_date&quot;)\n    private LocalDateTime createdDate;\n    \n    @Column(&quot;user_id&quot;)\n    private User user;\n    \n    @Column(&quot;posts&quot;)\n    private Collection&lt;Tag&gt; tags;\n}\n</code></pre>\n<p><strong>Tag.java</strong></p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@Table\npublic class Tag {\n  \n    @Id\n    @Column(&quot;tag_id&quot;)\n    private Long id;\n    \n    @Column\n    private String body;\n    \n    @Column(&quot;created_date&quot;)\n    private LocalDateTime createdDate;\n    \n    @Column(&quot;post_id&quot;)\n    private Post post;\n        \n    @Column(&quot;user_id&quot;)\n    private User user;\n}\n</code></pre>\n<p><strong>schema.sql</strong></p>\n<pre><code>-- TABLE intialized.\nDROP TABLE IF EXISTS tag;\nDROP TABLE IF EXISTS post;\nDROP TABLE IF EXISTS blog_user;\n\n\n-- TABLE created.\nCREATE TABLE IF NOT EXISTS blog_user (\n    user_id BIGINT NOT NULL,\n    username VARCHAR(30) NOT NULL,\n    password VARCHAR(255) NOT NULL,\n    email VARCHAR(255),\n    fullname VARCHAR(255),\n    role SMALLINT CHECK (role IN (0, 1)),\n\n    PRIMARY KEY (user_id),\n    UNIQUE (username)\n);\n\nCREATE TABLE IF NOT EXISTS post (\n    post_id BIGINT NOT NULL,\n    title VARCHAR(30) NOT NULL,\n    body TEXT,\n    created_date DATETIME(6) NOT NULL,\n    user_id BIGINT NOT NULL,\n\n    PRIMARY KEY (post_id),\n    FOREIGN KEY (user_id) REFERENCES blog_user (user_id)\n);\n\nCREATE TABLE IF NOT EXISTS tag(\n    tag_id BIGINT NOT NULL,\n    body VARCHAR(255),\n    created_date DATETIME(6) NOT NULL,\n    post_id BIGINT NOT NULL,\n    user_id BIGINT NOT NULL,\n\n    PRIMARY KEY (tag_id),\n    FOREIGN KEY (post_id) REFERENCES post (post_id),\n    FOREIGN KEY (user_id) REFERENCES blog_user (user_id)\n);\n</code></pre>\n<p>Below configuration method executes schema.sql.</p>\n<p><strong>reactive web initializer method</strong></p>\n<pre><code>@Bean\nConnectionFactoryInitializer initializer(ConnectionFactory connectionFactory) {\n\n        ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\n        initializer.setConnectionFactory(connectionFactory);\n        \n        ResourceDatabasePopulator databasePopulator = new ResourceDatabasePopulator();\n        databasePopulator.addScripts(new ClassPathResource(schema.sql));\n        initializer.setDatabasePopulator(databasePopulator);\n\n\n        return initializer;\n}\n</code></pre>\n<p>However, initially executed schema.sql throws errors,</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n[2m2023-01-01T09:06:30.943+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.945+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.947+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.948+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.951+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.953+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.955+09:00[0;39m [33m WARN[0;39m [35m10464[0;39m [2m---[0;39m [2m[actor-tcp-nio-3][0;39m [36mdev.miku.r2dbc.mysql.MySqlConnection    [0;39m [2m:[0;39m The server timezone is &lt;???ѹα? ǥ?ؽ&gt; that's unknown, trying to use system default timezone\n[2m2023-01-01T09:06:30.974+09:00[0;39m [31mERROR[0;39m [35m10464[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.boot.SpringApplication              [0;39m [2m:[0;39m Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'initializer' defined in class path resource [com/aaa/blog/wf/config/BlogWebFluxConfig.class]: Failed to execute SQL script statement #1 of class path resource [sql/spring-boot-mysql-schema.sql]: DROP TABLE IF EXISTS tag\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\n    at com.aaa.blog.wf.SpringBlogWebFluxMySqlApplication.main(SpringBlogWebFluxMySqlApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1.jar:3.0.1]\nCaused by: org.springframework.r2dbc.connection.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [sql/spring-boot-mysql-schema.sql]: DROP TABLE IF EXISTS tag\n    at org.springframework.r2dbc.connection.init.ScriptUtils.lambda$runStatement$9(ScriptUtils.java:571) ~[spring-r2dbc-6.0.3.jar:6.0.3]\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.MonoStreamCollector$StreamCollectorSubscriber.onError(MonoStreamCollector.java:149) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.MonoStreamCollector$StreamCollectorSubscriber.onNext(MonoStreamCollector.java:126) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxFlatMap$FlatMapMain.tryEmit(FluxFlatMap.java:543) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxFlatMap$FlatMapInner.onNext(FluxFlatMap.java:984) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:122) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1839) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.NextProcessor.tryEmitValue(NextProcessor.java:358) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.NextProcessor.onNext(NextProcessor.java:298) ~[reactor-core-3.5.1.jar:3.5.1]\n    at dev.miku.r2dbc.mysql.MySqlResult.lambda$null$3(MySqlResult.java:114) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.core.publisher.LambdaSubscriber.onNext(LambdaSubscriber.java:160) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxWindowPredicate$WindowFlux.drainRegular(FluxWindowPredicate.java:670) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxWindowPredicate$WindowFlux.drain(FluxWindowPredicate.java:748) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxWindowPredicate$WindowFlux.onNext(FluxWindowPredicate.java:790) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxWindowPredicate$WindowPredicateMain.onNext(FluxWindowPredicate.java:241) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxHandleFuseable$HandleFuseableSubscriber.onNext(FluxHandleFuseable.java:193) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.5.1.jar:3.5.1]\n    at dev.miku.r2dbc.mysql.util.DiscardOnCancelSubscriber.onNext(DiscardOnCancelSubscriber.java:70) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onNext(MonoFlatMapMany.java:250) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:200) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onNext(FluxHandle.java:128) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.FluxPeekFuseable$PeekConditionalSubscriber.onNext(FluxPeekFuseable.java:854) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:537) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.EmitterProcessor.tryEmitNext(EmitterProcessor.java:343) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.InternalManySink.emitNext(InternalManySink.java:27) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.core.publisher.EmitterProcessor.onNext(EmitterProcessor.java:309) ~[reactor-core-3.5.1.jar:3.5.1]\n    at dev.miku.r2dbc.mysql.client.ReactorNettyClient$ResponseSink.next(ReactorNettyClient.java:340) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at dev.miku.r2dbc.mysql.client.ReactorNettyClient.lambda$new$0(ReactorNettyClient.java:103) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onNext(FluxPeek.java:185) ~[reactor-core-3.5.1.jar:3.5.1]\n    at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:292) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n    at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:401) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n    at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:411) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.1.jar:1.1.1]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.handleDecoded(MessageDuplexCodec.java:187) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at dev.miku.r2dbc.mysql.client.MessageDuplexCodec.channelRead(MessageDuplexCodec.java:95) ~[r2dbc-mysql-0.8.2.RELEASE.jar:0.8.2.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1373) ~[netty-handler-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1236) ~[netty-handler-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1285) ~[netty-handler-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:529) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:468) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290) ~[netty-codec-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.86.Final.jar:4.1.86.Final]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n    Suppressed: java.lang.Exception: #block terminated with an error\n        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:99) ~[reactor-core-3.5.1.jar:3.5.1]\n        at reactor.core.publisher.Mono.block(Mono.java:1710) ~[reactor-core-3.5.1.jar:3.5.1]\n        at org.springframework.r2dbc.connection.init.ConnectionFactoryInitializer.execute(ConnectionFactoryInitializer.java:112) ~[spring-r2dbc-6.0.3.jar:6.0.3]\n        at org.springframework.r2dbc.connection.init.ConnectionFactoryInitializer.afterPropertiesSet(ConnectionFactoryInitializer.java:97) ~[spring-r2dbc-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[spring-beans-6.0.3.jar:6.0.3]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.3.jar:6.0.3]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.3.jar:6.0.3]\n        at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.1.jar:3.0.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.1.jar:3.0.1]\n        at com.aaa.blog.wf.SpringBlogWebFluxMySqlApplication.main(SpringBlogWebFluxMySqlApplication.java:10) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.1.jar:3.0.1]\nCaused by: java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Long (java.lang.Integer and java.lang.Long are in module java.base of loader 'bootstrap')\n    at java.base/java.util.stream.Collectors.lambda$summingLong$23(Collectors.java:699) ~[na:na]\n    at reactor.core.publisher.MonoStreamCollector$StreamCollectorSubscriber.onNext(MonoStreamCollector.java:117) ~[reactor-core-3.5.1.jar:3.5.1]\n    ... 67 common frames omitted\n</code></pre>\n<p>I think my reactive R2DBC model classes contains some errors. ClassCastException. But I have no idea what element has wrong class type. The printed error message show no code line number. I changed the id type of model class(User, Post, Tag) into Integer type, but the same errors are thrown.</p>\n"},{"comments":[{"comment_id":92274350,"body":"Maybe you are missing a <code>:</code> in the jdbc string - try <code>jdbc:mysql:&#47;&#47;localhost:3306&#47;java</code>"},{"comment_id":92274452,"body":"OMG you&#39;re right! Thanks a lot man"}],"answers":[{"answer_id":52672396,"body":"<p>Your JDBC URL should follow <code>jdbc:mysql://localhost/test</code> format as per <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-usagenotes-connect-drivermanager.html\" rel=\"nofollow noreferrer\">\n7.1 Connecting to MySQL Using the JDBC DriverManager Interface</a> docs.</p>\n\n<p>You are missing a semicolon after <code>mysql</code> part, it should be</p>\n\n<pre><code>private static final String CONN_STRING = \"jdbc:mysql://localhost:3306/java\";\n</code></pre>\n"}],"last_activity_date":1684802764,"question_id":52672230,"body":"<p>I tried searching for a solution but the questions on this website just weren't the answer I'm looking for.</p>\n<p>I tried running:</p>\n<pre><code>private static final String USERNAME= &quot;root&quot;;\nprivate static final String PASSWORD= &quot;root&quot;;\nprivate static final String CONN_STRING= &quot;jdbc:mysql//localhost:3306/java&quot;;\n\nconn Connection = null;\n\ntry{\n    conn = DriverManager.getConnection(CONN_STRING, USERNAME, PASSWORD);\n    System.out.println(&quot;Connected&quot;);\n} catch (SQLException e){\n    System.err.println(e);\n}\n</code></pre>\n<p>I've got the 8.0.12 version of both server and connector.</p>\n"},{"comments":[{"comment_id":95584224,"body":"It &#39;s not clear what you are trying to compare. What ist &quot;front&quot; ?"},{"comment_id":95584425,"body":"&quot;front&quot; is a head name which lead my LinkedList, and I need to compare the int value in two LinkedList"},{"comment_id":95584476,"body":"<code>while(prev.next.next != null &amp;&amp; current.next.next != null)</code> will throw exception if either of <code>prev.next</code> or <code>current.next</code> is null."},{"comment_id":95584547,"body":"Thanks for mentioning this, and I changed this. But the solution is still not working, I think there must be some problems in my solution."},{"comment_id":95584735,"body":"The question is about &quot;lists of integers&quot;, not linked list, isn&#39;t it ?"},{"comment_id":95584765,"body":"It seems that next is a reference, so <code>front.next = other.front.next;</code> (at this point <code>temp</code> also be set <code>other.front.next</code>) and other lines seems to try to point same objects like that."},{"comment_id":95584831,"body":"instead of <code>temp = temp.next;                 current.next.next =prev.next.next;                 prev.next.next = temp;</code>  do <code>curr = prev.next; prev = temp;</code>"},{"comment_id":95584875,"body":"ummm I tried to edit my code as you told, but it&#39;s still not working"}],"answers":[{"comments":[{"comment_id":134566757,"body":"Code only answers aren&#39;t as helpful to the people who read your solution later.  Take the time to explain what changes you made and why you made those changes."}],"answer_id":76310436,"body":"<pre><code>public void takeSmallerFrom (LinkedIntList list2) {\n    if (list2.front != null &amp;&amp; this.front != null) {\n        if (front.data &gt; list2.front.data) {\n            ListNode temp = front;\n            front = list2.front;\n            list2.front = temp;\n            temp = temp.next;\n            list2.front.next = front.next;\n            front.next = temp;\n        }\n        ListNode og = front;\n        ListNode current = list2.front;\n        while (current.next != null &amp;&amp; og.next != null) {\n            if (og.next.data &gt; current.next.data) {\n                ListNode temp = og.next;\n                og.next = current.next;\n                current.next = temp;\n                temp = temp.next;\n                current = current.next;\n                og = og.next;\n                current.next = og.next;\n                og.next = temp;\n            } else {\n            current = current.next;\n            og = og.next;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":76310654,"body":"<p>If i understood correct, heres an idea:</p>\n<p>There are a few issues in your code that need to be addressed:</p>\n<ol>\n<li><p>Comparison of values: The condition if(front.data &gt; other.front.data) compares the values of the nodes in the first list with the values of the nodes in the second list. However, your task states that you need to ensure the first list has smaller values in corresponding positions. In other words, you should compare values at the same positions in both lists. To fix this, you need to modify the comparison logic.</p>\n</li>\n<li><p>Swapping nodes: In the code segment front = other.front; and other.front = prev;, you are swapping the entire nodes instead of just their values. This can lead to incorrect results and a broken linked list structure. Instead, you should swap the values of the nodes.</p>\n</li>\n<li><p>Loop conditions: The conditions prev.next.next != null and current.next.next != null in the while loop check for the next two nodes, which can cause issues if one of the lists is shorter than the other. You should change the conditions to prev.next != null and current.next != null to ensure the loop terminates correctly.</p>\n</li>\n<li><p>Incorrect node connections: In the inner loop, you are incorrectly reconnecting the nodes after swapping their values. The lines temp = temp.next;, current.next.next = prev.next.next;, and prev.next.next = temp; are unnecessary and can lead to incorrect connections.</p>\n</li>\n</ol>\n<p>Try to use this:</p>\n<pre><code>enter code here\npublic void takeSmallerFrom(LinkedIntList other) {\nif (front != null &amp;&amp; other.front != null) {\n    ListNode prev = null;\n    ListNode current = other.front;\n\n    while (front != null &amp;&amp; current != null) {\n        if (front.data &gt; current.data) {\n            int temp = front.data;\n            front.data = current.data;\n            current.data = temp;\n        }\n\n        prev = front;\n        front = front.next;\n        current = current.next;\n    }\n\n    if (current != null) {\n        prev.next = current;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>In this code, we iterate through both lists simultaneously, comparing values and swapping them when necessary. After the loop, if the second list is longer, we append the remaining nodes of the second list to the end of the first list.</p>\n"}],"last_activity_date":1684802572,"question_id":54385888,"body":"<p>I am very new in Java and met some trouble when learning LinkedList.</p>\n<p>I am stuck at this problem:\nWrite a method takeSmallerFrom that compares two lists of integers, making sure that the first list has smaller values in corresponding positions. Either one of lists can be longer than another.</p>\n<p>And my attempting solution is below:</p>\n<pre><code>public void takeSmallerFrom(LinkedIntList other) {\nif(front != null &amp;&amp; other.front != null) {\n    ListNode temp = front.next;\n    ListNode prev = front;\n    if(front.next != null &amp;&amp; other.front != null) {\n        if(front.data &gt; other.front.data) {\n            front.next = other.front.next;\n            other.front.next = temp;\n            front = other.front;\n            other.front = prev;\n        }\n        ListNode current = other.front;\n        while(prev.next.next != null &amp;&amp; current.next.next != null) {\n            if(prev.next.data &gt; current.next.data) {\n                temp = prev.next;\n                prev.next = current.next;\n                current.next = temp;\n                temp = temp.next;\n                current.next.next =prev.next.next;\n                prev.next.next = temp; \n            } \n            prev = prev.next;\n            current = current.next;\n        }\n    }\n}\n</code></pre>\n<p>The result shows that my solution failed after the first ListNode, but I can't find the reason why the rest of them failed. I am really stuck at this, if anyone here can help me, thank you!</p>\n<h2>Sorry I didn't clarify: &quot;front&quot; means the head which leads my LinkedList</h2>\n<p>The whole solution is for a special LinkedList which only stores int, so I need to compare the each int value in these LinkedLists respectively</p>\n"},{"answers":[{"comments":[{"comment_id":134570024,"body":"Thank you @Boris , if i set the retryAttempts retryInterval to none zero value , then this will impact the performance and response time , for example if the connect timeout is 5 seconds and retryAttempts is 1 then the response time will be increased with 5 seconds , right ? correct me if my assumption is wrong."},{"comment_id":134570258,"body":"I suggest conducting a benchmark test to get the data to avoid assumption results, first without the proposed changes and then with them."},{"comment_id":134573588,"body":"Thank you @Boris, I tried your suggestion for setNettyThreads to 256 , I&#39;m getting the same issues , any more suggestions please."},{"comment_id":134573861,"body":"@Osama, consider a simple change - upgrading to the latest version of the Redisson client. Upgrading to a higher version may resolve issues in the older version, as reported <a href=\"https://github.com/redisson/redisson/issues/2175\" rel=\"nofollow noreferrer\">here</a>."}],"answer_id":76310631,"body":"<p>You should set up a fallback mechanism to the downstream service or database method to handle intermittent exceptions on Redis operations. Below are some recommendations to prevent such issues:</p>\n<ol>\n<li><p>Increase the <code>nettyThreads</code> setting from the current value of <code>128</code> to a higher value, as suggested in the <code>RedisTimeoutException</code> message, to allow more threads to handle the operations and reduce the chances of timeouts.</p>\n</li>\n<li><p>Set the <code>retryAttempts</code> and <code>retryInterval</code> values to a non-zero positive integer value in the configuration to enable to retry an operation in case of failures instead of throwing an exception.</p>\n</li>\n</ol>\n<p>Here's an updated Redisson client configuration with the above recommendations implemented:</p>\n<pre class=\"lang-java prettyprint-override\"><code>redissonConfig.setNettyThreads(256);\nredissonConfig.useClusterServers()\n        .setKeepAlive(true)\n        .setConnectTimeout(5000)\n        .setRetryAttempts(3)\n        .setRetryInterval(1000)\n        .setPingConnectionInterval(10000)\n        .setDnsMonitoringInterval(20000)\n        .addNodeAddress(redisAddress);\nRedissonClient client = Redisson.create(redissonConfig);\nreturn client;\n</code></pre>\n<p>Additionally, you can use <a href=\"https://redis.io/docs/management/sentinel/\" rel=\"nofollow noreferrer\">Redis Sentinel</a> or <a href=\"https://redis.io/docs/reference/cluster-spec/\" rel=\"nofollow noreferrer\">Redis Cluster</a> to improve the scalability and availability, as suggested in this <a href=\"https://dzone.com/articles/overview-of-redisson-the-redis-java-client\" rel=\"nofollow noreferrer\">article</a>.</p>\n"}],"last_activity_date":1684802043,"question_id":76247304,"body":"<p>I'm setting up a Redis cache layer using <strong>AWS Elasticache Redis</strong> version <strong>7.0.7</strong></p>\n<p>I'm usign Java Redisson client version <strong>3.16.0</strong> and java version <strong>1.8</strong></p>\n<p>However one of the requirement is to setup a fallback mechanism to fallback to the downstream service or database method whenever there is any exception on Redis operation</p>\n<p>Below is my Redisson client configurations</p>\n<pre><code>redissonConfig.setNettyThreads(128);\nredissonConfig.useClusterServers()\n        .setKeepAlive(true)\n        .setConnectTimeout(5000)\n        .setRetryAttempts(0)\n        .setRetryInterval(0)\n        .setPingConnectionInterval(10000)\n        .setDnsMonitoringInterval(20000)\n        .addNodeAddress(redisAddress);\nRedissonClient client = Redisson.create(redissonConfig);\nreturn client;\n</code></pre>\n<p>However I'm getting below intermittent exceptions on read/write and on <strong>evict Redis operations</strong></p>\n<p>1-Read write operation Exceptions:</p>\n<pre><code>exception: org.redisson.client.RedisTimeoutException: Command still hasn't been written into connection! Try to increase nettyThreads setting. Payload size in bytes: 52. Node source: NodeSource [slot=8995, addr=null, redisClient=null, redirect=null, entry=null], connection: RedisConnection@573846890 [redisClient=[addr=rediss://xxxxx:6379], channel=[id: 0x93e5c3e6, L:/:38098 - R:xxx], currentCommand=null], command: (EVAL), params: [local value = redis.call('hget', KEYS[1], ARGV[2]); if value == false then return nil; end; local t,..., 5, data, redisson__timeout__set:{data}, redisson__idle__set:{data}, redisson__map_cache__last_access__set:{data}, {data}:redisson_options, 1684331276823, PooledUnsafeDirectByteBuf(ridx: 0, widx: 52, cap: 256)] after 0 retry attempts\n</code></pre>\n<p>2- Exceptions when <strong>Redisson</strong> job try to evict the cache, I’m resolving this by doing manual eviction through redis-cli</p>\n<pre><code>exception: org.redisson.client.RedisException: ERR user_script:1: bad argument #2 to 'unpack' (data string too short) script: 401d7fca9b4e9022dffaa4fd236958c2babbc2f3, on @user_script:1.. channel: [id: 0x064bccc5\n</code></pre>\n<p>Appreciate if you have any recommendation to prevent such issues.</p>\n<p>Note: the fallback mechanism is working as expected.</p>\n<p>Thanks</p>\n"},{"comments":[{"comment_id":134565891,"body":"Have you tried grid layout?"},{"comment_id":134565932,"body":"Get rid of <code>setPreferredSize</code> and make use of the <code>columns</code> property instead. Also remember, a component in the <code>EAST</code> or <code>WEST</code> positions won&#39;t ever be wider then its overall preferred size"},{"comment_id":134565935,"body":"@JustaNobody, yeah, by default i have it like that:          <code>textFieldsPanel.setLayout(new GridLayout(3, 1));</code> But it doesn&#39;t resize the JTextFields when i resize the window("},{"comment_id":134565952,"body":"@MadProgrammer if i delete <code>setPreferredSize</code> my TextFields are so small, but any way when i resize my window it doesn&#39;t resize the fields. I will be very pleased if u help me with property usage of colums in this case"},{"comment_id":134565971,"body":"@Astraithios And, as I said, make use of <code>JTextField</code>&#39;s <code>column</code> property <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JTextField.html#setColumns(int)\" rel=\"nofollow noreferrer\">for example</a>"},{"comment_id":134566013,"body":"@MadProgrammer, I delete  <code>BorderLayout.EAST</code>  from <code>bottomPanel.add(textFieldsPanel, BorderLayout.EAST);</code> and now it works good, thank you!"},{"comment_id":134566091,"body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/BorderLayout.html\" rel=\"nofollow noreferrer\">documentation</a> from <code>BorderLayout</code>: &quot;The components are laid out according to their preferred sizes and the constraints of the container&#39;s size. The NORTH and SOUTH components may be stretched horizontally; the EAST and WEST components may be stretched vertically; the CENTER component may stretch both horizontally and vertically to fill any space left over.&quot;"},{"comment_id":134574268,"body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/layout</a>"}],"last_activity_date":1684801680,"question_id":76309839,"body":"<p>For example, I have such a piece of code:</p>\n<pre><code>JPanel textFieldsPanel = new JPanel();\n        textFieldsPanel.setLayout(new GridLayout(3,1));\n\n        for (int i = 0; i &lt; 3; i++) {\n            JTextField jtf = new JTextField();\n            jtf.setPreferredSize(new Dimension(250,45));\n            textFieldsPanel.add(jtf);\n        }\n\n        bottomPanel.add(textFieldsPanel, BorderLayout.EAST);\n        jf.add(bottomPanel, BorderLayout.SOUTH);`\n</code></pre>\n<p>I want my JTextFields to change in size. For example (if I increase the window size, then the JTextFilds also increase in size)</p>\n<p>I tried to do it with GridBagLayout</p>\n<pre><code>gbc.fill = GridBagConstraints.HORIZONTAL; \ngbc.weighty = 1.0;gbc.weightx = 1.0;\n</code></pre>\n<p>and BoxLayout, but that changed nothing.</p>\n"},{"answers":[{"answer_id":46870546,"body":"<p>Looking at the declaration of <code>emptyArray()</code> in the kotlin stdlib (jvm), we notice the <code>reified</code> type parameter:</p>\n<pre><code>public inline fun &lt;reified @PureReifiable T&gt; emptyArray(): Array&lt;T&gt;\n</code></pre>\n<p>The <code>reified</code> type parameter means that you have access to the class of <code>T</code> at compile-time and can access it like <code>T::class</code>. You can read more about <code>reified</code> type parameters in the <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">Kotlin reference</a>. Since <code>Array&lt;T&gt;</code> compiles to java <code>T[]</code>, we need to know the type at compile-time, hence the <code>reified</code> parameter. If you try writing an emptyArray() function without the <code>reified</code> keyword, you'll get a compiler error:</p>\n<pre><code>fun &lt;T&gt; emptyArray() : Array&lt;T&gt; = Array(0, { throw Exception() })\n</code></pre>\n<blockquote>\n<p>Cannot use T as a reified type parameter. Use a class instead.</p>\n</blockquote>\n<hr/>\n<p>Now, let's take a look at the implementation of <code>emptyList()</code>:</p>\n<pre><code>public fun &lt;T&gt; emptyList(): List&lt;T&gt; = EmptyList\n</code></pre>\n<p>This implementation doesn't need the parameter <code>T</code> at all. It just returns the internal object <code>EmptyList</code>, which itself inherits from <code>List&lt;Nothing&gt;</code>. The kotlin type <code>Nothing</code> is the return-type of the <code>throw</code> keyword and is <em>a value that never exists</em> (<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-nothing.html\" rel=\"nofollow noreferrer\">reference</a>). If a method returns <code>Nothing</code>, is is equivalent to throwing an exception at that place. So we can safely use <code>Nothing</code> here because everytime we would call <code>EmptyList.get()</code> the compiler knows that this will return an exception.</p>\n<hr/>\n<p><strong>Bonus question:</strong></p>\n<p>Coming from Java and C++, I am used to <code>ArrayList</code> or <code>std::vector</code> to be far easier to use that arrays. I use kotlin now for a few month and I usually don't see a big difference between arrays and lists when writing source code. Both have tons of useful extension functions which behave in a similar way. However, the Kotlin compiler handles arrays and lists very different, as Java interoperability is very important for the Kotlin team. I usually prefer using lists, and that's what I'd recommend in your case too.</p>\n"},{"answer_id":46874354,"body":"<p>The problem is that the generic type of an <code>Array</code> must be known at <em>compile time</em>, which is indicated by the <code>reified</code> type parameter here, as seen in the declaration:</p>\n\n<pre><code>public inline fun &lt;reified @PureReifiable T&gt; emptyArray(): Array&lt;T&gt;\n</code></pre>\n\n<p>It's only possible to create concrete arrays like <code>Array&lt;String&gt;</code> or <code>Array&lt;Int&gt;</code> but not of type <code>Array&lt;T&gt;</code>.</p>\n\n<p>In this <a href=\"https://stackoverflow.com/a/41946516/8073652\">answer</a>, you can find several workarounds.</p>\n"},{"answer_id":50304366,"body":"<p>The workaround that worked best for me was:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nvar pool: Array&lt;T?&gt; = arrayOfNulls&lt;Any?&gt;(initialCapacity) as Array&lt;T?&gt;\n</code></pre>\n"},{"answer_id":60871541,"body":"<p>I got <code>Type parameter T cannot be called as function</code> when tried to return T.</p>\n<pre><code>private fun &lt;T&gt; getData(): T {\n    return T()\n}\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/26992039/what-is-the-proper-way-to-create-new-instance-of-generic-class-in-kotlin\">What is the proper way to create new instance of generic class in kotlin?</a>:</p>\n<pre><code>private fun &lt;T&gt; create(\n    method: (Int) -&gt; T,\n    value: Int\n): T {\n    return method(value) // Creates T(value).\n}\n\n// Usage:\n\ncreate(::ClassName, 1)\n</code></pre>\n<p>where <code>ClassName</code> extends <code>T</code>.</p>\n<p>Also maybe this will help:</p>\n<pre><code>private inline fun &lt;reified T&gt; getData(): T {\n    return T::class.java.newInstance()\n}\n</code></pre>\n<p>But in my case I had to return <code>T(parameter)</code>, not <code>T()</code>, so, didn't try. See also <a href=\"https://stackoverflow.com/questions/52446900/how-to-get-class-of-generic-type-parameter-in-kotlin\">How to get class of generic type parameter in Kotlin</a>.</p>\n"},{"answer_id":69667249,"body":"<p>I had some trouble in the solution above. Here is what I came up with using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/type-of.html\" rel=\"nofollow noreferrer\"><code>typeOf</code></a> from <a href=\"https://kotlinlang.org/docs/reflection.html\" rel=\"nofollow noreferrer\">kotlin-reflect</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Suppress(&quot;UNCHECKED_CAST&quot;)\nprivate inline fun &lt;reified T&gt; createArrayOfGeneric(): Array&lt;T&gt; {\n    return java.lang.reflect.Array.newInstance(typeOf&lt;T&gt;().javaType as Class&lt;*&gt;, 10) as Array&lt;T&gt;\n}\n</code></pre>\n<p>The <code>newInstance</code> method takes the java type as class of the generic that you get from <code>typeOf</code>, and the second parameter is the length of the array.</p>\n"},{"answer_id":76310617,"body":"<p>I changed it from <code>Array&lt;T&gt;</code> to <code>ArrayList&lt;T&gt;</code> and it worked.</p>\n"}],"last_activity_date":1684801613,"question_id":46869353,"body":"<p>I have an interface that contains an array (or list) of T and some metadata.</p>\n\n<pre><code>interface DataWithMetadata&lt;T&gt; {\n    val someMetadata: Int\n    fun getData(): Array&lt;T&gt;\n}\n</code></pre>\n\n<p>If I write the simplest implementation of the interface, I get a compile error on the <code>emptyArray()</code>: \"Cannot use T as a reified type parameter. Use a class instead.\"</p>\n\n<pre><code>class ArrayWithMetadata&lt;T&gt;(override val someMetadata: Int): DataWithMetadata&lt;T&gt; {\n    private var myData: Array&lt;T&gt; = emptyArray()\n\n    override fun getData(): Array&lt;T&gt; {\n        return myData\n    }\n\n    fun addData(moreData: Array&lt;T&gt;) {\n        this.myData += moreData\n    }\n}\n</code></pre>\n\n<p>However, if I change both the interface and the implementation to a list, I have no compile-time issues:</p>\n\n<pre><code>interface DataWithMetadata&lt;T&gt; {\n    val someMetadata: Int\n    fun getData(): List&lt;T&gt;\n}\n\nclass ListWithMetadata&lt;T&gt;(override val someMetadata: Int): DataWithMetadata&lt;T&gt; {\n    private var myData: List&lt;T&gt; = emptyList()\n\n    override fun getData(): List&lt;T&gt; {\n        return myData\n    }\n\n    fun addData(moreData: Array&lt;T&gt;) {\n        this.myData += moreData\n    }\n}\n</code></pre>\n\n<p>I suspect there is some interesting lesson in Kotlin generics inside my issue. Can anyone tell me what the compiler is doing under the hood and why Array fails but List does not? Is there an idiomatic way to make the Array implementation compile in this context?</p>\n\n<p>Bonus question: The only reason I reached for Array over List is that I often see Kotlin developers favor Arrays. Is this the case, and if so, why?</p>\n"},{"answers":[{"answer_id":76310606,"body":"<p>You can use a for-loop to iterate each collection, and add each value to a new list of values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SafeVarargs\nList&lt;List&lt;String&gt;&gt; parse(Collection&lt;String&gt;... collections) {\n    List&lt;List&lt;String&gt;&gt; strings = new ArrayList&lt;&gt;();\n    for (Collection&lt;String&gt; collection : collections)\n        strings.add(new ArrayList&lt;&gt;(collection));\n    return strings;\n}\n</code></pre>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; hash1 = new HashSet&lt;&gt;(Set.of(&quot;abc&quot;, &quot;def&quot;));\nSet&lt;String&gt; hash2 = new HashSet&lt;&gt;(Set.of(&quot;ghi&quot;, &quot;jkl&quot;, &quot;mno&quot;));\nList&lt;String&gt; list1 = new ArrayList&lt;&gt;(List.of(&quot;pqr&quot;));\nSystem.out.println(parse(hash1, hash2, list1));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[[abc, def], [ghi, jkl, mno], [pqr]]\n</code></pre>\n"}],"last_activity_date":1684801420,"question_id":50209160,"body":"<p>I have a Jtree from a Hash where the object can be another hash or an array.\nNow i need to take this JTree and convert it to String but i cant difference an array from a hash, how can I difference it?\nExists something like a tag in DefaultTreeNode with i could difference the nodes when i insert them on the JTree?</p>\n\n<p>For example: </p>\n\n<p>My Jtree is</p>\n\n<pre><code>&gt;     Array\n&gt;         Hash1\n&gt;             String1\n&gt;             String2\n&gt;         Hash2\n&gt;             String1\n&gt;             String2\n&gt;             String3\n&gt;         Array1\n&gt;              String1\n</code></pre>\n\n<p>And the finally string must be </p>\n\n<blockquote>\n  <p>[{String1, String2}, {String1, String2, String3}, [String1]]</p>\n</blockquote>\n\n<p>Thank you.</p>\n"},{"comments":[{"comment_id":134566780,"body":"Sorry, but this site is a question and answer site for programming-specific problems, meaning problems with code. It is not a discussion forum nor is it for career development or academic mentoring advice. Please check out the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, <a href=\"https://stackoverflow.com/help\">help center</a> and <a href=\"https://stackoverflow.com/tour\">tour</a> links to see why this question will likely be quickly closed and deleted. This does not mean that your question is bad or unimportant, just that it is misplaced. Consider posting this on a site that welcomes such questions, such as <a href=\"https://www.reddit.com/\" rel=\"nofollow noreferrer\">Reddit</a>."}],"last_activity_date":1684800361,"question_id":76310564,"body":"<p>About ,How to become a android Developer via java as well web.\nWhat is the best way to learn android development ,currently **i am doing DSA in java **. Can anyone help me to demonstrate a path of android development . Is any <strong>collection framework</strong> for java ,which works <strong>java android</strong> and **web ** development also.</p>\n"},{"comments":[{"comment_id":134566720,"body":"A good next step for you would be to use this as an opportunity to use a remote debugger. Learning to walk through code with an attached debugger will, over time, help you identify potentially very tricky bugs because you&#39;ll see quickly when a variable has a value you don&#39;t expect or if that loop isn&#39;t doing what you thought it should"},{"comment_id":134566886,"body":"Also check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"comment_id":134567383,"body":"Can you provide the code for methods, <code>determinant</code>, and <code>submatrix</code>?"}],"last_activity_date":1684800348,"question_id":76310525,"body":"<pre><code>public static int[][] cofactor(int[][] arr)\n{\n    // creates a new array and tests to see if the conditions are met \n    // returns an empty array if they are not\n    int[][] newArr = new int[arr.length][arr[0].length];\n    if(arr.length != arr[0].length)\n    {\n        return newArr;\n    }\n    if(newArr.length == 2 &amp;&amp; newArr[0].length == 2)\n    {\n        newArr[0][0] = arr[1][1];\n        newArr[1][1] = arr[0][0];\n        newArr[0][1] = arr[1][0] * -1;\n        newArr[1][0] = arr[0][1] * -1;\n        printMatrix(newArr);\n        System.out.println();\n        return newArr;\n        \n    }\n    \n    int sign = 1;\n    for(int i = 0; i &lt; arr.length; i++)\n    {\n        for(int j = 0; j &lt; arr[0].length; j++)\n        {\n            newArr[i][j] = sign * determinant(submatrix(arr, i + 1, j + 1));\n            sign *= -1;\n        }\n    }\n    int fRowE = newArr[0][newArr[0].length - 1];\n    newArr[0][arr[0].length - 1] = newArr[arr.length - 1][0];\n    newArr[arr.length - 1][0] = fRowE;\n    return newArr;\n    \n    \n}\n}\n</code></pre>\n<p>When I run this on the array:</p>\n<pre><code>int[][] matrixE = new int[][]{{2, 0, 1}, {-1, -2, 3}, {1, 0, 2}};\n</code></pre>\n<p>it gives me: -4  0  2                            -4  5  2\n5  3 -7      but the answer is:     0  3  0\n2  0 -4                             2 -7 -4</p>\n<p>I think it's a small error as the transpose of the answer I get is what the cofactor should be. The zeros are in the wrong spot but I'm not sure how or why it is putting them in the wrong spot.</p>\n<p>the cofactor method is slightly off.</p>\n"},{"answers":[{"answer_id":47463883,"body":"<p>MIME type application/octet-stream consists of bytes encoded in Base64. Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Base64</a> class for decoding.</p>\n\n<pre><code>private void saveFile(String path, String octetStream) throws IOException{\n    byte[] bytes = Base64.getDecoder().decode(octetStream);\n\n    try(FileOutputStream fos = new FileOutputStream(path)){\n        fos.write(bytes);\n    }\n}\n</code></pre>\n\n<p><em>I know nothing about RestAssured, so maybe there is any way provided by framework.</em></p>\n"}],"last_activity_date":1684800260,"question_id":47463391,"body":"<p>I want to download images from website using RestAssured. My code:</p>\n\n<pre><code>Response response = given()\n            .log().all()\n            .cookie(cookie)\n            .get(format(image_endpoint, \"46581657\"));\n</code></pre>\n\n<p>Endpoint returns status code 200 and image in \"application/octet-stream\" type. How can I save it as jpg file?</p>\n\n<p>I have tried:</p>\n\n<pre><code>String bin = getImageResponse()\n            .prettyPrint();\n    saveFile(\"foto.jpg\", bin); //this method only save string to file\n</code></pre>\n\n<p>But I cannot open jpg file. How can I save it?</p>\n"},{"comments":[{"comment_id":55238885,"body":"using try catch statements and Exception handling"},{"comment_id":55238999,"body":"Your <code>Exeption</code> populates through the <code>main</code> method and therefore your program aborts. You need to <code>catch</code> the exception and act accordingly. If an <code>Exception</code> occurs, execution is stopped immediately and the first matching <code>catch</code> block is entered. For more information you may want to look at the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/\" rel=\"nofollow noreferrer\">Oracle trail about Exceptions</a>."}],"answers":[{"comments":[{"comment_id":55238929,"body":"but add some Exception handling in the catch block, ignoring Exceptions is never a good thing."},{"comment_id":55238939,"body":"This alone is probably not enough. I think OP should wrap the whole code within a loop to re-execute it in case of an <code>Exception</code>."},{"comment_id":55238988,"body":"That is true @Turing85. This will just stop the program from stopping due to the error - but his program still stops after one execution."}],"answer_id":33735268,"body":"<p>You have to catch the exception as well. Wrap it in a try-catch. Furthermore you will also need to use a loop to run the code again. Such as..</p>\n\n<pre><code>while(true){\n    try{\n       // Code you want to execute that can throw an error£\n      SquareEquation();\n\n      // Exit loop if execution ended without an exception\n      break;\n    }\n    catch(SquareEquationException ex){\n        // Exception logic (such as showing a message) or just printing the trace (but this doesn't help a user)\n        ex.printStackTrace();\n\n    }\n}\n</code></pre>\n"},{"answer_id":33738835,"body":"<p>You can wrap that in a try catch. Also you could avoid repeated codes and should close the scanner once done. Example</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class SquareEquationException extends Exception {\n    public SquareEquationException() {\n        super(\"roots are not real numbers\");\n    }\n\n    public static void SquareEquation() throws SquareEquationException {\n        double a, b, c, sqr;\n        int flag = 1;\n        Scanner in = new Scanner(System.in);\n        while (flag == 1) {\n            try{\n                System.out.println(\"enter ax^2:\");\n                a = in.nextDouble();\n                System.out.println(\"enter bx:\");\n                b = in.nextDouble();\n                System.out.println(\"enter c:\");\n                c = in.nextDouble();\n                sqr = ((b * b) - (4 * a * c));\n                if (sqr &lt; 0)\n                    throw new SquareEquationException();\n                else {\n                    sqr = Math.sqrt(sqr);\n                    double x1 = (-b + sqr) / (2 * a);\n                    double x2 = (-b - sqr) / (2 * a);\n                    if (x1 == x2)\n                        System.out.println(\"root is:\" + x1);\n                    else\n                        System.out.println(\"x1 is:\" + x1 + \"\\n\" + \"x2 is:\" + x2);\n\n                }\n            } catch(SquareEquationException e){\n                System.out.println(e.getMessage());\n            }\n            System.out.println(\"enter 1 to continue or any key to exit\");\n            flag = in.nextInt();\n        }\n        in.close();\n    }\n\n    public static void main(String[] args) throws SquareEquationException {\n        SquareEquation();\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684800260,"question_id":33735218,"body":"<p>i've wrote a code which i want to keep running after throwing an exception.\nhere's my code:</p>\n\n<pre><code>    public class SquareEquationException extends Exception{\n     public SquareEquationException(){\n        super(\"roots are not real numbers\");\n    }\n     public static void SquareEquation() throws SquareEquationException{\n         double a,b,c,sqr;\n         int flag;\n         Scanner in = new Scanner(System.in);\n         System.out.println(\"enter ax^2:\");\n         a=in.nextDouble();\n         System.out.println(\"enter bx:\");\n         b=in.nextDouble();\n         System.out.println(\"enter c:\");\n         c=in.nextDouble();\n         sqr=((b*b)-(4*a*c));\n         if(sqr&lt;0)\n             throw new SquareEquationException();\n         else{\n          sqr=Math.sqrt(sqr);\n          double x1=(-b+sqr)/(2*a);\n          double x2 = (-b-sqr)/(2*a);\n          if(x1==x2)\n                 System.out.println(\"root is:\" + x1);\n          else\n                 System.out.println(\"x1 is:\"+x1 +\"\\n\"+ \"x2 is:\"+x2 );\n\n         }\n         System.out.println(\"enter 1 to continue or any key to exit\");\n         flag = in.nextInt();\n         while(flag==1){\n             System.out.println(\"enter ax^2:\");\n         a=in.nextDouble();\n         System.out.println(\"enter bx:\");\n         b=in.nextDouble();\n         System.out.println(\"enter c:\");\n         c=in.nextDouble();\n         sqr=((b*b)-(4*a*c));\n         if(sqr&lt;0){\n             throw new SquareEquationException();\n         }\n         else{\n          sqr=Math.sqrt(sqr);\n          double x1=(-b+sqr)/(2*a);\n          double x2 = (-b-sqr)/(2*a);\n          if(x1==x2)\n                 System.out.println(\"root is:\" + x1);\n          else\n                 System.out.println(\"x1 is:\"+x1 +\"\\n\"+ \"x2 is:\"+x2 );\n         }\n         System.out.println(\"enter 1 to continue or any key to exit\");\n         flag=in.nextInt();\n     }\n     }\n     public static void main(String[] args) throws SquareEquationException{\n         SquareEquation();\n     }\n}\n</code></pre>\n\n<p>how can i keep the menu/program running after throwing an exception?\nmenu's work: if 1 inserted by user program keeps on running, else program exits.</p>\n\n<p>EDIT:\n<a href=\"http://i.stack.imgur.com/7iZcU.png\" rel=\"nofollow\">i want to get the message in red and keep it running, so the menu will show right after/before and offer to continue</a></p>\n"},{"comments":[{"comment_id":134566477,"body":"For a reason I don&#39;t yet understand, the mocked objects in the RateService are not the ones you configure in your test."},{"comment_id":134566589,"body":"@SebPerp I have no idea why resttemplate returns null. I hope you can help me."},{"comment_id":134568370,"body":"Did you try to stub like this?  when(restTemplate.exchange(anyString(), eq(HttpMethod.GET), any(HttpEntity.class), eq(RateResponse.class)))                 .thenReturn(responseEntity); (Could be that you are stubbing the wrong method)"},{"comment_id":134569175,"body":"@Feelfree I tried to change the matchers of the method, the issue is not the stubbing. Stubbing done in the test class is not &quot;passed&quot; to the RateService as the objects are different. If you inject &quot;manually&quot; the mocks in the service, stubbing works."}],"answers":[{"answer_id":76310493,"body":"<p>I don't have a complete solution for you but I hope my analysis will help you.</p>\n<ol>\n<li><p>Your first problem is not that restTemplate.exchange return null but that rateRepository.findOneByDate(date) does not return your mockedRateEntity. If your test was working fine, restTemplate would not be called, as it is called only when the rateRepository does not return an object. But you mocked it so as it returns one.</p>\n</li>\n<li><p>I don't know why yet but, when debugging, we can see that the mocked restTemplate (@13398) and rateRepository(@13396) in your test class:</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nfvW7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nfvW7.png\" alt=\"in test\" /></a></p>\n<p>are not the same mocked objects than the ones injected in the RestService class (restTemplate@17879 and rateRepository@17878) :</p>\n<p><a href=\"https://i.stack.imgur.com/0YBrO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0YBrO.png\" alt=\"in service\" /></a></p>\n<p>I found a solution that is not totally satisfying (sorry) but that works :</p>\n<ul>\n<li>Remove @InjectMocks there:</li>\n</ul>\n<pre><code>    @InjectMocks\n    private RateService rateService;\n</code></pre>\n<ul>\n<li>instantiate yourself the RateService :</li>\n</ul>\n<pre><code>    rateService = new RateService(rateRepository, restTemplate);\n</code></pre>\n<p>You'll also need to remove this part :</p>\n<pre><code>    when(restTemplate.exchange(\n                    anyString(),\n                    eq(HttpMethod.GET),\n                    any(HttpEntity.class),\n                    eq(RateResponse.class)\n    )).thenReturn(mockedResponseEntity);\n</code></pre>\n<p>because restTemplate won't be called if rateRepository returns a result.</p>\n<p>Complete test class that works with the solution I found is :</p>\n<pre><code>package com.exchangeapi.currencyexchange.service;\n\nimport com.exchangeapi.currencyexchange.base.BaseServiceTest;\nimport com.exchangeapi.currencyexchange.dto.RateDto;\nimport com.exchangeapi.currencyexchange.dto.RateInfoDto;\nimport com.exchangeapi.currencyexchange.entity.RateEntity;\nimport com.exchangeapi.currencyexchange.entity.enums.EnumCurrency;\nimport com.exchangeapi.currencyexchange.payload.response.RateResponse;\nimport com.exchangeapi.currencyexchange.repository.RateRepository;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.Mock;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.time.LocalDate;\nimport java.util.*;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.Mockito.*;\n\n\nclass RateServiceTest extends BaseServiceTest {\n\n    @Mock\n    private RateRepository rateRepository;\n\n    @Mock\n    private RestTemplate restTemplate;\n\n    @Test\n    void testCalculateRate() {\n\n        // Mocked data\n        EnumCurrency base = EnumCurrency.EUR;\n        List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\n        LocalDate date = LocalDate.of(2023, 5, 22);\n\n        // Mocked rate entity\n        RateEntity mockedRateEntity = new RateEntity();\n        mockedRateEntity.setBase(base);\n        mockedRateEntity.setDate(date);\n        Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\n        rates.put(EnumCurrency.USD, 1.2);\n        rates.put(EnumCurrency.GBP, 0.9);\n        mockedRateEntity.setRates(rates);\n\n        // Mock repository behavior\n        when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\n\n        // Mock API response\n        RateResponse mockedRateResponse = RateResponse.builder()\n                .base(base)\n                .rates(rates)\n                .date(date)\n                .build();\n\n        // Create a mock response entity with the expected headers and body\n        ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\n                .body(mockedRateResponse);\n\n        // Mock RestTemplate behavior\n//        when(restTemplate.exchange(\n//                anyString(),\n//                eq(HttpMethod.GET),\n//                any(HttpEntity.class),\n//                eq(RateResponse.class)\n//        )).thenReturn(mockedResponseEntity);\n\n        RateService rateService = new RateService(rateRepository, restTemplate);\n\n        // Call the method\n        RateDto result = rateService.calculateRate(base, targets, date);\n\n\n        // Verify API call was made\n//        String expectedUrl = getExchangeUrl(date, base, targets);\n//        HttpHeaders expectedHeaders = new HttpHeaders();\n//        expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n//        HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\n\n\n        // Verify the result\n        assertThat(result.getBase()).isEqualTo(base);\n        assertThat(result.getDate()).isEqualTo(date);\n        assertThat(result.getRates()).hasSize(2);\n        assertThat(result.getRates()).containsExactlyInAnyOrder(\n                new RateInfoDto(EnumCurrency.USD, 1.2),\n                new RateInfoDto(EnumCurrency.GBP, 0.9)\n        );\n\n        // Verify repository method was called\n        verify(rateRepository, times(1)).findOneByDate(date);\n\n//        verify(restTemplate, times(1)).exchange(\n//                eq(expectedUrl),\n//                eq(HttpMethod.GET),\n//                eq(expectedHttpEntity),\n//                eq(RateResponse.class)\n//        );\n    }\n\n//    private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n//\n//        String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\n//        return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\n//    }\n}\n</code></pre>\n<p>I let the useless code commented to let you easily see what I changed / removed.</p>\n<p>Good luck !</p>\n"}],"last_activity_date":1684799321,"question_id":76308882,"body":"<p>I have a problem to write the JUnit Test with the usage of resttemplate.</p>\n<p>When I run the <code>testCalculateRate</code>, I got this error message shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Cannot invoke &quot;org.springframework.http.ResponseEntity.getBody()&quot; because &quot;responseEntity&quot; is null \n</code></pre>\n<p>I noticed that <code>ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);</code> returns <code>null</code>.</p>\n<p>Next, I debug the code</p>\n<p>Here is saveRatesFromApi method of RateService</p>\n<pre><code>private RateEntity saveRatesFromApi(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n\n        log.info(&quot;ExchangeService | saveRatesFromApi is called&quot;);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        final HttpEntity&lt;String&gt; headersEntity = new HttpEntity&lt;&gt;(headers);\n        String url = getExchangeUrl(rateDate, base, targets);\n\n        ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);  ---&gt; ERROR LINE\n\n        RateResponse rates = responseEntity.getBody();\n        RateEntity entity = convert(rates);\n        return rateRepository.save(entity);\n    }\n</code></pre>\n<p>Here RateServiceTest shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_API_KEY;\n    import static com.exchangeapi.currencyexchange.constants.Constants.EXCHANGE_API_BASE_URL;\n    \n    class RateServiceTest extends BaseServiceTest {\n    \n        @Mock\n        private RateRepository rateRepository;\n    \n        @Mock\n        private RestTemplate restTemplate;\n    \n        @InjectMocks\n        private RateService rateService;\n    \n        @Test\n        void testCalculateRate() {\n    \n            // Initialize mocks\n            MockitoAnnotations.openMocks(this);\n    \n            // Mocked data\n            EnumCurrency base = EnumCurrency.EUR;\n            List&lt;EnumCurrency&gt; targets = Arrays.asList(EnumCurrency.USD, EnumCurrency.GBP);\n            LocalDate date = LocalDate.of(2023, 5, 22);\n    \n            // Mocked rate entity\n            RateEntity mockedRateEntity = new RateEntity();\n            mockedRateEntity.setBase(base);\n            mockedRateEntity.setDate(date);\n            Map&lt;EnumCurrency, Double&gt; rates = new HashMap&lt;&gt;();\n            rates.put(EnumCurrency.USD, 1.2);\n            rates.put(EnumCurrency.GBP, 0.9);\n            mockedRateEntity.setRates(rates);\n    \n            // Mock repository behavior\n            when(rateRepository.findOneByDate(date)).thenReturn(Optional.of(mockedRateEntity));\n    \n            // Mock API response\n            RateResponse mockedRateResponse = RateResponse.builder()\n                    .base(base)\n                    .rates(rates)\n                    .date(date)\n                    .build();\n    \n            // Create a HttpHeaders object and set the &quot;apikey&quot; header\n            HttpHeaders headers = new HttpHeaders();\n            headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n    \n            // Create a mock response entity with the expected headers and body\n            ResponseEntity&lt;RateResponse&gt; mockedResponseEntity = ResponseEntity.ok()\n                    .headers(headers)\n                    .body(mockedRateResponse);\n    \n            // Mock RestTemplate behavior\n            when(restTemplate.exchange(\n                    anyString(),\n                    eq(HttpMethod.GET),\n                    any(HttpEntity.class),\n                    eq(RateResponse.class)\n            )).thenReturn(mockedResponseEntity);\n    \n            // Call the method\n            RateDto result = rateService.calculateRate(base, targets, date);\n    \n            // Verify repository method was called\n            verify(rateRepository, times(1)).findOneByDate(date);\n    \n            // Verify API call was made\n            String expectedUrl = getExchangeUrl(date, base, targets);\n            HttpHeaders expectedHeaders = new HttpHeaders();\n            expectedHeaders.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n            HttpEntity&lt;String&gt; expectedHttpEntity = new HttpEntity&lt;&gt;(expectedHeaders);\n            verify(restTemplate, times(1)).exchange(\n                    eq(expectedUrl),\n                    eq(HttpMethod.GET),\n                    eq(expectedHttpEntity),\n                    eq(RateResponse.class)\n            );\n    \n            // Verify the result\n            assertThat(result.getBase()).isEqualTo(base);\n            assertThat(result.getDate()).isEqualTo(date);\n            assertThat(result.getRates()).hasSize(2);\n            assertThat(result.getRates()).containsExactlyInAnyOrder(\n                    new RateInfoDto(EnumCurrency.USD, 1.2),\n                    new RateInfoDto(EnumCurrency.GBP, 0.9)\n            );\n        }\n    \n        private String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n    \n            String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\n            return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\n        }\n    }\n</code></pre>\n<p>How can I fix the issue?</p>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/currencyexchange\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"comments":[{"comment_id":134566318,"body":"Are there any errors in the console?"},{"comment_id":134566323,"body":"Just this one in browser console (in Intellij everythin is clear): DELETE <a href=\"http://localhost:8080/goods/del/1\" rel=\"nofollow noreferrer\">localhost:8080/goods/del/1</a> 403"},{"comment_id":134566395,"body":"I have added, but is is still 403:("},{"comment_id":134566398,"body":"OPTIONS has already been 200 by the way"},{"comment_id":134566471,"body":"What version of Spring Security are you using? And can you provide the code for <code>jwtAuthFilter</code>?"},{"comment_id":134566499,"body":"I am using the latest verision of Spring Security, v.6, I believe. I have added the filter class. Registration and Authorization are working fine, including roles of USER and MANAGER."},{"comment_id":134571215,"body":"why do you have a custom filter? why are you not using the built in JWT handling that comes with spring security?"}],"last_activity_date":1684799064,"question_id":76310305,"body":"<p>I have an issue with my web application using Spring Boot v3, Spring Security v6, JWT and React as front end. I have a method of deleting a product from database, which is working perfectly fine, according to Postman results with code 200 and removing it from database. But in the browser, when I try to do the same thing I get code 403 and I do not understand why.</p>\n<p>Authorization is working, the account has rights to do the thing. I have checked the CORS policy and included there the &quot;DELETE&quot; quiery. I have checked the presence of the token and it is here and working.\nHere is the React file:</p>\n<pre><code>import * as React from 'react';\nimport { Paper } from '@mui/material';\nimport Box from '@mui/material/Box';\nimport { Container } from '@mui/system';\nimport Button from '@mui/material/Button';\nimport Switch, {SwitchProps } from '@mui/material/Switch';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport axios, { formToJSON } from &quot;axios&quot;;\n\nexport default function Products() {\n    const paperStyle = { padding: '5px 10px', width: 600, margin: &quot;30px auto&quot;, textAlign: &quot;left&quot; };\n    const [products, setProducts] = React.useState([]);\n  \n    const handleClick = (goodId) =&gt; {\n        console.log(localStorage.role);\n        let config = {\n            headers: { \n              'Authorization': `Bearer ${localStorage.getItem('token')}`\n            }}\n      axios.delete(`http://localhost:8080/goods/del/${goodId}`,config)\n        .then(response =&gt; {\n          console.log(response.data);\n        })\n        .catch(error =&gt; {\n          console.log(error.config);\n        });\n    }\n  \n    React.useEffect(() =&gt; {\n      fetch(&quot;http://localhost:8080/goods/view&quot;)\n        .then(res =&gt; res.json())\n        .then(result =&gt; {\n          setProducts(result);\n        });\n    }, []);\n  \n    return (\n      &lt;Container&gt;\n        &lt;Paper elevation={3} style={paperStyle}&gt;\n          &lt;h1 style={{ textAlign: &quot;center&quot; }}&gt;Products list&lt;/h1&gt;\n          {products.map(product =&gt; (\n            &lt;&gt;\n              &lt;Paper elevation={6} style={{ margin: &quot;5px&quot;, padding: &quot;10px&quot;, textAlign: &quot;left&quot; }} key={product.id}&gt;\n                Name: {product.name}&lt;br /&gt;\n                Cost: {product.cost} $&lt;br /&gt;\n                Category: {product.description}&lt;br /&gt;\n                Amount available: {product.amount}\n              &lt;/Paper&gt;\n              &lt;Button style={{ margin: &quot;10px&quot;, textAlign: &quot;left&quot;, background: &quot;blue&quot;, color: &quot;white&quot; }}&gt;Add to cart&lt;/Button&gt;\n              {localStorage.role === &quot;MANAGER&quot; ? (\n                &lt;Button style={{ margin: &quot;10px&quot;, textAlign: &quot;left&quot;, background: &quot;red&quot;, color: &quot;white&quot; }} onClick={() =&gt; handleClick(product.id)}&gt;Delete&lt;/Button&gt;\n              ) : null}\n            &lt;/&gt;\n          ))}\n        &lt;/Paper&gt;\n      &lt;/Container&gt;\n    );\n  }\n</code></pre>\n<p>Here is the GoodController.java:</p>\n<pre><code> package com.skyforger.goods.controller;\n\n import com.skyforger.goods.repository.GoodRepository;\n import com.skyforger.goods.requests.GoodRequest;\n import org.json.JSONObject;\n import org.springframework.beans.factory.annotation.Autowired;\n import com.skyforger.goods.model.Good;\n import org.springframework.web.bind.annotation.*;\n\n import com.skyforger.goods.service.GoodService;\n\n import java.util.List;\n\n @RestController\n @RequestMapping(&quot;/goods&quot;)\n @CrossOrigin\n public class GoodController {\n     @Autowired\n     private GoodService goodService;\n\n     @Autowired\n     private GoodRepository goodRepository;\n\n     int amountOfElementsOnPage = 10;\n\n      @PostMapping(&quot;/add&quot;)\n      public String addGood(@RequestBody GoodRequest request){\n          Good good = Good.builder()\n                  .name(request.getName())\n                  .cost(request.getCost())\n                  .description(request.getDescription())\n                  .amount(request.getAmount())\n                  .build();\n          goodService.saveGood(good);\n          return &quot;redirect:goods/view&quot;;\n      }\n\n      @DeleteMapping(&quot;/del&quot;)\n      @CrossOrigin\n      public String deleteGood(@RequestParam(required = false) int goodId){\n          goodService.deleteGood(goodId);\n          return &quot;The good &quot; + goodId + &quot; has been deleted.&quot;;\n      }\n\n      @GetMapping(&quot;/view&quot;)\n      public List&lt;Good&gt; viewAllGoods(){\n          return goodService.getAllGoods();\n      }\n\n\n     @GetMapping(&quot;/search&quot;)\n     @CrossOrigin\n     public String goodsSearch(@RequestParam(required = false) String name){\n         String message = &quot;&quot;;\n         JSONObject jsonObject = new JSONObject();\n\n         if (name != null &amp;&amp; !name.isEmpty()){\n             List&lt;Good&gt; goods = goodService.findByName(name);\n             if (goods.size() != 0){\n                 jsonObject.put(&quot;goods&quot;, goods);\n                 message = jsonObject.toString();\n             } else{\n                 jsonObject.put(&quot;goods&quot;, goods);\n                 jsonObject.put(&quot;query&quot;, &quot;false&quot;);\n                 message = jsonObject.toString();\n             }\n         } else {\n             jsonObject.put(&quot;goods&quot;, goodService.getAllGoods());\n             message = jsonObject.toString();\n         }\n\n         return message;\n     }\n\n\n\n }\n\n</code></pre>\n<p>And here is my SecurityConfiguration.java file:</p>\n<pre><code>package com.skyforger.goods.security;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport com.skyforger.goods.model.Role;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport java.util.Arrays;\n\nimport static org.springframework.http.HttpMethod.*;\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n    private final CsrfFilter jwtAuthFilter;\n    private final AuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;, &quot;/&quot;, &quot;/goods/view&quot;, &quot;/goods/search&quot;)// Указанное здесь будет доступно для всех пользователей\n                .permitAll()\n                .requestMatchers(&quot;/users/view&quot;, &quot;/goods/del&quot;).hasRole(Role.MANAGER.name())\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource(){\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;DELETE&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;Authorization&quot;, &quot;Content-Type&quot;));\n        UrlBasedCorsConfigurationSource urlBasedCorsConfigurationSource = new UrlBasedCorsConfigurationSource();\n        urlBasedCorsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return urlBasedCorsConfigurationSource;\n    }\n}\n\n</code></pre>\n<p>Here is the jwtAuthFilter:</p>\n<pre><code>package com.skyforger.goods.security;\n\nimport com.skyforger.goods.token.TokenRepository;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.lang.NonNull;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\n@Component\n@RequiredArgsConstructor\npublic class CsrfFilter extends OncePerRequestFilter {\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n    private final TokenRepository tokenRepository;\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request,\n                                    @NonNull HttpServletResponse response,\n                                    @NonNull FilterChain filterChain) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        if (authHeader == null ||!authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n        if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            var isTokenValid = tokenRepository.findByToken(jwt)\n                    .map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\n                    .orElse(false);\n            if (jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n                        userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request)\n                );\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n\n</code></pre>\n"},{"answers":[{"answer_id":76301866,"body":"<p>Try <code>SELECT b.position,b.name,b.capacity,b.currentAmount, it.name AS ingredientName FROM ....</code></p>\n<ul>\n<li>where <code>....</code> is the rest of the query. i.e. the important part is aliasing the <strong>name</strong> column to be <strong>ingredientName</strong> using <strong><code>AS</code></strong>.</li>\n</ul>\n<p>i.e. you are supplying the value that can/will be associated with the ingredientName member variable.</p>\n<p>This is assuming that you want the value of the <strong>name</strong> column from the ingredient_types table to be the <strong>ingredientName</strong>.</p>\n"}],"last_activity_date":1684798167,"question_id":76300620,"body":"<p>I am trying to use Room library to access a DB, but DAO implementation is not generating well.\nIn my DAO interface i have:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Query(&quot;SELECT b.position,b.name,b.capacity,b.currentAmount, it.name FROM bottles AS b &quot; +\n            &quot;INNER JOIN bottle_ingredient AS bi ON bi.bottlePos=b.position &quot; +\n            &quot;INNER JOIN ingredient_types AS it ON it.id=bi.ingredientId&quot; +\n            &quot; WHERE position = :position&quot;)\n    Bottle getBottleWithIngredientFromPosition(int position);\n</code></pre>\n<p>And my bottle class is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Bottle {\n    public int position;\n    public String name;\n    public int capacity;\n    public int currentAmount;\n    public String ingredientName;\n\n    //Constructor, getters and setters\n}\n</code></pre>\n<p>But when i create a new Bottle object with the DAO it gets created with &quot;ingredientName&quot; as null. I checked the implementation Room generates and is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n  public Bottle getBottleWithIngredientFromPosition(final int position) {\n    final String _sql = &quot;SELECT b.position,b.name,b.capacity,b.currentAmount, it.name FROM bottles AS b INNER JOIN bottle_ingredient AS bi ON bi.bottlePos=b.position INNER JOIN ingredient_types AS it ON it.id=bi.ingredientId WHERE position = ?&quot;;\n    final RoomSQLiteQuery _statement = RoomSQLiteQuery.acquire(_sql, 1);\n    int _argIndex = 1;\n    _statement.bindLong(_argIndex, position);\n    __db.assertNotSuspendingTransaction();\n    final Cursor _cursor = DBUtil.query(__db, _statement, false, null);\n    try {\n      final int _cursorIndexOfPosition = 0;\n      final int _cursorIndexOfName = 1;\n      final int _cursorIndexOfCapacity = 2;\n      final int _cursorIndexOfCurrentAmount = 3;\n      final Bottle _result;\n      if(_cursor.moveToFirst()) {\n        final int _tmpPosition;\n        _tmpPosition = _cursor.getInt(_cursorIndexOfPosition);\n        final String _tmpName;\n        if (_cursor.isNull(_cursorIndexOfName)) {\n          _tmpName = null;\n        } else {\n          _tmpName = _cursor.getString(_cursorIndexOfName);\n        }\n        final int _tmpCapacity;\n        _tmpCapacity = _cursor.getInt(_cursorIndexOfCapacity);\n        final int _tmpCurrentAmount;\n        _tmpCurrentAmount = _cursor.getInt(_cursorIndexOfCurrentAmount);\n        _result = new Bottle(_tmpPosition,_tmpName,_tmpCapacity,_tmpCurrentAmount,null);\n      } else {\n        _result = null;\n      }\n      return _result;\n    } finally {\n      _cursor.close();\n      _statement.release();\n    }\n  }\n</code></pre>\n<p>As we can see it calls the constructor with last parameter as null and never tries to get it from the DB.\nI downloaded SQLite DB and run the query manually and it works as espected</p>\n"},{"answers":[{"answer_id":76088922,"body":"<p>I tried after updating the Google Play services to latest (23.13.12) and it worked!</p>\n<p>I don't see any documentation of minimum version of Google Play Services required for MLKit.</p>\n"},{"answer_id":76310418,"body":"<p>Glad to see you got it working. If you had any logs of the issue to share, it would be helpful to figure out why.</p>\n<p>Thx!</p>\n"}],"last_activity_date":1684797555,"question_id":76041749,"body":"<p>I am trying <code>com.google.android.gms:play-services-mlkit-text-recognition</code> library for OCR which is working absolutely fine on all Android versions except Android-8.</p>\n<p>The library <code>play-services-mlkit-text-recognition</code> is able to recognise text on all Android versions but it fails to recognise text on Android-8 and returning empty array.</p>\n<p>I followed all the steps given in <a href=\"https://developers.google.com/ml-kit/vision/text-recognition/android\" rel=\"nofollow noreferrer\">https://developers.google.com/ml-kit/vision/text-recognition/android</a>.</p>\n<p>The library I am using is <code>com.google.android.gms:play-services-mlkit-text-recognition:18.0.2</code> with Google Play Services (<code>com.google.android.gms</code>) version <code>22.50.14 (version code: 225014021)</code>.</p>\n<p>Does anyone have any idea whats going wrong here?</p>\n"},{"comments":[{"comment_id":93140128,"body":"The &quot;x&quot; would imply you are passing an hex string to <code>convertBToD</code>. Go through and check all the calls to <code>convertBToD</code> to see where you are passing a hex string. Hint: look at <code>convertHToB</code>."},{"comment_id":93140352,"body":"I don&#39;t know how I didn&#39;t notice that the return statement was wrong until now, thank you so much."}],"answers":[{"answer_id":76310410,"body":"<p>In Java, to convert a hexadecimal value to an integer you use the <code>Integer.parseInt</code> method, with a second argument of <code>16</code>, the radix.</p>\n<p>It will not recognize a value starting with <code>0x</code> as a hexadecimal.</p>\n<p>Furthermore, you're calling <code>convertBToD</code> under the following conditional-block.<br />\nI believe you mean <code>convertHToD</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (stringNumber.startsWith(&quot;0x&quot;)){\n    theNumberAsHexadecimal = stringNumber;\n    theNumberAsBinary = convertHToB(theNumberAsHexadecimal);\n    theNumberAsDecimal = convertBToD(theNumberAsBinary);\n}\n</code></pre>\n<p>Example</p>\n<pre class=\"lang-java prettyprint-override\"><code>int convertHToD(String hexadecimal) {\n    return Integer.parseInt(hexadecimal.substring(2), 16);\n}\n</code></pre>\n"}],"last_activity_date":1684797447,"question_id":53122661,"body":"<p>In my program, I have to put a decimal integer, a binary string, or a hexadecimal string into my class. It then converts the variable into the others.</p>\n\n<p>My issue is that, since binary and hexadecimal are both strings, I have the constructor determine whether the argument is a binary or hexadecimal and proceed from there. However, based on my error, the program isn't figuring out a hexadecimal number is what it is.</p>\n\n<pre><code>import java.util.*;\nclass Tester{\n   public static void main(String[] args){\n      String hex1 = \"0x34\";\n      BDHNumber test = new BDHNumber(hex1);\n\n      System.out.println(test.getDec());\n      System.out.println(test.getBin());\n      System.out.println(test.getHex());\n   }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\n\npublic class BDHNumber{\n   private int theNumberAsDecimal;\n   private String theNumberAsBinary;\n   private String theNumberAsHexadecimal;\n   private static String[] hexadecimalArray = {\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \n                                               \"6\", \"7\", \"8\", \"9\", \"A\", \"B\", \n                                               \"C\", \"D\", \"E\", \"F\"};\n   private static String[] binaryArray = {\"0000\", \"0001\", \"0010\", \"0011\", \n                                          \"0100\", \"0101\", \"0110\", \"0111\", \n                                          \"1000\", \"1001\", \"1010\", \"1011\",\n                                          \"1100\", \"1101\", \"1110\", \"1111\"}; \n\n//Default empty constructor.\npublic BDHNumber(){\n}\n\n//Decimal constructor.\npublic BDHNumber(int decimal){\n   theNumberAsDecimal = decimal;\n   theNumberAsBinary = convertDToB(decimal);\n   theNumberAsHexadecimal = convertBToH(theNumberAsBinary);\n}\n\n//Constructs binary or hexadecimal.\npublic BDHNumber(String stringNumber){ \n   if (stringNumber.startsWith(\"0x\")){\n       theNumberAsHexadecimal = stringNumber;\n       theNumberAsBinary = convertHToB(theNumberAsHexadecimal);\n       theNumberAsDecimal = convertBToD(theNumberAsBinary);\n   }\n   else{\n       theNumberAsBinary = stringNumber;\n\n       //Pads the binary to be multiples of 4\n       while(theNumberAsBinary.length()%4 != 0){\n        theNumberAsBinary = \"0\" + theNumberAsBinary;\n       }\n\n      theNumberAsDecimal = convertBToD(theNumberAsBinary);\n      theNumberAsHexadecimal = convertBToH(theNumberAsBinary);\n   }\n}\n\n//Converts Binary to Decimal.\nprivate static int convertBToD(String binary){\n   String binary1 = binary;\n   int decimal = 0;\n   int index = 0;\n\n   //Pads the binary to be multiples of 4\n   while(binary1.length()%4 != 0){\n         binary1 = \"0\" + binary1;\n      }\n\n   int length = binary1.length();\n\n   for(int i = length; i &gt; 0; i--){\n      decimal = decimal + (int)(Integer.parseInt(binary1.substring(index,\n                                index+1)) * Math.pow(2, (i-1)));\n      index++;\n   }\n   return decimal;\n}\n\n//Converts Binary to Hexadecimal.\nprivate static String convertBToH(String binary){\n   String binary1 = binary;\n   String hex = \"\";\n   int index = 0;\n   int binaryAsDecimal = 0; \n\n   //Pads the binary to be multiples of 4\n   while(binary1.length()%4 != 0){ \n         binary1 = \"0\" + binary1;\n      }\n\n   int length = binary1.length();\n\n   while(length != 0){\n      binaryAsDecimal = convertBToD(binary1.substring(length-4, length));\n\n      for(int i = 0; i&lt;hexadecimalArray.length; i++){\n         if(i == binaryAsDecimal){\n            hex = hexadecimalArray[i] + hex;\n         }\n      }\n      length = length - 4;\n   }\n   return hex;\n}\n\n//Converts Decimal to Binary\nprivate static String convertDToB(int decimal){\n   int decimal1 = decimal;\n   int remainder;\n   String binary = \"\";\n\n   while (decimal != 0){\n      remainder = decimal % 2; \n\n      if (remainder == 1){\n         binary = \"1\" + binary;\n      }\n      else if (remainder == 0){\n         binary = \"0\" + binary;\n      }\n      decimal = decimal / 2;\n   }\n   return binary;\n}\n\n//Converts Hexadecimal to Binary.\nprivate static String convertHToB(String hexadecimal){\n   String hex = hexadecimal;\n   String binary = \"\";\n   int index = 0;\n   int length = hex.length();\n\n   for(int i = hex.length(); i &gt; 0; i--){\n      if(hexadecimalArray[index] == hex.substring(length-1, length)){\n         binary = convertDToB(index) + binary;\n      }\n      index++;\n      length--;\n   }\n   return hex;\n}\n\n//Getters.\npublic String getBin(){\n   return theNumberAsBinary;\n}\n\npublic String getHex(){\n   return theNumberAsHexadecimal;\n}\n\npublic int getDec(){\n   return theNumberAsDecimal;\n}\n} \n</code></pre>\n\n<p>Here is the error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.NumberFormatException: For input \n  string: \"x\"\n   at \n  java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)</p>\n  \n  <p>at java.lang.Integer.parseInt(Integer.java:580)</p>\n  \n  <p>at java.lang.Integer.parseInt(Integer.java:615)</p>\n  \n  <p>at BDHNumber.convertBToD(BDHNumber.java:63)</p>\n</blockquote>\n\n<p>The error is in the convertBToD method, and specifically where it converts one bit of the binary number to an integer. For some reason my code is taking the hexadecimal number as a binary in the constructor, instead of following the if statement. It can't convert \"x\" into an integer, so it has an error. I just can't figure out why. Any extra eyes would be a great help.</p>\n"},{"comments":[{"comment_id":134566364,"body":"What if they are on a Mac?"},{"comment_id":134566370,"body":"You can make an <a href=\"https://technojeeves.com/index.php/aliasjava1/111-making-native-installable-apps-with-java-9\" rel=\"nofollow noreferrer\">installer</a>"},{"comment_id":134566400,"body":"<i>&quot;but it says it needs a java runtime enviromment.&quot;</i> - Yes, that&#39;s basically going to be the requirement for any native launcher - after all, all these are doing is providing a way to launch the JVM and your program with in it"},{"comment_id":134566424,"body":"An installer bundles up a lightweight Java runtime, so you don&#39;t need one already installed"}],"last_activity_date":1684797418,"question_id":76310327,"body":"<p>I was coding a game with intellij and libgdx and can get the .jar for the game but i wanted to convert it to .exe so people can play it without java. Is there any way to do that?</p>\n<p>I tried using launch4j but it says it needs a java runtime enviromment.</p>\n"},{"comments":[{"comment_id":79955160,"body":"you must add authentication header along with curl command."},{"comment_id":79996547,"body":"With curl is OK, but my question is with a browser (chrome)"},{"comment_id":79997177,"body":"Not sure, but I wouln&#39;t combine the &quot;basic:secret&quot; in the URL with the authentication header. Either use one of two, not both at the same time."}],"answers":[{"answer_id":46500091,"body":"<p>In an URL:</p>\n\n<pre><code>http://admin:secret@127.0.0.1:8088/metrics\n</code></pre>\n\n<p>As a header:</p>\n\n<pre><code>Authorization: Basic YWRtaW46c2VjcmV0\n</code></pre>\n"},{"comments":[{"comment_id":101885603,"body":"This is only for spring boot 1.x"}],"answer_id":51917376,"body":"<p>Please update:</p>\n\n<pre><code>management.security.enabled=true\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>management.security.enabled=false\n</code></pre>\n"},{"answer_id":54447759,"body":"<p>Use the CustomAuthenticationEntryPoint with @Component Annotation</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class AdminEntryPointsSecurityConfig {\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Configuration\n    @Order(1)\n    public static class App1ConfigurationAdapter extends WebSecurityConfigurerAdapter {\n\n        @Autowired\n        private CustomAuthenticationEntryPoint authenticationEntryPoint;\n\n        @Override\n        protected void configure(HttpSecurity http) throws Exception {\n            http.antMatcher(\"/actuator/**\")\n                .authorizeRequests().anyRequest().hasRole(\"ADMIN\")\n                .and().httpBasic().authenticationEntryPoint(authenticationEntryPoint)    \n                .and().exceptionHandling().accessDeniedPage(\"/403\");\n        }   \n\n\n\n\n        @Override\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n            PasswordEncoder encoder = PasswordEncoderFactories.createDelegatingPasswordEncoder();        \n            auth.inMemoryAuthentication()\n                .passwordEncoder(encoder)\n                .withUser(\"act\")\n                .password(encoder.encode(\"act\"))            \n                .roles(\"ADMIN\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>Then do the Basic Authentication.</p>\n\n<pre><code>@Component\npublic class CustomAuthenticationEntryPoint extends BasicAuthenticationEntryPoint {\n\n    @Override\n    public void commence(final HttpServletRequest request, final HttpServletResponse response, final AuthenticationException authException) throws IOException, ServletException {\n        response.addHeader(\"WWW-Authenticate\", \"Basic realm=\\\"\" + getRealmName() + \"\\\"\");\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n        final PrintWriter writer = response.getWriter();\n        writer.println(\"HTTP Status \" + HttpServletResponse.SC_UNAUTHORIZED + \" - \" + authException.getMessage());\n    }\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        setRealmName(\"ADMIN\");\n        super.afterPropertiesSet();\n    }\n\n}\n</code></pre>\n"}],"last_activity_date":1684796875,"question_id":46490343,"body":"<p>I use spring boot with actuator and I add security configuration:</p>\n\n<pre><code>management.port=8088\nmanagement.address=127.0.0.1\nmanagement.security.enabled=true\nsecurity.user.name=admin\nsecurity.user.password=secret\nmanagement.security.role=SUPERUSER\n</code></pre>\n\n<p><code>curl -u admin:secret http://127.0.0.1:8088/metrics</code> is OK but with Chrome (<a href=\"http://127.0.0.1:8088/metrics\" rel=\"nofollow noreferrer\">http://127.0.0.1:8088/metrics</a>): <code>{\"timestamp\":1506692938036,\"status\":401,\"error\":\"Unauthorized\",\"message\":\"Full authentication is required to access this resource.\",\"path\":\"/metrics\"}</code></p>\n\n<p>How to use login/password in url or headers?</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>I try @Lachezar Balev solution (Authorization: Basic YWRtaW46c2VjcmV0 + admin:secret@ in url) but is KO</p>\n\n<p><a href=\"https://i.stack.imgur.com/kIDLy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kIDLy.png\" alt=\"enter image description here\"></a></p>\n"},{"answers":[{"answer_id":71157256,"body":"<p>I found <a href=\"https://stackoverflow.com/a/63510958/10950272\">here</a> that <code>HealthEndpoint</code> was what I was looking for.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class AppStatusRestController {\n    private final HealthEndpoint healthEndpoint;\n\n    public AppStatusRestController(HealthEndpoint healthEndpoint) {\n        this.healthEndpoint = healthEndpoint;\n    }\n\n    @GetMapping(&quot;/status&quot;)\n    public String status() {\n        return &quot;status: &quot; + healthEndpoint.health().getStatus();\n    }\n\n}\n</code></pre>\n"}],"last_activity_date":1684796830,"question_id":71156905,"body":"<p>In a springboot application I want to produce <code>/version</code> endpoint which combines some of <code>/actuator/health</code> and <code>/actuator/info</code> data.\nFrom health endpoint I need overall status <code>UP</code>/<code>DOWN</code>.</p>\n<p>How can I retrieve <strong>application status</strong> inside java code?</p>\n<p>Based on <a href=\"https://stackoverflow.com/a/69365535/10950272\">this answer</a> I tried to retrieve all <code>HealthIndicator</code> beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class AppStatusRestController {\n    private final List&lt;HealthIndicator&gt; healthIndicators;\n\n    public AppStatusRestController(List&lt;HealthIndicator&gt; healthIndicators) {\n        this.healthIndicators = healthIndicators;\n    }\n\n    @GetMapping(&quot;/status&quot;)\n    public String status() {\n        return &quot;status: &quot; + getStatus();\n    }\n    private String getStatus() {\n        return isUp() ? Status.UP.getCode() : Status.DOWN.getCode();\n\n    }\n\n    private boolean isUp() {\n        return this.healthIndicators.stream().allMatch(healthIndicator -&gt; healthIndicator.getHealth(false).getStatus() == Status.UP);\n    }\n\n}\n</code></pre>\n<p>but it doesn't work for some components, e.g. RabbitMQ</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  status: &quot;DOWN&quot;, // how can I get application status \n  components: {\n    db: {\n      status: &quot;UP&quot;,\n...\n    },\n    diskSpace: {\n      status: &quot;UP&quot;,\n...\n      }\n    },\n    ping: {\n      status: &quot;UP&quot;\n    },\n    rabbit: {\n      status: &quot;DOWN&quot;,\n      details: {\n        error: &quot;org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect&quot;\n      }\n    },\n    myCustomHealthIndicator: {\n      status: &quot;UP&quot;,\n...\n    }\n  }\n}\n</code></pre>\n<p>Note that I don't need component status at all. I just want to retrieve overall status of my app.</p>\n"},{"answers":[{"comments":[{"comment_id":98105474,"body":"I tried using your solution for my issue, but I&#39;m getting the following in the generated xml file:  &lt;!-- ibm-web-bnd.xmi to          xml transformation exception: Found resRefBindings with id ResourceRef_1250177725156          that has no matching reference in web.xml --&gt;"}],"answer_id":24231735,"body":"<p>Even if the answer comes late I hope that it helps someonoe.</p>\n\n<p>I also faced the problem of an </p>\n\n<pre><code>javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\n</code></pre>\n\n<p>and in my case it arised because I used version 3.0 in my web.xml and an ibm-web-bnd.xmi descriptor.</p>\n\n<p>When I used an ibm-web-bnd.xml descriptor instead it worked.</p>\n\n<p>So for me it seems that you should use </p>\n\n<ul>\n<li>for web-app version &lt;= 2.4 a ibm-bnd-web.<strong>xmi</strong> descriptor</li>\n<li>for web-app version >= 2.5 a ibm-bnd-web.<strong>xml</strong> descriptor</li>\n</ul>\n\n<p>I also wrote a blog about my experience with this problem</p>\n\n<p><a href=\"https://www.link-intersystems.com/blog/2014/06/15/how-to-fix-ibm-websphere-jndi-exception-cannot-find-the-factory-for-this-scheme-java/\" rel=\"nofollow\">https://www.link-intersystems.com/blog/2014/06/15/how-to-fix-ibm-websphere-jndi-exception-cannot-find-the-factory-for-this-scheme-java/</a></p>\n"}],"last_activity_date":1684796495,"question_id":12041353,"body":"<p>I am migrating my application from java 1.5 and WAS 6.1 to java 1.7 and WAS 8.5 I am getting the following exception.</p>\n\n<pre><code>[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'xxxDa\ntaSource' defined in class path resource [applicationContext-datasources.xml]: Invocation of init method failed; nested exception is javax.naming\n.ConfigurationException: NamingManager.getURLContext cannot find the factory for this scheme: java\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\nan(AbstractAutowireCapableBeanFactory.java:1338)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean\n(AbstractAutowireCapableBeanFactory.java:473)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(Abstra\nctAutowireCapableBeanFactory.java:409)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at java.security.AccessController.doPrivileged(AccessController.java:252)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(A\nbstractAutowireCapableBeanFactory.java:380)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFac\ntory.java:264)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(Defau\nltSingletonBeanRegistry.java:222)\n[8/20/12 12:01:00:286 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFacto\nry.java:261)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\n.java:185)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory\n.java:164)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingle\ntons(DefaultListableBeanFactory.java:423)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitializ\nation(AbstractApplicationContext.java:728)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicatio\nnContext.java:380)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.j\nava:255)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.jav\na:199)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderLis\ntener.java:45)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at scv.cais.cms.jdr.webservice.context.ScvContextLoaderListener.contextInitialized(ScvContex\ntLoaderListener.java:21)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1651)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:414)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:746)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:634)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:424)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:718)\n[8/20/12 12:01:00:287 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1170)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedAppl\nicationImpl.java:1370)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:638)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:9\n68)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\n769)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplicationDynamically(ApplicationMg\nrImpl.java:1364)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2169)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:445\n)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:388\n)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.jav\na:116)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl$1.run(CompositionUnitMgrImpl.java:663\n)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:5339)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:5555)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\ngrImpl.java:677)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.startCompositionUnit(CompositionUnitM\ngrImpl.java:621)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:\n1256)\n[8/20/12 12:01:00:288 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\nr.java:831)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.application.AppManagementImpl._startApplication(AppManagementImpl.j\nava:1482)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\nva:1371)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.application.AppManagementImpl.startApplication(AppManagementImpl.ja\nva:1320)\n[8/20/12 12:01:00:289 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:67)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:88)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at java.lang.reflect.Method.invoke(Method.java:613)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:275)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invokeMethod(RequiredModelMBean.java:1196)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at javax.management.modelmbean.RequiredModelMBean.invoke(RequiredModelMBean.java:1060)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerIntercepto\nr.java:831)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:803)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl$1.run(AdminServiceImpl.java:1335)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.security.util.AccessController.doPrivileged(AccessController.java:118)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.AdminServiceImpl.invoke(AdminServiceImpl.java:1228)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at com.ibm.ws.management.remote.AdminServiceForwarder.invoke(AdminServiceForwarder.java:346)\n[8/20/12 12:01:00:290 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1458)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.access$200(RMIConnectionImpl.java:100)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.j\nava:1303)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.jav\na:1391)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:823)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi._RMIConnectionImpl_Tie.invoke(Unknown Source)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at javax.management.remote.rmi._RMIConnectionImpl_Tie._invoke(Unknown Source)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDelegate.java:669)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:523)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.ORB.process(ORB.java:523)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.CORBA.iiop.ORB.process(ORB.java:1575)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.Connection.doRequestWork(Connection.java:2992)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.Connection.doWork(Connection.java:2875)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.rmi.iiop.WorkUnitImpl.doWork(WorkUnitImpl.java:64)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ejs.oa.pool.PooledThread.run(ThreadPool.java:118)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1783)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R Caused by: javax.naming.ConfigurationException: NamingManager.getURLContext cannot find the f\nactory for this scheme: java\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ws.naming.util.Helpers.checkForUrlContext(Helpers.java:1631)\n[8/20/12 12:01:00:291 EDT] 0000006b SystemErr     R     at com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:160)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:179)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.apache.aries.jndi.DelegateContext.lookup(DelegateContext.java:161)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at javax.naming.InitialContext.lookup(InitialContext.java:422)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate$1.doInContext(JndiTemplate.java:155)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate.execute(JndiTemplate.java:88)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:153)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiTemplate.lookup(JndiTemplate.java:178)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiLocatorSupport.lookup(JndiLocatorSupport.java:95)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiObjectLocator.lookup(JndiObjectLocator.java:105)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiObjectFactoryBean.lookupWithFallback(JndiObjectFactoryBean.j\nava:200)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.jndi.JndiObjectFactoryBean.afterPropertiesSet(JndiObjectFactoryBean.j\nava:186)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMe\nthods(AbstractAutowireCapableBeanFactory.java:1369)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBe\nan(AbstractAutowireCapableBeanFactory.java:1335)\n[8/20/12 12:01:00:292 EDT] 0000006b SystemErr     R     ... 96 more\n</code></pre>\n\n<p>I don't get this error when I use java 1.6</p>\n\n<p>Here is the web.xml snippet I used for resource binding</p>\n\n<pre><code>  &lt;resource-ref id=\"xxx-data-source\"&gt;\n            &lt;description&gt;XXX Datasource&lt;/description&gt;\n            &lt;res-ref-name&gt;jdbc/xxxDatasource&lt;/res-ref-name&gt;\n            &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n            &lt;res-auth&gt;Container&lt;/res-auth&gt;\n            &lt;res-sharing-scope&gt;Shareable&lt;/res-sharing-scope&gt;\n        &lt;/resource-ref&gt;\n</code></pre>\n\n<p>I am able to bypass this error when I remove the java: comp/env prefix from my datasource name</p>\n\n<p>for example: I am using</p>\n\n<pre><code>jdbc.jdr.datasource=jdbc/XxxDatasource\n</code></pre>\n\n<p>instaead of</p>\n\n<pre><code>jdbc.jdr.datasource=java:comp/env/jdbc/XxxDatasource\n</code></pre>\n\n<p>But I cannot remove this from all the places(in some jars).</p>\n\n<p>did anyone face this issue before?</p>\n\n<p>Thanks</p>\n"},{"comments":[{"comment_id":134561566,"body":"Linux fedora 6.2.15-200.fc37.x86_64"},{"comment_id":134564400,"body":"Is there a <code>.so</code> file in the location it is looking for one?"},{"comment_id":134564404,"body":"I don&#39;t know much gradle, so probably can&#39;t help much.   I don&#39;t even understand why it is looking for a <code>.so</code> file.  Gradle uses maven repositories and the javafx jars in maven central stored as os architecture classified artifacts are modules that include the native code, so there wouldn&#39;t seem a need for a gradle build to look for a JavaFX <code>.so</code> file, especially in a really weird location like that."},{"comment_id":134564413,"body":"For help, you probably need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"comment_id":134566168,"body":"The error can be a misconfigured vscode gradle extension?"},{"comment_id":134566193,"body":"The only file inside that folder is javafx-graphics-20-linux.jar"},{"comment_id":134566431,"body":"I don’t know about vscode, I don’t use it.  But you could run gradle from the command line to verify that it works independently of vscode.  My guess is that the <code>so</code> is inside the jar and that is confusing your particular runtime setup, though I could not tell you why nor how to fix it.  If you suspect the IDE config and are stuck, you could switch IDEs, e.g. to Idea community (run the new JavaFX project wizard in Idea to generate a new working debuggable JavaFX Gradle project then copy your code in, if you want to try that)."}],"last_activity_date":1684796181,"question_id":76302699,"body":"<p>I have a Lenovo with Intel. When run <code>JavaFX</code> with gradle works great. But when debug does not execute, get error at first. The error is:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>Exception has occurred: java.lang.UnsatisfiedLinkError\n&quot;java.lang.UnsatisfiedLinkError: Can't load library:\n/home/---/.gradle/caches/modules-2/files-2.1/org.openjfx/javafx-graphics/---/---/libprism_es2.so&quot;\n</code></pre>\n</blockquote>\n<p>I am using gradle <code>plugin id 'org.openjfx.javafxplugin'</code> version <code>'0.0.14'</code>, <code>javafx version 20</code>, and <code>openjdk 17.0.6</code>.</p>\n<p>My OS is Linux fedora 6.2.15-200.fc37.x86_64</p>\n"},{"comments":[{"comment_id":134546797,"body":"You might need to commit before fetching all rows. <code>ctx.commit();</code> please let me know if it works"},{"comment_id":134549351,"body":"thank you @mahfujasif, unfortunately there is no ctx.commit() , it seems taht the transactions is autommitted.   Anyway I have found that I can use ctx.insert  and I have used it but still I got the issue..."}],"answers":[{"answer_id":76300933,"body":"<p>You are missing @Transactional annotation in your service class,<br>\nand you are breaking single responsibility principle in your repository classes.<br>\nFor a data transformation, create mapper class (@Component) and use them in your service class.<br>\nAnd if really needed any extra configuration,<br>\nyou can do so injecting appropriate one by using a @Bean annotation in your '@Configuration' class(es).<br>\nAnd be aware, that &quot;@Transactional&quot; annotation at class level applies only to a public methods.<br>\nAnother issue is unnecessary implementation of &quot;GenericRepository&quot; of yours, you should extend JpaRepository.<br>\nAnd if really needed generic one, annotate it using @NoRepositoryBean.</p>\n<p>According to JDBC transactions be aware of differences between\nSpring Data save and saveAndFlush methods.\n<a href=\"https://www.baeldung.com/spring-data-jpa-save-saveandflush\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-save-saveandflush</a></p>\n<p>There are many examples how to properly implement a project using Spring Rest and Spring Data.\nMaybe one of many:\n<a href=\"https://github.com/thevarga04/ucimsa\" rel=\"nofollow noreferrer\">https://github.com/thevarga04/ucimsa</a></p>\n"},{"answer_id":76308622,"body":"<p>The query needs to use the query option QueryScanConsistency.REQUEST_PLUS.  The issue is that while a kv.get() would immediately/instantaneously find a document inserted with a kv.insert(), the query engine can only find documents that have been indexed - which is not instantaneous.  REQUEST_PLUS will cause the query to wait until all documents that needed to be indexed at the time the query request was issued are indexed, and then it will execute.  It works in debug because there is enough time for the documents to become indexed.</p>\n<p>&quot; List jsonObjects = couchbaseTemplate.getCouchbaseClientFactory().getScope()\n.query(String.format(&quot;SELECT * FROM %1$s &quot;, keySpace)).rowsAsObject();&quot;</p>\n<p>Why not</p>\n<p>myRepository.withScope(scope).withCollection(collection).findAll()</p>\n<p>You don't have to write any code. (There are also @Scope and @Collection annotations). For the QueryScanConsistency, you could add the method signature (no body required) to the repository and use the WithConistency annotation. see</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/couchbase/docs/current/reference/html/#couchbase.collections</a></li>\n<li><a href=\"https://github.com/couchbaselabs/try-cb-spring\" rel=\"nofollow noreferrer\">https://github.com/couchbaselabs/try-cb-spring</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=MrplTeEFItk\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=MrplTeEFItk</a></li>\n</ul>\n<p>Just to be clear, &quot;couchbaseTemplate.getCouchbaseClientFactory().getCluster()&quot; is the only thing in your code that uses spring-data-couchbase.  After that everything bypasses spring data couchbase, it uses the Couchbase Java SDK.  Using @Transaction is not going to have any effect.</p>\n<p>Spring Data templates and repositories provide their own mapper.  It's not necessary to provide any.</p>\n<p>regarding <a href=\"https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/blob/basic_crud/crud.couchbase/src/main/java/com/rosariob/crud/couchbase/repository/CustomerRepository.java\" rel=\"nofollow noreferrer\">https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/blob/basic_crud/crud.couchbase/src/main/java/com/rosariob/crud/couchbase/repository/CustomerRepository.java</a> - please see the try-cb-spring or other sample application, or the spring-data-couchbase tests for defining and using repositories -  <a href=\"https://github.com/spring-projects/spring-data-couchbase/tree/main/src/test/java/org/springframework/data/couchbase/domain\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-couchbase/tree/main/src/test/java/org/springframework/data/couchbase/domain</a></p>\n"}],"last_activity_date":1684795157,"question_id":76299023,"body":"<p>I have tried to build a set of CRUD REST APIs using Spring Boot. I have created the project via Spring Initializr with the dependency spring-boot-starter-data-couchbase.</p>\n<p>I have uploaded the project here <a href=\"https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/tree/basic_crud\" rel=\"nofollow noreferrer\">https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/tree/basic_crud</a> The test class is called CustomerRepositoryTest.</p>\n<p>I have implemented some Repository methods using the CouchbaseTemplate. For example:</p>\n<pre><code>@Override\n    public List&lt;Customer&gt; findAll() {\n        List&lt;JsonObject&gt; jsonObjects = couchbaseTemplate.getCouchbaseClientFactory().getScope()\n                .query(String.format(&quot;SELECT * FROM %1$s &quot;, keySpace)).rowsAsObject();\n        return jsonObjects.stream().map(this::mapJsonToCustomer).collect(Collectors.toList());\n     }\n</code></pre>\n<p>And i have also implemented a test for the above method (with Testcontainers) :</p>\n<pre><code>@Test\n    public void testFindAll() {\n        Customer alex = new Customer(&quot;customer1&quot;, &quot;Alex&quot;, &quot;Stone&quot;);\n        Customer jack = new Customer(&quot;customer2&quot;, &quot;Jack&quot;, &quot;Sparrow&quot;);\n        List&lt;Customer&gt; customerList = List.of(alex, jack);\n        Transactions transactions = couchbaseTemplate.getCouchbaseClientFactory().getCluster().transactions();\n        customerList.forEach(customer -&gt;\n                transactions.run(ctx -&gt; ctx.insert(collection, customer.getId(), customer)\n                )\n        );\n        List&lt;Customer&gt; customers = customerRepository.findAll();\n        Assertions.assertEquals(customerList, customers);\n    }\n</code></pre>\n<p>My problem is that even if I perform an insert with 2 items in the database with collection.insert, when I try to recover the items with customerRepository.findAll some times the test fails because it finds just one item of the two.</p>\n<p>If I run the test in debug it works. I thought there were some synchronization issue and I've tried to synchronize the methods but I have not solved the problem.</p>\n<p>What am I doing wrong?</p>\n"},{"answers":[{"comments":[{"comment_id":126581055,"body":"Is there a way to set minimum and maximum globally without including the meter name?"},{"comment_id":126588466,"body":"There’s no way to do that as it is highly unlikely that the same minimum or maximum will be appropriate for every metric."}],"answer_id":71621022,"body":"<p>Those properties are for configuring per-meter maximums and you haven't include a meter name. For example, to configure a maximum of <code>10s</code> for meter names starting with <code>example.meter</code>, you would configure <code>management.metrics.distribution.maximum-expected-value.example.meter=10s</code>.</p>\n<p>The reference documentation contains <a href=\"https://docs.spring.io/spring-boot/docs/2.5.x/reference/htmlsingle/#actuator.metrics.customizing.per-meter-properties\" rel=\"nofollow noreferrer\">a section</a> on per-meter properties.</p>\n"}],"last_activity_date":1684795132,"question_id":71620221,"body":"<p>I'm trying to set the values of these two properties in my spring boot <code>application.properties</code> file -</p>\n<pre><code>management.metrics.distribution.maximum-expected-value=1\nmanagement.metrics.distribution.maximum-expected-value=10\n</code></pre>\n<p>or</p>\n<pre><code>management.metrics.distribution.maximum-expected-value=1s\nmanagement.metrics.distribution.maximum-expected-value=10s\n</code></pre>\n<p>Every-time I try to run my application with these two fields set, I get below exception -</p>\n<p><code>APPLICATION FAILED TO START\\n***************************\\n\\nDescription:\\n\\nFailed to bind properties under 'management.metrics.distribution.maximum-expected-value' to java.util.Map&lt;java.lang.String, java.lang.String&gt;:\\n\\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]\\n\\nAction:\\n\\nUpdate your application's configuration\\n&quot;}</code></p>\n<p>I'm going through the doc, but they don't have shown any example how to set those values properly - <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1.0-RC1-Configuration-Changelog#:%7E:text=management.metrics.distribution,minimum%2Dexpected%2Dvalue\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.1.0-RC1-Configuration-Changelog#:~:text=management.metrics.distribution,minimum%2Dexpected%2Dvalue</a></p>\n<p>Can anyone please tell me what I'm doing wrong here?</p>\n"},{"comments":[{"comment_id":129983907,"body":"Dependencies won&#39;t set the value for that property. <code>-Dmanagement.endpoints.web.exposure.include=loggers,health,i&zwnj;&#8203;nfo,prometheus,metri&zwnj;&#8203;cs</code> isn&#39;t a command line attribute but a system property, which when placed in the wrong place (after the <code>-jar &lt;your jar&gt;</code>) doesn&#39;t do anything. <code>--management.endpoints.web.exposure.include=loggers,health,i&zwnj;&#8203;nfo,prometheus,metri&zwnj;&#8203;cs</code> is a command line argument."},{"comment_id":129984189,"body":"@deinum tried your approach but get an error on startup instead.  Unrecognized option: —management.endpoints.web.exposure.include=loggers,health,in&zwnj;&#8203;fo,prometheus,metric&zwnj;&#8203;s Error: Could not create the Java Virtual Machine."},{"comment_id":129984664,"body":"I stated (i thought clearly) that when it is <b>after</b> the <code>-jar</code> in your commandline/script it is wrong. If it is before that (basically following the <code>java</code> command) it is in the correct position."},{"comment_id":129984966,"body":"Made sure that was the case (all options in front, jar at the end), but it still errored out."},{"comment_id":129985078,"body":"I must be unclear... When it is <code>-D</code> it needs to go <b>before</b> the <code>-jar</code>... When it is <code>--management.endpoints.web.exposure.include=loggers,health,i&zwnj;&#8203;nfo,prometheus,metri&zwnj;&#8203;cs</code> it needs to go <b>after</b> <code>-jar &lt;your-jar&gt;</code>..."},{"comment_id":129987386,"body":"@deinum, apologies mis read, but attempted putting the —management… <b>after</b> the -jar as well with no effect"}],"answers":[{"comments":[{"comment_id":129984434,"body":"Hey @alexander-golovnya thanks for this, but everything you have mentioned has been attempted with no success. I am not at liberty to share the pom.xml due to org rules, but there are anyways way too many dependencies both private and public within that file for it to be worth pasting here. What other kind of details could I add to help here?"},{"comment_id":129984614,"body":"Sure, it&#39;s understandable. Could you please then check than that you included the Prometheus dependency to your pom.xml and post the response from <a href=\"http://localhost:8080/actuator\" rel=\"nofollow noreferrer\">localhost:8080/actuator</a>. Besides that, please include your full configs under the &#39;management&#39; prefix"},{"comment_id":129985224,"body":"Added to question if you don’t mind having a look!"}],"answer_id":73608081,"body":"<p>Your question lacks some background, like your pom.xml or build.gradle files and full application.yml config.</p>\n<p>I will go through the basic steps, which you may have missed.</p>\n<p>Firstly, please make sure that you've included the Prometheus dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n  &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, don't forget that some metrics require the AOP dependency (like custome timers, for example):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To enable the Prometheus metrics exposure, you should specify such configuration in your application.yml file (it seems like you did it correctly, but let's list it here for the full picture):</p>\n<pre class=\"lang-js prettyprint-override\"><code>management:\n  endpoints:\n    web.exposure.include: health, info, prometheus\n</code></pre>\n<p>To verify that the Prometheus endpoints were exposed, please use the GET request to this URL: <code>http://localhost:8080/actuator/prometheus</code></p>\n<p>If those steps don't help you resolve your issue, please add more details to your question.</p>\n"}],"last_activity_date":1684795097,"question_id":73607405,"body":"<p>I am trying to expose additional actuator endpoints in my Spring Boot 2.3 service. Attempting to add endpoints such as the prometheus and metrics for monitoring. But for some reason, the exposed endpoints are locked to the default loggers,health,info.</p>\n<p>For some background, within the org, there is a parent Spring dependency which automatically brings all of the Spring essentials, as well as some generic code useful within the org. I use this dependency in many of my other projects and was able to expose these additional actuator endpoints successfully. However, in this project with multiple artifacts, I am unable to edit the default exposed actuator endpoints.</p>\n<p>Printing the <code>configurableEnvironment</code> post init always shows the exposure property as follows</p>\n<pre><code>management.endpoints.web.exposure.include = loggers,health,info\n</code></pre>\n<p>This is after trying to override this property to an expanded list (loggers,health,info,Prometheus,metrics) using below methods:</p>\n<ul>\n<li>Enabling specific endpoint via <code>management.endpoint.metrics.enabled: true</code></li>\n<li>Specifying these values in application.yaml</li>\n<li>Passing this as a Command line arguement <code>Dmanagement.endpoints.web.exposure.include=loggers,health,info,prometheus,metrics</code></li>\n<li>Using <code>mvn dependency:tree</code> To exclude any transitive actuator dependencies</li>\n</ul>\n<p>I don’t believe its due to the org’s parent pom, likely due to another dependency we are using. But due to the size of this project, it is quite hard to remove dependencies to test. Is there any way to track down where these properties are set. Or perhaps additional ways to force exposure of the additional endpoints I want?</p>\n<p>——</p>\n<p>Actuator config</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: metrics,prometheus,info,health,logging\n  endpoint:\n    env:\n      enabled: true\n    metrics:\n      enabled: true\n    info:\n      enabled: true\n    health:\n      enabled: true\n      show-details: always\n    beans:\n      enabled: true\n    caches:\n      enabled: true\n    threaddump:\n      enabled: true\n    prometheus:\n      enabled: true\n</code></pre>\n<p>Actuator info</p>\n<pre><code>{&quot;_links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator&quot;,&quot;templated&quot;:false},&quot;health&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/health&quot;,&quot;templated&quot;:false},&quot;health-path&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/health/{*path}&quot;,&quot;templated&quot;:true},&quot;info&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/info&quot;,&quot;templated&quot;:false},&quot;loggers&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/loggers&quot;,&quot;templated&quot;:false},&quot;loggers-name&quot;:{&quot;href&quot;:&quot;http://localhost:9050/actuator/loggers/{name}&quot;,&quot;templated&quot;:true}}}\n\n</code></pre>\n"},{"comments":[{"comment_id":130079760,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"last_activity_date":1684795072,"question_id":73659704,"body":"<p>Like I have an API /v1/api/location and <strong>country</strong> as params so I need metric based on params /v1/api/location?country=IN , /v1/api/location?country=US</p>\n<p>I need Metric based on country param</p>\n"},{"answers":[{"comments":[{"comment_id":130560086,"body":"Thanks for the response @simon-martinelli But as I explained in my question, the swagger works fine in my springboot app. Its the actuator that is causing the app to fail when its added to the app. If a remove the actuator, my project works fine. Please advise."},{"comment_id":130562202,"body":"Yes that&#39;s because springfox is old and not supported. Last commit is 2 years ago. That&#39;s why you should use springdoc instead"}],"answer_id":73936762,"body":"<p>Swaggerfox is not compatible with the newer Spring Boot versions.</p>\n<p>Try Springdoc instead <a href=\"https://springdoc.org/\" rel=\"nofollow noreferrer\">https://springdoc.org/</a>:</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.6.11&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>You can access the Swagger UI: http://localhost:8080/swagger-ui/index.html</p>\n"}],"last_activity_date":1684795063,"question_id":73930751,"body":"<p>I have a simple spring boot application with just one GET endpoint for testing purpose. The endpoint works fine as far as I don't add the actuator dependency to my project. However, as soon as I add the actuator dependency, it stops running and throws the following error which is surprisingly for swagger I believe.</p>\n<p>So I am not understanding why this error is appearing if I have swagger already enabled and working.</p>\n<p><strong>Error:</strong></p>\n<pre><code>2022-10-02 22:48:26.558  WARN 14872 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException\n2022-10-02 22:48:26.739  INFO 14872 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-10-02 22:48:26.754  INFO 14872 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-10-02 22:48:26.769 ERROR 14872 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.23.jar:5.3.23]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.4.jar:2.7.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.4.jar:2.7.4]\n    at com.example.playground.PlaygroundApplication.main(PlaygroundApplication.java:10) ~[classes/:na]\nCaused by: java.lang.NullPointerException: null\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112) ~[springfox-spi-2.9.2.jar:null]\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:109) ~[springfox-spi-2.9.2.jar:null]\n    at com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:37) ~[guava-20.0.jar:na]\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]\n    at java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]\n    at java.base/java.util.Arrays.sort(Arrays.java:1441) ~[na:na]\n    at com.google.common.collect.Ordering.sortedCopy(Ordering.java:855) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\n    at com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\n    at com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 14 common frames omitted\n</code></pre>\n<p>Here is this sample project in the github that you can clone and run to replicate this error: <a href=\"https://github.com/syednoman84/playground/\" rel=\"nofollow noreferrer\">https://github.com/syednoman84/playground/</a></p>\n<p>Few points about this sample project:</p>\n<ol>\n<li>It is using actuator, lombok, swagger2, swagger-ui and\nswagger-bean-validators</li>\n<li>I have this\n<code>spring.mvc.pathmatch.matching-strategy=ANT_PATH_MATCHER</code> in my <code>application.properties</code></li>\n<li>I have a SwaggerConfig defined in SwaggerConfig.java</li>\n<li>I have a DocketApiBean defined as DocketApiBean.java</li>\n</ol>\n<p>Just to reiterate, as soon as I remove the actuator dependency from my pom.xml, everything works fine. However, if I add the actuator dependency and then run the app, it fails to start.</p>\n<p>Thanks for the help in advance.</p>\n"},{"comments":[{"comment_id":22389450,"body":"Sounds like you want to check whether input <code>contains</code> &quot;/done&quot; rather than input <code>equals</code> &quot;/done&quot;."},{"comment_id":22389480,"body":"whether the use types <code>&#47;done</code> or is it part of a larger string"},{"comment_id":22389495,"body":"Do you actually enter &quot;/done&quot; on its own line?"},{"comment_id":22389558,"body":"John - yes, you&#39;re right, contains would work rather than equals. Would you put that within the while of the do-while loop?? .. Arun - user would have to input /done all at once within the string input. Not on it&#39;s own line - it could be on it&#39;s own line but it is not necessary. Just has to be &quot;/done&quot; together"},{"comment_id":22390196,"body":"Even if you call <code>contains</code> it means your program won&#39;t break until the user hits the enter key. So I could type &quot;blah blah /done blah blah&lt;enter&gt;&quot; Is that what you want?"},{"comment_id":22390282,"body":"I forgot to mention that part. If you press enter key after typing /done within the string, the program WILL terminate. If you press enter key without /done anywhere in the string/line, then it simply moves you to new line in eclipse console and continues user string input on a new line. I hope that clears it up a bit"}],"answers":[{"answer_id":15786677,"body":"<pre><code>         Scanner s=new Scanner(System.in);\n         String input = \"\";\n         String[] parts;\n         System.out.println(\"Enter your string: \");\n         while (true){\n             input=s.nextLine();\n            if (input.contains(\"/done\")){\n            parts=input.split(\"/done\");\n            //Use parts[0] to do any processing you want with the part of the string entered before /done in that line\n                break;\n            }\n        }\n</code></pre>\n"},{"answer_id":31108545,"body":"<p>I think this will work fine</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\n    String input = \"\";\n    System.out.println(\"Enter your string: \");\n        do {\n        input = scanner.nextLine();\n    } while (!input.contains(\"/done\"));\n    System.out.print(\"Rest of program here..\");\n</code></pre>\n"},{"answer_id":76310270,"body":"<p>You almost had it, instead of <code>equals</code>, your going to want to use <code>contains</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString input = &quot;&quot;;\nSystem.out.println(&quot;Enter your string: &quot;);\n\ndo {\n    input = scanner.nextLine();\n    System.out.print(&quot;Rest of program here..&quot;);\n}\n\nwhile (!input.contains(&quot;/done&quot;));\n</code></pre>\n"}],"last_activity_date":1684794779,"question_id":15754299,"body":"<p>I want to make it so that the user inputs some string, and the program takes console input until user types \"/done\".. so here's how it would work:</p>\n\n<ol>\n<li><p>print to user: enter your string</p></li>\n<li><p>user enters: hello eclipse. </p></li>\n</ol>\n\n<p>hi test blah blah </p>\n\n<p>bla \n                    456 \n                  testmore              /done</p>\n\n<p>As soon as user enters /done within any string of any size, the program breaks. The program would NOT end if you hit \"enter\" key. It would only end if you type in /done.. How I setup my program so far:</p>\n\n<pre><code>Scanner 123 = new Scanner(System.in);\nstring input = \"\";\nSystem.out.println(\"Enter your string: \");\n\ndo {\n    input = 123.nextLine();\n    System.out.print(\"Rest of program here..\");\n}\n\nwhile (!input.equals(\"/done\"));\n</code></pre>\n\n<p>I tried putting under while loop there something like below but I don't think I am doing it right.</p>\n\n<pre><code>while (!input.equals(\"/done\"));\n    if input.equals(\"/done\");\n    break;\n}\n</code></pre>\n\n<p>I understand that with a do-while loop, it continues as long as boolean in while is false. So for my program, program takes inputs until user types in /done so boolean is false until string /done in inputted. Then according to the logic above, the program breaks as soon as input equals \"/done\"</p>\n\n<p>Any ideas on what I'm doing wrong?</p>\n"},{"comments":[{"comment_id":134553726,"body":"Your code uses Log4j 2.x, while your configuration uses the Log4j 1.x format. Are you sure you are not using (the unsupported) Log4j 1.x as logging backend?"},{"comment_id":134558839,"body":"I tried using &quot;mvn dependency:tree | grep log4j&quot; and i can confirm i am using log4j 2.x. So my problem might be i am using  1.x config as you mentioned. Will try 2.x config."},{"comment_id":134559537,"body":"A Log4j 1.x configuration also works with <a href=\"https://mvnrepository.com/artifact/ch.qos.reload4j/reload4j\" rel=\"nofollow noreferrer\"><code>ch.qos.reload4j:reload4j</code></a> (in which case you are not using Log4j 2.x) and <a href=\"https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-1.2-api\" rel=\"nofollow noreferrer\"><code>org.apache.logging.log4j:log4j-1.2-api</code></a> with <code>log4j1.compatibility = &quot;true&quot;</code>."},{"comment_id":134566216,"body":"I edited the post to update with dependency tree. May be a problem with sl4j? but not sure how to work around it"},{"comment_id":134566543,"body":"It seems you could trying to convert a string to an hex number with <code>%X</code>. Try getting process id this way:   <code>long pid = Long.parseLong(processName.split(&quot;@&quot;)[0]);</code>"},{"comment_id":134567480,"body":"I tried something like this -&gt; ThreadContext.put(&quot;PID&quot;, rt.getName().split(&quot;@&quot;)[0]); as put expects 2 strings. I checked in the debugger and see that processName.split(&quot;@&quot;)[0] evaluates to 12276 which is the process id. But still doesnt work."},{"comment_id":134567745,"body":"The <code>log4j-1.2-api</code> module does <b>not</b> issue warnings prefixed by <code>log4j:WARN</code>. This message comes from <code>reload4j</code> or a shaded <code>log4j</code> (version 1.2). Remark that <code>log4j-1.2-api</code> and <code>log4j-slf4j-impl</code> have a &quot;provided&quot; scope in your project and are not deployed with the app."},{"comment_id":134568049,"body":"Sorry, what can i try next? I did try the log4j1.compatibility=true, with 2.x config which didnt work. With the existing 1.x config everything else seems to be in place except it being not able to extract back the PID that i added from code"}],"last_activity_date":1684794589,"question_id":76302494,"body":"<p>I am trying to use <a href=\"https://stackoverflow.com/questions/4622252/how-to-add-the-process-id-to-a-log4j-log-file\">this</a> solution to fetch the process id and print it out in the log</p>\n<pre><code>RuntimeMXBean rt = ManagementFactory.getRuntimeMXBean();\nString pid = rt.getName();\nThreadContext.put(&quot;PID&quot;, pid);\n</code></pre>\n<p>I could see form the dubugger that the code is correctly fetching the process ID, but the log simple isnt showing it and there is no other errors. My log currently looks like this</p>\n<pre><code>2023-05-22 10:36:54,487 [] DEBUG beanutils.converters.ArrayConverter  - Setting default value: [Ljava.lang.Short;@7a3a49e5\n</code></pre>\n<p>It is not able to fetch the PID still.This is what I have in my log4j config.</p>\n<pre><code>log4j.appender.consoleAppender.layout.ConversionPattern=%d [%X{PID}] %-5p %c{3} %x - %m%n\n</code></pre>\n<p>My dependency tree looks like this. May be Sl4J is interfering?</p>\n<pre><code>λ mvn dependency:tree |grep log4\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n[INFO] |  +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.17.2:provided\n[INFO] |  +- org.apache.logging.log4j:log4j-1.2-api:jar:2.17.2:provided\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.17.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.17.2:compile\n</code></pre>\n<p>Any ideas as to what i might be doing wrong or what can i do to debug this further? I tried using log4j2.x config. But it completely stopped logging and gave this warning</p>\n<pre><code>log4j:WARN Please initialize the log4j system properly.\n</code></pre>\n"},{"comments":[{"comment_id":134569593,"body":"Please explain why the usage of a property in the id is necessary?"}],"last_activity_date":1684794307,"question_id":76310253,"body":"<p>I need to initialize a parameter via antrun/gmaven in the parent project and use its value in the configuration of the plugin in the child module. For clarity, in the example the plugin id is configured, in the real case I need to configure the phase.Is it possible to do this &quot;directly&quot;? Full code of simple project is here - <a href=\"https://github.com/chemist22888/example\" rel=\"nofollow noreferrer\">https://github.com/chemist22888/example</a>.</p>\n<p>Parent antrun plugin:</p>\n<pre><code>\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;exportAntProperties&gt;true&lt;/exportAntProperties&gt;\n                            &lt;target&gt;\n                                &lt;property name=&quot;test.id&quot; value=&quot;testId&quot;/&gt;\n                                &lt;property name=&quot;test.phase&quot; value=&quot;generate-sources&quot;/&gt;\n\n                                &lt;echo message=&quot;parent phase ${test.id}&quot;/&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Child antrun plugin:</p>\n<pre><code>   &lt;plugin&gt;\n\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;${test.phase}&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;run&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;target&gt;\n                                &lt;echo message=&quot;child ${test.phase}&quot;/&gt;\n                            &lt;/target&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>After execution the correct value of parameter is displayed at console, but id of plugin is ${test.phase} instead of generate-sources. Is there any possibility to fix this?</p>\n<p>Also tried using gmaven plugin, but had the same issue</p>\n"},{"comments":[{"comment_id":111119772,"body":"What is the question? What is the problem? Do you want the array s to be an array of BigDecimals?"},{"comment_id":111129359,"body":"BigDecimal implements Comparable, so this handy static method should work: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"comment_id":111233814,"body":"here is the link of the problem.      <a href=\"https://www.hackerrank.com/challenges/java-bigdecimal/problem\" rel=\"nofollow noreferrer\">hackerrank.com/challenges/java-bigdecimal/problem</a>"}],"answers":[{"answer_id":62834919,"body":"<p>You can change your inner loop body to this:</p>\n<pre><code>String si = s[i], sj = s[j];\nif (new BigDecimal(si).compareTo(new BigDecimal(sj)) &lt; 0) {\n    s[i] = sj;\n    s[j] = si;\n}\n</code></pre>\n<p>You don't need to store the result from converted big decimals back into the array, but use them only for comparison.</p>\n<p>For the input:</p>\n<pre><code>9, -100, 50, 0, 56.6, 90, 0.12, .12, 02.34, 000.000\n</code></pre>\n<p>I get back:</p>\n<pre><code>90, 56.6, 50, 9, 02.34, .12, 0.12, 0, 000.000, -100\n</code></pre>\n<h1><a href=\"https://ideone.com/x5jvZb\" rel=\"nofollow noreferrer\">DEMO</a></h1>\n<p>And if you don't work with massive big numbers, normal <code>double</code>s should suffice:</p>\n<pre><code>if(Double.parseDouble(si) &lt; Double.parseDouble(sj))\n</code></pre>\n"},{"answer_id":62835299,"body":"<p>Try something like this (untested):</p>\n<pre><code>        List&lt;String&gt; sortedNumberStrings = Arrays.stream(numberStrings)\n                .map(NumberString::new)\n                .sorted(Comparator.reverseOrder())\n                .map(NumberString::getStringValue)\n                .collect(Collectors.toList());\n\n        System.out.println(sortedNumberStrings);\n\n\n\nprivate static class NumberString implements Comparable&lt;NumberString&gt; {\n\n        private final String stringValue;\n        private final BigDecimal bigDecimalValue;\n\n        NumberString(String stringValue) {\n\n            this.stringValue = stringValue;\n            this.bigDecimalValue = new BigDecimal(stringValue);\n        }\n\n        public String getStringValue() {\n            return stringValue;\n        }\n\n        public BigDecimal getBigDecimalValue() {\n            return bigDecimalValue;\n        }\n\n        private static final Comparator&lt;NumberString&gt; NATURAL_ORDER_COMPARATOR =\n                Comparator.comparing(NumberString::getBigDecimalValue) // sort by value\n                        .thenComparing(NumberString::getStringValue); // sort lexically\n\n        @Override\n        public int compareTo(NumberString other) {\n            return NATURAL_ORDER_COMPARATOR.compare(this, other);\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(stringValue, bigDecimalValue);\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) {\n                return true;\n            }\n            if (!(o instanceof NumberString)) {\n                return false;\n            }\n            NumberString that = (NumberString) o;\n            return Objects.equals(stringValue, that.stringValue) &amp;&amp;\n                    Objects.equals(bigDecimalValue, that.bigDecimalValue);\n        }\n\n        @Override\n        public String toString() {\n            return stringValue;\n        }\n    }\n</code></pre>\n"},{"answer_id":74310725,"body":"<p>What the author may seek is following as the solution.</p>\n<pre><code>for (int i = 1; i &lt; n; i++) {\n    for (int j = 0; j &lt; n - 1; j++) {\n        if (new BigDecimal(s[j]).compareTo(new BigDecimal(s[j + 1])) &lt; 0) {\n            String temp = s[j];\n            s[j] = s[j + 1];\n            s[j + 1] = temp;\n        }\n    }\n}\n</code></pre>\n<p>What this change from the @Lino's answer is the order of <code>0.12</code> and <code>.12</code></p>\n<p>This gives following output and this should be the output according to the <a href=\"https://www.hackerrank.com/challenges/java-bigdecimal/problem\" rel=\"nofollow noreferrer\">problem link</a> that the author has shared.</p>\n<p><code>90  56.6    50  02.34   0.12    .12     0   000.000 -100</code></p>\n"},{"answer_id":76291138,"body":"<p>First thing to understand is that we need to maintain the input string data to printed in same format in output e.g. 0.12 and .12 are to be printed in same format as in the input. If we just do BigDecimal based comparison then input data format will be lost and .12 becomes 0.12. Hence to have this format, we could have the data stored in a Pair like format where one data is used to BigDecimal comparison while other data is used for keeping the original format.</p>\n<p>Using Java 8, I came up with below solution:</p>\n<pre><code>public static void main(String []args){\n    //Input\n    Scanner sc= new Scanner(System.in);\n    int n=sc.nextInt();\n    String [][] s=new String[n][2];\n    for(int i=0;i&lt;n;i++){\n        s[i][0]=sc.next(); // to be used for BigDecimal comparison\n        s[i][1]=s[i][0];   // to be used for printing in original format\n    }\n    sc.close();\n\n    Arrays.stream(s)\n            .sorted((o1, o2) -&gt; new BigDecimal(o2[0]).compareTo(new BigDecimal(o1[0])))\n            .forEach(o -&gt; System.out.println(o[1]));\n</code></pre>\n"},{"answer_id":76303934,"body":"<p>To get an ascending list of values you can use a <code>List</code> and the <code>List.sort</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    String[] strings = scanner.nextLine().split(&quot; &quot;);\n    List&lt;BigDecimal&gt; values = new ArrayList&lt;&gt;();\n    for (String string : strings)\n        values.add(new BigDecimal(string));\n    values.sort(Comparator.reverseOrder());\n    System.out.println(values);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[-100, 0, 0.000, 0.12, 0.12, 2.34, 50, 56.6, 90]\n</code></pre>\n"}],"last_activity_date":1684794210,"question_id":62834745,"body":"<p><strong>here is my code but it is not taking a string as it is in BigDecimal variable</strong></p>\n<pre><code>import java.math.BigDecimal;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class BigDesimal {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        String[] s = new String[n];\n        for(int i=0; i&lt;n; ++i) {\n            s[i] = in.next();\n        }\n        in.close();\n\n        BigDecimal max, min;\n        for(int i=0; i&lt;n-1; i++) {\n            for(int j=i+1; j&lt;n; j++) {\n                max = (new BigDecimal(s[i])).max(new BigDecimal(s[j]));\n                min = (new BigDecimal(s[i])).min(new BigDecimal(s[j]));\n                s[i] = max.toString();\n                s[j] = min.toString();\n                 \n                \n            }\n        }\n         \n\n        System.out.println(Arrays.toString(s));\n\n    }\n\n}\n</code></pre>\n<p>I run this program for the following input:\n*9</p>\n<p>-100,\n50,\n0,\n56.6,\n90,\n0.12,\n.12,\n02.34,\n000.000*</p>\n<p>And the output is:\n<em>[90, 56.6, 50, 2.34, 0.12, 0.12, 0, 0, -100]</em></p>\n"},{"comments":[{"comment_id":131602128,"body":"Define <i>last given word</i>."},{"comment_id":131602181,"body":"Well, your loop condition is &quot;cannot read another word&quot;, so the loop keeps looping until you end the input. As long as you type words, it will not stop. <i>When</i> <i>do</i> you <i>want</i> your program to stop?"},{"comment_id":131602270,"body":"I expect a single line containing words, and I want the program to stop after printing the last word on the line"},{"comment_id":131602451,"body":"use .readLine()"},{"comment_id":131602670,"body":"Check here <a href=\"https://stackoverflow.com/questions/15183761/how-to-check-the-end-of-line-using-scanner\" title=\"how to check the end of line using scanner\">stackoverflow.com/questions/15183761/&hellip;</a>"},{"comment_id":131806752,"body":"Press <code>ctrl-d</code> after you entered the last word, it will close the input. Java cannot know if a second line will be entered if you don&#39;t close the input"}],"answers":[{"comments":[{"comment_id":131602307,"body":"When would you close the input stream in this scenario?"},{"comment_id":131602359,"body":"There is no clean way to do that. Only way is make dirty if and for example close loop for some particular string"},{"comment_id":131602381,"body":"What is a dirty if? How would it improve OP&#39;s code?"},{"comment_id":131602419,"body":"Keeping logic in ifs and comparing Strings is bad for OOP purpose.  This code can be exit from loop for example if user pass &quot;END&quot; string, or it could be just end loop, or 3 invokes s.next()"},{"comment_id":131602505,"body":"@f1sh what is OP code?"},{"comment_id":131602828,"body":"OP = Original Poster.  In this question, that&#39;s user B612."}],"answer_id":74553243,"body":"<p>You continuously reading the scanner.\nYou have to read by scanner out of loop. For example 3 times invoking s.next().\nOr create some loop end condition, for example text, &quot;END&quot;.</p>\n<p>If you pass all words in one line use .readLine()</p>\n"},{"answer_id":76304219,"body":"<p>A call to the <code>Scanner.hasNext</code> will block if it is waiting for user input.</p>\n<p>It's useful for when you want a continuous input from the user.</p>\n<p>Here is how to accomplish your task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n    String[] strings = s.nextLine().split(&quot; +&quot;);\n    for (String string : strings)\n        System.out.println(string);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>sun\nmoon\ncloud\n</code></pre>\n<p>The names <code>hasNext</code> and <code>next</code> are somewhat convoluted in the Java context.</p>\n<p>An iterator also uses this terminology, as a way to gather data from a source.</p>\n<p>The difference here is that <code>Scanner</code> works dynamically, whereas, something like an iterator works in a static context, and already has the values.</p>\n"}],"last_activity_date":1684793934,"question_id":74553168,"body":"<p>My goal is to read and print the words separately from standard input, without having to store them in an array or list.</p>\n<p>I want this:</p>\n<p>input: sun moon cloud</p>\n<p>output:\nsun moon cloud (each word in a different line)</p>\n<p>The following program keep waiting after printing &quot;cloud&quot;. I don't know what the problem is</p>\n<p>`</p>\n<pre><code>import java.util.Scanner;\n\nclass RandomWord{\n    public static void main(String[] args){\n        String palavra;\n        Scanner s = new Scanner(System.in);\n        while(s.hasNext()){\n            palavra = s.next();\n            System.out.println(palavra);\n        }\n    }\n}\n</code></pre>\n<p>`</p>\n"},{"answers":[{"comments":[{"comment_id":99035298,"body":"&quot;OR simply throw an uncaught exception&quot; maybe you could add a third solution throw a caught exception? or i&#39;ll do it myself :)"}],"answer_id":11807360,"body":"<p>Just execute this code: divide by zero</p>\n<p>Update: Also can try this\nCreate a method,</p>\n<pre><code>public void stackOverflow() {\n    this.stackOverflow();\n}\n</code></pre>\n<p>And call this somewhere/buttonClick</p>\n<p>OR simply throw an uncaught exception</p>\n<pre><code>throw new RuntimeException(&quot;This is a crash&quot;);\n</code></pre>\n<p>Bingo!</p>\n"},{"answer_id":11807367,"body":"<blockquote>\n  <p>Don't declare activity in the Android Manifest . </p>\n</blockquote>\n"},{"comments":[{"comment_id":16485989,"body":"4. and 5. look quite prommissing"}],"answer_id":11807383,"body":"<ol>\n<li>Access a view that is not defined.</li>\n<li>Access the first element of an empty list without checking.</li>\n<li>Divide by Zero.</li>\n<li>Throw the device out the window.</li>\n<li>Submerge the device in water.</li>\n</ol>\n"},{"comments":[{"comment_id":15696032,"body":"You last statement is incorrect. Invoking a method on an uninitiatized variable will not compile."},{"comment_id":16486054,"body":"If you declare i as a field (public) it will compile (seems to do it by me). I think Steve is referring to if i were local."},{"comment_id":26061885,"body":"You could just prefix it with <code>if (1==1)</code> to fool the compiler into compiling it."}],"answer_id":11807391,"body":"<p>You could try a Null Pointer exception.</p>\n\n<pre><code>Integer i = null;\n</code></pre>\n\n<p>Then invoke any method on the object.</p>\n\n<pre><code>i.byteValue();\n</code></pre>\n\n<p>Invoking a method on an object that hasn't been initialized will crash the app.</p>\n"},{"comments":[{"comment_id":15691338,"body":"This will not crash because you are only setting b to null, not trying to access it."}],"answer_id":11807428,"body":"<p>A very simple approach... and is <strong>very important to understand that why it happened.</strong></p>\n\n<p>Try <strong>initiating a variable</strong> in <code>onCreate()</code> before the <code>setContentView()</code> method, then use it to call a method or variable or try registering it to some listener.. </p>\n\n<p><strong>Eg:</strong></p>\n\n<pre><code>Button b;\n\npublic void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        b = (Button)findViewById(R.id.butt);\n        b.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View arg0) {\n\n\n        }\n    });\n        setContentView(R.layout.main);\n\n\n    }\n</code></pre>\n\n<p>This crashed, because <strong>before</strong> <code>setContentView()</code> <strong>none of the components/view in the main.xml layout got their ids.</strong></p>\n"},{"comments":[{"comment_id":99035232,"body":"&quot;You can&#39;t throw null&quot; - yes you can :) it&#39;s exactly what you are doing here  - so dwn"}],"answer_id":23273909,"body":"<p>Most simple I know : throw null. </p>\n\n<p>You can't throw null, so a NullPointerException is raised.</p>\n\n<pre><code>throw null;\n</code></pre>\n"},{"comments":[{"comment_id":44271491,"body":"you can use this code in onClick method. this will definitely work"}],"answer_id":27797969,"body":"<p>Use the following code:</p>\n\n<pre><code>String xyz=null;\nsystem.out.println(xyz);\n</code></pre>\n"},{"answer_id":28113892,"body":"<p>Simply create in your main.xml a button like this:</p>\n\n<pre><code> &lt;Button\n    android:id=\"@+id/button1\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:onClick=\"crash\"\n    android:text=\"Crash me\" /&gt;\n</code></pre>\n\n<p>then run your app and click for crash</p>\n"},{"answer_id":55336557,"body":"<p>you can crash with a simple null point exception.</p>\n\n<pre><code> throw new NullPointerException();\n</code></pre>\n"},{"answer_id":56206956,"body":"<p>in addition to @vinnet-shukla answer:</p>\n\n<blockquote>\n  <p>\"OR simply throw an uncaught exception\"</p>\n</blockquote>\n\n<p><strong>throwing uncaught exception to do a crash is bad idea</strong> as the exception could by caught somwhere higher in the stack - especially when whe don't know where we are right now :)</p>\n\n<p><strong>more ellegant way is to use ERROR</strong> </p>\n\n<p>An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch. Most such errors are abnormal conditions. The ThreadDeath error, though a \"normal\" condition, is also a subclass of Error because most applications should not try to catch it.</p>\n\n<p>so we could make our own Error subclass and use it:</p>\n\n<pre><code>/*\n * usage:\n * \n *   CrashError.doCrash(); \n *\n */\npublic class CrashError extends Error {\n\n    public CrashError() { \n        this(\"simulated crash\");\n    }\n\n    public CrashError(String msg) {\n        super(msg);\n    }\n\n    public static void doCrash() {\n        throw new CrashError();\n    }\n\n}\n</code></pre>\n\n<p><strong>but if we talk about other possibilities we could also a throw checked exception :)</strong> </p>\n\n<p><strong>this will also be a lesson how we could RETHROW CHECKED EXCEPTION :) with other way than use of sun.misc.Unsafe especially when the class is not available in VM implementation</strong></p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\npublic static &lt;E extends Throwable&gt; void throwAnyT(Throwable e) throws E {\n    throw (E) e;\n}\n\npublic static void throwUnchecked(Throwable e) {\n    throwAny(e);\n    // should never get there.\n    throw new InternalError();\n}\n\npublic static void crash() {\n    throwUnchecked(new java.io.IOException(\"simulated crash\"));\n}\n</code></pre>\n\n<p>in addition to @audric answer:</p>\n\n<blockquote>\n  <p>\"You can't throw null\"</p>\n</blockquote>\n\n<p><strong>yes you can :) it's exactly what you are doing in your example</strong> and yes it could get undetectable if the catch block will not use Throwable - the NPX will never be thrown and simply there will be normal flow when code will still execute and yes i'll have seen this and experienced by myself :) on ANDROID DALVIK   </p>\n\n<p>and what about..? maybe it could fulfill your needs?</p>\n\n<p>java specific (also in android): </p>\n\n<pre><code>- Runtime.getRuntime().exit(int);\n- System.exit(int);\n- Runtime.getRuntime().halt(int);\n</code></pre>\n\n<p>android specific: </p>\n\n<pre><code>- android.os.Process.killProcess(int);\n- android.os.Process.killProcessQuiet(int);\n- android.os.Process.sendSignal(int,int);\n- android.system.Os.kill(int);\n</code></pre>\n"},{"answer_id":64483515,"body":"<p>Force crash after some delay like this,</p>\n<pre><code>new android.os.Handler().postDelayed(\n              new Runnable() {\n                  public void run() {\n                      Log.i(&quot;tag&quot;, &quot;This'll run 10 seconds later&quot;);\n                      throw new RuntimeException(&quot;This is a crash&quot;);\n                  }\n              },\n              10000);\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/11807360/3411787\">Ref-1</a> &amp; <a href=\"https://stackoverflow.com/a/18381353/3411787\">Ref-2</a></p>\n"},{"answer_id":64767436,"body":"<p>If you are using firebase crashlytics, then there is a very easy way to do this. Mentioned in their document also.</p>\n<pre><code>val crashlytics = FirebaseCrashlytics.getInstance()\ncrashlytics.log(&quot;my message&quot;)\n</code></pre>\n"},{"answer_id":65651498,"body":"<p>For kotlin:</p>\n<pre><code>val test = (&quot;0&quot;)\nprintln(test[1])\n</code></pre>\n"},{"answer_id":67400239,"body":"<p>You can crash the application simply with this line of code.</p>\n<pre><code>throw new RuntimeException(&quot;Test Crash&quot;); // Force a crash\n</code></pre>\n<p>You can pass the message, in this case &quot;Test Crash&quot;, which can be useful later to refer.</p>\n<p><strong>One step ahead,</strong>\nMake sure none of your application's class files implement UncaughtExceptionHandler interface as below,</p>\n<pre><code>public class MyApplication extends Application implements Thread.UncaughtExceptionHandler{\n</code></pre>\n<p>Otherwise the above exception or any exception for that matter, would be caught/consumed by that class, resulting in not crashing the app. However, you can get hold of that exception in uncaughtException(Thread t, Throwable e) method as below and take the required action. In your case, you'd be reporting it to the Acra using their supported SDK methods.</p>\n<pre><code>@Override\npublic void uncaughtException(Thread t, Throwable e) {\n    Log.e(&quot;MyApplication&quot;, &quot;Error&quot;, e);\n}\n</code></pre>\n"},{"comments":[{"comment_id":134438785,"body":"Good for testing. it works"}],"answer_id":71581655,"body":"<p>You can use activity manager to crash the app with no code changes</p>\n<pre><code>adb shell am crash &lt;packagename&gt;\n</code></pre>\n"},{"answer_id":76310209,"body":"<p>I couldn't throw an exception because the compiler wouldn't let me unless I was catching it somewhere!</p>\n<p>Do this instead:</p>\n<pre><code>    if (1 == 1 ) {\n        throw new RuntimeException(&quot;This is a crash&quot;);\n    }\n</code></pre>\n"}],"last_activity_date":1684793651,"question_id":11807354,"body":"<p>I want to test out crash report using <a href=\"http://code.google.com/p/acra\"><code>acra</code></a> but the first step is I need to simulate a fatal crash in Android using code.</p>\n\n<p>Any idea?</p>\n"},{"comments":[{"comment_id":134567005,"body":"Are you sure you&#39;re providing the correct auth token?"},{"comment_id":134571249,"body":"update your code with your security configuration, make sure you have read the spring documentation on implementing the handling of JWTs properly by reading the JWT chapter in the docs. Also update your question with full debug/trace enabled logs voted to close missing debugging information"}],"last_activity_date":1684793511,"question_id":76310200,"body":"<p>How to Redirect to a @Controller after success login ?</p>\n<p>Hi everyone !,</p>\n<p>I am working in a web application using SpringBoot, i am using JWT for authentication and authorization, i have controllers and restcontrollers with its security,</p>\n<pre><code>@Controller\npublic class SellController {\n\n    private static final String defaultPage = &quot;sell/home&quot;;\n\n    @PreAuthorize(&quot;hasAnyRole('ADM_STORE', 'OPR_STORE')&quot;)\n    @RequestMapping(value = { &quot;/sell&quot; }, method = { GET })\n    public String defaultPage() {\n        return defaultPage;\n    }\n}\n</code></pre>\n<p>after login, i want to redirect to this controller,</p>\n<pre><code>function signinUrl(args) {\n    $.ajax({\n        startTime: $.now(),\n        beforeSend: function (xhr) {\n            if (!navigator.onLine) {\n                noAccessInternet();\n                xhr.abort();\n            }\n        },\n        cache: false,\n        complete: function (xhr, textStatus) {\n            console.log(&quot;signinUrl: &quot; + (Date.now() - this.startTime) / 1000);\n        },\n        contentType: 'application/json; charset=UTF-8',\n        crossDomain: false,\n        data: JSON.stringify(args),\n        dataType: 'json',\n        error: function (xhr, textStatus, err) {\n            xhr.abort();\n        },\n        headers: {},\n        method: 'post',\n        statusCode: {\n            // 200: function () { log('statusCode:', 200); },\n            // 204: function () { log('statusCode:', 204); },\n            // 208: function () { log('statusCode:', 208); },\n            // 402: function () { log('statusCode:', 402); },\n            // 404: function () { log('statusCode:', 404); }\n        },\n        success: function (data, textStatus, xhr) {\n            /** TODO Resolve this Redirect */\n            storeToken(data);\n            setTimeout(() =&gt; {\n                let xhr = new XMLHttpRequest();\n                xhr.open('get', getBaseHost() + '/sell', true);\n                xhr.setRequestHeader('Access-Control-Allow-Headers', 'X-Requested-With, Content-Type, Authorization');\n                xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');\n                xhr.setRequestHeader('Access-Control-Allow-Origin', '*');\n                xhr.setRequestHeader('Authorization', 'Bearer ' + getAuthToken());\n                xhr.onload = function () {\n                    log('onload');\n                    if (xhr.status === 200) {\n                        log('redirectUrl:', xhr.response);\n                        window.location.href = '/sell';\n                    } else {\n                        console.error('ERROR:', xhr.status);\n                    }\n                }\n                xhr.send();\n            }, 1000);\n        },\n        timeout: 3600,\n        url: getBaseHost() + '/api/v1/signin',\n    });\n}\n</code></pre>\n<p>but i get 401 Unauthotzed..., any idea or strategy to work this ?</p>\n<p>a little help from the jave developers</p>\n"},{"comments":[{"comment_id":134566095,"body":"That&#39;s not a tutorial. It is a proposal to create a tool from 2011. I&#39;m not sure it is currently implemented."},{"comment_id":134566928,"body":"Question: Are you required to use JUnit 3? I would think you&#39;d want to use <i>at least</i> JUnit 4. And if this is a new project, then you should definitely be using JUnit 5 (also known as &quot;JUnit Jupiter&quot;). Note that JUnit 5 is compiled with module descriptors (i.e., <code>module-info</code> files)."},{"comment_id":134568248,"body":"@Slaw, thanks for the suggestion. But I showed only one jar example among many my unmodular jar files. And I still stuck in my question."}],"last_activity_date":1684792787,"question_id":76310152,"body":"<p>As I understand unmodular jar is a file without module-info declaration in its directory\n<a href=\"https://i.stack.imgur.com/UDnPB.png\" rel=\"nofollow noreferrer\">my jar without module-info.java</a></p>\n<p>I used single tutorial <a href=\"https://mail.openjdk.org/pipermail/jigsaw-dev/2011-April/001251.html\" rel=\"nofollow noreferrer\">here</a>\nand tried to replicate my own command:<br>\njar uf &quot;C:\\Users\\Диас\\Downloads\\junit-3.8.1.jar&quot; --module=junit-3.8.1<br />\n<br>CMD replies: <em>--module=junit-3.8.1 : no such file or directory</em></p>\n<p>Could you give clear recipe to transform a jar file to a modular jar</p>\n"},{"comments":[{"comment_id":125087919,"body":"Did you try debugging the <code>FilterChainProxy#doFilterInternal</code> to see which filter chain is being called? Also, I recommend adding <code>logging.level.org.springframework.security=TRACE</code> to your <code>application.properties</code> file and know exactly who is denying you access"},{"comment_id":125088298,"body":"@MarcusHertdaCoregio yes the KeycloakAuthenticationProcessingFilter is not passing with   Authorization header not found,  see WWW-Authenticate header"},{"comment_id":125089450,"body":"here you can read the answer i have provided how to exclude a path completly from spring security <a href=\"https://stackoverflow.com/questions/70717704/how-to-disable-security-just-for-actuator-health/70719136#70719136\" title=\"how to disable security just for actuator health\">stackoverflow.com/questions/70717704/&hellip;</a> you could try that out"},{"comment_id":125090065,"body":"@Toerktumlare ths but is not working KeycloakAuthenticationProcessingFilter is called regardless of which filter chain is mapped to the request which is strange"},{"comment_id":125090510,"body":"@MarcusHertdaCoregio even If I have two different filter chains the fist one does not have KeycloakAuthenticationProcessingFilter in chain but is caller regardless of that ... looks that it is registered in internal filter list that is applied via VirtualFilterChain ... any way to avoid this?"}],"answers":[{"comments":[{"comment_id":125104932,"body":"Marcus thnx for the info looks working, I understand that avoiding KeycloakWebSecurityConfigurerAdapter can be interesting aso to avoid the additional dependency to keycloak, but what do you loose with this, probably KeycloakWebSecurityConfigurerAdapter adds some additional stuff that is maybe good to have or not? We use OAuth2."},{"comment_id":125109408,"body":"If you are using nothing special from the adapter, you should lose nothing. It will behave the same, receive the Bearer token, extract it, and validate it using the JWKs returned from the <code>issuer-uri</code> that you configured."}],"answer_id":70759984,"body":"<p>When you extend <code>KeycloakWebSecurityConfigurerAdapter</code>, the adapter register a Bean of type <code>KeycloakAuthenticationProcessingFilter</code>. This filter is registered in the Spring Security's <code>SecurityFilterChain</code>, and because it's a Bean, it is also automatically registered by Spring Boot in the original chain, therefore even if Spring Security doesn't apply it, it will be applied later on in original the filter chain.</p>\n<p>Try disabling this filter from being registered by Spring Boot, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic FilterRegistrationBean registration(KeycloakAuthenticationProcessingFilter filter) {\n    FilterRegistrationBean registration = new FilterRegistrationBean(filter);\n    registration.setEnabled(false);\n    return registration;\n}\n</code></pre>\n<p>In addition, if you are using OAuth 2, you may consider using <code>spring-security-oauth2-resource-server</code> and simplifying your Resource Server's configuration. Take a look at the <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">documentation</a>. This way you don't need to extend the custom adapter, just rely on the out-of-the-box configuration from Spring Security.</p>\n"}],"last_activity_date":1684792571,"question_id":70756991,"body":"<p>we have a spring boot project (2.3.0.RELEASE) with actuator endpoints and we are introducing keycloak to the project with KeycloakWebSecurityConfigurerAdapter how can I prevent actuator endpoints being secured by the keycloak filter chain.</p>\n<p>We would like to have the &quot;/actuator/**&quot; endpoints secured by basic auth.</p>\n<p>Currently we have a custom WebSecurityConfigurerAdapter with @Order(1) where we apply the basic auth to  &quot;/actuator/**&quot; and then we have with @Order(2) antotated the KeycloakWebSecurityConfigurerAdapter</p>\n<p>so 2 filter chains gets registered and when I call the actuator endpoints the second filter chain fails as unauthorised 401</p>\n<p>is it possible to prevent handling the &quot;/actuator/**&quot; resorce path on the second filter chain?</p>\n<p>First actuator security configuration.</p>\n<pre><code>@Configuration\n@Order(1)\npublic class ActuatorWebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final String username;\n    private final String password;\n    private final PasswordEncoder encoder;\n\n    public ActuatorWebSecurityConfig(\n            @Value(&quot;${spring.security.user.name}&quot;) String username,\n            @Value(&quot;${spring.security.user.password}&quot;) String password,\n            Optional&lt;PasswordEncoder&gt; encoder) {\n        this.username = username;\n        this.password = password;\n        this.encoder = encoder.orElseGet(PasswordEncoderFactories::createDelegatingPasswordEncoder);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(username)\n                .password(encoder.encode(password))\n                .roles(&quot;USER&quot;);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .antMatcher(&quot;/actuator/**&quot;)\n                .authorizeRequests(authorize -&gt; authorize.anyRequest().authenticated())\n                .httpBasic(Customizer.withDefaults());\n    }\n}\n</code></pre>\n<p>second keycloak securoty configuration</p>\n<pre><code>@Order(2)\n@KeycloakConfiguration\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter {\n\n    private final String swaggerUrl;\n    private final CorsFilter corsFilter;\n    private final CustomSecurityConfig customSecurityConfig;\n\n    @Autowired\n    public SecurityConfig(\n            @Value(&quot;${springdoc.swagger-ui.url:#{null}}&quot;) String swaggerUrl,\n            CorsFilter corsFilter,\n            CustomSecurityConfig customSecurityConfig) {\n        this.swaggerUrl = swaggerUrl;\n        this.corsFilter = corsFilter;\n        this.customSecurityConfig = customSecurityConfig;\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        KeycloakAuthenticationProvider keycloakProvider = keycloakAuthenticationProvider();\n        keycloakProvider.setGrantedAuthoritiesMapper(new SimpleAuthorityMapper());\n        auth.authenticationProvider(keycloakProvider);\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new NullAuthenticatedSessionStrategy();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.csrf().disable()\n            .requestMatcher(new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/actuator/**&quot;)));\n            .headers().frameOptions().disable()\n        .and()\n           .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeRequests()\n           .antMatchers(&quot;/public/**&quot;, &quot;/resources/**&quot;, &quot;/resources/public/**&quot;).permitAll()\n           .antMatchers(OPTIONS, &quot;/**&quot;).permitAll();\n        .authorizeRequests()\n           .antMatchers(&quot;/**&quot;)\n           .authenticated();\n    }\n}\n</code></pre>\n<p>I have tried with on keycloak config</p>\n<pre><code>.antMatchers(&quot;/actuator/**&quot;).permitAll();\n</code></pre>\n<p>and with</p>\n<pre><code>http.requestMatcher(new NegatedRequestMatcher(new AntPathRequestMatcher(&quot;/actuator/**&quot;)));\n</code></pre>\n<p>but nothing works I receive unauthorised 401 for actuator</p>\n<p>the registered filter chains :</p>\n<pre><code>2022-01-18 17:38:44,688 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: Ant [pattern='/actuator/**'], [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25c6a9de, org.springframework.security.web.context.SecurityContextPersistenceFilter@56f3f9da, org.springframework.security.web.header.HeaderWriterFilter@33dcbdc2, org.springframework.security.web.csrf.CsrfFilter@522fdf0c, org.springframework.security.web.authentication.logout.LogoutFilter@365ad794, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23df16cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@227cba85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b38dc7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@142422a4, org.springframework.security.web.session.SessionManagementFilter@2f0b7b6d, org.springframework.security.web.access.ExceptionTranslationFilter@74bca236, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30587737]\n2022-01-18 17:38:44,691 INFO org.springframework.security.web.DefaultSecurityFilterChain [main] Creating filter chain: NegatedRequestMatcher [requestMatcher=Ant [pattern='/actuator/**']], [com.betex.auth.filters.CorsFilter@20a9f5fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10e28d97, org.springframework.security.web.context.SecurityContextPersistenceFilter@c6b08a5, org.springframework.security.web.header.HeaderWriterFilter@5f05cd7e, org.keycloak.adapters.springsecurity.filter.KeycloakPreAuthActionsFilter@2a54c92e, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticationProcessingFilter@55b62db8, org.springframework.security.web.authentication.logout.LogoutFilter@274f51ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54980154, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25874884, org.keycloak.adapters.springsecurity.filter.KeycloakSecurityContextRequestFilter@8cb7185, org.keycloak.adapters.springsecurity.filter.KeycloakAuthenticatedActionsFilter@4dac40b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37d43b9b, org.springframework.security.web.session.SessionManagementFilter@11e8e183, org.springframework.security.web.access.ExceptionTranslationFilter@56f1db5f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@78543f0d]\n</code></pre>\n"},{"comments":[{"comment_id":125308282,"body":"Which version of spring boot do you use? Have you generated the build information in your configuration ? The endpoint might not only be <code>&#47;info</code> ? Check the spring boot docs..."},{"comment_id":125312767,"body":"Both <code>s_app.properties</code> and <code>sDBpools.properties</code> can be found in the .jar? Are they in the same folder? Are you sure the content of the <code>info.app.jwt.secret</code> property can be found in any of the property files?"},{"comment_id":125312892,"body":"Maybe try to set the files in a single annotation e.g.: <code>@PropertySource(value = [&quot;classpath:s_app.properties&quot;, &quot;classpath:sDBpools.properties&quot;])</code>"},{"comment_id":125314427,"body":"Property are available when I call them from differenct class. Bu when I call it from JwtToken class it returns null. I thought, class hierarchy or component scanning causes this and acted accordingly, but nothing changed. That class does not see the property. @Rashin"},{"comment_id":125314462,"body":"@khmarbaise I handled the actuator problem. It was because of  exposing the info endpoint rule has changed with new spring boot version."}],"answers":[{"answer_id":70893586,"body":"<p>Problem solved with the approved answer at below question.\nI had manually instantiated JwtTokenUtil class instead of autowiring it in the caller class. Probably I was not reaching proxy object at all.</p>\n<p><a href=\"https://stackoverflow.com/questions/68012444/unable-to-read-properties-using-value-in-springboot-application\">Unable to read properties using @Value in SpringBoot application</a></p>\n"}],"last_activity_date":1684792549,"question_id":70880939,"body":"<p>@Value anotation does not get the property from properties file when called from a specific class.</p>\n<p>PropertiesConfig:</p>\n<pre><code>@Configuration\n@PropertySource(value = &quot;classpath:s_app.properties&quot;)\n@PropertySource(value = &quot;classpath:sDBpools.properties&quot;)\npublic class PropertiesConfig {\n}\n</code></pre>\n<p>When I call property from ProjectInfoServiceImpl class it returns but not works from JwtTokenUtil class.</p>\n<p><strong>secret</strong> returns null here:</p>\n<pre><code>@Component\n@Log4j2\npublic class JwtTokenUtil implements Serializable {\n\n    private static final long serialVersionUID = -1L;\n\n    private static final int EXPIRATION_MILLISECONDS = 60 * 60 * 1000;\n\n    @Value(&quot;${info.app.jwt.secret}&quot;)\n    private String secret;\n\n    public  String generateToken(User user){\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;authorities&quot;, user.getAuthorities());\n\n        return generateToken(user.getUsername(), claims);\n    }\n\n    public  String generateToken(UserDetails userDetails){\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;authorities&quot;, userDetails.getAuthorities());\n\n        return generateToken(userDetails.getUsername(), claims);\n    }\n\n    public  String generateToken(String username, Map&lt;String, Object&gt; claims) {\n\n        return Jwts.builder()\n                .setSubject(username)\n                .setClaims(claims)\n                .setExpiration(new Date((System.currentTimeMillis() + EXPIRATION_MILLISECONDS)))\n                .setIssuedAt(new Date())\n                .signWith(SignatureAlgorithm.HS256, secret)\n                .compact();\n    }\n\n    public  boolean validateToken(String username, String token){\n        return (username.equals(getUsernameFromToken(token)) &amp;&amp; !isExpired(token));\n    }\n\n    public  String getUsernameFromToken(String token) {\n        return getClaimFromToken(token, Claims::getSubject);\n    }\n\n    public  Date getExpirationdateFromToken(String token){\n        return getClaimFromToken(token, Claims::getExpiration);\n    }\n\n    public  boolean isExpired(String token){\n        return !(new Date().before(getExpirationdateFromToken(token)));\n    }\n\n    public  &lt;T&gt; T getClaimFromToken(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = getAllClaimsFromToken(token);\n        return claimsResolver.apply(claims);\n    }\n\n    private  Claims getAllClaimsFromToken(String token) {\n        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\n    }\n\n}\n</code></pre>\n<p>But in here it returns as expected:</p>\n<pre><code>@Service\n@Log4j2\npublic class ProjectInfoServiceImpl implements ProjectInfoService {\n\n    @Value(&quot;${info.app.jwt.secret}&quot;)\n    private String secret;\n\n    @Value(&quot;${s.version}&quot;)\n    private String version;\n\n    @Value(&quot;${s.deployment.profile}&quot;)\n    private String deploymentProfile;\n\n    @Value(&quot;${s.deployment.environment}&quot;)\n    private String deploymentEnvironment;\n\n    @Override\n    public ProjectInfoDTO getProjectInfo() {\n        ProjectInfoDTO projectInfoDTO = new ProjectInfoDTO();\n        projectInfoDTO.setVersion(version);\n        projectInfoDTO.setDeploymentProfile(deploymentProfile);\n        projectInfoDTO.setDeploymentEnvironment(deploymentEnvironment);\n        return projectInfoDTO;\n    }\n}\n</code></pre>\n<p>Here is folder structure:</p>\n<p><a href=\"https://i.stack.imgur.com/4IRJG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4IRJG.png\" alt=\"enter image description here\" /></a></p>\n<p>Besides actuator does not get info from info.app.version property of s_properties file. /info endpoint returns no information since it cant find the property.</p>\n"},{"comments":[{"comment_id":128528151,"body":"A note on hitting the url&#39;s from the cluster using curl returns success: healthUrl: &quot;<a href=\"http://localhost:1234/health\" rel=\"nofollow noreferrer\">localhost:1234/health</a>&quot; metricsUrl: &quot;<a href=\"http://localhost:1234/prometheus\" rel=\"nofollow noreferrer\">localhost:1234/prometheus</a>&quot; curl -u user_name <a href=\"http://localhost:1324/health\" rel=\"nofollow noreferrer\">localhost:1324/health</a> succeeds from command line."},{"comment_id":128528327,"body":"The 401 error is actually intermittent, the other error I may get is error connection refused. After stoping the back-end application restarting the error is now different. The login is still successful, but the calls to the metric and health url&#39;s are now returning: GET <a href=\"http://localhost:1234/health\" rel=\"nofollow noreferrer\">localhost:1234/health</a> net::ERR_CONNECTION_REFUSED. GET <a href=\"http://localhost:1234/prometheus\" rel=\"nofollow noreferrer\">localhost:1234/prometheus</a> net::ERR_CONNECTION_REFUSED This is happening for both the pre-flight requests as well as the actual requests."}],"answers":[{"comments":[{"comment_id":128528368,"body":"I have updated the original post which includes full spring security class. However note, that 401 error is intermittent, some times it is the 401 error and others it is the connection refused error. Local development with angular and spring boot back-end there is no such issue. Errors only occurring after deployment on test cluster. Also note that my back-end controller is marked with annotation: @CrossOrigin(origins = &quot;*&quot;)"}],"answer_id":72766111,"body":"<p>Please provide the entire class with the security configuration, including all annotations, so we can understand it better.</p>\n"},{"comments":[{"comment_id":128539395,"body":"SSL is not being used. On the cluster. I am able to curl end points like so: curl -u user_name <a href=\"http://localhost:1234/prometheus\" rel=\"nofollow noreferrer\">localhost:1234/prometheus</a>. It is only from the browser that I am having issue accessing these end-points. Because of relative URL&#39;s, when I launch <a href=\"http://my_cluster_name:8085/\" rel=\"nofollow noreferrer\">my_cluster_name:8085</a> I am redirected to the login page <a href=\"http://my_cluster_name:8085/login\" rel=\"nofollow noreferrer\">my_cluster_name:8085/login</a>. The login is successful and redirects me to my dashboard page where my angular components make calls to these end-points, this is when I am getting these intermittent errors."}],"answer_id":72767262,"body":"<p>Below are couple of suggestions to dive deep into this</p>\n<ol>\n<li>assuming your prometheus itself is being served over HTTPS, can you\npost your tls config? I am suspecting there is some issue with that,\nalso can you recheck your spring-actuator config in prometheus file.</li>\n<li>Can you check the metric, health, info path in prometheus file.</li>\n</ol>\n"}],"last_activity_date":1684792505,"question_id":72766007,"body":"<p>Running in to an issue with 401 error when deployed on cluster. Note the issue not occurring during local development. Issue occurs only once deployed on testing cluster. Currently the project is in only development/testing phase.</p>\n<p>Back-End config(Spring properties file):</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>server.port=8085\nmanagement.health.defaults.enabled=false\nmanagement.endpoint.health.show-details=\"ALWAYS\"\nmanagement.server.port=${management.port:1234}\nmanagement.endpoints.enabled-by-default=true\nmanagement.endpoints.web.base-path=/\nmanagement.endpoints.web.exposure.include=health, prometheus</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Angular:\nlogin is successful(using relative url's to port 8085 once deployed on the cluster) but after login my dashboard page makes calls to acutator health and prometheus end-points:</p>\n<p>these are the URLs:\nhealthUrl: &quot;http://localhost:1234/health&quot;\nmetricsUrl: &quot;http://localhost:1234/prometheus&quot;</p>\n<p>Spring Security:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class ActuatorWebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .cors().configurationSource(corsConfigurationSource())\n                .and()\n                .authorizeRequests()\n                .requestMatchers(EndpointRequest.to(HealthEndpoint.class, InfoEndpoint.class)).permitAll()\n                .antMatchers(\"/**\").authenticated()\n                .and().httpBasic()\n                .and()\n                .addFilterBefore(new ForwardedHeaderFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(\"*\"));\n        configuration.setAllowCredentials(true);\n        configuration.setAllowedMethods(Arrays.asList(\"GET\",\"POST\",\"OPTIONS\"));\n        configuration.setAllowedHeaders(Collections.singletonList(\"*\"));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(\"/**\", configuration);\n        return source;\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"comment_id":130976582,"body":"Are you able to reproduce this with a vanilla STS 4.16.0 installation and a fresh workspace? If so, please file an issue at <a href=\"https://github.com/spring-projects/sts4/issues\" rel=\"nofollow noreferrer\">github.com/spring-projects/sts4/issues</a> and attach a few steps how to reproduce this. That would be awesome help to investigate this in depth."}],"answers":[{"comments":[{"comment_id":130904448,"body":"...you can examine until &quot;black out&quot;, but better: upgrade &quot;spring ide&quot;: &quot;This project has reached its EOL and is not maintained anymore. See the announcement on the blog for details: <a href=\"https://spring.io/blog/2022/06/14/goodbye-spring-ide-welcome-spring-tools-4\" rel=\"nofollow noreferrer\">spring.io/blog/2022/06/14/&hellip;</a>&quot;"}],"answer_id":74142604,"body":"<p>You can examine this issue, Same problem appears.</p>\n<p><a href=\"https://github.com/spring-attic/spring-ide/issues/182\" rel=\"nofollow noreferrer\">https://github.com/spring-attic/spring-ide/issues/182</a></p>\n"}],"last_activity_date":1684792449,"question_id":74142537,"body":"<p>I'm getting this error with every project with actuator dependency &quot;Ready State Poller has encontered a problem: An internal error occurred during: &quot;Ready state poller&quot;.\nATTR_PROCESS_ID&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/zM4qr.png\" rel=\"nofollow noreferrer\">Ready State Poller has encontered a problem: An internal error occurred during: &quot;Ready state poller&quot;.\nATTR_PROCESS_ID</a></p>\n<p>No stacktrace, project starts normally, just the eclipse IDE error message. How can I prevent this to happen?</p>\n<p>My pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;demo.bootcamp&lt;/groupId&gt;\n&lt;artifactId&gt;pruebasClientes&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;pruebasClientes&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>This is a demo project for a bootcamp class, it has only 3 or 4 classes, I think my problem is in the config or in the pom.\nThanks.</p>\n"},{"answers":[{"answer_id":75389349,"body":"<p>Have you tried to enable it via yaml/properties?</p>\n<pre><code>management.defaults.metrics.export.enabled=true\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>management:\n  defaults:\n    metrics:\n      export:\n        enabled: true\n</code></pre>\n<p>Reference:\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics</a></p>\n"}],"last_activity_date":1684792220,"question_id":75388023,"body":"<p>I implemented the:<br />\n<code>implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:3.0.1&quot;)</code></p>\n<p>dependency,\nand added:\n<code>management: endpoints: web: exposure: include: &quot;*&quot; </code></p>\n<p>to <code>application.yml</code>,\nwhen I send requests to <code>POSTMAN</code>:</p>\n<p>http://localhost:8080/actuator/...</p>\n<p>all required endpoints are available except metrics</p>\n<p>How I can add this?</p>\n<p>I tried to add:</p>\n<pre><code>@Autowired\n    private MeterRegistry meterRegistry;\n    @Bean\n    public CacheMetricsRegistrar cacheMetricsRegistrar() {\n        return new CacheMetricsRegistrar(meterRegistry, Lists.newArrayList(new CaffeineCacheMeterBinderProvider()));\n    } \n</code></pre>\n<p>but I got an error &gt; Process <code>'command 'C:/Program Files/Java/jdk-17/bin/java.exe''</code> finished with non-zero exit value 1</p>\n"},{"comments":[{"comment_id":134566688,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"last_activity_date":1684792140,"question_id":76310104,"body":"<p>2 issues were found when checking AAR metadata:</p>\n<ol>\n<li><p>Dependency 'androidx.core:core-ktx:1.12.0-alpha04' requires libraries and applications that\ndepend on it to compile against codename &quot;UpsideDownCake&quot; of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Recommended action: Use a different version of dependency 'androidx.core:core-ktx:1.12.0-alpha04',\nor set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\nfile if you intend to experiment with that preview SDK.</p>\n</li>\n<li><p>Dependency 'androidx.core:core:1.12.0-alpha04' requires libraries and applications that\ndepend on it to compile against codename &quot;UpsideDownCake&quot; of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Recommended action: Use a different version of dependency 'androidx.core:core:1.12.0-alpha04',\nor set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\nfile if you intend to experiment with that preview SDK.</p>\n</li>\n</ol>\n<p>what can i do to resolve this error</p>\n"},{"comments":[{"comment_id":91654521,"body":"This is going to be framework-specific."},{"comment_id":91683337,"body":"Assuming its a native Java implementation, what is the ideal solution?"}],"answers":[{"comments":[{"comment_id":92504103,"body":"Thank for the reply. However I have not understood this &quot;clients don&#39;t need to authenticate themselves to get a code&quot;. In what scenario this will occur? In my understanding a relying party contacting authorization end point will force the user to authenticate if no user session exists."},{"comment_id":92505084,"body":"The client (or relying party) is not the same as the user. The authorization endpoint authenticates the user, and accepts a client_id to identify the client, but not the client_secret."}],"answer_id":52790527,"body":"<p>Storing it in a <code>HashMap</code> is a solution that does not scale, as internal memory is not shared accross server nodes.</p>\n\n<p>You'll have to store it in some form of persistent store</p>\n\n<ul>\n<li>a SQL database</li>\n<li>a NoSQL database</li>\n<li>a key value database</li>\n</ul>\n\n<p>Note that you'll not only need to be able to determine the user, for which it was made, but also the client, as clients don't need to authenticate themselves to get a code. Also know that you'll need to be able to determine which scopes are covered by a given code, and to detect double usage of a code, and in case of double usage, to revoke associated access tokens.</p>\n\n<p>On the other hand, you need to be able to easily forget the codes again. They're short term use, and it's no use keeping them around after their ttl.</p>\n\n<p>You'll have similar requirements for storing the access tokens, refresh and id tokens you produce, so it'll make sense to build something which can also be used for those.</p>\n"}],"last_activity_date":1684792140,"question_id":52354738,"body":"<p>I'm talking about the authorization_code grant type. In the authorization end point of the OpenID Connect provider we gave an authorization code to the relying party and then they make a back channel request (no browser involved) to the token end point with this code.\nSo the question is, how do I distinguish this user at the token end point? I guess no session exists for this call since it's a back channel request.\nWhat methods can be used to identify the user? Could a stored HashMap in memory with key as authorization_code be the ideal solution?</p>\n"},{"comments":[{"comment_id":134562611,"body":"you can check here, it is simular problem with jsonIgnore <a href=\"https://stackoverflow.com/questions/19894955/spring-jsonignore-not-working\" title=\"spring jsonignore not working\">stackoverflow.com/questions/19894955/&hellip;</a>"}],"answers":[{"answer_id":76308386,"body":"<p>Maybe its better to have another DTO to map requested object(here SampleApiDto) to what data layer wants.</p>\n"},{"answer_id":76310079,"body":"<p>You can utilize Bean Validation capabilities with validation groups to achieve your desired outcome. A validation group is a concept in Java Bean Validation that allows you to group validation constraints and apply them selectively based on different scenarios or use cases.</p>\n<p>First, you need to define validation group marker interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface OnCreate {}\n</code></pre>\n<p>Then you should add validation to your <code>id</code> field (I've changed a type from primitive to Long wrapper). We suppose that the client should not send <code>id</code>, so the field should be null:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Null(groups = OnCreate.class)\nprivate Long id;\n</code></pre>\n<p>Finally, in your controller, you should specify the validation group in desired endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@PostMapping(&quot;/sample&quot;)\npublic ResponseEntity&lt;?&gt; createSample(@Validated(OnCreate.class) @RequestBody SampleApiDto dto, BindingResult result) {\n    if (result.hasErrors()) {\n        // Handle validation errors\n        return ResponseEntity.badRequest().body(&quot;Validation error&quot;);\n    }\n        \n    // Process the payload and return appropriate response\n    // ...\n}\n</code></pre>\n<p>You can read more here:</p>\n<p><a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#validationapi-validatorapi-groups\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#validationapi-validatorapi-groups</a></p>\n<p><a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#constraintdeclarationvalidationprocess-groupsequence\" rel=\"nofollow noreferrer\">https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#constraintdeclarationvalidationprocess-groupsequence</a></p>\n<p>And make sure your spring application is configured properly to use bean validation:</p>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/core/validation/beanvalidation.html#validation-beanvalidation-overview\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/reference/core/validation/beanvalidation.html#validation-beanvalidation-overview</a></p>\n"}],"last_activity_date":1684791753,"question_id":76308168,"body":"<p>I am trying to implement a static validation that prevents a value from being passed into a JSON payload to POST and PUT endpoints.</p>\n<p>For example, I have this DTO:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class SampleApiDto {\n    \n    private long id;\n\n    private String description;\n\n    private String columnName;\n\n    private String code;\n}\n</code></pre>\n<p><code>id</code> is a generated value on our data service side. Right now, if you provide a payload like this:</p>\n<pre><code>{\n    &quot;id&quot;: 123,\n    &quot;description&quot;: &quot;test10&quot;,\n    &quot;columnName&quot;: &quot;test&quot;,\n    &quot;code&quot;: &quot;1&quot;\n}\n</code></pre>\n<p>it throws a detached entity error and returns 500. Ideally, I would like it to return a 400 error with a static validation that <code>id</code> is present in the payload. Due to the size of our codebase, we do not want to implement if statements in the controller. We would rather this be an annotation, even if it were a custom annotation.</p>\n<p>I have tried using <code>@Null</code> and <code>@JsonIgnore</code> on the getter method, and these did not work both ways. The ID should be accessible afterwards in the DTO object from the data service.</p>\n<p>Thanks so much!</p>\n"}]}