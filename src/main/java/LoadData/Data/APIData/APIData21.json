{"items":[{"answers":[{"comments":[{"comment_id":4009124,"body":"But is this secure? Are you storing passwords in plain-text?"},{"comment_id":4009195,"body":"There&#39;s a case for storing passwords in plain text, as opposed to simply obfuscating them - obfuscation gives a false sense of safety. See for example <a href=\"http://developer.pidgin.im/wiki/PlainTextPasswords\" rel=\"nofollow noreferrer\">developer.pidgin.im/wiki/PlainTextPasswords</a>"},{"comment_id":4009248,"body":"Before I store a password, I will use <a href=\"http://www.jasypt.org/\" rel=\"nofollow noreferrer\">jasypt.org</a> to perform encryption. Currently, I hard code my encryption key in my application. I once thinking to let user specific the key. However, that may stop average user from using my app as it is kind to hard to explain what key is. Hence, I give up the idea. So far, I receive no complain on security issue by doing so."},{"comment_id":4010974,"body":"So anyone with a copy of your program can use anybody&#39;s key file? Lack of compalints doesn&#39;t make it secure. A person whose password is compromised may not even be aware of the fact. Sure this works and with properly protected machines it&#39;s quite low risk, but in fact the encryption buys very little. In effect your applciation is the key, so that&#39;s what needs to be protected."},{"comment_id":4018942,"body":"I think this is a security threat.As a cracker can get the hard coded password by decompiling your Java code."},{"comment_id":94358076,"body":"That&#39;s not where you store user or application data on Windows."}],"answer_id":3784695,"body":"<p>I usually store in user data directory, with sub directories of application name followed by application version.</p>\n\n<pre><code>public static String getUserDataDirectory() {\n    return System.getProperty(\"user.home\") + File.separator + \".jstock\" + File.separator + getApplicationVersionString() + File.separator;\n}\n</code></pre>\n\n<p>I had been using the following code for 3 years. This method works quite well either in Windows, Linux or Mac.</p>\n\n<p>Please note that, in Windows, never store it in <code>Program Files</code>, as UAC in Windows Vista or newer may give you a lot of trouble.</p>\n\n<p>Remember put a dot in-front of your application name, so that it will become a hidden folder in Linux.</p>\n\n<p>Good thing by using this methology is that, you are not limited your self in storing primitive value only. Instead, you may save the entire object state to the disk by using <a href=\"http://xstream.codehaus.org/\" rel=\"noreferrer\">xstream</a></p>\n\n<p>For example :</p>\n\n<pre><code>public static boolean toXML(Object object, File file) {\n    XStream xStream = new XStream();\n    OutputStream outputStream = null;\n    Writer writer = null;\n\n    try {\n        outputStream = new FileOutputStream(file);\n        writer = new OutputStreamWriter(outputStream, Charset.forName(\"UTF-8\"));\n        xStream.toXML(object, writer);\n    }\n    catch (Exception exp) {\n        log.error(null, exp);\n        return false;\n    }\n    finally {\n        close(writer);\n        close(outputStream);\n    }\n\n    return true;\n} \n</code></pre>\n"},{"answer_id":3784757,"body":"<p>Storing a single password <em>securely</em> is quite difficult. Suppose you encrypt the password using some secret key. Then when your applciation starts again it needs that secret key, where does it get that from? </p>\n\n<p>If it asks the user then he might as well just enter the ftp password which you stored in the first place. If it reads the secret key from somewhere then you need to secure the secret key, and we're back where we started. </p>\n\n<p>If you are keeping several passwords then asking the user for a single password to some \"vault\" may be much friendlier, but you then get into all the hassle of dealing with expired passwords. </p>\n\n<p>There are products available to deal with this wort of stuff, if you have a serious need then you probably need to investigate them.</p>\n"},{"comments":[{"comment_id":4012255,"body":"Where shall we store the required key?"},{"comment_id":24234766,"body":"Nice intro tutorial here:  <a href=\"http://www.mkyong.com/java/java-properties-file-examples/\" rel=\"nofollow noreferrer\">mkyong.com/java/java-properties-file-examples</a>"},{"comment_id":60512237,"body":"I want to note that on Windows you might have to change the registry if you are using Preferences. For a normal user of your application, this might be a blocker (no-go!)."},{"comment_id":72341417,"body":"@ElMac: I guess you refer to the infamous <code>WARNING: Could not open&#47;create prefs root node Software\\JavaSoft\\Prefs  at root 0x80000002. Windows RegCreateKeyEx(...) returned error code 5</code>  warning?  Which has led users to believe that they need to use <code>regedit</code> to create a new Win Registry key (because then this warning goes away). This is actually a <a href=\"http://stackoverflow.com/a/41151051/1504556\">bug in Java itself</a>. You are not meant to have to do this. It is a result of the bug."}],"answer_id":3784813,"body":"<p>The <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/preferences/index.html\" rel=\"noreferrer\">Preferences API</a> is a nice way to store user and system preferences. If you want to store passwords, you'll have to encrypt them. Here is a nice article that can get you started. </p>\n\n<p><a href=\"http://www.drdobbs.com/184416587\" rel=\"noreferrer\">Encrypted Preferences in Java</a></p>\n"}],"last_activity_date":1684314652,"question_id":3784657,"body":"<p>What is the best way to save user settings in java desktop app securely? For example If I want to save an Ftp account settings what is the best way to do that?</p>\n\n<p>Thanks</p>\n"},{"answers":[{"answer_id":54806060,"body":"<p>If I understand this correctly; <code>Map&lt;String, Object&gt; resultFromProcedure</code> consist of 2 entries having keys <code>#result-set-1</code> and <code>#update-count-1</code>.</p>\n\n<p>And the object of <code>#result-set-1</code> is an object having 4 member variables. (If it is a String, then you'd need to convert the Json to a Java Object (<a href=\"https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/\" rel=\"nofollow noreferrer\">Example</a>))</p>\n\n<p>Thus your call to <code>resultFromProcedure.get(\"accountnumber\")</code> is trying to fetch an object using the key <code>accountnumber</code>, but the map doesn't contain that key. You need to first get the object for <code>#result-set-1</code> e.g.</p>\n\n<pre><code>SomeDTO someDTO = resultFromProcedure.get(\"#result-set-1\");\n</code></pre>\n\n<p>Then you can call</p>\n\n<pre><code>someDTO.getAccountNumber();\n</code></pre>\n"},{"answer_id":56350295,"body":"<p>As there could be more than one result set, SimpleJdbcCall returns an object in the arraylist within another map marked as \"#result-set-1\". To access the values in it, try the following:</p>\n\n<pre><code>ArrayList arrayList = new ArrayList();\narrayList = (ArrayList) resultFromProcedure.get(\"#result-set-1\");\nMap resultMap = (Map) arrayList.get(0);\n\nSystem.out.println(\"Account Number: \" + resultMap.get(\"accountnumber\"));\n</code></pre>\n"},{"answer_id":76270399,"body":"<p>Here is a solution with a Rowmapper for &quot;#result-set-1&quot;</p>\n<pre><code> // Parameters\n    SqlParameter[] parameters = { new SqlParameter(&quot;MYINPUT1&quot;, Types.VARCHAR), // Example input parameter\n            new SqlParameter(&quot;MYINPUT2&quot;, Types.VARCHAR), // Example input parameter\n            new SqlParameter(&quot;INPUT&quot;, Types.VARCHAR), // Input Parameters \n            new SqlOutParameter(&quot;RC&quot;, Types.VARCHAR), // maybe Return Code \n            new SqlOutParameter(&quot;OUTPUT&quot;, Types.VARCHAR), // Result-Set Mapping - this will solve the LinkedCaseInsensitiveMap\n            new SqlReturnResultSet(&quot;#result-set-1&quot;, (RowMapper&lt;YourPojo&gt;) (rs, rowNum) -&gt; {\n                YourPojo example = new YourPojo();\n                YourPojo.setWhatEver(rs.getInt(&quot;WHATEVER&quot;));\n                YourPojo.setWhenEver(rs.getInt(&quot;DATE&quot;));\n                return example;\n            }) };\n\n     SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(&quot;MYSP001&quot;).withSchemaName(&quot;SYSPROC&quot;).declareParameters(parameters);\n\n    // Inputvalues\n    Map&lt;String, String&gt; inParamMap = new HashMap&lt;&gt;();\n    inParamMap.put(&quot;INPUT1&quot;, &quot;inputvalueExample&quot;);      \n    inParamMap.put(&quot;INPUT2&quot;, &quot;inputvalueExample2&quot;);\n    SqlParameterSource source = new MapSqlParameterSource(inParamMap);\n    Map&lt;String, Object&gt; resultFromSP = simpleJdbcCall.execute(source);\n    List&lt;YourPojo&gt; mylist = (List&lt;YourPojo&gt;) resultFromSP.get(&quot;#result-set-1&quot;);\n</code></pre>\n"}],"last_activity_date":1684314649,"question_id":54802060,"body":"<p>When executing SimpleJdbcCall, I get two parameters #result-set-1, #update-count-1</p>\n\n<pre><code>MapSqlParameterSource parameterSource = new MapSqlParameterSource();\nparameterSource.addValue(\"name\", \"something\");\nMap&lt;String, Object&gt; resultFromProcedure = cstmt.execute(parameterSource);\n</code></pre>\n\n<h1>#result-set-1 have variables</h1>\n\n<pre><code>[{\n id = 123,\n name = \"something\",\n accountnumber = 123456,\n balance = 789999\n}]\n</code></pre>\n\n<p>Everything is fine until I tried to access </p>\n\n<pre><code>resultFromProcedure.get(\"accountnumber\")\n</code></pre>\n\n<p>Which getting null. The Question is how to access the values in #result-set-1</p>\n"},{"comments":[{"comment_id":134500538,"body":"If <code>A</code> and <code>B</code> don&#39;t share a useful superclass or interface, then using <code>?</code> is reasonable. Is there any indication as to when this would return <code>A</code> or <code>B</code>? Specifically, anything that could be known at compile time?"},{"comment_id":134501637,"body":"For most purposes, there is no difference between <code>&lt;?&gt;</code> or <code>&lt;? extends Object&gt;</code>. But this method <code>getDataFromService</code> doesn’t have any options anyway if <code>forwardToRespectiveService</code> is already returning a <code>ResponseEntity&lt;?&gt;</code>."},{"comment_id":134511251,"body":"A and B are two completely different classes that do not share any superclass or interface.   <code>forwardToRespectiveService</code> method fires a REST request to another service and gives me the response from that service. So, I do not have a way of differentiating at compile time the cases in which I get A or B. @JoachimSauer"},{"comment_id":134511268,"body":"I have put the response of <code>forwardToRespectiveService</code> as <code>ResponseEntity&lt;?&gt;</code> because I do not know whether the response body would contain an object of class A or class B. I am returning the same response entity as such, hence the return type of <code>getDataFromService</code> is <code>ResponseEntiity&lt;?&gt;</code>. Clarifying on my original question a little more, I wanted to know if there is a better way to go about things. @Holger"}],"last_activity_date":1684314583,"question_id":76270371,"body":"<p>I am working on a service has to forward the incoming requests to a destination service after performing some alterations on the object received in the request body and return the response received from the service. There are only two types of objects (A or B) expected in the response body for which I want to use a wildcard instead of Object class to keep the code cleaner.</p>\n<p>Now I know that we can not use generics with two classes such that the generic class object must belong to either of the two classes.</p>\n<pre><code>public ResponseEntity&lt;?&gt; getDataFromService(C requestBody) {\n  C updatedRequestBody = performAlterationsOnRequestBody (requestBody);\n\n  ResponseEntity&lt;?&gt; responseObject = forwardToRespectiveService(updatedRequestBody);\n  // responseObject body can contain object of either class A or class B.\n  return response;\n}\n</code></pre>\n<p>Is the approach to use a wildcard correct way to go about?</p>\n"},{"answers":[{"answer_id":76270376,"body":"<p>In terms of the concept of &quot;production units&quot; - this refers to the number of mongodb databases where you are using Mongock as a tool for migration (in production instances). Notice that the minimum is 5 units or production instances.</p>\n<p>This means that if you have 3 MongoDB databases in production using Mongock, it would count as 3 units. ChangeUnits are unlimited per database where Mongock is installe.</p>\n<p>Notice that Mongock creates a couple of collections/tables in your database - which is the basis for Mongock to operate (and for us to help support with the tool).</p>\n<p>Additionally, all environments outside production are free of charge.</p>\n"}],"last_activity_date":1684314510,"question_id":76269387,"body":"<p>can someone please explain how exactly pricing strategy for mongock professional works?</p>\n<p>I can see on this <a href=\"https://mongock.io/professional/pricing/\" rel=\"nofollow noreferrer\">webpage</a> that price is &quot;$20 / unit in production per month&quot;, but what is &quot;unit&quot; in this context? Is it single ChangeUnit class? How can I calculate approximate pricing for my application?</p>\n"},{"last_activity_date":1684314352,"question_id":76269515,"body":"<p>I have a class which I want to persist. It contains one list which has a parent class and parent has two children. The list contains both inheritors. I don't know how I can use <code>@ElementCollection</code> and <code>@JoinTable</code> to persist this class. I know I have to put setters and getters and no-arg constructor but now this is not important, I want to know how to annotate <code>List&lt;Parent&gt;</code>. Tables of Child1 and Child2 has foreign key by entityName to name of entity class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class entity {\n     String name;\n     List&lt;Parent&gt; parents;\n}\n</code></pre>\n<p>and parent class has two inheritor</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\n@Embeddable\npublic class Parent {\n   String name;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Child1 extends Parent {\n   String entityName;\n   @Id\n   Double firstChildField;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Child2 extends Parent {\n   String entityName;\n   @Id\n   String secondChildField;\n}\n</code></pre>\n"},{"last_activity_date":1684314189,"question_id":76263349,"body":"<p>What should I do ?</p>\n<ul>\n<li>I got the server up (Payara/glassfish).</li>\n<li>I used /asadmin to create jms and jdbc resources for applicaton and          I got connection-pool up.</li>\n<li>I'm using payara-full-6.2023.4.</li>\n</ul>\n<p><strong>Here is my successful install:</strong></p>\n<pre><code>`INFO[m] Installing /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/pom.xml to /opt/m2/org/foi/nwtis/spetrovic/spetrovic_zadaca_3/1.0.0/spetrovic_zadaca_3-1.0.0.pom\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1mReactor Summary:[m\n[[1;34mINFO[m] \n[[1;34mINFO[m] spetrovic_zadaca_3_lib_1 1.0.3 ..................... [1;32mSUCCESS[m [  2.618 s]\n[[1;34mINFO[m] spetrovic_zadaca_3_lib_2 1.0.4 ..................... [1;32mSUCCESS[m [  0.838 s]\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_1 1.0.0 ...................... [1;32mSUCCESS[m [  4.975 s]\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_2 1.0.0 ...................... [1;32mSUCCESS[m [  2.171 s]\n[[1;34mINFO[m] spetrovic_zadaca_3 1.0.0 ........................... [1;32mSUCCESS[m [  0.010 s]\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1;32mBUILD SUCCESS[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------`\n</code></pre>\n<p><strong>When i try do redeploy my application &quot;spetrovic_zadaca_3_wa_1&quot; here is the problem:</strong></p>\n<pre><code>[[1;34mINFO[m] [DeployerRedeployMojo] Resolved container artifact org.codehaus.cargo:cargo-core-container-payara:jar:1.9.10 for container payara\n[[1;34mINFO[m] [talledLocalContainer] Parsed GlassFish version = [6.2023.4]\n[[1;34mINFO[m] [talledLocalContainer] Command deploy failed.\n[[1;34mINFO[m] [talledLocalContainer] remote failure: Error occurred during deployment: Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint '' failure. Please see server.log for more details.\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] Total time:  7.685 s\n[[1;34mINFO[m] Finished at: 2023-05-16T14:45:11+02:00\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy[m [1m(default-cli)[m on project [36mspetrovic_zadaca_3_wa_1[m: [1;31mExecution default-cli of goal org.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy failed: GlassFish admin command with args (--interactive=false --host localhost --port 4848 --user admin --passwordfile /opt/payara-full-6.2023.4/glassfish/domains/password.properties deploy --force --contextroot spetrovic_zadaca_3_wa_1 /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/spetrovic_zadaca_3_wa_1/target/spetrovic_zadaca_3_wa_1-1.0.0.war) failed: asadmin exited 1[m -&gt; [1m[Help 1][m\n[[1;31mERROR[m] \n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[[1;31mERROR[m] \n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n\n</code></pre>\n<p>Server log that I got here is this:</p>\n<pre><code>[2023-05-16T16:17:05.961+0200] [Payara 6.2023.4] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625961] [levelValue: 1000] [[\n  Exception during lifecycle processing\njava.lang.Exception: java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint '' failure\n    at com.sun.enterprise.web.WebApplication.start(WebApplication.java:136)\n    at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)\n    at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:292)\n    at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:361)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:630)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:617)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/javax.security.auth.Subject.doAs(Subject.java:376)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/javax.security.auth.Subject.doAs(Subject.java:376)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1879)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)\n    at org.glassfish.admin.rest.resources.admin.CommandResource.executeCommand(CommandResource.java:409)\n    at org.glassfish.admin.rest.resources.admin.CommandResource.execCommandSimpInMultOut(CommandResource.java:236)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:261)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:240)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:697)\n    at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:367)\n    at org.glassfish.admin.rest.adapter.JerseyContainerCommandService$3.service(JerseyContainerCommandService.java:179)\n    at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:189)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:174)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:153)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:196)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n]]\n\n[2023-05-16T16:17:05.962+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625962] [levelValue: 1000] [[\n  Exception while loading the app]]\n\n[2023-05-16T16:17:05.972+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625972] [levelValue: 1000] [[\n  Exception in thread &quot;Thread-30&quot; ]]\n\n[2023-05-16T16:17:05.973+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625973] [levelValue: 1000] [[\n  jakarta.ejb.EJBException: Attempt to invoke when container is in Undeployed\n    at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2109)\n    at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2104)\n    at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)\n    at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)\n    at jdk.proxy101/jdk.proxy101.$Proxy413.saljiPoruku(Unknown Source)\n    at org.foi.nwtis.spetrovic.zadaca_3.zrna.__EJB31_Generated__JmsPosiljatelj__Intf____Bean__.saljiPoruku(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)\n    at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)\n    at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)\n    at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)\n    at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)\n    at org.foi.nwtis.spetrovic.zadaca_3.zrna.JmsPosiljatelj$Proxy$_$$_Weld$EnterpriseProxy$.saljiPoruku(Unknown Source)\n    at org.foi.nwtis.spetrovic.zadaca_3.dretve.SakupljacLetovaAviona.run(SakupljacLetovaAviona.java:31)\n]]\n\n[2023-05-16T16:17:05.974+0200] [Payara 6.2023.4] [SEVERE] [AS-WEB-GLUE-00192] [jakarta.enterprise.web] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625974] [levelValue: 1000] [[\n  Undeployment failed for context /spetrovic_zadaca_3_wa_1]]\n\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625989] [levelValue: 1000] [[\n  Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint '' failure]]\n\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=249 _ThreadName=Executor-Service-28] [timeMillis: 1684246625989] [levelValue: 900] [[\n  Cannot invoke &quot;Object.getClass()&quot; because &quot;resource&quot; is null]]\n\n</code></pre>\n"},{"last_activity_date":1684313902,"question_id":76270283,"body":"<p>I am attempting to run some clustering algorithms (Bisecting K-Means, HDBSCAN etc) on a subset of a MongoDb collection.\nThe documents in the collection contain geo-coordinates (stored as both a GeoJsonPoint and as separate lat/lon)\ne.g.:</p>\n<pre><code>{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;6453b52f26d1a71e6124ce59&quot;\n  },\n  &quot;lat&quot;: 51.1315842777413,\n  &quot;lon&quot;: 0.515861112040389,\n  &quot;location&quot;: {\n    &quot;type&quot;: &quot;Point&quot;,\n    &quot;coordinates&quot;: [\n      0.515861112040389,\n      51.1315842777413\n    ]\n  },\n  &quot;lastUpdatedTimestamp&quot;: {\n    &quot;$numberLong&quot;: &quot;1683902535038&quot;\n  },\n  &quot;_class&quot;: &quot;com.example.DataPoint&quot;\n}\n</code></pre>\n<p>I need to be able to filter the documents based on 2 sets of criteria:</p>\n<ol>\n<li>Location is inside a predefined GeoJsonPolygon (these are stored in another collection elsewhere)</li>\n<li>LastUpdatedTimestamp &gt; than a fixed time</li>\n</ol>\n<p>and then read the filtered collection into Spark to perform the clustering.</p>\n<p>The application is being developed in Springboot Java, so I am able to setup a mongo respository with methods than will perform this filtering (which use Mongo's inbuilt geometry functions)</p>\n<p>DataPointRepository class:</p>\n<pre><code>package com.example;\n\nimport java.util.List;\n\nimport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface DataPointRepository extends MongoRepository&lt;DataPoint, ObjectId&gt; {\n    \n    //Extract by within GeoPolygon And Last updated &gt; cutoff \n    List&lt;DataPoint&gt; findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(GeoJsonPolygon geoJsonPolygon, double lastUpdatedCutoff);\n\n}\n</code></pre>\n<p>DataPoint class:</p>\n<pre><code>package com.example;\n\nimport org.springframework.data.mongodb.core.geo.GeoJsonPoint;\nimport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\nimport org.springframework.data.mongodb.core.index.GeoSpatialIndexType;\nimport org.springframework.data.mongodb.core.index.GeoSpatialIndexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NonNull;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@ToString\n@Document(collection =&quot;DataPoint&quot;) \n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DataPoint {\n    \n    //System generated PK\n    @Getter @Setter @NonNull private String id;\n    \n    //Co-ordinates\n    @Getter @Setter private double lat;\n    @Getter @Setter private double lon;\n    \n    @GeoSpatialIndexed(name= &quot;location_idx&quot;, type = GeoSpatialIndexType.GEO_2DSPHERE)\n    @Getter @Setter private GeoJsonPoint location;\n    \n    //Last Updated\n    @Getter @Setter private long lastUpdatedTimestamp;  \n}\n</code></pre>\n<p>The below service will then run when the application is initialised and performs the collection filtering and loading of the data into spark:</p>\n<pre><code>package com.example;\n\nimport static org.apache.spark.sql.functions.col;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.SparkContext;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.RowFactory;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.types.DataTypes;\nimport org.apache.spark.sql.types.Metadata;\nimport org.apache.spark.sql.types.StructField;\nimport org.apache.spark.sql.types.StructType;\nimport org.bson.types.ObjectId;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.data.geo.Point;\nimport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\nimport org.springframework.stereotype.Service;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Service\npublic class ExampleService implements CommandLineRunner {\n    \n    private static final Logger logger = LoggerFactory.getLogger(ExampleService.class);\n\n    @Autowired\n    DataPointRepository dataPointRepository;\n    \n    @Override\n    public void run(String... args) throws Exception {\n        //Log that service is running\n        logger.info(&quot;Example Service is running&quot;);\n        \n        //Example GeoJsonPolygon\n        List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\n        points.add(new Point(0,0));\n        points.add(new Point(180,0));\n        points.add(new Point(180,90));\n        points.add(new Point(0,0));\n        GeoJsonPolygon geoJsonPolygon = new GeoJsonPolygon(points);\n        \n        //Cutoff time default to T-10mins\n        double cutoffTime = System.currentTimeMillis() - (10 * 60 * 1000);\n        \n        //Filter the DataPoint collection\n        List&lt;DataPoint&gt; filteredDataPointList = dataPointRepository.findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(geoJsonPolygon,cutoffTime);\n        \n        //Initialise Spark session\n        SparkConf conf = new SparkConf();\n        \n        conf.set(&quot;spark.master&quot;,&quot;local&quot;);\n        conf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\n\n        SparkContext context = new SparkContext(conf);\n        SparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\n        \n        //Convert filteredDataPointList to List&lt;Row&gt; for spark dataframe\n        List&lt;Row&gt; rowList = new ArrayList&lt;Row&gt;();\n        for (DataPoint dp: filteredDataPointList) {\n            List&lt;Object&gt; data = new ArrayList&lt;&gt;();\n            data.add(dp.getId());\n            data.add(dp.getLat());\n            data.add(dp.getLon());\n            \n            Row row = RowFactory.create(data.toArray());\n            rowList.add(row);\n        }\n        \n        //Generate schema from StructFields\n        List&lt;StructField&gt; structFields = new ArrayList&lt;&gt;();\n        structFields.add(new StructField(&quot;_id&quot;, DataTypes.StringType, true, Metadata.empty()));\n        structFields.add(new StructField(&quot;lat&quot;, DataTypes.DoubleType, true, Metadata.empty()));\n        structFields.add(new StructField(&quot;lon&quot;, DataTypes.DoubleType, true, Metadata.empty()));\n        StructType schema = new StructType(structFields.toArray(new StructField[0]));\n\n        //Initialise DataFrame from rowList\n        Dataset&lt;Row&gt; dataset = spark.createDataFrame(rowList, schema);\n        dataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\n        dataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\n        dataset.na().drop();\n        dataset.printSchema();\n        dataset.show(false);\n        \n        //Run clustering algorithms....\n        \n    }\n}\n</code></pre>\n<p>(output as below)</p>\n<pre><code>root\n |-- _id: string (nullable = true)\n |-- lat: double (nullable = true)\n |-- lon: double (nullable = true)\n\n+------------------------+----------------+------------------+\n|_id                     |lat             |lon               |\n+------------------------+----------------+------------------+\n|6453b52f26d1a71e6124ce59|51.1315842777413|0.515861112040389 |\n|6453b52f26d1a71e6124ce5a|53.7236662883316|-3.03878489019157 |\n|6453b52f26d1a71e6124ce5b|53.025813155572 |0.289110683451985 |\n|6453b52f26d1a71e6124ce5c|51.3606995421023|-0.45591666788182 |\n|6453b52f26d1a71e6124ce5d|55.3587772650236|-0.43234332482597 |\n|6453b52f26d1a71e6124ce5e|53.3132727039887|-1.2439138924336  |\n|6453b52f26d1a71e6124ce5f|55.5844946099286|-2.71052395578811 |\n|6453b52f26d1a71e6124ce60|52.3681859288013|-1.73289160535643 |\n|6453b52f26d1a71e6124ce61|53.6486857624155|0.879253900600117 |\n|6453b52f26d1a71e6124ce62|51.8974330698587|-1.64057831174821 |\n|6453b52f26d1a71e6124ce63|51.4130112162052|0.0813730046672143|\n|6453b52f26d1a71e6124ce64|55.7826244597159|-1.89958309132911 |\n|6453b52f26d1a71e6124ce65|51.9251715855348|-2.50507999470767 |\n|6453b52f26d1a71e6124ce66|52.2918854778935|-1.97167759407929 |\n|6453b52f26d1a71e6124ce67|54.8403636027267|-1.36478903883441 |\n|6453b52f26d1a71e6124ce68|52.6971321174423|-0.111767454525473|\n|6453b52f26d1a71e6124ce69|53.0566617126824|-0.15553981089494 |\n|6453b52f26d1a71e6124ce6a|52.8988372634014|-1.41853339786962 |\n|6453b52f26d1a71e6124ce6b|55.717825981325 |0.211642792759744 |\n|6453b52f26d1a71e6124ce6c|52.3840761519566|-0.653960353317823|\n+------------------------+----------------+------------------+\n</code></pre>\n<p>However, I would like to load the data from the collection directly into spark without having to read the extracted documents into a list and iterate through in java to perform the dataframe conversion.\nCurrently though, I am only able to read in the entire collection if I read directly into spark:</p>\n<pre><code>SparkConf conf = new SparkConf();\n    \nconf.set(&quot;spark.master&quot;,&quot;local&quot;);\nconf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\n    \nconf.set(&quot;spark.jars.packages&quot;,&quot;org.mongodb.spark:mongo-spark-connector:10.0.1&quot;);\n\n// Set up read connection :\nconf.set(&quot;spark.mongodb.read.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\nconf.set(&quot;spark.mongodb.read.database&quot;, &quot;ExampleDb&quot;);\nconf.set(&quot;spark.mongodb.read.collection&quot;, &quot;DataPoint&quot;);\n\n// Set up write connection\nconf.set(&quot;spark.mongodb.write.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\nconf.set(&quot;spark.mongodb.write.database&quot;, &quot;ExampleDb&quot;);\nconf.set(&quot;spark.mongodb.write.collection&quot;, &quot;DataPoint&quot;);\n\nSparkContext context = new SparkContext(conf);\nSparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\n\nDataset&lt;Row&gt; dataset = spark.read().format(&quot;mongodb&quot;).load().select(col(&quot;_id&quot;), col(&quot;lat&quot;), col(&quot;lon&quot;));\ndataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\ndataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\ndataset.na().drop();\ndataset.printSchema();\ndataset.show(false);\n</code></pre>\n<p>My questions are:</p>\n<p>What is the most efficient way of reading the desired data into Spark? Should the entire collection be loaded, the repository methods above scrapped, and Spark's functions used to perform the filtering instead, or is there a away to apply mongo's geo functions to the read?<br/>\nIf the former, is there an efficient way to compare lat/lon doubles to a predefined geo polygon and only keep rows in the dataframe where the coordinates lie inside?</p>\n<p>Or, if is still better to keep the repository methods above, is there a more efficient way to convert the list into a dataframe?</p>\n<p>If the answer depends on the volume of data, then I'd certainly want to entertain both approaches and run performance tests myself.</p>\n"},{"answers":[{"answer_id":43317793,"body":"<p>EDIT: Please also refer official documentation</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.first-application.dependencies\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.first-application.dependencies</a></p>\n<p><strong>It provides place for common configuration</strong> for <code>CHILD POM</code>s.\nfor e.g.</p>\n<p><code>Dependencies</code> &amp;\n<code>Properties</code></p>\n<p>For <code>e.g.</code>\nHere is the parent POM configuration <code>1.4.2.RELEASE</code> <code>spring-boot-dependencies</code>\nwhich is parent of <code>spring-boot-starter-parent</code></p>\n<pre><code>&lt;properties&gt;\n    &lt;activemq.version&gt;5.13.4&lt;/activemq.version&gt;\n    &lt;antlr2.version&gt;2.7.7&lt;/antlr2.version&gt;\n    &lt;appengine.version&gt;1.9.44&lt;/appengine.version&gt;\n    &lt;artemis.version&gt;1.3.0&lt;/artemis.version&gt;\n    &lt;aspectj.version&gt;1.8.9&lt;/aspectj.version&gt;\n    &lt;assertj.version&gt;2.5.0&lt;/assertj.version&gt;\n    &lt;atomikos.version&gt;3.9.3&lt;/atomikos.version&gt;\n    &lt;bitronix.version&gt;2.1.4&lt;/bitronix.version&gt;\n    &lt;caffeine.version&gt;2.3.4&lt;/caffeine.version&gt;\n</code></pre>\n<p>common properties for <code>child POM</code>s</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Spring Boot --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n            &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n            &lt;type&gt;test-jar&lt;/type&gt;\n            &lt;version&gt;1.4.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n</code></pre>\n<p>common dependencies for childs</p>\n"},{"answer_id":47977396,"body":"<p>If you can provide more informations, like your pom integrality, we can look futher to inderstand and help you more.</p>\n\n<p>In the other hand, the parent pom spring-boot-starter-parent, contains the full dependencies(mvc, cache, jpa) and commons properties to maintain dependencies versions in a good consistency, to be used in your project or/and submodules.</p>\n\n<p>Basically, you can add some starters in your pom.xml depending on your need (web, jpa, batch....)\nFor your example, you can just add a starter mvc to your pom.xml without adding other dependencies, so your pom.xml can just be like that  :</p>\n\n<pre><code> &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"comments":[{"comment_id":88318360,"body":"my question is that my project is not a spring boot project. but when I remove spring-boot-starter-parent from dependencies, index.jsp give 404 error. why is it that?"}],"answer_id":50636716,"body":"<p>Spring Boot provides a number of “Starters” that let you add jars to your \nclasspath. For ex. spring-boot-starter-security,spring-boot-starter-web etc.\nThe \"spring-boot-starter-parent\" is a special starter that provides useful \nMaven defaults i.e it adds all the required jars and other things \nautomatically. It also provides a dependency-management section so that you \ncan omit version tags for dependencies you are using in pom.xml. For ex. \nsuppose you want to create web application with spring boot so you need to \nadd the following.</p>\n\n<pre><code>&lt;dependencies&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Now note here that  tag is omitted. So ultimately the \n\"spring-boot-starter-parent\" adds so many things by default so we no need to worry about those things.</p>\n"},{"comments":[{"comment_id":134501919,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76270224/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76270224,"body":"<p>Main feature of <code>spring-boot-starter-parent</code> for me is that it provides compatible versions of dependencies.</p>\n<p>It is hard to say what happens without full pom, but as I can suppose you have some conflict in dependencies within your pom, and it is fixed by adding <code>spring-boot-starter-parent</code>.</p>\n"}],"last_activity_date":1684313596,"question_id":43305016,"body":"<p>I'm developing a project which is not Spring boot but also spring mvc. I mean I don't have this class for example in my project:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {           \n      SpringApplication.run(Application.class, args);\n    }\n</code></pre>\n\n<p>I have these three classes for configuration file of spring mvc:</p>\n\n<pre><code>@Import(WebSocketConfig.class)\n@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = \"......\")\n\npublic class MainConfiguration extends WebMvcConfigurerAdapter {\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n        registry.addResourceHandler(\"/Content/**\")\n                .addResourceLocations(\"/Content/\");\n        registry.addResourceHandler(\"/Scripts/**\")\n                .addResourceLocations(\"/Scripts/\");\n\n\n    }\n\n    @Bean\n    public InternalResourceViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver\n                = new InternalResourceViewResolver();\n        viewResolver.setPrefix(\"/\");\n        viewResolver.setSuffix(\".jsp\");\n        return viewResolver;\n    }\n\n}\n</code></pre>\n\n<p>Second:</p>\n\n<pre><code>public class MainInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {\n    public static HashMap&lt;String, String&gt; response_code = new HashMap&lt;String, String&gt;();\n\n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return new Class[] { MainConfiguration.class,\n        WebSocketConfig.class};\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] { \"/\" };\n    }\n\n    @Override\n    public void onStartup(ServletContext servletContext) throws ServletException {\n        super.onStartup(servletContext);\n        Security.addProvider(new BouncyCastleProvider());\n        servletContext.addListener(new MainContextListener());\n        System.out.println(\"MainInitializer.onStartup()\");\n}}\n</code></pre>\n\n<p>Third, </p>\n\n<pre><code>public class MainContextListener implements ServletContextListener {\n\n    public void contextInitialized(ServletContextEvent servletContextEvent) {\n        System.out.println(\"Context Initialized\");\n        Security.addProvider(new BouncyCastleProvider());\n    }\n\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\n        System.out.println(\"Shutting down!\");\n    }\n}\n</code></pre>\n\n<p>There is a controller and jsp file and I've configured it to run on tomcat webserver, something is strange for me is that when I add this snippet of code to my pom, index.jsp will appear in browser exactly but when I remove it , it gives 404 not found url for my controller. why is it that even my project is not a spring boot project need spring boot starter parent? I thought below code is related to spring boot and since my project is not spring boot but spring mvc, doesn't need it. but it has problem without this code added in pom:</p>\n\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n</code></pre>\n"},{"last_activity_date":1684313178,"question_id":76269802,"body":"<p>I'm trying to send an apk file using the spring web client for static analysis to the mobfs api service. But I am getting an error with json response  <code>{&quot;error&quot;: {&quot;file&quot;: &quot;This field is required.&quot;}}</code>.</p>\n<p>This is an example cUrl from doc.</p>\n<blockquote>\n<p>curl -F 'file=@/Users/ajin/Desktop/diva-beta.apk'\nhttp://localhost:8000/api/v1/upload -H\n&quot;X-Mobsf-Api-Key:bbe2a81af7e42b82222bbfe4fcf54d681dbc1ba34ef6d41a17ce1881cfda0709&quot;</p>\n</blockquote>\n<pre><code>  File file = new File(&quot;/light.apk&quot;);\n\n  ContentDisposition contentDisposition = ContentDisposition\n                .builder(&quot;form-data&quot;)\n                .name(&quot;file&quot;)\n                .filename(&quot;light.apk&quot;)\n                .build();\n\n  return webClient.post()\n                .uri(UPLOAD_FILE_URL)\n                .header(&quot;Content-Disposition&quot;, contentDisposition.toString())\n                .contentType(MediaType.MULTIPART_FORM_DATA)\n                .body(BodyInserters.fromMultipartData(fromFile(file)))\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n\n    }\n\n    public MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; fromFile(File file) {\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\n        builder.part(&quot;file&quot;, new FileSystemResource(file));\n        return builder.build();\n    }\n</code></pre>\n<p>Logs:</p>\n<p><a href=\"https://i.stack.imgur.com/LDscL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LDscL.png\" alt=\"logs\" /></a></p>\n<p>What am I doing wrong?</p>\n"},{"comments":[{"comment_id":93112673,"body":"<code>Optional#ofNullable</code>, or better yet you can do some actions if the key is absent e.g. <code>Map#computeIfAbsent</code>"},{"comment_id":93112696,"body":"but think of that null a little, <code>null</code> might mean value not present or key <i>actually</i> mapped to null, depends of your map and application"},{"comment_id":93112730,"body":"@Eugene - Thanks. Yup, I am constructing the map myself from a stream so if the value doesn&#39;t exist then the entry would never have existed either. Still, I&#39;m trying to cover all null cases."}],"answers":[{"answer_id":53108695,"body":"<p>Why not simply:</p>\n\n<pre><code>return Optional.ofNullable(myMap.get(myKey));\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-\" rel=\"noreferrer\">JavaDocs</a></p>\n"},{"answer_id":53108790,"body":"<p>This</p>\n\n<pre><code>Optional.of(myMap.getOrDefault(myKey, null));\n</code></pre>\n\n<p>or really</p>\n\n<pre><code>Optional.of(null);\n</code></pre>\n\n<p>would've failed with a <code>NullPointerException</code>. As the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#of(T)\" rel=\"noreferrer\">javadoc</a> states</p>\n\n<blockquote>\n  <p>Throws:<br>\n  <strong>NullPointerException</strong> - if <code>value</code> is null</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#ofNullable(T)\" rel=\"noreferrer\"><code>Optional#ofNullable</code></a> exists when you don't know if the value you're passing to it is <code>null</code> or not:</p>\n\n<blockquote>\n  <p><strong>Parameters</strong>:<br>\n  <code>value</code> - the possibly-null value to describe</p>\n</blockquote>\n\n<p>And since <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#get(java.lang.Object)\" rel=\"noreferrer\"><code>Map#get(Object)</code></a> already returns <code>null</code> when there is no entry for the given key</p>\n\n<blockquote>\n  <p><strong>Returns</strong>:<br>\n  the value to which the specified key is mapped, or <code>null</code> if\n  this map contains no mapping for the key</p>\n</blockquote>\n\n<p>you don't need to use <code>getOrDefault</code> with a <code>null</code> value for the default. You can instead directly use</p>\n\n<pre><code>Optional.ofNullable(myMap.get(myKey));\n</code></pre>\n"},{"comments":[{"comment_id":114957221,"body":"very bad idea as this does not leverage the map&#39;s index and do a full map scan"}],"answer_id":64483909,"body":"<p>Functional and definitely too long solution:</p>\n<pre><code>myMap.entrySet().stream()\n  .filter(it -&gt; it.getKey().equals(myKey))\n  .findFirst()\n  .map(Map.Entry::getValue);\n</code></pre>\n"},{"answer_id":76270158,"body":"<p>If the map contains a null value, the <code>Optional.ofNullable(...)</code> solution won't work. You need to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myMap.containsKey(myKey) ? Optional.of(myMap.get(myKey)) : Optional.empty();\n</code></pre>\n<p>It's annoying to have to check the map twice, but there doesn't seem to be a better way.</p>\n"}],"last_activity_date":1684313126,"question_id":53108676,"body":"<p>I'm trying to do this:</p>\n\n<pre><code>return Optional.of(myMap.getOrDefault(myKey, null));\n</code></pre>\n\n<p>Really, what I want is to return an <code>Optional.of(foundVal)</code> if found, otherwise <code>Optional.empty()</code>. I don't believe <code>Optional.of(null)</code> equates to that. What syntax does what I want to do?</p>\n\n<p>That is, how can I get a map <code>get</code> to return a proper <code>Optional</code>?</p>\n"},{"last_activity_date":1684312730,"question_id":76269533,"body":"<pre><code>12:43:08.877 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed org.springframework.boot.context.config.InvalidConfigDataPropertyException: Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with \n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n   profiles:\n      active: test\n---\n  spring:\n     profiles: dev\n        \n     datasource:\n        driver-class-name: com.mysql.cj.jdbc.Driver\n        password: root\n        type: org.apache.commons.dbcp2.BasicDataSource\n        url: jdbc:mysql:///ntspbms615db\n        username: root\n---    \n  spring: \n     profiles: prod\n     \n     datasource:\n        driver-class-name: oracle.jdbc.driver.OracleDriver\n        password: sam\n        url: jdbc:oracle:thin:@localhost:1521:orcl\n        username: mydb6pm\n     \n---\n  spring:\n     profiles: test\n     \n     datasource:\n           driver-class-name: com.mysql.cj.jdbc.Driver\n           password: root\n           type: org.apache.tomcat.jdbc.pool.DataSource\n           url: jdbc:mysql:///ntspbms615db\n           username: root        \n           \n---    \n   spring:\n      profiles: uat\n      datasource:\n         driver-class-name: oracle.jdbc.driver.OracleDriver\n         password: sam\n         url: jdbc:oracle:thin:@localhost:1521:orcl\n         username: mydb6pm       \n           \n</code></pre>\n<p>getting the above error in eclipse ide by specifying spring profiles in single yml file.</p>\n"},{"comments":[{"comment_id":134497380,"body":"What have you tried for yourself? How would you approach this problem?"},{"comment_id":134497395,"body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#retainAll-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>retainAll</code></a>"},{"comment_id":134497673,"body":"You somehow retyped your last two paragraphs. I think you wanted to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> instead and show why your attempts did not work. Must have been lost and overwritten by a bad copy-paste. Additionally, you forgot to mention if you consider your two lists to be &quot;same&quot; (do you want the result to be true or false)?"}],"answers":[{"answer_id":76269720,"body":"<p>This methods return true if at least one string is contained in both lists</p>\n<pre><code>boolean bothContain(List list, List list1){\n    for(String text : list){\n        for(String text1 : list1){\n             if(text.equals(text1)){\n                 return true;\n             }\n        }\n    }\n\n    return false;\n}\n</code></pre>\n"},{"answer_id":76269744,"body":"<p>Iterate over one <code>listA</code> while checking the <code>contains</code> method of <code>listB</code>.</p>\n<pre><code>boolean containsMatch(List&lt;String&gt; listA, List&lt;String&gt; listB) {\n    for (String string : listA) {\n        if (listB.contains(string))\n            return true;\n    }\n    return false;\n}\n</code></pre>\n<p>Or, I guess an even broader approach would be to use a generic.</p>\n<pre><code>&lt;T&gt; boolean containsMatch(List&lt;T&gt; listA, List&lt;T&gt; listB) {\n    for (T type : listA) {\n        if (listB.contains(type))\n            return true;\n    }\n    return false;\n}\n</code></pre>\n"}],"last_activity_date":1684312725,"question_id":76269395,"body":"<p>example there is this string below :--</p>\n<pre><code>List&lt;String&gt; somestring = ['french', 'spanish'];\n\nList&lt;String&gt; somestring1 = ['french', 'english'];\n</code></pre>\n<p>How to compare and check if first list has values of another list</p>\n<p>like this boolean whetherSameList = comparison --&gt; true or false</p>\n"},{"last_activity_date":1684312660,"question_id":76270093,"body":"<p>I am having <code>io.mockk.MockKException: Missing calls inside every { ... } block.</code> exception from the test below. The weird part is I am not getting this error when the class run by itself. The error occurs if I run this test class with others. I don't have any static fields in the other class and I am sure all fields created as <code>MoneyCalculator</code> are private and cannot be reached from other classes.</p>\n<p>The Error occurs when mocking <code>moneyCalculator</code>, is there any idea about why this error occurs?</p>\n<pre><code>class AccountingJournalLineItemServiceTest : AbstractAccountingUnitTest() {\n\n    @MockK\n    private lateinit var moneyCalculator: MoneyCalculator\n\n    @InjectMockKs\n    private lateinit var service: Service\n\n    @Test\n    fun testCreateResponsePayload_whenNoEntryFound() {\n     // Other mocks\n\n        every { // Here error occurs\n            moneyCalculator.sum(emptyList&lt;AccountingJournalLineMoney&gt;())\n        } returns Money(\n            creditAmount = BigDecimal.ZERO,\n            debitAmount = BigDecimal.ZERO,\n            currency = Currency.AED\n        )\n\n        val actual = service.getJournalLinesAsResponsePayload(\n            &quot;company&quot;.Id,\n            &quot;sync&quot;.Id,\n            mockk()\n        )\n    }\n\n}\n\n\n\nopen class AbstractAccountingUnitTest {\n\n    protected val companyId = &quot;company&quot;.Id\n    protected val regularCycleId = &quot;regularCycle&quot;.Id\n    protected val synchronizationId = &quot;synchronization&quot;.Id\n\n    @BeforeEach\n    open fun setup() {\n        MockKAnnotations.init(this)\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":127881327,"body":"weird, <a href=\"https://developer.android.com/reference/android/Manifest.permission#POST_NOTIFICATIONS\" rel=\"nofollow noreferrer\">it is there</a>. try to restart your Android Studio with cache cleaning (File -&gt;Invalidate caches -&gt; Invalidate and Restart button)"},{"comment_id":127881420,"body":"Does there any role for the Gradle version here?"}],"answers":[{"comments":[{"comment_id":127887620,"body":"<b>Note:</b> As of 26-05-2022 android 13 is not yet stable"},{"comment_id":129783294,"body":"Just thought it saved my day in advance. Thanks for this."},{"comment_id":131849492,"body":"This did not work for me..."}],"answer_id":72390497,"body":"<pre><code>     android {\n     namespace 'com.example.myapplication'\n    compileSdkVersion 33//update this\n\n     defaultConfig {\n        applicationId &quot;com.example.myapplication&quot;\n        minSdk 23\n        targetSdkVersion 33//update this\n        versionCode 1\n        versionName &quot;1.0&quot;\n        \n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n</code></pre>\n"},{"comments":[{"comment_id":132643231,"body":"Android TiramisuPrivacy Sandbox Preview is not needed.  Try to File -&gt; Invalidate Caches..."}],"answer_id":73110837,"body":"<p>I faced the same problem, </p>\n<p><b>Steps to fix :</b></p>\n<p><b>Install SDK Platforms</b>\n<code>SDK Platform 33</code>\n<code>Android TiramisuPrivacy Sandbox Preview</code></p>\n<p><a href=\"https://i.stack.imgur.com/Slaqn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Slaqn.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Install SDK Tools :</strong>\nAndroid SDK build Tools 33\n<a href=\"https://i.stack.imgur.com/f6tbH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f6tbH.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":131849387,"body":"This did not work for me."},{"comment_id":131851064,"body":"Did you install the Android API 33 SDK?"},{"comment_id":131863294,"body":"Oh yes, that is definately installed."},{"comment_id":131865235,"body":"Well, I can&#39;t definately help if you don&#39;t provide additional info."},{"comment_id":131865700,"body":"Btw, it does work now, it was a typo."},{"comment_id":131866426,"body":"I&#39;m glad you solved your problem. And, yeah, tone is hard to decipher online."}],"answer_id":73274269,"body":"<p>I solved it by using <em>compileSdkVersion 33</em> in the gradle file at the Module level. Then it allowed me to use the POST_NOTIFICATIONS permission without any issue.\n<a href=\"https://i.stack.imgur.com/goHdh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/goHdh.png\" alt=\"Gradle Settings\" /></a></p>\n"},{"comments":[{"comment_id":133796382,"body":"I wonder why Android Studio doesn&#39;t provide a quick action to add the import for us."},{"comment_id":134083250,"body":"Android Studio also sees a Manifest class for your apps package, so doesn&#39;t see it as a missing import."}],"answer_id":73806774,"body":"<p>Just add this import:</p>\n<pre><code>import android.Manifest\n</code></pre>\n"},{"answer_id":75176662,"body":"<p>Set <strong>targetSDKVersion</strong> to <em><strong>33</strong></em>.</p>\n<p>If for some reason it complains about your minimum supported and you're in no position to update, use the following instead:</p>\n<pre><code>NotificationManagerCompat.from(this).areNotificationsEnabled()\n</code></pre>\n"},{"answer_id":75921110,"body":"<p>You need to prefix the Manifest statement with android., e.g.,</p>\n<pre><code>            if (ContextCompat.checkSelfPermission(this, android.Manifest.permission.POST_NOTIFICATIONS) ==\n                PackageManager.PERMISSION_GRANTED)\n</code></pre>\n"},{"comments":[{"comment_id":134443026,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76237494/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76237494,"body":"<p>just import\n<code>import android.Manifest.permission.POST_NOTIFICATIONS as POST_NOTIFICATIONS</code>\nand use as\n<code>ContextCompat.checkSelfPermission(context, POST_NOTIFICATIONS)</code>\nit's work perfectly</p>\n"},{"answer_id":76270073,"body":"<p>if you are coming here for a react-native that uses 'react-native-gesture-handler' this is because react-native-gesture-handler has a new 2.10.0 version, if you downgrade it to 2.9.0 it should work</p>\n"}],"last_activity_date":1684312476,"question_id":72388741,"body":"<p>Trying to implement the notification permission for android 13 or &quot;Tiramisu&quot; but failed to get the import for that permission.</p>\n<p>Currently:\ntargeted SDK version is 32\ncompile SDK version is 32</p>\n<p>I've declared it also in manifiest as below:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;\n</code></pre>\n<p>import i'm using:</p>\n<pre><code>import android.Manifest\n</code></pre>\n<ul>\n<li>But even not getting import in my fragment.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ozyhp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ozyhp.png\" alt=\"enter image description here\" /></a></p>\n"},{"last_activity_date":1684312014,"question_id":76268037,"body":"<p>I have old project and whenever I run the command like <code>mvn clean install</code> or <code>mvn datanucleus:enchance</code> I am getting errors like</p>\n<blockquote>\n<p>Failed to execute goal\norg.datanucleus:maven-datanucleus-plugin:3.1.1:enhance (default) on\nproject springboot-appengine-standard: Execution default of goal\norg.datanucleus:maven-datanucleus-plugin:3.1.1:enhance failed: A\nrequired class was missing while executing\norg.datanucleus:maven-datanucleus-plugin:3.1.1:enhance:\njava/sql/SQLException</p>\n</blockquote>\n<p>I have the following pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.google.appengine.demos&lt;/groupId&gt;\n&lt;artifactId&gt;springboot-appengine-standard&lt;/artifactId&gt;\n&lt;version&gt;1&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;name&gt;springboot-appengine-standard&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n \n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;spring.boot.version&gt;2.1.1.RELEASE&lt;/spring.boot.version&gt; &lt;!-- DO NOT UPDATE w/o MANUAL TESTING --&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n\n\n    &lt;datanucleus.version&gt;3.1.3&lt;/datanucleus.version&gt;\n    &lt;datanucleus.plugin.version&gt;3.1.1&lt;/datanucleus.plugin.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        \n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--  Securtiy Start.. --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-commons-core&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;5.1.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20230227&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\n        &lt;version&gt;1.42.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;1.47.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\n        &lt;version&gt;v3-rev188-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-admin-directory&lt;/artifactId&gt;\n        &lt;version&gt;directory_v1-rev110-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n        &lt;version&gt;1.30.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\n        &lt;version&gt;v4-rev581-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client-jackson&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine.orm&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-appengine&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.9.75&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;\n        &lt;version&gt;1.9.75&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\n        &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-api-jpa&lt;/artifactId&gt;\n        &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n        &lt;artifactId&gt;geronimo-jpa_2.0_spec&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-api-jdo&lt;/artifactId&gt;\n        &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-endpoints-deps&lt;/artifactId&gt;\n        &lt;version&gt;1.9.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.jdo&lt;/groupId&gt;\n        &lt;artifactId&gt;jdo-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;merchantsdk&lt;/artifactId&gt;\n        &lt;version&gt;2.15.122&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;permissionssdk&lt;/artifactId&gt;\n        &lt;version&gt;2.4.109&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- Import dependency management from Spring Boot --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- [START cloudplugin] --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- [END cloudplugin] --&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\n                        &lt;goal&gt;display-plugin-updates&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;javax.servlet:javax.servlet-api&lt;/exclude&gt;\n                    &lt;exclude&gt;com.google.guava:guava&lt;/exclude&gt; \n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-datanucleus-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${datanucleus.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;api&gt;JDO&lt;/api&gt;\n                &lt;props&gt;${basedir}/datanucleus.properties&lt;/props&gt;\n                &lt;fork&gt;false&lt;/fork&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;enhance&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n                    &lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\n                    &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I have the following datanucleus.properties file:</p>\n<pre><code>javax.jdo.option.ConnectionDriverName=org.apache.derby.jdbc.EmbeddedDriver\njavax.jdo.option.ConnectionURL=jdbc:derby:eg;create=true \njavax.jdo.option.ConnectionUserName=root\njavax.jdo.option.ConnectionPassword=root\n\ndatanucleus.autoCreateTables=true\ndatanucleus.autoCreateSchema=true\ndatanucleus.autoCreateColumns=true\ndatanucleus.autoCreateConstraints=true\ndatanucleus.RetainValues=true\n</code></pre>\n<p>I have tried updating the maven-datanucleus-plugin to different version. But, it didn't work. <strong>How can I solve the above issue?</strong></p>\n"},{"comments":[{"comment_id":134498623,"body":"You forgot to add a question / problem?"}],"last_activity_date":1684311828,"question_id":76269977,"body":"<p>//Delete from folder with to date and from date springbootDelete from folder with to date and from date springbootDelete from folder with to date and from date springboot</p>\n<pre><code>import java.io.File;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\npublic class FileDeletionExample {\n\n    public static void main(String[] args) {\n        String folderPath = &quot;path/to/folder&quot;; // Specify the folder path\n        Date fromDate = /* specify the start date */;\n        Date toDate = /* specify the end date */;\n\n        File folder = new File(folderPath);\n        File[] files = folder.listFiles();\n\n        if (files != null) {\n            for (File file : files) {\n                if (file.isFile()) {\n                    Date lastModifiedDate = new Date(file.lastModified());\n\n                    if (lastModifiedDate.after(fromDate) &amp;&amp; lastModifiedDate.before(toDate)) {\n                        if (file.delete()) {\n                            System.out.println(&quot;Deleted file: &quot; + file.getName());\n                        } else {\n                            System.out.println(&quot;Failed to delete file: &quot; + file.getName());\n                        }\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"answers":[{"answer_id":76269957,"body":"<p>Thanks for reporting this. I've opened the following issue:</p>\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-16619\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-16619</a></p>\n<p>The workaround, of course, is to rename the field to something that complies with standard Java naming conventions.</p>\n"}],"last_activity_date":1684311685,"question_id":76268282,"body":"<p>I am migrating from spring boot 2.7(hibernate 5.x) to spring boot 3.0(hibernate 6.x).\nMy database is Oracle 19c and I am using OracleDialect.</p>\n<p>Problem is some of our entities in our legacy code have underscores as prefix for jpa entity fields.\nWhat is happening is newer version of hibernate is prefixing the underscore to the generated queries which is a syntax error, it used to work fine in older version but not working in hibernate 6.x, and we cant rename the field names for now.</p>\n<p>My entity look something like this:</p>\n<pre><code>@Entity(&quot;Tree&quot;)\n@Table(&quot;TREE&quot;)\nclass Tree {\n    @Id\n    @Column(&quot;id&quot;)\n    int id;\n\n    @Column(&quot;PARENT_NODE_ID&quot;)\n    int parentId;\n\n    @ManyToOne(cascade={CascadeType.ALL}, fetch = FetchType.EAGER)\n    @JoinColumn(name=&quot;PARENT_NODE_ID&quot;, insertable = false, updatable = false)\n    private Tree _parent;\n}\n</code></pre>\n<p>In this case the generated query will look something like this:</p>\n<pre><code>select blah blah from TREE t inner join TREE  _1_a   on t.PARENT_NODE_ID = _1_a.ID\n</code></pre>\n<p>Here you can notice how '_1_a' was generated as alias for table TREE which is a syntax error since database doesn't support _ as prefix.</p>\n"},{"answers":[{"answer_id":76269912,"body":"<p>&quot;compile&quot; configuration is no longer used in Gradle (since Gradle 7.0)</p>\n<p>Try replacing</p>\n<pre><code>compile 'org.json:json:20210307'\n</code></pre>\n<p>with</p>\n<pre><code>implementation(&quot;org.json:json:20210307&quot;)\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/23796404/could-not-find-method-compile-for-arguments-gradle\">this topic</a> for more info.</p>\n"}],"last_activity_date":1684311300,"question_id":76269125,"body":"<p>im using gradle and trying to reload my plugin but i cant seem to get it to work.\nHere is the gradle file. when i click the reload button on gradle it gives this error:</p>\n<p>Failed to process the entry 'org/gradle/internal/impldep/com/amazonaws/services/kms/model/transform/CreateGrantRequestProtocolMarshaller.class' from '/Applications/IntelliJ IDEA CE.app/Contents/plugins/gradle/lib/gradle-api-impldep-8.0.jar'</p>\n<p>This is the build.gradle file</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup = 'org.centoricraft'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n    maven { url = &quot;https://repo.codemc.org/repository/maven-public/&quot; }\n    maven {\n        name = &quot;spigotmc-repo&quot;\n        url = &quot;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&quot;\n    }\n    maven {\n        name = &quot;sonatype&quot;\n        url = &quot;https://oss.sonatype.org/content/groups/public/&quot;\n    }\n    maven {\n        url = uri(&quot;https://repo.opencollab.dev/main&quot;)\n    }\n}\n\ndependencies {\n    compileOnly &quot;dev.jorel:commandapi-bukkit-core:9.0.1&quot;\n    compileOnly &quot;org.spigotmc:spigot-api:1.19.4-R0.1&quot;\n    compileOnly(&quot;org.geysermc.floodgate:api:2.2.2-SNAPSHOT&quot;)\n    compile 'org.json:json:20210307'\n}\n\ndef targetJavaVersion = 17\njava {\n    def javaVersion = JavaVersion.toVersion(targetJavaVersion)\n    sourceCompatibility = javaVersion\n    targetCompatibility = javaVersion\n    if (JavaVersion.current() &lt; javaVersion) {\n        toolchain.languageVersion = JavaLanguageVersion.of(targetJavaVersion)\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    if (targetJavaVersion &gt;= 10 || JavaVersion.current().isJava10Compatible()) {\n        options.release = targetJavaVersion\n    }\n}\n\nprocessResources {\n    def props = [version: version]\n    inputs.properties props\n    filteringCharset 'UTF-8'\n    filesMatching('plugin.yml') {\n        expand props\n    }\n}\n\n</code></pre>\n"},{"comments":[{"comment_id":71235300,"body":"This article here offers a quick implementation of such a class: <a href=\"http://www.javaworld.com/article/2077706/core-java/named-parameters-for-preparedstatement.html\" rel=\"nofollow noreferrer\">javaworld.com/article/2077706/core-java/&hellip;</a>"},{"comment_id":100614762,"body":"<code>I think Oracle JDBC driver supports calling regular SQL statements with named parameters when using CallableStatement</code>."}],"answers":[{"comments":[{"comment_id":2277361,"body":"Thanks - but I can&#39;t use springs, because I can&#39;t make that much change to existing codebase :("},{"comment_id":2277388,"body":"the point that @Malax is making is that you can use the NamedParameterJdbcTemplate from spring standalone. You wouldn&#39;t have to change any other parts of the code base."},{"comment_id":6133736,"body":"But you have to include many Spring JARs into your project, just to use a few classes related to the NamedParameterJdbcTemplate. It&#39;s pitty the org.springframework.jdbc.jar cannot be used standalone."},{"comment_id":52129150,"body":"UnZip the jar file - and copy the class files that you want into your project. Voila.."},{"comment_id":74783663,"body":"the <code>spring-jdbc</code> module depends on <code>spring-core</code>, <code>spring-framework</code>, and <code>spring-tx</code>.  <code>NamedParameterJdbcTemplate</code> would require some rewriting to use standalone.  <a href=\"https://repo1.maven.org/maven2/org/springframework/spring-jdbc/4.3.8.RELEASE/spring-jdbc-4.3.8.RELEASE.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/springframework/spring-jdbc/&hellip;</a>"},{"comment_id":126863314,"body":"Apparently it &quot;does&quot; support them? <a href=\"https://stackoverflow.com/a/2310045/32453\">stackoverflow.com/a/2310045/32453</a>"}],"answer_id":2309984,"body":"<p>JDBC does not support named parameters. Unless you are bound to using plain JDBC (which causes pain, let me tell you that) I would suggest to use Springs Excellent JDBCTemplate which can be used without the whole IoC Container.</p>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jdbc/core/namedparam/NamedParameterJdbcTemplate.html\" rel=\"noreferrer\">NamedParameterJDBCTemplate</a> supports named parameters, you can use them like that:</p>\n\n<pre><code> NamedParameterJdbcTemplate jdbcTemplate = new NamedParameterJdbcTemplate(dataSource);\n\n MapSqlParameterSource paramSource = new MapSqlParameterSource();\n paramSource.addValue(\"name\", name);\n paramSource.addValue(\"city\", city);\n jdbcTemplate.queryForRowSet(\"SELECT * FROM customers WHERE name = :name AND city = :city\", paramSource);\n</code></pre>\n"},{"answer_id":2309993,"body":"<p>You can't use named parameters in JDBC itself. You could try using Spring framework, as it has some extensions that allow the use of named parameters in queries.</p>\n"},{"comments":[{"comment_id":28232795,"body":"Yes it is right, but not all db&#39;s support this feature. I tested on postgresql it does not work."},{"comment_id":31739359,"body":"Yes, obviously the database has to support named parameters first...and it appears postgres does not.  The question implies their DB does support this, and wants to understand how to use the feature in JDBC."}],"answer_id":2310045,"body":"<p>Vanilla JDBC only supports named parameters in a <code>CallableStatement</code> (e.g. <code>setString(\"name\", name)</code>), and even then, I suspect the underlying stored procedure implementation has to support it.</p>\n\n<p>An example of how to use named parameters:</p>\n\n<pre><code>//uss Sybase ASE sysobjects table...adjust for your RDBMS\nstmt = conn.prepareCall(\"create procedure p1 (@id int = null, @name varchar(255) = null) as begin \"\n        + \"if @id is not null \"\n        + \"select * from sysobjects where id = @id \"\n        + \"else if @name is not null \"\n        + \"select * from sysobjects where name = @name \"\n        + \" end\");\nstmt.execute();\n\n//call the proc using one of the 2 optional params\nstmt = conn.prepareCall(\"{call p1 ?}\");\nstmt.setInt(\"@id\", 10);\nResultSet rs = stmt.executeQuery();\nwhile (rs.next())\n{\n    System.out.println(rs.getString(1));\n}\n\n\n//use the other optional param\nstmt = conn.prepareCall(\"{call p1 ?}\");\nstmt.setString(\"@name\", \"sysprocedures\");\nrs = stmt.executeQuery();\nwhile (rs.next())\n{\n    System.out.println(rs.getString(1));\n}\n</code></pre>\n"},{"comments":[{"comment_id":9890189,"body":"<code>NamedParameterStatement</code> is not a class in the Java API."},{"comment_id":10096615,"body":"True. Here is link to it: <a href=\"http://www.javaworld.com/javaworld/jw-04-2007/jw-04-jdbc.html\" rel=\"nofollow noreferrer\">javaworld.com/javaworld/jw-04-2007/jw-04-jdbc.html</a>"},{"comment_id":131319952,"body":"Link provided by @kovica is now dead. You can find its content there: <a href=\"https://www.infoworld.com/article/2077706/named-parameters-for-preparedstatement.html\" rel=\"nofollow noreferrer\">infoworld.com/article/2077706/&hellip;</a>"}],"answer_id":7940495,"body":"<p>Plain vanilla JDBC does not support named parameters.</p>\n<p>If you are using DB2 then using DB2 classes directly:</p>\n<ol>\n<li><a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.apdv.java.doc/src/tpc/imjcc_t0054762.html\" rel=\"nofollow noreferrer\">Using named parameter markers with PreparedStatement objects</a></li>\n<li><a href=\"http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.apdv.java.doc/src/tpc/imjcc_t0054764.html\" rel=\"nofollow noreferrer\">Using named parameter markers with CallableStatement objects</a></li>\n</ol>\n<p>EDIT: New links for Db2 v11.5:</p>\n<ol>\n<li><a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=applications-using-named-parameter-markers-preparedstatement-objects\" rel=\"nofollow noreferrer\">Using named parameter markers with PreparedStatement objects</a></li>\n<li><a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=applications-using-named-parameter-markers-callablestatement-objects\" rel=\"nofollow noreferrer\">Using named parameter markers with CallableStatement objects</a></li>\n</ol>\n<p>EDIT 2: New links for Db2 on z/OS (v13)</p>\n<ol>\n<li><a href=\"https://www.ibm.com/docs/en/db2-for-zos/13?topic=applications-using-named-parameter-markers-preparedstatement-objects\" rel=\"nofollow noreferrer\">Using named parameter markers with PreparedStatement objects</a></li>\n<li><a href=\"https://www.ibm.com/docs/en/db2-for-zos/13?topic=applications-using-named-parameter-markers-callablestatement-objects\" rel=\"nofollow noreferrer\">Using named parameter markers with Callable Statement objects</a></li>\n</ol>\n"},{"comments":[{"comment_id":33341194,"body":"I used yours with a few small modifications. `     Pattern findParametersPattern = Pattern.compile(&quot;(?&lt;!&#39;)(:[\\\\w]*)(?!&#39;)&quot;);      Matcher matcher = findParametersPattern.matcher(statementWithNames);     while (matcher.find()) {       fields.add(matcher.group().substring(1));     }      prepStmt = conn.prepareStatement(statementWithNames.replaceAll(findPara&zwnj;&#8203;metersPattern.patter&zwnj;&#8203;n(), &quot;?&quot;));"},{"comment_id":36243396,"body":"think I&#39;m going to do something similar.  I reckon it&#39;d be nicer to override the indexer for this though"},{"comment_id":65343208,"body":"@WillieT Pattern <code>(?!\\\\B&#39;[^&#39;]*)(:\\\\w+)(?![^&#39;]*&#39;\\\\B)</code> works better for me."},{"comment_id":69557293,"body":"gist for code of @WillieT <a href=\"https://gist.github.com/ruseel/e10bd3fee3c2b165044317f5378c7446\" rel=\"nofollow noreferrer\">gist.github.com/ruseel/e10bd3fee3c2b165044317f5378c7446</a>"},{"comment_id":113458536,"body":"that gist could well improve. indexof for getting the index ?"},{"comment_id":113991703,"body":"I would also recommend adding <code>implements AutoClosable</code> (req java7+)"},{"comment_id":117057559,"body":"Using <code>(?&lt;!&#39;)(:[\\w]+)(?!&#39;)</code> makes you able to use format functions like <code>%H:%i:%s</code>. Using zero or many can generate empty fields."}],"answer_id":20644736,"body":"<p>To avoid including a large framework, I think a simple homemade class can do the trick.</p>\n\n<p>Example of class to handle named parameters:</p>\n\n<pre><code>public class NamedParamStatement {\n    public NamedParamStatement(Connection conn, String sql) throws SQLException {\n        int pos;\n        while((pos = sql.indexOf(\":\")) != -1) {\n            int end = sql.substring(pos).indexOf(\" \");\n            if (end == -1)\n                end = sql.length();\n            else\n                end += pos;\n            fields.add(sql.substring(pos+1,end));\n            sql = sql.substring(0, pos) + \"?\" + sql.substring(end);\n        }       \n        prepStmt = conn.prepareStatement(sql);\n    }\n\n    public PreparedStatement getPreparedStatement() {\n        return prepStmt;\n    }\n    public ResultSet executeQuery() throws SQLException {\n        return prepStmt.executeQuery();\n    }\n    public void close() throws SQLException {\n        prepStmt.close();\n    }\n\n    public void setInt(String name, int value) throws SQLException {        \n        prepStmt.setInt(getIndex(name), value);\n    }\n\n    private int getIndex(String name) {\n        return fields.indexOf(name)+1;\n    }\n    private PreparedStatement prepStmt;\n    private List&lt;String&gt; fields = new ArrayList&lt;String&gt;();\n}\n</code></pre>\n\n<p>Example of calling the class:</p>\n\n<pre><code>String sql;\nsql = \"SELECT id, Name, Age, TS FROM TestTable WHERE Age &lt; :age OR id = :id\";\nNamedParamStatement stmt = new NamedParamStatement(conn, sql);\nstmt.setInt(\"age\", 35);\nstmt.setInt(\"id\", 2);\nResultSet rs = stmt.executeQuery();\n</code></pre>\n\n<p>Please note that the above simple example does not handle using named parameter twice. Nor does it handle using the : sign inside quotes.</p>\n"}],"last_activity_date":1684311280,"question_id":2309970,"body":"<p>Are there named parameters in JDBC instead of positional ones, like the <code>@name</code>, <code>@city</code> in the ADO.NET query below?</p>\n\n<pre><code>select * from customers where name=@name and city = @city\n</code></pre>\n"},{"answers":[{"answer_id":76269887,"body":"<p>Assuming that this is Hibernate <strong>6</strong> (you have not stated), the annotation you're looking for is <code>@Generated</code>, and it's documented here:</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/Generated.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/Generated.html</a></p>\n<p>I also tweeted an example almost exactly like yours here:</p>\n<p><a href=\"https://twitter.com/1ovthafew/status/1645796021585457153\" rel=\"nofollow noreferrer\">https://twitter.com/1ovthafew/status/1645796021585457153</a></p>\n<p>So, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \n@Entity\npublic class Entity {\n        \n    @Generated @Id\n    @ColumnDefault(&quot;gen_random_uuid()&quot;)\n    @Column(name = &quot;id_assignment&quot;)\n    UUID idAssignment;\n}\n</code></pre>\n<p>should work.</p>\n"},{"answer_id":76269904,"body":"<p>You should use the annotation <code>@GenerateValue</code> to let JPA not use the default generate strategy.</p>\n<p>The documentation is here: <a href=\"https://www.baeldung.com/hibernate-identifiers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-identifiers</a></p>\n"}],"last_activity_date":1684311261,"question_id":76269793,"body":"<p>I would very much appreciate your advice on the JPA. We have a database (PostgreSQL engine), and for tables it happens that a column has its DEFAULT. The database is connected to a Java backend (with JPA and Hibernate). What is the correct way to force JPA not to try to insert IDs for the primary keys that are generated by the table column DEFAULT?</p>\n<p>I've tried the settings below, but unfortunately I'm having no luck:</p>\n<p><a href=\"https://i.stack.imgur.com/LeXto.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LeXto.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you in advance for any advice 🙂</p>\n<p>I tried to search for a solution on the internet and in the documentation, but unfortunately, without success.</p>\n"},{"last_activity_date":1684311129,"question_id":76263843,"body":"<p>I use ReactiveFeignClient and get metrics like:</p>\n<pre><code>http_client_requests_seconds_sum{client_name=&quot;client.com&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/private/v2/45&quot;,} 0.169814041\n</code></pre>\n<p>But I cannot aggregate it because I get different values each time as a path variable.</p>\n<p>How to get metrics templated? I expect:</p>\n<pre><code>http_client_requests_seconds_sum{client_name=&quot;client.com&quot;,method=&quot;GET&quot;,outcome=&quot;SUCCESS&quot;,status=&quot;200&quot;,uri=&quot;/private/v2/{id}&quot;,} 0.169814041\n</code></pre>\n"},{"last_activity_date":1684310878,"question_id":76269846,"body":"<p>I was Upgrading my project to spring boot 2x to spring boot 3.</p>\n<p>So for that currently i was upgrading spring security 6.I configured my custom ldap authentication for LDAP.Previously in spring security 5 ,it was worked fine.But now spring security 6 my customldap authentication can't recognized by spring boot.It was given the default spring security generated password.</p>\n<p>Anyone pleas help me to resolve this.</p>\n<p>Here I attached my old code worked fine in spring security 6.Now it was not recognized and generated default password.</p>\n<p>(<a href=\"https://i.stack.imgur.com/VKIHk.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/VKIHk.png</a>)</p>\n"},{"comments":[{"comment_id":125061800,"body":"You can&#39;t use specification as a regular argument to any custom method. Specification should be used in <code>List&lt;T&gt; findAll(Specification&lt;T&gt; spec);</code> or <code>Page&lt;T&gt; findAll(Specification&lt;T&gt; spec, Pageable pageable);</code> methods inherited from <code>JpaSpecificationExecutor</code> interface"}],"answers":[{"answer_id":31040326,"body":"<p>if you have Specification spec in there you will need to refer it somewhere in your query... the important thing is that it seems like when you have a pageable there then the counter doesnt start at ?0 but at ?1</p>\n\n<p>so something like this should work</p>\n\n<pre><code> @Query( value = \n    \"from FamousExperience f where f.spec = ?1\"\n    ,countQuery =\"select count(f.id) from FamousExperience f\")\n</code></pre>\n"}],"last_activity_date":1684310715,"question_id":27936905,"body":"<p>I am using <strong>spring-data-jpa</strong>+<strong>hibernate</strong>.\n1.I run into below exception\n......</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Parameter with that position [1] did not exist\n    at org.hibernate.jpa.spi.BaseQueryImpl.findParameterRegistration(BaseQueryImpl.java:518) ~[BaseQueryImpl.class:4.3.7.Final]\n    at org.hibernate.jpa.spi.BaseQueryImpl.setParameter(BaseQueryImpl.java:674) ~[BaseQueryImpl.class:4.3.7.Final]\n    at org.hibernate.jpa.spi.AbstractQueryImpl.setParameter(AbstractQueryImpl.java:198) ~[AbstractQueryImpl.class:4.3.7.Final]\n    at org.hibernate.jpa.spi.AbstractQueryImpl.setParameter(AbstractQueryImpl.java:49) ~[AbstractQueryImpl.class:4.3.7.Final]\n    at org.springframework.data.jpa.repository.query.ParameterBinder.bind(ParameterBinder.java:165) ~[ParameterBinder.class:?]\n    at org.springframework.data.jpa.repository.query.StringQueryParameterBinder.bind(StringQueryParameterBinder.java:66) ~[StringQueryParameterBinder.class:?]\n</code></pre>\n\n<p>......</p>\n\n<ol start=\"2\">\n<li><p>I believe the exception comes from </p>\n\n<pre><code>public interface FamousExperienceDao extends PagingAndSortingRepository&lt;FamousExperience,\n  Long&gt;,JpaSpecificationExecutor&lt;FamousExperience&gt;\n{\n    @Query( value = \n        \"select new com.tujia.community.entity.BriefInfomation(f.id,f.title,f.summary,f.thumbnail,f.author, f.issueDate, f.counter) from FamousExperience f\"\n        ,countQuery =\"select count(f.id) from FamousExperience f\")\n    public Page&lt;BriefInfomation&gt; findExps(Specification&lt;FamousExperience&gt; spec, Pageable pgbl);\n}\n</code></pre></li>\n</ol>\n\n<p>because after I get rid of Specification spec from params of function findExps, it works well, I just want to add specification for the query.</p>\n\n<p>BYW, class FamousExperience extends BriefInfomation. I used \"constructor expressions\" feature of JPA Query and I just don't need property \"content\" when I try to query.</p>\n\n<pre><code>@Entity\n@Table(name = \"famous_experience\")\npublic class FamousExperience extends BriefInfomation\n    {\n    private String content;\n\n    /**\n     * @return the content\n     */\n    public String getContent()\n    {\n        return content;\n    }\n\n    /**\n     * @param content the content to set\n     */\n    public void setContent(String content)\n    {\n        this.content = content;\n    }\n}\n</code></pre>\n\n<p>Pls help me!</p>\n"},{"comments":[{"comment_id":122751359,"body":"can you try &quot;  echo %JAVA_HOME%   &quot;  command with your terminal ?  its weird because its looking for C:\\Program Files\\Java\\jdk-17\\bin\\java.exe and your version is 15 ."},{"comment_id":122751544,"body":"@George  it returns `C:\\Program Files\\Java\\jdk-15\\bin`"},{"comment_id":122751788,"body":"Can you share the build.gradle file ? or even just check for sourceCompatibility and targetCompatibility . and can you check if there is any global values in your .gradle/gradle.properties ?"},{"comment_id":122752056,"body":"@George here&#39;s a link to my build.gradle file: <a href=\"https://justpaste.it/29x2w\" rel=\"nofollow noreferrer\">justpaste.it/29x2w</a>"},{"comment_id":122753194,"body":"Oh , how did i miss that , You have an extra \\bin in your java home , can you try remove it ?  if this did not work Add this to gradle.properties in /user/.gradle folder &quot; org.gradle.java.home = C:\\Program Files\\Java\\jdk-15 &quot;but with out the \\bin , The \\bin should be added to PATH not to java home"},{"comment_id":122757069,"body":"@George oh yea I just saw that I accidently have both folders jdk-15 and jdk-17 , I deleted the jdk-17 folder and now the emulator is starting but it isn&#39;t loading the app on it and is giving this error <a href=\"https://justpaste.it/1nssi\" rel=\"nofollow noreferrer\">justpaste.it/1nssi</a>"},{"comment_id":122758013,"body":"@George okay interesting development, I first deleted the jdk-17 folder and then uninstalled 31 and 30 version of sdk build tools and it started working again, you can post this as an answer I&#39;ll mark it correct"}],"answers":[{"answer_id":69457847,"body":"<p>Make sure of your JAVA_HOME Path in your terminal with</p>\n<pre><code>echo %JAVA_HOME%\n</code></pre>\n<p>Its a common mistake to have \\bin , while \\bin should be in the PATH the java home is only your jdk folder like C:\\Program Files\\Java\\jdk-15 .</p>\n<p>Deleted the jdk-17 folder and then uninstalled 31 and 30 version of sdk build tools and this should fix the issue .</p>\n"},{"answer_id":70916568,"body":"<p>Deleting Java17 SDK and C:\\Program Files\\Java folder worked for me. Use openjdk11 instead of Java17 SDK</p>\n"},{"answer_id":74197743,"body":"<p>The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk1.8.0_341\\bin\\java</p>\n<p>I was in a similar problem and you can solve it in the following way --&gt; Go to Disk C, Find the java folder in android and delete the previous version of jdk by default it comes with 1.8\nC:\\Program Files\\Java for Reac native version 11 of jdk is recommended.</p>\n"},{"answer_id":74965210,"body":"<p>I faced the problem as I have multiple sdks, e.g 1.8 inside my java folder along with java 11. Deleted other jdks except 11 worked for me.</p>\n"},{"comments":[{"comment_id":132950215,"body":"This does break the update to Android Studio Electric Eel | 2022.1.1 Patch 1 though.  The updater needs contents of the jre folder to follow a specific pattern.  So it&#39;s better to not remove the jre folder but instead to rename it to jre_old."},{"comment_id":133025273,"body":"If this breaks your update to patch 1 download the current version of android studio and repair the jre folder by unzipping the jr folder from the zip. Following this comment: <a href=\"https://stackoverflow.com/a/50187359/1636247\">stackoverflow.com/a/50187359/1636247</a>"},{"comment_id":133144103,"body":"Without deleting the jre folder just renaming it worked for me."}],"answer_id":75108953,"body":"<p>If someone faces this error after Android Studio update <strong>to Android Studio Electric Eel | 2022.1.1</strong> than simply follow following steps:</p>\n<p>Go To android studio directory (Default C:\\Program Files\\Android\\Android Studio), remove or rename the jre folder, run <code>cmd</code> as administrator and create a symbolic link:</p>\n<pre><code>cd /d C:\\Program Files\\Android\\Android Studio\nmklink /D jre jbr\n</code></pre>\n<p>Thanks to this <a href=\"https://github.com/flutter/flutter/issues/106674#issuecomment-1381685888\" rel=\"noreferrer\">link</a></p>\n"},{"comments":[{"comment_id":132557536,"body":"that did it for me for 2022.1.1 as well;  after spending an hour working with JAVA_HOME and JRE_HOME and the likes, thanks, @cwang"},{"comment_id":133263496,"body":"I just read, &quot;you have to delete Android Studio&quot; :D"}],"answer_id":75109039,"body":"<p>after update to Android Studio 22.1.1, just delete folder jre in C:\\Program Files\\Android\\Android Studio\nit works for me</p>\n"},{"answer_id":75129301,"body":"<p>I get help from other answers and with my tries i find this solution:</p>\n<ol>\n<li>Delete <code>jdk</code> folder in Android Studio directory</li>\n<li>Change path in Windows Env. Variables JAVA_HOME: .../Android Studio/jdk =&gt; .../Android Studio/jbr</li>\n<li>Restart your IDE</li>\n</ol>\n"},{"comments":[{"comment_id":133094281,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75401786/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":75401786,"body":"<p>just open the program files folder and navigate to the android folder then open the android folder and then cut all the file from jbr folder to jre folder make to replace all the file when you paste the cut files from the jbr folder i think this will surely work for all .</p>\n"},{"answer_id":76196661,"body":"<p><strong>Copying all the contents from the bin folder of my Java installation directory</strong> <code>C:\\Program Files\\Java\\jdk-19\\bin</code> <strong>to the Android Studio jre folder</strong> <code>C:\\Program Files\\Android\\Android Studio\\jre\\bin</code> <strong>helped fix the problem</strong> when using <code>Android Studio Flamingo | 2022.2.1 Patch 1 Build #AI-222.4459.24.2221.9971841, built on April 19, 2023</code>\nand <code>Java 19 SDK</code></p>\n<p>I did this, because the reason why the java executable can't be found at the tried location: <code>C:\\Program Files\\Java\\jdk-17\\bin\\java.exe</code> is <strong>because it doesn't exist there, so we can put it there</strong> with ease via copy and paste of the bin contents as I did above. I hope this helps.</p>\n"},{"answer_id":76269818,"body":"<p>Copy contents of this folder</p>\n<p><code>C:\\Program Files\\Android\\Android Studio\\jbr</code></p>\n<p>INTO THIS FOLDER</p>\n<p><code>C:\\Program Files\\Android\\Android Studio\\jre</code></p>\n<p>DONE</p>\n"}],"last_activity_date":1684310665,"question_id":69448462,"body":"<p>I've been pulling my hair over this for 3 days now,</p>\n<p>every time I run the command <code>react-native run-android</code> I get this error:</p>\n<pre><code>info Running jetifier to migrate libraries to AndroidX. You can disable it using &quot;--no-jetifier&quot; flag.\n(node:10284) Warning: Accessing non-existent property 'padLevels' of module exports inside circular dependency\n(Use `node --trace-warnings ...` to show where the warning was created)\nJetifier found 871 file(s) to forward-jetify. Using 16 workers...\ninfo JS server already running.\ninfo Installing the app...\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-17\\bin\\java.exe\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\n    at makeError (C:\\Users\\username\\Desktop\\code\\React Native\\Build App\\Scheduler\\node_modules\\execa\\index.js:174:9)\n    at C:\\Users\\username\\Desktop\\code\\React Native\\Build App\\Scheduler\\node_modules\\execa\\index.js:278:16\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n    at async runOnAllDevices (C:\\Users\\username\\Desktop\\code\\React Native\\Build App\\Scheduler\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:106:5)\n    at async Command.handleAction (C:\\Users\\username\\Desktop\\code\\React Native\\Build App\\Scheduler\\node_modules\\react-native\\node_modules\\@react-native-community\\cli\\build\\index.js:192:9)info Run CLI with --verbose flag for more details.\n</code></pre>\n<p>I created my directory using basic <code>react-native init projectTesting</code></p>\n<p>My gradle is version 6.9<br />\n<code>.\\android\\gradle\\wrapper\\gradle-wrapper.properties</code> =&gt;<code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.9-all.zip</code></p>\n<p>My android studios version is <code>Android Studio 2020.3.1</code></p>\n<p>My java version is 15</p>\n<pre><code>C:\\Users\\username&gt;java -version\njava version &quot;15&quot; 2020-09-15\nJava(TM) SE Runtime Environment (build 15+36-1562)\nJava HotSpot(TM) 64-Bit Server VM (build 15+36-1562, mixed mode, sharing)\n\nC:\\Users\\username&gt;javac -version\njavac 15\n</code></pre>\n<p>I was thinking of using java 17 but in the <a href=\"https://docs.gradle.org/6.9/userguide/compatibility.html\" rel=\"noreferrer\">compatibility docs</a> it said:</p>\n<blockquote>\n<p>A Java version between 8 and 15 is required to execute Gradle. Java 16\nand later versions are not yet supported when executing Gradle.</p>\n</blockquote>\n<p>any help would be really <strong>really</strong> appreciated!!</p>\n"},{"comments":[{"comment_id":134484934,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3774198/org-hibernate-mappingexception-could-not-determine-type-for-java-util-list-at\">org.hibernate.MappingException: Could not determine type for: java.util.List, at table: College, for columns: &#91;org.hibernate.mapping.Column(students)&#93;</a>"},{"comment_id":134485067,"body":"I already checked that but it did not resolve my issue."},{"comment_id":134487693,"body":"You have not stated the version of Hibernate."},{"comment_id":134496371,"body":"@GavinKing Hibernate version is 5.6"}],"answers":[{"answer_id":76269804,"body":"<p>OK, so if you're using Hibernate 5, there's simply no built-in support for mapping JSON to <code>List</code>s and I'm really not sure what gave you the impression that this would work.</p>\n<p>You could, in principle, handle this yourself by writing a <code>UserType</code>. (It might even be possible to solve the problem using a JPA <code>AttributeConverter</code> but I can't be sure without trying it for myself.)</p>\n<p>Now, in Hibernate <strong>6</strong>, the situation is a <em>little</em> bit different, there actually is support for mapping some collections to JSON.\nFor example, the following <em>is</em> supported:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JdbcTypeCode(JSON)\nList&lt;String&gt; point;\n</code></pre>\n<p>However, as of Hibernate 6.2, the element type must be a basic type. There's not yet support for mapping, say <code>List&lt;KeyValue&gt;</code> where <code>KeyValue</code> is an embeddable type. I <em>do</em> expect that Christian or someone else will work on that <em>eventually</em>, but it is not there today.</p>\n<p>So the short answer is that what you're trying to do isn't directly supported in any version of Hibernate, but that you should be able to make it work using a <code>UserType</code>.</p>\n"}],"last_activity_date":1684310544,"question_id":76262027,"body":"<p>I have an oracle table <code>MYTABLE</code> which has 3 columns as mentioned below.</p>\n<pre><code>|id | myclob_column | column3|\n</code></pre>\n<p>It has one column (<code>myclob_column</code>) which is clob data (json). Sample clob data is below.</p>\n<pre><code>{\n&quot;id&quot; : 10001\n&quot;name&quot; : &quot;Rahul&quot;,\n&quot;keyvalue&quot; : [ {&quot;key&quot; : &quot;100&quot;, &quot;value&quot; : &quot;A&quot;}, {&quot;key&quot; : &quot;200&quot;, &quot;value&quot; : &quot;B&quot;} .....]\n}\n</code></pre>\n<p>KeyValue is defined as a class in my project like below.</p>\n<pre><code>@Data\npublic class KeyValue {\n\n private String key;\n private String value;\n\n}\n</code></pre>\n<p>I am using <code>org.hibernate.annotations.Formula</code> annotations on <code>name</code> &amp; <code>keyvalue</code> field.</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;MYTABLE&quot;)\npublic class MyEntity {\n\n@Id\nprivate String id;\n\n@Formula(&quot;JSON_VALUE(myclob_column, '$.name')&quot;)\nprivate String name;\n\n@Formula(&quot;JSON_VALUE(myclob_column, '$.keyvalue[*]')&quot;)\nprivate List&lt;KeyValue&gt; keyvalue;\n\n}\n</code></pre>\n<p>While running the <code>Spring Boot</code> application, I am getting error for <code>keyvalue</code> field and application is not getting started for this.</p>\n<pre><code>org.hibernate.MappingException: Could not determine type for: java.util.List, at table: MYTABLE, for columns: [org.hibernate.mapping.Formula(JSON_VALUE(myclob_column, '$.keyvalue[*]'))]\n</code></pre>\n<p>Can you please suggest what is the issue.</p>\n"},{"answers":[{"comments":[{"comment_id":134510199,"body":"This isn&#39;t even the same coding language!"},{"comment_id":134527058,"body":"Oops, sorry! I misread the original post and thought you meant Javascript, but you actually wrote Java. The downvote was kind of well deserved, unfortunately."}],"answer_id":76269796,"body":"<p>In plain Javascript, if you have the above JSON object as a JSON string in a variable called myJson, just use JSON.parse to convert it into a JS object:</p>\n<pre><code>let myObject = JSON.parse(myJson);\n</code></pre>\n<p>If the JSON object is not a string, but already a JS object, skip the above.</p>\n<p>Then simply access the properties of the object:</p>\n<pre><code>console.log(myObject.msg);  // &quot;Success&quot;\nconsole.log(myObject.data.recipients[2]);  // &quot;Sent&quot;\n</code></pre>\n"}],"last_activity_date":1684310478,"question_id":76269582,"body":"<p>I am new to the calling API. I am calling API using Retrofit in Java. Sometimes I get that type of object.</p>\n<pre><code>{\n  &quot;error&quot;: 0,\n  &quot;msg&quot;: &quot;Success&quot;,\n  &quot;data&quot;: {\n    &quot;request_id&quot;: 0000,\n    &quot;request_status&quot;: &quot;Complete&quot;,\n    &quot;request_charge&quot;: &quot;0.0000&quot;,\n    &quot;recipients&quot;: [\n      {\n        &quot;number&quot;: &quot;8801800000000&quot;,\n        &quot;charge&quot;: &quot;0.0000&quot;,\n        &quot;status&quot;: &quot;Sent&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>In this JSON how can I use &quot;mag&quot;, the data object, and also use the recipients object.</p>\n<p>I need the string value of mag, request_status, number, and status.</p>\n<p>How can I do this?</p>\n"},{"last_activity_date":1684310279,"question_id":76269583,"body":"<p>I have a Spring Boot project with Java. In the frontend I just use HTML, Bootstrap and Thymeleaf. There I created a searchbar, which I connected to a search controller. The data which are searched come from a private API.</p>\n<p>Now I want to display the found results not with a scrollbar but on multiple pages. For this I have also chosen a Bootstrap template and integrated it. (View)</p>\n<p>But now I have to implement the backend, the model and the controller. And there is my problem: I am still quite new in Java Spring and therefore looking for a tutorial or an explanation how I have to implement this. I only find tutorials where the data comes from a database and not from an API.  In my API the data for paging looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/5HO8P.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5HO8P.jpg\" alt=\"pagination_in_api\" /></a></p>\n<p>I don't want a pre-chewed solution here, just an explanation and maybe an example, since as I said I can't find an example for this to follow. I don't have the slightest idea how to implement the controller to control the pagination so that when I click on the buttons &quot;First Page&quot;, &quot;Next Page&quot;, &quot;Last Page&quot; it jumps to them.</p>\n<p>Does anyone have an example and an explanation how I can do it on my own?</p>\n<p>Looking forward to your answers</p>\n<p>To solve the problem on my own I already searched for tutorials, went through Udemy course on Spring, asked ChatGPT.</p>\n"},{"comments":[{"comment_id":80808582,"body":"I think your best hope here would be to refactor the constructor <code>Foo</code> itself, and change it to one parameter.  If you&#39;re lucky, IntelliJ will prompt you at each change letting you alter the method calls."},{"comment_id":80808640,"body":"@TimBiegeleisen I just added a class Bar to make it clearer..."},{"comment_id":80811390,"body":"Are the parameters always consecutive and named similarly? I wonder if a string based regex find / replace, although perhaps a little hacky, could be the best solution here? Failing that I have written a simple plugin in the past to handle simple refactoring needs."},{"comment_id":80812319,"body":"@vikingsteve Too hacky, I would like something that can be used in a complex codebase without much thinking. Structural replace can handle non-consecutive parameters just fine. A plugin would be ideal."},{"comment_id":80812518,"body":"The plugin is quite easy to write. You just need to add an action in the &quot;Refactoring&quot; menu, and then use the cursor position as a context (perhaps the constructor for <code>Boo</code>) - thereafter use refactoring operations to tranverse the AST and make the changes to the code."},{"comment_id":80812555,"body":"@Meo if you look on my github I have some plugin examples <a href=\"https://github.com/Steve-Murphy/\" rel=\"nofollow noreferrer\">github.com/Steve-Murphy</a>"},{"comment_id":80813626,"body":"@vikingsteve oh I have some examples too :) <a href=\"https://github.com/krasa/translator-generator-intellij-plugin\" rel=\"nofollow noreferrer\">github.com/krasa/translator-generator-intellij-plugin</a>"}],"answers":[{"answer_id":46931077,"body":"<ol>\n<li>Go to the <code>Bar</code> class definition then right-click and select\nrefactor. </li>\n<li>Select Change Signature</li>\n<li>Remove the old parameters(-)</li>\n<li>Add the new Parameter using the fully qualified name(+) </li>\n</ol>\n"},{"answer_id":46931452,"body":"<p>First, add overloads for the method/constructor you want:</p>\n\n<pre><code>public static void print(Foo foo) { ... }\npublic Bar(Foo foo) { ... }\n</code></pre>\n\n<p>Then use structural search and replace (Edit > Find > Replace Structurally) to replace:</p>\n\n<pre><code>print($f$.getI(), $f$.getJ());\n</code></pre>\n\n<p>with</p>\n\n<pre><code>print($f$);\n</code></pre>\n\n<p>(If necessary, constrain <code>$f$</code> to be of type <code>Foo</code> by clicking \"Edit Variables\", pick <code>f</code> from the list, and set \"Expected Type (regexp)\" to \"Foo\")</p>\n\n<p>Similarly, replace:</p>\n\n<pre><code>new Bar($f$.getI(), $f$.getJ());\n</code></pre>\n\n<p>with</p>\n\n<pre><code>new Bar($f$);\n</code></pre>\n"},{"comments":[{"comment_id":134531021,"body":"This works for methods, not constructors. But yes, this is the right way for methods, which was half of the question."}],"answer_id":76269760,"body":"<p>First extract a method with <strong>Ctrl+Alt+M</strong> with just the call to <code>print(input.getI(), input.getJ());</code></p>\n<p>IntelliJ will extract the method with the whole object as <code>print(Foo foo)</code></p>\n<p>Then inline the old <code>public static void print(int i, int j)</code> method with <strong>Ctrl+Alt+N</strong></p>\n"}],"last_activity_date":1684310228,"question_id":46930857,"body":"<p>I want to refactor the code so that the whole object <code>input</code> is passed as a parameter instead of its parts <code>input.getI(), input.getJ()</code>.</p>\n\n<p>I could easily do the opposite with <code>Extract Parameter</code> action, but how do I refactor it like this across the code base, in IntelliJ?</p>\n\n<pre><code>public static void main(String[] args) {\n    Foo input = new Foo(0, 1);\n\n    //What I have:\n    new Bar(input.getI(), input.getJ());\n    print(input.getI(), input.getJ());\n\n    //What I want: \n    //new Bar(input);\n    //print(input);\n}\n\npublic static void print(int i, int j) {\n    System.out.println(i + j);\n}\n\npublic static class Foo {\n    private int i;\n    private int j;\n\n    public Foo(int i, int j) {\n        this.i = i;\n        this.j = j;\n    }\n\n    public int getI() {\n        return i;\n    }\n\n    public int getJ() {\n        return j;\n    }\n}\n\npublic static class Bar {\n    private int i;\n    private int j;\n\n    public Bar(int i, int j) {\n        this.i = i;\n        this.j = j;\n    }\n}\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":36123283,"body":"Thanks for the response. I tried a lot of options, but nothing helps me. Maybe I&#39;m doing something wrong? Please show me the correct source code."},{"comment_id":36124854,"body":"finally {        bb.release();       }"},{"comment_id":36124884,"body":"finally { bb.release(); }  that is all?"}],"answer_id":23540068,"body":"<p>You need to call <code>release</code> on the <code>ByteBuf</code> rather than <code>clear</code> in your <code>finally</code> block, otherwise the reference counted buffer is not de-allocated properly.</p>\n"},{"answer_id":63947398,"body":"<p>If you are using <strong>DataBuffer</strong> you might get the same error. Spring has <strong>DataBufferUtils</strong> library to release the resource.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBufferUtils.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBufferUtils.html</a></p>\n<pre><code>import org.springframework.core.io.buffer.DataBufferUtils;\n\nDataBufferUtils.release(dataBuffer);\n</code></pre>\n"},{"answer_id":76269675,"body":"<p>Add below code in finally block-</p>\n<pre><code>finally {\n    if(bb!= null) {\n        bb.clear();\n        bb.release();\n    }\n}\n</code></pre>\n<p>Also override method 'channelReadComplete' to release buffer whose reference count is 0.</p>\n<pre><code>@Override\npublic void channelReadComplete(ChannelHandlerContext ctx) {\n    ctx.flush();\n}\n</code></pre>\n<ul>\n<li><strong>bb.clear()</strong>: reset reader as well as writter index at 0; which netty will flush itself as ByteBuf manages it well.</li>\n<li><strong>bb.release()</strong>: decrease reference count by 1 and make available for release if reference count becomes 0.</li>\n</ul>\n<p>Memory leak may cause your application in <strong>OutOfDirectMemoryError</strong> because buffer  uses space in Direct Memory instead of Heap.</p>\n<p><strong>Note</strong>: If you do not call bb.release() then application must be warning you in service log which is a memory leak and application may face error in future like-</p>\n<p><em>failed to allocate 123 byte(s) of direct memory (used: 234, max: 345)</em></p>\n"}],"last_activity_date":1684310170,"question_id":23539854,"body":"<p>This is my server side code. this code read udp traffic with the help of netty. But, sometimes I have an error.... I can't fix it.... It is very sorrow...     </p>\n\n<pre><code>@Override\n     protected void channelRead0(ChannelHandlerContext ctx, DatagramPacket msg) throws Exception {\n      ByteBuf bb = msg.content();\n      RoomController roomController = RoomController.getInstance();\n      try\n      {\n       int opcode = bb.readUnsignedByte();\n       byte slot = bb.readByte();\n       byte[] ignore = new byte[8];\n       bb.readBytes(ignore);\n       int accountId = bb.readUnsignedByte();\n       switch(opcode)\n        {\n         case 65: {\n          log.info(\"Try connect player \" + msg.sender().getAddress() + \":\" + msg.sender().getPort());\n          Player player = roomController.getPlayer(msg.sender().getAddress());\n          if(player != null) {\n           ByteBuffer _buffer = new ByteBuffer();\n           _buffer.writeC((byte) 66);\n           _buffer.writeC((byte) 0);\n           _buffer.writeB(new byte[5]);\n           _buffer.writeC((byte) 0x0b);\n           _buffer.writeB(new byte[3]);\n           player.playerPort = msg.sender().getPort();\n           log.info(\"Send accept data! \" + msg.sender().getAddress().toString() + \":\" + msg.sender().getPort());\n           ctx.writeAndFlush(new DatagramPacket(Unpooled.copiedBuffer(_buffer.getData(), 0, _buffer.getData().length), msg.sender()));\n          }\n          break;\n         }\n         //case (byte) 131:\n         //case (byte) 132:\n         //case 84:\n         //case 97:\n         case 131:\n         case 132:\n         case 4:\n         case 3: {\n          Player player = roomController.getPlayer(msg.sender().getAddress());\n          if(player != null) {\n           if(player.isActive) {\n            if(player.isHost) {\n             for(Player players : roomController.getPlayersForIP(player.roomID).values()) {\n              if(!players.isHost &amp;&amp; players.playerPort &gt; 0) {\n               ctx.writeAndFlush(new PBUDPServerPacket(opcode, Unpooled.copiedBuffer(msg.content()), new InetSocketAddress(players.playerIP, players.playerPort), (byte)slot, ignore, accountId).getPacket());\n              }\n             }\n            } else {\n             Player host = roomController.getHostForIP(player.roomID);\n             if(host.playerPort &gt; 0) {\n              ctx.writeAndFlush(new PBUDPServerPacket(opcode, Unpooled.copiedBuffer(msg.content()), new InetSocketAddress(host.playerIP, host.playerPort), (byte)slot, ignore, accountId).getPacket());\n             }\n            }\n           }\n          }\n          break;\n         }\n         case 97: {\n          log.info(\"opcode: \" + opcode + \" sender: \" + msg.sender().getAddress().getHostAddress());\n          ctx.writeAndFlush(new PBUDPServerPacket(opcode, Unpooled.copiedBuffer(msg.content()), new InetSocketAddress(msg.sender().getAddress(), msg.sender().getPort()), (byte)slot, ignore, accountId).getPacket());\n          break;\n         }\n         case 67: {\n          log.info(\"try remove player \" + msg.sender().getAddress().toString());\n          RoomController.getInstance().removePlayer(msg.sender().getAddress());\n          break;\n         }\n         default: {\n          log.warn(\"unknown opcode: \" + opcode);\n         }\n\n        }\n       }\n      catch(Exception e) {\n       log.error(e.toString());\n      }\n      finally {\n       bb.clear();\n      }\n     }\n</code></pre>\n\n<p>ERROR:</p>\n\n<pre><code>[18:16:46|ERROR|nioEventLoopGroup-2-1 |io.netty.util.ResourceLeakDetector             ] LEAK: ByteBuf.release() was not called before it's garbage-collected.\n</code></pre>\n\n<p>How to fix an error?? It is very important for me.</p>\n\n<p>STACKTRACE:</p>\n\n<pre><code>[17:14:59|ERROR|nioEventLoopGroup-2-1 |io.netty.util.ResourceLeakDetector             ] LEAK: ByteBuf.release() was not called before it's garbage-collected.\nRecent access records: 1\n#1:\n io.netty.buffer.AdvancedLeakAwareByteBuf.writeBytes(AdvancedLeakAwareByteBuf.java:559)\n io.netty.buffer.Unpooled.copiedBuffer(Unpooled.java:421)\n ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:89)\n ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:42)\n io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:103)\n io.netty.channel.DefaultChannelHandlerContext.invokeChannelRead(DefaultChannelHandlerContext.java:338)\n io.netty.channel.DefaultChannelHandlerContext.fireChannelRead(DefaultChannelHandlerContext.java:324)\n io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:785)\n io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:93)\n io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:485)\n io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:452)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:346)\n io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:101)\n java.lang.Thread.run(Thread.java:744)\nCreated at:\n io.netty.util.ResourceLeakDetector.open(ResourceLeakDetector.java:190)\n io.netty.buffer.AbstractByteBufAllocator.toLeakAwareBuffer(AbstractByteBufAllocator.java:42)\n io.netty.buffer.UnpooledByteBufAllocator.newDirectBuffer(UnpooledByteBufAllocator.java:55)\n io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:155)\n io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:146)\n io.netty.buffer.Unpooled.directBuffer(Unpooled.java:127)\n io.netty.buffer.Unpooled.copiedBuffer(Unpooled.java:417)\n ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:89)\n ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:42)\n io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:103)\n io.netty.channel.DefaultChannelHandlerContext.invokeChannelRead(DefaultChannelHandlerContext.java:338)\n io.netty.channel.DefaultChannelHandlerContext.fireChannelRead(DefaultChannelHandlerContext.java:324)\n io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:785)\n io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:93)\n io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:485)\n io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:452)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:346)\n io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:101)\n java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>======================PBUDPServerPacket</p>\n\n<pre><code>public class PBUDPServerPacket {\n    private ByteBuf buff;\n    private InetSocketAddress addr;\n\n    public PBUDPServerPacket(int opcode, ByteBuf data, InetSocketAddress recipient, byte slot, byte[] ignore, int accountId) {\n        buff = Unpooled.buffer().order(ByteOrder.LITTLE_ENDIAN);\n        buff.writeByte(opcode);\n        buff.writeByte(slot);\n        buff.writeBytes(ignore);\n        buff.writeByte(accountId);\n        buff.writeBytes(data);\n        addr = recipient;\n    }\n\n    public DatagramPacket getPacket() {\n        return new DatagramPacket(buff, addr);\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134457771,"body":"Welcome to SO! Could you please give it a try to see <a href=\"https://docs.delta.io/latest/delta-standalone.html#maven\" rel=\"nofollow noreferrer\">docs.delta.io/latest/delta-standalone.html#maven</a>"}],"answers":[{"answer_id":76246709,"body":"<p>You're mixing up different Scala versions - you're using libraries compiled for Scala 2.13 (the <code>_2.13</code> suffix) with the Scala 2.12 (the <code>2.12.17</code>) version.  You also need to check for which Scala version the Apache Spark distribution is compiled.</p>\n<p>P.S. You also don't need <code>delta-iceberg</code> dependency to convert from Parquet to Delta format.</p>\n"},{"answer_id":76269718,"body":"<h1>Create Parquet Dataset</h1>\n<p>Yours was <code>/Users/hokage/Downloads/python-paraquet</code>, but let's use <code>/tmp/parquet-dataset</code> if you don't mind 😉</p>\n<p>Let's open <code>spark-shell</code> and write some Scala. This is only to create a parquet table (dataset).</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val parquetTableDir = &quot;/tmp/parquet-dataset&quot;\n</code></pre>\n<pre class=\"lang-scala prettyprint-override\"><code>spark\n  .range(5)\n  .write\n  .format(&quot;parquet&quot;)\n  .save(parquetTableDir)\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ls -l /tmp/parquet-dataset\ntotal 48\n-rw-r--r--@ 1 jacek  wheel    0 May 17 09:32 _SUCCESS\n-rw-r--r--@ 1 jacek  wheel  297 May 17 09:32 part-00000-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00002-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00004-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  471 May 17 09:32 part-00007-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00009-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00011-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n</code></pre>\n<h2>Java Project (Maven)</h2>\n<p>I used IntelliJ IDEA to create a Java project with Maven. It's been a while since I've done it! 😊</p>\n<h3>pom.xml</h3>\n<p>Mind all the dependencies and their versions. They have to match and important things are:</p>\n<ol>\n<li>The version of Scala (Delta Lake and Apache Spark deps)</li>\n<li><a href=\"https://github.com/delta-io/delta/releases/tag/v2.3.0\" rel=\"nofollow noreferrer\">Delta Lake 2.3.0 supports Spark 3.3</a></li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;delta-convert&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.delta&lt;/groupId&gt;\n            &lt;artifactId&gt;delta-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;2.13.8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Java Application</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package so;\n\nimport io.delta.tables.DeltaTable;\nimport org.apache.spark.sql.SparkSession;\n\npublic class DeltaConvert {\n\n    public static void main(String[] args) {\n        SparkSession spark = SparkSession\n                .builder()\n                .appName(&quot;Solo-spark&quot;)\n                .master(&quot;local[*]&quot;) // Use the star instead\n                // the following configs are required for Delta Lake to run on Spark\n                .config(&quot;spark.sql.extensions&quot;, &quot;io.delta.sql.DeltaSparkSessionExtension&quot;)\n                .config(&quot;spark.sql.catalog.spark_catalog&quot;, &quot;org.apache.spark.sql.delta.catalog.DeltaCatalog&quot;)\n                .getOrCreate();\n\n        DeltaTable\n                .convertToDelta(spark,&quot;parquet.`/tmp/parquet-dataset`&quot;);\n\n    }\n}\n</code></pre>\n<h2>Show Time 🎉</h2>\n<p>Execute the Java app and you should see tons of INFO messages in the console (standard output). Among the lines you should find the following:</p>\n<pre><code>23/05/17 09:41:19 INFO SparkContext: Running Spark version 3.3.2\n...\n23/05/17 09:41:22 INFO DelegatingLogStore: LogStore `LogStoreAdapter(io.delta.storage.HDFSLogStore)` is used for scheme `file`\n23/05/17 09:41:22 INFO DeltaLog: Creating initial snapshot without metadata, because the directory is empty\n23/05/17 09:41:24 INFO InitialSnapshot: [tableId=b071541b-9864-4a06-a8d5-d45690ab1a26] Created snapshot InitialSnapshot(path=file:/tmp/parquet-dataset/_delta_log, version=-1, metadata=Metadata(2876805c-dde3-4d69-96a2-d2c3ad3c81e7,null,null,Format(parquet,Map()),null,List(),Map(),Some(1684309284165)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,-1,List(),List(),None,-1), checksumOpt=None)\n23/05/17 09:41:24 INFO DeltaLog: No delta log found for the Delta table at file:/tmp/parquet-dataset/_delta_log\n23/05/17 09:41:24 INFO InitialSnapshot: [tableId=2876805c-dde3-4d69-96a2-d2c3ad3c81e7] Created snapshot InitialSnapshot(path=file:/tmp/parquet-dataset/_delta_log, version=-1, metadata=Metadata(29ac2dc9-a37b-47cd-9aec-45090056afcc,null,null,Format(parquet,Map()),null,List(),Map(),Some(1684309284204)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,-1,List(),List(),None,-1), checksumOpt=None)\n...\n23/05/17 09:41:26 INFO DeltaFileOperations: Listing file:/tmp/parquet-dataset\n23/05/17 09:41:26 INFO DelegatingLogStore: LogStore `LogStoreAdapter(io.delta.storage.HDFSLogStore)` is used for scheme `file`\n...\n23/05/17 09:41:41 INFO FileScanRDD: Reading File path: file:///tmp/parquet-dataset/_delta_log/00000000000000000000.checkpoint.parquet, range: 0-13899, partition values: [empty row]\n...\n23/05/17 09:41:41 INFO Snapshot: [tableId=11d76ddd-3035-47b5-9dfe-f7e14de9ef71] Created snapshot Snapshot(path=file:/tmp/parquet-dataset/_delta_log, version=0, metadata=Metadata(11d76ddd-3035-47b5-9dfe-f7e14de9ef71,null,null,Format(parquet,Map()),{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;id&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},List(),Map(),Some(1684309287681)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,0,ArraySeq(),ArraySeq(DeprecatedRawLocalFileStatus{path=file:/tmp/parquet-dataset/_delta_log/00000000000000000000.checkpoint.parquet; isDirectory=false; length=13899; replication=1; blocksize=33554432; modification_time=1684309298044; access_time=1684309297927; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}),Some(0),1684309291045), checksumOpt=None)\n23/05/17 09:41:41 INFO DeltaLog: Updated snapshot to Snapshot(path=file:/tmp/parquet-dataset/_delta_log, version=0, metadata=Metadata(11d76ddd-3035-47b5-9dfe-f7e14de9ef71,null,null,Format(parquet,Map()),{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;id&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},List(),Map(),Some(1684309287681)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,0,ArraySeq(),ArraySeq(DeprecatedRawLocalFileStatus{path=file:/tmp/parquet-dataset/_delta_log/00000000000000000000.checkpoint.parquet; isDirectory=false; length=13899; replication=1; blocksize=33554432; modification_time=1684309298044; access_time=1684309297927; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}),Some(0),1684309291045), checksumOpt=None)\n...\n</code></pre>\n<h3>PySpark</h3>\n<p>Use <code>pyspark</code> (with Delta Lake &quot;installed&quot;) to access the delta table.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ./bin/pyspark \\\n  --packages io.delta:delta-core_2.12:2.3.0 \\\n  --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\n  --conf spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog\nWelcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /__ / .__/\\_,_/_/ /_/\\_\\   version 3.3.2\n      /_/\n\nUsing Python version 3.10.11 (main, May 10 2023 19:07:22)\nSpark context Web UI available at http://192.168.68.101:4040\nSpark context available as 'sc' (master = local[*], app id = local-1684309786375).\nSparkSession available as 'spark'.\n</code></pre>\n<pre><code>&gt;&gt;&gt; spark.read.format(&quot;delta&quot;).load(&quot;/tmp/parquet-dataset&quot;).show(truncate = False)\n+---+\n|id |\n+---+\n|0  |\n|3  |\n|4  |\n|1  |\n|2  |\n+---+\n</code></pre>\n"}],"last_activity_date":1684309992,"question_id":76244764,"body":"<p>im trying to convert parquet file to delta using java , using java 11 and spark and scale as maven dependencies while trying to exceute im getting Exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>SparkSession spark = SparkSession.builder().\nappName(&quot;Solo-spark&quot;).master(&quot;local[1]&quot;).getOrCreate();`\n</code></pre>\n<p>Here we have get a spark session.</p>\n<p>Now you have covert to delta using</p>\n<pre class=\"lang-java prettyprint-override\"><code>DeltaTable\n    .convertToDelta(spark,&quot;parquet.`/Users/hokage/Downloads/python-paraquet`&quot;);\n</code></pre>\n<p>and im getting the following error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: scala/$less$colon$less\n    at org.soloworld.App.main(App.java:24)\nCaused by: java.lang.ClassNotFoundException: scala.$less$colon$less\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 1 more\n</code></pre>\n<p>and these are my dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-core_2.13&lt;/artifactId&gt;\n      &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-iceberg_2.13&lt;/artifactId&gt;\n      &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n      &lt;version&gt;2.12.17&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"last_activity_date":1684309933,"question_id":76269719,"body":"<p>`I'm composing docker image for keycloak v12.0.4 using command 'sudo docker-compose -f src/main/docker/keycloak.yml up', but at the time of composing image, I'm getting an error&quot;FATAL [org.keycloak.services] (ServerService Thread Pool -- 70) Error during startup: java.lang.RuntimeException: Failed to connect to database&quot;\nI'm using postgresql 11.2 docker image. Database name : rsm_dev_db and I have created a schema keycloak inside it.</p>\n<p>Keycloak.yml file :</p>\n<pre><code>version: '3.3'\nservices:\n  keycloak:\n    image: jboss/keycloak:12.0.4\n    command:\n      [\n        '-b',\n        '0.0.0.0',\n        '-Dkeycloak.migration.action=import',\n        '-Dkeycloak.migration.provider=dir',\n        '-Dkeycloak.migration.dir=/opt/jboss/keycloak/realm-config',\n        '-Dkeycloak.migration.strategy=IGNORE_EXISTING',\n        '-Djboss.socket.binding.port-offset=1000',\n        '-Dkeycloak.profile.feature.upload_scripts=enabled',\n      ]\n    volumes:\n      - ./realm-config:/opt/jboss/keycloak/realm-config\n    environment:\n      - KEYCLOAK_USER=admin\n      - KEYCLOAK_PASSWORD=admin\n      - DB_VENDOR=postgres\n      - DB_ADDR=172.17.0.1\n      - DB_PORT=5432\n      - DB_DATABASE=rms_dev_db\n      - DB_USER=kpit\n      - DB_PASSWORD=kpit1234\n      - DB_SCHEMA=keycloak\n      # - JDBC_PARAMS=&quot;currentSchema=keycloak&quot;\n    ports:\n      - 9080:9080\n      - 9443:9443\n      - 10990:10990\n\n</code></pre>\n<hr />\n<p>application.yml file :</p>\n<pre><code>zuul: # those values must be configured depending on the application specific needs\n  sensitive-headers: Cookie,Set-Cookie #see https://github.com/spring-cloud/spring-cloud-netflix/issues/3126\n  ignored-headers: Access-Control-Allow-Credentials, Access-Control-Allow-Origin\n  host:\n    max-total-connections: 1000\n    max-per-route-connections: 100\n    connect-timeout-millis: 10000\n    socket-timeout-millis: 10000\n  prefix: /services\n  semaphore:\n    max-semaphores: 500\n  ignoredServices: 'consul,fmpGateway' # Prevent Consul and the &quot;fmpGateway&quot; app itself from having a Zuul route automatically created for them\n\nribbon:\n    ReadTimeout: 30000\n    ConnectTimeout: 30000\n# See https://github.com/Netflix/Hystrix/wiki/Configuration\nhystrix:\n  command:\n    default:\n      execution:\n        isolation:\n          thread:\n            timeoutInMilliseconds: 125000\n\nmanagement:\n  endpoints:\n    web:\n      base-path: /management\n      exposure:\n        include: ['configprops', 'env', 'health', 'info', 'jhimetrics', 'logfile', 'loggers', 'prometheus', 'threaddump']\n  endpoint:\n    health:\n      show-details: when-authorized\n      roles: 'ROLE_ADMIN'\n    jhimetrics:\n      enabled: true\n  info:\n    git:\n      mode: full\n  health:\n    mail:\n      enabled: false # When using the MailService, configure an SMTP server and set this to true\n  metrics:\n    export:\n      # Prometheus is the default metrics backend\n      prometheus:\n        enabled: true\n        step: 60\n    enable:\n      http: true\n      jvm: true\n      logback: true\n      process: true\n      system: true\n    distribution:\n      percentiles-histogram:\n        all: true\n      percentiles:\n        all: 0, 0.5, 0.75, 0.95, 0.99, 1.0\n    tags:\n      application: ${spring.application.name}\n    web:\n      server:\n        auto-time-requests: true\n\nspring:\n  application:\n    name: fmpGateway\n  cloud:\n    consul:\n      discovery:\n        healthCheckPath: /management/health\n        instanceId: fmpgateway:${spring.application.instance-id:${random.value}}\n        service-name: fmpgateway\n      config:\n        watch:\n          enabled: false\n  jmx:\n    enabled: false\n  data:\n    jpa:\n      repositories:\n        bootstrap-mode: deferred\n  jpa:\n    open-in-view: false\n    properties:\n      hibernate.jdbc.time_zone: UTC\n    hibernate:\n      ddl-auto: none\n      naming:\n        physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n  messages:\n    basename: i18n/messages\n  main:\n    allow-bean-definition-overriding: true\n  mvc:\n    favicon:\n      enabled: false\n  task:\n    execution:\n      thread-name-prefix: fmp-gateway-task-\n      pool:\n        core-size: 2\n        max-size: 50\n        queue-capacity: 10000\n    scheduling:\n      thread-name-prefix: fmp-gateway-scheduling-\n      pool:\n        size: 2\n  thymeleaf:\n    mode: HTML\n  output:\n    ansi:\n      console-available: true\n  security:\n    oauth2:\n      client:\n        provider:\n          oidc:\n            issuer-uri: http://localhost:9080/auth/realms/jhipster\n        registration:\n          oidc:\n            client-id: web_app\n            client-secret: web_app\n  datasource:\n    hikari:\n      maximum-pool-size: 5\n  liquibase:\n    enabled: true\n\nserver:\n  servlet:\n    session:\n      cookie:\n        http-only: true\n\n# Properties to be exposed on the /info management endpoint\ninfo:\n  # Comma separated list of profiles that will trigger the ribbon to show\n  display-ribbon-on-profiles: 'dev'\n\n# ===================================================================\n# JHipster specific properties\n#\n# Full reference is available at: https://www.jhipster.tech/common-application-properties/\n# ===================================================================\n\njhipster:\n  clientApp:\n    name: 'fmpGatewayApp'\n  # By default CORS is disabled. Uncomment to enable.\n  cors:\n    allowed-origins: &quot;*&quot;\n    allowed-methods: &quot;*&quot;\n    allowed-headers: &quot;*&quot;\n    exposed-headers: &quot;Authorization,Link,X-Total-Count&quot;\n    allow-credentials: true\n    max-age: 1800\n  mail:\n    from: fmpGateway@localhost\n  swagger:\n    default-include-pattern: /api/.*\n    title: fmpGateway API\n    description: fmpGateway API documentation\n    version: 0.0.1\n    terms-of-service-url:\n    contact-name:\n    contact-url:\n    contact-email:\n    license:\n    license-url:\n  security:\n    oauth2:\n      audience:\n        - account\n        - api://default\n</code></pre>\n<hr />\n<p>application-dev.yml file :</p>\n<pre><code>logging:\n  level:\n    ROOT: ERROR\n    io.github.jhipster: DEBUG\n    com.kpit.fmp.gateway: DEBUG\n\nspring:\n  profiles:\n    active: dev\n    include:\n      - swagger\n      # Uncomment to activate TLS for the dev profile\n      #- tls\n  devtools:\n    restart:\n      enabled: true\n      additional-exclude: static/**\n    livereload:\n      enabled: false # we use Webpack dev server + BrowserSync for livereload\n  jackson:\n    serialization:\n      indent-output: true\n  cloud:\n    consul:\n      discovery:\n        prefer-ip-address: true\n      host: localhost\n      port: 8500\n  datasource:\n    type: com.zaxxer.hikari.HikariDataSource\n    url: jdbc:postgresql://localhost:5432/rms_dev_db?currentSchema=gateway\n    username: kpit\n    password: kpit1234\n    hikari:\n      poolName: Hikari\n      auto-commit: false\n  jpa:\n    database-platform: io.github.jhipster.domain.util.FixedPostgreSQL10Dialect\n    show-sql: true\n    properties:\n      hibernate.id.new_generator_mappings: true\n      hibernate.connection.provider_disables_autocommit: true\n      hibernate.cache.use_second_level_cache: true\n      hibernate.cache.use_query_cache: false\n      hibernate.generate_statistics: false\n      hibernate.cache.region.factory_class: com.hazelcast.hibernate.HazelcastCacheRegionFactory\n      hibernate.cache.hazelcast.instance_name: fmpGateway\n      hibernate.cache.use_minimal_puts: true\n      hibernate.cache.hazelcast.use_lite_member: true\n  liquibase:\n    # Remove 'faker' if you do not want the sample data to be loaded automatically\n    contexts: dev #, faker\n  mail:\n    host: localhost\n    port: 25\n    username:\n    password:\n  messages:\n    cache-duration: PT1S # 1 second, see the ISO 8601 standard\n  thymeleaf:\n    cache: false\n  sleuth:\n    sampler:\n      probability: 1 # report 100% of traces\n  zipkin: # Use the &quot;zipkin&quot; Maven profile to have the Spring Cloud Zipkin dependencies\n    base-url: http://localhost:9411\n    enabled: false\n    locator:\n      discovery:\n        enabled: false\n\nserver:\n  port: 8080\n\n# ===================================================================\n# JHipster specific properties\n#\n# Full reference is available at: https://www.jhipster.tech/common-application-properties/\n# ===================================================================\n\njhipster:\n  gateway:\n    rate-limiting:\n      enabled: false\n      limit: 100000\n      duration-in-seconds: 3600\n    authorized-microservices-endpoints: # Access Control Policy, if left empty for a route, all endpoints will be accessible\n      app1: /api,/v2/api-docs # recommended dev configuration\n  cache: # Cache configuration\n    hazelcast: # Hazelcast distributed cache\n      time-to-live-seconds: 3600\n      backup-count: 1\n      management-center: # Full reference is available at: http://docs.hazelcast.org/docs/management-center/3.9/manual/html/Deploying_and_Starting.html\n        enabled: false\n        update-interval: 3\n        url: http://localhost:8180/hazelcast-mancenter\n  # CORS is only enabled by default with the &quot;dev&quot; profile, so BrowserSync can access the API\n  cors:\n    allowed-origins: &quot;*&quot;\n    allowed-methods: &quot;*&quot;\n    allowed-headers: &quot;*&quot;\n    exposed-headers: &quot;Authorization,Link,X-Total-Count&quot;\n    allow-credentials: true\n    max-age: 1800\n  mail: # specific JHipster mail property, for standard properties see MailProperties\n    base-url: http://127.0.0.1:8080\n  metrics:\n    logs: # Reports metrics in the logs\n      enabled: false\n      report-frequency: 60 # in seconds\n  logging:\n    use-json-format: false # By default, logs are not in Json format\n    logstash: # Forward logs to logstash over a socket, used by LoggingConfiguration\n      enabled: false\n      host: localhost\n      port: 5000\n      queue-size: 512\n  audit-events:\n    retention-period: 30 # Number of days before audit events are deleted.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yuDr6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yuDr6.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I started postgres container before composing keycloak image but still getting an error.`</p>\n"},{"comments":[{"comment_id":95683632,"body":"Looks like <code>-verbose</code> prints to standard error stream."},{"comment_id":95684056,"body":"Thanks but I don&#39;t understand what this really means. Can you expand ?"},{"comment_id":95684101,"body":"It is long story. Try <code>java -cp my.jar -verbose:class Handler &amp;2&gt;1 | grep Loaded</code>"},{"comment_id":95684170,"body":"Tried, same result"},{"comment_id":95686786,"body":"JDK 9 introduced <a href=\"https://openjdk.java.net/jeps/158\" rel=\"nofollow noreferrer\">Unified JVM Logging</a>. In particular, it modifies the format of GC, Class Loading and other JVM logs. See the <a href=\"https://openjdk.java.net/jeps/158\" rel=\"nofollow noreferrer\">linked JEP</a> for details. <code>[class,load]</code> lines replace older <code>[Loaded XYZ]</code> messages."},{"comment_id":95725308,"body":"Thanks. I tried with java 8 and java 11 and I saw the difference"}],"answers":[{"answer_id":54437573,"body":"<p>Please try with below Classes .Hope this works for you</p>\n\n<pre><code>java -cp my.jar -verbose:class Handler | grep 'Load*\\|Open*'\njava -cp my.jar -verbose:class Instrumentation | grep 'Load*\\|Open*'\njava -cp my.jar -verbose:class Serialisation | grep 'Load*\\|Open*'\n</code></pre>\n"},{"answer_id":54439667,"body":"<p>I have the answer.\nThe expected results is on Java 8.\nIn Java 11 the result is not the same, so I have to adapt my command for each version.</p>\n"},{"answer_id":76269653,"body":"<p>The class count would be possible to get in the actual program using</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field jvmField = ManagementFactory.getRuntimeMXBean().getClass().getDeclaredField(&quot;jvm&quot;);\njvmField.setAccessible(true);\nVMManagement jvmInstance = (VMManagement) jvmField.get(ManagementFactory.getRuntimeMXBean());\n\nint totalClassCount = jvmInstance.getTotalClassCount();\nint loadedClassCount = jvmInstance.getLoadedClassCount();\n</code></pre>\n<p>Tested in java 8</p>\n"}],"last_activity_date":1684309465,"question_id":54436957,"body":"<p>I'm trying to find a method to see the number of classes loaded by the JVM for a lambda function.\nI have a sample code from a friend but it does not work.\nI have the following:</p>\n\n<pre><code>java -cp my.jar -verbose:class Handler | grep Loaded \n</code></pre>\n\n<p>It must be missing something because I don't have the \"Loaded\" classes.\nIs \"load\" the replacement of \"Loaded\" ?</p>\n\n<p>The result of this is something like:</p>\n\n<pre><code>[0.179s][info][class,load] java.text.Format source: jrt:/java.base\n[0.179s][info][class,load] java.text.MessageFormat source: jrt:/java.base\n[0.179s][info][class,load] java.util.Locale$Category source: jrt:/java.base\n[0.179s][info][class,load] java.util.Locale$1 source: jrt:/java.base\n[0.180s][info][class,load] java.text.FieldPosition source: jrt:/java.base\n[0.180s][info][class,load] java.util.Date source: jrt:/java.base\n</code></pre>\n\n<p>I was expecting something like:</p>\n\n<pre><code>[Opened /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/sunrsasign.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/jsse.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/jce.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/charsets.jar]\n[Loaded java.lang.Object from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.io.Serializable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.lang.Comparable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.lang.CharSequence from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.lang.String from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n</code></pre>\n\n<p>Do you know what I'm missing ? Why I don't see the \"loaded\" classes ?\nI have <code>Java(TM) SE Runtime Environment 18.9 (build 11.0.2+9-LTS</code></p>\n\n<p>Thanks.\nC.C.</p>\n"},{"comments":[{"comment_id":89229238,"body":"Usually you run one application in one container and two applications in two containers."}],"answers":[{"comments":[{"comment_id":89230778,"body":"I updated the question and added the <b>Additional details</b> section. Based on your answer. I should create a new container where Java is installed. Then my python code would just require the path to <b>JAVA_HOME</b>. How do I do that? I looked at the docker documentation <a href=\"https://docs.docker.com/v17.09/engine/userguide/networking/default_network/container-communication/\" rel=\"nofollow noreferrer\">here</a> and it&#39;s really confusing."}],"answer_id":51121932,"body":"<p>I believe that by adding <code>FROM openjdk:slim</code> line, you tell docker to execute all of your subsequent commands in openjdk container (which does not have python)</p>\n\n<p>I would approach this by creating two separate containers for openjdk and python and specify individual sets of commands for them.</p>\n\n<p>Docker is made to modularize your solutions and mashing everything into one container is usually a bad practice. </p>\n"},{"comments":[{"comment_id":89233283,"body":"Does this work for you? I&#39;m getting this :    dpkg: error processing package openjdk-8-jre:amd64 (--configure):   Package openjdk-7-jre-headless is not installed.   Package java7-runtime-headless is not installed.   Package openjdk-8-jre-headless:amd64 which provides java7-runtime-headless is not configured yet.       Package openjdk-7-jre-headless is not installed.   Package java7-runtime-headless is not installed.   Package openjdk-8-jre-headless:amd64 which provides java7-runtime-headless is not configured yet."}],"answer_id":51122958,"body":"<p>Instead of using <code>FROM openjdk:slim</code> you can separately install Java, please refer below example:</p>\n\n<pre><code># Install OpenJDK-8\nRUN apt-get update &amp;&amp; \\\napt-get install -y openjdk-8-jdk &amp;&amp; \\\napt-get install -y ant &amp;&amp; \\\napt-get clean;\n\n# Fix certificate issues\nRUN apt-get update &amp;&amp; \\\napt-get install ca-certificates-java &amp;&amp; \\\napt-get clean &amp;&amp; \\\nupdate-ca-certificates -f;\n# Setup JAVA_HOME -- useful for docker commandline\nENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\nRUN export JAVA_HOME\n</code></pre>\n"},{"comments":[{"comment_id":95875124,"body":"This answer shows how to build a docker container with installed Java and python. When you run python, the Java process will not start. You can ssh your docker and see running processes (<code>top</code>) <a href=\"https://stackoverflow.com/questions/30172605/how-do-i-get-into-a-docker-containers-shell\" title=\"how do i get into a docker containers shell\">stackoverflow.com/questions/30172605/&hellip;</a>"},{"comment_id":101383694,"body":"It was a great solution !!!.Really Helped me .I was looking for putting Python 3 and Java 8 in same docker image and i achieved it thru the above way."},{"comment_id":110230242,"body":"I needed Java &amp; Python3 as well (but no pip &amp; flask needed) this solution created a 170mb Docker image. Using openjdk:slim and apt-getting python3 I got &gt;400mb. Both images build roughly equally fast."},{"comment_id":111246494,"body":"Even after setting the java home, in the bash shell when i type java or javac - there is no exec found using above docker file. (Error : Command not found)"},{"comment_id":124406559,"body":"PEP656 has led to cibuildwheel now supporting Linux distros that use musl i.e. Alpine Linux, so that might be different now see <a href=\"https://discuss.python.org/t/pep-656-platform-tag-for-linux-distributions-using-musl/7165/40\" rel=\"nofollow noreferrer\">discuss.python.org/t/&hellip;</a> and  <a href=\"https://cibuildwheel.readthedocs.io/en/stable/changelog/#v220\" rel=\"nofollow noreferrer\">cibuildwheel.readthedocs.io/en/stable/changelog/#v220</a>"}],"answer_id":51171447,"body":"<p>OK it took me a little while to figure it out. And my thanks go to this <a href=\"https://stackoverflow.com/a/49970245/2925044\">answer</a>.</p>\n<p>I think my approach didn't work because I did not have a basic version of Linux.</p>\n<p>So it goes like this:</p>\n<ol>\n<li>Get Linux (I'm using Alpine because it's barebones)</li>\n<li>Get Java via the package manager</li>\n<li>Get Python, PIP</li>\n</ol>\n<p><strong>OPTIONAL</strong>: find and set JAVA_HOME</p>\n<ol start=\"4\">\n<li>Find the path to JAVA_HOME. Perhaps there is a better way to do this, but I did this running the running the container, then I looked inside the container using  <code>docker exec -it [COINTAINER ID] bin/bash</code> and found it.</li>\n<li>Set <code>JAVA_HOME</code> in dockerfile and build + run it all again</li>\n</ol>\n<p>Here is the final Dockerfile ( it should work with the python code in the question) :</p>\n<pre><code>### 1. Get Linux\nFROM alpine:3.7\n\n### 2. Get Java via the package manager\nRUN apk update \\\n&amp;&amp; apk upgrade \\\n&amp;&amp; apk add --no-cache bash \\\n&amp;&amp; apk add --no-cache --virtual=build-dependencies unzip \\\n&amp;&amp; apk add --no-cache curl \\\n&amp;&amp; apk add --no-cache openjdk8-jre\n\n### 3. Get Python, PIP\n\nRUN apk add --no-cache python3 \\\n&amp;&amp; python3 -m ensurepip \\\n&amp;&amp; pip3 install --upgrade pip setuptools \\\n&amp;&amp; rm -r /usr/lib/python*/ensurepip &amp;&amp; \\\nif [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi &amp;&amp; \\\nif [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi &amp;&amp; \\\nrm -r /root/.cache\n\n### Get Flask for the app\nRUN pip install --trusted-host pypi.python.org flask\n\n####\n#### OPTIONAL : 4. SET JAVA_HOME environment variable, uncomment the line below if you need it\n\n#ENV JAVA_HOME=&quot;/usr/lib/jvm/java-1.8-openjdk&quot;\n\n####\n\nEXPOSE 81    \nADD test.py /\nCMD [&quot;python&quot;, &quot;test.py&quot;]\n</code></pre>\n<p>I'm new to Docker, so this may not be the best possible solution. I'm open to suggestions.</p>\n<p><strong>UPDATE: COMMON ISUUES</strong></p>\n<ul>\n<li><strong>Difficulty using python packages</strong></li>\n</ul>\n<p>As <a href=\"https://stackoverflow.com/users/4094939/joabe-lucena\">Joabe Lucena</a> pointed out <a href=\"https://stackoverflow.com/a/62269189/2925044\">here</a>, Alpine can have issues certain python packages.\nI recommend that you use a Linux distro that works best for you, e.g. centos.</p>\n"},{"answer_id":52688196,"body":"<p>you should have one FROM in your dockerfile\n(unless you use multi-stage build for the docker) </p>\n"},{"comments":[{"comment_id":99932176,"body":"<b>Update</b>, eventually, I switched into using two containers - to make life a bit simpler."},{"comment_id":102994973,"body":"Hmm - after switching to 2 containers, how do you communicate between the Java and Python containers?"},{"comment_id":102999637,"body":"It&#39;s another long story. Check spring sidecar. It works as a forward proxy."}],"answer_id":54541510,"body":"<p>Oh, let me add my five cents. I took python slim as a base image. Then I found open-jdk-11 (Note, open-jdk-10 will fail because it is not supported) base image code!... And copy-pasted it into my docker file. </p>\n\n<p><strong>Note, copy-paste driven development</strong> is cool... ONLY when you understand each line you use in your code!!!</p>\n\n<p>And here it is!</p>\n\n<pre><code>&lt;!-- language: shell --&gt;\nFROM python:3.7.2-slim\n\n# Do your stuff, install python.\n\n# and now Jdk\nRUN rm -rf /var/lib/apt/lists/* &amp;&amp; apt-get clean &amp;&amp; apt-get update &amp;&amp; apt-get upgrade -y \\\n    &amp;&amp; apt-get install -y --no-install-recommends curl ca-certificates \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\nENV JAVA_VERSION jdk-11.0.2+7\n\nCOPY slim-java* /usr/local/bin/\n\nRUN set -eux; \\\n    ARCH=\"$(dpkg --print-architecture)\"; \\\n    case \"${ARCH}\" in \\\n       ppc64el|ppc64le) \\\n         ESUM='c18364a778b1b990e8e62d094377af48b000f9f6a64ec21baff6a032af06386d'; \\\n         BINARY_URL='https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.1%2B13/OpenJDK11U-jdk_ppc64le_linux_hotspot_11.0.1_13.tar.gz'; \\\n         ;; \\\n       s390x) \\\n         ESUM='e39aacc270731dadcdc000aaaf709adae7a08113ccf5b4a045bc87fc13458d71'; \\\n         BINARY_URL='https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11%2B28/OpenJDK11-jdk_s390x_linux_hotspot_11_28.tar.gz'; \\\n         ;; \\\n       amd64|x86_64) \\\n         ESUM='d89304a971e5186e80b6a48a9415e49583b7a5a9315ba5552d373be7782fc528'; \\\n         BINARY_URL='https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.2%2B7/OpenJDK11U-jdk_x64_linux_hotspot_11.0.2_7.tar.gz'; \\\n         ;; \\\n       aarch64|arm64) \\\n         ESUM='b66121b9a0c2e7176373e670a499b9d55344bcb326f67140ad6d0dc24d13d3e2'; \\\n         BINARY_URL='https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.1%2B13/OpenJDK11U-jdk_aarch64_linux_hotspot_11.0.1_13.tar.gz'; \\\n         ;; \\\n       *) \\\n         echo \"Unsupported arch: ${ARCH}\"; \\\n         exit 1; \\\n         ;; \\\n    esac; \\\n    curl -Lso /tmp/openjdk.tar.gz ${BINARY_URL}; \\\n    sha256sum /tmp/openjdk.tar.gz; \\\n    mkdir -p /opt/java/openjdk; \\\n    cd /opt/java/openjdk; \\\n    echo \"${ESUM}  /tmp/openjdk.tar.gz\" | sha256sum -c -; \\\n    tar -xf /tmp/openjdk.tar.gz; \\\n    jdir=$(dirname $(dirname $(find /opt/java/openjdk -name javac))); \\\n    mv ${jdir}/* /opt/java/openjdk; \\\n    export PATH=\"/opt/java/openjdk/bin:$PATH\"; \\\n    apt-get update; apt-get install -y --no-install-recommends binutils; \\\n    /usr/local/bin/slim-java.sh /opt/java/openjdk; \\\n    apt-get remove -y binutils; \\\n    rm -rf /var/lib/apt/lists/*; \\\n    rm -rf ${jdir} /tmp/openjdk.tar.gz;\n\nENV JAVA_HOME=/opt/java/openjdk \\\n    PATH=\"/opt/java/openjdk/bin:$PATH\"\nENV JAVA_TOOL_OPTIONS=\"-XX:+UseContainerSupport\"\n</code></pre>\n\n<p>Now references.\n<a href=\"https://github.com/AdoptOpenJDK/openjdk-docker/blob/master/11/jdk/ubuntu/Dockerfile.hotspot.releases.slim\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-docker/blob/master/11/jdk/ubuntu/Dockerfile.hotspot.releases.slim</a></p>\n\n<p><a href=\"https://hub.docker.com/_/python/\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/python/</a></p>\n\n<p><a href=\"https://hub.docker.com/r/adoptopenjdk/openjdk11/\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/adoptopenjdk/openjdk11/</a></p>\n\n<p>I used them to answer this question, which may help you sometime.\n<a href=\"https://stackoverflow.com/q/54537030/4587961\">Running Python and Java in Docker</a></p>\n"},{"comments":[{"comment_id":104939960,"body":"This is exactly what I was looking for! Granted, you need to use compatible images and stuff but this makes it so much more clear than all the other answers and some of them dont work anymore because openjdk is a pain in the behind."},{"comment_id":111948397,"body":"this is actually the best practice to do multi-stage builds. thanks for providing this."},{"comment_id":116185638,"body":"when i do a similar step <code>COPY --from=python:3.6 &#47; &#47;</code>, but the other way around, i.e. i have a Java base image, and then <code>COPY --from=java_stage &#47; &#47;</code> I get Python errors when trying to do Python <code>pip3 install ...</code> i think the Python files are overwritten by the COPY step?"},{"comment_id":124406669,"body":"Copying the entire root from one image to another is bound to be trouble. Who knows what you are clobbering there? If it does work then it&#39;s luck and unless you precisely pin those image versions it&#39;s probably going to break on you as updates occur."}],"answer_id":58293896,"body":"<p>An easier solution to the above issue is to use multi-stage docker containers where you can copy the content from one to another. In the above case you can have <code>openjdk:slim</code> as the base container and then use content from a python container to be copied over into this base container as follows:</p>\n\n<pre><code>FROM openjdk:slim\nCOPY --from=python:3.6 / /\n\n... \n\n&lt;normal instructions for python container continues&gt;\n\n...\n\n</code></pre>\n\n<p>This feature is available as of Docker 17.05 and there are more things you can do using multi-stage build as in copying only the content you need from one to another.</p>\n\n<p><a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"noreferrer\">Reference documentation</a></p>\n"},{"comments":[{"comment_id":118634193,"body":"Please note that this package is not actively maintained and is built on java 8."},{"comment_id":124406597,"body":"It is old but it&#39;s crafted sensibly and would be easy to update and maintain, see <a href=\"https://github.com/rappdw/docker-java-python/blob/master/Dockerfile\" rel=\"nofollow noreferrer\">github.com/rappdw/docker-java-python/blob/master/Dockerfile</a> . The Python dockerfiles are complex so starting with the python base container and installing the azul zulu openJDK on top - as it does - looks like a good approach."}],"answer_id":61489619,"body":"<p>Another alternative is to simply use <strong>docker-java-python image</strong> from docker hub. <a href=\"https://hub.docker.com/r/rappdw/docker-java-python\" rel=\"noreferrer\">https://hub.docker.com/r/rappdw/docker-java-python</a></p>\n\n<pre><code>FROM rappdw/docker-java-python:openjdk1.8.0_171-python3.6.6\nRUN java -version\nRUN python --version\n</code></pre>\n"},{"answer_id":62269189,"body":"<p>I tried <a href=\"https://stackoverflow.com/users/2925044/pajamas\">pajamas</a>'s <a href=\"https://stackoverflow.com/a/51171447/4094939\">anwser</a> which worked very well for creating this image. However, when trying to install packages like <code>gensim</code>, <code>pandas</code> or else, I faced some errors like: <code>don't know how to compile Fortran code on platform 'posix'</code>. I searched and tried <a href=\"https://stackoverflow.com/questions/29586487/still-cant-install-scipy-due-to-missing-fortran-compiler-after-brew-install-gcc\">this</a>, <a href=\"https://stackoverflow.com/questions/44732303/docker-unable-to-install-numpy-scipy-or-gensim\">this</a> and <a href=\"https://stackoverflow.com/questions/38568476/installing-seaborn-on-docker-alpine\">that</a> but none worked for me.</p>\n\n<p>So, based on <a href=\"https://stackoverflow.com/users/2925044/pajamas\">pajamas</a>'s <a href=\"https://stackoverflow.com/a/51171447/4094939\">anwser</a> I decided to convert his image from <code>Alpine</code> to <code>Centos</code> which worked very well. So here's a Dockerfile that might help someone who's may be struggling in this scenario like I was:</p>\n\n<pre><code># Get Linux\nFROM centos:7\n\n# Install Java\nRUN yum update -y \\\n&amp;&amp; yum install java-1.8.0-openjdk -y \\\n&amp;&amp; yum clean all \\\n&amp;&amp; rm -rf /var/cache/yum\n\n# Set JAVA_HOME environment var\nENV JAVA_HOME=\"/usr/lib/jvm/jre-openjdk\"\n\n# Install Python\nRUN yum install python3 -y \\\n&amp;&amp; pip3 install --upgrade pip setuptools wheel \\\n&amp;&amp; if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi \\\n&amp;&amp; if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi \\\n&amp;&amp; yum clean all \\\n&amp;&amp; rm -rf /var/cache/yum\n\nCMD [\"bash\"]\n</code></pre>\n"},{"comments":[{"comment_id":124410547,"body":"Using the more specific copy, adding the ENV and using update-alternatives is a very sane approach."}],"answer_id":67986398,"body":"<p>I found Sunny Pal's answer very useful but I made the copy more specific and added the necessary environment variables and update-alternatives lines so that Java was accessible from the command line in the Python container.</p>\n<pre><code>FROM python:3.9-slim\nCOPY --from=openjdk:8-jre-slim /usr/local/openjdk-8 /usr/local/openjdk-8\n\nENV JAVA_HOME /usr/local/openjdk-8\n\nRUN update-alternatives --install /usr/bin/java java /usr/local/openjdk-8/bin/java 1\n...\n</code></pre>\n"},{"answer_id":72021175,"body":"<p>I think i found easiest way to mix java jdk 17 and python3. I is <strong>not working on python2</strong></p>\n<pre><code>FROM openjdk:17.0.1-jdk-slim\n\n\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y software-properties-common &amp;&amp; \\\n    apt-get install -y python3-pip\n</code></pre>\n<p>Software Commons have python3 lightweight version. (3.9.1 version)</p>\n<p>U can also install some libraries like that.</p>\n<pre><code>RUN python3 -m pip install --upgrade pip &amp;&amp; \\\n    python3 -m pip install numpy &amp;&amp; \\\n    python3 -m pip install opencv-python\n</code></pre>\n<p>OR</p>\n<pre><code>RUN apt-get update &amp;&amp; \\\n    apt-get install -y ffmpeg\n</code></pre>\n"},{"answer_id":74661206,"body":"<p>Easiest is to just start from a Python image and add the OpenJDK. Note that <code>FROM openjdk</code> has been deprecated and replaced with <code>eclipse-temurin</code></p>\n<pre><code>FROM python:3.10\n\nENV JAVA_HOME=/opt/java/openjdk\nCOPY --from=eclipse-temurin:17-jre $JAVA_HOME $JAVA_HOME\nENV PATH=&quot;${JAVA_HOME}/bin:${PATH}&quot;\n\nRUN pip install --trusted-host pypi.python.org flask\n</code></pre>\n<p>See <code>How to use this Image</code> - <code>Using a different base Image</code> section of <a href=\"https://hub.docker.com/_/eclipse-temurin\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/eclipse-temurin</a> for details.</p>\n"},{"answer_id":76269459,"body":"<p>Here's one I personally use that works with Java 17.</p>\n<pre><code>FROM eclipse-temurin:17-jre-alpine\n\n# Install Python and pip, can modify with a specific version of python too\nRUN apk add --no-cache python3 py3-pip\n\n# Add your own commands, you can add python packages with pip install\n</code></pre>\n<p>Skipped the security best practices to keep this short.</p>\n"}],"last_activity_date":1684309252,"question_id":51121875,"body":"<p>I need both java and python in my docker container to run some code. </p>\n\n<p>This is my dockerfile:\nIt works perpectly if I don't add the <strong>FROM openjdk:slim</strong></p>\n\n<pre><code>#get python\nFROM python:3.6-slim\n\nRUN pip install --trusted-host pypi.python.org flask\n\n#get openjdk\n\nFROM openjdk:slim\n\n\nCOPY . /targetdir\nWORKDIR /targetdir\n\n# Make port 81 available to the world outside this container\nEXPOSE 81\n\nCMD [\"python\", \"test.py\"]\n</code></pre>\n\n<p>And the test.py app is in the same directory:</p>\n\n<pre><code>from flask import Flask\n\nimport os\napp = Flask(__name__)\n\n\n@app.route(\"/\")\n\ndef hello():\n    html = \"&lt;h3&gt;Test:{test}&lt;/h3&gt;\"\n    test = os.environ['JAVA_HOME']\n\n    return html.format(test = test)\n\n\nif __name__ == '__main__':\n    app.run(debug=True,host='0.0.0.0',port=81)\n</code></pre>\n\n<p>I'm getting this error: </p>\n\n<pre><code>D:\\MyApps\\Docker Toolbox\\Docker Toolbox\\docker.exe: Error response from daemon: OCI runtime create failed: container_linux.go:348: starting container process caused \"exec: \\\"python\\\": executable file not found in $PATH\": unknown.\n</code></pre>\n\n<p>What exactly am I doing wrong here? I'm new to docker, perhaps I'm missing a step.</p>\n\n<p><strong>Additional details</strong></p>\n\n<p><strong>My goal</strong> </p>\n\n<p>I have to run a python program that runs a Java file. The python library I'm using requires the path to <code>JAVA_HOME</code>.</p>\n\n<p><strong>My issues:</strong></p>\n\n<ul>\n<li><p>I do not know Java, so I cannot run the file properly.</p></li>\n<li><p>My entire code is in Python, except this Java bit</p></li>\n<li><p>The Python wrapper runs the file in a way I need it to run.</p></li>\n</ul>\n"},{"answers":[{"answer_id":76269615,"body":"<p>On create rpc instance use Async interface and on create by GWT use default interface</p>\n<pre><code>public static final GwtRpcServiceAsync GWT_RPC_SERVICE = GWT.create(GwtRpcService.class); \n</code></pre>\n"}],"last_activity_date":1684309230,"question_id":76264147,"body":"<p>I did everything as in the tutorials, but for some reason there is still an error during assembly.</p>\n<p>GwtRpcService.java:</p>\n<pre><code>@RemoteServiceRelativePath(&quot;gwtRpcService&quot;)\npublic interface GwtRpcService extends RemoteService {\n    BaseRpcResult sendToPrint(EntityProxy model);\n}\n\n</code></pre>\n<p>GwtRpcServiceAsync.java:</p>\n<pre><code>public interface GwtRpcServiceAsync {\n    void sendToPrint(EntityProxy data, AsyncCallback&lt;BaseRpcResult&gt; async);\n}\n</code></pre>\n<p>GwtRpcServiceImpl.java:</p>\n<pre><code>\n@Service\npublic class GwtRpcServiceImpl extends RemoteServiceServlet implements GwtRpcService {\n    @Autowired\n    private PrintService printService;\n\n    @Override\n    public BaseRpcResult sendToPrint(EntityProxy entityProxy) throws IllegalArgumentException {\n        // some...\n    }\n}\n</code></pre>\n<p>GWT log build:</p>\n<pre><code>[ERROR] Line 38: No source code is available for type &lt;project_path&gt;.gwt.server.GwtRpcServiceImpl; did you forget to inherit a required module?\n[ERROR] Unable to find type '&lt;project_path&gt;.gwt.client.AppBundle'\n[ERROR] Hint: Previous compiler errors may have made this type unavailable\n[ERROR] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly\n</code></pre>\n<p>Please help me solve the problem.</p>\n<p>I thought the problem was that there is no library or the servlet is incorrectly declared, but everything seems to be fine.</p>\n<p>Main.gwt.xml:</p>\n<pre><code>&lt;module rename-to=&quot;gwt&quot;&gt;\n\n    &lt;source path='client'/&gt;\n    &lt;source path='shared'/&gt;\n\n    &lt;inherits name='com.google.gwt.user.User'/&gt;\n    &lt;inherits name='com.google.gwt.logging.Logging'/&gt;\n    &lt;inherits name=&quot;com.google.gwt.uibinder.UiBinder&quot;/&gt;\n    &lt;inherits name=&quot;com.google.web.bindery.requestfactory.RequestFactory&quot;/&gt;\n    &lt;inherits name=&quot;org.hibernate.validator.HibernateValidator&quot; /&gt;\n</code></pre>\n<p>web.xml:</p>\n<pre><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;gwtRpcService&lt;/servlet-name&gt;\n        &lt;servlet-class&gt; &lt;project_path&gt;.gwt.server.GwtRpcServiceImpl &lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;gwtRpcService&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/main/gwtRpc&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n     &lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;\n     &lt;version&gt;${com.google.gwt.version}&lt;/version&gt; // 2.6.1 version\n&lt;/dependency&gt;\n</code></pre>\n"},{"answers":[{"answer_id":76269581,"body":"<p>You should double check if there is really no value in the backing data in the <code>FilterRowDataProvider</code>. Debug why the filter icon is displayed. Because it should only show up if a value is set in the backing data.</p>\n"}],"last_activity_date":1684308918,"question_id":76269516,"body":"<p>When I click on a filter cell and then move on to a different area in my view without entering a filter string, the 'clear filter' icon is displayed in the cell even when I haven't entered a string. As shown in the Nattable given below, the filter columns having the icon enabled do not have any filter strings entered. Is there a way to explicity disable this behavior in the FilterRowConfiguration?</p>\n<p><a href=\"https://i.stack.imgur.com/tMJNq.png\" rel=\"nofollow noreferrer\">Nattable</a></p>\n<p>I found a similar behavior in the <code>_6031_GlazedListsFilterExample</code> for the first column in that example. However, the other columns in that example do not show the 'clear filter' icon as expected.</p>\n<p>Pasting the contents of my FilterRowConfiguration</p>\n<pre><code>final DefaultIntegerDisplayConverter idc = new DefaultIntegerDisplayConverter();\nfinal DefaultLongDisplayConverter ldc = new DefaultLongDisplayConverter();\n\n                @Override\n        public void configureRegistry(IConfigRegistry configRegistry)\n        {\n        for (int i = 0 ; i &lt; propNames.size() ; i++)    \n            {\n                \n                configRegistry.registerConfigAttribute(\n                        FilterRowConfigAttributes.TEXT_MATCHING_MODE,\n                        TextMatchingMode.REGULAR_EXPRESSION, DisplayMode.NORMAL,\n                        FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + i);\n                configRegistry.registerConfigAttribute(\n                        CellConfigAttributes.DISPLAY_CONVERTER,\n                        new LinkerMapFilterRowRegexConverter(), DisplayMode.NORMAL,\n                        FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + i);\n\n            }\n            configRegistry.registerConfigAttribute(                                 // comparator\n                    FilterRowConfigAttributes.FILTER_COMPARATOR,\n                    Comparator.nullsLast(new DefaultComparator()), DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_SIZE));\n\n            configRegistry.registerConfigAttribute(                                 // filter display converter\n                    FilterRowConfigAttributes.FILTER_DISPLAY_CONVERTER, idc,\n                    DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_SIZE));\n\n            configRegistry.registerConfigAttribute(\n                    FilterRowConfigAttributes.TEXT_MATCHING_MODE,\n                    TextMatchingMode.REGULAR_EXPRESSION, DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_SIZE));\n            \n            \n\n            configRegistry.registerConfigAttribute(                                     // comparator\n                    FilterRowConfigAttributes.FILTER_COMPARATOR,\n                    Comparator.nullsLast(new DefaultComparator()), DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_ADDRESS));\n            \n            configRegistry.registerConfigAttribute(                                      // filter display converter\n                    FilterRowConfigAttributes.FILTER_DISPLAY_CONVERTER, ldc,\n                    DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_ADDRESS));\n            configRegistry.registerConfigAttribute(\n                    FilterRowConfigAttributes.TEXT_MATCHING_MODE,\n                    TextMatchingMode.REGULAR_EXPRESSION, DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_ADDRESS));\n\n        }\n\n</code></pre>\n"},{"last_activity_date":1684308880,"question_id":76269578,"body":"<p>I want to create a MDM server to manage my iOS devices. I have enrolled in iOS Apple Developer Program. I have creat a CSR file，and upload it to create Certificate in Apple Push Certificates Portal.But it display the error message:Certificate Signature Verification failed.\nI really don't understand what went wrong.</p>\n<p>Hope that it can create a certificate successfully.</p>\n"},{"comments":[{"comment_id":134488995,"body":"While it may not directly solve your problem i&#39;d like to ask: Is having the direct link from Child to Grandparent really necessary? Isn&#39;t having a link to the parent and them from there to the grandparent enough to model the relation? When doing queries you might have to do an extra join, but at least the relation wouldn&#39;t be saved twice redundantly in the database."},{"comment_id":134490639,"body":"Are you setting the <code>grandParent</code> member during the <code>Child</code> entity creation? Could you please share this part of the code?"},{"comment_id":134491742,"body":"@OHGODSPIDERS - I couldn&#39;t agree more, yet that&#39;s the situation I&#39;m facing. I did edit my question with this clarification, thanks"},{"comment_id":134491956,"body":"@MauricioBuffon - Actually no, I didn&#39;t set the <code>grandParent</code> member explicitly in the <code>Child</code> - This should be handled by Hibernate no? I edited the question with the way I&#39;m creating the entities. Thanks"},{"comment_id":134492121,"body":"@mesh Well, how should Hibernate know how to derive that value then? Note that, in your code, the <code>@OneToOne</code> relationship is unidirectional."},{"comment_id":134492604,"body":"@MauricioBuffon I have updated the <code>addChild</code> method in Parent like this:  <code>public void addChild(Child child) {         if (this.children == null) {             this.children = new HashSet&lt;&gt;();         }         this.children.add(child);         child.setParent(this);         &#47;&#47;let&#39;s try...         child.setGrandParent(getParent());     }</code> I guess that&#39;s what you meant - Still child.grand_parent_id is Null."},{"comment_id":134492768,"body":"@mesh Yes, that&#39;s what I meant. The <code>Child#setParent</code> method isn&#39;t a problem (because the Child - Parent relationship is bidirectional; both entities map the relation). But the <code>Child#setGrandParent</code> method is necessary to let Hibernate know how to populate the <code>grand_parent_id</code> column in <code>child</code> table."},{"comment_id":134492863,"body":"@MauricioBuffon First apologies, this should be <code>child.setGrandParent(getGrandParent())</code> I fixed it in the question. Still - it doesn&#39;t seem to solve the problem - <b>child.grand_parent_id is still NULL</b>"},{"comment_id":134493382,"body":"@mesh Yeah, but note the order in your code: 1) create the child 2) create the parent 3) add the child to parent 3.1) set the grandParent of the child (which is null at this point) 4) create the grandParent 5) add the parent to grandParent. You have to assure that when you call <code>Child#setGrandParent</code> the object is not null."},{"comment_id":134493552,"body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253690/discussion-between-mesh-and-mauricio-buffon\">continue this discussion in chat</a>."}],"answers":[{"answer_id":76269569,"body":"<p>Root cause - I haven't set the grandParent explicitly on the child.\nHaving a one to one unidirectional relation between those entities, this is the way to go.</p>\n<p>Credits to @MauricioBuffon</p>\n<pre><code>public void addParent(Parent parent) {\n        if (this.parents == null) {\n            this.parents = new HashSet&lt;&gt;();\n        }\n        this.parents.add(parent);\n        parent.setGrandParent(this);\n        parent.getChildren().stream().forEach(child -&gt; child.setGrandParent(this));\n    }\n</code></pre>\n"}],"last_activity_date":1684308802,"question_id":76264574,"body":"<p>I use Spring, Hibernate and JPA.\n(I will mention that this is a dropwizard application and not springboot, although I don't think it should have any affect...)</p>\n<p>Storage: MySql.</p>\n<p>There's no usage with foreign key in the database.</p>\n<h3>Note:</h3>\n<p>As mentioned in one of the comments below -\nI totally agree that saving the grandparent id within the child table isn't ideal, and traversing child -&gt; parent -&gt; grandparent is a better practice. Specifically for this question please consider this as a given situation (kind of a legacy code I can't change now...)</p>\n<p>I have the following JPA entities:\n(names have been changed)</p>\n<p><strong>The GrandParent:</strong></p>\n<pre><code>@Entity\npublic class GrandParent {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;int unsigned not null&quot;)\n    private Long id;\n\n    //... some other fields... getters and setters\n\n    @OneToMany(mappedBy = &quot;parent&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private Set&lt;Parent&gt; parents;\n\n    public void addParent(Parent parent) {\n        if (this.parents == null) {\n            this.parents = new HashSet&lt;&gt;();\n        }\n        this.parents.add(parent);\n        parent.setGrandParent(this);\n    }\n\n    public void removeParent(Parent parent) {\n        this.parents.remove(parent);\n        parent.setGrandParent(null);\n    }\n\n}\n\n</code></pre>\n<p><strong>The Parent:</strong></p>\n<pre><code>\n@Entity\npublic class Parent {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;grand_parent_id&quot;, referencedColumnName = &quot;id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private GrandParent grandParent;\n   \n    @OneToMany(mappedBy = &quot;parent&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private Set&lt;Child&gt; children;\n\n    // other fields, getters and setters\n\n    public void addChild(Child child) {\n        if (this.fields == null) {\n            this.fields = new HashSet&lt;&gt;();\n        }\n        this.children.add(child);\n        child.setParent(this);\n    }\n\n    public void removeChild(Child child) {\n        this.children.remove(child);\n        child.setParent(null);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Parent )) return false;\n        return id != null &amp;&amp; id.equals(((Parent) o).getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n\n}\n\n</code></pre>\n<p><strong>The Child:</strong></p>\n<pre><code>\n@Entity\npublic class Child {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private Long id;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;grand_parent_id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private GrandParent grandParent;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private Parent parent;\n\n    // other fields, getters and setters\n\n\n}\n\n\n</code></pre>\n<p>I create a GrandParent instant in the following manner (I'm mentioning just the relevant fields...):</p>\n<pre><code>Child child = Child.builder()\n                .someField(&quot;1&quot;)\n                .someOtherField(1)\n                .build();\n\nParent parent = Parent.builder()\n                .someField(&quot;1&quot;)\n                .someOtherField(1)\n                .build();\n        parent.addChild(child);\n        \nGrandParent grandParent = GrandParent.builder()\n                .someField(&quot;1&quot;)\n                .someOtherField(1)\n                .build();\n        grandParent.addParent(parent);\n</code></pre>\n<p>In My Repository I save GrandParent entity using:</p>\n<pre><code>hibernateSession.save(grandParent);\n</code></pre>\n<p>Indeed all rows stored successfully, Yet the child.grand_parent_id remains Null.</p>\n<p>What’s wrong, and how can it be solved?</p>\n<p><strong>For better visibility I'm adding this update</strong> (refer to @MauricioBuffon comment below)</p>\n<p>I tried to set the <code>GrandParent</code> explicitly in the <code>Child</code> by editing the <code>addChild</code> method in <code>Parent</code> Entity:</p>\n<pre><code>public void addChild(Child child) { \n        if (this.children == null) {             \n             this.children = new HashSet&lt;&gt;();         \n        }         \n        this.children.add(child);         \n        child.setParent(this);\n        //let's try...\n        child.setGrandParent(getGrandParent());\n     }\n</code></pre>\n<p>Still the Child.grand_parent_id = Null.</p>\n<p>So question remains:</p>\n<p>What’s wrong, and how can it be solved?</p>\n"},{"comments":[{"comment_id":48336981,"body":"Problem is that the servlet container has a default servlet that handles the static content. When you define a servlet with the same mapping i.e. <code>&#47;*</code>, this will shadow the static content servlet. When the Resteasy servlet invoked, if it can&#39;t find the requested static content, it will not fallback to the default servlet. I know Jersey has a configuration property to set, where it handle the static content itself, but I don&#39;t know about Resteasy. I <a href=\"http://docs.jboss.org/resteasy/docs/3.0.9.Final/userguide/html/Installation_Configuration.html#d4e125\" rel=\"nofollow noreferrer\">checked, but you can check again</a>"},{"comment_id":48344311,"body":"You can get away with a filter that understands when a request is for static content and responds itself; you <i>will</i> have to reproduce some (or all?) of the functionality of the static resource servlet. If you <i>only want to serve the swagger.yaml</i>, then you may create a JAX-RS service that responds to this URL by loading e.g the file from the classpath and sets the right headers."}],"answers":[{"comments":[{"comment_id":48925558,"body":"Even tho Resteasy&#39;s own documentation says servlet filters are <b>deprecated</b>, I think this is the only option when we need to serve both static resources and services. Or is there some config we could do to still use pure JAX-RS inside your app?"},{"comment_id":48925773,"body":"@fasfsfgs Yeah it seems kind of odd to me that the documentation would mention both the deprecation of the filter usage and it being the solution to a problem, let alone in the same paragraph. If it&#39;s any consolation, even with Jersey, to enable this feature, we need to register as a filter. Seems more like a limitation of servlets as a whole, rather than JAX-RS. As far as any other solution, this is the only one I was able to find, unless you&#39;re willing to change the servlet mapping to something else beside <code>&#47;*</code>, which is not a possible solution for the OP"},{"comment_id":62813901,"body":"Unlike other deprecated features (resteasy.scan property), resteasy still allows you to use this functionality.. so it&#39;s not really completely deprecated for servlet 3.0 containers.."}],"answer_id":30180337,"body":"<p>So I found a solution (tested) that works. As stated in the <a href=\"http://docs.jboss.org/resteasy/docs/3.0.9.Final/userguide/html/Installation_Configuration.html#filter\" rel=\"nofollow\">Resteasy Documentation - RESTEasy as a servlet Filter</a>:</p>\n\n<blockquote>\n  <p>The downside of running Resteasy as a Servlet is that you cannot have static resources like .html and .jpeg files in the same path as your JAX-RS services. Resteasy allows you to run as a Filter instead. If a JAX-RS resource is not found under the URL requested, Resteasy will delegate back to the base servlet container to resolve URLs. </p>\n</blockquote>\n\n<p>web.xml example</p>\n\n<pre><code>&lt;web-app&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;Resteasy&lt;/filter-name&gt;\n        &lt;filter-class&gt;\n            org.jboss.resteasy.plugins.server.servlet.FilterDispatcher\n        &lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;com.restfully.shop.services.ShoppingApplication&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;Resteasy&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"answer_id":53853786,"body":"<p>I found another solution (thanks to <a href=\"https://stackoverflow.com/a/3582215/589525\">https://stackoverflow.com/a/3582215/589525</a> ). This works for RestEasy on JBoss 6. Simply add the default servlet to the mapping</p>\n\n<pre><code>&lt;!--existing mapping: --&gt;\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;default&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"answer_id":76269564,"body":"<p>If there is a limited (small) count of static resources, each could be added as a static <code>&lt;servlet&gt;</code>+<code>&lt;servlet-mapping&gt;</code> entry in the <code>web.xml</code>.\nThis shall work independently of the container used - as is a standard feature.\nE.g. like so:</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;swagger-yaml&lt;/servlet-name&gt;\n    &lt;jsp-file&gt;/swagger.yaml&lt;/jsp-file&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;swagger-yaml&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/swagger.yaml&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>Again - this makes most sense only for very limited count of static resources (e.g. 1-5).</p>\n"}],"last_activity_date":1684308793,"question_id":30111978,"body":"<p>We have multiple Java web apps packaged as WARs all packaged in an EAR. Our RESTful services are built using JAX-RS and in version specific WARs. </p>\n\n<p>We'd like to add static content for each of these version specific WARs, but use the root context (of the WAR) for both the static content and the RESTful service API calls, such that all of the following URLs will work:</p>\n\n<pre><code>{hostname}/v1/swagger.yaml  &lt;-- Static Content describing the v1 API\n{hostname}/v1/orders/{uid}  &lt;-- JAX-RS RESTful API (v1)\n\n{hostname}/v2/swagger.yaml  &lt;-- Static Content describing the v2 API\n{hostname}/v2/orders/{uid}  &lt;-- JAX-RS RESTful API (v2)\n</code></pre>\n\n<p>The following deployment structure is what we currently have, which works for the JAX-RS services, but not the static content. In other words these URLs work:</p>\n\n<pre><code>{hostname}/v1/orders/{uid}  &lt;-- JAX-RS RESTful API (v1)\n{hostname}/v2/orders/{uid}  &lt;-- JAX-RS RESTful API (v2)\n</code></pre>\n\n<p>But the problem is that these URLS are inaccessible:</p>\n\n<pre><code>{hostname}/v1/swagger.yaml  &lt;-- Static Content describing the v1 API\n{hostname}/v2/swagger.yaml  &lt;-- Static Content describing the v2 API\n</code></pre>\n\n<p>Question: How do we get these static URLs to work?</p>\n\n<p>Here's the exploded EAR:</p>\n\n<pre><code>example.ear\n\n    META-INF\n        application.xml\n\n    v1.war\n        swagger.yaml\n        WEB-INF\n            web.xml\n            classes\n                ApplicationV1.class\n                OrdersResourceV1.class\n\n    v2.war\n        swagger.yaml\n        WEB-INF\n            web.xml\n            classes\n                ApplicationV2.class\n                OrdersResourceV2.class\n</code></pre>\n\n<p>Here's the EARs <code>application.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;application xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/application_6.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"6\"&gt;\n  &lt;application-name&gt;...&lt;/application-name&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;v1.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/v1&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;v2.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/v2&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;another.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>Here's the v1 &amp; v2 <code>web.xml</code>:</p>\n\n<pre><code>&lt;web-app version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Here's the <code>ApplicationV1.java</code> (JAX-RS) implementation, notice the URL mapping:</p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\n\n@ApplicationPath(\"/\")\npublic class ApplicationV1 extends Application {\n\n  private Set&lt;Object&gt; singletons = new HashSet&lt;Object&gt;();\n\n  public ApplicationV1() {\n    singletons.add(new OrdersResourceV1());\n  }\n\n  @Override\n  public Set&lt;Object&gt; getSingletons() {\n    return singletons;\n  }\n\n}\n</code></pre>\n\n<p>Here's the <code>OrdersResourceV1.java</code> (JAX-RS) implementation, notice the URL mapping:</p>\n\n<pre><code>import javax.enterprise.context.RequestScoped;\nimport javax.ws.rs.*;\n\n@RequestScoped\n@Path(\"/orders\")\npublic class OrdersResourceV1 {\n\n  @GET\n  @Path(\"/{uid}\")\n  @Produces(\"application/json;charset=UTF-8\")\n  public Response getOrder(@PathParam(\"uid\") String orderUid) {\n    &lt;ommited for brevity&gt;\n  }\n\n}\n</code></pre>\n\n<p>I do know that if we changed <code>ApplicationV*.java</code>'s mapping to <code>@ApplicationPath(\"/services\")</code>, that the static content will be assessable, but the URLs will then be as follows, but it's our goal to not include any extraneous path elements like this.</p>\n\n<pre><code>{hostname}/v1/swagger.yaml  &lt;-- Static Content describing the v1 API\n{hostname}/v1/services/orders/{uid} &lt;-- JAX-RS RESTful API (v1)\n\n{hostname}/v2/swagger.yaml  &lt;-- Static Content describing the v2 API\n{hostname}/v2/services/orders/{uid} &lt;-- JAX-RS RESTful API (v2)\n</code></pre>\n\n<p>So my question is, how do we get the JAX-RS and static content under the root context for the WAR (<code>/v1</code> and <code>/v2</code>)? Is there a different way to map the URLs? Or is there a configuration option that allows for a static fallback if JAX-RS doesn't have a handler for the URL?</p>\n\n<p>I'm hoping that this can be solved a JavaEE generic fashion, but if not, we're using Wildfly 8.1 on Java8.</p>\n"},{"last_activity_date":1684308791,"question_id":76269562,"body":"<p>I'm building a SpringBoot Web App. And the SpringBoot controller function cannot redirect to another page.</p>\n<p>Here is the jsp file:</p>\n<pre><code>&lt;body&gt;\n&lt;form class=&quot;loginForm&quot;&gt;\n    &lt;label&gt;account:&lt;/label&gt;\n        &lt;input type=&quot;text&quot; id=&quot;account_number&quot;/&gt;&lt;br/&gt;\n    &lt;label&gt;password:&lt;/label&gt;\n        &lt;input type=&quot;password&quot; id=&quot;account_pwd&quot;/&gt;&lt;br/&gt;\n    &lt;label&gt;type:&lt;/label&gt;\n        &lt;input type=&quot;radio&quot; id=&quot;personal&quot; name=&quot;type&quot; value=&quot;1&quot; checked&gt;\n        &lt;label for=&quot;personal&quot;&gt;personal&lt;/label&gt;\n    &lt;/input&gt;\n        &lt;input type=&quot;radio&quot; id=&quot;company&quot; name=&quot;type&quot; value=&quot;2&quot;&gt;\n        &lt;label for=&quot;company&quot;&gt;company&lt;/label&gt;\n    &lt;/input&gt;&lt;br/&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;login&quot;/&gt;\n&lt;/form&gt;\n</code></pre>\n\n\n<p>And here is js code sending post request:</p>\n<pre><code>$(function () {\n$(&quot;.loginForm&quot;).submit(function () {\n    $.ajax({\n        type: &quot;POST&quot;,\n        url: &quot;/login&quot;,\n        data: {&quot;account_number&quot;: $.trim($(&quot;#account_number&quot;).val()),\n            &quot;account_pwd&quot;: $.trim($(&quot;#account_pwd&quot;).val()),\n            &quot;account_type&quot;: parseInt($('input[name=type]:checked').val())},\n        dataType: &quot;json&quot;,\n        success: function (res) {\n            console.log(res);\n        }\n    });\n});});\n</code></pre>\n<p>Controller function code(personalAccountManage is another jsp page):</p>\n<pre><code>@RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\npublic String login(HttpSession httpSession, @RequestParam(&quot;account_number&quot;)String account_number, @RequestParam(&quot;account_pwd&quot;)String account_pwd, @RequestParam(&quot;account_type&quot;)int type) {\n    return &quot;redirect:/personal/accountManage&quot;;\n}\n\n@RequestMapping(value = &quot;/personal/accountManage&quot;)\npublic String personalAccountManage(HttpSession httpSession) {\n    return &quot;personalAccountManage&quot;;\n}\n</code></pre>\n<p>I have tested that the Controller function login() can receive three parameters successfully but it cannot redirect, I don't know why. Really need help! Thanks!!!!!!!!!</p>\n"},{"comments":[{"comment_id":134496238,"body":"Do you get any exceptions on the devices that don&#39;t work?"},{"comment_id":134497609,"body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/65637610/150978\">stackoverflow.com/q/65637610/150978</a>"},{"comment_id":134497618,"body":"Since Android 10 you can not save files anywhere where you want in the &quot;external storage directory&quot;. Only specific paths are directly accessible. For the other you need to use scoped storage."},{"comment_id":134498200,"body":"Just try a public directory on external storage for pictures and images like DCIM and Pictures. And you should have placed a Toast() in that catch block to inform the user about the failing."}],"last_activity_date":1684308728,"question_id":76268655,"body":"<p>I am unable to compress a file on all devices in java in android studio. It works on some android versions but not on all. I am uploading a profile picture in my application, but to upload large files I am compressing it to so as to easily upload it. But the method which I am using for compressing the file is working on some android versions but not on all.</p>\n<p>I've tried many methods, I've resized my picture so as to reduce its size but at last the compressing method suits the most to my code and it was working fine for some devices but not for all.</p>\n<pre><code>   private File getBitmapFile(Bitmap reducedBitmap, File file1) {\n        File file = new File(Environment.getExternalStorageDirectory() + File.separator + file1.getName());\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        reducedBitmap.compress(Bitmap.CompressFormat.JPEG,100,bos);\n        byte[] bitmapdata = bos.toByteArray();\n\n        Log.e(&quot;&quot;,&quot;         Working:    &quot;);\n        try{\n            file.createNewFile();\n            FileOutputStream fos = new FileOutputStream(file);\n            fos.write(bitmapdata);\n            fos.flush();  \n            fos.close();\n            return file;\n\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n        return file;\n    }\n</code></pre>\n"},{"answers":[{"answer_id":66768046,"body":"<p>So far, I've found two ways to do this for me:\nusing Keys.ARROW_DOWN, Keys.PAGE_DOWN\nor executing a Javascript to scroll the element up/down.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavascriptExecutor jsExec = (JavascriptExecutor) driver;\njsExec.executeScript(&quot;document.getElementById('id').scrollTop += 100&quot;);\n</code></pre>\n"},{"comments":[{"comment_id":134486709,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76260985/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76260985,"body":"<p>You can use Javascript executor</p>\n<p>For scroll down,</p>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;window.scrollBy(0,250)&quot;);\n</code></pre>\n<p>For scroll Up,</p>\n<pre><code>js.executeScript(&quot;window.scrollBy(0,250)&quot;);\n</code></pre>\n<p>you can also use to scroll until element is visible</p>\n<pre><code>js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n<p>You can refer to <a href=\"https://www.guru99.com/scroll-up-down-selenium-webdriver.html\" rel=\"nofollow noreferrer\">this site</a></p>\n"}],"last_activity_date":1684308119,"question_id":66767951,"body":"<p>I have a leader board element that I need to scroll down to view all players at the top of a web page using Selenium Java.  Having spent the past 2 hrs googling I am only able to find answers by scrolling down a page that is not what I need.</p>\n<p>I Have tried the following</p>\n<pre><code>        //click on leaderboard\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div/div[2]/div[1]/div[2]/div[1]/div/div&quot;)).click();\n\n    //scroll\n    WebElement scroll = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;accordion-panel-1720\\&quot;]/div[2]/div&quot;));\n    Actions actions = new Actions(driver);\n    actions.moveToElement(scroll).perform();\n</code></pre>\n<p>and</p>\n<pre><code>        WebElement scroll = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;accordion-panel-1720\\&quot;]/div[2]/div&quot;));\n    Actions act = new Actions(scroll);\n    act.sendKeys(Keys.PAGE_DOWN).build().perform(); //Page Down\n    System.out.println(&quot;Scroll down perfomed&quot;);\n</code></pre>\n"},{"last_activity_date":1684308036,"question_id":76269473,"body":"<p>I have an issue related to Thymeleaf 3.1,\n<code>org.thymeleaf.standard.processor.StandardTextTagProcessor#produceEscapedOutput</code> method performs <code>XmlEscape.escapeXml10</code> on <code>th:text</code> in case of XML template.\nI do not want it to be escaped, I know there is an option to use <code>th:utext</code> for unescaped text but I have too many templates scattered over places to find and fix them all.\nMy idea was to use the <code>IPostProcessorDialect</code> to unescape the text after the processor has performed the escape, but I can not find a good example of how to achieve this.\nSo far this is what I have done.\nImplemented <code>IPostProcessorDialect</code>, implemented a custom <code>IPostProcessor</code> to be returned by <code>IPostProcessorDialect,getPostProcessors()</code> extended <code>AbstractTemplateHandler</code> and overridden the <code>handleText</code> method, this is the dead end for me. Can you suggest how to handle this.</p>\n"},{"comments":[{"comment_id":134486543,"body":"That is a bit the point of streams. You&#39;re abstracting away this ordering. Which way do you think would be more efficient?"},{"comment_id":134486629,"body":"can you elaborate?"},{"comment_id":134486708,"body":"Intermediate operations are lazy by default, and they don&#39;t process further elements until a final ones consumes the previous. The newly created stream is only queried when the final operation request to read the next element to process"},{"comment_id":134488523,"body":"<a href=\"https://stackoverflow.com/a/35157305/2711488\">stackoverflow.com/a/35157305/2711488</a>"}],"answers":[{"answer_id":76263334,"body":"<p>That's because <code>map()</code> is indeed an intermediate operation, but it's also a stateless one. From the docs (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps</a>):</p>\n<blockquote>\n<p>Intermediate operations are further divided into stateless and stateful operations. Stateless operations, such as filter and map, retain no state from previously seen element when processing a new element -- each element can be processed independently of operations on other elements. Stateful operations, such as distinct and sorted, may incorporate state from previously seen elements when processing new elements.</p>\n</blockquote>\n<p>Meaning that whenever your element is mapped to a new one, it can immediately be processed by the rest of the pipeline, without the need to wait for all the elements to be mapped first. That's obviously an over-simplification, but I just wanted to explain the general idea.</p>\n"},{"answer_id":76269453,"body":"<p>Streams guarantee order processes take, but not the order the elements will be processed. Consider your example as a loop. If it were to work as you are suggesting, it would look like two loops.</p>\n<pre><code>for(Element e: stream){\n    e.setValue( e.getValue() + 4 );\n}\n\nfor( Element e: stream){\n    System.out.println(e.getValue());\n}\n</code></pre>\n<p>In this case you might say, wouldn't it be more efficient to use one loop?</p>\n<pre><code>for( Element e: stream ){\n    e.setValue( e.getValue() + 4 );\n    System.out.println(e.getValue());\n}\n</code></pre>\n<p>This re-ordering offers some advantages, such as parallel computing and processing infinite streams. It also lets you create fluent streams as opposed to a monolithic mapping process.</p>\n<pre><code>Stream&lt;A&gt; a = stream.map( b-&gt;{\n                //perform\n                //a\n                //lot\n                //of\n                //operations.\n                return b;});\n</code></pre>\n<p>Which could be split into a multiple calls without traversing the stream multiple times.</p>\n"}],"last_activity_date":1684307893,"question_id":76263229,"body":"<pre><code>import java.util.stream.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      Stream.of(1, 2, 3).map(i -&gt; {\n          System.out.println(i+&quot;:inside map&quot;);\n          return i+4;\n       }).forEach(t-&gt;System.out.println(t + &quot;:inside foreach&quot;));\n    }\n}\n</code></pre>\n<p>// Prints:</p>\n<pre><code>1:inside map\n5:inside foreach\n2:inside map\n6:inside foreach\n3:inside map\n7:inside foreach\n</code></pre>\n<p>Shouldn't the output be :</p>\n<pre><code>1:inside map\n2:inside map\n3:inside map\n5:inside foreach\n6:inside foreach\n7:inside foreach\n</code></pre>\n<p>I was under the impression that after each intermediate operation ends, it returns a new stream. So foreach should have gotten (5,6,7) and therefore print</p>\n<pre><code> 5:inside foreach\n 6:inside foreach\n 7:inside foreach\n</code></pre>\n<p>But the case shows that foreach is executed for each entry of map one by one.\nWhy is that?</p>\n"},{"comments":[{"comment_id":124014858,"body":"..; you forgot to add the/any code. it seems that the &quot;from address&quot; hasn&#39;t been set"},{"comment_id":124015264,"body":"In the azkaban.properties file, I have set the above mentioned values. There was nothing like from address in the configuration file"},{"comment_id":124015359,"body":"and that&#39;s why it throws an Exception. Here &#39;s a link to the class that throws the Exception <a href=\"https://github.com/azkaban/azkaban/blob/master/azkaban-common/src/main/java/azkaban/utils/EmailMessage.java\" rel=\"nofollow noreferrer\">github.com/azkaban/azkaban/blob/master/azkaban-common/src/ma&zwnj;&#8203;in/&hellip;</a> as your error message suggests, please check line 153 and the following lines"},{"comment_id":124031693,"body":"@Stultuske But I have already set the value for mail.sender. Do I have to add something like fromEmail? What is the key (in a key-value pair) for this configuration?"},{"comment_id":124032528,"body":"where to I set the &quot;from address&quot;?"},{"comment_id":124033681,"body":"I don&#39;t know, I&#39;ve never used it. But either there is something missing in your config, or you&#39;re calling it wrong in your code. Either way: that is your problem"}],"last_activity_date":1684307643,"question_id":70155354,"body":"<p>I am unable to send email notifications from Azkaban job scheduler tool.</p>\n<p>Here's my configurations (cannot disclose the email info):</p>\n<pre><code>mail.sender=****@****.com\nmail.host=smtp.**********.com\nmail.user=******@********.com\nmail.password=********\n</code></pre>\n<p>Error:</p>\n<pre><code>ERROR [Emailer] [Azkaban] Failed to send success email message for execution 4\njava.lang.RuntimeException: From address not set.\n    at azkaban.utils.EmailMessage.checkSettings(EmailMessage.java:153)\n    at azkaban.utils.EmailMessage.sendEmail(EmailMessage.java:166)\n    at azkaban.utils.Emailer.sendEmail(Emailer.java:220)\n    at azkaban.utils.Emailer.alertOnSuccess(Emailer.java:153)\n    at azkaban.executor.ExecutionControllerUtils.alertUserOnFlowFinished(ExecutionControllerUtils.java:140)\n    at azkaban.executor.ExecutionFinalizer.finalizeFlow(ExecutionFinalizer.java:97)\n    at azkaban.executor.RunningExecutionsUpdater.updateExecutions(RunningExecutionsUpdater.java:130)\n    at azkaban.executor.RunningExecutionsUpdaterThread.run(RunningExecutionsUpdaterThread.java:54)\n</code></pre>\n"},{"comments":[{"comment_id":120017293,"body":"It should get garbage collected when it goes out of scope. What&#39;s your program doing for two hours?"},{"comment_id":120017738,"body":"My program is waiting for 1.5 hrs to get data only from source view from Database 1. Then other process takes around 10, 15 to max 30 mins.   Now how will scope become out of scope? Does clear or null make it out of scope?"},{"comment_id":120017884,"body":"In the vast majority of cases setting a variable to null or calling <code>clear()</code> is not necessary, because the variable should go out of scope if it&#39;s no longer needed anyway. In fact calling <code>clear()</code> might cause <i>more</i> work than simply letting it be garbage collected. <b>If</b> however you somehow hold on to that variable even though you no longer need it, then you should change that. And if you <b>can&#39;t</b> change that for some reason, setting it to <code>null</code> might work. Show us more precisely where this variable is. Is it a local variable? A field?"},{"comment_id":120018093,"body":"It is scheduler. Program ends  (Use JTA/JPA using Wildfly). Nothing happen at end. When you say out of scope then it means  Global { Local } &lt;-- At end line Local scope finishes and Global finishes when scheduler stops. When EJB scheduler starts, it create new object basically. (So when heap continue to fill, Collector must be noticing to empty previous object based on scopes?) .. Also is it possible Garbage collector gets late in collecting object and OOM?"},{"comment_id":120018324,"body":"Why are you loading 1.5 million records from the database in the first place? This is the real problem."},{"comment_id":120018717,"body":"@user207421: It is unavoidable requirement."},{"comment_id":120020243,"body":"There are quite some stuff that is not known by us. How large is a record? What is the memory foot print of a record? Is there a performance requirement for the operation? Could you store the records offheap?"},{"comment_id":120020439,"body":"It has only 6 columns (2 Email Address, ID Integer(20), GUID, String of Role Name like Manager). Memory footprint of record means? heap stack?"},{"comment_id":120020560,"body":"How many bytes is the record? if you wrote all the records to a file, how large would the file be?"},{"comment_id":120027124,"body":"you expect to load 1.5 million of entries and everything to be fine? the amount of memory needed is not going to be small, at all."},{"comment_id":120031982,"body":"If I load chunks of data say 100,000 at one DB1 and load 100,000 from DB2-compare(again other 100,000 from DB2-compare... upto till 1.5 million-compare). and again next 100,000 from DB1. What do you think will it be memory efficient? Will garbage collection done easily or it will lead to same? (Just thinking it will be quite long task and DB guys would be involve in some performance then only i can do this)"}],"answers":[{"comments":[{"comment_id":120018095,"body":"The standards don&#39;t require that heap never shrinks. In fact the JVM spec explicitly says &quot;The heap may be of a fixed size or may be expanded as required by the computation and may be contracted if a larger heap becomes unnecessary. &quot; but doesn&#39;t say much more about how that&#39;s done. All the details of GC and memory management like that are implementation-defined."},{"comment_id":120018149,"body":"Now Heap size of server group is 1024 mb and max heap size is 4096 mb. So do you mean 1024 is reserved by OS and 4096 will considered as Virtual memory?"},{"comment_id":120018218,"body":"@JoachimSauer Well the thing is that many developers expect the memory consumption of an application – which they may see in the Task Manager or something similar – to shrink once their program frees data. That is the case with a C/C++ program etc., but not so with the common JVM implementations (unless you do configure it to shrink)."},{"comment_id":120018280,"body":"@michael.k: I think the phrase &quot;by standard&quot; is confusing here, you probably meant &quot;by default&quot;, and I thought you meant that this behaviour is defined in the standards, which it is not."},{"comment_id":120018300,"body":"@fatherazrael Once your program allocated the 4096mb of heap memory it will keep it allocated from the operating system in the usual JVM implementations, even if your need for heap size shrinks to 10mb."},{"comment_id":120018354,"body":"@JoachimSauer You&#39;re right, I changed that &quot;standard&quot; to &quot;default&quot;, thanks."},{"comment_id":120019047,"body":"@michael.k: I increased memory heap size to 10 GB in production and found that in first execution it went fine and in second execution. It shuts down Linux server (0 memory ) :("},{"comment_id":120026937,"body":"@fatherazrael this answer is completely wrong. the heap <a href=\"https://stackoverflow.com/questions/59362760/does-g1gc-release-back-memory-to-the-os-even-if-xms-xmx/59377080#59377080\">does shrink</a> even before jdk-12 where there is an explicit setting for this for <code>G1GC</code>. And the process is called un-commit memory. It depends on the JVM version, GC."},{"comment_id":120027012,"body":"also <code>UseAdaptiveSizePolicy</code> has exactly zero to do with shrink of the heap. You confuse far too much in your answer."},{"comment_id":120070722,"body":"and ... shrinking of the heap has nothing to do with the OP&#39;s actual problem.  It won&#39;t prevent OOMEs."}],"answer_id":67901605,"body":"<p>The thing is that, by default, once allocated heap memory size does not shrink (I mean the memory size allocated from the operating system). If your Java application at one time needed 2 GB of RAM it will keep that reserved from the operating system by default.</p>\n<p>If you can, try to change the design of your application to not firstly load all data into memory, but only load what you really need to do your work.</p>\n<p>If you really need the two big batches at the same time think about using the following Java command line argument: &quot;-XX:+UseAdaptiveSizePolicy&quot;, which would make it possible to shrink the heap space after big memory usages.</p>\n<p>You can also call the garbage collector via &quot;System.gc();&quot;, but that a) does not shrink the allocated heap memory without the suggested command line argument, and b) really, you should not think about this. Java will run it on it's own by time.</p>\n<p>Edit: Improved my first explanation a bit.</p>\n"},{"comments":[{"comment_id":120032034,"body":"Do not understand. Named query returns list of entities. like em.createNamedQuery().getResultList().   Now how to play with result lIst?"},{"comment_id":120032806,"body":"@fatherazrael what are you using to get your query?"},{"comment_id":120069422,"body":"select * from table name"},{"comment_id":120069876,"body":"@fatherazrael That you are using SQL is rather important information! You can use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">ResultSet</a> and only get the data for the next row to do the comparisons. No need to create a list for all of the data."}],"answer_id":67905821,"body":"<p>Best for memory usage would be for the list to not go out of scope. So it would be better (memory wise) to just modify the content one by one, keeping only one temporary entry object instead of a whole other list.</p>\n<p>So you could create a <code>getNextFromNamedQuery()</code> and <code>hasNextInNamedQuery()</code> method and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#set-int-E-\" rel=\"nofollow noreferrer\">set</a> the data at the current index.</p>\n<p>e.g.:</p>\n<pre><code>int i=0;\nwhile(hasNextInNamedQuery()) {\n    if(dDb.size()&lt;=i) dDb.add(getNextFromQuery());\n    else dDb.set(i,getNextFromQuery());\n    i++;\n}\n</code></pre>\n"},{"comments":[{"comment_id":120031993,"body":"Thanks for Comment Stephen.   Suppose, If I load chunks of data say 100,000 at one DB1 and load 100,000 from DB2-compare(again other 100,000 from DB2-compare... upto till 1.5 million-compare). and again next 100,000 from DB1. What do you think will it be memory efficient? Will garbage collection done easily or it will lead to same? (Just thinking it will be quite long task and DB guys would be involve in some performance then only i can do this)"},{"comment_id":120038456,"body":"If the size of the in-memory lists is smaller then there will be will be less heap pressure, and GC overheads will be less.  And less risk of OOMEs.  (This doesn&#39;t necessarily mean that the total memory (RAM) footprint will be smaller, but that&#39;s not what you should optimize for ...)"},{"comment_id":120069477,"body":"@Stephel C: As per above comments, i understand At this moment no other way for optimizing then Chunk retrieval of records and compare with chunk n from db 2 . The only thing is increase memory if want to do this."},{"comment_id":120070689,"body":"That would be my advice."}],"answer_id":67907607,"body":"<p>Assuming that your goal is to reduce the occurrence of OOMEs over all other considerations ...</p>\n<p>Assigning <code>null</code> to the <code>List</code> object will make the entire list eligible for garbage collection.  You then need to create a new (presumably empty) list to replace it.</p>\n<p>Calling <code>clear()</code> will have a <em>similar</em> effect<sup>1</sup> to nulling and recreating, though the details will depend on the <code>List</code> implementation.  (For example, calling <code>clear()</code> on an <code>ArrayList</code> doesn't release the backing array.  It just nulls the array cells.)</p>\n<p>If you can recycle an <code>ArrayList</code> for a list of roughly the same size as the original, you can avoid the garbage while growing the list.  (But we don't know this is an <code>ArrayList</code>!)</p>\n<p>Another factor in your use-case is that:</p>\n<pre><code>List&lt;DannDB&gt; dDb = fromNamedQuery();\n</code></pre>\n<p>is (presumably) going to create a new list anyway.  That would render a <code>clear()</code> pointless.  (Just assign <code>null</code> to <code>dDb</code>, or let the variable go out of scope or be reassigned the new list.)</p>\n<p>A final issue is that it is conceivable that the list is finalizable.  That could mean that the list object takes longer to delete.</p>\n<p>Overall, I can't say which of assigning <code>null</code> and calling <code>clear()</code> will be better for the memory footprint.  Or that <em>either</em> of these will make a significant difference.  But there is no reason why you can't try both alternatives, and observe what happens.</p>\n<p>The only other things I can suggest are:</p>\n<ul>\n<li>Increase the heap size (and the RAM footprint).</li>\n<li>Change the application so that you don't need to hold entire database snapshots in memory.  Depending on the nature of the comparison, you could do it in &quot;chunks&quot; or by streaming the records<sup>2</sup>.</li>\n</ul>\n<p>The last one is the only solution that is scalable; i.e. that will work with an ever larger number of records.  (Modulo the time taken to deal with more records.)</p>\n<hr />\n<p><strong>Important Notes:</strong></p>\n<ol>\n<li>Manually running <code>System.gc()</code> is <em>unlikely</em> to help.  At best it will (just) make your application slower.</li>\n<li>Since the real problem is that you are getting OOMEs, anything that tries to get the JVM to shrink the heap by giving memory back to the OS will be counterproductive.</li>\n</ol>\n<hr />\n<p><sup>1 - Similar from the perspective of storage management.  Obviously, there are semantic differences between clearing a list and creating a new one; e.g. if some other part of your application has a reference to the original list.<br>\n2 - Those of you are old enough will remember the classic way of implementing a payroll system with magnetic tape storage.  If you can select from the two data sources in the same key order, you may be able to use the classic approach to compare them.  For example, reading two resultsets in parallel.</sup></p>\n"},{"comments":[{"comment_id":120074543,"body":"Are you sure if it will solve memory issue?"},{"comment_id":120076033,"body":"@fatherazrael It always depends on the JVM, but you don&#39;t need to box <code>int</code>, <code>float</code>, etc. in their classes with this approach. <code>ResultSet</code> is the direct result of a <code>Statement</code> and you probably can&#39;t really get less overhead in SQL than using this. I would try this, and if there still is a memory issue, you need to change the statement itself, i.e. not getting everything in one call, but get the first n rows or columns instead."}],"answer_id":67932028,"body":"<p>In the case of SQL, you can get your two <code><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">ResultSet</a></code>s and compare their data iteratively. This way, you don't have ro save all your data in first place.<br>\nI assume that your data looks like this for demonstration purposes:<br></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">String email1</th>\n<th style=\"text-align: center;\">String email2</th>\n<th style=\"text-align: right;\">int someInt</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">abc@def.ghi</td>\n<td style=\"text-align: center;\">jkl@mno.pqr</td>\n<td style=\"text-align: right;\">1234567</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">xyz@gmail.com</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: right;\">8901234</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><br>To detect a difference between two <code>ResultSet</code>s of this database:</p>\n<pre><code>boolean equals(ResultSet a, ResultSet b) {\n    while(a.next() &amp;&amp; b.next()) {\n        String aEmail1 = a.getString(1);\n        String bEmail1 = b.getString(1);\n        if(!aEmail1.equals(bEmail1)) return false;\n        String aEmail2 = a.getString(2);\n        String bEmail2 = b.getString(2);\n        if(!aEmail2.equals(bEmail2)) return false;\n        int aSomeInt = a.getInt(3);\n        int bSomeInt = b.getInt(3);\n        if(aSomeInt!=bSomeInt) return false;\n        if(a.isLast()!=b.isLast())\n            throw new IllegalArgumentException(\n                &quot;ResultSets have different amounts of rows!&quot;\n            );\n    }\n    return true;\n}\n</code></pre>\n<p>To set the contents of <code>ResultSet oldData</code> (also its corresponding database connection) to <code>ResultSet newData</code>:</p>\n<pre><code>void updateA(ResultSet oldData, ResultSet newData) {\n    while(oldData.next() &amp;&amp; newData.next()) {\n        String newEmail1 = newData.getString(1);\n        oldData.updateString(1,newEmail1);\n        String newEmail2 = newData.getString(2);\n        oldData.updateString(2,newEmail2);\n        int newSomeInt = newData.getInt(3);\n        oldData.updateInt(3,newSomeInt);\n        if(oldData.isLast()!=newData.isLast())\n            throw new IllegalArgumentException(\n                &quot;ResultSets have different amounts of rows!&quot;\n            );\n    }\n}\n</code></pre>\n<p><br>You can ofcourse leave out the <code>if(a.isLast()!=newData.isLast)) ...</code> and <code>if(oldData.isLast()!=newData.isLast()) ...</code> if you don't care that the two sets don't have the same amount of rows.</p>\n"}],"last_activity_date":1684307230,"question_id":67901163,"body":"<p>Load 1.5 Million Records from Database 1</p>\n<p>Load 1.5 Million Records from Database 2</p>\n<pre><code>List&lt;DannDB&gt; dDb = fromNamedQuery(); //return em.createNamedQuery(&quot;&quot;).getResultList();\nList&lt;LannDB&gt; lDb = fromNamedQuery();\n</code></pre>\n<p>Compare its data.</p>\n<p>Update/persist into Database (Using JPA)</p>\n<p>and program ends after two hours.</p>\n<p>Same iteration happens every third hour and many a times give Out of Memory.</p>\n<p>Does following statement work, does object becomes out of scope with this?</p>\n<pre><code> dDb.clear();\n\n  or \n\n dDb = null\n</code></pre>\n<p>or what else I can do?</p>\n"},{"comments":[{"comment_id":116310242,"body":"Try a few more test cases of your own. Have you tested that the case mentioned in their note works?"},{"comment_id":116310261,"body":"Yes both of the testcases were working fine. Checked on my machine as well. i have also mentioned that in question that base testcases were getting passed."},{"comment_id":116310384,"body":"Try to imagine some things which the hidden tests cases might check, e.g. the requirement which is specifically pointed out in the note, and try your code with them."},{"comment_id":116310457,"body":"Think how actual letter will look like. Maybe there are some other symbols you need to handle. Like comma and dot. What about other special characters? Numbers? Tabs? New lines?"},{"comment_id":116310717,"body":"@Monitoria yes that night be the case, i should have removed the original string containing special characters"}],"answers":[{"answer_id":66238195,"body":"<p>This is the solutionin Python 3</p>\n<pre><code>def rotatedWords(cls, input1,input2):\n    rotateString = input1.split(' ')\n    count = 0\n    for i in range(1,input2+1):\n        for j in range(len(rotateString)):\n            rotateString[j]= rotateString[j][1:]+rotateString[j][0]\n        \n    actualWrod = input1.split(' ')\n\n    for i in range(len(rotateString)):\n        for j in range(len(actualWrod)):\n            if rotateString[i]==actualWrod[j]:\n                count+=1\n    return count\n\nprint(rotatedWords(1,&quot;adaada&quot;,3))\nprint(rotatedWords(1,&quot;llohe ereth&quot;,2))\n</code></pre>\n"},{"answer_id":66254604,"body":"<pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n \n// In-place rotates s towards left by d\nvoid leftrotate(string &amp;s, int d)\n{\n    reverse(s.begin(), s.begin()+d);\n    reverse(s.begin()+d, s.end());\n    reverse(s.begin(), s.end());\n}\n \n// In-place rotates s towards right by d\nint rightrotate(string &amp;s, int d)\n{  \n  string s1=&quot;&quot;;\n  int i=0,flag=0;\n  vector&lt;string&gt;str;\n  while(s[i]!='\\0'){\n    if(s[i] != ' '){\n      s1 = s1+s[i];\n      i++;\n    }\n    else{\n      if(s1 != &quot;&quot;){ //checking for extra space\n        str.push_back(s1);\n        s1 = &quot;&quot;;\n        i++;\n      }\n      else\n        i++;\n    }\n  }\n  str.push_back(s1);\n  vector&lt;string&gt;str2;\n  for(int i=0;i&lt;str.size();i++){\n    str2.push_back(str[i]);\n  }\n  for(int i=0;i&lt;str.size();i++){\n    leftrotate(str[i], str[i].length()-d);\n  }\n  for(int i=0;i&lt;str.size();i++){\n    if(str[i] == str2[i]){\n      flag++;\n    }\n  }\n  return flag;\n}\n \nint main()\n{\n \n    string str1;\n    getline(cin, str1);\n    int k;\n    cin&gt;&gt;k;\n    cout&lt;&lt;rightrotate(str1, k);\n    return 0;\n}\n</code></pre>\n"},{"comments":[{"comment_id":117189264,"body":"Please explain what was wrong with the code in the question and how this code solves the problem."}],"answer_id":66284369,"body":"<pre><code> def check(_str):\n    length = len(_str)\n    for i in range(length):\n        if (_str[i]!=_str[(input2+i)%length]):\n            return 0\n    return 1\nwords = input1.split()\nans = list(map(check,words))\nprint(sum(ans))\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/o5BLO.png\" rel=\"nofollow noreferrer\">code in Python</a></p>\n"},{"comments":[{"comment_id":118466382,"body":"It seems K means how many characters he shifted left to right or right to left for each word in sentence, try this it may pass other test cases."}],"answer_id":67020343,"body":"<pre><code>package fun;\n\npublic class Test1 {\n\n    public static void main(String[] args) {\n        System.out.println(rotatedWords(&quot;llohe ereth&quot;, 2));\n        System.out.println(rotatedWords(&quot;adaada&quot;, 3));\n    }\n\n    public static int rotatedWords(String input1, int input2) {\n        int count = 0;\n        String arr[] = input1.split(&quot; &quot;);\n        if (input1 != null &amp;&amp; !input1.isEmpty()) {\n            for (int i = 0; i &lt; arr.length; i++) {\n                System.out.println(&quot;Orginal Word :&quot; + arr[i]);\n                int start = arr[i].length() - input2;\n                String s1 = arr[i].substring(start);\n                System.out.println(&quot;s1 : &quot; + s1);\n                String s2 = arr[i].substring(0, start);\n                System.out.println(&quot;s2 : &quot; + s2);\n                System.out.println(&quot;New Word : &quot; + s1 + s2);\n                if ((s1 + s2).equals(arr[i])) {\n                    count++;\n                }\n            }\n        }\n        return count;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":118610152,"body":"Please read <a href=\"https://stackoverflow.com/help/how-to-answer\">How to answer</a> and update your answer."}],"answer_id":67100524,"body":"<p><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>Java solution</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>*</p>\n<pre><code> import java.util.Scanner;\n    public class Main\n    {\n     //rotate every word of the given string by the given rotation value\n      public static String rotate_string (String str, int d) \n      {\n        String ans = str.substring (d) + str.substring (0, d);\n          return ans;\n      }\n      public static void rotated (String str, int rotated)\n      {\n        String[]wordsarr = str.split (&quot;\\\\s&quot;); // convert string to an array of strings.\n        String rotatedarr[] = new String[wordsarr.length]; // to store the rotated array.\n        for (int i = 0; i &lt; wordsarr.length; i++)\n          {\n        rotatedarr[i] = rotate_string(wordsarr[i], wordsarr[i].length () - rotated);\n          }\n        int count = 0;\n        for (int i = 0; i &lt; wordsarr.length; i++)\n          {\n        if (wordsarr[i].equals (rotatedarr[i]))\n          {\n            count++;\n          }\n          }\n        System.out.println (count);\n      }\n\n      public static void main (String[]args)\n      {\n        Scanner s= new Scanner(System.in);\n        String str= s.nextLine(); //input string\n        int rotate_by= s.nextInt(); \n        rotated(str,rotate_by);\n      }\n    }\n</code></pre>\n"},{"answer_id":67406994,"body":"<pre><code>$str = &quot;Hello Friend&quot;;\n$kTime = 5;\n$arr = explode (' ',$str);\n$sizeOfArr = count($arr);\n$char = array();\n$count = 0;\nforeach($arr as $k=&gt;$v)\n{\n  $ln = $kTime%strlen($v);\n  $char = substr($v,$ln).substr($v,0,$ln);\n  if($v == $char)\n    {\n      $count++;\n    }\n}\necho 'Number of Original word after rotation found : '.$count;\n</code></pre>\n"},{"answer_id":67961904,"body":"<p>This is the solution in Python 3 for the right move</p>\n<pre><code>def rotatedWords(cls, input1,input2):\n    rotate_string = input1.split(' ') # converting string to list\n    count = 0\n    for i in range(1,input2+1):\n        for j in range(len(rotate_string)):\n            rotate_string[j]= rotate_string[j][-1]+rotate_string[j][0:-1]\n        \n    actual_word = input1.split(' ')\n\n    for i in range(len(rotate_string)):\n        for j in range(len(actual_word)):\n            if rotate_string[i]==actual_word[j]:\n                count+=1\n    return count\n\nprint(rotatedWords(1,&quot;adaada&quot;,3))\nprint(rotatedWords(1,&quot;llohe ereth&quot;,2))\n</code></pre>\n"},{"answer_id":68812611,"body":"<pre><code>package com.code;\npublic class LoveLetter {\npublic static void main(String args[])\n{\n    String str=&quot;llohe ereth&quot;;\n    int n=2;\n    solution(str,n);\n}\npublic static void solution(String str,int n)\n{\n    int l=str.length();\n    String a[]=str.split(&quot;\\\\s+&quot;);\n    String str1=&quot;&quot;;\n    int c=0;\n    for(int i=0;i&lt;a.length;i++)\n    {\n        String s=a[i];\n        String k=rightrotate(s,n);\n        if(a[i].equals(k)){\n            c++;\n        }\n        else\n            continue;\n    }\n    System.out.println(c);\n}\nstatic String rightrotate(String str, int d)\n{\n    d=str.length()-d;\n    String ans = str.substring(d) + str.substring(0, d);\n    return ans;\n}\n}\n</code></pre>\n"},{"answer_id":68970685,"body":"<p>It is given that someone rotates the characters of each word from left to right K times.So,if we want to know the original words,we have to rotate each characters from right to left K times</p>\n<pre><code>def rotatedWords(cls, input1, input2):\n    original_string = input1.split(' ')  # the string is split into list\n    count = 0  # for counting the words that remains same even after rotation\n\n    for i in range(0, input2):\n        for j in range(len(original_string)):\n            original_string[j] = original_string[j][-1]+original_string[j][0:-1]  # taking the last character and all characters from first to second last of each word,then concatenating them\n\n    given_string = input1.split(' ')\n\n    for i in range(len(given_string)):\n        if original_string[i] == given_string[i]:   #comparing each words from both lists\n            count += 1\n    return count\n\nprint(rotatedWords(1,&quot;adaada&quot;, 3))\nprint(rotatedWords(1,&quot;llohe ereth&quot;, 2))\n</code></pre>\n"},{"answer_id":73349621,"body":"<p>Problem Statement tells that the space between words can be <strong>one or more</strong>.\nSo you will pass all test cases if split removes all spaces.\nUse <code>input1.split(&quot;\\\\s+&quot;)</code> regex expression instead.</p>\n"}],"last_activity_date":1684307155,"question_id":65783973,"body":"<p>I Gave a test on platform named mettl for hiring of a company.</p>\n<p><strong>Problem statement :</strong></p>\n<p>You write a love letter to you friend. However, before your friend can read it, someone else read it and rotates the characters of each word to the right K times. Find the number of words that remain the same even after this shifting of letters.</p>\n<p><strong>Note:</strong> There can be more than one spaces between the words.</p>\n<p><strong>Input specifications:</strong></p>\n<p>Input1: String of words</p>\n<p>Input2: K number of times rotation happens</p>\n<p><strong>Output specifications:</strong></p>\n<p>Your function should return the numbers of correct words.</p>\n<p><strong>Example 1:</strong></p>\n<p><strong>Input1:</strong> llohe ereth</p>\n<p><strong>Input 2:</strong> 2</p>\n<p><strong>Output:</strong> 0</p>\n<p><strong>Explanation:</strong> In example 1, &quot;llohe ereth&quot; is a rotated string with K factor 2. Hence after moving the last two letters of right to left , we get the original string as &quot;Hello there&quot;.</p>\n<p><strong>Example 2:</strong></p>\n<p><strong>Input1:</strong> adaada</p>\n<p><strong>Input 2:</strong> 3</p>\n<p><strong>Output:</strong> 1</p>\n<p><strong>Explanation:</strong> In example 2, &quot;adaada&quot; when rotated 3 times gives back &quot;adaada&quot;. Hence answer is 1.</p>\n<p>I wrote below Solution which passed the above 2 base cases, but was failing for hidden testcases (also includes time complexity testcase). Only one corner testcase passed because I was checking String input1 not to be empty. Solution is as below:</p>\n<pre><code>public int rotatedWords(String input1, int input2) {\n    int count = 0;\n    String arr[] = input1.split(&quot; &quot;);\n    if (input1 != null &amp;&amp; !input1.isEmpty()) {\n        for (int i = 0; i &lt; arr.length; i++) {\n            String s1 = arr[i] + arr[i];\n            int start = arr[i].length() - input2;\n\n            System.out.println(&quot;arr[i] : &quot; + arr[i]);\n            String s2 = s1.substring(start, start + arr[i].length());\n            System.out.println(&quot;s2 : &quot; + s2);\n            if (s2.equalsIgnoreCase(arr[i])) {\n                count++;\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n<p>Ask is that , I wasn't able to understand why the hidden testcases were failing. Please help me.</p>\n"},{"comments":[{"comment_id":63456455,"body":"Why do you want to reuse the scanner?  Your method looks fine to me."},{"comment_id":63456479,"body":"Save the input data from scanner in memory, then reuse the data, not the scanner. If there&#39;s more input later, use a new scanner."},{"comment_id":63456604,"body":"@TimBiegeleisen I am going to be calling the method multiple times, so the scanner has to be used again. unless there is a better way for this, i dont know how"},{"comment_id":63456633,"body":"@waltersu what do you mean by saving it in memory? and what data are you saying to reuse? sorry im very new to java"},{"comment_id":63456657,"body":"Bad idea to reuse your scanner? Creating hundreds of scanners to read hundreds of lines would be a better idea? Of course you can reuse it, place your lines in arrays for example."},{"comment_id":63456770,"body":"You need to look up what <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#reset()\" rel=\"nofollow noreferrer\"><code>Scanner.reset()</code></a> actually does. Not what you think. It won&#39;t reprocess input that has already been scanned."},{"comment_id":63456775,"body":"@eldo are you talking about making s an array, as in Scanner s[] = new Scanner(System.in); or input[] = s.nextline();"},{"comment_id":63456894,"body":"I mean if you are calling your scan method in a loop for multiple inputs, just put your return value in an array or any kind of list."},{"comment_id":131243964,"body":"@mooL I suggest you read my answer carefully. Other answers posted here are good, but don&#39;t answer your question completely."}],"answers":[{"comments":[{"comment_id":134497386,"body":"<i>&quot;You are correct every time you use the scanner its getting reset&quot;</i> - No sure what you are trying to say ... but <code>System.in</code> is NOT getting reset here, and the <code>Scanner</code> object is getting recreated rather than reset."}],"answer_id":38006556,"body":"<p>You are correct every time you use the scanner its getting reseted. A solution to your problem would be the following: </p>\n\n<p>Add all the parameters that you want to pass to <code>scan()</code> in an array and using a <code>for</code> loop pass them all to <code>scan()</code> while when returning, adding them again in their <strong>respective array position</strong> so then you can easily reuse them wherever you want.</p>\n"},{"comments":[{"comment_id":63457489,"body":"But what exactly is the difference between your code and my code? I see the s = new Scanner(System.in); is not in the same method as the scan method, but how does this change things, and how does it fix what i did wrong?  btw thx for the updated answer thats exactly what i was looking for"},{"comment_id":63457765,"body":"Take this scenario for explanation , If you need to read 1 million lines , so we need 1 million calls to the scan function thats the common thing , the difference now is your code will create a scanner object -&gt; then after reading the line will close the stream , this will happen 1 million times also , which is an obvious not needed overhead .. In my code there is only one Scanner object is created for the whole reading process and one close operation at the end of the reading process ."},{"comment_id":132486220,"body":"@AhmedAmr it&#39;s not guaranteed that only one object of scanner is created, one can create many object of Reader resulting in many object of scanners too."}],"answer_id":38006747,"body":"<p>You could actually reuse your Scanner instead of creating a new one each time you need to read a line , here is an example:</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Test t = new Test();\n        //create your scanner object\n        Scanner s = new Scanner(System.in);\n        //send it as a parameter whenever you need to read a line\n        System.out.println(t.scan(s));\n        System.out.println(t.scan(s));\n        System.out.println(t.scan(s));\n        //close it after finishing\n        s.close();\n    }\n\n    public String scan(Scanner s) {\n        String input;\n        if (s.hasNextLine()) {\n        input = s.nextLine();\n        } else {\n           input = \"ERROR\";\n        }\n        return input.toLowerCase();\n     }\n}\n</code></pre>\n\n<p>But if you make a reader utility class for you it's more logical to be an Instance variable in the utility class .</p>\n\n<p>For Example:</p>\n\n<pre><code>public class Reader {\n    Scanner s ;\n\n    public Reader() {\n        s = new Scanner(System.in);\n    }\n\n    public String scan() {\n        String input;\n        if (s.hasNextLine()) {\n            input = s.nextLine();\n        } else {\n            input = \"ERROR\";\n        }\n        return input.toLowerCase();\n    }\n\n    public void close(){\n        s.close();\n    }\n}\n</code></pre>\n\n<p>And when you use it , it will be like this : </p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        //create your scanner object\n        Reader r = new Reader();\n        //send it whenever you need to read a line\n        System.out.println(r.scan());\n        System.out.println(r.scan());\n        System.out.println(r.scan());\n        //close it after finishing\n        r.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134497448,"body":"(Indeed in some contexts, <i>not</i> reusing a Scanner is a bad idea ... due to loss of data that has been buffered but not consumed by the Scanner.)"}],"answer_id":74341653,"body":"<blockquote>\n<p>I have seen a lot of people saying it is a bad idea to reuse a\nscanner. Why is this?</p>\n</blockquote>\n<p>It is not a bad idea to reuse a scanner object in most cases. Without further context, it is hard to determine their reasons for saying that. It could've been they were mistaken. Maybe you reused it incorrectly when they stated that. Who knows?</p>\n<p>One thing is certain: When you invoke <code>Scanner#close()</code> in an object that is reading from <code>System.in</code>, you are also closing the underlying input stream. And, once the input stream is closed, you cannot reopen it in the life of the application.</p>\n<blockquote>\n<p>Shouldn't it be fine if the scanner is reset?</p>\n</blockquote>\n<p><code>Scanner#reset()</code> doesn't do what you think it does. In fact, in this code example it does nothing. This method resets the <code>Locale</code> to US, and the radix back to base 10.</p>\n<h2>Code Analysis</h2>\n<pre><code>public String scan() {\n    String input;\n    Scanner s = new Scanner(System.in);\n    if (s.hasNextLine()) {\n        input = s.nextLine();\n    } else {\n        input = &quot;ERROR&quot;;\n    }\n    s.reset();\n    s.close(); // BAD IDEA!!!!\n    return input.toLowerCase();\n}\n</code></pre>\n<p>This method will only work one time for the reasons I already stated: &quot;<em>once the input stream is closed, you cannot reopen it in the life of the application.</em>&quot; So, what you do instead? If you require to reuse this <code>Scanner</code> object over and over, it might be better to make it a global attribute of the class and you should never close it. This is obviously a bad idea. So, you might be better off using some other type of input stream wrapper.</p>\n<p>Maybe this is why other people have told you in the past that reusing the scanner object was a bad idea. It is only speculation. But, judging from this code example, it seems like a very strong possibility.</p>\n"}],"last_activity_date":1684307155,"question_id":38006482,"body":"<p>I made a utility class with a method that is takes user input, and returns a lower case version of it so I don't have so much repetitive code, but it could only be used once. After that, it wouldn't scan. What can I do to fix this?</p>\n\n<p>p.s. I have seen a lot of people saying it is a bad idea to reuse a scanner. Why is this? Shouldn't it be fine if the scanner is reset?</p>\n\n<pre><code>public String scan() {\n    String input;\n    Scanner s = new Scanner(System.in);\n    if (s.hasNextLine()) {\n        input = s.nextLine();\n    } else {\n        input = \"ERROR\";\n    }\n    s.reset();\n    s.close();\n    return input.toLowerCase();\n}\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134497892,"body":"It seems to be working man thank you! It&#39;s the <code>void loadSelected()</code> that I had an issue with."}],"answer_id":76269141,"body":"<p>First, there are two types of checkboxes, there's a <code>java.awt.Checkbox</code>, and a <code>javax.swing.JCheckBox</code>.</p>\n<p>If you're using the <code>JCheckBox</code>, consider the following code.</p>\n<p>If you're using the <code>Checkbox</code>, instead of <code>isSelected</code>, you would use <code>getState</code>, same with the setter.  And, instead of <code>getText</code>, you would use <code>getLabel</code>, as well as the setter method.</p>\n<p>Keep in mind, this will be effective only if the text of each checkbox is unique.</p>\n<p>In response to the use of an <code>Object</code> array, it will improve scalability if you use an array of the object, so in this case either a <code>JCheckBox[]</code> or a <code>Checkbox[]</code>.</p>\n<p>Even better, use a mutable <code>List&lt;JCheckBox&gt;</code>.</p>\n<p>Additionally, it's worth noting that Java will convert your path separators, so instead of un-escaping the <code>\\</code>, you can just use a single <code>/</code>.</p>\n<pre><code>List&lt;String&gt; getSelected() {\n    List&lt;String&gt; selected = new ArrayList&lt;&gt;();\n    JCheckBox[] newList = { ck01, ck02, ck03, ck04, ck05, ck06, ck07, ck08, ck09, ck10, ck11, ck12, ck13, ck14, ck15, ck16, ck17, ck18, ck19, ck20, ck21, ck22, ck23, ck24, ck25, ck26, ck27, ck28, ck29, ck30,ck31, ck32, ck33, ck34, ck35, ck36, ck37, ck38, ck39, ck40,ck41, ck42, ck43, ck44, ck45, ck46, ck47, ck48, ck49, ck50,ck51, ck52, ck53, ck54 };\n    for (JCheckBox checkbox : newList) {\n        if (checkbox.isSelected())\n            selected.add(checkbox.getText());\n    }\n    return selected;\n}\n\nvoid saveSelected() throws IOException {\n    String path = importpath + &quot;\\\\additional_info\\\\brands.txt&quot;;\n    try (FileWriter writer = new FileWriter(path)) {\n        String newline = System.lineSeparator();\n        for (String checkboxText : getSelected()) {\n            writer.write(checkboxText);\n            writer.write(newline);\n        }\n        writer.flush();\n    }\n}\n\nvoid loadSelected() throws IOException {\n    String path = importpath + &quot;\\\\additional_info\\\\brands.txt&quot;;\n    try (BufferedReader reader = new BufferedReader(new FileReader(path))) {\n        JCheckBox[] checkboxes = { ck01, ck02, ck03, ck04, ck05, ck06, ck07, ck08, ck09, ck10, ck11, ck12, ck13, ck14, ck15, ck16, ck17, ck18, ck19, ck20, ck21, ck22, ck23, ck24, ck25, ck26, ck27, ck28, ck29, ck30,ck31, ck32, ck33, ck34, ck35, ck36, ck37, ck38, ck39, ck40,ck41, ck42, ck43, ck44, ck45, ck46, ck47, ck48, ck49, ck50,ck51, ck52, ck53, ck54 };\n        String line;\n        while ((line = reader.readLine()) != null) {\n            for (JCheckBox checkbox : checkboxes) {\n                if (checkbox.getText().equals(line)) {\n                    checkbox.setSelected(true);\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684306812,"question_id":76269037,"body":"<p>I have a Java application, I am a noob in java.</p>\n<p>So in the app, I can export files and I am trying to create an import function as well, I do import the text files but my issue is the following.</p>\n<p>I have several checkboxes, see image bellow, when I am exporting the file, I create a <code>.txt</code> that includes all the brands selected.</p>\n<p>When I import the <code>.txt</code> I can ofc create an arraylist with all the values, what I want to do is cross check that list against all the checkboxes and &quot;check&quot; the boxes. For example I have &quot;avene&quot; inside my list I want the &quot;avene&quot; checkbox (or ck01) to be checked. But I am unsure on how to proseed.\n<a href=\"https://i.stack.imgur.com/r67l1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r67l1.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the way I am importing the file and creating an array</p>\n<pre><code> BufferedReader bf1 = new BufferedReader( new FileReader(importpath+&quot;\\\\additional_info\\\\brands.txt&quot;));\n            String line1 = bf1.readLine();\n            selectedBrands = new ArrayList();\n            while(line1 != null){\n                line1 = bf.readLine();\n                selectedBrands.add(line1);\n            }\n</code></pre>\n<p>And this is that I started trying to do, I tried a few things, like creating checkbox array, an object jlist that includes the checkboxes, I even tried creating a new jcheckbox list but I am always getting an error\n<code>cannot find symbol</code> on the <code>.getText()</code> command.</p>\n<p>Again I am a newbie so it might be something really really silly. I am adding the latest test I did with the <code>Object[]</code> list but I have tried several other ways. Thank you guys.</p>\n<pre><code>List&lt;Checkbox&gt; checkboxes = new ArrayList&lt;Checkbox&gt;();\nObject[] newList = {ck01, ck02, ck03, ck04, ck05, ck06, ck07, ck08, ck09, ck10, ck11, ck12, ck13, ck14, ck15, ck16, ck17, ck18, ck19, ck20, ck21, ck22, ck23, ck24, ck25, ck26, ck27, ck28, ck29, ck30,ck31, ck32, ck33, ck34, ck35, ck36, ck37, ck38, ck39, ck40,ck41, ck42, ck43, ck44, ck45, ck46, ck47, ck48, ck49, ck50,ck51, ck52, ck53, ck54};\n\n            \n            for (int i = 0; i &lt; newList.length; i++) {\n                \n                newList[i].getText();\n                \n       }           \n                \n</code></pre>\n<p>***P.S. the app was created using NetBeans!</p>\n"},{"comments":[{"comment_id":134497040,"body":"Also see, <a href=\"//meta.stackoverflow.com/q/285551\">Why should I not upload images of code/data/errors?</a>"},{"comment_id":134498639,"body":"it is throwing an Exception, so the method terminates abruptly (with reason being that Exception) and nothing can be returned (that FileSystem apparently is read-only, so that operation is not permitted)"}],"answers":[{"comments":[{"comment_id":134497052,"body":"thank you I thought there was another device I didn&#39;t know about."}],"answer_id":76269187,"body":"<p><a href=\"https://github.com/openjdk/jdk20/blob/master/src/java.base/share/classes/jdk/internal/jrtfs/JrtFileSystem.java#L256\" rel=\"nofollow noreferrer\"><code>readOnly</code></a> is a static method in the same class.</p>\n<pre><code>static ReadOnlyFileSystemException readOnly() {\n    return new ReadOnlyFileSystemException();\n}\n</code></pre>\n<p>Hence <code>throw readOnly()</code> is equivalent to <code>throw new ReadOnlyFileSystemException()</code> as <code>readOnly</code> method returns an instance of <code>Exception</code>.</p>\n"}],"last_activity_date":1684306741,"question_id":76269120,"body":"<p>While watching the package jdk.internal.jrtfs.JrtFileSystem class</p>\n<pre><code>final OutputStream newOutputStream(JrtPath jrtPath, OpenOption... options) throws IOException {\n     throw readOnly();\n}\n</code></pre>\n<p>How does this function work when there is no return value?</p>\n<p>I wonder what the principle of operation is.\n<a href=\"https://i.stack.imgur.com/5XJkx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"comments":[{"comment_id":134496383,"body":"Kindly refer to following :  <a href=\"https://stackoverflow.com/questions/2350495/how-do-i-perform-the-sql-join-equivalent-in-mongodb?rq=2\" title=\"how do i perform the sql join equivalent in mongodb\">stackoverflow.com/questions/2350495/&hellip;</a>"}],"answers":[{"answer_id":76268906,"body":"<pre><code>db.Room.aggregate([\n {\n $lookup: {\n  from: &quot;RoomType&quot;.\n  localField: &quot;roomtypeId&quot;,\n  foreignField: &quot;_id&quot;,\n  as: &quot;roomType&quot;\n }\n },\n{\n $unwind: &quot;$roomType&quot;\n }\n])\n</code></pre>\n<ol>\n<li>Aggregate method for aggregation pipeline</li>\n<li>Lookup used to join the collection Room and RoomType</li>\n<li>LocalField for the room collection</li>\n<li>ForeignField for RoomType collection.</li>\n<li>$unwind: is optional mainly used to flatten the resulting array</li>\n</ol>\n<p>In java,</p>\n<pre><code>LookupOperation lookup = LookupOperation.newLookup()\n  .from(&quot;roomTypes&quot;)\n  .localField(&quot;roomtypeId&quot;)\n  .foreignField(&quot;_id&quot;)\n  .as(&quot;roomType&quot;);\n\nAggregation aggregation = Aggregation.newAggregation(\n  Aggregation.match('add condition'), lookup );\n\nmongoTemplate.aggregate(aggregation, &quot;rooms&quot;, \nRoom.class).getMappedResults();\n</code></pre>\n"}],"last_activity_date":1684306650,"question_id":76268693,"body":"<h2>Collection:</h2>\n<p>Room</p>\n<pre><code>{\n    &quot;_id&quot; : ObjectId(&quot;6461eb7c1cefe2b485d4ca2e&quot;),\n    &quot;AgentId&quot; : &quot;5e7a1caaa08a49ff4d029bbd&quot;,\n    &quot;roomName&quot; : &quot;My Room101&quot;,\n    &quot;note&quot; : &quot;note abc&quot;,\n    &quot;roomStatus&quot; : &quot;Empty&quot;,\n    &quot;roomTypeId&quot; : &quot;6461db161cefe2b485d4ca1e&quot;,\n    &quot;createdBy&quot; : &quot;Super Administrator&quot;,\n    &quot;createdAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\n    &quot;updatedBy&quot; : &quot;Super Administrator&quot;,\n    &quot;updatedAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\n    &quot;isDeleted&quot; : false\n}\n</code></pre>\n<p>RoomType</p>\n<pre><code>  {\n    &quot;_id&quot; : ObjectId(&quot;6461db161cefe2b485d4ca1e&quot;),\n    &quot;roomTypeName&quot; : &quot;VIP 1&quot;,\n    &quot;note&quot; : &quot;note xyz&quot;,\n    &quot;createdBy&quot; : &quot;Super Administrator&quot;,\n    &quot;createdAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\n    &quot;updatedBy&quot; : &quot;Super Administrator&quot;,\n    &quot;updatedAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\n    &quot;isDeleted&quot; : false\n}\n</code></pre>\n<p>in SQL:</p>\n<blockquote>\n<p>select * from Room r inner join RoomType rt on r.roomTypeId=rt._id</p>\n</blockquote>\n<p>I want to display query result using Query in Java</p>\n"},{"last_activity_date":1684306490,"question_id":76269279,"body":"<p>I am working on a small project using <strong>Spring Boot, Hibernate, and JPA</strong>. I have created three entities-</p>\n<ol>\n<li>Book</li>\n<li>Author</li>\n<li>Publication</li>\n</ol>\n<p><strong>Required relationships-</strong></p>\n<ol>\n<li>One book can be written by multiple authors and the author can have many books. Therefore- Many to Many Relationship</li>\n<li>One book can have only one publication and one publication can have many books. Therefore- Many to One Relationship</li>\n</ol>\n<p><strong>The code for these entities-</strong></p>\n<ol>\n<li>Book.java-</li>\n</ol>\n<pre><code>//...import statements\n\n@Entity\n@Data\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;Book_id&quot;)\n    private int id;\n\n    @Column(name = &quot;Book_name&quot;,nullable = false, unique = true)\n    private String bookName;\n\n    @Column(name = &quot;Publication_date&quot;,nullable = false)\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&quot;)\n    private Date publishDate;\n\n    @Column(name = &quot;ISBN&quot;,nullable = false, unique = true)\n    private String isbn;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;publication_id&quot;, nullable = false)\n    private Publication publication;\n\n    @ManyToMany\n    @JoinTable(name = &quot;Book_Author&quot;, joinColumns = @JoinColumn(name = &quot;book_id&quot;, referencedColumnName = &quot;Book_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;Author_id&quot;))\n    private Set&lt;Author&gt; authors = new HashSet&lt;&gt;();\n\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>Author.java-</li>\n</ol>\n<pre><code>//... import statements\n\n@Entity\n@Data\npublic class Author {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;Author_id&quot;)\n    private int id;\n\n    @Column(name=&quot;First_name&quot;,nullable = false)\n    private String firstName;\n    @Column(name=&quot;Last_name&quot;,nullable = false)\n    private String lastName;\n    @Column(name=&quot;Mobile_number&quot;,nullable = false, unique = true,length = 10)\n    private long mobileNo;\n\n    @ManyToMany(mappedBy = &quot;authors&quot;)\n    Set&lt;Book&gt; books=new HashSet&lt;&gt;();\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>Publication.java-</li>\n</ol>\n<pre><code>//... import statements\n@Entity\n@Data\npublic class Publication {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(name=&quot;Publication_name&quot;,nullable = false,unique = true)\n    private String name;\n\n    @Column(name=&quot;Registration_number&quot;,nullable = false, unique = true)\n    private String regNumber;\n\n    @OneToMany(mappedBy = &quot;publication&quot;)\n    Set&lt;Book&gt; books=new HashSet&lt;&gt;();\n}\n</code></pre>\n<p><strong>Problems-</strong> I am facing following issues with the code:</p>\n<ol>\n<li>In the Many to Many relationship of <strong>Book</strong> and <strong>Author</strong>, when fetching Book or Author, I do not get the corresponding Author and Book respectively. What I get is an  empty set. Example-</li>\n</ol>\n<pre><code> @Override\n    public BookDto getBook(int id) {\n        Book book=this.bookRepository.findById(id).get();\n        System.out.println(&quot;Book Publisher: &quot;+book.getPublication());\n        System.out.println(&quot;Author: &quot;+book.getAuthors()); //empty set\n        return this.bookToDto(book);\n    }\n</code></pre>\n<p><strong>Although, when I use SQL query in MySQL, I get the result-</strong></p>\n<pre><code>Select * from demodb.book natural join demodb.book_author natural join demodb.author\n</code></pre>\n<p>Also, the Hibernate query shows that the query is being fired on the <strong>join</strong> of the tables to fetch data but nothing is returned in the query.<br />\n2. In the Many to One relationship of <strong>Book</strong> and <strong>Publication</strong>, when fetching Publication, the associated set of books is not fetched from the database, although Hibernate query is fired to fetch. But, when fetching a book, publication is fetched.</p>\n<p>Query when fetching publication by id- (I am aware that cyclic dependency might occur but the objects are not fetched at all because I get empty <strong>Set</strong> in publication.getBooks())</p>\n<pre><code>Hibernate: \n    select\n        p1_0.id,\n        p1_0.publication_name,\n        p1_0.registration_number\n    from\n        publication p1_0\n    where\n        p1_0.id=?\nHibernate: \n    select\n        b1_0.publication_id,\n        b1_0.book_id,\n        b1_0.book_name,\n        b1_0.isbn,\n        b1_0.publication_date\n    from\n        book b1_0\n    where\n        b1_0.publication_id=?\nHibernate: \n    select\n        b1_0.publication_id,\n        b1_0.book_id,\n        b1_0.book_name,\n        b1_0.isbn,\n        b1_0.publication_date\n    from\n        book b1_0\n    where\n        b1_0.publication_id=?\nHibernate: \n    select\n        a1_0.book_id,\n        a1_1.author_id,\n        a1_1.first_name,\n        a1_1.last_name,\n        a1_1.mobile_number\n    from\n        book_author a1_0\n    join\n        author a1_1\n            on a1_1.author_id=a1_0.author_id\n    where\n        a1_0.book_id=?\nHibernate: \n    select\n        b1_0.author_id,\n        b1_1.book_id,\n        b1_1.book_name,\n        b1_1.isbn,\n        p1_0.id,\n        p1_0.publication_name,\n        p1_0.registration_number,\n        b1_1.publication_date\n    from\n        book_author b1_0\n    join\n        book b1_1\n            on b1_1.book_id=b1_0.book_id\n    left join\n        publication p1_0\n            on p1_0.id=b1_1.publication_id\n    where\n        b1_0.author_id=?\nHibernate:\n    select\n        a1_0.book_id,\n        a1_1.author_id,\n        a1_1.first_name,\n        a1_1.last_name,\n        a1_1.mobile_number\n    from\n        book_author a1_0\n    join\n        book b1_1\n            on b1_1.book_id=b1_0.book_id\n    left join\n        publication p1_0\n            on p1_0.id=b1_1.publication_id\n    where\n        b1_0.author_id=?\n</code></pre>\n<ol start=\"3\">\n<li><strong>Error in using FetchType.LAZY in book-publication relationship</strong>-<br />\nWhen I use <strong>fetch=FetchType.LAZY</strong> on the <strong>publication</strong> in <strong>Book</strong> entity and try to fetch book,</li>\n</ol>\n<pre><code> @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;publication_id&quot;, nullable = false)\n    private Publication publication;\n</code></pre>\n<p>I get the following error-</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.ayushsingh.demojpa.dto.BookDto[&quot;publication&quot;]-&gt;com.ayushsingh.demojpa.entity.Publication$HibernateProxy$F4hnTR8H[&quot;hibernateLazyInitializer&quot;])\n</code></pre>\n<p><strong>Note-</strong><br />\nI am using <strong>ModelMapper 3.1.1, Dev Tools, Java version- 17 and Spring Boot Version- 3.0.6</strong> .<br />\nI have clubbed these issues as they might be releated. Please help.</p>\n"},{"comments":[{"comment_id":98021580,"body":"see <a href=\"https://devops.stackexchange.com/questions/1432/how-does-dependency-management-for-node-js-differ-from-maven\" title=\"how does dependency management for node js differ from maven\">devops.stackexchange.com/questions/1432/&hellip;</a>"}],"answers":[{"comments":[{"comment_id":64187224,"body":"not sure because i&#39;m not so familiar with all these js tools. <code>gradle</code> is <code>maven + ant</code> together let&#39;s say. it does what maven does but it gives you also the freedom to write code and scripts apart from all the de-facto jobs that it does. i had a look at <code>gulp</code> just now. maybe it&#39;s the same, from what i read. if you want to start using maven vs gradle, i&#39;d suggest starting with <code>maven</code> which is more clear and easier to understand and then mess up with <code>gradle</code>!"},{"comment_id":64187273,"body":"Thanks. Does maven have flat dependency tree or nested dependency tree ?"},{"comment_id":64187412,"body":"didnt understand what you mean. do you mean about the issue npm had with dependencies stored in sub-node_modules directories and having file path problems with over 256 characters, which was fixed in npm 3? maven stores all the jars in a repo and each jar is stored in its package."},{"comment_id":64187427,"body":"<a href=\"http://stackoverflow.com/questions/18641899/what-is-the-difference-between-bower-and-npm\" title=\"what is the difference between bower and npm\">stackoverflow.com/questions/18641899/&hellip;</a>. npm has nested dependency tree, that means all versions of a single module required by different modules is downloaded. Flat dependency tree doesn&#39;t allows that !"},{"comment_id":64187429,"body":"e.g. see here <a href=\"https://mvnrepository.com/artifact/org.hibernate/hibernate-core/5.2.1.Final\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.hibernate/hibernate-core/&hellip;</a>. hibernate depends on various other libraries, but these jars wont be stored in local maven repo inside hibernate library but in their own packages."},{"comment_id":64187977,"body":"I think there is a difference in the handling of nested (transitive) dependencies. every node module can contain its own version of a dependency while maven will try to resolve to a single common dependency if several dependencies require the same third dependency but in a different version. I also would say grunt matches gradle since its task based. gradle is more of ant+ivy while maven is strongly convention driven. maybe closer to webpack but nothing too similar."},{"comment_id":64188154,"body":"@wemu if you have 2 different versions of a library inside a pom.xml war, it will include them both, but that&#39;s sth you have to take care because it will end up in some incosistency probably."},{"comment_id":64194689,"body":"sorry, you are correct. confused it with the profile building procedure that i sometimes use and define the versions."}],"answer_id":38388995,"body":"<p>yes. it's a similar packaging tool for java. look for <code>gradle</code> also which gives you more liberty with <code>groovy language</code>, but for start you can use <code>maven</code> to organize your dependencies. you include them as tags there and maven does the job for you.</p>\n\n<p>it traverses the dependency tree and downloads all the appropriate jars.</p>\n"},{"comments":[{"comment_id":74891030,"body":"In addition to the information above, the following <a href=\"https://www.youtube.com/watch?v=al7bRZzz4oU&amp;list=PL92E89440B7BFD0F6\" rel=\"nofollow noreferrer\">Youtube Playlist</a> does a great job describing Maven&#39;s use as a package manager"},{"comment_id":81270583,"body":"I often visit npmjs.com to search for a package that might be helpful. It took quite a bit of googling to find a link for doing this on Maven (<a href=\"https://search.maven.org\" rel=\"nofollow noreferrer\">search.maven.org</a>). However, searches don&#39;t point me to docs, don&#39;t show me popularity metrics, don&#39;t point to github. I don&#39;t find it helpful, suggesting that this is something people expect of NPM but not of Maven."},{"comment_id":83976694,"body":"A  pretty good statistical comparison between NPM &amp; Maven is here: <a href=\"https://stackshare.io/stackups/npm-vs-gradle\" rel=\"nofollow noreferrer\">stackshare.io/stackups/npm-vs-gradle</a>"},{"comment_id":97451845,"body":"An update to this answer:  &quot;Furthermore, Maven is considerably older than NPM, has a larger user base...&quot;  This was probably true when the question was originally answered in 2017, but is no longer accurate. According to the link posted by @cacoder, NPM&#39;s user base is now about 11x larger than that of Maven.   Source: <a href=\"https://stackshare.io/stackups/gradle-vs-maven-vs-npm\" rel=\"nofollow noreferrer\">stackshare.io/stackups/gradle-vs-maven-vs-npm</a>"},{"comment_id":119048833,"body":"How does one get started creating a project with Maven though? This answer is thorough but it sounds like it&#39;s describing a situation where there&#39;s a <code>pom.xml</code> file already. But what about if you want to create a new project? In Node.js, I&#39;d do <code>mkdir &lt;dir&gt;; cd &lt;dir&gt;; npm init -f</code>. The <code>npm</code> tool, out of the box, can create a new project, and I&#39;m not required to choose an archtype to start from."},{"comment_id":119048834,"body":"Maven&#39;s site says &quot;Calling archetype:generate the plugin will first ask to choose the archetype from the internal catalog&quot;, but when I run <code>mvn archtype:generate</code>, I don&#39;t get a prompt. I get an error: <code>No plugin found for prefix &#39;archtype&#39; in the current project</code>. This is confusing because I don&#39;t have a project yet. I&#39;m trying to use Maven to make the project in the first place."},{"comment_id":119048909,"body":"Found my typo. If I type <code>mvn archetype:generate</code>, it works, and it displays a few thousand archetypes for me to choose from. The Maven docs (<a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/getting-started/&hellip;</a>) include an example where they pick an archetype called &quot;maven-archetype-quickstart&quot; so I could try to just remember that. The syntax is a bit hard to remember though, having to run <code>mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false</code> instead of <code>npm init</code>&#39;."}],"answer_id":38392716,"body":"<h2>Same tool, different language?</h2>\n\n<p>Maven is the most popular build and dependency resolution tool for Java, just like NPM is for JS. But it's not just the same tool for a different language. There are obviously huge differences between Java and JS builds, and these differences are directly visible in the way Maven operates. For example, while many JS tools rely on Git to do some heavy-lifting, Maven works with custom filesystem-based Maven repositories, as Maven predates Git and needs to handle binary artifacts, which Git historically didn't handle well. In Maven there's a clear separation between sources and binaries, while they are often the same thing in JS world.</p>\n\n<h2>Maven basics</h2>\n\n<p>Maven in its purest form follows a declarative model, where <code>pom.xml</code> (similar to <code>package.json</code>) defines different properties of the build, but contains no scripts. The disadvantage is it can be a challenge to fine-tune some aspects of the build without using scripts as you have to rely on plugins. The advantage is it can be easier to understand other builds just by looking at <code>pom.xml</code>, as they usually follow the same approach without too much customization. Gradle is a popular Groovy-based tool built on top of Maven standards and conventions, and is specifically designed to simplify <code>pom.xml</code> and break this \"no script\" barrier.</p>\n\n<h2>Referencing your dependencies</h2>\n\n<p>Similarly to <code>package.json</code>, you don't work with <code>pom.xml</code> of your dependency directly, but rather define dependency coordinates and let your build tool handle the rest. In Maven the basic form of these coordinates is  GAV (groupId, artifactId, version).</p>\n\n<h2>Flat dependency tree?</h2>\n\n<p>Based on comments in the other answer, Maven provides \"flat dependency tree\", not \"nested dependency tree\" that NPM provides by default. Maven does not allow multiple versions of the same dependency. If it happens that different versions are requested, Maven uses <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"noreferrer\">dependency resolution</a> to pick a single version. This means that sometimes your transitive dependencies will get a different version than they require, but there are ways to manage this. However, this limitation comes from Java, not Maven, as (normally) in Java a class loader will only provide access to a single class definition even if multiple definitions are found on the classpath. Since Java is not particularly good at handling this, Maven tries to avoid this scenario in the first place.</p>\n\n<p>Note: since npm v3 the dependencies are flatten. The alternative package manager <a href=\"https://yarnpkg.com\" rel=\"noreferrer\">yarn</a> also does the same.</p>\n\n<h2>Maturity</h2>\n\n<p>Furthermore, Maven is considerably older than NPM, has a larger user base, huge number of custom plugins, and so far could probably be considered more mature overall. Sometimes Maven is used for non-Java or even polyglot projects, as there are plugins for handling other languages or specific environments, such as Android. There are plugins that bridge Maven and other build tools, such as <a href=\"https://github.com/eirslett/frontend-maven-plugin\" rel=\"noreferrer\">frontend-maven-plugin</a> that actually handles multiple JS build tools.</p>\n"},{"answer_id":49708879,"body":"<p>Yes, same with gradle, but they are not user friendly as npm.</p>\n"},{"comments":[{"comment_id":132920393,"body":"I am a Java developer who recently started working in some Angular projects. You mentioned one of the differences between mvn and npm is that mvn supports &quot;Artifacts that are installed locally, are automatically accessible by other local projects.&quot; Is there any way to accomplish this with npm in a convenient way? It seems like I typically have to build a sub component and manually copy it over to the consuming applications node_modules or release to npm before I can use it."}],"answer_id":52745149,"body":"<p>Below I provide the common features and differences. I use <code>|</code> to separate between <code>maven</code> | <code>npm</code> terms respectively:</p>\n<h3>Common features:</h3>\n<ul>\n<li><p>Both tools support <strong>dynamic fetch of dependencies</strong> ( <strong>artifacts | packages</strong> ) based on a descriptor file <strong><code>pom.xml</code>|<code>package.json</code></strong>, and also allow you to <strong>deploy | publish</strong> your own <strong>artifacts | packages</strong>.</p>\n</li>\n<li><p>They both have a default public <strong>repository | registry</strong>  ( <a href=\"http://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2/</a> | <a href=\"https://registry.npmjs.org\" rel=\"nofollow noreferrer\">https://registry.npmjs.org</a>), but 3rd-party can also be used (via <strong><code>settings.xml</code>|<code>.npmrc</code></strong> ).</p>\n</li>\n<li><p>They both support the concept of <strong>build-level dependencies (plugins | devDependencies used in scripts)</strong>. *Maven supports <code>provided</code> dependencies also but this does not seem to apply to npm, since javascript is rarely deployed into containers.</p>\n</li>\n<li><p>They both support dependency namespacing: <code>groupId</code>|<code>scope</code></p>\n</li>\n</ul>\n<h3>Differrences:</h3>\n<ul>\n<li><p>maven has an additional <strong>local repository</strong>(cache):</p>\n<ul>\n<li>No need to fetch again the same dependency for differrent projects.</li>\n<li>Artifacts that are installed locally, are automatically accessible by other local projects.</li>\n</ul>\n</li>\n<li><p>dependencies from a project build in maven are downloaded in <code>&lt;homedir&gt;/.m2</code>. With npm they are downloaded in <code>&lt;projectdir&gt;/node_modules</code>.</p>\n</li>\n<li><p>Building in <strong>maven</strong> is commonly a <strong>one-step process</strong>: <code>mvn package</code> (fetch deps , build). In npm it is a 2-step process: <code>npm install</code> (fetch deps) , <code>npm build</code> (build)</p>\n</li>\n<li><p>maven defines <strong>build lifecycles</strong> (for building,testing,deploying) <strong>consisted of phases, to which default operations(plugin goals) attach</strong>, based on differrent packaging options(<code>.jar</code>,<code>.war</code>,<code>.ear</code> e.t.c). You can then overwrite these operations, or inject new ones (via the plugin system). This provides kind of an out-of-the box solution for build,docgen,test,deploy e.t.c.<br />\nnpm approach is more simplistic ( see:  <a href=\"https://docs.npmjs.com/misc/scripts\" rel=\"nofollow noreferrer\">scripts</a>)</p>\n</li>\n<li><p>Due to the above, npm is labeled as a <strong>package-management tool for javascript</strong> while maven is labeled as a <strong>build-automation and dependency-management tool for java</strong>.</p>\n</li>\n<li><p>In maven setting-up the build process more commonly involves <strong>editing the <code>pom.xml</code></strong>.<br />\nIn npm it involves <strong>writing code</strong> or configuring <strong>complementary build tools</strong> like <code>gulp</code>,<code>webpack</code> e.t.c</p>\n</li>\n<li><p>For some reason <strong>version ranges</strong> defined by users in npm modules, are much more <strong>loose</strong> than in maven. This can cause issues with transitive dependencies, that is why an additional file was recently added: <strong><code>package-lock.json</code></strong></p>\n</li>\n<li><p>With npm it is much more <strong>straightforward to start</strong> a new project: <code>npm init</code>. With maven, you need to know how to write a minimal <code>pom.xml</code>, or read about archetypes.</p>\n</li>\n<li><p>In general it is much more common to edit <code>pom.xml</code> than <code>package.json</code>. E.g. <strong>adding dependencies in maven</strong> is done <strong>manually</strong> (or via IDE) while in <strong>npm via command line</strong>.</p>\n</li>\n<li><p>As with all build tools, you can call one tool from inside the other, but I think its much more common to call <strong>npm from inside maven</strong>, than the opposite.</p>\n</li>\n<li><p>npm supports <strong>dev,production builds</strong>. In maven this needs to be defined through <strong>profiles</strong>.</p>\n</li>\n</ul>\n"}],"last_activity_date":1684306449,"question_id":38388824,"body":"<p>As I have worked with npm which looks for dependencies in package.json file and download it for you. Similarly, I see a pom.xml file in Java project. Does maven looks in this file and download dependencies for me. Can I pass around this pom.xml file like package.json, rather than giving the dependency jars ? Are these tools similar and just build for different platforms ?</p>\n"},{"answers":[{"comments":[{"comment_id":61593403,"body":"It works perfect, except when I filter on a String containing &quot;(&quot; or &quot;)&quot; for Example: &quot;Car (Porsche)&quot; . How to deal with that?"},{"comment_id":61599772,"body":"Solved it: Pattern.quote(filterValue)"}],"answer_id":36601331,"body":"<p>you can create RowFilter.AndFilter and pass all filters that you need:</p>\n\n<pre><code>List&lt;RowFilter&lt;M, O&gt;&gt; listOfFilters = new ArrayList&lt;&gt;();\n... add filters into list\nRowFilter.andFilter(listOfFilters);\n</code></pre>\n"},{"answer_id":45646719,"body":"<p>Simply remove the parameter \"0\" from the RowFilter to sort all columns:</p>\n\n<pre><code>rf = RowFilter.regexFilter(filterText.getText());\n</code></pre>\n"},{"answer_id":76269218,"body":"<p>I used 2 inputs JTextField (filterTextOras,filterTextClient), using simple RowFilter&lt;MyTableModel, Object&gt; if either textfields are empty and compoundRowFilter is both contain text.</p>\n<pre><code>protected void Filtru() {\n        RowFilter&lt;MyTableModel, Object&gt; rfo = null;\n        RowFilter&lt;MyTableModel, Object&gt; rfc = null;\n        if(filterTextClient.getText().equals(&quot;&quot;)){\n            if(filterTextOras.getText().equals(&quot;&quot;)){\n                sorter.setRowFilter(null);\n            } else {\n                rfc = RowFilter.regexFilter(filterTextOras, 1);//column 1\n                sorter.setRowFilter(rfc);\n            }\n        } else {\n            if(filterTextOras.getText().equals(&quot;&quot;)){\n                rfo = RowFilter.regexFilter(filterTextClient.getText(), 0);//column 0\n                sorter.setRowFilter(rfo);\n            }\n            else{\n                List&lt;RowFilter&lt;Object,Object&gt;&gt; filters = new ArrayList&lt;RowFilter&lt;Object,Object&gt;&gt;(2);\n                filters.add(RowFilter.regexFilter(filterTextClient.getText(), 0, 0));\n                filters.add(RowFilter.regexFilter(filterTextOras.getText(), 1));\n                RowFilter&lt;Object,Object&gt; compoundRowFilter = RowFilter.andFilter(filters);\n                sorter.setRowFilter(compoundRowFilter);\n            }\n        }\n    }\n</code></pre>\n"}],"last_activity_date":1684305936,"question_id":36600996,"body":"<p>I want to sort/filter a JTable on multiple columns, f.E.</p>\n\n<pre>\nColumn1  Column2\n   a        1\n   b        2\n   c        2\n</pre>\n\n<p>I want to sort this table by the <b>Column1 = b</b> and by the <b>Column2 = 2</b>.</p>\n\n<pre><code>MyTableModel model = new MyTableModel();\nsorter = new TableRowSorter&lt;MyTableModel&gt;(model);\ntable = new JTable(model);\ntable.setRowSorter(sorter);\n\n...\n\nprivate void newFilter() {\n    RowFilter&lt;MyTableModel, Object&gt; rf = null;\n    //If current expression doesn't parse, don't update.\n    try {\n        rf = RowFilter.regexFilter(filterText.getText(), 0);\n    } catch (java.util.regex.PatternSyntaxException e) {\n        return;\n    }\n    sorter.setRowFilter(rf);\n}\n</code></pre>\n\n<p>But how to sort on more than one column?</p>\n"},{"comments":[{"comment_id":134496813,"body":"&quot;It might not be entirely inside the source page.&quot; what does that even mean?"},{"comment_id":134497015,"body":"It means the sub page might not be exactly a substring of source page but some parts of sub page and source page would be intersecting."},{"comment_id":134497055,"body":"So write that, and show an example. It is very hard to understand your question as it is now"},{"comment_id":134524606,"body":"Use a Java <code>diff</code> utility, and use it&#39;s output as constraints for creating a starting and ending index for your highlight procedure."}],"last_activity_date":1684305850,"question_id":76268970,"body":"<p>I have 2 HTML pages\n1. A complete HTML page. Let's call this source page\n2. A small HTML page(sub page) which is similar to a small part of source page.</p>\n<p>Example</p>\n<p><strong>Source page</strong></p>\n<pre><code>&lt;div&gt;\nThis is a source page\n&lt;/div&gt;\n</code></pre>\n<p><strong>Sub page</strong></p>\n<pre><code>&lt;div&gt;\nThis is blank page\n&lt;/div&gt;\n</code></pre>\n<p>Here we have a sub page which is similar to source page.\nIt might not be entirely inside the source page. It means the sub page might not be exactly a substring of source page but some parts of sub page and source page would be intersecting.</p>\n<p>I need to highlight the <strong>sub page</strong> inside the <strong>source page</strong>.</p>\n<p>I was thinking about using the graph to find the similarity between words(nodes) and finding the start and end nodes in source page.\nThis is not concrete but only a thought.</p>\n<p>Any suggestion/implementation would be helpful.\nI am using Java for implementation.</p>\n"},{"last_activity_date":1684305711,"question_id":76269198,"body":"<p>i want to try add header app-id but i always get error app_id_missing is there something wrong with my coding?</p>\n<pre><code>\n public void usersWantToGetInformationFromWebsite() {\n    RestAssured.baseURI = &quot;https://dummyapi.io/data/v1/&quot;;\n    RequestSpecification request = RestAssured.given();\n    request.header(&quot;app-id&quot;,&quot;64623ba4afa9951861c8234f&quot;);\n    given().when().get(&quot;https://dummyapi.io/data/v1/user/&quot;)\n        .then().log().all()\n            .assertThat().statusCode(200);\n    }\n</code></pre>\n"},{"comments":[{"comment_id":16351149,"body":"I hesitate to ask... is the text perhaps white (the same color as the background)?"}],"answers":[{"answer_id":12856668,"body":"<p>I read this on a forum and worked for me:</p>\n\n<p>Using Adobe Acrobat Pro, I exported the form using \"Export Data\" to a XML and then imported it back from XML-file with \"Import Data\". Those commands are under Forms/Manage Forms Data</p>\n\n<p>This is the link to the post: <a href=\"http://forums.adobe.com/thread/637421\" rel=\"nofollow\">http://forums.adobe.com/thread/637421</a></p>\n"},{"answer_id":15100328,"body":"<p>I had this exact problem with a form I was filling with PDFBox in Java.</p>\n\n<p>I fixed it by opening the original (blank) PDF form in Acrobat Pro and changing some options for each of the problem text fields. The options might vary for you, but here's what worked for me:</p>\n\n<p>In the Acrobat Pro menu bar go to Forms > Add or edit fields.\nRight click the text field in Acrobat Pro and select properties, then: </p>\n\n<p>In the 'Options' tab:</p>\n\n<ul>\n<li>Untick all options except 'scroll long text'</li>\n<li>Add a few space characters in to the Default Value box</li>\n</ul>\n\n<p>In the 'Appearance' tab:</p>\n\n<ul>\n<li>Set the font size to 'auto'</li>\n</ul>\n\n<p>Click 'close form editing' and save the file.</p>\n\n<p><img src=\"https://i.stack.imgur.com/4rPRV.png\" alt=\"Field Options\"></p>\n"},{"answer_id":20631513,"body":"<p>I don't quite know how you can stop it happening in the future but a resolution to getting the file working, similar to g-eorge is to open it in adobe acrobat pro, in tools on the right hand menu select \"Interactive objects\" and choose select object.</p>\n\n<p>When you highlight the first field you want to fix, you should then be able to control-a to select all interactive objects. Once all are selected, right click on one field and select properties.</p>\n\n<p>In the \"general\" tab the bottom option should have \"common properties\" which has the option \"form field\" change this to <strong>hidden</strong> and then back to <strong>visible</strong>. This will then restore all visibility to the form.</p>\n\n<p>This has worked for me on all the rare instances when I receive this, and hasn't failed me once. Hope it does the same for you,</p>\n\n<p>BoB</p>\n"},{"comments":[{"comment_id":35552138,"body":"How can you be sure this is an Adobe error? I&#39;ve seen quite a lot of PDFs with an issue as described by the OP, and often the problem was due to some error in the PDF (produced by non-Adobe software)."}],"answer_id":23224076,"body":"<p>in the appearance tab of each erroneously hidden object you will see the \"fill color\" set to none. set it to none again (just click on it) and save the PDF and these fields will show up normally. I can't believe adobe has let this error persist for so long. It happens constantly when viewing/saving with multiple pdf readers.</p>\n"},{"comments":[{"comment_id":41844847,"body":"Apologies, it looks like someone previously mentioned this too!"}],"answer_id":26616824,"body":"<p>I just ran across this and tried a combination of things before one very simple thing worked.  I have Adobe Acrobat 9.0 and I couldn't find some of the options written here.</p>\n\n<p>What I ended up doing was a two-pronged process:  I went to <strong>Forms > Manage Form Data > Export Data</strong>; I then saved that file on my desktop.  Next, I went back to Forms > Manage Form Data but instead selected <strong>Import Data</strong>, and selected that file I'd just saved.  Bingo!  Everything filled in properly.</p>\n"},{"comments":[{"comment_id":57065394,"body":"Adding the &quot;NeedAppearances&quot; line did not resolve the problem for me with pdfbox 1.8.x. Upgrading to pdfbox 2 and setting <code>form.setNeedAppearances(true)</code> fixed it"},{"comment_id":57075049,"body":"@D&#243;nal weird, I actually didn&#39;t even test it with pdfbox 2, just read the API. But I did test it with 1.8.10 and it resolved the issue for me. Of course, there could be other issues here as well. I also remove the <code>AP</code> values for the form fields before, maybe that&#39;s relevant?"},{"comment_id":57953295,"body":"Both methods works for me - 1.8 and 2.0.0-RC3. Thanks, you saved my life (mental health at least). I just wonder why it&#39;s not true by default."},{"comment_id":101604841,"body":"The <code>&#47;NeedAppearances</code> setting in a PDF means that the viewer should create the appearances. PDFBox 2.0.* should create good appearances itself (in theory). The only weakness that I remember are RTL languages (e.g. hebrew, arabic) and languages with complex scripts (e.g. thai and some indian languages)."}],"answer_id":34611473,"body":"<p>I had the same problem when I tried to programmatically fill PDF forms using pdfbox. I add this answer to a rather old question as all the other answers manipulate the original PDF, which is not always an option.</p>\n\n<p>The problem with invisible form fields just appeared in Acrobat PDF, other PDF renderers showed it fine. If using pdfbox 1.8.x you have to set <code>Need Appearances</code> as explained <a href=\"https://issues.apache.org/jira/browse/PDFBOX-71\">here</a>:</p>\n\n<pre><code>PDAcroForm form = docCatalog.getAcroForm();\nform.getDictionary().setItem(COSName.getPDFName(\"NeedAppearances\"), COSBoolean.TRUE);\n</code></pre>\n\n<p>If using pdfbox 2 this is simplified to:</p>\n\n<pre><code>PDAcroForm form = docCatalog.getAcroForm();\nform.setNeedAppearances(true);\n</code></pre>\n"},{"comments":[{"comment_id":101604964,"body":"It would still be interesting to see your file... if possible, upload it on a sharehoster and post the address here or on the users mailing list, and mention what field you are trying to set. See also the comment I made on the accepted answer."}],"answer_id":57568002,"body":"<p>Nothing I tried here worked - except to change software.</p>\n\n<p>I was using PDFElement 6 Pro (trial) and couldn't make it work. Tried all sorts of things with PDFBox plus all suggestions above.</p>\n\n<p>Ended up trying <a href=\"https://www.pdfescape.com/\" rel=\"nofollow noreferrer\">https://www.pdfescape.com/</a> and it all worked just fine.</p>\n"},{"answer_id":66398604,"body":"<p>In my case I solved it by changing the font to Arial (or one of the standard in windows set), in the 'Appearance' tab, in properties.\nBefore, it was set Helvetica which was not embedded in the file and that I think generated the problem.</p>\n"},{"comments":[{"comment_id":134502942,"body":"Nuking <b>AP</b> without replacement in a PDF 2.0 document makes it invalid."}],"answer_id":76269191,"body":"<p>Map over all text form fields and programmatically nuke DA, MK and AP entries in a PDF dictionary - those are references to styles so they can include things like fonts that other machine might not have installed and therefore by default they displays as blanks.</p>\n"}],"last_activity_date":1684305662,"question_id":12198742,"body":"<p>In my application I have to fill a predefined PDF form with data from DB. We are using Java and Pdfbox. The filling itself is not a problem.</p>\n\n<p>The problem is that in resulting PDF-file all texts in the form are invisible (or hidden, also grey rectangles) unless field clicked.</p>\n\n<p>How can I solve this problem?</p>\n"},{"comments":[{"comment_id":134510146,"body":"Seems out of topic"}],"last_activity_date":1684305541,"question_id":76269181,"body":"<p>As i came to know about DCEVM which supports hot reloading in the java application i am working with the jre_1.8.0_352 but the DCEVM latest release for the java 8 is 1.8.0_181.Is there any alternate tool for Hot reload in java applications that comes with commercial license.I also know about jrebel but it comes with the comercial license.Can anyone suggest me with the open source tools.</p>\n<p>already using DCEVM need another tool.</p>\n"},{"comments":[{"comment_id":11321184,"body":"just make sure you do not operate with doubles more than 2 ^ 54 or numbers will not fit into the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.3\" rel=\"nofollow noreferrer\">fraction</a>, so for example expressions like <code>myLong == (long)(myDouble + 1)</code> where <code>myLong</code> equals <code>myDouble</code> will evaluate to <code>true</code>"},{"comment_id":43815067,"body":"This method ( <code>Double.longValue();</code> ) is still useful if you have double values from things like an arraylist like this <code>ArrayList&lt;Double&gt;</code> since you&#39;ll get a can&#39;t cast error. I&#39;m just saying this for anyone that came here and had a slightly different problem."}],"answers":[{"comments":[{"comment_id":10432911,"body":"Great answer - the towards zero part would have been wrong for my app, so applause for highlighting this in your answer, and reminding my hungover brain to use Math.round() here instead of just casting !"}],"answer_id":321558,"body":"<p>Assuming you're happy with truncating towards zero, just cast:</p>\n\n<pre><code>double d = 1234.56;\nlong x = (long) d; // x = 1234\n</code></pre>\n\n<p>This will be faster than going via the wrapper classes - and more importantly, it's more readable. Now, if you need rounding other than \"always towards zero\" you'll need slightly more complicated code.</p>\n"},{"comments":[{"comment_id":161948,"body":"It doesn&#39;t give the same result as a cast. So it depends on what rich wants to do."},{"comment_id":161952,"body":"yeah. it was thought as an addition to what Jon said :)"},{"comment_id":13551623,"body":"I like this since it also works with Double and Long objects rather than primitive types."}],"answer_id":321563,"body":"<p>... And here is the rounding way which doesn't truncate. Hurried to look it up in the Java API Manual:</p>\n\n<pre><code>double d = 1234.56;\nlong x = Math.round(d); //1235\n</code></pre>\n"},{"answer_id":321564,"body":"<p><code>(new Double(d)).longValue()</code> internally just does a cast, so there's no reason to create a Double object.</p>\n"},{"answer_id":321567,"body":"<p>Simply put, casting is more efficient than creating a Double object.</p>\n"},{"answer_id":11950386,"body":"<p>Guava Math library has a method specially designed for converting a double to a long:</p>\n\n<pre><code>long DoubleMath.roundToLong(double x, RoundingMode mode)\n</code></pre>\n\n<p>You can use <code>java.math.RoundingMode</code> to specify the rounding behavior.</p>\n"},{"comments":[{"comment_id":122807187,"body":"This is more convenient than the accepted answer"}],"answer_id":24130032,"body":"<p>The preferred approach should be:</p>\n\n<pre><code>Double.valueOf(d).longValue()\n</code></pre>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf(double\" rel=\"noreferrer\">Double (Java Platform SE 7) documentation</a>:</p>\n\n<pre><code>Double.valueOf(d)\n</code></pre>\n\n<blockquote>\n  <p>Returns a <code>Double</code> instance representing the specified <code>double</code> value.\n  If a new <code>Double</code> instance is not required, this method should\n  generally be used in preference to the constructor <code>Double(double)</code>,\n  as this method is likely to yield significantly better space and time\n  performance by caching frequently requested values.</p>\n</blockquote>\n"},{"comments":[{"comment_id":93505714,"body":"<code>Long is a subset of Double</code> is not accurate. The number of significant digits for Long is greater that Double, thus some information held by Long can be lost when converted to Double. Example = <a href=\"https://tio.run/##dY3BCoJAEIbP@hSDECjU0j06eOimJymCiNhcldVxV9xRiPDZt5G6dprh/2a@v5Wz3NmhMq3qvB@mJ@oSSpTOQS61gXcY/EJHknjMVivoGcUFjdo0tzvIsXHJehmgNQ0gwhEy3kSeXh@XNDufDsyUZU8FSjFFXJPi5ajqhZ1IDKwiNDFi8od820Rtx15SHG3Evo62bEvWhyVcvP8A\" rel=\"nofollow noreferrer\">tio.run/&hellip;</a>"},{"comment_id":114240727,"body":"@ThariqNugrohotomo <code>double</code> can store a wider range of numerical information than <code>long</code>. Take a look at the sections about <code>long</code> and <code>double</code> on this <a href=\"https://www.w3schools.com/java/java_data_types.asp\" rel=\"nofollow noreferrer\">site</a>."}],"answer_id":30024672,"body":"<p>If you have a strong suspicion that the DOUBLE is actually a LONG, and you want to</p>\n\n<p>1) get a handle on its EXACT value as a LONG</p>\n\n<p>2) throw an error when its not a LONG</p>\n\n<p>you can try something like this:</p>\n\n<pre><code>public class NumberUtils {\n\n    /**\n    * Convert a {@link Double} to a {@link Long}.\n    * Method is for {@link Double}s that are actually {@link Long}s and we just\n    * want to get a handle on it as one.\n    */\n    public static long getDoubleAsLong(double specifiedNumber) {\n        Assert.isTrue(NumberUtils.isWhole(specifiedNumber));\n        Assert.isTrue(specifiedNumber &lt;= Long.MAX_VALUE &amp;&amp; specifiedNumber &gt;= Long.MIN_VALUE);\n        // we already know its whole and in the Long range\n        return Double.valueOf(specifiedNumber).longValue();\n    }\n\n    public static boolean isWhole(double specifiedNumber) {\n        // http://stackoverflow.com/questions/15963895/how-to-check-if-a-double-value-has-no-decimal-part\n        return (specifiedNumber % 1 == 0);\n    }\n}\n</code></pre>\n\n<p>Long is a subset of Double, so you might get some strange results if you unknowingly try to convert a Double that is outside of Long's range:</p>\n\n<pre><code>@Test\npublic void test() throws Exception {\n    // Confirm that LONG is a subset of DOUBLE, so numbers outside of the range can be problematic\n    Assert.isTrue(Long.MAX_VALUE &lt; Double.MAX_VALUE);\n    Assert.isTrue(Long.MIN_VALUE &gt; -Double.MAX_VALUE); // Not Double.MIN_VALUE =&gt; read the Javadocs, Double.MIN_VALUE is the smallest POSITIVE double, not the bottom of the range of values that Double can possible be\n\n    // Double.longValue() failure due to being out of range =&gt; results are the same even though I minus ten\n    System.out.println(\"Double.valueOf(Double.MAX_VALUE).longValue(): \" + Double.valueOf(Double.MAX_VALUE).longValue());\n    System.out.println(\"Double.valueOf(Double.MAX_VALUE - 10).longValue(): \" + Double.valueOf(Double.MAX_VALUE - 10).longValue());\n\n    // casting failure due to being out of range =&gt; results are the same even though I minus ten\n    System.out.println(\"(long) Double.valueOf(Double.MAX_VALUE): \" + (long) Double.valueOf(Double.MAX_VALUE).doubleValue());\n    System.out.println(\"(long) Double.valueOf(Double.MAX_VALUE - 10).longValue(): \" + (long) Double.valueOf(Double.MAX_VALUE - 10).doubleValue());\n}\n</code></pre>\n"},{"answer_id":52255270,"body":"<p>Simply by the following:</p>\n\n<pre><code>double d = 394.000;\nlong l = d * 1L;\n</code></pre>\n"},{"answer_id":76269155,"body":"<p>better to use <code>new BigDecimal(s).longValue()</code></p>\n<p>this is my test, s is raw string of a long value sometimes end with <code>.0</code></p>\n<p>cast double to long(<code>(long) DoubleValue</code>) or <code>Double.longValue()</code> sometimes will losing 1(why?).</p>\n<p><a href=\"https://stackoverflow.com/a/8754567/6494418\">https://stackoverflow.com/a/8754567/6494418</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>1651465142958862337, s\n1.65146514295886234E18, Double.parseDouble(s)\n1.65146514295886234E18, Double.valueOf(s)\n1651465142958862340, String.format(&quot;%.0f&quot;, Double.parseDouble(s)).split(&quot;\\\\.&quot;)[0]\n1651465142958862336, (long) Double.parseDouble(s)\n1651465142958862336, Double.valueOf(s).longValue()\n1651465142958862336, Math.round(Double.parseDouble(s))\n1651465142958862337, new BigDecimal(s).longValue()  // correct\n\n\n1.651465142958862337E18, s\n1.65146514295886234E18, Double.parseDouble(s)\n1.65146514295886234E18, Double.valueOf(s)\n1651465142958862340, String.format(&quot;%.0f&quot;, Double.parseDouble(s)).split(&quot;\\\\.&quot;)[0]\n1651465142958862336, (long) Double.parseDouble(s)\n1651465142958862336, Double.valueOf(s).longValue()\n1651465142958862336, Math.round(Double.parseDouble(s))\n1651465142958862337, new BigDecimal(s).longValue()  // correct\n</code></pre>\n"}],"last_activity_date":1684305409,"question_id":321549,"body":"<p>What is the best way to convert a double to a long without casting?</p>\n\n<p>For example:</p>\n\n<pre><code>double d = 394.000;\nlong l = (new Double(d)).longValue();\nSystem.out.println(\"double=\" + d + \", long=\" + l);\n</code></pre>\n"},{"answers":[{"answer_id":76269144,"body":"<p>You need to install a complete <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a> without uninstallation of it. Use the following command to clear the language server cache.</p>\n<pre><code>Java: Clean Java Language Server Workspace\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/57JFp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/57JFp.png\" alt=\"enter image description here\" /></a></p>\n<p>In addition, check or delete your personal <a href=\"https://code.visualstudio.com/docs/getstarted/settings#_settingsjson\" rel=\"nofollow noreferrer\">settings</a>, one of these settings may cause error.</p>\n"}],"last_activity_date":1684305317,"question_id":76267778,"body":"<p>I updated to the latest version of VS code and I can no longer get red underlines for my errors, it just tells me errors once I've compiled the code which is super annoying. I am using a mac silicon.</p>\n<p>I have tried downgrading VS code back to <code>1.77.3</code> however I am still having the same problem. Have installed and uninstalled Java extension.</p>\n<p>Any ideas how to fix this?</p>\n"},{"comments":[{"comment_id":26089866,"body":"Might be a duplicate of <a href=\"http://stackoverflow.com/q/9460507/309399\">stackoverflow.com/q/9460507/309399</a>. But the question is not answered."}],"answers":[{"comments":[{"comment_id":26092147,"body":"++ for the link. Thanks for the concise answer and the quote from the javadoc. This particular question has been bothering me for quite a while now - as all examples I&#39;ve seen online seems to inject the datasource - making me wonder if I was missing something ..."},{"comment_id":91898547,"body":"These are the subtle details, spring can be misleading to many, if someone fails to read between the lines, like me for instance."}],"answer_id":17868599,"body":"<p>You can do what you want. <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\">The javadoc of JdbcTemplate</a> even clearly says it:</p>\n\n<blockquote>\n  <p>Can be used within a service implementation via direct instantiation with a DataSource reference, or get prepared in an application context and given to services as bean reference.</p>\n</blockquote>\n"},{"comments":[{"comment_id":37812188,"body":"How to do the same for multiple data source ? Can I specify like this :&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;     &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource1&quot;/&gt; &lt;/bean&gt; and for another data source like &lt;bean id=&quot;jdbcTemplate2&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;     &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource2&quot;/&gt; &lt;/bean&gt;. Is this correct way of setting the multiple data source to a JDBC Template"},{"comment_id":49195025,"body":"@Analysts, You should define a separate jdbcTemplate for each datasource. so if you have 2 datasources, you would have jdbcTemplate1 for datasource1 and jdbcTemplate2 for datasource2. And inject the jdbcTemplates separately as needed into your service tier."},{"comment_id":73611201,"body":"What @SCB said is right, you have to have multiple beans for multiple databases."}],"answer_id":20235962,"body":"<p>In the spring-context.xml add the following and</p>\n\n<pre><code>&lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and directly you can use jdbcTemplate by autowiring like </p>\n\n<pre><code>  @Autowired JdbcTemplate jdbcTemplate;\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>this.jdbcTemplate.query(\"select * from ******\",new RowMapper());\n</code></pre>\n"},{"answer_id":32991076,"body":"<p>You can also do it like </p>\n\n<pre><code>@Configuration\n@Import({PersistenceConfig.class})\n@ComponentScan(basePackageClasses = { \n    ServiceMarker.class,\n    RepositoryMarker.class }\n)\npublic class AppConfig {\n\n    /**\n     * To resolve ${} in @Values, you must register a static PropertySourcesPlaceholderConfigurer in either XML or \n     * annotation configuration file.\n     */\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertyConfigInDev() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n}\n</code></pre>\n\n<p>PersistenceConfig</p>\n\n<pre><code>@Configuration\n@PropertySource(value = { \"classpath:database/jdbc.properties\" })\n@EnableTransactionManagement\npublic class PersistenceConfig {\n\n    @Autowired\n    private Environment env;\n\n /**\n  * The @Bean annotation is used to declare a Spring bean and the DI requirements. The @Bean annotation is equivalent to\n *  the &lt;bean&gt; tag, the method name is equivalent to the id attribute within the &lt;bean&gt; tag.\n  * \n  * &lt;bean id=\"mySqlDataSource\" class=\"org.apache.commons.dbcp2.BasicDataSource\" destroy-method=\"close\" \n        p:driverClassName=\"${jdbc.mysql.driverClassName}\" \n        p:url=\"${jdbc.mysql.url}\"   \n        p:username=\"${jdbc.mysql.username}\" \n        p:password=\"${jdbc.mysql.password}\" /&gt;\n  * \n  * @return\n  */\n     @Bean(destroyMethod = \"close\")\n     public DataSource mySqlDataSource() {\n         BasicDataSource dataSource = new BasicDataSource();\n         dataSource.setDriverClassName(env.getProperty(\"jdbc.mysql.driverClassName\"));\n         dataSource.setUrl(env.getProperty(\"jdbc.mysql.url\"));\n         dataSource.setUsername(env.getProperty(\"jdbc.mysql.username\"));\n         dataSource.setPassword(env.getProperty(\"jdbc.mysql.password\"));\n         return dataSource;\n     }\n\n     @Bean(destroyMethod = \"close\")\n     public DataSource ls360DataSource() {\n         BasicDataSource dataSource = new BasicDataSource();\n         dataSource.setDriverClassName(env.getProperty(\"jdbc.ls360.driverClassName\"));\n         dataSource.setUrl(env.getProperty(\"jdbc.ls360.url\"));\n         dataSource.setUsername(env.getProperty(\"jdbc.ls360.username\"));\n         dataSource.setPassword(env.getProperty(\"jdbc.ls360.password\"));\n         return dataSource;\n     } \n}\n</code></pre>\n\n<p>MySqlDaoImpl</p>\n\n<pre><code>@Repository\npublic class MySqlDaoImpl implements MySqlDao{\n\n    private static final Logger logger = LogManager.getLogger();\n\n    @Inject\n    private DataSource mySqlDataSource;\n    private JdbcTemplate mySqlJdbcTemplate;\n\n    @PostConstruct\n    public void afterPropertiesSet() throws Exception {\n        if (mySqlDataSource == null) {\n            throw new BeanCreationException(\"Must set mySqlDataSource on \" + this.getClass().getName());\n        }\n        this.mySqlJdbcTemplate = new JdbcTemplate(mySqlDataSource);\n    }\n\n    @Override\n    public void callStoredProcedure(String storedProcedureName, Map&lt;String, Object&gt; inParamMap) throws Exception {\n\n        SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(mySqlJdbcTemplate).withProcedureName(storedProcedureName);\n        SqlParameterSource in = new MapSqlParameterSource(inParamMap);\n\n        logger.info(\"Calling stored Procedure: \" + storedProcedureName);\n        Map&lt;String, Object&gt; simpleJdbcCallResult = simpleJdbcCall.execute(in);\n        logger.info(\"Stored Procedure Result: \" + simpleJdbcCallResult);\n    }\n}\n</code></pre>\n\n<p>Main</p>\n\n<pre><code>public static void main(String[] args ) {\n    try (GenericApplicationContext springContext = new AnnotationConfigApplicationContext(AppConfig.class)) {\n        MySQLDao mySqlDao = springContext.getBean(MySQLDaoImpl.class);\n        try {\n            Map&lt;String, Object&gt; inParamMap = new HashMap&lt;String, Object&gt;();\n            inParamMap.put(\"iCourseId\", 1);\n            mySqlCourseRenewalDao.callStoredProcedure(\"usp_processCourseRenewal\", inParamMap);\n        } catch (Exception e) {\n            logger.error(\"Exception occurs\", e);\n        }\n    } catch (Exception e) {\n        logger.error(\"Exception occurs in loading Spring context: \", e);\n    }\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"answer_id":65003186,"body":"<p>There's nothing technically wrong with injecting and sharing <code>JdbcTemplate</code> in place of the underlying <code>DataSource</code>.</p>\n<p>However, there are some design drawbacks to sharing <code>JdbcTemplate</code>, which may favor injecting <code>DataSource</code> instead:</p>\n<ul>\n<li>Use of <code>JdbcTemplate</code> is an implementation detail of the DAO, and we like to keep those details hidden</li>\n<li><code>JdbcTemplate</code> is lightweight, so sharing it for efficiency is likely a premature optimization</li>\n<li>Sharing a <code>JdbcTemplate</code> isn't risk-free as it has some mutable state (in addition to mutable state in the underlying <code>DataSource</code>)</li>\n</ul>\n<p>That's assuming the typical case where <code>JdbcTemplate</code> is used with its default configuration (<code>fetchSize</code>, <code>maxRows</code>, etc). If configuration is required, that may drive the design in a particular direction, e.g. a shared pre-configured <code>JdbcTemplate</code> injected from context, or even multiple <code>JdbcTemplate</code> instances owned by a single DAO.</p>\n"}],"last_activity_date":1684305311,"question_id":17868096,"body":"<p>As per Spring <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/jdbc.html#jdbc-JdbcTemplate-idioms\">documentation</a>, \nthe steps to use Spring JdbcTemplate is as follows:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xsi:schemaLocation=\"\n            http://www.springframework.org/schema/beans\n            http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n            http://www.springframework.org/schema/context\n            http://www.springframework.org/schema/context/spring-context-3.0.xsd\"&gt;\n\n        &lt;!-- Scans within the base package of the application for @Components to configure as beans --&gt;\n        &lt;context:component-scan base-package=\"org.springframework.docs.test\" /&gt;\n\n        &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n            &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\"/&gt;\n            &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;\n            &lt;property name=\"username\" value=\"${jdbc.username}\"/&gt;\n            &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;context:property-placeholder location=\"jdbc.properties\"/&gt;\n\n    &lt;/beans&gt;\n</code></pre>\n\n<p>And then, </p>\n\n<pre><code>    @Repository\n    public class JdbcCorporateEventDao implements CorporateEventDao {\n\n        private JdbcTemplate jdbcTemplate;\n\n        @Autowired\n        public void setDataSource(DataSource dataSource) {\n            this.jdbcTemplate = new JdbcTemplate(dataSource);\n        }\n\n        // JDBC-backed implementations of the methods on the CorporateEventDao follow...\n    }\n</code></pre>\n\n<p>Basically, the JdbcTemplate is created inside the Component class using the setter for datasource.</p>\n\n<p>Is there anything wrong with doing it this way instead so that there is exactly ONE instance of jdbcTemplate in the application?</p>\n\n<pre><code>&lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"\n    p:dataSource-ref=\"dataSource\" \n/&gt;\n</code></pre>\n\n<p>And then injecting the jdbcTemplate itself directly into the Component</p>\n\n<pre><code>@Repository\npublic class JdbcCorporateEventDao implements CorporateEventDao {\n    @Resource(\"jdbcTemplate\")\n    private JdbcTemplate jdbcTemplate;\n\n\n    // JDBC-backed implementations of the methods on the CorporateEventDao follow...\n}\n</code></pre>\n\n<p>Is there a reason why the jdbcTemplate itself must not be injected into the component class directly?</p>\n\n<p>SGB</p>\n"},{"comments":[{"comment_id":94861911,"body":"Hope dies last: <a href=\"https://github.com/dotnet/csharplang/issues/869\" rel=\"nofollow noreferrer\">github.com/dotnet/csharplang/issues/869</a> and here <a href=\"https://visualstudio.uservoice.com/forums/121579-visual-studio-ide/suggestions/6340889-allow-the-c-break-statement-to-terminate-sever\" rel=\"nofollow noreferrer\">visualstudio.uservoice.com/forums/121579-visual-studio-ide/&hellip;</a> (cannot vote though)."},{"comment_id":123952278,"body":"C# should get a &quot;continue {label}&quot; and &quot;break {label}&quot; feature one day - see <a href=\"https://github.com/dotnet/csharplang/issues/869\" rel=\"nofollow noreferrer\">github.com/dotnet/csharplang/issues/869</a> and vote"}],"answers":[{"comments":[{"comment_id":24759363,"body":"It&#39;s a bit surprising that C# has <code>goto</code>, but not <code>break&#47;continue &lt;label&gt;</code>."},{"comment_id":67020675,"body":"C# is more true to its C roots than Java is. It also has structs and pointers!"},{"comment_id":90062017,"body":"wait a second: @JonSkeet was <i>AFRAID</i> of this? how am <i>I</i> supposed to be in this case?"}],"answer_id":359449,"body":"<p>I don't believe there's an equivalent, I'm afraid. You'll have to either use a boolean, or just \"goto\" the end of the inside of the outer loop. It's even messier than it sounds, as a label has to be applied to a statement - but we don't want to do anything here. However, I think this does what you want it to:</p>\n\n<pre><code>using System;\n\npublic class Test\n{\n    static void Main()\n    {\n        for (int i=0; i &lt; 5; i++)\n        {\n            for (int j = 0; j &lt; 5; j++)\n            {\n               Console.WriteLine(\"i={0} j={1}\", i, j);\n               if (j == i + 2)\n               {\n                   goto end_of_loop;   \n               }\n            }\n            Console.WriteLine(\"After inner loop\");\n            end_of_loop: {}\n        }\n    }\n}\n</code></pre>\n\n<p>I would <em>strongly</em> recommend a different way of expressing this, however. I can't think that there are many times where there isn't a more readable way of coding it.</p>\n"},{"answer_id":359464,"body":"<p>In VB.Net, you could just have one <code>while</code> loop and one <code>for</code> loop and then <code>exit</code> the desired scope level.</p>\n\n<p>In C#, maybe <code>break;</code> ?  </p>\n\n<p>That might break out of the inner loop and allow the outer loop to keep going.</p>\n"},{"comments":[{"comment_id":190334,"body":"thanks, but i do know the difference between continue and break. ;-) the thing is: i have two nested loops. and if a certain condition in the inner loop occurs, i want to &quot;continue&quot; the outer loop."},{"comment_id":190769,"body":"Sorry - did&#39;t mean to teach you to suck eggs - The fault is mine for not reading the question adequately..."}],"answer_id":359513,"body":"<p>I think you're looking for the simple \"continue\" keyword...  However, not being a Java guy I don't really get what the code snippet is trying to achieve.</p>\n\n<p>Consider the following, though.</p>\n\n<pre><code>foreach(int i in new int[] {1,2,3,5,6,7})\n{\n    if(i % 2 == 0)\n        continue;\n    else\n        Console.WriteLine(i.ToString());    \n}\n</code></pre>\n\n<p>The continue statement on line 4 is an instruction to continue with the loop at the next value.  The output here would be 1,3,5 and 7.</p>\n\n<p>Replacing \"continue\" with \"break\", as follows, </p>\n\n<pre><code>foreach(int i in new int[] {1,2,3,5,6,7})\n{\n    if(i % 2 == 0)\n       break;\n    else\n        Console.WriteLine(i.ToString());    \n}\n</code></pre>\n\n<p>will give the output 1.  Break instructs the loop to terminate, most commonly used when you want to stop processing when a condition is met. </p>\n\n<p>I hope this gives you some of what you were looking for, but if not, feel free to ask again.</p>\n"},{"comments":[{"comment_id":190337,"body":"the problem here is the rest of the code is AFTER the nested loop, not in it."},{"comment_id":190344,"body":"whoops i just noticed in my first example i had the line wrong for the &quot;//code here&quot; comment. sorry."},{"comment_id":190378,"body":"You could just set a flag before breaking, and check the flag after the loop.  And if you really want your code to be formally &#39;structured&#39; you set j = bar.Length rather than using &#39;break&#39;."},{"comment_id":245321,"body":"j = bar.Length would run the current loop to the end, this is not what is intended ;)"}],"answer_id":359518,"body":"<p>You could do something like:</p>\n\n<pre><code>for(int i=0; i&lt; foo.Length -1 ; i++) {\n  for (int j=0; j&lt; bar.Length -1; j++) {\n    if (condition) {\n      break;\n    }\n    if(j != bar.Length -1)\n        continue;\n    /*The rest of the code that will not run if the previous loop doesn't go all the way*/\n  }\n}\n</code></pre>\n"},{"comments":[{"comment_id":72083062,"body":"I like this better, because such loops in functions often have a good semantic (=&gt; good name) of their own and are thus reusable."}],"answer_id":5006587,"body":"<p>Other posibility is to make a function with the inner loop:</p>\n\n<pre><code>void mainFunc(string[] foo, string[] bar)\n{\n  foreach (string a in foo)\n    if (hasBuzz(bar))\n      continue;\n  // other code comes here...\n}\n\nbool hasBuzz(string[] bar)\n{\n  foreach (string b in bar)\n    if (b.equals(\"buzz\"))\n      return true;\n  return false;\n}\n</code></pre>\n"},{"answer_id":76267179,"body":"<p>I'm new in C# and I'm know this is an old question, but came up the following solution for this issue:</p>\n<p>Usage:</p>\n<pre><code>const string topLoopLabel = &quot;topLoop&quot;;\n\nLoop.ForEach(fooList, (fooItem, index, next) =&gt; \n{\n    // ...\n    Loop.For(0, (i) =&gt; i &lt; bar.Length, (i) =&gt; i++, (index, next) =&gt; \n    {\n        // ...\n        if (condition) \n        {\n            next(topLoopLabel);  \n        }\n        // ...\n    });\n    // ...\n}, topLoopLabel);\n</code></pre>\n<p>Under the hood:</p>\n<pre><code>static class Loop {\n\n    public delegate void Continue(string? label = null);\n\n    public delegate void IndexedIterationHandler(int index, Continue next);\n\n    public delegate void ListIterationHandler&lt;T&gt;(T item, int index, Continue next);\n\n    private static Continue next = (label) =&gt; {\n        throw new CancelledIterationException { Label = label };\n    };\n\n    public static void For(int initialIndex, Func&lt;int, bool&gt; indexCondition, Func&lt;int, int&gt; iterator, IndexedIterationHandler iterationHandler, string? label = null)\n    {\n        for (int i = initialIndex; indexCondition(i);)\n        {\n           OnIteration(() =&gt; iterationHandler(i, next));\n           i = iterator(i);\n        }\n    }\n\n    public static void ForEach&lt;T&gt;(IList&lt;T&gt; list, ListIterationHandler&lt;T&gt; iterationHandler, string? label = null) \n    {\n        for (int i = 0; i &lt; list.Count; i++)\n        {\n            OnIteration(() =&gt; iterationHandler(list[i], i, next));\n        }\n    }\n\n    /*\n     * other loop types can be difined here\n     */\n\n    private static void OnIteration(Action loopBody)\n    {\n        try\n        {\n            loopBody();\n        }\n        catch (CancelledIterationException e)\n        {\n            if (!String.IsNullOrEmpty(e.Label) &amp;&amp; !String.Equals(e.Label, e))\n            {\n                throw;\n            }\n         }\n    }\n\n    [Serializable()]\n    class CancelledIterationException : Exception\n    {\n        public required string? Label { get; init; }\n    }\n}\n</code></pre>\n<p>Pros:</p>\n<ul>\n<li>no goto or multiple return statement</li>\n<li>no temporary variable</li>\n<li>different loops can easily combine</li>\n<li>easy to understand</li>\n<li>not required to add label to each loop</li>\n</ul>\n<p>Cons:</p>\n<ul>\n<li>as you see under the hood exception used to modify program flow which is antipattern</li>\n<li>if you call the next fn in the top loop which string param does not equal the top loop label then the exception won't be catched.</li>\n</ul>\n"}],"last_activity_date":1684304988,"question_id":359436,"body":"<p>Should be simple and quick: I want a C# equivalent to the following Java code:</p>\n\n<pre><code>orig: for(String a : foo) {\n  for (String b : bar) {\n    if (b.equals(\"buzz\")) {\n      continue orig;\n    }\n  }\n  // other code comes here...\n}\n</code></pre>\n\n<hr>\n\n<p><strong><em>Edit</em></strong>:\nOK it seems there is no such equivalent (hey - Jon Skeet himself said there isn't, that settles it ;)). So the \"solution\" for me (in its Java equivalent) is:</p>\n\n<pre><code>for(String a : foo) {\n  bool foundBuzz = false;\n  for (String b : bar) {\n    if (b.equals(\"buzz\")) {\n      foundBuzz = true;\n      break;\n    }\n  }\n  if (foundBuzz) {\n    continue;\n  }\n  // other code comes here...\n}\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134485702,"body":"I tried with this as well it still gives the same output :&#39;)"},{"comment_id":134488183,"body":"DId you delete the index and have it recreated? with the  hanged code?"},{"comment_id":134496874,"body":"see my edit above"}],"answer_id":76237580,"body":"<p>The JSON you provide in the <code>@Setting</code> annotation must only contain the values for the setting, not the <em>setting</em> property itself:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n            &quot;my_whitespace_analyzer&quot;: {\n                &quot;tokenizer&quot;: &quot;whitespace&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Edit 17.05.2023</strong>:</p>\n<p>Having a closer look:</p>\n<ol>\n<li><p>You are using a pretty outdated version of Spring Data Elasticsearch. 3.2 is out of maintenance since October 2020; I don't know - and don't have the time to look it up) - if reading from a file was already implemented there without bugs. The tests I now did are with the current version.</p>\n</li>\n<li><p>document type were deprecated in Elasticsearch 6 and removed in Elasticsearch 7 (in the meantime Elasticsearch is at 8.7). So for Spring Data Elasticsearch 4+ you need to remove the <code>type=...</code> parameter from the <code>@Document</code> annotation.</p>\n</li>\n<li><p>Defining an analyzer for a field of type <strong>keyword</strong> makes no sense. Keyword fields are not analyzed. You need to change this to <code>FieldType.text</code>.</p>\n</li>\n<li><p>The analyzer specified in the JSON file is missing the <em>type</em>. But I don't know if this was already necessary in ES 6.</p>\n</li>\n</ol>\n<p>So with these two changes:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;analysis&quot;: {\n    &quot;analyzer&quot;: {\n      &quot;my_whitespace_analyzer&quot;: {\n        &quot;type&quot;: &quot;custom&quot;,\n        &quot;tokenizer&quot;: &quot;whitespace&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(indexName = &quot;employeedb&quot;)\n@Setting(settingPath = &quot;/elasticsearch/settings.json&quot;)\npublic class EmployeeDetailsIndex {\n\n    @Id\n    @Field(type = FieldType.Keyword, name = &quot;empId&quot;, store = true)\n    //store will store the original empId as well as the analyzed one\n    private String empId;\n\n\n    @Field(type = FieldType.Text, name = &quot;name&quot;, analyzer = &quot;my_whitespace_analyzer&quot;, searchAnalyzer = &quot;my_whitespace_analyzer&quot;)\n    private String name;\n\n// getter and setter\n}\n</code></pre>\n<p>this runs without error in a sample application, creating the index with the correct settings.</p>\n"}],"last_activity_date":1684304951,"question_id":76236209,"body":"<p>My settings.json:</p>\n<pre><code>  &quot;settings&quot;: {\n    &quot;analysis&quot;: {\n      &quot;analyzer&quot;: {\n        &quot;my_whitespace_analyzer&quot;: {\n          &quot;tokenizer&quot;: &quot;whitespace&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>My Index Domain:</p>\n<pre><code>import org.springframework.data.annotation.Id;\nimport org.springframework.data.elasticsearch.annotations.*;\n\n@Document(indexName = &quot;employeedb&quot;, type=&quot;employeeDetails&quot;)\n@Setting(settingPath = &quot;/elasticsearch/settings.json&quot;)\npublic class EmployeeDetailsIndex {\n\n    @Id\n    @Field(type = FieldType.Keyword, name = &quot;empId&quot;, store = true) //store will store the original empId as well as the analyzed one\n    private String empId;\n\n\n    @Field(type = FieldType.Keyword, name = &quot;name&quot;, analyzer = &quot;my_whitespace_analyzer&quot;, searchAnalyzer = &quot;my_whitespace_analyzer&quot;)\n    private String name;\n\n//Getters and Setters\n}\n</code></pre>\n<p>Error that gets thrown:</p>\n<p>failed to load elasticsearch nodes : org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=Mapping definition for [name] has unsupported parameters:  [search_analyzer : my_whitespace_analyzer] [analyzer : my_whitespace_analyzer]]</p>\n<p>I wanted to test custom analyzer in elastic search.</p>\n<p>From the above error, it seems that the settings.json isn't getting loaded. I have correctly mapped settings.json to @Settings.\nAll of the tutorials online maps the settings.json using the @Settings annotation.</p>\n<p>What may be the issue with this?</p>\n<p>Is the JSON type incorrect?\nI have tried with</p>\n<p>Versions used:\nJava: 1.8.0\nElastic Search: 6.8.15\nSpring Boot: 2.2.8.RELSEASE\nSpring-Data-Elasticsearch: 3.2.8.RELEASE</p>\n"},{"last_activity_date":1684304852,"question_id":76269105,"body":"<p>I want to show my animation (TransitionDuration and TransitionPath) non stop</p>\n<p>I try setCycleCount(-1) but when the animation is finish my node is stop and when animation play it plays again\nI want to remove this stopping and my animation play non-stop</p>\n<pre><code>         PathTransition pathTransition = new PathTransition();\n        pathTransition.setDuration(Duration.millis(2000));\n        pathTransition.setNode(bullet);\n        pathTransition.setOrientation(PathTransition.OrientationType.ORTHOGONAL_TO_TANGENT);\n        pathTransition.setCycleCount(-1);\n        pathTransition.setPath(new Circle(353,200,120));\n</code></pre>\n"},{"answers":[{"answer_id":64605504,"body":"<p>I encountered the same problem.</p>\n<p>Solution 1: load new url</p>\n<pre><code>public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n   String statusCode = 302; //get it from your response;\n   if (statusCode &gt;= 300 &amp;&amp; statusCode &lt;= 399) {\n       final String newUrl = &quot;https://example.com&quot;;\n       final myWebview = view;\n       view.post(new Runnable() {\n           @Override public void run() {\n               myWebview.loadUrl(newUrl);\n           }\n       });\n       WebResourceResponse nullRes = new WebResourceResponse(&quot;text/html&quot;, &quot;utf-8&quot;, new ByteArrayInputStream(&quot;&quot;.getBytes()));\n       return nullRes;\n   }\n}\n</code></pre>\n<p>Solution 2: return an html template</p>\n<pre><code>public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n    String statusCode = 302; //get it from your response;\n    if (statusCode &gt;= 300 &amp;&amp; statusCode &lt;= 399) {\n        String newUrl = &quot;https://example.com&quot;;\n        String content = &quot;&lt;script&gt;location.href = '&quot; + newUrl + &quot;'&lt;/script&gt;&quot;;\n        WebResourceResponse redirectRes = new WebResourceResponse(&quot;text/html&quot;, &quot;utf-8&quot;, new ByteArrayInputStream(content.getBytes()));\n        return redirectRes;\n    }\n}\n</code></pre>\n"},{"answer_id":68101786,"body":"<p>As OP stated, they were able to work around this restriction by using reflection. The other answer was insufficient for my needs, so I also took the approach of reflection.</p>\n<pre><code>// instantiate a response with a default 200 response code\nWebResourceResponse redirectResponse = new WebResourceResponse(&quot;text/html&quot;, &quot;utf-8&quot;, 200, new ByteArrayInputStream(content.getBytes()));\n\n// use reflection to set the actual response code\nField f = WebResourceResponse.class.getDeclaredField(&quot;mStatusCode&quot;);\nf.setAccessible(true);\nf.setInt(redirectResponse, 302);\nreturn redirectResponse;\n</code></pre>\n"}],"last_activity_date":1684304766,"question_id":59965544,"body":"<p>In order to access response headers (get specific header value) we have to <a href=\"https://developer.android.com/reference/android/webkit/WebViewClient#shouldInterceptRequest(android.webkit.WebView,%20android.webkit.WebResourceRequest)\" rel=\"nofollow noreferrer\">intercept</a> HTTP requests in WebView, perform the downloading of HTTP resources by ourselves and return a result as a <code>WebResourceResponse</code> instance:</p>\n\n<pre><code>public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request)\n{\n    return new WebResourceResponse(\"text/plain\", \"UTF-8\", 302, ...); // 302 is invalid (not supported) value\n}\n</code></pre>\n\n<p>However the codes within 300-399 are <a href=\"https://android.googlesource.com/platform/frameworks/base/+/a8352f4/core/java/android/webkit/WebResourceResponse.java#120\" rel=\"nofollow noreferrer\">not accepted</a>:</p>\n\n<pre><code>2019-12-02 16:48:05.710 1812-1903 W/System.err: java.lang.IllegalArgumentException: statusCode can't be in the [300, 399] range.\n2019-12-02 16:48:05.712 1812-1903 W/System.err:     at android.webkit.WebResourceResponse.setStatusCodeAndReasonPhrase(WebResourceResponse.java:134)\n2019-12-02 16:48:05.712 1812-1903 W/System.err:     at android.webkit.WebResourceResponse.&lt;init&gt;(WebResourceResponse.java:76)\n...\n2019-12-02 16:48:05.714 1812-1903 W/System.err:     at xl.a(PG:56)\n2019-12-02 16:48:05.714 1812-1903 W/System.err:     at aeW.a(PG:9)\n2019-12-02 16:48:05.714 1812-1903 W/System.err:     at org.chromium.android_webview.AwContentsBackgroundThreadClient.shouldInterceptRequestFromNative(PG:11)\n2019-12-02 16:48:05.718 1812-1903 A/chromium: [FATAL:jni_android.cc(256)] Please include Java exception stack in crash report\n</code></pre>\n\n<p>Is there any proper way to make WebView accept the redirect response?</p>\n\n<p>PS. I was able to workaround it with Java reflection and inject the values right into the fields (not via ctor with validation), but it seems to be extremely fragile (though it worked in fact).</p>\n"},{"comments":[{"comment_id":118705020,"body":"CTE doesn&#39;t work with JPQL, you need to use the SQL instead."},{"comment_id":118705110,"body":"How to use recursive SQL but ?"},{"comment_id":118705212,"body":"Just put the SQL in and set <code>native-query</code> to <code>true</code>."},{"comment_id":118705582,"body":"Yes, I tried. <code>@Query(value = &quot;sql here&quot;,nativeQuery = true)</code> and got same error. But in <code>native-query</code> I tried the SQL which to SQL mentioned in <a href=\"https://stackoverflow.com/questions/54889514/cte-sql-to-simple-subset-query-for-jpa\">link</a>. Is that okay ?"},{"comment_id":118705610,"body":"The problem is if you are matching the result to a JPA entity your resulting columns have to match the mapping. Looks like that is off in your result set."},{"comment_id":118706826,"body":"@M.Deinum,Yes. Made changes and now worked for me."}],"answers":[{"answer_id":67702358,"body":"<p>You can write the SQL query in JPA Repositories since the @Query annotation takes native query as well. For that, you need to specify the SQL query in the value parameter and <strong>nativeQuery</strong> is true as follow.</p>\n<p>You can write CTE queries as well.</p>\n<pre><code>public interface ISomeRepository extends JpaRepository&lt;Entity, Long&gt; {\n\n\n    @Query(value = &quot;SQL QUERY NEED TO BE WRITTEN HERE&quot;, nativeQuery = true)\n    List&lt;Long&gt; getEntityIds();\n}\n</code></pre>\n"},{"answer_id":76269040,"body":"<p>If you are using recursive query,creating view might be a way to use it in JPA</p>\n<p>For Example,create a view like below:</p>\n<pre><code>CREATE VIEW RECUSRSIVE_QUERY_VIEW\nAS\n[Your Recursive CTE]\n</code></pre>\n<p>Then write a Entity class mapping to RECUSRSIVE_QUERY_VIEW:</p>\n<pre><code>@Entity\n@Table(name=&quot;RECUSRSIVE_QUERY_VIEW&quot;)\npublic class RecursiveQueryView {\n  //Declare column and getter/setter\n}\n</code></pre>\n<p>Then you should be able to use JpaRepository With this Entity:</p>\n<pre><code>interface RecursiveQueryViewJpaRepository extends JpaRepository&lt;RecursiveQueryView,String&gt; {\n}\n</code></pre>\n<p>Hope this help</p>\n"}],"last_activity_date":1684304091,"question_id":67156121,"body":"<p>I want to write a recursive query in SQL Server. So I am using CTE. Query is working properly in SSMS but when I am trying to use the same CTE in JPA as native SQL it gives an error:</p>\n<blockquote>\n<p>Invalid name column Id.</p>\n</blockquote>\n<p>The entity (which I am using in CTE to fetch data recursively) has <code>@Id @Column(name=&quot;pk_id&quot;) private int Id</code> field.</p>\n<p>I also followed this SOQ : <a href=\"https://stackoverflow.com/questions/54889514/cte-sql-to-simple-subset-query-for-jpa\">cte sql to simple subset query for JPA</a></p>\n<p>But still getting error as invalid name column Id.</p>\n<p>I have never used CTE before. How can this be fixed?</p>\n"},{"answers":[{"answer_id":6154457,"body":"<p>Maybe <a href=\"http://en.wikipedia.org/wiki/Motion_JPEG\" rel=\"nofollow\">mjpeg</a>? It doesn't require any special hardware or acceleration, and JPEG is pretty easy to implement.</p>\n"},{"answer_id":14509275,"body":"<p>Cinepak decoder is very simple, compared even to mjpeg. There are unfortunately no open source encoders but a binary encoder dll is available and usable both on Windows and on Linux via mencoder.</p>\n\n<p><a href=\"http://multimedia.cx/mirror/cinepak.txt\" rel=\"nofollow\">http://multimedia.cx/mirror/cinepak.txt</a></p>\n\n<p>For possibly an even simpler format see</p>\n\n<p><a href=\"http://multimedia.cx/eggs/worlds-simplest-vector-quantizer/\" rel=\"nofollow\">http://multimedia.cx/eggs/worlds-simplest-vector-quantizer/</a></p>\n"}],"last_activity_date":1684304057,"question_id":6154342,"body":"<p>i am looking for a simple video codec, for which it would be very easy to write a decoder in java.</p>\n\n<p>it could even be a lossless codec. this is just to learn to understand how codecs work!</p>\n\n<p>thanks!</p>\n"},{"last_activity_date":1684304010,"question_id":76269029,"body":"<p>I have recently started spring Framwork and I found ExchangeStrategies and I am curious to know that what is it.</p>\n<p>sample code that I have found</p>\n<pre><code>   final ExchangeStrategies strategies = ExchangeStrategies.builder()\n                .codecs(codecs -&gt; codecs.defaultCodecs().maxInMemorySize(150000))\n                .build();\n</code></pre>\n<p>Thanks in advance :)</p>\n"},{"comments":[{"comment_id":134499525,"body":"<code>no security manager: RMI class loader disabled</code> is not an exception. It is <i>part</i> of the <i>error message</i> printed by a <code>ClassNotFoundException</code> in an RMI context. The problem you are facing doesn&#39;t necessarily have anything to do with remote class loading, unless you have designed it into your application, in which case you should know about it. More likely you just haven&#39;t deployed some required class. Without the actual exception and the actual stack trace it is impossible to comment further."}],"last_activity_date":1684303883,"question_id":76269015,"body":"<p>I currently have a java application (no Spring here, just a normal java project) that is creating a RMI registry on port 7000 and binding an object\n<code>SearchModule searchModule</code>\nto it. I also have another app, this time a Spring web app, running on the same machine.This Spring app is supposed to act as a client to the first one's RMI registry.</p>\n<p>However, when I try to locate the registry using\n<code>LocateRegistry.getRegistry(7000)</code> (in the Spring app)\nI get an exception <code>&quot;no security manager: RMI class loader disabled&quot;</code>. I am a total beginner and that is the only way I know to access a RMI object. It has been working (with this same RMI registry) for other apps (&quot;normal&quot; ones, no Spring). What can I do to solve this?</p>\n<p>Any help is appreciated :)</p>\n"},{"comments":[{"comment_id":74051783,"body":"You should maybe post your applicationContext file and the class that you&#39;re creating a bean for"}],"answers":[{"comments":[{"comment_id":74052860,"body":"Hello Jens. I am very new with Spring Tool Suite and your solution didn&#180;t solve my problem. Thanks anyway."},{"comment_id":74077126,"body":"@Adri&#225;nBlanco That means you get the same exdception?"},{"comment_id":74078893,"body":"@Adri&#225;nBlanco you have added the new dependency and removed the dependency to Version 2.0?"},{"comment_id":74079283,"body":"Thanks for your quick answer Jens"}],"answer_id":43498673,"body":"<p><code>Caused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;</code></p>\n<p>This error message points to an incompatible version of <code>javax.persistence</code> and <code>hibernate</code> artifacts.</p>\n<p>You have to use <code>version 2.1</code> of <code>javax.persistence</code> with <code>hibernate 5</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"last_activity_date":1684303787,"question_id":43498590,"body":"<p>I have some problems with this error:</p>\n<pre><code>Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]\n</code></pre>\n<p>I am using Spring Tool Suite.</p>\n<p>My Log:</p>\n<pre><code>WARN : org.springframework.web.context.support.XmlWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\nERROR: org.springframework.web.context.ContextLoader - Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4727)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5189)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:596)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1805)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:1087)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:767)\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:245)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:222)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:265)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:848)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:876)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:343)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:319)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\n    ... 25 more\nabr 19, 2017 4:10:17 PM org.apache.catalina.startup.Catalina start\nINFORMACI?N: Server startup in 5577 ms\n</code></pre>\n<p>My <code>pom.xml</code></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.companyname&lt;/groupId&gt;\n  &lt;artifactId&gt;springapp&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;springapp Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;taglibs-standard-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;5.2.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.38&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.2.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;4.1.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n  &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n  &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n  &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;springapp&lt;/finalName&gt;\n  &lt;/build&gt;\n  &lt;properties&gt;\n    &lt;org.springframework.version&gt;4.2.5.RELEASE&lt;/org.springframework.version&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My <code>web.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;display-name&gt;Springapp&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;springapp&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/app-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;springapp&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><code>app-config.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd&quot;&gt;\n\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\n        &lt;property name=&quot;basename&quot; value=&quot;messages&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Scans the classpath of this application for @Components to deploy as beans --&gt;\n    &lt;context:component-scan base-package=&quot;com.companyname.springapp.web&quot; /&gt;\n\n    &lt;!-- Configures the @Controller programming model --&gt;\n    &lt;mvc:annotation-driven/&gt;\n    \n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;        \n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I don't know how to fix it.</p>\n"},{"comments":[{"comment_id":134372800,"body":"The <code>while(true)</code> loop in the <code>main</code> method is a really, really, really bad idea. <code>setTimer</code> does not take any parameters, even if you could call it, you&#39;d be blocking the Event Dispatching Thread and the UI would be unable to be updated.  <code>KeyListener</code> is generally a bad way to monitor keyboard input, instead make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a> instead"},{"comment_id":134372818,"body":"I would avoid extending from top level containers like <code>JFrame</code>; you&#39;re not extending any of the functionality of the class and you&#39;re locking yourself into a single use case.  For example, it might be easier to use a <code>CardLayout</code> to switch between the &quot;clock&quot; and the &quot;stop watch&quot;, if they were based on a <code>JPanel</code>"},{"comment_id":134372826,"body":"I would recommend taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to use Swing Timers</a>"},{"comment_id":134372875,"body":"I would decouple the &quot;clock&quot; and &quot;stop watch&quot; models - these should be capable of reporting information back to the UI, so you could, technically, use the same UI for both - for <a href=\"https://stackoverflow.com/questions/50408678/adding-resume-function-to-stopwatch/50409049#50409049\">example</a>; <a href=\"https://stackoverflow.com/questions/52978554/pause-and-resume-for-swing-timer-does-not-work-properly/52979420#52979420\">example</a>"},{"comment_id":134373058,"body":"<i>&quot;the methods <code>isRunning</code> and <code>isStopwatchKeyPressed</code> are undefined.&quot;</i>  You showed us code in which each of these methods is called. But, you have no code that has code for these methods.  So, they are undefined.  You have code for method <code>void setTimer ()</code> in <code>class ClockProject</code> and you overrode it in <code>class Stopwatch</code>. As defined, those methods don&#39;t take any argument. So, a call to one can&#39;t have an argument."}],"answers":[{"answer_id":76197139,"body":"<p>This...</p>\n<pre><code>public static void main(String[] args) {\n    Help.about();\n    boolean isStopwatchActive = false;\n    while (true) {\n        if (isStopwatchActive) {\n            Stopwatch stopwatch = new Stopwatch(); \n            stopwatch.setVisible(true);\n            while (true) {\n                stopwatch.setTimer();\n                if (!stopwatch.isRunning()) {\n                    isStopwatchActive = false;\n                    break;\n                }\n            }\n        } else {\n            ClockProject clock = new ClockProject();\n            clock.writeToFile(&quot;data.txt&quot;);\n            while (true) {\n                clock.setTimer();\n                if (clock.isStopwatchKeyPressed()) {\n                    isStopwatchActive = true;\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>is a bad idea.  This is not how a UI should work.  Apart from the fact that fact that you're trying to read state from another thread context, which could result in dirty reads, your <code>while-loop</code> is &quot;free wheeling&quot; which will consume CPU time and have a degrading performance on your whole system.</p>\n<p>There's also no escape out of the inner loops, so, now you're completely stuck.</p>\n<p>Swing, like most UIs, is event driven, that is, something happens and you respond to it.  What you've presented here instead is more procedural in nature.</p>\n<p><code>setTimer</code> does not take any parameters, even if you could call it, you'd be blocking the Event Dispatching Thread and the UI would be unable to be updated.</p>\n<p><code>KeyListener</code> is generally a bad way to monitor keyboard input, instead make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a>.</p>\n<p>I would avoid extending from top level containers like <code>JFrame</code>; you're not extending any of the functionality of the class and you're locking yourself into a single use case. For example, it might be easier to use a <code>CardLayout</code> to switch between the &quot;clock&quot; and the &quot;stop watch&quot; views, if they were based on a <code>JPanel</code>. –</p>\n<p>I would recommend taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to use Swing Timers</a>.</p>\n<h1>A &quot;simple&quot; implementation...</h1>\n<p>Let's take a step back for a second and try and take in the &quot;big picture&quot;.  You want to display some time information, either from a &quot;wall clock&quot; or &quot;stop watch&quot;.</p>\n<p>I would decouple the concepts and the UI, so that the &quot;presentation&quot; of the time was seperated from the &quot;calculation&quot; of the time, this then provides us with the concept of a &quot;model&quot; (or data) and the &quot;view&quot;.  The presentation of the data should be decided by the view, which is why, in the following example, I've excluded providing any kind of formatting at the model level.</p>\n<p>Both these could be used to display <code>hour</code>, <code>minute</code> and <code>second</code> information, so, let's start there...</p>\n<pre><code>public interface Time {\n    public int getHours();\n    public int getMinutes();\n    public int getSeconds();\n}\n</code></pre>\n<p>Now, you need some kind of &quot;container&quot; which managers this information, for this I've used a <code>Clock</code>...</p>\n<pre><code>public interface Clock {\n    public Time getTime();\n}\n</code></pre>\n<p>There's a pretty basic, but lay down the core contracts.</p>\n<p>To make life a little more easier, I created a &quot;default&quot; implementation of <code>Time</code></p>\n<pre><code>public class DefaultTime implements Time {        \n    private int hours;\n    private int minutes;\n    private int seconds;\n\n    public DefaultTime(int hours, int minutes, int seconds) {\n        this.hours = hours;\n        this.minutes = minutes;\n        this.seconds = seconds;\n    }\n\n    public DefaultTime(LocalTime time) {\n        this(time.getHour(), time.getMinute(), time.getSecond());\n    }\n\n    public DefaultTime(Duration duration) {\n        this(duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart());\n    }\n    \n    @Override\n    public int getHours() {\n        return hours;\n    }\n\n    @Override\n    public int getMinutes() {\n        return minutes;\n    }\n\n    @Override\n    public int getSeconds() {\n        return seconds;\n    }\n}\n</code></pre>\n<p>With these in hand, we can create a <code>WallClock</code> and <code>StopWatch</code> implementation...</p>\n<pre><code>public class WallClock implements Clock {\n    @Override\n    public Time getTime() {\n        return new DefaultTime(LocalTime.now());\n    }\n}\n\npublic class StopWatch implements Clock {\n    \n    private Instant startTime;\n    private Instant stopTime;\n    \n    public void start() {\n        startTime = Instant.now();\n        stopTime = null;\n    }\n    \n    public void stop() {\n        if (startTime == null) {\n             return;\n        }\n        stopTime = Instant.now();\n    }\n    \n    @Override\n    public Time getTime() {\n        if (startTime == null) {\n            return new DefaultTime(0, 0, 0);\n        }\n        Duration duration = Duration.between(startTime, stopTime == null ? Instant.now() : stopTime);\n        return new DefaultTime(duration);\n    }\n}\n</code></pre>\n<p>What's important here is, the <code>StopWatch</code> has some additional functionality, it can be started and stopped, this demonstrates how functionality can be expended and separated based on your needs.</p>\n<p>Now, finally, we need some way to display it...</p>\n<pre><code>public class ClockPane extends JPanel {\n    enum State {\n        WALL_CLOCK, STOP_WATCH;\n    }\n    \n    private State state = State.WALL_CLOCK;\n    private Clock clock = new WallClock();\n    \n    private Timer timer = new Timer(500, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            updateTime();\n        }\n    });\n\n    private JLabel timeDisplay;\n    \n    public ClockPane() {\n        setLayout(new GridBagLayout());\n        setBorder(new EmptyBorder(32, 32, 32, 32));\n        \n        timeDisplay = new JLabel();\n        timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\n        \n        add(timeDisplay);\n        updateTime();\n        \n        InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n        ActionMap actionMap = getActionMap();\n        \n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;Space.pressed&quot;);\n        actionMap.put(&quot;Space.pressed&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                switch (getState()) {\n                    case WALL_CLOCK:\n                        setState(State.STOP_WATCH);\n                        break;\n                        \n                    case STOP_WATCH:\n                        setState(State.WALL_CLOCK);\n                        break;\n                }\n            }\n        });\n    }\n\n    @Override\n    public void addNotify() {\n        super.addNotify();\n        timer.start();\n    }\n\n    @Override\n    public void removeNotify() {\n        super.removeNotify();\n        timer.stop();\n    }\n    \n    protected void updateTime() {\n        Time time = getClock().getTime();\n        timeDisplay.setText(String.format(&quot;%02d:%02d:%02d&quot;, time.getHours(), time.getMinutes(), time.getSeconds()));\n    }\n\n    public Clock getClock() {\n        return clock;\n    }\n\n    public State getState() {\n        return state;\n    }\n\n    public void setState(State state) {\n        this.state = state;\n        switch (state) {\n            case WALL_CLOCK:\n                clock = new WallClock();\n                break;\n                \n            case STOP_WATCH:\n                StopWatch stopWatch = new StopWatch();\n                stopWatch.start();\n                clock = stopWatch;\n                break;\n        }\n    }\n}\n</code></pre>\n<p>This is pretty basic. We allow the presentation of two &quot;states&quot;, a wall clock or stop watch.  In doing so, we simply switch the underlying <code>Clock</code> implementation to be used to generate the <code>Time</code> value.</p>\n<p>The UI then makes use of a simple Swing <code>Timer</code> to update the <code>Time</code> value on the UI at a regular interval.</p>\n<p>It also has a key binding, binding the <kbd>Space</kbd> key, so that when pressed, we simple switch state between the <code>WALL_CLOCK</code> and <code>STOP_WATCH</code></p>\n<h2>Runnable example...</h2>\n<p><a href=\"https://i.stack.imgur.com/mPnL4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPnL4.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.time.LocalTime;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new ClockPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class ClockPane extends JPanel {\n        enum State {\n            WALL_CLOCK, STOP_WATCH;\n        }\n\n        private State state = State.WALL_CLOCK;\n        private Clock clock = new WallClock();\n\n        private Timer timer = new Timer(500, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                updateTime();\n            }\n        });\n\n        private JLabel timeDisplay;\n\n        public ClockPane() {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            timeDisplay = new JLabel();\n            timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\n\n            add(timeDisplay);\n            updateTime();\n\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;Space.pressed&quot;);\n            actionMap.put(&quot;Space.pressed&quot;, new AbstractAction() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    switch (getState()) {\n                        case WALL_CLOCK:\n                            setState(State.STOP_WATCH);\n                            break;\n\n                        case STOP_WATCH:\n                            setState(State.WALL_CLOCK);\n                            break;\n                    }\n                }\n            });\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            timer.stop();\n        }\n\n        protected void updateTime() {\n            Time time = getClock().getTime();\n            timeDisplay.setText(String.format(&quot;%02d:%02d:%02d&quot;, time.getHours(), time.getMinutes(), time.getSeconds()));\n        }\n\n        public Clock getClock() {\n            return clock;\n        }\n\n        public State getState() {\n            return state;\n        }\n\n        public void setState(State state) {\n            this.state = state;\n            switch (state) {\n                case WALL_CLOCK:\n                    clock = new WallClock();\n                    break;\n\n                case STOP_WATCH:\n                    StopWatch stopWatch = new StopWatch();\n                    stopWatch.start();\n                    clock = stopWatch;\n                    break;\n            }\n        }\n    }\n\n    public interface Time {\n        public int getHours();\n        public int getMinutes();\n        public int getSeconds();\n    }\n\n    public interface Clock {\n        public Time getTime();\n    }\n\n    public class DefaultTime implements Time {        \n        private int hours;\n        private int minutes;\n        private int seconds;\n\n        public DefaultTime(int hours, int minutes, int seconds) {\n            this.hours = hours;\n            this.minutes = minutes;\n            this.seconds = seconds;\n        }\n\n        public DefaultTime(LocalTime time) {\n            this(time.getHour(), time.getMinute(), time.getSecond());\n        }\n\n        public DefaultTime(Duration duration) {\n            this(duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart());\n        }\n\n        @Override\n        public int getHours() {\n            return hours;\n        }\n\n        @Override\n        public int getMinutes() {\n            return minutes;\n        }\n\n        @Override\n        public int getSeconds() {\n            return seconds;\n        }\n    }\n\n    public class WallClock implements Clock {\n        @Override\n        public Time getTime() {\n            return new DefaultTime(LocalTime.now());\n        }\n    }\n\n    public class StopWatch implements Clock {\n\n        private Instant startTime;\n        private Instant stopTime;\n\n        public void start() {\n            startTime = Instant.now();\n            stopTime = null;\n        }\n\n        public void stop() {\n            if (startTime == null) {\n                 return;\n            }\n            stopTime = Instant.now();\n        }\n\n        @Override\n        public Time getTime() {\n            if (startTime == null) {\n                return new DefaultTime(0, 0, 0);\n            }\n            Duration duration = Duration.between(startTime, stopTime == null ? Instant.now() : stopTime);\n            return new DefaultTime(duration);\n        }\n    }\n}\n</code></pre>\n<h1>But what if we want something more complicated?</h1>\n<p>What if we want to format the wall clock time differently?  What if we want to add in controls for the stop watch?</p>\n<p>Well, then, you'd create specialised implementations of the view to support it and then, possibly, use a <code>CardLayout</code> to switch between them.</p>\n<p>First, we create a  wall clock view.  This will display the time in <code>hour:minute:second daypart</code> format (ie 2:30:00 pm)</p>\n<p>Next, the stop watch view. The format remains unchanged, but will  add a &quot;start/stop&quot; button, so you can control the stop watch.</p>\n<p>We also update the <code>StopWatch</code> to add a <code>isRunning</code> method, so we can tell when it's &quot;running&quot; or not, so we can start/stop it appropriatly.</p>\n<p>Then we update the <code>ClockPane</code> so we can switch between the views. This is making use of a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a> which makes it really simple to switch between different views...</p>\n<h2>Runnable example...</h2>\n<p><a href=\"https://i.stack.imgur.com/FpmYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FpmYw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.CardLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new ClockPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class ClockPane extends JPanel {\n        enum State {\n            WALL_CLOCK, STOP_WATCH;\n        }\n\n        private State state = State.WALL_CLOCK;\n        private CardLayout cardLayout;\n\n        public ClockPane() {\n            cardLayout = new CardLayout();\n\n            setLayout(cardLayout);\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            add(new WallClockPane(), &quot;WALL_CLOCK&quot;);\n            add(new StopWatchPane(), &quot;STOP_WATCH&quot;);\n\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;Space.pressed&quot;);\n            actionMap.put(&quot;Space.pressed&quot;, new AbstractAction() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    switch (getState()) {\n                        case WALL_CLOCK:\n                            setState(State.STOP_WATCH);\n                            break;\n\n                        case STOP_WATCH:\n                            setState(State.WALL_CLOCK);\n                            break;\n                    }\n                }\n            });\n        }\n\n        public State getState() {\n            return state;\n        }\n\n        public void setState(State state) {\n            this.state = state;\n            switch (state) {\n                case WALL_CLOCK:\n                    cardLayout.show(this, &quot;WALL_CLOCK&quot;);\n                    break;\n\n                case STOP_WATCH:\n                    cardLayout.show(this, &quot;STOP_WATCH&quot;);\n                    break;\n            }\n        }\n    }\n\n    public class WallClockPane extends JPanel {\n        private Clock clock = new WallClock();\n\n        private Timer timer = new Timer(500, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                updateTime();\n            }\n        });\n\n        private JLabel timeDisplay;\n        private DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;hh:mm:ss a&quot;);\n\n        public WallClockPane() {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            timeDisplay = new JLabel();\n            timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\n\n            add(timeDisplay);\n            updateTime();\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            timer.stop();\n        }\n\n        protected void updateTime() {\n            Time time = getClock().getTime();\n            LocalTime localTime = LocalTime.of(time.getHours(), time.getMinutes(), time.getSeconds());\n            timeDisplay.setText(localTime.format(formatter));\n        }\n\n        public Clock getClock() {\n            return clock;\n        }\n    }\n\n    public class StopWatchPane extends JPanel {\n        private StopWatch clock = new StopWatch();\n\n        private Timer timer = new Timer(500, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                updateTime();\n            }\n        });\n\n        private JLabel timeDisplay;\n\n        private JButton toggleStateButton;\n\n        public StopWatchPane() {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            timeDisplay = new JLabel();\n            timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\n\n            toggleStateButton = new JButton(&quot;Start&quot;);\n            toggleStateButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (clock.isRunning()) {\n                        toggleStateButton.setText(&quot;Start&quot;);\n                        clock.stop();\n                    } else {\n                        toggleStateButton.setText(&quot;Stop&quot;);\n                        clock.start();\n                    }\n                }\n            });\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(timeDisplay, gbc);\n            add(toggleStateButton, gbc);\n            updateTime();\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            timer.stop();\n        }\n\n        protected void updateTime() {\n            Time time = getClock().getTime();\n            timeDisplay.setText(String.format(&quot;%02d:%02d:%02d&quot;, time.getHours(), time.getMinutes(), time.getSeconds()));\n        }\n\n        public Clock getClock() {\n            return clock;\n        }\n    }\n\n    public interface Time {\n        public int getHours();\n\n        public int getMinutes();\n\n        public int getSeconds();\n    }\n\n    public interface Clock {\n        public Time getTime();\n    }\n\n    public class DefaultTime implements Time {\n        private int hours;\n        private int minutes;\n        private int seconds;\n\n        public DefaultTime(int hours, int minutes, int seconds) {\n            this.hours = hours;\n            this.minutes = minutes;\n            this.seconds = seconds;\n        }\n\n        public DefaultTime(LocalTime time) {\n            this(time.getHour(), time.getMinute(), time.getSecond());\n        }\n\n        public DefaultTime(Duration duration) {\n            this(duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart());\n        }\n\n        @Override\n        public int getHours() {\n            return hours;\n        }\n\n        @Override\n        public int getMinutes() {\n            return minutes;\n        }\n\n        @Override\n        public int getSeconds() {\n            return seconds;\n        }\n    }\n\n    public class WallClock implements Clock {\n        @Override\n        public Time getTime() {\n            return new DefaultTime(LocalTime.now());\n        }\n    }\n\n    public class StopWatch implements Clock {\n\n        private Instant startTime;\n        private Instant stopTime;\n\n        private boolean isRunning = false;\n\n        public void start() {\n            startTime = Instant.now();\n            stopTime = null;\n            isRunning = true;\n        }\n\n        public void stop() {\n            if (startTime == null) {\n                return;\n            }\n            stopTime = Instant.now();\n            isRunning = false;\n        }\n\n        public boolean isRunning() {\n            return isRunning;\n        }\n\n        @Override\n        public Time getTime() {\n            if (startTime == null) {\n                return new DefaultTime(0, 0, 0);\n            }\n            Duration duration = Duration.between(startTime, stopTime == null ? Instant.now() : stopTime);\n            return new DefaultTime(duration);\n        }\n    }\n}\n</code></pre>\n<p>The interesting thing about this is...</p>\n<ol>\n<li>The stop watch will continue running if you switch back to the wall clock view (you can change this behaviour, but I thought it was an interesting side effect)</li>\n<li>The button will consume the <kbd>Space</kbd> event, so you might want to consider the key binding or provide another navigation workflow, maybe using a <code>JTabbedPane</code> instead</li>\n</ol>\n<h1>Dependency Injection</h1>\n<p>You could pass the <code>Clock</code> and a &quot;formatter&quot; into a common view component, instead of specialising the views.</p>\n<p>These are just a view ideas.</p>\n"}],"last_activity_date":1684303704,"question_id":76196869,"body":"<p>The code shows that the &quot;setTimer&quot; method is not applicable for the boolean type and the methods &quot;isRunning&quot; and &quot;isStopwatchKeyPressed&quot; are undefined.</p>\n<p>ClockProject Class:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\n \n \npublic class ClockProject extends JFrame implements KeyListener {\n    Calendar calendar;\n    SimpleDateFormat timeFormat;\n    SimpleDateFormat dayFormat;\n    SimpleDateFormat dateFormat;\n \n    JLabel timeLabel;\n    JLabel dayLabel;\n    JLabel dateLabel;\n    String time;\n    String day;\n    String date;\n    ArrayList&lt;String&gt; arrayList;\n \n    //Sets format and appearance of the clock\n    public ClockProject() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setTitle(&quot;Ryan's Digital Clock&quot;);\n        setLayout(new FlowLayout());\n        setSize(350, 220);\n        setResizable(false);\n        timeFormat = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);\n        dateFormat = new SimpleDateFormat(&quot;EEEE&quot;);\n        dayFormat = new SimpleDateFormat(&quot;dd MMMM, yyyy&quot;);\n \n        timeLabel = new JLabel();\n        timeLabel.setFont(new Font(&quot;SANS_SERIF&quot;, Font.PLAIN, 59));\n        timeLabel.setBackground(Color.BLACK);\n        timeLabel.setForeground(Color.WHITE);\n        timeLabel.setOpaque(true);\n \n        dayLabel = new JLabel();\n        dayLabel.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 34));\n        dateLabel = new JLabel();\n        dateLabel.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 30));\n        add(timeLabel);\n        add(dayLabel);\n        add(dateLabel);\n        setVisible(true);\n        arrayList = new ArrayList&lt;String&gt;();\n        readFromFile(&quot;data.txt&quot;);\n        for (String data : arrayList) {\n            System.out.println(data);\n        }\n        setTimer();\n        addKeyListener(this);\n        setFocusable(true);\n    }\n \n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_SPACE) {\n            setTimer(false); //stop the clock\n            Stopwatch stopwatch = new Stopwatch();\n            stopwatch.setVisible(true); //open the stopwatch\n            removeKeyListener(this); //remove the key listener from the frame\n        }\n    }\n \n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n \n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n \n    // Count control using a while loop in setTimer() method\n    public void setTimer() {\n        int counter = 0;\n        while (true) {\n            time = timeFormat.format(Calendar.getInstance().getTime());\n            timeLabel.setText(time);\n            day = dayFormat.format(Calendar.getInstance().getTime());\n            dayLabel.setText(day);\n            date = dateFormat.format(Calendar.getInstance().getTime());\n            dateLabel.setText(date);\n            if (counter % 2 == 0) {\n                timeLabel.setForeground(Color.RED);\n            } else {\n                timeLabel.setForeground(Color.WHITE);\n            }\n            try {\n                Thread.sleep(1000);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            counter++;\n        }\n    }\n \n    // Polymorphism using method overloading for readFromFile() method.\n    public void readFromFile(String filename) {\n        try {\n            BufferedReader reader = new BufferedReader(new FileReader(filename));\n            String line = reader.readLine();\n            while (line != null) {\n                arrayList.add(line);\n                line = reader.readLine();\n            }\n            reader.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n \n    public void writeToFile(String filename) {\n        try {\n            FileWriter writer = new FileWriter(filename);\n            for (String data : arrayList) {\n                writer.write(data + &quot;\\n&quot;);\n            }\n \n            writer.close();\n            Thread.sleep(1000);\n} \ncatch (Exception e) {\ne.printStackTrace();\n}\n}\n \npublic static void main(String[] args) {\n    Help.about();\n    boolean isStopwatchActive = false;\n    while (true) {\n        if (isStopwatchActive) {\n            Stopwatch stopwatch = new Stopwatch(); \n            stopwatch.setVisible(true);\n            while (true) {\n                stopwatch.setTimer();\n                if (!stopwatch.isRunning()) {\n                    isStopwatchActive = false;\n                    break;\n                }\n            }\n        } else {\n            ClockProject clock = new ClockProject();\n            clock.writeToFile(&quot;data.txt&quot;);\n            while (true) {\n                clock.setTimer();\n                if (clock.isStopwatchKeyPressed()) {\n                    isStopwatchActive = true;\n                    break;\n                }\n            }\n        }\n    }\n}\n}\n</code></pre>\n<p>Stopwatch class:</p>\n<pre><code>import java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class Stopwatch extends ClockProject implements KeyListener {\n    private long startTime;\n    private boolean running;\n    private long elapsedTime;\n\n    // constructor and other methods\n\n    @Override\n    public void setTimer() {\n        if (!running) {\n            // add a KeyListener to the Frame\n            addKeyListener(this);\n            setFocusable(true);\n            startTime = System.currentTimeMillis();\n            running = true;\n        }\n        elapsedTime = System.currentTimeMillis() - startTime;\n        Long hours = elapsedTime / 3600000;\n        long minutes = (elapsedTime / 60000) % 60;\n        long seconds = (elapsedTime / 1000) % 60;\n        timeLabel.setText(String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds));\n        try {\n            Thread.sleep(18);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    // Implement the KeyListener methods to stop the stopwatch\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_SPACE) {\n            running = false;\n            removeKeyListener(this);\n            Stopwatch stopwatch = new Stopwatch();\n            stopwatch.setVisible(true);\n        }\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // not used\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // not used\n    }\n}\n</code></pre>\n<p>I tried finding the reason why the setTimer method could not be used as a boolean type but could not figure it out.</p>\n"},{"comments":[{"comment_id":134496795,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"answer_id":76268987,"body":"<p>You are better off writing the source code yourself instead of the image.</p>\n<p>if you using @ModelAttribute need setter method.</p>\n<p>I can't see your Member class. but maybe your member_id variable does not set setter method. so you have to make a setter method.</p>\n<pre><code>public void setMember_id(String member_id) {\n    this.member_id = member_id;\n}\n</code></pre>\n<p>if you using lombok annotation just add @Setter annotation on you class name</p>\n<pre><code>@Setter\npublic class Member ...\n</code></pre>\n<p>And because of @RequestBody it can be confusing. Because it doesn't need a setter.</p>\n"}],"last_activity_date":1684303504,"question_id":76267893,"body":"<p>[<a href=\"https://i.stack.imgur.com/wBAVi.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/0DMiE.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/0DMiE.png</a>)\nI don't know why the object comes out to Null even if I use the model attribute</p>\n<p>I don't know because it hasn't been fixed even when I change the value of the model attribute. I need help</p>\n"},{"last_activity_date":1684302946,"question_id":76251114,"body":"<p>We've reference for using $apply query option in odata uri at client side(<a href=\"http://docs.oasis-open.org/odata/odata-data-aggregation-ext/v4.0/cs01/odata-data-aggregation-ext-v4.0-cs01.html\" rel=\"nofollow noreferrer\">http://docs.oasis-open.org/odata/odata-data-aggregation-ext/v4.0/cs01/odata-data-aggregation-ext-v4.0-cs01.html</a>).</p>\n<p>Can anyone please let me know how to use olingo lib for server usage to handle $apply.\nThe link, <a href=\"https://olingo.apache.org/doc/odata4/\" rel=\"nofollow noreferrer\">https://olingo.apache.org/doc/odata4/</a> only shows about handling other system query options except $apply.</p>\n"},{"answers":[{"answer_id":76268920,"body":"<p>With further digging and some tips from the jackson lib's member, it turn out that isn't my WAR's fault but JBoss. Their default setting would use a module call <code>resteasy-jackson2-provider</code> and it will be using <code>jackson-core</code> and <code>jackson-databind</code> as part of its dependencies even if your server config doesn't includes them. It's indirect dependency.</p>\n<p>There are two ways to resolve this issue, I prefer first one for less trouble.</p>\n<ol>\n<li><p>Exclude them in your <code>jboss-deployment-structure.xml</code></p>\n<p>As I mentioned that this is <strong>indirect dependency</strong>. So the lib that you have to exclude would be <code>resteasy-jackson2-provider</code>. Add them all to exclusions if you're not sure that the other JBoss would include them or not.</p>\n<pre><code>&lt;exclusions&gt;\n    &lt;module name=&quot;com.fasterxml.jackson.core.jackson-core&quot; /&gt;\n    &lt;module name=&quot;com.fasterxml.jackson.core.jackson-databind&quot; /&gt;\n    &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson2-provider&quot; /&gt;\n&lt;/exclusions&gt;\n</code></pre>\n</li>\n<li><p>Update JBoss's modules</p>\n<p>Well, this WILL be super annoying if you have many of them.</p>\n</li>\n</ol>\n"}],"last_activity_date":1684302782,"question_id":76251440,"body":"<p>I'm using <code>jackson-dataformat-csv 2.15.0</code> with following code to export my data into an text file</p>\n<pre><code>            List&lt;HashMap&lt;String, String&gt;&gt; data = &lt;list of data&gt;;\n            PrintWriter out = new PrintWriter(new File(FILE_PATH));\n            CsvSchema schema = null;\n            CsvSchema.Builder schemaBuilder = CsvSchema.builder();\n            // output verify list record\n            if (data != null &amp;&amp; !data.isEmpty()) {\n                schema = schemaBuilder.addColumn(&quot;ID&quot;).addColumn(&quot;Date&quot;).build()\n                        .withLineSeparator(&quot;\\r&quot;).withHeader();\n\n                CsvMapper mapper = new CsvMapper();\n                mapper.writer(schema).writeValues(out).writeAll(data);\n            }\n            out.close();\n</code></pre>\n<p>But it just pop up error</p>\n<pre><code>2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394) Exception in thread &quot;Thread-394&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.dataformat.csv.CsvFactory._createContentReference(Ljava/lang/Object;)Lcom/fasterxml/jackson/core/io/ContentReference;\n\n2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394)     at com.fasterxml.jackson.dataformat.csv.CsvFactory.createGenerator(CsvFactory.java:372)\n\n2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394)     at com.fasterxml.jackson.dataformat.csv.CsvFactory.createGenerator(CsvFactory.java:16)\n\n2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394)     at com.fasterxml.jackson.databind.ObjectWriter.createGenerator(ObjectWriter.java:703)\n\n2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394)     at com.fasterxml.jackson.databind.ObjectWriter.writeValues(ObjectWriter.java:789)\n</code></pre>\n<p>I have checked maven hierarchy, those conflicted jackson libs are ommited. I also checked the exported WAR that its <code>jackson-core</code>, <code>jackson-annotations</code>, <code>jackson-databind</code>, and <code>jackson-dataformat-csv</code> are <code>2.15.0</code> and no other old-duplicated lib. No error reported from my eclipse about method not found or otherwise. Does anyone know what happen about this?</p>\n"},{"answers":[{"comments":[{"comment_id":113436881,"body":"This worked for me too after the annotations line was added to my gradle file after doing a conversion to kotlin as described here:  <a href=\"https://codelabs.developers.google.com/codelabs/java-to-kotlin/?hl=th#2\" rel=\"nofollow noreferrer\">codelabs.developers.google.com/codelabs/java-to-kotlin/?hl=t&zwnj;&#8203;h#2</a>"},{"comment_id":132602983,"body":"doesn&#39;t work at all. Android Studio Electric Eel | 2022.1.1 Build #AI-221.6008.13.2211.9477386, built on January 11, 2023, Runtime version: 11.0.15+0-b2043.56-8887301 amd64 VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o."}],"answer_id":58909363,"body":"<p>It's the Conflict between two jars. You can either figure out which one you are not using from Modules_annotation 16.XXX and annotations-java5-XXXX jar files.</p>\n<p>I found out two ways to solve this.</p>\n<ol>\n<li>Excluding the JetBrains annotations module is a workaround; why is it in your project in the first place? Most likely, it got automatically added to your classpath by Android Studio when what you really wanted was Android's own annotations.</li>\n</ol>\n<p>So, a better solution is to look for an org.jetbrains:annotations dependency in your build.gradle file[s], like this:</p>\n<pre><code>implementation 'org.jetbrains:annotations-java5:15.0'\n</code></pre>\n<p>...and remove it.</p>\n<p>If 1 is not working</p>\n<ol start=\"2\">\n<li>Please add the following line in your Module level build.gradle.</li>\n</ol>\n<blockquote>\n<pre><code>configurations {\n            cleanedAnnotations\n             compile.exclude group: 'org.jetbrains' , module:'annotations'\n         }\n</code></pre>\n</blockquote>\n"},{"answer_id":66201152,"body":"<p>It's a conflict between single artifact in two different lib/jar files. basically we need to remove the unused lib or remove the artifact from any one lib.</p>\n<p>Starting from <a href=\"https://kotlinlang.org/docs/whatsnew14.html#dependency-on-the-standard-library-added-by-default\" rel=\"noreferrer\">Kotlin 1.4</a> you no longer need the below dependency</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin&quot;\n</code></pre>\n<p>So removing this dependency will also solve the issue.</p>\n"},{"comments":[{"comment_id":128734764,"body":"Thanks, this worked for me. I was first having  <i>compile.exclude group: &#39;org.jetbrains&#39; , module:&#39;annotations&#39;</i> but after upgrading my Gradle it was no more working so, I replaced the COMPILE with IMPLEMENTATION as mentioned above and now it is working."},{"comment_id":132542054,"body":"This worked for me as well, this should be the current solution as of today"}],"answer_id":68901181,"body":"<p><a href=\"https://stackoverflow.com/users/8385680\">Harsh Mishra's</a> answer is correct, however latest versions of Android Studio no longer declare <code>org.jetbrains:annotations-java5:15.0</code> or <code>org.jetbrains.kotlin:kotlin-stdlib:$version_kotlin</code> in your gradle dependencies and the use of <strong>compile</strong> was also replaced by <strong>implementation</strong>, with this your build.gradle should look like this:</p>\n<pre><code>    plugins {\n        ...\n    }\n\n    android {\n        ...\n    }\n\n    configurations {\n        cleanedAnnotations\n        implementation.exclude group: 'org.jetbrains' , module:'annotations'\n    }\n\n    dependencies {\n        ...\n    }\n</code></pre>\n"},{"answer_id":69635630,"body":"<p>I fixed the issue on mine by changing the</p>\n<pre><code>implementation 'androidx.room:room-compiler:2.4.0-beta01'\n</code></pre>\n<p>to</p>\n<pre><code>annotationProcessor 'androidx.room:room-compiler:2.4.0-beta01'\n</code></pre>\n"},{"answer_id":76009074,"body":"<p>For a  <code>org.jetbrains:annotations-java5</code> dependency in a library, would need to add <code>annotations-java5</code> as module instead of <code>annotations</code>.</p>\n<pre><code>configurations {\n        cleanedAnnotations\n        implementation.exclude group: &quot;org.jetbrains&quot;, module: &quot;annotations-java5&quot;\n    }\n</code></pre>\n"},{"answer_id":76266168,"body":"<p>I change it  implementation <code>(&quot;androidx.room:room-compiler:$room_version&quot;)</code> with this\n<code>annotationProcessor (&quot;androidx.room:room-compiler:2.4.0-beta01&quot;)</code></p>\n"}],"last_activity_date":1684302646,"question_id":58903820,"body":"<p>Text of the output:</p>\n\n<pre><code> Execution failed for task ':app:checkDebugDuplicateClasses'.\n1 exception was raised by workers:\n  java.lang.RuntimeException: Duplicate class org.intellij.lang.annotations.Flow found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.Identifier found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$AdjustableOrientation found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$BoxLayoutAxis found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$CalendarMonth found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$CursorType found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$FlowLayoutAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$FontStyle found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$HorizontalAlignment found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$InputEventMask found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$ListSelectionMode found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$PatternFlags found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$TabLayoutPolicy found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n  Duplicate class org.intellij.lang.annotations.JdkConstants$TabPlacement found in modules annotations-16.0.1.jar (org.jetbrains:annotations:16.0.1) and annotations-java5-15.0.jar (org.jetbrains:annotations-java5:15.0)\n</code></pre>\n"},{"comments":[{"comment_id":44439368,"body":"Very good question! I would like to see a wise answer of this question."}],"answers":[{"comments":[{"comment_id":44441007,"body":"Yes, I have been writing selenium tests for a while now and never had to use that. But, can you at least show a high level implementation of that though?"},{"comment_id":44441821,"body":"Appreciate that @ sircapsalot"},{"comment_id":45539024,"body":"According to the documentation here: <a href=\"https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"nofollow noreferrer\">selenium.googlecode.com/git/docs/api/java/org/openqa/seleniu&zwnj;&#8203;m/&hellip;</a> the ExpectedCondition.refreshed() expects another ExpectedCondition, and not a WebElement as in your example.  Could you explain or update your example?  Thanks."},{"comment_id":51074303,"body":"@sircapsalot the above issue is a common one, whenever a developer uses a &#39;AutoPostBack=&quot;true&quot;&#39; , you do fall in the sort of situation. <a href=\"http://stackoverflow.com/questions/5116258/selenium-2-staleelementreferenceexception-when-using-dropdownlist-with-autopostb\">See</a>"}],"answer_id":28027582,"body":"<p>According to the source:</p>\n<blockquote>\n<p>Wrapper for a condition, which allows for elements to update by redrawing.\nThis works around the problem of conditions which have two parts: find an\nelement and then check for some condition on it. For these conditions it is\npossible that an element is located and then subsequently it is redrawn on\nthe client. When this happens a {@link StaleElementReferenceException} is\nthrown when the second part of the condition is checked.</p>\n</blockquote>\n<p>So basically, this is a method that waits until a DOM manipulation is finished on an object.</p>\n<p>Typically, when you do <code>driver.findElement</code>  that object represents what the object is.</p>\n<p>When the DOM has manipulated, and say after clicking a button, adds a class to that element.  If you try to perform an action on said element, it will throw <code>StaleElementReferenceException</code>  since now the <code>WebElement</code> returned now does not represent the updated element.</p>\n<p>You'll use <code>refreshed</code> when you expect DOM manipulation to occur, and you want to wait until it's done being manipulated in the DOM.</p>\n<h3>Example:</h3>\n<pre><code>&lt;body&gt;\n  &lt;button id=&quot;myBtn&quot; class=&quot;&quot; onmouseover=&quot;this.class = \\&quot;hovered\\&quot;;&quot; /&gt;\n&lt;/body&gt;\n\n// pseudo-code\n1. WebElement button = driver.findElement(By.id(&quot;myBtn&quot;)); // right now, if you read the Class, it will return &quot;&quot;\n2. button.hoverOver(); // now the class will be &quot;hovered&quot;\n3. wait.until(ExpectedConditions.refreshed(button));\n4. button = driver.findElement(By.id(&quot;myBtn&quot;)); // by this point, the DOM manipulation should have finished since we used refreshed.\n5. button.getClass();  // will now == &quot;hovered&quot;\n</code></pre>\n<p><em>Note that if you perform say a <code>button.click()</code> at line #3, it will throw a StaleReferenceException since the DOM has been manipulated at this point.</em></p>\n<p>In my years of using Selenium, I've never had to use this condition, so I believe that it is an &quot;edge case&quot; situation, that you most likely won't even have to worry about using.  Hope this helps!</p>\n"},{"comments":[{"comment_id":100086814,"body":"This is really good, was facing the same with search results."}],"answer_id":44791057,"body":"<p>The <code>refreshed</code> method has been very helpful for me when trying to access a search result that has been newly refreshed. Trying to wait on the search result by just <code>ExpectedConditions.elementToBeClickable(...)</code> returns <code>StaleElementReferenceException</code>. To work around that, this is the helper method that would wait and retry for a max of 30s for the search element to be refreshed and clickable. </p>\n\n<pre><code>public WebElement waitForElementToBeRefreshedAndClickable(WebDriver driver, By by) {\n    return new WebDriverWait(driver, 30)\n            .until(ExpectedConditions.refreshed(\n                    ExpectedConditions.elementToBeClickable(by)));\n}\n</code></pre>\n\n<p>Then to click on the result after searching:</p>\n\n<pre><code>waitForElementToBeRefreshedAndClickable(driver, By.cssSelector(\"css_selector_to_search_result_link\")).click();\n</code></pre>\n\n<p>Hope this was helpful for others. </p>\n"},{"answer_id":76267983,"body":"<p>Should be like this</p>\n<pre><code>wait.until(ExpectedConditions.refreshed(ExpectedConditions.presenceOfElementLocated(By.id(&quot;myBtn&quot;))));\n</code></pre>\n"}],"last_activity_date":1684302592,"question_id":28026845,"body":"<p>I was going through methods of <code>ExpectedCondtions</code> class and found one method: <a href=\"http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#refreshed(org.openqa.selenium.support.ui.ExpectedCondition)\">refreshed</a></p>\n\n<p>I can understand that the method can be used when you get <code>StaleElementReferenceException</code> and you want to retrieve that element again and this way to avoid <code>StaleElementReferenceException</code></p>\n\n<p>My above understanding might not be correct hence I want to confirm:</p>\n\n<ol>\n<li>When <code>refreshed</code> should be used?</li>\n<li>What should be the code for <code>something</code> part of following code:</li>\n</ol>\n\n<p><code>wait.until(ExpectedConditions.refreshed(**something**));</code></p>\n\n<p>Can someone please explain this with an example?</p>\n"},{"answers":[{"answer_id":35189519,"body":"<h3>Short Answer:</h3>\n\n<p>I could not determine a way to read the files only once and calculate the <code>CRC</code> with the standard library given the time I had to solve this problem.</p>\n\n<p>I did find an optimization that decreased the time by about <code>50%</code> on average.</p>\n\n<p>I pre-calculate the <code>CRC</code> of the files to be stored concurrently with an <code>ExecutorCompletionService</code> limited to <code>Runtime.getRuntime().availableProcessors()</code> and wait until they are done. The effectiveness of this varies based on the number of files that need the <code>CRC</code> calculated. With the more files, the more benefit.</p>\n\n<p>Then in the <code>.postVisitDirectories()</code> I wrap a <code>ZipOutputStream</code> around a <code>PipedOutputStream</code> from a <code>PipedInputStream/PipedOutputStream</code> pair running on a temporary <code>Thread</code> to convert the <code>ZipOutputStream</code> to an <code>InputStream</code> I can pass into the <code>HttpRequest</code> to upload the results of the <code>ZipOutputStream</code> to a remote server while writing all the precalculated <code>ZipEntry/Path</code> objects serially.</p>\n\n<p>This is good enough for now, to process the <code>300+GB</code> of immediate needs, but when I get to the <code>10TB</code> job I will look at addressing it and trying to find some more advantages without adding too much complexity. </p>\n\n<p>If I come up with something substantially better time wise I will update this answer with the new implementation.</p>\n\n<h3>Long answer:</h3>\n\n<p>I ended up writing a clean room <code>ZipOutputStream</code> that supports multipart zip files, intelligent compression levels vs <code>STORE</code> and was able to calculate the <code>CRC</code> as I read and then write out the metadata at the end of the stream.</p>\n\n<hr>\n\n<h3>Why ZipOutputStream.setLevel() swapping will not work:</h3>\n\n<blockquote>\n  <p>The <code>ZipOutputStream.setLevel(NO_COMPRESSION/DEFAULT_COMPRESSION)</code>\n  hack is not a viable approach. I did extensive tests on hundreds of\n  gigs of data, thousands of folders and files and the measurements were\n  conclusive. It gains nothing over calculating the <code>CRC</code> for the\n  <code>STORED</code> files vs compressing them at <code>NO_COMPRESSION</code>. It is actually\n  <strong>slower</strong> by a large margin!</p>\n  \n  <p>In my tests the files are on a <strong>network mounted drive</strong> so reading\n  the files already compressed files <strong>twice</strong> over the network to\n  calculate the <code>CRC</code> then again to add to the <code>ZipOutputStream</code> was as\n  fast or faster than just processing all the files once as <code>DEFLATED</code>\n  and changing the <code>.setLevel()</code> on the <code>ZipOutputStream</code>. </p>\n  \n  <p>There is no local filesystem caching going on with the network access.\n  This is a worse case scenario, processing files on the local disk will\n  be much much faster because of local filesystem caching.</p>\n  \n  <p>So this hack is a naive approach and is based on false assumptions. It is processing the\n  data through the compression algorithm even at <code>NO_COMPRESSION</code> level\n  and the overhead is higher than reading the files twice.</p>\n</blockquote>\n"},{"answer_id":76268876,"body":"<blockquote>\n<p>I could not determine a way to read the files only once and calculate the <code>CRC</code> with the standard library given the time I had to solve this problem.</p>\n<p>I did find an optimization that decreased the time by about <code>50%</code> on average.</p>\n<p>I pre-calculate the <code>CRC</code> of the files to be stored concurrently...</p>\n</blockquote>\n<p>I've measured about the same improvement, compared to alternating the <code>ZipOutputStream.setLevel(Deflater.NO_COMPRESSION)</code> and <code>ZipOutputStream.setLevel(Deflater.DEFAULT_COMPRESSION)</code>, without concurrent CRC calculation using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.ByteBuffer;\nimport java.nio.MappedByteBuffer;\nimport java.nio.channels.Channels;\nimport java.nio.channels.FileChannel;\nimport java.nio.channels.WritableByteChannel;\nimport java.nio.channels.FileChannel.MapMode;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.zip.CRC32;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\n...\n\n    void addTo(ZipOutputStream zipOut, Path file) throws IOException {\n        try (FileChannel fch = FileChannel.open(file)) {\n            MappedByteBuffer buf = fch.map(MapMode.READ_ONLY, 0, fch.size());\n            ZipEntry entry = new ZipEntry(relativize(file));\n            entry.setLastModifiedTime(Files.getLastModifiedTime(file));\n            if (entry.getName().endsWith(&quot;.zip&quot;)\n                    || entry.getName().endsWith(&quot;.gz&quot;)) {\n                entry.setMethod(ZipEntry.STORED);\n                entry.setSize(buf.remaining());\n                entry.setCrc(checkSum(buf));\n            }\n            zipOut.putNextEntry(entry);\n            @SuppressWarnings(&quot;resource&quot;)\n            WritableByteChannel zipCh = Channels.newChannel(zipOut);\n            zipCh.write(buf);\n            zipOut.closeEntry();\n        }\n    }\n\n    static long checkSum(ByteBuffer buf) {\n        CRC32 crc = new CRC32();\n        int mark = buf.position();\n        crc.update(buf);\n        buf.position(mark);\n        return crc.getValue();\n    }\n</code></pre>\n<p>(The <code>relativize(Path) : String</code> method is left out of the example.)</p>\n<p>The <code>CRC32</code> class provides very efficient <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/zip/CRC32.html#update%28java.nio.ByteBuffer%29\" rel=\"nofollow noreferrer\"><code>update(ByteBuffer)</code></a> method for use with memory-mapped (direct) file buffers.</p>\n"}],"last_activity_date":1684302259,"question_id":35141580,"body":"<p>I am using a <code>ZipOutputStream</code> to zip up a bunch of files that are a mix of already zipped formats as well as lots of large highly compressible formats like plain text. </p>\n\n<p>Most of the already zipped formats are large files and it makes no sense to spend cpu and memory on recompressing them since they never get smaller and sometimes get slightly large on the rare occasion.</p>\n\n<p>I am trying to use <code>.setMethod(ZipEntry.STORED)</code> when I detect a pre-compressed file but it complains that I need to supply the <code>size, compressedSize and crc</code> for those files.</p>\n\n<p>I can get it work with the following approach but this requires that I read the file <strong>twice</strong>. Once to calculate the <code>CRC32</code> then again to actually copy the file into the <code>ZipOutputStream</code>.</p>\n\n<pre><code>// code that determines the value of method omitted for brevity\nif (STORED == method)\n{\n    fze.setMethod(STORED);\n    fze.setCompressedSize(fe.attributes.size());\n    final HashingInputStream his = new HashingInputStream(Hashing.crc32(), fis);\n    ByteStreams.copy(his,ByteStreams.nullOutputStream());\n    fze.setCrc(his.hash().padToLong());\n}\nelse\n{\n    fze.setMethod(DEFLATED);\n}\nzos.putNextEntry(fze);\nByteStreams.copy(new FileInputStream(fe.path.toFile()), zos);\nzos.closeEntry();\n</code></pre>\n\n<h2>Is there a way provide this information without having to read the input stream twice?</h2>\n"},{"answers":[{"comments":[{"comment_id":121271557,"body":"Thanks for the answer , However the error occurs before this statement .I mean It doesn&#39;t even meet this line ."},{"comment_id":121271719,"body":"OK, please provide related code snippet and full stack trace of your exception."},{"comment_id":129771032,"body":"For me this happened since I forgot to add the DeltaSpike <code>@FirstResult</code> annotation to the <code>int offset</code> parameter and the <code>@MaxResults</code> to the <code>int limit</code>"},{"comment_id":131938284,"body":"I do not really understand that when one is using JPQL, marking question marks with ordinal is mandatory. Why not use a default order of 1...2...3... if one is not defining ordinals? Is there any specific reasoning behind this? I could only assume syntax is expected to be this way to raise awareness of a developer."}],"answer_id":68620164,"body":"<p>As it's stated in the <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#jpql-api\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>JPQL-style positional parameters are declared using a question mark followed by an ordinal - <code>?1</code>, <code>?2</code>. <em>The ordinals start with 1</em>. Just like with named parameters, positional parameters can also appear multiple times in a query.</p>\n</blockquote>\n<p>So, try to rewrite your query in this way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = entityManager.createQuery(\n   &quot;select result from com.a.b.c.loan.ArchiveHistory result where result.id =?1&quot;\n).setParameter( 1, 23L );\n</code></pre>\n<p>Or, as more readable alternative, I would suggest to use parameter binding by names:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = entityManager.createQuery(\n   &quot;select result from com.a.b.c.loan.ArchiveHistory result where result.id = :id&quot;\n).setParameter(&quot;id&quot;, 23L );\n</code></pre>\n"}],"last_activity_date":1684301821,"question_id":68619839,"body":"<p>I am using Hibernate as ORM. When I searched about this error, it was said that my problem is due to mapping but I checked it and didn't find any problem in it</p>\n<p>My query is :</p>\n<pre><code>select result from com.a.b.c.loan.ArchiveHistory result where result.id =?\n</code></pre>\n<p>The mapping is :</p>\n<pre><code>&lt;hibernate-mapping&gt;\n&lt;class name=&quot;com.a.b.c.loan.ArchiveHistory&quot; mutable=&quot;false&quot; table=&quot;ARCT_HISTORY_VIEW&quot;&gt;\n\n        &lt;id name=&quot;id&quot; column=&quot;BIBLIOGRAPHICID&quot; type=&quot;long&quot; unsaved-value=&quot;0&quot;&gt;\n        &lt;/id&gt;\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n"},{"comments":[{"comment_id":47047380,"body":"This seems unnecessary, based on the given information. If neither the application code nor the test code have changed, why do you need to re-run the tests?"},{"comment_id":47057493,"body":"@Jolta Some of the tests in my code are related on  3-party inputs, I&#39;m running my tests not only to make sure i did not put any bug inside the code, also to check if something change on the 3-party inputs that i&#39;m getting"},{"comment_id":66929573,"body":"Sorry to be nit-picky, but I don&#39;t really think this is the correct way of thinking about this: if you have variable 3-party inputs isn&#39;t the correct way of dealing with this to mock these inputs in some way?  Testing should actually be about testing the code you&#39;re writing.  Aren&#39;t you in fairly obvious danger of getting false-positives if you&#39;re relying on 3-party input to be unacceptable?  Shouldn&#39;t the strategy be to cater for problem input as part of your app code?"},{"comment_id":70420711,"body":"@mikerodent consider testing your code against a 3rd party online service. You would want to monitor possible changes in the service API to be able to respond with deployed fixes ASAP. Isn&#39;t CI tests a good way of doing that? Using a mock will only tell you your own code doesn&#39;t have regressions, but the dependencies still might have changes. using the real service would indicate that your product can actually perform the expected operations in the current environment."},{"comment_id":70441144,"body":"@Elist I understand what you&#39;re saying... but 2 points: first, if your app has to cater for third party inputs changing, this versatility (including the ability to &quot;hang up the phone&quot; gracefully and cleanly and in a non-puzzling way during a run) needs to be part of your <i>app</i> code, not your testing code, and you have to anticipate <i>in your app</i> this input becoming incomprehensible.  A secondary point is that the testing suites for your app shouldn&#39;t show fails or passes which result from &quot;random&quot; outside input: your tests should only be to tell you one thing: is your app a functional thing?"},{"comment_id":70460473,"body":"@mikerodent of course the app should behave gracefully on failure, and of course this good behaviour should be tested as part of regression tests and only when your own code changes. But let&#39;s agree that the need of the software deployer to be alerted of changes in external (even &quot;random&quot;) dependencies and ship a hotfix ASAP can easily be addressed by running tests on unchanged code, tests which results does not have to appear as part of the testing suits of the app, but alert the product team in some other way. Inputs from an external source are sometimes an essential part of functionality."},{"comment_id":70481905,"body":"@Elist yes, I really do see what you&#39;re saying... it&#39;s just that I&#39;m not really sure this is part of the &quot;testing&quot; phase of a project in the sense of TDD. You seem to think that this will help &quot;ship a hotfix ASAP&quot;... but when are planning to run these 3rd party input tests?  I suggest that if this 3rd party source is critical you&#39;d want your app to be testing this 3rd party source regularly: every day/hour/whatever.  Perhaps even set up a special service to do this... If it made sense you could use Gradle&#39;s Java classes as part of app code, if you like the way it handles task management."},{"comment_id":74631070,"body":"This is also valid from an integration testing point of view where the point of the test is to validate the integration of your code with other bits of code, where it would be not appropriate to mock in dependancies"},{"comment_id":88365954,"body":"It&#39;s also valid in case of Selenium tests, where timing issues can cause a test to fail sometimes and pass other times.  It&#39;s perfectly legitimate to run a test repeatedly to gain confidence that it&#39;s stable, and not passing by luck one time."},{"comment_id":91069115,"body":"@mikerodent what a nonsense argument. For exactly the purpose of running tests regularly (every day/hour whatever) or even manually when it is suspected that something has changed in the 3rd party input, it is useful to be able re-run the tests if neither the application code nor the test code have change. Why not use gradle for this purpose? Re-running tests is a perfectly valid scenario, that&#39;s why the option --rerun-tasks exists, as a more helpful user points out in the accepted answer."}],"answers":[{"comments":[{"comment_id":104958530,"body":"<code>gradle cleanTest test</code> does not rerun the tests, it cleans their output, but the <code>test</code> task will still get the test results from the cache -  see <a href=\"https://github.com/gradle/gradle/issues/9153\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/9153</a>"},{"comment_id":106031160,"body":"The comment above is right. But if you use <code>--no-build-cache</code>, then it&#39;ll work as expected, e.g. <code>gradle cleanTest test --no-build-cache</code>."},{"comment_id":118589982,"body":"<code>--rerun-tasks</code> is just the ticket. <code>--no-build-cache</code> even with cleaning was not functional for me. Thanks @Amnon"},{"comment_id":124110213,"body":"<code>gradle cleanTest test</code> worked for me."},{"comment_id":127968797,"body":"<code>--rerun-tasks</code> is a bad idea in a large project. It compiles everything from scratch, which can take ages, even if you just want to run a quick test in a local module."}],"answer_id":29428063,"body":"<p>One option would be using the <code>--rerun-tasks</code> flag in the <a href=\"https://docs.gradle.org/current/userguide/command_line_interface.html#sec:rerun_tasks\" rel=\"noreferrer\">Forcing tasks to execute</a> section. This would rerun all the the test task and all the tasks it depends on.</p>\n<p>If you're only interested in rerunning the tests then another option would be to make gradle clean the tests results before executing the tests. This can be done using the <code>cleanTest</code> task.</p>\n<p>Some background - the Java plugin defines a clean tasks to each of the other tasks. According to the <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_tasks\" rel=\"noreferrer\">Tasks</a> documentation:</p>\n<blockquote>\n<p><em>cleanTaskName</em> - Deletes files created by specified task. cleanJar will delete the JAR file created by the jar task, and cleanTest will delete the test results created by the test task.</p>\n</blockquote>\n<p>Therefore, all you need in order to re-run your tests is to also run the <code>cleanTest</code> task, i.e.:<br />\n<code>gradle cleanTest test</code></p>\n"},{"comments":[{"comment_id":103957949,"body":"I think it will re-run all dependent tasks as well, which isn&#39;t the asker intended behavior."},{"comment_id":128304658,"body":"Yea this answer doesn&#39;t work at all, since it rebuilds and reruns zillions of unnecessary things."}],"answer_id":29428175,"body":"<p><code>gradle test --rerun-tasks</code></p>\n\n<blockquote>\n  <p>Specifies that any task optimization is ignored.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://gradle.org/docs/current/userguide/gradle_command_line.html\" rel=\"noreferrer\">https://gradle.org/docs/current/userguide/gradle_command_line.html</a></p>\n"},{"comments":[{"comment_id":75420477,"body":"I used this technique for a <code>funcTest</code> task I created to run functional tests."},{"comment_id":83144051,"body":"This is a much better approach than the accepted answer, as it will only be applied to the desired task. The <code>upToDateWhen</code> can be used in any &quot;code-driven&quot; way such as system properties, environment variables, project properties, etc."},{"comment_id":103711392,"body":"As answer <a href=\"https://stackoverflow.com/a/52484259/340175\">stackoverflow.com/a/52484259/340175</a> mentions, there&#39;s a useful blog post <a href=\"https://blog.gradle.org/stop-rerunning-tests\" rel=\"nofollow noreferrer\">blog.gradle.org/stop-rerunning-tests</a> which explains why this approach is not recommended as a general approach. I agree however that it may be useful and does achive what the question asks."},{"comment_id":103713159,"body":"Yes, this is dated answer, when I wrote this Gradle was at version 2.11 and just started to be usable, but still had many rough edges, which are polished today."},{"comment_id":103958492,"body":"Great answer!!! Passed it using a parameter: <code>gradle test -Prerun-tests</code>. Code in build.gradle: <code>if(project.hasProperty(&quot;rerun-tests&quot;)) { \ttest.outputs.upToDateWhen {false} } </code>"},{"comment_id":130738210,"body":"In Gradle 7.3+ you can use <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:disable-state-tracking\" rel=\"nofollow noreferrer\"><code>doNotTrackState(&quot;Tests should always run&quot;)</code></a> to disable up-to-date checks."},{"comment_id":132848927,"body":"Thanks. This solution also work in combination with the gradle configuration-cache, unlike some other solutions."}],"answer_id":36178581,"body":"<p>Other option would be to add following in your build.gradle:</p>\n\n<pre><code>test.outputs.upToDateWhen {false}\n</code></pre>\n"},{"answer_id":36272428,"body":"<p>Also,\nhaving to add <code>--rerun-tasks</code> is really redundant. Never happens. Create a <code>--no-rerun-tasks</code> and make <code>--rerun-tasks</code> default when <code>cleanTask</code></p>\n"},{"comments":[{"comment_id":104958570,"body":"running <code>cleanTest</code> before <code>test</code> will not rerun the tests, it cleans their output, but the test task will still get the test results from the cache - see github.com/gradle/gradle/issues/9153"}],"answer_id":39026897,"body":"<p>Here's a solution using the \"build.gradle\" file, in case you don't want to modify your command line:</p>\n\n<pre><code>test {\n    dependsOn 'cleanTest'\n    //Your previous task details (if any)\n}\n</code></pre>\n\n<p>And here's the output. Notice 2 changes from your previous output:</p>\n\n<p>1) A new 'cleanTest' task appears in the output.</p>\n\n<p>2) 'test' is always cleaned (i.e. never 'UP-TO-DATE') so it gets executed every time:</p>\n\n<pre><code>$ gradle build\n:compileJava UP-TO-DATE\n:processResources UP-TO-DATE\n:classes UP-TO-DATE\n:findMainClass\n:jar\n:bootRepackage\n:assemble\n:cleanTest\n:compileTestJava UP-TO-DATE\n:processTestResources UP-TO-DATE\n:testClasses UP-TO-DATE\n:test\n:check\n:build\n</code></pre>\n"},{"comments":[{"comment_id":99957904,"body":"This sounds great for the specific use case you are talking about, but I&#39;m writing post-deployment tests against a live external web service and just happen to be using junit and gradle to accomplish this.  The code under test doesn&#39;t live in the repo, and in fact there <i>is</i> no &#39;application code&#39; because I&#39;m actually testing a live production system rather than the code itself.  Thanks for the answer, this is very useful!  Just wanted to point out that there are additional use cases that do require rerunning the tests every time even if none of the code gradle knows about is changing"},{"comment_id":112591517,"body":"the author is missing a basic concept of testing: nondeterministic behavior. If you are suspicious a test is OK but the code has some bugs and is making the result nondeterministic, then, with this short-minded advice you will never get a stacktrace if it happens to succeed in the first run. Test should be ran the amount of times you want. Considering bad practice running test multiple is plain wrong and goes against the test concept."},{"comment_id":128243839,"body":"@Sebastian if you actually read the article, you&#39;ll see your case is covered explicitly."}],"answer_id":52484259,"body":"\n\n<p>This was recently the topic on Gradle's blog post <a href=\"https://blog.gradle.org/stop-rerunning-tests\" rel=\"noreferrer\"><em>Stop rerunning your tests</em></a>. The <a href=\"https://github.com/oehme\" rel=\"noreferrer\">author</a> shows an example using <code>outputs.upToDateWhen { false }</code> and explains why it is wrong:</p>\n\n<blockquote>\n  <h3>This doesn’t actually force reruns</h3>\n  \n  <p>What the author of this snippet probably wanted to say is “Always rerun my tests”. That’s not what this snippet does though. It will only mark the task out-of-date, forcing Gradle to <em>recreate</em> the output. But here’s the thing, if the build cache is enabled, Gradle doesn’t need to run the task to recreate the output. It will find an entry in the cache and unpack the result into the test’s output directory.</p>\n  \n  <p>The same is true for this snippet:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>test.dependsOn cleanTest\n</code></pre>\n  \n  <p>Gradle will unpack the test results from the build cache after the output has been cleaned, so nothing will be rerun. In short, these snippets are creating a very expensive no-op.</p>\n  \n  <p>If you’re now thinking “Okay, I’ll deactivate the cache too”, let me tell you why you shouldn’t.</p>\n</blockquote>\n\n<p>Then, the author goes on to explain why rerunning some tests is a waste of time:</p>\n\n<blockquote>\n  <p>The vast majority of your tests should be deterministic, i.e. given the same inputs they should produce the same result.</p>\n</blockquote>\n\n<p>In the few cases where you do want to rerun tests where the code has not changed, you should model them as an input. Here are both examples from the blog post that show adding an input so the task will use it during its up-to-date checks.</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>task randomizedTest(type: Test) {\n  systemProperty \"random.testing.seed\", new Random().nextInt()\n}\n</code></pre>\n\n<hr>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>task systemIntegrationTest(type: Test) {\n  inputs.property \"integration.date\", LocalDate.now()\n}\n</code></pre>\n\n<p>I recommend reading the entire blog post.</p>\n"},{"answer_id":58340703,"body":"<p><code>--rerun-tasks</code> works, but is inefficient as it reruns all tasks.</p>\n\n<p><code>cleanTest</code> by itself may not suffice due to build cache.</p>\n\n<p>so, best way to accomplish this is:</p>\n\n<pre><code>./gradlew --no-build-cache cleanTest test\n</code></pre>\n"},{"comments":[{"comment_id":104882088,"body":"According to <a href=\"https://stackoverflow.com/a/52484259/466862\">stackoverflow.com/a/52484259/466862</a> that won&#39;t work."},{"comment_id":111253299,"body":"Well, the gradle docs are a bit confusing.... Here they say that cleanTest can be used for this purpose. <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:forcing_java_tests_to_run\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>. And also, it works on my machine (and gradle version 4.10.3) ;)"}],"answer_id":59340447,"body":"<p>TL;DR</p>\n\n<pre><code>test.dependsOn cleanTest\n</code></pre>\n"},{"answer_id":67608458,"body":"<p>None of the above methods worked for me.<br />\nWhat worked for me was simply removing all items from the cache directory in <code>/Users/&lt;username&gt;/.gradle/caches/build-cache-1/</code>.</p>\n"},{"answer_id":76268763,"body":"<p>As of Gradle 7.6, it is possible to use  <code>gradle test --rerun</code>.</p>\n<p>A description of the <code>--rerun</code> <a href=\"https://github.com/gradle/gradle/issues/20641\" rel=\"nofollow noreferrer\">feature is in the Gradle issue tracker</a> and works for any task (not just 'test').  Basically it just forces Gradle to consider that task and only that task not up-to-date which will rerun it.</p>\n<p>See also <a href=\"https://docs.gradle.org/8.1/userguide/command_line_interface.html#sec:builtin_task_options\" rel=\"nofollow noreferrer\">--rerun in the manual</a>.</p>\n<blockquote>\n<pre><code>--rerun\n\nCauses the task to be re-run even if up-to-date. Similar to --rerun-tasks, but for a specific task.\n</code></pre>\n</blockquote>\n"}],"last_activity_date":1684300611,"question_id":29427020,"body":"<p>I have my grade script set up.\nWhen I execute the Gradle build, everything is working and it runs the jUnit tests.</p>\n\n<p>After that when I run the Gradle test I get the following:</p>\n\n<pre><code>C:\\Users\\..\\..\\Project&gt;gradle test\n:compileJava UP-TO-DATE\n:processResources UP-TO-DATE\n:classes UP-TO-DATE\n:compileTestJava UP-TO-DATE\n:processTestResources UP-TO-DATE\n:testClasses UP-TO-DATE\n:test UP-TO-DATE\n</code></pre>\n\n<p>When I perform <code>gradle clean</code>, then Gradle build works, of course...\nI want to be able to reset only the tests, not build the whole project: how should I do this?</p>\n"},{"comments":[{"comment_id":134494799,"body":"Normally I don’t criticize someone’s spelling, but it’s pretty ironic that you couldn’t be bothered to spell “service” properly in your first sentence, when literally the first word of your code is <code>@Service</code>.  The more effort readers must put into deciphering your question, the less likely you are to get answers."}],"last_activity_date":1684299605,"question_id":76265796,"body":"<p>I want to test my service class using Mockito.</p>\n<p><strong>THIS IS A SERVICE CLASS</strong></p>\n<pre><code>@Service\npublic class DataDeletionServiceImpl implements DataDeletionService {\n\n    /** The Constant LOGGER. */\n    private static final Logger LOGGER = LogManager.getLogger(DataDeletionServiceImpl.class.getName());\n\n    /** LOG_DELIMITER. */\n    private static final String LOG_DELIMITER = &quot;deleteExpiredData()# &quot;\n            + &quot;######################################################################&quot;;\n    \n    /** LOG_DELIMITER_SRC_IMG. */\n    private static final String LOG_DELIMITER_SRC_IMG = &quot;deleteExpiredDataFromSrcImgTable()# &quot;\n            + &quot;######################################################################&quot;;\n\n    /** The milliseconds per day. */\n    private static final long MILLISECONDS_PER_DAY = 86400000; // i.e 1 Day 1*24*60*60*1000\n\n    /** The processed data retention days. */\n    private int processedDataRetentionDays = 0;\n\n    /** The processed data retention days for OST_OCR_SRC_IMG table. */\n    private int processedDataRetentionDaysForSrcImg = 0;\n\n    /** The file repository. */\n    @Autowired\n    private FileRepository fileRepository;\n\n    /** The image source repository. */\n    @Autowired\n    private ImageSourceRepository imageSourceRepository;\n\n    /** The file source service. */\n    @Autowired\n    private FileSourceService fileSourceService;\n    \n    /** The image source service. */\n    @Autowired\n    private ImageSourceService imageSourceService;\n\n    /*\n     * (non-Javadoc)\n     * @see com.oversighttech.ocr.service.DataDeletionService#deleteExpiredData()\n     */\n    @Override\n    public void deleteExpiredData() {\n    LOGGER.info(LOG_DELIMITER);\n    LOGGER.info(&quot;Starting Delete Expired Data operation. Current Time: {}&quot;, LocalDateTime.now());\n    final long startTime = System.currentTimeMillis();\n\n// OCR will delete all OST_OCR_FILE records (and their children records say OST_OCR_FILE_DATA) which are\n// matching criteria like current time is greater than non null EXT_ACKNOWLEDGE_DATE + //data.retention.period\n        \nfinal long retentionDaysInMillis = getProcessedDataRetentionDays() * MILLISECONDS_PER_DAY;\nfinal Timestamp deleteEligibleTimestamp = new Timestamp(startTime - retentionDaysInMillis);\n\nLOGGER.info(&quot;deleteEligibleTimestamp={}, processedDataRetentionDays={}&quot;, deleteEligibleTimestamp,\n            processedDataRetentionDays);\n    final boolean isDetailLoggingEnabled = parseBoolean(getProperty(IS_DELETED_FILE_DETAIL_LOGGING_ENABLED.name()));\n\n        long count = 0;\n        try {\n            if (isDetailLoggingEnabled) {\n                LOGGER.info(&quot;Delete Expired File Records in Batch of 100&quot;);\n                while (true) {\n                    final List&lt;FileEntity&gt; files = fileRepository\n                            .findTop100ByExtAcknowledgeDateBeforeOrderById(deleteEligibleTimestamp);\n                    // break loop if no files to delete\n                    if (files.isEmpty()) {\n                        LOGGER.info(&quot;Expired File Records Not Found&quot;);\n                        break;\n                    }\n                    fileRepository.deleteInBatch(files);\n                    fileSourceService.deleteFiles(files);\n                    count = count + files.size();\n                    for (final FileEntity fe : files) {\n                        LOGGER.info(\n                            &quot;Deleted Expired File Record with fileName={}, extAcknowledgeDate={}, id={}, parentFileId={}&quot;,\n                            fe.getFileName(), fe.getExtAcknowledgeDate(), fe.getId(), fe.getParentFileId());\n                    }\n                }\n            } else {\n                LOGGER.info(&quot;Delete All Expired File Records&quot;);\n                final List&lt;FileEntity&gt; files = fileRepository.findByExtAcknowledgeDateBefore(deleteEligibleTimestamp);\n                count = fileRepository.deleteByExtAcknowledgeDateBefore(deleteEligibleTimestamp);\n                fileSourceService.deleteFiles(files);\n            }\n        } catch (final Exception e) {\n            LOGGER.error(&quot;Exception While Deleting Expired File Records.&quot;, e);\n        }\n\n        final long totalTime = System.currentTimeMillis() - startTime;\n        LOGGER.info(&quot;Completed Delete Expired Data operation in {} milliseconds. {} Files deleted&quot;, totalTime, count);\n        LOGGER.info(LOG_DELIMITER);\n    }\n\n\n/**\n     * Gets the processed data retention days.\n     *\n     * @return the processed data retention days seconds\n     */\n    private int getProcessedDataRetentionDays() {\n        if (processedDataRetentionDays == 0) {\n            processedDataRetentionDays = Integer\n                    .parseInt(getProperty(OcrConfigKeys.PROCESSED_DATA_RETENTION_DAYS.name()));\n        }\n        return processedDataRetentionDays;\n    }\n</code></pre>\n<p>Only this much i have tried This is a JUnit test class for the DataDeletionServiceImpl class. It uses Mockito annotations to create mock objects for the FileRepository, ImageSourceRepository, FileSourceService, and ImageSourceService dependencies.</p>\n<p>The DataDeletionServiceImpl object is then created and injected with these mock objects using the @InjectMocks annotation.</p>\n<p>The deleteExpiredData() method of the DataDeletionServiceImpl class is tested using the assertThat() method to check that the totalTime variable is not null., i dont know how to proceed</p>\n<pre><code>@ExtendWith(SpringExtension.class)\npublic class DataDeletionServiceImplTest {\n\n    @Mock\n    private FileRepository fileRepository;\n\n    /** The image source repository. */\n    @Mock\n    private ImageSourceRepository imageSourceRepository;\n\n    /** The file source service. */\n    @Mock\n    private FileSourceService fileSourceService;\n    \n    /** The image source service. */\n    @Mock\n    private ImageSourceService imageSourceService;\n    \n    private \n    \n    @InjectMocks\n    DataDeletionServiceImpl dataDeletionServiceImpl = new DataDeletionServiceImpl();\n    \n\n    @Test\n    public void deleteExpiredData() {\n        MockitoAnnotations.initMocks(this);\n        \n        \n        dataDeletionServiceImpl.deleteExpiredData();\n        \n        System.out.println(IS_DELETED_FILE_DETAIL_LOGGING_ENABLED.name());\n        final long startTime = System.currentTimeMillis();\n        final long totalTime = System.currentTimeMillis() - startTime;\n        \n        assertThat(totalTime).isNotNull();\n     }\n</code></pre>\n"},{"last_activity_date":1684299454,"question_id":76254245,"body":"<p>I am looking to get the list of physical cameras on my device using Android SDK 31 target on a  SDK33 required device... but the returned camera id by\nmanager.getCameraIdList() doesnt have a list of compatible devices I am using CameraView library if that's relevant. I am looking for alternative solutions to find the logical and physical cameras</p>\n<pre><code>  protected final boolean collectCameraInfo(@NonNull Facing facing) {\n        int internalFacing = mMapper.mapFacing(facing);\n        String[] cameraIds = null;\n        try {\n            cameraIds = mManager.getCameraIdList();\n        } catch (CameraAccessException e) {\n            // This should never happen, I don't see how it could crash here.\n            // However, let's launch an unrecoverable exception.\n            throw createCameraException(e);\n        }\n        LOG.i(&quot;collectCameraInfo&quot;, &quot;Facing:&quot;, facing,\n                &quot;Internal:&quot;, internalFacing,\n                &quot;Cameras:&quot;, cameraIds.length);\n        //Context ctx =getCallback().getContext();\n        for (String cameraId : cameraIds) {\n            try {\n\n                CameraCharacteristics characteristics = mManager.getCameraCharacteristics(cameraId);\n\n                if(!CamerasDataInfo.containsKey(cameraId))\n                {\n                    String cameraName = characteristics.get(CameraCharacteristics.LENS_FACING).toString();\n                    CameraDataInfo camInfo =new CameraDataInfo();\n                    camInfo.CameraId = cameraId;\n                    camInfo.CameraName =&quot;&quot;;\n                    CamerasDataInfo.put(cameraId,camInfo);\n                }\n                int[] capabilities = Arrays.stream(characteristics.get(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES)).toArray();\n                Boolean containsMultipleCameras  = Arrays.stream(capabilities).anyMatch( x-&gt; x ==CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_LOGICAL_MULTI_CAMERA);\n                if(containsMultipleCameras)\n                {\n                    Object[] physicalCamerasIds = characteristics.getPhysicalCameraIds().toArray();\n                    for(Object physicalCamera :physicalCamerasIds){\n                        String physicalId =physicalCamera.toString();\n                        if(!CamerasDataInfo.containsKey(cameraId)){\n                            CameraDataInfo physicalDataInfo = new CameraDataInfo();\n                            physicalDataInfo.CameraId = physicalId;\n                            CamerasDataInfo.put(physicalId,physicalDataInfo);\n                        }\n                    }\n\n                }\n                if (internalFacing == readCharacteristic(characteristics,\n                        CameraCharacteristics.LENS_FACING, -99)) {\n                    mCameraId = cameraId;\n                    int sensorOffset = readCharacteristic(characteristics,\n                            CameraCharacteristics.SENSOR_ORIENTATION, 0);\n                    getAngles().setSensorOffset(facing, sensorOffset);\n                    return true;\n                }\n            } catch (CameraAccessException ignore) {\n                // This specific camera has been disconnected.\n                // Keep searching in other camerIds.\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"comments":[{"comment_id":133083412,"body":"If you want openjdk: <code>brew install openjdk</code> <a href=\"https://formulae.brew.sh/formula/openjdk\" rel=\"nofollow noreferrer\">https://formulae.brew.sh/formula/openjdk</a>"}],"answers":[{"comments":[{"comment_id":116384727,"body":"How can I install an older java version?"},{"comment_id":116506791,"body":"Oh, this is a good question @kikulikov, maybe try this, ymmv: <a href=\"https://github.com/AdoptOpenJDK/homebrew-openjdk\" rel=\"nofollow noreferrer\">github.com/AdoptOpenJDK/homebrew-openjdk</a>"},{"comment_id":117424629,"body":"when I do <code>brew install java</code> I get <code>Error: No available formula or cask with the name &quot;java&quot;. It was migrated from homebrew&#47;cask to homebrew&#47;core.</code>  (preceded by <code>These similarly named formulae were found: app-engine-java...</code>)"},{"comment_id":117535280,"body":"@Sigfried are you on the latest version of brew?"},{"comment_id":117547495,"body":"@TimFulmer I think I am now. I managed to fix whatever problem is was that triggered that 3-day episode of yak shaving. It eventually involved reinstalling brew, ruby, rvm, java, possibly xcode, and every executable file on my computer with an odd number of bytes. Thanks for asking! :)"},{"comment_id":117681243,"body":"Haha @Sigfried! Yes, the wipe everything approach. Been there, done that plenty. Personally, I use <code>brew</code> for system packages (sometimes java), <code>nvm</code> for node, and for python please please be very careful to use proper virtual environments. Modifying the system python on any distro has never gone well for me."},{"comment_id":125138806,"body":"And don&#39;t overlook to create a symlink: <code>For the system Java wrappers to find this JDK, symlink it with sudo ln -sfn &#47;opt&#47;homebrew&#47;opt&#47;openjdk&#47;libexec&#47;openjdk.jdk &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;openjdk.jdk</code> :)"},{"comment_id":129516746,"body":"Thanks for the symlink comment @bathyscapher. This was missing from the question and is an essential step (I had installed openjdk but still got an error). I&#39;ve edited the question to add the symlink."},{"comment_id":129633274,"body":"Instead of /opt/homebrew I had to do symlink to directory in /usr/local/opt and the way I was able to get the correct location was to run <code>brew info openjdk</code> and run the command after &#39;For the system Java wrappers to find this JDK, symlink it with&#39; which in my case was <code>sudo ln -sfn &#47;usr&#47;local&#47;opt&#47;openjdk&#47;libexec&#47;openjdk.jdk &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;openjdk.jdk</code>"},{"comment_id":130328001,"body":"On my Mac running Big Sur, I had to do: sudo ln -sfn /usr/local/Cellar/openjdk/18.0.2.1/libexec/openjdk.jdk \\       /Library/Java/JavaVirtualMachines/openjdk.jdk"},{"comment_id":131763462,"body":"I had to <code>source ~&#47;.zshrc</code> after symlinking"},{"comment_id":132517127,"body":"You can easily find the symlink by running  <code>brew info openjdk@your-java-version</code> and your symlink will be specified in the response"},{"comment_id":132527220,"body":"If you are skeptical of the idea of need for <code>sudo ln</code>, the command is given after the installation of the package from <code>brew</code>. You can see this recommendation by running <code>brew info java</code>/<code>brew info openjdk</code>."},{"comment_id":132906267,"body":"For the symlink I had to do following: sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk. Double check with &quot;brew info java&quot; which symlink you have to trigger"},{"comment_id":133479717,"body":"@ElijahLofgren info of <code>brew info openjdk</code> provided me the same solution as the post. Thanks!"}],"answer_id":65601197,"body":"<p>Turns out <code>java</code> has been moved into brew core recently, so the correct command as of August 2022 is:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>brew install java\n</code></pre>\n<p>Then check your installation by running</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -version\n</code></pre>\n<p>If the result does <em>not</em> looks like this:</p>\n<pre><code>openjdk 18.0.2 2022-07-19\nOpenJDK Runtime Environment Homebrew (build 18.0.2+0)\nOpenJDK 64-Bit Server VM Homebrew (build 18.0.2+0, mixed mode, sharing)\n</code></pre>\n<p>but like this:</p>\n<pre><code>The operation couldn’t be completed. Unable to locate a Java Runtime.\nPlease visit http://www.java.com for information on installing Java.\n</code></pre>\n<p>Then you also need to create a symlink for the system Java wrappers to find this JDK:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk \\\n     /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n"},{"comments":[{"comment_id":128821351,"body":"java -version returns 8 but 11 is installed."},{"comment_id":128893256,"body":"Are you sure the installation of java 11 was successful?"},{"comment_id":130201005,"body":"Perhaps you installed java from java.com prior to this? If so follow the instructions found here to remove it.  <a href=\"https://www.java.com/en/uninstall/uninstall_instructions.html#macOS\" rel=\"nofollow noreferrer\">java.com/en/uninstall/uninstall_instructions.html#macOS</a> for macos use: <code>sudo rm -fr &#47;Library&#47;Internet\\ Plug-Ins&#47;JavaAppletPlugin.plugin sudo rm -fr &#47;Library&#47;PreferencePanes&#47;JavaControlPanel.prefPane sudo rm -fr ~&#47;Library&#47;Application\\ Support&#47;Oracle&#47;Java</code>"},{"comment_id":131979261,"body":"To symlink it, just use <code>brew link openjdk@11</code> instead."}],"answer_id":70786302,"body":"<p>As an add-on to the accepted answer: to install a certain version of Java, e.g. version 11, run:</p>\n<pre><code>brew install openjdk@11\n</code></pre>\n<p>And symlink it:</p>\n<pre><code>sudo ln -sfn /opt/homebrew/opt/openjdk@11/libexec/openjdk.jdk \\\n     /Library/Java/JavaVirtualMachines/openjdk-11.jdk\n</code></pre>\n"},{"comments":[{"comment_id":130787950,"body":"<code>brew info java</code> shows the current command to run, this was the same for me too"}],"answer_id":73550317,"body":"<p>I had to <code>sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk</code></p>\n"},{"answer_id":74694935,"body":"<p>If you want to install the Oracle version of java's SDK with homebrew, use the following command:</p>\n<pre><code>brew install --cask oracle-jdk\n</code></pre>\n<p>If you don't care, then use the accepted answer by @Tim Fulmer to get the OpenJDK version</p>\n<p><code>brew install java</code></p>\n"},{"comments":[{"comment_id":133910407,"body":"Great answer.  Was only by following your suggestions that I finally got all this to work.  Thanks!"}],"answer_id":75094034,"body":"<p>Assembled from the answers here and <a href=\"https://stackoverflow.com/questions/21964709/how-to-set-or-change-the-default-java-jdk-version-on-macos\">How to set or change the default Java (JDK) version on macOS?</a>:</p>\n<p>You can use brew to install multiple java versions and run a command to switch between the versions as required.</p>\n<p><strong>Example</strong></p>\n<p>Install two java versions (change java versions as pleased):<br></p>\n<pre><code>brew install openjdk@19\nbrew install openjdk@8\n</code></pre>\n<p>Use the following command to see the installed versions:<br></p>\n<pre><code> /usr/libexec/java_home -V\n</code></pre>\n<p>you should see the two versions specified in the response (if not, read further to create a symlink). Now you can select the java version using:<br></p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 8`\n</code></pre>\n<p>verify selected version:<br></p>\n<pre><code>java -version\n</code></pre>\n<p>you can further export the JAVA_HOME variable in your shell init file as speciifed in the attached SOF thread.</p>\n<p>Now, in case you do not see the java version in <code>/usr/libexec/java_home</code> as expected and the version selection of that missing version is not working, <strong>you might need to add a symlink</strong>:</p>\n<p>Executing <code>brew info openjdk@the-missing-java-version</code>should return the location of the installed version and will specify a symlink command that you should run for the system to find the SDK. The response text look something similar to:</p>\n<pre><code>...For the system Java wrappers to find this JDK, symlink it with\n  sudo ln -sfn /opt/homebrew/opt/openjdk@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk-17.jdk...\n</code></pre>\n"},{"comments":[{"comment_id":133369154,"body":"Update for recent Homebrew builds: <code>sudo ln -sfn &#47;opt&#47;homebrew&#47;Cellar&#47;openjdk&#47;19.0.2&#47;libexec&#47;openjdk.jdk &#47;Library&#47;Java&#47;JavaVirtualMachines&#47;openjdk.jdk</code>"}],"answer_id":75137601,"body":"<p>run</p>\n<pre><code>brew reinstall openjdk\n</code></pre>\n<p>and it will display the following which shows your file path:</p>\n<pre><code>    For the system Java wrappers to find this JDK, symlink it with\n  sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n\nopenjdk is keg-only, which means it was not symlinked into /usr/local,\nbecause macOS provides similar software and installing this software in\nparallel can cause all kinds of trouble.\n\nIf you need to have openjdk first in your PATH, run:\n  echo 'export PATH=&quot;/usr/local/opt/openjdk/bin:$PATH&quot;' &gt;&gt; /Users/gerarddonnelly/.bash_profile\n\nFor compilers to find openjdk you may need to set:\n  export CPPFLAGS=&quot;-I/usr/local/opt/openjdk/include&quot;\n</code></pre>\n<p>I then ran the code below, which I took from the output above:</p>\n<pre><code>sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n<p>The other issue I had was that Elasticsearch was not recognising my JAVA version. To fix that I added the following line to my .bash_profile</p>\n<pre><code>EXPORT JAVA_HOME=$(/usr/libexec/java_home) \n</code></pre>\n<p>then I ran</p>\n<pre><code>source ~/.bash_profile \n</code></pre>\n<p>to refresh my profile.</p>\n<p>After that it worked.</p>\n<p>Hope this helps.</p>\n"},{"comments":[{"comment_id":133411495,"body":"Do you mind elaborating? How does this differ from the other answers?"},{"comment_id":133581285,"body":"it is exact set of code that is required."}],"answer_id":75611614,"body":"<pre><code>brew tap homebrew/cask-versions\nbrew update\nbrew install openjdk@19\n\n\nsudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\necho 'export PATH=&quot;/usr/local/opt/openjdk/bin:$PATH&quot;' &gt;&gt; ~/.zshrc\n</code></pre>\n"},{"answer_id":75974077,"body":"<p>After multiple tries, here is a recipe that allows for me to switch between the different versions of OpenJDK and this approach appears to work on Ventura.</p>\n<p>First, install all the necessary OpenJDK versions (for me I needed 8, 11, 17, and 20)</p>\n<pre><code>brew install openjdk@8\nbrew install openjdk@11\nbrew install openjdk@17\nbrew install openjdk@20\n</code></pre>\n<p>Update the wrapper, as recommended in the multiple postings: <code>sudo rm -f /Library/Java/JavaVirtualMachines/openjdk.jdk</code> and <code>sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk</code>.</p>\n<p>Update your <code>.zshrc</code> as follows</p>\n<pre><code>alias j8=&quot;export JAVA_HOME=/usr/local/opt/openjdk@8 ; java -version&quot;\nalias j11=&quot;export JAVA_HOME=/usr/local/opt/openjdk@11 ; java -version&quot;\nalias j17=&quot;export JAVA_HOME=/usr/local/opt/openjdk@17 ; java -version&quot;\nalias j20=&quot;export JAVA_HOME=/usr/local/opt/openjdk@20 ; java -version&quot;\n</code></pre>\n<p>To switch your version, run the alias <code>j8</code>, <code>j11</code>, etc.</p>\n<p>Don't forget to prepend the <code>$PATH</code> in your <code>~/.zshrc</code> with <code>export PATH=&quot;/usr/local/bin:/usr/local/sbin:$PATH&quot;</code> otherwise the system java will have precedent.</p>\n<p>Note that this approach is particularly useful because I rely on <code>brew</code> as my primary (and arguably most consistent) package manager.</p>\n"}],"last_activity_date":1684299171,"question_id":65601196,"body":"<p>I'd like to setup java on a new OS X machine, and prefer to use brew for OS X package management. How can I install latest java using brew?</p>\n"},{"answers":[{"comments":[{"comment_id":39756571,"body":"if you see there is a setMethod on my Display class."},{"comment_id":39756627,"body":"@YokupokuMaioku it&#39;s preffered to make the initialisation of the context in the constructor , in your case , can you tell us when you have called the doSomthing() method , because it depends on the call position if it&#39;s before or after the setting of the context"},{"comment_id":39756666,"body":"what you said is all right, but the method is called after the context&#39;s setting, that&#39;s is weird."},{"comment_id":39756671,"body":"and in your case your context is not initialised to null , so in all cases it will not be set"}],"answer_id":25474980,"body":"<p>Add the initialisation of the context to the Constructor like this :</p>\n\n<pre><code>public Display(Context context){ \n       this.context = context;\n   } \n</code></pre>\n"},{"answer_id":76268618,"body":"<p>The correct approach is to initialize the context in the constructor of the Display class. By doing so, you ensure that the context is properly set when the Display object is created, avoiding the null pointer exception when calling getResources() on a null context. Here's an example of how to implement it:</p>\n<pre><code>    class Display {\n    private Context context;\n\n    public Display(Context context) {\n        this.context = context;\n    }\n\n    public void doSomething() {\n        Bitmap bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.custom_marker);\n        // Rest of the code...\n    }\n}\n</code></pre>\n<p>Make sure to update the constructor of the Display class to accept a Context parameter and assign it to the context field. This way, the context will be available when calling getResources() in the doSomething() method.</p>\n"}],"last_activity_date":1684298608,"question_id":25474914,"body":"<p>i' m getting nullPoint exception on <code>getResources()</code> method. I'm starting the activity below from an another class with this:</p>\n\n<pre><code>Intent intent = new Intent(getActivity(), FooActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n\n<p>and from the <code>activity</code> called, i have set the context that is used by a not-Activity class.</p>\n\n<pre><code>class FooActivity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    [...]\n    Display display  = new Display(...);\n    display.setContext(this.getApplicationContext());\n  }\n}\n</code></pre>\n\n<p>class that use the <code>getResources()</code> method:</p>\n\n<pre><code>class Display{\n   private static Context context;\n\n   public Display(...){ } \n\n   public void doSomething(){\n     **** NullPoint exception Row ****\n    Bitmap bitmpa = BitmapFactory.decodeResource(context.getResources(), R.drawable.custom_marker);\n   }\n\n   public void setContext(Context context) {\n     if (context == null)\n      this.context = context;\n    }\n}\n</code></pre>\n\n<p><strong>my Logcat:</strong></p>\n\n<pre><code>08-24 20:18:46.656: E/AndroidRuntime(10526): FATAL EXCEPTION: main\n08-24 20:18:46.656: E/AndroidRuntime(10526): java.lang.NullPointerException\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at com.graphic.core.Display.doSomething(Display.java:43)\nandroid.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at android.os.Handler.dispatchMessage(Handler.java:99)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at android.os.Looper.loop(Looper.java:137)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at android.app.ActivityThread.main(ActivityThread.java:4895)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at java.lang.reflect.Method.invokeNative(Native Method)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at java.lang.reflect.Method.invoke(Method.java:511)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:994)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:761)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p><strong><em>is the context  not set properly , that cause the nullPoint?</em></strong></p>\n"},{"comments":[{"comment_id":134496015,"body":"The syntax is <code>import &lt;package-name&gt;;</code>, not <code>import package &lt;package-name&gt;;</code>."},{"comment_id":134496072,"body":"Packages should be named all lower case. <code>models</code> and <code>tests</code> should be fine"}],"last_activity_date":1684297832,"question_id":76268563,"body":"<p>I am trying to import a custom package in Java. I have 2 Java files in different package inside a single project:</p>\n<ol>\n<li><p><code>POMLogin.java</code> and its package name is <code>PageObjectModelsforTests</code>.</p>\n</li>\n<li><p><code>LoginTest.java</code> and its package name is <code>Tests</code>.</p>\n</li>\n</ol>\n<p>Inside <code>LoginTest.java</code> I am trying to write:</p>\n<pre><code>package Tests;\n\nimport package PageObjectModelsforTests.POMLogin;\n</code></pre>\n<p>But I am getting error. Kindly assist! I would like to access methods of POM file in my test file.</p>\n<p><a href=\"https://i.stack.imgur.com/Z1aSw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z1aSw.png\" alt=\"picture\" /></a></p>\n"},{"comments":[{"comment_id":134494862,"body":"I&#39;m curious, why didn&#39;t the post below help or even answer your question?"},{"comment_id":134496021,"body":"sorry about wating, I&#39;m gonna add another answer"}],"answers":[{"answer_id":76238472,"body":"<p>You can follow <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a>, all are multi-tenant. All configured for &quot;static&quot; multi-tenancy, <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_multitenant_dynamic\" rel=\"nofollow noreferrer\">but one</a> which demoes conf for &quot;dynamic&quot; tenants.</p>\n<p>Some are using just Spring Boot &quot;official&quot; starters and some are using thin wrappers around it. With the latest, you can configure a <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default\" rel=\"nofollow noreferrer\">resource server</a> to accept JWTs issued by as many realms as you want with almost 0 Java conf:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;com.c4-soft.springaddons.version&gt;6.1.9&lt;/com.c4-soft.springaddons.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-addons-webmvc-jwt-resource-server&lt;/artifactId&gt;\n        &lt;version&gt;${com.c4-soft.springaddons.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableMethodSecurity\npublic static class WebSecurityConfig {\n}\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>scheme: http\norigins: ${scheme}://localhost:4200,${scheme}://localhost:8080,${scheme}://localhost:8100\nauth-server: https://localhost:8443\n\ncom:\n  c4-soft:\n    springaddons:\n      security:\n        cors:\n        - path: /solutions/**\n          allowed-origins: ${origins}\n        issuers:\n        - location: ${auth-server}/realms/realm1\n          username-claim: $.preferred_username\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        - location: ${auth-server}/realms/realm2\n          username-claim: $.preferred_username\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        - location: ${auth-server}/realms/realm3\n          username-claim: $.preferred_username\n          authorities:\n          - path: $.realm_access.roles\n          - path: $.resource_access.*.roles\n        permit-all:\n        - /actuator/health/readiness\n        - /actuator/health/liveness\n        - /v3/api-docs/**\n\nserver:\n  ssl:\n    enabled: false\n\n---\nscheme: https\n\nserver:\n  ssl:\n    enabled: true\n\nspring:\n  config:\n    activate:\n      on-profile: ssl\n</code></pre>\n<p>If the realms are generated at runtime (after the resource servers are started), but you don't want to use &quot;my&quot; starters, then you'll have to refer to <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/multitenancy.html#_dynamic_tenants\" rel=\"nofollow noreferrer\">Spring Security reference documentation</a>.</p>\n"},{"comments":[{"comment_id":134496081,"body":"What is different from what is explained in the tutorials linked above (those with just boot &quot;offical&quot; starters like <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">this one</a>)? How much more simple is it compared to the solution detailed in tmy answer (using &quot;my&quot; starters)? Last, the link you provide is the one at the end of my answer..."},{"comment_id":134513169,"body":"Yep I didn&#39;t see your link bellow answer. Marked your answer as a solution."}],"answer_id":76268565,"body":"<p>Finaly I found the way to build multy-tenancy using Spring Boot:</p>\n<p><a href=\"https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/multitenancy.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/reactive/oauth2/resource-server/multitenancy.html</a></p>\n"}],"last_activity_date":1684297763,"question_id":76235506,"body":"<p>I have a Spring Boot 3 microservice and a standalone keycloak which has multiple realms. Users can call endpoints and pass the &quot;Authorization&quot; header there, which contains the Bearer jwt token, which specifies one of the existing realms.</p>\n<p>How is it possible to implement this behavior when the spring boot microservice accesses the required realm to authenticate the current request, determining the realm dynamically based on the request?</p>\n<p>Please note that I am using Spring boot v3.0.6.\nPreviously worked based on the topic <a href=\"https://stackoverflow.com/questions/69721544/spring-boot-keycloak-multi-tenant-configuration\">Spring Boot Keycloak Multi Tenant Configuration</a> but now we can't use previous approach as was said there <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\">Use Keycloak Spring Adapter with Spring Boot 3</a></p>\n<p>I have only one idea's create few oauth2 providers for each realm and somehow implement the choice for target provider in runtime.\nThank you very much in advance!</p>\n"},{"comments":[{"comment_id":126253849,"body":"Hi @user16320675, that is not what I&#39;m looking for. From what I understand that will return me the implementationVersion but please take a look on attached image. Also, have you tryed what you suggest? Is not a solution for my issue but also doesn&#39;t work me, but anyway I tried on my void main and doesn&#39;t work. Regards, Gaspar."},{"comment_id":126254470,"body":"@user16320675 Yes, is a Windows explorer image. I specifically detail in my question what is what I&#39;m looking for: find the product version under right mouse click -&gt; details -&gt; &quot;product version&quot; like in a .exe. Anyway, I don&#39;t have in my project a MANIFEST.MF, it generates automatically when I do a &quot;package&quot; of my project afterwards."},{"comment_id":126254481,"body":"@user16320675 However, accesing to the Implementation-Version on MANIFEST.MF on code it will not turn to a solution to me because I already have it on my pom.xml. I want a easy access version check of my .jar and it could not be on the name of the .jar itself, I don&#39;t know if I explain me correctly. Sorry if my previous answer seemed rude, English is not my main language and I try my best. Regards, Gaspar."}],"answers":[{"comments":[{"comment_id":126253565,"body":"Hi Rob, thanks for your answer. This still not help me about what I&#39;m looking for."}],"answer_id":71428988,"body":"<p>A JAR file itself can't have a version. But you're using Maven, and that means you can already access the Maven version:</p>\n<pre><code>try (InputStream inputStream = getClass().getResourceAsStream(&quot;/META-INF/maven/&lt;groupId&gt;/&lt;artifactId&gt;/pom.properties&quot;)) {\n    Properties properties = new Properties();\n    properties.load(inputStream);\n    // available properties:\n    // - artifactId=xxx\n    // - groupId=xxx\n    // - version=xxx\n}\n</code></pre>\n<p>Note that this often doesn't work in unit tests (especially when run from IDEs) because the files are only added to the JAR file.</p>\n"},{"comments":[{"comment_id":126253540,"body":"Yea, but from what I understand I will still have to access inside of the .jar in order to check the .jar version. Also I forgot to mention that my .jar filename have to remain exactly the same so the service that runs the .jar has no problems. As I said, it is an API Rest .jar that runs in background, I do not have and should not show anything on &quot;screen&quot; about the version in addition to what is shown in the attached image"},{"comment_id":126253988,"body":"Also I&#39;m trying to do that and I&#39;m getting the error &quot;Cannot return a value from a method with void result type&quot;. Where should I do that, on my only void main?"}],"answer_id":71429002,"body":"<p>Just include a text file anywhere in your jar. Build systems of all stripes make this trivial. Then write in your code that you read out this text file with the version, and show it on screen.</p>\n<p>In maven, gradle, etc, to include a plain text file in the jar, just put it in <code>src/main/resources/version.txt</code> and it gets included automatically.</p>\n<p>To read it in java:</p>\n<pre><code>public class Main {\n  public static String getVersion() {\n    try (var in = Main.class.getResourceAsStream(&quot;/version.txt&quot;)) {\n      return new String(in.readAllBytes(), StandardCharsets.UTF_8);\n    }\n  }\n}\n</code></pre>\n<p>This:</p>\n<ul>\n<li>Asks the classloader to load version.txt using the same systems that load <code>.class</code> files.</li>\n<li>reads that inputstream fully, and turns it into a string using the UTF_8 encoding.</li>\n<li>Uses try-with-resources because, it's a resource, you have to do that if you don't want leaks.</li>\n</ul>\n"},{"answer_id":76268550,"body":"<p>If you don't necessarily need the exact version, a mnemonic strategy I've seen is to touch the file timestamp. It may not be suitable and/or you'll have to determine what to do for numbers that fall outside the scope of a timestamp.</p>\n<p>eg Use Powershell to set the LastWriteTime (or CreationTime) to match v2.3.4 -&gt; 02:03:04</p>\n<pre><code>$ff = Get-Item my.jar\n$ff.LastWriteTime         # Monday, 24 April 2023 16:25:56\n$ff.LastWriteTime = $(Get-Date &quot;24-apr-2023 02:03:04&quot;)\n$ff.LastWriteTime         # Monday, 24 April 2023 02:03:04\n</code></pre>\n<p>LastWriteTime will show up in the &quot;Date Modified&quot; column of Windows Explorer.</p>\n"}],"last_activity_date":1684297458,"question_id":71428916,"body":"<p>I'm looking to add a product version number to appear in my .jar file information. Currently I'm using Maven in my Spring boot project for API Rest.</p>\n<p>I have read a lot of solutions about the manifest versioning. There you have to decompress and access to the META-INF/MANIFEST.MF to check the Implementation-Version. That's too tedious for what I'm looking for.</p>\n<p>Like for a .exe. where you can found it under right mouse click -&gt; details -&gt; &quot;product version&quot; or simply checking on File Version column as shown on image. <a href=\"https://i.stack.imgur.com/UZTlu.png\" rel=\"nofollow noreferrer\">Example of a file version description</a>.</p>\n<p>Also I read that JAR file is a file format based on the popular ZIP file format and is used for aggregating many files into one. Kinda that I'm looking to add a file version to .zip, but I want to ask anyway if that is possible.</p>\n<p>Regards, Gaspar.</p>\n"},{"comments":[{"comment_id":134495516,"body":"You are asking about code that is not behaving as expected, a common issue. Also, you&#39;re not new here, and so should be quite familiar with the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> link, why it is recommended in this situation and why it would be quite helpful for you and for us. So, I have to ask, why not post a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with your question?"},{"comment_id":134495528,"body":"@HovercraftFullOfEels I have tried to do so. But the code to generate the problem in question is quite large. I will try to create a quick window with a canvas and a dot then as an example. Sorry about that!"},{"comment_id":134495538,"body":"As you probably know, this is usually the case, and that is why the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> link recommends that you create a new small program, one that isolates the problem from the rest of the code so that the issue is easy to see, easy to analyze and easy to fix. Always best to do this before asking, if at all possible."},{"comment_id":134495564,"body":"@HovercraftFullOfEels added! Sorry about that! Made it as small as possible!"},{"comment_id":134495604,"body":"<code>Canvas</code> is not the best choice for this, use a <code>JPanel</code> instead"},{"comment_id":134495635,"body":"I would, instead, start with a pluggable rendering workflow, which could be used to render directly to any given <code>Graphics</code>.  I&#39;d then use it to paint on to a component or a <code>Printable</code> directly"},{"comment_id":134495673,"body":"Did you write <code>ComponentPrinter</code> yourself?"},{"comment_id":134495872,"body":"@g00se No, it&#39;s mine 😱"},{"comment_id":134502543,"body":"@MadProgrammer yup yup, I linked to your answer. Just had to provide a compilable example, so I included your code. Also thanks for suggesting to use pluggable workflow."}],"answers":[{"comments":[{"comment_id":134502573,"body":"How would one know which components are not printable?"},{"comment_id":134508922,"body":"Well, since <code>Printable</code> is a <code>Swing</code> based concept, I would suggest that only Swing based components are likely to support it.  I would also, personally, discourage the printing of Swing components directly like this, as there are significant differences between screen rendering and paper rendering"},{"comment_id":134510018,"body":"@Quillion See <a href=\"https://stackoverflow.com/questions/28427566/save-jpanel-as-image-hd-quality/28492187#28492187\">this example</a> for a demonstration of a &quot;renderable&quot; solution"}],"answer_id":76268508,"body":"<p>First, Don't use <code>Canvas</code> for this, I'm not sure it's &quot;printable&quot;, or at the very least, it didn't work for me.</p>\n<p>Instead, extend from <code>JPanel</code> instead...</p>\n<pre><code>JPanel canvas = new JPanel() {\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawOval(3, 3, 94, 94);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(100, 100);\n    }\n};\n</code></pre>\n<p>You should also avoid call <code>setBounds</code> and prefer to provide sizing hints instead.</p>\n<p>Second, choose the component you want to print carefully, for example, in your runnable code, you're passing <code>panel</code>, which will print both the button and the circle, instead, you should really only need to pass <code>canvas</code></p>\n<pre><code>print.addActionListener(e -&gt; printComponentToFile(canvas, false));\n</code></pre>\n<p>With these couple of fixes, it now outputs...</p>\n<p><a href=\"https://i.stack.imgur.com/gFLhI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gFLhI.png\" alt=\"enter image description here\" /></a></p>\n<p>I also thing that <code>if (comp.getParent() != null) {</code> is a mistake and instead should be <code>if (comp.getParent() == null) {</code></p>\n<p>You may also need to call</p>\n<pre><code>comp.revalidate();\ncomp.repaint();\n</code></pre>\n<p>after you've printed the component, but this is one of the many issues with trying to print a &quot;live&quot; component.</p>\n<p>Personally, I create a concept of a &quot;renderable question&quot;, which could be passed a <code>Graphics</code> context onto which it should be rendered.</p>\n<p>You could then create a &quot;renderable question sheet&quot; which would paint multiple &quot;questions&quot;.</p>\n<p>This could then be used by both a custom component and <code>Printable</code> independently, but that's me.</p>\n"}],"last_activity_date":1684296734,"question_id":76268285,"body":"<p>I am trying to help my son do math, so I made a small program.\nI have a JPanel with 12 Canvases and a giant print button on the bottom.</p>\n<p><a href=\"https://i.stack.imgur.com/V2BmM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V2BmM.png\" alt=\"Window I want to print\" /></a></p>\n<p>This is the listener I have attached on my print button.</p>\n<pre><code>    print.addActionListener(new ActionListener()\n    {\n        @Override\n        public void actionPerformed(ActionEvent e)\n        {\n            panel.remove(print);\n            window.pack();\n            printComponent(panel, false);\n            panel.add(print);\n            window.pack();\n        }\n    });\n</code></pre>\n<p>I have followed example from <a href=\"https://stackoverflow.com/questions/12764634/printing-a-jframe-and-its-components/12765916#12765916\">here</a> and sadly it doesn't work.\nWhen I pass JFrame as the component then it prints the whole window!\n<a href=\"https://i.stack.imgur.com/3ebIS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ebIS.png\" alt=\"Window printed!\" /></a>\nWhen I pass JPanel as the component then it only prints the print button!\n<a href=\"https://i.stack.imgur.com/M0yoA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M0yoA.png\" alt=\"Print button only printed!\" /></a></p>\n<p>If it is of any relevance I attach everything to the JFrame and JPanel like so:</p>\n<pre><code>panel.setBackground(Color.WHITE);\npanel.setLayout(/*layout stuff*/);\nwindow.setContentPane(panel);\nfor (int i = 0; i &lt; 12; i++)\n{\n    panel.add(/*canvas class which renders one single question*/);\n}\npanel.add(print, /*layout constraints*/);\n</code></pre>\n<p>I have even tried following examples from <a href=\"https://stackoverflow.com/questions/22241711/setting-print-size-of-a-jlabel-and-put-a-jradiobutton-on-the-print/22244116#22244116\">here</a> and <a href=\"https://stackoverflow.com/questions/22241711/setting-print-size-of-a-jlabel-and-put-a-jradiobutton-on-the-print/22242658#22242658\">here</a> and nothing works.\nI can't seem to just print jpanel with the canvas showing up, and I sure as heck do not want to print the whole window.\nAny advice on how to fix this?</p>\n<p>Here is small example code with same problem.</p>\n<pre><code>package carefree.school;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.awt.print.PageFormat;\nimport java.awt.print.Paper;\nimport java.awt.print.Printable;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class TestWindow\n{\n    public static void main(String[] args)\n    {\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n        Canvas canvas = new Canvas()\n        {\n            @Override\n            public void paint(Graphics g)\n            {\n                super.paint(g);\n                g.drawOval(3, 3, 94, 94);\n            }\n        };\n        canvas.setSize(100, 100);\n        JButton print = new JButton(&quot;Print&quot;);\n        frame.setContentPane(panel);\n        panel.add(canvas);\n        panel.add(print);\n        frame.setVisible(true);\n        frame.pack();\n        print.addActionListener(e -&gt; printComponentToFile(panel, false));\n    }\n\n    public static void printComponentToFile(Component comp, boolean fill)\n    {\n        Paper paper = new Paper();\n        paper.setSize(8.3 * 72, 11.7 * 72);\n        paper.setImageableArea(18, 18, 559, 783);\n\n        PageFormat pf = new PageFormat();\n        pf.setPaper(paper);\n        pf.setOrientation(PageFormat.PORTRAIT);\n\n        BufferedImage img = new BufferedImage((int) Math.round(pf.getWidth()), (int) Math.round(pf.getHeight()),\n                                              BufferedImage.TYPE_INT_RGB);\n\n        Graphics2D g2d = img.createGraphics();\n        g2d.setColor(Color.WHITE);\n        g2d.fill(new Rectangle(0, 0, img.getWidth(), img.getHeight()));\n        ComponentPrinter cp = new ComponentPrinter(comp, fill);\n        try\n        {\n            cp.print(g2d, pf, 0);\n        }\n        finally\n        {\n            g2d.dispose();\n        }\n\n        try\n        {\n            ImageIO.write(img, &quot;png&quot;, new File(&quot;Page-&quot; + (fill ? &quot;Filled&quot; : &quot;&quot;) + &quot;.png&quot;));\n        }\n        catch (IOException ex)\n        {\n            ex.printStackTrace();\n        }\n    }\n\n    public static class ComponentPrinter\n            implements Printable\n    {\n        private Component comp;\n        private boolean   fill;\n\n        public ComponentPrinter(Component comp, boolean fill)\n        {\n            this.comp = comp;\n            this.fill = fill;\n        }\n\n        @Override\n        public int print(Graphics g, PageFormat format, int page_index)\n        {\n            if (page_index &gt; 0)\n            {\n                return Printable.NO_SUCH_PAGE;\n            }\n\n            Graphics2D g2 = (Graphics2D) g;\n            g2.translate(format.getImageableX(), format.getImageableY());\n\n            double width  = (int) Math.floor(format.getImageableWidth());\n            double height = (int) Math.floor(format.getImageableHeight());\n\n            if (!fill)\n            {\n\n                width = Math.min(width, comp.getPreferredSize().width);\n                height = Math.min(height, comp.getPreferredSize().height);\n\n            }\n\n            comp.setBounds(0, 0, (int) Math.floor(width), (int) Math.floor(height));\n            if (comp.getParent() == null)\n            {\n                comp.addNotify();\n            }\n            comp.validate();\n            comp.doLayout();\n            comp.printAll(g2);\n            if (comp.getParent() != null)\n            {\n                comp.removeNotify();\n            }\n\n            return Printable.PAGE_EXISTS;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":53011203,"body":"android.R.drawable.btn_star ?"},{"comment_id":53011331,"body":"Yup.. @Rustam Using by default image of android."},{"comment_id":53011398,"body":"img2  is the target so did you checked it for null?"},{"comment_id":53011446,"body":"are you using correct layout? if so add you activity code."},{"comment_id":53011932,"body":"just clean and run again"},{"comment_id":53012281,"body":"Still facing problem... @Rustam"},{"comment_id":53015388,"body":"Where is the stack trace? and the indication of which line is throwing the exception?"}],"answers":[{"comments":[{"comment_id":53012514,"body":"I tried to check for the null using below code:  if (img2==null)         {             img2.setImageResource(android.R.drawable.btn_star);         }          else         {             Picasso.with(getApplicationContext()).load(&quot;<a href=\"https://pbs.twimg.com/profile_images/596282530652753921/bPf8NmOs.jpg&quot;\" rel=\"nofollow noreferrer\">pbs.twimg.com/pr&zwnj;&#8203;ofile_images/5962825&zwnj;&#8203;30652753921/&hellip;</a>)                     .placeholder(android.R.drawable.btn_star)                     .error(android.R.drawable.btn_star)                     .into(img2);          }"},{"comment_id":53012541,"body":"Then I received this error in logcat: Attempt to invoke virtual method &#39;void android.widget.ImageView.setImageResource(int)&#39; on a null object reference"},{"comment_id":53012623,"body":"your above comment clearly indicate your <code>img2</code> is <code>null</code>"},{"comment_id":53014730,"body":"@VimalDiwani You&#39;re trying to call a the function <code>setImageResource()</code> after making sure img2 is null... Of course you&#39;re getting that error! The point is to only do it if it is NOT null. If it&#39;s null then you need to check your ID&#39;s and stuff."}],"answer_id":32578881,"body":"<p><code>img2</code> is null, and you're passing that into the <code>into</code> function. </p>\n\n<p>Add a null check after <code>img2=(ImageView)findViewById(R.id.img2);</code> to check when it stops being null or whether it stays null while you're testing, or just to confirm that it is null.</p>\n\n<p>Check your layout ID's and make sure they're right for ALL the configurations, and make sure you have <code>@+id/img2</code> specified .</p>\n"},{"comments":[{"comment_id":53013659,"body":"he is using <code>R.id.img2</code> not <code>R.id.profile_image</code> in picasso.load();"},{"comment_id":53013728,"body":"yes, i know, but  i ask that he sure he load the correct layout ? because in his java code there is :  user_profile_pic=(ImageView)findViewById(R.id.profile_image)&zwnj;&#8203;; and in his xml it&#39;s doesn&#39;t include that id, even there is id img2 ."}],"answer_id":32579660,"body":"<p>are you sure load the correct layout ? because you have R.id.profile_image in Java file, but i didn't found that id in your xml file.</p>\n"},{"answer_id":32579701,"body":"<p>try to change it as..</p>\n\n<pre><code>Picasso.with(MainScreen.this).load(\"https://pbs.twimg.com/profile_images/596282530652753921/bPf8NmOs.jpg\")\n            .placeholder(android.R.drawable.btn_star)\n            .error(android.R.drawable.btn_star)\n           .into(img2);\n</code></pre>\n\n<p>also make sure that you are using the <code>activity_main_screen.xml</code> layout and check the id if img2 there.</p>\n"},{"comments":[{"comment_id":53014159,"body":"I see it works even when you use <code>https</code> protocol, but it did not work when any URL redirect to another <code>https</code> URL."}],"answer_id":32579796,"body":"<p>You can't download image from <strong>https</strong> using Picasso library.\nyou can use <a href=\"https://github.com/nostra13/Android-Universal-Image-Loader\" rel=\"nofollow\">this</a> library.</p>\n"}],"last_activity_date":1684296546,"question_id":32578278,"body":"<p>When I am passing image url to Picasso then it shows me error \"Target must not be null\". When I fetch image from url using Picasso then it shows me error. Even my id assigned to image is correct. At last I replaced the image url with static image, though I receive error as same.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class MainScreen extends AppCompatActivity {\n\nprivate ImageView user_profile_pic,img2;\nprivate ImageView like_button,dislike_button,location_button,refresh;\n\nprivate ArrayList&lt;String&gt; al;\nprivate ArrayAdapter&lt;String&gt; arrayAdapter;\nprivate int i;\n\nprivate SwipeFlingAdapterView flingContainer;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main_screen);\n\n\n    //Setting\n    user_profile_pic=(ImageView)findViewById(R.id.profile_image);\n    img2=(ImageView)findViewById(R.id.img2);\n\n    //Picasso.with(getApplicationContext()).load(\"https://pbs.twimg.com/profile_images/596282530652753921/bPf8NmOs.jpg\").into(user_profile_pic);\n\n    //Picasso.with(getApplicationContext()).load(android.R.drawable.btn_star).into(img);\n\n\n    Picasso.with(getApplicationContext()).load(\"https://pbs.twimg.com/profile_images/596282530652753921/bPf8NmOs.jpg\")\n            .placeholder(android.R.drawable.btn_star)\n            .error(android.R.drawable.btn_star)\n           .into(img2);\n\n\n    flingContainer = (SwipeFlingAdapterView) findViewById(R.id.frame);\n\n    al = new ArrayList&lt;&gt;();\n    al.add(\"php\");\n    al.add(\"c\");\n    al.add(\"python\");\n    al.add(\"java\");\n    al.add(\"html\");\n    al.add(\"c++\");\n    al.add(\"css\");\n    al.add(\"javascript\");\n\n    arrayAdapter = new ArrayAdapter&lt;&gt;(this, R.layout.custom_user_details, R.id.helloText, al );\n\n    flingContainer.setAdapter(arrayAdapter);\n\n    flingContainer.setFlingListener(new SwipeFlingAdapterView.onFlingListener() {\n        @Override\n        public void removeFirstObjectInAdapter() {\n\n            Log.d(\"LIST\", \"removed object!\");\n            al.remove(0);\n            arrayAdapter.notifyDataSetChanged();\n        }\n\n        @Override\n        public void onLeftCardExit(Object dataObject) {\n\n            Toast.makeText(getApplicationContext(),\"Left !\",Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onRightCardExit(Object dataObject) {\n\n            Toast.makeText(getApplicationContext(),\"Right !\",Toast.LENGTH_SHORT).show();\n        }\n\n        @Override\n        public void onAdapterAboutToEmpty(int itemsInAdapter) {\n\n            al.add(\"XML \".concat(String.valueOf(i)));\n            arrayAdapter.notifyDataSetChanged();\n            Log.d(\"LIST\", \"notified\");\n            i++;\n        }\n\n        @Override\n        public void onScroll(float scrollProgressPercent) {\n\n            try\n            {\n                View view = flingContainer.getSelectedView();\n                view.findViewById(R.id.item_swipe_right_indicator).setAlpha(scrollProgressPercent &lt; 0 ? -scrollProgressPercent : 0);\n                view.findViewById(R.id.item_swipe_left_indicator).setAlpha(scrollProgressPercent &gt; 0 ? scrollProgressPercent : 0);\n            }\n            catch (NullPointerException e) {\n                Log.e(\"tag\", \"NullPointerException\" + e);\n            }\n\n        }\n    });\n\n    //flingContainer.getTopCardListener().selectRight(); To remove view from right side while pressing button\n\n}\n\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.menu_main_screen, menu);\n    return true;\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n\n    //noinspection SimplifiableIfStatement\n    if (id == R.id.action_settings) {\n        return true;\n    }\n\n    return super.onOptionsItemSelected(item);\n}\n\n}\n</code></pre>\n\n<p>And this is what my xml is:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_gravity=\"center\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:layout_weight=\"80\"&gt;\n\n            &lt;ImageView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:id=\"@+id/img2\"\n                android:src=\"@android:drawable/btn_star\"/&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:layout_weight=\"20\"\n            android:padding=\"8dp\"\n            android:orientation=\"horizontal\"&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"0dp\"\n                android:layout_height=\"40dp\"\n                android:layout_weight=\"1\"\n                android:orientation=\"horizontal\"&gt;\n\n                &lt;TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Vimal, \"\n                    android:id=\"@+id/helloText\"\n                    android:textColor=\"@android:color/black\"\n                    android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Large\"/&gt;\n\n                &lt;TextView\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"23\"\n                    android:textColor=\"@android:color/black\"\n                    android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Large\"/&gt;\n\n            &lt;/LinearLayout&gt;\n\n            &lt;LinearLayout\n                android:layout_width=\"0dp\"\n                android:layout_height=\"40dp\"\n                android:layout_weight=\"1\"\n                android:orientation=\"horizontal\"&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:orientation=\"horizontal\"\n                    android:layout_weight=\"1\"&gt;\n\n                    &lt;ImageView\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:gravity=\"center\"\n                        android:src=\"@android:drawable/btn_dialog\"/&gt;\n\n                    &lt;TextView\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"0\"\n                        android:textSize=\"25sp\"\n                        android:layout_marginLeft=\"5dp\"\n                        android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Large\"\n                        android:gravity=\"center\"/&gt;\n\n                &lt;/LinearLayout&gt;\n\n\n                &lt;LinearLayout\n                    android:layout_width=\"0dp\"\n                    android:layout_height=\"wrap_content\"\n                    android:orientation=\"horizontal\"\n                    android:layout_weight=\"1\"&gt;\n\n                    &lt;ImageView\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:gravity=\"center\"\n                        android:src=\"@android:drawable/btn_dialog\"/&gt;\n\n                    &lt;TextView\n                        android:layout_width=\"wrap_content\"\n                        android:layout_height=\"wrap_content\"\n                        android:text=\"0\"\n                        android:textSize=\"25sp\"\n                        android:layout_marginLeft=\"5dp\"\n                        android:layout_gravity=\"center\"\n                        android:textAppearance=\"@style/Base.TextAppearance.AppCompat.Large\"/&gt;\n\n                &lt;/LinearLayout&gt;\n\n            &lt;/LinearLayout&gt;\n\n\n        &lt;/LinearLayout&gt;\n\n\n\n\n    &lt;/LinearLayout&gt;\n\n    &lt;View\n        android:id=\"@+id/item_swipe_left_indicator\"\n        android:alpha=\"0\"\n        android:layout_width=\"20dp\"\n        android:layout_height=\"20dp\"\n        android:layout_margin=\"10dp\"\n        android:background=\"#A5F\" /&gt;\n\n    &lt;View\n        android:id=\"@+id/item_swipe_right_indicator\"\n        android:alpha=\"0\"\n        android:layout_width=\"20dp\"\n        android:layout_height=\"20dp\"\n        android:layout_margin=\"10dp\"\n        android:layout_gravity=\"right\"\n        android:background=\"#5AF\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134496327,"body":"Have you looked into OIDC flows? Here&#39;s a Baeldung example for OIDC <a href=\"https://www.baeldung.com/spring-security-openid-connect\" rel=\"nofollow noreferrer\">Tutorial</a>. There are multiple ways to verify the Id Token, some identity provider have a verfication endpoint e.g."},{"comment_id":134497021,"body":"i will check it out"}],"last_activity_date":1684296188,"question_id":76268477,"body":"<p>I'm working on a personal project spring boot for the back-end and android kotlin\nnow I want to add third-party authentication like Facebook and google like any other well-respected app\nafter surfing the web and asking chat-GPT I have arrived at noting\nwhat I'm trying to do is</p>\n<ul>\n<li>in my Android app, the user will sign up via either Google or Facebook</li>\n<li>the selected Oauth provider will return an object that contains some token</li>\n<li>I will send the token to my back-end and there I can send this token for verification to the\nchosen Oauth provider</li>\n<li>if that token is legit then I will generate a JWT  for that user and use it instead\nthroughout the application</li>\n</ul>\n<p>what I need is a way for my spring-boot back-end to verify some kind of token that I can get from the sign-in button via either Google or Facebook in the android</p>\n"},{"comments":[{"comment_id":126852541,"body":"It clearly says that you can&#39;t use java 1.8 . To continue with JDK 11 , go to Project Structure &gt; SDK location &gt; Jdk location was moved to Gradle Settings &gt; Gradle JDK drop down menu &gt; Select &quot;Embedded JDK&quot;."},{"comment_id":126852833,"body":"when i change it as said ,&quot; Task :react-native-gradle-plugin:compileKotlin &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compatibility should be set to the same Java version.&quot; this error not fixed"}],"answers":[{"comments":[{"comment_id":126856002,"body":"Modifying files in node_modules folder is not a good idea."},{"comment_id":126873655,"body":"you are right but its working"}],"answer_id":71782823,"body":"<p>what you need to do;</p>\n<ol>\n<li>log into my computer</li>\n<li>right click and select properties</li>\n<li>enter advanced system settings</li>\n<li>add new path name: JAVA_HOME</li>\n<li>select the java 11 jdk location and save it</li>\n</ol>\n<p>or</p>\n<ol>\n<li>open cmd for adminstator</li>\n<li>setx JAVA_HOME -m &quot;path&quot;</li>\n</ol>\n<p>After doing all of them, delete your old React Native project and install a new one.</p>\n<p>or</p>\n<ol>\n<li>open project with android stiduo</li>\n<li>find node_moduls -&gt; react-native-gradle-plugin -&gt; build.gradle -&gt; change java 1.8 to java 11.0</li>\n</ol>\n"},{"answer_id":73276843,"body":"<p>Try following commands:</p>\n<p><code>nano ./zshrc</code></p>\n<p>Find JAVA_HOME and replace with your v11 java path.\nYou can find the path here:</p>\n<p><code>/usr/libexec/java_home -V</code></p>\n<p>Save the file, re-launch the terminal and try again.</p>\n"},{"comments":[{"comment_id":134470470,"body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76246028/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"answer_id":76246028,"body":"<p>What you need to do：</p>\n<ul>\n<li>Download jdk11:\n<a href=\"https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html</a></li>\n<li>Config <code>android/gradle.properties</code></li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-11.jdk/contents/Home\n</code></pre>\n"},{"answer_id":76268476,"body":"<p>if you need to upgrade jdk, android studio provides a quick way to do it\n<strong>File</strong> -&gt;<strong>Setting</strong> -&gt;<strong>Build,Execution,Deployment</strong> -&gt;<strong>Build Tools</strong> -&gt;<strong>Gradle</strong>\nIn Gradle JDK selected version you want</p>\n"}],"last_activity_date":1684296172,"question_id":71781962,"body":"<p>I get the same issue as in this question when I do react-native run-android. I think it wants java 11 but I want to continue with 1.8. How can I do it?</p>\n<p><a href=\"https://stackoverflow.com/questions/69997158/android-studio-com-android-internal-application-java-11-fix-gradle-project\">Android Studio - &#39;com.android.internal.application&#39; Java 11 - fix gradle projects not visibile in Android studio</a></p>\n"},{"answers":[{"answer_id":76268475,"body":"<p>To set your application as the default launcher and ensure that it replaces the previously set launcher on the home screen, you can make use of the <code>CLEAR_TOP</code> flag in the <code>Intent</code> used to start your main activity. This flag clears the activity stack of the target application, removing any previously opened activities.</p>\n<p>Here's an example of how you can modify your <code>MainActivity</code> to achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n   super.onCreate(savedInstanceState);\n\n   // Check if the application is already the default launcher\n   if (!isMyLauncherDefault()) {\n       // Create an intent with the CLEAR_TOP flag\n       Intent intent = new Intent(Intent.ACTION_MAIN);\n       intent.addCategory(Intent.CATEGORY_HOME);\n       intent.addCategory(Intent.CATEGORY_DEFAULT);\n       intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n       // Start the intent\n       startActivity(intent);\n       finish();\n   }\n   // Rest of your onCreate code...\n}\n</code></pre>\n<p>The <code>isMyLauncherDefault()</code> method is used to check if your application is already set as the default launcher. You can implement it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isMyLauncherDefault() {\n   String packageName = getPackageName();\n   String defaultLauncher = null;\n\n   Intent intent = new Intent(Intent.ACTION_MAIN);\n   intent.addCategory(Intent.CATEGORY_HOME);\n\n   ResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\n   if (resolveInfo != null &amp;&amp; resolveInfo.activityInfo != null) {\n       defaultLauncher = resolveInfo.activityInfo.packageName;\n   }\n\n   return defaultLauncher != null &amp;&amp; defaultLauncher.equals(packageName);\n}\n</code></pre>\n<p>This code will check if your application is already the default launcher. If it's not, it will create an <code>Intent</code> with the <code>CLEAR_TOP</code> flag and start the intent to bring your launcher to the front, effectively replacing the previous launcher. The <code>finish()</code> method is called to ensure that the previous launcher's activities are removed from the stack.</p>\n<p>Remember to replace <code>MainActivity</code> with the correct name of your launcher's main activity class.</p>\n<p>By using this approach, your launcher will be set as the default and will replace the previous launcher on the home screen.</p>\n"}],"last_activity_date":1684296171,"question_id":76204410,"body":"<p>I'm developing an Android launcher homescreen app, and whenever I go to set the application I'm developing as the default launcher, it shows my launcher over the previously set default launcher on the homescreen.</p>\n<p>I want to use the system background, so my homescreen app's main activity has a transparent background, but I don't want it sitting on top of the previous launcher's UI (OneUI).</p>\n<p>Is there an activity tag that should be in my application manifest, or something to ensure the previously set launcher is no longer running? Thanks for any help!</p>\n<p><a href=\"https://i.stack.imgur.com/gyeWj.png\" rel=\"nofollow noreferrer\">example outcome</a></p>\n<p>I've looked into how I can close other tasks on Android, but my app doesn't have the permissions. I'm not sure how else to remove other apps from the UI under my transparent default launcher within the scope of its permissions.</p>\n<p>This is the current activity in the manifest:</p>\n<pre><code>&lt;activity\n   android:launchMode=&quot;singleTask&quot;\n   android:name=&quot;.MainActivity&quot;\n   android:exported=&quot;true&quot;&gt;\n   &lt;intent-filter&gt;\n      &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n      &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n      &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n      &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\n   &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134495764,"body":"When you step over the return you go back to the caller."},{"comment_id":134495790,"body":"<code>it still doesn&#39;t make any sense.</code> where it should go? what makes sense for you in this situation?"},{"comment_id":134495842,"body":"I thought that return function exits the recursion as long as object we are returning matches return type of the function"},{"comment_id":134495857,"body":"I don&#39;t use IntelliJ but I assume that its debugger also shows the call stack. When you reach the <code>return</code>, look where you are in the call stack. Also consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"comment_id":134496020,"body":"By the way, notice that you discard the return values of your recursive calls."},{"comment_id":134496027,"body":"<i>Recursive call continuing despite return being called</i> I&#39;m going to comment on the question title alone, as it shows you have a fundamental problem in comprehension: recursion occurs <i>because of</i> <code>return</code>, not <i>despite of</i> it. It&#39;s <i>what</i> is returned that provides the control. So go  back in your study before going on"},{"comment_id":134496387,"body":"When method A calls B, which calls C and C returns, it returns to B.  When method R calls R which calls R and that third R returns, it returns to the second R."}],"last_activity_date":1684295098,"question_id":76268418,"body":"<p>I am still very new to JAVA so please don't comment approach itself, I want to start with this solution and then try to find cleaner one. Thanks!</p>\n<p>in recursive call when both list1 &amp; list2 == null instead of exiting call with list3 it moves to line41 which is another call of MergeTwo method (see screenshots).</p>\n<p>Why?</p>\n<p><a href=\"https://i.stack.imgur.com/4A2ij.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/jSiHr.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        ListNode2 list1 = new ListNode2(2, new ListNode2(2, new ListNode2(4)));\n        ListNode2 list2 = new ListNode2(1, new ListNode2(3, new ListNode2(4)));\n        ListNode2 list3 = new ListNode2();\n\n        if (list1.val &gt; list2.val) {\n            list3.val = list2.val;\n            list3 = MergeTwo(list1, list2.next, list3);\n        }\n        else {\n            list3.val = list1.val;\n        list3 = MergeTwo(list1.next, list2, list3);\n        }\n        System.out.println(list3);\n\n    }\n\n\n    public static ListNode2 MergeTwo(ListNode2 list1, ListNode2 list2, ListNode2 list3){\n    if(list1 == null &amp;&amp; list2 == null)\n        return list3;\n\n    if(list1 == null){\n        var n = list3;\n        while(n.next != null) n=n.next;\n        n.next = new ListNode2(list2.val);\n        MergeTwo(list1, list2.next, list3);\n    }\n    if(list2 == null) {\n        var n = list3;\n        while (n.next != null) n = n.next;\n        n.next = new ListNode2(list1.val);\n        MergeTwo(list1.next, list2, list3);\n        }\n    if (list1.val &lt; list2.val) {\n        var n = list3;\n        while (n.next != null) n = n.next;\n        n.next = new ListNode2(list1.val);\n        MergeTwo(list1.next, list2, list3);\n    }\n    else {\n        var n = list3;\n        while (n.next != null) {\n            n = n.next;\n        }\n        n.next = new ListNode2(list2.val);\n        MergeTwo(list1, list2.next, list3);\n    }\n\n    return null;\n    }\n}\n</code></pre>\n<p>Tried debugger, but it still doesn't make any sense.</p>\n"},{"comments":[{"comment_id":134462551,"body":"Copy and paste your code in stack overflow. Just indent it a couple of spaces"},{"comment_id":134462561,"body":"Why replacing the old buttons? Just change their text and action."},{"comment_id":134462670,"body":"@Tarik but it is duplicating the buttons and not replacing. I couldn&#39;t post the code here on StackO from my cell phone"},{"comment_id":134462782,"body":"@BielBNC if you can copy it, you can paste it into your question (just use a code block, no need to indent). If people have to click a random link just to look at your code, they probably won&#39;t. There&#39;s a reason it&#39;s a site rule, you need to help people to help you"},{"comment_id":134465802,"body":"Copied and pasted your code from my mobile ;-)"}],"last_activity_date":1684294622,"question_id":76249268,"body":"<p>Sorry for my bad English. I'm having a lot of trouble updating a view/button that was created programmatically. I pulled some information from the Json array and distributed it to programmatically create buttons with each Array Object. In this activity I received several arrays, and distribute them in different strings. At first the buttons created programmatically behave very well, however when I click on ANOTHER action to change the array and create new buttons programmatically (replace the old buttons that were created), I get an error.</p>\n<p>My code:</p>\n<pre><code>int displaywidth= getResources().getDisplayMetrics().widthPixels;\n\nint with = displaywidth/2;\n\n//String nmb = &quot;[&quot;05:00&quot;, &quot;05:15&quot;, &quot;05:25&quot;, &quot;05:35&quot;, &quot;05:45&quot;, &quot;05:55&quot;, &quot;06:05&quot;, &quot;06:15&quot;, &quot;06:25&quot;, &quot;06:35&quot;, &quot;06:45&quot;, &quot;06:55&quot;, &quot;07:05&quot;, &quot;07:16&quot;, &quot;07:27&quot;, &quot;07:38&quot;, &quot;07:49&quot;, &quot;08:00&quot;, &quot;08:15&quot;, &quot;08:30&quot;, &quot;08:45&quot;, &quot;09:00&quot;, &quot;09:15&quot;, &quot;09:30&quot;, &quot;09:45&quot;, &quot;10:00&quot;]&quot;;\n\nString segunda1 = seg1;\n\ntry {\n\n    JSONArray jsonArray = new JSONArray(segunda1);\n\n    final String[] strArr = new String[jsonArray.length()];\n\n    for(item = 0; item &lt; strArr.length; item++) \n    {\n\n        strArr[item] = jsonArray.getString(item);\n\n        btnTag = new AppCompatButton(this);\n\n        LayoutParams lp2 = new LayoutParams(with,LayoutParams.WRAP_CONTENT);\n\n        lp2.gravity = Gravity.CENTER;\n\n        btnTag.setText(strArr[item]);\n\n        btnTag.setId(parseInt(strArr[item]));\n\n        defaultV.addView(btnTag, lp2);\n                \n        if (strArr[item].contains(&quot;P&quot;)){\n            btnTag.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        Toast.makeText(St.this, P, Toast.LENGTH_SHORT).show();\n\n                    }\n\n                });\n\n        }\n\n        if (strArr[item].contains(&quot;F&quot;)){\n            btnTag.setOnClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        Toast.makeText(St.this, F, Toast.LENGTH_SHORT).show();\n                    }\n\n                });\n\n        }\n\n        else {\n\n        }\n    \n\n    }\n\n} catch (JSONException e) {\n\n    Toast.makeText(this, e.toString(), Toast.LENGTH_LONG).show();\n\n}\n</code></pre>\n<p>I am trying to update the same buttons with another array to apply to the buttons:</p>\n<pre><code>PopupMenu popupMenu = new PopupMenu(St.this, findViewById(R.id.tab_layout_info), Gravity.LEFT);\n\n// Inflating popup menu from popup_menu.xml file\npopupMenu.getMenuInflater().inflate(R.menu.popup, popupMenu.getMenu());\n\npopupMenu.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\n    @Override\n    public boolean onMenuItemClick(MenuItem menuItem) {\n        if(menuItem.getTitle().equals(&quot;Dias úteis&quot;)) {\n            defaultV.setVisibility(View.VISIBLE);\n\n            //Toast.makeText(St.this, &quot;DU&quot;, Toast.LENGTH_SHORT).show();\n\n        }      \n\n        if(menuItem.getTitle().equals(&quot;Sábado&quot;)) {\n            int displaywidth= getResources().getDisplayMetrics().widthPixels;\n\n            int with = displaywidth/2;\n\n            //String nmb = &quot;[&quot;05:00&quot;, &quot;05:15&quot;, &quot;05:25&quot;, &quot;05:35&quot;, &quot;05:45&quot;, &quot;05:55&quot;, &quot;06:05&quot;, &quot;06:15&quot;, &quot;06:25&quot;, &quot;06:35&quot;, &quot;06:45&quot;, &quot;06:55&quot;, &quot;07:05&quot;, &quot;07:16&quot;, &quot;07:27&quot;, &quot;07:38&quot;, &quot;07:49&quot;, &quot;08:00&quot;, &quot;08:15&quot;, &quot;08:30&quot;, &quot;08:45&quot;, &quot;09:00&quot;, &quot;09:15&quot;, &quot;09:30&quot;, &quot;09:45&quot;, &quot;10:00&quot;]&quot;;\n\n            String sabado1 = sab1;\n\n            try {\n\n                JSONArray jsonArray = new JSONArray(sabado1);\n\n                final String[] strArr = new String[jsonArray.length()];\n\n                for(item = 0; item &lt; strArr.length; item++) \n                {\n\n                    strArr[item] = jsonArray.getString(item);\n\n                    btnTag = new AppCompatButton(getApplicationContext());\n\n                    LayoutParams lp2 = new LayoutParams(with,LayoutParams.WRAP_CONTENT);\n\n                    lp2.gravity = Gravity.CENTER;\n\n                    btnTag.setText(strArr[item]);\n\n                    btnTag.setId(parseInt(strArr[item]));\n\n                    defaultV.addView(btnTag, lp2);\n\n                    if (strArr[item].contains(&quot;P&quot;)){\n\n                    btnTag.setOnClickListener(new View.OnClickListener() {\n                        @Override\n                        public void onClick(View view) {\n\n                            Toast.makeText(St.this, P, Toast.LENGTH_SHORT).show();\n\n                        }\n\n                });\n\n            }\n\n            if (strArr[item].contains(&quot;F&quot;)){\n\n                btnTag.setOnClickListener(new View.OnClickListener() {\n                @Override\n\n                public void onClick(View view) {\n                    Toast.makeText(St.this, F, Toast.LENGTH_SHORT).show();\n                }\n\n            });\n\n        }\n\n        else {\n\n        }\n\n    }\n\n} catch (JSONException e) {\n\n    Toast.makeText(St.this, e.toString(), Toast.LENGTH_LONG).show();\n\n    }\n}          \n\n            if(menuItem.getTitle().equals(&quot;Domingos e feriados&quot;)) {\n\n            }\n           \n\n            if(menuItem.getTitle().equals(&quot;Útil entre feriado&quot;)) {\n\n                Toast.makeText(St.this, &quot;UeF&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n\n            return true;\n\n        }\n\n    });\n\n    // Showing the popup menu\n\n    popupMenu.show();\n\n}\n</code></pre>\n<p>My code in a text editor:\n<a href=\"https://textdoc.co/Sy9E7aD6YP3vqcil\" rel=\"nofollow noreferrer\">Code in text editor</a></p>\n<p>I tried to create other views to programmatically apply another new buttons and use (View.Visible|View.Gone) but I was unsuccessful.</p>\n<p>Any help me in this matter is appreciated.</p>\n"},{"last_activity_date":1684293758,"question_id":76247191,"body":"<p>I have three tables where <code>ItemTag</code> acts as an intermediate table to relate the other two tables.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Item(\n    val id: Int,\n    val title: String\n)\n\ndata class ItemTag(\n    val id: Int,\n    val itemId: Int,\n    val tagId: Int\n)\n\ndata class Tag(\n    val id: Int,\n    val title: String\n)\n</code></pre>\n<p>Then there is a projection DTO.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface ItemDTO {\n    val id: Int\n    val title: String\n    val tag: List&lt;String&gt;\n}\n</code></pre>\n<p>Then use JPQL custom query:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Query(\n    &quot;&quot;&quot;\n    select\n    e.title as title,\n    e.id as id,\n    t.title as tag\n    from Item e\n    left join ItemTag it on e.id = it.itemId\n    left join Tag t on it.tagId = t.id\n    where e.id in (:ids)\n    &quot;&quot;&quot;\n)\nfun queryById(@Param(&quot;ids&quot;) ids: List&lt;Int&gt;): List&lt;ItemDTO&gt;\n</code></pre>\n<p>But this code does not work properly, the <code>tag</code> field cannot be queried.</p>\n<p>What is the correct way to do it, note: I don't want to use foreign key associations, that is, I don't use annotations like <code>@OneToMany</code></p>\n"},{"comments":[{"comment_id":51072056,"body":"probably user starting jmeter has no permissions to <code>&#47;opt&#47;apache-jmeter-2.6</code> directory. Try running as root, but better option is to add needed permissions <code>sudo chmod -R u+w &#47;opt&#47;apache-jmeter-2.6</code>"},{"comment_id":56160241,"body":"Check jmeter.log in the same directory and copy error messages to provide more information"},{"comment_id":99227966,"body":"I just came across the same issue. The current JMeter download does not include the lib folder and seems to be a faulty build."},{"comment_id":114689161,"body":"chmod -R 777 ./ will help"}],"answers":[{"comments":[{"comment_id":20805878,"body":"Hi I already tried the jmeter 2.9, I used the installer which I download. apache-jmeter-2.9.zip, apache-jmeter-2.9_src.tgz, apache-jmeter-2.9_src.zip but I still encounter same problem. Here&#39;s what I did I extracted the file on /opt/ then make it executable the apache-jmeter-2.9 by issuing this command chmod 770 -R apache-jmeter-2.9 then copy the ApacheJMeter.jar inside apache-jmeter-2.9/bin and run ./jmeter.sh but I still get or encounter same error. Please kindly let me know the proper procedure or steps on installing the apachejmeter."},{"comment_id":20810677,"body":"1. jmeter.sh is very basic JMeter script with no JVM options specified; try also <code>jmeter</code> script instead (<code>.&#47;jmeter</code> or <code>sh jmeter</code>); 2. have you checked your JDK installation and version? 3. <code>then copy the ApacheJMeter.jar inside apache-jmeter-2.9&#47;bin</code> - no need to copy ApacheJMeter.jar into /bin dir, it&#39;s already there in out-of-box installation."},{"comment_id":113658294,"body":"I had same issue and resolve it by downloading it from different mirror."}],"answer_id":14830690,"body":"<p>Your JMeter installation may be broken.<br>\nYou can possibly try the following:</p>\n<ol>\n<li>try to use a fresh installation of <a href=\"http://jmeter.apache.org/download_jmeter.cgi#binaries\" rel=\"nofollow noreferrer\">last available JMeter version</a> instead of your current - if using 2.6 is no requirement in your case;</li>\n<li>check the integrity of downloaded JMeter archive against <a href=\"http://www.apache.org/info/verification.html\" rel=\"nofollow noreferrer\">PGP or MD5 signatures</a>;</li>\n<li>class <code>org.apache.jmeter.JMeter</code> should be in the file <code>JMETER_HOME/lib/ext/ApacheJMeter_core.jar</code>. Check if this is there or not. Check that jar is not broken;</li>\n<li>check that <code>$JAVA_HOME</code> is defined and points to <a href=\"https://jmeter.apache.org/usermanual/get-started.html#java_versions\" rel=\"nofollow noreferrer\">actual JDK</a>.</li>\n</ol>\n"},{"comments":[{"comment_id":20805655,"body":"I got the following error when I run the command you give to me. How can solve or fix that error?   [root@bx1 bin]# jar -tf /opt/apache-jmeter-2.6/lib/ext/ApacheJMeter_core.jar    java.util.zip.ZipException: error in opening zip file \tat java.util.zip.ZipFile.open(Native Method) \tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:131) \tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:92) \tat sun.tools.jar.Main.list(Main.java:997) \tat sun.tools.jar.Main.run(Main.java:242) \tat sun.tools.jar.Main.main(Main.java:1167) You have new mail in /var/spool/mail/root [root@bx1 bin]#"},{"comment_id":20910545,"body":"The error shows that your jar might be corrupted. The installation is strait forward and you need not copy any jars in to bin directory. Verify your downloaded file for correctness."}],"answer_id":14830977,"body":"<p>Looks like your JMeter installation is not successful.</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.apache.jmeter.JMeter\n</code></pre>\n\n<p>The class org.apache.jmeter.JMeter should be in the jar file <code>&lt;JMETER_HOME&gt;/lib/ext/ApacheJMeter_core.jar</code>. Run the below jar command to check if the file exists in the jar.</p>\n\n<pre><code>jar -tf &lt;JMETER_HOME&gt;/lib/ext/ApacheJMeter_core.jar \n</code></pre>\n"},{"answer_id":18265403,"body":"<p>This may sound wierd, but I have seen many java program raise such random errors, when run with openjdk which ships by default with CentOS. In such cases, I could run same programs with SUN/Oracle JDK.</p>\n\n<p>You should try that if everything else fail.</p>\n\n<p>You will have to appropriately set JAVA_HOME and PATH, which has newer java in it.</p>\n"},{"comments":[{"comment_id":48173422,"body":"Please note that <a href=\"http://meta.stackoverflow.com/tags/link-only-answers/info\">link-only answers are discouraged</a>, SO answers should be the end-point of a search for a solution (vs. yet another stopover of references, which tend to get stale over time). Please consider adding a stand-alone synopsis here, keeping the link as a reference."}],"answer_id":30028213,"body":"<p>Download latest version of jmeter and run the jar file .</p>\n\n<p>check the below link <a href=\"http://www.thetestingworld.com/category/docs/jmeter/\" rel=\"nofollow\">http://www.thetestingworld.com/category/docs/jmeter/</a></p>\n"},{"answer_id":30059558,"body":"<p>ClassNotFoundException has 2 possible meanings:</p>\n\n<ol>\n<li>You don't have a jar with the class defined</li>\n<li>You have <em>duplicate</em> definitions of that class. </li>\n</ol>\n\n<p>Maybe you are stuck with some jar in a folder common to all your java programs? e.g your path, or libraries/java/extensions</p>\n"},{"answer_id":30173571,"body":"<p>Please use the latest version of jmeter as it has all the fixes which you could be looking for</p>\n"},{"answer_id":31351966,"body":"<p>There is basically no installation of the Jmeter, you don't execute or the set up file to install it. When you download the zip/gzip from the Apache site unzip, navigate to the <code>bin</code> folder and click on the <code>ApacheJmeter.Jar</code>. This will launch the Jmeter UI instance. Also make sure you the Java JDK and JRE installed in your system.</p>\n\n<p>Can you please let us know the OS version you are trying to install?</p>\n"},{"answer_id":31582297,"body":"<p>it seem permision error, try this command line,</p>\n\n<blockquote>\n  <p>sudo chmod -R 777 /opt/</p>\n</blockquote>\n\n<p>make sure you have install oracle jdk,check this, </p>\n\n<blockquote>\n  <p>java -version</p>\n  \n  <p>java version \"1.8.0_45\"</p>\n  \n  <p>Java(TM) SE Runtime Environment (build1.8.0_45-b14)<br>\n  Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)</p>\n</blockquote>\n\n<p>check java_home</p>\n\n<blockquote>\n  <p>echo $JAVA_HOME</p>\n  \n  <p>/usr/lib/jvm/java-8-oracle/jre</p>\n</blockquote>\n"},{"comments":[{"comment_id":51164711,"body":"Is this a joke? No, please NO, DO NOT TRY THIS! <code>chmod -R 777</code> is usually a bad practice, depending on what follows (<code>&#47;mydir&#47;uploads&#47;</code> might be acceptable for example). Here this is a directory at root level used to install software, you should never do that."},{"comment_id":51165404,"body":"/opt/ is the system folder and this message java.lang.Throwable: Could not access /opt/apache-jmeter-2.6/lib/ext, you should have root or permission to  acess that folder"},{"comment_id":51165536,"body":"To that very specific directory, yes, but not a 777 on <code>&#47;opt&#47;</code>!!"}],"answer_id":31607110,"body":"<p>try this </p>\n\n<blockquote>\n  <p>sudo chmod -R 777 /opt/</p>\n</blockquote>\n"},{"answer_id":32951301,"body":"<pre><code>JAVA_HOME=path JAVA_HOME\n</code></pre>\n\n<p>and modify this line in script jmeter</p>\n\n<pre><code>java $JVM_ARGS $JMETER_OPTS -jar \"$PRGDIR/ApacheJMeter.jar\" \"$@\"\n</code></pre>\n\n<p>for this</p>\n\n<pre><code>$JAVA_HOME/bin/java $JVM_ARGS $JMETER_OPTS -jar \"$PRGDIR/ApacheJMeter.jar\" \"$@\"\n</code></pre>\n"},{"answer_id":45968355,"body":"<p>Check your JDK version. It should always be the latest for jmeter.</p>\n"},{"answer_id":47209077,"body":"<p>Below are possbile issues</p>\n\n<ol>\n<li>Either Java Path not set properly</li>\n<li>Your installation of JMeter is not proper</li>\n<li>Trying to run JMeter from a Invalid directory structure where the\nnecessary lib files are not found</li>\n<li>Finally your Java version compatibility.</li>\n</ol>\n\n<p>Quick fix: </p>\n\n<ol>\n<li>Check your Java Installation from cmd promt with java -version which should be 1.7\nor greater</li>\n<li>If above step works download and unzip/untar JMeter into a new\ndirectory and try again.</li>\n</ol>\n"},{"answer_id":50800202,"body":"<p>The only thing needed to run Jmeter is JDK and JRE(which JDK/JRE sersion to be installed depends on the Jmeter version you are installing), which should be installed on your system. And the JRE path should be set in Environment variables. This should be enough to run Jmeter. \nAlso once check the compatibility of JDK/JRE version with Jmeter version u r installing.</p>\n"},{"answer_id":53221262,"body":"<p><code>ClassNotFoundException</code> occurs if:</p>\n\n<ol>\n<li><p>the jar containing the class definition is not present.</p></li>\n<li><p>there exists some duplicate definition of a class.</p></li>\n</ol>\n\n<p>The error:</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.apache.jmeter.JMeter\nmeans that the jar file is missing/corrupted, due to which you're getting this error message.\n</code></pre>\n\n<p>You can try these methods:</p>\n\n<ul>\n<li>Check if this class is present in  /lib/ext/ApacheJMeter_core.jar</li>\n<li>Check if this jar file is not broken.</li>\n<li>try to use fresh installation of last available jmeter version</li>\n<li>check integrity of downloaded jmeter archive against PGP or MD5 signatures</li>\n<li>check that $JAVA_HOME is defined and points to JDK 1.6.0 or higher.</li>\n</ul>\n"},{"answer_id":61576507,"body":"<p>JMeter Plugin Manager Installation -</p>\n\n<p>For this download the jar file from [THIS LINK][1] and  put inside lib/ext and restart JMeter. You will be able to view JMeter Plugin Manager icon as per below screenshot.</p>\n"},{"answer_id":76268343,"body":"<p>just put your JMeter folder to other directories (like C:\\JMeter) rather than system directories like program files, bin, win32....</p>\n"}],"last_activity_date":1684293329,"question_id":14828027,"body":"<p>How can I solve this error when running JMeter:</p>\n\n<pre><code>[root@bx1 bin]#./jmeter.sh \n</code></pre>\n\n<blockquote>\n  <p>java.lang.Throwable: Could not access /opt/apache-jmeter-2.6/lib/ext\n  at org.apache.jmeter.NewDriver.(NewDriver.java:98)</p>\n  \n  <p>java.lang.Throwable: Could not access /opt/apache-jmeter-2.6/lib/junit\n  at org.apache.jmeter.NewDriver.(NewDriver.java:98)</p>\n  \n  <p>java.lang.ClassNotFoundException: org.apache.jmeter.JMeter</p>\n  \n  <p>at java.net.URLClassLoader$1.run(URLClassLoader.java:217) at\n  java.security.AccessController.doPrivileged(Native Method) at\n  java.net.URLClassLoader.findClass(URLClassLoader.java:205) at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:321) at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:266) at\n  org.apache.jmeter.NewDriver.main(NewDriver.java:212)</p>\n</blockquote>\n\n<p>JMeter home directory was detected as: <code>/opt/apache-jmeter-2.6</code>.</p>\n"},{"comments":[{"comment_id":134495769,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"last_activity_date":1684293172,"question_id":76268228,"body":"<p>I'm trying to make a portion of my imageview clickable using a Path, how do I do that? I tried to search for solutions but I just can't seem to find it</p>\n<p>I tried to use RectF and ComputeBounds for the path but the bounds always becomes incorrect, I tried to draw the bounds with a drawRect and it displays a Flat rectangle while my PATH is a slanted rectangle. I don't know how to fix it please help.</p>\n"},{"comments":[{"comment_id":65754116,"body":"Please describe how you want to use the mapped classes. What is the purpose of having two separate data formats?"},{"comment_id":65767292,"body":"Never heard of duplication the data model (except for cases of legacy code). Usually the data you are working with (View Model) <b>is</b> the data you put into the database."},{"comment_id":65777253,"body":"@voddan one use case would be to expose only parts of the domain model to different API consumers. Having separate DTO per <i>view</i> of domain model is much cleaner than using i.e. <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.1.1/com/fasterxml/jackson/annotation/JsonView.html\" rel=\"nofollow noreferrer\">JsonView</a> IMHO"},{"comment_id":65783840,"body":"Do you really need these classes to be data classes?"}],"answers":[{"comments":[{"comment_id":65744263,"body":"The operation that you write is I wanted to do. But I want to reduce mapping declarations because many fields that have same names (like tel -&gt; tel) exist. I want to write only special rules like firstName + lastName =&gt; name."}],"answer_id":39201754,"body":"<p>Is this are you looking for?</p>\n\n<pre><code>data class PersonRecord(val name: String, val age: Int, val tel: String){       \n    object ModelMapper {\n        fun from(form: PersonForm) = \n            PersonRecord(form.firstName + form.lastName, form.age, form.tel)           \n    }\n}\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>val personRecord = PersonRecord.ModelMapper.from(personForm)\n</code></pre>\n"},{"comments":[{"comment_id":65755726,"body":"A spearate class is not required nesessarilly. But I want to avoid depending on the order of arguments."},{"comment_id":65756800,"body":"@sunnyone You can always use <a href=\"https://kotlinlang.org/docs/reference/functions.html#named-arguments\" rel=\"nofollow noreferrer\">named arguments</a> when constructing your data objects so that you don&#39;t depend on the order the arguments are defined in."}],"answer_id":39207557,"body":"<p>Do you really want a separate class for that? You can add properties to the original data class:</p>\n\n<pre><code>data class PersonForm(\n    val firstName: String,\n    val lastName: String,\n    val age: Int,\n    val tel: String\n) {\n    val name = \"${firstName} ${lastName}\"\n}\n</code></pre>\n"},{"comments":[{"comment_id":106042801,"body":"MapStruct with <code>@KotlinBuilder</code> is a beautiful and fast solution. See other answer (where I&#39;ve added <code>@KotlinBuilder</code> info)."},{"comment_id":109571863,"body":"Actually I&#39;ve stopped using MapStruct now, and just go with the first solution mentioned, ie. manual mapping. MapStruct is java-based, so does not give null-safety. Also I find I get compile-time safety anyway with simple kotlin initializer, when there are no default values on constructor. So if a field is added on the data object, I get a compile error, which is what I want."}],"answer_id":39213699,"body":"<ol>\n<li><p>Simplest (best?):</p>\n\n<pre><code>fun PersonForm.toPersonRecord() = PersonRecord(\n        name = \"$firstName $lastName\",\n        age = age,\n        tel = tel\n)\n</code></pre></li>\n<li><p>Reflection (not great performance):</p>\n\n<pre><code>fun PersonForm.toPersonRecord() = with(PersonRecord::class.primaryConstructor!!) {\n    val propertiesByName = PersonForm::class.memberProperties.associateBy { it.name }\n    callBy(args = parameters.associate { parameter -&gt;\n        parameter to when (parameter.name) {\n            \"name\" -&gt; \"$firstName $lastName\"\n            else -&gt; propertiesByName[parameter.name]?.get(this@toPersonRecord)\n        }\n    })\n}\n</code></pre></li>\n<li><p>Cached reflection (okay performance but not as fast as #1):</p>\n\n<pre><code>open class Transformer&lt;in T : Any, out R : Any&gt;\nprotected constructor(inClass: KClass&lt;T&gt;, outClass: KClass&lt;R&gt;) {\n    private val outConstructor = outClass.primaryConstructor!!\n    private val inPropertiesByName by lazy {\n        inClass.memberProperties.associateBy { it.name }\n    }\n\n    fun transform(data: T): R = with(outConstructor) {\n        callBy(parameters.associate { parameter -&gt;\n            parameter to argFor(parameter, data)\n        })\n    }\n\n    open fun argFor(parameter: KParameter, data: T): Any? {\n        return inPropertiesByName[parameter.name]?.get(data)\n    }\n}\n\nval personFormToPersonRecordTransformer = object\n: Transformer&lt;PersonForm, PersonRecord&gt;(PersonForm::class, PersonRecord::class) {\n    override fun argFor(parameter: KParameter, data: PersonForm): Any? {\n        return when (parameter.name) {\n            \"name\" -&gt; with(data) { \"$firstName $lastName\" }\n            else -&gt; super.argFor(parameter, data)\n        }\n    }\n}\n\nfun PersonForm.toPersonRecord() = personFormToPersonRecordTransformer.transform(this)\n</code></pre></li>\n<li><p><a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"noreferrer\">Storing Properties in a Map</a></p>\n\n<pre><code>data class PersonForm(val map: Map&lt;String, Any?&gt;) {\n    val firstName: String   by map\n    val lastName: String    by map\n    val age: Int            by map\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String         by map\n}\n\n// maps to ...\ndata class PersonRecord(val map: Map&lt;String, Any?&gt;) {\n    val name: String    by map // \"${firstName} ${lastName}\"\n    val age: Int        by map // copy of age\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String     by map // copy of tel\n}\n\nfun PersonForm.toPersonRecord() = PersonRecord(HashMap(map).apply {\n    this[\"name\"] = \"${remove(\"firstName\")} ${remove(\"lastName\")}\"\n})\n</code></pre></li>\n</ol>\n"},{"comments":[{"comment_id":97477417,"body":"Gson is quite sluggish"}],"answer_id":49233530,"body":"<p>This works using Gson:</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; Any.mapTo(): T =\n    GsonBuilder().create().run {\n        toJson(this@mapTo).let { fromJson(it, T::class.java) }\n    }\n\nfun PersonForm.toRecord(): PersonRecord =\n    mapTo&lt;PersonRecord&gt;().copy(\n        name = \"$firstName $lastName\"\n    )\n\nfun PersonRecord.toForm(): PersonForm =\n    mapTo&lt;PersonForm&gt;().copy(\n        firstName = name.split(\" \").first(),\n        lastName = name.split(\" \").last()\n    )\n</code></pre>\n\n<p>with not nullable values allowed to be null because Gson uses <a href=\"https://stackoverflow.com/questions/45793451/kotlin-not-nullable-value-can-be-null\">sun.misc.Unsafe</a>..</p>\n"},{"comments":[{"comment_id":99401234,"body":"You forgot to mention &quot;tiny&quot; detail. Your data classes have to be mutable and you have to have custom constructor of  <code>constructor() : this(null, null, null, null)</code>. So until mapstruct team comes up with proper kotlin support, I&#39;d avoid using it and go with manual conversion as @mfulton26 mentioned in his first solution."},{"comment_id":99503103,"body":"I would also recommend MapStruct since it doesn&#39;t use reflection and is thus faster. For the constructor issue you can use this extension <a href=\"https://github.com/Pozo/mapstruct-kotlin\" rel=\"nofollow noreferrer\">github.com/Pozo/mapstruct-kotlin</a> which allows you to use the builder approach not requiring the constructor() : this(null, null) fiasco anymore"}],"answer_id":51055321,"body":"<p>MapStruct lets kapt generate classes doing the mapping (without reflection).</p>\n\n<p>Use MapStruct:</p>\n\n<pre><code>@Mapper\ninterface PersonConverter {\n\n    @Mapping(source = \"phoneNumber\", target = \"phone\")\n    fun convertToDto(person: Person) : PersonDto\n\n    @InheritInverseConfiguration\n    fun convertToModel(personDto: PersonDto) : Person\n\n}\n\n\n// Note this either needs empty constructor or we need @KotlinBuilder as dsecribe below\ndata class Person: this(null, null, null, null) (...)\n</code></pre>\n\n<p>Use: </p>\n\n<pre><code>val converter = Mappers.getMapper(PersonConverter::class.java) // or PersonConverterImpl()\n\nval person = Person(\"Samuel\", \"Jackson\", \"0123 334466\", LocalDate.of(1948, 12, 21))\n\nval personDto = converter.convertToDto(person)\nprintln(personDto)\n\nval personModel = converter.convertToModel(personDto)\nprintln(personModel)\n</code></pre>\n\n<p>Edit: </p>\n\n<p>Now with @KotlinBuilder for avoiding constructor() issue:</p>\n\n<p><a href=\"https://github.com/Pozo/mapstruct-kotlin\" rel=\"noreferrer\">GitHub: Pozo's mapstruct-kotlin</a></p>\n\n<p>Annotate data classes with <code>@KotlinBuilder</code>. This will create a  <code>PersonBuilder</code> class, which MapStruct uses, thus we avoid ruining the interface of the data class with a constructor().</p>\n\n<pre><code>@KotlinBuilder\ndata class Person(\n    val firstName: String,\n    val lastName: String,\n    val age: Int,\n    val tel: String\n)\n</code></pre>\n\n<p>Dependency :</p>\n\n<pre><code>// https://mvnrepository.com/artifact/com.github.pozo/mapstruct-kotlin\napi(\"com.github.pozo:mapstruct-kotlin:1.3.1.1\")\nkapt(\"com.github.pozo:mapstruct-kotlin-processor:1.3.1.1\")\n</code></pre>\n\n<p><a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-kotlin\" rel=\"noreferrer\">https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-kotlin</a></p>\n"},{"answer_id":51640371,"body":"<p>You can use ModelMapper to map to a Kotlin data class.  The keys are:</p>\n\n<ul>\n<li>Use @JvmOverloads (generates a constructor with no arguments)</li>\n<li>Default values for data class member</li>\n<li><p>Mutable member, var instead of val</p>\n\n<blockquote>\n<pre><code>data class AppSyncEvent @JvmOverloads constructor(\n    var field: String = \"\",\n    var arguments: Map&lt;String, *&gt; = mapOf&lt;String, Any&gt;(),\n    var source: Map&lt;String, *&gt; = mapOf&lt;String, Any&gt;()\n)\n\nval event = ModelMapper().map(request, AppSyncEvent::class.java)\n</code></pre>\n</blockquote></li>\n</ul>\n"},{"answer_id":56838067,"body":"<p>For ModelMapper you could use <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">Kotlin's no-arg compiler plugin</a>, with which you can create an annotation that marks your data class to get a synthetic no-arg constructor for libraries that use reflection. Your data class needs to use <code>var</code> instead of <code>val</code>.</p>\n\n<pre><code>package com.example\n\nannotation class NoArg\n\n@NoArg\ndata class MyData(var myDatum: String)\n\nmm.map(. . ., MyData::class.java)\n</code></pre>\n\n<p>and in build.gradle (see docs for Maven):</p>\n\n<pre><code>buildscript {\n  . . .\n  dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n  }\n}\n\napply plugin: 'kotlin-noarg'\n\nnoArg {\n  annotation \"com.example.NoArg\"\n}\n</code></pre>\n"},{"answer_id":57757506,"body":"<p>Using <a href=\"http://modelmapper.org/\" rel=\"noreferrer\">ModelMapper</a></p>\n\n<pre><code>/** Util.kt **/\n\nclass MapperDto() : ModelMapper() {\n    init {\n        configuration.matchingStrategy = MatchingStrategies.LOOSE\n        configuration.fieldAccessLevel = Configuration.AccessLevel.PRIVATE\n        configuration.isFieldMatchingEnabled = true\n        configuration.isSkipNullEnabled = true\n    }\n}\n\nobject Mapper {\n    val mapper = MapperDto()\n\n    inline fun &lt;S, reified T&gt; convert(source: S): T = mapper.map(source, T::class.java)\n}\n</code></pre>\n\n<p>Usage</p>\n\n<pre><code>val form = PersonForm(/** ... **/)\nval record: PersonRecord = Mapper.convert(form)\n</code></pre>\n\n<p>You might need some mapping rules if the field names differ. See <a href=\"http://modelmapper.org/getting-started/\" rel=\"noreferrer\">the getting started</a><br>\nPS: Use <code>kotlin no-args</code> plugin for having default no-arg constructor with your data classes</p>\n"},{"answer_id":74023908,"body":"<p>You can use the <code>DataClassMapper</code> class taken from here: <a href=\"https://github.com/jangalinski/kotlin-dataclass-mapper\" rel=\"nofollow noreferrer\">https://github.com/jangalinski/kotlin-dataclass-mapper</a></p>\n<pre><code>data class PersonForm(\n    val firstName: String,\n    val lastName: String,\n    val age: Int,\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String\n)\n\n// maps to ...\ndata class PersonRecord(\n    val name: String, // &quot;${firstName} ${lastName}&quot;\n    val age: Int, // copy of age\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String // copy of tel\n)\n\nfun mapPerson(person: PersonForm): PersonRecord =\n    DataClassMapper&lt;PersonForm, PersonRecord&gt;()\n        .targetParameterSupplier(PersonRecord::name) { &quot;${it.firstName} ${it.lastName}&quot;}\n        .invoke(person)\n\nfun main() {\n    val result = mapPerson(PersonForm(&quot;first&quot;, &quot;last&quot;, 25, &quot;tel&quot;))\n    println(result)\n}\n</code></pre>\n<p>Result will be:</p>\n<pre><code>PersonRecord(name=first last, age=25, tel=tel)\n</code></pre>\n"},{"answer_id":74424549,"body":"<p><a href=\"https://github.com/labai/la-utils/tree/main/la-mapper#la-mapper\" rel=\"nofollow noreferrer\">LaMapper</a> - is mapper for Kotlin, supports both - constructor parameters and properties mapping.</p>\n<p>It uses bytecode generation at runtime, so performance is the same as handwritten code. No compiler plugins are required.</p>\n<p>Example</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun PersonForm.toPersonRecord(): PersonRecord = LaMapper.copyFrom(this) {\n    PersonRecord::code from PersonForm::personCode // property mapping\n    PersonRecord::name from { &quot;${it.firstName} ${it.lastName}&quot; } // lambda mapping\n    // all other properties are mapped by name\n}\n\nval rec = person.toPersonRecord()\n</code></pre>\n<p>In addition it has various data-type conversions by default (numbers, dates, enums etc.).</p>\n<p>And, as it uses property references instead of strings for fields, it is more safe for refactoring.</p>\n"},{"comments":[{"comment_id":132617816,"body":"Looks promising, but please add a disclaimer, that you are the author of kmapper"}],"answer_id":74864762,"body":"<p><a href=\"https://github.com/s0nicyouth/kmapper\" rel=\"nofollow noreferrer\">kMapper</a>-object to object mapper specifically created for Kotlin. Uses compile time code generation, so no reflection.\nInterface description for a mapper looks like that:</p>\n<pre><code>@Mapper\ninternal interface BindMapper {\n    fun map(dto: BindDto, @Bind second: Int, @Bind third: SomeInternalDto, @Bind(to = &quot;fourth&quot;) pr: Double): BindDomain\n}\n</code></pre>\n<p>More examples <a href=\"https://github.com/s0nicyouth/kmapper/tree/master/testload/src/main/kotlin/com/syouth/kmapper/testload\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Disclaimer: I'm the author.</p>\n"},{"answer_id":76268265,"body":"<p>Try this kotlin library, it support both kotlin and java</p>\n<p><a href=\"https://github.com/krud-dev/shapeshift\" rel=\"nofollow noreferrer\">https://github.com/krud-dev/shapeshift</a></p>\n"}],"last_activity_date":1684291653,"question_id":39199426,"body":"<p>I want to convert/map some \"data\" class objects to similar \"data\" class objects. For example, classes for web form to classes for database records.</p>\n\n<pre><code>data class PersonForm(\n    val firstName: String,\n    val lastName: String,\n    val age: Int,\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String\n)\n// maps to ...\ndata class PersonRecord(\n    val name: String, // \"${firstName} ${lastName}\"\n    val age: Int, // copy of age\n    // maybe many fields exist here like address, card number, etc.\n    val tel: String // copy of tel\n)\n</code></pre>\n\n<p>I use ModelMapper for such works in Java, but it can't be used because data classes are final (ModelMapper creates CGLib proxies to read mapping definitions). We can use ModelMapper when we make these classes/fields open, but we must implement features of \"data\" class manually.\n(cf. ModelMapper examples: <a href=\"https://github.com/jhalterman/modelmapper/blob/master/examples/src/main/java/org/modelmapper/gettingstarted/GettingStartedExample.java\" rel=\"noreferrer\">https://github.com/jhalterman/modelmapper/blob/master/examples/src/main/java/org/modelmapper/gettingstarted/GettingStartedExample.java</a>)</p>\n\n<p>How to map such \"data\" objects in Kotlin?</p>\n\n<p><strong>Update:</strong>\nModelMapper automatically maps fields that have same name (like tel -> tel) without mapping declarations. I want to do it with data class of Kotlin.</p>\n\n<p><strong>Update:</strong>\nThe purpose of each classes depends on what kind of application, but these are probably placed in the different layer of an application.</p>\n\n<p>For example:</p>\n\n<ul>\n<li>data from database (Database Entity) to data for HTML form (Model/View Model)</li>\n<li>REST API result to data for database</li>\n</ul>\n\n<p>These classes are similar, but are not the same.</p>\n\n<p>I want to avoid normal function calls for these reasons:</p>\n\n<ul>\n<li>It depends on the order of arguments. A function for a class with many fields that have same type (like String) will be broken easily.</li>\n<li>Many declarations are nesessary though most mappings can be resolved with naming convention.</li>\n</ul>\n\n<p>Of course, a library that has similar feature is intended, but information of the Kotlin feature is also welcome (like spreading in ECMAScript).</p>\n"},{"last_activity_date":1684291427,"question_id":76268254,"body":"<p>I currently have the following situation. I have, next to others, two projects of interest. I have a project called <code>authlib</code> which contains a lot of data classes and a class to perform web requests to my second project of interest, let's call it <code>server</code>.</p>\n<p>The first project is meant to be used as a library to facilitate web requests to the <code>server</code> project. <code>server</code> is a Spring Boot project made with Java and it has a <code>implementation</code> relation to <code>authlib</code>, meaning that the classes in <code>authlib</code> are available in the server, but not the other way round. This is unfortunate, since the class that makes all the api requests to the <code>server</code> lives in the <code>authlib</code> and I cannot use the database entities directly. This shows, because there seem to be already some duplicate classes, where my predecessors have needed data from the server but weren't able to use the correct classes. Instead, they created a &quot;light&quot; version of the entities they needed and created a parsing method in the server to just return this light version of the data class, when returning something in the controller.</p>\n<p>My Entities in the <code>server</code> project look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@NoArgsConstructor\npublic class MinecraftAccountRank {\n\n    @Id\n    @Column(length = 40)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private String name;\n    private String pexGroup;\n    private String displayName;\n    private String discordRole;\n    private String discordPrefix;\n    private String teamspeakRole;\n\n    private int rankOrder = 0;\n\n}\n\n</code></pre>\n<p>Note the includes. I am not using any spring specific annotations from spring boot. I therefore thought it must be possible to move the class to my auth, since the repositories and every use of my entity classes could then just use the import from the <code>authlib</code>. This shouldn't make any difference... should it?</p>\n<p>This is where I got first doubts and began to question if there were any side effects I just didn't see. Firstly, the <code>authlib</code> project is entirely written in Kotlin, which I usually wouldn't consider a problem and which would just save me the lombok annotations. Also, I could just add <code>javax.persistence</code> to the authlib.</p>\n<p>In total I have two questions:</p>\n<ul>\n<li><p>Will my project using Kotlin be bothered by my java class just exisiting there? If so, are there any side effects to be expected when I translate my entity code to Kotlin?</p>\n</li>\n<li><p>Do I have to expect any other drawbacks from moving my entity class to another project? My <code>server</code> project is at the end of the dependency chain and is itself not a dependency to any other project (that I know of). Will there be a problem with my <code>JPARepository</code> classes when the entity is coming from a library?</p>\n</li>\n</ul>\n"},{"answers":[{"comments":[{"comment_id":134496859,"body":"Are you sure this is the right place for this information? It feels like a bug in plugin, and I&#39;d suggest filing an issue to this plugin if it&#39;s opensource, or writing to support otherwise."},{"comment_id":134497139,"body":"Looks like it is a known issue <a href=\"https://github.com/withfig/fig/issues/2469\" rel=\"nofollow noreferrer\">github.com/withfig/fig/issues/2469</a>"}],"answer_id":76268224,"body":"<p>Go to help -&gt; show log in Finder -&gt; open <code>idea.log</code> with editor like vim.</p>\n<p>Search <code>window</code>, and I saw exceptions like below</p>\n<pre><code>2023-05-17 09:25:51,431 [  13694] SEVERE - #c.i.o.w.i.ToolWindowManagerImpl - Cannot invoke (class=FigWindowListener, method=toolWindowsRegistered, topic=tool window events)\njava.lang.RuntimeException: Cannot invoke (class=FigWindowListener, method=toolWindowsRegistered, topic=tool window events)\n    at com.intellij.util.messages.impl.MessageBusImplKt.invokeListener(MessageBusImpl.kt:657)\n    at com.intellij.util.messages.impl.MessageBusImplKt.deliverMessage(MessageBusImpl.kt:415)\n    at com.intellij.util.messages.impl.MessageBusImplKt.pumpWaiting(MessageBusImpl.kt:394)\n    at com.intellij.util.messages.impl.MessageBusImplKt.access$pumpWaiting(MessageBusImpl.kt:1)\n    at com.intellij.util.messages.impl.MessagePublisher.invoke(MessageBusImpl.kt:454)\n    at jdk.proxy1/jdk.proxy1.$Proxy95.toolWindowsRegistered(Unknown Source)\n    at com.intellij.toolWindow.ToolWindowSetInitializer.postEntryProcessing(ToolWindowSetInitializer.kt:155)\n    at com.intellij.toolWindow.ToolWindowSetInitializer.postEntryProcessing$default(ToolWindowSetInitializer.kt:152)\n    at com.intellij.toolWindow.ToolWindowSetInitializer.createAndLayoutToolWindows(ToolWindowSetInitializer.kt:138)\n    at com.intellij.toolWindow.ToolWindowSetInitializer.access$createAndLayoutToolWindows(ToolWindowSetInitializer.kt:45)\n    at com.intellij.toolWindow.ToolWindowSetInitializer$createAndLayoutToolWindows$1.invokeSuspend(ToolWindowSetInitializer.kt)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\nCaused by: com.intellij.openapi.diagnostic.RuntimeExceptionWithAttachments: Current thread: Thread[DefaultDispatcher-worker-48,5,main] 1688829040 (EventQueue.isDispatchThread()=false)\n\n</code></pre>\n<p>Something wrong with ToolWindowManagerImpl. And it comes from class FigWindowListener</p>\n<p>So go to settings -&gt; Plugins -&gt; disable plugin called <code>Fig</code> -&gt; restart Intellij Idea. Problem solved.</p>\n"}],"last_activity_date":1684290951,"question_id":76268223,"body":"<p>I am using Intellij Idea, I would like to assign a keyboard shortcut to <code>Project window</code>, for example Cmd+1.</p>\n<p>I go to settings -&gt; keymap -&gt; search project window.</p>\n<p>expected result: display <code>project window</code> so that I can assign shortcut to it</p>\n<p>actual result: there is no <code>project window</code>.</p>\n<p>I am using</p>\n<p>IntelliJ IDEA 2023.1.2 (Ultimate Edition) Build #IU-231.9011.34, built on May 16, 2023</p>\n<p>Macbook Pro, 15-inch, 2018</p>\n<p>MacOS 13.3.1</p>\n"},{"comments":[{"comment_id":134479339,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"comment_id":134495333,"body":"I appreciate how I have conflated Geometry and Projection.  Regarding your feedback to jump in and contribute to an open source project.  There is a possibility this is on the cards.  My understanding of what I am requesting is WKT 2.0 support where geo-tools currently supports WKT 1.0.  I imagined giving a major version change this would be something the geo-tools community would be actively working towards."},{"comment_id":134497621,"body":"As far as I can see it is in WKT 1.0 but obviously no one is using it or someone would have noticed before now. Apparently: &quot;Projected CRS is defined in Clause 9.In this International Standard the following definitions from ISO 19125‑1:2004 and OGC 01-009 have been deprecated but are included here for the purposes of documenting backward compatibility.&quot;"}],"answer_id":76260507,"body":"<p>You seem to be conflating two different types of well known text - projections and geometries (ISO-19107) - that are totally unrelated.</p>\n<p>However, looking at the <a href=\"https://docs.ogc.org/is/18-010r7/18-010r7.html#71\" rel=\"nofollow noreferrer\">spec</a> and the <a href=\"https://github.com/geotools/geotools/blob/f0556d450f0ade2e7e98e6f1e94c95e2c57f5660/modules/library/referencing/src/main/java/org/geotools/referencing/wkt/Parser.java#L229\" rel=\"nofollow noreferrer\">code</a> there does seem to be a missing prefix (<code>PROJCRS</code>). So I would raise an issue and submit a PR with the fix and a test case.</p>\n"}],"last_activity_date":1684290729,"question_id":76258547,"body":"<p>Currently my Java application uses CRS parser to convert a WKT to a Co-ordinate Reference System.  This works fine for &quot;PROJCS[...]&quot; However after some off the shelf tools generates &quot;PROJCRS[...]&quot; the solutions fails to parse.</p>\n<pre><code>        String wkt = &quot;PROJCRS[...]&quot; // (Some WKT 2.0 string)\n        org.geotools.referencing.CRS.parseWKT(wkt);\n\n</code></pre>\n<p>My question relates to when/if we should expect support for later versions of WKT through geo-tools</p>\n<p>As this is expected I have tried a number of other libraries (to varying success) including</p>\n<ul>\n<li>Apache SIS</li>\n<li>GDAL</li>\n</ul>\n<p>My goal with this question is to weigh up bringing more dependencies to the solution vs expectation of new geo-tools versions.  I am reaching out here because my understanding is this represents geo-tools supporting WKT 2.0 and that this would be a broad effort by the geo-tools community</p>\n"},{"comments":[{"comment_id":134495511,"body":"what is you DB version and vendor?"},{"comment_id":134495996,"body":"Thank you. I found the problem. My DB was <b>10.4.16-MariaDB-log</b>  And the problmen was that I was using &#39;com.mysql:mysql-connector-j:8.0.33&#39; . <b>The problem was solved when I used &#39;org.mariadb.jdbc:mariadb-java-client:3.1.4&#39;</b>"}],"answers":[{"answer_id":76268181,"body":"<p>I still don't know why my original code removes milliseconds but I found other way to solve the problem.</p>\n<p>for column such as <strong>create_date</strong> which needs to be set when first <strong>INSERT</strong>,\nuse</p>\n<pre><code>'create_date' DATETIME(3) NOT NULL DEFAULT current_timestamp(3)\n</code></pre>\n<p>and</p>\n<pre><code>@Column(\n        insertable = false\n        ,updatable = false\n)\nprivate LocalDateTime createDate;\n</code></pre>\n<p>for column like <strong>update_date</strong> which needs to be updated each time <strong>UPDATE</strong> executed,</p>\n<pre><code>'update_date' DATETIME(6) NOT NULL DEFAULT current_timestamp(3) ON UPDATE current_timestamp(3)\n</code></pre>\n<p>and entity to</p>\n<pre><code>@Column(updatable = false)\nprivate LocalDateTime updateDate;\n</code></pre>\n<p>In this way, each DATETIME columns will be set by database's server time which is better for my situation.</p>\n"}],"last_activity_date":1684290337,"question_id":76267971,"body":"<p>In my spring boot framework with spring-data-jpa,</p>\n<p>when I INSERT or UPDATE with javax.persistence.EntityManager, MySQL database is <strong>inserted without milli seconds</strong>.</p>\n<p>in my spring boot framework, I'm working with</p>\n<p>spring-data-jpa 2.7.11</p>\n<p>mysql-connector-j 8.0.33</p>\n<p>hibernate-core 5.6.15.Final</p>\n<pre class=\"lang-java prettyprint-override\"><code>\njavax.persistence.EntityManager entityManager;\nentityManager.persist(myEntityItem);\n\n</code></pre>\n<p>I tested with Table's columns with\n<strong>DATETIME(3) and DATETIME(6)</strong></p>\n<p><strong>MySQL Table :</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4wWTC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4wWTC.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried using\n<strong>java.util.Date, java.util.Calendar and java.time.LocalDateTime.</strong></p>\n<p>I also tried with\n@CreationTimestamp annotation on my parameter of entity class\nand also, manually set each parameter's values.</p>\n<p>and every time, I get my TRACE level log with milliseconds included.</p>\n<pre><code>Hibernate: \n    insert \n    into\n        DREAM_TEST.time_table\n        (calendar3, calendar6, java_util_date3, java_util_date6, local_date_time3, local_date_time6, text) \n    values\n        (?, ?, ?, ?, ?, ?, ?)\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [TIMESTAMP] - [java.util.GregorianCalendar[time=1684285347672,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Asia/Seoul&quot;,offset=32400000,dstSavings=0,useDaylight=false,transitions=30,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2023,MONTH=4,WEEK_OF_YEAR=20,WEEK_OF_MONTH=3,DAY_OF_MONTH=17,DAY_OF_YEAR=137,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=3,AM_PM=0,HOUR=10,HOUR_OF_DAY=10,MINUTE=2,SECOND=27,MILLISECOND=672,ZONE_OFFSET=32400000,DST_OFFSET=0]]\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [java.util.GregorianCalendar[time=1684285347672,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Asia/Seoul&quot;,offset=32400000,dstSavings=0,useDaylight=false,transitions=30,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2023,MONTH=4,WEEK_OF_YEAR=20,WEEK_OF_MONTH=3,DAY_OF_MONTH=17,DAY_OF_YEAR=137,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=3,AM_PM=0,HOUR=10,HOUR_OF_DAY=10,MINUTE=2,SECOND=27,MILLISECOND=672,ZONE_OFFSET=32400000,DST_OFFSET=0]]\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2023-05-17 10:02:27.6725819]\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [TIMESTAMP] - [2023-05-17 10:02:27.6725819]\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [2023-05-17T10:02:27.672581900]\n2023-05-17 10:02:27.686 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [TIMESTAMP] - [2023-05-17T10:02:27.672581900]\n2023-05-17 10:02:27.686 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [with values set]\n2023-05-17 10:02:27.691  INFO 31760 --- [           main] p6spy                                    : #1684285347691 | took 2ms | statement | connection 9| url jdbc:mysql://dreamtest.db:4306/DREAM_TEST\ninsert into DREAM_TEST.time_table (calendar3, calendar6, java_util_date3, java_util_date6, local_date_time3, local_date_time6, text) values (?, ?, ?, ?, ?, ?, ?)\ninsert into DREAM_TEST.time_table (calendar3, calendar6, java_util_date3, java_util_date6, local_date_time3, local_date_time6, text) values ('2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', 'with values set');\n\n</code></pre>\n<p>But in my database as a result, all the milli seconds are removed</p>\n<p><strong>Result Table:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/0rYf4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0rYf4.png\" alt=\"enter image description here\" /></a></p>\n"}]}