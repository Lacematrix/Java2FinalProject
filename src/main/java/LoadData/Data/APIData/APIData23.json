{"items":[{"comments":[{"comment_id":134488420,"body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"comment_id":134488695,"body":"Does <a href=\"https://stackoverflow.com/a/14658478/636009\">this answer your question</a>? See also <a href=\"https://developer.android.com/reference/android/content/Intent#Intent(android.content.Context,%20java.lang.Class%3C?%3E)\" rel=\"nofollow noreferrer\"><code>new Intent</code></a>, and <a href=\"https://developer.android.com/reference/android/content/Context\" rel=\"nofollow noreferrer\"><code>Context</code></a>, &quot;global information about an application environment ... It allows access to application-specific resources and classes, as well as up-calls for application-level operations such as launching activities, broadcasting and receiving intents, etc.&quot;"}],"last_activity_date":1684258634,"question_id":76264337,"body":"<p>I have just started android development and I'm really confused why and how context is used in intent.</p>\n<pre><code>Intent intent=new Intent(context, ContactDetails.class);\nintent.putExtra(&quot;contactid&quot;,id);\ncontext.startActivity(intent);\n</code></pre>\n<p>I am completely confused about the usage of intent with context!</p>\n"},{"answers":[{"answer_id":68915429,"body":"<p>I was using the:\nES server : &quot;https://cluster:port&quot;\nand that was my fault\nTo correct that I used\nES Server: &quot;cluster:port&quot;\nand added usingSsl() method</p>\n<p><code>final ClientConfiguration clientConfiguration = ClientConfiguration.builder()   .connectedTo(&quot;ES server&quot;) .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build(); </code></p>\n"}],"last_activity_date":1684258599,"question_id":68912971,"body":"<p>I'm trying to connect a Spring boot application with ElasticSearch, but I get the next error:</p>\n<p>Constructor threw exception; nested exception is org.springframework.data.elasticsearch.ElasticsearchException: Error while for indexExists request: org.elasticsearch.action.admin.indices.get.GetIndexRequest</p>\n<p>Configuration class</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = &quot;com.repository&quot;)\npublic class ESConfig extends AbstractElasticsearchConfiguration {\n\n    @Override\n    @Bean\n    public RestHighLevelClient elasticsearchClient() {\n\n        final ClientConfiguration clientConfiguration = ClientConfiguration.builder()  \n            .connectedTo(&quot;ElasticSearch Server&quot;)\n            .withBasicAuth(&quot;user&quot;, &quot;password&quot;).build();\n\n        return RestClients.create(clientConfiguration).rest();                         \n    }\n\n}\n</code></pre>\n<p>Entity :</p>\n<pre><code>@Document(indexName = &quot;flight&quot;)\npublic class FlightPositionES {\n\n    @Id\n    private Long id;\n    private String ident;\n    private String airGround;\n    private Double altitude;\n    private Integer clock;\n    private String flightId;\n    private Double groundSpeed;\n    private Double heading;\n    private GeoPoint location;\n    private String aircraftRegistration;\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface IFlightPositionESRepository extends ElasticsearchCrudRepository&lt;FlightPositionES, Long&gt; {\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":134475181,"body":"The root cause is probably the injected CamelContext which seems to be an empty one (with no route at all). Put a breakpoint an examine the contents of <code>camelContext</code> variable"},{"comment_id":134476560,"body":"After a bit  of debugging, I have found what looks like a fully fleshed out Camel Context with the routes I would expect"},{"comment_id":134487521,"body":"Realized that it works, but only once. Updated the question"},{"comment_id":134490376,"body":"See the IMPORTANT note at: <a href=\"https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing\" rel=\"nofollow noreferrer\">camel.apache.org/manual/&hellip;</a>"},{"comment_id":134490475,"body":"I have seen that, but was honestly unsure of the applicability in Quarkus, esp. since <code>@AdviceWith</code> doesn&#39;t seem present."}],"last_activity_date":1684258565,"question_id":76256246,"body":"<p>I have the following route:</p>\n<pre class=\"lang-java prettyprint-override\"><code>from(&quot;direct:someRoute&quot;)\n.id(&quot;someRoute&quot;)\n.log(...)\n.to(&quot;sql-stored:someProcedure(BIGINT ${exchangeProperty.someVal})&quot;)\n.id(&quot;someCall&quot;)\n.log(...)\n.end()\n</code></pre>\n<p>I am attempting to replace the <code>someCall</code> REST call with canned data for tests.</p>\n<p>I have setup my tests as such:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@QuarkusTest\npublic Class Tests{\n\n    @Inject\n    CamelContext camelContext\n\n    @BeforeEach\n    public void setup(){\n        AdviceWith.adviceWith(\n            this.camelContext,\n            &quot;someRoute&quot;,\n            a -&gt; {\n                a.weaveById(&quot;someCall&quot;)\n                    .replace()\n                    .setBody()\n                    .constant(&quot;{}&quot;)\n            }\n        );\n    }\n\n    @Test\n    public void testOne(){\n        //...\n    }\n    @Test\n    public void testTwo(){\n        //...\n    }\n}\n</code></pre>\n<p>However, when I run the tests, I get the following errors:</p>\n<ul>\n<li>First test error:\n<ul>\n<li><code>Cannot advice route as route with id: someRoute does not exists</code></li>\n</ul>\n</li>\n<li>Second test error:\n<ul>\n<li><code>There are no outputs with matches: someCall in the route: &lt;routeToString, oddly with no mention of the someCall route, or even an sql route&gt;</code></li>\n</ul>\n</li>\n</ul>\n<p>Seem like strange errors to me, looking through the logs and the route is definitely being picked up, and even stranger that the <code>someCall</code> reference isn't in the toString...</p>\n<h2>Update</h2>\n<p>Just realized that this occurrs in tests <em>after</em> the first one. It seems that my issue is related to the face that this is in an <code>@BeforeEach</code>... Should I rework to only be called once, or is there a way to reset the camel context before re-applying the mock?</p>\n<h2>Update 2</h2>\n<p>Tried calling <code>context.stop()</code> and <code>context.start()</code> at the beginning of the tests, but got an error saying it is unsupported.</p>\n<p>Trying with <code>CamelQuarkusTestSupport</code> ended up with the first test working out, but every additional test having an empty <code>CamelQuarkus</code> with no routes...</p>\n"},{"last_activity_date":1684258519,"question_id":76265750,"body":"<p>I am new to graphQl. I have just purchased &quot;GraphQL with Java and Spring&quot; book by Andi and Donna. Followed the exact same steps mentioned in the Introduction chapter for building first graphQl service. Here's the code-\n<a href=\"https://github.com/reenaupadhyay/graphql-service-demo\" rel=\"nofollow noreferrer\">https://github.com/reenaupadhyay/graphql-service-demo</a></p>\n<p>spring boot version used is - 3.0.4 with java 17\nI started the spring boot application, but the query is returning null in response.\nURL:\nhttp://localhost:8080/graphiql?path=/graphql\nQuery fired on above URL:\nquery myPets {\npets {\nname\ncolor\n}\n}</p>\n<p>Response returned is:\n{\n&quot;data&quot;: {\n&quot;pets&quot;: null\n}\n}</p>\n<p>I have hardcoded the Pets response in the PetsController, but looks like @QueryMapping annotation is not working.</p>\n"},{"comments":[{"comment_id":134489418,"body":"All clients are meant to be created in my local machine."}],"last_activity_date":1684258430,"question_id":76264780,"body":"<p>I am trying to do a check. I've got a poollocator with two servers. I want to test whether the servers are being set up as Active-Active or Active-Passive? The idea is to insert data with one client from one server and then have another one reading it and check how fast the data is being replicated to the other server (if at all is being replicated).</p>\n<p>All this is done in Java.</p>\n<p>I was thinking to create a client with a single server configuration. Then another one with the other server. However, I have read other people's posts and apparently this is not possible. Does anyone know if my test is valid?</p>\n"},{"answers":[{"comments":[{"comment_id":87418837,"body":"hi Marcin, thanks for the reply. I did read the documentation, but I don&#39;t want to skip all tests (since I have other unit and integration tests) and I do want to generate the stubs (so I can&#39;t skip the contract verifier altogether), I just want to skip the automatic test generation from the contract."},{"comment_id":87418962,"body":"We skip the test generation when <code>spring.cloud.contract.verifier.skip</code>, <code>skipTests</code> or <code>maven.test.skip</code> are passed. You can always execute the goal related to stub generation. BTW what you&#39;re doing smells of bad practice, so I hope you know what you&#39;re doing :)"},{"comment_id":87454821,"body":"Maybe you&#39;re right. I gave up and implemented the TestBase to run the tests for my contracts, along with my other integration tests."}],"answer_id":50199662,"body":"<p>If you check the documentation (<a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.2.4.RELEASE/spring-cloud-contract-maven-plugin/generateTests-mojo.html\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-static/spring-cloud-contract/1.2.4.RELEASE/spring-cloud-contract-maven-plugin/generateTests-mojo.html</a>) you'll see that you can do a number of things. <code>-DskipTests</code>, <code>-Dspring.cloud.contract.verifier.skip=true</code>. Always read the documentation.</p>\n"},{"answer_id":76265734,"body":"<p>If you want to skip contract tests use <code>&lt;skipTests&gt;true&lt;/skipTests&gt;</code> in your cloud contract plugin. This will create stubs and skipTests will skip running contracts</p>\n"}],"last_activity_date":1684258350,"question_id":50191885,"body":"<p>I want to test a service Consumer that uses FeignClient to call another service, Producer, that I have. In order to stub the service called, I'm using spring-cloud-contract-verifier for the producer and spring-cloud-contract-stub-runner on the consumer.</p>\n\n<p>My problem is that I already have written integration tests for the producer, so I'd just like to generate the stubs and skip the tests generation. Using the spring-cloud-contract-maven-plugin, I've tried to set up only the goals I need, but it's still trying to run the tests anyway. I suspect I'm not setting it up correctly...</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-contract-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${spring-cloud-contract.version}&lt;/version&gt;\n    &lt;extensions&gt;true&lt;/extensions&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;convert&lt;/goal&gt;\n                &lt;goal&gt;generateStubs&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;basePackageForTests&gt;com.example&lt;/basePackageForTests&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>when I run mvn clean install, it's still expecting a TestBase. How can I skip this goal?</p>\n"},{"comments":[{"comment_id":2911348,"body":"Compare also <a href=\"http://stackoverflow.com/questions/1835976/what-is-a-sensible-prime-for-hashcode-calculation\" title=\"what is a sensible prime for hashcode calculation\">stackoverflow.com/questions/1835976/&hellip;</a> - I think 31 is a bad choice if you write your own hashCode functions."},{"comment_id":77112291,"body":"If it was 29, or 37, or even 97, you would be asking &#39;why not 31?&#39;"},{"comment_id":79071125,"body":"@EJP it is important to know the reason behind the choice of a no. unless the number is outcome of a black magic trick."},{"comment_id":102808123,"body":"There is a blog post by @peter-lawrey about it here: <a href=\"https://vanilla-java.github.io/2018/08/12/Why-do-I-think-Stringhash-Code-is-poor.html\" rel=\"nofollow noreferrer\">vanilla-java.github.io/2018/08/12/&hellip;</a> and here: <a href=\"https://vanilla-java.github.io/2018/08/15/Looking-at-randomness-and-performance-for-hash-codes.html\" rel=\"nofollow noreferrer\">vanilla-java.github.io/2018/08/15/&hellip;</a>"},{"comment_id":105572819,"body":"@DushyantSabharwal My point is that it could have <i>been</i> 29 or 37 or 97, or 41, or many other values, without making much practical difference. We were using 37 in 1976."}],"answers":[{"answer_id":299369,"body":"<p>I'm not sure, but I would guess they tested some sample of prime numbers and found that 31 gave the best distribution over some sample of possible Strings.</p>\n"},{"comments":[{"comment_id":2847054,"body":"Funny enough, the multiplication with 31 is on my desktop machine actually a little bit slower than multiplication with, say, 92821. I guess the compiler tries to &quot;optimize&quot; it into shift and add as well. :-)"},{"comment_id":34588067,"body":"I don&#39;t think I&#39;ve ever used an ARM which was not equally fast with all values in the range +/-255.  Use of a power of 2 minus one has the unfortunate effect that a matching change to two values changes the hash code by a power of two.  A value of -31 would have been better, and I would think something like -83 (64+16+2+1) might have been better yet (blenderize bits somewhat better)."},{"comment_id":34608267,"body":"@supercat Not convinced by the minus. Seems you&#39;d be heading back towards zeros. / <code>String.hashCode</code> predates the StrongARM which, IIRC, introduced an 8-bit multiplier and possibly increased to two cycles for the combined arithmetic/logical with shift operations."},{"comment_id":34620730,"body":"@TomHawtin-tackline: Using 31, the hash of four values would be 29791*a + 961*b + 31*c + d; using -31, it would be -29791*a + 961*b - 31*c + d.  I don&#39;t think the difference would be significant if the four items are independent, but if pairs of adjacent items match, the resulting hash code will be the contribution of all unpaired items, plus some multiple of 32 (from the paired ones).  For strings it may not matter too much, but if one is writing a general-purpose method for hashing aggregations, the situation where adjacent items match will be disproportionately common."},{"comment_id":34620868,"body":"The situation isn&#39;t quite so bad as the one resulting by taking the xor of items which are supposed to be unsequenced (as opposed to using an arithmetic sum).  If one has an <code>UnorderedPair</code> where A and B things are &quot;equal&quot; if <code>(a.first.equals(b.first) &amp;&amp; a.second.equals(b.second)) || ((a.first.equals(b.second) &amp;&amp; a.second.equals(b.first))</code>, using a hash of <code>first.hashCode()+second.hashCode()</code> will lose one bit of information if <code>first</code> and <code>second</code> match; using <code>first.hashCode() ^ second.hashCode()</code> (which I&#39;ve seen done) would lose all 32 bits of information."},{"comment_id":34624710,"body":"@supercat Yeah, it seems to me + gives a bit of &quot;blurring&quot; across adjacent bits which can be further shuffling. ^ doesn&#39;t have that, so seems a poorer choice. I believe early protocols used xor in check codes as it was mistakenly believed that hardware implementations would be easier by a worthwhile factor."},{"comment_id":34626400,"body":"@TomHawtin-tackline: There are a number of advantages to using xor in hardware implementations.  Further, behavior of xor is orthogonal to that of addition and multiplication, using it in combination with those other methods may improve &quot;blending&quot;.  The big thing to watch out for in any event is cases where the disproportionate appearance of certain patterns of input (e.g. pairs of things which match) will cause some hash codes to appear much more often than they should."},{"comment_id":101888199,"body":"@supercat fun fact, the hash code of <code>Map.Entry</code> has been fixed by specification to be <code>key.hashCode() ^ value.hashCode()</code> despite it is not even an unordered pair, as <code>key</code> and <code>value</code> have entirely different meaning. Yes, that implies that <code>Map.of(42, 42).hashCode()</code> or <code>Map.of(&quot;foo&quot;, &quot;foo&quot;, &quot;bar&quot;, &quot;bar&quot;).hashCode()</code>, etc, are predictably zero. So don’t use maps as keys for other maps…"},{"comment_id":101898519,"body":"@Holger: What&#39;s sad about that is that using <code>+</code> rather than <code>^</code> would have been just as fast, but only lose one bit of hashcode (and sometimes not even that, since some types&#39; hashcodes are never negative)."},{"comment_id":101901239,"body":"@supercat and the performance losses due to hash collisions outclass any savings of a few CPU cycles in the hash calculation anyway…"},{"comment_id":101901562,"body":"@Holger: Using a complicated hash to prevent the loss of a hash bit from <code>x+y</code> would probably not pay off, but a hash that returns zero for all keys is just plain tragic."},{"comment_id":101942016,"body":"@supercat exactly, you have make the right trade off. Even on a hypothetical CPU that could save a cycle when using <code>^</code> instead of <code>+</code>, the significantly higher number of collisions would eat that advantage. It’s only when the key and value have the same hash code, but it’s not too far-fetched to have such mappings."}],"answer_id":299385,"body":"<p>On (mostly) old processors, multiplying by 31 can be relatively cheap. On an ARM, for instance, it is only one instruction:</p>\n\n<pre><code>RSB       r1, r0, r0, ASL #5    ; r1 := - r0 + (r0&lt;&lt;5)\n</code></pre>\n\n<p>Most other processors would require a separate shift and subtract instruction. However, if your multiplier is slow this is still a win. Modern processors tend to have fast multipliers so it doesn't make much difference, so long as 32 goes on the correct side.</p>\n\n<p>It's not a great hash algorithm, but it's good enough and better than the 1.0 code (and very much better than the 1.0 spec!).</p>\n"},{"comments":[{"comment_id":145752,"body":"Well all primes are odd, except 2.  Just sayin."},{"comment_id":145815,"body":"I don&#39;t think Bloch is saying it was chosen because it was an odd prime, but because it was odd AND because it was prime (AND because it can easily be optimized into a shift/subtract)."},{"comment_id":150515,"body":"31 was chosen coz it is an odd prime??? That doesnt make any sense - I say 31 was chosen because it gave the best distribution - check  <a href=\"http://computinglife.wordpress.com/2008/11/20/why-do-hash-functions-use-prime-numbers/\" rel=\"nofollow noreferrer\">computinglife.wordpress.com/2008/11/20/&hellip;</a>"},{"comment_id":1709979,"body":"I think the choice of 31 is rather unfortunate. Sure, it might save a few CPU cycles on old machines, but you have hash collisions already on short ascii strings like &quot;@ and #! , or  Ca and DB . This does not happen if you choose, for instance, 1327144003, or at least 524287 which also allows bitshift: 524287 * i == i &lt;&lt; 19 - i."},{"comment_id":2761539,"body":"But why multiply it just pushes the low order bits from the item to the left, after enough items all your bits are pushed left and overflow. perhaps if they underflowed then things might be better."},{"comment_id":2827632,"body":"@hstoerr:  I&#39;d like to see your math on that.  Even if you&#39;re right (which you most likely are for the 2 digit example), I think if you look at how hashes are used in Java, it doesn&#39;t really hurt things very much for there to be collisions in very short strings.  They&#39;re not used for keys all that often."},{"comment_id":2856302,"body":"@Jason See my answer <a href=\"http://stackoverflow.com/questions/1835976/what-is-a-sensible-prime-for-hashcode-calculation/2816747#2816747\" title=\"what is a sensible prime for hashcode calculation\">stackoverflow.com/questions/1835976/&hellip;</a> . My point is: you get much less collisions if you use a larger prime, and lose nothing these days. The problem is worse if you use non-english languages with common non-ascii chars. And 31 served as a bad example for many programmers when writing their own hashCode functions."},{"comment_id":35532302,"body":"Does the optimisation really help now, given arithmetic units in modern processors?"},{"comment_id":36932337,"body":"@hstoerr I fully agree with your. Using 31 was a terrible idea. There should be no collisions for strings of length two and no collisions for ASCII strings of length four, but there are plenty. Reusing 31 everywhere is even worse, see e.g. <a href=\"http://code.google.com/p/projectlombok/issues/detail?id=625\" rel=\"nofollow noreferrer\">this tiny rant of mine</a>."},{"comment_id":36932418,"body":"@RichardCorfield I&#39;m unsure if it makes sense, but the compiler still use it (see the comments to <a href=\"http://stackoverflow.com/a/21754471/581205\">this answer</a>)."},{"comment_id":42829045,"body":"Every math student should know why it is prime ---  It forms a group if and only if it is coprime with the group size."},{"comment_id":78005112,"body":"I am not sure why was this accepted as an answer. I mean it is simply copy paste from a reputed book!! A non math and a non computer science graduate like me was looking for an answer from a layman perspective. I am sorry but the answer is too intellectual for me. I have to do more google search now."},{"comment_id":80065418,"body":"How is &quot;multiplication by even number overflowed&quot; ? Overflow can happen even with odd numbers correct ?"},{"comment_id":85088873,"body":"@FrankQ. The issue isn&#39;t overflowing: that is inevitable, as you say. The issue is that multiplying by an even number guarantees that fewer bits contain &quot;varying&quot; information - the low bit becomes zero. Always zero. You&#39;ve lost one bit of &quot;variability&quot;. The result is a poorer distribution over possible hash values."},{"comment_id":134490980,"body":"Note that Google&#39;s AutoValue chose a much larger prime (1000003) for value object hash code calculation, since they found it to perform better than 31: <a href=\"https://stackoverflow.com/a/76264617/1108305\">stackoverflow.com/a/76264617/1108305</a>"}],"answer_id":299748,"body":"<p>According to Joshua Bloch's <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321356683\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Effective Java, Second Edition</a> (a book that can't be recommended enough, and which I bought thanks to continual mentions on Stack Overflow):</p>\n<blockquote>\n<p>The value 31 was chosen because it is an odd prime. If it were even and the multiplication overflowed, information would be lost, as multiplication by 2 is equivalent to shifting. The advantage of using a prime is less clear, but it is traditional. A nice property of 31 is that the multiplication can be replaced by a shift and a subtraction for better performance: <code>31 * i == (i &lt;&lt; 5) - i</code>. Modern VMs do this sort of optimization automatically.</p>\n</blockquote>\n<p><em>(from Chapter 3, Item 9: Always override <code>hashCode</code> when you override <code>equals</code>, page 48)</em></p>\n"},{"comments":[{"comment_id":2847078,"body":"Note however that you might get WAY more collisions if you use any kind of international charset with common characters outside the ASCII range. At least, I checked this for 31 and German. So I think the choice of 31 is broken."}],"answer_id":300111,"body":"<p>Goodrich and Tamassia computed from over 50,000 English words (formed as the union of the word lists provided in two variants of Unix) that using the constants 31, 33, 37, 39, and 41 will produce fewer than 7 collisions in each case. This may be the reason that so many Java implementations choose such constants.</p>\n<p>See section 9.2 Hash Tables (page 522) of <a href=\"https://enos.itcollege.ee/%7Ejpoial/algorithms/GT/Data%20Structures%20and%20Algorithms%20in%20Java%20Fourth%20Edition.pdf\" rel=\"noreferrer\">Data Structures and Algorithms in Java</a>.</p>\n"},{"answer_id":884257,"body":"<p>By multiplying, bits are shifted to the left. This uses more of the available space of hash codes, reducing collisions.</p>\n\n<p>By not using a power of two, the lower-order, rightmost bits are populated as well, to be mixed with the next piece of data going into the hash.</p>\n\n<p>The expression <code>n * 31</code> is equivalent to <code>(n &lt;&lt; 5) - n</code>.</p>\n"},{"answer_id":2733601,"body":"<p>Bloch doesn't quite go into this, but the rationale I've always heard/believed is that this is basic algebra.  Hashes boil down to multiplication and modulus operations, which means that you never want to use numbers with common factors if you can help it.  In other words, relatively prime numbers provide an even distribution of answers.</p>\n\n<p>The numbers that make up using a hash are typically:</p>\n\n<ul>\n<li>modulus of the data type you put it into\n(2^32 or 2^64)</li>\n<li>modulus of the bucket count in your hashtable (varies.  In java used to be prime, now 2^n)</li>\n<li>multiply or shift by a magic number in your mixing function</li>\n<li>The input value</li>\n</ul>\n\n<p>You really only get to control a couple of these values, so a little extra care is due.</p>\n"},{"comments":[{"comment_id":31173546,"body":"@Mainguy It&#39;s actually ALGOL syntax and is used fairly often in pseudo-code."},{"comment_id":47664589,"body":"but in ARM assembly multiplication by 31 can be done in a single instruction"},{"comment_id":47665523,"body":"@Mainguy <a href=\"http://programmers.stackexchange.com/questions/101716/in-pseudo-code-what-does-mean\">In pseudo code what does := mean?</a>"},{"comment_id":70511936,"body":"In <a href=\"https://en.wikipedia.org/wiki/The_Practice_of_Programming\" rel=\"nofollow noreferrer\">TPOP</a> (1999) one can read about early Java (p.57): &quot;... The problem was resolved by replacing the hash with one equivalent to the one we have shown (with a multiplier of <b>37</b>) ...&quot;"}],"answer_id":6850231,"body":"<p>Actually, 37 would work pretty well!  z := 37 * x can be computed as <code>y := x + 8 * x; z := x + 4 * y</code>.  Both steps correspond to one LEA x86 instructions, so this is extremely fast.  </p>\n\n<p>In fact, multiplication with the even-larger prime <strong>73</strong> could be done at the same speed by setting <code>y := x + 8 * x; z := x + 8 * y</code>.</p>\n\n<p>Using 73 or 37 (instead of 31) might be better, because it leads to <em>denser code</em>:  The two LEA instructions only take 6 bytes vs. the 7 bytes for move+shift+subtract for the multiplication by 31.  One possible caveat is that the 3-argument LEA instructions used here became slower on Intel's Sandy bridge architecture, with an increased latency of 3 cycles.</p>\n\n<p>Moreover, <a href=\"http://bigbangtheory.wikia.com/wiki/73\" rel=\"noreferrer\">73</a> is Sheldon Cooper's favorite number.</p>\n"},{"answer_id":8417835,"body":"<p>Neil Coffey <a href=\"http://www.javamex.com/tutorials/collections/hash_function_technical_2.shtml\" rel=\"noreferrer\">explains</a> why 31 is used under <em>Ironing out the bias</em>.</p>\n\n<p>Basically using 31 gives you a more even set-bit probability distribution for the hash function.</p>\n"},{"answer_id":35304979,"body":"<p>You can read Bloch's original reasoning under \"Comments\" in <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622\" rel=\"noreferrer\">http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622</a>. He investigated the performance of different hash functions in regards to the resulting \"average chain size\" in a hash table. <code>P(31)</code> was one of the common functions during that time which he found in K&amp;R's book (but even Kernighan and Ritchie couldn't remember where it came from). In the end he basically had to choose one and so he took <code>P(31)</code> since it seemed to perform well enough. Even though <code>P(33)</code> was not really worse and multiplication by 33 is equally fast to calculate (just a shift by 5 and an addition), he opted for 31 since 33 is not a prime:</p>\n\n<blockquote>\n  <p>Of the remaining\n  four, I'd probably select P(31), as it's the cheapest to calculate on a RISC\n  machine (because 31 is the difference of two powers of two).  P(33) is\n  similarly cheap to calculate, but it's performance is marginally worse, and\n  33 is composite, which makes me a bit nervous.</p>\n</blockquote>\n\n<p>So the reasoning was not as rational as many of the answers here seem to imply. But we're all good in coming up with rational reasons after gut decisions (and even Bloch might be prone to that).</p>\n"},{"answer_id":44508855,"body":"<p>From <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4045622\" rel=\"noreferrer\">JDK-4045622</a>, where Joshua Bloch describes the reasons why that particular (new) <code>String.hashCode()</code> implementation was chosen</p>\n\n<blockquote>\n  <p>The table below summarizes the performance of the various hash\n  functions described above, for three data sets:</p>\n  \n  <p>1) All of the words and phrases with entries in Merriam-Webster's\n         2nd Int'l Unabridged Dictionary (311,141 strings, avg length 10 chars).</p>\n  \n  <p>2) All of the strings in /bin/<em>, /usr/bin/</em>, /usr/lib/<em>, /usr/ucb/</em>\n         and /usr/openwin/bin/*  (66,304 strings, avg length 21 characters).</p>\n  \n  <p>3) A list of URLs gathered by a web-crawler that ran for several\n         hours last night (28,372 strings, avg length 49 characters).</p>\n  \n  <p>The performance metric shown in the table is the \"average chain size\"\n  over all elements in the hash table (i.e., the expected value of the\n  number of key compares to look up an element).</p>\n\n<pre><code>                          Webster's   Code Strings    URLs\n                          ---------   ------------    ----\nCurrent Java Fn.          1.2509      1.2738          13.2560\nP(37)    [Java]           1.2508      1.2481          1.2454\nP(65599) [Aho et al]      1.2490      1.2510          1.2450\nP(31)    [K+R]            1.2500      1.2488          1.2425\nP(33)    [Torek]          1.2500      1.2500          1.2453\nVo's Fn                   1.2487      1.2471          1.2462\nWAIS Fn                   1.2497      1.2519          1.2452\nWeinberger's Fn(MatPak)   6.5169      7.2142          30.6864\nWeinberger's Fn(24)       1.3222      1.2791          1.9732\nWeinberger's Fn(28)       1.2530      1.2506          1.2439\n</code></pre>\n  \n  <p>Looking at this table, it's clear that all of the functions except for\n  the current Java function and the two broken versions of Weinberger's\n  function offer excellent, nearly indistinguishable performance.  I\n  strongly conjecture that this performance is essentially the\n  \"theoretical ideal\", which is what you'd get if you used a true random\n  number generator in place of a hash function.</p>\n  \n  <p>I'd rule out the WAIS function as its specification contains pages of random numbers, and its performance is no better than any of the\n  far simpler functions.  Any of the remaining six functions seem like\n  excellent choices, but we have to pick one.  I suppose I'd rule out\n  Vo's variant and Weinberger's function because of their added\n  complexity, albeit minor.  Of the remaining four, I'd probably select\n  P(31), as it's the cheapest to calculate on a RISC machine (because 31\n  is the difference of two powers of two).  P(33) is similarly cheap to\n  calculate, but it's performance is marginally worse, and 33 is\n  composite, which makes me a bit nervous.</p>\n  \n  <p>Josh</p>\n</blockquote>\n"},{"answer_id":54739533,"body":"<p>In latest version of JDK, 31 is still used. <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#hashCode()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/String.html#hashCode()</a></p>\n\n<p>The purpose of hash string is</p>\n\n<ul>\n<li>unique (Let see operator <code>^</code> in hashcode calculation document, it help unique)</li>\n<li>cheap cost for calculating</li>\n</ul>\n\n<p>31 is max value can put in 8 bit (= 1 byte) register, is largest prime number can put in 1 byte register, is odd number.</p>\n\n<p>Multiply 31 is &lt;&lt;5 then subtract itself, therefore need cheap resources.</p>\n"},{"answer_id":57100339,"body":"<p><strong>Java String hashCode() and 31</strong></p>\n<p>This is because 31 has a nice property – it's multiplication can be replaced by a bitwise shift which is faster than the standard multiplication:</p>\n<pre><code>31 * i == (i &lt;&lt; 5) - i\n</code></pre>\n"},{"answer_id":62545515,"body":"<p>A big expectation from hash functions is that their result's uniform randomness survives an operation such as <code>hash(x) % N</code> where N is an arbitrary number (and in many cases, a power of two), one reason being that such operations are used commonly in hash tables for determining slots. Using prime number multipliers when computing the hash decreases the probability that your multiplier and the N share divisors, which would make the result of the operation less uniformly random.</p>\n<p>Others have pointed out the nice property that multiplication by 31 can be done by a multiplication and a subtraction. I just want to point out that there is a mathematical term for such primes: <a href=\"https://en.wikipedia.org/wiki/Mersenne_prime\" rel=\"nofollow noreferrer\">Mersenne Prime</a></p>\n<p>All mersenne primes are one less than a power of two so we can write them as:</p>\n<pre><code>p = 2^n - 1\n</code></pre>\n<p>Multiplying x by p:</p>\n<pre><code>x * p = x * (2^n - 1) = x * 2^n - x = (x &lt;&lt; n) - x\n</code></pre>\n<p>Shifts (SAL/SHL) and subtractions (SUB) are generally faster than multiplications (MUL) on many machines. See <a href=\"https://www.agner.org/optimize/instruction_tables.pdf\" rel=\"nofollow noreferrer\">instruction tables from Agner Fog</a></p>\n<p>That's why GCC seems to optimize multiplications by mersenne primes by replacing them with shifts and subs, <a href=\"https://godbolt.org/z/jpeZEB\" rel=\"nofollow noreferrer\">see here</a>.</p>\n<p>However, in my opinion, such a small prime is a bad choice for a hash function. With a relatively good hash function, you would expect to have randomness at the higher bits of the hash. However, with the Java hash function, there is almost no randomness at the higher bits with shorter strings (and still highly questionable randomness at the lower bits). This makes it more difficult to build efficient hash tables. See <a href=\"https://lemire.me/blog/2016/06/27/a-fast-alternative-to-the-modulo-reduction/\" rel=\"nofollow noreferrer\">this nice trick you couldn't do with the Java hash function</a>.</p>\n<p>Some answers mention that they believe it is good that 31 fits into a byte. This is actually useless since:</p>\n<p>(1) We execute shifts instead of multiplications, so the size of the multiplier does not matter.</p>\n<p>(2) As far as I know, there is no specific x86 instruction to multiply an 8 byte value with a 1 byte value so you would have needed to convert &quot;31&quot; to a 8 byte value anyway even if you were multiplying. See <a href=\"https://godbolt.org/z/HqArTp\" rel=\"nofollow noreferrer\">here</a>, you multiply entire 64bit registers.</p>\n<p>(And 127 is actually the largest mersenne prime that could fit in a byte.)</p>\n<p>Does a smaller value increase randomness in the middle-lower bits? Maybe, but it also seems to greatly increase the possible collisions :).</p>\n<p>One could list many different issues but they generally boil down to two core principles not being fulfilled well: <a href=\"https://en.wikipedia.org/wiki/Confusion_and_diffusion\" rel=\"nofollow noreferrer\">Confusion and Diffusion</a></p>\n<p>But is it fast? Probably, since it doesn't do much. However, if performance is really the focus here, one character per loop is quite inefficient. Why not do 4 characters at a time (8 bytes) per loop iteration for longer strings, <a href=\"https://godbolt.org/z/b2TKFs\" rel=\"nofollow noreferrer\">like this</a>?  Well, that would be difficult to do with the current definition of hash where you need to multiply every character individually (please tell me if there is a bit hack to solve this :D).</p>\n"}],"last_activity_date":1684258347,"question_id":299304,"body":"<p>Per the Java documentation, the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#hashCode()\" rel=\"noreferrer\">hash code</a> for a <code>String</code> object is computed as:</p>\n\n<blockquote>\n<pre><code>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\n</code></pre>\n  \n  <p>using <code>int</code> arithmetic, where <code>s[i]</code> is the\n   <i>i</i>th character of the string, <code>n</code> is the length of\n   the string, and <code>^</code> indicates exponentiation.</p>\n</blockquote>\n\n<p>Why is 31 used as a multiplier?</p>\n\n<p>I understand that the multiplier should be a relatively large prime number. So why not 29, or 37, or even 97?</p>\n"},{"comments":[{"comment_id":67265695,"body":"Did you find any solution to this problem? I am also facing same issue."},{"comment_id":67328992,"body":"I also experiencing this problem."},{"comment_id":67386692,"body":"Yes, I solved it. The point is to use one library end-to-end. I found a way to use the avro-tools also for json serialization. Sorry I can&#39;t give you a sample code because I&#39;m at a vacation these days and I&#39;ve got no access to my work sources... HTH"},{"comment_id":78940745,"body":"I solved this in a different way.  I copied the velocity templates from the avro distribution into my project and added   @com.fasterxml.jackson.annotation.JsonIgnore on all SHEMA$ properties and getter methods."},{"comment_id":107344531,"body":"@Amir is your sample code from controller?"}],"answers":[{"comments":[{"comment_id":94926790,"body":"This worked for me. Thanks for the solution. For anyone looking to ignore same method in a hierarchy of classes the following worked for me.    <b>om.addMixIn(Object.class, IgnoreSchemaProperty.class)</b>"},{"comment_id":112058143,"body":"i tried similar however, I am getting com.fasterxml.jackson.databind.JsonMappingException: Infinite recursion (StackOverflowError)"},{"comment_id":118914118,"body":"My avro schema has many Logical Types, I am getting this error even after following this solution - Caused by: org.apache.avro.AvroRuntimeException: Not an enum: {&quot;type&quot;:&quot;int&quot;,&quot;logicalType&quot;:&quot;date&quot;}"},{"comment_id":122888433,"body":"Hi, I know I might be a bit late to this, but I ran into the &quot;Infinite Recursion&quot; issue after following the exact instructions as the answer. Only change I had to make was add another @JsonIgnore for SpecificData in the MixIn. Add the following line into the IgnoreSchemaProperty MixIn <code>@JsonIgnore SpecificData getSpecificData()</code>"}],"answer_id":47660919,"body":"<p>If the <code>SCHEMA</code> member is really the case (we don't see the full error message), then you can switch it off. I use a mixin to do it, like this:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport org.apache.avro.Schema;\nimport org.junit.Test;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class AvroGenerTests\n{\n  abstract class IgnoreSchemaProperty\n  {\n    // You have to use the correct package for JsonIgnore,\n    // fasterxml or codehaus\n    @JsonIgnore abstract void getSchema();\n  }\n\n  @Test\n  public void writeJson() throws IOException {\n    BookAvro b = BookAvro.newBuilder()\n      .setTitle(\"Wilk stepowy\")\n      .setAuthor(\"Herman Hesse\")\n      .build();\n    ObjectMapper om = new ObjectMapper();\n    om.enable(SerializationFeature.INDENT_OUTPUT);\n    om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\n    om.writeValue(new File(\"plik_z_gen.json\"), b);\n  }\n}\n</code></pre>\n"},{"answer_id":63811095,"body":"<p>The previous post answers the question correctly. I am just adding on to the previous answer. Instead of writing it to a file I converted it to a string before sending it as body in a POST request.</p>\n<pre><code>public class AvroGenerateJSON\n{\n  abstract class IgnoreSchemaProperty\n  {\n    // You have to use the correct package for JsonIgnore,\n    // fasterxml or codehaus\n    @JsonIgnore abstract void getSchema();\n  }\n\n  public String convertToJson() throws IOException {\n    BookAvro b = BookAvro.newBuilder()\n      .setTitle(&quot;Wilk stepowy&quot;)\n      .setAuthor(&quot;Herman Hesse&quot;)\n      .build();\n    ObjectMapper om = new ObjectMapper();\n    om.enable(SerializationFeature.INDENT_OUTPUT);\n    om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\n    String jsonString = om.writeValueAsString(b);\n    return jsonString;\n  }\n}\n</code></pre>\n"},{"answer_id":66124282,"body":"<p>After finding the code example at <a href=\"https://www.programcreek.com/java-api-examples/?api=org.apache.avro.io.JsonEncoder\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/?api=org.apache.avro.io.JsonEncoder</a> I wrote a method that should convert any given Avro object (they extend GenericRecord) to a Json String.  Code:</p>\n<pre><code>import org.apache.avro.generic.GenericDatumWriter;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.io.JsonEncoder;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\n// ... Class header etc. ...\n\npublic static &lt;T extends GenericRecord&gt; String convertToJsonString(T event) throws IOException {\n\n    String jsonstring = &quot;&quot;;\n\n    try {\n        DatumWriter&lt;T&gt; writer = new GenericDatumWriter&lt;T&gt;(event.getSchema());\n        OutputStream out = new ByteArrayOutputStream();\n        JsonEncoder encoder = EncoderFactory.get().jsonEncoder(event.getSchema(), out);\n        writer.write(event, encoder);\n        encoder.flush();\n        jsonstring = out.toString();\n    } catch (IOException e) {\n        log.error(&quot;IOException occurred.&quot;, e);\n        throw e;\n    }\n\n    return jsonstring;\n}\n</code></pre>\n"},{"comments":[{"comment_id":118914257,"body":"Top rated solution was not working for me, I suppose because I had logical types in avro schema and I was getting exception as mentioned at the end. This Solution works perfectly.. Caused by: org.apache.avro.AvroRuntimeException: Not an enum: {&quot;type&quot;:&quot;int&quot;,&quot;logicalType&quot;:&quot;date&quot;}"}],"answer_id":66200403,"body":"<p>My req'ts got changed on me and I was told I needed to convert Avro objects straight to JSON without preserving any of the meta-data.  My other answer herein that specified a method convertToJsonString converts the entire Avro object to JSON so that using a de-encoder you can re-create the original Avro object as an Avro object.  That isn't what my mgt. wanted anymore so I was back to the old drawing board.</p>\n<p>As a Hail Mary pass I tried using Gson and it works to do what I now had to do.  It's very simple:</p>\n<pre><code> Gson gson = new Gson();\n String theJsonString = gson.toJson(object_ur_converting);\n</code></pre>\n<p>And you're done.</p>\n"},{"comments":[{"comment_id":132741793,"body":"Didn&#39;t work + too many basic syntax error"}],"answer_id":70222480,"body":"<p>Agree with Shivansh's answer. To add, there might be instances where we need to use the avro-generated pojo in other classes. Under the hood, spring uses jackson library in handling this so we need to override global jackson config by adding a class</p>\n<pre><code>@Configuration\npublic class JacksonConfiguration {\n    public abstract IgnoreSchemaProperty {\n          @JsonIgnore abstract void getSchema();\n    }\n    @Bean\n    public ObjectMapper objectMapper() {\n          ObjectMapper om = new ObjectMapper();\n          om.addMixIn(SpecificRecordBase.class, IgnoreSchemaProperty.class);\n          return om;\n    }\n}\n</code></pre>\n<p>SpecificRecordBase -if we want to ignore the schema field from all avro generated classes. In this way, we can serialize/deserialize our avro classes and use it anywhere in our application without getting the issue.</p>\n"},{"comments":[{"comment_id":130960456,"body":"Thanks Jose, i had some exceptions related to {&quot;type&quot;:&quot;int&quot;,&quot;logicalType&quot;:&quot;date&quot;}, after adding all of these @JsonIgnore annotations I am now able to proceede"}],"answer_id":73789976,"body":"<p>2022 Avro field names</p>\n<pre><code>abstract class IgnoreSchemaPropertyConfig {\n   // You have to use the correct package for JsonIgnore,\n   // fasterxml or codehaus\n   @JsonIgnore\n   abstract void getClassSchema();\n\n   @JsonIgnore\n   abstract void getSpecificData();\n\n   @JsonIgnore\n   abstract void get();\n\n   @JsonIgnore\n   abstract void getSchema();\n}\n</code></pre>\n"},{"answer_id":76265692,"body":"<p>If you are experiencing this issue when trying to use structured logging via <a href=\"https://github.com/logfellow/logstash-logback-encoder\" rel=\"nofollow noreferrer\">logstash-logback-encoder</a>. Then you need to use a <code>JsonFactoryDecorator</code> implementation to add the mixin to ignore the problematic avro generated getters.</p>\n<pre><code>package the.package.path;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.core.JsonFactory;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport net.logstash.logback.decorate.JsonFactoryDecorator;\nimport org.apache.avro.specific.SpecificRecordBase;\n\n\npublic class AvroJsonFactoryDecorator implements JsonFactoryDecorator {\n    abstract class JacksonIgnoreAvroProperties {\n\n        @JsonIgnore\n        public abstract org.apache.avro.Schema getClassSchema();\n\n        @JsonIgnore\n        public abstract org.apache.avro.specific.SpecificData getSpecificData();\n\n        @JsonIgnore\n        public abstract java.lang.Object get(int field$);\n\n        @JsonIgnore\n        public abstract org.apache.avro.Schema getSchema();\n    }\n\n    @Override\n    public JsonFactory decorate(JsonFactory factory) {\n        ObjectMapper objectMapper = (ObjectMapper) factory.getCodec();\n        objectMapper.addMixIn(SpecificRecordBase.class, JacksonIgnoreAvroProperties.class);\n        return factory;\n    }\n}\n</code></pre>\n<p>And then include the following in your logback config:</p>\n<pre><code>&lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n                &lt;jsonFactoryDecorator class=&quot;the.package.path.AvroJsonFactoryDecorator&quot;/&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n</code></pre>\n"}],"last_activity_date":1684257931,"question_id":39349733,"body":"<p>I used avro-tools to generate java classes from avsc files, using:</p>\n\n<pre><code>java.exe -jar avro-tools-1.7.7.jar compile -string schema myfile.avsc \n</code></pre>\n\n<p>Then I tried to serialize such objects to json by ObjectMapper,\nbut always got a JsonMappingException saying \"not an enum\" or \"not a union\".\nIn my test I create the generated object using it's builder or constructor.\nI got such exceptions for objects of different classes...</p>\n\n<p>Sample Code:</p>\n\n<pre><code>ObjectMapper serializer = new ObjectMapper(); // com.fasterxml.jackson.databind\nserializer.register(new JtsModule()); // com.bedatadriven.jackson.datatype.jts\n...\nreturn serializer.writeValueAsBytes(avroConvertedObject); // =&gt; JsonMappingException\n</code></pre>\n\n<p>I also tried many configurations using: serializer.configure(...) but still failed.\n<strong>Versions:</strong> Java 1.8, jackson-datatype-jts 2.3, \njackson-core 2.6.5, jackson-databind 2.6.5, jackson-annotations 2.6.5</p>\n\n<p>Any suggestions?\nThanks!</p>\n"},{"comments":[{"comment_id":134491003,"body":"Have you added Jitpack to your list of repositories, as described in the setup instructions? <a href=\"https://github.com/androidmads/QRGenerator#how-to-import-the-library\" rel=\"nofollow noreferrer\">github.com/androidmads/QRGenerator#how-to-import-the-library</a>"},{"comment_id":134491316,"body":"It did not work to add Jitpack in allprojects as reccomended but to add it to root settings.gradle, here: dependencyResolutionManagement"},{"comment_id":134492405,"body":"Having the repositories in settings.gradle is the new project layout used by AS for new projects. Originally everything was located in build.gradle."}],"last_activity_date":1684257744,"question_id":76265670,"body":"<p>I am new to Android and I am trying to create a QR code but when I add the library in gradle I get: <strong>Failed to resolve: com.github.androidmads:QRGenerator:1.0.3</strong></p>\n<p>The project has just been created but I could not find any solution to make it work. What could be the solution for this?</p>\n<p>The code in my grade is:</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n}\n\next {\n    qrgeneratorVersion = qrgeneratorVersion\n}\nandroid {\n    namespace 'com.example.androidqrpayment'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.androidqrpayment&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'androidx.navigation:navigation-fragment:2.5.2'\n    implementation 'androidx.navigation:navigation-ui:2.5.2'\n    implementation 'com.github.androidmads:QRGenerator:1.0.3'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":134471746,"body":"What do you mean by “the xpaths are the same”? The xpaths are being constructed on each iteration."},{"comment_id":134472051,"body":"Post a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"comment_id":134475001,"body":"Terrible title. Rewrite to summarize your specific technical issue."},{"comment_id":134490887,"body":"I have a list of elements that I would like to click and search with a text (String status) but the elements are the same and do not have an ID. I would like to take the Label and scroll through the list of elements and click on a specific one with the text I pass."}],"last_activity_date":1684257452,"question_id":76254735,"body":"<pre><code>public static void searchTextInsideViewGroupAndClick(List&lt;WebElement&gt; list, String word, String status) {\n    StringBuffer result = new StringBuffer();\n    List&lt;String&gt; text = new ArrayList&lt;&gt;();\n    for (int x = 0; x &lt;= list.size(); x++) {\n        Pattern p = Pattern.compile(&quot;(?&lt;=-&gt; xpath:)(.*)(?=])&quot;);\n        Matcher m = p.matcher(String.valueOf(list.get(x)));\n        m.find();\n        String el = m.group(0);\n        Integer list2 = web().getWebDriver().findElements(By.xpath(el + &quot;[&quot; + (x + 1) + &quot;]&quot; + &quot;(//span[text()=&quot; + status + &quot;])[2]&quot;))\n                .size();\n        for (int y = 1; y &lt;= list2; y++) {\n            String txt = web().getWebDriver()\n                    .findElements(By.xpath(el + &quot;[&quot; + (x + 1) + &quot;]&quot; + &quot;(//span[text()=&quot; + status + &quot;])[2][&quot; + y + &quot;]&quot;))\n                    .iterator().next().getText();\n            text.add(txt);\n            result = text.stream().map(StringBuffer::new).reduce(new StringBuffer(&quot;&quot;), StringBuffer::append);\n        }\n        if (!result.toString().contains(word)) {\n            list.get(x).click();\n        }\n    }\n}\n</code></pre>\n<p>I have a list of elements that I would like to click and search with a text (String status) but the elements are the same and do not have an ID.\nI would like to take the Label and scroll through the list of elements and click on a specific one with the text I pass.</p>\n"},{"comments":[{"comment_id":134478677,"body":"Please include the full stack trace."},{"comment_id":134478780,"body":"Because: &quot;Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator&quot;.   The static initialization of the class failed; i.e. it threw an exception that wasn&#39;t caught.  Look for &gt;that&lt; stacktrace."},{"comment_id":134483497,"body":"Check <a href=\"https://stackoverflow.com/questions/49334095/error-during-digital-signature-verification-nosuchfielderror-id-ta-ecdsa-sha-1\">this</a> out"}],"answers":[{"answer_id":76265609,"body":"<p>The fix for Spring 3 was to update one of the bouncyCastle jars in the pom from bcprov-jdk15on to bcprov-jdk18on (which is for Java 1.8+)</p>\n"}],"last_activity_date":1684257133,"question_id":76258473,"body":"<p>I migrated a webservice from Spring boot 2 to 3, and now I get a NoClassDefFoundError when the code in DefaultSignatureValidatorFactory tries to create a RsaSignatureValidator object.</p>\n<p>I see the RsaSignatureValidator class in the jar file and I can open the code for that class by cmd-clicking the class from the calling class in Intellij debugger.</p>\n<p>The same code locates the class just fine in the springboot 2 version.</p>\n<p>How can I determine why that NoClassDefFoundError is being thrown?</p>\n<p>The code does not even get into the constructor but throws a java.lang.NoClassDefFoundError: Could not initialize class io.jsonwebtoken.impl.crypto.RsaSignatureValidator</p>\n<p>EDIT: Here is the stacktrace when I get the first exception where I believe the static initialization failed:</p>\n<pre><code>java.lang.NoSuchFieldError: id_TA_ECDSA_SHA_1\n    at org.bouncycastle.jce.provider.asymmetric.ECMappings.&lt;init&gt;(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.loadAlgorithms(Unknown Source)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.setup(Unknown Source)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.access$000(Unknown Source)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider$1.run(Unknown Source)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.bouncycastle.jce.provider.BouncyCastleProvider.&lt;init&gt;(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at io.jsonwebtoken.lang.Classes.newInstance(Classes.java:156)\n    at io.jsonwebtoken.lang.RuntimeEnvironment.enableBouncyCastleIfPossible(RuntimeEnvironment.java:53)\n    at io.jsonwebtoken.lang.RuntimeEnvironment.&lt;clinit&gt;(RuntimeEnvironment.java:62)\n    at io.jsonwebtoken.impl.crypto.RsaProvider.&lt;clinit&gt;(RsaProvider.java:59)\n    at io.jsonwebtoken.impl.crypto.DefaultSignatureValidatorFactory.createSignatureValidator(DefaultSignatureValidatorFactory.java:43)\n    at io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:50)\n    at io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.&lt;init&gt;(DefaultJwtSignatureValidator.java:39)\n    at io.jsonwebtoken.impl.DefaultJwtParser.createSignatureValidator(DefaultJwtParser.java:541)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:402)\n    at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:550)\n    at io.jsonwebtoken.impl.ImmutableJwtParser.parse(ImmutableJwtParser.java:153)\n    at com.okta.jwt.impl.jjwt.TokenVerifierSupport.decode(TokenVerifierSupport.java:81)\n    at com.okta.jwt.impl.jjwt.JjwtAccessTokenVerifier.decode(JjwtAccessTokenVerifier.java:56)\n    at io.onq.service.security.AuthTokenUtil.getClaimsFromOktaToken(AuthTokenUtil.java:108)\n    at io.onq.service.security.AuthTokenUtil.getFromAuthProviderToken(AuthTokenUtil.java:125)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at io.onq.service.security.AuthTokenUtil$$SpringCGLIB$$0.getFromAuthProviderToken(&lt;generated&gt;)\n    at io.onq.web.filter.UserAuthenticationTokenFilter.doFilterInternal(UserAuthenticationTokenFilter.java:61)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":45287424,"body":"That was just sample code.  Replace the &quot;inputField&quot; with the names of your variables.  You should place it in the &quot;clear&quot; method."}],"answer_id":28482520,"body":"<p>You can use <code>inputField.setText(\"\");</code> to set the text of any field to nothing.</p>\n"},{"answer_id":28482699,"body":"<p>Your Code sniplet is quite short and I can't figure out, what it is there for, except giving the names of the Textfields?</p>\n\n<p>Anyway, in genereal your program could look like this:</p>\n\n<pre><code>public class calculator implements ActionListener{\n    JTextField inputXTextField;\n    JTextField inputYTextField;\n    JButton bClear=new JButton(\"clear all\");\n    JPanel panel;\n\n    private void init(){\n        bClear.addActionListener(this);\n        panel.add(bClear);\n        panel.add....\n    }\n\n    void actionPerformed(ActionEvent e){\n        Object obj=e.getSource();\n        if (obj=bClear){\n            inputXTextField=new JTextField(...);\n            or\n            inputXTextField.setText(\"\"); //just to empty the field\n            .\n            .\n        }\n    }\n</code></pre>\n"},{"answer_id":28482947,"body":"<pre><code>JTextField textField1, textField2; //Or as many as you want;\nJButton clear;\n\nprivate void init(){\n    textField1 = new JTextField(); //Do this for all text fields.\n    clear=new JButton(\"C\");\n    clear.addActionListener(this);\n    //Add controls to the panel/frame\n}\n\nvoid actionPerformed(ActionEvent e){\n    Object obj=e.getSource();\n    if (e.getSource==clear){\n       textField1.setText(\"\");\n       textField2.setText(\"\");\n       //... For all the textFields you have\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684256956,"question_id":28482421,"body":"<p>I'm trying to make a simple calculator and i want a reset button when pressed it clears all the text fields. I've already added an addActionListener and and ive already added the button panel just need to know the method on how do I do this. here is my code -</p>\n\n<pre><code>else if(choice.equals(\"c\")) {\n            xValue = inputXTextField.getText();\n            yValue = inputYTextField.getText();\n            if(convertPreOperand(xValue) &amp;&amp; convertPostOperand(yValue)) {\n                total = preOperand c postOperand;\n                outputTextField.setText(Double.toString(total));\n            }\n       }\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134499248,"body":"great work, thank you!  Enriching the security SpEL DSL is indeed much trickier than I expected (or I should expect I guess), tweaking your implementation to work with my code was quite fast and straightforward however"}],"answer_id":76265519,"body":"<p>First, what you did is not quite adapted to authorities mapping: there are authentication (and authorities) converters for that. I have written a tutorial for configuring a quite universal authorities mapper <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/servlet-resource-server\" rel=\"nofollow noreferrer\">there</a>. It is compatible with Keycloak roles defined at realm level (those you found in <code>realm_access.roles</code> claim) as well as client level (<code>resource-access.{client-id}.roles</code> claims).</p>\n<p>Enriching the security SpEL DSL is actually a bit tricky (I had to copy a Spring protected class to get it working) and should be used when needing more than <strong>R</strong>ole <strong>B</strong>ased <strong>A</strong>ccess <strong>C</strong>ontrol. I have <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_specialized_oauthentication\" rel=\"nofollow noreferrer\">another tutorial</a> for that, but it is quite adherent to my libs and starters (the previous one I linked is not).</p>\n<p>Here is a sample expression handler configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nstatic MethodSecurityExpressionHandler methodSecurityExpressionHandler() {\n    return new C4MethodSecurityExpressionHandler(ProxiesMethodSecurityExpressionRoot::new);\n}\n</code></pre>\n<p>With this expression root:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final class ProxiesMethodSecurityExpressionRoot extends C4MethodSecurityExpressionRoot {\n\n    public boolean is(String preferredUsername) {\n        return Objects.equals(preferredUsername, getAuthentication().getName());\n    }\n\n    public Proxy onBehalfOf(String proxiedUsername) {\n        return get(ProxiesAuthentication.class).map(a -&gt; a.getProxyFor(proxiedUsername))\n                .orElse(new Proxy(proxiedUsername, getAuthentication().getName(), List.of()));\n    }\n\n    public boolean isNice() {\n        return hasAnyAuthority(&quot;NICE&quot;, &quot;SUPER_COOL&quot;);\n    }\n}\n</code></pre>\n<p>And here is the code I had to copy from Spring Security:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class C4MethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n    private final Supplier&lt;C4MethodSecurityExpressionRoot&gt; expressionRootSupplier;\n\n    /**\n     * Creates the root object for expression evaluation.\n     */\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(Authentication authentication,\n            MethodInvocation invocation) {\n        return createSecurityExpressionRoot(() -&gt; authentication, invocation);\n    }\n\n    @Override\n    public EvaluationContext createEvaluationContext(Supplier&lt;Authentication&gt; authentication, MethodInvocation mi) {\n        var root = createSecurityExpressionRoot(authentication, mi);\n        var ctx = new C4MethodSecurityEvaluationContext(root, mi, getParameterNameDiscoverer());\n        ctx.setBeanResolver(getBeanResolver());\n        return ctx;\n    }\n\n    private MethodSecurityExpressionOperations createSecurityExpressionRoot(Supplier&lt;Authentication&gt; authentication,\n            MethodInvocation invocation) {\n        final var root = expressionRootSupplier.get();\n        root.setThis(invocation.getThis());\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(getTrustResolver());\n        root.setRoleHierarchy(getRoleHierarchy());\n        root.setDefaultRolePrefix(getDefaultRolePrefix());\n        return root;\n    }\n\n    static class C4MethodSecurityEvaluationContext extends MethodBasedEvaluationContext {\n\n        C4MethodSecurityEvaluationContext(MethodSecurityExpressionOperations root, MethodInvocation mi,\n                ParameterNameDiscoverer parameterNameDiscoverer) {\n            super(root, getSpecificMethod(mi), mi.getArguments(), parameterNameDiscoverer);\n        }\n\n        private static Method getSpecificMethod(MethodInvocation mi) {\n            return AopUtils.getMostSpecificMethod(mi.getMethod(), AopProxyUtils.ultimateTargetClass(mi.getThis()));\n        }\n\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class C4MethodSecurityExpressionRoot extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    private Object filterObject;\n    private Object returnObject;\n    private Object target;\n\n    public C4MethodSecurityExpressionRoot() {\n        super(SecurityContextHolder.getContext().getAuthentication());\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    protected &lt;T extends Authentication&gt; Optional&lt;T&gt; get(Class&lt;T&gt; expectedAuthType) {\n        return Optional.ofNullable(getAuthentication()).map(a -&gt; a.getClass().isAssignableFrom(expectedAuthType) ? (T) a : null).flatMap(Optional::ofNullable);\n    }\n\n    @Override\n    public void setFilterObject(Object filterObject) {\n        this.filterObject = filterObject;\n    }\n\n    @Override\n    public Object getFilterObject() {\n        return filterObject;\n    }\n\n    @Override\n    public void setReturnObject(Object returnObject) {\n        this.returnObject = returnObject;\n    }\n\n    @Override\n    public Object getReturnObject() {\n        return returnObject;\n    }\n\n    public void setThis(Object target) {\n        this.target = target;\n    }\n\n    @Override\n    public Object getThis() {\n        return target;\n    }\n\n}\n</code></pre>\n"}],"last_activity_date":1684256943,"question_id":76261787,"body":"<p>In my Java Spring Boot 3 application, I want to use Spring Security with <code>@PreAuthorize</code> / <code>@PostAuthorize</code>. For some reason, the Keycloak-generated tokens I receive do not have Roles under <code>Authorities</code> as Spring expects them, but under a <code>&quot;realm_access&quot;</code> attribute.<br />\nSo, I decided to go ahead and implement a custom Expession handler, following pretty much what I found in <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#customizing-expression-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authorization/method-security.html#customizing-expression-handling</a></p>\n<p>So, some code<br />\n<strong>Expression Root</strong></p>\n<pre><code>public class CustomMethodSecurityExpressionRoot\n        extends SecurityExpressionRoot implements MethodSecurityExpressionOperations {\n\n    public CustomMethodSecurityExpressionRoot(Authentication authentication) {\n        super(authentication);\n    }\n\n    public boolean hasRealmRole(String role) {\n        var principal = ((OAuth2AuthenticatedPrincipal)this.getPrincipal());\n        if (principal == null) {\n            return false;\n        }\n\n        var realmAccess = (JSONObject)principal.getAttribute(&quot;realm_access&quot;);\n        if (realmAccess == null) {\n            return false;\n        }\n\n        var roles = (JSONArray)realmAccess.get(&quot;roles&quot;);\n        if (roles == null || roles.isEmpty()) {\n            return false;\n        }\n\n        return roles.stream().anyMatch(x -&gt; x.equals(role));\n    }\n\n    @Override\n    public void setFilterObject(Object filterObject) {\n\n    }\n\n    @Override\n    public Object getFilterObject() {\n        return null;\n    }\n\n    @Override\n    public void setReturnObject(Object returnObject) {\n\n    }\n\n    @Override\n    public Object getReturnObject() {\n        return null;\n    }\n\n    @Override\n    public Object getThis() {\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Expression Handler</strong></p>\n<pre><code>public class CustomMethodSecurityExpressionHandler extends DefaultMethodSecurityExpressionHandler {\n    private AuthenticationTrustResolver trustResolver = new AuthenticationTrustResolverImpl();\n\n    @Override\n    protected MethodSecurityExpressionOperations createSecurityExpressionRoot(\n            Authentication authentication, MethodInvocation invocation) {\n        CustomMethodSecurityExpressionRoot root =\n                new CustomMethodSecurityExpressionRoot(authentication);\n        root.setPermissionEvaluator(getPermissionEvaluator());\n        root.setTrustResolver(this.trustResolver);\n        root.setRoleHierarchy(getRoleHierarchy());\n        return root;\n    }\n}\n</code></pre>\n<p><strong>Security Config</strong></p>\n<pre><code>@Configuration\n@EnableMethodSecurity\npublic class SecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n            .authorizeHttpRequests(auth -&gt; auth\n                    .requestMatchers(&quot;/health/**&quot;).permitAll()\n                    .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                    .requestMatchers(&quot;/swagger/**&quot;).permitAll()\n                    .requestMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\n                    // Cloud config related endpoint\n                    .requestMatchers(&quot;/configuration/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .oauth2ResourceServer(OAuth2ResourceServerConfigurer::opaqueToken);\n        return http.build();\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>    @PreAuthorize(&quot;hasRealmRole('FOOBAR')&quot;)\n    @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;Asset&gt; getAsset(@UUIDConstraint @PathVariable(&quot;id&quot;) String id) {\n    ...\n</code></pre>\n<p>and finally, the <strong>Beans</strong> based on the Spring reference added above</p>\n<pre><code>@Configuration\npublic class BaseConfig {\n    @Bean\n    public RoleHierarchy roleHierarchy() {\n        return new RoleHierarchyImpl();\n    }\n\n    @Bean\n    static MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\n        var handler = new CustomMethodSecurityExpressionHandler();\n        handler.setRoleHierarchy(roleHierarchy);\n        return handler;\n    }\n}\n</code></pre>\n<p>Now, when I am sending a request to the <code>/GET</code> endpoint, I get the following error:</p>\n<pre><code>java.lang.IllegalArgumentException: Failed to evaluate expression 'hasRealmRole('FOOBAR')'  \n...  \nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method hasRealmRole(java.lang.String) cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\n</code></pre>\n<p>Any idea why my <code>CustomMethodSecurityExpressionRoot</code> is not properly registered?</p>\n"},{"comments":[{"comment_id":134491331,"body":"Have you tried to do it without Spring?  I&#39;ve scaled to many threads reading from a single SQS queue and can get very good throughput."},{"comment_id":134498045,"body":"Was trying to avoid doing custom code, but probably will have to do it for performance reasons. Reading <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#default-polling-behavior\" rel=\"nofollow noreferrer\">docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/refere&zwnj;&#8203;nce/&hellip;</a> doesn&#39;t help as I don&#39;t see how batches are handled."}],"last_activity_date":1684256531,"question_id":76265548,"body":"<p>Trying to consume from SQS as fast and reliable as possible using the <a href=\"https://docs.awspring.io/spring-cloud-aws/docs/3.0.0-SNAPSHOT/reference/html/index.html#sqslistener-annotation\" rel=\"nofollow noreferrer\">@SqsListener</a> annotation.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SqsListener(value = &quot;${sqs-url}&quot;, maxConcurrentMessages = &quot;${maxConcurrentMessages:30}&quot;, \nmaxMessagesPerPoll = &quot;${maxMessagesPerPoll:15}&quot;, pollTimeoutSeconds = &quot;${pollTimeoutSeconds:5}&quot;)\n    public void listenEvent(List&lt;Message&lt;String&gt;&gt; messages, BatchAcknowledgement ack) {\n        var successfullyProcessed = new HashSet&lt;&gt;();\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#batchacknowledgement\n\n        messages.forEach(message -&gt; {\n            try {\n                // ... my logic ....\n\n                successfullyProcessed.add(message);\n            } catch (Exception e) {\n                log.error(&quot;Failed message={}&quot;, message, e);\n            }\n        });\n        ack.acknowledge(successfullyProcessed);\n        log.info(&quot;Acknowledged {} messages&quot;, successfullyProcessed.size());\n    }\n</code></pre>\n<p>extra config for manual acknowledge:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        //...\n        // https://docs.awspring.io/spring-cloud-aws/docs/3.0.0/reference/html/index.html#acknowledging-messages\n        factory.configure(options -&gt; options\n                .maxDelayBetweenPolls(Duration.ofSeconds(5))\n                .acknowledgementMode(AcknowledgementMode.MANUAL) \n                .acknowledgementInterval(Duration.ofSeconds(5))\n                .acknowledgementThreshold(10)\n                .acknowledgementOrdering(AcknowledgementOrdering.PARALLEL));\n</code></pre>\n<p>I believe maxConcurrentMessages is the number of threads to run in parallel, but not sure. If it is, Then don't want to have that number to high as I have limited CPU. Problem is that maxMessagesPerPoll cannot be higher than maxConcurrentMessages and therefore I cannot do polls for 100 messages using 8 threads. How can I make this efficient using low maxConcurrentMessages?</p>\n"},{"answers":[{"comments":[{"comment_id":92347381,"body":"getTableView().getItems().get(getIndex()); is not a function, i tried to added but is not working"},{"comment_id":113148984,"body":"Anyone using JFXTreeTableView Use this on the button click event -&gt;                                           User user = getTreeTableView().getTreeItem(getIndex()).getValue();"}],"answer_id":29490190,"body":"<p>To be able to render the column, <code>TableColumn</code> needs cellValueFactory. But the \"action\" column does not exist in underlying data model. In this case, I just give some dummy value to cellValueFactory and move on:</p>\n\n<pre><code>public class JustDoIt extends Application {\n\n    private final TableView&lt;Person&gt; table = new TableView&lt;&gt;();\n    private final ObservableList&lt;Person&gt; data\n            = FXCollections.observableArrayList(\n                    new Person(\"Jacob\", \"Smith\"),\n                    new Person(\"Isabella\", \"Johnson\"),\n                    new Person(\"Ethan\", \"Williams\"),\n                    new Person(\"Emma\", \"Jones\"),\n                    new Person(\"Michael\", \"Brown\")\n            );\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage stage) {\n        stage.setWidth(450);\n        stage.setHeight(500);\n\n        TableColumn firstNameCol = new TableColumn(\"First Name\");\n        firstNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"firstName\"));\n\n        TableColumn lastNameCol = new TableColumn(\"Last Name\");\n        lastNameCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"lastName\"));\n\n        TableColumn actionCol = new TableColumn(\"Action\");\n        actionCol.setCellValueFactory(new PropertyValueFactory&lt;&gt;(\"DUMMY\"));\n\n        Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt; cellFactory\n                = //\n                new Callback&lt;TableColumn&lt;Person, String&gt;, TableCell&lt;Person, String&gt;&gt;() {\n            @Override\n            public TableCell call(final TableColumn&lt;Person, String&gt; param) {\n                final TableCell&lt;Person, String&gt; cell = new TableCell&lt;Person, String&gt;() {\n\n                    final Button btn = new Button(\"Just Do It\");\n\n                    @Override\n                    public void updateItem(String item, boolean empty) {\n                        super.updateItem(item, empty);\n                        if (empty) {\n                            setGraphic(null);\n                            setText(null);\n                        } else {\n                            btn.setOnAction(event -&gt; {\n                                Person person = getTableView().getItems().get(getIndex());\n                                System.out.println(person.getFirstName()\n                                        + \"   \" + person.getLastName());\n                            });\n                            setGraphic(btn);\n                            setText(null);\n                        }\n                    }\n                };\n                return cell;\n            }\n        };\n\n        actionCol.setCellFactory(cellFactory);\n\n        table.setItems(data);\n        table.getColumns().addAll(firstNameCol, lastNameCol, actionCol);\n\n        Scene scene = new Scene(new Group());\n\n        ((Group) scene.getRoot()).getChildren().addAll(table);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static class Person {\n\n        private final SimpleStringProperty firstName;\n        private final SimpleStringProperty lastName;\n\n        private Person(String fName, String lName) {\n            this.firstName = new SimpleStringProperty(fName);\n            this.lastName = new SimpleStringProperty(lName);\n        }\n\n        public String getFirstName() {\n            return firstName.get();\n        }\n\n        public void setFirstName(String fName) {\n            firstName.set(fName);\n        }\n\n        public String getLastName() {\n            return lastName.get();\n        }\n\n        public void setLastName(String fName) {\n            lastName.set(fName);\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":85910557,"body":"Great solution. I&#39;m curious as to what role the <code>observable</code> plays."},{"comment_id":85977393,"body":"This is for future reference, but for this answer it can be remove as it is not used. Will update the answer. Thanks"},{"comment_id":134472132,"body":"This answer is not a good answer and should be avoided. A quote from James_D, &quot;TableView, TableColumn, TableCell, etc., should be types of data, not types of UI control. So you should never have, e.g., TableCell&lt;S, Button&gt;. Button is not a data type.&quot;.  <a href=\"https://stackoverflow.com/questions/76248808/how-do-i-add-a-button-into-a-jfx-tableview\" title=\"how do i add a button into a jfx tableview\">stackoverflow.com/questions/76248808/&hellip;</a>"}],"answer_id":49066796,"body":"<p>Here is my example using awesome Java 8 Functionality and extending TableCell class.</p>\n<p>Let me give a quick explanation of what I am doing:\nI created a ActionButtonTableCell class that extends TableCell. And then you can use java 8 lamda functions to create an Action for the button.</p>\n<pre><code>import java.util.function.Function;\nimport javafx.event.ActionEvent;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.util.Callback;\n\npublic class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\n\n    private final Button actionButton;\n\n    public ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\n\n        this.actionButton = new Button(label);\n        this.actionButton.setOnAction((ActionEvent e) -&gt; {\n            function.apply(getCurrentItem());\n        });\n        this.actionButton.setMaxWidth(Double.MAX_VALUE);\n    }\n\n    public S getCurrentItem() {\n        return (S) getTableView().getItems().get(getIndex());\n    }\n\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\n    }\n\n    @Override\n    public void updateItem(Button item, boolean empty) {\n        super.updateItem(item, empty);\n\n        if (empty) {\n            setGraphic(null);\n        } else {                \n            setGraphic(actionButton);\n        }\n    }\n}\n</code></pre>\n<p>The implementation is then as simple as this, This is a sample button to remove the item from the table:</p>\n<pre><code>column.setCellFactory(ActionButtonTableCell.&lt;Person&gt;forTableColumn(&quot;Remove&quot;, (Person p) -&gt; {\n    table.getItems().remove(p);\n    return p;\n}));\n</code></pre>\n<p><strong>Update based on comments</strong>:\nWhile the approach of using a Button within a TableCell goes against recommended design principles, it can still be used in certain situations if the drawbacks mentioned below are not significant concerns for your use case:</p>\n<ol>\n<li><p>Violation of Separation of Concerns: Mixing UI controls with data representation classes can make the code less modular and harder to maintain.</p>\n</li>\n<li><p>Limited Flexibility: Embedding a Button directly within a TableCell limits the customization options for the button and the cell itself, making it difficult to implement complex interactions or customize styling.</p>\n</li>\n<li><p>Inefficient Memory Usage: Each TableCell instance with a Button consumes additional memory, which can be problematic for large TableViews with many rows.</p>\n</li>\n<li><p>UI Control Focus: Placing a Button within a TableCell may shift the focus from the underlying data to the UI control, potentially affecting the user experience.</p>\n</li>\n</ol>\n<p>Considering these drawbacks, it is generally recommended to follow the recommended design principles and separate the concerns of data representation and UI controls. However, if these drawbacks are not significant for your specific use case and you prefer the simplicity of the original approach, you can proceed with it.</p>\n"}],"last_activity_date":1684256448,"question_id":29489366,"body":"<p>I have searched at Google and Stackoverflow for this and I just don't get the given examples. Can someone please explain it to me. </p>\n\n<p>I want to add a button to the last column of a table view and when it gets clicked it should trigger a listener and pass the object of the buttons row. I just do not get the following example from <em><a href=\"https://gist.github.com/jewelsea/3081826\">gist.github.com</a></em>:</p>\n\n<p>This is my full current code:</p>\n\n<pre><code>public class SchermdeelWerkplaats extends BorderPane{\n\n    //ATD moeder klasse met alle collecties etc.\n    private ATD $;\n\n    TableView tabel = new TableView();\n    Button nieuwTaak = new Button(\"Nieuwe taak inboeken\");\n    final ObservableList&lt;Task&gt; data = FXCollections.observableArrayList();\n\n    public SchermdeelWerkplaats(ATD a) {\n\n        $ = a;\n\n        data.addAll($.agenda);\n\n        tabel.setEditable(false);\n        tabel.setPlaceholder(new Label(\"Geen taken\"));\n\n        TableColumn c1 = new TableColumn(\"datum\");\n        c1.setMinWidth(200);\n        TableColumn c2 = new TableColumn(\"type\");\n        c2.setMinWidth(100);\n        TableColumn c3 = new TableColumn(\"uren\");\n        c3.setMinWidth(100);\n        TableColumn c4 = new TableColumn(\"klaar\");\n        c4.setMinWidth(200);\n        TableColumn c5 = new TableColumn(\"Werknemer\");\n        c5.setMinWidth(100);\n        TableColumn c6= new TableColumn(\"Auto\");\n        c6.setMinWidth(400);\n        TableColumn c7= new TableColumn(\"Actie\");\n        c7.setMinWidth(400);\n\n        TableColumn col_action = new TableColumn&lt;&gt;(\"Action\");\n\n        col_action.setCellValueFactory(\n                new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \n                ObservableValue&lt;Boolean&gt;&gt;() {\n\n            @Override\n            public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\n                return new SimpleBooleanProperty(p.getValue() != null);\n            }\n        });\n\n        col_action.setCellFactory(\n            new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\n\n                @Override\n                public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\n                    return new ButtonCell();\n                }\n            }\n        );\n\n        c1.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Date&gt;(\"date\")\n        );\n        c2.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Task.TaskType&gt;(\"type\")\n        );\n        c3.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Double&gt;(\"hours\")\n        );\n        c4.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Boolean&gt;(\"done\")\n        );\n        c5.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Employee&gt;(\"employee\")\n        );\n        c6.setCellValueFactory(\n            new PropertyValueFactory&lt;Task,Car&gt;(\"car\")\n        );\n\n        tabel.getColumns().addAll(c1, c2, c3, c4, c5, c6, c7);\n        tabel.setItems(data);\n\n        setCenter(tabel);\n        setBottom(nieuwTaak);\n\n    }\n\n    //letterlijk van internet geplukt en datatype aangepast\n    private class ButtonCell extends TableCell&lt;Task, Task&gt; {\n\n\n        private Button cellButton;\n\n        ButtonCell(){\n              cellButton = new Button(\"jjhjhjh\");\n            cellButton.setOnAction(new EventHandler&lt;ActionEvent&gt;(){\n\n                @Override\n                public void handle(ActionEvent t) {\n                    // do something when button clicked\n                    Task record = getItem();\n                    // do something with record....\n                }\n            });\n        }\n\n        //Display button if the row is not empty\n        @Override\n        protected void updateItem(Task record, boolean empty) {\n            super.updateItem(record, empty);\n            if(!empty){\n                cellButton.setText(\"Something with \"+record);\n                setGraphic(cellButton);\n            } else {\n                setGraphic(null);\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Now the part where I have to create a <code>ButtonCell extends TableCell</code> is understandable. But how to assign this to the column?</p>\n\n<p>I understand this:</p>\n\n<pre><code>c1.setCellValueFactory(\n        new PropertyValueFactory&lt;Task,Date&gt;(\"date\")\n    );\n</code></pre>\n\n<p>But not this:</p>\n\n<pre><code>           TableColumn col_action = new TableColumn&lt;&gt;(\"Action\");\n\n            col_action.setCellValueFactory(\n                    new Callback&lt;TableColumn.CellDataFeatures&lt;Task, Boolean&gt;, \n                    ObservableValue&lt;Boolean&gt;&gt;() {\n\n                @Override\n                public ObservableValue&lt;Boolean&gt; call(TableColumn.CellDataFeatures&lt;Task, Boolean&gt; p) {\n                    return new SimpleBooleanProperty(p.getValue() != null);\n                }\n            });\n\n            col_action.setCellFactory(\n                new Callback&lt;TableColumn&lt;Task, Task&gt;, TableCell&lt;Task, Task&gt;&gt;() {\n\n                    @Override\n                    public TableCell&lt;Task, Task&gt; call(TableColumn&lt;Task, Task&gt; p) {\n                        return new ButtonCell();\n                    }\n                }\n            );\n</code></pre>\n"},{"comments":[{"comment_id":134461719,"body":"Looks like you are confusing <code>cellFactory</code> and <code>cellValueFactory</code>. Also, don’t use raw types."},{"comment_id":134463390,"body":"This is something that’s usually necessary in web UIs, but in a desktop UI, a much better design is to have <i>one</i> delete button which is not in the table at all.  When the user presses that button, the selected rows in the table are deleted.  You can even enable the button based on the selection: <code>deleteButton.disableProperty().bind(table.getSelectionModel(&zwnj;&#8203;).selectedItemProper&zwnj;&#8203;ty().isNull())</code>"}],"answers":[{"answer_id":76248931,"body":"<p>There are a number of issues with your code. The primary problem is that you seem to be confusing the <code>cellFactory</code> (which is used to generate cells to display in the table column) with the <code>cellValueFactory</code> (which is used to provide the value that is displayed by the cells). In this case, the cell doesn't really need a value (it only relies on the value for the entire row), so you don't need a <code>cellValueFactory</code> (though you could use one to return the value for the row).</p>\n<p>You should also never use raw types (such as <code>TableView</code> and <code>TableColumn</code>) without type parameters.</p>\n<p>Since your action implementations never use the value they return, it seems to make more sense to use a <code>Consumer&lt;S&gt;</code> to represent them, instead of a <code>Function&lt;S,S&gt;</code> which seems to arbitrarily return the value passed as a parameter.</p>\n<p>And finally, the types for <code>TableView</code>, <code>TableColumn</code>, <code>TableCell</code>, etc., should be types of <em>data</em>, not types of UI control. So you should never have, e.g., <code>TableCell&lt;S, Button&gt;</code>. <code>Button</code> is not a data type.</p>\n<p>Your table cell implementation can look like</p>\n<pre><code>public class ActionButtonTableCell&lt;S, T&gt; extends TableCell&lt;S, T&gt; {\n    private final Button actionButton;\n\n    public ActionButtonTableCell(String label, Consumer&lt;S&gt; function) {\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\n        this.actionButton = new Button(label);\n        this.actionButton.setOnAction(e -&gt; function.accept(getCurrentItem());\n        this.actionButton.setMaxWidth(Double.MAX_VALUE);\n    }\n    public S getCurrentItem() {\n        // No need for a cast here:\n        return getTableView().getItems().get(getIndex());\n    }\n\n    public static &lt;S, T&gt; Callback&lt;TableColumn&lt;S, T&gt;, TableCell&lt;S, T&gt;&gt; forTableColumn(String label, Consumer&lt;S&gt; function) {\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\n    }\n    @Override\n    public void updateItem(T item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty) {\n            setGraphic(null);\n        } else {\n            setGraphic(actionButton);\n        }\n    }\n}\n</code></pre>\n<p>And now your application code should be something like</p>\n<pre><code>    TableView&lt;Customer&gt; tableView = new TableView&lt;&gt;();\n    // ...\n    TableColumn&lt;Customer, Void&gt; viewCol = new TableColumn&lt;&gt;(&quot;&quot;);\n    TableColumn deleteCol&lt;Customer, Void&gt; = new TableColumn&lt;&gt;(&quot;&quot;);\n\n    // ...\n\n    // note setCellFactory, not setCellValueFactory:\n    viewCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;View/Edit&quot;, c -&gt; \n        new CustomerEditView(stage, user, c.getCustomerId())));\n    deleteCol.setCellFactory(ActionButtonTableCell.&lt;Customer, Void&gt;forTableColumn(&quot;Delete&quot;, c -&gt; {\n        Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\n        confirm.show();\n        JDBC.deleteCustomer(c.getCustomerId());\n        new CustomerList(stage, user);\n    }));\n</code></pre>\n<hr />\n<p>Generally, you might consider other user experience options here. As mentioned in a comment on the original post, a better approach might be to have a single edit button and a single delete button outside of the table which just operates on the selected item.</p>\n<p>I would definitely suggest not having a column for every action if you have multiple actions to perform. Just for the sake of demonstrating the other approach I alluded to above (the cell value factory returning the value for the row), here is an example of an action-based table column which uses that approach and supports multiple actions (buttons) in the same column. This is written in more of a fluid-API style:</p>\n<pre><code>import javafx.beans.property.SimpleObjectProperty;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.layout.HBox;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.function.Consumer;\n\npublic class ActionColumn&lt;S&gt; {\n\n    private final List&lt;Action&lt;S&gt;&gt; actions = new ArrayList&lt;&gt;();\n    private String title ;\n\n    private ActionColumn() {}\n\n    public static &lt;S&gt; ActionColumn&lt;S&gt; forType(Class&lt;S&gt; type) {\n        return new ActionColumn&lt;&gt;();\n    }\n\n    public ActionColumn&lt;S&gt; withTitle(String title) {\n        this.title = title ;\n        return this;\n    }\n\n    public ActionColumn&lt;S&gt; withAction(String name, Consumer&lt;S&gt; action) {\n        actions.add(new Action&lt;&gt;(name, action));\n        return this;\n    }\n\n\n    public TableColumn&lt;S, ?&gt; build() {\n        TableColumn&lt;S, S&gt; column = new TableColumn&lt;&gt;(title);\n        column.setCellValueFactory(data -&gt; new SimpleObjectProperty&lt;&gt;(data.getValue()));\n        column.setCellFactory(tc -&gt; new ActionColumnCell&lt;&gt;(actions));\n        return column;\n    }\n\n    private record Action&lt;S&gt;(String name, Consumer&lt;S&gt; action) {}\n\n    private static class ActionColumnCell&lt;S&gt; extends TableCell&lt;S, S&gt; {\n        private final HBox buttons ;\n        private ActionColumnCell(List&lt;Action&lt;S&gt;&gt; actions) {\n            buttons = new HBox(2);\n            actions.stream()\n                    .map(this::createButton)\n                    .forEach(buttons.getChildren()::add);\n        }\n\n        private Button createButton(Action&lt;S&gt; action) {\n            Button button = new Button(action.name());\n            button.setOnAction(e -&gt; action.action().accept(getItem()));\n            return button;\n        }\n\n        @Override\n        protected void updateItem(S item, boolean empty) {\n            super.updateItem(item, empty);\n            setGraphic(empty ? null : buttons);\n        }\n    }\n}\n</code></pre>\n<p>Usage is something like:</p>\n<pre><code>TableColumn&lt;Item, ?&gt; actionColumn = ActionColumn.forType(Item.class)\n    .withTitle(&quot;Action&quot;)\n    .withAction(&quot;Edit&quot;, this::editItem)\n    .withAction(&quot;Delete&quot;, table.getItems()::remove)\n    .build();\n</code></pre>\n<p>Here is a complete working example:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.layout.BorderPane;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) {\n        ObservableList&lt;Item&gt; items = FXCollections.observableArrayList();\n        for (int i = 1 ; i &lt;= 20 ; i++) items.add(new Item(&quot;Item &quot;+i));\n        TableView&lt;Item&gt; table = new TableView&lt;&gt;(items);\n\n        TableColumn&lt;Item, String&gt; itemColumn = new TableColumn&lt;&gt;(&quot;Item&quot;);\n        itemColumn.setCellValueFactory(data -&gt; data.getValue().nameProperty());\n        table.getColumns().add(itemColumn);\n\n\n        table.getColumns().add(\n                ActionColumn.forType(Item.class).withTitle(&quot;Action&quot;)\n                        .withAction(&quot;Edit&quot;, this::editItem)\n                        .withAction(&quot;Delete&quot;, items::remove)\n                        .build()\n        );\n\n        BorderPane root = new BorderPane(table);\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private void editItem(Item item) {\n        new TextInputDialog(item.getName()).showAndWait()\n            .ifPresent(item::setName);\n    }\n\n    public static class Item {\n        private final StringProperty name = new SimpleStringProperty();\n\n        public String getName() {\n            return name.get();\n        }\n\n        public StringProperty nameProperty() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name.set(name);\n        }\n\n        public Item(String name) {\n            setName(name);\n        }\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684256367,"question_id":76248808,"body":"<p>I am trying to add a button into a GUI app in JFX for dealing with a database of customers and appointments. I want to put two buttons in each row of the table that will open other views when clocked.</p>\n<p>Below is what I currently have (which does not work). The compiler doesn't complain about this code but I get the following <code>ClassCastException</code> at runtime (which did not seem to be an issue in the place I saw <code>ActionButtonTableCell</code> originally used for a case analogous to this one; <a href=\"https://stackoverflow.com/questions/29489366/how-to-add-button-in-javafx-table-view\">How to add button in JavaFX table view</a>).</p>\n<p>Here is the stack trace:</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.ClassCastException: class javafx.scene.control.TableColumn$CellDataFeatures cannot be cast to class javafx.scene.control.TableColumn (javafx.scene.control.TableColumn$CellDataFeatures and javafx.scene.control.TableColumn are in module javafx.controls of loader 'app')\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:593)\n    at javafx.controls/javafx.scene.control.TableColumn.getCellObservableValue(TableColumn.java:578)\n    at javafx.controls/javafx.scene.control.TableCell.updateItem(TableCell.java:646)\n    at javafx.controls/javafx.scene.control.TableCell.indexChanged(TableCell.java:469)\n    at javafx.controls/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:120)\n    at javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:119)\n    at javafx.controls/javafx.scene.control.skin.TableSkinUtils.resizeColumnToFitContent(TableSkinUtils.java:86)\n    at javafx.controls/javafx.scene.control.skin.TableColumnHeader.doColumnAutoSize(TableColumnHeader.java:573)\n    at javafx.controls/javafx.scene.control.skin.TableColumnHeader.updateScene(TableColumnHeader.java:516)\n    at javafx.controls/javafx.scene.control.skin.TableColumnHeader.lambda$new$0(TableColumnHeader.java:159)\n    at javafx.controls/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$1(LambdaMultiplePropertyChangeListenerHandler.java:49)\n    at javafx.base/javafx.beans.value.WeakChangeListener.changed(WeakChangeListener.java:86)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper$SingleChange.fireValueChangedEvent(ExpressionHelper.java:181)\n    at javafx.base/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:80)\n    at javafx.base/javafx.beans.property.ReadOnlyObjectPropertyBase.fireValueChangedEvent(ReadOnlyObjectPropertyBase.java:74)\n    at javafx.base/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:102)\n    at javafx.graphics/javafx.scene.Node$ReadOnlyObjectWrapperManualFire.fireSuperValueChangedEvent(Node.java:1054)\n    at javafx.graphics/javafx.scene.Node.invalidatedScenes(Node.java:1114)\n    at javafx.graphics/javafx.scene.Node.setScenes(Node.java:1152)\n    at javafx.graphics/javafx.scene.Parent$2.onChanged(Parent.java:369)\n    at javafx.base/com.sun.javafx.collections.TrackableObservableList.lambda$new$0(TrackableObservableList.java:45)\n    at javafx.base/com.sun.javafx.collections.ListListenerHelper$Generic.fireValueChangedEvent(ListListenerHelper.java:329)\n    at javafx.base/com.sun.javafx.collections.ListListenerHelper.fireValueChangedEvent(ListListenerHelper.java:73)\n    at javafx.base/javafx.collections.ObservableListBase.fireChange(ObservableListBase.java:233)\n    at javafx.base/javafx.collections.ListChangeBuilder.commit(ListChangeBuilder.java:482)\n    at javafx.base/javafx.collections.ListChangeBuilder.endChange(ListChangeBuilder.java:541)\n    at javafx.base/javafx.collections.ObservableListBase.endChange(ObservableListBase.java:205)\n    at javafx.base/javafx.collections.ModifiableObservableListBase.setAll(ModifiableObservableListBase.java:90)\n    at javafx.base/com.sun.javafx.collections.VetoableListDecorator.setAll(VetoableListDecorator.java:116)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateContent(NestedTableColumnHeader.java:578)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.updateTableColumnHeaders(NestedTableColumnHeader.java:504)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.checkState(NestedTableColumnHeader.java:638)\n    at javafx.controls/javafx.scene.control.skin.NestedTableColumnHeader.computePrefHeight(NestedTableColumnHeader.java:345)\n    at javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\n    at javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\n    at javafx.controls/javafx.scene.control.skin.TableHeaderRow.computePrefHeight(TableHeaderRow.java:376)\n    at javafx.controls/javafx.scene.control.skin.TableHeaderRow.computeMinHeight(TableHeaderRow.java:369)\n    at javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\n    at javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\n    at javafx.controls/javafx.scene.control.SkinBase.computeMinHeight(SkinBase.java:311)\n    at javafx.controls/javafx.scene.control.Control.computeMinHeight(Control.java:512)\n    at javafx.graphics/javafx.scene.Parent.minHeight(Parent.java:1059)\n    at javafx.graphics/javafx.scene.layout.Region.minHeight(Region.java:1525)\n    at javafx.graphics/javafx.scene.layout.Region.computeChildPrefAreaHeight(Region.java:1980)\n    at javafx.graphics/javafx.scene.layout.GridPane.computePrefHeights(GridPane.java:1436)\n    at javafx.graphics/javafx.scene.layout.GridPane.computePrefHeight(GridPane.java:1265)\n    at javafx.graphics/javafx.scene.Parent.prefHeight(Parent.java:1031)\n    at javafx.graphics/javafx.scene.layout.Region.prefHeight(Region.java:1559)\n    at javafx.graphics/javafx.scene.Scene.getPreferredHeight(Scene.java:1811)\n    at javafx.graphics/javafx.scene.Scene.resizeRootToPreferredSize(Scene.java:1776)\n    at javafx.graphics/javafx.scene.Scene.preferredSize(Scene.java:1747)\n    at javafx.graphics/javafx.scene.Scene$2.preferredSize(Scene.java:393)\n    at javafx.graphics/com.sun.javafx.scene.SceneHelper.preferredSize(SceneHelper.java:66)\n    at javafx.graphics/javafx.stage.Window$SceneModel.invalidated(Window.java:814)\n    at javafx.base/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:112)\n    at javafx.base/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)\n    at javafx.graphics/javafx.stage.Window.setScene(Window.java:770)\n    at javafx.graphics/javafx.stage.Stage.setScene(Stage.java:266)\n    at app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:79)\n    at app.jfx.CustomerList.&lt;init&gt;(CustomerList.java:19)\n    at app.jfx.LoggedInView$1.handle(LoggedInView.java:44)\n    at app.jfx.LoggedInView$1.handle(LoggedInView.java:41)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:200)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>I just want the buttons to display as part of the table, but the exception results in the entire table (apart from the column headers) failing to display any data.</p>\n<p><code>Customer</code> class looks like this (<code>Model</code> is an application-specific class that just reduces code duplication for several properties that have the same name across other classes):</p>\n<pre><code>public class Customer extends Model {\n    //primary key    \n    private int customerId;\n    //customer data\n    private String customerName; \n    private String address;    \n    private String postalCode;\n    private String phone;\n    //foreign key to FirstLevelDivision\n    private int divisionId;\n    \n    //all-arg constructor\n\n    //getters and setters\n}\n</code></pre>\n<p>The button is meant to be added with <code>ActionButtonTableCell</code>, which looks like this:</p>\n<pre><code>package app.jfx;\nimport javafx.event.ActionEvent;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ButtonBase;\nimport javafx.scene.control.TableCell;\nimport javafx.scene.control.TableColumn;\nimport javafx.util.Callback;\nimport java.util.function.Function;\n\npublic class ActionButtonTableCell&lt;S&gt; extends TableCell&lt;S, Button&gt; {\n    private final Button actionButton;\n\n    public ActionButtonTableCell(String label, Function&lt; S, S&gt; function) {\n        this.getStyleClass().add(&quot;action-button-table-cell&quot;);\n        this.actionButton = new Button(label);\n        this.actionButton.setOnAction((ActionEvent e) -&gt; {\n            function.apply(getCurrentItem());        });\n            this.actionButton.setMaxWidth(Double.MAX_VALUE);\n        }\n    public S getCurrentItem() {\n        return (S) getTableView().getItems().get(getIndex());\n    }\n\n    public static &lt;S&gt; Callback&lt;TableColumn&lt;S, Button&gt;, TableCell&lt;S, Button&gt;&gt; forTableColumn(String label, Function&lt; S, S&gt; function) {\n        return param -&gt; new ActionButtonTableCell&lt;&gt;(label, function);\n    }\n    @Override\n    public void updateItem(Button item, boolean empty) {\n        super.updateItem(item, empty);\n        if (empty) {\n            setGraphic(null);\n        } else {\n            setGraphic(actionButton);\n        }\n    }\n}\n</code></pre>\n<p>It appears in <code>CustomerList</code>, which looks like this:</p>\n<pre><code>package app.jfx;\nimport app.JDBC;\nimport app.model.*;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.layout.GridPane;import javafx.stage.Stage;\nimport javafx.util.Callback;\nimport java.util.List;\nimport java.util.function.Function;\n\npublic class CustomerList extends Scene {\n    private User user;\n    public CustomerList(Stage stage) {\n        this(stage, null, new GridPane());\n    }    public CustomerList(Stage stage, User user) {\n        this(stage, user, new GridPane());\n    }\n    private CustomerList(Stage stage, User user, GridPane gridPane) {\n        super(gridPane);\n        Label label = new Label(&quot;Customer Records&quot;);\n        TableView tableView = new TableView();\n        Button back = new Button(&quot;Back&quot;);\n        back.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n            @Override\n            public void handle(ActionEvent actionEvent) {\n                new LoggedInView(stage, user);\n            }\n        });\n        gridPane.add(label, 0, 0);\n        gridPane.add(tableView, 0, 1);\n        gridPane.add(back, 0, 2);\n        List&lt;Customer&gt; customers = JDBC.getCustomers();\n        customers.forEach( customer -&gt; tableView.getItems().add(customer));\n\n        //define columns\n        TableColumn&lt;Customer, Integer&gt; customerId = new TableColumn&lt;&gt;(&quot;Customer ID&quot;);\n        TableColumn&lt;Customer, String&gt; customerName = new TableColumn&lt;&gt;(&quot;Customer Name&quot;);\n        TableColumn&lt;Customer, String&gt; address = new TableColumn&lt;&gt;(&quot;Address&quot;);\n        TableColumn&lt;Customer, String&gt; postalCode = new TableColumn&lt;&gt;(&quot;Postal Code&quot;);\n        TableColumn&lt;Customer, String&gt; phone = new TableColumn&lt;&gt;(&quot;Phone&quot;);\n        TableColumn&lt;Customer, Integer&gt; divisionId = new TableColumn&lt;&gt;(&quot;Division ID&quot;);\n        TableColumn viewCol = new TableColumn(&quot;&quot;);\n        TableColumn deleteCol = new TableColumn(&quot;&quot;);\n\n        //set cell values\n        customerId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerId&quot;));\n        customerName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;customerName&quot;));\n        address.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;address&quot;));\n        postalCode.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;postalCode&quot;));\n        phone.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;phone&quot;));\n        divisionId.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;divisionId&quot;));\n        viewCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;View/Edit&quot;, (Customer c) -&gt; {\n            new CustomerEditView(stage, user, c.getCustomerId());\n            return c;\n        }));\n        deleteCol.setCellValueFactory(ActionButtonTableCell.&lt;Customer&gt;forTableColumn(&quot;Delete&quot;, (Customer c) -&gt; {\n            Alert confirm = new Alert(Alert.AlertType.CONFIRMATION, &quot;Are you sure you want to delete this customer?&quot;);\n            confirm.show();\n            JDBC.deleteCustomer(c.getCustomerId());\n            new CustomerList(stage, user);\n            return c;        }));\n\n        //render table\n        tableView.getColumns().add(customerId);\n        tableView.getColumns().add(customerName);\n        tableView.getColumns().add(address);\n        tableView.getColumns().add(postalCode);\n        tableView.getColumns().add(phone);\n        tableView.getColumns().add(divisionId);\n        tableView.getColumns().add(viewCol);\n        tableView.getColumns().add(deleteCol);\n        stage.setScene(this);    }}\n</code></pre>\n<p>Adding in <code>deleteCol</code> is where the breaking started, yielding the exception above. If I specify <code>viewCol</code> and <code>deleteCol</code> as <code>TableColumn&lt;Customer, Button&gt;</code>, the compiler warns that <code>setCellValueFactory</code> requires a <code>Callback&lt;CellDataFeatures&lt;Customer, Button&gt;, ObservableValue&lt;Button&gt;&gt;</code> and I've provided a <code>Callback&lt;TableColumn&lt;Customer, Button&gt;, TableCell&lt;Customer, Button&gt;</code> instead (but not if the types for <code>TableColumn</code> are not specified). Altering the return type of the <code>ActionButtonTableCell</code> method used breaks the <code>@Override</code>. What can I do to make this cast work (or make it unnecessary)? Is there another way to add the buttons in?</p>\n"},{"comments":[{"comment_id":134490594,"body":"When you pass an <code>int[]</code> object to <code>Arrays.asList(…)</code>, you create a <code>List</code> with a single element, the <code>int[]</code> array. But there is no <code>Contains</code> method anyway. Java is case sensitive. Collections contains object, so you can use <code>Integer[] arr = { 1, 2, 3 }; System.out.println(Arrays.asList(arr).contains(2));</code> instead. Or just <code>System.out.println(Arrays.asList(1, 2, 3).contains(2));</code>"}],"last_activity_date":1684256093,"question_id":76265448,"body":"<p>I tried to find a specific element in Array and I used Contain() function for it but it seems not working properly.</p>\n<p>for example-</p>\n<pre><code>int [] arr = new int[]{1,2,3};\nSystem.out.println(Arrays.asList(arr).Contains(2));\n</code></pre>\n<p>I expected-</p>\n<pre><code>true\n</code></pre>\n<p>what I get-</p>\n<pre><code>false\n</code></pre>\n<p>Please anyone explain why it is happening...</p>\n"},{"comments":[{"comment_id":134476532,"body":"Related: <a href=\"https://stackoverflow.com/questions/10288065/convert-pdf-to-clean-svg\">Convert PDF to clean SVG?</a>"},{"comment_id":134476551,"body":"Note that tool recommendation requests are off-topic on Stack Overflow. Unfortunately every single answer below to date is a tool recommendation, so removing that request entirely from the post above would invalidate those answers, which is something that isn&#39;t allowed here. Hopefully my improvements to the question will allow it to remain salvaged and at the same time prevent more &quot;use Inkscape&quot; responses from appearing here."}],"answers":[{"comments":[{"comment_id":4447315,"body":"thanks that inkscape command seems to work however it only converts the first page, do u know of a command line option that will produce 1 svg for each page?"},{"comment_id":4451682,"body":"I don&#39;t know of a way to do this, and the inkscape man page doesn&#39;t seem to indicate that this functionality is exposed in the command-line interface. I suppose your options would be to add this interface yourself by modifying the inkscape code. Or, you could do something very hacky and creative, and use a program like ghostscript to split the PDF into multiple single-page documents, and then feed each page individually to inkscape."},{"comment_id":8684770,"body":"Probably the best solution then is to split the pdf file in one file per page. Both pdfjam and pdftk can do this."},{"comment_id":20718990,"body":"@Koen.&#39;s answer points to pdf2svg, which can do multiple pages:  <code>pdf2svg input.pdf output_page%d.svg all</code>"},{"comment_id":26764141,"body":"I know this is old, but I&#39;ve also noticed inkscape bloating (e.g. doubling up on groups) when dealing with .pdfs.  Once you&#39;ve got .svgs, there&#39;s a cleanup utility called <a href=\"http://www.codedread.com/scour/\" rel=\"nofollow noreferrer\">scour</a> which might help."},{"comment_id":28481930,"body":"I used the inkscape commandline approach but the fonts look really ugly in the svg. Is there a way to fix it?"},{"comment_id":72091414,"body":"For people finding this solution in 2017: this option is horribly broken on Windows, where it pops up a PDF import settings dialog that needs to be confirmed, thus making this solution intractable for automated builds."},{"comment_id":88160352,"body":"Agreed with you Mike. any solution to run that in command line using the latest Inkscape?"},{"comment_id":111488130,"body":"I haven&#39;t tested this with Windows, but <code>--pdf-poppler</code> works for me with inkscape 1.0 on Linux. In case anyone&#39;s curious, the full command I&#39;m using is <code>inkscape --pdf-poppler in.pdf -T -l -o out.svg</code> which converts the fonts to paths."}],"answer_id":4123701,"body":"<p>Inkscape can also be used to convert PDF to SVG. It's actually remarkably good at this, and although the code that it generates is a bit bloated, at the very least, it doesn't seem to have the particular issue that you are encountering in your program. I think it would be challenging to integrate it directly into Java, but inkscape provides a convenient command-line interface to this functionality, so probably the easiest way to access it would be via a system call. </p>\n\n<p>To use Inkscape's command-line interface to convert a PDF to an SVG, use:</p>\n\n<pre><code>inkscape -l out.svg in.pdf\n</code></pre>\n\n<p>Which you can then probably call using:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"inkscape -l out.svg in.pdf\")\n</code></pre>\n\n<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29\" rel=\"noreferrer\">http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Runtime.html#exec%28java.lang.String%29</a></p>\n\n<p>I think exec() is synchronous and only returns after the process completes (although I'm not 100% sure on that), so you shoudl be able to just read \"out.svg\" after that. In any case, Googling \"java system call\" will yield more info on how to do that part correctly.</p>\n"},{"comments":[{"comment_id":18635703,"body":"I had been using pdf2svg but I just discovered that it&#39;s much more of an approximation than inkscape. Specifically you loose detail when rendering small circles (I&#39;m dealing with pdfs of 100,000s of paths). YMMV."},{"comment_id":33298219,"body":"@AidanKane: On the other hand, pdf2svg does better than Inkscape for text; text from a LaTeX output file didn&#39;t show up in Inkscape&#39;s output for me."},{"comment_id":33300993,"body":"@Mechanicalsnail: I have a lot more experience with this now. You&#39;re right, there are times where I&#39;ve found things missing from inkscape conversions - and pdf2svg is fine. pdf2svg was updated to call a different function in cairo to do the rendering (which fixed the issue I described previously). Unfortunately that comes at the cost of having no text in svgs - all glyphs are converted to paths. I patched cairo and poppler to get text working again but I don&#39;t totally trust my hack :)"},{"comment_id":33560362,"body":"both inkscape and dvisvgm cannot create correct svg from latex.  pdf2svg can."}],"answer_id":4502030,"body":"<p>Take a look at <a href=\"http://www.cityinthesky.co.uk/opensource/pdf2svg/\" rel=\"nofollow noreferrer\">pdf2svg</a> (also on <a href=\"https://github.com/dawbarton/pdf2svg/\" rel=\"nofollow noreferrer\">on github</a>):</p>\n<p><strong>To use</strong></p>\n<pre><code>pdf2svg &lt;input.pdf&gt; &lt;output.svg&gt; [&lt;pdf page no. or &quot;all&quot; &gt;]\n</code></pre>\n<p>When using <code>all</code> give a filename with <code>%d</code> in it (which will be replaced by the page number).</p>\n<pre><code>pdf2svg input.pdf output_page%d.svg all\n</code></pre>\n<p>And for some troubleshooting see:\n<a href=\"http://www.calcmaster.net/personal_projects/pdf2svg/\" rel=\"nofollow noreferrer\">http://www.calcmaster.net/personal_projects/pdf2svg/</a></p>\n"},{"answer_id":46660133,"body":"<p>You can use bash in a *nix environment.</p>\n<p>The burst operation splits each page in the PDF into files. to-svg.sh loops through these single-page PDFs to generate the associated SVG file</p>\n<pre><code>pdftk 82page.pdf burst\nsh to-svg.sh \n</code></pre>\n<p>contents of <code>to-svg.sh</code></p>\n<pre><code>#!/bin/bash\nFILES=burst/*\nfor f in $FILES\ndo\n  inkscape -l &quot;$f.svg&quot; &quot;$f&quot;\ndone\n</code></pre>\n"},{"comments":[{"comment_id":125134976,"body":"Your command will convert the &quot;first&quot; page not the &quot;2nd&quot;"}],"answer_id":61356922,"body":"<p>Pdftocairo can be used to convert PDF to SVG. Pdfcairo is part of Poppler-utils.</p>\n<p>For example to convert the second page of a PDF, the following command can be run:</p>\n<pre><code>pdftocairo -svg -f 1 -l 1 input.pdf\n</code></pre>\n"},{"comments":[{"comment_id":133973364,"body":"To get one SVG file per page: <code>dvisvgm --pdf --page=1- file.pdf</code>"},{"comment_id":134476612,"body":"Note, the SVGCleaner repository was archived in October 2021."}],"answer_id":67640834,"body":"<p>I have encountered issues with the suggested inkscape, pdf2svg, or pdftocairo tools, as well as the not-suggested convert and mutool tools, when trying to convert large and complex PDFs such as some of the topographical maps from the USGS. Sometimes they would crash, other times they would produce massively inflated files.</p>\n<p>The only PDF to SVG conversion tool that was able to handle all of them correctly for my use case was <a href=\"https://dvisvgm.de/\" rel=\"nofollow noreferrer\">dvisvgm</a>. Using it is very simple:</p>\n<pre><code>dvisvgm --pdf --output=file.svg file.pdf\n</code></pre>\n<p>It has various extra options for handling how elements are converted, as well as for optimization. Its resulting files can further be compacted by <a href=\"https://github.com/RazrFalcon/SVGCleaner\" rel=\"nofollow noreferrer\">svgcleaner</a> if necessary without perceptual quality loss.</p>\n"},{"answer_id":74820257,"body":"<p>Inkscape does not work with the <code>-l</code> option any more. It said &quot;Can't open file: /out.svg (doesn't exist)&quot;. The long form that option is in the man page as <code>--export-plain-svg</code> and works but shows a deprecation warning. I was able to fix and update the command by using the <code>-o</code> option on Inkscape 1.1.2-3ubuntu4:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>inkscape in.pdf -o out.svg\n</code></pre>\n"}],"last_activity_date":1684255752,"question_id":4120567,"body":"<p>I want to convert PDF to SVG. I have written my own Java program using the Apache PDFBox and Batik libraries</p>\n<pre><code>PDDocument document = PDDocument.load( pdfFile );\nDOMImplementation domImpl =\n    GenericDOMImplementation.getDOMImplementation();\n\n// Create an instance of org.w3c.dom.Document.\nString svgNS = &quot;http://www.w3.org/2000/svg&quot;;\nDocument svgDocument = domImpl.createDocument(svgNS, &quot;svg&quot;, null);\nSVGGeneratorContext ctx = SVGGeneratorContext.createDefault(svgDocument);\nctx.setEmbeddedFontsOn(true);\n\n// Ask the test to render into the SVG Graphics2D implementation.\n\n    for(int i = 0 ; i &lt; document.getNumberOfPages() ; i++){\n        String svgFName = svgDir+&quot;page&quot;+i+&quot;.svg&quot;;\n        (new File(svgFName)).createNewFile();\n        // Create an instance of the SVG Generator.\n        SVGGraphics2D svgGenerator = new SVGGraphics2D(ctx,false);\n        Printable page  = document.getPrintable(i);\n        page.print(svgGenerator, document.getPageFormat(i), i);\n        svgGenerator.stream(svgFName);\n    }\n</code></pre>\n<p>This solution works, but the size of the resulting SVG files is huge (many times greater than the originating PDF). I have figured out where the problem is by looking at the SVG in a text editor: it encloses every character in the original document in its own <code>&lt;text&gt; &lt;/text&gt;</code> block even if the font properties of the characters are the same.</p>\n<p>For example the word &quot;hello&quot; will appear as 6 different text blocks.</p>\n<p>Is there a way to fix the above code? Or is there another solution that will work more efficiently?</p>\n"},{"comments":[{"comment_id":134489552,"body":"You have a data race, which is a common issue when working on concurrent threads. <b>Concurrency is hard</b>."},{"comment_id":134489644,"body":"Re, &quot;...what&#39;s even happening.&quot; You&#39;d have to look at the source code for <code>ArrayList</code> to know what&#39;s <i>really</i> happening. But why not start with one of those examples where two threads increment a counter variable, and some of the increments get lost? An <code>ArrayList</code> basically is an array with a counter variable that tells where to <code>add</code> the next item."},{"comment_id":134490267,"body":"Even looking at source won&#39;t clarify all of it, because in the absence of synchronization different optimizations like reordering of instructions are allowed."}],"answers":[{"answer_id":76265015,"body":"<p><code>ArrayList</code> is not thread-safe. If two threads try to call <code>add()</code> at the same time, anything might happen.\nFrom the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Arraylist documentation</a>:</p>\n<blockquote>\n<p><strong>Note that this implementation is not synchronized.</strong> If multiple threads\naccess an ArrayList instance concurrently, and at least one of the\nthreads modifies the list structurally, it must be synchronized\nexternally.</p>\n</blockquote>\n"}],"last_activity_date":1684255384,"question_id":76264714,"body":"<p>This is a task from the book <em>Head First Java</em>, where the reader is asked to find out what happens in the following code block:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class TwoThreadsWriting {\n    public static void main(String[] args) {\n        ExecutorService threadPool = Executors.newFixedThreadPool(2);\n        Data data = new Data();\n        threadPool.execute(()-&gt; addLetterToData('a', data));\n        threadPool.execute(()-&gt; addLetterToData('A', data));\n        threadPool.shutdown();\n    }\n\n    private static void addLetterToData(char letter, Data data) {\n        for(int i = 0; i &lt; 26; i++){\n            data.addLetter(letter++);\n            try {\n                Thread.sleep(50);\n            } catch (InterruptedException ignored) {}\n        }\n        System.out.println(Thread.currentThread().getName() + data.getLetters());\n        System.out.println(Thread.currentThread().getName() + &quot; size: &quot; + data.getLetters().size());\n    }\n}\nclass Data {\n    private final List&lt;String&gt; letters = new ArrayList&lt;&gt;();\n    public List&lt;String&gt; getLetters() {return letters;}\n    public void addLetter(char letter){\n        letters.add(String.valueOf(letter));\n    }\n}\n</code></pre>\n<p>I expected that the output lists contain 52 characters like this</p>\n<pre><code>['a', 'A', 'b', 'B', ...]\n</code></pre>\n<p>But sometimes the number of elements is less than 52 and some characters are missing in <code>letters</code>, like here for example (<code>'K'</code> is missing):</p>\n<pre><code>pool-1-thread-2[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\n\npool-1-thread-1[A, a, B, b, c, C, d, D, e, E, f, F, G, g, H, h, i, I, J, j, k, L, l, m, M, N, n, O, o, p, P, q, Q, r, R, s, S, t, T, u, U, V, v, w, W, X, x, y, Y, Z, z]\n\npool-1-thread-2 size: 51\npool-1-thread-1 size: 51\n</code></pre>\n<p>I do not understand why this happens. I tried debugging it by printing the value of the local variable <code>letter</code> of <code>addLetter</code> but it only shows me that the <code>'K'</code> was actually added.</p>\n<p>I do know that this all happens solely due to using the non-thread-safe <code>ArrayList</code> or <code>addLetter</code> not being declared as <code>synchronized</code>, but I want to understand what's even happening here in the first place.</p>\n"},{"comments":[{"comment_id":134488397,"body":"Does it work when execute the same command from the command line? What is the output of <code>cmd.split(&quot;\\\\s+&quot;)</code>?"},{"comment_id":134488406,"body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."},{"comment_id":134488819,"body":"Just FYI: You don&#39;t need to use external tools to create ZIP files in Java. It comes with classes for handling ZIP files. See for example <a href=\"https://www.baeldung.com/java-compress-and-uncompress\" rel=\"nofollow noreferrer\">baeldung.com/java-compress-and-uncompress</a>"},{"comment_id":134488915,"body":"@aled the <code>cmd.split(&quot;\\\\s+&quot;)</code> output will be as follows <code>ProcessBuilder processBuilder = new ProcessBuilder(&quot;7za&quot;, &quot;a&quot;, &quot;-ptest123&quot;, &quot;&#47;data01&#47;cfm&#47;encrypted&#47;test.7z&quot;, &quot;&#47;data01&#47;cfm&#47;files&#47;test.txt&quot;);</code>"},{"comment_id":134488980,"body":"Does it work when you execute the same command from the command line?"},{"comment_id":134489008,"body":"@RoToRa 7zip files are not supported by the ZIP functionality in Java."},{"comment_id":134489023,"body":"@RoToRa yes but in don&#39;t think so it can compress with password protect. i have tried compressing using zip classes and then encryption it with aes256 algo. but after that when i try to open that archive in 7zip windows app its not opening properly, i have a specific use case where i need to compress with password through program and sent it to users where they will decompress in there windows machine using 7zip application."},{"comment_id":134489274,"body":"@aled i tested in cmd line during docker build and add the output in the body, please check. since its a ecs fargate container i dont have full control over to connect and run the cmd. so i ran it during docker build"},{"comment_id":134489518,"body":"Strictly speaking, unless you add <code>processBuilder.redirectErrorStream(true);</code> you haven&#39;t shown the error log, just standard output. The error log might - or not - tell you what happened."},{"comment_id":134490438,"body":"@DuncG i have added processBuilder.redirectErrorStream(true); updated the code and error log above. i still dont know why its trying to open test.7z as archive."},{"comment_id":134490445,"body":"&quot;Operation is not permitted&quot; is a very specific error. Look at your file permissions."},{"comment_id":134490464,"body":"(You might also think of making Java run <code>strace -f -o &#47;path&#47;to&#47;log.strace -s 2048 7z ...</code> and comparing <code>log.strace</code> generated that way with the <code>log.strace</code> you get from running the same command with no JVM involved; if the JVM really <i>is</i> doing something different, like injecting whitespace or special characters in the environment, or setting you up with a materially different set of environment variables, or whatever else... you&#39;ll be able to see it there)."},{"comment_id":134490957,"body":"You might also verify read before the call: <code>System.out.println(&quot;size=&quot;+Files.readAllBytes(Path.of(&quot;&#47;data&zwnj;&#8203;&#47;app&#47;encrypted&#47;test.&zwnj;&#8203;7z&quot;)).length);</code>"}],"last_activity_date":1684255336,"question_id":76264296,"body":"<p>I have a Docker container where the base image is Corretto 17. I have also installed p7zip in the image using 'yum install -y p7zip'. Additionally, I created a user, switched to that user, and copied my Spring Boot JAR file to the Docker image. Currently, I'm running this Docker container in an AWS ECS Fargate cluster, and I'm encountering an issue when trying to execute the '7za' command line using Process Builder.</p>\n<p>Below is the cmd I'm trying to run.</p>\n<pre><code>7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\n</code></pre>\n<p>But when I run the above cmd the 7za is trying to open the archive test.7z which is not supposed to. It should create the archive with the file test.txt. Below is the error log.</p>\n<pre><code>2023-05-16T10:28:08.440-06:00    7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\n2023-05-16T10:28:08.440-06:00    p7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs Intel(R) Xeon(R) CPU E5-2666 v3 @ 2.90GHz (306F2),ASM,AES-NI)\n2023-05-16T10:28:08.440-06:00    Open archive: /data/app/encrypted/test.7z\n2023-05-16T10:28:08.440-06:00    ERROR: /data/app/encrypted/test.7z\n2023-05-16T10:28:08.440-06:00    /data/app/encrypted/test.7z\n2023-05-16T10:28:08.440-06:00    Open ERROR: Can not open the file as [7z] archive\n2023-05-16T10:28:08.440-06:00    ERRORS:\n2023-05-16T10:28:08.440-06:00    Is not archive\n2023-05-16T10:28:08.440-06:00    System ERROR:\n2023-05-16T10:28:08.440-06:00    Operation not permitted\n2023-05-16T10:28:08.440-06:00    Exit Code: 2\n</code></pre>\n<p>below is the code im using</p>\n<pre><code>    private static synchronized void linuxCmd(String cmd) {\n        try {\n            // Create a ProcessBuilder for the command\n            ProcessBuilder processBuilder = new ProcessBuilder(cmd.split(&quot;\\\\s+&quot;));\n\n            // Merge error stream with output stream\n            processBuilder.redirectErrorStream(true);\n\n            // Start the process\n            Process process = processBuilder.start();\n\n            // Read the output of the process\n            BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n            String line;\n            StringBuilder output = new StringBuilder();\n            while ((line = reader.readLine()) != null) {\n                output.append(line).append(&quot;\\n&quot;);\n            }\n\n            // Wait for the process to finish\n            int exitCode = process.waitFor();\n\n            // Print the output and exit code\n            System.out.println(&quot;Output:\\n&quot; + output.toString());\n            System.out.println(&quot;Exit Code: &quot; + exitCode);\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>i will be calling the above method with the 7za cmd i provided earlier</p>\n<p>I have tried the same from docker file. i have created file written the same cmd in docker file and executed it while building the image. it worked properly.</p>\n<pre><code>Step 16/19 : RUN 7za a -ptest123 /data/app/encrypted/test.7z /data/app/files/test.txt\n ---&gt; Running in 44786d829af4\n\n7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21\np7zip Version 16.02 (locale=C.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs AMD PRO A8-8600B R6, 10 Compute Cores 4C+6G     (660F01),ASM,AES-NI)\n\nScanning the drive:\n1 file, 15457 bytes (16 KiB)\n\nCreating archive: /data/app/encrypted/test.7z\n\nItems to compress: 1\n\n\nFiles read from disk: 1\nArchive size: 2690 bytes (3 KiB)\nEverything is Ok\nRemoving intermediate container 44786d829af4\n ---&gt; 10ab11bb503c\n\n</code></pre>\n"},{"comments":[{"comment_id":39397492,"body":"Your stylesheet looks fine. Why do you need to run the transformation in secure processing mode?"},{"comment_id":39418016,"body":"I need to run the transformation in secure processing mode because our software can process stylesheets from an unknown (untrusted) source and so we need many of the secure mode protections."},{"comment_id":39418790,"body":"Why not run this particular stylesheet in the less secure, normal mode? You have written it, so you know what to expect. Why do you have to process all stylesheets in the same mode?"},{"comment_id":39425633,"body":"The above stylesheet is an example stylesheet used to demonstrate the issue. In our application we allow a user to transform xml with a stylesheet they provide. Therefore, we cannot trust this stylesheet and so need to run the transformation in secure processing mode."},{"comment_id":39568856,"body":"I wonder if Xalan complains on unknown attributes only or just on any attribute as Abel suggests in his answer? If only on unknown, then can&#39;t you make them known with a modified document type definition or whatever?"}],"answers":[{"comments":[{"comment_id":39566809,"body":"I just tried with xml as the output method with no luck. It&#39;s starting to look like a bug to me. It&#39;s not very usable if you can&#39;t use attributes. I&#39;ve submitted this to the xalan mailing list and will update if I get a response."},{"comment_id":39569673,"body":"@kazvictor Do you indeed get the same erroneous behaviour with any attribute, even when not creating an HTML root tag? Indeed a big bug it seems. Perhaps you can try an earlier built?"},{"comment_id":39598617,"body":"Yes it appears to be an issue for any attribute. The example stylesheet from above is just a minimal stylesheet that reproduces the issue. This looks like it was caused by this specific change, I believe it work in builds before it: <a href=\"http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h\" rel=\"nofollow noreferrer\">http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7&zwnj;&#8203;_1_maint/src/org/apa&zwnj;&#8203;che/xalan/processor/&zwnj;&#8203;XSLTElementProcessor&zwnj;&#8203;.java?r1=1359736&amp;r2=&zwnj;&#8203;1581058&amp;pathrev=1581&zwnj;&#8203;058&amp;diff_format=h</a>"},{"comment_id":61226785,"body":"An issue has been raised in the XalanJ project to track this bug: <a href=\"https://issues.apache.org/jira/browse/XALANJ-2591\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/XALANJ-2591</a>"},{"comment_id":118251845,"body":"@Abel - don&#39;t you mean &quot;a bug of Xalan 2.7.2&quot;?"}],"answer_id":25352274,"body":"<p>The offending line in the referred to version of the Xalan source is:</p>\n\n<pre><code>if(attrDef.getName().compareTo(\"*\")==0 &amp;&amp; handler.getStylesheetProcessor().isSecureProcessing())\n</code></pre>\n\n<p>I'm not 100% sure what is in <code>attrDef</code>, but I would guess it's your attribute, which will never have the value of <code>*</code> (but from the documentation on <code>XSLTAttributeDef</code>, the value <code>*</code> is allowed, but I don't know how, as it is not a qname).</p>\n\n<p>The <a href=\"https://jaxp.java.net/1.4/JAXP-Compatibility.html#JAXP_security\" rel=\"nofollow\">documentation on secure processing</a> only limits the amount of attributes on a single element, but the limit is high, 10,000.</p>\n\n<p>The way I see it, you hit a bug of Xalan 2.7.1. It prevents you from using any attribute. If the limit is imposed because only known attributes can be used, it still seems to be a bug, because <code>th</code> is allowed to take <code>colspan</code> as an attribute in both HTML and XHTML. You might try, though, if you see the same behavior if you change your output from <code>HTML</code> to <code>XML</code>.</p>\n"},{"answer_id":66897769,"body":"<p><strong>UPDATE</strong> This bug is resolved in Xalan-2.7.3</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/xalan/xalan --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;xalan&lt;/groupId&gt;\n    &lt;artifactId&gt;xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>OLD RESPONSE</strong></p>\n<p>This is a bug that is resolved, pending a future full release, in Xalan-2.7.2_3.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.servicemix.bundles.xalan&lt;/artifactId&gt;\n    &lt;version&gt;2.7.2_3&lt;/version&gt;&lt;!--$NO-MVN-MAN-VER$--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Use of <code>&lt;!--$NO-MVN-MAN-VER$--&gt;</code> prevents overrides.</p>\n"}],"last_activity_date":1684255104,"question_id":25273763,"body":"<p>I'm trying to use the updated version of Xalan (2.7.2) in secure mode and Having issue with it not able to understand unknown attributes.\nThe problem is, it prevents you from using any stylesheet that emits XHTML (in secure processing mode) because it disallows things like “colspan” attributes of “th” elements.</p>\n\n<p>The associated changed file is here: <a href=\"http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h\" rel=\"nofollow\">http://svn.apache.org/viewvc/xalan/java/branches/xalan-j_2_7_1_maint/src/org/apache/xalan/processor/XSLTElementProcessor.java?r1=1359736&amp;r2=1581058&amp;pathrev=1581058&amp;diff_format=h</a></p>\n\n<p>See the following example:</p>\n\n<pre><code>import javax.xml.XMLConstants;\nimport javax.xml.transform.*;\nimport javax.xml.transform.stream.StreamSource;\nimport java.io.StringReader;\n\npublic class XalanSecureAttributeRepro {\n    private static final String XSL =\n            \"&lt;xsl:stylesheet version=\\\"1.0\\\" xmlns:xsl=\\\"http://www.w3.org/1999/XSL/Transform\\\"&gt;\\n\" +\n            \"  &lt;xsl:output method=\\\"html\\\"/&gt;\\n\" +\n            \"  &lt;xsl:template match=\\\"/*\\\"&gt;\\n\" +\n            \"    &lt;th colspan=\\\"2\\\"/&gt;\\n\" +\n            \"  &lt;/xsl:template&gt;\\n\" +\n            \"&lt;/xsl:stylesheet&gt;\";\n\n    public static void main( String[] args ) throws Exception {\n        System.setProperty( \"javax.xml.transform.TransformerFactory\", \"org.apache.xalan.processor.TransformerFactoryImpl\" );\n\n        TransformerFactory tf = TransformerFactory.newInstance();\n        tf.setFeature( XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        tf.setErrorListener( new DefaultErrorHandler( true ) );\n\n        final Source source = new StreamSource( new StringReader( XSL ) );\n        Templates templates = tf.newTemplates( source ); // throws:\n                        // TransformerException: \"colspan\" attribute is not allowed on the th element!\n    }\n}\n</code></pre>\n\n<p>It returns this error:</p>\n\n<pre><code>Exception in thread \"main\" javax.xml.transform.TransformerConfigurationException: javax.xml.transform.TransformerException: org.xml.sax.SAXException: \"colspan\" attribute is not allowed on the th element!\njavax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:933)\n    at com.l7tech.example.XalanSecureAttributeRepro.main(XalanSecureAttributeRepro.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: javax.xml.transform.TransformerException: org.xml.sax.SAXException: \"colspan\" attribute is not allowed on the th element!\njavax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:925)\n    ... 6 more\nCaused by: org.xml.sax.SAXException: \"colspan\" attribute is not allowed on the th element!\njavax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:919)\n    at org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:947)\n    at org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:347)\n    at org.apache.xalan.processor.XSLTElementProcessor.setPropertiesFromAttributes(XSLTElementProcessor.java:267)\n    at org.apache.xalan.processor.ProcessorLRE.startElement(ProcessorLRE.java:283)\n    at org.apache.xalan.processor.StylesheetHandler.startElement(StylesheetHandler.java:623)\n    at org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)\n    at org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)\n    at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)\n    at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)\n    at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)\n    at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n    at org.apache.xalan.processor.TransformerFactoryImpl.newTemplates(TransformerFactoryImpl.java:917)\n    ... 6 more\nCaused by: javax.xml.transform.TransformerException: \"colspan\" attribute is not allowed on the th element!\n    at org.apache.xalan.processor.StylesheetHandler.error(StylesheetHandler.java:904)\n    ... 22 more\n</code></pre>\n\n<p>Am I doing something wrong with the stylesheet or am I missing setting a feature on the transformer factory. How would you transform a stylesheet that emits (X)HTML in secure processing mode using Xalan?</p>\n"},{"comments":[{"comment_id":131414332,"body":"Logs would be useful.  The error is telling you that the geoserver webapp failed to deploy in the Jetty server, and the logs will tell you why."},{"comment_id":131415265,"body":"@JoakimErdfelt I rin startup.bat .  I keep getting <code>2022-11-15 11:13:05.253:WARN:oejx.XmlConfiguration:main: java.security.PrivilegedActionException: java.io.IOException: Failed to bind to 0.0.0.0&#47;0.0.0.0:8585</code> I find the task that uses the 8585 port. It is geoserver. I <code>taskkill</code> it and try to run startup.bat again, same issue. Geoserver blocks itself?"},{"comment_id":131419385,"body":"You only start GeoServer once - either from the command line, the menu or as a service."}],"last_activity_date":1684255071,"question_id":74442491,"body":"<p>I have Geoserver 2.21.1 in Windows 10 Pro 64bit.</p>\n<p>I tweaked around to install the <a href=\"https://geoserver.org/release/stable/\" rel=\"nofollow noreferrer\">vector tiles output format</a> and enable CORS.</p>\n<p>In GeoServer\\bin I run shutdown.bat and stopService.bat and startup.bat and startService.bat as admin a couple of times</p>\n<p>I click stop Geoserver and start Geoserver in the windows start menu</p>\n<p>I still get</p>\n<pre><code>HTTP ERROR 503 Service Unavailable\nURI:    /geoserver/web\nSTATUS: 503\nMESSAGE:    Service Unavailable\nSERVLET:    -\nPowered by Jetty:// 9.4.48.v20220622\n</code></pre>\n<p>When visiting <code>http://localhost:8585/geoserver/web</code> (I installed it in port 8585).</p>\n<p>I have tried to install a Geoserver with x32 jre, but during the installation Geoserver didn't recognize it, so I used a x64 and got Geoserver installed.</p>\n<p>How can I fix this? I am running out of solutions</p>\n<p>Thanks</p>\n"},{"comments":[{"comment_id":134490065,"body":"fyi it&#39;s not necessary to use ugly doubled backslashes Forward slashes work fine in file paths for any OS"}],"answers":[{"answer_id":76265008,"body":"<p>Of course this is run time error; at compile time it can not go and check whether the file located at right place or not. You hard coded that file path in code instead of that some other person put some variable also that value enter run time and it go for reading that file. At compile time compiler only checks for a syntax error.</p>\n"}],"last_activity_date":1684254839,"question_id":76264755,"body":"<p><a href=\"https://i.stack.imgur.com/AKlH9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>My markers say my code doesn't compile because the file path is obviously not correct if I run the project on another computer. Let's forget about the solution, I know what it is.</p>\n<p>Is this true ? Is this error a run time or compile time error and does the code compile or not</p>\n<p>Exception in thread &quot;main&quot; java.io.FileNotFoundException: C:\\path\\to\\hamlet.xml (The system cannot find the path specified)</p>\n"},{"answers":[{"answer_id":76265249,"body":"<p>In case anyone ends up here with something similar. Turns out that there is a big difference in the way Chrome and Firefox handle cookies by default. And Spring backend also defaults to match Chrome. Specifically, the same site policy for Chrome is Lax. Spring defaults to Lax. Firefox defaults to None.</p>\n<p>In the end my problem was our Spring configuration nulled the same site policy, so it was allowing browsers to handle things and this is why Firefox was not causing a 302 when the request from the 3rd party site came through.</p>\n<p>Setting spring to None; Secure allows both browsers to function the same. Specifically in regards to the session cookie, which was being lost on Chrome.</p>\n"}],"last_activity_date":1684254175,"question_id":76105743,"body":"<p>Apologies for the long read but I really don't know how to ask for help on this and have exhausted everything else I can think of. So if anyone can give me any clues or paths forward I would be very appreciative.</p>\n<p>We have a Java Spring backend (Spring Boot 2.4.13 currently.) It started as an MVC project so we have some controllers that return ModelAndView objects but we're moving to a fully rest API situation with a vue frontend.</p>\n<p>The situation is, we have a 3rd party vendor (LS) that we are trying to integrate with our system. LS has a Single Sign On (SSO) process for logins. The exchange is pretty simple, on their site there is an SSO button the user clicks. They send us a POST request with a string token at a URL we provide. Then they expect us to send a form over POST back to a URL they provide. And now the user will be logged into LS with the information we send over with the form.</p>\n<p>Our solution was to create an endpoint at /sso that accepts a POST request (the URL we provide them.) This endpoint is relatively simple, it stores their token in a session variable and directs the user with ModelAndView to a jsp where the form is auto filled and auto submitted to do the POST back and log the user into LS. There is a separate GET endpoint we use to get the user data to auto fill the form.</p>\n<p>If the user is not logged into our system yet, they get directed to our login page and have to go through the process all over again.</p>\n<p>So, this all works perfectly fine. If the user is using Firefox browser. You can log in and out of LS using the SSO button over and over or even let your session completely expire, login on our site and then go do the SSO button on LS and it will log you in fine every time as far as I can tell.</p>\n<p>However, on Chrome (and Edge and presumably any chromium browser) it works fine at first. You can log in with the SSO button as expected. You can even logout and back in some before the issue occurs. Or you can just wait a few minutes. But it consistently happens after a few minutes. Clicking the SSO button after those first few minutes instead will send the POST request and our server will respond with a 302 and direct the user to our home page (still logged in.) This happens every time after that until browser cache is cleared.</p>\n<p>The POST request from LS has no-cache, no-store, max-age=0, must-revalidate as its cache-control header. I have tried adding this to the response of our POST controller method as well. Thinking it has to be some kind of weird Chrome browser cache issue. None of that helped.</p>\n<p>After doing some more tests I realized when the 302 starts, the call never actually makes it into our controller endpoint. Nothing in there gets triggered at all. I also tried making a servlet filter that just logs the status codes of every call coming into our server and I never see a 302 occur.</p>\n<p>We don't have any kind of manually created 302 responses in our entire project either.</p>\n<p>The location in the 302 response header has an extension to the login URL that is errorKey=rs.home.loginRequired. I tracked this down to a bean in our web security configuration. It is our LoginUrlAuthenticationEntryPoint. So I'm guessing Chrome for some reason makes our server think the user is not logged in, but they are. It just ends up on our home page.</p>\n<p>I'm at a complete loss here. The fact that it works on Firefox but not on Chrome AND it works on Chrome at first but doesn't after a while, makes me think it is some kind of cache issue specific to the browser but I tried all the cache related things I could think of... and since it seems like our server is sending the user to the home page under the 302's location of a login required redirect makes me wonder if there is some session saving problem, but since the user is still logged in, it doesn't seem to be a problem there either.</p>\n<p>Any ideas, even if just to point me at a new path to start down would be greatly appreciated!</p>\n"},{"comments":[{"comment_id":134491130,"body":"Yes you can, should you probably not as it is insecure as ****."}],"last_activity_date":1684253599,"question_id":76265087,"body":"<p>In spring security for manage urls and authorities used SecuirtyFilterChain. How to manage autority linked with url from request. Something like: request: localhost:8080/authority/1(this is id authority in db)?method=Post?url=/producst/add\nto generate in SecurityFilterChain somethins like this:\n.requestMatchers(HttpMethod.POST, &quot;/producst/add&quot;).hasAuthority(&quot;ADMIN&quot;)</p>\n<p>Maybe need to make custom SecurityFilterChain?</p>\n<p>Someone know it's possible to make? Becouse i don't know for what make autorities saved in db if you can't manage out of app this new authorities to link in app.</p>\n<p>Don't know how to normal make my question for google search.</p>\n"},{"comments":[{"comment_id":134475702,"body":"show the content of <code>maven.config</code> file here?"},{"comment_id":134475790,"body":"Added just now."},{"comment_id":134475851,"body":"Use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs, not quote format. Quote is for human text, not logs and other pre formatted text. Quote breaks the existing format of the log, makes it very hard to read and gets in the way of trying to copy text for investigation."},{"comment_id":134476002,"body":"That&#39;s not the content of the <code>maven.config</code> file... Why using <code>env.JAVA_HOME</code> in your toolchains.xml file that does not make sense.. it&#39;s easier to use only <code>JAVA_HOME</code> via <code>sdkmain.io</code> or alike instead of indirecting via toolchains.xml ...?"},{"comment_id":134476265,"body":"I am not sure. I am still trying to get the entire picture here. I have never come across the file like toolchains.xml so far. Is it okay if I gave the actual Java path itself?"}],"answers":[{"answer_id":76265146,"body":"<p>From <a href=\"https://maven.apache.org/docs/3.9.2/release-notes.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/docs/3.9.2/release-notes.html</a></p>\n<p>Starting from Maven 3.9.x - Each line in <code>.mvn/maven.config</code> is now interpreted as a single argument.</p>\n<p>So your <code>.mvn/maven.config</code> should be like:</p>\n<pre><code>-am\n-gt\ntoolchains.xml\n</code></pre>\n"}],"last_activity_date":1684253402,"question_id":76256907,"body":"<p>I have been trying to execute basic Maven command after importing project into intellij on Mac.\nI am not trying to run the project. When I try to run the command : mvn --version I get this message with a huge list of options. Not sure, what is causing this behaviour.</p>\n<pre><code>aravind.s@A2141-TI13169-B recopp % mvn --version\nUnable to parse maven.config file options: Unrecognized option: -am -gt toolchains.xml\n\nusage: mvn [options] [&lt;goal(s)&gt;] [&lt;phase(s)&gt;]\n</code></pre>\n<p>Contents of the maven config file just contains this :</p>\n<p>-am -gt toolchains.xml</p>\n<p>And toolchains.xml contains this :</p>\n<pre><code>&lt;toolchains&gt;\n    &lt;toolchain&gt;\n        &lt;type&gt;jdk&lt;/type&gt;\n        &lt;provides&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/provides&gt;\n        &lt;configuration&gt;\n            &lt;!-- set the env JAVA_HOME to jdk8 before mvn package  --&gt;\n            &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\n        &lt;/configuration&gt;\n    &lt;/toolchain&gt;\n    &lt;toolchain&gt;\n        &lt;type&gt;jdk&lt;/type&gt;\n        &lt;provides&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/provides&gt;\n        &lt;configuration&gt;\n            &lt;!-- set the env JAVA_HOME to jdk11 before mvn package  --&gt;\n            &lt;jdkHome&gt;${env.JAVA_HOME}&lt;/jdkHome&gt;\n        &lt;/configuration&gt;\n    &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n<p>and java version is 1.8.</p>\n<p>Will be glad to receive any inputs regarding this. Thanks in advance.</p>\n"},{"answers":[{"comments":[{"comment_id":128162151,"body":"you&#39;re right and I feel stupid... too may hours.. thanks"}],"answer_id":72551908,"body":"<p>You are adding the module path of the jdk, not the JavaFX sdk.</p>\n<p>Download the JavaFX sdk or modules from openjfx.io and place the lib directory from that on your module path instead of the jdk (which is there automatically).</p>\n<p>Or use a distribution like liberica “full jdk” that includes JavaFX modules.</p>\n"}],"last_activity_date":1684253332,"question_id":72551590,"body":"<p>I have spent half a day trying to find a working solution for this, but either I'm doing everything wrong, or nothing is working for me. I'm new to Java and JavaFX specifically.</p>\n<p>I'm using VSCode on Windows, and having installed the &quot;Extension Pack for Java&quot; and &quot;Maven for Java&quot; extensions, I created a project using JAVAFX archetype as a build method.</p>\n<p>A sample project is generated and I run it without problems, even without adding a &quot;launch.json&quot; with &quot;VMargs&quot; etc.</p>\n<p>My problem is when I run <code>mvn package</code> to make a jar file.</p>\n<p>Trying to run the jar file like any other file does nothing.\nThen I tried to add the path for the JavaFX sdk and the modules by running:</p>\n<pre><code>java --module-path 'C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.15.10-hotspot\\lib' --add-modules=javafx.controls,javafx.fxml -jar .\\test.jar\n</code></pre>\n<p>that gives me the error:</p>\n<blockquote>\n<p>Error occurred during initialization of boot layer<br />\njava.lang.module.FindException: Module javafx.controls not found</p>\n</blockquote>\n<p>I didn't put any code because I didn't change anything from the auto-generated code from VSCode. If you want it, I can paste it though.</p>\n<p>Any help is appreciated. Thanks</p>\n"},{"last_activity_date":1684253277,"question_id":76265111,"body":"<p>I have recently encountered a problem while implementing a learning system where I need to determine the activity of different courses based on student submissions. I have written code to calculate this, but I am getting incorrect results that do not meet the specific requirements of the task.</p>\n<p>Here's an overview of the situation :</p>\n<pre><code>I have a list of course names: [&quot;RIP&quot;, &quot;Java&quot;, &quot;AppMob&quot;, &quot;BDD&quot;]\nI have a list of students with their grades for each course:\nstudents = [\n{id: 1, points: [8, 7, 7, 5]},\n{id: 1, points: [7, 6, 9, 7]},\n{id: 1, points: [6, 5, 5, 0]},\n{id: 2, points: [8, 0, 8, 6]},\n{id: 2, points: [7, 0, 0, 0]},\n{id: 2, points: [9, 0, 0, 5]}\n]\n</code></pre>\n<p>According to the task, the activity of a course is determined by the number of non-zero submissions from students. I need to find the course with the highest level of activity and the course with the lowest level of activity.</p>\n<p>However, the code I have written so far does not seem to meet these requirements. It returns incorrect results where multiple courses are included in both the &quot;highest activity&quot; and &quot;lowest activity&quot; category. For example, the course &quot;RIP&quot; is listed as having both high activity and low activity.</p>\n<p>Here's the code I used to calculate the course activity:</p>\n<pre><code> public static class Activity {\n        public static String getHighestActivityCourse() {\n            int[] courseSubmissions = new int[courseNames.length];\n            int highestSubmissions = 0;\n\n            for (Etudiant etudiant : students) {\n                int[] points = etudiant.getPoints();\n                for (int i = 0; i &lt; points.length; i++) {\n                    if (points[i] &gt; 0) {\n                        courseSubmissions[i]++;\n                        if (courseSubmissions[i] &gt; highestSubmissions) {\n                            highestSubmissions = courseSubmissions[i];\n                        }\n                    }\n                }\n            }\n\n            List&lt;String&gt; highestActivityCourses = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; courseSubmissions.length; i++) {\n                if (courseSubmissions[i] == highestSubmissions) {\n                    highestActivityCourses.add(courseNames[i]);\n                }\n            }\n\n            if (highestActivityCourses.isEmpty()) {\n                return &quot;n/a&quot;;\n            } else {\n                return String.join(&quot;, &quot;, highestActivityCourses);\n            }\n        }\n\n        public static String getLowestActivityCourse() {\n            String highestActivityCourses = getHighestActivityCourse();\n            List&lt;String&gt; lowestActivityCourses = new ArrayList&lt;&gt;();\n\n            if (highestActivityCourses.equals(&quot;n/a&quot;)) {\n                return &quot;n/a&quot;;\n            }\n\n            Set&lt;String&gt; highestActivityCourseSet = new HashSet&lt;&gt;(Arrays.asList(highestActivityCourses.split(&quot;, &quot;)));\n\n            for (String courseName : courseNames) {\n                if (!highestActivityCourseSet.contains(courseName)) {\n                    lowestActivityCourses.add(courseName);\n                }\n            }\n\n            if (lowestActivityCourses.isEmpty()) {\n                return &quot;n/a&quot;;\n            }\n\n            return String.join(&quot;, &quot;, lowestActivityCourses);\n        }\n    }\n\n</code></pre>\n<p>I am aware that there is a problem in my calculation logic, but I am unable to resolve it correctly. I believe it has to do with how I count the student submissions and determine the highest level of activity.</p>\n<p>I would like to ask for your assistance in understanding this issue and finding a proper solution. If you have any suggestions or modifications to improve my code, I am open to all ideas.</p>\n<p>Thank you in advance for your valuable help!</p>\n<p>Best regards</p>\n<p>I tried implementing a code to calculate the activity of courses based on student submissions. I expected the code to correctly determine the course with the highest activity level and the course with the lowest activity level, considering the number of non-zero submissions for each course.</p>\n<p>However, the results I obtained were not as expected. The code returned incorrect outcomes where multiple courses were listed in both the &quot;highest activity&quot; and &quot;lowest activity&quot; categories. This contradicts the requirements, as each course should only be included in one category.</p>\n<p>I attempted to modify the logic for calculating activity by considering the number of non-zero submissions for each course. Unfortunately, my attempts did not yield the desired results.</p>\n<p>I am now seeking guidance and assistance from the community to understand the issue and find a suitable solution.</p>\n"},{"comments":[{"comment_id":126007134,"body":"The <code>http</code> module, as one might be able to guess from its name, implements HTTP: when it receives a request <i>in HTTP format</i>, it processes the request by passing to code (in your case using <code>express</code>) which generates a response <i>in HTTP format</i>. Your Java code is not sending an HTTP request. See <a href=\"https://en.wikipedia.org/wiki/Hypertext_Transfer_Protocol\" rel=\"nofollow noreferrer\">wikipedia</a>."}],"last_activity_date":1684253186,"question_id":71285989,"body":"<p>I'm trying to connect to my server (which runs <code>nodejs</code> with <code>sockets.io</code>) from my Java client. I want it to detect whenever the client reaches the server and print something to the console.</p>\n<p>After the connection is successful, 2nd step would be to the client to be able to send a string to the server via sockets.</p>\n<p>I run the JAVA code but the server is not detecting the client connection and I don't understand why is that happening and I can't find good resources for sockets communication with nodejs.</p>\n<p>server-side code:</p>\n<pre><code>var app = require('express')();\nvar server = require('http').Server(app);\nvar io = require('socket.io')(server);\n\nserver.listen(65432, () =&gt; {\n        console.log('listening on *:65432');\n});\n\napp.get('/', function(req, res) {\n        res.send('connection successfull');\n});\n\n\nio.on('connection', function(socket) {\n        socket.on('send coordinates', function(data){\n                console.log('a user connected');\n        });\n});\n\nconsole.log('listening to port');\n</code></pre>\n<p>Client side code:</p>\n<pre><code>public static void main(String[] args) {\n    Socket socket = null;\n    OutputStreamWriter osw;\n    String str = &quot;Hello World&quot;;\n    try {\n        socket = new Socket(**[serverIP]**, 65432);\n        osw =new OutputStreamWriter(socket.getOutputStream(), &quot;UTF-8&quot;);\n        osw.write(str, 0, str.length());\n    } catch (IOException e) {\n        System.err.print(e);\n    } finally {\n        try {\n            socket.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"last_activity_date":1684252959,"question_id":76265072,"body":"<p>I'm trying to extend Google's Dataflow template to move data from BQ to parquet files on Cloud Storage, and I'm blocked trying to control parquet file sizes.\n<a href=\"https://cloud.google.com/dataflow/docs/guides/templates/provided/bigquery-to-parquet\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/templates/provided/bigquery-to-parquet</a></p>\n<p>I'm running the pipeline locally using Direct runner, and it works fine but I'm not able to control the size of the parquet files. The main target is to ensure a file size of 1GB that is the recommended size.</p>\n<p>Some facts and tests I did:</p>\n<ul>\n<li><p>I can control the number of shards using .withNumShards(xxx) that impact directly on the amount of files generated in the output folder, because this is related to the parallelism in the pipeline, if I set 1 shard I have only 1 file with all the data, if I set 5 shards I get 5 parquet files, and if I use the default the amount of parquet files will depend on how many shards are assigned to the pipeline.</p>\n</li>\n<li><p>There's a .withRowGroupSize() configuration but it's only to modify how data is stored in the parquet file, it doesn't impact on the final size directly.</p>\n</li>\n<li><p>I found a FixedWindows configuration, but it's a time-based configuration, so it's not deterministic for the file size.</p>\n</li>\n<li><p>I also was trying to use the page size configuration, but it's not directly available in the version I'm using (Apache beam 2.46.0, including all the sdk and runners dependencies)</p>\n</li>\n</ul>\n<p>I'm running out of ideas, and couldn't find information related to this issue.  So I would like to understand if this is a common practice considering there's a recommended file size for Parquet, and if someone can provide more info about how to achieve this.</p>\n<p>A short version of the code (not completed, but it's basically based on the template mentioned above)</p>\n<pre><code>        TypedRead&lt;GenericRecord&gt; readFromBQ =\n            BigQueryIO.read(SchemaAndRecord::getRecord)\n                .from(options.getTableRef())\n                .withTemplateCompatibility()\n                .withMethod(Method.DIRECT_READ)\n                .withCoder(AvroCoder.of(schema));\n\n        /*\n         * Steps: 1) Read records from BigQuery via BigQueryIO.\n         *        2) Write records to Google Cloud Storage in Parquet format.\n         */\n        pipeline\n            /*\n             * Step 1: Read records via BigQueryIO using supplied schema as a PCollection of\n             *         {@link GenericRecord}.\n             */\n            .apply(&quot;ReadFromBigQuery&quot;, readFromBQ)\n            /*\n             * Step 2: Write records to Google Cloud Storage as one or more Parquet files\n             *         via {@link ParquetIO}.\n             */\n            .apply(\n                &quot;WriteToParquet&quot;,\n                FileIO.&lt;GenericRecord&gt;write()\n                    .via(\n                        ParquetIO.sink(schema))\n                    .to(&quot;/my/path/to/local/bucket&quot;)\n//                    .withNumShards(1)\n                    .withSuffix(FILE_SUFFIX));\n\n        // Execute the pipeline and return the result.\n        return pipeline.run();\n</code></pre>\n<p>Thanks</p>\n"},{"comments":[{"comment_id":134489600,"body":"What is <code>patch</code>? What JSON libraries are you using? Please provide a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"comment_id":134489601,"body":"Where exactly is the &quot;output&quot; coming from? Is it possible that you&#39;re actually seeing the result of calling <code>toString()</code> on a <code>java.util.Date</code>? (In which case it&#39;s got nothing to do with the patch.)"},{"comment_id":134489787,"body":"The formatted date i am seeing on patched object.  I can see the formatted date when i am calling toString on that Object."},{"comment_id":134489844,"body":"In another way to explain , say i am applying same date on patch like [ {     &quot;op&quot;: &quot;replace&quot;,     &quot;path&quot;: &quot;/expirationDate&quot;,     &quot;value&quot;: &quot;2022-05-15T02:59:59&quot; } ] So the existing and new object have same value . But if i call     existingObject.equals(newpatchedObjt)   should say its same . But in this case because of the Date format difference its saying the objects are not equal."}],"last_activity_date":1684252900,"question_id":76264929,"body":"<p>I am using json patch 1.13 version to apply patch on my json payload .</p>\n<p>This is the POM Entry using for json patch</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.github.java-json-tools&lt;/groupId&gt;\n  &lt;artifactId&gt;json-patch&lt;/artifactId&gt;\n  &lt;version&gt;1.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The existing payload have value like</p>\n<pre><code>{\n &quot;expirationDate&quot;: &quot;2022-05-15T01:59:59&quot;\n}\n</code></pre>\n<p>I am applying the patch with below patch operation, . This is to update the value with new date .</p>\n<pre><code>[\n{\n    &quot;op&quot;: &quot;replace&quot;,\n    &quot;path&quot;: &quot;/expirationDate&quot;,\n    &quot;value&quot;: &quot;2023-05-15T02:59:59&quot;\n}\n]\n</code></pre>\n<p>But after applying the patch the new object have differently formatted Date value like</p>\n<pre><code>Java code\nJsonNode patched = patch.apply(objectMapper.convertValue(targetCustomer, JsonNode.class));\nreturn objectMapper.treeToValue(patched, Customer.class);\n\nOutput\nexpirationDate=Mon May 15 01:59:59 EDT 2023\n\nExpected Output\nexpirationDate: &quot;2023-05-15T01:59:59&quot;\n\nAny reason its changing the format or how i can fix this.\n</code></pre>\n"},{"comments":[{"comment_id":134482190,"body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"comment_id":134482223,"body":"Are you talking about <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEP 306</a>?"},{"comment_id":134482228,"body":"how can math calculations have different valid results?"},{"comment_id":134482332,"body":"@SharonBenAsher Older Java version used shortcuts/different calculations (at least on x86) for floating point operations for historic reasons (e.g. it was slower to use strictly conforming calculations on some hardware), and only formally complied with the IEEE-754 standard if you tagged the variables with the <code>strictfp</code> keyword. This changed in Java 17 with <a href=\"https://openjdk.org/jeps/306\" rel=\"nofollow noreferrer\">JEP-306</a>, the default behaviour is now the same as the strictfp behaviour."},{"comment_id":134482342,"body":"@SharonBenAsher Given the shortcuts used can result in slightly different values, and if you then consider compound error, the results between the old default behaviour and the strict behaviour can result in larger deviations."},{"comment_id":134482371,"body":"OP, why can&#39;t you accept that the math behaviour changed and move on?"},{"comment_id":134482674,"body":"I added an example, and added a sentence to explain the motivation."},{"comment_id":134482864,"body":"@MarkRotteveel the example provided is also valid for java 11, means: java 11 also produces a different result than java 8. So there was something introduced even earlier."},{"comment_id":134482913,"body":"You should be able to &quot;Any ideas how the same math behaviour can be achieved?&quot; You should be able to use <code>StrictMath</code> instead of <code>Math</code> and get the same results for both jdks."},{"comment_id":134482931,"body":"I&#39;m going to go out on a limb and guess that in Java 11 (or earlier) they made some changes which affected the non-strict floating point operations, and instead of changing it back (it likely still complied with the spec), they decided to ditch that non-strict behaviour entirely through JEP-306, so they now only have behaviour that complies with the IEEE-754 standard."},{"comment_id":134482954,"body":"@MarkRotteveel from your description it seems like <code>Math.exp</code> and <code>StrictMath.exp</code> should be the same for java 17 but different for java 8. That&#39;s not what I get though."},{"comment_id":134483062,"body":"@matt Interesting, I&#39;m not sure if that is a bug or just a deviation allowed by the spec. Given <code>Math.exp(...)</code> delegates to <code>StrictMath.exp(...)</code>, I guess it should have the same result, but <code>Math.exp(...)</code> can be replaced with an intrinsic at runtime, while <code>StrictMath.exp(...)</code> cannot."},{"comment_id":134483172,"body":"@matt yes, it is a good idea to use StrictMath in the future or any other math library which ensures consistency across versions and platforms.  For now it doesn&#39;t solve the problem because StrictMath doesn&#39;t deliver the same results like java 8 Math. Check with exp function and number 1.0d"},{"comment_id":134483225,"body":"@MarkRotteveel yes that&#39;s also my best guess... and yes, java.lang.Math delegates to java.lang.StrictMath, BUT because of intrinsic functions the jvm can do something different during runtime to improve performance (e.g. call native code)  see also this list:  <a href=\"https://chriswhocodes.com/hotspot_intrinsics_openjdk8.html\" rel=\"nofollow noreferrer\">chriswhocodes.com/hotspot_intrinsics_openjdk8.html</a>"},{"comment_id":134483237,"body":"@Nik java 8 uses StrictMath for the Math.exp, I don&#39;t get how it can produce a different result, but I tried <code>a=1.0d;</code> and <code>Math.exp(a)</code> and <code>StrictMath.exp(a)</code> They&#39;re different. java 17 makes sense because it has the intrisic anotation. It&#39;s strange for java 8. So far though all three jdk&#39;s I try produce the same strict math results."},{"comment_id":134483291,"body":"Can not reproduce your problem with <code>1.0</code>. On my machine, <code>StrictMath</code> produces the same results from Java 8 to Java 21."},{"comment_id":134483311,"body":"@Holger 1.0 gives different results for Math and StrictMath, that means java 21 StrictMath cannot be used for java 8 Math. The <code>0.003978202863827189</code> example gives a different result for java 17 Math and java 8 Math."},{"comment_id":134483319,"body":"@Holger maybe a misunderstanding: StrictMath produces the same result across jdks, but not the same result like the Math counterpart. Example:  JVM VERSION: 17.0.6 Input number: 1.0 Math result (java.lang.Math.exp):  -&gt; 2.718281828459045 StrictMath result (java.lang.StrictMath.exp):  -&gt; 2.7182818284590455"},{"comment_id":134483329,"body":"@matt Java 8 does not necessarily annotate hotspot intrinsic methods. Those methods can replace a pure java method. (And if you change one, but not the other...). Anyway, <code>Math.pow()</code> is a hotspot intrinsic since java 6."},{"comment_id":134483475,"body":"I don’t understand where you’re heading at. If you want consistent results across all versions, use <code>StrictMath</code>. In all versions. Of course, it does not (always) produce the same results as <code>Math</code>. If it did, what would be the point of having two classes?"},{"comment_id":134483733,"body":"@Holger we have old code that uses java.lang.Math written for java 8. The same code must now run on java 17. The question is how can the same math behavior on java 8 be achieved on java 17 (or even other java versions). java.lang.Math could be only one part of the problem, e.g. I don&#39;t know if also math operators like +, -, /, * changed behaviour. The question how to avoid these problems in the future (e.g. use StrictMath) is a different topic."},{"comment_id":134483817,"body":"Did you consider building the JDK? Then you should see the options use to build the library."},{"comment_id":134483953,"body":"@matt I downloaded open-jdk8u and open-jdk17u source repositories. That&#39;s how I started my research and I already found out a lot, like the intrinsic functions and usage of fdlibm. But it&#39;s a huge code base and I couldn&#39;t figure out how the math parts are built yet."},{"comment_id":134483970,"body":"No, the arithmetic operations did not change their behavior. You tripped over <a href=\"https://bugs.openjdk.org/browse/JDK-8132207\" rel=\"nofollow noreferrer\">a single optimization</a> and if the application really depends on the last bit of a 64 bit floating point result, there’s a much deeper problem. And if you really consider changing the behavior of the JDK/JVM to be more feasible than fixing your own code, I’d rethink whether your code really “must now run on java 17”."},{"comment_id":134484301,"body":"Thanks for the hints (arithmetic operations, exp optimization)! Compound errors can amplify the problem. I don&#39;t want to build a special version of java 17 - a (JNI?) library with the same behaviour would be sufficient. And of course in the future the code must use something more portable - this is already planned. I&#39;m looking for a possibility to calculate old data with the old behaviour and newer data with the portable/standard behaviour. There are a lot reasons java 17 must be used in the future, e.g. overall performance, long term support/security patches, features to name a few..."},{"comment_id":134485185,"body":"@Nik yes, it is a monster, the ones I look at have pretty good instructions for building the jdk. I would suggest building it. Making sure it produces the results you want. You&#39;ll also be able to find the lib&#39;s you needs, and the commands used to build them with tools like <code>find</code> and <code>grep</code>"},{"comment_id":134485680,"body":"You assume that the JDK 8 Math behavior is correct.  That might not be the case.  I&#39;d go for the JDK 17 StrictMath results."},{"comment_id":134486615,"body":"Writing that hypothetical JNI library still would be more effort than just using <code>StrictMath</code>. And why do you think about “performance, long term support/security patches, etc” when you’re going to throw it all away by introducing a new JNI library to your code that will kill the performance and likely introduce bugs and security holes."},{"comment_id":134488929,"body":"I’m voting to close this question because while there is an inconvenient here, there is no <i>problem</i> here, IEEE floating points decimals are explicitly inaccurate, and code that relies on precision in the last few decimals but also uses IEEE floating point decimals is using the wrong datatype entirely: those decimals are guaranteed to almost never be right no matter which version of java (or any other programming language) you use. You don&#39;t try to fix Java 17, you should <i>really</i> fix your code."},{"comment_id":134489200,"body":"I don&#39;t assume java 8 Math is &quot;correct&quot;. The discussion is not about mathematical correctness. And like I said StrictMath and/or other datatypes is the way to go in the future. I also don&#39;t try to &quot;fix&quot; java 17 everything is fine there.  I&#39;m looking for a possibility to achieve the same outcome in the math computations for legacy code and data there already is. This old stuff will slowly fade away after some years.  I couldn&#39;t figure out how to extract the math behaviour of the jdk source and therefore asked the community"},{"comment_id":134490554,"body":"There is an easy way to keep to the outcome of the legacy code the same. Keep running the legacy code with the legacy Java version. It’s ok, if you don’t want to touch that code (and rather let it fade away). But then, don’t touch the code."},{"comment_id":134512524,"body":"If you look at the included libraries in java 8 you can find that <code>liblcms.so</code> contains math symbols. One of them being <code>U exp@GLIBC_2.2.5</code>  There is also the StrictMath exp reference, but I think it is refering to the GLIBC one."}],"answers":[{"comments":[{"comment_id":134485058,"body":"You shouldn&#39;t be doing floating point calculations in the first place if you need accuracy. Use BigDecimal for that matter. If you want to keep using floating points you have to consider accuracy as this answer states."},{"comment_id":134489698,"body":"This suggestion isn&#39;t wrong, but it&#39;s also missing the point. OP quite specifically asked for the &quot;non-strict&quot; x86 behaviour of old JVMs on a current JVM. (I don&#39;t think you can get that, but that&#39;s besides the point)."},{"comment_id":134489772,"body":"@JoachimSauer This tries to answer the problem that the OP really has, rather than the problem they think they have."}],"answer_id":76262142,"body":"<p>When comparing floating point numbers, you should ALWAYS take the accuracy of the numbers involved into account. That accuracy is almost always much less than the accuracy of the floating point representation. So it should not matter for your results whether the mathematical operations have become a tiny bit more accurate.</p>\n<p>Therefore, when &quot;checking if results were calculated correctly&quot;, take the accuracy of the results into account.</p>\n"}],"last_activity_date":1684252308,"question_id":76260498,"body":"<p>We have an growing codebase which also involves doing math calculations on data and store them historically. Now we need to move on and migrate from Java 8 to Java 17 but we noticed the calculation results are different in Java 17! The reason why we try to achieve the same calculation behaviour is because of possible recalculations and historical comparison of data (check if results were calculated correctly in terms of new calculation equals the saved values).</p>\n<p>After a lot of research I already know, that Java 8 used optimizations like use more floating precision if available on a system. They use intrinsic functions which modify math operations during runtime for performance improvements. And they rely on fdlibm 5.3, a native c math library. In Java 17 they ported the fdlibm from c to java and use it at least in StrictMath, but still there are intrinsic functions which use native code.</p>\n<p>I think the key to achieve what I am trying is to understand how and with which options they compiled the native math code the intrinsic functions use.</p>\n<p>I built a JNI library which delegates functions like exp, log, sqrt etc. to native fdlibm. I tried different optimizations like -Ofast, but still the results are not exactly the same.</p>\n<p>Maybe the code for operators like division, multiply, plus and minus was also changed?</p>\n<p>I ran the tests on the same system so it should be comparable.</p>\n<p><strong>Any ideas how the math behaviour of java 8 can be extracted to use it for legacy calculations in java 17?</strong></p>\n<p>Example of different computation with Math.exp:</p>\n<pre><code>JVM VERSION: 1.8.0_362 \n--- Input number: 0.003978202863827189 \njava.lang.Math.exp       : 1.0039861264165226 \n\nJVM VERSION: 17.0.6\n--- Input number: 0.003978202863827189 \njava.lang.Math.exp       : 1.0039861264165224 \n</code></pre>\n<p>Example Code for the output above:</p>\n<pre><code>public class Exp {\n\n    public static void main(String[] args) {\n        System.out.println(System.getProperty(&quot;java.library.path&quot;));\n        \n        double input = Double.valueOf(args[0]);\n\n        System.out.println(&quot;JVM VERSION: &quot; + System.getProperty(&quot;java.version&quot;));\n        System.out.println(&quot;---&quot;);\n        System.out.println(&quot;Input number: &quot; + input);\n            \n        System.out.println(&quot;Math result (java.lang.Math.exp):&quot;);\n        System.out.println(&quot; -&gt; &quot; + Math.exp(input)); \n\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134489291,"body":"Can You try to use org.hibernate.dialect.MySQL8Dialect if You use MySQL8, or other version according with Your MySQL version.  Can You show us logs? Also, can You add @EnableAutoConfiguration if it is missing in configurations?"},{"comment_id":134489400,"body":"Please add this property: spring.jpa.generate-ddl=true"},{"comment_id":134489472,"body":"And add packages to be scanned for entities: @EntityScan(basePackages = &quot;com.example.entities&quot;). This is necessary because your main application class is in a different package."},{"comment_id":134489922,"body":"thanks @Mar-Z those suggestions worked"},{"comment_id":134490311,"body":"@Mar-Z could you check this out too?  <a href=\"https://stackoverflow.com/questions/76265356/404-error-for-post-request-using-springboot\" title=\"404 error for post request using springboot\">stackoverflow.com/questions/76265356/&hellip;</a>"},{"comment_id":134490654,"body":"You have similar problem with base packages for JPA repositories. Add EnableJPARepositories annotation."},{"comment_id":134490672,"body":"It would be easier just to change the package of main class to com.example"}],"answers":[{"answer_id":76264931,"body":"<p>As your entity package is different than spring boot main class, you will have to specify the package in <code>@EntityScan</code></p>\n<pre><code>@EntityScan(&quot;com.example.entities.*&quot;)\n</code></pre>\n"}],"last_activity_date":1684251883,"question_id":76264632,"body":"<p>After running the project, shouldnt the user table be generated automatically in my database? I am refreshing it after running the server as well, but the user table isn't showing up in mysql.</p>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/BloggingApp\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\nspring.jpa.hibernate.ddl-auto = create\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.SQL=debug\nlogging.level.org.hibernate.type.descriptor.sql=trace\n</code></pre>\n<p>User class</p>\n<pre><code>package com.example.entities;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String name;\n    private String email;\n    private String password;\n    private String about;\n}\n</code></pre>\n<p>Main</p>\n<pre><code>package com.example.blogging.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.AutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\n\n@SpringBootApplication\n@EnableConfigurationProperties\n@EntityScan\npublic class BloggingAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BloggingAppApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/vwvAu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vwvAu.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":134489335,"body":"what is your operation system?"},{"comment_id":134491626,"body":"Windows Server 2016"}],"answers":[{"comments":[{"comment_id":134491616,"body":"That I think the problem. THese applications are not able to run with JRE9+. And MAT need at least JDK17 (based on the latest version of MAT). I used the same users - this should not be the problem."},{"comment_id":134491707,"body":"You can download an older version of MAT that works with JDK 8. It will work the same."}],"answer_id":76264894,"body":"<p>You should use the same JDK version to run MAT than the process that you want to analyze. Also both should be executed by the same user to avoid permission issues.</p>\n"}],"last_activity_date":1684251648,"question_id":76264765,"body":"<p>Having some java applications, which are just compatible with JDK8, I set my environment variable %JAVA_HOME% to the JDK8 path. Furthermore I would like to analyze memory leaks using Eclipse Memory Analyszer Tool (MAT) within these applications.</p>\n<p>So i have downloaded AdoptiumJDK17, installed it, but did <em>not</em> set JAVA_HOME for this JDK. For starting MAT I have used the <code>-vm</code> Parameter for setting JDK17 in the ini-file. MAT is starting fine, but <code>File</code> -&gt; <code>Acquire Head Dump</code> does not show any java.exe running with JDK8 in the background.</p>\n<p>Is there any possibility to find these processes?</p>\n"},{"comments":[{"comment_id":134487322,"body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. You are possibly obfuscating too much (we can&#39;t tell what comes after <code>java</code>), but when you actually copy and paste from Terminal, you should find it easier to do so. Remember, obfuscation means it make it difficult for us to help you"},{"comment_id":134487708,"body":"You have obfuscated too much from the command line. if it says <code>name.jar</code>, then you didn&#39;t launch it with <code>java -jar name.jar</code>, you launched it with <code>java name.jar</code>, which doesn&#39;t launch the jar properly. You didn&#39;t show the output from <code>Console.app</code> to see what the error is from the java launcher, which the error dialog is indicating you should look at."},{"comment_id":134488199,"body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"comment_id":134488345,"body":"@g00se The &quot;images of text&quot; show nothing more than what I already explicitated above so I see no issue there, I&#39;m not obfuscating too much as I stated already that the application I&#39;m trying to run is a .jar file so the command was &quot;java file.jar&quot;."},{"comment_id":134488358,"body":"@AnyaShenanigans I&#39;m sorry but I didn&#39;t think I obfuscated important pieces of code, however I ran the piece of code you gave me and I now have a new error which is: &quot;Error: Could not find or load main class com.xxx.xxx.App Caused by: java.lang.NoClassDefFoundError: javafx/application/Application&quot;."},{"comment_id":134489852,"body":"Since two people told you the same thing, I think you can take it that your code <i>was</i> too obfuscated. Your problem seems now that you&#39;re running an app with no active JavaFX environment. I don&#39;t really do JavaFX, but I&#39;m guessing that a &#39;fat jar&#39; (or even an installer) approach is good when packaging such apps as that environment is not the norm with Java"},{"comment_id":134490323,"body":"@g00se the real problem here is that before installing the JDK the application was running fine, this is what triggers me. And now even by installing OpenJDK (which includes JavaFX (even if modern versions of Java come with JavaFX preinstalled already)) I didn&#39;t resolve anything."},{"comment_id":134490454,"body":"Whichever version of Java <i>is the active one</i> in PATH clearly does <i>not</i> include JavaFX or you wouldn&#39;t get that error. <code>java -version</code> will tell you what that is"},{"comment_id":134491062,"body":"@g00se &quot;openjdk version &quot;17.0.2&quot; 2022-01-18 OpenJDK Runtime Environment (build 17.0.2+8-86) OpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing).&quot; I&#39;m pretty sure this version of Java includes JavaFX"},{"comment_id":134491296,"body":"I somehow doubt it. If you&#39;re right, why would OpenJDK have a separate <a href=\"https://openjdk.org/projects/openjfx\" rel=\"nofollow noreferrer\">OpenJFX project</a>?"},{"comment_id":134492005,"body":"@g00se I tried to reinstall the JRE and the JDK from scratch once again.  java version &quot;17.0.7&quot; 2023-04-18 LTS Java(TM) SE Runtime Environment (build 17.0.7+8-LTS-224) Java HotSpot(TM) 64-Bit Server VM (build 17.0.7+8-LTS-224, mixed mode, sharing)  But I keep getting the same error."},{"comment_id":134492046,"body":"<i>@g00se I tried to reinstall the JRE and the JDK from scratch once again...</i> So, you decided to ignore the issue contained in our last couple of comments about (dis)inclusion of JavaFX?"},{"comment_id":134492177,"body":"@g00se I didn&#39;t ignore it, I just don&#39;t really know what to say, if the java.com says that JavaFX is in there I suppose it&#39;s there... If you have any solution I&#39;d appreciate it."},{"comment_id":134492980,"body":"<i>if the java.com says that JavaFX is in there</i> So, <i>where</i> does it say that? I would guess the solution will be to install OpenJFX"}],"last_activity_date":1684251637,"question_id":76263555,"body":"<p>I installed an application that used to run smoothly having only JRE installed, a few days ago I had to install JDK for a completely different project and now every .jar file on my MacBook no longer works.</p>\n<p>This is the error:</p>\n<blockquote>\n<p>Error: Could not find or load main class com.xxx.xxx.App Caused by:\njava.lang.NoClassDefFoundError:  javafx/application/Application</p>\n</blockquote>\n<p>I have tried uninstalling and reinstalling both JRE and JDK, going back to using only JRE but the problem is still there, I also thought there was something wrong in JAVA_HOME but everything was fine, I also searched many threads to see if anyone else had the same problem but I couldn't find any, so I don't know what to do anymore.</p>\n<p>Any help is appreciated.</p>\n"},{"comments":[{"comment_id":134489951,"body":"<i>that sort a HashMap by a rand number</i> How do you sort <i>by</i> a random number?"},{"comment_id":134490302,"body":"Rewrite your Question to ask for exactly what you want, with example inputs and outputs.  “a &quot;simple way&quot;” to do <i>what</i> exactly?"},{"comment_id":134490321,"body":"You seem to be working too hard. Learn about <code>NavigableMap</code>/<code>SortedMap</code> such as <code>TreeMap</code>, and in Java 21+, <code>SequencedMap</code> (<a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\">JEP 431</a>)."}],"last_activity_date":1684251334,"question_id":76264844,"body":"<p>So I'm new in Java and I have a method that sort a HashMap by a rand number (big to small) and i want to pass the Players from the Hash in a List and use this sorted List to iterate with an order.</p>\n<p>This is the method that gives a sorted Hash</p>\n<pre><code>    private void triarOrdre(PlayerOffline currentPlayer, HashMap&lt;String, Integer&gt; playerDiceMap) {\n\n        if (currentPlayer.getPrimeraTirada() == 0) {\n            currentPlayer.setPrimeraTirada(rollDice());\n            playerDiceMap.put(currentPlayer.getName(), rollValue);\n            currentPlayer.setaTiratPrimeraTirada(true);\n        }\n\n        List&lt;Map.Entry&lt;String, Integer&gt;&gt; sortedEntries = new ArrayList&lt;&gt;(playerDiceMap.entrySet());\n\n        Collections.sort(sortedEntries, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\n            @Override\n            public int compare(Map.Entry&lt;String, Integer&gt; entry1, Map.Entry&lt;String, Integer&gt; entry2) {\n                return entry2.getValue().compareTo(entry1.getValue());\n            }\n        });\n\n        Log.e(&quot;Sorted Player Dice Map:&quot;, &quot;Player - Dice Value&quot;);\n        for (Map.Entry&lt;String, Integer&gt; entry : sortedEntries) {\n            String playerName = entry.getKey();\n            rollValue = entry.getValue();\n            Log.e(&quot;Sorted Player Dice Map:&quot;,currentPlayer.getColor()+&quot; &quot;+ playerName + &quot; - &quot; + rollValue);\n        }\n\n\n    }\n\n</code></pre>\n<p>And this is the onClickListener where i want to iterate with the sorted list</p>\n<pre><code>        iv_dau.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                PlayerOffline currentPlayer = playersIntent.get(currentPlayerIndex);\n\n                if (!currentPlayer.isaTiratPrimeraTirada()) {\n                    triarOrdre(currentPlayer, playerDiceMap); // Triar ordre\n                    currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\n                    return; // Skip moving the piece in the current turn\n                }\n\n                movePiece(currentPlayer); // Move the piece in UI\n\n\n                currentPlayerIndex = (currentPlayerIndex + 1) % playersIntent.size();\n            }\n        });\n</code></pre>\n<p>How can i do this in a &quot;simple way&quot;? Im getting so confused and trying no sense things.</p>\n<p>Thanks!</p>\n<p>I been trying a bunch of diferents ways to do it and im not seeing how</p>\n"},{"comments":[{"comment_id":134517351,"body":"I&#39;ve tried adding a listener to each element, but none of them have been acting like a listener is even there. I&#39;m beginning to think that these buttons don&#39;t handle the enter key at all"}],"last_activity_date":1684251063,"question_id":76264764,"body":"<p>I have a CheckboxTableViewer. This table contains some checkboxes, however they are technically &quot;TableItem&quot; elements. I am trying to add an enter key listener to each element because they do not natively handle the enter key. However, after adding a listener to each element, when I hit the enter key the event is not getting triggered.</p>\n<p>Here is the private method where I set the event on each element in the CheckboxTableViewer:</p>\n<pre><code>private static void configureCheckboxListeners(CheckboxTableViewer resourcesTableViewer,\n        List&lt;Resource&gt; resources)\n{\n    for (Resource resource : resources)\n    {\n        for (TableItem item : resourcesTableViewer.getTable().getItems())\n        {\n            item.addListener(SWT.Traverse, e -&gt; {\n                if (e.detail == SWT.TRAVERSE_RETURN)\n                {\n                    e.doit = false;\n                    item.setChecked(!item.getChecked());\n                    item.notifyListeners(SWT.Selection, null);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>I am aware that this is not the best way to iterate through the list, but I am not worried about that right now, I know that this hits each element in the list properly. Is there another way to hit this enter key event?</p>\n<p>Any help at all is much appreciated!</p>\n<p>I tried to add a listener to each TableItem element in the list of items in the CheckboxTableViewer. I expected these enter key events to get hit as I tab through each checkbox and hit enter on them. However, this did not happen. In fact, none of the enter key events are being triggered. I use this exact same selection event to set listeners for the enter key on Button controls in the same Composite however it just doesn't seem to work for the CheckboxTableViewer.</p>\n"},{"comments":[{"comment_id":134488655,"body":"Please share a reproductible code. <a href=\"https://stackoverflow.com/posts/76264447/edit\">edit</a> and add classes and a main so we can try it. Also share the output, that&#39;s always better than words"},{"comment_id":134488707,"body":"I&#39;d also <i>strongly</i> recommend that you start following Java naming conventions - at the moment, the convention violations are really, really distracting, at least to me. (I&#39;d focus on providing a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> - both complete <i>and</i> minimal are important. I suspect your complete example doesn&#39;t need to be any longer than the incomplete example you&#39;ve provided so far...)"}],"answers":[{"comments":[{"comment_id":134506680,"body":"thanks so much u solved it . i&#39;m currently in uni and not supposed to use methods that i haven&#39;t learned . and i&#39;m also pretty new to here sorry if my question was a bit stupid.i couldn&#39;t add my full project because its about a 1000 lines . thanks"},{"comment_id":134519230,"body":"@hsnsaed you’re welcome. I didn’t meant your whole code, but the minimal amount required to run the method and test it"}],"answer_id":76264603,"body":"<h4>Problem</h4>\n<p>The issue is that you add a person to its gender list, no matter the year, then use this list of the person's year, so every year ends up pointing to the same and unique genderlist</p>\n<pre><code>Males.add(entry.getValue());\nAccBirthDateMale.put(entry.getValue().getYearOfBirth(), Males);\n</code></pre>\n<hr />\n<h4>Fix</h4>\n<p>You add the outer mapping directly at initialisation of the resulting map</p>\n<p>Iterate directly over the values of the map, then you gendered map per year, and add the mapping if it's missing, add the person to its year, and finally year</p>\n<pre><code>Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, accBirthDateMale, Gender.F, accBirthDateFemale);\n\nfor (Person person : allCustomers.values()) {\n    switch (person.getGender()) {\n        case M:\n            if(!accBirthDateMale.containsKey(person.getYearOfBirth())){\n                accBirthDateMale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\n            }\n            accBirthDateMale.get(person.getYearOfBirth()).add(person);\n            break;\n        case F:\n            if(!accBirthDateFemale.containsKey(person.getYearOfBirth())){\n                accBirthDateFemale.put(person.getYearOfBirth(), new ArrayList&lt;&gt;());\n            }\n            accBirthDateFemale.get(person.getYearOfBirth()).add(person);\n            break;\n    }\n}\nresult.put(Gender.M, accBirthDateMale);\nresult.put(Gender.F, accBirthDateFemale);\n</code></pre>\n<hr />\n<h4>Improve</h4>\n<p>The previous code is quite verbose, and map offers nice methods to handle the missing-key case (<code>computeIfAbsent</code>)</p>\n<pre><code>public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\n    Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; result = Map.of(Gender.M, new HashMap&lt;&gt;(), Gender.F, new HashMap&lt;&gt;());\n    for(Collection&lt;? extends Person&gt; people : List.of(allCustomers.values(), allEmployees.values())){\n        for (Person person : people) {\n            result.get(person.getGender()).computeIfAbsent(person.getYearOfBirth(), k -&gt; new ArrayList&lt;&gt;()).add(person);\n        }\n    }\n    return result;\n}\n</code></pre>\n<h4>Improve bis</h4>\n<p>Using <code>Streams</code></p>\n<pre><code>public static Map&lt;Gender, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirthBis() {\n    return Stream.of(allCustomers.values(), allEmployees.values())\n            .flatMap(Collection::stream)\n            .collect(Collectors.groupingBy(Person::getGender, Collectors.groupingBy(Person::getYearOfBirth, Collectors.toList())));\n}\n</code></pre>\n"}],"last_activity_date":1684250887,"question_id":76264447,"body":"<p>I have this block of code.</p>\n<p>I need to return  hashmap that has the gender as key,and another hashmaap  value the second hash map has yearofbirth as key and arraylist of all people with that saame yearofbear in it .</p>\n<p>wrote this code but when i print it prints duplicates of the same customer and employees</p>\n<pre class=\"lang-java prettyprint-override\"><code>public HashMap&lt;Gender, HashMap &lt;Integer, ArrayList&lt;Person&gt;&gt;&gt; personsByGenderAndYearOfBirth() {\n    ArrayList&lt;Person&gt; Males=new ArrayList&lt;Person&gt;();\n    ArrayList&lt;Person&gt; Females=new ArrayList&lt;Person&gt;();\n    HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateMale=new HashMap&lt;&gt;();\n    HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt; AccBirthDateFemale=new HashMap&lt;&gt;();\n    HashMap&lt;Gender, HashMap&lt;Integer,ArrayList&lt;Person&gt;&gt;&gt; AccGender=new HashMap&lt;&gt;();\n    for(HashMap.Entry&lt;String, Customer&gt; entry : allCustomers.entrySet())\n    {\n        {\n            switch(entry.getValue().getGender())\n            {\n            case M:\n                Males.add(entry.getValue());\n                AccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\n                break;\n            case F:\n\n                Females.add(entry.getValue());\n                AccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\n                break;\n            }\n        }\n    }\n    AccGender.put(Gender.F, AccBirthDateFemale);\n    AccGender.put(Gender.M, AccBirthDateMale);\n    for(HashMap.Entry&lt;String, Employee&gt; entry : allEmployees.entrySet())\n    {\n        switch(entry.getValue().getGender())\n        {\n            case M:\n                Males.add(entry.getValue());\n                AccBirthDateMale.put(entry.getValue().getYearOfBirth(),Males);\n                break;\n            case F:\n                Females.add(entry.getValue());\n                AccBirthDateFemale.put(entry.getValue().getYearOfBirth(),Females);\n                break;\n        }\n    }\n    AccGender.put(Gender.F, AccBirthDateFemale);\n    AccGender.put(Gender.M, AccBirthDateMale);\n    System.out.println(AccBirthDateMale.toString());\n    System.out.println(AccGender.toString());\n    return AccGender;\n}\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":25701878,"body":"Awesome, it works! But where have you defined namespace for JAXB-bean? Must be in the bean itself, because when I run your example with DivisionRequestHandler created manually, the fields are nulls. I remove xmlns from XML, and it works."}],"answer_id":14721084,"body":"<p>You'll need to do 2 things.  </p>\n\n<ol>\n<li>xmlns in your root: <code>&lt;requestOptions xmlns=\\\"http://www.company.com/ns\\\"&gt;</code>. This reaches back to your XSD.</li>\n<li>Since it sounds like RequestData is not a @XmlRootElement you will have to unmarshall it wrapping it in a JAXBElement</li>\n</ol>\n\n<p>Illustrated here:</p>\n\n<pre><code>public class Test\n{\n  static String randomXml =\n      \"&lt;divisionRequestHeader xmlns=\\\"http://www.company.com/ns/\\\"&gt;\"\n        + \"&lt;id&gt;fake id&lt;/id&gt;\"\n        + \"&lt;CoName&gt;My Co Name&lt;/CoName&gt;\" + \"&lt;User&gt;\"\n        + \"&lt;Type&gt;EXTERNAL&lt;/Type&gt;\" + \"&lt;Value&gt;me&lt;/Value&gt;\" + \"&lt;/User&gt;\"\n        + \"&lt;Count&gt;100&lt;/Count&gt;\"\n        + \"&lt;Requestor&gt;My App Requesting&lt;/Requestor&gt;\"\n        + \"&lt;/divisionRequestHeader&gt;\";\n\n  public static void main(String[] args) throws Exception\n  {\n    JAXBContext context = JAXBContext.newInstance(DivisionRequestHeader.class);\n    Unmarshaller unmarshaller = context.createUnmarshaller();\n    Source source = new StreamSource(new StringReader(randomXml));\n\n    JAXBElement&lt;DivisionRequestHeader&gt; jaxbElement = unmarshaller.unmarshal(source,\n            DivisionRequestHeader.class);\n    DivisionRequestHeader header = jaxbElement.getValue();\n\n    System.out.println(header.toString());\n  }\n}\n</code></pre>\n\n<p>Output with jaxb toString plugin:</p>\n\n<pre><code>com.company.ns.DivisionRequestHeader@620c620c[id=fake id, coName=My Co Name,\n    user=com.company.ns.User@79e479e4[type=EXTERNAL, value=me], count=100,\n    requestor=My App Requesting]\n</code></pre>\n"}],"last_activity_date":1684250753,"question_id":14700562,"body":"<p>I'm writing a Java webservice client that will be running on WebSphere. I created a new &quot;Web Service Client&quot; project in RAD Developer, gave it my WSDL, specified &quot;Top down Java Bean&quot;, and it autogenerated a bunch of files.</p>\n<p>One of the operations is &quot;GetAddressData&quot;. RAD Developer auto-generated &quot;GetAddressData.java&quot; and &quot;GetAddressDataResonse.java&quot;, both annotated with &quot;XmlRootElement&quot;.</p>\n<p>One of the arguments in &quot;GetAddressData&quot; is &quot;RequestData&quot;, a simple object consisting of four strings: worfklow, module, username, and id. RAD Developer generated a &quot;RequestData.java&quot; for me too.</p>\n<p>Is there any way that I can substitute raw XML for the JAXB &quot;RequestData&quot; object, instead of packing and unpacking the record a field at a time?</p>\n<p>I tried something like this:</p>\n<pre><code>private static String theXml =   \n    &quot;&lt;requestOptions&gt;\\n&quot; +  \n    &quot;  &lt;WorkflowName&gt;unmarshalTestWorkflow&lt;/WorkflowName&gt;\\n&quot; +  \n    &quot;  &lt;ModuleName&gt;unmarshalTestModule&lt;/ModuleName&gt;\\n&quot; +  \n    &quot;  &lt;UserName&gt;unmarshalTestName&lt;/UserName&gt;\\n&quot; +  \n    &quot;  &lt;TransactionId&gt;0099&lt;/TransactionId&gt;\\n&quot; +  \n    &quot;&lt;/requestOptions&gt;\\n&quot;;  \n\nprivate RequestOptions mkRequestOptions () throws Exception {  \n    JAXBContext context = JAXBContext.newInstance(RequestOptions.class);  \n    Unmarshaller unmarshaller = context.createUnmarshaller();  \n    Object obj = unmarshaller.unmarshal(new StringReader (theXml));  \n    RequestOptions requestOptions = (RequestOptions)obj;\n    ...\n</code></pre>\n<p>But I keep getting:</p>\n<pre><code>error: Unexpected element &quot;requestOptions&quot;. Expected elements are &quot;&quot;.\n</code></pre>\n"},{"comments":[{"comment_id":134467589,"body":"Can you share an example file signed with your code for analysis?"},{"comment_id":134481593,"body":"here is the link with valid and invalid signed pdf: <a href=\"https://drive.google.com/drive/folders/1GaOb-_o6jUGGsxRKopydUaLa5wFch75Z?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/drive/folders/&hellip;</a>"},{"comment_id":134487161,"body":"Could it be that you misnamed the files? Adobe Acrobat shows <code>validSignature_oldMethod.pdf</code> as having invalid signatures while it shows <code>invalidSignature_newMethod.pdf</code> as having mathematically valid signatures."},{"comment_id":134487951,"body":"You use the mechanism <code>PKCS11Constants.CKM_SHA256_RSA_PKCS</code>. But that mechanism does calculate the hash of the data, wrap it in a <code>DigestInfo</code> structure, apply PKCS#1 1.5 padding, and encrypt. As far as I understand your code, though, you already have calculated the hash and wrapped it in a <code>DigestInfo</code> structure and only want PKCS#1 1.5 padding and encryption to be applied. Thus, you may want to use the mechanism <code>PKCS11Constants.CKM_RSA_PKCS</code> instead."},{"comment_id":134488795,"body":"Yes, looked like I misnamed the file. Just tried with mechanism PKCS11Constants.CKM_RSA_PKCS and the signature is coming out to be valid. Thanks very much !"},{"comment_id":134489110,"body":"Ok, I&#39;ll make that an actual answer, not a mere comment."},{"comment_id":134541938,"body":"Out of curiosity, Given a pdf document, is there any way on how to check why the document got corrupted?  I am implementing a digital signature validation tool like adobe has Signature Validation Status but it just says the document is alerted or corrupted since the signature was applied. How to debug the same, like there could be multiple reasons:   - Mismatch in digital signature algorithm used - Alteration in the document - Integrity of signature container"},{"comment_id":134551860,"body":"Well, there are some issues you can identify. E.g. if the signer certificate public key is a RSA key but the claimed signature algorithm is ECDSA, you can try to validate the signature assuming the signature algorithm is actually based on RSA. Or if the hash value calculated with the claimed signature hash algorithm does not validate, you can try using hash values calculated with other algorithms. But seriously, does it really make sense to try and identify such reasons for signature validation failures? You still don&#39;t know whether they are caused by a bug or by some manipulation."},{"comment_id":134570573,"body":"Yes, that&#39;s what it doesn&#39;t make sense. It could be because of anything, how to go about making a digital signature validation tool? Any documentation to follow or anything as such."}],"answers":[{"answer_id":76264751,"body":"<p>You use the mechanism <code>PKCS11Constants.CKM_SHA256_RSA_PKCS</code>. But that mechanism does calculate the hash of the data, wrap it in a <code>DigestInfo</code> structure, apply PKCS#1 1.5 padding, and encrypt.</p>\n<p>As far as I understand your code, though, you already have calculated the hash and wrapped it in a <code>DigestInfo</code> structure. So you only want PKCS#1 1.5 padding and encryption to be applied.</p>\n<p>Thus, you may want to use the mechanism <code>PKCS11Constants.CKM_RSA_PKCS</code> instead.</p>\n"}],"last_activity_date":1684250669,"question_id":76250205,"body":"<p>I have a base64 encoded message digest (signing bytes of a pdf), which I want to sign and return PKCS7. Previously, I was using SUNPKCS11 and was able to attach the same to the pdf.</p>\n<p>I have started using IAIK PKCS11 Wrapper. Below is the process, I have a IAIKPKCS11ContentSigner defined like:</p>\n<pre><code>public class IAIKPKCS11ContentSigner implements ContentSigner {\n   private final Session session;\n   private final RSAPrivateKey privateKey;\n   private final ByteArrayOutputStream outputStream;\n\n   public IAIKPKCS11ContentSigner(Session session, RSAPrivateKey privateKey) {\n     this.session = session;\n     this.privateKey = privateKey;\n     this.outputStream = new ByteArrayOutputStream();\n   }\n\n   @Override\n   public byte[] getSignature() {\n     try {\n       AlgorithmIdentifier sha256Aid = new DefaultDigestAlgorithmIdentifierFinder().find(&quot;SHA-256&quot;);\n       DigestInfo digestInfo = new DigestInfo(sha256Aid, this.outputStream.toByteArray());\n       byte[] encodedDigestInfo = digestInfo.getEncoded();\n       Mechanism signingMechanism = Mechanism.get(PKCS11Constants.CKM_SHA256_RSA_PKCS);\n       session.signInit(signingMechanism, privateKey);\n       return session.sign(encodedDigestInfo);\n       } catch (Exception e) {\n        throw new RuntimeException(&quot;Error&quot;, e);\n       }\n   }\n\n   @Override\n   public org.bouncycastle.asn1.x509.AlgorithmIdentifier getAlgorithmIdentifier() {\n      return new org.bouncycastle.asn1.x509.AlgorithmIdentifier(\n            org.bouncycastle.asn1.pkcs.PKCSObjectIdentifiers.sha256WithRSAEncryption);\n   }\n\n   @Override\n   public OutputStream getOutputStream() {\n      return outputStream;\n   }\n}\n</code></pre>\n<p>and now I am signing the hash like:</p>\n<pre><code>//already initialize session and extracted RSAPrivateKey\n//taking current session (iaik.pkcs.pkcs11) and RSAPrivateKey\nIAIKPKCS11ContentSigner signer = new IAIKPKCS11ContentSigner(session, pk); \n\nOutputStream outputStream = signer.getOutputStream();\noutputStream.write(hash); //writing the hash of the document to sign \n\nbyte[] signature = signer.getSignature(); //fetching signature from the content signer\nContentInfo contentInfo = new ContentInfo(ContentInfo.DATA_OID, null);\nX509Certificate[] certificates; //certificate for the key above;\nAlgorithmId[] digestAlgorithmIds; // SHA-256 \nSignerInfo si; //creating signer info using cert attributes and signed content signature;\nSignerInfo[] signerInfos = {si};\nPKCS7 p7 = new PKCS7(digestAlgorithmIds, contentInfo, certificates, signerInfos);\nByteArrayOutputStream bytes = new ByteArrayOutputStream();\np7.encodeSignedData(bytes);\noutput = bytes.toByteArray();\n</code></pre>\n<p>But while attaching this pkcs7 as deferred signature on a pdf, getting document has been altered or corrupted. Is this the right approach to sign? Any pointers if I am doing anything wrong here?</p>\n"},{"answers":[{"answer_id":76264737,"body":"<p>During debugging i have found, that into <code>ScheduledTaskService</code> field <code>scheduledTaskRepository</code> injecting <code>org.apache.ibatis.binding.MapperProxy</code> with mapperInterface <code>ru.test.app.common.scheduling.repository.ScheduledTaskRepository</code></p>\n<p>So, problem was solved by moving child interface that annotated with <code>@Mapper</code> to the another package (ru.test.app.common.scheduling.repository.impl), and by adding annotation <code>@MapperScan(&quot;ru.test.app.common.scheduling.repository.impl&quot;)</code>\nto Application.class.</p>\n"}],"last_activity_date":1684250577,"question_id":76264062,"body":"<p>I want to create a common module, which i will use in different modules.\nMost of modules are using mybatis, and some modules are using Spring Data with Hibernate.</p>\n<p>I have an idea to create a common interface and default implementation for Mybatis.</p>\n<p>So im trying to create common interface</p>\n<pre><code>public interface ScheduledTaskRepository {\n\n    List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount );\n\n    void create( ScheduledTask task );\n\n    void update( ScheduledTask task );\n\n    List&lt;ScheduledTask&gt; getTasksForReset( ScheduledTaskState state, ScheduledTaskType type, int runCount );\n\n    void resetTask( long id );\n\n    ScheduledTask get( long id );\n\n}\n</code></pre>\n<p>and it's mybatis implementation</p>\n<pre><code>@Mapper\n@ConditionalOnBean(MybatisAutoConfiguration.class)\npublic interface MybatisScheduledTaskRepository extends ScheduledTaskRepository {\n\n    @Override\n    @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &lt; #{maxRunCount}&quot;)\n    List&lt;ScheduledTask&gt; getTasksByStateAndType( @Param(&quot;state&quot;) ScheduledTaskState state,\n                                                @Param(&quot;type&quot;) ScheduledTaskType type,\n                                                @Param(&quot;maxRunCount&quot;) int maxRunCount );\n\n    @Override\n    @Insert(&quot;INSERT INTO scheduled_tasks (creation_time, last_run, state, run_count, type, obj_id) &quot; +\n        &quot;VALUES (#{creationTime}, #{lastRun}, #{state}, #{runCount}, #{type}, #{objId})&quot;)\n    void create( ScheduledTask task );\n\n    @Override\n    @Update(&quot;UPDATE scheduled_tasks SET creation_time = #{creationTime}, last_run = #{lastRun}, state = #{state}, &quot; +\n        &quot;run_count = #{runCount}, type = #{type}, obj_id = #{objId} WHERE id = #{id}&quot;)\n    void update( ScheduledTask task );\n\n    @Override\n    @Select(&quot;SELECT * FROM scheduled_tasks WHERE state = #{state} AND type = #{type} AND run_count &gt;= #{runCount}&quot;)\n    List&lt;ScheduledTask&gt; getTasksForReset( @Param(&quot;state&quot;) ScheduledTaskState state,\n                                          @Param(&quot;type&quot;) ScheduledTaskType type,\n                                          @Param(&quot;runCount&quot;) int runCount );\n\n    @Override\n    @Update(&quot;UPDATE scheduled_tasks SET run_count = 0 where id = #{id}&quot;)\n    void resetTask( @Param(&quot;id&quot;) long id );\n\n    @Override\n    @Select(&quot;SELECT * FROM scheduled_tasks WHERE od = #{id}&quot;)\n    ScheduledTask get( @Param(&quot;id&quot;) long id );\n}\n</code></pre>\n<p>Then i create service in the common module for working with mapper</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class ScheduledTaskService {\n\n    private final ScheduledTaskRepository scheduledTaskRepository;\n\n    public void create( ScheduledTask scheduledTask ) {\n        scheduledTaskRepository.create( scheduledTask );\n    }\n\n    public void create( ScheduledTaskType scheduledTaskType, Long objId ) {\n        ScheduledTask scheduledTask = new ScheduledTask();\n        scheduledTask.setCreationTime( LocalDateTime.now() )\n            .setState( ScheduledTaskState.AWAIT )\n            .setType( scheduledTaskType )\n            .setObjId( objId )\n            .setRunCount( 0 );\n        scheduledTaskRepository.create( scheduledTask );\n    }\n\n    public void resetTasksTryCount( ScheduledTaskType type, int runCount ) {\n        List&lt;ScheduledTask&gt; tasksToReset = scheduledTaskRepository.getTasksForReset( ScheduledTaskState.AWAIT, type, runCount );\n        tasksToReset.forEach( task -&gt; {\n            task.setRunCount( 0 );\n            update( task );\n        } );\n    }\n\n    public void resetTaskTryCount( long id ) {\n        scheduledTaskRepository.resetTask( id );\n    }\n\n    public void update( ScheduledTask scheduledTask ) {\n        scheduledTaskRepository.update( scheduledTask );\n    }\n\n    public List&lt;ScheduledTask&gt; getTasksByStateAndType( ScheduledTaskState state, ScheduledTaskType type, int maxRunCount ) {\n        return scheduledTaskRepository.getTasksByStateAndType( state, type, maxRunCount );\n    }\n\n    public ScheduledTask get( long id ) {\n        return scheduledTaskRepository.get( id );\n    }\n</code></pre>\n<p>This is my build.gradle of common module</p>\n<pre><code>dependencies {\n    implementation project(':common-modules:general')\n\n    compileOnly 'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.3'\n    compileOnly 'org.projectlombok:lombok'\n\n    api &quot;io.springfox:springfox-swagger2:${swagger_version}&quot;\n\n    annotationProcessor 'org.projectlombok:lombok'\n\n}\n</code></pre>\n<p>spring.factories in common module</p>\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\\n  ru.test.app.common.scheduling.CommonScheduling\n</code></pre>\n<p>And the problem is that when i include common module as dependency of another module and trying to run test, where im calling service, i get the exception</p>\n<pre><code>    Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\norg.apache.ibatis.binding.BindingException: Invalid bound statement (not found): ru.test.app.common.scheduling.repository.ScheduledTaskRepository.getTasksByStateAndType\n    at org.apache.ibatis.binding.MapperMethod$SqlCommand.&lt;init&gt;(MapperMethod.java:235)\n    at org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:53)\n    at org.apache.ibatis.binding.MapperProxy.lambda$cachedMapperMethod$0(MapperProxy.java:98)\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n    at org.apache.ibatis.binding.MapperProxy.cachedMapperMethod(MapperProxy.java:97)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:92)\n    at com.sun.proxy.$Proxy193.getTasksByStateAndType(Unknown Source)\n    at ru.test.app.common.scheduling.service.ScheduledTaskService.getTasksByStateAndType(ScheduledTaskService.java:50)\n    at ru.test.app.common.scheduling.processor.AbstractTaskProcessor.getPendingTasks(AbstractTaskProcessor.java:28)\n    at ru.test.app.egron.sheduling.processor.SendStatusUpdateEventProcessor.prepareTasks(SendStatusUpdateEventProcessor.java:27)\n    at ru.test.app.common.scheduling.processor.AbstractListTaskProcessor.process(AbstractListTaskProcessor.java:25)\n    at ru.test.app.egron.scheduling.SendMortgageStatusUpdateEventProcessorTest.testProcess(SendMortgageStatusUpdateEventProcessorTest.java:32)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy5.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":104331773,"body":"I tried , the problem is onViewCreated() is called even when fragment (tab2) is not visible. What I want , is when second fragment is visible I want to show progress dialog then display the data"}],"answer_id":59045057,"body":"<p>You should call API's inside the fragment probably in <strong>setUserVisibleHint</strong> method in android </p>\n\n<pre><code>boolean _areLecturesLoaded = false;\n\n@Override\n public void setUserVisibleHint(boolean isVisibleToUser) {\n     super.setUserVisibleHint(isVisibleToUser);\n     if (isVisibleToUser &amp;&amp; !_areLecturesLoaded ) {\n      loadYourRetrofitData(); //Load your data here  \n      _areLecturesLoaded = true;\n     }\n }\n</code></pre>\n"},{"comments":[{"comment_id":104331782,"body":"what should I return at the end?"},{"comment_id":104331835,"body":"Edited .check now"},{"comment_id":104331907,"body":"from which method in fragment should I call getUserVisibleHint()"},{"comment_id":104332071,"body":"you should override this method in fragment and this method isVisibleToUser give you true if user is currently seeing this tab fragment. so you can call your api here"},{"comment_id":104332223,"body":"But it&#39;s never getting called"}],"answer_id":59045081,"body":"<p>Use this method in your fragment to get visibility state of fragment and then call your api thre.</p>\n\n<pre><code>@Override \nboolean getUserVisibleHint() {\n    super.getUserVisibleHint()\n    boolean isVisibleToUser=super.getUserVisibleHint()\n    if(isVisibleToUser){\n        //call api here\n    }\n    return isVisibleToUser\n}\n</code></pre>\n"}],"last_activity_date":1684250328,"question_id":59044965,"body":"<p>I have a tab layout with 3 tabs.Each one of the tabs need to display some data from API calling (I'm using Retrofit).</p>\n\n<p>So , I have the main activity when user opens that activity I fetch the data for the first tab then display the view </p>\n\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        context = this;\n\n        if (Application.isConnected()) {\n            getTrips();\n\n        } else {\n            Toast.makeText(this , \"No internet Connection\" , Toast.LENGTH_LONG).show();\n            setContentView(R.layout.no_internet_connection);\n        }\n   }\n</code></pre>\n\n<p>So in the success of the API call I inflate the view as below </p>\n\n<pre><code>   public void inflatingView () {\n\n        setContentView(R.layout.activity_mytrip);\n        context = this;\n\n        tvTitle = findViewById(R.id.tv_title);\n        tabLayout = findViewById(R.id.tablayout);\n        tvTitle.setText(\"Trips\");\n        tabLayout.addTab(tabLayout.newTab().setText(\"My Trips\"));\n        tabLayout.addTab(tabLayout.newTab().setText(\"Unclosed Trips\"));\n        tabLayout.addTab(tabLayout.newTab().setText(\"UnApproved Trips\"));\n\n\n        viewPager = findViewById(R.id.viewpager);\n        myTripAdapter = new MyTripAdapter(getSupportFragmentManager(),tabLayout.getTabCount());\n        viewPager.setAdapter(myTripAdapter);\n        viewPager.setOffscreenPageLimit(3);\n\n\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n\n                switch (tabLayout.getSelectedTabPosition()) { \n\n                    case 0 :\n                        Log.d(\"test\" , \"first tab\");\n                        break;\n                    case 1 :\n                        Log.d(\"test\" , \"Second tab\");\n                        getTab2Data();\n                        break;\n                    case 2 :\n                        Log.d(\"test\" , \"Third tab\");\n                        break;\n                }\n\n                viewPager.setCurrentItem(tabLayout.getSelectedTabPosition());\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n\n        viewPager.addOnPageChangeListener(new TabLayout.TabLayoutOnPageChangeListener(tabLayout));\n\n    }\n</code></pre>\n\n<p>So , The data for first fragment in first tab is obtained , My problem is with fragment 2 and 3.I only want to call the API when user swiping. As you see above I tried to detect when user swipe to second tab then I call method to fetch data but unfortunately it's now working.</p>\n\n<p>Do you have any idea on how to do this?</p>\n"},{"answers":[{"comments":[{"comment_id":134494439,"body":"Your example is for the keystore, not the cacerts file -- isn&#39;t that different?  Also, how do I get the new file inside the jenkins container?"}],"answer_id":76264677,"body":"<p>You can create custom values yaml file, and provide the details that are different from values.yaml, use the custom  values yaml when applying your helm chart</p>\n<pre><code> javaOpts: &gt;\n    -Djavax.net.ssl.trustStore=/var/jenkins_keystore/keystore.jks\n    -Djavax.net.ssl.trustStorePassword=changeit\n    -Dcom.sun.jndi.ldap.object.disableEndpointIdentification=true \n    -Dcom.sun.jndi.ldapURLParsing=&quot;legacy&quot;\n</code></pre>\n"}],"last_activity_date":1684250235,"question_id":76263992,"body":"<p>Our company injects self-signed SSL certificates. Therefore, we need a custom cacerts file in Java applications to make connections out to the internet. Otherwise, we get certificate authority errors.</p>\n<p>We are attempting to install Jenkins on our local Kubernetes cluster using the Jenkins Helm chart (<a href=\"https://artifacthub.io/packages/helm/jenkinsci/jenkins\" rel=\"nofollow noreferrer\">https://artifacthub.io/packages/helm/jenkinsci/jenkins</a>), which comes with it's own Java VM. When Jenkins starts up, it is reaching out to the updats.jenkins.io, and failing with an error of:</p>\n<pre><code>Unable to retrieve JSON from https://updates.jenkins.io/update-center.json?version=2.387.1:\nPKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target\n</code></pre>\n<p>I'm guessing that replacing the cacerts file in the included Java VM will fix the problem, but I'm not sure how to do it. How do you modify files on Docker image that are referenced by a Helm chart?</p>\n<p>Any ideas out there?</p>\n"},{"comments":[{"comment_id":134488780,"body":"<a href=\"https://www.freecodecamp.org/news/non-blocking-thread-sleep-on-jvm/\" rel=\"nofollow noreferrer\">freecodecamp.org/news/non-blocking-thread-sleep-on-jvm</a>"},{"comment_id":134488825,"body":"if this is for use in a GUI/Swing application, check the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> tutorial"},{"comment_id":134488844,"body":"Duplicate of <a href=\"https://stackoverflow.com/q/24104313/642706\"><i>How do I make a delay in Java?</i></a> and many others."},{"comment_id":134533913,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24104313/how-do-i-make-a-delay-in-java\">How do I make a delay in Java?</a>"}],"answers":[{"comments":[{"comment_id":134488701,"body":"Thank you! Just a question though: is it in the util package?"},{"comment_id":134488713,"body":"no, it&#39;s <code>java.lang.Thread</code>, so no import required: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/lang/Thread.html</a>"}],"answer_id":76264492,"body":"<p>There's a static method <code>sleep</code> in the <code>Thread</code> class. However, if you're running a UI application, be careful not to block your UI thread.</p>\n"},{"comments":[{"comment_id":134489139,"body":"Thank you for your answer! Just one thing; does the TimeUnit class come from a package or is it built-in like the Math class?"},{"comment_id":134489509,"body":"@JellyTheTitan Its in <code>java.util.concurrent.TimeUnit</code>. Btw accept the answer you liked so it&#39;s easier to get the answer."}],"answer_id":76264665,"body":"<p>If your program is a console application you can just use <code>Thread.Sleep(milliseconds)</code></p>\n<p>Or if you want to use something simpler, use\n<code>TimeUnit.SECONDS.sleep(seconds)</code>.</p>\n<p>However if you are making a GUI application for Javax.Swing, using these will also stop the rendering of the GUI. So in that case you want to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">Swing Timer</a>. For that you can use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Timer timer = new Timer(5000, new ActionListener() {\n\n    @Override\n    public void actionPerformed(ActionEvent arg0) {            \n        aDiffrentMethod();\n    }\n});\ntimer.setRepeats(false);\ntimer.start();\n</code></pre>\n<p>For more Information, see <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to Use Swing Timers</a>.</p>\n"}],"last_activity_date":1684250230,"question_id":76264461,"body":"<p>I am writing a Poker program using Java, and I want to add a delay to my program to add some style to it. Just one problem: I don't know how to do that.</p>\n<p>What I am looking for is kind of like Python with the &quot;sleep()&quot; function.</p>\n<p>I have tried googling it, but the code I got was either extremely outdated or just straight up doesn't work. Can someone help me?</p>\n"},{"comments":[{"comment_id":134483333,"body":"I&#39;m not sure you need the <code>CustomScopeBuildItem</code>, registering the context should be enough. What I&#39;m sure you <i>do</i> need is to call the <code>done()</code> method on the <code>ContextConfigurator</code> -- without that, your custom context will not be registered."},{"comment_id":134483528,"body":"What you are doing seems correct in terms of context registration. If you try to retrieve a <code>Bean</code> object and query it for the scope, which scope are you seeing? I.e. try something like this: <code>Arc.container().instance(AtomicLong.class).getBean().getScop&zwnj;&#8203;e();</code> Also, have you checked if your Quarkus extensions is invoked and registration methods (<code>registerContext</code> and <code>customScope</code>) are called during build?"},{"comment_id":134483564,"body":"The <code>CustomScopeBuildItem</code> allows the newly added context annotation to be recognized as bean defining annotation so it&#39;s better to have it there. Good point about calling <code>done()</code> though!"},{"comment_id":134483688,"body":"OK, both my suggestions above are wrong. I believe ArC internally wouldn&#39;t need a second declaration of custom scope, registering custom context should be enough, but there are other parts of Quarkus that do require the <code>CustomScopeBuildItem</code> to be produced. So certainly keep that. Also calling <code>done()</code> doesn&#39;t seem to be necessary, as Quarkus will do that automatically (in <code>ArcProcessor.registerBeans()</code>). So the issue must be somewhere else."},{"comment_id":134483803,"body":"I just gave it a try with <code>Arc.container().instance(AtomicLong.class).getBean().getScop&zwnj;&#8203;e();</code> It actually says it is TenantScoped, which would be correct. But still my context implementation is not getting called. No stop on breakpoints or log point hits. As said, it does work with <code>QuarkusUnitTest</code> which makes the whole thing more wierd."},{"comment_id":134484109,"body":"That would indicate the scope gets registered correctly. We might need a small GH reproducer project to be able to look into your impl and what happens there."},{"comment_id":134488106,"body":"I&#39;ve build a reproducer and while doing that figured out, that it is a problem when producing a <code>AtomicLong</code> bean. Switching the type to a custom type makes the whole thing working as expected. So I think it is an issue/behaviour of the CDI with certain types. Does that ring any bell?"},{"comment_id":134488942,"body":"@Siliarus I ended up opening an issue: <a href=\"https://github.com/quarkusio/quarkus/issues/33417\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues/33417</a>"}],"last_activity_date":1684250070,"question_id":76261145,"body":"<p>I have a custom <code>@InjectableContext</code> which I register during my build step</p>\n<pre><code>    @BuildStep\n    ContextConfiguratorBuildItem registerContext(ContextRegistrationPhaseBuildItem contextRegistrationPhase) {\n        return new ContextConfiguratorBuildItem(\n            contextRegistrationPhase.getContext().configure(TenantScoped.class).normal().contextClass(TenantScopeContext.class));\n    }\n\n    @BuildStep\n    CustomScopeBuildItem customScope() {\n        return new CustomScopeBuildItem(TenantScoped.class);\n    }\n</code></pre>\n<p>The annotation looks like this</p>\n<pre><code>@NormalScope\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD, ElementType.FIELD})\npublic @interface TenantScoped {}\n</code></pre>\n<p>When I run a <code>QuarkusUnitTest</code> in my deployment module, the context seems to work and is beeing applied. The get(..) methods of the injectable context implementation are called.</p>\n<p>When I add the extension to an actual application, it seems not to work anymore. With <code>@TenantScope</code> annotated beans are produced as regular <code>@ApplicationScoped</code>, with my custom injectable context completely skipped.</p>\n<p>My test service looks like this:</p>\n<pre><code>@ApplicationScoped\npublic class Service {\n\n    @Inject\n    @Named(&quot;tenantLong&quot;)\n    AtomicLong tenantScopedString;\n\n    public void setLong(long number) {\n        tenantScopedString.set(number);\n    }\n\n    public long getLong() {\n        return tenantScopedString.get();\n    }\n\n    @TenantScoped\n    @Named(&quot;tenantLong&quot;)\n    @Produces\n    AtomicLong tenantLong() {\n        return new AtomicLong(-1);\n    }\n}\n</code></pre>\n<p>I had a look at the implementation of the <code>io.quarkus.narayana.jta.runtime.context.TransactionContext</code> which seems to be done exactly the same way. So apparently something must be wrong or missing with my implementation.</p>\n<p>Is there any obvious mistake or is there a detail somewhere else which I might have missed?</p>\n<p>EDIT\nThe issue is the bean type which I am using here. Somehow when using a type like <code>AtomicLong</code> it does skip the context implementation. Pobably know more soon: <a href=\"https://github.com/quarkusio/quarkus/issues/33417\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus/issues/33417</a></p>\n"},{"comments":[{"comment_id":134486592,"body":"Did you try the solution mentioned here? <a href=\"https://stackoverflow.com/questions/33675349/spring-data-rest-max-page-size-does-not-seem-to-be-working\" title=\"spring data rest max page size does not seem to be working\">stackoverflow.com/questions/33675349/&hellip;</a>"},{"comment_id":134487448,"body":"@Joan, yes. It doesn&#39;t work. But thank you."}],"answers":[{"answer_id":76264651,"body":"<p>Thank you, guys. I've found a solution.\nI had a config class with following code:</p>\n<pre><code>@Override\npublic void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n    argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\n    argumentResolvers.add(new PageableHandlerMethodArgumentResolver());\n}\n</code></pre>\n<p>You can see here</p>\n<blockquote>\n<p>PageableHandlerMethodArgumentResolver</p>\n</blockquote>\n<p>Which I tried to change. I think it was a problem why my other configuration classes didn't work.\nAs I changed that code to:</p>\n<pre><code>@Override\npublic void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n    argumentResolvers.add(new SpecificationArgumentResolver(abstractApplicationContext));\n    PageableHandlerMethodArgumentResolver pageableHandlerMethodArgumentResolver = new PageableHandlerMethodArgumentResolver();\n    pageableHandlerMethodArgumentResolver.setMaxPageSize(100_000);\n    argumentResolvers.add(pageableHandlerMethodArgumentResolver);\n}\n</code></pre>\n<p>Now everything works fine. Thanks again!</p>\n"}],"last_activity_date":1684250055,"question_id":76263222,"body":"<p>everyone. I have a controller with Specification and Pageable parameters. If I need to return data form db in a usual way - everything works fine. I get my data by 20 size pages. Like this:</p>\n<pre><code>    ............\n    &quot;totalElements&quot;: 2612,\n    &quot;totalPages&quot;: 131,\n    &quot;last&quot;: false,\n    &quot;size&quot;: 20,\n    &quot;number&quot;: 0,\n</code></pre>\n<p>But also, I need to return all my elements. Acording to the example, if I get totalElements: 2612 - I want to get all 2612.\nAs I understant, Spring has default max-page-size = 2000. Because of it, If I have a query with size = 2612</p>\n<pre><code>http://localhost:7038/api/get-journal/2c9a508179b2933a0179b2be69fd0003?yearReg=2023&amp;page=0&amp;size=2612\n</code></pre>\n<p>I get an answer :</p>\n<pre><code>    &quot;totalElements&quot;: 2612,\n    &quot;totalPages&quot;: 2,\n    &quot;last&quot;: false,\n    &quot;size&quot;: 2000,\n</code></pre>\n<p>You can see, that instead of 2612, I have 2000 and two pages.</p>\n<p>Similar problems didn't help me:</p>\n<pre><code>https://stackoverflow.com/questions/23751193/spring-data-jpa-limit-pagesize-how-to-set-to-maxsize\n</code></pre>\n<p>I've already tried to create ConfigClass or add into app.properties : <code>spring.data.web.pageable.max-page-size=10000 or spring.data.web.pageable.max-page-size=10000</code></p>\n<p>I use Spring Boot 2.3.3.</p>\n<p><strong>EDIT</strong>\nI get a changed variable even in my rest controller:</p>\n<p><a href=\"https://i.stack.imgur.com/XcASU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XcASU.png\" alt=\"enter image description here\" /></a></p>\n"},{"answers":[{"answer_id":4978326,"body":"<p>You should declare add as a webmethod.\ntry following:</p>\n\n<pre><code>   @WebMethod public int add(int a, int b){\n    return (a+b);\n    }\n</code></pre>\n"},{"answer_id":4978421,"body":"<p>My Fault! I forgot to start the App Server</p>\n"}],"last_activity_date":1684249996,"question_id":4978275,"body":"<p>I have created a simple Webservice function as shown below;</p>\n\n<pre><code>/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\npackage ws;\nimport javax.jws.WebService;\n/**\n *\n * @author Joe\n */\n@WebService()\npublic class Add2Int {\npublic int add(int a, int b) {\n    return (a+b);\n}\n}\n</code></pre>\n\n<p>and I have created a very simple gui that allows the user to enter 2 numbers and which should output the result however this does not work?  I tried it without the gui and it works but when i build the gui it does not work?  here is my code for that side of things</p>\n\n<pre><code>/*\n * To change this template, choose Tools | Templates\n * and open the template in the editor.\n */\n\npackage myjavawsclient;\n//import java.io.*;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\n/**\n *\n * @author Joe\n */\npublic class Calculator extends JFrame implements FocusListener {\n    JTextField value1 = new JTextField(\"\", 5);\n    JLabel plus = new JLabel(\"+\");\n    JTextField value2 = new JTextField(\"\",5);\n    JLabel equals = new JLabel(\"=\");\n    JTextField sum = new JTextField(\"\", 5);\n\n    public Calculator() {\n        super(\"The Calculator\");\n        setSize(350,90);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        FlowLayout flow = new FlowLayout(FlowLayout.CENTER);\n        setLayout(flow);\n        // add the listners\n        value1.addFocusListener(this);\n        value2.addFocusListener(this);\n        // set up sum field\n        sum.setEditable(true);\n        //add componets\n        add(value1);\n        add(plus);\n        add(value2);\n        add(equals);\n        add(sum);\n        setVisible(true);\n    }\n\n    public void focusGained(FocusEvent event){\n        try { // Call Web Service Operation\n            ws.Add2IntService service = new ws.Add2IntService();\n            ws.Add2Int port = service.getAdd2IntPort();\n            // TODO initialize WS operation arguments here\n            int result = 0;\n            int result2 = 0;\n            result = Integer.parseInt(value1.getText());\n            result2 = Integer.parseInt(value2.getText());\n\n            int total = port.add(result, result2);\n            sum.setText(\"\" +total);\n\n            //float plusTotal = Float.parseFloat(value1.getText()) +\n                Float.parseFloat(value2.getText());\n\n        } catch (Exception ex) {\n            // TODO handle custom exceptions here\n            //value1.setText(\"0\");\n            //value2.setText(\"0\");\n            //sum.setText(\"0\");\n        }\n    }\n\n    public void focusLost(FocusEvent event){\n      focusGained(event);\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n\n        // TODO code application logic here\n\n        Calculator frame = new Calculator();\n    }\n}\n</code></pre>\n\n<p>I am not getting any errors I am just not getting any result from the 2 numbers, for example 1+1=2 but with my application it allows the user to enter 1 + 1 = ? but where the question mark is nothing gets shown.</p>\n\n<p>I was wondering if anyone could solve this problem for me. Oh and I am using NetBeans and GlassFish App server with WSDL</p>\n\n<p>Joe</p>\n"},{"comments":[{"comment_id":134488925,"body":"I suppose you could use a <code>ThreadLocal</code>..."},{"comment_id":134489035,"body":"“Since I can&#39;t fix the the &quot;thread-unsafety&quot; of myResource” — but you can. If nothing else, <code>synchronize</code> every method on your resource."},{"comment_id":134489355,"body":"@BasilBourque : well, if that&#39;s the only answer, I might as well just configure my app so that Camel-Jetty is restrict to use only a single thread, that should be roughly the same performance but with less risks of interlocking."},{"comment_id":134489379,"body":"@Jorn : Never heard of it until now, but it seems pretty useful. I&#39;m however not sure of how to access the threads used by Apache Camel, so I don&#39;t know where I could place one of those ThreadLocal variables."},{"comment_id":134489639,"body":"@Alef You don&#39;t have to manage that yourself, ThreadLocal will use the current thread automatically."}],"last_activity_date":1684249851,"question_id":76264627,"body":"<p>I have a web service based on Camel that can be summarised like this in Java DSL :</p>\n<pre><code>public class MyRoute extends RouteBuilder {\n    \n    @Override\n    public void configure() throws Exception {\n        MyResource myResource = new MyResource();\n        \n        from(&quot;jetty:...&quot;)\n            .setHeader(&quot;myResource&quot;, constant(myResource))\n            .bean(MyProcessor.class)\n        ;\n    }\n}\n</code></pre>\n<p>The data stored in <code>myResource</code> is necessary for the processing in the bean <code>MyProcessor</code>.</p>\n<p>The initialisation of <code>myResource</code> can be quite long (few seconds), so I want to prepare it ahead of time when the app is starting, rather than initialising a throwaway copy at runtime every time there is a request on the service (aiming for milliseconds response times).</p>\n<p>The code above worked fine when I was the only user of the service, but after doing some automated load testing, it appeared that some parts of <code>myResource</code> that are beyond my reach (external libraries) are not thread-safe.</p>\n<p>Since I can't fix the the &quot;thread-unsafety&quot; of <code>myResource</code>, I was hoping for a way to instantiate <em>N</em> distinct copies of <code>myResource</code>, so that each Camel-Jetty thread can use safely their own copy of <code>myResource</code>, but I didn't find any info on doing that in the documentation page about threads : <a href=\"https://camel.apache.org/manual/threading-model.html\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/threading-model.html</a></p>\n<p>Has anyone encountered and solved that issue before?</p>\n"},{"comments":[{"comment_id":89135033,"body":"Im pretty sure 10^6+3 is a prime, which makes it less likely for a hash collision to happen than a composite number."},{"comment_id":89135182,"body":"A prime number is needed to avoid hash collisions as @AJC mentions.  My guess is someone might have decided to &quot;use the 1st prime number over a million&quot; for possibly arbitrary reasons.  It would be interesting to know if there is a deeper reason."},{"comment_id":89135300,"body":"yeah, that seems like a googly thing to do.."},{"comment_id":134474001,"body":"Note that Java&#39;s <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Objects.html#hashCode(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Object.hash</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#hashCode(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.hashCode</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/List.html#hashCode()\" rel=\"nofollow noreferrer\"><code>List.hashCode</code></a> all use the same implementation with 31 as their prime number.  If that&#39;s what Java is using, I suspect there&#39;s no benefit to 1000003 instead of 31."},{"comment_id":134474035,"body":"@M.Justin: &quot;why was this chosen&quot; questions are notoriously hard to do on SO, because they tend to not have &quot;correct&quot; answers unless the designers themselves show up. My suggestion is to contact the authors of the code directly and ask if anyone can remember the specific reasons for choosing that number."},{"comment_id":134474161,"body":"@JoachimSauer Fair enough.  One thing that&#39;s not always apparent as a Stack Overflow curator is whether a question should be reopened because its close reason is invalid, or whether it should remain closed because although its close reason is invalid, it is still not a good fit for the site for other reasons.  I don&#39;t think Stack Overflow currently has a good solution to this problem, since people don&#39;t want to waste their time reopening and reclosing a question closed for the wrong reason.  Though maybe that&#39;s actually implemented now: <a href=\"https://meta.stackexchange.com/a/382937/308327\">meta.stackexchange.com/a/382937/308327</a>."},{"comment_id":134474217,"body":"True, I&#39;ve run into this issue myself a few times and usually simply stop interacting with the question ;-) Unrelated, I was curious if the history of autovalue gives a hint as to the answer of this question, but it seems that all public history of this project already contained that magic constant: <a href=\"https://github.com/google/auto/commit/d67532c38d7fb39906b2ee7de6567e6c2620ca2e\" rel=\"nofollow noreferrer\">github.com/google/auto/commit/&hellip;</a>"},{"comment_id":134474230,"body":"@JoachimSauer Yep, that&#39;s where my personal investigations stalled out as well.  &quot;An initial import of @autovalue&quot;"},{"comment_id":134475771,"body":"@JoachimSauer Your advice has been followed, authors have been asked, and an explanation has been given: <a href=\"https://github.com/google/auto/discussions/1516\" rel=\"nofollow noreferrer\">github.com/google/auto/discussions/1516</a>.  Kevin Bourrillion: &quot;use a hash calculation that was found by [another person] to perform far better than <code>*31+</code>&quot;; &quot;[…] I don&#39;t remember the details […] shift things over a golden-ratio fraction of the way. […] I guess I also thought it should be a nice simple number to the human eye. […] the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.&quot;"},{"comment_id":134475782,"body":"@JoachimSauer Which means that in addition to not being a duplicate, this question now has a concrete answer that can be given.  Which I&#39;d say argues much more strongly for reopening the question."},{"comment_id":134485036,"body":"Just a guess: when using 31 as multiplier, the number pairs (0, 31) and (1, 0) produce the same hash code. By using a prime number that is larger than the typical numbers that are hashed, there is less chance of such a conflict."}],"answers":[{"answer_id":76264617,"body":"<p>According to <a href=\"https://github.com/google/auto/discussions/1516#discussioncomment-5907729\" rel=\"nofollow noreferrer\">an internal Google commit</a>, 1000003 was chosen because a former Google employee found it to perform better than 31:</p>\n<blockquote>\n<p>use a hash calculation that was found by [another person] to perform far better than <code>*31+</code></p>\n</blockquote>\n<p>When asked about this, AutoValue developer Kevin Bourrillion <a href=\"https://github.com/google/auto/discussions/1516#discussioncomment-5907978\" rel=\"nofollow noreferrer\">explained reasons the number might have been chosen</a>:</p>\n<blockquote>\n<p>Although I don't remember the details.... it is kind of exactly like me to shift things over a golden-ratio fraction of the way. Though that might argue for a multiplier of 898,459, so I guess I also thought it should be a nice simple number to the human eye.</p>\n<p>But yeah, the idea of making it bigger was just to eat up all those initial zeros more quickly and get the bits to come back around and interfere with each other.</p>\n</blockquote>\n<p>He also pointed out that a larger number reduces the chance of a hash collision in real-world scenarios:</p>\n<blockquote>\n<p>Also: (using <code>Integers</code> for simplicity) with <code>List.of(a, b)</code> and <code>List.of(c, d)</code> you get a collision if <code>b - d</code> happens to be 31 times <code>c - a</code>. And it's just a little easier to imagine real-world circumstances where that might happen to be true than it is with a much larger multiplier. No exact science here, though. <code>Object.hashCode</code> is never exactly going to be a high-quality hash function in any case.</p>\n</blockquote>\n"}],"last_activity_date":1684249809,"question_id":51072644,"body":"<p>Java hash code generation code often uses prime numbers in its calculations.  There are good reasons for this, as explained in <a href=\"https://stackoverflow.com/questions/3613102/why-use-a-prime-number-in-hashcode\">Why use a prime number in hashCode?</a> and elsewhere.</p>\n<p>For example, <a href=\"https://github.com/google/auto/tree/main/value\" rel=\"nofollow noreferrer\">AutoValue</a> will generate the following hash code for a given value class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n  int h = 1;\n  h *= 1000003;\n  h ^= this.firstName.hashCode();\n  h *= 1000003;\n  h ^= this.lastName.hashCode();\n  h *= 1000003;\n  h ^= this.age;\n  return h;\n}\n</code></pre>\n<p>What is the reason behind AutoValue using the specific integer <code>1000003</code> instead of some other prime number? If I use IntelliJ to create an overridden <code>hashCode</code> method, it uses integer <code>31</code>.  Is there some logical and mathematical reasoning behind using the integer <code>1000003</code> to calculate hash codes, rather than some other prime number?  A Google search did not give me any answer to this.</p>\n<p>Its curious to know what the authors were thinking.</p>\n"},{"comments":[{"comment_id":134485523,"body":"I just wonder why you want to do this; specifically why you want to wait for a tab to be selected to load its content. This might create a poor UX as there will potentially be slight pauses before the UI appears after the user changes tabs. Why not just load the content for all the tabs immediately?"},{"comment_id":134485920,"body":"The idea is good. I just don&#39;t understand now how can I switch to another Scene if I have it in another fxml file without loading it?"},{"comment_id":134487052,"body":"If you mean you have the content of each tab in a different FXML file, just use <a href=\"https://openjfx.io/javadoc/20/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#include_elements\" rel=\"nofollow noreferrer\"><code>&lt;fx:include&gt;</code></a>. I don&#39;t really know what you mean by &quot;switch to another Scene&quot; in this context."},{"comment_id":134487226,"body":"Is this what you are trying to do? <a href=\"https://stackoverflow.com/q/39164050/2189127\">stackoverflow.com/q/39164050/2189127</a>"}],"answers":[{"comments":[{"comment_id":134488855,"body":"I have a slightly different startup class. I have updated my question"},{"comment_id":134489630,"body":"@Vanish What difference does that make?"}],"answer_id":76262473,"body":"<p>If you want to navigate and load another FXML on clicking on specific TabPane, you need to use the <code>setOnSelectionChanged</code> event handler for the desired tab.</p>\n<pre><code>public class ABC extends Application {\n\n@Override\npublic void start(Stage primaryStage) {\n    try {\n        TabPane tabPane = new TabPane();\n\n        Tab tab1 = new Tab(&quot;Tab 1&quot;);\n        tab1.setOnSelectionChanged(event -&gt; {\n            if (tab1.isSelected()) {\n                loadFXML(&quot;file_1.fxml&quot;, tab1);\n            }\n        });\n\n        Tab tab2 = new Tab(&quot;Tab 2&quot;);\n        tab2.setOnSelectionChanged(event -&gt; {\n            if (tab2.isSelected()) {\n                loadFXML(&quot;file_2.fxml&quot;, tab2);\n            }\n        });\n\n        tabPane.getTabs().addAll(tab1, tab2);\n\n        Scene scene = new Scene(tabPane, 400, 300);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void loadFXML(String fxmlPath, Tab tab) {\n    try {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(fxmlPath));\n        AnchorPane root = loader.load();\n\n        tab.setContent(root);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684249802,"question_id":76262175,"body":"<p>I have a TabPane with two Tabs and I want to load another FXML when I click on one Tab</p>\n<pre><code>&lt;TabPane fx:id=&quot;tabPaneGet&quot; layoutY=&quot;-7.0&quot; prefHeight=&quot;30.0&quot; prefWidth=&quot;560.0&quot; tabClosingPolicy=&quot;UNAVAILABLE&quot;&gt;\n              &lt;tabs&gt;\n                &lt;Tab disable=&quot;true&quot; text=&quot;Получить сообщение из очереди&quot;&gt;\n                  &lt;content&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                  &lt;/content&gt;\n                &lt;/Tab&gt;\n                &lt;Tab text=&quot;Отправить сообщение в очередь&quot; fx:id=&quot;tabPaneSendMessage&quot;&gt;\n                  &lt;content&gt;\n                    &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;180.0&quot; prefWidth=&quot;200.0&quot; /&gt;\n                  &lt;/content&gt;\n                &lt;/Tab&gt;\n              &lt;/tabs&gt;\n            &lt;/TabPane&gt;\n</code></pre>\n<p>Class start Application</p>\n<pre><code>public class TestFrame extends Application {\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage) throws Exception {\n    FXMLLoader loader = new FXMLLoader();\n    URL xmlUrl = getClass().getResource(&quot;/Test.fxml&quot;);\n    loader.setLocation(xmlUrl);\n    Parent root = loader.load();\n    stage.setTitle(&quot;Title&quot;);\n    stage.setScene(new Scene(root));\n    stage.show();\n}\n</code></pre>\n<p>}</p>\n<p>Maybe something needs to be added to the controller? And if so, where and what?</p>\n"},{"comments":[{"comment_id":126426864,"body":"What do you mean with <code>dynamically sort</code> ? You want sort once you have read and in memory <code>averagesMap</code> or you want have all sorted right after reading the JSON ?"},{"comment_id":126426980,"body":"@PeterMmm JSON is just the way I used to display the data. value for <code>name</code> is dynamic, but its common for all the lists, which means all the lists got the same name values. So i want to sort each list for <code>name</code> field."}],"answers":[{"comments":[{"comment_id":126428264,"body":"Any suggestion to get the <code>sortingRule</code> dynamically from the data itself?"},{"comment_id":126428345,"body":"You mean to analyze the data somehow and establish criteria for sorting? Can you elaborate your idea on how the data could &quot;know&quot; how to sort itself. Based on frequency?"},{"comment_id":126428387,"body":"<code>company-wide</code> should come first. And others can be alphabetical."},{"comment_id":126441753,"body":"@dineshalwis <code>others can be alphabetical</code> - If this order will be hard-coded inside the method, then it&#39;ll be only <i>partially dynamic</i>. The solution will be more flexible if the order of elements that are not mentioned in the <code>sortingRule</code> list, will be defined by a <code>Comparator</code> that will be provided at <i>runtime</i> as well as a sorting rule."}],"answer_id":71531980,"body":"<p>To achieve that, first you need to establish the desired order. So that it will be encapsulated in a variable and passed as a parameter at runtime to the method that will take care of sorting. With that, sorting order will be dynamic, dependent on the provided argument.</p>\n<p>In the code below, a <code>List</code> is being used for that purpose. Sorting is based on the indexes that each <code>name</code> occupies in the <code>sortingRule</code> list.</p>\n<p>The next step is to create <code>Comparator</code> based on it. I'm using a condition <code>sortingRule.contains(score.name())</code> as precaution for the cases like typo, etc. when <code>name</code> doesn't appear in the <code>sortingRule</code>. With that, all such objects will be placed at the end of a sorted list.</p>\n<pre><code> Comparator&lt;ScoreAverage&gt; dynamicComparator =\n            Comparator.comparingInt(score -&gt; sortingRule.contains(score.name()) ?\n                                    sortingRule.indexOf(score.name()) : \n                                    sortingRule.size());\n</code></pre>\n<p>If we drop the condition comparator boils down to</p>\n<pre><code>Comparator.comparingInt(score -&gt; sortingRule.indexOf(score.name()));\n</code></pre>\n<p>With that, all unidentified objects (if any) will be grouped at the beginning of a sorted list.</p>\n<p>And finally, we need to sort every value in a map with this comparator.</p>\n<p><strong>Iterative implementation</strong> (<em>note: defensive copy of every list is meant to preserve the source intact</em>).</p>\n<pre><code>public static Map&lt;String, List&lt;ScoreAverage&gt;&gt; sortByRule(Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap,\n                                                         List&lt;String&gt; sortingRule) {\n    Comparator&lt;ScoreAverage&gt; dynamicComparator =\n            Comparator.comparingInt(score -&gt; sortingRule.contains(score.name()) ?\n                    sortingRule.indexOf(score.name()) :\n                    sortingRule.size());\n\n    Map&lt;String, List&lt;ScoreAverage&gt;&gt; result = new HashMap&lt;&gt;();\n    for (Map.Entry&lt;String, List&lt;ScoreAverage&gt;&gt; entry: averagesMap.entrySet()) {\n        List&lt;ScoreAverage&gt; copy = new ArrayList&lt;&gt;(entry.getValue());\n        copy.sort(dynamicComparator);\n        result.put(entry.getKey(), copy);\n    }\n    return result;\n}\n</code></pre>\n<p><strong>Stream based implementation</strong> (<em>note: lists in the source map will not get modified, each entry will be replaced with a new one</em>).</p>\n<pre><code>public static Map&lt;String, List&lt;ScoreAverage&gt;&gt; sortByRule(Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap,\n                                            List&lt;String&gt; sortingRule) {\n\n     Comparator&lt;ScoreAverage&gt; dynamicComparator =\n            Comparator.comparingInt(score -&gt; sortingRule.contains(score.name()) ?\n                                    sortingRule.indexOf(score.name()) : \n                                    sortingRule.size());\n\n    return averagesMap.entrySet().stream()\n            .map(entry -&gt; Map.entry(entry.getKey(),\n                    entry.getValue().stream()\n                    .sorted(dynamicComparator)\n                    .collect(Collectors.toList())))\n            .collect(Collectors.toMap(Map.Entry::getKey,Map.Entry::getValue));\n}\n</code></pre>\n<p><strong>main()</strong></p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap =\n            Map.of(&quot;A&quot;, List.of(new ScoreAverage(4.0, &quot;Accounting&quot;),\n                                    new ScoreAverage(4.0, &quot;company-wide&quot;),\n                                    new ScoreAverage(4.0, &quot;Engineering&quot;)),\n                   &quot;B&quot;, List.of(new ScoreAverage(3.0, &quot;Engineering&quot;),\n                                    new ScoreAverage(3.0, &quot;company-wide&quot;),\n                                    new ScoreAverage(3.0, &quot;Accounting&quot;)),\n                   &quot;C&quot;, List.of(new ScoreAverage(2.0, &quot;company-wide&quot;),\n                                    new ScoreAverage(2.0, &quot;Engineering&quot;),\n                                    new ScoreAverage(2.0, &quot;Accounting&quot;)),\n                   &quot;specialAverages&quot;, List.of(new ScoreAverage(2.5, &quot;Engineering&quot;),\n                                    new ScoreAverage(2.5, &quot;company-wide&quot;),\n                                    new ScoreAverage(2.5, &quot;Accounting&quot;)));\n\n    List&lt;String&gt; sortingRule = List.of(&quot;company-wide&quot;, &quot;Engineering&quot;, &quot;Accounting&quot;);\n\n    sortByRule(averagesMap, sortingRule).forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>A : [ScoreAverage[average=4.0, name=company-wide], ScoreAverage[average=4.0, name=Engineering], ScoreAverage[average=4.0, name=Accounting]]\nB : [ScoreAverage[average=3.0, name=company-wide], ScoreAverage[average=3.0, name=Engineering], ScoreAverage[average=3.0, name=Accounting]]\nC : [ScoreAverage[average=2.0, name=company-wide], ScoreAverage[average=2.0, name=Engineering], ScoreAverage[average=2.0, name=Accounting]]\nspecialAverages : [ScoreAverage[average=2.5, name=company-wide], ScoreAverage[average=2.5, name=Engineering], ScoreAverage[average=2.5, name=Accounting]]\n</code></pre>\n<hr />\n<p><strong>Update</strong></p>\n<p>It's also possible to combine the <em>sorting rule</em> encapsulated in a list and <code>Comparator</code> that will responsible for sorting elements that are not present in the <em>sorting rule</em>. Both <em>sorting rule</em> and a comparator will be provided dynamically at runtime.</p>\n<p>For that, the method signature has to be changed (the third parameter needs to be added):</p>\n<pre><code>public static Map&lt;String, List&lt;ScoreAverage&gt;&gt; sortByRule(Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap,\n                                                         List&lt;String&gt; sortingRule,\n                                                         Comparator&lt;ScoreAverage&gt; downstreamComparator)\n</code></pre>\n<p>And the comparator will look like that:</p>\n<pre><code>Comparator&lt;ScoreAverage&gt; dynamicComparator =\n                Comparator.&lt;ScoreAverage&gt;comparingInt(score -&gt; sortingRule.contains(score.name()) ?\n                                            sortingRule.indexOf(score.name()) :\n                                            sortingRule.size())\n                                .thenComparing(downstreamComparator);\n</code></pre>\n<p>It will group all objects with names <em>contained</em> in the <code>sortingRule</code> at the beginning of the resulting list, the rest part will be sorted in accordance with the <code>downstreamComparator</code>.</p>\n<p>Method call in the main will look like that:</p>\n<pre><code>sortByRule(averagesMap, sortingRule, Comparator.comparing(ScoreAverage::name))\n                .forEach((k, v) -&gt; System.out.println(k + &quot; : &quot; + v));\n</code></pre>\n<p>If you apply these changes with and provide a <code>sortingRule</code> containing only one string <code>&quot;company-wide&quot;</code> you'll this <strong>output</strong>:</p>\n<pre><code>A : [ScoreAverage[average=4.0, name=company-wide], ScoreAverage[average=4.0, name=Accounting], ScoreAverage[average=4.0, name=Engineering]]\nB : [ScoreAverage[average=3.0, name=company-wide], ScoreAverage[average=3.0, name=Accounting], ScoreAverage[average=3.0, name=Engineering]]\nC : [ScoreAverage[average=2.0, name=company-wide], ScoreAverage[average=2.0, name=Accounting], ScoreAverage[average=2.0, name=Engineering]]\nspecialAverages : [ScoreAverage[average=2.5, name=company-wide], ScoreAverage[average=2.5, name=Accounting], ScoreAverage[average=2.5, name=Engineering]]\n</code></pre>\n"}],"last_activity_date":1684249746,"question_id":71531257,"body":"<p>There's a Map with keys of type <code>String</code> as the and values represented by a list of objects as follows:</p>\n<pre><code>Map&lt;String, List&lt;ScoreAverage&gt;&gt; averagesMap\n</code></pre>\n<p><code>ScoreAverage</code> <strong>record</strong>:</p>\n<pre><code>public record ScoreAverage(\n    @JsonProperty(&quot;average&quot;) double average,\n    @JsonProperty(&quot;name&quot;) String name\n) {}\n</code></pre>\n<p>The <strong>map</strong> holds data as follows :</p>\n<pre><code>{\n &quot;averagesMap&quot;:{\n  &quot;A&quot;:[\n     {\n        &quot;average&quot;:4.0,\n        &quot;name&quot;:&quot;Accounting&quot;\n     },\n     {\n        &quot;average&quot;:4.0,\n        &quot;name&quot;:&quot;company-wide&quot;\n     },\n     {\n        &quot;average&quot;:4.0,\n        &quot;name&quot;:&quot;Engineering&quot;\n     }\n  ],\n  &quot;B&quot;:[\n     {\n        &quot;average&quot;:3.0,\n        &quot;name&quot;:&quot;Engineering&quot;\n     },\n     {\n        &quot;average&quot;:3.0,\n        &quot;name&quot;:&quot;company-wide&quot;\n     },\n     {\n        &quot;average&quot;:3.0,\n        &quot;name&quot;:&quot;Accounting&quot;\n     }\n  ],\n  &quot;C&quot;:[\n     {\n        &quot;average&quot;:2.0,\n        &quot;name&quot;:&quot;company-wide&quot;\n     },\n     {\n        &quot;average&quot;:2.0,\n        &quot;name&quot;:&quot;Engineering&quot;\n     },\n     {\n        &quot;average&quot;:2.0,\n        &quot;en&quot;:&quot;Accounting&quot;\n     }\n  ],\n  &quot;specialAverages&quot;:[\n     {\n        &quot;average&quot;:2.5,\n        &quot;name&quot;:&quot;Engineering&quot;\n     },\n     {\n        &quot;average&quot;:2.5,\n        &quot;name&quot;:&quot;company-wide&quot;\n     },\n     {\n        &quot;average&quot;:2.5,\n        &quot;name&quot;:&quot;Accounting&quot;\n     }\n   ]\n  }\n}\n</code></pre>\n<p>What I want to achieve is to sort dynamically each list of objects in a map using the <code>name</code> attribute in the order specified at runtime, for instance:</p>\n<pre><code>1st item of list -&gt; company-wide\n2nd item of list -&gt; Engineering\n3rd item of list -&gt; Accounting\n</code></pre>\n<p>What would be the easiest way of doing this?</p>\n"},{"comments":[{"comment_id":134488845,"body":"Please, take some time to read <a href=\"/help/how-to-ask\">how to ask</a> and <a href=\"/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"comment_id":134488863,"body":"I need solution in java"},{"comment_id":134492948,"body":"I am not aware of any conversion library that will do this for you."},{"comment_id":134497677,"body":"The underscore-java library has static method U.jsonToXml(json)"}],"last_activity_date":1684249528,"question_id":76264571,"body":"<p>I found many ways online to convert Json to XML in java but none considered the XML schema as input to consider xs:attribute and xs:element</p>\n<p>I am expecting the XML to consider the attributes from the xsd and populate value from json</p>\n"},{"comments":[{"comment_id":134462933,"body":"Is that the whole of your code? Some of that code is a method, and some is code - are they not in methods? It looks like your errors are compilation errors, which would make sense. Are you familiar with the structure of Java classes?"},{"comment_id":134468183,"body":"No, not all of it, they asked me to cut the code, so I decided to add those on which the main errors are. I am not particularly familiar with the structure of classes"},{"comment_id":134468656,"body":"Readers will need to see the actual code you are working with in order to help you."},{"comment_id":134469026,"body":"I was able to enter the whole code, please help me"},{"comment_id":134469037,"body":"I tried to fix it via getContext, but as a result it crashed"},{"comment_id":134474814,"body":"I was able to solve all the problems now it does not transfer to the next activity XD"},{"comment_id":134475542,"body":"Voting to reopen."}],"last_activity_date":1684249244,"question_id":76249298,"body":"<p>I'm doing a registration on Google Firebase and I have the name of the fragment underlined in red, and I don't understand why it comes out like this</p>\n<pre><code>public class NotificationsFragment extends Fragment {\n\n    SignInButton btSignIn;\n    GoogleSignInClient googleSignInClient;\n    FirebaseAuth firebaseAuth;\n\n    private FragmentNotificationsBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        NotificationsViewModel notificationsViewModel =\n                new ViewModelProvider(this).get(NotificationsViewModel.class);\n\n        binding = FragmentNotificationsBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Assign variable\n        btSignIn = btSignIn.findViewById(R.id.bt_sign_in);\n\n        // Initialize sign in options the client-id is copied form google-services.json file\n        GoogleSignInOptions googleSignInOptions = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(&quot;438431947620-ecpi41uk3dhhf4mv8g8q993k3vs49ltm.apps.googleusercontent.com&quot;)\n                .requestEmail()\n                .build();\n\n        // Initialize sign in client\n        googleSignInClient = GoogleSignIn.getClient(NotificationsFragment.this, googleSignInOptions);\n\n        btSignIn.setOnClickListener((View.OnClickListener) view -&gt; {\n            // Initialize sign in intent\n            Intent intent = googleSignInClient.getSignInIntent();\n            // Start activity for result\n            startActivityForResult(intent, 100);\n        });\n\n        // Initialize firebase auth\n        firebaseAuth = FirebaseAuth.getInstance();\n        // Initialize firebase user\n        FirebaseUser firebaseUser = firebaseAuth.getCurrentUser();\n        // Check condition\n        if (firebaseUser != null) {\n            // When user already sign in redirect to profile activity\n            startActivity(new Intent(NotificationsFragment.this, ProfileActivity.class).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK));\n        }\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        // Check condition\n        if (requestCode == 100) {\n            // When request code is equal to 100 initialize task\n            Task&lt;GoogleSignInAccount&gt; signInAccountTask = GoogleSignIn.getSignedInAccountFromIntent(data);\n            // check condition\n            if (signInAccountTask.isSuccessful()) {\n                // When google sign in successful initialize string\n                String s = &quot;Google sign in successful&quot;;\n                // Display Toast\n                displayToast(s);\n                // Initialize sign in account\n                try {\n                    // Initialize sign in account\n                    GoogleSignInAccount googleSignInAccount = signInAccountTask.getResult(ApiException.class);\n                    // Check condition\n                    if (googleSignInAccount != null) {\n                        // When sign in account is not equal to null initialize auth credential\n                        AuthCredential authCredential = GoogleAuthProvider.getCredential(googleSignInAccount.getIdToken(), null);\n                        // Check credential\n                        firebaseAuth.signInWithCredential(authCredential).addOnCompleteListener(this, new OnCompleteListener&lt;AuthResult&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                // Check condition\n                                if (task.isSuccessful()) {\n                                    // When task is successful redirect to profile activity display Toast\n                                    startActivity(new Intent(NotificationsFragment.this, ProfileActivity.class).setFlags(Intent.FLAG_ACTIVITY_NEW_TASK));\n                                    displayToast(&quot;Firebase authentication successful&quot;);\n                                } else {\n                                    // When task is unsuccessful display Toast\n                                    displayToast(&quot;Authentication Failed :&quot; + task.getException().getMessage());\n                                }\n                            }\n                        });\n                    }\n                } catch (ApiException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n\n    private void displayToast(String s) {\n        Toast.makeText(getApplicationContext(), s, Toast.LENGTH_SHORT).show();\n    }\n\n}\n</code></pre>\n<p>Here are the errors:</p>\n<p><a href=\"https://i.stack.imgur.com/vBnSX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vBnSX.png\" alt=\"IntelliJ build errors\" /></a></p>\n<p>I do not understand what is wrong with it. I have already read what intent does, but I did not understand. How to fix it?</p>\n"},{"comments":[{"comment_id":134484278,"body":"I left a comment on your earlier question, but I think you need to use <code>java.sql.Struct</code> there. See the <a href=\"https://github.com/harawata/mybatis-issues/blob/master/so-56834806/src/test/java/test/UserListTypeHandler.java\" rel=\"nofollow noreferrer\">type handler</a> in my demo."},{"comment_id":134496694,"body":"Thank you, i had to create a List&lt;Struct&gt; populated with Structs as in your code."}],"last_activity_date":1684249221,"question_id":76260932,"body":"<p>I have an issue in my TypeHandler using MyBatis. In the setParamter method which is called before calling my procedure, I create the java.sql.Array that I have to set in the PreparedStatement. Going in debug I see that the Array is created with his datumArray. This datumArray has correctly 2 internal datumArray that are null in the positions where I should find my Strings.</p>\n<p>This is what I see in debug as my java.sql.Array arr:\n<a href=\"https://i.stack.imgur.com/tgF9G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tgF9G.png\" alt=\"PrintScreen of the variables in debug\" /></a></p>\n<p>This is my TypeHandler:</p>\n<pre><code>public class ElencoCampiTypeHandler implements TypeHandler&lt;ElencoCampiModificati&gt; {\n\n    @Override\n    public void setParameter(PreparedStatement ps, int i, ElencoCampiModificati parameter, JdbcType jdbcType)\n            throws SQLException {\n        // TODO Auto-generated method stub\n        Array arr = ps.getConnection().unwrap(OracleConnection.class).createOracleArray(&quot;DYNAPP.V_ELENCO_CAMPI_MODIFICATI&quot;, Arrays.stream(parameter.getCampiModificati()).toArray());\n        ps.setArray(i, arr);\n    }\n</code></pre>\n<p>This is the parameter that is given to the setParameter method:</p>\n<pre><code>        CampoModificato mod = new CampoModificato(&quot;CAMPO_MODIFICATO&quot;,&quot;VALORE_OLD&quot;,&quot;VALORE_NEW&quot;);\n        CampoModificato mod1 = new CampoModificato(&quot;CAMPO_MODIFICATO1&quot;,&quot;VALORE_OLD1&quot;,&quot;VALORE_NEW1&quot;);\n        CampoModificato[] arr = new CampoModificato[] {mod, mod1};\nElencoCampiModificati elenco = new ElencoCampiModificati(arr);\n</code></pre>\n<p>This is the structure of ElencoCampiModificati:</p>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.sql.Array;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Arrays;\nimport java.util.Map;\n\npublic class ElencoCampiModificati implements Array{\n    private CampoModificato[] campiModificati;\n    \n    public ElencoCampiModificati() {}\n\n    public ElencoCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    public CampoModificato[] getCampiModificati() {\n        return campiModificati;\n    }\n\n    public void setCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    @Override\n    public String getBaseTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public int getBaseType() throws SQLException {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public Object getArray() throws SQLException {\n        // TODO Auto-generated method stub\n         return campiModificati == null ? null : Arrays.copyOf(campiModificati, campiModificati.length);\n    }\n\n    @Override\n    public Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray();\n    }\n\n    @Override\n    public Object getArray(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        return campiModificati == null ? null : Arrays.copyOfRange(campiModificati, (int)index, (int)index + count );\n    }\n\n    @Override\n    public Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray(index, count);\n    }\n\n    @Override\n    public ResultSet getResultSet() throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public void free() throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n</code></pre>\n<p>This is the CampoModificato:</p>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.io.Serializable;\nimport java.sql.SQLData;\nimport java.sql.SQLException;\nimport java.sql.SQLInput;\nimport java.sql.SQLOutput;\n\npublic class CampoModificato implements SQLData, Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private String nome_campo;\n    private String valore_old;\n    private String valore_new;\n    \n    public CampoModificato() {}\n    \n    public CampoModificato(String nome_campo, String valore_old, String valore_new) {\n        this.nome_campo = nome_campo;\n        this.valore_old = valore_old;\n        this.valore_new = valore_new;\n    }\n    public String getNomeCampo() {\n        return nome_campo;\n    }\n    public void setNomeCampo(String nome_campo) {\n        this.nome_campo = nome_campo;\n    }\n    public String getValoreOld() {\n        return valore_old;\n    }\n    public void setValoreOld(String valore_old) {\n        this.valore_old = valore_old;\n    }\n    public String getValoreNew() {\n        return valore_new;\n    }\n    public void setValoreNew(String valore_new) {\n        this.valore_new = valore_new;\n    }\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return &quot;TY_CAMPI_MODIFICATI&quot;;\n    }\n\n    @Override\n    public void readSQL(SQLInput stream, String typeName) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n\n</code></pre>\n<p>I was trying to use others objects as ArrayDescriptor or ARRAY but are deprecated. I tried to use ps.getConnection().unwrap(OracleConnection.class).createARRAY or ps.getConnection().unwrap(OracleConnection.class).createArrayOf methods but the result is the same.</p>\n"},{"comments":[{"comment_id":134488379,"body":"How did you create the <code>FileOutputStream</code>?"}],"answers":[{"comments":[{"comment_id":134488419,"body":"Uhh... That&#39;s <i>Kotlin</i>, I&#39;m looking for a solution for <i>Java</i>..."},{"comment_id":134489181,"body":"The constructor arguments are the same in Java because FileOutputStream is a Java class, even in kotlin"}],"answer_id":76264262,"body":"<p>A FileOutputSteam takes either a File as an argument or a filename (which will be converted to a file by the constructor).</p>\n<p>If you have a reference to the file, file.exists() should return true, see kotlin code example below:</p>\n<pre><code>    fun main(args: Array&lt;String&gt;) {\n        val file = File.createTempFile(&quot;foo&quot;,&quot;.txt&quot;)\n        val fos = FileOutputStream(file)\n        fos.write(1)\n\n        println(&quot;assert tmpfile exists: ${file.exists()}&quot;)\n    }\n</code></pre>\n"},{"comments":[{"comment_id":134488733,"body":"that was not the question."}],"answer_id":76264280,"body":"<p>You can instantiate the OutputStream using a Path object.\nHere's a couple of ways</p>\n<p>Using Files:</p>\n<pre><code>Path path = Paths.get(&quot;/a/b/c&quot;);\ntry(OutputStream os = Files.newOutputStream(path)) {\n  Files.exists(path);\n}\n</code></pre>\n<p>Using FileOutputStream:</p>\n<pre><code>Path path = Paths.get(&quot;/a/b/c&quot;);\ntry(FileOutputStream fos = new FileOutputStream(path.toFile())) {\n  path.toFile().exists();\n}\n</code></pre>\n"}],"last_activity_date":1684249188,"question_id":76264159,"body":"<p>I create a file using a <code>FileOutputStream()</code>, and after creating it I want to check if that file exists.</p>\n<p>I have tried to see if there is something like <code>File.exists()</code> for it, I also looked at <a href=\"https://stackoverflow.com/questions/4930111/get-file-name-from-fileoutputstream\">get file name from fileoutputstream</a> but that solves how to get the filename, which is not my question. So I need a way to turn the <code>FileOutputStream()</code> to a <code>File()</code>.</p>\n"},{"comments":[{"comment_id":134417410,"body":"<code>apt-get install snappy-java</code> see <a href=\"https://github.com/xerial/snappy-java\" rel=\"nofollow noreferrer\">also</a>"},{"comment_id":134426276,"body":"snapd is a daemon for a package manager, not a serialization library, or have anything to do Snappy... Your Maven dependency is not &quot;native libraries&quot;, only Java classes, which require C modules to be installed on the OS"},{"comment_id":134435676,"body":"@ElliottFrisch thank you for the comment. I tried <code>apt-get install snappy-java</code> and it is giving me &quot;package not found&quot;"},{"comment_id":134435682,"body":"@OneCricketeer thank you for the comment, which C modules please? I tried <code>sudo apt-get install gcc zlib1g-dev build-essential</code> still no luck"},{"comment_id":134440656,"body":"<code>libsnappy-dev</code>, I believe <a href=\"https://packages.ubuntu.com/focal/libsnappy-dev\" rel=\"nofollow noreferrer\">packages.ubuntu.com/focal/libsnappy-dev</a>"},{"comment_id":134482741,"body":"hey @OneCricketeer, the <code>libsnappy-dev</code> seems to work. Would you like to put it as an answer? I will upvote+accept"}],"answers":[{"answer_id":76264508,"body":"<blockquote>\n<p>I do have Snappy installed.</p>\n</blockquote>\n<p><a href=\"https://ubuntu.com/core/services/guide/snaps-intro\" rel=\"nofollow noreferrer\">Snap / snapd</a> is not the same as <a href=\"https://google.github.io/snappy/\" rel=\"nofollow noreferrer\">Snappy</a> .</p>\n<p>You should install the latter with <a href=\"https://packages.ubuntu.com/focal/libsnappy-dev\" rel=\"nofollow noreferrer\"><code>libsnappy-dev</code></a>, as that is the native libraries that the error is referring to. The Java dependency requires those.</p>\n<p>If you don't need Snap applications, then you can <em>uninstall</em> snapd</p>\n"}],"last_activity_date":1684249121,"question_id":76222734,"body":"<p><em>What I would like to achieve:</em></p>\n<p>Run a kafka consumer with native / aot / graalvm</p>\n<p><em>Issue:</em></p>\n<p>When running the application, I am facing this 100% reproducible issue:</p>\n<pre><code>Caused by: org.apache.kafka.common.KafkaException: Received exception when fetching the next record from my-topic-1. If needed, please seek past the record to continue consumption.\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1676)\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1900(Fetcher.java:1497)\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:717)\n    at org.apache.kafka.clients.consumer.internals.Fetcher.collectFetch(Fetcher.java:683)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1314)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1243)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1216)\n    at reactor.kafka.receiver.internals.ConsumerEventLoop$PollEvent.run(ConsumerEventLoop.java:357)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)\n    at java.base@17.0.7/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.thread.PlatformThreads.threadStartRoutine(PlatformThreads.java:775)\n    at org.graalvm.nativeimage.builder/com.oracle.svm.core.posix.thread.PosixPlatformThreads.pthreadStartRoutine(PosixPlatformThreads.java:203)\nCaused by: org.apache.kafka.common.KafkaException: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Linux and os.arch=x86_64\n    at org.apache.kafka.common.compress.SnappyFactory.wrapForInput(SnappyFactory.java:46)\n    at org.apache.kafka.common.record.CompressionType$3.wrapForInput(CompressionType.java:94)\n    at org.apache.kafka.common.record.DefaultRecordBatch.recordInputStream(DefaultRecordBatch.java:276)\n    at org.apache.kafka.common.record.DefaultRecordBatch.compressedIterator(DefaultRecordBatch.java:280)\n    at org.apache.kafka.common.record.DefaultRecordBatch.streamingIterator(DefaultRecordBatch.java:364)\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.nextFetchedRecord(Fetcher.java:1619)\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1656)\n    ... 16 common frames omitted\nCaused by: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no native library is found for os.name=Linux and os.arch=x86_64\n    at org.xerial.snappy.SnappyLoader.findNativeLibrary(SnappyLoader.java:343)\n    at org.xerial.snappy.SnappyLoader.loadNativeLibrary(SnappyLoader.java:177)\n    at org.xerial.snappy.SnappyLoader.loadSnappyApi(SnappyLoader.java:155)\n    at org.xerial.snappy.Snappy.init(Snappy.java:70)\n    at org.xerial.snappy.Snappy.&lt;clinit&gt;(Snappy.java:47)\n    at org.xerial.snappy.SnappyInputStream.readFully(SnappyInputStream.java:145)\n    at org.xerial.snappy.SnappyInputStream.readHeader(SnappyInputStream.java:99)\n    at org.xerial.snappy.SnappyInputStream.&lt;init&gt;(SnappyInputStream.java:59)\n    at org.apache.kafka.common.compress.SnappyFactory.wrapForInput(SnappyFactory.java:44)\n    ... 22 common frames omitted\n\n</code></pre>\n<p><em>What I tried:</em></p>\n<p>In my dependencies, I do have the most recent Snappy:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial.snappy&lt;/groupId&gt;\n            &lt;artifactId&gt;snappy-java&lt;/artifactId&gt;\n            &lt;version&gt;1.1.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>On my machine, Ubuntu, I do have Snappy installed.</p>\n<pre><code>root@dlp:~# apt -y install snapd\nroot@dlp:~# systemctl  enable snapd.service snapd.socket\nroot@dlp:~# source /etc/profile.d/apps-bin-path.sh\n</code></pre>\n<p><em>Question:</em></p>\n<p>How to fix this exception?</p>\n"},{"comments":[{"comment_id":107046543,"body":"This <a href=\"https://medium.com/innomizetech/dynamic-multi-database-application-with-spring-boot-7c61a743e914\" rel=\"nofollow noreferrer\">post</a> could be relevant for you. You will need to have a routing data source which will depends on this thread&#39;s context (namely, the shard you will want to query). Setting the context can either be done explicitly or by aspect oriented programming."}],"last_activity_date":1684249105,"question_id":60509556,"body":"<p>I want to connect a SpringBoot App to a legacy database system with manual sharding management.</p>\n\n<p>With a carId given by a user, I can locate the shard where the car is saved.\n(examples: carId=1 is in shard 1, carId=2 is in shard2)</p>\n\n<p>I do not know how to do it in a proper way (autowiring?, Datasource?, ..). </p>\n\n<p>Can you help me?</p>\n\n<p>My application</p>\n\n<pre><code>@SpringBootApplication\npublic class CarApiApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CarApiApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>My controller</p>\n\n<pre><code>@RestController\npublic class CarController {\n\n    @Autowired\n    CarService carService;\n\n    @GetMapping(\"/car/{carId}\")\n    public Optional&lt;Car&gt; car(\n            @PathVariable(value = \"carId\") String carId\n    ) {\n        return carService.getTransaction(carId);\n    }\n}\n</code></pre>\n\n<p>My service</p>\n\n<pre><code>public class CarService {\n\n    @Autowired\n    private CarJpaRepository carJpaRepository;\n\n    public Optional&lt;Car&gt; getCar(String carId) {\n        Optional&lt;Car&gt; car = carJpaRepository.findById(carId);\n        return car;\n    }\n}\n</code></pre>\n\n<p>My Repository</p>\n\n<pre><code>public interface CarJpaRepository extends JpaRepository&lt;Transaction, Long&gt; {\n\n}\n</code></pre>\n\n<p>My configuration</p>\n\n<pre><code>spring.shard1.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.shard1.url=jdbc:mysql://localhost:3306/shard1?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\nspring.shard1.username=root\nspring.shard1.password=root\n\nspring.shard2.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.shard2.url=jdbc:mysql://localhost:3306/shard2?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\nspring.shard2.username=root\nspring.shard2.password=root\n\nspring.shard3.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.shard3.url=jdbc:mysql://localhost:3306/shard3?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\nspring.shard3.username=root\nspring.shard3.password=root\n\nspring.shard4.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.shard4.url=jdbc:mysql://localhost:3306/shard4?serverTimezone=UTC&amp;useLegacyDatetimeCode=false\nspring.shard4.username=root\nspring.shard4.password=root\n</code></pre>\n"},{"answers":[{"answer_id":72293444,"body":"<p>Did you set constructor with lomboak?</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor? \n</code></pre>\n<p>Check other column constrain like <code>nullable =false</code></p>\n"},{"answer_id":74568382,"body":"<p>Find a way to initialize the String firstName attribute. You actually enforced a not null contrail but may not have sent the value before attempting to persist.</p>\n<p>So, when u create the object for the Employee class, make sure u set a value for the first name before u save it to the database.</p>\n"},{"answer_id":76264449,"body":"<p>remove the @Column and it will work</p>\n"}],"last_activity_date":1684248767,"question_id":72293036,"body":"<p>I am getting this error while inserting data into table using Spring boot framework via POSTMAN RESTAPI:</p>\n<blockquote>\n<p><code>org.hibernate.PropertyValueException</code>: not-null property references a null or transient value: <code>com.example.demo.model.Employee.firstName</code></p>\n</blockquote>\n<p>This is my Employee Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@Table(name=&quot;employees&quot;)\n\npublic class Employee {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n}\n</code></pre>\n"},{"comments":[{"comment_id":134486005,"body":"That&#39;s how it&#39;s done though. So does anything return a non-empty set of nodes? Like does <code>${BODY.InventoryBalanceData.AvailableQty}</code> print <code>10.0000</code>?"}],"last_activity_date":1684248759,"question_id":76260000,"body":"<p>I have an XML file which looks like below.</p>\n<pre><code>&lt;GetInventoryBalance\n    xmlns=&quot;http://collab.safeway.com/it/architecture/info/default.aspx&quot;&gt;\n    &lt;InventoryBalanceData&gt;\n        &lt;AvailableQty&gt;10.0000&lt;/AvailableQty&gt;\n        &lt;AllocatedQty&gt;57.0000&lt;/AllocatedQty&gt;\n    &lt;/InventoryBalanceData&gt;\n&lt;/GetInventoryBalance&gt;\n</code></pre>\n<p>In the xml file, the tag <strong>AllocatedQty</strong> can either be there or not. How to check if this tag exists in the file?</p>\n<p>I have tried to use this, but to no avail:</p>\n<pre><code>&lt;#if BODY.InventoryBalanceData.AllocatedQty?has_content&gt;\n</code></pre>\n"},{"comments":[{"comment_id":45797164,"body":"Welcome to Stackoverflow Gui, this looks like a homework question. To learn programming you need to trace these errors by debugging your code. <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}],"answers":[{"answer_id":28758266,"body":"<p>You didn't reset the value of <code>cols</code> in the outer loop. So the second time through the outer loop, the inner loop never gets run at all. Also consider using a <code>for</code> loop:</p>\n\n<pre><code>for (int rows = 0; rows &lt; numRows; ++rows) {\n    // ...\n    for (int cols = 0; cols &lt; numCols; ++cols) {\n        // ...\n    }\n}\n</code></pre>\n"},{"answer_id":28758282,"body":"<p>add a line <code>cols = 1;</code> just after <code>rows++;</code></p>\n"},{"answer_id":28758349,"body":"<p>Just change the position of <code>cols = 1;</code> </p>\n\n<pre><code>public static void main(final String[] args){\n        int numRows = 2;\n        int numCols = 3;\n        int rows = 0;\n\n\n        while (rows &lt; numRows) {\n\n            rows++;\n            int cols = 1;\n            char col = 'A';\n\n            while (cols &lt;= numCols) {\n                System.out.print(\"\" + rows + col + \" \");\n                col++;\n                cols++;\n            }\n        }\n        System.out.println(\" \");\n}\n</code></pre>\n"},{"answer_id":28758390,"body":"<p>On the first iteration, when it goes over the inner while, you update the value of \"cols\".\nSo when this while is done, cols = 3.</p>\n\n<p>Then on the second iteration, you still have cols=3 which is > numCols so it doesn't execute the while loop.</p>\n\n<p>As said Parasu just add \"cols = 1;\" before the inner loop and it'll works.</p>\n"},{"answer_id":46387188,"body":"<p>This uses a for loop</p>\n\n<pre><code>public class NestedLoops {\npublic static void main (String [] args) {\n\n\n    int numRows = 2;\n      int numCols = 3;\n\n\n      int i = 0;\n      int j = 0;\n      char rows;\n      char columns;\n\n      rows = '1';\n      for (i = 0; i &lt; numRows; ++i) {\n         columns = 'A';\n         for (j = 0; j &lt; numCols; ++j) {\n            System.out.print(\"\" + rows + columns + \" \");\n            columns++;\n         }\n         rows++;\n      }\n\n\n      System.out.println(\"\");\n\n      return;\n   }\n}\n</code></pre>\n"},{"comments":[{"comment_id":81765713,"body":"int i = 0;       int j = 0;       char rows;       char columns;        rows = &#39;1&#39;;   - just don&#39;t need all of that"},{"comment_id":81766059,"body":"Add some explanation to your answer as well."}],"answer_id":47406148,"body":"<pre><code>public class NestedLoops_2 {\n       public static void main (String [] args) {\n          int numRows = 2;\n          int numCols = 5;\n\nfor (int i = 1; i &lt;= numRows; i++){ \n          char abc = 'A';\n          for (int j = 1; j &lt;= numCols; ++j) {\n          System.out.print(\"\" + i + abc + \" \");\n          ++abc;     \n          }\n    }\n          System.out.println(\"\");\n          return;\n       }\n    }\n</code></pre>\n"},{"answer_id":47406239,"body":"<p>You have to just make a small change in your code. After the inner while loop but just inside the outer while loop write cols=1;... because the next time when the loop reaches the same inner while loop cols have to again start at 1 and not at some other value .</p>\n"},{"answer_id":58084218,"body":"<p>I know this is late, but I am going through this same challenge in zybooks. My initial code is a little different and the answers above were a little off from what the IDE was testing for. So I decided to copy and paste my code in case anyone needs a little help with this challenge.</p>\n\n<pre><code>import java.util.Scanner;\npublic class NestedLoops {\n   public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      int numRows;\n      int numColumns;\n      int currentRow;\n      int currentColumn;\n      char currentColumnLetter;\n\n  numRows = scnr.nextInt(); // user input for how many rows\n  numColumns = scnr.nextInt(); // user input for many columns\n\n  /* Your solution goes here  */ \n  currentRow = 0; // Must be intialized to 0 or a \"2\" will print before \"1\"\n while (currentRow &lt; numRows) { // Intialized the loop\n    currentRow++; // increments the currentRow\n    currentColumnLetter = 'A'; // Sets the first column to char 'A'\n    currentColumn = 1; // Define to intialize inner loop\n    while (currentColumn &lt;= numColumns) { // Will initial for any positive input 1 +\n       System.out.print(currentRow); // Asked specifically for 2 printouts\n       System.out.print(currentColumnLetter + \" \"); // 2nd printout with space at end.\n       currentColumnLetter++; // increments the Letter\n       currentColumn++; // increments the column\n    }\n }\n\n\n  System.out.println(\"\");\n   }\n}\n</code></pre>\n\n<p>I hope this helps anyone needing a little help with this assignment.</p>\n"},{"answer_id":60589256,"body":"<p>Here's what I came up with for this particular ZyBooks challenge (I used my own iterables instead of their pre-defined ones out of habit):</p>\n\n<pre><code>    import java.util.Scanner;\n    public class NestedLoops {\n    public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      int numRows;\n      int numColumns;\n      int currentRow;\n      int currentColumn;\n      char currentColumnLetter;\n\n      numRows = scnr.nextInt();\n      numColumns = scnr.nextInt();\n\n      for (int i = 1; i &lt;= numRows; i++) {\n\n         currentColumnLetter = 'A';\n\n         for (int x = 1; x &lt;= numColumns; x++) {\n            System.out.print(i);\n            System.out.print(currentColumnLetter + \" \");\n            currentColumnLetter++;\n         }\n\n      }\n\n      System.out.println(\"\");\n   }\n}\n</code></pre>\n"},{"answer_id":64096114,"body":"<pre><code>import java.util.Scanner;\npublic class NestedLoops {\n   public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      int numRows;\n      int numColumns;\n      int currentRow;\n      int currentColumn;\n      char currentColumnLetter; //not needed\n\n      numRows = scnr.nextInt();\n      numColumns = scnr.nextInt();\n      String currentColumnL;\n      char[] alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;.toCharArray();\n      for(currentRow = 1; currentRow &lt;= numRows; currentRow = currentRow + 1) {\n         for(currentColumn = 1; currentColumn &lt;= numColumns; currentColumn = currentColumn + 1) {\n            currentColumnL = Character.toString(alphabet[currentColumn-1]);\n            System.out.print(&quot;&quot; + currentRow + currentColumnL + &quot; &quot;);\n   }\n}\n\n      System.out.println(&quot;&quot;);\n   }\n}\n</code></pre>\n<p>This is my solution to 4.7.2: Nested loops: Print seats, I did not use char currentColumnLetter</p>\n"},{"answer_id":69922025,"body":"<p>This was my solution. This one was really tough!</p>\n<p>One thing to point out, you cannot print the string and the char within the same print statement. I'm not sure why but it will not run if you do.</p>\n<pre><code>import java.util.Scanner;\npublic class NestedLoops {\n   public static void main (String [] args) {\n      Scanner scnr = new Scanner(System.in);\n      int numRows;\n      int numColumns;\n      int currentRow;\n      int currentColumn;\n      char currentColumnLetter;\n\n      numRows = scnr.nextInt();\n      numColumns = scnr.nextInt();\n   \n      \n      for(currentRow = 1; currentRow &lt;= numRows; currentRow++){\n         // Set the starting column letter\n         currentColumnLetter = 'A';\n         \n         \n         for(currentColumn = 0; currentColumn &lt; numColumns; currentColumn++){\n            System.out.print(currentRow);\n            System.out.print(currentColumnLetter + &quot; &quot;);\n            \n            \n            currentColumnLetter++;\n         }\n      }\n\n      System.out.println(&quot;&quot;);\n   }\n}\n</code></pre>\n"},{"answer_id":75714367,"body":"<p>This is the answer I came up with using C++ in my class:</p>\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n  int numRows;\n  int numColumns;\n  int currentRow;\n  int currentColumn;\n  char currentColumnLetter;\n\n  cin &gt;&gt; numRows;\n  cin &gt;&gt; numColumns;\n  for (currentRow = 1; currentRow &lt;= numRows; currentRow++) {\n\n     currentColumnLetter = 'A';\n\n    for (currentColumn = 1; currentColumn &lt;= numColumns; currentColumn++) {\n        cout &lt;&lt; currentRow;\n        cout &lt;&lt; currentColumnLetter &lt;&lt; &quot; &quot;;\n        currentColumnLetter++;\n     }\n  }\n\n  cout &lt;&lt; endl;\n\n  return 0;\n}\n</code></pre>\n<p>I hope it helps someone</p>\n"},{"comments":[{"comment_id":134482522,"body":"Welcome to Stakoverflow. Some explanatory words about your codes, besides that it works but also how would be helpful."},{"comment_id":134493091,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76259182/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76259182,"body":"<p>Passed all test in ZyBooks</p>\n<pre class=\"lang-java prettyprint-override\"><code>numRows = scnr.nextInt();\nnumColumns = scnr.nextInt();\n\nfor (currentRow=1; currentRow&lt;=numRows; currentRow++) {\n    currentColumnLetter='A';\n    for (currentColumn=0; currentColumn&lt;numColumns; currentColumn++) {\n        System.out.print(currentRow);\n        System.out.print(currentColumnLetter+(&quot; &quot;));\n        currentColumnLetter++;\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684248633,"question_id":28758232,"body":"<p>Given numRows and numCols, print a list of all seats in a theater. Rows are numbered, columns lettered, as in 1A or 3E. Print a space after each seat, including after the last. Use separate print statements to print the row and column. Ex: numRows = 2 and numCols = 3 prints:\n1A 1B 1C 2A 2B 2C </p>\n\n<p>My code's like:</p>\n\n<pre><code>public static void main(String[] args) {\n    int numRows = 2;\n    int numCols = 3;\n    int rows = 0;\n    int cols = 1;\n    char col;\n\n    while (rows &lt; numRows) {\n\n        rows++;\n\n        col='A';\n\n        while (cols &lt;= numCols) {\n            System.out.print(\"\" + rows + col + \" \");\n            col++;\n            cols++;\n        }\n\n    }\n    System.out.println(\" \");\n\n    return;\n\n}\n\n}\n</code></pre>\n\n<p>And my output's like:</p>\n\n<pre><code>1A 1B 1C \n</code></pre>\n\n<p>I tried to make it like:</p>\n\n<pre><code>1A 1B 1C 2A 2B 2C\n</code></pre>\n\n<p>Why my loop stop at 1?</p>\n"},{"comments":[{"comment_id":134460187,"body":"That&#39;s showing you an array of ten objects, which is what you expected. Did you try accessing their contents, or otherwise <i>using</i> the data?"},{"comment_id":134460428,"body":"It seems like the issue is with how the JSON array of blocks is being parsed on the Node.js server. Instead of an array of objects, it&#39;s being parsed as an array of arrays. Could you try to modify the Java program to generate a JSON object for each block, rather than a JSON array?"},{"comment_id":134462145,"body":"You claim &quot;[the array] doesn&#39;t even contain ten fields&quot; … but I count ten elements in the array shown by you. Try <code>console.log(JSON.stringify(req.body))</code> to serialize to JSON to a string again. <code>[Object object]</code> (but not <code>[Object]</code>) is how Objects are rendered in JavaScript by default."},{"comment_id":134481718,"body":"@jonrsharpe I tried to save the request&#39;s body into a file to be fed to another node program but what I get is one line of [object] [Object]. So I&#39;m not getting the results I was expecting to say the least."},{"comment_id":134481740,"body":"@PeterTill I think I could but then I&#39;d have to reconstruct the original JSON file into the Express server. Considering the scope of my project I&#39;m not even sure that it&#39;d be worth the hassle but I&#39;ll take a look into it."},{"comment_id":134481792,"body":"@knittl that was the solution. Thanks a lot and have a good day!"}],"answers":[{"answer_id":76260303,"body":"<p>As suggested by knittl the solution is to use the <code>JSON.stringify(req.body)</code>\ninstruction to be able to handle the JSON in its original form.</p>\n"}],"last_activity_date":1684248468,"question_id":76247894,"body":"<p>Hi I'm trying to send a JSON file from a Java program to an Express server running on Node.js.</p>\n<p>This is the Java method that's sending the JSON to the server:</p>\n<pre><code>public static void sendToSolver(String file) throws MalformedURLException {\ntry {\nURL url = new URL(&quot;http://address/&quot;);\nHttpURLConnection con = (HttpURLConnection) url.openConnection();\ncon.setRequestMethod(&quot;POST&quot;);\ncon.setDoOutput(true);\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\ncon.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\ncon.setDoOutput(true);\ntry(OutputStream os = con.getOutputStream()) {\nbyte[] input = file.getBytes(&quot;utf-8&quot;);\nos.write(input, 0, input.length);\n}\nSystem.out.println(con.getResponseCode() + &quot; &quot; + con.getResponseMessage());\ncon.disconnect();\n} catch (MalformedURLException e) {\nthrow new RuntimeException(e);\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n<p>And this is the JSON that I'm sending to the server that is being generated with the JACKSon library. Copying it into a JSON validator yields no issues.</p>\n<pre><code>[ {\n  &quot;name&quot; : &quot;Game&quot;,\n  &quot;blocks&quot; : [ {\n    &quot;shape&quot; : [ 2, 2 ],\n    &quot;position&quot; : [ 0, 1 ]\n  }, {\n    &quot;shape&quot; : [ 2, 1 ],\n    &quot;position&quot; : [ 0, 0 ]\n  }, {\n    &quot;shape&quot; : [ 2, 1 ],\n    &quot;position&quot; : [ 0, 3 ]\n  }, {\n    &quot;shape&quot; : [ 2, 1 ],\n    &quot;position&quot; : [ 2, 0 ]\n  }, {\n    &quot;shape&quot; : [ 2, 1 ],\n    &quot;position&quot; : [ 2, 3 ]\n  }, {\n    &quot;shape&quot; : [ 1, 1 ],\n    &quot;position&quot; : [ 2, 1 ]\n  }, {\n    &quot;shape&quot; : [ 1, 1 ],\n    &quot;position&quot; : [ 2, 2 ]\n  }, {\n    &quot;shape&quot; : [ 1, 1 ],\n    &quot;position&quot; : [ 3, 1 ]\n  }, {\n    &quot;shape&quot; : [ 1, 1 ],\n    &quot;position&quot; : [ 3, 2 ]\n  }, {\n    &quot;shape&quot; : [ 1, 2 ],\n    &quot;position&quot; : [ 4, 1 ]\n  } ]\n} ]\n</code></pre>\n<p>And, finally, this is the simple express server that I'm using to receive this JSON:</p>\n<pre><code>const express = require('express')\nconst app = express()\n\napp.use(express.json());\nconst port = 80\n\napp.post('/', (req, res) =\\&gt; {\nconsole.log(req.body);\nres.send('Data received');\n});\n\n</code></pre>\n<p>So when I try to send the JSON from the Java program I receive back a 200 response but the content of the request's body that gets printed from Node.js looks like this</p>\n<pre><code>[\n  {\n    name: 'Game',\n    blocks: [\n      [Object], [Object],\n      [Object], [Object],\n      [Object], [Object],\n      [Object], [Object],\n      [Object], [Object]\n    ]\n  }\n]\n</code></pre>\n<p>So the <em>name</em> field is being read without a problem, but then the following array is completely botched and it doesn't even contain ten fields like the original JSON.</p>\n<p>I don't really understand how this happens as the JSON clearly gets sent but I can't see whether this issue is caused by the Java program or if that's an issue caused by express/Node.</p>\n"},{"last_activity_date":1684248382,"question_id":76264387,"body":"<p>I have a cucumber project and I am using StepDefinition class, PageObjects class, and feature file\nfirst I implemented the @before and @after in the same class as the stepdefinitions, after that when I used @before and @after annotations in a seperate class Hooks, the driver I used to setup the browser is NULL when I use it in the PageObjects or StepDefinition class. heres a snap of the code I use for the hooks and the PageObjects\n`</p>\n<pre><code>@Before\n    public void setUp() throws IOException {\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;--start-maximized&quot;);\n        //options.addArguments(&quot;--incognito&quot;);\n\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(cf.getProperties(&quot;url&quot;));\n\n        lp = new LoginPage(driver);\n        lp.portalAccess();\n        lp.getUsername(cf.getProperties(&quot;username&quot;));\n        lp.getPassword(cf.getProperties(&quot;pwd&quot;));\n\n        lp.SignIn().click();\n        lp.LoginOption().click();\n\n        dossier = new DossierDashboard(driver);\n        assertTrue(dossier.getTitle().contains(&quot;Repair Total&quot;));\n        financialTasksPage  = new financialTasks(driver);\n        financilaSteps = new financilaTaskSteps(financialTasksPage);\n    }\n</code></pre>\n<p>pageobjects constructor</p>\n<p>`</p>\n<pre><code>public financialTasks(WebDriver driver)\n        {\n            this.driver = driver;\n        }\n</code></pre>\n<p>StepDefinitions constructor</p>\n<p>`</p>\n<pre><code>public financilaTaskSteps(financialTasks financialTasksPage)\n    {\n        this.financialTasksPage = financialTasksPage;\n    }\n</code></pre>\n"},{"last_activity_date":1684248220,"question_id":76259359,"body":"<p><a href=\"https://i.stack.imgur.com/YGA47.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YGA47.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm learning how to use Jsoup for my AP CSA final project and I'm building a wordle where i'm supposed to have the program traverse through an HTML document with every word in english. I put the code I have so far I want to use an enhanced for loop to go through the words and pick one, I found a HTML with all the words but its really long and i'm wondering, do I actually have to copy all that code for it to work? Is there another way I should try?</p>\n<p>I was thinking maybe I could use connect instead of parse? I'm not sure because I'm still very new to Jsoup.</p>\n"},{"last_activity_date":1684248011,"question_id":50719656,"body":"<p>I am trying to integrate Snyk into my GitLab CI pipeline. I install it with npm, authenticate with my personal token and run <code>snyk test</code>. I get the following error which prevents me from getting the results:</p>\n\n<pre><code>    Testing /builds/User/pipeline...\nDownloading https://services.gradle.org/distributions/gradle-4.5-all.zip\n................................................................................\n\nUnzipping /root/.gradle/wrapper/dists/gradle-4.5-all/cg9lyzfg3iwv6fa00os9gcgj4/gradle-4.5-all.zip to /root/.gradle/wrapper/dists/gradle-4.5-all/cg9lyzfg3iwv6fa00os9gcgj4\nSet executable permissions for: /root/.gradle/wrapper/dists/gradle-4.5-all/cg9lyzfg3iwv6fa00os9gcgj4/gradle-4.5/bin/gradle\n\n\nERROR: Job failed: exit code 1\n</code></pre>\n"},{"comments":[{"comment_id":134487867,"body":"Sounds like your production application has multiple threads to handle requests, while your local dev version doesn&#39;t."},{"comment_id":134488344,"body":"tbh I think the same but my techlead insists that the reason behind it is different, so I want to find out what are the other possible causes"},{"comment_id":134491035,"body":"2 request with same data, 1 is always first. You are checking at the same moment both think user doesn&#39;t exist, both try to create a new one, only one will succeed. The checks aren&#39;t fool proof and will fail in just this scenario and is what you encounter. Instead of checking, catch the duplicate key exception and handle that."}],"answers":[{"answer_id":76264189,"body":"<p>You told us nothing about your production environment. But that's okay, we can just presume that it is another one of those extremely complex java web application servers with a deep stack full of layers of... stuff.</p>\n<p>In such scenarios you have to always be concerned with concurrency.</p>\n<p>You cannot just execute statements assuming that no other statement will happen to execute between them, you cannot execute event handlers in a certain order and assume that their side-effects will be applied on the server in the same order, etc.   Quite often, you cannot even assume that data which was just written by one event handler is visible by another.</p>\n<p>In your scenario your complex stack is probably caching the database writes somewhere, perhaps on a per-thread basis, perhaps on a per-process basis. You may have thousands of threads, dozens of processes, and each time a request comes in it probably gets processed by one of them at random. So, your two attempts to add a user may be executed in any random order, and in largely disparate data spaces.</p>\n<p>To avoid this, various special constructs must be utilized for performing any work which involves writing to a database (and some that involve reading) for guaranteeing that it will be performed atomically, and for guaranteeing the consistency of the data across request handlers. For example, database transactions. Other constructs that might be available to you depend on your specific stack.</p>\n"}],"last_activity_date":1684247977,"question_id":76263991,"body":"<p>Ive got strange problem. There is a given method that saves user to the database or updates when a given user exists. There is double request (almost simultaneously) with the same user (I cant change that).\nIn a local environment this piece of code works as expected when given user doesn't exists a new User is created and then second request with same data goes without problem (findByIamNumberAndUpdate -&gt; userRepository::save). User is found in database and updated (as expected). However in a production environment the second try with the same user leads to problems  . Application behaves as if the first user wasn`t created and I get <em>duplicate key value violates unique constrain exception</em>. There is attempt to create two users.\nAny help appreciated :)</p>\n<pre><code>@Transactional\npublic Buyer upsertUser(User user) {\n        String userEmail = StringUtils.deleteWhitespace(user.getUsername().toLowerCase());\n        return findByIamNumberAndUpdate(user, userEmail)\n                .or(() -&gt; findByEmailAndUpdate(user, userEmail))\n                .map(userRepository::save)\n                .orElseGet(() -&gt; newUser(user, userEmail));\n    }```\n</code></pre>\n"},{"comments":[{"comment_id":134500151,"body":"Can you please check with an independent tool the private key can indeed be read from <code>privateKey.pem</code> ? If it is GitHub, it might be an <code>EdDsa</code> key, in which case you&#39;d need to customize the algorithm (see <a href=\"https://quarkus.io/guides/security-jwt-build#smallrye-jwt-builder-configuration\" rel=\"nofollow noreferrer\">quarkus.io/guides/&hellip;</a>) or in the code with <code>Jwt.issuer(...).jws().algorithm(...)</code>. Note, <code>issuedAt</code> is not needed unless you&#39;d like to be precise about some time in the past, etc - it will be added automatically. Issuer, expiry. can also be configured (see the page I linked to earlier)"},{"comment_id":134500204,"body":"If you&#39;d like you can generate a test key pair and open a quarkus issue or discussion and I can have a look why the key can not be loaded. Or explain how can I get the same type of private key and I can try it..."},{"comment_id":134500295,"body":"By the way do you have the PEM file starting immediately with <code>-----BEGIN PRIVATE KEY-----</code> or does it have some text starting with <code>Bag Attributes</code> ? If it has <code>Bag Attributes</code> - remove it and it should work - and I&#39;ll fix it on our side to make sure <code>Bag Attributes</code> are not interfering"},{"comment_id":134500986,"body":"@SergeyBeryozkin Hi, thank you for your help. I found out that the issue was that the privateKey.pem downloaded from my GitHub app was in PKCS1 format not PKCS8, meaning the header and footer looked like this <code>BEGIN RSA PRIVATE KEY</code> instead of <code>BEGIN PRIVATE KEY</code> which is why I was getting the error."},{"comment_id":134501020,"body":"However I still have an issue with actually authenticating with my GitHub app. I have successfully verified the JWT signature but I am still getting bad credentials on my api request so I will probably open a quarkus discussion for that. Unfortunately there is limited documentation for working with github apps."},{"comment_id":134501969,"body":"Sure, I opened <a href=\"https://github.com/smallrye/smallrye-jwt/issues/701\" rel=\"nofollow noreferrer\">github.com/smallrye/smallrye-jwt/issues/701</a> (<code>BEGIN RSA PRIVATE KEY</code> should really work), and yeah please open a discussion, looks like you might need to add a few claims into a token, if the signature is sound then the only other cause is that the token is missing some required claims expected by GitHub"},{"comment_id":134503660,"body":"Hi again, no need to open the discussion anymore. The problem I encountered was actually more related to how GitHub authentication works. I was trying to access contents of repos by authenticating as a GitHub app, which is not possible. The only way to access repos and their contents is to authenticate as a GitHub app installation."},{"comment_id":134504997,"body":"Sounds good. Sure. By the way, you may want to try to authenticate users via GitHub to Quarkus with <code>quarkus-oidc</code> and authorization code flow and <code>quarkus.oidc.provider=github</code> and then use Resteasy Reactive client to access Github repositories - Quarkus will take of propagating the code flow access token itself. If it can be of interest then please open a new discussion, cheers"}],"last_activity_date":1684247631,"question_id":76262978,"body":"<p>I am trying to create an endpoint on my Quarkus API to collect data from different github repos in my GitHub Organization. (GitHub Enterprise)</p>\n<p>I want to do so by authenticating to a GitHub app installed in my organization. I am following the guide on <a href=\"https://quarkus.io/guides/security-jwt\" rel=\"nofollow noreferrer\">quarkus.io</a>.</p>\n<p>I have the app's <code>privateKey.pem</code> file stored in the <code>resources</code> folder of my project, where I have also set up the path to the file in <code>application.properties</code> like so:</p>\n<pre><code>smallrye.jwt.sign.key.location=privateKey.pem\n</code></pre>\n<p>The method to generate the JWT looks like this:</p>\n<h2><code>TokenManager.java</code></h2>\n<pre><code>// imports\n\n@RequestScoped\npublic class TokenManager {\n\n  public String getJwt() {\n    return Jwt\n      .issuer(&quot;https://github.com/apps/appname&quot;)\n      .issuedAt(Instant.now())\n      .expiresAt(Instant.now().plusMillis(600000))\n      .sign();\n  }\n}\n</code></pre>\n<p>The resulting string is used in the authorization header param of my api requests.</p>\n<h3>The error</h3>\n<p>Even though my editor doesn't seem to recognize the property <code>smallrye.jwt.sign.key.location</code> it is actually passing but the underlying error that I'm getting is</p>\n<pre><code>ERROR [org.jbo.res.rea.com.cor.AbstractResteasyReactiveContext] (executor-thread-0) Request failed: io.smallrye.jwt.build.JwtSignatureException: SRJWT05009:\nat ....\nat ....\nCaused by: java.lang.IllegalArgumentException: SRJWT05028: Signing key can not be created from the loaded content\n</code></pre>\n<p>I am not sure what is causing this, and if my initial configuration is correct to begin with so any help would be appreciated.</p>\n"},{"answers":[{"answer_id":76253950,"body":"<p>I fixed it by myself.<p>\nThe flaw was the async behavior of Volley. I set it by creating a <strong>new Intent</strong> and recalling the main activity <code>onResponse()</code>.</p>\n"}],"last_activity_date":1684247514,"question_id":76176694,"body":"<p>I have a JSONObjectRequest that wont get called everytime. So there will be no response. I also have another JSONObjectRequest that will always be called. Sometimes i change the code in the MainActivity and it will be called again and then not. The backend works just fine. Currently this is how the method looks like:</p>\n<pre><code>public void getPictureOfAllIngredients( final GetAllResponseListener callback){\n    RequestQueue queue = Volley.newRequestQueue(context);\n    String url =&quot;&quot;;\n\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(url,\n            new Response.Listener&lt;JSONObject&gt;() {\n                @Override\n                public void onResponse(JSONObject response) {\n                    try {\n                        String status = response.getString(&quot;status&quot;);\n                        String message = response.getString(&quot;message&quot;);\n                        if(status.equals(&quot;success&quot;)){\n                            callback.onResponse(response.toString());\n                        }else{\n\n                        }\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(context, error.toString(), Toast.LENGTH_SHORT).show();\n        }\n    });\n    queue.add(jsonObjectRequest);\n}\n</code></pre>\n<p>This is how the method looks that calls it:</p>\n<pre><code>public void initDataIngredients() throws IOException {\n\n    data = (ArrayList&lt;IngredientEntity&gt;) ObjectSerializer.deserialize(sharedPreferences.getString(&quot;ingredients&quot;, null));\n\n    if( data == null  || data.size() == 0\n    ){\n        ingredientService.getPictureOfAllIngredients(new IngredientService.GetAllResponseListener() {\n            @Override\n            public void onError(String Message) {\n                String x = Message;\n            }\n\n            @Override\n            public void onResponse(String Message) {\n                mapper= new RecipeMapper();\n                data = mapper.parseIngredientDatabaseEntityToRegularEntity(Message);\n                try {\n                    editor.putString(&quot;ingredients&quot;, ObjectSerializer.serialize(data)).apply();\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n        data = (ArrayList&lt;IngredientEntity&gt;) ObjectSerializer.deserialize(sharedPreferences.getString(&quot;ingredients&quot;, null));\n    }\n\n}\n</code></pre>\n<p>And this is how the method looks that always gets called:</p>\n<pre><code>public void getAllRecipes( final GetAllResponseListener callback){\n    RequestQueue queue = Volley.newRequestQueue(context);\n    String url =&quot;&quot;;\n\n    JsonObjectRequest jsonObjectRequest = new JsonObjectRequest(url,\n            new Response.Listener&lt;JSONObject&gt;() {\n                @Override\n                public void onResponse(JSONObject response) {\n                    try {\n                        String status = response.getString(&quot;status&quot;);\n                        String message = response.getString(&quot;message&quot;);\n                        if(status.equals(&quot;success&quot;)){\n                            callback.onResponse(response.toString());\n                        }else{\n\n                        }\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }, new Response.ErrorListener() {\n        @Override\n        public void onErrorResponse(VolleyError error) {\n            Toast.makeText(context, error.toString(), Toast.LENGTH_SHORT).show();\n        }\n    });\n    queue.add(jsonObjectRequest);\n}\n</code></pre>\n<p>And this is how the method looks that calls the working request:</p>\n<pre><code>  public void initDataRecipes(){\n\n    ArrayList&lt;RecipeEntity&gt; array = new ArrayList&lt;RecipeEntity&gt;();\n    //if(sharedPreferences.getString(&quot;recipes&quot;,null) == null) {\n        ingredientService.getAllRecipes(new IngredientService.GetAllResponseListener() {\n            @Override\n            public void onError(String Message) {\n\n            }\n\n            @Override\n            public void onResponse(String Message) {\n                mapper= new RecipeMapper();\n                recipes = mapper.parseRecipeDatabaseEntityToRegularEntity(Message);\n\n\n\n\n                try {\n                    editor.putString(&quot;ingredients&quot;, ObjectSerializer.serialize(data)).apply();\n                } catch (IOException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n</code></pre>\n<p>J just cant figure out why one gets called an the other one not. I also looked up in the debugger where it goes and it just jumps the responses both. Any help will be much appreciated.</p>\n<p><em><strong>EDIT</strong></em></p>\n<p>I figured out the service gets only called when the onCreate method is called two times. So when i navigate out of the main page and navigate back into it, the service will be called. Any guesses??</p>\n"},{"comments":[{"comment_id":134465167,"body":"Can you please add some code which you tried?"},{"comment_id":134465385,"body":"I implemented the common code to implement the printservice and printdiscovery code and register them in the manifest. I couldn&#39;t attach it because I don&#39;t know what code is controlling the issue."},{"comment_id":134477103,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"comment_id":134486719,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76259026/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76259026,"body":"<p>I solved it If you add <code>android:permission=&quot;android.permission.START_PRINT_SERVICE_CONFIG_ACTIVITY&quot;</code> and set the exported property as <code>true</code> to the activity registered as addPrintersActivity in the printservice-related xml file in AndroidManifest's service, you can add printing from Android's default print service normally.</p>\n"}],"last_activity_date":1684247476,"question_id":76250649,"body":"<p>img_link : <a href=\"https://imgur.com/a/v53gyfk\" rel=\"nofollow noreferrer\">https://imgur.com/a/v53gyfk</a></p>\n<p>I configure an application that supports PrintService, but it says Unable to add a printer to the application output with a picture. What values ​​do I need to modify to make it appear as Add Printer?</p>\n<p>I can print normally using PrintService and referencing developer.android.com didn't solve my problem.</p>\n"},{"comments":[{"comment_id":29233421,"body":"If your testing framework can inject mocks in private fields, then go private. Otherwise, go package-protected. It doesn&#39;t matter much anyway, unless you fear that junior developers access package-protected fields from another class of the same package."}],"answers":[{"comments":[{"comment_id":29233873,"body":"Thanks Simon. I ended up using <code>ReflectionTestUtils.setField()</code> and making minimal changes to the class. The situation was that I wanted to disable a &quot;live&quot; https call in a class under test. So I put the https call into a one-line <code>protected</code> method, and overrode the method to do nothing when I tested it (thus the problem with <code>private</code> fields came up). Perhaps you can kindly also give me some advice on whether I was taking a valid approach here with disabling the https call?"},{"comment_id":29233978,"body":"That&#39;s hard to comment on without seeing more of the code, but overriding a method so it does nothing in a test does not sound like the best solution to me. It&#39;s probably possible to use a mock object to prevent the call."},{"comment_id":29234003,"body":"Why not putting the responsibility of the HTTPS call to an external, injected component, that can be mocked in tests? You could also use a Spy or partial Mockito mock to &quot;override&quot; this method without the need of creating an explicit subclass."},{"comment_id":29234184,"body":"Yes, good idea @JB. The code actually calls a static method (<code>HttpsUtil.doHttpsCall(...)</code>) - I can definitely see the wisdom of using a component here however I wanted to make minimal changes to the code under test."}],"answer_id":19682558,"body":"<p>The first case also allows you to inject mocks depending on the framework. For example using the <code>@InjectMocks</code> annotation of Mockito. You also have <code>ReflectionTestUtils.setField</code> in Spring test, ...</p>\n\n<p>I'm personally not too fond of modifying classes too much for testing purposes, so I would go for the first case. But at the end of the day this mostly depends on your preferred test framework.</p>\n"},{"comments":[{"comment_id":29233652,"body":"I can see that this is perhaps better for testing, but it&#39;s also more verbose and in the case I am working on I wanted to make minimal code changes to facilitate testing."}],"answer_id":19682586,"body":"<p>I generally prefer having the field private and using setter injection:</p>\n\n<pre><code>public class MyClass {\n\n    private MyService myService;\n\n    @Autowired\n    public void setMyService(MyService myService) {\n        this.myService = myService;\n    }\n}   \n</code></pre>\n\n<p>allowing the service to be @Autowired, but set with a mocked instance for unit testing.</p>\n"},{"comments":[{"comment_id":29234107,"body":"Hi and thanks for the tip about @InjectMocks. Will this also work with spring wiring from xml test application contexts and <code>@Configuration</code> classes? The problem I have is that the mock of <code>MyService</code> (the same mock, not a different one) must also be available in a different class that is autowired by spring."},{"comment_id":29234318,"body":"you are referring to unit testing or integration testing? whenever you are using mock of <code>MyService</code>, you need to do method stubbing on that to behave the way you want it to behave.  So two mocks of <code>MyService</code> with same method stubbing will behave like the same mock being used in two different test classes."},{"comment_id":29234659,"body":"Well it&#39;s unit testing but we are using the &quot;processor&quot; design pattern, so there are a bunch of &quot;processor&quot; classes with one method (you guessed it - <code>process()</code>), and so next to nothing in really will get tested unless all these processors are wired up. Anyway, thank you for your input and I&#39;m sorry that there were 2 good answers here, I chose to accept Simon&#39;s."}],"answer_id":19682621,"body":"<blockquote>\n<p>So both cases work fine, but which is more recommended, particularly with regards to testing?</p>\n</blockquote>\n<p>I think the properties should be <code>private</code>:</p>\n<pre><code>@Autowired\nprivate MyService myService;\n</code></pre>\n<p>As it is always good to have getter methods to provide access to the properties instead of allowing other classes to have direct access to them.</p>\n<p>And for testing purposes, injection of <code>mocks</code> of <code>private properties</code> will work the same way as that of <code>package-private</code> properties.</p>\n<p>For example, with <code>Mockito</code>, you can inject a mock of <code>private MyService</code> into <code>MyClass</code> as this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClassTest {\n    @Mock\n    MyService service;\n    \n    @InjectMocks\n    MyClass serv = new MyClass();\n    \n    @Before\n    public void init() {\n        MockitoAnnotations.initMocks(this);\n    }\n}\n</code></pre>\n"},{"answer_id":48944334,"body":"<p>I would generally NOT use @Autowired for private fields or methods. @Autowired means, somebody from outside will set this field. \"Private\" on the other hand means nobody except this class is allowed to use it.</p>\n\n<p>Mixing @Autowired and private can theoretically cause problems, if the JIT compiler somehow optimizes this code. It can be a Java Memory Model concurrency related problem, which will be production-only and impossible-to-reproduce.</p>\n\n<p>I would make the Autowired fields at least package visible. As free bonus it will allow to write unit tests without tricks and workarounds.</p>\n\n<p><strong>UPDATE:</strong> Additionally I would declare such fields as <code>volatile</code> to avoid Java Memory Model related visibility conflicts. Spring developers do some tricks to make autowired fields work without explicitly synchronizing the access, but I am not sure these tricks are working smoothly in any JVM on any hardware.</p>\n"},{"answer_id":51301193,"body":"<p><br>\nI would rather use private on @Autowired fields, for a few reasons:</p>\n\n<ul>\n<li>I use these fields for dependency injection, generally in service classes, to use other service classes. In that case I want to keep those fields to the current class.</li>\n<li>Also, extending this class can lead to different logic, so maybe another implementation of the @Autowired fields is needed, hence the private instead of package-private.</li>\n<li>Furthermore, when refactoring, it helps to see when such a field is not used anymore, as package-private fields don't show a warning when unused (assuming your IDE is Eclipse - I actually don't know for other IDEs).</li>\n</ul>\n"}],"last_activity_date":1684247439,"question_id":19682293,"body":"<p>Let's say that we use the <code>@Autowired</code> annotation over various fields in a class, and that we didn't write setters or constructors that can also set the fields.</p>\n\n<p>Question - what should the access modifier be, <code>private</code> or <code>package-private</code> (i.e. none) ?</p>\n\n<p>For example: </p>\n\n<pre><code>public class MyClass {\n    @Autowired\n    private MyService myService;\n}\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>public class MyClass {\n    @Autowired\n    MyService myService;\n}\n</code></pre>\n\n<p>In the first case (<code>private</code> fields) Spring uses reflection to wire up the field, even if it doesn't have a setter.</p>\n\n<p>The second case (<code>package-private</code> fields) allows us to be able to access those fields (for example, to set up mocks) if we need to extend the class for testing purposes.</p>\n\n<p>So both cases work fine, but which is more recommended, particularly with regards to testing?</p>\n"},{"comments":[{"comment_id":12291653,"body":"Try and think of places to call the method from"},{"comment_id":12291657,"body":"Not sure if that is the question, but because it is static, you can call it on an instance (<code>myClassInstance.xMethod()</code>) or on the class itself (<code>MyClass.xMethod()</code>)..."},{"comment_id":12291658,"body":"Since this is a beginners homework question, I assume your prof is quite wrong. Because, there is only one correct way of invoking it."},{"comment_id":12291670,"body":"Stack overflow isn&#39;t really here to do your homework...best to try googling and/or reading texts on the matter."},{"comment_id":12291676,"body":"Give the context. This method could be for example invoked with <code>MyClass.xMethod(myarray)</code> or <code>MyClass instance = new MyClass(); instance.xMethod(myarray)</code>."},{"comment_id":12291680,"body":"@RyanAmos considering the question, I doubt this is the answer ;-)"},{"comment_id":12291775,"body":"Forget your confusion and believe only in reality. It&#39;s a wasting of your priceless time."},{"comment_id":12292017,"body":"Please give a feedback what your teacher expected. In the Answers section you see man professionals a little bit lost with your homework. Even Jon Skeet is not answering."},{"comment_id":12292059,"body":"@MichaelKonietzka If Jon Skeet can&#39;t help us, no one can :/"}],"answers":[{"comments":[{"comment_id":12291690,"body":"it is not correct to call it through class&#39;es instance even though it wont break anything."},{"comment_id":12291697,"body":"I think it&#39;s the same when compiled. I&#39;d have to double check that, though. @Amareswar It&#39;s not a syntax error, it&#39;s just bad practice."},{"comment_id":12291737,"body":"@Amareswar: Surpringly it&#39;s actually valid. It&#39;s just a bad practice to actually use it. But it&#39;s worth knowing about it in case you run into other people&#39;s code that uses it, so that you don&#39;t get totally confused by it."},{"comment_id":12317242,"body":"@MarkByers You are right. IDEs have default intentions set to highlight these kind of issues."}],"answer_id":9675684,"body":"<p>You could invoke it either by calling it on a class, or via an instance of that class.</p>\n\n<pre><code>Foo.xMethod(a);\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>Foo foo = new Foo();\nfoo.xMethod(a);\n</code></pre>\n\n<p>The first approach is prefered, but the second one will compile and run. But be aware that it is often considered a design flaw in the language that the second approach is allowed.</p>\n"},{"comments":[{"comment_id":12291790,"body":"It&#39;s not actually incorrect, but it&#39;s a bad idea because it introduces a fake dependency -- it looks like <code>instance</code> is required and means something, but actually it isn&#39;t and doesn&#39;t. See <a href=\"http://stackoverflow.com/questions/7884004/is-calling-static-methods-via-an-object-bad-form-why\" title=\"is calling static methods via an object bad form why\">stackoverflow.com/questions/7884004/&hellip;</a>"}],"answer_id":9675707,"body":"<p>There is only <strong>one valid way</strong> to do this:</p>\n\n<pre><code>YourClass.xMethod(myDoubleArray);\n</code></pre>\n\n<p>But, you can write non-totally-correct Java:</p>\n\n<pre><code>YourClass instance = new YourClass();\ninstance.xMethod(myDoubleArray);\n</code></pre>\n\n<p>This will work, but is considered as wrong. The Java compiler will even complain about it. Because a there is no need of invoking a static method by creating an instance of the class. Static means that the method is instance independent. Invoking it through an instance is pointless and confusing.</p>\n\n<p>Later on, you will see that there is a second correct way of doing it, ie \"reflection\". But that is an advanced topic, so I assume you are not supposed to know this already.</p>\n"},{"comments":[{"comment_id":12291973,"body":"This I think is the most valid answer of the bunch."}],"answer_id":9675729,"body":"<p>For kicks, show your professor this:</p>\n\n<pre><code>XClass.class.getMethod(\"xMethod\", a.getClass()).invoke(null, a);\n</code></pre>\n\n<p>Then tell them the two answers are</p>\n\n<pre><code>XClass.xMethod(a);\n//and\nxObject.xMethod(a); //this is bad practice\n</code></pre>\n"},{"answer_id":9675735,"body":"<p>static methods are not bound to the construction of the class.\nThe method above can be called either by constructing the class or just by using the namespace:</p>\n\n<pre><code>Classname myclass = new Classname();\nmyclass.xMethod(myarray);\n</code></pre>\n\n<p>or you could just do:</p>\n\n<pre><code>Classname.xMethod(myarray);\n</code></pre>\n\n<p>as you see, you don't have to construct the class in order to use the method. On the other hands, the static method can't access non-static members of the class.\nI guess that's what the question meant by 2 different ways...</p>\n"},{"comments":[{"comment_id":12291927,"body":"I&#39;m thinking so too... the other answers seem a bit complicated for what we have learned. Thank you"},{"comment_id":12292012,"body":"the syntax is xMethod(new double[] {1.1, 2.2, 3.3});"},{"comment_id":12292084,"body":"Thanks for that, I can never remember the damn syntax for simple arrays!"},{"comment_id":17080765,"body":"That would actually be one way of invoking that method, since you call it the same way, but with different arguments. I&#39;d suggest to look at the response below. <a href=\"http://stackoverflow.com/a/9675729/1513735\">stackoverflow.com/a/9675729/1513735</a>"},{"comment_id":17116252,"body":"@Heskja I&#39;d be tempted to agree with you, I put this answer in because the OP sounded like they we&#39;re doing a simple Java class, and wouldn&#39;t be near anything like the other answer, we were all hoping the OP would let us know what it was their professor was looking for but doesn&#39;t seem they have."},{"comment_id":17198541,"body":"@dann.dev I just don&#39;t like the fact that OP acepted this answer as it&#39;s not correct, it my opinion. I don&#39;t like it when &quot;bad&quot; advice is given and accepted as the &quot;correct&quot; answer."}],"answer_id":9675782,"body":"<p>If this is for a first time java class, my guess is he is looking for these 2 cases:</p>\n\n<pre><code>//the one you have, using a precreated array\ndouble[] myArray = {1.1, 2.2, 3.3}\nxMethod(myarray);\n\n//and putting it all together\nxMethod(new double[]{1.1, 2.2, 3.3});\n</code></pre>\n\n<p>Basically illustrating you can make an array to pass, or simply create one in the call.</p>\n\n<p>Just a guess though</p>\n"}],"last_activity_date":1684247422,"question_id":9675666,"body":"<p>I know this is simple, but I don't really understand the homework-question:</p>\n<blockquote>\n<p>Assume the signature of the method xMethod is as follows.\nExplain two different ways to invoke xMethod:</p>\n<pre><code>public static void xMethod(double[] a)\n</code></pre>\n</blockquote>\n<p>I thought to invoke a method you just do:</p>\n<blockquote>\n<pre><code>xMethod(myarray);\n</code></pre>\n</blockquote>\n<p>What could it mean by asking two different ways?</p>\n"},{"answers":[{"comments":[{"comment_id":119165914,"body":"when i launch test and debug my code the <code>ClassitemReader.itemReader()</code> is always execute before the tasklet this is normal behavior ?"},{"comment_id":119166209,"body":"alos the  class <code>ClassitemReader.itemReader()</code> contains methode <code>FlatFileItemReader</code>"},{"comment_id":119169124,"body":"I believe that&#39;s the cause of your issue. This seems a static method and will be called at configuration time. Any reason you need to create this <code>ClassitemReader</code> class? I suggest you move the method that creates your <code>FlatFileItemReader</code> next to other bean definition methods and it should work."},{"comment_id":119179573,"body":"yes, you&#39;re right i changed them now it&#39;s working correctly"}],"answer_id":67418547,"body":"<p>You don't need a flow job for that, a simple job is enough. Here is a quick example:</p>\n<pre><code>import java.util.Arrays;\n\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.JobParameters;\nimport org.springframework.batch.core.Step;\nimport org.springframework.batch.core.StepContribution;\nimport org.springframework.batch.core.configuration.annotation.EnableBatchProcessing;\nimport org.springframework.batch.core.configuration.annotation.JobBuilderFactory;\nimport org.springframework.batch.core.configuration.annotation.StepBuilderFactory;\nimport org.springframework.batch.core.launch.JobLauncher;\nimport org.springframework.batch.core.scope.context.ChunkContext;\nimport org.springframework.batch.core.step.tasklet.Tasklet;\nimport org.springframework.batch.item.support.ListItemReader;\nimport org.springframework.batch.repeat.RepeatStatus;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@EnableBatchProcessing\npublic class MyJobConfiguration {\n\n    @Bean\n    public Step validationStep(StepBuilderFactory stepBuilderFactory) {\n        return stepBuilderFactory.get(&quot;validationStep&quot;)\n                .tasklet(new Tasklet() {\n                    @Override\n                    public RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n                        if(!isValid()) {\n                            throw new Exception(&quot;Invalid file&quot;);\n                        }\n                        return RepeatStatus.FINISHED;\n                    }\n\n                    private boolean isValid() {\n                        // TODO implement validation logic\n                        return false;\n                    }\n                })\n                .build();\n    }\n\n    @Bean\n    public Step readAndWriteCsvFile(StepBuilderFactory stepBuilderFactory) {\n        return stepBuilderFactory.get(&quot;readAndWriteCsvFile&quot;)\n                .&lt;Integer, Integer&gt;chunk(2)\n                .reader(new ListItemReader&lt;&gt;(Arrays.asList(1, 2, 3, 4)))\n                .writer(items -&gt; items.forEach(System.out::println))\n                .build();\n    }\n\n    @Bean\n    public Job job(JobBuilderFactory jobBuilderFactory, StepBuilderFactory stepBuilderFactory) {\n        return jobBuilderFactory.get(&quot;job&quot;)\n                .start(validationStep(stepBuilderFactory))\n                .next(readAndWriteCsvFile(stepBuilderFactory))\n                .build();\n    }\n\n    public static void main(String[] args) throws Exception {\n        ApplicationContext context = new AnnotationConfigApplicationContext(MyJobConfiguration.class);\n        JobLauncher jobLauncher = context.getBean(JobLauncher.class);\n        Job job = context.getBean(Job.class);\n        jobLauncher.run(job, new JobParameters());\n    }\n\n}\n</code></pre>\n<p>In this example, if the <code>validationStep</code> fails, the next step is will not be executed.</p>\n"},{"answer_id":67426608,"body":"<p>I solved my problem, i changed the bean <code>FlatFileItemReader</code> method inside the Job class configuration with the annotation <code>@StepScope</code>, now this bean has only loads when I need it also should avoid declaring the FlatFileItemReader bean out of scope of the job</p>\n"},{"answer_id":76264190,"body":"<p>I had a similar problem. I had 2 step with 2 different <code>read</code>. The <code>read</code> always ran first than the <code>process</code>. Then I used <code>@Step</code> annotation in both <code>read</code> and it worked.</p>\n"}],"last_activity_date":1684247122,"question_id":67417875,"body":"<p>I'm working with spring batch and have a job with two steps the first step (tasklet) validation the header CSV and the second step reads an CSV file and Write to another CSV file like this:</p>\n<pre><code>@Bean\npublic ClassifierCompositeItemWriter&lt;POJO&gt; classifierCompositeItemWriter() throws Exception {\n    Classifier&lt;POJO, ItemWriter&lt;? super POJO&gt;&gt; classifier = new ClassiItemWriter(ClassiItemWriter.itemWriter());\n    return new ClassifierCompositeItemWriterBuilder&lt;POJO&gt;()\n            .classifier(classifier)\n            .build();\n}\n\n\n\n@Bean\npublic Step readAndWriteCsvFile() throws Exception {\n    return stepBuilderFactory.get(&quot;readAndWriteCsvFile&quot;)\n            .&lt;POJO, POJO&gt;chunk(10000)\n            .reader(ClassitemReader.itemReader())\n            .processor(processor())\n            .writer(classifierCompositeItemWriter())\n            .build();\n}\n</code></pre>\n<p>I used a FlatFileItemReader (in ClassitemReader) and a FlatFileItemWriter (in ClassiItemWriter), before reading CSV. I checked if the header of CSV file is correct via tasklet like this :</p>\n<pre><code>@Bean\npublic Step fileValidatorStep() {\n    return stepBuilderFactory\n            .get(&quot;fileValidatorStep&quot;)\n            .tasklet(fileValidator)\n            .build();\n}\n</code></pre>\n<p>And if so I process the transformation from CSV file recieved to another file CSV.</p>\n<p>in the <code>jobBuilderFactory</code> i check if ExistStatus comes from tasklet <code>fileValidatorStep</code> is &quot;COMPLETED&quot; to forward the process to <code>readAndWriteCsvFile()</code>, if not &quot;COMPLETED&quot; and tasklet <code>fileValidatorStep</code> return ExistStatus &quot;ERROR&quot; the job end and exit processing.</p>\n<pre><code>@Bean\npublic Job job() throws Exception {\n    return jobBuilderFactory.get(&quot;job&quot;)\n            .incrementer(new RunIdIncrementer())\n            .start(fileValidatorStep()).on(&quot;ERROR&quot;).end()\n            .next(fileValidatorStep()).on(&quot;COMPLETED&quot;).to(readAndWriteCsvFile())\n            .end().build();\n}\n</code></pre>\n<p>The problem is that when I launch my Job the Bean <code>readAndWriteCsvFile</code> runs first of the tasklet, that means the standard Bean of reader and writer of spring batch always loaded in life cycle before i can validation the header and check the ExistStatus, the reader is still working and reades the file and puts data in another file without check because is loading Bean during launch of Job before all tasklet.</p>\n<p>How i can launch <code>readAndWriteCsvFile</code> methode after <code>fileValidatorStep</code> ?</p>\n"},{"comments":[{"comment_id":134381830,"body":"I assume that the <code>PriorityQueue</code> does not account for changing order, and it does not necessarily sort all elements, just the head is guaranteed to be the <i>least</i> element. When adding zero, it is compared to the head and the Comparator returns zero (equals) so no more elements need to be compared"},{"comment_id":134381901,"body":"@user16320675 Yes you maybe correct."},{"comment_id":134386467,"body":"First accumulate freqs. Then sift them through PQ."},{"comment_id":134386634,"body":"It&#39;s completely unclear what you&#39;re trying to do here. If all you want is the top k from an array, you&#39;ve gone about it in a very convoluted way. You&#39;re modifying the values stored in <code>freqMap</code> and using them to do comparisons in your <code>PriorityQueue</code> comparator. That&#39;s not going to work because <code>PriorityQueue</code> expects the relationships among the items in its backing array to be static: it doesn&#39;t automatically re-adjust every time you change the value of something in <code>freqMap</code>."}],"answers":[{"comments":[{"comment_id":134386443,"body":"The problem is this fix renders PQ useless. <code>add</code> now has linear complexity (due to <code>contains</code> call)."},{"comment_id":134386460,"body":"Better to accumulate frequences in <code>freqMap</code> in a separate loop. Then filter them through the PQ of size K."},{"comment_id":134426492,"body":"@StanislavVolodarskiy That&#39;s a fair point but I was just trying to show the simplest change to the code in the question that would make it work. In practice, you are correct that it would be better to calculate all the frequencies first."},{"comment_id":134431209,"body":"@StanislavVolodarskiy I&#39;ve added another example of what I agree is a better approach. Let me know if you see anything wrong with it."},{"comment_id":134488129,"body":"@greybeard That&#39;s a good point. You&#39;re absolutely right. I&#39;ve removed it from that version of the code."}],"answer_id":76203040,"body":"<p>If the priority of an item is going to change on the fly, you need to remove the item from the queue and add it back, so that the <code>PriorityQueue</code> will reflect the change.</p>\n<pre><code>private void add(int num) {\n    freqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\n    priorityQueue.remove(num);\n    priorityQueue.add(num);\n}\n</code></pre>\n<p>A more efficient way to approach it would be to calculate all the statistics for the priorities in advance, and then populate the priority queue. But you are also altering the priorities with each item you remove from the queue, so while this won't in your case, it would work in a similar case where the priorities are static.</p>\n<pre><code>// accumulate the statistics\nvar freqMap = new HashMap&lt;Integer, Integer&gt;();\nfor (int num : nums) freqMap.merge(num, 1, Math::addExact);\n\n// let's not refer to the mutable map on the fly\nrecord PriorityInteger(int value, int priority)\n        implements Comparable&lt;PriorityInteger&gt; {\n    @Override\n    public int compareTo(PriorityInteger that) {\n        if (this.priority != that.priority) {\n            // sort highest priority values first\n            return Integer.compare(that.priority, this.priority);\n        }\n        // for values of equal priority, sort in ascending order\n        return Integer.compare(this.value, that.value);\n    }\n}\n\n// create and populate the priority queue\nvar pq = new PriorityQueue&lt;PriorityInteger&gt;();\nfreqMap.entrySet().stream()\n    .map(e -&gt; new PriorityInteger(e.getKey(), e.getValue()))\n    .forEach(pq::add);\n\n// pull out the values and display them\nwhile (!pq.isEmpty()) System.out.println(pq.poll().value());\n</code></pre>\n<h3>Example</h3>\n<p>For a given set of data</p>\n<pre><code>int[] nums = { 1, 1, 2, 2, 2, 2, 3, 3, 3, 4, 6, 6 }\n</code></pre>\n<p>With four 2s they are they highest priority. Three 3s come next. At two apiece, the 1s and 6s are level pegging. The 4 is the lowest priority, with only a single entry.</p>\n<h3>Output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>2\n3\n1\n6\n4\n</code></pre>\n"}],"last_activity_date":1684247037,"question_id":76202133,"body":"<p>I was trying out the problem <a href=\"https://leetcode.com/problems/top-k-frequent-elements/description/\" rel=\"nofollow noreferrer\">Top K Frequent Elements</a> and I am not asking for how its implemented but what is going wrong in my implementation.</p>\n<p>My implementation idea:</p>\n<ol>\n<li>Declare a <code>HashMap</code> to count the frequency of each number.</li>\n<li>Declare a max heap with a <code>PriorityQueue</code> to keep track of the most frequent K elements.</li>\n<li>Add elements to the <code>HashMap</code>.</li>\n<li>Use a custom <code>Comparator</code> in the <code>PriorityQueue</code> so that it sorts its elements on the basis of the frequency from the <code>HashMap</code>.</li>\n</ol>\n<p>My code is as follows:</p>\n<pre><code>public class TopKFrequentElements {\n    private final HashMap&lt;Integer, Integer&gt; freqMap = new HashMap&lt;&gt;();\n    private final PriorityQueue&lt;Integer&gt; priorityQueue = new PriorityQueue&lt;&gt;(\n            (a, b) -&gt; {\n\n                System.out.printf(&quot;a = %d b = %d, Freq(%d) = %d Freq(%d) = %d, Freq(%d).compareTo(Freq(%d)) = %d\\n&quot;, a, b,\n                        a, freqMap.get(a), b, freqMap.get(b), b, a, freqMap.get(b).compareTo(freqMap.get(a)));\n\n                return freqMap.get(b).compareTo(freqMap.get(a));\n\n            }\n    );\n\n    private void add(int num) {\n        freqMap.put(num, freqMap.getOrDefault(num, 0) + 1);\n        System.out.println(&quot;num = &quot; + num);\n        priorityQueue.add(num);\n        System.out.println(&quot;--------------&quot;);\n    }\n\n    private int[] getK(int k) {\n        int[] res = new int[k];\n\n        int ct = 0;\n\n        while (ct &lt; k) {\n            res[ct] = priorityQueue.peek();\n            freqMap.put(res[ct], freqMap.get(res[ct]) - 1);\n            priorityQueue.poll();\n\n            while (!priorityQueue.isEmpty() &amp;&amp;\n                    priorityQueue.peek()==res[ct]) {\n                freqMap.put(res[ct], freqMap.get(res[ct]) - 1);\n                priorityQueue.poll();\n            }\n\n            ct++;\n        }\n        return res;\n    }\n\n    public int[] topKFrequent(int[] nums, int k) {\n\n        for (int num : nums) {\n            add(num);\n        }\n        return getK(k);\n    }\n\n    public static void main(String[] args) {\n        TopKFrequentElements elements = new TopKFrequentElements();\n\n        System.out.println(Arrays.toString(\n                elements.topKFrequent(new int[]{3,0,1,0}, 1))\n        );\n    }\n}\n</code></pre>\n<p>The code works as expected for all test cases expect this really interesting one:</p>\n<ul>\n<li><code>{3,0,1,0} k = 1</code></li>\n</ul>\n<p>Here the output is <code>[3]</code> where it should be <code>[0]</code>.</p>\n<p>I don't understand why this is happening, when the last <code>0</code> is added, then the <code>Comparator</code> of the <code>PriorityQueue</code> should preserve the invariant. But it does not.</p>\n<p>Digging deeper I printed out when the Comparator is called and <strong>I see that it is not comparing with all the elements.</strong> Which I am unable to understand why.</p>\n<pre><code>num = 3\n--------------\nnum = 0\na = 0 b = 3, Freq(0) = 1 Freq(3) = 1, Freq(3).compareTo(Freq(0)) = 0\n--------------\nnum = 1\na = 1 b = 3, Freq(1) = 1 Freq(3) = 1, Freq(3).compareTo(Freq(1)) = 0\n--------------\nnum = 0\na = 0 b = 0, Freq(0) = 2 Freq(0) = 2, Freq(0).compareTo(Freq(0)) = 0\n</code></pre>\n<p>As you can see the last addition for <code>0</code> is just calling the <code>Comparator</code> once when it should check with other values according to my intuition.</p>\n<p><strong>Where are the calls for <code>3</code> and <code>1</code> ?</strong></p>\n<p>What am I doing wrong? <strong>I also cannot replicate this problem for any other example.</strong></p>\n<p>What have I missed about the <code>PriorityQueue</code> implementation?</p>\n"},{"comments":[{"comment_id":133998979,"body":"Is your RedisProperties from <a href=\"https://github.com/spring-projects/spring-boot/blob/v2.7.10/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/data/redis/RedisProperties.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/v2.7.10/&hellip;</a>, I can&#39;t compile with your <code>RedisConfiguration</code>."},{"comment_id":134155307,"body":"@samabcde i added RedisProperties code file. let me know what else you need. As mentioned build is failing during junits."},{"comment_id":134155452,"body":"@samabcde added junits as well for reference"},{"comment_id":134165561,"body":"Appreciate you add so many details, but did you even try to compile with what you are providing(what is <code>EventStreamRepository</code>)? Try take a look <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>. Base on what given, I can only suggest you to remove <code>exclude group: &#39;org.apache.commons&#39;, module: &#39;commons-pool2&#39;</code> and <code>implementation &#39;org.apache.commons:commons-pool2:2.4.2&#39;</code>(or change to 2.11.1 as required by jedis 3.8.0."},{"comment_id":134182478,"body":"@samabcde tried all these options after inspecting dependancy tree generated for the project. We cannot go for 2.11.1 and we want to stick to 2.7.10. if you can reach out to me @ 9177831720. I will be happy to talk with you for more productive discussion and show this to you a complete picture"}],"last_activity_date":1684247003,"question_id":75945817,"body":"<p>I am getting the error below when running <code>gradle clean build</code> during JUnit execution.</p>\n<ul>\n<li>Spring-boot version: 2.7.10  (we want to use this version specifically to avoid vulnerabilities)</li>\n<li>Java: 11</li>\n<li>Gradle: 7.1.1 (using gradle wrapper)</li>\n</ul>\n<p>Any help will be much appreciated as this is very critical for our project.\nNotably this issue happens during bean initialization of jedisConnectionFactory inside RedisConfiguration looking at stack trace. This is failing only during JUnit specific to spring-boot 2.7.10 at the build time</p>\n<p>After going through stack trace, can something be fixed  given in below link as an example?</p>\n<p><a href=\"https://stackoverflow.com/questions/67103066/error-creating-bean-while-using-autowired\">Error creating bean while using Autowired</a></p>\n<pre><code>2023-04-06T09:18:15.168+0530  org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jedisConnectionFactory' defined in class path resource [com/redis/connection/RedisConfiguration.class]: Initialization of bean failed; nested exception is java.lang.reflect.MalformedParameterizedTypeException\n2023-04-06T09:18:15.168+0530      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\n2023-04-06T09:18:15.168+0530      at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n2023-04-06T09:18:15.168+0530      at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n2023-04-06T09:18:15.168+0530      at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n2023-04-06T09:18:15.168+0530      at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n2023-04-06T09:18:15.168+0530      at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n2023-04-06T09:18:15.168+0530      at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362)\n2023-04-06T09:18:15.168+0530      at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334)\n\n Caused by:\n2023-04-06T09:18:15.168+0530      java.lang.reflect.MalformedParameterizedTypeException\n2023-04-06T09:18:15.168+0530          at java.base/sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.validateConstructorArguments(ParameterizedTypeImpl.java:59)\n2023-04-06T09:18:15.168+0530          at java.base/sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.&lt;init&gt;(ParameterizedTypeImpl.java:52)\n2023-04-06T09:18:15.169+0530          at java.base/sun.reflect.generics.reflectiveObjects.ParameterizedTypeImpl.make(ParameterizedTypeImpl.java:93)\n2023-04-06T09:18:15.169+0530          at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeParameterizedType(CoreReflectionFactory.java:105)\n2023-04-06T09:18:15.169+0530          at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:140)\n2023-04-06T09:18:15.169+0530          at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\n2023-04-06T09:18:15.169+0530          at java.base/sun.reflect.generics.repository.MethodRepository.computeReturnType(MethodRepository.java:75)\n2023-04-06T09:18:15.169+0530          at java.base/sun.reflect.generics.repository.MethodRepository.getReturnType(MethodRepository.java:66)\n2023-04-06T09:18:15.169+0530          at java.base/java.lang.reflect.Method.getGenericReturnType(Method.java:292)\n2023-04-06T09:18:15.169+0530          at java.desktop/com.sun.beans.introspect.PropertyInfo.get(PropertyInfo.java:285)\n2023-04-06T09:18:15.169+0530          at java.desktop/com.sun.beans.introspect.ClassInfo.getProperties(ClassInfo.java:82)\n2023-04-06T09:18:15.169+0530          at java.desktop/java.beans.Introspector.getTargetPropertyInfo(Introspector.java:515)\n2023-04-06T09:18:15.169+0530          at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:463)\n2023-04-06T09:18:15.169+0530          at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:294)\n2023-04-06T09:18:15.169+0530          at java.desktop/java.beans.Introspector.getBeanInfo(Introspector.java:236)\n2023-04-06T09:18:15.169+0530          at org.springframework.beans.CachedIntrospectionResults.getBeanInfo(CachedIntrospectionResults.java:252)\n2023-04-06T09:18:15.169+0530          at org.springframework.beans.CachedIntrospectionResults.&lt;init&gt;(CachedIntrospectionResults.java:277)\n2023-04-06T09:18:15.169+0530          at org.springframework.beans.CachedIntrospectionResults.forClass(CachedIntrospectionResults.java:181)\n2023-04-06T09:18:15.169+0530          at org.springframework.beans.BeanWrapperImpl.getCachedIntrospectionResults(BeanWrapperImpl.java:174)\n2023-04-06T09:18:15.169+0530          at org.springframework.beans.BeanWrapperImpl.getPropertyDescriptors(BeanWrapperImpl.java:248)\n2023-04-06T09:18:15.169+0530          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.filterPropertyDescriptorsForDependencyCheck(AbstractAutowireCapableBeanFactory.java:1594)\n2023-04-06T09:18:15.169+0530          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.filterPropertyDescriptorsForDependencyCheck(AbstractAutowireCapableBeanFactory.java:1574)\n2023-04-06T09:18:15.169+0530          at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1434)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.resolveBeanReference(ConfigurationClassEnhancer.java:362) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:334) ~[spring-context-5.3.26.jar:5.3.26]\n    at com.myproject.redis.connection.RedisConfiguration$$EnhancerBySpringCGLIB$$2544120a.jedisConnectionFactory(&lt;generated&gt;) ~[main/:?]\n    at com.myproject.redis.connection.RedisConfiguration.redisTemplate(RedisConfiguration.java:63) ~[main/:?]\n    at com.myproject.redis.connection.RedisConfiguration$$EnhancerBySpringCGLIB$$2544120a.CGLIB$redisTemplate$0(&lt;generated&gt;) ~[main/:?]\n    at com.myproject.redis.connection.RedisConfiguration$$EnhancerBySpringCGLIB$$2544120a$$FastClassBySpringCGLIB$$e85ae083.invoke(&lt;generated&gt;) ~[main/:?]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.26.jar:5.3.26]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.26.jar:5.3.26]\n    at com.myproject.redis.connection.RedisConfiguration$$EnhancerBySpringCGLIB$$2544120a.redisTemplate(&lt;generated&gt;) ~[main/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeanByName(AbstractAutowireCapableBeanFactory.java:479) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.autowireResource(CommonAnnotationBeanPostProcessor.java:550) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.getResource(CommonAnnotationBeanPostProcessor.java:520) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor$ResourceElement.getResourceToInject(CommonAnnotationBeanPostProcessor.java:673) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.annotation.InjectionMetadata$InjectedElement.inject(InjectionMetadata.java:228) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.context.annotation.CommonAnnotationBeanPostProcessor.postProcessProperties(CommonAnnotationBeanPostProcessor.java:329) ~[spring-context-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.26.jar:5.3.26]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657) ~[spring-beans-5.3.26.jar:5.3.26]\n</code></pre>\n<p><strong>RedisConfiguration:</strong></p>\n<pre><code>\npackage com.redis.connection;\n\n\nimport javax.annotation.Resource;\n\nimport com.secretsmanagement.api.CredentialProvider;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.RedisConnectionFailureException;\nimport org.springframework.data.redis.connection.RedisStandaloneConfiguration;\nimport org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\nimport org.springframework.data.redis.core.RedisTemplate;\nimport org.springframework.data.redis.repository.configuration.EnableRedisRepositories;\nimport org.springframework.data.redis.serializer.GenericToStringSerializer;\n</code></pre>\n<p><strong>RedisConfiguration</strong></p>\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class RedisConfiguration {\n\n    private final String redisHost;\n    private final int redisPort;\n    private final String connectionPoolMaxTotal;\n    private final String connectionPoolIdleTotal;\n\n    @Resource(name = &quot;eventStreamRedisCredentialProvider&quot;)\n    private CredentialProvider credentialProvider;\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(RedisConfiguration.class);\n\n    public RedisConfiguration(RedisProperties redisProperties){\n        redisHost = redisProperties.getRedisHost();\n        redisPort = redisProperties.getRedisPort();\n        connectionPoolMaxTotal = redisProperties.getConnectionPoolMaxTotal();\n        connectionPoolIdleTotal = redisProperties.getConnectionPoolIdleTotal();\n    }\n\n    @Bean\n    JedisConnectionFactory jedisConnectionFactory() throws RedisConnectionFailureException{\n        JedisConnectionFactory jedisConnectionFactory = null;\n        try {\n            RedisStandaloneConfiguration redisStandaloneConfiguration = new RedisStandaloneConfiguration();\n            redisStandaloneConfiguration.setPassword(credentialProvider.getCredential().getPassword());\n            redisStandaloneConfiguration.setDatabase(0);\n            redisStandaloneConfiguration.setHostName(redisHost);\n            redisStandaloneConfiguration.setPort(redisPort);\n            jedisConnectionFactory = new JedisConnectionFactory(redisStandaloneConfiguration);\n            jedisConnectionFactory.getPoolConfig().setMaxTotal(Integer.parseInt(connectionPoolMaxTotal));\n            jedisConnectionFactory.getPoolConfig().setMaxIdle(Integer.parseInt(connectionPoolIdleTotal));\n        } catch (RedisConnectionFailureException e) {\n            LOGGER.error(&quot;Unable to establish connection with redis&quot;);\n            throw new RedisConnectionFailureException(&quot;Unable to establish connection with redis&quot;);\n        }\n        return jedisConnectionFactory;\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(name = &quot;redisTemplate&quot;)\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        final RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;();\n        template.setConnectionFactory(jedisConnectionFactory());\n        template.setValueSerializer(new GenericToStringSerializer&lt;Object&gt;(Object.class));\n        template.setEnableTransactionSupport(true);\n        return template;\n    }\n}\n</code></pre>\n<pre><code>**RedisProperties.java:**\n\nmport lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@Getter\n@Setter\npublic class RedisProperties {\n\n    private int redisPort;\n    private String redisHost;\n    private String connectionPoolMaxTotal;\n    private String connectionPoolIdleTotal;\n\n    public RedisProperties(\n            @Value(&quot;${spring.redis.port}&quot;) int redisPort,\n            @Value(&quot;${spring.redis.host}&quot;) String redisHost,\n            @Value(&quot;${redis.connection.pool.max.total}&quot;) String connectionPoolMaxTotal,\n            @Value(&quot;${redis.connection.pool.idle.total}&quot;) String connectionPoolIdleTotal) {\n        this.redisPort = redisPort;\n        this.redisHost = redisHost;\n        this.connectionPoolMaxTotal = connectionPoolMaxTotal;\n        this.connectionPoolIdleTotal = connectionPoolIdleTotal;\n    }\n}\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.10'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\napply from: &quot;${rootDir}/build-support/packaging.gradle&quot;\ngroup = 'com.project'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    all {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n    }\n}\n\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-redis'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.apache.httpcomponents:httpclient'\n    implementation 'commons-io:commons-io:2.4'\n    implementation 'org.bouncycastle:bcpkix-jdk15to18:1.69'\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    implementation ('redis.clients:jedis'){\n        exclude group: 'org.apache.commons', module: 'commons-pool2'\n    }\n\n    testImplementation ('org.springframework.boot:spring-boot-starter-test'){\n        exclude group: 'org.junit.jupiter', module: 'junit-jupiter'\n    }\n    testImplementation 'org.junit.jupiter:junit-jupiter-api'\n    testImplementation 'it.ozimov:embedded-redis:0.7.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'\n\n    implementation ('org.junit.vintage:junit-vintage-engine'){\n        exclude group: 'org.hamcrest', module: 'hamcrest-core'\n    }\n\n    implementation 'org.apache.commons:commons-pool2:2.4.2'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'com.project:secrets-management-vault-spring:1.5.93'\n    implementation 'com.project:secrets-management-simple:1.5.93'\n    implementation 'com.project:secrets-management-tls-common:1.5.93'\n    implementation group: 'joda-time', name: 'joda-time', version: '2.3'\n    implementation 'net.wedjaa.ansible.vault:vault-utilities:1.2.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>app.version=1.0\n\nserver.port=8080\nspring.redis.host=localhost\nspring.redis.port=6379\n\nredis.connection.pool.max.total=50\nredis.connection.pool.idle.total=50\n\n#Actuator endpoints configuration\nmanagement.endpoints.web.base-path=/\nmanagement.endpoint.info.enabled=true\nmanagement.endpoint.health.enabled=true\nmanagement.endpoints.web.path-mapping.health=status\nmanagement.endpoints.web.exposure.include=health,info\nmanagement.endpoint.health.show-details=always\n\n\nlogging.level.root=DEBUG\nlogging.pattern.console=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %X{X-CorrelationId} %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\nlogging.pattern.file=%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %X{X-CorrelationId} %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\nserver.tomcat.basedir=/var/tmp/tomcat\n\nspring.main.allow-circular-references=true\n\nspring.main.allow-bean-definition-overriding=true\nspring.main.lazy-initialization=true\n</code></pre>\n<p>I made few changes as adding below config during this activity to avoid few errors but they seem not to be relevant for the current issue:</p>\n<p>application.properties:</p>\n<pre><code>spring.main.allow-circular-references=true\n\nspring.main.allow-bean-definition-overriding=true\nspring.main.lazy-initialization=true\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>dependency ('redis.clients:jedis') (removed version 3.1.0 which was mentioned earlier)\norg.junit.vintage:junit-vintage-engine  (added for backward compatibility)\n</code></pre>\n<p>Spring 2.3.2.RELEASE working fine without any issue with Java 11 but not working for 2.7.10.</p>\n<p>Used below url for some reference :\n<a href=\"https://blog.codecentric.de/migrating-spring-boot-java-17\" rel=\"nofollow noreferrer\">https://blog.codecentric.de/migrating-spring-boot-java-17</a></p>\n<p>Below are the junit classes in my project :</p>\n<p><strong>EventsApplicationTests.java :</strong></p>\n<pre><code>@SpringBootTest\n@ExtendWith(SpringExtension.class)\n@ActiveProfiles(&quot;test&quot;)\nclass EventsApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n}\n</code></pre>\n<p><strong>EventsDataSourceProvider.java :</strong></p>\n<pre><code>@Resource\npublic class EventsDataSourceProvider {\n\n    public List&lt;String&gt; getAuthenticationTypeEvents(){\n        return this.getEventsFromFile(&quot;events_auth.txt&quot;);\n    }\n\n    public List&lt;String&gt; getAuthenticationTypeInvalidEvents(){ return this.getEventsFromFile(&quot;events_auth_invalid.txt&quot;); }\n\n    public List&lt;String&gt; getAllTypesEvents(){\n        return this.getEventsFromFile(&quot;events.txt&quot;);\n    }\n\n    public List&lt;String&gt; getDocumentsTypesEvents(){\n        return this.getEventsFromFile(&quot;events_documents.txt&quot;);\n    }\n\n    public List&lt;String&gt; getCorrespondenceTypesEvents(){\n        return this.getEventsFromFile(&quot;events_correspondence.txt&quot;);\n    }\n\n    public List&lt;String&gt; getProjectsTypesEvents(){\n        return this.getEventsFromFile(&quot;events_projects.txt&quot;);\n    }\n\n    private List&lt;String&gt; getEventsFromFile(String inputFile){\n        ClassLoader classLoader = getClass().getClassLoader();\n        File file = new File(classLoader.getResource(inputFile).getFile());\n\n        List&lt;String&gt; events = new ArrayList&lt;&gt;();\n        try (BufferedReader eventBufferedReader = Files.newBufferedReader(Paths.get(file.toURI()))) {\n            events = eventBufferedReader.lines().collect(Collectors.toList());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return events;\n    }\n\n}\n</code></pre>\n<p><strong>RedisConfigTest.java :</strong></p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n@SpringBootTest(classes = TestRedisConfiguration.class)\npublic class RedisConfigTest {\n\n    @Autowired\n    private EventStreamRepository eventStreamRepository;\n\n    @Test\n    private void testRedisConfiguration(){\n        // TODO\n    }\n}\n</code></pre>\n<p><strong>EventStreamRepositoryTest.java :</strong></p>\n<pre><code>@SpringBootTest(classes = TestRedisConfiguration.class)\n@ActiveProfiles(&quot;test&quot;)\npublic class EventStreamRepositoryTest {\n\n    @Autowired\n    private EventStreamRepository eventStreamRepository;\n    @Resource\n    private RedisConfiguration redisConfiguration;\n    @Resource\n    private EventsDataSourceProvider eventsDataSourceProvider;\n    @Resource\n    private EventsConversionUtil eventsConversionUtil;\n\n    private String organizationId = &quot;1879048492&quot;;\n\n    @BeforeEach\n    private void cleanUp() {\n        redisConfiguration.redisTemplate().getConnectionFactory().getConnection().flushDb();\n    }\n\n    @Test\n    public void saveEvents() {\n        List&lt;String&gt; events = eventsDataSourceProvider.getAllTypesEvents();\n        List&lt;String&gt; savedEvents = new ArrayList&lt;&gt;();\n        events.stream().forEach(event -&gt; {\n            EventDto eventDto = eventsConversionUtil.convertJsonStringToObject(event);\n            savedEvents.add(eventStreamRepository.saveEvent(eventsConversionUtil.getEventIdIndexFromJson(event), organizationId,\n                    eventsConversionUtil.convertDateToSeconds(eventDto.getTimestamp()), event, eventDto.getTimestamp()));\n        });\n        Assertions.assertEquals(savedEvents.size(), events.size());\n    }\n\n    @Test\n    public void getAllEventsForOrg() {\n        cleanUp();\n        List&lt;String&gt; events = eventsDataSourceProvider.getAllTypesEvents();\n        List&lt;String&gt; savedEvents = new ArrayList&lt;&gt;();\n        events.stream().forEach(event -&gt; {\n            EventDto eventDto = eventsConversionUtil.convertJsonStringToObject(event);\n            savedEvents.add(eventStreamRepository.saveEvent(eventsConversionUtil.getEventIdIndexFromJson(event), organizationId,\n                    eventsConversionUtil.convertDateToSeconds(eventDto.getTimestamp()), event, eventDto.getTimestamp()));\n        });\n\n        List&lt;String&gt; eventsJson = eventStreamRepository.getAllEvents(organizationId);\n        Assertions.assertEquals(eventsJson.size(), savedEvents.size());\n    }\n}\n</code></pre>\n<p><strong>TestRedisConfiguration.java :</strong></p>\n<pre><code>@TestConfiguration\npublic class TestRedisConfiguration {\n\n    private final RedisServer redisServer;\n\n    public TestRedisConfiguration(RedisProperties redisProperties) {\n        this.redisServer = new RedisServer(redisProperties.getRedisPort());\n    }\n\n    @Bean\n    EventsDataSourceProvider getEventsDataSourceProvider(){\n        return new EventsDataSourceProvider();\n    }\n\n    @PostConstruct\n    public void postConstruct() {\n        redisServer.start();\n    }\n\n    @PreDestroy\n    public void preDestroy() {\n        redisServer.stop();\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134493513,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/43350397/spring-data-jpa-inheritance-in-repositories\">Spring Data JPA inheritance in repositories</a>"}],"answers":[{"answer_id":76264157,"body":"<p>If I grasp it right, then that's a problem of the types defined for your repository - if you want to persist different types (even if they are derived from a mutual super type), you have to create different repositories for different types. While deserializing, the JPA implementation uses reflective processes on the repository for type conversion - type conversion that's not capable of recognizing sub types.</p>\n<p>See <a href=\"https://stackoverflow.com/a/43351269/14384364\">this answer</a> for further information on a similar problem.</p>\n"}],"last_activity_date":1684246904,"question_id":76263751,"body":"<p>I am trying to work with JPA inheritance in a tree structure in Java.</p>\n<p>I have a concrete entity (<code>Product</code>) that has two concrete children (<code>ProductA</code>, <code>ProductB</code>)</p>\n<p>Product has a <code>Set&lt;Products&gt;</code> (parents) , meant to contain any combination of <code>ProductA</code> and <code>ProductB</code></p>\n<p>Product has a <code>Set&lt;Products&gt;</code> (children), meant to contain any combination of <code>ProductA</code> and <code>ProductB</code></p>\n<p><code>ProductA</code> and <code>ProductB</code> have the inherited children/parents, and some other properties.</p>\n<pre><code>@Entity\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name=&quot;product_type&quot;, discriminatorType = DiscriminatorType.STRING)\n@Table(name = &quot;PRODUCT&quot;)\nclass Product //CANNOT be an interface, abstract, or static\n{\n    @Id\n    UUID id;\n\n    @Column(name = &quot;product_type&quot;, insertable = false, updatable = false)\n    String productType;\n\n    @ManyToMany\n    @JsonManagedReference(&quot;product_children&quot;)\n    Set&lt;Product&gt; children;\n\n    @ManyToMany\n    @JsonBackReference(&quot;product_children&quot;)\n    Set&lt;Product&gt; parents;\n}\n\n@Entity\nclass ProductA extends Product\n{\n    String prodAProperty;\n}\n\n@Entity\nclass ProductB extends Product\n{\n    String prodBProperty;\n}\n\n</code></pre>\n<p>This is all working fine in-code, and things are moving along well. They serialize, deserialize, and go into the DB without an issue, pivot tables are created, everything is saved correctly.</p>\n<p>The trouble comes in when taking them back out.\nLet's say, we have the following:</p>\n<pre><code>rootProduct (ProductA)\n    parents: null\n    prodAProp: I am product A\n    children: \n        child01 (ProductA)\n            prodAProp: I am product A\n            parents:\n                rootProduct\n            children: \n                child 03 (ProductB)\n                    prodBProp: I am product B\n                    parents:\n                        child01 (ProductA)\n                    children: null\n        child02 (ProductB)\n            childBProp: I am productB\n            parents:\n                rootProduct\n            children: null\n</code></pre>\n<p>When using the following:</p>\n<pre><code>@Repository\npublic interface ProductRepository\n        extends JpaRepository&lt;Product, UUID&gt; {\n\n}\n</code></pre>\n<p>And running the following:</p>\n<pre><code>ProductRepository repo;\nProduct theProduct = repo.findById(&quot;UUID goes here&quot;);\n</code></pre>\n<p>What I end up with:</p>\n<pre><code>rootProduct (ProductA)\n    parents: null\n    prodAProp: I am product A\n    children: \n        child01 (ProductA)\n            prodAProp: I am product A\n            parents:\n                rootProduct\n            children: \n                child 03 (Product)\n                    parents:\n                        child01 (ProductA)\n                    children: null\n        child02 (ProductB)\n            childBProp: I am productB\n            parents:\n                rootProduct\n            children: null\n</code></pre>\n<p>The difference is subtle, but the child-of-child (or any deeper down the tree) is not being cast into the sub-class, instead it is being set as base class. It also cannot be down-cast:\n<code>(ProductB) child03</code> gives the error: <code>Cannot convert Product into ProductB</code></p>\n<p>I have tried various inheritance strategies, such as:</p>\n<pre><code>@MappedSuperclass\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@Inheritance(strategy = InheritanceType.JOINED)\n</code></pre>\n<p>with various discriminator types</p>\n<p>Thank you for your time in advance!</p>\n"},{"comments":[{"comment_id":132478504,"body":"<a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">baeldung.com/jackson-deserialization</a> this should have some techniques that will help."},{"comment_id":132479696,"body":"Why not use <code>private Integer houseNumber;</code>, If &quot;NO NUMBER&quot;, do not set any value to houseNumber;"}],"answers":[{"answer_id":75072147,"body":"<p>You could try with a custom deserializer on the field:</p>\n<pre><code> @JsonDeserialize(using = HouseNoDeserializer.class)\n private int houseNumber;\n</code></pre>\n<p>The deserializer could look like this:</p>\n<pre><code> class HouseNoDeserializer extends JsonDeserializer&lt;Integer&gt; {\n    @Override\n    public Integer deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        //read the value as a string since you don't know whether it is a number or a string\n        String v = p.readValueAs(String.class);\n        try {\n            //try to parse the string to an integer, if not return 0 as required (it is a non-numeric string)\n            return Integer.parseInt(v);\n        } catch(NumberFormatException nfe) {\n            return 0;\n        }\n    }\n}\n</code></pre>\n<p>However, I'd change <code>houseNumber</code> to take <code>String</code> anyways because right now you can't support numbers such as &quot;1/c&quot;, &quot;123a&quot;, etc. which are common at least in some countries.</p>\n<p>You could then do without a custom deserializer and simply add some logic to the setter or apply it after parsing the json, i.e. replace &quot;NO NUMBER&quot; with another value as needed.</p>\n"},{"answer_id":75074156,"body":"<p>The simplest solution is to add setter method which takes <code>String</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Address {\n\n    private String street;\n    private int houseNumber;\n    private String district;\n    private String city;\n    private String state;\n    private String zipCode;\n\n    public void setHouseNumber(String value) {\n        this.houseNumber = 0;\n    }\n}\n</code></pre>\n<p>Other option, you can provide custom <code>com.fasterxml.jackson.databind.deser.DeserializationProblemHandler</code> and handle all these kind of business values generally for all <code>POJO</code> classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.deser.DeserializationProblemHandler;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport java.io.IOException;\n\npublic class HandleErrorsApp {\n    private final static JsonMapper JSON_MAPPER = JsonMapper.builder()\n            .enable(SerializationFeature.INDENT_OUTPUT)\n            .addModule(new JavaTimeModule())\n            .addHandler(new ProjectDeserializationProblemHandler())\n            .build();\n\n    public static void main(String[] args) throws Exception {\n        var json = &quot;{\\&quot;houseNumber\\&quot;:\\&quot;NO_ADDRESS\\&quot;}&quot;;\n        var address = JSON_MAPPER.readValue(json, Address.class);\n        System.out.println(address);\n    }\n}\n\nclass ProjectDeserializationProblemHandler extends DeserializationProblemHandler {\n    @Override\n    public Object handleWeirdStringValue(DeserializationContext ctxt, Class&lt;?&gt; targetType, String valueToConvert, String failureMsg) throws IOException {\n        if (targetType == int.class &amp;&amp; valueToConvert.equals(&quot;NO_ADDRESS&quot;)) {\n            return 0;\n        }\n        return super.handleWeirdStringValue(ctxt, targetType, valueToConvert, failureMsg);\n    }\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\nclass Address {\n\n    private int houseNumber;\n}\n</code></pre>\n<p>Or you can provide custom <code>com.fasterxml.jackson.databind.util.StdConverter</code> implementation which has a little bit simpler interface than <code>JsonDeserializer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.databind.SerializationFeature;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.databind.util.StdConverter;\nimport com.fasterxml.jackson.datatype.jsr310.JavaTimeModule;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.apache.commons.lang3.math.NumberUtils;\n\npublic class HandleErrorsApp {\n    private final static JsonMapper JSON_MAPPER = JsonMapper.builder()\n            .enable(SerializationFeature.INDENT_OUTPUT)\n            .addModule(new JavaTimeModule())\n            .build();\n\n    public static void main(String[] args) throws Exception {\n        var json = &quot;{\\&quot;houseNumber\\&quot;:\\&quot;NO_ADDRESS\\&quot;}&quot;;\n        var address = JSON_MAPPER.readValue(json, Address.class);\n        System.out.println(address);\n    }\n}\n\nclass StringIntConverter extends StdConverter&lt;String, Integer&gt; {\n\n    @Override\n    public Integer convert(String value) {\n        return NumberUtils.toInt(value, 0);\n    }\n}\n\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\nclass Address {\n\n    @JsonDeserialize(converter = StringIntConverter.class)\n    private int houseNumber;\n}\n</code></pre>\n<p>In both cases program prints:</p>\n<pre><code>Address(houseNumber=0)\n</code></pre>\n"}],"last_activity_date":1684246724,"question_id":75071714,"body":"<p>I'm fetching addresses from an external API. This is the class representing the addresses:</p>\n<pre><code>@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class Address implements Serializable {\n    private static final long serialVersionUID = -7134571546367230214L;\n\n    private String street;\n    private int houseNumber;\n    private String district;\n    private String city;\n    private String state;\n    private String zipCode;\n}\n</code></pre>\n<p>However, when the given address doesn't have a houseNumber, the API will return a string such as <code>&quot;NO NUMBER&quot;</code> on the <code>houseNumber</code> field, causing Jackson to throw a deserialization error, since it was expecting an integer number and got a string.</p>\n<p>How can I tell Jackson to convert <code>houseNumber</code> to <code>0</code> when it finds a string value?</p>\n"},{"answers":[{"answer_id":46025313,"body":"<p>You can set any size cursor you want using the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648395.aspx\" rel=\"noreferrer\"><code>SetSystemCursor</code> API</a>. You are not limited to the <code>SM_CXCURSOR</code>/<code>SM_CYCURSOR</code> metrics (cf. <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms724385.aspx\" rel=\"noreferrer\"><code>GetSystemMetrics</code> function</a>)&mdash;those just tell you the system's <em>default</em> cursor size, which is typically 32&times;32 (or 48&times;48 on high-DPI systems). I know for a fact that this works as far back as Windows XP; I'm pretty sure it works further back than that.</p>\n\n<p>The key lies in how you load the cursor resource. As you probably already know, you need an <code>HCURSOR</code> object to pass to <code>SetSystemCursor</code>. This is a handle-to-cursor, in Windows API speak. The obvious way to load a cursor is by calling the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648391.aspx\" rel=\"noreferrer\"><code>LoadCursor</code> API function</a>, but that is a <em>very</em> old function, introduced with 16-bit Windows and it <em>is</em> limited to loading cursors of size <code>SM_CXCURSOR</code>&times;<code>SM_CYCURSOR</code>. So you don't want that<sup>†</sup>; you want to call <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648045.aspx\" rel=\"noreferrer\"><code>LoadImage</code></a>, which as the documentation indicates is the modern replacement function. It takes an enumerated integer parameter indicating which type of image to load: <code>IMAGE_BITMAP</code> (0), <code>IMAGE_ICON</code> (1), <code>IMAGE_CURSOR</code> (2), or <code>IMAGE_ENHMETAFILE</code> (3). Obviously, <code>IMAGE_CURSOR</code> is what you want to use here.</p>\n\n<p>You can either load from a cursor resource embedded into your application's binary (as a Win32 resource), or you can load from a *.CUR/*.ANI file from the disk. To do the latter, pass the <code>LR_LOADFROMFILE</code> flag to the <code>LoadImage</code> function.</p>\n\n<p>I don't know Java, so I can't translate this to Java with whatever syntax is required there to make native Windows API calls, but here is the code in C:</p>\n\n\n\n<pre class=\"lang-c prettyprint-override\"><code> // Load from a CUR file, at C:\\LargeCursor.cur, with a size of 64x64 pixels\nHCURSOR hCursor = (HCURSOR)LoadImage(NULL,\n                                     \"C:\\\\LargeCursor.cur\"),\n                                     IMAGE_CURSOR,\n                                     64, 64,\n                                     LR_DEFAULTCOLOR | LR_LOADFROMFILE);\nassert(hCursor != NULL);  // verify that load was successful\nBOOL result = SetSystemCursor(hCursor, OCR_NORMAL);\nassert(result != FALSE);  // verify that the change was successful\n</code></pre>\n\n\n\n<pre class=\"lang-c prettyprint-override\"><code>// Load from an embedded resource, IDC_CURSOR, with a size of 64x64 pixels\nHCURSOR hCursor = (HCURSOR)LoadImage(GetModuleHandle(NULL),\n                                     IDC_CURSOR),\n                                     IMAGE_CURSOR,\n                                     64, 64,\n                                     LR_DEFAULTCOLOR);\nassert(hCursor != NULL);  // verify that load was successful\nBOOL result = SetSystemCursor(hCursor, OCR_NORMAL);\nassert(result != FALSE);  // verify that the change was successful\n</code></pre>\n\n<p>Note that the <code>SetSystemCursor</code> requires one of the <code>OCR_*</code> constants to identify <em>which</em> system cursor type to change. These aren't included by default when you include <code>Windows.h</code>; you have to define <code>OEMRESOURCE</code> <em>before</em> including <code>Windows.h</code>. I'm assuming, though, that with Java, you're just defining the constants yourself as enumerated values. In that case, they're all available in <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms648395.aspx\" rel=\"noreferrer\">the MSDN documentation for <code>SetSystemCursor</code></a>. For example, <code>OCR_NORMAL</code> is <code>32512</code>.</p>\n\n<p>Notice, though, that what we're doing here is loading a new cursor (i.e., image) of the desired size, and then setting that. That works fine. What you can't easily do is just expand the size of the <em>existing</em> cursor glyph. To do that, you'd have to retrieve the current cursor glyph, draw it onto a bitmap, scale that bitmap to the desired size, convert that bitmap to an <code>HCURSOR</code>, and then set <em>that</em> <code>HCURSOR</code> using <code>SetSystemCursor</code>. And, naturally, the problem with that is Windows cursor glyphs are just bitmaps, so they're not infinitely scalable. You will start losing resolution quickly, so this is not recommended. If you need a large-size cursor, you will need to provide your own image.</p>\n\n<p>By \"CursorFX\", I believe you're thinking of AniFX (by the same fellow, Attila Kovrig, who wrote IcoFX). This is a cursor image editor and would be a great way to create the *.CUR/*.ANI file(s) you need. But you could just as easily use some other piece of software designed for creating cursors; there are myriad to choose from.</p>\n\n<p>__<br>\n<sub><sup>†</sup> Not that you wanted that function with <code>SetSystemCursor</code> <em>anyway</em>, since <code>SetSystemCursor</code> destroys the specified cursor by calling <code>DestroyCursor</code>. You would need to do <code>LoadCursor</code> and then <code>CopyCursor</code> before calling <code>SetSystemCursor</code>. This is all spelled out in the documentation for <code>SetSystemCursor</code>, but as I said, you don't need to worry about this anymore because you just use <code>LoadImage</code> (without the <code>LR_SHARED</code> flag).</sub></p>\n"}],"last_activity_date":1684246583,"question_id":46014692,"body":"<p>I'm working with an application where one of the options which I have to develop is to change Windows 10 cursor size. In my case it its important to change cursor size for the whole windows, not only for a specific java application window. Currently I'm able to change size of specific cursor type by modifying Windows registry attributes under HKEY_CURRENT_USER &rarr; Control Panel &rarr; Cursors directory.</p>\n\n<p>Unfortunately, I need to set cursor size bigger than 32x32px.\nSomewhere I've found a solution where there was a possibility to cover existing mouse cursor by a bitmap and just follow the position of a cursor, but I don't know how to start with the implementation.\nI searched on the Internet and I've found some applications that allow user to modify size of cursor for whole Windows 10&mdash;for example, this was CursorFX.</p>\n\n<p>Do you know how to increase cursor size programmatically?</p>\n"},{"comments":[{"comment_id":130769798,"body":"Have you tried using java11 or higher jdk?"},{"comment_id":130777326,"body":"Yes, the thing is that the error message show that im using version 1.8, but when I check my version with ./gradlew --version in my android folder it says: JVM: 11.0.16. So its very strange it says that im currently using version 1.8."}],"answers":[{"comments":[{"comment_id":130777260,"body":"Are you sure about that? The error message says that &quot;Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8&quot; but when i check my version with ./gradlew --version, it says: JVM:    11.0.16 which means it should be fine. So my version should be fine but somehow some part of my project thinks im still using version 1.8"}],"answer_id":74065069,"body":"<p>vscode does not support older versions of jdk in some functions, switch to a higher version.</p>\n<p>It is recommended to use jdk17, which can be downloaded from the <strong>Configure Java Runtime</strong> page.</p>\n<p><a href=\"https://i.stack.imgur.com/fGTFV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fGTFV.png\" alt=\"enter image description here\" /></a></p>\n"},{"answer_id":74083891,"body":"<p>This bug resolved itself when I moved location of the flutter  project. I guess something that a restart or flutter clean couldn’t reach got rebuilt when you move the location of the project. (Moved it to another folder)</p>\n"}],"last_activity_date":1684246557,"question_id":74061644,"body":"<p>I get an error in my android&gt;build.gradle file.</p>\n<p>The build.gradle file:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.13'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>The error message:</p>\n<pre><code>Could not run phased build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-7.4-all.zip'.\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'android'.\nA problem occurred configuring root project 'android'.\nA problem occurred evaluating root project 'android'.\nA problem occurred configuring project ':app'.\nA problem occurred evaluating project ':app'.\nFailed to apply plugin 'com.android.internal.application'.\nAndroid Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\n</code></pre>\n<p><em><strong>Update: When checking my Java version:</strong></em></p>\n<pre><code>$ ./gradlew --version\n\n------------------------------------------------------------\nGradle 7.4\n------------------------------------------------------------\n\nBuild time:   2022-02-08 09:58:38 UTC\nRevision:     f0d9291c04b90b59445041eaa75b2ee744162586\n\nKotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          11.0.16 (Oracle Corporation 11.0.16+11-LTS-199)\nOS:           Windows 11 10.0 amd64\n</code></pre>\n<p>The error is marked at the first line on buildscript.\nAny idea what this is? It says that my java version is wrong but it have worked all the time and in all my other app it still works. Very strange to me.\nI use VScode if that makes any difference.</p>\n"},{"last_activity_date":1684246324,"question_id":37696313,"body":"<p>I am having trouble connecting to a SonicMQ broker from my Java application.</p>\n\n<p>this is my client code:</p>\n\n<pre><code>System.out.println(\"Connection setup started\");\nSystem.setProperty(\"javax.net.ssl.keyStoreType\", \"PKCS12\");\nSystem.setProperty(\"javax.net.ssl.keyStore\", keyStoreFile.getAbsolutePath());\nSystem.setProperty(\"javax.net.ssl.keyStorePassword\",\"changeit\");\n\nConnectionFactory connectionFactory = new progress.message.jclient.ConnectionFactory(args[0]);\nConnection connection = connectionFactory.createConnection(args[1], args[2]);\n</code></pre>\n\n<p>On the last line i get \"No trusted CA certificate is specified.\" notification and</p>\n\n<pre><code>javax.jms.JMSException: Unable to register trusted CA certificate(s) or trust decider to verify the broker certificate\nat progress.message.jimpl.JMSExceptionUtil.createJMSException(JMSExceptionUtil.java:42)\nat progress.message.jimpl.Connection.&lt;init&gt;(Connection.java:755)\nat progress.message.jclient.ConnectionFactory.createConnection(ConnectionFactory.java:2055)\nat hr.aduro.translatorclient.TranslatorClient.main(TranslatorClient.java:80)\nCaused by: [4020] progress.message.net.ESocketConfigException: Unable to register trusted CA certificate(s) or trust decider to verify the broker certificate\nat progress.message.net.ssl.ProgressSslSocket.&lt;init&gt;(ProgressSslSocket.java:89)\nat progress.message.net.ssl.ProgressSslSocket.&lt;init&gt;(ProgressSslSocket.java:163)\nat progress.message.net.ssl.ProgressSslSocketFactory.createProgressSocket(ProgressSslSocketFactory.java:240)\nat progress.message.net.ProgressSocketFactory.createProgressSocket(ProgressSocketFactory.java:179)\nat progress.message.zclient.Connection.openSocket(Connection.java:3640)\nat progress.message.zclient.Connection.connectWithRecoveryOpt(Connection.java:752)\nat progress.message.zclient.ReconnectHelper.connectAndChaseSingleFailoverRedirect(ReconnectHelper.java:534)\nat progress.message.zclient.Connection.connect(Connection.java:1503)\nat progress.message.jimpl.Connection.&lt;init&gt;(Connection.java:536)\n... 2 more\n</code></pre>\n\n<p><strong>NOTE:</strong> <code>keyStoreFile</code> is a p12 file in <code>resources</code> folder and contains a public certificate and private key pair</p>\n\n<p>This puzzles me and I lost a whole day on this problem and still no resolution. I am aware that as soon as I state that my host uses SSL by passing the url as <code>ssl://some-ip-address:port</code> the connection factory will try and look for the CAs. The problem is I don't know where to specify what CA I am using.</p>\n"},{"comments":[{"comment_id":134489959,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"last_activity_date":1684246193,"question_id":76263983,"body":"<p>how to fix this error?\nwhen run ./gradlew assembleRelease</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':react-native-vector-icons:extractReleaseAnnotations'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':react-native-vector-icons:detachedConfiguration1'.\nCould not download kotlin-compiler-30.4.1.jar (com.android.tools.external.com-intellij:kotlin-compiler:30.4.1)\n&gt; Could not get resource 'https://dl.google.com/dl/android/maven2/com/android/tools/external/com-intellij/kotlin-compiler/30.4.1/kotlin-compiler-30.4.1.jar'.\n&gt; Could not GET 'https://dl.google.com/dl/android/maven2/com/android/tools/external/com-intellij/kotlin-compiler/30.4.1/kotlin-compiler-30.4.1.jar'.\n&gt; Read timed out</p>\n</blockquote>\n<p>I tried to run with proxy but it does not work.</p>\n"},{"answers":[{"answer_id":76263993,"body":"<p>You can achieve this in two scenarios. By using a custom <strong>JsonDeserializer</strong> class provided by Jackson or utilizing a setter method.</p>\n<p>In the first scenario:</p>\n<ol>\n<li>Create an EmployeeDTO model class with the necessary fields:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public class EmployeeDTO {\n    private int id;\n    private String name;\n    private String empType;\n    // Getters and setters \n}\n</code></pre>\n<ol start=\"2\">\n<li>Implement a custom <strong>deserializer</strong> that maps the JSON values to the desired representation:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeTypeDeserializer extends JsonDeserializer&lt;String&gt; {\n    @Override\n    public String deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        String empType = jsonParser.getValueAsString();\n        if (&quot;SENIOR&quot;.equals(empType)) {\n            return &quot;C-9&quot;;\n        } else if (&quot;JUNIOR&quot;.equals(empType)) {\n            return &quot;C-10&quot;;\n        }\n        return empType;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Annotate the empType property in the EmployeeDTO class with <strong>@JsonDeserialize</strong> to specify the usage of the custom deserializer:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonDeserialize(using = EmployeeTypeDeserializer.class)\nprivate String empType;\n</code></pre>\n<p>Alternatively, you can achieve the desired mapping by using a setter method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setEmpType(String empType) {\n    System.out.println(&quot;Setter method called&quot;);\n    if (empType.equals(&quot;SENIOR&quot;)) {\n        this.empType = &quot;C-9&quot;;\n    } else if (empType.equals(&quot;JUNIOR&quot;)) {\n        this.empType = &quot;C-10&quot;;\n    } else {\n        // Handle the case when empType is not the desired type\n        // You can choose to throw an exception or set the empType to null or an empty string\n        // throw new IllegalArgumentException(&quot;Invalid empType&quot;);\n        // this.empType = null;\n        this.empType = &quot;&quot;;\n    }\n}\n</code></pre>\n<p>Depending on your business logic, you can decide how to handle the case when empType does not match the desired types, whether by throwing an exception or setting it to null.</p>\n<p>You can even set the empType in the service layer.</p>\n"}],"last_activity_date":1684245913,"question_id":76263426,"body":"<p>I'm using a spring boot application. From postman I send the JSON</p>\n<pre><code>{  \n   &quot;id&quot;:2, \n    &quot;name&quot;: &quot;Niki&quot; ,\n    &quot;empType&quot;:&quot;SENIOR&quot;\n}   \n</code></pre>\n<p>Now if the empType in the request is &quot;SENIOR&quot; then I have to save &quot;C-9&quot; in the employee type column, If it is &quot;JUNIOR&quot; then I should  save &quot;C-10&quot; in the employee type column.Please let me know how to do it?</p>\n"},{"answers":[{"answer_id":537621,"body":"<p>Video games still use C++. One example that comes to mind is the Torque engine which can be used for iphone and xbox game development. </p>\n"},{"comments":[{"comment_id":350226,"body":"In my experience, banking and financial stuff is almost never C++. If it&#39;s recent, it&#39;s Java; if not, COBOL."},{"comment_id":350806,"body":"Jobsearch using keywords C++ and banking/finance seem to say something different."}],"answer_id":537629,"body":"<p>Keywords: Banking (financial institutions), games</p>\n\n<p>Oh, and also particle physicists and other scientists using the (in)famous <a href=\"http://root.cern.ch/\" rel=\"nofollow noreferrer\">ROOT</a> framework.</p>\n\n<p>And check out <a href=\"http://www.research.att.com/~bs/applications.html\" rel=\"nofollow noreferrer\">this list</a> of C++ based applications.</p>\n"},{"comments":[{"comment_id":350050,"body":"Sure they are tools, but they come along with toolboxes (standard libraries) and it takes some time to find the best hammer for the given problem."},{"comment_id":350055,"body":"In a purist sense, I agree.  However, when the deadline looms and you don&#39;t know the quriky weirdness of a given environment (libraries, OS, drivers, providers, etc) then the theory goes out the window and you have to know the details of the implementation."},{"comment_id":350065,"body":"Are programmers generally not intelligent people? We tend figure these things out. And yes, I&#39;ve had to do it on a tight deadline on a language I&#39;d never touched before. I&#39;m sure there are lines of code in that project I&#39;d write differently now, but it was successful, and that&#39;s what counts."},{"comment_id":350078,"body":"I wonder if the maintainers of that code were also that optimistic ;) Remember the Pareto principle..."},{"comment_id":350087,"body":"The maintainers of that code actually got me my next two jobs as references. I was quite pleasantly surprised when they said they thought I had built a great base of code to build on."},{"comment_id":350113,"body":"Excellent advice. I was also told this by a colleague, and have found it gives you a powerful edge in the industry. Learning new languages gets easier over time, and it allows you to adjust to new tools more efficiently when your job/career requires it."},{"comment_id":350192,"body":"Would you not consider C++ to be a special case in learing languages, given the need to deal with memory allocation and pointers?  I think that going to C++ from most other modern languages to be an uphill climb (and all the more valuable for that.)"},{"comment_id":350302,"body":"For certain - going from a low-level language to a high-level language is always easier than vice versa. Which is why I would always expect CS undergraduates to learn less abstract languages like C or C++ first, prior to learning a higher level language. But once you know that, then it gets easier."},{"comment_id":350305,"body":"@Dave: The OP said he already knows C++; he&#39;s just wondering if he needs another language."},{"comment_id":350495,"body":"@mmyers: I know, that was just for my own personal edification :)   I keep meaning to learn C++ but Halo keeps getting in the way :)"},{"comment_id":350672,"body":"No harm in learning another language.  All software professionals should learn several languages."},{"comment_id":352859,"body":"@Dave: All languages have to deal with memory allocation and pointers, they are a fundamental aspect of software development. Just because a language hides them from you, doesn&#39;t mean you can forget about them."},{"comment_id":353520,"body":"@Mark: I didn&#39;t say &quot;don&#39;t learn&quot;. I said, &quot;Don&#39;t memorize&quot;. A skilled programmer can discover what they don&#39;t know about a language, which makes them fearless about learning a new one. There&#39;s no reason to have to &quot;choose&quot; which new language to learn if you have the right attitude."},{"comment_id":353844,"body":"@Sean:  Absolutely... I didn&#39;t mean to suggest that those using C#/Java/etc don&#39;t need to understand allocation and pointers, just that with C++ the level of understanding has to be much higher because of the need to manipulate those things directly."},{"comment_id":12087271,"body":"But I <i>LOVE</i> her (C++)! No one is going to get in the way of our marriage if I can help it!"}],"answer_id":537635,"body":"<p>Best advice I ever got as an undergraduate was from my languages professor, who told me (paraphrasing here): \"Don't memorize languages; don't marry yourself to a language. They're just tools. They all do the same basic things. Instead of learning a specific language, learn the foundations of good software development. Then you'll be able to take any language and be successful with it.\" </p>\n\n<p>I feared learning new languages before he told me that. Afterwords, I took his advice to heart and it's made all the difference. Languages are just tools in your toolbox. If you can program and write good software in one language, you can do it in another. </p>\n"},{"comments":[{"comment_id":350568,"body":"A lot of embedded controls/systems and PLC&#39;s also use c++."},{"comment_id":351870,"body":"A lot of the defense industry uses Ada and C++"}],"answer_id":537636,"body":"<p>C++ is not even close to being dead.  </p>\n\n<p>My experience:</p>\n\n<p>Bloomberg, Reuters, and all their bank/trading clients who want low latency market data feeds use C++. (Fidelity, JPMorgan, BNP, Citibank, etc.)</p>\n\n<p>The defense industry uses C++. (among other languages - Java is also popular)</p>\n\n<p>These industries also use java and other languages, but C++ is hard to beat.  Note also that there is a HUGE existing C++ code base that will take a long time to go away (if ever)</p>\n\n<p>It is not hard to know and use them both.  Don't worry too much about a particular language.  That is not the real crux of developing software.</p>\n"},{"answer_id":537638,"body":"<p>C++ is still used extensively for performance intensive tasks. For example, I do a lot of work with video compression and decompression - it's all C++. Partly because we need the performance, and partly because all the 3rd party libraries which need to use are C++ so it's easier to integrate with them if we're using the same language.</p>\n"},{"answer_id":537641,"body":"<p>Many defense contractors, especially when dealing with hardware, use C++</p>\n\n<p>Many makers of advanced medical equipment (e.g., MRIs) use C++.</p>\n\n<p>I say learn both if you can. It's good to have the C++ foundation even if you end up in a sandboxed language like C++/C#. Too many people don't understand the basics.</p>\n\n<p>Note that different cities have a majority of jobs in a specific language. Go to the craigslist job boards for the city you think you'd end up in and see what they seek. For example, Pittsburgh is a C# town whereas New York is more balanced. </p>\n"},{"comments":[{"comment_id":351977,"body":"Embedded is less common as time goes on?  Not really: the number of embedded devices is only going to grow larger."},{"comment_id":352062,"body":"Not the number of embedded devices, the use of C++ on them.  It seems to me that higher-level languages are becoming more common on embedded systems."},{"comment_id":352527,"body":"In a lot of embedded systems, C++ would be considered quite the &quot;high level language&quot; (usual progression is assembly-C-C++).  Not sure how common languages &quot;higher&quot; than C++ are in embedded systems.  I see &amp; work on dozens every year, C/C++ still dominates (perhaps as much assembly as C++, BTW)"},{"comment_id":353823,"body":"If you consider C# and Java to be higher-level than C++, then .NET based handhelds using C# and Blackberrys running Java ME are examples of devices running something other than C++..."},{"comment_id":673536,"body":"@Dave: I have to agree with Dan.  Embedded systems capable of running managed runtimes are vastly outnumbered by those that can&#39;t.  I think the number of embedded systems programmable with C++ will increase, although I also think C will remain the dominant embedded systems language because of the simplicity of C-based toolchains (C++ tools still need to be ported, and most embedded vendors don&#39;t write their own toolchains)."}],"answer_id":537643,"body":"<p>A brief off-the-top-of-my-head listing of projects that use C++:</p>\n\n<ul>\n<li>Device driver development</li>\n<li>Games</li>\n<li>Advanced engines (audio, image processing, etc)</li>\n<li>Telecom</li>\n<li>Embedded software (devices and such)</li>\n</ul>\n"},{"answer_id":537646,"body":"<p>Your university didn't have any Java based courses? That's odd!!</p>\n\n<p>You should learn not just C++ and Java, but should be exposed to several languages and paradigms</p>\n"},{"comments":[{"comment_id":350771,"body":"I wonder what the internet would&#39;ve been like without Google!!"},{"comment_id":2848787,"body":"If not google, someone else would have been their in some other fancy name! (jibjaw, jiggle, nibble... anything crazy)"}],"answer_id":537668,"body":"<p>Some site calling itself Google reckons it uses C++ extensively. Thank God they don't need performance to index the few websites out there.</p>\n\n<p>If this Interweb thingy takes off, they'll be in real trouble though. (-:</p>\n\n<p>Seriously though, apart from the current change of channel (reversion?) to C and Perl, the previous four projects were all C++.</p>\n\n<ol>\n<li>a large scale departure control system for several of the world's major airlines (30,000 10MB log files per day)</li>\n<li>a flight training simulator and ground based software proving platform for a new military aircraft</li>\n<li>a large scale framework for an existing air-traffic control simulator that was used to incorporate the new Aeronautical Telecommunications Network (ATN)</li>\n<li>an advanced radar processing and display system for an on-route air traffic control centre</li>\n</ol>\n\n<p>All really interesing.</p>\n"},{"answer_id":537731,"body":"<p>Java is great until you have to start caring about the details it abstracts away. Most people don't need to do that.</p>\n"},{"answer_id":537808,"body":"<p>C++ is heavily used in embedded systems. \nIt is being used in UI development. For eg. famous QT framework is written in C++. </p>\n\n<p>Ultimately it depends on what you want to do. If you want to work in embedded systems, better learn C/C++.</p>\n"},{"comments":[{"comment_id":3207409,"body":"To be honest, I think Microsoft just wanted a competitor to Java. :)"}],"answer_id":537813,"body":"<p>C++ is still used extensively in engineering applications, such as high-end CAD/CAM systems.</p>\n\n<p>I think the death of <em>native code</em> is much exaggerated. Even Microsoft has backed away from making C++ all about .NET in Visual Studio 2008. It seems to be actively improving its native C++ development tools again as well as making interop with the managed world more easy.</p>\n"},{"answer_id":537869,"body":"<p>My advice is to master whichever language you enjoy more.  I know C++ and Java well, and have used both professionally.  However, I would never accept another C++ job because I find C++ tedious and mind-numbing.  I rather invest my time mastering more interesting languages.</p>\n"},{"comments":[{"comment_id":2848746,"body":"+1 for &quot;No shame or offense in admitting that.&quot;"}],"answer_id":537886,"body":"<p>I tend to agree with your cousin.  Java definitely is used in more enterprise applications (think things that a bank or insurance company would need), while C++ is used in more \"niche\" markets.  I also agree with you that Java is easier to learn and master than C++.  No shame or offense in admitting that.</p>\n\n<p>We use both where I work, writing embedded software in C++, but communicating with it from GUI apps written in Java.  There's definitely plenty of room in the software industry for both (and many more) languages.</p>\n"},{"answer_id":538243,"body":"<p>I use C and C++ regularly at my job where I work on embedded devices. We're not talking super low level stuff, here, either. I do mid-level and UI work. Think Qt, Gtk+, Windows Mobile SDK, etc.</p>\n"},{"answer_id":538315,"body":"<p>I've been writing in C++ primarily for internal and external desktop applications within manufacturing and telecom companies for a long time, and only worked full time with Java for about 1 year out of 16.</p>\n\n<p>Java never seemed to take over the desktop like they were predicting back in the mid 90s when it first came out, and now C++ seems to have more competition from .net and AJAX/web applications.</p>\n\n<p>I can't really speak for it's use in back end systems, but I have seen more of it there than I've seen C++, so it depends of what kind of programming you are talking about (e.g. user facing vs. internal systems).</p>\n"},{"answer_id":538436,"body":"<p>C++ is heavily used by ISVs. Think Microsoft, Adobe, Oracle, Sun, Symantec...</p>\n"},{"answer_id":538480,"body":"<p>C++ is not anywhere close to being dead, and as suggested by others, don't marry yourself to a language.\nIf you're learning C++ in terms of job prospects, I'd rather suggest you pick up a representative of a programming paradigm.</p>\n\n<ul>\n<li>C - Imperative programming</li>\n<li>C++/Java/Obj-C - OOP</li>\n<li>Lisp/Haskell/Scheme - Functional Programming</li>\n</ul>\n\n<p>Getting adjusted to the paradigms is usually harder than picking up the language itself. Hope others would chime in for other suggestions.</p>\n"},{"comments":[{"comment_id":1278702,"body":"...or Qt. C++ alone even with STL is only for masochist programmer Boost or qt can boost productivity in c++ many times than bare STL."}],"answer_id":539584,"body":"<p>My advice, learn C#. These days almost 50% of the job listings were Java and almost the other 50% were C#, there were only a few listing C++. </p>\n\n<p>That said, the people using C++ know why they are using it and probably have good use cases for it... meaning you would really learn how to use the language at the highest levels... meanwhile companies slogging out business logic applications in Java/C# will probably not teach you as much about programming as quickly. </p>\n\n<p>If you do decide to take a C++ job, make sure the shop uses the STL effectively and that they are using Boost. Not looking at using Boost/STL, but actually using it. </p>\n"},{"answer_id":539589,"body":"<p>Most packaged software is still written in C++.  That means games, office applications, graphics and video editors, and operating systems.  In fact, if you think of the software you use every day that isn't online, chances are it is written in C++ (or C or objective-C).  It's not written in Java, Python, Ruby, Perl, etc.  While packaged software is becoming less prevalent, it's still used a whole lot and isn't going away anytime soon.</p>\n\n<p>Operating systems, whether embedded or for the desktop are almost exclusively written in some C language.  Attempts have been made to write them in Java or C#, but none of those have worked out.  All of your drivers are written in some C variant as well.  I don't see this changing any time soon.</p>\n"},{"answer_id":539599,"body":"<p>I had to scroll all the way to the bottom to finally see a post mentioning video games.  C and C++ are huge in that industry.  </p>\n\n<p>As far as the \"What should I learn question.\"  That's pretty open ended, you want to learn as much as possible.  So yes, you should learn both of them.  As a few people have said, C# is a good one too.  You should also learn Python, Ruby, or PHP and some web frameworks (Rails, Symfony, Django, ASP.Net).  Web apps are pretty big these days.</p>\n\n<p>If your bubble consists of only C++ you aren't going to be very marketable.</p>\n\n<p><b>EDIT:</b> Oops, I guess games were mentioned a lot more than I initially saw in here.  My bad.</p>\n"},{"answer_id":539611,"body":"<p>Game industry looks like go with <strong>C++</strong> forever.</p>\n"},{"answer_id":539626,"body":"<p>Well I suggest learning more than a couple languages.  I work in the communications industry and yes we use C++, however a lot of projects we are working on are in Java as well.</p>\n\n<p>I suggest you learn:</p>\n\n<p>1) C++ / C\n2) Java\n3) Erlang or Haskel\n4) Ruby</p>\n\n<p>This will help you understand concepts that exist in one language but not in another.  Also helps with marketability.</p>\n\n<p>Take a look at the <a href=\"http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html\" rel=\"nofollow noreferrer\">tiobe programming index</a> and you will get a feel for languages on the rise.</p>\n"},{"answer_id":541530,"body":"<p>Bjarne Stroustrup has a list of <a href=\"http://www.research.att.com/~bs/applications.html\" rel=\"nofollow noreferrer\">companies/applications</a> written in C++.</p>\n"},{"answer_id":1580282,"body":"<p>In my career I've developed C++ for:</p>\n\n<ul>\n<li>Server applications (Securities industry)</li>\n<li>Embedded software (Wireless telecoms)</li>\n<li>Desktop application software (Wireless telecoms)</li>\n</ul>\n\n<p>I've also seen a lot of adverts for C++ developers in the defense industry.  There is work out there for C++ developers, not as much as there has been in the past, but still plenty of work.</p>\n\n<p>Though I say it wouldn't hurt to learn Java, it is a good skill to have under your belt.</p>\n"}],"last_activity_date":1684245890,"question_id":537595,"body":"<p>Like most people, I learnt C++ after C. I learnt C++ because it was one of those languages which fetched jobs. I am still studying (doing masters) though. One of my cousins has been working as a developer for around 12 years.</p>\n\n<p>He advises me to learn Java so that I can land up in a good job. He says only few sectors like tele communications use C++ and almost all the enterprise software is developed in Java. I am working as a student technician in my university. The job involves Windows programming in C++. I learnt core Java. I do not know any of those <a href=\"http://en.wikipedia.org/wiki/Apache_Struts\" rel=\"nofollow noreferrer\">Struts</a>, <a href=\"http://en.wikipedia.org/wiki/Hibernate_%28Java%29\" rel=\"nofollow noreferrer\">Hibernate</a> or whatever is out there.</p>\n\n<p>To be on the safer side, I am planning to master both. But I think Java is an ocean, though it's easier to program in Java than C++ (this is my opinion. C++ lovers don't kill me). </p>\n\n<p>What do you geeks and professionals out there advise me. Do you think I should learn both of them. Which sectors of the software industry use C++? </p>\n"},{"comments":[{"comment_id":134485919,"body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason."},{"comment_id":134486346,"body":"Updated the text instead of image, thank you for sharing the guideline."}],"last_activity_date":1684245823,"question_id":76262866,"body":"<p>I am trying to generate Allure Report in a gradle based project. Please help me to understand the root cause of this error.</p>\n<p>Here is the main code snippets from the build.gradle</p>\n<pre><code>plugins {\n    id 'io.qameta.allure' version '2.8.1'\n    }\n\ndef allureVersion = '2.14.0'\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\nallure {\n    version = allureVersion\n    autoconfigure = false\n    aspectjweaver = true\n}\n \n/* Module specific dependencies */\ndependencies {\n    //Junit5\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.7.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.2'\n    // Allure\n    implementation 'io.qameta.allure:allure-junit5:2.14.0'\n    runtimeOnly 'org.aspectj:aspectjweaver:1.9.7'\n</code></pre>\n<p>Gradle Version - 7.3.3, Using SDK - Amazon Corretto Version 17 (Java)</p>\n<p>I have tried different version of allure report and plug in. But could not understand what is causing this issue.</p>\n<p>Below error comes in Intellij</p>\n<pre><code> Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'io.qameta.allure', version: '2.8.1'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'io.qameta.allure:io.qameta.allure.gradle.plugin:2.8.1')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n    Google\n    MavenRepo\n</code></pre>\n"},{"comments":[{"comment_id":134488336,"body":"See these questions: <a href=\"https://stackoverflow.com/questions/54926701/how-globally-ignore-null-fields-with-restesy-response/54926911#54926911\">How globally ignore Null Fields with restesy response?</a>, <a href=\"https://stackoverflow.com/questions/57921579/jackson-serialize-null-or-empty-object/57921867#57921867\">Jackson serialize null or empty object</a>"}],"answers":[{"answer_id":76263979,"body":"<p>You can configure the mapper like this:</p>\n<pre><code>mapper.setSerializationInclusion(Include.NON_NULL);\n</code></pre>\n"}],"last_activity_date":1684245778,"question_id":76263635,"body":"<p>So, I have a json object which I need to de-serialize to a POJO, make some changes to its fields then send that POJO through a controller to the front end. The json that I receive as a response to that controller has a lot of fields that are null as they did not exist in the json that was deserialized. I want the jackson library to not include any fields that have a null value.</p>\n<p>The challenge I am facing is that I cannot add that @JsonInclude annotation to the Object class that I am trying to deserialize as the model class has been imported from a library and therefore the file is a readonly file. Is there a different way of configuring the default jackson settings for the project to not include these null values? Is there a default object mapper that can be configured?</p>\n"},{"comments":[{"comment_id":134487303,"body":"Not really sure what you are asking here."},{"comment_id":134487345,"body":"Note that there is no &quot;next&quot; <i>function</i> in your code, only a &quot;next&quot; reference/variable."},{"comment_id":134487587,"body":"Why don&#39;t you just do: <code>public String toString() {return value + &quot;,&quot; + next;}</code>?"}],"answers":[{"answer_id":76263853,"body":"<p>Why does &quot;wrong method&quot; produce <code>D,null,C,B,A</code>? That's because  <code>value + &quot;,&quot; + next</code> will cause <code>toString()</code> to be called on <code>next</code> if it isn't null. So <code>toString()</code>will be recursively called before printing.</p>\n<p>What happens is basically this (indentation indicates call hierarchy/call stack):</p>\n<ul>\n<li><code>System.out.print(a);</code> calls <code>a.toString()</code>\n<ul>\n<li><code>a.toString()</code> tries to produce the string <code>value + &quot;,&quot; + next</code> which calls <code>b.toString()</code> (since <code>a.next == b</code>)\n<ul>\n<li><code>b.toString()</code> tries to produce the string <code>value + &quot;,&quot; + next</code> which calls <code>c.toString()</code> (since <code>b.next == c</code>)\n<ul>\n<li><code>c.toString()</code> tries to produce the string <code>value + &quot;,&quot; + next</code> which calls <code>d.toString()</code> (since <code>c.next == d</code>)\n<ul>\n<li><code>d.toString()</code> tries to produce the string <code>value + &quot;,&quot; + next</code>. Since <code>d.next</code> is <code>null</code> this produces and prints <code>&quot;D,null&quot;</code>.</li>\n</ul>\n</li>\n<li>the call to <code>d.toString()</code> returns <code>&quot;&quot;</code> so now <code>c.toString()</code> produces and prints <code>&quot;C,&quot;</code></li>\n</ul>\n</li>\n<li>the call to <code>c.toString()</code> returns <code>&quot;&quot;</code> so now <code>b.toString()</code> produces and prints <code>&quot;B,&quot;</code></li>\n</ul>\n</li>\n<li>the call to <code>b.toString()</code> returns <code>&quot;&quot;</code> so now <code>a.toString()</code> produces and prints <code>&quot;A,&quot;</code></li>\n</ul>\n</li>\n</ul>\n<p>As you can see, <code>&quot;D,null&quot;</code>, <code>&quot;C,&quot;</code>, <code>&quot;B,&quot;</code> and <code>&quot;A,&quot;</code> are printed in that order and without any newline characters so the output will be <code>&quot;D,nullC,B,A&quot;</code></p>\n<p>If you want to produce <code>&quot;A,B,C,D,null&quot;</code> you need to use the following:</p>\n<pre><code>public String toString() { return value + &quot;,&quot; + next; }\n</code></pre>\n<p>Using the same call hierarchy as above here's what will happen:</p>\n<ul>\n<li>Recursive calls down to <code>d.toString()</code> which returns <code>&quot;D,null&quot;</code>.</li>\n<li><code>c.toString()</code> now uses that return value for &quot;next&quot;, so <code>value + &quot;,&quot; + next</code> now results in <code>&quot;C&quot; + &quot;,&quot; + &quot;D,null&quot;</code> = <code>&quot;C,D,null&quot;</code>.\n<ul>\n<li>the same happens for <code>a.toString()</code> and <code>b.toString()</code> to the end result will be <code>&quot;A&quot; + &quot;,&quot; + (&quot;B&quot; + &quot;,&quot; + (&quot;C&quot; + &quot;,&quot; + (&quot;D&quot; + &quot;,&quot; + null)))</code> = <code>&quot;A,B,C,D,null&quot;</code> (each parenthesis represents a nested call to <code>toString()</code>).</li>\n</ul>\n</li>\n</ul>\n"},{"answer_id":76263942,"body":"<p>In the first method, the line</p>\n<pre><code>System.out.print(value + &quot;,&quot; + next);\n</code></pre>\n<p>effectively translates to</p>\n<pre><code>System.out.print(value + &quot;,&quot; + next.toString());\n</code></pre>\n<p>Hence, <code>next.toString()</code> is called first to determine what should be passed to <code>System.out.print()</code>. Hence, the call order is actually as follows:</p>\n<pre><code>System.out.print(d.value + &quot;,&quot; + null);\nSystem.out.print(c.value + &quot;,&quot; + d.toString());\nSystem.out.print(b.value + &quot;,&quot; + c.toString());\nSystem.out.print(a.value + &quot;,&quot; + b.toString());\n</code></pre>\n<p>Furthermore, given that you always <code>return &quot;&quot;</code>, <code>next.toString()</code> always evaluates to an empty string:</p>\n<pre><code>System.out.print(d.value + &quot;,&quot; + null);\nSystem.out.print(c.value + &quot;,&quot;);\nSystem.out.print(b.value + &quot;,&quot;);\nSystem.out.print(a.value + &quot;,&quot;);\n</code></pre>\n<p>Some general best practices that I would recommend you to follow:</p>\n<ol>\n<li><code>toString()</code> should do one thing and one thing only: Create a string representation of the object and <code>return</code> that. If anyone calls your <code>toString()</code> that's what they expect. Anything else is unexpected and may catch a caller of your class by surprise.</li>\n<li>Use a debugger (by placing a so-called breakpoint in your code). The debugger allows you to inspect the current state of all variables and it allows you to step through your code one instruction at a time. This allows you to understand what your program is actually doing.</li>\n</ol>\n"}],"last_activity_date":1684245601,"question_id":76263692,"body":"<p>everyone. I'm new to java and I have a quick question regarding the next function in the linked list. Here is my code:</p>\n<p>//Wrong Method</p>\n<pre><code>    public class Class {\n    public static void main(String [] args) { \n    Node a = new Node (&quot;A&quot;); \n    Node b = new Node (&quot;B&quot;); \n    Node c = new Node (&quot;C&quot;); \n    Node d = new Node (&quot;D&quot;);\n    a.next = b; b.next = c; c.next = d;\n    System.out.print(a);\n}\n}\n\nclass Node {\nString value;\nNode next;\n\npublic Node (String value) {this.value = value;}\npublic String toString() {System.out.print(value + &quot;,&quot; + next); return &quot;&quot;;}\n}\n</code></pre>\n<p>//Output is: D,nullC,B,A,</p>\n<p>I have try the following methods and the output is same (A,B,C,D,null) which is correct:</p>\n<p>//Method 1</p>\n<pre><code> public class Class {\n    public static void main(String [] args) { \n    Node a = new Node (&quot;A&quot;); \n    Node b = new Node (&quot;B&quot;); \n    Node c = new Node (&quot;C&quot;); \n    Node d = new Node (&quot;D&quot;);\n    a.next = b; b.next = c; c.next = d;\n    System.out.print(a);\n}\n}\n\nclass Node {\nString value;\nNode next;\n\npublic Node (String value) {this.value = value; System.out.print(value + &quot;,&quot;);}\npublic String toString() {return next + &quot;&quot;;}\n}\n</code></pre>\n<p>//Method 2:</p>\n<pre><code>public class Class {\n    public static void main(String [] args) { \n    Node a = new Node (&quot;A&quot;); \n    Node b = new Node (&quot;B&quot;); \n    Node c = new Node (&quot;C&quot;); \n    Node d = new Node (&quot;D&quot;);\n    a.next = b; b.next = c; c.next = d;\n    System.out.print(a);\n}\n}\n\nclass Node {\nString value;\nNode next;\n\npublic Node (String value) {this.value = value;}\npublic String toString() {System.out.print(value + &quot;,&quot;); return next + &quot;&quot;;}\n}\n\npublic String toString() {return value + &quot;,&quot; + next + &quot;&quot;;}\n</code></pre>\n<p>So I'm confused why the very first method is wrong? System.out.print(value + &quot;,&quot;) works fine with (return next + &quot;&quot;;) in Method 1 &amp; 2. So I'm thinking System.out.print() has no conflict with return. Yet System.out.print(value + &quot;,&quot; + next) is wrong. Thanks a lot for answering my question. Have a wonderful week!</p>\n"},{"comments":[{"comment_id":99934448,"body":"you need to add the wrapper script to your project. you can follow <a href=\"http://bennet-schulz.com/2018/04/12/quicktip-use-a-maven-wrapper/\" rel=\"nofollow noreferrer\">bennet-schulz.com/2018/04/12/quicktip-use-a-maven-wrapper</a> to generate your mvnw using a plugin."}],"answers":[{"answer_id":56684652,"body":"<p>Resolved it using taraki-maven-plugin, as mentioned here -<a href=\"https://howtoprogram.xyz/2016/09/11/maven-wrapper-example/\" rel=\"nofollow noreferrer\">https://howtoprogram.xyz/2016/09/11/maven-wrapper-example/</a></p>\n\n<pre><code>project_location&gt;mvn -N io.takari:maven:wrapper\n</code></pre>\n"},{"answer_id":72108930,"body":"<p>I encountered the same problem for windows.</p>\n<ol>\n<li><p>go to control panel, go to system, select advanced system settings on right.</p>\n</li>\n<li><p>select advanced tab, click environment variables</p>\n</li>\n<li><p>now in system variables path add the path to your maven, /bin folder.</p>\n</li>\n</ol>\n<p>after editing it to include use</p>\n<pre><code>mvn -version\n</code></pre>\n"},{"comments":[{"comment_id":133379711,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75555670/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":75555670,"body":"<p>Make sure the current directory you are working on has mvnw or mvnw.cmd files.</p>\n"},{"answer_id":76263881,"body":"<p>This issue plagued me for days, but the resolution was just too simple.\nIF you're using Windows like me and the project folder has a <strong>mvnw</strong> file, instead of</p>\n<pre><code>project_root&gt; mvnw\n</code></pre>\n<p>you need to type</p>\n<pre><code>project_root&gt; .\\mvnw\n</code></pre>\n<p>Hope this helps.</p>\n"}],"last_activity_date":1684245330,"question_id":56684165,"body":"<p>I am getting the following, while running 'mvnw' command.\nHow to add maven wrapper to a project?</p>\n\n<blockquote>\n  <p>project_root>mvnw</p>\n</blockquote>\n\n<p>'mvnw' is not recognized as an internal or external command,\noperable program or batch file.'</p>\n"},{"comments":[{"comment_id":134489865,"body":"I believe a push notification service like Firebase Cloud Messaging is required for that"},{"comment_id":134490941,"body":"Thank you, I&#39;ll try this and leave a code sample."},{"comment_id":134491258,"body":"Don&#39;t they have a working example in their repos? I have no experience with this sort of apps, may be worth a check <a href=\"https://github.com/ZEGOCLOUD\" rel=\"nofollow noreferrer\">github.com/ZEGOCLOUD</a>"},{"comment_id":134493455,"body":"I&#39;m already checking their examples, and they have a CallBackgroundService which i think is enough for that, but nothing has changed."}],"last_activity_date":1684245266,"question_id":76263882,"body":"<p>I'm trying to use ZegoCloud to add audio &amp; video call features, and it's working fine while the sender and receiver are in the same activity (Chat Activity). But, when the receiver is on another activity, the app in background or the app is closed, the incoming call is never detected and the incoming call activity is never shown. Below is the android manifest with incoming call service.</p>\n<p>Thank you..</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-sdk tools:overrideLibrary=&quot;com.appeaser.imagetransitionlibrary&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_MEDIA_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_OWN_CALLS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot; /&gt; &lt;!-- Gal --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt; &lt;!-- For Android 12 and above devices, the following permission is also required. --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n\n    &lt;uses-feature\n        android:glEsVersion=&quot;0x00020000&quot;\n        android:required=&quot;true&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera.front&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera.flash&quot;\n        android:required=&quot;false&quot; /&gt; &lt;!-- W --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WAKE_LOCK&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;.MyApp&quot;\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity\n            android:name=&quot;.gal.ImageEditActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/AppThemeBack&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.activities.ProfileManageActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.activities.ChatActivity&quot;\n            android:exported=&quot;false&quot; /&gt; &lt;!--  --&gt;\n        &lt;activity\n            android:name=&quot;.contactLibrary.core.ContactPickerActivity&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.myCont.multiPickerC.MultiContactPickerActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.myCont.MyContActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n        &lt;profileable android:shell=&quot;true&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.zegInvi.callwithinvitation.call.IncomingCallDialog&quot;\n            android:exported=&quot;false&quot;\n            android:launchMode=&quot;singleTop&quot;\n            android:theme=&quot;@style/dialogActivityTheme&quot; /&gt;\n\n        &lt;service\n            android:name=&quot;.zegInvi.callwithinvitation.call.CallBackgroundService&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.zegInvi.callwithinvitation.call.CallingActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.zegInvi.callwithinvitation.call.CallWaitingActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.zegInvi.callwithinvitation.HomeActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity android:name=&quot;.zegInvi.V&quot;\n            android:exported=&quot;false&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"comments":[{"comment_id":126483794,"body":"You shouldn&#39;t use <code>-Xmx</code> if using Java 11+. Instead, set the <code>--memory</code> of the container, and the JVM will resize accordingly"},{"comment_id":126484256,"body":"Thread stacks aren&#39;t in the heap, so increasing the heap limit makes no difference. (If it did, you would need over 200G of survivor space, probably 250G total.)"}],"answers":[{"answer_id":76263870,"body":"<p>In docker compose yml file, you can modify the memory limit of a container.\nYou could try to increase that limit, in your image configuration section, as follows:</p>\n<pre><code>  ...\n    deploy:\n      resources:\n        limits:\n          memory: &lt;memory size&gt;\n</code></pre>\n<p>More info <a href=\"https://docs.docker.com/config/containers/resource_constraints/#limit-a-containers-access-to-memory\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"last_activity_date":1684245179,"question_id":71562007,"body":"<p>I have a spring boot application running on ubuntu 20 ec2 machine where I am creating around 200000 threads to write data into kafka. However it is failing repeatedly with the following error</p>\n<pre><code>[138.470s][warning][os,thread] Attempt to protect stack guard pages failed (0x00007f828d055000-0x00007f828d059000).\n[138.470s][warning][os,thread] Attempt to deallocate stack guard pages failed.\nOpenJDK 64-Bit Server VM warning: [138.472s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 0k, detached.\nINFO: os::commit_memory(0x00007f828cf54000, 16384, 0) failed; error='Not enough space' (errno=12)\n#\n# There is insufficient memory for the Java Runtime Environment to continue.\n# Native memory allocation (mmap) failed to map 16384 bytes for committing reserved memory.\n</code></pre>\n<p>I have tried increasing memory of my ec2 instance to 64 gb which have been of no use. I am using docker stats and htop to monitor the memory footprint of the process and when it touches around 10 gb it fails with the given error.</p>\n<p>I have also tried increasing the heap size and max memory for the process.</p>\n<pre><code>docker run --rm --name test -e JAVA_OPTS=-Xmx64g -v /workspace/logs/test:/logs -t test:master\n</code></pre>\n<p>Below is my code</p>\n<pre><code>    final int LIMIT = 200000;\n    ExecutorService executorService = Executors.newFixedThreadPool(LIMIT);\n    final CountDownLatch latch = new CountDownLatch(LIMIT);\n    for (int i = 1; i &lt;= LIMIT; i++) {\n        final int counter = i;\n        executorService.execute(() -&gt; {\n            try {\n                kafkaTemplate.send(&quot;rf-data&quot;, Integer.toString(123), &quot;asdsadsd&quot;);\n                kafkaTemplate.send(&quot;rf-data&quot;, Integer.toString(123), &quot;zczxczxczxc&quot;);\n                latch.countDown();\n            } catch (Exception e) {\n                logger.error(&quot;Error sending data: &quot;, e);\n            }\n        });\n    }\n    try {\n        latch.await();\n    } catch (InterruptedException e) {\n        logger.error(&quot;error ltach&quot;, e);\n    }\n</code></pre>\n"},{"comments":[{"comment_id":134461975,"body":"Its better to not to speculate on performance, and only look at specific issues if they appear, remembering that different JDK implementations can dramatically change some tasks anyway.  <code>String.split()</code> does have a shortcut implementation for certain simple one or two character inputs, otherwise it delegates to regex. So for many apps there isn&#39;t a difference, and for other apps you may well not be able to tell the difference."}],"answers":[{"comments":[{"comment_id":134459225,"body":"Thanks! It is possible to check if a string contains another string in a case insensitive manner without using a regex engine?"},{"comment_id":134459252,"body":"@gutey Yes: Use my approach above along with <code>String#equalsIgnoreCase()</code> to check for a string in a case insensitive manner."},{"comment_id":134459354,"body":"However equals is for identical strings. Is there something like <code>String#containsIgnoreCase()</code>?"},{"comment_id":134459375,"body":"Just use <code>part.toLowerCase().contains(&quot;valuetofindinlowercase&quot;)</code>"},{"comment_id":134459830,"body":"No other way? I need necessarily to lowerCase the string? Eventually I&#39;ll make a new question later."},{"comment_id":134459887,"body":"I have answered all your questions.  Maybe you should open a new question."},{"comment_id":134471892,"body":"Sorry for -1, but that&#39;s an awful solution. Your suggested code actually works 10-20 times <a href=\"https://gist.github.com/apangin/e110744a5b589433be86265b864e0624\" rel=\"nofollow noreferrer\"><i>slower</i></a> than a regex equivalent due to the huge overhead of exception throwing."},{"comment_id":134471983,"body":"Hmm...did you actually benchmark my solution against regex, or do you just &quot;think&quot; you&#39;re right?"},{"comment_id":134475229,"body":"Both. My above link points to the benchmark with the results. Besides that, it&#39;s a know fact (<a href=\"https://shipilev.net/blog/2014/exceptional-performance/\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://vimeo.com/233820012#t=289\" rel=\"nofollow noreferrer\">2</a>) that exceptions are very expensive and should not be used in a normal non-exceptional control flow."}],"answer_id":76247108,"body":"<p>Using a split approach <em>might</em> typically be the more efficient approach.  We can split the input into components and then check each one to see if it be an long integer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String path = &quot;/good/312321312/bad/3213122131&quot;;\nString[] parts = path.split(&quot;/&quot;);\nList&lt;Long&gt; nums = new ArrayList&lt;&gt;();\nfor (String part : parts) {\n    try {\n        long num = Long.parseLong(part);\n        nums.add(num);\n    }\n    catch (NumberFormatException nfe) {\n    }\n}\n\nSystem.out.println(&quot;Found nums: &quot; + nums);\n</code></pre>\n<p>This prints:</p>\n<pre><code>Found nums: [312321312, 3213122131]\n</code></pre>\n<p>Any solution which only uses base string functions might outperform the cost of invoking a regex engine.</p>\n"},{"answer_id":76263833,"body":"<p>Since creating a new string implies copying all characters, the implicit <code>substring</code> operations of <code>split</code> are the most expensive aspect here. Creating an array, to hold all the strings, adds to it, but is minuscule compared to the string creations. Still, we can avoid both.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static final Pattern NUMBER = Pattern.compile(&quot;\\\\d+&quot;);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String s = &quot;/good/312321312/bad/3213122131&quot;;\n\n    long first = -1, second = -1;\n    Matcher m = NUMBER.matcher(s);\n    if(m.find()) {\n        first = Long.parseLong(s, m.start(), m.end(), 10);\n        if(m.find()) {\n            second = Long.parseLong(s, m.start(), m.end(), 10);\n        }\n    }\n\n    System.out.println(first + &quot;\\t&quot; + second);\n}\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String s = &quot;/good/312321312/bad/3213122131&quot;;\n\n    LongStream.Builder b = LongStream.builder();\n    Matcher m = NUMBER.matcher(s);\n    while(m.find()) b.add(Long.parseLong(s, m.start(), m.end(), 10));\n\n    long[] result = b.build().toArray();\n\n    System.out.println(Arrays.toString(result));\n}\n</code></pre>\n<p>When performance matters, it’s important to keep and reuse compiled <code>Pattern</code> instances instead of using convenience methods like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.split</code></a> which throw away the <code>Pattern</code> instance after the operation.</p>\n<p>Obviously, this only matters if the code is executed more than once. But when the code is executed only once, its performance wouldn’t matter anyway.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#parseLong(java.lang.CharSequence,int,int,int)\" rel=\"nofollow noreferrer\"><code>Long.parseLong</code></a> method that allows to skip the <code>substring</code> operation exists since Java 9. But even when you use <code>Long.parseLong(m.group())</code> here, you avoid creating strings for the non-numerical parts and retain the temporary strings as short as possible, which is optimizer-friendly.</p>\n"}],"last_activity_date":1684244975,"question_id":76247049,"body":"<p>I have a string like this:</p>\n<pre><code>/good/312321312/bad/3213122131\n</code></pre>\n<p>I have to extract the two sets of digits from there.\nI thought about two solutions: either using the <code>split()</code> or simply writing a regex to match the digits.\nWhat would be the better solution performance wise?\nIf you have any other suggestion please tell me so.</p>\n"},{"comments":[{"comment_id":134487543,"body":"Welcome to SO.  Please have a look into this <a href=\"https://meta.stackoverflow.com/questions/334822/how-do-i-ask-and-answer-homework-questions\">How do I ask and answer homework questions?</a> and don&#39;t expect people to do your homework for you? Regards"},{"comment_id":134488173,"body":"This question has been made many time here. Search for an existing answer. Tip: don&#39;t use regex."}],"last_activity_date":1684244971,"question_id":76263832,"body":"<p>write a Java program that demonstrates email Your task is to create a Java program that validates whether a user-inputted email address matches a\nspecific pattern. The pattern to be matched is as follows:\n'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+.[a-zA-Z]{2,}$'address pattern validation without using any\nbuilt-in library functions, specifically without importing java.util.regex.*.</p>\n<p>i cant make logic for that</p>\n"},{"comments":[{"comment_id":134484471,"body":"It is not clear what you are trying to achieve and how it fails. If you show the details of one particular attempt and how it failed exactly it might become clearer. In general, I don&#39;t see why you would want to use a DOMSource with Saxon and s9api to process or create XSLT; XSLT is XML so you can load it with the <code>doc</code> XPath function and you can output it like any other XML, with <code>xsl:output method=&quot;xml&quot;</code>, perhaps needing to set up a namespace alias to have no collision between the <code>xsl</code> prefix used for your XSLT code and then prefix used for your (XSLT) result elements."},{"comment_id":134484535,"body":"Please provide enough code so others can better understand or reproduce the problem."},{"comment_id":134484755,"body":"As for not finding documentation, see <a href=\"https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/\" rel=\"nofollow noreferrer\">saxonica.com/html/documentation11/extensibility/&hellip;</a> and <a href=\"https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/ext-simple-J.html\" rel=\"nofollow noreferrer\">saxonica.com/html/documentation11/extensibility/&hellip;</a> and <a href=\"https://www.saxonica.com/html/documentation11/extensibility/extension-functions-J/ext-full-J.html\" rel=\"nofollow noreferrer\">saxonica.com/html/documentation11/extensibility/&hellip;</a> for the documentation."}],"answers":[{"answer_id":76263825,"body":"<p>The comments address some of your subsidiary questions and describe ways you could improve your post. As to your headline question:</p>\n<blockquote>\n<p>How to pass a List of objects or a DOMSource as a parameter from java\nto xslt using Saxon 11.4 and Saxon9api?</p>\n</blockquote>\n<p>The <code>XsltTransformer</code> class has a method <code>setParameter</code>, while <code>Xslt30Transformer</code> has <code>setParameters</code>; what they have in common is that you pass the values of the parameters as instances of <code>XdmValue</code>.</p>\n<p>If you want to pass a list of strings as a parameter, convert each string to an <code>XdmAtomicValue</code> by calling <code>new XdmAtomicValue(str)</code>, then call <code>new XdmValue(Iterable&lt;? extends XdmItem&gt;)</code> or new <code>XdmValue(Iterator&lt;? extends XdmItem&gt;)</code> to convert the list of <code>XdmAtomicValue</code> objects into an <code>XdmValue</code> representing the sequence.</p>\n<p>If you want to pass a DOM tree as a parameter (and I wouldn't normally recommend it, because using Saxon's native tree model is much faster), calling <code>DocumentBuilder.wrap(doc)</code> on the DOM <code>Document</code> node gives you an <code>XdmNode</code>, which is a subtype of <code>XdmValue</code>.</p>\n"}],"last_activity_date":1684244926,"question_id":76261883,"body":"<p>I want to pass a list of objects from java to xslt using saxon9api or pass the DOMSource if possible.</p>\n<p>What i'm looking for is to generate an xslt by the xslt itself, i want to pass the list of nodes which they already have their childs...etc and i already have the java classes needed, i'm stuck to pass the list and loop it in xslt</p>\n<p>I have tried implementing ExtensionFunction but it's not working for me, didn't found any useful tutorial nor a documentation</p>\n"},{"comments":[{"comment_id":134487309,"body":"<code>may.milkCow()</code>?"}],"last_activity_date":1684244360,"question_id":76263715,"body":"<pre><code>public class Cow{\n    \n    public static void main(String[] args) {\n        Cow may = new Cow(&quot;Corny&quot;, &quot;moo&quot;);\n        milkCow();\n        System.out.println(may.getNumMilkings());\n    }\n    \n    private String type;\n    private String sound;\n    private int numMilkings;\n    \n    public Cow(String t, String s){\n        type = t;\n        sound = s;\n        numMilkings = 0;\n    }\n    \n    public String getSound(){\n        return sound;\n    }\n    \n    public String getType(){\n        return type;\n    }\n    public void milkCow(){\n        numMilkings++;\n    }\n    public int getNumMilkings(){\n        return numMilkings;\n    }\n}\n</code></pre>\n<p>There is a problem with me calling milkCow() in the main method. I wanted to use milkCow() to increase the value of numMilkings by 1.</p>\n"},{"answers":[{"comments":[{"comment_id":970917,"body":"I disagree, SpringMVC experiance hasnt help me with Seam. Maybe I don&#39;t see the patterns."},{"comment_id":1034940,"body":"Check out &quot;Design Patterns For Dummies&quot; or &quot;Head First Design Patterns&quot;. Both are written using Java examples, but can (and are) be applied to .NET. SpringMVC framework lossely has an equivalent in ASP.NET MVC."},{"comment_id":3211737,"body":"Yes Head First Design pattern is a great book :) I&#39;m reading this. In the world of programming , you learn algorithm and techniques rather than focusing on technical problems :)"},{"comment_id":24841053,"body":"I disagree and would say that it&#39;s simpler. MS people have a menu like this: appetizer-1 item; drink-1 item; main course-1 item; desert-1 item; and the whole meal is designed to go together. Albeit, prison meals are similar in nature I guess.) With Java and Unix/Linux, the menu is a book and you have to prepare dinner without screwing up the combos. That&#39;s no task for a person new to software architecture. In that case it&#39;s better to work with experienced &quot;chefs&quot; (team) where you can be guided. In that case, where the combo decisions are given to you, then yeah, in that case it may be the same"},{"comment_id":24847128,"body":"@Michael.M it is fair to say that 3 years on, this discussion may have dated. I&#39;m sure .NET jobs are now listed with EF, MVC, Castle Windsor, Sprint.NET and so on just like Java jobs were in 2009. There are many ways to skin a cat in both Java and .NET - although I hope that doesn&#39;t clash too badly with the chef metaphor!"},{"comment_id":24867988,"body":"@SteveFenton: I find that: if you work in a true MS shop, then for the most part, all these other options, such as Sprint.Net, Castle Windor etc are quite <i>taboo</i> simply because it&#39;s not covered in the corporate support contract which the CFO already remitted a check for. It&#39;s noteworthy that by &quot;MS-shop&quot;, I am referring to all the MS-shops I have worked/interviewed at where the corp pays MSFT for an annual support contract and will <i>only allow you to use products supported within that eco-system</i> because that is the support they are vested in. I have found nothing like this in any Unix shop."},{"comment_id":24897404,"body":"@Michael.M you don&#39;t have to work at places like that."}],"answer_id":1152214,"body":"<p>It's different, rather than easier.</p>\n\n<p>The reason the Java jobs are listed against frameworks is becuase Java has tons of frameworks and design patterns ready to be used to make things easier to maintain. The design patterns and frameworks are starting to appear more in .NET now too, so expect to see jobs changing to look more like those Java jobs.</p>\n\n<p>There are just as many patterns and practices in both worlds - but they are more established in the Java community (the Java employer will push them onto you, you will find yourself pushing your .NET employer).</p>\n\n<p>Largely, Java vs .NET is syntax. Do either (do both!). But be aware of the patterns and frameworks as they'll really help you to write better code.</p>\n"},{"comments":[{"comment_id":24840853,"body":"-1 Imprecise, is an understatement to be sure."}],"answer_id":1152221,"body":"<p>Let's line up the technologies you mention (and some you don't). This will necessarily be somewhat imprecise so will be a nitpickers paradise :)</p>\n\n<pre>\n    .NET           Java        The overall encompassing technology\n    ASP            Struts      A Web development framework\n                   JSF\n    (.NET BCL?)    Spring      An application development framework\n                   EJB\n    SQL Server     an RDBMS    A database\n    (VS)           Eclipse     An IDE\n</pre>\n\n<p>CSS, Javascript, AJAX, REST are all technologies common to both stacks.</p>\n\n<p>The technology concepts you have to learn are the same whatever stack you choose - it's just the names are different. The .NET ones will all be 'Microsoft Blah Blah Blah', whereas the Java ones will all have funky cool names...</p>\n"},{"comments":[{"comment_id":970836,"body":"An obvious sidenote, though, is that while <i>one</i> particular Java shop might settle on a specific combination of technologies, another Java shop might well pick different ones; and it is likely that you end up working in more than one in the course of your career. So a Java dev still has to be ready to learn more frameworks than a .NET dev, on average. Whether it&#39;s for better or worse is a different question, though."},{"comment_id":970868,"body":"Agreed, Pavel. On this site, I&#39;m glad saying that it&#39;s for the better; the developers who don&#39;t like learning different approaches probably don&#39;t come to Stack Overflow. :-)"},{"comment_id":67991159,"body":"That&#39;s not necessarily true though, one of the big reasons why Python has developed in the way it has is because they try to have a canonical way of doing things"}],"answer_id":1152222,"body":"<p>In talking with my .Net pals, it seems like getting started on something pretty standard is easier, because most people do things the Microsoft way. Java's large number of choices means you have to pick libraries and toolkits at many different levels. The upside for Java is that when the official or common way doesn't suit you, there are a lot more options available.</p>\n\n<p>In practice, I don't think it makes much difference. Any single Java shop will generally settle on one particular thing. E.g., Struts or Spring or JSF, not all three. Hibernate or Ibatis or pure JDBC, not all three. So I think there's about the same amount of stuff to learn, in that whether you're using a Java stack or a .Net one, you're still solving roughly similar problems.</p>\n"},{"comments":[{"comment_id":3339996,"body":"+1, totally agree on this. like in my statement below, the advantage is that you know what to expect on your next job. learning new technologies won&#39;t be as complicated and you tend to span more opportunities because M$ technologies are unified."}],"answer_id":1152231,"body":"<p>Yes, with Java you have web frameworks like JSF, Struts, Struts2, Wicket, SpringMVC, Stripes, Tepestry, Facelets .. just to name a few. <strong>Every company is using different frameworks</strong>, so if you change job you will learn new frameworks. And its only web framework, what about persistance ? JDBC, Hibernate, JDO, iBatis. Who can name 5 mocking frameworks for Java? Who have used 5 different application servers? What about databases? Ive even used Informix and Teradata. I think all .NET is using Sql Server and its easier to learn one database well.</p>\n"},{"answer_id":1152255,"body":"<p>In Java world, you develop with technologies from many communities, in .NET world, you only work on technologies from Microsoft. In my opinion Java developers are more free in terms of choices of technologies, but sometimes it also brings you problems. :)</p>\n"},{"comments":[{"comment_id":3339979,"body":"+1 on your statement. some Java peeps like to underestimate .Net."}],"answer_id":1152270,"body":"<p>Please don't forget about the following .NET technologies: Win.Forms, Silverlight, WCF, WPF, WWF... There are still a lot of learning in .NET outside of web development. It is not easy to be a <strong>senior</strong> .NET developer, at least not much easier then Java. However, IMHO it is easier to start in .NET when you have no past development experience.</p>\n"},{"answer_id":3234975,"body":"<p>I'm a C# developer, believe me, there are more choices in Java than in .Net. The obvious advantage in .Net, though, is that in any job you land uses the same IDE (Visual Studio) and (in most cases) uses the latest .Net framework (except for maintaining legacy apps). There may be some subtle differences in different employers such as them using Enterprise Libraries, MVC versus Forms, WPF, etc.; But if you're a seasoned C# developer, you can adapt easily depending on your fundamentals.</p>\n\n<p>Some developers in my field who did not learn any other programming languages tend to be lazy and simply drag-n-drop objects to accomplish tasks 80% of the time (some of them even believe that object-oriented programming is simply code with objects). If you are familiar in C++ or any C based language, you will definitely have the upper hand but that is not a requirement.</p>\n\n<p>I'd suggest learn the best programming practices, never put all your eggs in one basket (even though god did that to us men), and be open to other languages other than C#. If you learn one C-based language, learning other major languages won't be as hard rather than starting with VB.Net.</p>\n\n<p>Either way, both of them are well paying jobs and you won't regret if you choose either one.</p>\n\n<p>my 2 cents.</p>\n"},{"answer_id":3999019,"body":"<p>Something else important to consider is that you can get \"branded\" as a .NET or Java developer midway into your career.  At that point, it becomes more difficult to switch, since (understandably) you have less experience in the one you didn't choose.  Thus far, I have been alternating, but that comes with its own set of problems where you have gaps in experience with new libraries/frameworks on each side.</p>\n\n<p>Any other thoughts on the pros/cons of developing Java vs. .NET? For instance, what types of companies, cultures, pay, etc?</p>\n\n<p>For me, it seems like .NET tends to be in more established companies whereas Java is used by a lot of startups (given the low cost entry and open source libraries available). The pay is comparable, but .NET seems a little higher.  Java development might be a little more fun given that you get to play with new frameworks more often and aren't as restricted to specific paradigms.</p>\n"},{"answer_id":9702598,"body":"<p>Java itself has more fields coming into it; I mean, Java developers have now more opportunities than any other technologies in the market. They are being hired at attractive compensations to develop different java-based applications, software and games etc. It will continue to be increased in future as well. Just stick with JAVA :)</p>\n"}],"last_activity_date":1684244314,"question_id":1152194,"body":"<p>When I do a job search for a .Net developer it's all mostly the same stuff .Net, ASP, SQL Server, CSS, Javascript, AJAX, and maybe C#. Whereas with Java you may have to have Java, Sturts, Spring, JSF, EJB, a RDMB, Eclipse RCP, CSS, Javascript, AJAX, Rest, any number of specific Java APIs. Is it easier to be a .Net developer since the technologies are so focused? Or does it just seem that way?</p>\n"},{"comments":[{"comment_id":134482544,"body":"To understand better, do you want to combine the result of two queries?"},{"comment_id":134487281,"body":"The solution is to nest the second query into the <code>onDataChange</code> for the first one, and then nest the writing of the CSV into the <code>onDataChange</code> of the first query. If you can&#39;t get that work, edit your question to <a href=\"http://stackoverflow.com/help/mcve\">show us where you got stuck</a>."},{"comment_id":134488086,"body":"@FrankvanPuffelen thank you. That did the trick for me. It seems to work now. You saved my day. But one question still remains: Now i have the two queries combined, and maybe in future its possible that the data is growing bigger and bigger. How do i know that performance is still enough that user experience keeps good? Is there a way to test how long it needs to execute the queries and creating and filling the file with the received data?"},{"comment_id":134489352,"body":"Usually you can get pretty far with running the data loading operations in parallel and keeping something like a counter to determine how many of them are still pending. But there&#39;s no single idiomatic answer, and it all depends on the exact use-case and the rest of your implementation."}],"last_activity_date":1684244224,"question_id":76260725,"body":"<p>i have stored the Data for my application in Firebase RealtimeDatabase. Now im facing a big problem by retrieving and writing the data to a csv file.\nMy Database consists of two child nodes: The Model <strong>Color</strong> with different attributes like yellow, green, red.... and the child <strong>Times</strong> with different times. Both as String values represented.</p>\n<p>For getting the data i have two queries. Everything works fine. But now i discovered that Firebase Queries work asynchron. And the only way to get the data written to the CSV File seems to be inside the onDataChange method from the EventListener.</p>\n<p>I tried with interface but this does not solve the problem. (Like described here:\n<a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">Link to stackoverflow</a></p>\n<p>I cant get the values from Firebase to be stored outside of the onDataChange method. I dont know how to split the buffered writer. At the moment its only possible for me to have one buffered writer and all the append.line stuff inside one of the queries. But this is not a solution. i need all data from both queries written to the file.</p>\n<p>Does anybody know how to solve such a problem? (Im using java code)</p>\n"},{"answers":[{"answer_id":76233315,"body":"<p>You should add a Webdriver wait condition to wait for Visiblity of the element  which is why you are getting not element is not interactable exception</p>\n<p>try below in your code</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.spicejet.com/&quot;);\nWebElement addon = driver.findElement(By.xpath(&quot;//div[text()=\\&quot;Add-ons\\&quot;]&quot;));\nActions actions = new Actions(driver);\nactions.moveToElement(addon).perform();\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(20));\nWebElement zeroCancellation = wait.until(ExpectedConditions.visibilityOfElementLocated(\n    By.xpath(&quot;//div[text()=\\&quot;Zero Cancellation\\&quot;]&quot;)));\nzeroCancellation.click();\n</code></pre>\n"}],"last_activity_date":1684243710,"question_id":76232981,"body":"<p><img src=\"https://i.stack.imgur.com/Ogawg.jpg\" alt=\"\" /></p>\n<p>I want to click on <code>Zero Cancellation</code> in Addons Tab at the top after the mouse hover. But it shows element is not interactable.. Please help me to solve this.\nURL - <a href=\"https://www.spicejet.com/\" rel=\"nofollow noreferrer\">https://www.spicejet.com/</a></p>\n"},{"answers":[{"answer_id":76263597,"body":"<p>After over a month of no answer I am pretty sure that my WebElement function is the only way I can do what I want</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebElement dynamicElement(String locator) {\n        if (driver.getClass() == AndroidDriver.class) {\n            return driver.findElement(AppiumBy.xpath(\n                        String.format(&quot;//android.widget.TextView[@text='%s']&quot;, locator)));\n        } \n        else {\n            return driver.findElement(AppiumBy.iOSClassChain(\n                        String.format(&quot;**/XCUIElementTypeStaticText[`label == \\&quot;%s\\&quot;`]&quot;, locator)));\n        }\n    }\n\n</code></pre>\n"}],"last_activity_date":1684243626,"question_id":75290215,"body":"<p>Is there a way to dynamically set the xpath or id used by Appium @FindBy() so I dont have to create a dozen individual WebElements?</p>\n<p>I am using the Page Object Model to automate a mobile app. I use to just create a method that would find an element based on a string I would pass it but now I am trying to use annotations to get my elemetents.</p>\n<p>Estinally I am hoping there is a way to basically do this</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Page{\n    AppiumDriver driver;\n    \n    public Page(AppiumDriver driver){\n        this.driver = driver\n        PageFactory.initElements(new AppiumFieldDecorator(driver), this)\n    }\n    \n    @iOSXCUITFindBy(xpath = &quot;//*[@text='&quot;+option+&quot;']&quot;)\n    @AndroindFindBy(xpath = &quot;//*[@text='&quot;+option+&quot;']&quot;)\n    private WebElement dynamicOption(option)\n\n\n    public void selectOption(String option){\n        dynamicOption(option).click()\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testAThing(){\n    Page page = new Page(driver);\n    page.selectOption(&quot;New&quot;);\n}\n</code></pre>\n<p>I understand that the syntax probably doesn't make sense but this is the general idea of what I want to do</p>\n<p>I used to do something like this but I want to know if there is a way with annotations</p>\n<pre class=\"lang-java prettyprint-override\"><code>private WebElement dynamicOption(String option){\n    return driver.findElement(By.xpath(&quot;//*[@text='&quot;+option+&quot;']&quot;));\n}\n</code></pre>\n"},{"comments":[{"comment_id":134485574,"body":"<i>&quot;I have no idea why the gridPane variable is null after initializing.&quot;</i> It&#39;s not initialized though. The <code>gridPane</code> is annotated <code>@FXML</code>, which indicates that it is instantiated by the <code>FXMLLoader</code> when the FXML file is loaded and then injected into the controller. Instead of instantiating the controller directly (which I don&#39;t think you are doing in your application code), load the FXML and retrieve the controller from the <code>FXMLLoader</code>."},{"comment_id":134487127,"body":"You should also consider exactly what it is you want to unit test. If you properly separate out the game logic from the UI, then you can unit test the game logic without the UI or the controller at all. You seem to have done a lot of this anyway. Can&#39;t you just instantiate <code>GameState</code> in your test class and then test it out? For the most part, everything else in the controller is just invoking JavaFX library code, which is tested by the JavaFX developers, not by your unit test."},{"comment_id":134488061,"body":"I am not sure the following code makes any sense. Methods annotated with <code>@FXML</code> are usually handlers. <code>@FXML     public GridPane getGridPane() {         return gridPane;     }</code>"},{"comment_id":134488136,"body":"You should probably be using something like <a href=\"https://github.com/TestFX/TestFX\" rel=\"nofollow noreferrer\"><code>TestFX</code></a> for <code>JavaFX</code> <code>GUI</code> testing."}],"last_activity_date":1684243584,"question_id":76262714,"body":"<p>My problem is that mvn test command returns with this error:</p>\n<p>java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.layout.GridPane.setGridLinesVisible(boolean)&quot; because &quot;this.gridPane&quot; is null\nat stickgame.Controller.GameController.initialize(GameController.java:55)\nat\nGameLogicTest.setUp(GameLogicTest.java:24)</p>\n<p>However, if I run the application it works perfectly. I have no idea why the gridPane variable is null after initializing in the tests.\nThe rest of the test methods would return with 0, they are would work. Any thoughts?</p>\n<pre><code>public class GameLogicTest {\n    private GameController gameController;\n    private GridPane gridPane = new GridPane();\n    private GameState gameState;\n\n\n    @BeforeEach\n    public void setUp() {\n        gameController = new GameController();\n        gameController.initialize();\n        gridPane = gameController.getGridPane();\n        gridPane.setGridLinesVisible(true);\n        gameState = gameController.getGameState();\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class GameController {\n\n    private GameState gameState;\n\n    /**\n     * Variable to earn the GridPane from the StickGame.fxml file.\n     */\n    @FXML\n    private GridPane gridPane;\n\n    private static final int lineWidth = 100;\n    private static final int lineThickness = 6;\n\n    @FXML\n    public GridPane getGridPane() {\n        return gridPane;\n    }\n\n    public GameState getGameState() {\n        return gameState;\n    }\n\n    public void initialize() {\n        gameState = new GameState();\n\n        gridPane.setGridLinesVisible(false);\n        final int gridHeight = 200;\n        final int gridWidth = 200;\n        gridPane.setPrefSize(gridHeight, gridWidth);\n\n\n        for (int row = 0; row &lt; GameState.BOARD_SIZE; row++) {\n            for (int col = 0; col &lt; GameState.BOARD_SIZE; col++) {\n                createVerticalLine(row, col);\n                createHorizontalLine(row, col);\n            }\n        }\n\n        for (int row = 0; row &lt; GameState.BOARD_SIZE; row++) {\n            int col = GameState.BOARD_SIZE;\n            createHorizontalLine(row, col);\n        }\n\n        for (int col = 0; col &lt; GameState.BOARD_SIZE; col++) {\n            int row = GameState.BOARD_SIZE;\n            createVerticalLine(row, col);\n        }\n        Logger.info(&quot;Grid created of lines&quot;);\n    }\n...\n\npublic void createHorizontalLine(final int row, final int col) {\n        Line line = new Line(0, 0, lineWidth, 0);\n        line.setStrokeWidth(lineThickness);\n        line.setOnMouseClicked(this::handleLineClick);\n        gridPane.add(line, row * 2 + 1, col * 2);\n    }\n\n    public void createVerticalLine(final int row, final int col) {\n        Line line = new Line(0, 0, 0, lineWidth);\n        line.setStrokeWidth(lineThickness);\n        line.setOnMouseClicked(this::handleLineClick);\n        gridPane.add(line, row * 2, col * 2 + 1);\n    }\n</code></pre>\n"},{"comments":[{"comment_id":134487096,"body":"I’m voting to close this question because Stack Overflow isn&#39;t a good place to ask questions about Google Play Store app policies. Consider using a discussion forum such as Reddit."}],"last_activity_date":1684243572,"question_id":76263585,"body":"<p>I had made an app in 2019 named phone finder app and published that on play store.</p>\n<p>The app works as follows:\nAsks the user to create username and password</p>\n<p>After that the service got started and sends the users current longitudes and latitudes to the firebase database after every 10 minutes.</p>\n<p>That user can share his username and password to other users and after that anyone having his username and password can see his current location by installing the same app on his phone.</p>\n<p>Basically it was a family tracker and also if the phone gets lost then by using other phone and installing the same app, one can identify the last known location of the phone.</p>\n<p>I got a boost in installs but after some days the app got suspended. I think google took it as a spy app or something else because i had access to firebase database and getting cooridnates of every user. I made another version of app 2 years ago and i wrote complete privacy policy that how this app works and let the user know in the app too but again my whole developer console got terminated.</p>\n<p>I wanted to know to root cause of my problem</p>\n"},{"answers":[{"comments":[{"comment_id":134481371,"body":"Report any issues with the migration <a href=\"https://github.com/TimefoldAI/timefold-solver/issues?q=is%3Aissue+is%3Aopen+label%3Atimefold-solver-migration\" rel=\"nofollow noreferrer\">in Github issues</a>."},{"comment_id":134553539,"body":"I get this error when I run that mvn command(with ./mvnw )  Error resolving version for plugin &#39;.recipeArtifactCoordinates=ai.timefold.solver:timefold-solv&zwnj;&#8203;er-migration&#39; from the repositories [local (C:\\.m2\\repository), central (<a href=\"https://repo.maven.apache.org/maven2)]\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2)]</a>: Plugin not found in any plugin repository"}],"answer_id":76260016,"body":"<p>No need to manually change imports statements, dependencies, etc. Just run a single command:</p>\n<ol>\n<li><p>Pick the right Timefold version:</p>\n<ul>\n<li>If you're on OptaPlanner 8, use Timefold 0.8.x.</li>\n<li>If you're on OptaPlanner 9, use Timefold 1.x (currently 0.9.x).</li>\n</ul>\n</li>\n<li><p>Copy paste the Maven or Gradle command <a href=\"https://timefold.ai/blog/2023/optaplanner-fork/#upgrade-from-optaplanner-to-timefold\" rel=\"nofollow noreferrer\">from here</a>. For Maven it looks like this:</p>\n<pre><code>mvn org.openrewrite.maven:rewrite-maven-plugin:4.45.3:run -Drewrite.recipeArtifactCoordinates=ai.timefold.solver:timefold-solver-migration:0.8.38 -Drewrite.activeRecipes=ai.timefold.solver.migration.ToLatest\n</code></pre>\n</li>\n<li><p>Run the solver in your application. Verify <strong>the score calculation speed is faster</strong> now. Look at the last log message:</p>\n<pre><code> INFO  Solving ended: ... score calculation speed (103322/sec) ...\n</code></pre>\n</li>\n<li><p>Commit the local changes.</p>\n</li>\n</ol>\n"}],"last_activity_date":1684243246,"question_id":76260015,"body":"<p><a href=\"https://timefold.ai/blog/2023/optaplanner-fork/\" rel=\"nofollow noreferrer\">We forked OptaPlanner as Timefold</a> some time ago. We often get this question:</p>\n<p>Timefold changes all import statements and dependencies. How do I migrate an OptaPlanner codebase to Timefold efficiently?</p>\n"},{"last_activity_date":1684243131,"question_id":76222152,"body":"<p>I am trying to verify that a web link in my mobile app redirects to the correct URL using appium. I was able to do this easily in Android by just using context switching. However I can't get it to work in iOS. I have read dozens of other posts and threads but they have not been helpful</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getURL(){\n        appContext = ((SupportsContextSwitching) driver).getContext();\n        Set&lt;String&gt; contextList = ((SupportsContextSwitching) driver).getContextHandles();\n        ((SupportsContextSwitching) driver).context((String) contextList.toArray()[1]);\n        return driver.getCurrentUrl();\n    }\n</code></pre>\n<p>contextList always only contains 1 element in iOS, NATIVE_APP. For Android I get 2, NATIVE_APP and WEBVIEW.</p>\n<p>I tired just using</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getURL(){\n        return driver.getCurrentUrl();\n    }\n</code></pre>\n<p>for iOS but then I get a &quot;method not implemented&quot; error</p>\n<p>Is there a better way to get the url from an imbedded app Webview? I just want to get the url as a string so a can perform an <code>Assert.assertEqual</code> on it.</p>\n<p>Note: <code>setWebContentsDebuggingEnabled</code> is enabled</p>\n<p><strong>EDIT</strong>: Looks like there is an issue with newer versions of iOS 16 that prevents SafariViews from being debuggable. Devs are looking into how to configure app to allow it.</p>\n"},{"comments":[{"comment_id":134487087,"body":"I have added sample run&#39;s output. What do you think is wrong, and what is your expected value?"},{"comment_id":134487688,"body":"@Ishan i got around 60+ num of operation but i expect 200++"},{"comment_id":134487859,"body":"Based on where <code>numOfOperations++</code> is done in your code, it seems to be correct (I get 64 for your data). Now what does it count as operations, it depends on that. You can keep <code>numOfOperations</code> as a class-level static variable, and not local, and increment it in <code>countDigits</code> and <code>getDigit</code> methods too, then you may get a higher operations count."}],"last_activity_date":1684243126,"question_id":76263498,"body":"<p>For radix sort algorithm, how can we get the number of operations performed by using code (java) and displaying it?</p>\n<p>Initially I initialised a variable to increment after certain operations but i believe the number of operations displayed is wrong. I'm not sure how to calculate and save the number of operations used. Is there a better way?</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class RadixSort {\n\n    public static void main(String[] args) {\n        long[] numbers = {2000, 827, 9202, 10, 409, 1711, 677, 2303};\n        System.out.println(&quot;\\nUnsorted List: &quot; + Arrays.toString(numbers) + &quot;\\n&quot;);\n        int numOfOperationsN = radixSort(numbers); // Call the function that will sort the numbers based on radix sort algorithm\n        System.out.println(&quot;\\nNumber of Operations: &quot; + numOfOperationsN);\n        System.out.println(&quot;\\nSorted List: &quot; + Arrays.toString(numbers)); // Display the finalised list of numbers that has been stored\n    }\n\n    public static int radixSort(long[] numbers) {\n\n        int numOfOperations = 0;\n        // Find the maximum number to determine the number of digits\n        long maxNumber = Arrays.stream(numbers).max().getAsLong();\n        int maxDigits = countDigits(maxNumber);\n\n        // Array of buckets\n        List&lt;Long&gt;[] buckets = new ArrayList[10];\n\n        for (int i = 0; i &lt; buckets.length; i++) {\n            buckets[i] = new ArrayList&lt;&gt;();\n        }\n\n        // Distribute the numbers into the buckets based on the current digit place\n        for (int digitPlace = 1; digitPlace &lt;= maxDigits; digitPlace++) {\n            // Iterate through the numbers in the array\n            for (long number : numbers) {\n                // Get the digit at the current digit place\n                int digit = getDigit(number, digitPlace);\n                // Add the number to the corresponding bucket\n                buckets[digit].add(number);\n                numOfOperations++;\n            }\n\n            // Collect the numbers from the buckets and update the original array\n            int index = 0;\n            for (List&lt;Long&gt; bucket : buckets) {\n                for (long number : bucket) {\n                    numbers[index++] = number;\n                    numOfOperations++;\n                }\n                bucket.clear();\n            }\n            System.out.println(&quot;After Pass &quot; + digitPlace + &quot;: &quot; + Arrays.toString(numbers));\n            System.out.println(&quot;Number of Operations for Pass &quot; + digitPlace + &quot;: &quot; + numOfOperations);\n        }\n        return numOfOperations;\n    }\n\n    public static int countDigits(long number) {\n        if (number == 0) {\n            return 1;\n        }\n\n        // Iterate through the number and count the number of digits\n        int count = 0;\n        while (number != 0) {\n            number /= 10;\n            count++;\n        }\n        return count;\n    }\n\n    public static int getDigit(long number, int digitPlace) {\n        // Get the divisor for the current digit place\n        long divisor = (long) Math.pow(10, digitPlace - 1);\n        // Get the digit at the current digit place\n        return (int) ((number / divisor) % 10);\n    }\n}\n</code></pre>\n"}]}