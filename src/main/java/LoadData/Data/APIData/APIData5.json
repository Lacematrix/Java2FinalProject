{"items":[{"comments":[{"comment_id":134551267,"body":"try a <code>Long</code> and add <code>@NotNull</code>, otherwise <code>null -&gt; 0 -&gt; valid</code> makes totally sense"},{"comment_id":134551278,"body":"(if you want to allow <code>0</code> and not allow <code>null</code> that&#39;s the way to go..)"}],"answers":[{"answer_id":76307833,"body":"<p>for long value you cannot set null because its not wrapper . for test that send 0 for amount .\nfor strings in your dto test @NotEmpty</p>\n"}],"last_activity_date":1684769959,"question_id":76301625,"body":"<p>I'm trying to make some validations for the DTOs in my spring application, when i send a request with blank or null values it should throw an exception, but its not doing it and it goes into the method. This is what i have</p>\n<pre><code>@AllArgsConstructor\n@RestController\n@Validated\npublic class AccountController implements AccountAPI {\n    private final AccountService accountService;\n    @Override\n    public AccountResponseDTO save(@RequestBody @Valid AccountCreateDTO account){\n        return accountService.save(account);\n    }\n\n    @Override\n    public AccountResponseDTO withdraw(@RequestBody @Valid TransactionAccountDTO transaction){\n        return accountService.withdraw(transaction);\n    }\n\n    @Override\n    public AccountResponseDTO deposit(@RequestBody @Valid TransactionAccountDTO transaction){\n        return accountService.deposit(transaction);\n    }\n\n    @Override\n    public TransferResponseDTO transfer(@RequestBody @Valid TransferRequestDTO transaction){\n        return accountService.transfer(transaction);\n    }\n\n    @Override\n    public AccountResponseDTO enableAccount(@PathVariable String accountNumber){\n        return accountService.enableAccount(accountNumber);\n    }\n\n    @Override\n    public AccountResponseDTO disableAccount(@PathVariable String accountNumber){\n        return accountService.disableAccount(accountNumber);\n    }\n    @Override\n    public void testPath(@Valid @RequestBody TransferRequestDTO transaction){\n        System.out.println(&quot;It got here!&quot;);\n    }\n\n\n}\n</code></pre>\n<p>I'm using the testPath to &quot;test&quot; the validations to avoid problems with the service if the null or blank values go through.</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@Builder\npublic class TransferRequestDTO {\n    @NotBlank\n    private String originAccountNumber;\n    @NotBlank\n    private String destinationAccountNumber;\n    @Min(value = 0)\n    private long amount;\n}\n</code></pre>\n<p>This is the DTO and when I try something like this in postmant:</p>\n<pre><code>{\n    &quot;originAccountNumber&quot;:&quot;&quot;,\n    &quot;destinationAccountNumber&quot;:&quot;&quot;,\n    &quot;amount&quot;:null\n}\n</code></pre>\n<p>It prints the line inside the method when it should throw an exception for the validations</p>\n<p>I tried adding this to the pom (dependencies) but the problem its not gone</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also i tried adding @Validated in the controller class but nothing, am i missing something?</p>\n"},{"comments":[{"comment_id":134561693,"body":"Assuming <code>Warrior</code>, <code>Archer</code> etc. all inherit from a common class you should declare a variable of said class type before your <code>if...else....</code> statements and assign <code>new Warrior</code>, <code>new Archer</code> etc to that variable."}],"last_activity_date":1684769731,"question_id":76307806,"body":"<p>I am initializing a character based on player input choosing 3 classes, but when I run the program using any function from these classes, I get an error saying that it cannot find the symbol &quot;user&quot; in line 46 of main.java.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.HashMap;\nimport java.util.ArrayList;\nclass Main {\n  public static void main(String[] args) {\n    Scanner userInput = new Scanner(System.in);\n    System.out.println(&quot;What is your name?&quot;);\n    String name = userInput.nextLine();\n    HashMap&lt;String, Integer&gt; inventory = new HashMap&lt;String,Integer&gt;();\n    String equippedItem = &quot;Simple Sword&quot;;\n    int playerStrength = 3;\n    while(true){\n      //assign variables\n      System.out.println(&quot;What class are you?\\nWarrior | Archer | Mage\\n(Type 'help' for an explanation of the classes)&quot;);\n      String playerClass = userInput.nextLine();\n      if(playerClass.equals(&quot;help&quot;)==true){\n        System.out.println(&quot;Each class has a different set of weapons that can be equipped, &quot;);\n        continue;\n      }\n      else if(playerClass.equals(&quot;Warrior&quot;)==false &amp;&amp; playerClass.equals(&quot;Archer&quot;)==false &amp;&amp; playerClass.equals(&quot;Mage&quot;)==false){\n        System.out.println(&quot;Invalid Selection&quot;);\n        continue;\n      }\n      else if (playerClass.equals(&quot;Warrior&quot;)==true){\n        Warrior user = new Warrior(name);\n        inventory.put(&quot;Simple Sword&quot;,10);\n        equippedItem = &quot;Simple Sword&quot;;\n      }\n      else if (playerClass.equals(&quot;Archer&quot;)==true){\n        Archer user = new Archer(name);\n        inventory.put(&quot;Simple Bow&quot;,10);\n      }\n      else if (playerClass.equals(&quot;Mage&quot;)==true){\n        Mage user = new Mage(name);\n        inventory.put(&quot;Simple Fireball&quot;,10);\n      }\n      else{\n        System.exit(100);\n      }\n      int enemNum = 0;\n      while(true){\n        enemNum = enemNum + 1;\n        int weaponStrength = inventory.get(equippedItem);\n        int enemyDamage = enemNum*10;\n        int enemyHealth = enemNum*400;\n        int playerDamage = user.getDMG(playerStrength, weaponStrength);\n      }\n    }\n  }\n}\n</code></pre>\n<p>Even if I put an else statement automatically defining the user as a warrior it gives me the same error. It only works if I remove the if statements and place a definition of the character as a warrior.</p>\n"},{"comments":[{"comment_id":134462268,"body":"&quot;Invalid memory access&quot; often comes from invalid type mapping, aka the java method signature not matching up with the one from the native library below. Are you sure that the c# method signature is actually (II)I and doesn&#39;t contain some weird microsoft related <code>int</code> clone?"},{"comment_id":134462313,"body":"I don&#39;t see <code>int Add2(String string, String string2);</code> in your C#... why are you specifying <i>extra</i> methods? Also, it&#39;s <code>boolean Flag();</code> one place and <code>boolean _Flag();</code> the other."}],"answers":[{"comments":[{"comment_id":134554415,"body":"I tried 2 approaches  -  1. build the code in 32bit and 64 bit both for dll and java. Still no luck. 2. Tried to put explicit export statement - [DllExport( CallingConvention = CallingConvention.Cdecl)]   Still no luck.. Any help here.."},{"comment_id":134561359,"body":"@sumansourav did you try changing the JNA inheritance to <code>StdCallLibrary</code>?"},{"comment_id":134561521,"body":"@sumansourav your <code>_Add()</code> method may be properly mapped but the error/stack corruption could be in a different mapping that you call first.  As you have a mismatch between the methods you&#39;ve shown in C and Java, I am not confident you have shown us all the code involved here.  Please double-check all your function names and mappings."}],"answer_id":76249235,"body":"<p>Your type mappings and function mappings look correct. While there's a mismatch in the functions in your question, they would result in a different error.  The Invalid memory access points to a problem with passing the function and its arguments on the stack.</p>\n<p>Possible culprits include:</p>\n<ul>\n<li>function pointer bitness mismatch if you compiled the DLL for a different bitness than your JVM</li>\n<li>calling convention mismatch</li>\n<li>stack is corrupted by a previous call</li>\n</ul>\n<p>The <a href=\"https://www.nuget.org/packages/UnmanagedExports#readme-body-tab\" rel=\"nofollow noreferrer\">Unmanaged Exports</a> package you are using gives two hints you can follow which correspond to these possible issues:</p>\n<blockquote>\n<ul>\n<li>You have to set your platform target to either x86, ia64 or x64. AnyCPU assemblies cannot export functions.</li>\n</ul>\n</blockquote>\n<p>Make sure you are calling from the same bitness of JVM you are running.</p>\n<blockquote>\n<ul>\n<li>The export name defaults to the method name and the calling convention to stdcall. If that's all what you want, you can just use [DllExport] without parameters.</li>\n</ul>\n</blockquote>\n<p>You are basically calling <code>[DllExport(&quot;_Add&quot;, CallingConvention = CallingConvention.StdCall)]</code>.  However, the JNA invocation passes &quot;this&quot;: <code>Native.invokeInt(this, this.peer, callFlags, args)</code> so you probably need the <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.runtime.interopservices.callingconvention?view=net-7.0\" rel=\"nofollow noreferrer\"><code>.ThisCall</code> convention</a>:</p>\n<blockquote>\n<p>The first parameter is the <code>this</code> pointer and is stored in register ECX. Other parameters are pushed on the stack. This calling convention is used to call methods on classes exported from an unmanaged DLL.</p>\n</blockquote>\n<p>As an (easier) alternative to changing your DLL export to conform to JNA's expected convention, you can also use the Library loading options when you load the DLL to tell JNA which conventions to use.  While there are many ways to do this, these seem the easiest (pick one):</p>\n<ul>\n<li>add the appropriate convention in the loading options</li>\n<li>add an <code>implements AltCallingConvention</code></li>\n<li>replace your implementation of <code>Library</code> with <code>StdCallLibrary</code></li>\n</ul>\n<p>Finally, you may be looking in the wrong place for the error.  You could have corrupted the stack with a previous function call.  Since your question includes a mismatch with function names between C and Java (<code>Flag()</code> without the underscore, and an <code>Add2()</code> method) it's clear that the bits of code you are showing us are not the complete class files.  Look at any method mappings that you call before <code>_Add()</code>, it's entirely possible you've created the error there.</p>\n"}],"last_activity_date":1684769360,"question_id":76226600,"body":"<p>I am trying to use JNA to use a method in c# dll.</p>\n<p>Java Code -</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Method;\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\n\nclass JNIDemoResource {\n  public static interface JNITestInterface extends Library {\n    //System.out.println(&quot;TCEnabled=&quot;+inst.TCEnabled());\n    JNITestInterface inst =  (JNITestInterface) Native.loadLibrary(&quot;ClassLibrary1&quot;, JNITestInterface.class);\n    int _Add(int x, int y);\n    boolean Flag();\n    int Add2(String string, String string2);\n  }\n\n  public static void main(String[] args) {\n    System.setProperty(&quot;jna.library.path&quot;, &quot;C:\\\\NativeDll&quot;);\n    int sum = JNITestInterface.inst._Add(2, 3);\n    System.out.println(&quot;The sum is: &quot; + sum);\n  }\n}\n</code></pre>\n<p>C# dll code. I am using the <a href=\"https://www.nuget.org/packages/UnmanagedExports#readme-body-tab\" rel=\"nofollow noreferrer\">DllExport nuget package</a> in my project to expose the methods in dll.\n<img src=\"https://i.stack.imgur.com/ybTn8.png\" alt=\"DLLExport download screencap\" /></p>\n<pre class=\"lang-cs prettyprint-override\"><code>//using System.Runtime.InteropServices;\nusing System;\nnamespace ClassLibrary1\n{\n    public class Class1\n    {\n        [DllExport]\n        public static int _Add(int x, int y)\n        {\n            return x + y;\n        }\n        [DllExport]\n        public static bool _Flag()\n        {\n              return true;\n        }\n    }\n}\n</code></pre>\n<p>From dependency walker I am able to see the methods in the dll. Dumpbin is also showing that methods are exposed.</p>\n<pre><code>&gt; dumpbin /exports &quot;C:\\NativeDll\\ClassLibrary1.dll&quot;\n\nDump of file C:\\NativeDll\\ClassLibrary1.dll\n\n  Section contains the following exports for \\ClassLibrary1.dll\n\n    00000000 characteristics\n    645CBF04 time date stamp Thu May 11 15:40:12 2023\n        0.00 version\n           1 ordinal base\n           2 number of functions\n           2 number of names\n\n    ordinal hint RVA      name\n\n          1    0 0000251A _Add\n          2    1 00002526 _Flag\n\n  Summary\n\n        2000 .reloc\n        2000 .rsrc\n        2000 .sdata\n        2000 .text\n</code></pre>\n<p>When I am calling the dll method from Java code, I am getting following error -</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Invalid memory access\n    at com.sun.jna.Native.invokeInt(Native Method)\n    at com.sun.jna.Function.invoke(Function.java:426)\n    at com.sun.jna.Function.invoke(Function.java:361)\n    at com.sun.jna.Library$Handler.invoke(Library.java:270)\n    at com.sun.proxy.$Proxy0._Add(Unknown Source)\n    at JNIDemoResource.main(JNIDemoResource.java:27)\n</code></pre>\n<p>Can anyone please suggest where am I going wrong?</p>\n<p>The library that I am using is - jna-5.13.0.jar.</p>\n"},{"last_activity_date":1684769280,"question_id":76307749,"body":"<p>I am working on migration of RestTemplate with digest Authentication from httpclient 4.x to 5.2. It was implemented using DigestScheme with overrideParamter - which is not longer available in 5.x Please find code below.</p>\n<p>My code:</p>\n<pre><code>AuthCache authCache = new BasicAuthCache();\nDigestScheme digestAuth = new DigestScheme();\n//below line cause complications error because method not found\ndigestAuth.overrideParamter(“realm”,digestRealm);\nauthCache.put(host, digestAuth);\n</code></pre>\n<p>I tried to find example in the Internet but all tutorials are about 4.x version.</p>\n<p>Maybe someone did it already and can help?</p>\n"},{"comments":[{"comment_id":134561582,"body":"Hard to say when an IDE is in between. Did you deploy and restart tomcat ? Is the lib provided or in the war ?"},{"comment_id":134561616,"body":"Yes, I always deploy and restart. The changes also reflect in the class file of the library under Project and External Dependencies of Project A. Lib is provided"},{"comment_id":134562082,"body":"<i>How</i> are you replacing the lib jar file? Is Eclipse aware that it&#39;s been changed? How is Tomcat being launched?"},{"comment_id":134562266,"body":"I am manually replacing the jar. Yes eclipse is aware since changes in class file are reflected in eclipse decompiler. I am using catalina jpda run command to launch."},{"comment_id":134562320,"body":"What is this &quot;eclipse decompiler&quot; you&#39;re mentioning? Eclipse doesn&#39;t come with a decompiler."},{"comment_id":134562437,"body":"I have downloaded a de-compiler to debug in class file in eclipse. When I open the class file, latest changes are present. However the breakpoint does not break on the latest change."}],"last_activity_date":1684768858,"question_id":76307677,"body":"<p>I have a java project(Project A) that consumes a library(Project B) dependency as a jar. After making changes to the library project(Project B), rebuilding the classes, and replacing the lib jar file, when I debug, the debugger breaks at irregular points in eclipse. The latest change is not executed. I am running the project on tomcat. If I try to hot code after adding Project B in debug configurations, it says out of synch. Debugger in both java and class file behave in the same irregular way.\nHowever, in eclipse de-compiler, the changes are reflected properly in the class where I made the change. I have also confirmed the library path in Project and External dependencies under Project A. FYI, I am just adding the following code</p>\n<pre><code>String key1 = &quot;one&quot;;\nString key2 = &quot;two&quot;;\nLOGGER.info(&quot;key1:&quot; + key1);\n</code></pre>\n<p>There is no other code change and there is no error in the logs as well.\nWhile doing a ctrl+shift+i  on key1 it says &quot;Unable to resolve key2 to a variable&quot;.\nThere is no other copy of Project B jar where it might be referring to, since I have cleared all the cache.</p>\n"},{"comments":[{"comment_id":134566082,"body":"You likely have a mismatch of the <code>org.wildfly.common:wildfly-common</code> library. You&#39;d need to look at your dependency tree to see that."},{"comment_id":134569804,"body":"should I just add that library to the pom?"}],"last_activity_date":1684768565,"question_id":76307635,"body":"<p>I'm using the generic code that has been pasted here a couple of times to get a password from an alias inside a credstore here in elytron:</p>\n<p>(Do ignore all those sysouts, I can't debug normally so I have to use a logger)</p>\n<pre><code>      String clearTextPswd = null;\n      System.out.println(&quot;Prueba0&quot;);\n      Provider CREDENTIAL_STORE_PROVIDER = new WildFlyElytronCredentialStoreProvider();\n      Provider PASSWORD_PROVIDER = new WildFlyElytronPasswordProvider();\n      Security.addProvider(PASSWORD_PROVIDER);\n      \n      \n      Password storePassword = ClearPassword.createRaw(ClearPassword.ALGORITHM_CLEAR, &quot;StorePassword&quot;.toCharArray());\n      ProtectionParameter protectionParameter = new CredentialSourceProtectionParameter(IdentityCredentials.NONE.withCredential(new PasswordCredential(storePassword)));\n\n      System.out.println(&quot;prueba1&quot;);\n      \n      \n      System.out.println(&quot;prueba2&quot;);\n      CredentialStore credentialStore = null;\n      System.out.println(&quot;prueba3&quot;);\n        try {\n            credentialStore = CredentialStore.getInstance(&quot;KeyStoreCredentialStore&quot;, CREDENTIAL_STORE_PROVIDER);\n        } catch (NoSuchAlgorithmException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(&quot;prueba4&quot;);\n        HashMap&lt;String, String&gt; configuration = new HashMap&lt;String,String&gt;();\n        configuration.put(&quot;location&quot;, &quot;mycredstore.cs&quot;);\n        configuration.put(&quot;create&quot;, &quot;true&quot;);\n\n        try {\n            credentialStore.initialize(configuration, protectionParameter);\n        } catch (CredentialStoreException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(credentialStore.isInitialized());  \n        Password password = null;\n        try {\n            password = credentialStore.retrieve(&quot;dbPassword&quot;, PasswordCredential.class).getPassword();\n        } catch (UnsupportedCredentialTypeException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (CredentialStoreException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        System.out.println(&quot;prueba5&quot;);\n        clearTextPswd = password.toString();\n        System.out.println(clearTextPswd);\n        return clearTextPswd;\n  }\n</code></pre>\n<p>The code itself should be fine, but here's the deal: I can't launch the application after adding that code. Ever since I added the last Wildfly-elytron version to the dependencies, I get a NoClassDefFoundError from org.wildfly.commons.assert that won't let me use it or debug it. These are my dependencies, could anything be wrong? Have you ever encountered this problem before?</p>\n<p>It does not trigger when calling the method, just when it invokes the classes right after launch.</p>\n<pre><code>            &lt;groupId&gt;org.pushingpixels&lt;/groupId&gt;\n            &lt;artifactId&gt;trident&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-configuration&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-configuration&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.wildfly.security/wildfly-elytron --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.wildfly.security&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-elytron&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.picketbox&lt;/groupId&gt;\n            &lt;artifactId&gt;picketbox&lt;/artifactId&gt;\n            &lt;version&gt;5.1.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;````\n</code></pre>\n"},{"comments":[{"comment_id":134561328,"body":"You need to either increase the JVM memory or write to the file record per record, i.e. not reading the entire result into memory."}],"last_activity_date":1684768529,"question_id":76307098,"body":"<p>I have to create the pipeline to transfer the data from BigQuery and save it as json file. But I got this error. The result from sql query is 30 million records. How to improve this code?</p>\n<p>Error:</p>\n<blockquote>\n<p>[error] (run-main-0) java.lang.OutOfMemoryError: Java heap space\n[error]</p>\n</blockquote>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    object tmp {\n      private val logger = LoggerFactory.getLogger(this.getClass)\n      var date = \"2023-05-22\"\n\n      def main(cmdlineArgs: Array[String]){\n        val (sc, args) = ContextAndArgs(cmdlineArgs)\n        val file_path = \"src/main/scala/thunder/tmp.sql\"\n        val sql_content = Source.fromFile(file_path).mkString\n        val queryConfig = QueryJobConfiguration.newBuilder(sql_content).build()\n        val client = BigQueryOptions.getDefaultInstance().getService()\n        val queryResult = client.query(queryConfig)\n        var result = queryResult.iterateAll().iterator().asScala.map(_.asScala.map(_.getValue).toArray).toSeq\n        val json_result = result.map { row =&gt;\n          val pin_username = row(0).toString\n          val feature_name = row(1).toString\n          implicit val formats = DefaultFormats\n          write(Map((\"pin_username\"-&gt;pin_username),(\"feature_name\" -&gt; feature_name)))\n\n        }\n        sc.parallelize(json_result)\n          .saveAsTextFile(\"output\", \".json\")\n\n        sc.close().waitUntilFinish()\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"last_activity_date":1684768493,"question_id":76307619,"body":"<p>So I want to query all redisJsons that were inserted to the Redis cache after a certain timestamp .My redisJsons have a field like this one :</p>\n<p><code>GENERATION_TIMESTAMP : &quot;2023-05-22 16:49:14.8052438&quot;</code></p>\n<p>Is there a way to query them without using a sorted Set where we store the keys sorted by their timeStamps?</p>\n<p>So a certain use case would be that I have a class that takes as argument a Timestamp , and returns all redisJsons that were saved to the cache after this timeStamp .</p>\n<p>I expected something like using an index in the RediSearch module , I also tried to send all the redisJsons in a stream and query by using xrange , but this doesn't work for my use case .</p>\n"},{"last_activity_date":1684768434,"question_id":76306253,"body":"<p>I am trying to use okhttp3 MockWebServer for my Junit5 test but seems it is not using MockWebServer and instead calls actual url resulting to Auth errors (401 status). Here is my test class, I am newbie to MockWebServer , is there anything wrong with my test code?</p>\n<pre><code>package com.abcd.abcdeopenaiapi.chatcompletion;\n\nimport com.abcd.abcdeopenaiapi.apiresponse.OpenAiChatCompletionResponse;\nimport okhttp3.mockwebserver.MockResponse;\nimport okhttp3.mockwebserver.MockWebServer;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.test.context.TestPropertySource;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@SpringBootTest\n@TestPropertySource(locations=&quot;classpath:application-test.properties&quot;)\npublic class ChatCompletionControllerTest\n{\n  public MockWebServer mockWebServer;\n\n  @Autowired\n  ChatCompletionController chatCompletionController;\n  \n  @BeforeEach\n  void setUp() throws IOException {\n\n    mockWebServer = new MockWebServer();\n    mockWebServer.url(&quot;https://xy-ab-cd-api001.openai.com/openai/chat/completions?api-version=123-preview&quot;); //todo\n\n    MockResponse mockResponse = new MockResponse()\n            .addHeader(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\n            .setBody(&quot;Success&quot;);\n\n    mockWebServer.enqueue(mockResponse);\n  }\n\n  @Test\n  public void openAiCompletionApi_Success() throws Exception {\n    OpenAIChatCompletionRequest.OpenAIChatCompletionRequestBuilder builder = OpenAIChatCompletionRequest.builder();\n    OpenAIChatCompletionRequest chatCompletionRequest = builder.messages(List.of())\n                                                               .stream(false)\n                                                               .n(1)\n                                                               .stop(null)\n                                                               .topP(1.0)\n                                                               .logitBias(null)\n                                                               .maxTokens(400)\n                                                               .presence_penalty(0)\n                                                               .temperature(0.2)\n                                                               .frequency_penalty(0)\n                                                               .build();\n\n    ResponseEntity&lt;OpenAiChatCompletionResponse&gt; responseEntity = chatCompletionController.openAiCompletionApi(\n           chatCompletionRequest);\n\n    System.out.println(responseEntity); // this will be replaced with assertion once solution works\n\n  }\n\n}\n</code></pre>\n<p>This is implementation of actual method from controller, that class http url.</p>\n<pre><code>@NotNull\n  private ResponseEntity&lt;OpenAiChatCompletionResponse&gt; getOpenAiChatCompletionResponseResponseEntity(Response httpResponse) throws IOException\n  {\n    if (httpResponse.body() != null)\n    {\n      String responseString = httpResponse.body().string();\n      if(StringUtils.isNotEmpty(responseString))\n      {\n        log.info(&quot;Response string from http call is: &quot; + responseString);\n        OpenAiChatCompletionResponse openAICompletionResponse = objectMapper.readValue(responseString,\n                                                                                       OpenAiChatCompletionResponse.class);\n        return ResponseEntity.ok(openAICompletionResponse);\n      }\n    }\n    log.error(&quot;No content available in Success Response&quot;);\n    return ResponseEntity.noContent().build();\n  }\n</code></pre>\n<p>It works after making below changes:</p>\n<ol>\n<li>Remove <code>https://xy-ab-cd-api001.openai.com</code> from method call\nmockWebServer.url, seems like MockWebServer mocks localhost urls, how do we mock a custom url? or may be it is not possible.</li>\n<li>Replace https with http</li>\n<li>Add port using <code>mockWebServer.start(8080)</code></li>\n</ol>\n<p>I am looking for solution for all of these 3 workaround I had to implement.</p>\n"},{"answers":[{"comments":[{"comment_id":122724059,"body":"The failure can also be suppressed by adding the failing test name to .trivyignore eg/CVE-2021-37136"}],"answer_id":69420289,"body":"<p>#1 Click on the 'artifacts' tab on the OWASP dependency check task in CI and the html report is there.</p>\n<p>#2 'File' in this context means the file inside the jar that is warranting the dependency issue. It will be given to you in the html report.</p>\n"},{"answer_id":75746352,"body":"<p>Below answer is based on gradle OWASP plugin version 7.4.4.</p>\n<p>Below in my build.gradle</p>\n<pre><code>id &quot;org.owasp.dependencycheck&quot; version &quot;7.4.4&quot;\n</code></pre>\n<p>And below is the task configuration</p>\n<pre><code>dependencyCheck {\n    formats = ['xml','json']\n    failBuildOnCVSS = 8\n    failOnError = true\n    suppressionFile = 'config/dependency-check/suppressions.xml'\n    check.dependsOn(dependencyCheckAnalyze)\n}\n</code></pre>\n<p>And as you see we have provided a path to suppressionFile where we can define the suppression for vulnerabilities.</p>\n<p>So, in my case our sonar build was failing due to</p>\n<pre><code>Filename: spring-security-oauth2-client-5.6.3.jar | Reference: CVE-2022-22978 | CVSS Score: 9.8\n\nFilename: snakeyaml-1.33.jar | Reference: CVE-2022-1471 | CVSS Score: 9.8\n</code></pre>\n<p>So, I have added them in Suppression.xml and my file looks like below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;suppressions xmlns=&quot;https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd&quot;&gt;\n    &lt;suppress until=&quot;2023-06-01Z&quot;&gt;\n        &lt;notes&gt;&lt;![CDATA[\n        This suppresses a CVE from SnakeYaml as it needs to wait until SpringBoot 3 upgrade\n        ]]&gt;&lt;/notes&gt;\n        &lt;packageUrl regex=&quot;true&quot;&gt;^pkg:maven/org\\.yaml/snakeyaml@.*$&lt;/packageUrl&gt;\n        &lt;vulnerabilityName&gt;CVE-2022-1471&lt;/vulnerabilityName&gt;\n    &lt;/suppress&gt;\n    &lt;suppress until=&quot;2023-06-01Z&quot;&gt;\n        &lt;notes&gt;&lt;![CDATA[\n        This suppresses a CVE from OAuth Client as it needs to wait until SpringBoot 3 upgrade\n        ]]&gt;&lt;/notes&gt;\n        &lt;packageUrl regex=&quot;true&quot;&gt;^pkg:maven/org\\.springframework\\.security/spring\\-security\\-oauth2\\-client@.*$&lt;/packageUrl&gt;\n        &lt;vulnerabilityName&gt;CVE-2022-22978&lt;/vulnerabilityName&gt;\n    &lt;/suppress&gt;\n&lt;/suppressions&gt;\n</code></pre>\n<p>I recommend to use <code>until=&quot;2023-06-01Z&quot;</code> so you don't suppress them forever.</p>\n<p>Vulnerabilities can be suppressed in number of different combinations. So, please refer <a href=\"https://jeremylong.github.io/DependencyCheck/general/suppression.html\" rel=\"nofollow noreferrer\">https://jeremylong.github.io/DependencyCheck/general/suppression.html</a> and decide which option suits your requirement.</p>\n"},{"answer_id":76307596,"body":"<p>You can use <a href=\"https://www.dependencyshield.com/\" rel=\"nofollow noreferrer\">Dependency Shield</a> that streamlines management of the false positives.</p>\n"}],"last_activity_date":1684768363,"question_id":69404705,"body":"<p>I have a build in CI failing on a the OWASP dependency check.\nFor example</p>\n<pre><code>[HIGH] CVE-2021-37136 - io.netty:netty-codec-4.1.66.Final\n</code></pre>\n<p>I understand I can add a suppression in <code>owaspDependencyCheckSuppressions.xml</code> to fix this.</p>\n<p>It's something I haven't done before, but there is a guide here -\n<a href=\"https://jeremylong.github.io/DependencyCheck/general/suppression.html\" rel=\"noreferrer\">https://jeremylong.github.io/DependencyCheck/general/suppression.html</a>\nwhich says ...</p>\n<blockquote>\n<p>&quot;Suppressing these false positives is fairly easy using the HTML\nreport.  In the report next to each CPE identified (and on CVE\nentries) there is a suppress button.  Clicking the suppression button\nwill create a dialogue box which you can simple hit Control-C to copy\nthe XML that you would place into a suppression XML file&quot;</p>\n</blockquote>\n<p>I have 2 questions</p>\n<p>#1 Do you know where I can find this HTML report? I thought it might be linked in CI (I'm using Circle CI), but I can't spot it there :(</p>\n<p>#2 An example suppression is given in the guide</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;suppressions xmlns=&quot;https://jeremylong.github.io/DependencyCheck/dependency-suppression.1.3.xsd&quot;&gt;\n   &lt;suppress&gt;\n      &lt;notes&gt;&lt;![CDATA[\n      file name: some.jar\n      ]]&gt;&lt;/notes&gt;\n      &lt;sha1&gt;66734244CE86857018B023A8C56AE0635C56B6A1&lt;/sha1&gt;\n      &lt;cpe&gt;cpe:/a:apache:struts:2.0.0&lt;/cpe&gt;\n   &lt;/suppress&gt;\n&lt;/suppressions&gt;\n</code></pre>\n<p>The guide goes on to say</p>\n<blockquote>\n<p>&quot;The above XML file will suppress the cpe:/a:apache:struts:2.0.0 from\nany file with the a matching SHA1 hash.&quot;</p>\n</blockquote>\n<p>What is meant by &quot;any file&quot;? Does this mean any Java class which uses the dependency?</p>\n<p>Thanks :)</p>\n"},{"comments":[{"comment_id":14480868,"body":"First you must import the classes."},{"comment_id":14480869,"body":"Is <code>java.util.List</code> present in your imports?"},{"comment_id":14481324,"body":"By the way, this has nothing to do with Eclipse and all to do with basic Java."}],"answers":[{"answer_id":11065534,"body":"<p>Put the following at the top of your source file:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/package/usepkgs.html\">Here</a> is an explanation of what packages are and how the <code>import</code> statement works.</p>\n"},{"comments":[{"comment_id":14480961,"body":"Oops, missed the first line, sorry!"}],"answer_id":11065541,"body":"<p>You need the following 2 imports</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n</code></pre>\n\n<p>Do you use an IDE? Most IDE's have helps that will suggest fixes like these imports.</p>\n"},{"answer_id":11065545,"body":"<p>You can press <kbd>Shift</kbd>+<kbd>Ctrl</kbd>+<kbd>O</kbd> for auto importing. </p>\n"},{"answer_id":11065681,"body":"<p>You will have to <code>either import</code> the packages in which these classes are present, <code>or write the entire path.</code></p>\n\n<h2>1. import :</h2>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n</code></pre>\n\n<h2>2. Full path:</h2>\n\n<p>public class A {  </p>\n\n<p><code>java.util.List&lt;Integer&gt;</code> intList = new <code>java.util.ArrayList&lt;Integer&gt;()</code>;</p>\n\n<p>}</p>\n\n<h2>3. In Eclipse IDE,</h2>\n\n<p>use <code>ctrl + shift + O</code> to import.</p>\n"},{"answer_id":29533229,"body":"<p>Sometimes it may also be that the Java Build Path is not correctly set for your project.</p>\n\n<p>Go to the project properties (Right click on project name in workspace and then click on Properties) and in the \"Java Build Path\" check if the <code>JRE System Library</code> is set to <code>unbound</code>. </p>\n\n<p>If that's the case, change it to one of the Java SDK available on your machine. The address to download those is <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow\">this one.</a> </p>\n"},{"comments":[{"comment_id":95350989,"body":"List variable? Really?"}],"answer_id":54263145,"body":"<p>You are declaring List object outside any method.\nMove it inside a method and it will work.</p>\n"},{"answer_id":61407778,"body":"<p>Placed the cursor into the place where error is showing then eclipse will suggest some quick fixes through a dialog box. In the dialog box select the option \"Import arraylist\". Then Eclipse will automatically import. </p>\n"},{"answer_id":64202951,"body":"<p>Even after importing the required packages, if the error persists then just click on Project in the Menu Bar and then click on Clean. Then right-click on your project from the project explorer and refresh your project.</p>\n"},{"answer_id":70180171,"body":"<p>java.util.List intList = new java.util.ArrayList();</p>\n<p>This resolves the issue.</p>\n"},{"answer_id":76307592,"body":"<p>So I'am suffering from the same probleme so you need to insall jre 1.8</p>\n<p>1 - go to this link and install the JRE 1.8 <a href=\"https://www.java.com/fr/download/manual.jsp\" rel=\"nofollow noreferrer\">https://www.java.com/fr/download/manual.jsp</a>\n2 - go to eclipse goto project proprities --&gt; build path -&gt;Library &gt; Edit Alternatif JRE choose from your directory the file you have insall from presse finish apply apply and close this will slove the probleme</p>\n"}],"last_activity_date":1684768348,"question_id":11065517,"body":"<p>I am trying the following code in eclipse:</p>\n\n<pre><code>public class A {    \n    List&lt;Integer&gt; intList = new ArrayList&lt;Integer&gt;();\n}\n</code></pre>\n\n<p>However it gives me an error saying: List cannot be resolved to a type and ArrayList cannot be resolved to a type. </p>\n\n<p>Is there some library I need to add and how do I do that?</p>\n"},{"comments":[{"comment_id":134558509,"body":"You can create DTO to represents the combined data. and then you can modify your repositories to retrieve the combined data using a query."},{"comment_id":134558590,"body":"is there other option other than creating a DTO ?"},{"comment_id":134558619,"body":"You can use Tuple interface too. Here is examples:  <a href=\"https://www.javatpoint.com/java-tuple\" rel=\"nofollow noreferrer\">javatpoint.com/java-tuple</a>"}],"answers":[{"answer_id":76306526,"body":"<p>Create Custom Class like DTO or VO to represent all the data and create custom query to which returns all the records and prepare DTO list accordingly</p>\n"},{"answer_id":76307514,"body":"<p>you can use tuple and custom query like this example :\nfor your repository :</p>\n<pre><code>public interface Report1Repository extends JpaRepository&lt;Report1,Integer&gt; {\n@Query(native=true, value='select r1.sid sid, r1.name name, r1.salary salary, r2.department department from report1 r1 left join report2 r2 on r1.sid = r2.sid')\nList&lt;ReportTuple&gt; findAllReports();\n}\n</code></pre>\n<p>and create a tuple interface like this :</p>\n<pre><code>public interface ReportTuple{\n    \n    Long getSid();\n    String getName();\n    String getDepartment();\n    Long getSalary();\n    \n    }\n</code></pre>\n"}],"last_activity_date":1684767829,"question_id":76305835,"body":"<pre><code>| Report1 | Report2   |\n| ------  | --------  |\n| sid     | sid       |\n| name    | name      |\n| salary  | department|\nreport1.sid == report2.sid\n</code></pre>\n<p>My goal is to view the result of 2 different entity data together. Both sid report will be same and unique to the user. The result I wanted to show would sid,name,salary,department. I am able to view them separately as I am using the findAll() however I wish to find all the data in a single findAll()\nI have tried using join columns however it added another column to my database table.</p>\n<pre><code>Entity\nReport1\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Data\n@Entity\n@Table(name = &quot;REPORT1&quot;)\npublic class Report1 {\n    @Id\n    private String SID;\n    private String NAME;\n    private double AMOUNT;\n}\n-------------------------------\nReport2\n@AllArgsConstructor\n@NoArgsConstructor\n@ToString\n@Data\n@Entity\n@Table(name = &quot;REPORT2&quot;)\npublic class Report2 {\n    @Id\n    private String SID;\n    private String DEPARTMENT;\n    private String NAME;\n}\n</code></pre>\n<p>repo</p>\n<pre><code>public interface Report1Repository extends JpaRepository&lt;Report1,Integer&gt; {\n}\npublic interface Report1Repository extends JpaRepository&lt;Report2,Integer&gt; {\n}\n</code></pre>\n"},{"answers":[{"answer_id":76307518,"body":"<p>I solved the issue.</p>\n<p>After I defined this part in the application.yml file, the issue was disappeared.</p>\n<pre><code>spring:\n  config:\n    import: optional:file:.env[.properties]\n</code></pre>\n"}],"last_activity_date":1684767825,"question_id":76300394,"body":"<p>I want to create an app to use API Layer for currency exchange. I used a API key of Exchange Rates Data API in apilayer.com.</p>\n<p>When I send a request to Get Rates defined in postman_collection in my repo.</p>\n<p>I get this error message shown below</p>\n<pre><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;message&quot; (class com.exchangeapi.currencyexchange.exception.RestTemplateError), not marked as ignorable (4 known properties: &quot;error&quot;, &quot;status&quot;, &quot;path&quot;, &quot;timestamp&quot;])\n at [Source: (String)&quot;{&quot;message&quot;:&quot;No API key found in request&quot;}&quot;; line: 1, column: 42] (through reference chain: com.exchangeapi.currencyexchange.exception.RestTemplateError[&quot;message&quot;])\n</code></pre>\n<p>It always detect it as <code>default-key</code>.</p>\n<p>After endpoint converts to this URL like <a href=\"https://api.apilayer.com/exchangerates_data/latest?symbols=USD%2CTRY&amp;base=EUR\" rel=\"nofollow noreferrer\">https://api.apilayer.com/exchangerates_data/latest?symbols=USD%2CTRY&amp;base=EUR</a>, I revised it in getExchangeUrl method.</p>\n<p>How can I fix it?</p>\n<p>Here is the .env file shown below (I defined .gitignore not to upload to git repo)</p>\n<pre><code>EXCHANGE_API_API_KEY=MY_APIKEY\n</code></pre>\n<p>Here is the application.yml</p>\n<pre><code>exchange-api:\n  api-url: https://api.apilayer.com/exchangerates_data/\n  api-key: ${EXCHANGE_API_API_KEY:default-key}\n  api-call-limit: 60\n  cache-name: exchanges\n  cache-ttl: 10000\n</code></pre>\n<p>Here is the Constants class shown below</p>\n<pre><code>@Component\npublic class Constants {\n\n    public static String EXCHANGE_API_BASE_URL;\n    public static String EXCHANGE_API_API_KEY;\n\n    public static String EXCHANGE_CACHE_NAME;\n    public static Integer EXCHANGE_API_CALL_LIMIT;\n\n    @Value(&quot;${exchange-api.api-url}&quot;)\n    public void setExchangeApiBaseUrl(String apiUrl) {\n        Constants.EXCHANGE_API_BASE_URL = apiUrl;\n    }\n\n    @Value(&quot;${exchange-api.api-key}&quot;)\n    public void setExchangeApiKey(String apiKey) {\n        EXCHANGE_API_API_KEY = apiKey;\n    }\n\n    @Value(&quot;${exchange-api.cache-name}&quot;)\n    public void setExchangeCacheName(String cacheName) {\n        Constants.EXCHANGE_CACHE_NAME = cacheName;\n    }\n\n    @Value(&quot;${exchange-api.api-call-limit}&quot;)\n    public void setExchangeApiCallLimit(Integer apiCallLimit) {\n        EXCHANGE_API_CALL_LIMIT = apiCallLimit;\n    }\n\n}\n</code></pre>\n<p>Here is the relevant methods saveRatesFromApi of RateService</p>\n<pre><code>private RateEntity saveRatesFromApi(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n\n        log.info(&quot;ExchangeService | saveRatesFromApi is called&quot;);\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;apikey&quot;, EXCHANGE_API_API_KEY);\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        final HttpEntity&lt;String&gt; headersEntity = new HttpEntity&lt;&gt;(headers);\n        String url = getExchangeUrl(rateDate, base, targets);\n\n        ResponseEntity&lt;RateResponse&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, headersEntity, RateResponse.class);\n\n        RateResponse rates = responseEntity.getBody();\n        RateEntity entity = convert(rates);\n        entity.setDate(rateDate);\n        return rateRepository.save(entity);\n    }\n\nprivate String getExchangeUrl(LocalDate rateDate, EnumCurrency base, List&lt;EnumCurrency&gt; targets) {\n        String symbols = String.join(&quot;%2C&quot;, targets.stream().map(EnumCurrency::name).toArray(String[]::new));\n        return EXCHANGE_API_BASE_URL + rateDate + &quot;?symbols=&quot; + symbols + &quot;&amp;base=&quot; + base;\n    }\n</code></pre>\n<p>Here is the repo : <a href=\"https://github.com/Rapter1990/currencyexchange\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"comments":[{"comment_id":134545480,"body":"I don&#39;t think your interpretation is correct. Let&#39;s say you set the refresh time to 1 minute and the expire time to 2 minutes. If you make a request after the 1 minute mark and before the 2 minute mark, you should get back the existing (stale) value immediately while it starts refreshing the value in the background (and stale values will be returned until either the refresh completes or the expire time occurs, whichever is first). However, if no requests are issued within 2 minutes of the last time the key was loaded...sure, you&#39;ll hit the expire time instead and be hit with a blocking call."},{"comment_id":134547809,"body":"that&#39;s what I first thought when I implemented the cache but i when looking at the metrics (I tracked time to call <code>get()</code>) it seems it is not constant and follows the time to read from DB."},{"comment_id":134547820,"body":"I also thought increasing the <code>expireAfterWrite</code> but I don;t think it would help as I found there are tons (&gt; 100k range) of loads (I track the metric for the count of cache load) in contrast to evictions, so it is not like the cache is waiting for rows to expire to load them but probably it is doing the load when <code>get()</code> is called on keys needed refresh."},{"comment_id":134547832,"body":"And looking at the code in <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/cache/LocalCache.java#L2200\" rel=\"nofollow noreferrer\">LocalCache.java#waitForLoadingValue()</a> it does seem to be a blocking call!"},{"comment_id":134561119,"body":"Sure, but it depends on where <code>waitForLoadingValue</code> is getting called from. In <code>get</code>, it&#39;s only called if there&#39;s no value in the cache, and in <code>lockedGetOrLoad</code>, which is called from <code>get</code>, again if the value is null or expired."},{"comment_id":134562296,"body":"oh right this is called when the value is already loading as it checks with <code>valueReference.isLoading()</code>"}],"answers":[{"comments":[{"comment_id":134562257,"body":"async refresh in <code>CacheLoader#reload</code> is already provided by this <code>val val cacheLoader = CacheLoader.asyncReloading(syncLoader, threadPool)</code>"},{"comment_id":134567698,"body":"Ah, I didn&#39;t know about that. Neat!"}],"answer_id":76307471,"body":"<p>Have you tried implementing the <a href=\"https://guava.dev/releases/22.0/api/docs/com/google/common/cache/CacheLoader.html#reload-K-V-\" rel=\"nofollow noreferrer\">refresh</a> method on <code>CacheLoader</code>?</p>\n<blockquote>\n<p>This implementation synchronously delegates to load(K). It is recommended that it be overridden with an asynchronous implementation when using CacheBuilder.refreshAfterWrite(long, java.util.concurrent.TimeUnit).</p>\n</blockquote>\n<p>Seems like it might be required for the behavior you're seeking.</p>\n"}],"last_activity_date":1684767580,"question_id":76296669,"body":"<p>I'm trying to use Guava cache with async loading of values and have non-blocking get(). Because I do load values from DB so it is pretty expensive, it would be OK to serve temporally out-dated data until new data is loaded in the background but not OK to block when trying to read from cache.</p>\n<p>I first tried using <code>refreshAfterWrite</code> with <code>expireAfterWrite</code> but it does not seem to achieve what I'm looking to do. It seems from the documentation of <a href=\"https://github.com/google/guava/wiki/CachesExplained#refresh\" rel=\"nofollow noreferrer\">refreshAfterWrite</a>, entries needed refresh will not be remove until read which makes the call to <code>cache.get()</code> blocking!</p>\n<blockquote>\n<p>Automatically timed refreshing can be added to a cache using CacheBuilder.refreshAfterWrite(long, TimeUnit). In contrast to expireAfterWrite, refreshAfterWrite will make a key eligible for refresh after the specified duration, but a refresh will only be actually initiated when the entry is queried.</p>\n</blockquote>\n<p>This is how i'm creating the cache, I define a loader like this:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class DbCacheLoader() extends CacheLoader[K, V] {\n  override def load(key: K): V = {\n    // read from DB\n  }\n}\n</code></pre>\n<p>Then, I tried using the <code>refreshOnWrite</code> option to build the cache like this</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val syncLoader = new DbCacheLoader()\nval val cacheLoader = CacheLoader.asyncReloading(syncLoader, threadPool)\nval cache: LoadingCache[K, V] = CacheBuilder.newBuilder()\n  .refreshAfterWrite(timeout, TimeUnit.MILLISECONDS)  // timeout\n  .expireAfterWrite(hardTimeout, TimeUnit.MILLISECONDS) // hard timeout\n  .concurrencyLevel(threadPoolSize * 10)\n  .recordStats()\n  .build[K, V](cacheLoader)\n</code></pre>\n<p>How can I have non-blocking <code>get()</code> with Guava cache?</p>\n"},{"comments":[{"comment_id":134561184,"body":"Did you read <a href=\"https://stackoverflow.com/questions/43780226/spring-data-ignore-parameter-if-it-has-a-null-value\" title=\"spring data ignore parameter if it has a null value\">stackoverflow.com/questions/43780226/&hellip;</a> ?"},{"comment_id":134561185,"body":"If you pass <code>null</code>, it will be literal. If you want to ignore it, create another method i.e. <code>findAllByAvailabilityAndIdLessThanOrderByIdDesc</code> without <code>AndItemCategory</code> in the name. Create a service method that checks for <code>null</code> and call the appropriate repository method."},{"comment_id":134561206,"body":"you can use the Specification feature provided by Spring Data JPA. Here is examples how to use it <a href=\"https://spring.io/blog/2011/04/26/advanced-spring-data-jpa-specifications-and-querydsl\" rel=\"nofollow noreferrer\">spring.io/blog/2011/04/26/&hellip;</a> .  <b>NOTE: Specification adds an extra layer of abstraction and complexity to your code</b>"},{"comment_id":134561374,"body":"You can check <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#query-by-example.matchers\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>&zwnj;&#8203;."},{"comment_id":134566472,"body":"What @Mr.Polywhirl said, if it is optional then make another method without that parameter."}],"last_activity_date":1684767329,"question_id":76307438,"body":"<p>I have this spring JPA query:</p>\n<pre><code>Optional&lt;List&lt;Result&gt;&gt; findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(\n            String availability, String category, long cursor, Pageable pageable\n    );\n</code></pre>\n<p>When passing a <code>null</code> value as one of the parameters, JPA looks for the actual null value in the database.\nExample:</p>\n<pre><code>repository.findAllByAvailabilityAndItemCategoryAndIdLessThanOrderByIdDesc(&quot;avail&quot;,null,0, pageableObj);\n</code></pre>\n<p>In this case, Spring will return the fields where <code>category</code> is <code>null</code> and match the rest of the criteria.</p>\n<p>What I'd like to achieve is, when passing <code>null</code>, I want Spring to kind of ignore it and return all the values for that specific field.</p>\n<p>I know I can achieve this by writing a SQL <code>@Query</code> above the function, but I want to know if there is no way of adding a condition check in the JPA query itself.</p>\n"},{"comments":[{"comment_id":48380078,"body":"<i>... by just supplying a pattern to the standard <code>SimpleDateFormat</code> implementation, without any other code modifications or string manipulation?</i> Obviously not."}],"answers":[{"comments":[{"comment_id":48388250,"body":"Yes, although the requirement was for a <code>SimpleDateFormat</code> solution, due to the corresponding use case."},{"comment_id":89981153,"body":"@OleV.V. Done. Thanks for suggestion."},{"comment_id":103021435,"body":"Anyone looking to parse a datetime string with timezone in it, you can use instant.Parse(&quot;datetimestring&quot;)"},{"comment_id":103024082,"body":"@PrashantSaraswat No, for a time zone, use <code>ZonedDateTime</code>, not <code>Instant</code>. See my table graphic in my Answer."},{"comment_id":103024588,"body":"@BasilBourque Thanks for pointing this out. Both work. I used instant because thats what the javadoc for LocalDateTime suggested."}],"answer_id":30135772,"body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDateTime.parse(                 // With resolution of nanoseconds, represent the idea of a date and time somewhere, unspecified. Does *not* represent a moment, is *not* a point on the timeline. To determine an actual moment, place this date+time into context of a time zone (apply a `ZoneId` to get a `ZonedDateTime`). \n    \"2015-05-09 00:10:23.999750900\"  // A `String` nearly in standard ISO 8601 format.\n    .replace( \" \" , \"T\" )            // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\n)                                    // Returns a `LocalDateTime` object.\n</code></pre>\n\n<h1>Nope</h1>\n\n<p>No, you cannot use SimpleDateFormat to handle <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>.</p>\n\n<p>But your premise that…</p>\n\n<blockquote>\n  <p>Java does not support time granularity above <a href=\"https://en.wikipedia.org/wiki/Millsecond\" rel=\"noreferrer\">milliseconds</a> in its date patterns</p>\n</blockquote>\n\n<p>…is no longer true as of <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8_.28March_18.2C_2014.29\" rel=\"noreferrer\">Java 8</a>, 9, 10 and later with <em>java.time</em> classes built-in. And not really true of Java 6 and Java 7 either, as most of the <em>java.time</em> <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">functionality is back-ported</a>.</p>\n\n<h1>java.time</h1>\n\n<p><code>SimpleDateFormat</code>, and the related <code>java.util.Date</code>/<code>.Calendar</code> classes are now outmoded by the new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> package found in Java 8 (<a href=\"http://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Tutorial</a>). </p>\n\n<p>The new java.time classes support <a href=\"http://en.m.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanosecond</a> resolution. That support includes parsing and generating nine digits of fractional second.  For example, when you use the <code>java.time.format</code> <code>DateTimeFormatter</code> API, the <code>S</code> pattern letter denotes a \"fraction of the second\" rather than \"milliseconds\", and it can cope with nanosecond values.</p>\n\n<h2><code>Instant</code></h2>\n\n<p>As an example, the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>. Its <code>toString</code> method generates a <code>String</code> object using the standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> format. The <code>Z</code> on the end means UTC, pronounced “Zulu”. </p>\n\n<pre><code>instant.toString()  // Generate a `String` representing this moment, using standard ISO 8601 format.\n</code></pre>\n\n<blockquote>\n  <p>2013-08-20T12:34:56.123456789Z</p>\n</blockquote>\n\n<p>Note that capturing the current moment in Java 8 is limited to millisecond resolution. The <em>java.time</em> classes can <em>hold</em> a value in nanoseconds, but can only determine the current time with milliseconds. This limitation is due to the implementation of <code>Clock</code>. In Java 9 and later, a new <code>Clock</code> implementation can grab the current moment in finer resolution, depending on the limits of your host hardware and operating system, usually <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"noreferrer\">microseconds</a> in my experience.</p>\n\n<pre><code>Instant instant = Instant.now() ;  // Capture the current moment. May be in milliseconds or microseconds rather than the maximum resolution of nanoseconds.\n</code></pre>\n\n<h2><code>LocalDateTime</code></h2>\n\n<p>Your example input string of <code>2015-05-09 00:10:23.999750900</code> lacks an indicator of time zone or offset-from-UTC. That means it does <em>not</em> represent a moment, is <em>not</em> a point on the timeline. Instead, it represents <em>potential</em> moments along a range of about 26-27 hours, the range of time zones around the globe.</p>\n\n<p>Pares such an input as a <code>LocalDateTime</code> object. First, replace the SPACE in the middle with a <code>T</code> to comply with ISO 8601 format, used by default when parsing/generating strings. So no need to specify a formatting pattern.</p>\n\n<pre><code>LocalDateTime ldt = \n        LocalDateTime.parse( \n            \"2015-05-09 00:10:23.999750900\".replace( \" \" , \"T\" )  // Replace SPACE in middle with `T` to comply with ISO 8601 standard format.\n        ) \n;\n</code></pre>\n\n<h1><code>java.sql.Timestamp</code></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"noreferrer\"><code>java.sql.Timestamp</code></a> class also handles nanosecond resolution, but in an awkward way. Generally best to do your work inside java.time classes. No need to ever use <code>Timestamp</code> again as of JDBC 4.2 and later.</p>\n\n<pre><code>myPreparedStatement.setObject( … , instant ) ;\n</code></pre>\n\n<p>And retrieval.</p>\n\n<pre><code>Instant instant = myResultSet.getObject( … , Instant.class ) ;\n</code></pre>\n\n<h2><code>OffsetDateTime</code></h2>\n\n<p>Support for <code>Instant</code> is not mandated by the JDBC specification, but <code>OffsetDateTime</code> is. So if the above code fails with your JDBC driver, use the following. </p>\n\n<pre><code>OffsetDateTime odt = instant.atOffset( ZoneOffset.UTC ) ; \nmyPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n\n<p>And retrieval. </p>\n\n<pre><code>Instant instant = myResultSet.getObject( … , OffsetDateTime.class ).toInstant() ;\n</code></pre>\n\n<p>If using an older pre-4.2 JDBC driver, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#toInstant--\" rel=\"noreferrer\"><code>toInstant</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html#from-java.time.Instant-\" rel=\"noreferrer\"><code>from</code></a> methods to go back and forth between <code>java.sql.Timestamp</code> and java.time. These new conversion methods were added to the <em>old</em> legacy classes. </p>\n\n<p><a href=\"https://i.stack.imgur.com/4NSDx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4NSDx.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in standard SQL\"></a></p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"comments":[{"comment_id":121773741,"body":"Thank you for this!!! Spent quite some time looking at various more complicated solutions for handling variable input and this was exactly what worked!"}],"answer_id":59546290,"body":"<p>I found the it wonderful to cover multiple variants of date time format like this:</p>\n\n<pre><code>final DateTimeFormatterBuilder dtfb = new DateTimeFormatterBuilder();\ndtfb.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSSS\"))\n.appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSSS\"))\n    .appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SSS\"))\n    .appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.SS\"))\n    .appendOptional(DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss.S\"))\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0);\n</code></pre>\n"},{"answer_id":74256811,"body":"<h1><em>java.time</em></h1>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p>You can build a <code>DateTimeFormatter</code> using <code>DateTimeFormatterBuilder</code> as shown below:</p>\n<pre><code>DateTimeFormatter parser = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .appendLiteral(' ')\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\n        .toFormatter(Locale.ENGLISH);\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.util.Locale;\nimport java.util.stream.Stream;\n\npublic class Main {\n  public static void main(String[] args) {\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .appendLiteral(' ')\n        .append(DateTimeFormatter.ISO_LOCAL_TIME)\n        .toFormatter(Locale.ENGLISH);\n\n    // Test\n    Stream.of(\n        &quot;2015-05-09 00:10:23.123456789&quot;,\n        &quot;2015-05-09 00:10:23.12345678&quot;,\n        &quot;2015-05-09 00:10:23.1234567&quot;,\n        &quot;2015-05-09 00:10:23.123456&quot;,\n        &quot;2015-05-09 00:10:23.12345&quot;,\n        &quot;2015-05-09 00:10:23.1234&quot;,\n        &quot;2015-05-09 00:10:23.123&quot;,\n        &quot;2015-05-09 00:10:23.12&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23&quot;,\n        &quot;2015-05-09 00:10&quot;\n      )\n      .map(s -&gt; LocalDateTime.parse(s, parser))\n      .forEach(System.out::println);\n  }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-09T00:10:23.123456789\n2015-05-09T00:10:23.123456780\n2015-05-09T00:10:23.123456700\n2015-05-09T00:10:23.123456\n2015-05-09T00:10:23.123450\n2015-05-09T00:10:23.123400\n2015-05-09T00:10:23.123\n2015-05-09T00:10:23.120\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23\n2015-05-09T00:10\n</code></pre>\n<p>If you want to make the time part optional, you can use the following <code>DateTimeFormatter</code>:</p>\n<pre><code>DateTimeFormatter parser = new DateTimeFormatterBuilder()\n    .append(DateTimeFormatter.ISO_LOCAL_DATE)\n    .optionalStart()\n    .appendLiteral(' ')\n    .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\n    .optionalEnd()\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .toFormatter(Locale.ENGLISH);\n</code></pre>\n<p><strong>Demo</strong>:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    DateTimeFormatter parser = new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.ISO_LOCAL_DATE)\n        .optionalStart()\n        .appendLiteral(' ')\n        .appendOptional(DateTimeFormatter.ISO_LOCAL_TIME)\n        .optionalEnd()\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n        .toFormatter(Locale.ENGLISH);\n\n    // Test\n    Stream.of(\n        &quot;2015-05-09 00:10:23.123456789&quot;,\n        &quot;2015-05-09 00:10:23.12345678&quot;,\n        &quot;2015-05-09 00:10:23.1234567&quot;,\n        &quot;2015-05-09 00:10:23.123456&quot;,\n        &quot;2015-05-09 00:10:23.12345&quot;,\n        &quot;2015-05-09 00:10:23.1234&quot;,\n        &quot;2015-05-09 00:10:23.123&quot;,\n        &quot;2015-05-09 00:10:23.12&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23.1&quot;,\n        &quot;2015-05-09 00:10:23&quot;,\n        &quot;2015-05-09 00:10&quot;,\n        &quot;2015-05-09&quot;\n        )\n        .map(s -&gt; LocalDateTime.parse(s, parser))\n        .forEach(System.out::println);\n  }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>2015-05-09T00:10:23.123456789\n2015-05-09T00:10:23.123456780\n2015-05-09T00:10:23.123456700\n2015-05-09T00:10:23.123456\n2015-05-09T00:10:23.123450\n2015-05-09T00:10:23.123400\n2015-05-09T00:10:23.123\n2015-05-09T00:10:23.120\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23.100\n2015-05-09T00:10:23\n2015-05-09T00:10\n2015-05-09T00:00\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"comments":[{"comment_id":134561379,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76307339/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76307339,"body":"<p>TEST CODE:</p>\n<pre><code>@Test\nvoid contextLoads() throws ParseException {\n    DateTimeFormatter ISO_LOCAL_DATE = new &gt;DateTimeFormatterBuilder()\n            .appendValue(YEAR, 4, 10, SignStyle.EXCEEDS_PAD)\n            .optionalStart().appendLiteral('/').optionalEnd()\n            .optionalStart().appendLiteral('-').optionalEnd()\n            .optionalStart().appendValue(MONTH_OF_YEAR, 2)\n            .optionalStart().appendLiteral('/').optionalEnd()\n            .optionalStart().appendLiteral('-').optionalEnd()\n            .optionalStart().appendValue(DAY_OF_MONTH, 2)\n            .toFormatter();\n\n    DateTimeFormatter ISO_LOCAL_TIME = new DateTimeFormatterBuilder()\n            .appendValue(HOUR_OF_DAY, 2)\n            .optionalStart().appendLiteral(':').appendValue(MINUTE_OF_HOUR, 2)\n            .optionalStart().appendLiteral(':').appendValue(SECOND_OF_MINUTE, 2)\n            .optionalStart().appendFraction(NANO_OF_SECOND, 0, 9, true)\n            .optionalStart().appendZoneId()\n            .toFormatter();\n\n    DateTimeFormatter dateTimeFormatter = new DateTimeFormatterBuilder()\n            .append(ISO_LOCAL_DATE)\n            .optionalStart().appendLiteral(' ').optionalEnd()\n            .optionalStart().appendLiteral('T').optionalEnd()\n            .optionalStart().appendOptional(ISO_LOCAL_TIME).optionalEnd()\n            .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n            .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n            .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n            .toFormatter(Locale.SIMPLIFIED_CHINESE);\n\n    Stream.of(&quot;2015-05-09T00:10:23.934596635Z&quot;,\n            &quot;2015-05-09 00:10:23.123456789UTC&quot;,\n            &quot;2015/05/09 00:10:23.123456789&quot;,\n            &quot;2015-05-09 00:10:23.12345678&quot;,\n            &quot;2015/05/09 00:10:23.1234567&quot;,\n            &quot;2015-05-09T00:10:23.123456&quot;,\n            &quot;2015-05-09 00:10:23.12345&quot;,\n            &quot;2015/05-09T00:10:23.1234&quot;,\n            &quot;2015-05-09 00:10:23.123&quot;,\n            &quot;2015-05-09 00:10:23.12&quot;,\n            &quot;2015-05-09 00:10:23.1&quot;,\n            &quot;2015-05-09 00:10:23&quot;,\n            &quot;2015-05-09 00:10&quot;,\n            &quot;2015-05-09 01&quot;,\n            &quot;2015-05-09&quot;\n    ).forEach(s -&gt; {\n        LocalDateTime date = LocalDateTime.parse(s, dateTimeFormatter);\n        System.out.println(s + &quot; ==&gt; &quot; + date);\n    });\n}\n</code></pre>\n<p>OUT:</p>\n<pre><code>2015-05-09T00:10:23.934596635Z ==&gt; 2015-05-09T00:10:23.934596635\n2015-05-09 00:10:23.123456789UTC ==&gt; 2015-05-09T00:10:23.123456789\n2015/05/09 00:10:23.123456789 ==&gt; 2015-05-09T00:10:23.123456789\n2015-05-09 00:10:23.12345678 ==&gt; 2015-05-09T00:10:23.123456780\n2015/05/09 00:10:23.1234567 ==&gt; 2015-05-09T00:10:23.123456700\n2015-05-09T00:10:23.123456 ==&gt; 2015-05-09T00:10:23.123456\n2015-05-09 00:10:23.12345 ==&gt; 2015-05-09T00:10:23.123450\n2015/05-09T00:10:23.1234 ==&gt; 2015-05-09T00:10:23.123400\n2015-05-09 00:10:23.123 ==&gt; 2015-05-09T00:10:23.123\n2015-05-09 00:10:23.12 ==&gt; 2015-05-09T00:10:23.120\n2015-05-09 00:10:23.1 ==&gt; 2015-05-09T00:10:23.100\n2015-05-09 00:10:23 ==&gt; 2015-05-09T00:10:23\n2015-05-09 00:10 ==&gt; 2015-05-09T00:10\n2015-05-09 01 ==&gt; 2015-05-09T01:00\n2015-05-09 ==&gt; 2015-05-09T00:00\n</code></pre>\n"}],"last_activity_date":1684767005,"question_id":30135025,"body":"<p>According to the <a href=\"http://docs.oracle.com/javase/8/docs/api/index.html?java/text/SimpleDateFormat.html\" rel=\"noreferrer\">SimpleDateFormat class documentation</a>, <code>Java</code> does not support time granularity above milliseconds in its date patterns.</p>\n\n<p>So, a date string like</p>\n\n<ul>\n<li>2015-05-09 00:10:23.999750900 // The last 9 digits denote nanoseconds</li>\n</ul>\n\n<p>when parsed via the pattern</p>\n\n<ul>\n<li>yyyy-MM-dd HH:mm:ss.SSSSSSSSS // 9 'S' symbols</li>\n</ul>\n\n<p>actually interprets the whole number after the <code>.</code> symbol as (nearly 1 billion!) milliseconds and not as nanoseconds, resulting in the date</p>\n\n<ul>\n<li>2015-05-20 21:52:53 UTC</li>\n</ul>\n\n<p>i.e. over 11 days ahead. Surprisingly, using a smaller number of <code>S</code> symbols still results in all 9 digits being parsed (instead of, say, the leftmost 3 for <code>.SSS</code>).</p>\n\n<p>There are 2 ways to handle this issue correctly:</p>\n\n<ul>\n<li>Use string preprocessing</li>\n<li>Use a custom SimpleDateFormat implementation</li>\n</ul>\n\n<p>Would there be any other way for getting a correct solution by just supplying a pattern to the standard <code>SimpleDateFormat</code> implementation, without any other code modifications or string manipulation?</p>\n"},{"answers":[{"answer_id":76307390,"body":"<p>You can fetch each value like a Map&lt;Key, Value):</p>\n<pre><code>    Document document = iterator.next();\n    Integer id = document.containsKey(&quot;id&quot;) ? document.get(&quot;id&quot;, Integer.class) : null;\n    String key = document.containsKey(&quot;key&quot;) ? document.get(&quot;key&quot;, String.class) : null;\n    //   after collect each value, you can instantiate your object\n    YourObject obj = new YourObject();\n    obj.setId(id);\n    obj.setKey(key);\n    //...\n</code></pre>\n"}],"last_activity_date":1684766992,"question_id":75199017,"body":"<p>I am performing an aggregation pipeline over mongodb database. Generated result is in the form of AggregateIterable  which is needed to be mapped to java pojo class.</p>\n<p>#MyClass.java</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Document(collection = &quot;myCollection&quot;)\npublic class ODSMongo {\n    \n    @Field(&quot;_id&quot;)\n    @Id\n    private String _id;\n    private String Key;\n    private String projectKey;\n    private Long highestIndex;\n    private Long type;\n    private Long exists;\n}\n\n</code></pre>\n<p>#app.java</p>\n<pre><code>AggregateIterable&lt;Document&gt; output = collection.aggregate(Arrays.asList(\n                match(new Document(&quot;projectKey&quot;, &quot;myProject&quot;)),\n                new Document(&quot;$group&quot;, new Document(&quot;_id&quot;, &quot;$Key&quot;)\n                        .append(&quot;maxQuantity&quot;, new Document(&quot;$max&quot;, &quot;$highestIndex&quot;))\n                        .append(&quot;docs&quot;, new Document(&quot;$push&quot;, new Document(&quot;_id&quot;, &quot;$_id&quot;).append(&quot;Key&quot;, &quot;$Key&quot;)\n                                .append(&quot;highestIndex&quot;, &quot;$highestIndex&quot;).append(&quot;exists&quot;, &quot;$exists&quot;).append(&quot;type&quot;, &quot;$type&quot;)))),\n                new Document(&quot;$project&quot;,\n                        new Document(&quot;_id&quot;, 0L).append(&quot;docs&quot;,\n                                new Document(&quot;$filter&quot;, new Document(&quot;input&quot;, &quot;$docs&quot;).append(&quot;as&quot;, &quot;doc&quot;).append(\n                                        &quot;cond&quot;,\n                                        new Document(&quot;$eq&quot;, Arrays.asList(&quot;$$doc.highestIndex&quot;, &quot;$maxQuantity&quot;))))))));\n\n\nIterator&lt;Document&gt; iterator = output.iterator();\n    while (iterator.hasNext()) {\n        System.out.println(iterator.next().get(&quot;docs&quot;));\n    }\n\n</code></pre>\n<p>After performing above operations, the output which get is</p>\n<pre><code>[Document{{_id=56, Key=AGS, highestIndex=1, exists=1, type=0}}]\n[Document{{_id=41, Key=GFT, highestIndex=1, exists=1, type=0}}]\n[Document{{_id=78, Key=ZAS, highestIndex=85, exists=1, type=0}}]\n[Document{{_id=42, Key=O.ZAD, highestIndex=85, exists=1, type=0}}]\n[Document{{_id=12, Key=MAH, highestIndex=936, exists=1, type=0}}]\n[Document{{_id=21, Key=GOA, highestIndex=85, exists=1, type=0}}]\n</code></pre>\n<p>Please let me know how can I fetch each value of the key as well as map the entire result to the ArrayList.</p>\n"},{"last_activity_date":1684766958,"question_id":76307387,"body":"<p>In my Processing application, I listen for mouse clicks and then handle them in a button class. The button class then sets the right content via calling setScreenIndex. The function detects if this is the first time loading the screen, and then sets it up (not set up upon instantiation so unnecessary screens arent loaded if the user doesnt need them). The setting up is done via a thread that calls a setup function. This thread however seems to cut off when the mouse is clicked again whilst it is busy. This results in either the loading screen displaying indefinitely (the thread still registers as alive even though it no longer appears to do anything), or the loading screen freezing completely. I believe this is a threading issue, and somethings interacting weirdly but I am lost and have spent a week on this problem.\nRelevant code below:</p>\n<pre><code>\nfinal class Main\n{\n  public synchronized void update()\n  {\n    try\n    {\n      if (threadToWaitFor != null)\n      {\n        if (!threadToWaitFor.isAlive())\n        {\n          threadToWaitFor = null;\n          setScreenIndex(nextScreenIndex);\n        }\n      }\n      currentScreen.update();\n    }\n    catch (Exception e)\n    {\n      logger.println(&quot;ERROR: Main Update: &quot; + e.getMessage());\n      logger.println(&quot;Stack Trace: &quot;);\n      e.printStackTrace(logger);\n      logger.flush();\n      exit();\n    }\n  }\n  public synchronized void setScreenIndex(int screenIndex)\n  {\n    this.screenIndex = screenIndex;\n    currentScreen = screens.get(this.screenIndex);\n    if (!currentScreen.getSetup())\n    {\n      SetupScreenThread thread = new SetupScreenThread(currentScreen);\n      thread.start();\n      waitForThread(thread, screenIndex);\n    }\n  }\n  public synchronized void waitForThread(Thread thread, int newScreenIndex)\n  {\n    this.threadToWaitFor = thread;\n    this.nextScreenIndex = newScreenIndex;\n    this.currentScreen = loadScreen;\n  }\n}\n</code></pre>\n<p>I have tried checking the button isnt being called twice and that the same functions arent being called at the same time using the synchronised and volatile keywords, but this doesnt help. If you do not click multiple times, everything is fine and behaves/loads correctly. I have tried implementing a lock in the main class so that the click doesnt even reach the Main class if the flag is set to busy but this also doesnt work.</p>\n"},{"comments":[{"comment_id":128877150,"body":"Can you post your application.properties file?"},{"comment_id":128877201,"body":"@Nemanja :updated"}],"answers":[{"answer_id":72967229,"body":"<p>The problem is that the Lombok constructor won't contain the <code>@Value</code> annotation. Rather, it will look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.sender = sender;\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>Due to this, Spring doesn't know how to pass the <code>sender</code> field, and so it complains that there's no bean of type <code>String</code>.</p>\n<p>The solution is to write your own constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Add the @Value to the sender parameter\npublic EmailService(@Value(value = &quot;${spring.mail.username}&quot;) String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.sender = sender;\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>After that, you can remove the <code>@Value</code> annotation from the <code>sender</code> field (since it's on the constructor) and remove the <code>@AllArgConstructor</code> annotation.</p>\n"},{"answer_id":75879041,"body":"<p>There is also an alternative way to solve this problem. This solution doesn't require writing your own constructor.</p>\n<p>The <code>@AllArgsConstructor</code> annotation gathers all class fields (the exception is initialized <code>final</code> field). Based on your code, Lombok will generate a constructor like below.</p>\n<pre><code>public EmailService(String sender, UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.sender = sender;\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>As the <code>sender</code> is not a bean but only a value wired from properties, the container won't be able to find it as a bean.</p>\n<p>Similar annotation - <code>@RequiredArgsConstructor</code> gathers <strong>only</strong> non-initialized <code>final</code> fields.</p>\n<p>To resolve your issue, you should refactor the code like below:</p>\n<pre><code>@RequiredArgsConstructor\npublic class EmailService {\n\n    @Value(value = &quot;${spring.mail.username}&quot;)\n    String sender;\n\n    final String HOST = &quot;http://localhost:8080/&quot;;\n\n    final UserRepository userRepository;\n    final JavaMailSender javaMailSender;\n\n    ...\n}\n</code></pre>\n<p>Now your constructor will look like this:</p>\n<pre><code>public EmailService(UserRepository userRepository, JavaMailSender javaMailSender) {\n    this.userRepository = userRepository;\n    this.javaMailSender = javaMailSender;\n}\n</code></pre>\n<p>Note that <code>final</code> fields are required to be initialized before the constructor completes and you are not able to reassign them after. As long as you don't need to change repository and sender in runtime, these fields <strong>should</strong> be <code>final</code>.</p>\n"},{"answer_id":76307371,"body":"<p>You can't use the Lombok annotation @AllArgsConstructor and the Spring annotation @Value on a field in the same time without additional actions.\nIf you want to do it:</p>\n<ol>\n<li>Create &quot;lombok.config&quot; file in the root directory of the project;</li>\n<li>Add next lines to the lombok.config file:</li>\n</ol>\n<p>config.stopbubbling = true</p>\n<p>lombok.copyableannotations += org.springframework.beans.factory.annotation.Value</p>\n"}],"last_activity_date":1684766915,"question_id":72967161,"body":"<p>I am using spring starter-email service to send emails to the users when there will be new job posting: I am following <a href=\"https://www.geeksforgeeks.org/spring-boot-sending-email-via-smtp/\" rel=\"nofollow noreferrer\">this</a> article from geeks for geeks, I feel issue is something with @Value annotation, but unable to get it\nbut while running mvn-clean install, I am getting below error</p>\n<pre><code>Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobController' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\controller\\JobController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132) ~[spring-boot-test-2.7.0.jar:2.7.0]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.20.jar:5.3.20]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.20.jar:5.3.20]\n    ... 67 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\JobService.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 85 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'emailService' defined in file [C:\\Users\\ViShah\\IdeaProjects\\avatureJobSearch\\target\\classes\\com\\avature\\service\\EmailService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 99 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.String' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1799) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1355) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 113 common frames omitted\n</code></pre>\n<p>Below is my email service</p>\n<pre><code>import com.entity.Job;\nimport com.entity.User;\nimport com.repository.UserRepository;\nimport lombok.AllArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.MimeMessageHelper;\nimport org.springframework.stereotype.Service;\n\nimport javax.mail.MessagingException;\nimport javax.mail.internet.MimeMessage;\nimport java.util.List;\n\n@Service\n@Slf4j\n@AllArgsConstructor\npublic class EmailService {\n\n    @Value(value = &quot;${spring.mail.username}&quot;)\n    String sender;\n    final String HOST = &quot;http://localhost:8080/&quot;;\n    UserRepository userRepository;\n    JavaMailSender javaMailSender;\n\n    public void sendEmailWithDetails(Job job){\n        List&lt;User&gt; usersList = null;\n        if(!job.getPreferredSkills().isEmpty())\n            usersList = userRepository.findBySkills(job.getPreferredSkills());\n        else{\n            usersList = userRepository.findAll();\n        }\n        for(User user: usersList){\n            try {\n                generateEmailBodyAndSend(job, user);\n            }catch (MessagingException e){\n                log.error(&quot;error while sending mail to user:&quot;+user.getEmail());\n            }\n        }\n    }\n\n    private void generateEmailBodyAndSend(Job job, User user ) throws MessagingException {\n        String body = &quot;&lt;h4&gt;Hey, Found new matching job for you&lt;/h4&gt;\\n &lt;a href=&quot;+HOST+job.getId()+&quot;&gt;&quot;+job.getTitle()+&quot;&lt;/a&gt;&quot;;\n        MimeMessage msg = javaMailSender.createMimeMessage();\n        MimeMessageHelper helper = new MimeMessageHelper(msg, true);\n        helper.setText(body, true);\n        helper.setSubject(&quot;Notification&quot;);\n        helper.setFrom(sender);\n        helper.setTo(user.getEmail());\n        log.info(&quot;sending mail to:&quot;+user.getEmail());\n        javaMailSender.send(msg);\n        log.info(&quot;sent mail to:&quot;+user.getEmail());\n    }\n}\n</code></pre>\n<p>I am using spring-boot 2.7.0 and spring-starter-email 2.7.1\nbelow is my application.properties file:</p>\n<pre><code>spring.data.mongodb.uri=mongodb://localhost:27017/jobDB\nkafka.bootstrapAddress=localhost:9092\nspring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=testingmynotification@gmail.com\n</code></pre>\n"},{"comments":[{"comment_id":131672242,"body":"<a href=\"https://stackoverflow.com/a/74595569/6518664\">This answer</a> will help you install <code>Tomcat Native Library</code> which is what is missing."}],"answers":[{"comments":[{"comment_id":115086217,"body":"Your answer does absolutely not relate to the APR/OpenSSL problem."},{"comment_id":117381598,"body":"Even I am facing the same problem. Did you find the solution."},{"comment_id":130717565,"body":"Which war file are you talking about?"}],"answer_id":65096578,"body":"<p>I figured out what the issue was.</p>\n<p>I had already set up an <strong>SSL/TLS/HTTPS</strong> connection protocol in the <code>opt/tomcat/conf/server.xml</code> file:</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n           maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\n    &lt;UpgradeProtocol className=&quot;org.apache.coyote.http2.Http2Protocol&quot; /&gt;\n    &lt;SSLHostConfig&gt;\n        &lt;Certificate certificateKeyFile=&quot;conf/key.key&quot;\n                     certificateFile=&quot;conf/cert.crt&quot;\n                     certificateChainFile=&quot;conf/chain.crt&quot;\n                     type=&quot;RSA&quot; /&gt;\n    &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>but the <code>*.war</code> file that was gonna use the connection was not put in the <code>opt/tomcat/webapps</code> directory.</p>\n<p><strong>Here's how I solved it</strong>:</p>\n<p>I simply added the <code>*.war</code> file in the <code>opt/tomcat/webapps</code> directory of tomcat, and then I restarted the tomcat server using:</p>\n<pre><code>sudo systemctl restart tomcat\n</code></pre>\n<p>And everything worked fine.</p>\n<p>That's all.</p>\n<p><strong>I hope this helps</strong></p>\n"},{"comments":[{"comment_id":133541046,"body":"I had the same problem and installing tomcat-native did fixed it. But I did it with a simple &quot;yum install tomcat-native&quot;"}],"answer_id":69462314,"body":"<p>You need to install <code>tomcat-native-1.2.31</code> from source code as following steps:</p>\n<ol>\n<li>Install tool (skipped them if already exists)</li>\n</ol>\n<pre><code>yum install gcc apr-devel apr-util\n</code></pre>\n<ol start=\"2\">\n<li>Download tomcat-native from <a href=\"http://tomcat.apache.org/native-doc/\" rel=\"nofollow noreferrer\">official site</a> to <code>/tmp</code> folder</li>\n</ol>\n<pre><code>cd /tmp\nwget https://mirror-hk.koddos.net/apache/tomcat/tomcat-connectors/native/1.2.31/source/tomcat-native-1.2.31-src.tar.gz\n</code></pre>\n<ol start=\"3\">\n<li>Decompress file</li>\n</ol>\n<pre><code>tar zxvf tomcat-native-1.2.23-src.tar.gz\n</code></pre>\n<ol start=\"4\">\n<li>Configuration</li>\n</ol>\n<pre><code>cd tomcat-native-1.2.23-src/native\n\n./configure --with-apr=/usr/bin/apr-1-config \\\n            --with-java-home=$JAVA_HOME \\\n            --with-ssl=yes \\\n            --prefix=$CATALINA_HOME\n</code></pre>\n<ol start=\"5\">\n<li>Compile and install</li>\n</ol>\n<pre><code>make &amp; make install\n</code></pre>\n<ol start=\"6\">\n<li>Edit <code>$CATALINA_HOME/bin/setenv.sh</code> (creating the file if necessary) and add the path to the tc-native libraries to LD_LIBRARY_PATH.</li>\n</ol>\n<pre><code>LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$CATALINA_HOME/lib\nexport LD_LIBRARY_PATH\n\n</code></pre>\n<p>And it's work!</p>\n"},{"answer_id":76224101,"body":"<p>In my case, I was getting this issue with Java 17 and Tomcat 10.1.8.\nThe issue in my case was that another tomcat was already running that was started with Java 11 and was not shutdown. And I just changed the path of java from 11 to 17 and was trying to start Tomcat 10.</p>\n<p>Once I stopped the older tomcat 9 instance, the tomcat 10 started fine.</p>\n"}],"last_activity_date":1684766823,"question_id":65096577,"body":"<p>I just setup a new Java project with Tomcat 9 on Ubuntu 18.04.</p>\n<p>However, when I start the Tomcat server using the command</p>\n<pre><code>sudo systemctl restart tomcat\n</code></pre>\n<p>I get the following error:</p>\n<blockquote>\n<p>The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path</p>\n</blockquote>\n<p>I still can figure out what the issue is.</p>\n"},{"comments":[{"comment_id":134564375,"body":"The stack trace does not appear to have an error message. Either that or this error message is just poorly worded. Are you sure you included the full error message and stack trace in your question?"},{"comment_id":134573676,"body":"Is your driver null or not? It&#39;s look like you are trying to call a null ojbect."}],"last_activity_date":1684766665,"question_id":76306346,"body":"<p>When I execute the following code:</p>\n<pre><code>'driver.findElement(By.xpath(&quot;//h5[text()='Users and Groups Management']&quot;)).click();'\n</code></pre>\n<p>I get the following error</p>\n<pre><code>Element info: {Using=xpath, value=//h5[text()='Users and Groups Management']}\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\n    at org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:428)\n    at org.openqa.selenium.By$ByXPath.findElement(By.java:353)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\n    at Basic.main(Basic.java:23)\nPicked up _JAVA_OPTIONS: -Djava.net.preferIPv4Stack=true\n</code></pre>\n<p>The page contains the following lines and I have also tried waiting an appropriate amount of time to execute and also new <code>WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//h5[text()='Users and Groups Management']&quot;)).click();</code>\nNothing worked!</p>\n<pre><code>&lt;div _ngcontent-ncj-c134=&quot;&quot; class=&quot;card-header flex-centrally-aligned border-0&quot;&gt;&lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;&lt;/div&gt;\n&lt;h5 _ngcontent-ncj-c134=&quot;&quot; class=&quot;text-center font-weight-bold m-0&quot;&gt; Users and Groups Management &lt;/h5&gt;\n</code></pre>\n<p>Please share your thoughts on how I can proceed on this. Thanks!</p>\n"},{"comments":[{"comment_id":134549107,"body":"Is <code>&#47;2.png</code> a valid resource? Is it in your <code>resources</code> folder? Does it work if you use a relative path?"},{"comment_id":134549233,"body":"The right idiom is <code>MyClass.class.getResource(&quot;&#47;foo&quot;)</code>, not <code>this.getClass()</code> (the latter breaks when subclassing). This looks for <code>&#47;2.png</code> in the same place your class files are. Clearly, that resource isn&#39;t there. Easy way to debug this: <code>MyClass.class.getResource(&quot;MyClass.class&quot;)</code> - print that. It&#39;ll print precisely where its looking. Replace both times I mentioned <code>MyClass</code> with your class name, the rest, copy it verbatim."},{"comment_id":134549449,"body":"@knittl No ,i even don&#39;t have a <code>resources</code> folder, i tried relative path before ,but it dosen&#39;t work. 2.png in the src forder"},{"comment_id":134549774,"body":"<i>2.png in the src forder</i> - it should be in a directory that is on your classpath."},{"comment_id":134550987,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"last_activity_date":1684766642,"question_id":76300444,"body":"<p>I got</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\n    at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1400)\n    at studentsystem.frame.StudentSystemLoginFrame.&lt;init&gt;(StudentSystemLoginFrame.java:121)\n    at studentsystem.run.TestLogin.main(TestLogin.java:7)\n</code></pre>\n<p>when I'm using <code>Image img = ImageIO.read(this.getClass().getResource(&quot;/2.png&quot;));</code>\nThe error appeared in StudentSystemLoginFrame. My project directory looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/EUKQI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EUKQI.png\" alt=\"screenshot\" /></a></p>\n"},{"comments":[{"comment_id":134560900,"body":"You have to use a library like jcurses to avoid echoing user input. Or use AWT, Swing or Java FX (which would be GUI, not TUI)."},{"comment_id":134560906,"body":"You sort-of can&#39;t, because of the way that the console works. The only simple thing I can suggest is to pretend the user is <a href=\"https://stackoverflow.com/questions/8138411/masking-password-input-from-the-console-java\">entering a &quot;password&quot;</a>."},{"comment_id":134560953,"body":"Another option: <a href=\"https://stackoverflow.com/q/2979383\">How to clear the console using Java?</a>"},{"comment_id":134560964,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10819469/hide-input-on-command-line\">Hide input on command line</a>"},{"comment_id":134567603,"body":"As a note, it&#39;s not printing the value.  That is the value the user has typed.  If you&#39;re looking to prevent the display of the characters the user is typing, you can use a <code>System.console()</code> instance."}],"last_activity_date":1684766544,"question_id":76307297,"body":"<p>How do I prevent my code from printing user input?</p>\n<pre><code>import java.util.Scanner;\npublic class Days {\n    public static void main(String[] args) {\n\n        Scanner ent = new Scanner(System.in);\n        int day;\n        System.out.println(&quot;Entrez un nombre d'un jour du semaine&quot;);\n        day = ent.nextInt();\n        switch (day) {\n        case 1:\n            System.out.println(&quot;Dimanche&quot;);\n            break;\n        case 2:\n            System.out.println(&quot;Lundi&quot;);\n            break;\n        case 3:\n            System.out.println(&quot;Mardi&quot;);\n            break;\n        case 4:\n            System.out.println(&quot;Mercredi&quot;);\n            break;\n        case 5:\n            System.out.println(&quot;Jeudi&quot;);\n            break;\n        case 6:\n            System.out.println(&quot;Vendredi&quot;);\n            break;\n        case 7:\n            System.out.println(&quot;Samedi&quot;);\n            break;\n\n        default:\n            System.out.println(&quot;Nombre donnée invalide&quot;);\n            break;\n\n        }\n\n    }\n}\n</code></pre>\n<p>I'm trying a simple program that shows the days of the week (dimanche, lundi, mardi, etc are the days but in french) it works fine but it prints user input before printing the actual day like if the input is 3 (mardi) then it prints this in the console:</p>\n<pre><code>3 \nmardi\n</code></pre>\n<p>How do I prevent it from printing the input?</p>\n"},{"last_activity_date":1684766522,"question_id":76307335,"body":"<p>I'm testing using Playwright trying to get the maven-surefire-plugin to re-test failed tests and maven-cucumber-reporting plugin to produce a report after all testing is carried out when ran from command line.</p>\n<p>I can get the cucumber report to create, but i cannot get test to re-run on a fail.</p>\n<p>I have tried re-ordering the POM file and trying to get both plugins to run on the verify command and tried various configurations within the file. See POM below</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;exec&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;maven&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;16&lt;/source&gt;\n                &lt;target&gt;16&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;rerunFailingTestsCount&gt;3&lt;/rerunFailingTestsCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;5.7.5&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;execution&lt;/id&gt;\n                    &lt;phase&gt;verify&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;projectName&gt;Supersonic Report&lt;/projectName&gt;\n                        &lt;skip&gt;false&lt;/skip&gt;\n                        &lt;outputDirectory&gt;../Reports/Supersonic/TestReports/&lt;/outputDirectory&gt;\n                        &lt;inputDirectory&gt;../Reports/Supersonic/JsonOutput/&lt;/inputDirectory&gt;\n                        &lt;skipEmptyJSONFiles&gt;true&lt;/skipEmptyJSONFiles&gt;\n                        &lt;jsonFiles&gt;\n                            &lt;param&gt;**/*.json&lt;/param&gt;\n                        &lt;/jsonFiles&gt;\n                        &lt;mergeFeaturesById&gt;false&lt;/mergeFeaturesById&gt;\n                        &lt;mergeFeaturesWithRetest&gt;true&lt;/mergeFeaturesWithRetest&gt;\n                        &lt;checkBuildResult&gt;true&lt;/checkBuildResult&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I have tried moving the surefire and cucumber reporting executions between plugin management and the plugin section at the end but if the cucumber-reporting plugin is not in the last section it doesn't create a report.</p>\n<p>Any ideas on how to retest fails using these plugins ?</p>\n"},{"comments":[{"comment_id":134560226,"body":"<code>JTables</code> each have a <code>TableModel</code>. A <code>DefaultTableModel</code> works for most models.  Delete the row from your task table model and add the row to your discarded task table model.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a> section."},{"comment_id":134561007,"body":"What doesn&#39;t work? Does the row count decrease in the &quot;taskListModel&quot;? Does the row count increase in the &quot;discardedTaskModel&quot;? Basic logic seems reasonable. But we can&#39;t see the context of how the code is used. Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. Also, note an application should only have a single JFrame. The &quot;discarded&quot; window should be a <code>JDialog</code>."}],"last_activity_date":1684766471,"question_id":76306623,"body":"<p>When I click btnDiscard, I want to move the selected row to a new JTable that belongs to a new JFrame.</p>\n<ul>\n<li>The row belongs to tableTaskList (which belongs to the Main Frame)</li>\n<li>I want to move that row to tableDiscardedTasks (which belongs to the DiscardedTasks Frame)</li>\n</ul>\n<p>I tried the following code but it does not work, can anyone help me out?</p>\n<p>IN MAIN FRAME:</p>\n<pre><code>private void btnDiscardActionPerformed(java.awt.event.ActionEvent evt) {                                           \n\n    int selectedRow = tableTaskList.getSelectedRow();\n\n    if (selectedRow != -1) {\n    DefaultTableModel taskListModel = (DefaultTableModel) tableTaskList.getModel();\n    \n    DiscardedTasks discardedTasksFrame = new DiscardedTasks();\n    DefaultTableModel discardedTasksModel = (DefaultTableModel) discardedTasksFrame.getTableDiscardedTasks().getModel();\n\n    // Get the data from the selected row in tableTaskList\n    Object[] rowData = new Object[taskListModel.getColumnCount()];\n    for (int i = 0; i &lt; rowData.length; i++) {\n        rowData[i] = taskListModel.getValueAt(selectedRow, i);\n    }\n\n    // Move the data to corresponding columns in tableDiscardedTasks\n    discardedTasksModel.addRow(rowData);\n\n    // Remove the selected row from tableTaskList\n    taskListModel.removeRow(selectedRow);\n}\n}                               \n</code></pre>\n<p>IN DISCARDEDTASKS FRAME:</p>\n<pre><code>public class DiscardedTasks extends javax.swing.JFrame {\n\npublic JTable getTableDiscardedTasks() {\n    return tableDiscardedTasks;\n}\n\npublic DiscardedTasks() {\n    initComponents();\n    \n     getContentPane().setBackground(new Color(64,64,64));\n     \n     tableDiscardedTasks = new javax.swing.JTable();\n   \n}\n</code></pre>\n<p>Note that for variables declaration, private javax.swing.JTable tableDiscardedTasks;</p>\n"},{"comments":[{"comment_id":115897330,"body":"What action are you performing that isn&#39;t working? Can you copy the messages from the Console here, as text, instead of just posting a screenshot? How are your rest handlers set up?"},{"comment_id":115897366,"body":"Does the AlienResource class need to be saved?"},{"comment_id":115898473,"body":"Can you show your dependencies in your pom.xml?"},{"comment_id":115900579,"body":"I&#39;m not sure but I think <code>MessageBodyWriter not found</code> error can occur when type of response you are sending is not what expected. Please check your configuration of accepts and response type of request. And as I said earlier, this is just a guess. Please add your code and stack trace for proper diagnosis of problem."},{"comment_id":115904879,"body":"Hi Paul.. Here is pom.xml codes:"},{"comment_id":115904958,"body":"Hi Paul..Dependencies are: jersey-bom, jersey-container-servlet-core, jersey-hk2, jersey-media-json-binding,"},{"comment_id":115905024,"body":"Hi nitind.. Here is console message: getAlien() called.... Jan 04, 2021 7:43:39 AM org.glassfish.jersey.message.internal.WriterInterceptorExecu&zwnj;&#8203;tor$TerminalWriterIn&zwnj;&#8203;terceptor aroundWriteTo SEVERE: MessageBodyWriter not found for media type=application/xml, type=class com.spiderscrawl.demorest.Alien, genericType=class com.spiderscrawl.demorest.Alien.  ........................ Here in above screen shot as you can see that i am trying to get xml response on browser and on conside println command shows getAlien() message called...."},{"comment_id":115906597,"body":"I would switch jersey-media-json-binding for jersey-media-json-jackson."},{"comment_id":115906727,"body":"Thanks Paul, I instead tried for MediaType.Application_JSON and it works rather XML...Thanks anyway...you helped a lot....."}],"answers":[{"comments":[{"comment_id":123977082,"body":"use this import statement import jakarta.xml.bind.annotation.XmlRootElement;"}],"answer_id":70134186,"body":"<p>use these dependency</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n &lt;artifactId&gt;jersey-media-jaxb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n \n&lt;dependency&gt;\n &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n &lt;artifactId&gt;jaxb-osgi&lt;/artifactId&gt;\n &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"answer_id":70344799,"body":"<pre><code>import jakarta.xml.bind.annotation.*;\n</code></pre>\n<p>Import this <code>package</code>, it will work with the above maven dependencies from Ashish bindra.</p>\n<p>Note: Hope you are working with Telusko tutorials, I tested with that and it is working fine.</p>\n"}],"last_activity_date":1684765843,"question_id":65552858,"body":"<p>I am working on Maven-jersey-Tomcat for rest-api development. but or xml type annotation @XmlRootElement or dependency javax.bind.annotation.XmlRootElement is not working...\nI have also attached screen shot as well<a href=\"https://i.stack.imgur.com/FPLVy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FPLVy.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":134560562,"body":"Check out <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">this</a> chapter in the spring docs. Specifically self-invocation."}],"answers":[{"answer_id":76307167,"body":"<p><code>@Retryable</code> only works for methods called from another bean; internal calls within the same bean bypass the retry interceptor.</p>\n"}],"last_activity_date":1684765271,"question_id":76307062,"body":"<p>I need to use spring boot retry logic in my code. My retry method is getting call from multiple method, so I want to run retry logic for all caller method but retry logic is running only for first caller method and for later caller method, it is running only for 1 time in case of exception too.</p>\n<pre><code>someMethod1() {\n    retry();\n}\nsomeMethod2() {\n    retry();\n}\nsomeMethod3() {\n    retry();\n}\n\n@Retryable(maxAttempts = 2, value = SomeException.class)\npublic void retry() {\n    doSomething;\n}\n</code></pre>\n"},{"comments":[{"comment_id":134560641,"body":"Seems like you could have tested importing a cert with 2 different aliases almost as fast as typing out the question, no?"}],"last_activity_date":1684765231,"question_id":76307162,"body":"<p>Isit OK to have a same certificate with different alias within java truststore?\nissuer of the certificate and serial no. also same.</p>\n<p>ex:</p>\n<p>Alias name: cert1\nOwner: CN=xxxxxxx\nIssuer: CN=yyyyyy</p>\n<p>Alias name: cert2\nOwner: CN=xxxxxxx\nIssuer: CN=yyyyyy</p>\n<p>Just wanted to know if this is OK.</p>\n"},{"comments":[{"comment_id":134547207,"body":"What is the id value here"},{"comment_id":134547849,"body":"The ID is just a Long"}],"answers":[{"comments":[{"comment_id":134558326,"body":"How to check the persistence configuration? I do not find a persistence.cml file..."},{"comment_id":134558435,"body":"If you don&#39;t have META-INF/persistence.xml then JDBC is configured in application.properties"},{"comment_id":134561514,"body":"Thanks for the answer, but the only thing that is configured in the application.properties is this: quarkus.hibernate-orm.database.generation=create What should I add to the file? I guess I do not have to add every single Entity to it? If yes, how shold it be added?"},{"comment_id":134563300,"body":"You need jdbc/datasource configuration, like this: <a href=\"https://quarkus.io/guides/hibernate-orm\" rel=\"nofollow noreferrer\">quarkus.io/guides/hibernate-orm</a>"}],"answer_id":76299473,"body":"<p>Check your persistence configuration, if it encompasses package and class of yours 'Customer'.</p>\n"}],"last_activity_date":1684765180,"question_id":76299372,"body":"<p>I am following an online tutorial, but came across an error which I am not able to resolve. I have a multimodule Quarkus application. One module is called 'Customer' with an according Customer class which is annotated as an @Entity:</p>\n<pre><code>package org.agoncal.quarkus.jpa;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\nimport java.time.Instant;\n\n@Entity\npublic class Customer {\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    public String firstName;\n...\n</code></pre>\n<p>In another module 'vintage-store', the customerRepository is created andl ooks like this:</p>\n<pre><code>package org.agoncal.quarkus.panache.repository;\n\nimport io.quarkus.hibernate.orm.panache.PanacheRepository;\nimport org.agoncal.quarkus.jpa.Customer;\n\nimport javax.enterprise.context.ApplicationScoped;\n\n@ApplicationScoped\npublic class CustomerRepository implements PanacheRepository&lt;Customer&gt; {}\n</code></pre>\n<p>Now, when I try to run <code>mvn clean install</code> on the vintage store, there is this test which is failing in the CustomerRepositoryTest file:</p>\n<pre><code>package org.agoncal.quarkus.panache.repository;\n\nimport io.quarkus.test.TestTransaction;\nimport io.quarkus.test.junit.QuarkusTest;\nimport org.agoncal.quarkus.jpa.Customer;\nimport org.junit.jupiter.api.Test;\n\nimport javax.inject.Inject;\nimport java.sql.SQLException;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\n@QuarkusTest\npublic class CustomerRepositoryTest {\n    @Inject\n    CustomerRepository repository;\n\n    @Test\n    @TestTransaction\n    public void shouldCreateAndFindCustomer() throws SQLException {\n        Customer customer = new Customer(&quot;first name&quot;, &quot;last name&quot;, &quot;email&quot;);\n\n        repository.persist(customer);\n        assertNotNull(customer.getId());\n\n        Customer foundCustomer = repository.findById(customer.getId());\n        assertEquals(&quot;first name&quot;, foundCustomer.getFirstName());\n\n    }\n\n}\n</code></pre>\n<p>With the following error message:</p>\n<pre><code>java.lang.IllegalArgumentException: Not an entity [class org.agoncal.quarkus.jpa.Customer]\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\nCaused by: org.hibernate.MappingException: Unknown entity: org.agoncal.quarkus.jpa.Customer\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\n</code></pre>\n<p>I have looked at it already for a few hours, but do not find the problem. I have found some pointers that it might have to do something with the difference between jakarta and javax, but not sure\nAll the code can be found om github: <a href=\"https://github.com/Tom-De-Backer/agoncal-panache\" rel=\"nofollow noreferrer\">https://github.com/Tom-De-Backer/agoncal-panache</a></p>\n"},{"comments":[{"comment_id":134562669,"body":"Maybe this :: <a href=\"https://stackoverflow.com/questions/35662679/uncompilable-source-code-erroneous-tree-type-error-and-cannot-find-symbol-erro\" title=\"uncompilable source code erroneous tree type error and cannot find symbol erro\">stackoverflow.com/questions/35662679/&hellip;</a>"}],"last_activity_date":1684765169,"question_id":76306895,"body":"<p>There are no errors, but during compilation, it shows &quot;0000000000&quot; and the error message &quot;Uncompilable source code - Erroneous tree type: org.apache.jena.ontology.OntModel&quot;. I'm using JDK 17 and Jena 4.8.0. What could be the problem?</p>\n<pre><code>import org.apache.jena.ontology.*;\nimport org.apache.jena.rdf.model.*;\nimport javax.swing.*;\nimport java.awt.Color;\n\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        System.out.println(&quot;000000000000000&quot;);\n     OntModel model= ModelFactory.createOntologyModel();\n    System.out.println(&quot;111111111&quot;);\n         String chemin=&quot;D:\\\\test.owl&quot;;\n try {\n    model.read(chemin);\n    System.out.println(&quot;Ontologie chargée avec succès.&quot;);\n} catch (Exception e) {\n    System.err.println(&quot;Erreur lors de la lecture de l'ontologie : &quot; + e.getMessage());\n    e.printStackTrace();\n}\n   System.out.println(&quot;2222222222&quot;);\n        int Nb=model.listClasses().toList().size();\n         System.out.println(&quot;33333333333&quot;);\n      System.out.println( &quot;Nombre de classes dans l'ontologie : &quot; + Nb );\n    \n    }\n</code></pre>\n"},{"answers":[{"answer_id":76306147,"body":"<p>As mentioned <a href=\"https://kafka.apache.org/documentation/#design_consumerposition\" rel=\"nofollow noreferrer\">here</a>, the ack will be sent to the broker only after the message is consumed by the consumer. <br></p>\n<ol>\n<li>Ack will be sent after the listenForMessage method is completely executed.\n<br></li>\n<li>Since the exception is not related to the failure of working environment, the kafka consumer marks the message as consumed and sends the ACK to the broker.</li>\n</ol>\n"},{"answer_id":76307148,"body":"<blockquote>\n<p>Will be ack sent even in case of exception ?</p>\n</blockquote>\n<p>It depends on the error handler.</p>\n<p>By default, the record causing the exception will be retried up to 9 times before being logged and ack'd. You can configure the retry behavior, and add a custom recover to take some action when retries are exhausted (or use the provided <code>DeadLetterPublishingRecoverer</code>. You can also configure which exceptions are retryable, and which are not.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling</a></p>\n"}],"last_activity_date":1684765148,"question_id":76305111,"body":"<p>Let's say I have such a listener and no custom kafka configuration:</p>\n<pre><code>@KafkaListener(topics = &quot;${my_topic_listen}&quot;, autoStartup = &quot;true&quot;)\npublic void listenForMessage(String message) {\n    log.info(&quot;new message from kafka topic received: {}&quot;, message);\n    if(message.length() &gt;1000) {\n       throw new RuntimeException(&quot;TooLongMessage&quot;);\n    }\n    log.info(message is checked);\n}\n</code></pre>\n<ol>\n<li><p>Will ack be sent before</p>\n<p>log.info(&quot;new message from kafka topic received: {}&quot;, message);</p>\n</li>\n</ol>\n<p>is called ?</p>\n<ol start=\"2\">\n<li>if answer for the first question is &quot;No&quot;. Will be ack sent even in case of exception ?</li>\n</ol>\n"},{"comments":[{"comment_id":134560643,"body":"Using a Selector (answer below) is the right answer.  It&#39;s how basically all servers on the internet work."}],"answers":[{"answer_id":76307134,"body":"<p>The normal pattern in Java is to make a thread per client. One thread can't wait for more than one InputStream at the same time.</p>\n<p>If you want to wait for more than one thing on the same thread, you can &quot;upgrade&quot; to NIO. Then you can create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html\" rel=\"nofollow noreferrer\"><code>Selector</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/SelectableChannel.html#register-java.nio.channels.Selector-int-\" rel=\"nofollow noreferrer\">register</a> your channels (streams - you have to use <code>SocketChannel</code> instead of <code>InputStream</code>/<code>OutputStream</code>) with the selector, and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#select--\" rel=\"nofollow noreferrer\">wait</a> for one or more to have data, all on one thread. The selector also has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/Selector.html#wakeup--\" rel=\"nofollow noreferrer\"><code>wakeup</code></a> method which causes it to stop waiting immediately, in case you want it to stop waiting for a reason that has nothing to do with channels.</p>\n"}],"last_activity_date":1684765089,"question_id":76306912,"body":"<p>I am creating a program where there is a Server and many Clients. When a client connects to the server a thread is created to manage that client. Whenever a client sends a message the thread receives this message and sends it to the rest of threads. When a thread receives a message from another thread sends it to its client.</p>\n<p>The problem I am having is that for this purpose one thread needs to wait for two different conditions at the same time:</p>\n<ol>\n<li>A client sends a message</li>\n<li>Another thread sends a message to that thread</li>\n</ol>\n<p>The code I have right now is:</p>\n<pre><code>byte[] buffer = new byte[1024];\nint bytesRead = inputStream.read(buffer);\nsynchronized (otherclientSockets) {\n  for (Socket otherclientSocket : otherclientSockets) {\n    if (!clientSocket.equals(otherclientSocket)) {\n      otherclientSocket.getOutputStream().write(buffer, 0, bytesRead);\n    }\n  }\n}\n</code></pre>\n<p>Right now when a thread receives the message from the client it resends the message to the rest of clients. How can I change this in order to work as described before?</p>\n<p>Thank you :)</p>\n"},{"comments":[{"comment_id":134561768,"body":"It should be straightforward with CameraX. Is there a reason you don&#39;t want to use CameraX?"},{"comment_id":134564980,"body":"the code i am using is working fine (face detection with graphics overlay) , with CameraX the overlay is not fit over face , so i have to use the Camera2 api"},{"comment_id":134565488,"body":"For camera2 implementation,  you can check out the camera2 code sample: <a href=\"https://github.com/android/camera-samples/tree/main/Camera2Basic\" rel=\"nofollow noreferrer\">github.com/android/camera-samples/tree/main/Camera2Basic</a>. However just FYI, it&#39;s very difficult to make your app compatible across all devices with camera2. That&#39;s why Google introduced CameraX."}],"last_activity_date":1684765037,"question_id":76307125,"body":"<p>I am trying to use &quot;camera preview&quot; and &quot;face detection&quot; using Camera2 and MLKIT face-detection , the preview and face detection works fine , but i cannot take a picture while showing the preview.</p>\n<p>LivePreviewActivity :</p>\n<pre><code>public final class LivePreviewActivity extends AppCompatActivity implements OnRequestPermissionsResultCallback, OnItemSelectedListener, CompoundButton.OnCheckedChangeListener {\nprivate static final String FACE_DETECTION = &quot;Face Detection&quot;;\n\nprivate static final String TAG = &quot;LivePreviewActivity&quot;;\nprivate static final int PERMISSION_REQUESTS = 1;\n\nprivate CameraSource cameraSource = null;\nprivate CameraSourcePreview preview;\nprivate GraphicOverlay graphicOverlay;\nprivate String selectedModel = FACE_DETECTION;\nprivate Executor executor = Executors.newSingleThreadExecutor();\nButton takePic;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Log.d(TAG, &quot;onCreate&quot;);\n\n    setContentView(R.layout.activity_vision_live_preview);\n\n    preview = findViewById(R.id.preview_view);\n    if (preview == null) {\n        Log.d(TAG, &quot;Preview is null&quot;);\n    }\n    graphicOverlay = findViewById(R.id.graphic_overlay);\n    if (graphicOverlay == null) {\n        Log.d(TAG, &quot;graphicOverlay is null&quot;);\n    }\n\n    ToggleButton facingSwitch = findViewById(R.id.facing_switch);\n    facingSwitch.setOnCheckedChangeListener(this);\n\n    takePic = findViewById(R.id.take_pic);\n\n    ImageView settingsButton = findViewById(R.id.settings_button);\n    settingsButton.setOnClickListener(v -&gt; {\n        Intent intent = new Intent(getApplicationContext(), SettingsActivity.class);\n        intent.putExtra(SettingsActivity.EXTRA_LAUNCH_SOURCE, SettingsActivity.LaunchSource.LIVE_PREVIEW);\n        startActivity(intent);\n    });\n\n    if (allPermissionsGranted()) {\n        createCameraSource(selectedModel);\n    } else {\n        getRuntimePermissions();\n    }\n}\n\n@Override\npublic synchronized void onItemSelected(AdapterView&lt;?&gt; parent, View view, int pos, long id) {\n    // An item was selected. You can retrieve the selected item using\n    // parent.getItemAtPosition(pos)\n    selectedModel = parent.getItemAtPosition(pos).toString();\n    Log.d(TAG, &quot;Selected model: &quot; + selectedModel);\n    preview.stop();\n    if (allPermissionsGranted()) {\n        createCameraSource(selectedModel);\n        startCameraSource();\n    } else {\n        getRuntimePermissions();\n    }\n}\n\n@Override\npublic void onNothingSelected(AdapterView&lt;?&gt; parent) {\n    // Do nothing.\n}\n\n@Override\npublic void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n    Log.d(TAG, &quot;Set facing&quot;);\n    if (cameraSource != null) {\n        if (isChecked) {\n            cameraSource.setFacing(CameraSource.CAMERA_FACING_FRONT);\n        } else {\n            cameraSource.setFacing(CameraSource.CAMERA_FACING_BACK);\n        }\n    }\n    preview.stop();\n    startCameraSource();\n}\n\nprivate void createCameraSource(String model) {\n    // If there's no existing cameraSource, create one.\n    if (cameraSource == null) {\n        cameraSource = new CameraSource(this, graphicOverlay);\n    }\n\n    try {\n        switch (model) {\n            case FACE_DETECTION:\n                Log.i(TAG, &quot;Using Face Detector Processor&quot;);\n                FaceDetectorOptions faceDetectorOptions = PreferenceUtils.getFaceDetectorOptionsForLivePreview(this);\n                cameraSource.setMachineLearningFrameProcessor(new FaceDetectorProcessor(this, faceDetectorOptions));\n                break;\n            default:\n                Log.e(TAG, &quot;Unknown model: &quot; + model);\n        }\n    } catch (RuntimeException e) {\n        Log.e(TAG, &quot;Can not create image processor: &quot; + model, e);\n        Toast.makeText(getApplicationContext(), &quot;Can not create image processor: &quot; + e.getMessage(), Toast.LENGTH_LONG).show();\n    }\n}\n\n/**\n * Starts or restarts the camera source, if it exists. If the camera source doesn't exist yet\n * (e.g., because onResume was called before the camera source was created), this will be called\n * again when the camera source is created.\n */\nprivate void startCameraSource() {\n    if (cameraSource != null) {\n        try {\n            if (preview == null) {\n                Log.d(TAG, &quot;resume: Preview is null&quot;);\n            }\n            if (graphicOverlay == null) {\n                Log.d(TAG, &quot;resume: graphOverlay is null&quot;);\n            }\n\n            preview.start(cameraSource, graphicOverlay);\n\n           \n            final ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n            cameraProviderFuture.addListener(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n                        bindPreview(cameraProvider);\n\n                    } catch (ExecutionException | InterruptedException e) {\n                        // No errors need to be handled for this Future.\n                        // This should never be reached.\n                    }\n                }\n            }, ContextCompat.getMainExecutor(this));\n\n\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\n            cameraSource.release();\n            cameraSource = null;\n        } catch (Exception e){\n            Log.e(TAG, &quot;Unable to start camera source.&quot;, e);\n            cameraSource.release();\n            cameraSource = null;\n        }\n    }\n}\nvoid bindPreview(@NonNull ProcessCameraProvider cameraProvider) {\n    cameraProvider.unbindAll();\n    Preview preview = new Preview.Builder().build();\n    ImageCapture.Builder builder = new ImageCapture.Builder();\n    final ImageCapture imageCapture = builder.setTargetRotation(this.getWindowManager().getDefaultDisplay().getRotation()).build();\n    @SuppressLint(&quot;WrongConstant&quot;) CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(String.valueOf(cameraSource.getCameraFacing()).equals(&quot;0&quot;)?1:0).build();\n\n    @SuppressLint(&quot;RestrictedApi&quot;) ImageAnalysis imageAnalysis = new ImageAnalysis.Builder().build();\n    MyAnalyzer myAnalyzer = new MyAnalyzer();\n    imageAnalysis.setAnalyzer(executor, myAnalyzer);\n\n    Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, imageAnalysis, imageCapture);\n\n    takePic.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            SimpleDateFormat mDateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmss&quot;, Locale.US);\n            File file = new File(getBatchDirectoryName(), mDateFormat.format(new Date()) + &quot;.jpg&quot;);\n\n            ImageCapture.OutputFileOptions outputFileOptions = new ImageCapture.OutputFileOptions.Builder(file).build();\n            imageCapture.takePicture(outputFileOptions, executor, new ImageCapture.OnImageSavedCallback() {\n                @Override\n                public void onImageSaved(@NonNull ImageCapture.OutputFileResults outputFileResults) {\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            Toast.makeText(LivePreviewActivity.this, &quot;Image Saved successfully&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                }\n                @Override\n                public void onError(@NonNull ImageCaptureException error) {\n                    error.printStackTrace();\n                }\n            });\n        }\n    });\n}\n\n@Override\npublic void onResume() {\n    super.onResume();\n    Log.d(TAG, &quot;onResume&quot;);\n    createCameraSource(selectedModel);\n    startCameraSource();\n}\n\n/**\n * Stops the camera.\n */\n@Override\nprotected void onPause() {\n    super.onPause();\n    preview.stop();\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    if (cameraSource != null) {\n        cameraSource.release();\n    }\n}\n\nprivate String[] getRequiredPermissions() {\n    try {\n        PackageInfo info = this.getPackageManager().getPackageInfo(this.getPackageName(), PackageManager.GET_PERMISSIONS);\n        String[] ps = info.requestedPermissions;\n        if (ps != null &amp;&amp; ps.length &gt; 0) {\n            return ps;\n        } else {\n            return new String[0];\n        }\n    } catch (Exception e) {\n        return new String[0];\n    }\n}\n\nprivate boolean allPermissionsGranted() {\n    for (String permission : getRequiredPermissions()) {\n        if (!isPermissionGranted(this, permission)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nprivate void getRuntimePermissions() {\n    List&lt;String&gt; allNeededPermissions = new ArrayList&lt;&gt;();\n    for (String permission : getRequiredPermissions()) {\n        if (!isPermissionGranted(this, permission)) {\n            allNeededPermissions.add(permission);\n        }\n    }\n\n    if (!allNeededPermissions.isEmpty()) {\n        ActivityCompat.requestPermissions(this, allNeededPermissions.toArray(new String[0]), PERMISSION_REQUESTS);\n    }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n    Log.i(TAG, &quot;Permission granted!&quot;);\n    if (allPermissionsGranted()) {\n        createCameraSource(selectedModel);\n    }\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n}\n\nprivate static boolean isPermissionGranted(Context context, String permission) {\n    if (ContextCompat.checkSelfPermission(context, permission) == PackageManager.PERMISSION_GRANTED) {\n        Log.i(TAG, &quot;Permission granted: &quot; + permission);\n        return true;\n    }\n    Log.i(TAG, &quot;Permission NOT granted: &quot; + permission);\n    return false;\n}\n\npublic String getBatchDirectoryName() {\n    String app_folder_path = &quot;&quot;;\n    app_folder_path = Environment.getExternalStorageDirectory().toString() + &quot;/images&quot;;\n    File dir = new File(app_folder_path);\n    if (!dir.exists() &amp;&amp; !dir.mkdirs()) {\n    }\n    return app_folder_path;\n}\n\nprivate class MyAnalyzer implements ImageAnalysis.Analyzer {\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    @androidx.camera.core.ExperimentalGetImage\n    public void analyze(ImageProxy imageProxy) {\n        Image mediaImage = imageProxy.getImage();\n        if (mediaImage != null) {\n            InputImage image = InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n            // Pass image to an ML Kit Vision API\n            // ...\n        }\n    }\n}\n}\n</code></pre>\n<p>CameraSourcePreview :</p>\n<pre><code>  public class CameraSourcePreview extends ViewGroup {\n                      private static final String TAG = &quot;MIDemoApp:Preview&quot;;\n\n                      private final Context context;\n                      private final SurfaceView surfaceView;\n                      private boolean startRequested;\n                      private boolean surfaceAvailable;\n                      private CameraSource cameraSource;\n\n                      private GraphicOverlay overlay;\n\n                      public CameraSourcePreview(Context context, AttributeSet attrs) {\n                        super(context, attrs);\n                        this.context = context;\n                        startRequested = false;\n                        surfaceAvailable = false;\n\n                        surfaceView = new SurfaceView(context);\n                        surfaceView.getHolder().addCallback(new SurfaceCallback());\n                        addView(surfaceView);\n                      }\n\n                      private void start(CameraSource cameraSource) throws IOException {\n                        this.cameraSource = cameraSource;\n\n                        if (this.cameraSource != null) {\n                          startRequested = true;\n                          startIfReady();\n                        }\n                      }\n\n                      public void start(CameraSource cameraSource, GraphicOverlay overlay) throws IOException {\n                        this.overlay = overlay;\n                        start(cameraSource);\n                      }\n\n\n                      public void stop() {\n                        if (cameraSource != null) {\n                          cameraSource.stop();\n                        }\n                      }\n\n                      public void release() {\n                        if (cameraSource != null) {\n                          cameraSource.release();\n                          cameraSource = null;\n                        }\n                        surfaceView.getHolder().getSurface().release();\n                      }\n\n                      private void startIfReady() throws IOException, SecurityException {\n                        if (startRequested &amp;&amp; surfaceAvailable) {\n                          if (PreferenceUtils.isCameraLiveViewportEnabled(context)) {\n                            cameraSource.start(surfaceView.getHolder());\n                          } else {\n                            cameraSource.start();\n                          }\n                          requestLayout();\n\n                          if (overlay != null) {\n                            Size size = cameraSource.getPreviewSize();\n                            int min = Math.min(size.getWidth(), size.getHeight());\n                            int max = Math.max(size.getWidth(), size.getHeight());\n                            boolean isImageFlipped = cameraSource.getCameraFacing() == CameraSource.CAMERA_FACING_FRONT;\n                            if (isPortraitMode()) {\n                              // Swap width and height sizes when in portrait, since it will be rotated by 90 degrees.\n                              // The camera preview and the image being processed have the same size.\n                              overlay.setImageSourceInfo(min, max, isImageFlipped);\n                            } else {\n                              overlay.setImageSourceInfo(max, min, isImageFlipped);\n                            }\n                            overlay.clear();\n                          }\n                          startRequested = false;\n                        }\n                      }\n\n                      private class SurfaceCallback implements SurfaceHolder.Callback {\n                        @Override\n                        public void surfaceCreated(SurfaceHolder surface) {\n                          surfaceAvailable = true;\n                          try {\n                            startIfReady();\n                          } catch (IOException e) {\n                            Log.e(TAG, &quot;Could not start camera source.&quot;, e);\n                          }\n                        }\n\n                        @Override\n                        public void surfaceDestroyed(SurfaceHolder surface) {\n                          surfaceAvailable = false;\n                        }\n\n                        @Override\n                        public void surfaceChanged(SurfaceHolder holder, int format, int width, int height) {}\n                      }\n\n                      @Override\n                      protected void onLayout(boolean changed, int left, int top, int right, int bottom) {\n                        int width = 320;\n                        int height = 240;\n                        if (cameraSource != null) {\n                          Size size = cameraSource.getPreviewSize();\n                          if (size != null) {\n                            width = size.getWidth();\n                            height = size.getHeight();\n                          }\n                        }\n\n                        // Swap width and height sizes when in portrait, since it will be rotated 90 degrees\n                        if (isPortraitMode()) {\n                          int tmp = width;\n                          width = height;\n                          height = tmp;\n                        }\n\n                        float previewAspectRatio = (float) width / height;\n                        int layoutWidth = right - left;\n                        int layoutHeight = bottom - top;\n                        float layoutAspectRatio = (float) layoutWidth / layoutHeight;\n                        if (previewAspectRatio &gt; layoutAspectRatio) {\n                          // The preview input is wider than the layout area. Fit the layout height and crop\n                          // the preview input horizontally while keep the center.\n                          int horizontalOffset = (int) (previewAspectRatio * layoutHeight - layoutWidth) / 2;\n                          surfaceView.layout(-horizontalOffset, 0, layoutWidth + horizontalOffset, layoutHeight);\n                        } else {\n                          // The preview input is taller than the layout area. Fit the layout width and crop the preview\n                          // input vertically while keep the center.\n                          int verticalOffset = (int) (layoutWidth / previewAspectRatio - layoutHeight) / 2;\n                          surfaceView.layout(0, -verticalOffset, layoutWidth, layoutHeight + verticalOffset);\n                        }\n                      }\n\n                      private boolean isPortraitMode() {\n                        int orientation = context.getResources().getConfiguration().orientation;\n                        if (orientation == Configuration.ORIENTATION_LANDSCAPE) {\n                          return false;\n                        }\n                        if (orientation == Configuration.ORIENTATION_PORTRAIT) {\n                          return true;\n                        }\n\n                        Log.d(TAG, &quot;isPortraitMode returning false by default&quot;);\n                        return false;\n                      }\n                    }\n</code></pre>\n<p>when i click on the button to take the picture nothing happened , ImageCapture.OnImageSavedCallback() is never called , what can be wrong and how can i achieve it.</p>\n"},{"comments":[{"comment_id":16904767,"body":"Where do you get this <code>val</code> from? it might be an encoding problem"},{"comment_id":16904779,"body":"And additionally to Binyamins question: What runtime type is stringList?"},{"comment_id":16904801,"body":"It&#39;s taken from a .csv file, so you may be correct. Is there anything I can do - can I force the encoding to be the same for both."},{"comment_id":16904813,"body":"Could you show some context to that code fragment containing the construction/declaration/type of <code>val</code>?"},{"comment_id":16904853,"body":"Yes I will do that, I&#39;d also like to say ... I&#39;ve used val.equals(aValThatIsInStringList) ... that is I&#39;ve used equals to compare with the individual items in the stringList ... I would imagine if it were encoding related this wouldn&#39;t work (but I a not sure about that)"}],"answers":[{"comments":[{"comment_id":60610360,"body":"There seems to be a problem with special characters, for example contains works fine for <code>mySet.contains(&quot;familia&quot;)</code>, but not for <code>mySet.contains(&quot;fam&#237;lia&quot;)</code>. The list (in my case I used a <code>Set</code>) contains both elements."}],"answer_id":12552097,"body":"<p><code>ArrayList.contains()</code> uses <code>Object.equals()</code> to check for equality (<code>hashCode()</code> is not involved in <code>List</code>). This works well for strings. Probably, your string really isn't contained in the list...</p>\n\n<p>You've probably overlooked some whitespace or upper/lower-case or encoding difference...</p>\n"},{"answer_id":12552100,"body":"<p>That doesn’t sound right: <code>contains</code> uses <code>equals</code> rather than <code>==</code>, so if the string is in the list, it should be found.  This can be verified in the <code>indexOf</code> method of the superclass <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java\" rel=\"nofollow\">AbstractList</a> used by <code>ArrayList</code>.</p>\n\n<p>Following your edit, make sure you <code>trim</code> strings before doing <code>contains</code>, as otherwise they may contain the <code>newline</code> character(s).</p>\n"},{"comments":[{"comment_id":16904950,"body":"Thanks, I am actually using trim() as well in my application code. Given all the responses I can understand that it&#39;s probably a minor difference rather than a fundamental problem."}],"answer_id":12552113,"body":"<p>Try the following, first make the check more concrete by iterating the list and checking each element separately. Than, when you hit the elements that you are expecting to be equal, This is what you are supposed to be looking at. Check to see if they are really equal. Maybe there is a case difference? (or some other elusive but plain difference like white space?)</p>\n"},{"answer_id":12552115,"body":"<p>More code please!</p>\n\n<p>This works:</p>\n\n<pre><code>import java.util.*;\n\npublic class Contains {\n    public static void main(String[] args) {\n        List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n        stringList.add(\"someString\");\n        String val = new String(\"someString\");\n        if (stringList.contains(val)) {\n            System.out.println(\"The value is in there\");\n        } else {\n            System.out.println(\"There's no such value here\");\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":20584408,"body":"<p>Try to override <code>equals()</code>, so that you can specify which property needs to compare equality .... :P</p>\n"}],"last_activity_date":1684765023,"question_id":12552048,"body":"<p>I want check whether a String value <code>val</code> is contained within a List of Strings lets call it stringList.</p>\n\n<p>I am doing this</p>\n\n<pre><code>if(stringList.contains(val)){\n  System.out.println(\"The value is in there\");\n}\nelse{\n  System.out.println(\"There's no such value here\");\n}\n</code></pre>\n\n<p>But it always seems to be that the value is not included. Is this because two String values that have the same characters are not actually equal? For a \"home-made\" class I could implement hashCode() and equals() and fix this, what can I do for String data?</p>\n\n<p>EDIT: </p>\n\n<p>The way I am getting val is outlined here:</p>\n\n<pre><code>List&lt;String&gt; stringList = new ArrayList&lt;String&gt;();\n    stringList.add(\"PDT\");\nstringList.add(\"LDT\");\nstringList.add(\"ELNE\");\n\nString myFile = \"/folder/myFile\";\nInputStream input = new FileInputStream(myFile);\nCSVReader reader = new CSVReader(new InputStreamReader(input), ',','\"', 1);\nString[] nextLine;\ntry {\n    while ((nextLine = reader.readNext()) != null) {\n    if (nextLine != null) {\n        if (nextLine[6] != null){\n          String val = nextLine[6];\n            if(stringList.contains(val)){\n            System.out.println(\"Success\");\n            }\n        }\n    }\n}\n</code></pre>\n"},{"last_activity_date":1684764653,"question_id":76307073,"body":"<p>I want to create widget for monitoring purposes, which will group status codes for each soap operation.\nI have logs with message statuses like:</p>\n<pre><code>&quot;HTTP/1.1 200 OK&quot;\n</code></pre>\n<p>or</p>\n<pre><code>&quot;HTTP/1.1 400 Bad Request&quot;\n</code></pre>\n<p>And logs with requests containing operation body. The only common information binding logs with http statuses and soap body is @IngestionTime. As far as I know nested queries in Logs Insight are not allowed.\nIs there any way to create widget for each operation, which will make statistics like:</p>\n<pre><code>status | count\n---------------\n200    |   1\n400    |   3\n</code></pre>\n<p>Is there any way to do that?</p>\n<ul>\n<li>I tried to add MDC field, but it is not visible in Logs Insights</li>\n<li>Create nested query (I think it is not possible)</li>\n<li>Create end logger with operation name and status (unsuccessfull)</li>\n</ul>\n"},{"answers":[{"comments":[{"comment_id":127414592,"body":"Thank you. It&#39;s working but is there a way for us to achieve the same using without query annotation? I mean can we leverage the custom methods( which internally generates this query) ? Kindly provide your inputs"},{"comment_id":127414639,"body":"@Rajeev you should then implement a bidirectional relationship on <code>Page</code> entity and use this as a field in the jpa method name"}],"answer_id":72110586,"body":"<p>The problem that you face is that your <code>entity</code> <code>Page</code> does not have a field that relates with <code>Book</code>. So you have <strong>unidirectional mapping</strong> in JPA layer.</p>\n<p>One solution would be to include the following custom query which will return you what you expect to be returned.</p>\n<pre><code> @Query( &quot;SELECT pg FROM Book bk join bk.pages pg WHERE bk.bookId = :bookId&quot;)\n List&lt;Page&gt; findPagesByBookId(@Param(&quot;bookId&quot;) String bookId);\n</code></pre>\n"}],"last_activity_date":1684764536,"question_id":72110341,"body":"<p>I have done the jpa one to many mapping between Book &amp; corresponding Pages as follows.</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\npublic class Book {\n    @Id\n    @EqualsAndHashCode.Include\n    @Column(name = &quot;book_id&quot;)\n    private String bookId;\n\n    private String name;\n\n    @OneToMany(targetEntity = Page.class, cascade= CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;book_id_fk&quot;, referencedColumnName = &quot;book_id&quot;)\n    private List&lt;Page&gt; pages;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@NoArgsConstructor\npublic class Page {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer sno;\n\n    private Integer number;\n}\n\n@Repository\npublic interface PageRepository extends JpaRepository&lt;Page, Integer&gt; {\n    List&lt;Page&gt; findAllByBook_Id(String bookId);\n}\n</code></pre>\n<p>Now I would like to get all pages using book id from Page table. For that I'm using findAllBook_id method but I'm getting the <code>No property book found for type Page!</code> exception. I tried XXXBook_fkId/XXXBookFkId/XXXBook_fk_id etc. method names but didn't worked out. Kindly help</p>\n"},{"comments":[{"comment_id":134534255,"body":"Why do you have custom JWT filters? Spring security has had full jwt support since 2017? Please read the spring security docs and implement the handling of JWTs in accordance to the documentation. Whats the point of having i security framework if you dont intend to use it?"},{"comment_id":134534301,"body":"thanks for the feedback, I will take it, but at this time, removing the JWT Filters, doesn&#39;t help with the solution."},{"comment_id":134534676,"body":"@Isaachjk You have to show the logs before <code>Securing POST &#47;error</code>. You could also permit <code>&#47;error</code> to see the real error in your response."},{"comment_id":134535851,"body":"Not following the documentation makes it much harder for us to help you because the error could be in your custom code, we dont know"},{"comment_id":134546721,"body":"Show also your controller method for <code>&#47;backend&#47;api&#47;general&#47;testError</code>"}],"answers":[{"comments":[{"comment_id":134543273,"body":"Why did i get -1 for that answer? O.o"}],"answer_id":76293208,"body":"<p>Please double check if you have correct URL in your controller (without trailing slash). Since 3.0</p>\n<pre><code>localhost:8080/backend/api/general/testError\n</code></pre>\n<p>and</p>\n<pre><code>localhost:8080/backend/api/general/testError/\n</code></pre>\n<p>isn't the same for matcher and will lead to 404 error.\nYou don't permit <code>/error</code>, so you get 403.</p>\n<p>Probably that's the reason but it's hard to tell without more details.</p>\n<p><a href=\"https://stackoverflow.com/questions/76265356/404-error-for-post-request-using-springboot/76266001#76266001\">Same problem here</a></p>\n"},{"answer_id":76293226,"body":"<p>If you want to <code>api/general/</code> matches <code>api/general</code>, override <code>configurePathMatching</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> override fun configurePathMatching(configurer: PathMatchConfigurer) {\n     configurer.setUseTrailingSlashMatch(true)\n }\n</code></pre>\n"}],"last_activity_date":1684764480,"question_id":76290602,"body":"<p>I'm having trouble to make requestMatchers to work properly.</p>\n<p>If I try to make a request to ex. (localhost:8080/backend/api/general/testError), it returns 403 error, while the same request in Spring Boot: <code>2.7.X</code> don't.</p>\n<p>If I change <code>.anyRequest().authenticated()</code> to <code>.anyRequest().permitAll()</code> it works like a charm, but is not the idea to change the authenticated way.</p>\n<p>As I said, the same code was working on Spring Boot <code>2.7.X</code>.</p>\n<p>Also, tested on Spring boot: <code>3.0.4</code>, <code>3.0.7</code>, <code>3.1.0</code>.</p>\n<p>the following code is the SecurityFilterChain <code>filterChain</code> Bean definition:</p>\n<pre><code>\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(\n        securedEnabled = true, // ...\n        prePostEnabled = true // para poder usar PreAuthorize (Seguridad por roles)\n)\npublic class WebConfig implements WebMvcConfigurer {\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        Boolean isProduction = true;\n\n        try {\n            isProduction = !env.getProperty(&quot;dataSource.url&quot;).contains(&quot;DESA&quot;);\n        } catch (Exception ex) {\n            /**\n             * Ante un fallo aplicamos la seguridad de producciï¿½n\n             */\n            isProduction = true;\n        }\n\n        http\n            .sessionManagement(session -&gt;\n                    session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            )\n            .csrf(csrf-&gt; csrf.disable())\n            .cors(withDefaults())\n            .authorizeHttpRequests(request -&gt; request\n                .requestMatchers(HttpMethod.POST,\n                        &quot;/actuator/**&quot;,\n                        &quot;/api/general/**&quot;, \n                        &quot;/api/digesto/documentos/getDigestoDocumentBits/**&quot;)\n                .permitAll()\n\n                .anyRequest()\n                .authenticated()\n            )\n            .authenticationProvider(authProvider)\n            .addFilter(new JwtAuthenticationFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class))))\n            .addFilter(new JwtAuthorizationFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class)), isProduction));\n\n        return http.build();\n    }\n</code></pre>\n<p>Debugging a little the message from console, we can see some interesting things:</p>\n<pre><code>[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:245 - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f0c5384, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3805707d, org.springframework.security.web.context.SecurityContextHolderFilter@32764446, org.springframework.security.web.header.HeaderWriterFilter@6420c7d6, org.springframework.web.filter.CorsFilter@283de1da, org.springframework.security.web.authentication.logout.LogoutFilter@193bd24, bknd.Siam.Beans.JwtAuthenticationFilter@77464808, bknd.Siam.Beans.JwtAuthorizationFilter@4aeba517, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1061711c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d0c4031, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@597eb2af, org.springframework.security.web.session.SessionManagementFilter@5b9ea973, org.springframework.security.web.access.ExceptionTranslationFilter@1f21993c, org.springframework.security.web.access.intercept.AuthorizationFilter@2dcb65e]] (1/1)\n[2023-05-19 09:24:19][DEBUG] org.springframework.security.web.FilterChainProxy:223 - Securing POST /error\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking DisableEncodeUrlFilter (1/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking WebAsyncManagerIntegrationFilter (2/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking SecurityContextHolderFilter (3/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking HeaderWriterFilter (4/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking CorsFilter (5/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking LogoutFilter (6/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.authentication.logout.LogoutFilter:121 - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking JwtAuthenticationFilter (7/14)\n[2023-05-19 09:24:19][TRACE] bknd.Siam.Beans.JwtAuthenticationFilter:271 - Did not match request to Ant [pattern='/api/general/login']\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking JwtAuthorizationFilter (8/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking RequestCacheAwareFilter (9/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking SecurityContextHolderAwareRequestFilter (10/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking AnonymousAuthenticationFilter (11/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking SessionManagementFilter (12/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking ExceptionTranslationFilter (13/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking AuthorizationFilter (14/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager:71 - Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4dea265c]]\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:416 - 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n[2023-05-19 09:24:19][TRACE] org.springframework.beans.factory.support.DefaultListableBeanFactory:256 - Returning cached instance of singleton bean 'basicErrorController'\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:525 - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:416 - 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n[2023-05-19 09:24:19][TRACE] org.springframework.beans.factory.support.DefaultListableBeanFactory:256 - Returning cached instance of singleton bean 'basicErrorController'\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:525 - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:416 - 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n[2023-05-19 09:24:19][TRACE] org.springframework.beans.factory.support.DefaultListableBeanFactory:256 - Returning cached instance of singleton bean 'basicErrorController'\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:525 - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager:80 - Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4dea265c]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6c2926cb\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.context.SupplierDeferredSecurityContext:72 - Created SecurityContextImpl [Null authentication]\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.authentication.AnonymousAuthenticationFilter:116 - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.access.ExceptionTranslationFilter:194 - Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:321)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:222)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222)\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:304)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n[2023-05-19 09:24:19][DEBUG] org.springframework.security.web.authentication.Http403ForbiddenEntryPoint:57 - Pre-authenticated entry point called. Rejecting access\n[2023-05-19 09:24:19][TRACE] org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter:105 - Cleared thread-bound request context: org.apache.catalina.core.ApplicationHttpRequest@4dea265c\n</code></pre>\n<p>Reading the console, what I can find is like <code>anyRequest()</code> is getting ride of the <code>api/general</code> path, no matter that it has an exclusion.</p>\n<p>I have read a lot, and I cant find a definite solution, please help me!</p>\n<p>I tried many ways of implementing the requestMatchers and also try some solutions founds in Stackoverflow, but no ones work for me.</p>\n<p>Im expecting find a solution to the problem I have.</p>\n<p><strong>answer</strong>\nThe question was wrongly closed, the information was enough to solve the problem, here is the solution, if anyone has the same error:</p>\n<p>When @dur, publish the question, he noticed the secured /error path, enabling /error in the requestMatcher  was enough to make it work.</p>\n"},{"comments":[{"comment_id":134502581,"body":"I&#39;m experiencing exactly the same issue. Have you found the workaround or solution?"},{"comment_id":134502927,"body":"Not yet. I had some unsuccessful contacts with Azure support, I hope they&#39;ll get back to me."},{"comment_id":134517092,"body":"I visit this issue which were informed fixed in 1.17.0. According to the discussion, the issue was narrowed down to action of deploying to the Azure Spring Apps Consumption Plan. That was my case as well. <a href=\"https://github.com/microsoft/azure-maven-plugins/issues/2268\" rel=\"nofollow noreferrer\">github.com/microsoft/azure-maven-plugins/issues/2268</a> With 1.17.0 released, it fixed this error but I haven&#39;t seen any report of whether the deployment to Azure Spring Apps Consumption Plan would success since they also stated that they doesn&#39;t have plan to support the plan soon. What do you think?"}],"answers":[{"comments":[{"comment_id":134360181,"body":"Thanks a lot for your detailed answer. However, the &quot;mvn clean install&quot; didn&#39;t change anything. My Azure account has access to two subscriptions, I wonder if this may be related."},{"comment_id":134361106,"body":"Even if you have multiple subscriptions, you will get options to select your preferred subscription when you run the command <code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:co&zwnj;&#8203;nfig</code> as I shown in the answer."}],"answer_id":76181971,"body":"<blockquote>\n<p>Azure Spring Apps deployment with Maven causes error : Invalid arguments: DeploymentSettings must be provided</p>\n</blockquote>\n<p>I would suggest you to run <code>mvn clean install</code> before deploying your application to Azure Spring Apps.</p>\n<p>And also Check if the below configuration is being added in your pom.xml file after running <code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-spring-apps-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.17.0&lt;/version&gt;\n        &lt;configuration&gt;\n                    \n            &lt;subscriptionId&gt;Azure_SUbscription_id&lt;/subscriptionId&gt;\n            &lt;resourceGroup&gt;Resource_group_name&lt;/resourceGroup&gt;\n            &lt;clusterName&gt;kpspringapp&lt;/clusterName&gt;\n            &lt;appName&gt;springboot-crud&lt;/appName&gt;\n            &lt;isPublic&gt;false&lt;/isPublic&gt;\n            &lt;deployment&gt;\n                  &lt;cpu&gt;1&lt;/cpu&gt;\n                  &lt;memoryInGB&gt;1&lt;/memoryInGB&gt;\n                  &lt;instanceCount&gt;1&lt;/instanceCount&gt;\n                  &lt;runtimeVersion&gt;Java 11&lt;/runtimeVersion&gt;\n                  &lt;resources&gt;\n                      &lt;resource&gt;\n                          &lt;filtering/&gt;\n                          &lt;mergeId/&gt;\n                          &lt;targetPath/&gt;\n                        &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\n                          &lt;includes&gt;\n                               &lt;include&gt;*.jar&lt;/include&gt;\n                          &lt;/includes&gt;\n                       &lt;/resource&gt;\n                   &lt;/resources&gt;\n              &lt;/deployment&gt;\n         &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<hr />\n<p>I have created a spring boot application and deployed to Azure Spring Apps:</p>\n<ol>\n<li>Logged into Azure via command line.</li>\n</ol>\n<p><img src=\"https://i.imgur.com/0Hm2vQY.png\" alt=\"enter image description here\" /></p>\n<ol start=\"2\">\n<li>Generating the configurations to deploy the Spring Boot application to Azure Spring Apps by running <code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config</code> command.\nThis will ask to select the <em>subscription, Resource group, Azure Spring Apps name, Java runtime version</em> etc., and then generate the configurations required for deployment.</li>\n</ol>\n<p><img src=\"https://i.imgur.com/WUrjFfn.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/PVCLOWA.png\" alt=\"enter image description here\" /></p>\n<p>I was also getting errors initially and couldn't deploy the application.\nBut, after running the command  <code>mvn clean install</code>, I was able to deploy the application to spring apps.</p>\n<p><img src=\"https://i.imgur.com/9Nz0yt1.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/mECLH70.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/koB5xgY.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>Deploying the application to Azure Spring Apps:</strong></em></p>\n<p><img src=\"https://i.imgur.com/DqFNNtK.png\" alt=\"enter image description here\" /></p>\n<p><strong>Portal:</strong>\n<img src=\"https://i.imgur.com/zQcK01s.png\" alt=\"enter image description here\" /></p>\n<p><strong>Response:</strong>\n<img src=\"https://i.imgur.com/qmbvd0X.png\" alt=\"enter image description here\" /></p>\n"},{"comments":[{"comment_id":134567548,"body":"Thanks for the test and confirmation Dan. Obviously the new plan is my preference as well."}],"answer_id":76307038,"body":"<p>Everything works perfectly if you are NOT using the &quot;Standard Consumption&quot; plan. If you use at least &quot;Basic&quot; everything works as it should. I have retested this a few times and each time it works fine with &quot;Basic&quot; but not &quot;Consumption&quot; as I get same error as you each time.</p>\n<p>Obviously this is not ideal, perhaps there is update coming soon? I would much rather use the new consumption plan</p>\n"}],"last_activity_date":1684764407,"question_id":76157424,"body":"<p>I'm trying to deploy a Spring Boot application to Microsoft Azure Spring Apps using Maven.</p>\n<p>I strictly followed this tutorial from Microsoft : <a href=\"https://learn.microsoft.com/en-us/azure/spring-apps/how-to-maven-deploy-apps\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/spring-apps/how-to-maven-deploy-apps</a> , except for the azure-spring-apps-maven-plugin which had to be upgraded from 1.10.0 to 1.17.0, as per follows :</p>\n<p><code>mvn com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:config</code></p>\n<p>But when running the deploy command with the sample project :</p>\n<p><code>mvn azure-spring-apps:deploy</code></p>\n<p>The following <em>&quot;Invalid arguments: DeploymentSettings must be provided&quot;</em> error occurs :</p>\n<pre><code>[ERROR] Operator called default onErrorDropped\nreactor.core.Exceptions$StaticThrowable: Operator has been terminated\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  13.680 s\n[INFO] Finished at: 2023-05-02T19:06:23+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.microsoft.azure:azure-spring-apps-maven-plugin:1.17.0:deploy (default-cli) on project hellospring: create or update Spring app(hellospring) from config: AzureToolkitRuntimeException: create Azure Spring App deployment (default): Status code 400, &quot;{&quot;error&quot;:{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;Invalid arguments: DeploymentSettings must be provided.&quot;,&quot;details&quot;:[{&quot;code&quot;:&quot;BadArgument&quot;,&quot;message&quot;:&quot;DeploymentSettings must be provided.&quot;,&quot;target&quot;:&quot;Properties.DeploymentSettings&quot;}]}}&quot; -&gt; [Help 1]\n</code></pre>\n<p>The HelloSpring sample application does not require any specific configuration (no database, no file storage, no https certificates, etc.).</p>\n<p>Any idea of what I may be doing wrong?</p>\n"},{"comments":[{"comment_id":134560606,"body":"A general rule of unit testing is each test <a href=\"https://horizontal.blog/2016/08/30/unit-testing-a-sample-approach/\" rel=\"nofollow noreferrer\">tests a single assumption about the code.</a>  Large loops like this seem to violate that rule.  Can you par the test down to just one assumption?"},{"comment_id":134569945,"body":"There are a lot of test cases especially in combination: There are prime numbers and there are individual numbers. The idea is to write a &#39;combinator&#39; of the primes and the numbers. (Would like to keep the hierarchy in the native test explorer ui of vsc)"}],"last_activity_date":1684764357,"question_id":76307027,"body":"<p>The test are repeating in a multi dimensional like manner, would a hierarchy as follows be possible to implement with simplicity? I expect the UI, e.g. the VSC Testing UI to show nests of the sub-tests</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Test {\n    @RepeatedTest(...)\n    class ChildTest {\n        RepetitionInfo info = ...\n\n        @RepeatedTest(...)\n        public void test() {\n            RepetitionInfo info2 = ...\n            System.out.printf(..., info1.getCurrentRepetition(), info2.getCurrentRepetition());\n\n            // Idea:\n\n            // 0 - 0\n            // 0 - 1\n            // 0 - 2\n            // ...\n\n            // 1 - 0\n            // 1 - 1\n            // 1 - 2\n            // ...\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134559923,"body":"the code you provided doesn&#39;t compile. Please share syntactical correct code"},{"comment_id":134559943,"body":"BTW: Never catch exceptions without hanlde it. Atleast log them"},{"comment_id":134560066,"body":"&quot;there is an issue&quot; is not a valid question for Stackoverlow. What is the error, symptoms? Be specific and provide details."},{"comment_id":134560087,"body":"maybe i&#39;m a little bit poor in Eng, I didn&#39;t explain well the request, anyways , the issue is that URL doesn&#39;t execute when I use the above code, that is the main issue"},{"comment_id":134560400,"body":"Throws an error? You should be debugging it. As @Jens said always handle exceptions."}],"answers":[{"answer_id":76306934,"body":"<p>I found the solution :)</p>\n<p>Just I need to read the URL, I added the below code and it works fine. Thank you all.</p>\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader( myURLConnection.getInputStream()));\n</code></pre>\n"}],"last_activity_date":1684763829,"question_id":76306740,"body":"<p>I am trying to send SMS via java using URL connection, when I'm using the url directly in the browser i receive the SMS, however, using java code seems there is an issue when I call the URL..I wonder if  using HttpURLConnection will do the job or not?</p>\n<p>code as below :</p>\n<pre><code> try{\n String myMobile = &quot;Country code&quot;+user.getMobile();\n String  Url_str = &quot;http://sms.com/Api/.......+ myMobile+;        \n System.out.println(Url_str);\n URL myURL = new URL(Url_str);\n URLConnection myURLConnection = myURL.openConnection();\n  myURLConnection.connect();\n} \n            catch (MalformedURLException e) { \n                // new URL() failed\n            } \n            catch (IOException e) {   \n                // openConnection() failed   \n            }\n\n        \n</code></pre>\n"},{"comments":[{"comment_id":134537269,"body":"<i>&quot;jaxb adds this import to the class: <code>import java.util.List&lt;String&gt;;</code>&quot;</i> - Generating invalid Java code would indicate a bug, no?  You might want to check the bug database to see if this issue is listed?"},{"comment_id":134545364,"body":"What is the delimiter of the list supposed to be?"},{"comment_id":134560228,"body":"@FLUXparticle comma (&quot;,&quot;) delimited."},{"comment_id":134562688,"body":"Then I would say it is not possible to describe such a format in XML schema. At least not in a way that the list is handled automatically. In XML Schema a list is always divided by spaces."}],"last_activity_date":1684763785,"question_id":76293003,"body":"<p>We have been using jaxb for a long time to unmarshal XML into POJOs that we can use within our system. However, only recently I found an issue with how jaxb is parsing the xml provided data and I would like to override that behavior by implementing a custom XmlAdapter and forcing jaxb to use it.</p>\n<p>Let's say we have a complex field definition like the below in our xsd:</p>\n<pre><code>&lt;xs:complexType name=&quot;ratingType&quot;&gt;\n    &lt;xs:simpleContent&gt;\n      &lt;xs:extension base=&quot;xs:string&quot;&gt;\n        &lt;xs:attribute name=&quot;scheme&quot; use=&quot;required&quot; type=&quot;xs:NMTOKEN&quot;/&gt;\n        &lt;xs:attribute name=&quot;subRatings&quot; use=&quot;optional&quot;&gt;\n          &lt;xs:simpleType&gt;\n            &lt;xs:list itemType='xs:string'/&gt;\n          &lt;/xs:simpleType&gt;\n        &lt;/xs:attribute&gt;\n      &lt;/xs:extension&gt;\n    &lt;/xs:simpleContent&gt;\n  &lt;/xs:complexType&gt;\n</code></pre>\n<p>Without making any changes, jaxb creates the following java class attribute:</p>\n<pre><code>@XmlAttribute(name = &quot;subRatings&quot;)\nprotected List&lt;String&gt;subRatings;\n</code></pre>\n<p>This has been generally ok, however, due to new client requirements the data we get on this field will change.</p>\n<p>Current use case:\n<code>&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Violence&quot;&gt;MA15+&lt;/rating&gt;</code>\nThis turns into subRatings=[&quot;Violence&quot;], which is great.</p>\n<p>New use case:\n<code>&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Coarse Language&quot;&gt;MA15+&lt;/rating&gt;</code>\nThis, however, turns into subRatings=[&quot;Coarse&quot;, &quot;Language&quot;], which is not right and causes issues downstream as that is not a recognized subRating. I expect it to be subRatings=[&quot;Coarse Language&quot;] instead.</p>\n<p>I have tried a few things, but so far the one that gets me closest to what I want is using jaxb bindings like the below:</p>\n<pre><code>&lt;jxb:bindings schemaLocation=&quot;media.xsd&quot; node=&quot;//xs:complexType[@name='ratingType']&quot;&gt;\n        &lt;jxb:bindings node=&quot;.//xs:attribute[@name='subRatings']&quot;&gt;\n            &lt;jxb:property&gt;\n                &lt;jxb:baseType&gt;\n                    &lt;xjc:javaType name=&quot;java.util.List&amp;lt;String&amp;gt;&quot; adapter=&quot;org.jvnet.jaxb2_commons.xml.bind.annotation.adapters.CommaDelimitedStringAdapter&quot;/&gt;\n                &lt;/jxb:baseType&gt;\n            &lt;/jxb:property&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n</code></pre>\n<p>The generated class has the following attribute definition:</p>\n<pre><code>@XmlAttribute(name = &quot;subRatings&quot;)\n    @XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\n    protected List&lt;String&gt;subRatings;\n</code></pre>\n<p>All good so far. However, for some reason, jaxb adds this import to the class: <code>import java.util.List&lt;String&gt;;</code> which causes it to not compile.</p>\n<p>Other thing that I tried was removing the specific type in the javaType name definition, like <code>java.util.List</code> but that causes jaxb to create the field with a raw type like <code>protected List subRatings;</code> and that's not only ugly but it causes issues downstream as now anyone using this class needs to cast the subrating object making the code smelly. Any ideas how to overcome this? Keep in mind that I cannot modify the generated classes as they are built at compile time.</p>\n"},{"answers":[{"answer_id":60730272,"body":"<p>My solution : \nIn addition to the persistence.xml file I created application.properties file : \n    # Connection url for the database\n    spring.datasource.url=jdbc:postgresql://ip:port/db\n    spring.datasource.username=postgres\n    spring.datasource.password=postgres\n    spring.datasource.driver-class-name=org.postgresql.Driver\n    spring.jpa.hibernate.ddl-auto =update\n    spring.jpa.show-sql = true\n    chosen database\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQL9Dialect\n    spring.jpa.generate-ddl=true\n    server.port = 9091</p>\n\n<p>Afterwards, in my Application.java I added the following annotations and extend : </p>\n\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(\"repositories\")\n@EntityScan(\"dao\")\npublic class Application extends SpringBootServletInitializer {\n</code></pre>\n"},{"answer_id":60730826,"body":"<p>You need to override configure method from SpringBootServletInitializer</p>\n\n<pre><code>@Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n    return application.sources(Application.class);\n}\n</code></pre>\n"},{"comments":[{"comment_id":119413896,"body":"Do now upload Images,  Read <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"}],"answer_id":67558171,"body":"<p>Make sure that your filename, class name and the name of the class inside the SpringApplication.run() function are the same.\nAlso, make sure you haven't forgotten the <code>@SpringBootApplication</code> annotation.</p>\n"},{"comments":[{"comment_id":124193040,"body":"Fixed my problem! 👍"}],"answer_id":68570666,"body":"<p>I resolved my problem by adding dependancy 'spring-boot-starter-web'.</p>\n"},{"answer_id":74918686,"body":"<p>You can comment the <code>&lt;scope&gt;provided&lt;/scope&gt;</code> in pom.xml file like below</p>\n<p><a href=\"https://i.stack.imgur.com/ENbRZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ENbRZ.png\" alt=\"See the sample snippet belo\" /></a></p>\n"},{"answer_id":76306885,"body":"<p>I was fixing this because of <a href=\"https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1924298\" rel=\"nofollow noreferrer\">https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1924298</a></p>\n<p>And my fix was to do this in pom.xml only:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n  &lt;version&gt;4.0.1&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>No changes in classes or config were needed.</p>\n"}],"last_activity_date":1684763417,"question_id":60728683,"body":"<p>I'm trying to start my spring-boot-web app but I'm getting the following error : </p>\n\n<pre><code>2020-03-17 20:54:22.643  WARN 15640 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.context.ApplicationContextException: Unable to start ServletWebServerApplicationContext due to missing ServletWebServerFactory bean.\n2020-03-17 20:54:22.664 ERROR 15640 --- [           main] o.s.boot.SpringApplication               : Application run failed\n</code></pre>\n\n<p>I configured the following ApplicationContext file : </p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = {\"repos\"})\npublic class AppConfig  {\n    @Bean\n    public LocalEntityManagerFactoryBean entityManagerFactory() {\n        LocalEntityManagerFactoryBean factoryBean = new LocalEntityManagerFactoryBean();\n        factoryBean.setPersistenceUnitName(\"mydb\");\n\n        return factoryBean;\n    }\n\n    @Bean\n    public JpaTransactionManager transactionManager(EntityManagerFactory entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory);\n\n        return transactionManager;\n    }\n}\n</code></pre>\n\n<p>I need those beans because in one of my services I inject the following objects :</p>\n\n<pre><code>@Autowired\nprivate EntityManagerFactory emf;\n\n@PersistenceContext\nprivate EntityManager em;\n</code></pre>\n\n<p>and my main app : </p>\n\n<pre><code>@SpringBootApplication\npublic class Application  extends SpringBootServletInitializer {\n\n\n    public static void main(String[]args)\n    {\n        //load the spring config class we configured\n        SpringApplication.run(AppConfig.class);\n    }\n</code></pre>\n\n<p>my dependencies in pom.xml : </p>\n\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.2.4.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Solutions I tried but didnt work : </p>\n\n<p>1)add extends SpringBootServletInitializer to both Application.java and Appconfig.java</p>\n\n<p>2)Move the beans from the AppConfig.java to Application.java</p>\n\n<p>3)Tried to set the following annotation on  the application class : </p>\n\n<pre><code>@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\n</code></pre>\n\n<p>4)Adding the following dependency to the pom.xml : </p>\n\n<p>\n        org.springframework.boot\n        spring-boot-starter-tomcat\n        2.2.5.RELEASE\n    </p>\n"},{"comments":[{"comment_id":134560132,"body":"Because those attributes are only used for non HTML responses, there is a default HTML page dispaying the default available parameters. If you need additional ones you will need a custom page. However I do not see how <code>message</code> and <code>status</code> can leak information, the stacktrace however can (and it is configurable if that should be displayed or not)."},{"comment_id":134560424,"body":"Thanks for the response, <code>message</code> can contain internal info about the application, I cannot guarantee for that, it would be great if the <code>message</code> attribute also removed from html response too since I am telling spring boot to remove it right..."},{"comment_id":134560599,"body":"No you aren&#39;t, as stated the errorattributes aren&#39;t used for HTML only for non HTML responses (JSON, XML, plain text)."}],"last_activity_date":1684763110,"question_id":76302249,"body":"<p>I want to remove some error attributes from error response in springboot since they could leak sensitive information.</p>\n<pre><code> @Component\n public class MyCustomErrorAttributes extends DefaultErrorAttributes {\n\n      @Override\n      public Map&lt;String, Object&gt; getErrorAttributes(WebRequest webRequest, ErrorAttributeOptions options) {\n\n           Map&lt;String, Object&gt; errorAttributes = super.getErrorAttributes(webRequest, options);\n           errorAttributes.put(&quot;locale&quot;, webRequest.getLocale().toString());\n           errorAttributes.remove(&quot;message&quot;);\n           errorAttributes.remove(&quot;status&quot;);\n    \n           return errorAttributes;\n      }\n  }\n</code></pre>\n<p>This is working when I send a request containing Accept header <code>application/json</code>. But when I send <code>text/html</code>, I am able to see <code>message</code> and <code>status</code> attributes in the response. This is leaking the information and looks like someone can try to get extra information from my application.</p>\n<p>Here is the response, you can see that the <code>message</code> (<code>&lt;p&gt;&lt;b&gt;Message&lt;/b&gt;</code>) attribute exists even if I removed it in <code>getErrorAttributes</code> method.</p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n   &lt;head&gt;\n      &lt;title&gt;HTTP Status 500 – Internal Server Error&lt;/title&gt;\n   &lt;/head&gt;\n   &lt;body&gt;\n      &lt;h1&gt;HTTP Status 500 – Internal Server Error&lt;/h1&gt;\n      &lt;hr class=&quot;line&quot; /&gt;\n      &lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;\n      &lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Request processing failed: java.lang.NullPointerException: hellow&lt;/p&gt;\n      &lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server encountered an unexpected condition that prevented it from fulfilling the request.\n      &lt;/p&gt;\n      &lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;\n      &lt;pre&gt;jakarta.servlet.ServletException: Request processing failed: java.lang.NullPointerException: hellow\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n&lt;/pre&gt;\n      &lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;\n      &lt;pre&gt;java.lang.NullPointerException: hellow\n    com.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\n    java.base&amp;#47;jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    \norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n&lt;/pre&gt;\n      &lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;\n      &lt;hr class=&quot;line&quot; /&gt;\n      &lt;h3&gt;Apache Tomcat/10.1.1&lt;/h3&gt;\n   &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/tjryE.png\" rel=\"nofollow noreferrer\">text/html media response ss</a></p>\n<p>And you can see that <code>message</code> and <code>status</code> attributes does not exist in <code>application/json</code> response:</p>\n<pre><code>{\n    &quot;timestamp&quot;: 1684710265831,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;java.lang.NullPointerException: hellow\\n\\tat com.example.demo.apiControllers.errorHandling.ExceptionHandlingDenemeController4.errorDeneme(ExceptionHandlingDenemeController4.java:26)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)\\n\\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;,\n    &quot;path&quot;: &quot;/4/error_deneme/20&quot;,\n    &quot;locale&quot;: &quot;en_US&quot;\n}\n</code></pre>\n<p><code>locale</code> attribute I added also does not exist in <code>text/html</code> response</p>\n<p>EDIT:</p>\n<p>It looks like <code>getErrorAttributes</code> does not effect response when <code>text/html</code> media type is requested</p>\n<p>What is going on here? Can you help please?</p>\n<p>Thanks in advance.</p>\n"},{"comments":[{"comment_id":23794705,"body":"please <a href=\"https://developers.google.com/analytics/devguides/collection/android/v2/exceptions\" rel=\"nofollow noreferrer\">check link</a>"},{"comment_id":23794889,"body":"when crash happens your activity is destroyed so there is no way to handle the crash yourself."},{"comment_id":23795264,"body":"@Raghunandan yes but if the crash happens because of an unhandled exception you can use a general catch all exception handler and prevent it from completely crashing."},{"comment_id":29660398,"body":"@LoganDam Ever figure anything out?"},{"comment_id":29697033,"body":"@mattblang I actually haven&#39;t touched my android stuff in quite a while now, work has been crazy. Might get back into the android world again soon though. CRUSADER&#39;s option looks like the way to go from the reading I&#39;ve done."}],"answers":[{"comments":[{"comment_id":23796080,"body":"Your example activity doesn&#39;t implement <code>UncaughtExceptionHandler</code> :) thanks for the answer, I&#39;ll try it when I get home from work."},{"comment_id":23796165,"body":"Also, should <code>Thread.setDefaultUncaughtExceptionHandler()</code> not be put in your main/first activity so it handles all exceptions within the application?"},{"comment_id":23796194,"body":"I said, to create a class say ExceptionHandler implements java.lang.Thread.UncaughtExceptionHandler....  And then in your normal activities add above mentioned code line... Please refer link mentioned above to get broader idea.."},{"comment_id":33032504,"body":"@CRUSADER Thankyou so much that link which you have mentioned as reference link is working perfectly fine."},{"comment_id":35094836,"body":"Or just add that line once to a BaseActivity and subclass this Activity throughout your app."},{"comment_id":42127229,"body":"Has anyone actually got this to work well before? I find that the environment seems unstable during the exception handler, and it&#39;s hard to prevent the app/code from crashing or freezing."}],"answer_id":16562770,"body":"<p>Here, check for the <a href=\"http://trivedihardik.wordpress.com/2011/08/20/how-to-avoid-force-close-error-in-android/\" rel=\"nofollow noreferrer\">link for reference</a>.</p>\n<p>In here you create a class say <strong>ExceptionHandler</strong> that <code>implements java.lang.Thread.UncaughtExceptionHandler</code>..</p>\n<p>Inside this class you will do your life saving stuff like creating stacktrace and gettin ready to upload error report etc....</p>\n<blockquote>\n<p><strong>Now comes the important part</strong> i.e. How to catch that exception.\nThough it is very simple. Copy following line of code in your each Activity just after the call of super method in your overriden <code>onCreate</code> method.</p>\n<pre><code>Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\n</code></pre>\n<p>Your Activity may look something like this…</p>\n<pre><code>public class ForceClose extends Activity {\n    /** Called when the activity is first created. */\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Thread.setDefaultUncaughtExceptionHandler(new ExceptionHandler(this));\n\n        setContentView(R.layout.main);\n    }\n}\n</code></pre>\n</blockquote>\n<p>And this is a sample ExceptionHandler class:</p>\n<pre><code>public class ExceptionHandler implements Thread.UncaughtExceptionHandler {\n  private static final String TAG = &quot;ExceptionHandler&quot;;\n\n  @Override\n  public void uncaughtException(@NonNull Thread thread, @NonNull Throwable exception) {\n    Log.e(TAG, &quot;uncaughtException: &quot; + &quot;\\n&quot; + getErrorReport(exception));\n    Log.i(TAG, getDeviceInfo());\n    Log.i(TAG, getFirmwareInfo());\n\n    stopTheApp();\n  }\n\n  private String getErrorReport(@NonNull Throwable exception) {\n    ApplicationErrorReport.CrashInfo crashInfo = new ApplicationErrorReport.CrashInfo(exception);\n\n    return &quot;\\nCAUSE OF ERROR\\n&quot; +\n      crashInfo.stackTrace;\n  }\n\n  private String getDeviceInfo() {\n    return\n      &quot;\\nDEVICE INFORMATION\\n&quot; +\n        &quot;Brand: &quot; +\n        Build.BRAND +\n        &quot;\\n&quot; +\n        &quot;Device: &quot; +\n        Build.DEVICE +\n        &quot;\\n&quot; +\n        &quot;Model: &quot; +\n        Build.MODEL +\n        &quot;\\n&quot; +\n        &quot;Id: &quot; +\n        Build.ID +\n        &quot;\\n&quot; +\n        &quot;Product: &quot; +\n        Build.PRODUCT +\n        &quot;\\n&quot;;\n  }\n\n  private String getFirmwareInfo() {\n    return &quot;\\nFIRMWARE\\n&quot; +\n      &quot;SDK: &quot; +\n      Build.VERSION.SDK_INT +\n      &quot;\\n&quot; +\n      &quot;Release: &quot; +\n      Build.VERSION.RELEASE +\n      &quot;\\n&quot; +\n      &quot;Incremental: &quot; +\n      Build.VERSION.INCREMENTAL +\n      &quot;\\n&quot;;\n  }\n\n  private void stopTheApp() {\n    android.os.Process.killProcess(android.os.Process.myPid());\n  }\n}\n</code></pre>\n"},{"comments":[{"comment_id":82142167,"body":"probably you should process the error message before you show it to the users"}],"answer_id":18143773,"body":"<p>You could just use a generic alert dialog to quickly display error messages.\nFor example...</p>\n\n<pre><code>//******************************************\n//some generic method\n//******************************************\nprivate void doStuff()\n{       \n    try\n    {\n        //do some stuff here\n    }\n    catch(Exception e)\n    {\n        messageBox(\"doStuff\", e.getMessage());\n    }\n}\n\n\n//*********************************************************\n//generic dialog, takes in the method name and error message\n//*********************************************************\nprivate void messageBox(String method, String message)\n{\n    Log.d(\"EXCEPTION: \" + method,  message);\n\n    AlertDialog.Builder messageBox = new AlertDialog.Builder(this);\n    messageBox.setTitle(method);\n    messageBox.setMessage(message);\n    messageBox.setCancelable(false);\n    messageBox.setNeutralButton(\"OK\", null);\n    messageBox.show();\n}\n</code></pre>\n\n<p>You could also add other error handling options into this method, such as print stacktrace</p>\n"},{"answer_id":22438720,"body":"<p>i found the &quot;wtf&quot; (what a terrible failure) method in the Log class. From the description:</p>\n<blockquote>\n<p>Depending on system configuration, a report may be added to the\nDropBoxManager and/or the process may be terminated immediately with\nan error dialog.</p>\n</blockquote>\n<p><a href=\"http://developer.android.com/reference/android/util/Log.html\" rel=\"nofollow noreferrer\">http://developer.android.com/reference/android/util/Log.html</a></p>\n"}],"last_activity_date":1684763101,"question_id":16561692,"body":"<p>If my app crashes, it hangs for a couple of seconds before I'm told by Android that the app crashed and needs to close. So I was thinking of catching all exceptions in my app with a general:</p>\n\n<pre><code>try {\n    // ... \n} catch(Exception e) { \n    // ...\n} \n</code></pre>\n\n<p>And make a new <code>Activity</code> that explains that the application crashed instantly (and also giving users an opportunity to send a mail with the error details), instead of having that delay thanks to Android. Are there better methods of accomplishing this or is this discouraged?</p>\n\n<p><strong>Update:</strong> I am using a Nexus 5 with ART enabled and I am not noticing the delay I used to experience with apps crashing (the \"hanging\" I was talking about originally). I think since everything is native code now, the crash happens instantly along with getting all the crash information. Perhaps the Nexus 5 is just quick :) regardless, this may not be a worry in future releases of Android (given that ART is going to be the default runtime in Android L).</p>\n"},{"answers":[{"comments":[{"comment_id":117050875,"body":"Note: staticMockk is deprecated and replaced with: &quot;mockkStatic(T::class)&quot;"}],"answer_id":49762546,"body":"<p>MockK allows mocking static Java methods. The main purpose for it is mocking of Kotlin extension functions, so it is not as powerful as PowerMock, but still does it's job even for Java static methods.</p>\n\n<p>The syntax would be following:</p>\n\n<pre><code>staticMockk&lt;Uri&gt;().use {\n    every { Uri.parse(\"http://test/path\") } returns Uri(\"http\", \"test\", \"path\")\n\n    assertEquals(Uri(\"http\", \"test\", \"path\"), Uri.parse(\"http://test/path\"))\n\n    verify { Uri.parse(\"http://test/path\") }  \n}\n</code></pre>\n\n<p>More details here: <a href=\"http://mockk.io/#extension-functions\" rel=\"noreferrer\">http://mockk.io/#extension-functions</a></p>\n"},{"comments":[{"comment_id":94749780,"body":"Your response (&quot;After mockk 1.8.1&quot;) is more accurate than the chosen response. Thanks!"},{"comment_id":94760018,"body":"The accepted answer was written before mockk 1.8.1, that&#39;s why this became more accurate"},{"comment_id":102252894,"body":"This is an excellent solution to mock the <code>Crashlytics.log</code> and similar functions called from Java libraries when writing local unit tests!"},{"comment_id":111436142,"body":"@LeoColman how is your solution supposed to work when i immediately get an compile error on <code>Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)</code> with messages &quot;Cannot create an instance of abstract class&quot; and &quot;Too many arguments for public/*package*/ constructor Uri() defined in android.net.Uri&quot;? I&#39;m using mockk 1.10.0"},{"comment_id":112186410,"body":"The latest Uri is missing <code>Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)</code> signature."},{"comment_id":115225175,"body":"@prashantwosti Just use val uriMock = mockk&lt;Uri&gt;()"},{"comment_id":119076047,"body":"how using that mockk will solve the issue of the <code>Uri</code> method?"},{"comment_id":119100763,"body":"Uri constructor is private. How do you make this work? Can you please help?"},{"comment_id":123627906,"body":"I don&#39;t understand how this answer is 73 upvotes, while using Uri() constructor which is A) private and B) the class is abstract..."},{"comment_id":123628349,"body":"@TootsieRockNRoll Because the URI constructor isn&#39;t important to  he answer. And having that Uri as extension function is something likely to happen. The important part of the answer is how to use mockk to mock a static method, and it&#39;s clear in that sense."},{"comment_id":124188028,"body":"Beware in some cases after 1.8.1 you still need to call <code>unmockkStatic()</code>. See  Tomas Rohovsky answer here: <a href=\"https://stackoverflow.com/a/66479439/674648\">stackoverflow.com/a/66479439/674648</a>"},{"comment_id":133310089,"body":"To help people with the Uri constructor, the answer by @LeoColman can be improved in this way:  ` mockkStatic(Uri::class)       val uriMock = mockk&lt;Uri&gt;() every { Uri.parse(&quot;<a href=\"http://test/path&quot;\" rel=\"nofollow noreferrer\">test/path&quot;</a>) } returns uriMock `"}],"answer_id":49819729,"body":"<h2>After mockk 1.8.1:</h2>\n<p>Mockk version 1.8.1 deprecated the solution below. After that version you should do:</p>\n<pre><code>@Before\nfun mockAllUriInteractions() {\n    mockkStatic(Uri::class)\n    val uriMock = mockk&lt;Uri&gt;() \n    every { Uri.parse(&quot;test/path&quot;) } returns uriMock\n}\n</code></pre>\n<p><code>mockkStatic</code> will be cleared everytime it's called, so you don't need to unmock it before using it again.</p>\n<p>However, if that static namespace will be shared across tests it will share the mocked behavior. To avoid it, make sure to <code>unmockkStatic</code> after your suite is done.</p>\n<hr />\n<p><strong>DEPRECATED:</strong></p>\n<p>If you need that mocked behaviour to always be there, not only in a single test case, you can mock it using <code>@Before</code> and <code>@After</code>:</p>\n<pre><code>@Before\nfun mockAllUriInteractions() {\n    staticMockk&lt;Uri&gt;().mock()\n    every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)    //This line can also be in any @Test case\n}\n\n@After\nfun unmockAllUriInteractions() {\n    staticMockk&lt;Uri&gt;().unmock()\n}\n</code></pre>\n<p>This way, if you expect more pieces of your class to use the Uri class, you may mock it in a single place, instead of polluting your code with <code>.use</code> everywhere.</p>\n"},{"comments":[{"comment_id":120092924,"body":"This should be the accepted answer—you cannot construct Uri as described in the other answers because the constructor is private. <code>mockUri = mockk&lt;Uri&gt;()</code> is perfect, thank you."}],"answer_id":63890812,"body":"<p>Additionally to the accepted answer:</p>\n<p>You can't create an <code>Uri</code> like that, you gonna have to mock the Uri instance as well. Something like:</p>\n<pre><code>private val mockUri = mockk&lt;Uri&gt;()\n\n@Before\nfun mockAllUriInteractions() {\n    mockkStatic(Uri::class)\n    every { Uri.parse(&quot;http://test/path&quot;) } returns mockUri\n    // or just every { Uri.parse(&quot;http://test/path&quot;) } returns mockk&lt;Uri&gt;()\n}\n</code></pre>\n"},{"comments":[{"comment_id":124188071,"body":"This should be added to the accepted answer. Just found the source of our flaky tests after searching for 8 hours! Thanks Tomas!"}],"answer_id":66479439,"body":"<h1>Beware</h1>\n<p>If you call <code>mockkSatic()</code> without a block, do not forget to call <code>unmockkStatic()</code> after the mocked method is called. The method is not unmocked automatically and you will still get the mocked value even in different test classes which do not call <code>mockkStatic()</code>, but use the static method.</p>\n<p>Another option is to execute the mocked method inside a block, then it will be automatically unmocked:</p>\n<pre><code>mockkStatic(Uri::class) {\n    every { Uri.parse(&quot;http://test/path&quot;) } returns Uri(&quot;http&quot;, &quot;test&quot;, &quot;path&quot;)\n    val uri = Uri.parse(&quot;http://test/path&quot;)\n}\n\n</code></pre>\n"},{"comments":[{"comment_id":128156293,"body":"we need to unmock! resolved answer is not right"}],"answer_id":70599227,"body":"<p>If we are going to mock static, like: <em>mockkStatic(Klass::class)</em></p>\n<p>then we definitely have to unmock it, like: <em>unmockkStatic(Klass::class)</em></p>\n<p>I would suggest to unmock it in the method annotated @After.</p>\n<p>A full example would be:</p>\n<pre><code>class SomeTest {\n  private late var viewMode: SomeViewModel\n\n  @Before\n  fun setUp() {\n    viewMode = SomeViewModel()\n    mockkStatic(OurClassWithStaticMethods::class)       \n  }\n\n  @After\n  fun tearDown() {\n    unmockkStatic(OurClassWithStaticMethods::class)\n  }\n\n  @Test\n  fun `Check that static method get() in the class OurClassWithStaticMethods was called`() {\n    //Given\n    every { OurClassWithStaticMethods.get&lt;Any&gt;(any()) } returns &quot;dummyString&quot;\n\n    //When\n    viewModel.doSomethingWhereStaticMethodIsCalled()\n\n    //Then\n    verify(exactly = 1) { \n       OurClassWithStaticMethods.get&lt;Any&gt;(any()) \n    }\n  }\n}\n</code></pre>\n<p>This example is written with the mocking library &quot;<a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">Mockk</a>&quot; v.1.12.0</p>\n"},{"answer_id":73228853,"body":"<p>As mentioned in multiple answers above, you'll have to ensure to invoke the unmockkStatic - otherwise you'll end up with flaky tests (since the mocked object/function will be available across test classes.</p>\n<p>In my scenario - I had a module-wide extension function in kotlin and to mock that I used a companion object like below:</p>\n<pre><code>class SampleTest {\n\ncompanion object {\n    @BeforeAll\n    @JvmStatic\n    fun setup() {\n        mockkStatic(&quot;packagename.filenameKt&quot;)\n    }\n\n    @AfterAll\n    @JvmStatic\n    fun teardown() {\n        unmockkStatic(&quot;packagename.filenameKt&quot;)\n    }\n}}\n</code></pre>\n"},{"answer_id":76306289,"body":"<pre><code>// Add @RunWith(RobolectricTestRunner::class) on top of \n// your class since it provides access to Android framework APIs.\n\n// Test case written inside the `mockkStatic` method to \n// verify the behavior of a method that involves a static method call in Kotlin\n        \n            @Test\n            fun `my test case`() = runBlocking {\n                // Mocking the Log class\n                mockkStatic(Log::class) {\n                    // Test case to verify the behavior of a method \n                    // that involves a log method call\n                }\n            }\n\n\n\n\n// OR just use `mockkObject(Log)` without any block \n</code></pre>\n"}],"last_activity_date":1684762932,"question_id":49762409,"body":"<p>We are currently working with java with kotlin project, slowly migrating the whole code to the latter.</p>\n\n<p>Is it possible to mock static methods like <code>Uri.parse()</code> using Mockk?</p>\n\n<p>How would the sample code look like?</p>\n"},{"comments":[{"comment_id":134560881,"body":"There is no need to reopen this question.  The duplink answers it.  The bugs in your code are caused by using <code>==</code> to compare strings.  Use an <code>equals</code> call instead.  And read thew duplink for an explanation"}],"last_activity_date":1684762868,"question_id":76306798,"body":"<p>I tried use scan in java, but it doesnt work ,i work in visual studio code and variables p and p1 undrlined by yellow colour.Also my conditions every time return &quot;Error&quot; even if i input right variables.Can somebody answer me why ?</p>\n<pre><code>import java.util.Scanner;\npublic class teset{\n    public static void main(String[] args) {\n        System.out.println(&quot;First: stone, scissors, paper&quot;);\n        Scanner p1 = new Scanner(System.in);\n        String player1 = p1.nextLine();\n        System.out.println(&quot;Second: stone, scissors, paper&quot;);\n        Scanner p2 = new Scanner(System.in);\n        String player2 = p2.nextLine();\n    \n\n        if (player1 == player2){\n            System.out.println(&quot;Draw&quot;);\n        }else if (player1 == &quot;stone&quot; &amp; player2 == &quot;scissors&quot;){\n            System.out.println(&quot;First winner&quot;);\n        }else if (player1 == &quot;stone&quot; &amp; player2 == &quot;paper&quot;) {\n            System.out.println(&quot;Second winner&quot;);\n        }else if (player1 == &quot;scissors&quot; &amp; player2 == &quot;stone&quot;) {\n            System.out.println(&quot;Second winner&quot;);\n        }else if (player1 == &quot;paper&quot; &amp; player2 == &quot;stone&quot;) {\n            System.out.println(&quot;First winner&quot;);\n        }else {\n            System.out.println(&quot;Error&quot;);\n        }    \n    }  \n}\n</code></pre>\n<p>i already tryied to find solution for my problem in any resourses , but it wasnt neverwhere(</p>\n"},{"comments":[{"comment_id":134557563,"body":"Another way would be to define a REST endpoint for communication between the two microservices."},{"comment_id":134559869,"body":"@Mar-Z Why REST over gRPC? Or what&#39;s what with using a message queue/broker, as already being done?"},{"comment_id":134561538,"body":"@OneCricketeer REST with Spring Boot MVC would be just another solution. OP asked for &quot;more ideas&quot;."}],"answers":[{"answer_id":76305236,"body":"<p>Your idea is good. I assume that you create an event upon when all items are consumed and send it through some queue (or Kafka topic) where your service listens. I think this is very good and sound solution <br>\nHowever, I am not sure what type of other ideas you are looking for.</p>\n<ol>\n<li>One option would be to use <a href=\"http://www.quartz-scheduler.org/\" rel=\"nofollow noreferrer\">Quartz enterprise Job scheduler</a></li>\n<li>The other one is similar to Cron scheduler that Spring provides, but it is more humanly readable compare to corn expression. It comes with Open Source MgntUtils library written and maintained by me. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/backgroundrunner/package-summary.html\" rel=\"nofollow noreferrer\">Javadoc page</a> that describes the idea. The library can be obtained as a <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact</a>, or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">GitHub</a>, with source code and Javadoc. Also source code includes working runnable out of the box example on how to use it. (See class <code>com.mgnt.lifecycle.management.backgroundrunner.example.BackgroundRunnerUsageExample</code>)</li>\n</ol>\n"},{"answer_id":76306754,"body":"<p>You could try creating a KTable in Kafka Streams API and implement a Punctuator that'll iterate the table and process all events it has seen</p>\n"},{"answer_id":76306797,"body":"<p>What about <code>org.springframework.scheduling.concurrent.ThreadPoolTaskScheduler</code>?</p>\n<pre><code>Runnable task = createRunnable(s2);\nThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\nscheduler.initialize();\nscheduler.setPoolSize(2);\nscheduler.schedule(task, date);\n</code></pre>\n"}],"last_activity_date":1684762781,"question_id":76305115,"body":"<p>We are processing data sets(aka item) from database in multiple Java micro services. We get a task which has all these items. Our services process these items as kafka event. One item is one event between services.</p>\n<p>Each service performs a said logic on the items. In one particular service, the logic is waiting for all items to get consumed and then trigger a business logic through a cron job based scheduler.</p>\n<p>How can I remove this scheduler and maybe implement something more async in place?</p>\n<p>I came up with the approach of creating a producer that creates an event signifying the consumption of all items for a task so that the logic can follow. Any more ideas?</p>\n"},{"answers":[{"comments":[{"comment_id":76407628,"body":"Thanks for the answer! I think I got it. <code>first</code> will change if anything referencing it is modified; otherwise, I would have to update it for the changes to occur."}],"answer_id":44711644,"body":"<blockquote>\n  <p>does this mean that whenever I call curr.next the previous elements are just lost?</p>\n</blockquote>\n\n<p>As you traversed down the list, you never modified <code>first</code> and you never modified the <code>next</code> link of any <code>Node</code>.  So no node is ever really lost.  Previously visited nodes just become a bit less convenient to access because you don't have a \"handle\" on them, but you could always find them again by starting back at the head of the list (<code>first</code>) and following the <code>next</code> links.</p>\n\n<blockquote>\n  <p>I was also wondering if first, my original list, will ever be affected by a temporary node list like curr? </p>\n</blockquote>\n\n<p>The variable <code>first</code> will never be affected by anything other than an assignment statement having <code>first</code> on the left-hand side of the <code>=</code>.  On the other hand, the list to which <code>first</code> refers might change quite dramatically or be completely unaffected, depending on what you are using <code>curr</code> for, but <code>first</code> itself can only be affected by assigning a new value to <code>first</code>.</p>\n\n<blockquote>\n  <p>Would the above code modify first or would I have to set first = curr;</p>\n</blockquote>\n\n<p>The insert and delete code, as given, never modifies <code>first</code>. But it <em>should</em>, if it is going to be able to handle inserting a new node before the current first node, or deleting the current first node.  Maybe not with <code>first = curr</code> specifically, but <code>first</code> will definitely need to be updated to reflect a new head of the list.  I leave that, as the textbooks say, \"as a exercise for the reader\".</p>\n"}],"last_activity_date":1684762655,"question_id":44710819,"body":"<p>Just started learning nodes and I have a few questions. Let's say I have a node class that looks like this:</p>\n\n<pre><code>    private E number;\n    private Node next;\n    /**\n     *  Constructor\n     */\n    Node(E e){\n       number = e;\n       next = null;\n    }\n</code></pre>\n\n<p>and I have a series of linked nodes with the starting node named first like so:</p>\n\n<p>first->(1)->(2)->(3)->(5)->(6)</p>\n\n<p>Assuming the list is not empty, to traverse the list, I would do something like so:</p>\n\n<pre><code>Node curr = first;\nwhile(curr != null){\n    System.out.print(curr);\n    curr = curr.next;\n}\n</code></pre>\n\n<p>I understand that you cannot traverse a link list like this backwards, so does this mean that whenever I call curr.next the previous elements are just lost? </p>\n\n<p>I was also wondering if first, my original list, will ever be affected by a temporary node list like curr? For example, if I was to insert or delete a node on the list with codes similar to these: </p>\n\n<p>Insert:</p>\n\n<pre><code>Node curr = first;\nNode newNode = new Node(4);\nwhile(curr != null){\n    if(curr.number == 3){\n        newNode.next = curr.next;\n        curr.next = newNode;\n    }\n    curr = curr.next;\n}\n</code></pre>\n\n<p>Delete:</p>\n\n<pre><code>Node curr = first;\nNode parent = first;\nwhile(curr != null){\n    if(curr.number == 3){\n        parent.next = curr.next;\n    }\n    parent = curr;\n    curr = curr.next;\n}\n</code></pre>\n\n<p>Would the above code modify first or would I have to set <code>first = curr;</code> after the insertion or deletion for the changes take place? If they do modify first, how come <code>curr = curr.next;</code> doesn't modify first? What if I wanted to return the deleted node? Would I just do something like <code>curr.next = null;</code> and then <code>return curr;</code>?</p>\n"},{"answers":[{"answer_id":76306775,"body":"<p>What you are describing works as expected when you have only one instance of such a polling channel adapter. That <code>fixed-delay</code> option is exactly about starting a new task after that time when the previous is done. If you don't an executor on the poller, then your service activator is called from the scheduled thread and it is blocked until your process is done.</p>\n<p>If you say that you have &quot;10 poller and same service activators&quot;, then it is really expected and natural that you got 10 parallel scheduled tasks against the same source of data.</p>\n<p>There are several ways to mitigate your problem:</p>\n<ol>\n<li><p>Use DB-specific queries to avoid those records which are locked already in other process. For example, in Oracle there is something like <code>FOR UPDATE SKIP LOCKED</code> in the <code>SELECT</code> syntax. Other DB vendors may provide something similar.</p>\n</li>\n<li><p>Always have only one instance of this poller: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#leadership-event-handling</a></p>\n</li>\n<li><p>You may also play with retry or distributes lock: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-lock-registry\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-lock-registry</a></p>\n</li>\n</ol>\n"}],"last_activity_date":1684762629,"question_id":76303659,"body":"<p>spring integration within inbound channel adapter which run synchronously means second Iteration should run once it completes the first Iteration</p>\n<pre><code>&lt;int-jpa:inbound-channel-adapter \n    id=&quot;ProcessingG1&quot; entity-manager=&quot;entityManager&quot;\n    expect-single-result=&quot;false&quot;  \n    native-query=&quot;SELECT * FROM table1 FETCH FIRST 30 ROWS ONLY&quot;\n    entity-class=&quot;org.entities.Table1&quot;\n    &gt;\n    &lt;int:poller fixed-delay=&quot;5000&quot;&gt;\n        &lt;int:transactional /&gt;\n    &lt;/int:poller&gt;\n&lt;/int-jpa:inbound-channel-adapter&gt;\n\n&lt;int:service-activator input-channel=&quot;ProcessingG1&quot; ref=&quot;ProcessingG1&quot; /&gt;\n</code></pre>\n<p>here the poller is running every 5 seconds and giving the messages to service activator to process, till the service activator processes the messages it should not take next batch</p>\n<p>there are 10 poller and same service activators for it I am facing the DB lock issue due to this scenario.</p>\n<p>I feel that if iterations were synchronous then it wont create the DB lock as service activator as also trying to update the same table</p>\n"},{"answers":[{"comments":[{"comment_id":134559137,"body":"You are right! DataProvider In TestNG can be used in different classes, as it was in my case. So when using Inherited DataProvider In TestNG I had to use <code>dataProviderClass</code>!"}],"answer_id":76305439,"body":"<p>You have data provider defined in different class. So you should also specify that class as a parameter to <code>@Test</code> annotation along with data provider name. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(description = &quot;User is not able to register Account with invalid Email&quot;, \n        groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\n        dataProvider = &quot;invalid-email&quot;,\n        dataProviderClass = your.package.Data.class, // &lt;-- put your Data class here \n        enabled = true)\n</code></pre>\n"}],"last_activity_date":1684762435,"question_id":76301258,"body":"<p>After adding multiple <strong><code>@DataProviders</code></strong> for package <code>dataobject</code> class <code>UserData</code> , then renaming class to <code>Data</code>, using newly added <strong><code>@DataProviders</code></strong> called <code>invalid-email</code> for testing multiple invalid inputs, results in error : <code>Method public void Tasks.accountRegistration_5() requires a @DataProvider named : invalid-email</code>. <strong>What could cause the error?</strong>\nIt's allowed to use multiple <code>@DataProviders</code> in same class.</p>\n<p>Here is code:</p>\n<p><strong>Tasks:</strong></p>\n<p><em>Take a look at Test scenario 5!</em></p>\n<pre><code>import installations.AppDeletion;\nimport utils.ColorFormatter;\nimport utils.tempUser;\nimport io.appium.java_client.android.AndroidDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.testng.Assert;\nimport org.testng.Reporter;\nimport org.testng.annotations.*;\nimport screens.*;\nimport utils.TestProperties;\nimport java.lang.*;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.concurrent.TimeUnit;\n\nimport dataobjects.Password;\nimport dataobjects.User;\n\nimport static dataobjects.Email.getEmail;\nimport static dataobjects.Email.getErrorMessage;\n\n\npublic class Tasks {\n\n    private void printTestResult(int testCaseNumber) {\n        ColorFormatter.colorize(&quot;Test &quot; + testCaseNumber + &quot; Passed!&quot;,ColorFormatter.boldGreenColor);\n    }\n\n    private AppDeletion appDeletion = new AppDeletion();\n    private APKInstallation apkInstallation = new APKInstallation();\n    private AndroidDriver driver;\n\n    public WelcomeScreen welcomeScreen;\n    public SignUpScreen signUpScreen;\n\n    public ConfirmRegistration confirmRegistration;\n\n    public AddToCart addToCart;\n\n    public LogOutAfterSignUp logOutAfterSignUp;\n\n    public InvalidCredentialsScreen invalidCredentialsScreen;\n\n    public NotificationScreen notificationScreen;\n    public int testCaseNumber;\n\n    public String tempEmail= tempUser.unTempEmail; //For creating manual account\n\n    public String tempPassword=tempUser.unTempPassword;//For creating manual account\n\n\n\n    @BeforeMethod(description=&quot;Starts each session&quot;,groups=(&quot;StartUp&quot;),alwaysRun = true)\n    public void setUp() throws IOException, InterruptedException {\n        // Close System.err to prevent any error messages from being printed to the console\n        System.err.close();\n\n        // Set System.err to the default output stream to allow any error messages to be printed to the console again\n        System.setErr(System.out);\n\n\n        // Installs application\n        apkInstallation.installAPK();\n\n        // Set the desired capabilities for the test\n        DesiredCapabilities desiredCapabilities = TestProperties.setDesiredCapabilities();\n        desiredCapabilities.setCapability(&quot;appium:udid&quot;, &quot;emulator-5554&quot;);\n\n        // Set the remote URL for Appium\n        URL remoteUrl = new URL(TestProperties.getProperty(&quot;appiumURL&quot;));\n\n        // Create a new AndroidDriver instance with the desired capabilities and remote URL\n        driver = new AndroidDriver(remoteUrl, desiredCapabilities);\n\n        // Set the implicit wait timeout to 15 seconds\n        driver.manage().timeouts().implicitlyWait(15, TimeUnit.SECONDS);\n\n        // Initialize the page objects for the different screens of the app\n        welcomeScreen = new WelcomeScreen(driver);\n        signUpScreen = new SignUpScreen(driver);\n        confirmRegistration = new ConfirmRegistration(driver);\n        addToCart = new AddToCart(driver);\n        logOutAfterSignUp = new LogOutAfterSignUp(driver);\n        invalidCredentialsScreen = new InvalidCredentialsScreen(driver);\n        notificationScreen = new NotificationScreen(driver);\n\n        // Reset the app to the initial state before each test\n        driver.resetApp();\n\n    }\n\n\n\n    @Test(description = &quot;User installs app from the APK file&quot;, groups = {&quot;App Download&quot;,&quot;TC1&quot;}, enabled = true)// Done\n    public void appDownload_1(){\n        testCaseNumber = 1;\n        apkInstallation.testAppDownload(testCaseNumber);\n\n        printTestResult(testCaseNumber);\n\n\n    }\n\n\n    @Test(description = &quot;App works correctly after installation&quot;, groups = {&quot;App Download&quot;,&quot;TC2&quot;}, enabled = true)// Done\n    public void appDownload_2(){\n        testCaseNumber = 2;\n\n        notificationScreen.validatedNotificationButton(testCaseNumber);\n        notificationScreen.clickNotificationButton(testCaseNumber);\n        //Clicks on button after verification is successful (true)\n\n        //Verify application functioning by clicking button after launch\n        printTestResult(testCaseNumber);\n    }\n\n    @Test(description = &quot;App can be uninstalled from the device&quot;, groups = {&quot;App Uninstallation&quot;,&quot;TC3&quot;}, enabled = true) //Done\n    public void appUninstallation_3() throws IOException, InterruptedException {\n        testCaseNumber = 3;\n\n        appDeletion.isPackageInstalled(testCaseNumber);\n        appDeletion.uninstallation(testCaseNumber); // Return results of app deletion\n\n\n        printTestResult(testCaseNumber);\n    }\n    @Test(description = &quot;User navigates to Registration page&quot;, groups = {&quot;Account Registration&quot;, &quot;TC4&quot;}, enabled = true)\n    public void accountRegistration_4(){\n        testCaseNumber = 4;\n\n        notificationScreen.validatedNotificationButton(testCaseNumber);\n        notificationScreen.clickNotificationButton(testCaseNumber);\n\n\n        welcomeScreen.clickSignUp(testCaseNumber);\n\n        //Confirm user is navigated to Sign Up page\n        signUpScreen.verifySignUpScreen(testCaseNumber);\n\n\n        printTestResult(testCaseNumber);\n    }\n\n    @Test(description = &quot;User is not able to register Account with invalid Email&quot;, groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},dataProvider = &quot;invalid-email&quot;,enabled = true)\n    public void accountRegistration_5(){\n        testCaseNumber = 5;\n\n        notificationScreen.validatedNotificationButton(testCaseNumber);\n        notificationScreen.clickNotificationButton(testCaseNumber);\n\n        welcomeScreen.clickSignUp(testCaseNumber);\n\n        signUpScreen.AcceptTerms(testCaseNumber);\n\n        signUpScreen.fillInvalidEmail(getEmail(), getErrorMessage(), testCaseNumber);\n        signUpScreen.clickCreateAccount(testCaseNumber);\n\n\n    }\n\n    @AfterMethod(description=&quot;Runs after each test&quot;,groups=(&quot;CleanUp&quot;),alwaysRun = true)\n    public void lastCleanUp() {\n        driver.quit();}\n}\n</code></pre>\n<p><strong>FillInvalidEmail:</strong></p>\n<pre><code>            try {\n\n                Email.sendKeys(email);\n                ColorFormatter.colorize(errorMessage, ColorFormatter.orangeColor);\n\n            } catch (TestFailureException e) {\n\n                throw new TestFailureException(testCaseNumber);\n            }\n            ColorFormatter.colorize(&quot;\\nPassed!&quot;, ColorFormatter.greenColor);\n        }\n</code></pre>\n<p><em>Email is MobileElement</em></p>\n<p><strong>Data:</strong></p>\n<pre><code>\nimport org.testng.annotations.DataProvider;\n\n/**\n * A class that provides test data for Registration tests.\n */\npublic class Data {\n\n\n    @DataProvider(name = &quot;login-credentials&quot;)\n    public static Object[][] createUserData() {\n        return new Object[][]{\n                {new User(&quot;tiweti1200@otanhome.com&quot;, &quot;Tiweti1200!&quot;, &quot;Unregistered User&quot;)},\n                {new User(&quot;wqji321@gqwasd.com&quot;, &quot;Warase3459!&quot;, &quot;Unverified User&quot;)},\n                {new User(&quot;xoheto3034@ngopy.com&quot;, &quot;qwekwei1932!&quot;, &quot;Incorrect Password&quot;)}\n        };\n    }\n\n    @DataProvider(name = &quot;invalid-password&quot;)\n    public static Object[][] createInvalidPassword() {\n        return new Object[][]{\n                {new Password(&quot;abcd&quot;)},//Less than 8 characters, no upper case letters, no digits, no special characters\n                {new Password(&quot;QWERT&quot;)},//Less than 8 characters, no lower case letters, no digits, no special characters\n                {new Password(&quot;qwertyui&quot;)},//No upper case letters, no digits, no special characters\n                {new Password(&quot;ASDFGHJK&quot;)},//No lower case letters, no digits, no special characters\n                {new Password(&quot;qwerty123&quot;)},///No upper case letters,no special characters\n                {new Password(&quot;ZXCVBX986&quot;)},//No lower case letters,no special characters\n                {new Password(&quot;QWERasdfg&quot;)},//No digits, no special characters\n                {new Password(&quot;FDWkwe!?&quot;)},//No digits\n                {new Password(&quot;qwekwei1932&quot;)},//No special characters\n                {new Password(&quot;QWsd12!&quot;)},//Less than 8 characters\n                {new Password(&quot;qwekwei1932!&quot;)},//No upper case\n                {new Password(&quot;ZXCAS1932!&quot;)},//No lower case\n                {new Password(&quot;!@£$%^&amp;*&quot;)},//No upper,lower case letters, no digits\n                {new Password(&quot;123456789&quot;)},//No upper,lower case letters, no special characters\n                {new Password(&quot;@£%^1932!&quot;)},//No upper,lower case letters\n                {new Password(&quot;&quot;)},//No letters, no numbers, no characters\n                {new Password(&quot;A1!aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot; +\n                        &quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;)}\n        };//More than 256 characters\n    }\n\n\n    @DataProvider(name = &quot;invalid-email&quot;)\n    public static Object[][] createInvalidEmail() {\n\n        return new Object[][]{\n                {new Email(&quot;fitop40249asuflex.com&quot;, &quot;Email with missing @:&quot;)},\n                {new Email(&quot;fitop40249@.com&quot;, &quot;Email with missing domain @:&quot;)},\n                {new Email(&quot;invalidemail@com&quot;, &quot;Email with missing dot:&quot;)},\n                {new Email(&quot;invalidemail@.&quot;, &quot;Email with missing com:&quot;)},\n                {new Email(&quot;&quot;, &quot;Email field empty:&quot;)},\n                {new Email(&quot;@asuflex.com&quot;, &quot;Email is missing local part&quot;)},\n                {new Email(&quot;fitop40249@uflex.com&quot;, &quot;Email has incorrect domain&quot;)},\n                {new Email(&quot;fitop40249@uflex,com&quot;, &quot;Email has comma instead of dot&quot;)},\n                {new Email(&quot;invalidemail@.comqwe&quot;, &quot;Email has extra characters after com&quot;)},\n                {new Email(&quot;invali demail@.com&quot;, &quot;Email contains 'Space' character&quot;)}\n        };\n\n\n    }\n}\n</code></pre>\n<p><strong>Email:</strong></p>\n<pre><code>\n\npublic class Email {\n    private static String email;\n\n    private static String errorMessage;\n\n    public Email(String email, String errorMessage) {\n        this.email = email;\n        this.errorMessage = errorMessage;\n    }\n    public static String getEmail() {\n        return email;\n    }\n\n    public static String getErrorMessage() {return errorMessage;}\n\n    @Override\n    public String toString() {\n        return &quot;Email{&quot; +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, errorMessage='&quot; + errorMessage + '\\'' +\n                '}';\n    }\n\n}\n</code></pre>\n<p>Commenting out that specific Test or using another <code>@DataProvider</code> doesn't resolve issue, not using <code>@DataProvider</code> results in test running succesfully , ofcourse without <code>fillInvalidEmail</code></p>\n<p>Tried to use multiple <code>@DataProviders</code> for multiple Testing scenarios inside <code>Tasks</code>, results in <code>TestNGException</code> which tells that used <code>@DataProvider</code> is required, even when it is mentioned in <code>@Test</code> notation.</p>\n<p><strong>Update:</strong></p>\n<p>Changing name of <code>@DataProvider</code> did not fix error;</p>\n<p>Removing space in <code>increateInvalidEmail()</code> did not fix error</p>\n<p><strong>Solution:</strong></p>\n<p>When using <code>Inherited @DataProvider</code> from different class , you must provide <code>dataProviderClass</code> in <strong>@Test</strong> annotation for <code>Inherited @DataProvider</code> to work.</p>\n<p>Another minor issue:\n<code>Tasks.accountRegistration_5()] has no parameters defined but was found to be using a data provider (either explicitly specified or inherited from class level annotation).</code></p>\n<p>To fix this change 2 things:</p>\n<p>1.</p>\n<pre><code>import static dataobjects.Email.getEmail;\nimport static dataobjects.Email.getErrorMessage;\n</code></pre>\n<p>replace with :</p>\n<p><code>import dataobjects.Email;</code></p>\n<ol start=\"2\">\n<li>Pass it as parameter to accountRegistration_5() method</li>\n</ol>\n<p><code>Like this:</code></p>\n<pre><code>@Test(description = &quot;User is not able to register Account with invalid Email&quot;,\n            groups ={&quot;Account Registration&quot;, &quot;TC5&quot;},\n            dataProviderClass = dataobjects.Data.class,\n            dataProvider = &quot;invalid-email&quot;\n            ,enabled = true)\npublic void accountRegistration_5(Email email){\n             \n\nsignUpScreen.fillInvalidEmail(Email.getEmail(), Email.getErrorMessage(), testCaseNumber);\n</code></pre>\n"},{"comments":[{"comment_id":134559863,"body":"You are encouraged to make an attempt to write your code.  If you encounter a specific technical problem during that attempt, such as an error or unexpected result, we can help with that.  Please provide specific information about that attempt and what didn&#39;t work as expected.  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."}],"last_activity_date":1684762051,"question_id":76306694,"body":"<p>I´m trying to save data to html table (with more than 10 rows) to database using JSP. This is possible? Now I´m experienced problems that using list, and this list is null or empty, of one page to other.</p>\n<p>Some help with my problem, like examples or other things.</p>\n"},{"comments":[{"comment_id":134552496,"body":"I just noticed that some part of the text as well as input got into the code area, I apolagize its been a long time since I did this ^^."},{"comment_id":134552507,"body":"Why don&#39;t your sprinkle some print statements in key locations to see what is going on?"},{"comment_id":134552514,"body":"Does it work with smaller dimensions?"},{"comment_id":134552539,"body":"I just did and I can see that it is doing what I want it to but its just very slow. Am I missing something?"},{"comment_id":134552541,"body":"It does work without issues for smaller dimensions"},{"comment_id":134552556,"body":"Yes. From what I have heard from other classmates that have passed this assignment they have used the same method of typing everything into the console."},{"comment_id":134552626,"body":"I print every nextLine and it is slow. It prints done when it is done and the info I get is total time 42s. I am unsure how to fix it because I need to get the grid from somewhere so it can be used for grading."},{"comment_id":134552674,"body":"If this is from a coding challenge / practice site, please include a link to the problem page."},{"comment_id":134552678,"body":"it is from my school so I dont think anyone outside the school can access the exercise :/ sorry"},{"comment_id":134552684,"body":"That is all to my code, I havent added in anything more yet because this takes so long for me."},{"comment_id":134552847,"body":"Windows 11 on this pc and I have tried it on another pc I have that has windows 10"},{"comment_id":134553501,"body":"@Jock, If you are storing files that are <code>10,000</code> chars by <code>10,000</code> chars,  that&#39;s a total of <code>200,000,000 bytes</code>, or <code>200 MB</code>.  That&#39;s too much for a map; in my opinion."},{"comment_id":134553512,"body":"@Jock, since your map data is simply a <code>~</code> or <code>@</code>, have you tried using a run-length encoding?"},{"comment_id":134554460,"body":"I have not tried run-length encoding. Gonna start reading up on it now."},{"comment_id":134554495,"body":"The assignment reads like this, You are gonna write a program that counts islands, an island is atleast one @ if they are neighbors they are part of the same island. All inputfile start with two numbers x and y where x is how many rows and y is how many columns there are. You can assume that both x and y is larger or equal to 1 and can get as big as 10000. You can also expect all islands filled in so no water can be in the middle of an island. Output is a number of how many islands."},{"comment_id":134558313,"body":"You&#39;ve got to be a fast typist. Not sure how many hours it would take <i>me</i> to enter 10,000 lines of text..."},{"comment_id":134558723,"body":"Well I have examples which I can just copy into the console, Ofc Im not typing it manually"},{"comment_id":134559122,"body":"OK. 1000x1000 is instantaneous for me, reading not from clipboard, but stdin (from a file)"},{"comment_id":134562508,"body":"It would be a good idea to move the description of the assignment from comments to the question body.  Also,  if two <code>@</code> are in diagonally adjacent, are they part of the same island, that is neighbors?"},{"comment_id":134564377,"body":"Off-topic: You can put your input into a file, and use input redirection to have your program read from the file."},{"comment_id":134564496,"body":"(1) Are you sure it is the input part of the program that is slow, and not something that comes after the part you&#39;ve shown?  (2) Are you running the program from within an IDE or from a command console?"}],"answers":[{"comments":[{"comment_id":134552843,"body":"I tried it and for me it still takes around 20 seconds :( . I tried with dims rows = 1000 and cols = 1000 and a the card filled with ~ and @."},{"comment_id":134552924,"body":"You don&#39;t need to enter the columns.   Just type in the number of rows and then type each input string of any length.  It will adjust the columns accordingly.  This will be what is known as a ragged array where each row can be of different number of columns."},{"comment_id":134552948,"body":"But the problem is that input for the assignment is rows cols and then the card. When this is fixed I am supposed to count the number of islands on the card which to my knowledge is a fairly common exercise."},{"comment_id":134552994,"body":"Forget the assignment.  The issue at hand is why the above snippet of code you posted is taking so long.  I posted a version that does the same thing only it makes it easier to input.  So please try it.  And make certain the code you posted is the actual code that is running so slow.  Is there any more code in main after you close the input?"},{"comment_id":134554441,"body":"There is no more code in main. I have tried it putting in 1000 and then the card and I sadly still get this issue."},{"comment_id":134558458,"body":"What &quot;card&quot; are you talking about? Your code indicates you&#39;re taking input from the console."},{"comment_id":134558709,"body":"The &quot;card&quot; I have is 1000 lines of length 1000 which I can just copy into the console"},{"comment_id":134559828,"body":"@Jock  See my updated solution that reads the data from a file.  No copy/paste required."},{"comment_id":134565246,"body":"It works very well, Thanks alot. I do beleive that alot of the issue is on my pc but reading from a file works wonders!"}],"answer_id":76302405,"body":"<p>This version takes input from a file.  You will only need to enter the rows so the first dimension can be allocated to the array.</p>\n<pre><code>public static void main(String[] args) {\n    try (Scanner fromFile = new Scanner(new File(&quot;C:/yourFilename.txt&quot;))) {\n        Scanner input = new Scanner(System.in);\n        System.out.print(&quot;Enter number of rows: &quot;);\n        int rows = input.nextInt();\n        char[][] seaCard = new char[rows][];\n        for (int r = 0; r &lt; rows; r++) {\n            seaCard[r] = fromFile.nextLine().toCharArray();\n        }\n        System.out.println(&quot;Done!&quot;);\n    } catch (IOException ioe) {\n        ioe.printStackTrace();\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684762047,"question_id":76302314,"body":"<h1>Scanner to 2D char array taking too long time.</h1>\n<p>Hi! For some reason unkown to me makes my code take very long time, my only guess is that Scanner is slow however I cant escape it because I need to use it. The size of the seaCard can be anything from 1 * 1 to 10000 * 10000. The cpu time limit is 8 seconds which should be plenty of time to execute this. The whole assignment is to count islands in a grid but I cant even read the data in a timely manner.</p>\n<p>The inputs are maps like these</p>\n<pre><code>~~~~~\n~@@~~\n@~~~~.\n</code></pre>\n<p>My code is like this.</p>\n<pre><code>public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        int rows = input.nextInt();\n        int cols = input.nextInt();\n        input.nextLine();\n        \n        char[][] seaCard = new char[rows][cols];\n\n        // making the map\n        for(int i = 0; i &lt; rows; i++){\n            String thisRow = input.nextLine();\n            for(int j = 0; j &lt; cols; j++){\n                seaCard[i][j] = thisRow.charAt(j);\n            }\n        }\n        input.close();\n</code></pre>\n<p>I have tried changing from 2D array to a 1D string array but that didnt change much, I have also tried using next() instead of nextLine().</p>\n<p>I expected the code to run smoothly and not take longer than 6s for rows = 10000 and cols = 10000 with an string input of a 10000 string lines of length 10000.</p>\n<p>However it just dosent finish, my only idea is that because Im using 2 for loops I get a time complexity of n^2 but I feel like this still shouldnt make it take this long.</p>\n"},{"comments":[{"comment_id":134558120,"body":"why exactly would you want to check someone&#39;s ip?"},{"comment_id":134558131,"body":"You need to be more precise. <i>Which</i> IP address do you want? For example, your <code>WifiManager</code> solution would provide the actual IP address assigned to the device, but typically that will be a <b>private</b> IP address on the local network. The <code>ip-api.com</code> solution will provide the <b>public</b> IP address of that network as it appears on the Internet."},{"comment_id":134559771,"body":"there is also another method to get the ipadress using NetworkInterface but it returns null when the user isn&#39;t connected to any ip address."},{"comment_id":134561087,"body":"@CommonsWare I want to use this IP for detect country of user. And visible some extra content according to their country (for few countries). [Which method you prefer for this? If any imported phone in any other country?]"},{"comment_id":134561914,"body":"@TexD: I went through this process earlier this year. Free geolocation services are very unreliable. Commercial ones are better. However, any decent geolocation service will handle finding the IP address for you -- you do not need any code in your app for that. The IP address of relevance would be the public IP address, not the private one like you might get from <code>WifiManager</code>."}],"answers":[{"answer_id":76306679,"body":"<pre><code>\nfun getIPAddress(): String? {\n    try {\n        val interfaces: List&lt;NetworkInterface&gt; = NetworkInterface.getNetworkInterfaces().toList()\n        for (networkInterface in interfaces) {\n            val addresses: List&lt;InetAddress&gt; = networkInterface.inetAddresses.toList()\n            for (address in addresses) {\n                if (!address.isLoopbackAddress &amp;&amp; !address.isLinkLocalAddress &amp;&amp; address.isSiteLocalAddress) {\n                    return address.hostAddress\n                }\n            }\n        }\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n    return null\n}\n</code></pre>\n<p>It filters out loopback, link-local, and non-site-local addresses to find the IP address of the device. The function returns the IP address as a String, or null if it fails to retrieve the IP address.</p>\n"}],"last_activity_date":1684761934,"question_id":76305554,"body":"<p>After visiting multiple question on same topic.\nThis is not duplicate Question. Because all other provided code is old or deprecated.</p>\n<p>I want to check What is IP address of user when splash screen show. No matter that time connected Mobile data or Wi-Fi.</p>\n<blockquote>\n<p><strong>Method</strong>: through <code>WifiManager</code> .</p>\n<p><strong>Issue:1)</strong> It provide IP only when user connected to wifi. <strong>2)</strong> <code>Formatter.formatIpAddress</code> deprecated in API version 12. <strong>3)</strong>  <code>getHostAddress()</code>, which supports both IPv4 and IPv6 addresses. This method does not support IPv6 addresses</p>\n</blockquote>\n<p><strong>I found only one short solution is just call this Api, <a href=\"http://www.ip-api.com/json\" rel=\"nofollow noreferrer\">http://www.ip-api.com/json</a> &lt;and get data through Json.</strong></p>\n<p>Is there any other way to get IP from android device?</p>\n"},{"answers":[{"comments":[{"comment_id":17131384,"body":"Thanks Darran - a no is a valid answer too :) just one more thing though - could you please link your sources? I found it quite hard to get an overview of things possible and impossible with the JBoss CLI, so a good resource would be appreciated."},{"comment_id":17155312,"body":"My &#39;source&#39; is I wrote the properties file based realm so know I never exposed any operations to list the actual users it contains ;-)"}],"answer_id":12689705,"body":"<p>If your users are stored in the properties file then it is not possible to obtain a listing of them using the management interface.</p>\n\n<p>Adding identity management operations including listing and modifying users is something being considered for a later release.</p>\n"},{"answer_id":69660763,"body":"<p>Open the below file with notepad and find the list of users:</p>\n<pre><code>$HOME_wildfly-Final\\standalone\\configuration\\mgmt-groups.properties\n</code></pre>\n"},{"answer_id":76306589,"body":"<p>You can execute <code>help --commands</code> to see commands availabe in your current context.</p>\n<pre><code>[standalone@localhost:9990 /] help --commands\nCommands available in the current context:\nattachment                              deployment-info                         run-batch\n\nbatch                                   deployment-overlay                      security disable-http-auth-http-server\n\ncd                                      echo                                    security disable-http-auth-management\n\nclear                                   echo-dmr                                security disable-sasl-management\n\ncommand                                 for                                     security disable-ssl-http-server\n\ncommand-timeout                         grep                                    security disable-ssl-management\n\nconnect                                 help                                    security enable-http-auth-http-server\n\nconnection-info                         history                                 security enable-http-auth-management\n\ndata-source                             if                                      security enable-sasl-management\n\ndeploy                                  jdbc-driver-info                        security enable-ssl-http-server\n\ndeployment deploy-cli-archive           ls                                      security enable-ssl-management\n\ndeployment deploy-file                  module                                  security reorder-sasl-management\n\ndeployment deploy-url                   patch apply                             set\n\ndeployment disable                      patch history                           shutdown\n\ndeployment disable-all                  patch info                              try\n\ndeployment enable                       patch inspect                           undeploy\n\ndeployment enable-all                   pwd                                     unset\n\ndeployment info                         quit                                    version\n\ndeployment list                         read-attribute                          xa-data-source\n\ndeployment undeploy                     read-operation\ndeployment undeploy-cli-archive         reload\nTo read a description of a specific command execute 'help &lt;command name&gt;'.\n</code></pre>\n<p>So to answer to your question you can't list jboss users over CLI Client, you can see in</p>\n<blockquote>\n<p>EAP_HOME/domain/configuration/mgmt-users.properties or\napplication-users.properties</p>\n</blockquote>\n"}],"last_activity_date":1684761904,"question_id":12462491,"body":"<p>I have not found anything suitable in the <a href=\"https://docs.jboss.org/author/display/AS7/Management+API+reference\" rel=\"nofollow\">Management API ref</a> or the <a href=\"https://community.jboss.org/wiki/CommandLineInterface\" rel=\"nofollow\">CLI guide</a>.</p>\n\n<p>My guess for retrieving the users of the management realm would have been  </p>\n\n<pre><code>ls core-service=management/security-realm=ManagementRealm/authentication=properties\n</code></pre>\n\n<p>but it returns nothing. I do have a management user though. </p>\n\n<p>I am using Jboss-7.1.1.Final</p>\n\n<p>Thank you</p>\n"},{"comments":[{"comment_id":89596342,"body":"See <code>${#strings.isEmpty(variable)}</code>.  It will check for empty or null and call <code>trim()</code>."},{"comment_id":89596451,"body":"Can you also post what you&#39;re trying to do?  It seems like you may really want <code>th:classappend</code> but I can&#39;t readily tell."},{"comment_id":111504853,"body":"@vphilipnyc if you&#39;ve posted your first comment as an answer, you could earn +300 reputation in 18 months. see <a href=\"https://stackoverflow.com/a/54048650/1429387\">proof</a>."},{"comment_id":111512933,"body":"@naxa Lol, maybe you can buy me a beer with all of those points"},{"comment_id":111525421,"body":"@vphilipnyc ahah! no, problem :) contact me and request your free beer <a href=\"https://t.me/nullgz\" rel=\"nofollow noreferrer\">t.me/nullgz</a>"}],"answers":[{"comments":[{"comment_id":89657266,"body":"Hi Sumit I have already tried this .I need both null and empty condition as one single operation rather than as separate condition.I hope u understand what I need"},{"comment_id":89664104,"body":"For that use <b>&#39;or&#39;</b> in between 2 condition , like this :--   <b>&lt;li th:if=&quot;${searchResults.results != null} or ${searchResults.results != &#39;&#39;}&quot;&gt;</b>  Put <b>&quot;&quot;</b> properly otherwise your page would end up with error."},{"comment_id":89664183,"body":"Moreover you can also use <b>&#39;and&#39;</b> in a similar way like <b>or</b> . Just put <b>and</b> in between 2 conditions and it&#39;ll work."},{"comment_id":89685663,"body":"hi Sumit I tried with all these approaches but no luck. Let me try one more time and update you .Thanks for your help"},{"comment_id":89686653,"body":"<b>&#39;or&#39; ** And  **&#39;and&#39;</b> operator will definitely work with two conditions in thyemleaf cz I&#39;ve been using the same approach in my project as well.Hope it works out for you as well."}],"answer_id":51326916,"body":"<p>In order to check null or empty string using thymeleaf expressions, Use this approach : --- </p>\n\n<pre><code>&lt;div th:if= \"${searchResults.results != null}\"&gt;\n</code></pre>\n\n<p>OR, this :-- <br></p>\n\n<pre><code>&lt;div th:if= \"${searchResults.results != ''}\"&gt;\n</code></pre>\n\n<p>Furthermore, you can check the empty or null object on your controller itself and then send the response on your thymeleaf-html page accordingly, like this :-- \n<br>\n1.) Your Controller :-    </p>\n\n<pre><code> List ls = //some data from you DAO\n    if(ls.isEmpty()){\n         model.addAttribute(\"response\",\"NoData\");\n      }else{\n         model.addAttribute(\"response\",ls);\n     }\n</code></pre>\n\n<p>2.) Then on your Thymleaf page :- - - </p>\n\n<pre><code>&lt;th:block th:if=\"${response=='NoData'}\"&gt; No Data Found &lt;/th:block&gt;\n</code></pre>\n\n<p><strong>PS -</strong> I've answered the same question here which helps the questioner hope it helps you as well :--\n<a href=\"https://stackoverflow.com/questions/51152960/thymeleaf-not-equal-expression-in-thif/51153187#51153187\">ThymeLeaf: Not Equal expression in th:if</a></p>\n"},{"comments":[{"comment_id":97716386,"body":"shouldn&#39;t it be <code>${#!string.isEmpty(variable)}</code> with a <b>!</b> in front?"},{"comment_id":97722368,"body":"@FarazDurrani it depends on what you need. <code>${#strings.isEmpty(name)}</code> is true if <code>name</code> is null or empty. <code>${!#strings.isEmpty(name)}</code> or <code>${not #strings.isEmpty(name)}</code> is true if <code>name</code> is not null and not empty."},{"comment_id":113030845,"body":"Thanks for your time and effort"},{"comment_id":121225931,"body":"This should be the selected answer."},{"comment_id":122182678,"body":"also works with ${#arrays.isEmpty(myArray)}"}],"answer_id":54048650,"body":"<p>Try <code>${#strings.isEmpty(variable)}</code>.</p>\n\n<p>From <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#strings\" rel=\"noreferrer\">Tutorial | Using Thymeleaf | Strings</a>:</p>\n\n<pre><code>/*\n * Check whether a String is empty (or null). Performs a trim() operation before check\n */\n${#strings.isEmpty(name)}\n</code></pre>\n"},{"answer_id":76306654,"body":"<p>If you want to print only if NOT a null value or empty sting, then:</p>\n<pre><code> th:if=&quot;${not #strings.isEmpty(variableName)}&quot;\n</code></pre>\n"}],"last_activity_date":1684761739,"question_id":51301074,"body":"<p>Is there any way to check both null and empty condition in Thymeleaf?</p>\n\n<p>Approach 1</p>\n\n<pre><code>1) .variable1?.variable2?.variable3\n2) variable!=null \n3) variable!=''\n</code></pre>\n\n<p>If we combine two conditions like (variable!='' And variable!=null) I am having issue when rendering.</p>\n\n<p>I am trying following sample</p>\n\n<pre><code>${#strings.concat(#strings.concat('class ',variable1?.variable2), ' ', variable1?.variable2?.variable3)}\n</code></pre>\n\n<p>I also used <strong><em>containsKey</em></strong> as well but it is behaving differently.</p>\n"},{"comments":[{"comment_id":134547282,"body":"Use biginteger instead of long"},{"comment_id":134547806,"body":"<code>ans = ans*i;</code> can be very huge and cause <i>integer overflow</i>"},{"comment_id":134547819,"body":"@DmitryBychenko how do we resolve that problem?"},{"comment_id":134547836,"body":"<code>return Enumerable.Range(1, n).Aggregate(1L, (s, a) =&gt; s * a % 1_000_000_007);</code>"},{"comment_id":134549123,"body":"@Max I believe my answer resolved some of your questions."}],"answers":[{"comments":[{"comment_id":134547306,"body":"Can you please explain the logic behind &quot;If you have to write answer % 1000000007, you can (and I guess you should) use % operator every time in for loop.&quot;, what is the proof of correctness of this?"},{"comment_id":134547359,"body":"@Max you can check it here: <a href=\"https://brestprog.by/topics/modulo/\" rel=\"nofollow noreferrer\">brestprog.by/topics/modulo</a> P.S. sorry for russian, i hope you can use Google Translator :)"},{"comment_id":134547813,"body":"Technically, the last <code>ans % p;</code> is redundant: <code>return ans;</code> is enough"},{"comment_id":134549434,"body":"What you are looking for is &quot;modulus is closed under multiplication&quot; (which is a fancy way of saying that  ((a mod n) * (b mod n)) mod n = (a*b) mod n.   Any book on basic number theory would have a proof, but also here: <a href=\"https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/modular-multiplication\" rel=\"nofollow noreferrer\">khanacademy.org/computing/computer-science/cryptography/&hellip;</a>"}],"answer_id":76299440,"body":"<p>If you have to write <code>answer % 1000000007</code>, you can (and I guess you should) use <code>%</code> operator every time in <code>for</code> loop.</p>\n<pre><code>long ans = 1;\nlong p = 1000000007;\n\nfor (int i = 0; i &lt; n; i++)\n{\n    ans = (ans * i) % p;\n}\n\nreturn ans;\n</code></pre>\n<p>If this is not enough, you can try this:</p>\n<pre><code>long ans = 1;\nlong p = 1000000007;\n\nfor (int i = 0; i &lt; n; i++)\n{\n    ans = ((ans % p) * (i % p)) % p;\n}\n\nreturn ans;\n</code></pre>\n"},{"answer_id":76300500,"body":"<p>First, here is the <code>BigInteger</code> solution.</p>\n<pre><code>int p = 1_000_000_007;\n\nBigInteger fact = BigInteger.TWO;\nint N = 50;\nfor (int i = 3 ;i &lt; N; i++) {\n     fact = fact.multiply(BigInteger.valueOf(i));\n}\nSystem.out.println(fact.mod(BigInteger.valueOf(p)));\n</code></pre>\n<p>prints</p>\n<pre><code>726372166\n</code></pre>\n<p>To solve this without using <code>BigInteger</code>, one can use the relationship that says that</p>\n<pre><code> (a mod n) * (b mod n) = ab mod n.\n</code></pre>\n<p>Check out the proof <a href=\"https://math.stackexchange.com/questions/1488529/prove-that-ab-bmod-n-a-bmod-n-b-bmod-n\">here</a></p>\n<p>Since the above can be applied to a larger range of integers, one can do the following:</p>\n<pre><code>long mod = 2;\nint N = 50;\nfor (int i = 3; i &lt; N; i++) {\n    mod = (mod * i) % p;\n}\nSystem.out.println(mod);\n</code></pre>\n<p>prints</p>\n<pre><code>726372166\n</code></pre>\n<p>Note:  <code>1_000_000_007</code> is a prime number and thus guarantees no product above will ever have that value as a factor.  If <code>N &gt;= p</code> then all subsequent results will be <code>0</code>, even if the product is first computed using <code>BigInteger</code>, because the remainder will be zero when the product is divided by <code>p</code></p>\n"}],"last_activity_date":1684761717,"question_id":76299415,"body":"<p>I am trying to solve the problem &quot;product of first n numbers&quot;</p>\n<pre><code>   long ans=1;\n\n    for(int i=1;i&lt;=n;i++){\n        ans = ans*i;\n    }\n    return ans % (1000000007) ;\n</code></pre>\n<p>I am incorrect result for large n, I suspect possible overflow. How do I go about solving it?</p>\n"},{"answers":[{"comments":[{"comment_id":122204905,"body":"I updated the previous answer. Let me know if it solved the problem"},{"comment_id":122204981,"body":"Thanks, this solved the constraint error, but the error &quot;No speakable text present&quot; remained"},{"comment_id":122205058,"body":"Remove the two last attribute on EditText and remove Appbar behaviour as well on the Constraint layout if not necessary"},{"comment_id":122205088,"body":"And I will like to know... Do you get this error when the app is compilling or just at work time?"}],"answer_id":69142803,"body":"<p>The problem is missing constraints. Any view you add in <strong>Constraint</strong> layout, you must set the margins otherwise you will get those errors and even if your app managed to run, your edit text will not be place properly.</p>\n<p>Add this to your editText;</p>\n<pre><code>    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n</code></pre>\n<p>Let me know if it worked.\nRemember you can twick this to your desired position.</p>\n"},{"comments":[{"comment_id":122389469,"body":"Thanks, I will consider"}],"answer_id":69222494,"body":"<p>The problem is you are missing content labeling for the view, you should add content description so the user could simply understand what data he should enter into the view</p>\n<p>for example, if you want the user to enter the number of cookies he wants you should add a content description as seen below:</p>\n<pre><code>android:contentDescription=&quot;Enter How Much Cookies You Want&quot;\n</code></pre>\n<p>You should also add an android:hint so the user would have it in front of them an example of the data you want inputted for example:</p>\n<pre><code>android:hint=&quot;e.g 5&quot;\n</code></pre>\n<p>So your views XML code should look as follows</p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/editTextNumber2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:ems=&quot;10&quot;\n    android:inputType=&quot;number&quot;\n    android:minHeight=&quot;48dp&quot;\n    android:contentDescription=&quot;Enter How Much Cookies You Want&quot; \n    android:hint=&quot;e.g 8&quot; /&gt;\n</code></pre>\n"},{"answer_id":70728121,"body":"<p>The solution is simple you just need to add the text into the hint part.\nsearch hint in search-bar ant type something in hint block.\nand hit Enter.</p>\n<p><img src=\"https://i.stack.imgur.com/vGqMB.png\" alt=\"enter image description here\" /></p>\n"},{"answer_id":76306527,"body":"<p>For everyone who has the same error message as above, but the shown solutions were not helpful, you could try the following: Check if there is an empty (not set) <code>android:contentDescription</code> field at any view in your *.xml file.</p>\n<p>In my case I was adding an <code>android:contentDescription</code> to a view but forgot to actually set it's value - after I was setting up a string variable for it. So it looked like this:</p>\n<pre><code>&lt;TextView\n                    android:id=&quot;@+id/textView_A&quot;\n                    android:text=&quot;@string/textView_A_text&quot;\n                    android:contentDescription=&quot;&quot;/&gt;\n</code></pre>\n<p>So Android Studio gave me the same &quot;No speakable text present&quot; error message, but not for that specific view but for another, which was some views below the one I changed, where I did not even added the field <code>android:contentDescription</code>.</p>\n<p>After adding my string variable like in the following code, the error was gone.</p>\n<pre><code>&lt;TextView\n                    android:id=&quot;@+id/textView_A&quot;\n                    android:text=&quot;@string/textView_A_text&quot;\n                    android:contentDescription=&quot;@string/TextView_A_contentDescription&quot;/&gt;\n</code></pre>\n<p>Hope it helps.</p>\n"}],"last_activity_date":1684761471,"question_id":69142705,"body":"<p>When adding a field for entering a number(Number widget), the error &quot;No speakable text present at Android Studio&quot; takes off</p>\n<p><img src=\"https://i.stack.imgur.com/oviVm.png\" alt=\"1\" /></p>\n<p>content_main.xml:</p>\n<p><img src=\"https://i.stack.imgur.com/ClqZu.png\" alt=\"2\" /></p>\n<p>activity_main.xml:</p>\n<p><img src=\"https://i.stack.imgur.com/H2hxa.png\" alt=\"3\" /></p>\n"},{"comments":[{"comment_id":134559724,"body":"JSP is only supported in WAR files not JAR files (and come with limitations) as mentioned in the documentation. I would suggest to use something like Thymeleaf in the current day and age."}],"last_activity_date":1684761446,"question_id":76306600,"body":"<p>I am working on spring boot web application project.\nwhen ever I run spring boot web app It runs well, but in the browser when I excess this web app content, my jsp file automatically downloads instead of displaying content.</p>\n<p>Below Spring boot first application:</p>\n<pre><code>\npackage com.springboot.web;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n@SpringBootApplication\npublic class SpringBootFirstApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootFirstApplication.class, args);\n    }\n}\n</code></pre>\n<p>Below one is Controller:</p>\n<pre><code>package com.springboot.web;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class mainController {\n\n    @GetMapping(&quot;/home&quot;)\n    public String home() {\n        return &quot;home&quot;;\n    }\n}\n</code></pre>\n<p>Below one is application.properties file:</p>\n<pre><code>spring.mvc.view.prefix=/views/\nspring.mvc.view.suffix=.jsp\nserver.port=9091\n</code></pre>\n<p>Below one is pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.web&lt;/groupId&gt;\n    &lt;artifactId&gt;springmvcboot&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBootFirst&lt;/name&gt;\n    &lt;description&gt;web project spring boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>below one is my jsp file:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Insert title here&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;This is my Home Jsp&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>How can I solve it ?</p>\n"},{"comments":[{"comment_id":134559715,"body":"<i>but csvReader.readNext() returns Canci�n.</i> Determined how? If that&#39;s being printed to a console, it would have to support UTF-8 (rare in Windows)"},{"comment_id":134559829,"body":"Firstly I noticed this case in DB and then I was debugging while ((rowLine = reader.readNext()) != null) and reader.readNexts returned array of string where I saw Canci�n"},{"comment_id":134559861,"body":"Assign that string to <code>word</code> and do               <code>word.codePoints().forEach(cp-&gt;System.out.printf(&quot;\\\\u%04X&quot;, cp));System.out.println();</code> You should get <code>\\u0043\\u0061\\u006E\\u0063\\u0069\\u00F3\\u006E</code> If that&#39;s what you&#39;re getting, all is well, irrespective of what you see in the console. The db thing is a little off-topic - we <i>were</i> talking about reading CSV..."},{"comment_id":134560440,"body":"That what I see in the console in the place of &#210;: \\u00EF\\u00BF\\u00BD\\u0020"},{"comment_id":134560470,"body":"OK. In that case it&#39;s wrong further back in the pipeline. Is it possible for you to post a link to some of your csv source file?"},{"comment_id":134560622,"body":"I can&#39;t share this file, but I can share another example (with another symbol - &#237;). Please search for cell &#39;Vives En M&#237; - Spanish Authorised&#39;. <a href=\"https://drive.google.com/file/d/1rUBdRQYJOEYEYO3O3lyOkZw86niJhzY1/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1rUBdRQYJOEYEYO3O3lyOkZw86niJhzY1/&hellip;</a>"},{"comment_id":134560748,"body":"Yes, that&#39;s <i>not</i> UTF-8 but some form of 7/8bit encoding. Windows-1252, Latin1 both decode it correctly. Again it&#39;s of paramount importance to understand that, if, <code>�</code> is in the <i>source file</i> (not that it&#39;s in the one you linked to), it&#39;s <i>already</i> wrong and will never be right"},{"comment_id":134560829,"body":"with windows-1252 or latin1 reader.readNext() returned &quot;Vives En M&#239;&#191;&#189; - Spanish Authorised&quot; :(. But in the source file we have &#237; symbol, not �"},{"comment_id":134560857,"body":"Please show (one line will do in a comment) how you changed your parsing code to get that"},{"comment_id":134560915,"body":"new CSVReaderBuilder(new InputStreamReader(new FileInputStream(rawFilePath.toFile()),                 Charset.forName(&quot;latin1&quot;)))                 .withCSVParser(new CSVParserBuilder()                         .withSeparator(delimiter)                         .withQuoteChar(&#39;\\&quot;&#39;)                         .build())                 .build(); for windows I wrote &quot;windows-1252&quot;"},{"comment_id":134561540,"body":"@g00se could you help me with this problem?"},{"comment_id":134561759,"body":"Am I essentially running your exact code with Latin1 and asking to print field number 7. This is what I get: <code>Vives En M&#237; - Spanish Authorised</code>"},{"comment_id":134561944,"body":"Maybe is there smth wrong with versions of csv libraries?"},{"comment_id":134561985,"body":"Of course there&#39;s no IDE to mess things up for me in my case. You&#39;re not using, say, IntelliJ are you?"},{"comment_id":134562423,"body":"No, I don&#39;t use any IDE."},{"comment_id":134562539,"body":"Try running <a href=\"https://technojeeves.com/tech/App.java\" rel=\"nofollow noreferrer\">this</a> with &#39;test-symbol.csv&#39; and &#39;Latin1&#39; as arguments"},{"comment_id":134565272,"body":"Please <a href=\"https://stackoverflow.com/posts/76306544/edit\">edit</a> your question to improve your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. In particular, share (sanitized if necessary) your input file."},{"comment_id":134565706,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"comment_id":134572118,"body":"Thanks @all! @goose helped me. It was a problem with method which I download this file from the third-party"}],"last_activity_date":1684761404,"question_id":76306544,"body":"<p>There is a .csv file, one of the cells has a CanciÒon value, but csvReader.readNext() returns Canci�n. Here's how I create the CSVReader you can see in the snippet code.\nWhichever encoding I set, it still fails to subtract the Ò character. Sublime says that the file is encoded Western (Windows 1252).\nI tried setting Charset &quot;Cp1252&quot; and &quot;Windows-1252&quot;, but no effect, only � changed to ï¿½½.\nWindows-125{1|2|3|4|5|6|7|8} did not help either.\nMaybe there is some option to read CanciÒon correctly after all?</p>\n<p>I expect to read a correct value.</p>\n<pre><code>char delimiter = &quot;,&quot;;\nICSVParser parser = new CSVParserBuilder()\n                    .withSeparator(delimiter)\n                    .withQuoteChar('\\&quot;')\n                    .build();\nCSVReader reader = new CSVReaderBuilder(new InputStreamReader(inputStream,\n                StandardCharsets.UTF_8))\n                .withCSVParser(parser)\n                .build();\n</code></pre>\n"},{"comments":[{"comment_id":124963014,"body":"does your application start when you run it without tests and does it respond when you call it."},{"comment_id":124974568,"body":"@Toerktumlare Yes, the app runs. I&#39;ve checked the network call. It is working as expected"}],"answers":[{"answer_id":70694659,"body":"<p>I added mocking the decoder in the test as</p>\n<pre><code>@MockBean\nprivate JwtDecoder jwtDecoder;\n</code></pre>\n<p>and the test ran !</p>\n"},{"answer_id":76306583,"body":"<p>I got this error when using <code>@SpringBootTest</code>. It started appearing when upgrading from spring boot version <code>2.5.12</code> to <code>2.7.8</code>.</p>\n<p>I could fix it by changing</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.NONE)\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n</code></pre>\n<p>to</p>\n"}],"last_activity_date":1684761288,"question_id":70686277,"body":"<p>I am trying to write a test for my controller but the test environment fails to load with the given stackTrace.</p>\n<pre><code>    @PreAuthorize(&quot;hasAuthority('my.scope')&quot;)\n    @GetMapping(value = &quot;/path&quot;, produces = APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;Map&lt;String, Set&lt;String&gt;&gt;&gt; getPath() {\n        return myService.pathFunction()\n            .map(ResponseEntity::ok);\n    }\n</code></pre>\n<p>and following is how I've configured my security config</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true, prePostEnabled = true)\npublic class WebConfig extends WebSecurityConfigurerAdapter {\n\n    private static final String PRINCIPAL = &quot;sub&quot;;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        JwtAuthenticationConverter authenticationConverter =\n            new JwtAuthenticationConverter();\n        authenticationConverter.setJwtGrantedAuthoritiesConverter(...);\n        authenticationConverter.setPrincipalClaimName(PRINCIPAL);\n\n        http.csrf().disable()\n            .cors()\n            .and()\n            .authorizeRequests().antMatchers(&quot;/actuator/**&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .oauth2ResourceServer()\n            .jwt()\n            .jwtAuthenticationConverter(authenticationConverter);\n    }\n}\n</code></pre>\n<p><strong>The controller is working as needed but my test fails with this error. I am not using any customer JwtDecoder</strong></p>\n<pre><code>@WebMvcTest(controllers = Controller.class)\nclass ControllerTest {\n\n    @MockBean\n    private MyService myService;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    @WithMockUser(authorities = {&quot;my.scope&quot;})\n    void controllerTest() throws Exception{\n        Map&lt;String, Set&lt;String&gt;&gt; mapResponse = Map.of(&quot;key&quot;, Set.of(&quot;foo1&quot;, &quot;foo2&quot;));\n        Mockito.when(myService.pathFunction()).thenReturn(Optional.of(mapResponse));\n\n        MockHttpServletResponse result = mockMvc.perform(get(&quot;/configuration/api-registry&quot;)\n                .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isOk())\n            .andReturn()\n            .getResponse();\n\n        String response = result.getContentAsString();\n        assertTrue(response.contains(&quot;foo1&quot;));\n    }\n\n}\n</code></pre>\n<p>How do I run this test ?</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'springSecurityFilterChain' defined in class path resource [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' available\n    ...\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.servlet.Filter]: Factory method 'springSecurityFilterChain' threw exception; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' available\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 90 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.jwt.JwtDecoder' available\n    at ...\n</code></pre>\n"},{"answers":[{"answer_id":76305164,"body":"<p>SourceStamp improves traceability of apps with respect to unauthorized distribution.</p>\n<blockquote>\n<p>The stamp is part of the APK that is protected by the signing block.\nThe APK contents hash is signed using the stamp key, and is saved as\npart of the signing block.</p>\n</blockquote>\n"}],"last_activity_date":1684761244,"question_id":76305137,"body":"<p>what does it mean in android-manifest?</p>\n<pre><code>&lt;meta-data android:name=&quot;com.android.stamp.source&quot; android:value=&quot;https://play.google.com/store&quot; /&gt; \n    &lt;meta-data android:name=&quot;com.android.stamp.type&quot; android:value=&quot;STAMP_TYPE_DISTRIBUTION_APK&quot; /&gt;\n</code></pre>\n<p>Please explain me ,im a amateur programming 🙏\nThank you 😊</p>\n"},{"comments":[{"comment_id":134559570,"body":"Hard to say without knowing your code. But I thing you get an exception while generating a mail, and log4j tries to send a mail which leads to an exception ...."},{"comment_id":134559884,"body":"I don&#39;t think it has to do anything with sending a mail, <code>log4j-slf4j-impl cannot be present with log4j-to-slf4j</code> is quite a verbose statement. I don&#39;t know what either of those do, but the names seem similar to the JAR files that can be present on the classpath. Apparently, these two are exclusive."}],"last_activity_date":1684760551,"question_id":76306489,"body":"<p>Exception in thread &quot;main&quot; java.lang.ExceptionInInitializerError\nat org.simplejavamail.email.internal.EmailPopulatingBuilderImpl.(EmailPopulatingBuilderImpl.java:359)\nat org.simplejavamail.email.internal.EmailStartingBuilderImpl.startingBlank(EmailStartingBuilderImpl.java:82)\nat org.simplejavamail.email.EmailBuilder.startingBlank(EmailBuilder.java:157)\nat utils.UsingSInpleJavaMail.main(UsingSInpleJavaMail.java:11)\nCaused by: org.apache.logging.log4j.LoggingException: log4j-slf4j-impl cannot be present with log4j-to-slf4j\nat org.apache.logging.slf4j.Log4jLoggerFactory.validateContext(Log4jLoggerFactory.java:60)\nat org.apache.logging.slf4j.Log4jLoggerFactory.newLogger(Log4jLoggerFactory.java:44)\nat org.apache.logging.slf4j.Log4jLoggerFactory.newLogger(Log4jLoggerFactory.java:33)\nat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:53)\nat org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:33)\nat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:363)\nat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:388)\nat org.simplejavamail.config.ConfigLoader.(ConfigLoader.java:115)\n... 4 more</p>\n<p>i tried sending an email and i was expecting it to work fine</p>\n"},{"last_activity_date":1684760225,"question_id":76303176,"body":"<p>I am trying to call a customer's endpoint to retrieve their data using <code>WebClient</code>. We have to use certificate when calling the endpoint. I configured the <code>WebClient</code> with filter (to handle auto-refresh of the access token) and also with httpclient taking the certificate as keyStore. However, I am getting the <code>SSLHandshakeException</code>. If I commented out the filter(oauth), then I didn't get the SSLHandshakeException. Can someone please let me know how to let <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> work with the keyStore setup? Thanks.</p>\n<pre><code>@Configuration\npublic class WebClientConfig {\n\n    private final Logger logger = (Logger) LoggerFactory.getLogger(WebClientConfig.class);\n\n    @Autowired\n    private DVSVerifySslContextBuilder sslContextbuilder;\n\n    @Autowired\n    private SslDetailsLoader sslDetailsLoader;\n\n    @Autowired\n    private CertificateConverter certificateConverter;\n\n    @Value(&quot;${service.cert.keystorePassword}&quot;)\n    private String keystorePassword;\n\n    @Value(&quot;${service.cert.privateKeyPassword}&quot;)\n    private String privateKeyPassword;\n\n    @Value(&quot;${okapi.sslConfigName}&quot;)\n    private String sslConfigName;\n    \n    @Value(&quot;${dvs.verify.base.uri}&quot;)\n    private String baseUri;\n\n    @Bean\n    public ReactiveClientRegistrationRepository getRegistration(\n\n            @Value(&quot;${dvs.verify.accessTokenUri}&quot;) final String accessTokenUri,\n            @Value(&quot;${dvs.verify.client-id}&quot;) final String clientId,\n            @Value(&quot;${dvs.verify.client-secret}&quot;) final String clientSecret,\n            @Value(&quot;${dvs.verify.grant-type}&quot;) final String grantType,\n            @Value(&quot;${dvs.verify.scope}&quot;) final String scope) {\n        ClientRegistration registration = ClientRegistration.withRegistrationId(&quot;dvs&quot;).tokenUri(accessTokenUri)\n                .clientId(clientId).scope(scope).clientSecret(clientSecret)\n                .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS).build();\n        return new InMemoryReactiveClientRegistrationRepository(registration);\n    }\n\n    @Bean\n    public WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n        var clientService = new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations);\n        var authorizedClientManager = new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n                clientRegistrations, clientService);\n        var oauth = new ServerOAuth2AuthorizedClientExchangeFilterFunction(authorizedClientManager);\n        oauth.setDefaultClientRegistrationId(&quot;dvs&quot;);\n\n        HttpClient httpClient = HttpClient.create()\n                .secure(sslSpec -&gt; sslSpec.sslContext(getKeyStorefromMassl(sslConfigName)))\n                .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 5000)\n                .doOnConnected(\n                          connection -&gt; {\n                            connection.addHandlerLast(\n                                new ReadTimeoutHandler(5000, TimeUnit.MILLISECONDS));\n                            connection.addHandlerLast(\n                                new WriteTimeoutHandler(5000, TimeUnit.MILLISECONDS));\n                          });\n        return WebClient.builder().clientConnector(new ReactorClientHttpConnector(httpClient)).filter(oauth).baseUrl(baseUri)\n                .filter(errorHandler()).build();\n    }\n\n    private ExchangeFilterFunction errorHandler() {\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n            if (clientResponse.statusCode().is5xxServerError() || clientResponse.statusCode().is4xxClientError())\n                return clientResponse.bodyToMono(String.class)\n                        .flatMap(errorBody -&gt; Mono.error(new IllegalAccessException(errorBody)));\n            else\n                return Mono.just(clientResponse);\n        });\n    }\n\n    private SslContext getKeyStorefromMassl(String sslConfigName) {\n        SslContext sslcontext = null;\n        try {\n            // setting passwords for keystore load\n            sslContextbuilder.setSslDetailsLoader(sslDetailsLoader);\n            sslContextbuilder.setPrivateKeyPassword(privateKeyPassword.toCharArray());\n            sslContextbuilder.setCertificateConverter(certificateConverter);\n            SslDetails sslDetails = sslDetailsLoader.loadOkapiCerts(sslConfigName);\n            KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\n            trustStore.load(null, keystorePassword.toCharArray());\n            logger.info(&quot;I have build the keystore for the trust manager.&quot;);\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n            keyStore.load(null, keystorePassword.toCharArray());\n            logger.info(&quot;I have build the keystore for the key manager.&quot;);\n            certificateConverter.loadCertificateAuthorities(sslDetails, trustStore);\n            /*\n             * Load the my public certificate and key into the key store.\n             */\n            certificateConverter.loadCertificateAndKey(sslDetails, keyStore, privateKeyPassword.toCharArray());\n            sslcontext = sslContextbuilder.buildInternallySslContext(sslDetails, trustStore, keyStore, sslConfigName);\n        } catch (Exception e) {\n            logger.error(&quot;Failed getKeyStorefromMassl ==&gt;&quot;, e.getMessage());\n        }\n        return sslcontext;\n    }\n}\n\n</code></pre>\n<p>And calling post method from service class</p>\n<pre><code>ResponseEntity&lt;IdvResponse&gt; response = webClient.post().uri(baseUriVerifyExt).headers(getDefaultHttpHeaders())\n                    .attributes(ServerOAuth2AuthorizedClientExchangeFilterFunction.clientRegistrationId(&quot;dvs&quot;))\n                    .body(Mono.just(idvRequest), IdvRequest.class).retrieve().toEntity(IdvResponse.class).block();\n</code></pre>\n<p>Can someone please let me know how to let <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> work with the <code>keyStore</code> setup? Thanks.</p>\n"},{"last_activity_date":1684760199,"question_id":76306436,"body":"<p>I have JPA Entity class as such:</p>\n<pre><code>class A extends BaseEntity{\n@ManyToOne(fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;b_id&quot;)\nprivate B b;\n\n@Column(name = &quot;is_checked&quot;)\nprivate Boolean isChecked;    \n}\n\nclass B{\n@JsonIgnore\n@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;A&quot;, cascade = CascadeType.REMOVE)\nprivate List&lt;A&gt; aList;\n}\n</code></pre>\n<p>Now my function to cache the object is as follows: (the function convert the JPA entity object to JSON string and cache it).</p>\n<pre><code>public void cacheObject(String suffix, A object) {\n    try{\n        ...\n\n        redisTemplate\n            .opsForValue()\n            .set(\n                key,\n                Jackson.toJsonString(object)\n            );\n\n        ...\n    }catch(Exception exception){\n        ...\n    }\n}\n</code></pre>\n<p>The retrieval function is as follows: (It retrieves the JSON string and map it to the entity class object)</p>\n<pre><code>public A getById(Integer id) {\n    try{\n        String aString = this.getObjectFromCache(id.toString());\n\n        if(Utilities.isNull(aString) || aString.isEmpty()){\n            return null;\n        }\n\n        return objectMapper.readValue(\n            aString,\n            A.class\n        );\n    }catch(Exception exception){\n        log.warn(&quot;Exception occurred while converting JSON string to A(id:{})&quot;, id);\n        log.warn(&quot;Exception: {}&quot;, exception.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>The problem is when I try to do this a.getB().getAList() [after fetching from cache] it results in error of null pointer exception, as aList of entity B is not being cached as I am using @JsonIgnore on it. If I weren't using @JsonIgnore then there would have been another error of infinite recursion(A-&gt;B&gt;A-&gt;B-&gt;so on) at JSON serialization while caching.\nI don't want to cache aList either I want to fetch it from database, but I am unable to do so because of null pointer exception as it is null upon caching, also I tried to just save ids in AList so that if I do a.getB().getAList() then it fetches AList from db using JPA Persistence/context/whatever as ids are now there but it didn't work either.\nAny suggestions how to do that? any suggestion on how should I be caching? keep in mind I have a lot of referencing entities.</p>\n"},{"comments":[{"comment_id":37920570,"body":"Intellij has its own NotNull annotation class.  I wonder if its doing some slight of  hand around the return list.toArray which is the only place you can have an NPE potential"},{"comment_id":37920901,"body":"It&#39;s not possible for the list field to be null. Unless I missed something?"},{"comment_id":37920978,"body":"there is an implicit ListHashSet() constructor added in by the compiler"},{"comment_id":38142007,"body":"try intellij forums/support?"},{"comment_id":42010671,"body":"I tried asking over at the IntelliJ forums, but got nowhere. This is probably a bug in IntelliJ"},{"comment_id":88169125,"body":"Sometimes, it helps to add a nullability check. In my case, there was the <code>@ParametersAreNonnullByDefault</code> an annotation on both the interface and implementing class packages. However, IDEA warned me that the overridden method param is not annotated until I added <code>Preconditions.checkNotNull(...)</code> for the param in the implementing class."},{"comment_id":103422130,"body":"It&#39;s weird I&#39;m still getting upvotes for this question, 5 years later. No one&#39;s made a fix?"}],"answers":[{"comments":[{"comment_id":37922569,"body":"I actually had these additional constructors (Updated in the original question) ^"},{"comment_id":37925927,"body":"This isn&#39;t the cause, but you think you  might want to set list here?  private ArrayList&lt;T&gt; getList() { return list != null ? list : new ArrayList&lt;T&gt;(); }"}],"answer_id":24496141,"body":"<p>Try adding:</p>\n\n<pre><code>private ListHashSet() {}\n</code></pre>\n"},{"comments":[{"comment_id":44300547,"body":"Oh man finally! that worked! So, you&#39;re suggesting that the warning saying &quot;@NotNull is missing&quot; is actually a typo in the warning message?"},{"comment_id":119374538,"body":"For those who don&#39;t want to put an annotation on every method method in a large class, you can add <code>@NonNullApi</code> on the package level: <a href=\"https://stackoverflow.com/a/8405562/3362244\">stackoverflow.com/a/8405562/3362244</a>"}],"answer_id":27942889,"body":"<p>Try adding <code>@Nonnull</code> (<a href=\"https://jsr-305.googlecode.com/svn/trunk/javadoc/javax/annotation/Nonnull.html\" rel=\"noreferrer\">javax.annotation.Nonnull</a>) to the <code>toArray</code> method.</p>\n\n<p>The warning disappeared for me when I added this annotation. I think the warning message is incorrect which says that <code>@NotNull</code> is missing.</p>\n"},{"comments":[{"comment_id":80961243,"body":"IIRC we were using the Oracle JDK, so OpenJDK&#39;s implementation might be different"},{"comment_id":90949943,"body":"+1 for stating the correct @SuppressWarnings directive which seems to be the only option no relying on dependencies."},{"comment_id":105303187,"body":"I would disagree that &quot;SuppressWarnings&quot; is the correct approach here."}],"answer_id":33662173,"body":"<p>I agree it's a typo on Nonnull vs. NotNull. However, there also seems to be some other bug going on. I was implementing a custom Set and it was complaining about Iterator and toArray methods not having the annotation. But, looking at the JDK, there doesn't seem to be any such annotation on the interface for Set or Collection. </p>\n\n<p><a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Set.java\" rel=\"noreferrer\">http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Set.java</a>\n<a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Collection.java\" rel=\"noreferrer\">http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/0eb62e4a75e6/src/share/classes/java/util/Collection.java</a></p>\n\n<p>Weird. </p>\n\n<p>Anyway, the other option is to add a @SuppressWarnings tag to your class or method:\n@SuppressWarnings(\"NullableProblems\")</p>\n"},{"answer_id":76306424,"body":"<p>I also face the same and solve it by adding package-info.java for that package. Under package-info.java added annotation @NonNullApi.\nmy package-info.java looks like -</p>\n<pre><code>@NonNullApi\npackage org.example.auth.repositories;\n\nimport org.springframework.lang.NonNullApi;\n</code></pre>\n"}],"last_activity_date":1684760142,"question_id":24495448,"body":"<p>I'm implementing a custom data structure that gives me some properties of sets and other properties of lists. For most of the implemented methods though, I get this weird warning in IntelliJ IDEA on Java 7:</p>\n\n<blockquote>\n  <p>Not annotated method overrides method annotated with @NotNull</p>\n</blockquote>\n\n<p><strong>EDIT</strong>: The code below isn't relevant to the issue, but part of the original question. This warning shows up because of a bug in IntelliJ. See the <a href=\"https://stackoverflow.com/a/27942889/1827734\">answer</a> to (hopefully) resolve your issue.</p>\n\n<hr>\n\n<p>I haven't been able to find anything relevant about it and I'm not sure if I'm actually missing some sort of check, but I've looked through the source of both ArrayList and the List interface and can't see what this warning is actually about. It's on every implemented method that references the list field. Here's a snippet of the class I've made:</p>\n\n<pre><code>public class ListHashSet&lt;T&gt; implements List&lt;T&gt;, Set&lt;T&gt; {\nprivate ArrayList&lt;T&gt; list;\nprivate HashSet&lt;T&gt; set;\n\n\n/**\n * Constructs a new, empty list hash set with the specified initial\n * capacity and load factor.\n *\n * @param      initialCapacity the initial capacity of the list hash set\n * @param      loadFactor      the load factor of the list hash set\n * @throws     IllegalArgumentException  if the initial capacity is less\n *               than zero, or if the load factor is nonpositive\n */\npublic ListHashSet(int initialCapacity, float loadFactor) {\n    set = new HashSet&lt;&gt;(initialCapacity, loadFactor);\n    list = new ArrayList&lt;&gt;(initialCapacity);\n}\n...\n/**\n * The Object array representation of this collection\n * @return an Object array in insertion order\n */\n@Override\npublic Object[] toArray() {  // warning is on this line for the toArray() method\n    return list.toArray();\n}\n</code></pre>\n\n<p>EDIT: I have these additional constructors in the class:</p>\n\n<pre><code>public ListHashSet(int initialCapacity) {\n    this(initialCapacity, .75f);\n}\n\npublic ListHashSet() {\n    this(16, .75f);\n}\n</code></pre>\n"},{"comments":[{"comment_id":100040695,"body":"can&#39;t you get the bytes by <code>request.body().toString().getBytes()</code>?"},{"comment_id":100045552,"body":"@ThomasAndolf no, because it returns a BodyInserter which is not the actual body. See: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html#body--\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"comment_id":112678495,"body":"Is it possible now?"},{"comment_id":112681039,"body":"Not that I know of. I worked it around by serializing request body and calculating signing headers before sending the request."},{"comment_id":112752029,"body":"Can you send a snippet code?"},{"comment_id":134065880,"body":"I know this question is quite outdated but, anyone has a breakthrough on this issue?"},{"comment_id":134570909,"body":"@bsferreira You can see my answer"}],"answers":[{"answer_id":76306384,"body":"<p>I came with the following solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.springframework.util.MultiValueMapAdapter\nimport org.springframework.web.reactive.function.client.ClientRequest\nimport reactor.core.publisher.Mono\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider\nimport software.amazon.awssdk.auth.signer.Aws4Signer\nimport software.amazon.awssdk.auth.signer.AwsSignerExecutionAttribute\nimport software.amazon.awssdk.core.interceptor.ExecutionAttributes\nimport software.amazon.awssdk.http.SdkHttpFullRequest\nimport software.amazon.awssdk.http.SdkHttpMethod\nimport software.amazon.awssdk.regions.Region\nimport java.util.function.Function\n\nclass WebClientAwsSigner(\n    private val body: String? = null,\n    private val signer: Aws4Signer,\n    private val awsCredentialsProvider: AwsCredentialsProvider,\n    private val serviceName: String,\n    private val region: Region,\n) : Function&lt;ClientRequest, Mono&lt;ClientRequest&gt;&gt; {\n\n    override fun apply(request: ClientRequest): Mono&lt;ClientRequest&gt; {\n        val requestBuilder = SdkHttpFullRequest.builder()\n            .method(SdkHttpMethod.fromValue(request.method().name()))\n            .uri(request.url())\n            .apply {\n                if (body != null) {\n                    contentStreamProvider { body.byteInputStream() }\n                }\n            }\n            .headers(request.headers())\n\n        val attributes = ExecutionAttributes()\n        attributes.putAttribute(\n            AwsSignerExecutionAttribute.AWS_CREDENTIALS,\n            awsCredentialsProvider.resolveCredentials(),\n        )\n        attributes.putAttribute(AwsSignerExecutionAttribute.SERVICE_SIGNING_NAME, serviceName)\n        attributes.putAttribute(AwsSignerExecutionAttribute.SIGNING_REGION, region)\n\n        val signedAwsRequest = signer.sign(requestBuilder.build(), attributes)\n        val signedClientRequest =\n            ClientRequest.from(request)\n                .headers {\n                    it.clear()\n                    it.addAll(MultiValueMapAdapter(signedAwsRequest.headers()))\n                }\n                .build()\n\n        return Mono.just(signedClientRequest)\n    }\n}\n\n    private fun signedAwsWebClient(body: String? = null): WebClient = webclient\n        .mutate().filter(\n            ExchangeFilterFunction.ofRequestProcessor(\n                WebClientAwsSigner(body, Aws4Signer.create(), DefaultCredentialsProvider.create(), &quot;es&quot;, Region.US_EAST_1),\n            ),\n        )\n        .build()\n</code></pre>\n<p>GitHub: <a href=\"https://github.com/kkocel/webclient-signed-request-to-aws\" rel=\"nofollow noreferrer\">https://github.com/kkocel/webclient-signed-request-to-aws</a></p>\n"}],"last_activity_date":1684759855,"question_id":56725692,"body":"<p>I would like to <a href=\"https://docs.aws.amazon.com/general/latest/gr/signing_aws_api_requests.html\" rel=\"noreferrer\">AWS sign</a> my HTTP request fired by reactive <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"noreferrer\">WebClient</a> of Spring. To sign the request I need access to the followings: URL, HTTP method, query parameters, headers and request body bytes.</p>\n\n<p>I started with writing an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a>. Due to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ClientRequest.html\" rel=\"noreferrer\">ClientRequest</a> interface I can access everything there I need, except the request body:</p>\n\n<pre><code>@Component\npublic class AwsSigningInterceptor implements ExchangeFilterFunction\n{\n    private final AwsHeaderSigner awsHeaderSigner;\n\n    public AwsSigningInterceptor(AwsHeaderSigner awsHeaderSigner)\n    {\n        this.awsHeaderSigner = awsHeaderSigner;\n    }\n\n    @Override\n    public Mono&lt;ClientResponse&gt; filter(ClientRequest request, ExchangeFunction next)\n    {\n        Map&lt;String, List&lt;String&gt;&gt; signingHeaders = awsHeaderSigner.createSigningHeaders(request, new byte[]{}, \"es\", \"us-west-2\"); // should pass request body bytes in place of new byte[]{}\n\n        ClientRequest.Builder requestBuilder = ClientRequest.from(request);\n\n        signingHeaders.forEach((key, value) -&gt; requestBuilder.header(key, value.toArray(new String[0])));\n\n        return next.exchange(requestBuilder.build());\n    }\n}\n</code></pre>\n\n<p>In older spring versions we used <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"noreferrer\">RestTemplate</a> with a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/http/client/ClientHttpRequestInterceptor.html\" rel=\"noreferrer\">ClientHttpRequestInterceptor</a>. In that case the bytes of the body were exposed, so signing was possible.</p>\n\n<p>As I see in case of <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/WebClient.html\" rel=\"noreferrer\">WebClient</a> Spring handles the body as a <a href=\"https://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/org/reactivestreams/Publisher.html\" rel=\"noreferrer\">Publisher</a>, so I'm not sure if an <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/reactive/function/client/ExchangeFilterFunction.html\" rel=\"noreferrer\">ExchangeFilterFunction</a> is a good place to start. </p>\n\n<p>How should I sign the HTTP request?</p>\n"},{"comments":[{"comment_id":133704824,"body":"thanks . it won&#39;t change anything , already downgraded to node@18"}],"answers":[{"answer_id":75795839,"body":"<p>Node 19 is experimental and not officially supported (by Node or Firebase):</p>\n<p><a href=\"https://github.com/firebase/firebase-tools/issues/5608\" rel=\"nofollow noreferrer\">https://github.com/firebase/firebase-tools/issues/5608</a></p>\n<p>Please downgrade to 18 and reply if you're still having issues.</p>\n"},{"answer_id":75796851,"body":"<p>You can use docker for that its more a clean way, Im use this image\n<a href=\"https://hub.docker.com/r/spine3/firebase-emulator\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/spine3/firebase-emulator</a></p>\n"},{"answer_id":75820160,"body":"<p>Downgrading the version helped me, as Chris.</p>\n<p>Also, for everything to work, you need to delete the cache, in my case, it is the path &quot;/Users/dmitroserdun/.cache/firebase&quot;</p>\n"},{"answer_id":76114187,"body":"<p>It worked for me to downgrade to Node.js <code>v18.15.0</code>. I've had <code>v18.16.0</code> installed before.\n<a href=\"https://nodejs.org/dist/v18.15.0/\" rel=\"nofollow noreferrer\">https://nodejs.org/dist/v18.15.0/</a></p>\n"},{"answer_id":76306371,"body":"<p>Answers above, note the combination of:</p>\n<ul>\n<li>Downgrade to Node.js v18.15.0</li>\n<li>Delete cache (on Windows /Users/user/.cache/firebase)</li>\n</ul>\n"}],"last_activity_date":1684759761,"question_id":75794346,"body":"<p>Hello everybody: i can't launch my emulators , firebase init ok , ports ok , the problem seems to come from the ui . Anybody could help me ?</p>\n<pre><code>(base) jean-charlesdubien@airdejencharles firebase-demo-project % firebase emulators:start\ni  emulators: Starting emulators: auth, functions, firestore, hosting, storage\n⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: database, pubsub\ni  firestore: Firestore Emulator logging to firestore-debug.log\n✔  firestore: Firestore Emulator UI websocket is running on 9150.\ni  hosting[flutter-ultimate-ae8a4]: Serving hosting files from: public\n✔  hosting[flutter-ultimate-ae8a4]: Local server: http://127.0.0.1:5002/\ni  ui: Emulator UI logging to ui-debug.log\n⚠  ui: Fatal error occurred: \n   Emulator UI has exited with code: 1, \n   stopping all running emulators\ni  ui: Stopping Emulator UI\n⚠  ui: Error stopping Emulator UI\ni  functions: Stopping Functions Emulator\ni  hosting: Stopping Hosting Emulator\ni  firestore: Stopping Firestore Emulator\ni  auth: Stopping Authentication Emulator\ni  storage: Stopping Storage Emulator\ni  eventarc: Stopping Eventarc Emulator\ni  hub: Stopping emulator hub\ni  logging: Stopping Logging Emulator\n</code></pre>\n<p>Node @19 then downgraded unsuccesfully. java jre19 mac M1 , tried on rosetta and M1 terminal</p>\n<p>Thank you</p>\n<p>downgrade node from 19 to 16\nretry init and download emulators\ntry from terminal M1 and rosetta .</p>\n<p>EDIT : mode -- debug</p>\n<p>Node.js v18.15.0\n{&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;/Users/jean-charlesdubien/.cache/firebase/emulators/ui-v1.11.4/server/server.js:569\\n        re&quot;use strict&quot;;\\n          ^^^^^^^^^^^^\\n\\nSyntaxError: Unexpected string\\n    at internalCompileFunction (node:internal/vm:73:18)\\n    at wrapSafe (node:internal/modules/cjs/loader:1176:20)\\n    at Module._compile (node:internal/modules/cjs/loader:1218:27)\\n    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)\\n    at Module.load (node:internal/modules/cjs/loader:1117:32)\\n    at Module._load (node:internal/modules/cjs/loader:958:12)\\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)\\n    at node:internal/main/run_main_module:23:47\\n\\nNode.js v18.15.0\\n&quot;}}\n⚠  ui: Fatal error occurred:\nEmulator UI has exited with code: 1,\nstopping all running emulators {&quot;metadata&quot;:{&quot;emulator&quot;:{&quot;name&quot;:&quot;ui&quot;},&quot;message&quot;:&quot;Fatal error occurred: \\n   Emulator UI has exited with code: 1, \\n   stopping all running emulators&quot;}}</p>\n"},{"comments":[{"comment_id":134552878,"body":"A performance function for problem actually has three variables: A = the number of occurrences, B = length of str1, C = length of str2.  Which of these is your N?"},{"comment_id":134552906,"body":"Anyway, your conclusion that <code>indexOf</code> is <code>O(N)</code> time complexity is incorrect ... depending on which overload of <code>indexOf</code> you use and what <code>N</code> is.   And you shouldn&#39;t be using <code>substring</code> at all."},{"comment_id":134552947,"body":"Yes, KMP is a good choice for this problem"},{"comment_id":134553060,"body":"The input data that makes this an interesting problem is one with overlap. So, not <code>abc</code>. Try doing this exercise for inputs: str1: <code>ana</code> str2: <code>banananas</code>. The correct answer is presumably [1, 3, 5]. A simple forward search will fail and answer [1, 5]. Yes, this can be done in O(N). Keep track of how &#39;far&#39; into the needle string you are, once you get to the end - you found an index. The trick is in how you &#39;reset&#39; the count when your algorithm concludes (either found a match, or knows there is no match). You can&#39;t just reset that to 0; you might be halfway to a new match already."},{"comment_id":134553269,"body":"You can iterate over a <code>str2.toCharArray</code>, and utilize a few local variables to determine if there are occurrences of <code>str1</code> within the array.  Would this not be O(n)?"},{"comment_id":134554063,"body":"<i>&quot;Can KMP algorithm work here?&quot;</i>: is this a yes/no question?"}],"answers":[{"comments":[{"comment_id":134554726,"body":"I think it has the time complexity of O(m*n) since we are moving indexA to check we have found the stringA in stringB where m is the length of stringA and n is of stringB"}],"answer_id":76302729,"body":"<p>I was able to get the following algorithm to render.</p>\n<p>Correct me if I'm wrong; I believe this is an example of O(n) complexity.<br />\nAs for a KMP algorithm, I'm unsure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; firstMatchingIndexes(String stringA, String stringB) {\n    List&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\n    boolean checking = false;\n    int indexA = 0, indexB = 0;\n    for (char character : stringB.toCharArray()) {\n        if (checking) {\n            if (character == stringA.charAt(indexA))\n                if (indexA != stringA.length() - 1)\n                    indexA++;\n                else {\n                    indices.add(indexB - (stringA.length() - 1));\n                    checking = false;\n                    indexA = 0;\n                }\n            else {\n                checking = false;\n                indexA = 0;\n            }\n        } else if (character == stringA.charAt(indexA)) {\n            checking = true;\n            indexA++;\n        }\n        indexB++;\n    }\n    return indices;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[0, 5, 12]\n</code></pre>\n"},{"comments":[{"comment_id":134559272,"body":"Glad to have been of help! If you want you could <a href=\"http://stackoverflow.com/help/someone-answers\">mark the answer as accepted</a>, but it is completely optional :-)"}],"answer_id":76304970,"body":"<p>Yes, the Knuth–Morris–Pratt algorithm can be of use here.</p>\n<p>The Wikipedia article on the <a href=\"https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm#Description_of_pseudocode_for_the_search_algorithm\" rel=\"nofollow noreferrer\">Knuth–Morris–Pratt algorithm</a> provides pseudocode for the algorithm. Here is that pseudocode ported to Java:</p>\n<pre><code>    static int[] kmpTable(String pattern) {\n        int n = pattern.length();\n        int[] partialMatchTable = new int[n+1];\n        int j = 0;\n\n        partialMatchTable[0] = -1;\n\n        for (int i = 1; i &lt; n; i++, j++) {\n            if (pattern.charAt(i) == pattern.charAt(j)) {\n                partialMatchTable[i] = partialMatchTable[j];\n            } else {\n                partialMatchTable[i] = j;\n                while (j &gt;= 0 &amp;&amp; pattern.charAt(i) != pattern.charAt(j)) {\n                    j = partialMatchTable[j];\n                }\n            }\n        }\n        partialMatchTable[n] = j;\n        return partialMatchTable;\n    }\n \n    static List&lt;Integer&gt; kmpSearch(String needle, String haystack) {\n        List&lt;Integer&gt; matches = new ArrayList&lt;&gt;();\n        int m = haystack.length();\n        int n = needle.length();\n        if (n &gt; m) { // Added this to avoid O(m) runtime\n            return matches; // Return empty list when needle is too large\n        }\n        int[] partialMatchTable = kmpTable(needle);\n        int j = 0, k = 0;\n\n        while (j &lt; m) {\n            if (needle.charAt(k) == haystack.charAt(j)) {\n                j++;\n                k++;\n                if (k == n) {\n                    matches.add(j - k);\n                    k = partialMatchTable[k];\n                }\n            } else {\n                k = partialMatchTable[k];\n                if (k &lt; 0) {\n                    j++;\n                    k++;\n                }\n            }\n        }\n        return matches;\n    }\n\n    public static void main(String args[])\n    {\n        System.out.println(&quot;matches: &quot; + kmpSearch(&quot;abc&quot;, &quot;abckdabcgfacabc&quot;));\n    }\n</code></pre>\n<p>This outputs:</p>\n<pre class=\"lang-none prettyprint-override\"><code>matches: [0, 5, 12]\n</code></pre>\n<p>Wikipedia says about the time complexity:</p>\n<blockquote>\n<p>the Knuth–Morris–Pratt algorithm has complexity O(𝑛), where 𝑛 is the length of 𝑆.</p>\n</blockquote>\n<p>And when taking into account the time needed for building the partial-match table for a pattern of length 𝑘:</p>\n<blockquote>\n<p>Since the two portions of the algorithm have, respectively, complexities of O(𝑘) and O(𝑛), the complexity of the overall algorithm is O(𝑛 + 𝑘).</p>\n</blockquote>\n<p>We can however say it is O(𝑛) when 𝑘 ≤ 𝑛. When searching with a pattern that is longer than the string to search in, the algorithm could just skip building the partial match table for such a search string and exit with an empty list (See commented code that is not present in Wikipedia's pseudocode). That way it is always O(𝑛).</p>\n"}],"last_activity_date":1684759650,"question_id":76302458,"body":"<p>Given are two strings : str1 and str2. Find all the starting indexes of str1 in str2. Example:\nI/p = str1: abc, str2: abckdabcgfacabc\nO/p = [0, 5, 12]</p>\n<pre><code>public static List&lt;Integer&gt; firstMatchingIndexes(String str1, String str2) {\n    List&lt;Integer&gt; indexes = new ArrayList&lt;&gt;();\n    int end = 0, n = str2.length();\n    \n    for(; end&lt;n; end++) {\n        int index = str2.substring(end, n).indexOf(str1)+end;\n        if(index!=-1)\n            indexes.add(index);\n        else\n            break;\n        end =index + str1.length()-1;\n        \n    }\n    \n    return indexes;\n}\n</code></pre>\n<p>But this approach uses indexOf() which internally has O(N) time complexity. Can KMP algorithm work here?</p>\n"},{"comments":[{"comment_id":116232975,"body":"what I meant, Is it good practice or not"},{"comment_id":116240511,"body":"Please provide a code sample of what you have tried."},{"comment_id":116244897,"body":"actually Iam not tried yet in Modal Class ,I just want to know it&#39;s good practice or not, My need is that I want to validate the field satisfy my equation before saving object to database"},{"comment_id":116244965,"body":"consider I have a Modal class named AA and fields are A ,B ,C .If it is valid C=A+B like that validation actually I need. And Need this to satisfy before saving to DB"}],"answers":[{"answer_id":65745842,"body":"<p>I would recommend to avoid this by the following reasons:</p>\n<ol>\n<li>You lose separation of concern between model and model validation logic. Especially if validation touches only a few fields. Adding/modifying fields and modifying validation logic at the same time should not cause the code change conflict.</li>\n<li>You make it much harder for testing (static variables are evil for testing).</li>\n<li>You violate &quot;inversion of control&quot; principle. You will have bad time when you need to replace validation implementation in a flexible way.</li>\n</ol>\n<p>What you can probably do is adding <a href=\"https://www.baeldung.com/spring-mvc-custom-validator\" rel=\"nofollow noreferrer\">custom validation annotation</a> to the model.\nThis validation will be executed by spring bean that implements some spec.\nThis way you don't have above issues but still you can keep validation rule (without implementation details) on the model class.</p>\n"},{"answer_id":76306350,"body":"<p>No it is not a good to place java static factory method in Spring Model Class to validate fields.</p>\n<p>This is a functionality, which have nothing to do with Model class. The purpose of model classes is to map SQL table data (or NoSQL data) to java POJO called Entity. Do not place any functionality there.</p>\n<p>Validation process is a functionality, thus it is the best to place it into Service layer within Spring bean like @Service or @Component.</p>\n<p>The less efficient method for validation is to use annotations on POJO attributes. Though those POJOs are should not be Entities, but Data Transfer Objects and they have to map incoming request data. I consider this not as good as to place validation in Spring beans because validation with annotations have limited functionality, and makes functional code placed in few places. Some of validation code will be at the DTO annotations and some validation within bean (Service). This is harder to read and maintain, then have everything in spring Service bean.</p>\n"}],"last_activity_date":1684759585,"question_id":65739693,"body":"<p>Is it good to use java static factory method in Spring Model Class for validate field with some kind of equation</p>\n"},{"comments":[{"comment_id":134559323,"body":"This should not be called a tree. It is a directed cyclic graph."},{"comment_id":134559367,"body":"You can use a standard breadth-first-search algorithm: as soon as the target node is found you have the shortest path to it, which will not have a redundant cycle."},{"comment_id":134561595,"body":"@trincot Thanks for that.  Breadth-first-search algorithm .. ill look into that."}],"last_activity_date":1684759365,"question_id":76305552,"body":"<p>I have a slightly odd query.  A project I am working on, which because of a confidentiality clause I am limited in what I can say about it, employs the following style of node tree:</p>\n<p><a href=\"https://i.stack.imgur.com/ccJoR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ccJoR.jpg\" alt=\"Node tree with repetition\" /></a></p>\n<p>This six-level drawing is a small sample of the 69 level full tree.  Traversing and recording the routes through the tree to get from A to K for example is common practice where there is no repetition, and doesn't cause any problems.  However, at several places in the tree we have a situation where the exit from one node connects back to an earlier node in the tree.  Think of route mapping within Sat Nav software for a more visual example.</p>\n<p>So there are valid links from A to S as well as F to N and from A to P as well as E to I for example. There are legal and illegal routes. For example in the case of A to S, it could go A,C,F,M,S and A,C,F,M,C,F,M,S (the latter is invalid as there is repetition that isn't needed).  To be clear, Not all routes through the tree necessarily start at A.</p>\n<p>My query is how to detect the un-necessary repetition (ie illegal routes) and what is the most economical way of traversing the tree to record the routes.  The time to traverse is not a major consideration, as the tree will be traversed and the legal routes recorded in multi-dimensional arrays.  It will only be re-run if the node links change (which could potentially be every three to four months).</p>\n<p>Can anyone offer any thoughts on the most effective and efficient way to do this?  The software is being programmed in Java for reference.</p>\n"},{"comments":[{"comment_id":134557613,"body":"It is the same: <i>MySQL Connector/J artifacts moved to reverse-DNS compliant Maven 2+ coordinates.</i>"},{"comment_id":134557719,"body":"The second one is the correct/current one. The first one is outdated. It will be updated on Maven but for a limited time only. Check here: <a href=\"https://blogs.oracle.com/mysql/post/mysql-connectorj-has-new-maven-coordinates\" rel=\"nofollow noreferrer\">blogs.oracle.com/mysql/post/&hellip;</a>"}],"last_activity_date":1684758565,"question_id":76305054,"body":"<p>What is difference between these two Maven dependencies for connecting to MySQL DB:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134559034,"body":"Files do not technically exist within Jar files, and you will want to retrieve this data as a <i>resource</i> not as a <i>File</i>. This same question has been asked many times on this and on other sites, and I invite you to check out some of these as per this link to a Google search: <a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+java+reading+file+in+jar\" rel=\"nofollow noreferrer\">site:stackoverflow.com java reading file in jar</a>"}],"last_activity_date":1684758551,"question_id":76306187,"body":"<p>So, i have done a project in Netbeans gui builder and there are few files i created. But when i run the  java file in netbeans it works fine i can read the file using FileInputStream but when i build the project in jar file the program is unable to find the path.</p>\n<pre><code>file = new FileInputStream(&quot;com\\\\ZXY\\\\Assets\\\\MySQLConfig.Object&quot;);\nin = new ObjectInputStream(file);\n// Method for deserializfation of object\nHashMap&lt;String, String&gt; MySQLConfig = (HashMap&lt;String, String&gt;in.readObject();\n</code></pre>\n<p>so this code is inside com.ZYX.ABC.main();<br />\nand the object is inside com.ZYX.Assets</p>\n<p>So I just want to know how can my program access to this object.</p>\n"},{"comments":[{"comment_id":134559529,"body":"Do yourself a favour and don&#39;t even think about using the ancient <code>sp_OA</code> procedures, they are buggy and full of issues. Instead use Python, Java or C# or Powershell to get the data from SQL Server and send it. The table variable seems unnecessary, you can just do <code>SELECT (SELECT id, test FROM test_table FOR JSON PATH)</code>"},{"comment_id":134560114,"body":"You can&#39;t &quot;call&quot; sql server procedures as if it were a rest api, you have to go through the old boring jdbc. What you should do is to create an API server between your app and sql server, this server can act as API endpoint, and then call your database by jdbc from the API server and return json as results"}],"last_activity_date":1684758379,"question_id":76306192,"body":"<p>I am currently working on my Android app. To receive data, that is required to run my app, I made a rest API for my app. I used the newest version of Okhttp3. Here's the classes and methods I created:</p>\n<p>MainActivity:</p>\n<pre><code>package com.example.test3;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.chaquo.python.PyObject;\nimport com.chaquo.python.Python;\nimport com.chaquo.python.android.AndroidPlatform;\nimport com.google.gson.Gson;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.w3c.dom.Text;\n\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.Response;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button button;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        init();\n        //displayQuote();\n        button = findViewById(R.id.button);\n        button.setOnClickListener(v -&gt; receiveData());\n    }\n    public void init(){\n        if (! Python.isStarted()) {\n            Python.start(new AndroidPlatform(this));\n        }\n    }\n\n    public void receiveData() {\n        TextView text1 = findViewById(R.id.text1);\n        TextView text2 = findViewById(R.id.text2);\n\n        APIManager apiManager = new APIManager();\n        String url = &quot;http://ip_address:1433/test&quot;;\n\n        apiManager.fetchData(url, new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if (response.isSuccessful()) {\n                    assert response.body() != null;\n                    String responseData = response.body().string();\n\n                    try {\n                        JSONObject json = new JSONObject(responseData);\n                        String jsonResponse = json.optString(&quot;response&quot;);\n\n                        JSONArray jsonArray = new JSONArray(jsonResponse);\n                        if (jsonArray.length() &gt; 0) {\n                            JSONObject jsonObject = jsonArray.getJSONObject(0);\n                            String id = jsonObject.optString(&quot;id&quot;);\n                            String test = jsonObject.optString(&quot;test&quot;);\n\n                            runOnUiThread(() -&gt; {\n                                text1.setText(id);\n                                text2.setText(test);\n                            });\n                        } else {\n                            runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Brak danych&quot;, Toast.LENGTH_SHORT).show());\n                        }\n                    } catch (JSONException e) {\n                        e.printStackTrace();\n                        runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd przetwarzania danych JSON&quot;, Toast.LENGTH_SHORT).show());\n                    }\n                } else {\n                    runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Błąd pobierania danych&quot;, Toast.LENGTH_SHORT).show());\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>APIManager:</p>\n<pre><code>package com.example.test3;\n\nimport androidx.annotation.NonNull;\n\nimport okhttp3.*;\nimport java.io.IOException;\n\n\npublic class APIManager {\n    private OkHttpClient client = new OkHttpClient();\n\n    public void fetchData(String url, final okhttp3.Callback callback){\n        Request request = new Request.Builder().url(url).build();\n\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                e.printStackTrace();\n                callback.onFailure(call, e);\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                if (response.isSuccessful()){\n                    String responseData = response.body().string();\n                    callback.onResponse(call, response);\n                } else {\n                    callback.onFailure(call, new IOException(&quot;Request failed: &quot;+ response));\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>TestTable:</p>\n<pre><code>package com.example.test3;\n\npublic class TestTable {\n    private int id;\n    private String test;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTest() {\n        return test;\n    }\n\n    public void setTest(String test) {\n        this.test = test;\n    }\n}\n</code></pre>\n<p>As you can notice, my code is simply a testfield, I tried some other solutions, but the solution I want to proceed seems to be the best.</p>\n<p>I also created a procedure for my database, that is meant to receive HTTP requests from REST API from my app and send him a response. Here's the query:</p>\n<pre><code>CREATE PROCEDURE [dbo].[ListenAndSendRequest]\nAS\nBEGIN\n    DECLARE @url NVARCHAR(200) = 'http://ip_address:1433/test'\n    \n    DECLARE @requestBody NVARCHAR(MAX) = ''\n    DECLARE @response NVARCHAR(MAX)\n    DECLARE @httpStatus INT\n    DECLARE @data TABLE (id INT, test NVARCHAR(100))\n    INSERT INTO @data (id, test)\n    SELECT id, test FROM test_table\n\n    SET @requestBody = (\n        SELECT id, test\n        FROM @data\n        FOR JSON PATH\n    )\n\n    DECLARE @httpObj INT\n    EXEC sp_OACreate 'MSXML2.ServerXMLHTTP', @httpObj OUT\n\n    EXEC sp_OAMethod @httpObj, 'open', NULL, 'POST', @url, 'false'\n\n    EXEC sp_OAMethod @httpObj, 'setRequestHeader', NULL, 'Content-Type', 'application/json'\n    \n    EXEC sp_OAMethod @httpObj, 'send', NULL, @requestBody\n\n    EXEC sp_OAMethod @httpObj, 'responseText', @response OUTPUT\n\n    EXEC sp_OAMethod @httpObj, 'status', @httpStatus OUTPUT\n\n    PRINT 'Response: ' + @response\n    PRINT 'HTTP Status: ' + CAST(@httpStatus AS NVARCHAR(10))\n\n    EXEC sp_OADestroy @httpObj\nEND\n\n</code></pre>\n<p>I will be honest, I can't really say if this procedure listens to the HTTP requests. I am still learning.</p>\n<p>There are no crashes occurred, whenever I run the app. But when I click the button, that is meant to display the data from my database, my logcat displays a warning. Here's the warning I am talking about:</p>\n<pre><code>java.io.IOException: unexpected end of stream on http://ip_address:1433/...\n\nCaused by: java.io.EOFException: \\n not found: limit=0 content=…\n</code></pre>\n<p>It's  also worth to mention, that I run my app on physical device.</p>\n<p>Every suggestion is appreciated, thanks!</p>\n"},{"answers":[{"comments":[{"comment_id":121458421,"body":"the command shows an existing key, the other one is the one that can create a new key, however as I wrote, creating a new key and placing it inside &quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot; did not work."}],"answer_id":68726283,"body":"<p>Take the key generate from</p>\n<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p>And put it in:</p>\n<pre><code>&quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;\n</code></pre>\n"},{"answer_id":71746145,"body":"<p>You might have changed the format for the debug.keystore</p>\n<p>if that's the case you should have a backup automatically created by keytool in at <code>.android/debug.keystore.old</code>.</p>\n"},{"answer_id":76306149,"body":"<p>I had the same problem. Resolved by removing the keystore <code>.android/debug.keystore</code> and run the application again.</p>\n"}],"last_activity_date":1684758084,"question_id":68726096,"body":"<p>The error is:</p>\n<pre><code>Running Gradle task 'assembleDebug'...\n\n* What went wrong:\nExecution failed for task ':app:packageDebug'.\n&gt; A failure occurred while executing com.android.build.gradle.tasks.PackageAndroidArtifact$IncrementalSplitterRunnable\n   &gt; com.android.ide.common.signing.KeytoolException: Failed to read key AndroidDebugKey from store &quot;C:\\Users\\tavo_\\.android\\debug.keystore&quot;: Invalid keystore format\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n</code></pre>\n<p>Due to this error I thought the problem was my debug.keystore so I created a new one with the command</p>\n<pre><code>keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\n\n</code></pre>\n<p>But this didn't fix the problem. It's also worth knowing that this problem (I think at least) started when I was trying to get the SHA certificate fingerprints for my project in firebase. However the command:</p>\n<pre><code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore\n</code></pre>\n<p>did not work at first, it gave me another command as solution, I ran it and it worked, I got the SHA certificate and I continued with the development of the app without running the app on an android emulator or a physical device because I was coding the auth logic.</p>\n<p>I think the cause of this problem might be related to the command I ran (which I have not saved nor remember) but I have no idea how to solve it.</p>\n<p>This problem is presented in all my flutter apps, the ones I already had created and the ones I create.</p>\n<p>This is my log for <code>flutter doctor -v</code>. I'm putting this just in case, because I don't think the problem is with the flutter SDK.</p>\n<pre><code>[√] Flutter (Channel stable, 2.2.3, on Microsoft Windows [Version 10.0.19042.1110], locale en-GB)\n    • Flutter version 2.2.3 at C:\\Flutter\\flutter_windows_1.22.6-stable\\flutter\n    • Framework revision f4abaa0735 (6 weeks ago), 2021-07-01 12:46:11 -0700\n    • Engine revision 241c87ad80\n    • Dart version 2.13.4\n\n[√] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n    • Android SDK at C:\\Users\\tavo_\\AppData\\Local\\Android\\sdk\n    • Platform android-31, build-tools 31.0.0\n    • Java binary at: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n    • All Android licenses accepted.\n\n[X] Chrome - develop for the web (Cannot find Chrome executable at .\\Google\\Chrome\\Application\\chrome.exe)\n    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.\n\n[√] Android Studio (version 4.1.0)\n    • Android Studio at C:\\Program Files\\Android\\Android Studio\n    • Flutter plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n       https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 1.8.0_242-release-1644-b01)\n\n[√] IntelliJ IDEA Community Edition (version 2020.3)\n    • IntelliJ at C:\\Users\\tavo_\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-C\\ch-0\\203.7148.57\n    • Flutter plugin version 59.0.2\n    • Dart plugin version 203.8292\n\n[√] VS Code (version 1.58.2)\n    • VS Code at C:\\Users\\tavo_\\AppData\\Local\\Programs\\Microsoft VS Code\n    • Flutter extension version 3.25.0\n\n[√] Connected device (1 available)\n    • Edge (web) • edge • web-javascript • Microsoft Edge 92.0.902.67\n\n! Doctor found issues in 1 category.\n\n</code></pre>\n"},{"answers":[{"answer_id":76306145,"body":"<p>Can you create a SQL View or even Materialized View in your DB?<br>\nThen you can have an entity (over your view) to support JPA Interface-based Projections.<br>\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections.interfaces</a></p>\n<p>With Spring Data you can query Materialized View same way as a table.<br>\nAnd I would respect separation of concerns and create a @Component<br>\nto map an Entity to desired business object (Dto).</p>\n"}],"last_activity_date":1684758058,"question_id":76298050,"body":"<p>It seems I can't invoke a constructor inside another constructor in a JPQL query, like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypedQuery&lt;QuestionCommentResponseDto&gt; = entityManager.createQuery(&quot;&quot;&quot;\n            SELECT new QuestionCommentResponseDto (\n            qc.id, q.id, qc.createdDate, qc.modifiedDate, qc.text, new AccountResponseDto(\n                a.id, a.username\n                )\n            ) FROM QuestionComment qc JOIN FETCH Question q JOIN FETCH Account a\n            WHERE qc.id = :id\n        &quot;&quot;&quot;, QuestionCommentResponseDto.class)\n</code></pre>\n<p><strong>How am I supposed to achieve the same effect then in the most efficient way possible?</strong> Subqueries like <code>qc.text, (SELECT new AccountResponseDto(a.id, a.username)</code> don't work too (the part after <code>qc.text</code> is problematic). The IDE says</p>\n<blockquote>\n<p>'(', , FUNCTION or identifier expected, got '('\nShould I simply query for one DTO and then for another?</p>\n</blockquote>\n<p>A bit of context</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public Optional&lt;QuestionCommentResponseDto&gt; getByQuestionCommentId(Long questionCommentId) {\n    // the query goes here\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// I can make it a regular class if it's necessary\npublic record QuestionCommentResponseDto(Long id, Long questionId, LocalDateTime createdDate,\n                                         LocalDateTime modifiedDate, String text, AccountResponseDto owner) {}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Entity\n@EntityListeners(AuditingEntityListener.class)\n@Table(name = &quot;question_comments&quot;)\npublic class QuestionComment {\n\n    @Setter(AccessLevel.NONE)\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true, nullable = false, updatable = false)\n    private Long id;\n\n    @Setter(AccessLevel.NONE)\n    @NotNull\n    @CreatedDate\n    @Column(name = &quot;created_date&quot;, nullable = false)\n    private LocalDateTime createdDate;\n\n    @Setter(AccessLevel.NONE)\n    @NotNull\n    @LastModifiedDate\n    @Column(name = &quot;modified_date&quot;, nullable = false)\n    private LocalDateTime modifiedDate;\n\n    @NotBlank\n    @Column(name = &quot;text&quot;, nullable = false)\n    private String text;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;account_id&quot;, nullable = false, updatable = false)\n    private Account owner; // includes the fields id and username\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;question_id&quot;, nullable = false, updatable = false)\n    private Question question; // includes the id field\n</code></pre>\n<p>If I omitted some important parts of code, please let me know (it seems to me, no code is needed at all in this case since it's not a debugging question)</p>\n"},{"comments":[{"comment_id":87024163,"body":"Think about this.. UUID in binary(16) is better for performance."},{"comment_id":87024267,"body":"You got result &#161;7&#244;&#225;&#223;EN&#185;&#186;}&#197;&#209;s from console or any GUI tool?"},{"comment_id":87024345,"body":"check this: <a href=\"https://stackoverflow.com/questions/43394039/modeling-uuid-in-hibernate-entity-against-mysql\" title=\"modeling uuid in hibernate entity against mysql\">stackoverflow.com/questions/43394039/&hellip;</a>"},{"comment_id":87024434,"body":"Why save it in an inefficient format? Just use <code>BIN_TO_UUID(id)</code> when you need to actually look at the table."},{"comment_id":87024563,"body":"@dkb I copy pasted that value from mysql table."},{"comment_id":87024570,"body":"@RaymondNijland yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?"},{"comment_id":87024701,"body":"<code>BIN_TO_UUID(id)</code> will only work in MySQL 8.0 @RealSkeptic"},{"comment_id":87025241,"body":"&quot;yes I agree to that, but is there a way for just representing UUID in string in tables and use it as UUID object in java ?&quot; if you use MySQL 5.7+ you can use a generated column to generate a human readable UUID from the binary id column -&gt; <a href=\"https://dev.mysql.com/doc/refman/5.7/en/create-table-generated-columns.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/&hellip;</a> .. or use a basic view if you don&#39;t have MySQL 5.7+"}],"answers":[{"comments":[{"comment_id":89828971,"body":"Could you explain your answer a little?"},{"comment_id":89859214,"body":"@ficuscr I&#39;ve added explanation"}],"answer_id":51427966,"body":"<p>just use \n<code>@org.hibernate.annotations.Type(type=\"uuid-char\")</code></p>\n\n<p>There is three levels of data types:<br>\n- Java types<br>\n- Hibernate's types<br>\n- Database Specific types.  </p>\n\n<p>Hibernate data type presentation is a bridge between Java data type and Database types to be independent from database. </p>\n\n<p>You can check this <a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#basic\" rel=\"noreferrer\">mappings</a>. \nAs you can find there <code>java.util.UUID</code> can be mapped to diferent types (binary or char/varchar). <code>uuid-binary</code> is key to hibernate's UUIDBinaryType, you get this type by default and it will be mapped to <code>BINARY</code> of your database.  </p>\n\n<p>If you want to get CHAR type under your UUID, you should explain to hibernate that you want his <code>UUIDCharType</code>. To do that you use <code>uuid-char</code> key and as you can check in JavaDoc of @Type annotation: <code>Defines a Hibernate type mapping.</code>. So, you use annotation to explain hibernate which bridge it should use.</p>\n"},{"answer_id":71183520,"body":"<p>I had the same problem in my last project (<strong>spring-boot:2.5.3</strong> + <strong>mariaDB</strong>).<br />\nSo I added the following annotation <code>@Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)</code> to fix it.</p>\n<pre><code>import org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Type;\n\nimport javax.persistence.*;\nimport java.util.UUID;\n/** imports */\n\n@Entity()\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n    @Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)\n    @Type(type = &quot;org.hibernate.type.UUIDCharType&quot;)\n    private UUID uuid;\n\n   /** ... */\n}\n\n</code></pre>\n<p>The purpose of the hibernate annotation <code>@Type</code> is to define the type of data stored in database and it's compatible with the previous line <code>@Column(name = &quot;uuid&quot;, columnDefinition = &quot;char(36)&quot;)</code></p>\n<blockquote>\n<p><em>While googling it, I noticed that mariaDB &amp; MySQL have the same issue.</em></p>\n</blockquote>\n<p>You can <a href=\"https://www.programcreek.com/java-api-examples/org.hibernate.annotations.Type\" rel=\"nofollow noreferrer\">see here</a> more examples in different use cases for <code>org.hibernate.annotations.Type</code></p>\n"},{"comments":[{"comment_id":131192330,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74268823/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":74268823,"body":"<p>i'm using this annotations:</p>\n<pre><code>@Id\n@GeneratedValue(generator = &quot;uuid2&quot;)\n@GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2r&quot;)\n@Column(name = &quot;id&quot;, columnDefinition = &quot;varchar(36)&quot;)\n@Type(type = &quot;uuid-char&quot;)\nprivate UUID uuid;\n</code></pre>\n"},{"answer_id":76306119,"body":"<p>The @Type annotation is deprecated and does not even exist in the last version of Spring Boot.</p>\n<p>You need to use now @JdbcTypeCode</p>\n<p>The correct way to do that is the following</p>\n<pre><code>@Column(columnDefinition = &quot;VARCHAR(36)&quot;)\n@JdbcTypeCode(SqlTypes.VARCHAR)\n</code></pre>\n"}],"last_activity_date":1684757949,"question_id":50003906,"body":"<p>I came across a blog of using UUID with Hibernate and MySql. Now the problem is, whenever I take a look at the database the ID's will be non-readable format (binary-16). How can I store UUID as a readable format like <code>7feb24af-fc38-44de-bc38-04defc3804fe</code> instead of <code>¡7ôáßEN¹º}ÅÑ\u0013s</code></p>\n\n<p>I was using this code </p>\n\n<pre><code>@Id\n@GeneratedValue( generator = \"uuid2\" )\n@GenericGenerator( name = \"uuid2\", strategy = \"uuid2\" )\n@Column( name = \"id\", columnDefinition = \"BINARY(16)\" )\nprivate UUID id;\n</code></pre>\n\n<p>And the result is <strong>¡7ôáßEN¹º}ÅÑ\u0013s</strong>. But I want it as readable UUID so I used the following code which didn't help me</p>\n\n<pre><code>@Id\n@GeneratedValue( generator = \"uuid2\" )\n@GenericGenerator( name = \"uuid2\", strategy = \"uuid2\" )\n@Column( name = \"id\", columnDefinition = \"CHAR(32)\" )\nprivate UUID id;\n</code></pre>\n\n<p>How to save the UUID as a string instead of binary(16) without changing the java type UUID</p>\n"},{"comments":[{"comment_id":134554642,"body":"Does the local and remote Tomcat server has the same configuration and version?"}],"answers":[{"answer_id":76306114,"body":"<p>I solved the above issue by replacing the hibernate-validator 8.0.0.Final and jakarta.validation-api 3.0.2 with below dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;7.0.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"last_activity_date":1684757864,"question_id":76300621,"body":"<p>I am using spring boot 3.0.0 and tomcat 10.0 and I am deploying my application on external tomcat server but I am getting below exception. However, my application is working fine on my local machine.</p>\n<pre><code>jakarta.validation.NoProviderFoundException: Unable to create a Configuration, because no Jakarta Bean Validation provider could be found. Add a provider like Hibernate Validator (RI) to your classpath.\n    at jakarta.validation.Validation$GenericBootstrapImpl.configure(Validation.java:291) ~[jakarta.validation-api-3.0.2.jar:na]\n    at jakarta.validation.Validation.buildDefaultValidatorFactory(Validation.java:103) ~[jakarta.validation-api-3.0.2.jar:na]\n    at org.hibernate.cfg.beanvalidation.TypeSafeActivator.getValidatorFactory(TypeSafeActivator.java:479) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.cfg.beanvalidation.TypeSafeActivator.activate(TypeSafeActivator.java:82) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.hibernate.cfg.beanvalidation.BeanValidationIntegrator.integrate(BeanValidationIntegrator.java:137) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:285) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.5.Final.jar:6.1.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.2.jar:6.0.2]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.0.jar:3.0.0]\n    \n    \n</code></pre>\n<p>These are my dependencies which I am using in my pom file.:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;8.0.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n  &lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n</code></pre>\n"},{"comments":[{"comment_id":24017695,"body":"catalina.bat jpda start"},{"comment_id":24088273,"body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5458212/start-tomcat-6-in-debug-mode\">Start tomcat 6 in debug mode?</a>"}],"answers":[{"comments":[{"comment_id":36493417,"body":"Can you tell me the equivalent of Tomcat 7.0?"}],"answer_id":16689321,"body":"<p>First, Navigate to the <code>TOMCAT-HOME/bin</code> directory.</p>\n\n<p>Then, Execute the following in the command-line:</p>\n\n<pre><code>catalina.bat jpda start\n</code></pre>\n\n<p>If the Tomcat server is running under Linux, just invoke the <code>catalina.sh</code> program</p>\n\n<pre><code>catalina.sh jpda start\n</code></pre>\n\n<p>It's the same for Tomcat 5.5 and Tomcat 6</p>\n"},{"comments":[{"comment_id":82844756,"body":"Thanks, this helped me to setup the debug option in <code>startup.sh</code>. Editing the last line in <code>tomcat&#47;bin&#47;startup.sh</code> to <code>exec &quot;$PRGDIR&quot;&#47;&quot;$EXECUTABLE&quot; jpda start &quot;$@&quot;</code>. I always forget to start in debug mode and I can save a 5minute restart."}],"answer_id":16689351,"body":"On windows\n\n<pre><code>$ catalina.bat jpda start\n</code></pre>\n\nOn Linux/Unix\n\n<pre><code>$ catalina.sh jpda start\n</code></pre>\n\n<p>More info <code>----&gt;</code> <a href=\"https://cwiki.apache.org/confluence/display/TOMCAT/Developing\" rel=\"noreferrer\">https://cwiki.apache.org/confluence/display/TOMCAT/Developing</a></p>\n"},{"comments":[{"comment_id":89015702,"body":"um yes, although 8000 and dt_socket are mentioned as defaults in catalina.bat, you actually have to set them as in the above post :/"},{"comment_id":110618718,"body":"to the point answer and It worked for me +1. saved my day"}],"answer_id":19179155,"body":"<p>For windows first set variables:</p>\n\n<pre><code>set JPDA_ADDRESS=8000\nset JPDA_TRANSPORT=dt_socket\n</code></pre>\n\n<p>to start server in debug mode:</p>\n\n<pre><code>%TOMCAT_HOME%/bin/catalina.bat jpda start\n</code></pre>\n\n<p>For unix first export variables:</p>\n\n<pre><code>export JPDA_ADDRESS=8000\nexport JPDA_TRANSPORT=dt_socket\n</code></pre>\n\n<p>and to start server in debug mode:</p>\n\n<pre><code>%TOMCAT_HOME%/bin/catalina.sh jpda start\n</code></pre>\n"},{"answer_id":21737633,"body":"<ol>\n<li><p>From your IDE, create a remote debug configuration, configure it for the default JPDA Tomcat port which is port 8000. </p></li>\n<li><p>From the command line:</p>\n\n<p>Linux:</p>\n\n<pre><code>cd apache-tomcat/bin\nexport JPDA_SUSPEND=y\n./catalina.sh jpda run\n</code></pre>\n\n<p>Windows:</p>\n\n<pre><code>cd apache-tomcat\\bin\nset JPDA_SUSPEND=y\ncatalina.bat jpda run\n</code></pre></li>\n<li><p>Execute the remote debug configuration from your IDE, and Tomcat will start running and you are now able to set breakpoints in the IDE.</p></li>\n</ol>\n\n<p>Note: </p>\n\n<p>The <code>JPDA_SUSPEND=y</code> line is optional, it is useful if you want that Apache Tomcat doesn't start its execution until step 3 is completed, useful if you want to troubleshoot application initialization issues.</p>\n"},{"answer_id":23076081,"body":"<p>Inside catalina.bat set the port on which you wish to start the debugger</p>\n\n<pre><code>if not \"%JPDA_ADDRESS%\" == \"\" goto gotJpdaAddress\nset JPDA_ADDRESS=9001\n</code></pre>\n\n<p>Then you can simply start the debugger with </p>\n\n<pre><code>catalina.bat jpda \n</code></pre>\n\n<p>Now from Eclipse or IDEA select remote debugging and start start debugging by connecting to port 9001.</p>\n"},{"answer_id":30369718,"body":"<p>There are two ways to run tomcat in debug mode</p>\n\n<ol>\n<li><p>Using jdpa run</p></li>\n<li><p>Using JAVA_OPTS</p></li>\n</ol>\n\n<p>First setup the environment. Then start the server using following commands.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export JPDA_ADDRESS=8000\r\n\r\nexport JPDA_TRANSPORT=dt_socket\r\n\r\n%TOMCAT_HOME%/bin/catalina.sh jpda start\r\n\r\nsudo catalina.sh jpda start</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>refer this <a href=\"https://tharinduketipe.wordpress.com/2015/05/21/how-to-run-apache-tomcat-in-debug-mode-ubuntu/\" rel=\"noreferrer\">article</a> for more information this is clearly define it</p>\n"},{"comments":[{"comment_id":81672162,"body":"When using JAVA_OPTS -Xdebug you need not start catalina with jpda. Otherwise you may end up with this <code>ERROR: Cannot load this JVM TI agent twice, check your java command line for duplicate jdwp options.</code>"}],"answer_id":36420167,"body":"<p>A short answer is to add the following options when the JVM is started.</p>\n<pre><code>JAVA_OPTS=&quot; $JAVA_OPTS -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8080&quot;\n</code></pre>\n"},{"answer_id":49166082,"body":"<p>These instructions worked for me on apache-tomcat-8.5.20 on mac os 10.13.3 using jdk1.8.0_152:</p>\n\n<pre><code>$ cd /path/to/apache-tomcat-8.5.20/bin\n$ export JPDA_ADDRESS=\"localhost:12321\"\n$ ./catalina.sh jpda run\n</code></pre>\n\n<p>Now connect to port 12321 from IntelliJ/Eclipse and enjoy remote debugging.</p>\n"},{"answer_id":58527808,"body":"<p>If you're wanting to do this via powershell on windows this worked for me</p>\n\n<p>$env:JPDA_SUSPEND=\"y\"</p>\n\n<p>$env:JPDA_TRANSPORT=\"dt_socket\"</p>\n\n<p>/path/to/tomcat/bin/catalina.bat jpda start</p>\n"},{"answer_id":76304794,"body":"<p>If you want to keep this always when your service is running, you should edit your <code>bin/startup.sh</code>. There add 'jpda' parameter right here</p>\n<pre><code>exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; jpda  start &quot;$@&quot;\n</code></pre>\n<p>instead of original</p>\n<pre><code>exec &quot;$PRGDIR&quot;/&quot;$EXECUTABLE&quot; start &quot;$@&quot;\n</code></pre>\n"}],"last_activity_date":1684757772,"question_id":16689274,"body":"<p>I want to start debug mode for my application. But I need to start the debug mode from command prompt. Is it possible ? And will the procedure vary between tomcat 5.5 to tomcat 6.?</p>\n"},{"answers":[{"comments":[{"comment_id":134559725,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76306055/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76306055,"body":"<p>Problem was i was converting content to string,, converting to byte array generated report correctly.</p>\n"}],"last_activity_date":1684757757,"question_id":76305676,"body":"<p>I am using PDF Generator to generate PDF and then am storing it in Lambda local storage first using<br />\n<code>pdDocument.save(local storage path)</code>.\nThen am using\n<code>s3Client.putObject(new PutObjectRequest(bucketName, fileName, file))</code> to upload file to S3.\nEverything is working fine but when i try to remove local storage logic and use ByteOutputStream :</p>\n<pre><code>\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    pdDocument.save(byteArrayOutputStream);\n\n\n    String content = byteArrayOutputStream.toString(StandardCharsets.UTF_8.name());\n\n    byte[] contentAsBytes = content.getBytes(StandardCharsets.UTF_8);\n    final InputStream input = new ByteArrayInputStream(contentAsBytes);\n    ObjectMetadata objectMetadata = new ObjectMetadata();\n    objectMetadata.setContentType(contentType);\n    objectMetadata.setContentLength(content.length());\n    objectMetadata.setContentEncoding(UTF_8);\n    s3Client.putObject(new PutObjectRequest(bucketName, fileName, input, objectMetadata));\n\n</code></pre>\n<p>Generate PDF is giving <code>Failed to load PDF document</code> error.</p>\n<p>Not able to understand where am I going wrong.\nIs there another way to upload file to S3 without using Lambda local storage?</p>\n"},{"answers":[{"comments":[{"comment_id":134555026,"body":"Thanks so much - this was driving me nuts. If it was my design decision the unnamed package would be accessible to all named packages - but it is what it is. Anyway, unfortunately the jar I&#39;m trying to use is a 3rd party jar, created by <a href=\"https://github.com/antlr/grammars-v4/tree/master/javascript/typescript\" rel=\"nofollow noreferrer\">github.com/antlr/grammars-v4/tree/master/javascript/typescri&zwnj;&#8203;pt</a> when running <code>mvn package</code> which guess what - generates a jar with all the classes in the unnamed package. I guess I&#39;ll have to learn maven and try to relocate those jar classes into a named package within the jar, so that I can access them from my java files in a named package."}],"answer_id":76302572,"body":"<p>All classes are in a package. Even ones without a package statement; these are then considered to be in <em>the unnamed package</em>. That is not a slang term; that is the explicit term used in the JLS (Java Language Specification).</p>\n<p>As per the JLS, it is <strong>not possible</strong> to import from the unnamed package. <code>import Class2;</code>  is a syntax error; there has to be at least one dot in there, and no keyword exists to indicate 'the unnamed package, please'.</p>\n<p>The JLS also states that any source file trivially star-imports its own package. e.g, given:</p>\n<pre><code>package com.foo;\n\npublic class Hello {}\n</code></pre>\n<p>It is exactly as if <code>import com.foo.*;</code> was in that file: Any class that is in the com.foo package can just be referred to, and unless that name is explicitly imported, java will assume you meant the one in your package (named imports win over star imports; this is obvious, and specced in the JLS).</p>\n<p>The same applies to the unnamed package: Anything <strong>in</strong> the unnamed package therefore automatically and silently star-imports the unnamed package. There is no way to write an import statement that does that, of course.</p>\n<p>These steps add up the following fact:</p>\n<p>It is <strong>impossible</strong> to refer to things in the unnamed package. Except from other types in the unnamed package, because they star-import the unnamed package.</p>\n<p>Hence:</p>\n<blockquote>\n<p>A java file in the default package can refer to a class in the jar's unnamed package (class in the root of jar) but a java file in a named package cannot.</p>\n</blockquote>\n<p>Yes. True. And not fixable.</p>\n<h2>What??</h2>\n<p>The unnamed package is meant <em>solely</em> for throwaway projects and for extremely simple apps that do not want to mess with packages in any way. That's all. The moment you write <code>package</code> anywhere in the project, that is the moment <strong>every</strong> source file should gain a package statement.</p>\n<p>You may find this inconvenient, but there is no fix for this; the JLS <strong>requires</strong> that java compilers work this way.</p>\n"}],"last_activity_date":1684757177,"question_id":76302523,"body":"<p>I cannot use a class in jar's root when my file is part of a package but when my file is not part of a package, I can.</p>\n<p>Possibly another way to descibe the problem: A java file in the default package can refer to a class in the jar's unnamed package (class in the root of jar) but a java file in a named package cannot.</p>\n<p>I've created a bash script to reproduce the problem.</p>\n<p>build the jar</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# Create directory structure\nmkdir -p projA/src/java/org/example\nmkdir -p projA/out/artifacts\n\n# Create Java source files\ncat &gt; projA/src/java/Class2.java &lt;&lt; EOF\npublic class Class2 {\n    // Empty class\n}\nEOF\n\ncat &gt; projA/src/java/org/example/Class1.java &lt;&lt; EOF\npackage org.example;\n\npublic class Class1 {\n    // Empty class\n}\nEOF\n\n# Compile Java files\nfind projA/src/java -name &quot;*.java&quot; &gt; sources.txt\njavac -d projA/target @sources.txt\n\n# Create JAR file\njar cf projA/out/artifacts/projA.jar -C projA/target .\n\n# View contents of JAR file\ntar tf projA/out/artifacts/projA.jar\n</code></pre>\n<p>use the jar</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\n# Create directory structure\nmkdir -p ProjB/src/java/org/fred\n\n# Create Java source files\ncat &gt; ProjB/src/java/Main2.java &lt;&lt; EOF\npublic class Main2 {\n    public static void main(String[] args) {\n        Class2 class2 = new Class2();\n    }\n}\nEOF\n\ncat &gt; ProjB/src/java/org/fred/Main1.java &lt;&lt; EOF\npackage org.fred;\n\nimport org.example.Class1;\n\npublic class Main1 {\n    public static void main(String[] args) {\n        Class1 class1 = new Class1();\n        // Class2 class2 = new Class2();  // &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM\n    }\n}\nEOF\n\n# Compile Java files\njavac -d ProjB/target -cp projA/out/artifacts/projA.jar ProjB/src/java/*.java ProjB/src/java/org/fred/*.java\n\n# Run the classes\njava -cp ProjB/target:projA/out/artifacts/projA.jar Main2\njava -cp ProjB/target:projA/out/artifacts/projA.jar org.fred.Main1\n</code></pre>\n<p>After running these scripts in a fresh directory, everything should compile, build and run ok. Now uncomment the line with <code>// &lt;--- UNCOMMENT THIS TO REVEAL PROBLEM</code> and run the second script again. Notice the compiler error</p>\n<pre><code>ProjB/src/java/org/fred/Main1.java:12: error: cannot find symbol\n        Class2 class2 = new Class2();\n</code></pre>\n<p>Why can't I refer to Class2 - its clearly in the root of the jar. I can refer to it successfully from <code>ProjB/src/java/Main2.java</code> but not from <code>ProjB/src/java/org/fred/Main1.java</code>?</p>\n<p>Interestingly, I don't need to use an import statement to when I'm referring to classes in the jar unnamed package (class in the root of jar) from a java file in the default package.</p>\n"},{"last_activity_date":1684757107,"question_id":76161424,"body":"<p>I have a deployment of HMS v2.0.1 on k8s with 20 replicas. Over the time, it becomes unresponsive.</p>\n<ul>\n<li>CPU usage keeps on increasing. With it, increase in CPU throttling also.</li>\n<li>JVMs are configured with 13 GB.</li>\n<li>Some of the pods show unusually high number of threads like ~700-800.\nMajority of threads are of category <code>JMX server connection timeout</code></li>\n</ul>\n<pre><code>stackTrace:\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\nat java.lang.Object.wait(Native Method)\nat com.sun.jmx.remote.internal.ServerCommunicatorAdmin$Timeout.run(ServerCommunicatorAdmin.java:168)\n- locked &lt;0x0000000544732110&gt; (a [I)\nat java.lang.Thread.run(Thread.java:750)\n</code></pre>\n<ul>\n<li>Another impact is that app stops sending the JMX metrics after some time.</li>\n</ul>\n<p>I am not able to figure out the exact issue here. Looking for any tip/guidance from the community.</p>\n"},{"comments":[{"comment_id":134558152,"body":"Do you really need the OKHttpClient? With Quarkus, this is the recommended HTTP Client: <a href=\"https://quarkus.io/guides/rest-client-reactive\" rel=\"nofollow noreferrer\">quarkus.io/guides/rest-client-reactive</a>"}],"answers":[{"comments":[{"comment_id":134572979,"body":"Hi, but decreasing keep alive will also make more connections. Will that be feasible?"}],"answer_id":76305909,"body":"<p>Set the connection pool’s keep alive duration to 60 seconds instead of the default 5 minutes.</p>\n<pre><code>OkHttpClient client = new OkHttpClient.Builder()\n    .connectionPool(new ConnectionPool(5, 60, TimeUnit.SECONDS))\n    .build()\n</code></pre>\n"}],"last_activity_date":1684757034,"question_id":76305102,"body":"<p><strong>Problem:</strong>\nI am using OkHttp3 Client in Quarkus project, but I am getting the following error in production:</p>\n<blockquote>\n<p>java.net.SocketException: Connection reset at java.net.SocketInputStream.read(SocketInputStream.java:186) ~[?:?] at java.net.SocketInputStream.read(SocketInputStream.java:140)</p>\n</blockquote>\n<p><strong>Details</strong>\nMy project is a type of middle layer that is calling the Backend APIs as a client, parses the response, and sends it back to the Front end. But sometimes, it throws the above exception when calling downstream APIs. In the case of a GET request, it retries two times, gets same exception and in third retry, a successful response is returned. But in POST request, it does not retries because of idempotency and fails in the first occurrence only.</p>\n<p><em>Code:</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomOkHttpClient extends HttpClient {\n    private OkHttpClient client;\n\n    public Response callDownstream(HttpRequest clientRequest) {\n        Response clientResponse = null;\n        try {\n            Call call = client.newCall(clientRequest);\n            clientResponse = call.execute();\n            return parseClientResponse(clientResponse, responseClass);\n        } catch (final Exception exception) {\n            logger.error(&quot;Exception occurred&quot;);\n            throw exception;\n        } finally {\n            if (null!=clientResponse) {\n                clientResponse.close();\n            }\n        }\n    }\n}\n</code></pre>\n<p><em>Dependencies used:</em>\ncom.squareup.okhttp3:</p>\n<ul>\n<li>okhttp-urlconnection: 5.0.0-alpha.2</li>\n<li>logging-interceptor: 4.9.3</li>\n<li>mockwebserver: 4.9.0</li>\n</ul>\n<p><strong>Ways tried</strong></p>\n<ul>\n<li>Used finally block to close the connection.</li>\n<li>Increased readTimeOut value of http client, but same error is happenning.</li>\n</ul>\n<p><strong>How to proceed</strong></p>\n<ul>\n<li>What approach can I do further?</li>\n<li>Is this possible that the connection gets closed due to idle time period because no traffic is present during that time, and when after some long time, when request hit is made, it gets failed.</li>\n</ul>\n"},{"comments":[{"comment_id":134557524,"body":"I don&#39;t see your XSLT code generation any XSLT although your title suggests that is (part of) what you want to achieve. As for: &quot; i cannot call template inside another template or inside if tag or choose tag&quot;: why is that?  <code>&lt;xsl:template name=&quot;foo&quot;&gt;&lt;xsl:call-template name=&quot;bar&quot;&#47;&gt;&lt;&#47;xsl:template&gt;</code> is perfectly possible and not constrained. You can&#39;t nest template declarations but calling or applying templates at any level inside of another template is possible. Thus, if you have concrete code giving a concrete error, share that code."},{"comment_id":134558024,"body":"Don&#39;t try to explain what you want to achieve by including code in comments. Edit your question to show any code there, in a well formatted way. To me it is not clear why you need both Java classes and XSLT code to generate XSLT code, it seems, XSLT code should suffice to process YAML and generate XSLT code. Anyway, it is not clear at which point you struggle so that someone could help fix a well defined and isolated problem; it seems you have chosen some complex task which might need some complex solution. But you have not even specified what your YAML stands for in terms of XSLT."},{"comment_id":134558085,"body":"in my project i need to use xslt to transform an xml to xml, but i need to add a new layer in order to simplify the work, instead of making xslt templates everytime i want to specify the transformations in a yaml file then generate the xslt templates from it, so simply YAML contains the list of transformations for each element. &quot;XSLT code should suffice to process YAML and generate XSLT code.&quot;  can you tell me how, any useful links please ?"},{"comment_id":134558199,"body":"YAML is a text format, you can read it in with e.g. <code>unparsed-text(&#39;foo.yaml&#39;)</code>, you can process it with all text processing features you have in XSLT 3 (i.e. <code>analyze-string</code>, <code>tokenize</code>, grouping, matching) to transform it to maps/arrays or XML and then process that further. Whether it is in the end easier to have someone write YAML to have a transpiler to to create XSLT instead of having people write XSLT directly (e.g. <code>&lt;xsl:template match=&quot;ABC&quot;&#47;&gt;</code> seems to be what your <code>-element: ABC action: removeElement: true</code> amounts to) I doubt. It all depends on the skill sets of people involved."},{"comment_id":134558298,"body":"yeah it depends on the skills sets of the people involved and that&#39;s why i&#39;m asked to do generate xslt templates from YAML, and i think you gave me a better solution, i think i better transform it to XML and then process it further Thanks a lot @MartinHonnen"}],"answers":[{"comments":[{"comment_id":134559690,"body":"alright, thanks a lot @Martin !"}],"answer_id":76306007,"body":"<p>A simple example to transpile part of your YAML to XSLT and then run it in XSLT 3 is at <a href=\"https://xsltfiddle.liberty-development.net/eiZNCwk\" rel=\"nofollow noreferrer\">https://xsltfiddle.liberty-development.net/eiZNCwk</a> doing e.g.</p>\n<pre><code>&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:axsl=&quot;http://www.w3.org/1999/XSL/Transform-alias&quot;\n    exclude-result-prefixes=&quot;#all&quot;\n    version=&quot;3.0&quot;&gt;\n  \n  &lt;xsl:namespace-alias stylesheet-prefix=&quot;axsl&quot; result-prefix=&quot;xsl&quot;/&gt;\n\n  &lt;xsl:output method=&quot;xml&quot; indent=&quot;yes&quot;/&gt;\n\n  &lt;xsl:template match=&quot;/&quot;&gt;\n    &lt;xsl:variable name=&quot;yaml-as-xslt&quot; as=&quot;element(xsl:stylesheet)&quot;&gt;\n      &lt;axsl:stylesheet version=&quot;3.0&quot;&gt;\n        \n        &lt;axsl:mode on-no-match=&quot;shallow-copy&quot;/&gt;\n        \n        &lt;xsl:for-each-group select=&quot;tokenize($yaml, '\\n') =&gt; tail()&quot; group-starting-with=&quot;.[matches(., '^\\s+-\\selement:')]&quot;&gt;\n          &lt;axsl:template match=&quot;{substring-after(., 'element: ')}&quot;&gt;\n            &lt;xsl:apply-templates select=&quot;current-group()[3]&quot;/&gt;\n          &lt;/axsl:template&gt;\n        &lt;/xsl:for-each-group&gt;\n        \n      &lt;/axsl:stylesheet&gt;\n    &lt;/xsl:variable&gt;\n    \n    &lt;xsl:sequence\n      select=&quot;transform(map { 'source-node': ., 'stylesheet-node' : $yaml-as-xslt})?output&quot;/&gt;  \n  &lt;/xsl:template&gt;\n  \n  &lt;xsl:template match=&quot;.[matches(., '^\\s+renameTag:\\s')]&quot;&gt;\n    &lt;axsl:element name=&quot;{substring-after(., 'renameTag: ')}&quot;/&gt;\n  &lt;/xsl:template&gt;\n  \n  &lt;xsl:template match=&quot;.[matches(., '^\\s+removeElement:\\strue')]&quot;/&gt;\n\n  &lt;xsl:param name=&quot;yaml&quot; as=&quot;xs:string&quot; expand-text=&quot;no&quot;&gt;transformations:\n  - element: ABC\n    action:\n      removeElement: true\n  - element: BCD\n    action:\n      removeElement: true\n  - element: OldName1\n    action:\n      renameTag: NewName1\n  - element: OldName2\n    action:\n      renameTag: NewName2&lt;/xsl:param&gt;\n  \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>to transform e.g.</p>\n<pre><code>&lt;Root&gt;\n  &lt;ABC/&gt;\n  &lt;BCD/&gt;\n  &lt;OldName1/&gt;\n  &lt;OldName2/&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>based on the YAML rules into</p>\n<pre><code>&lt;Root&gt;\n   &lt;NewName1/&gt;\n   &lt;NewName2/&gt;\n&lt;/Root&gt;\n</code></pre>\n<p>Of course the full meaning of your YAML specifying XML transformations is not given and I have not tried to guess it for all of your sample nor have I tried to implement all of the sample, in the end, as said in the comment, an additional step first transforming the YAML into an intermediary XML or maps/json data structure to then generate XSLT and execute is might be necessary for a complex YAML syntax to define XML transformations.</p>\n"}],"last_activity_date":1684757034,"question_id":76305044,"body":"<p>I'm trying to find a way to generate xslt 3.0 templates from a yaml file and i'm looking for a way or a tool that can help me do it, the yaml file contains the list of transformations, here is the yaml file :</p>\n<pre><code>transformations:\n  - element: ABC\n    action:\n      removeElement: true\n  - element: BCD\n    action:\n      removeElement: true\n  - element: OldName1\n    action:\n      renameTag: NewName1\n  - element: OldName2\n    action:\n      renameTag: NewName2\n      changeAttributes:\n        - name: x\n          value: '@H'\n        - name: y\n          value: '@V'\n        - name: PI\n          value: 3.14\n      excludedAttributes:\n        - H\n        - V\n</code></pre>\n<p>i'm already parsing the yaml file to my java objects using snakeyaml</p>\n<pre><code>@Data\npublic class Transformations {\n    private List&lt;Transformation&gt; transformations;\n}\n@Data\npublic class Transformation {   \n    private String element;\n    private Action action;\n}\n@Data\npublic class Action {\n    private String renameTag=&quot;&quot;;\n    private boolean removeElement=false;\n    private List&lt;Attribute&gt; changeAttributes= new ArrayList&lt;&gt;();\n    private boolean copyOtherAttributes=true;\n    private List&lt;String&gt; excludedAttributes= new ArrayList&lt;&gt;();\n    private String addChildElement=&quot;&quot;;\n    private String copyAttributesIn=&quot;&quot;;\n}\n@Data\npublic class Attribute {\n    private String name;\n    private String value; \n}\n</code></pre>\n<p>i have passed the transformations list to my xslt 3.0 file</p>\n<pre><code>List&lt;Transformation&gt; transformationList = transformations.getTransformations();\ntransformer.setParameter(&quot;list&quot;, transformationList);\n</code></pre>\n<p>then i create a new class, implemented ExtensionFunction and used saxon and s9api in order to create all the getters for theses classes to use them in xslt</p>\n<p>here is how i looped through the list and used the getters to print some attributes :</p>\n<pre><code>&lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;xsl:for-each select=&quot;$list&quot;&gt;\n            &lt;xsl:variable name=&quot;item&quot; select=&quot;.&quot;/&gt;\n            &lt;Tranformation&gt;\n                &lt;xsl:variable name=&quot;element&quot; select=&quot;ext:getTransformationAttribute('element',$item)&quot;/&gt;\n                &lt;xsl:variable name=&quot;actionObj&quot; select=&quot;ext:getTransformationAttribute('action',$item)&quot;/&gt;\n\n                &lt;xsl:value-of select=&quot;$element&quot; /&gt; \n                &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n                &lt;xsl:value-of select=&quot;$actionObj&quot; /&gt;\n\n                &lt;Action&gt;\n                    &lt;xsl:variable name=&quot;renameTag&quot; select=&quot;ext:getTransformationAttribute('renameTag',$actionObj)&quot;/&gt;\n                    &lt;xsl:value-of select=&quot;$renameTag&quot; /&gt;\n                    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n                    &lt;xsl:variable name=&quot;removeElement&quot; select=&quot;ext:getTransformationAttribute('removeElement',$actionObj)&quot;/&gt;\n                    &lt;xsl:value-of select=&quot;$removeElement&quot; /&gt;\n                    &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;\n                    &lt;xsl:variable name=&quot;changeAttributes&quot; select=&quot;ext:getTransformationAttribute('changeAttributes',$actionObj)&quot;/&gt;\n                    &lt;xsl:for-each select=&quot;$changeAttributes&quot;&gt;\n                        &lt;xsl:value-of select=&quot;.&quot; /&gt; \n                    &lt;/xsl:for-each&gt;\n\n                    &lt;xsl:variable name=&quot;addChildElement&quot; select=&quot;ext:getTransformationAttribute('addChildElement',$actionObj)&quot;/&gt;\n                    &lt;xsl:value-of select=&quot;$addChildElement&quot; /&gt;\n                &lt;/Action&gt;\n                &lt;!-- \n                    &lt;xsl:value-of select=&quot;$item&quot;  /&gt;\n                --&gt;\n            &lt;/Tranformation&gt;\n        &lt;/xsl:for-each&gt;\n    &lt;/xsl:template&gt;\n</code></pre>\n<p>what i want to do now is to generate the xslt templates by theses attributes in order to transform my xml file using yaml, one problem is that i cannot call template inside another template or inside if tag or choose tag</p>\n<p>example of templates which i need generate :</p>\n<pre><code>&lt;xsl:template match=&quot;Element&quot;&gt;\n        &lt;NewName2 x=&quot;{@H}&quot; y=&quot;{@V}&quot; PI=&quot;3.14&quot;&gt;\n            &lt;xsl:apply-templates select=&quot;@*[not(name() = ('H', 'V'))]&quot; /&gt;\n            &lt;addedChild&gt;\n                &lt;xsl:apply-templates select=&quot;node()&quot; /&gt;\n            &lt;/addedChild&gt;\n        &lt;/NewName2&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n<p>in some transformations i have to add a child element, some should exclude attributes from copy, some don't have a renameTag action, some should have their attributes copied in the child tag and so on..</p>\n<p>here is how it can be done with java for example :</p>\n<pre><code>private static void generateXSLT(String xsltPath, Transformations transformations) throws IOException {\n\n    FileWriter writer = new FileWriter(xsltPath);\n    StringBuilder xslt = new StringBuilder();\n    xslt.append(&quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot;\n            + &quot;&lt;xsl:stylesheet xmlns:xsl=\\&quot;http://www.w3.org/1999/XSL/Transform\\&quot;\\n&quot;\n            + &quot;    xmlns:xs=\\&quot;http://www.w3.org/2001/XMLSchema\\&quot;\\n&quot;\n            + &quot;    xmlns:math=\\&quot;http://www.w3.org/2005/xpath-functions/math\\&quot;\\n&quot;\n            + &quot;    xmlns:xd=\\&quot;http://www.oxygenxml.com/ns/doc/xsl\\&quot;\\n&quot;\n            + &quot;    exclude-result-prefixes=\\&quot;xs math xd\\&quot; version=\\&quot;3.0\\&quot;&gt;\\n&quot;);\n            // strip-space is used for removing empty lines after deleting some elements\n            // template to copy everything\n            xslt.append(&quot;&lt;xsl:strip-space elements=\\&quot;*\\&quot; /&gt;\\r\\n&quot; + &quot;    \\r\\n&quot; + &quot;    &lt;xsl:template match=\\&quot;/\\&quot;&gt;\\r\\n&quot;\n            + &quot;        &lt;xsl:apply-templates /&gt;\\r\\n&quot; + &quot;    &lt;/xsl:template&gt;\\r\\n&quot; + &quot;    \\r\\n&quot;\n            + &quot;    &lt;xsl:template match=\\&quot;*\\&quot;&gt;\\r\\n&quot; + &quot;        &lt;xsl:copy&gt;\\r\\n&quot;\n            + &quot;            &lt;xsl:apply-templates select=\\&quot;@* | node()\\&quot; /&gt;\\r\\n&quot; + &quot;        &lt;/xsl:copy&gt;\\r\\n&quot;\n            + &quot;    &lt;/xsl:template&gt;\\n\\n&quot;);\n    List&lt;Transformation&gt; transformationList = transformations.getTransformations();\n    for (Transformation transformation : transformationList) {\n        if (action.isRemoveElement()) {\n            xslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;/&gt;\\n&quot;);\n        } else if (action.getRenameTag() != null) {\n            xslt.append(&quot;\\t&lt;xsl:template match=\\&quot;&quot; + xpath + &quot;\\&quot;&gt;\\n&quot;);\n            if (action.getChangeAttributes() != null) {\n                xslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag());\n                for (Attribute attribute : action.getChangeAttributes()) {\n                    xslt.append(&quot; &quot; + attribute.getName() + &quot;=\\&quot;{&quot; + attribute.getValue() + &quot;}\\&quot;&quot;);\n                }\n                xslt.append(&quot;&gt;\\n&quot;);\n            } else {\n                xslt.append(&quot;\\t\\t&lt;&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\n            }\n            if (action.getExcludeAttributes() != null) {\n                xslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\n                if (action.getExcludeAttributes() != null) {\n                    xslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*[not(name() = (&quot;);\n                    for (String excludedAttribute : action.getExcludeAttributes()) {\n                        joiner.add(&quot;'&quot; + excludedAttribute + &quot;'&quot;);\n                    }\n\n                    xslt.append(joiner.toString() + &quot;))]|node()\\&quot;/&gt;\\n&quot;);\n                } else {\n                    xslt.append(&quot;\\t\\t\\t&lt;xsl:apply-templates select=\\&quot;@*|node()\\&quot;/&gt;\\n&quot;);\n                }\n                \n\n                xslt.append(&quot;\\t\\t&lt;/&quot; + action.getRenameTag() + &quot;&gt;\\n&quot;);\n                xslt.append(&quot;\\t&lt;/xsl:template&gt;\\n&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":11516221,"body":"you mention you have problems but neglect to say what they are specifically. I also find it hard to believe that someone would vote this question up."},{"comment_id":11516231,"body":"If this is a learning situation, you should tag your question as homework."},{"comment_id":11516262,"body":"sorry for inconvenience i have updated my problem. and problem is that it gets downloaded to servers side at c:// and not to clients side"}],"answers":[{"comments":[{"comment_id":11516403,"body":"I debugged my program name is name of image and it is correct. i just want that it should get downloaded to client side and not server side. for that what should i do ?"},{"comment_id":11516560,"body":"@user1191852 See my updated response. I think I understand your question now!"},{"comment_id":11516612,"body":"sir can i get code for such program. I have my deadlines close"},{"comment_id":11519024,"body":"sir its like simple download option which you may while browsing websites and where you just click on download link and respected file or image gets downloaded. i want similar program. Please anybody can help me ?"},{"comment_id":11529331,"body":"Like I said, you&#39;ll have to send back the raw data in the HTTP Response. If you post the full code of your servlet (I assume?) we can help more. However, noone here is going to write an application for your from scratch. You have to try it yourself and we can help you along the way."}],"answer_id":9157586,"body":"<p>If the file is getting downloaded to C:\\, then that's what your <code>cpath</code> variable equals when you open your <code>FileOutputStream</code>. This would imply that your <code>name</code> variable is being passed in as an empty string. Try putting in some logging statements (or even better, using the netbeans debugger!) to see what values your variables are holding as your code executes.</p>\n\n<p>EDIT: I think I understand the problem now. You're running this as a servlet or something similar. That means that your code is executing on the server, rather than the client. If you want to download the file to a specific path on the client, you're going to have to use an <code>Applet</code> or something similar that runs on the client side. Alternatively, you can return the file in the HTTP response and the user's browser will ask them where to save the file. Although, at that point, the user could just navigate to the jpg in a browser themselves.</p>\n\n<p>You might want to explain your use case in more detail if this doesn't answer your question.</p>\n"},{"answer_id":23533292,"body":"<p>Try this running code.It will help you.</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.Authenticator;\nimport java.net.PasswordAuthentication;\nimport java.net.URL;\n\npublic class SaveImageFromUrl {\n\n    public static void main(String[] args) throws Exception {\n\n\n\n        String imageUrl = \"http://2.bp.blogspot.com/_GHaEnqqbRsE/SVsxi-gdQ2I/AAAAAAAAAAU/NS6MEejoHtE/s320/Gppfront.jpg\";\n\n\n        String destinationFile = \"D://gpp.jpg\";\n\n        saveImage(imageUrl, destinationFile);\n    }\n\n    public static void saveImage(String imageUrl, String destinationFile) throws IOException {\n        URL url = new URL(imageUrl);\n        InputStream is = url.openStream();\n        OutputStream os = new FileOutputStream(destinationFile);\n\n        byte[] b = new byte[2048];\n        int length;\n\n        while ((length = is.read(b)) != -1) {\n            os.write(b, 0, length);\n        }\n\n        is.close();\n        os.close();\n    }\n\n}\n</code></pre>\n"},{"answer_id":27014549,"body":"<p>Please try this working code first:</p>\n\n<pre><code>package com.ashugupt.github.stackover;\n\nimport java.io.BufferedReader;\nimport java.io.FileOutputStream;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class URLTest {\n\n  private static void sendGet() throws Exception {\n\n    String url = \"http://www.uni-koblenz-landau.de/images/starts-c-ko.jpg\";\n    URL obj = new URL(url);\n    HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n    // optional default is GET\n    con.setRequestMethod(\"GET\");\n\n    //add request header\n    con.setRequestProperty(\"User-Agent\", \"Mozilla/5.0\");\n\n    int responseCode = con.getResponseCode();\n    System.out.println(\"\\nSending 'GET' request to URL : \" + url);\n    System.out.println(\"Response Code : \" + responseCode);\n\n    InputStream in = con.getInputStream();\n    OutputStream out = new FileOutputStream(\"/Users/ravikiran/Desktop/abc.jpg\");\n    try {\n      byte[] bytes = new byte[2048];\n      int length;\n\n      while ((length = in.read(bytes)) != -1) {\n        out.write(bytes, 0, length);\n      }\n    } finally {\n      in.close();\n      out.close();\n    }\n  }\n\n  public static void main(String[] args) throws Exception {\n    sendGet();\n  }\n}\n</code></pre>\n"}],"last_activity_date":1684756980,"question_id":9157501,"body":"<p>I am a new to java. I dont know much about it. I am just learning java.\nI am developing a web application. In which i have an option download image . If user clicks he should be able to download image from server to client side say at location c://. </p>\n\n<p>I have implemented this code ::</p>\n\n<pre><code>import java.awt.Image;\nimport java.io.BufferedInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\n\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport javax.imageio.ImageIO;\n\n\n\n\npublic class DownloadingImages{\n    public DownloadingImages() {}\n\npublic void download(String name) throws MalformedURLException, IOException{\n\nImage image = null;\ntry {\n    //URL url = new URL(\"file:///E:/myproject/build/web/images/Webcam.jpg\");\n\n String  spath=\"http://localhost:5051/marketpoint/images/\";\n\n String cpath=\"C:\\\\\";\n\n\n spath = spath + name ;\n cpath = cpath + name ;\n System.out.println(\"FULL path::: \"+spath);\n\n\n\n URL url = new URL(spath);\n\n\n\n\n InputStream in = new BufferedInputStream(url.openStream());\nByteArrayOutputStream out = new ByteArrayOutputStream();\nbyte[] buf = new byte[1024];\nint n = 0;\nwhile (-1!=(n=in.read(buf)))\n{\n   out.write(buf, 0, n);\n}\nout.close();\nin.close();\nbyte[] response = out.toByteArray();\n FileOutputStream fos = new FileOutputStream(cpath);\n    fos.write(response);\n    fos.close();  \n} catch (IOException e) {\n\n\n}\n}\n}\n\n\nHere\nname = name of image thta client wants to download.\n</code></pre>\n\n<p>Here problem is that image gets downloaded to server's side. At c:// . can anybody please tell where  am i going wrong.</p>\n\n<p>For this i am using net beans as my editor , Apache tomcat as  server.  Both client and Server gets connected through port no 5051. And image that clients want to download from server is simple jpg image.  will anybody help me to get out of this problems. </p>\n"},{"answers":[{"comments":[{"comment_id":9858023,"body":"I follow the first tip of this link : (<a href=\"http://code.google.com/p/jzy3d/wiki/FAQ\" rel=\"nofollow noreferrer\">code.google.com/p/jzy3d/wiki/FAQ</a>). But now I get another error :: Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: C:\\Users\\UserName\\workspace\\Test\\bin2\\win32\\jogl.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform"},{"comment_id":9858071,"body":"Read this post: <a href=\"http://stackoverflow.com/questions/5328951/jogl-32-vs-64-bit-libraries-error\" title=\"jogl 32 vs 64 bit libraries error\">stackoverflow.com/questions/5328951/&hellip;</a>"},{"comment_id":9858116,"body":"And this articles: <a href=\"https://sites.google.com/site/justinscsstuff/jogl-tutorial-1\" rel=\"nofollow noreferrer\">sites.google.com/site/justinscsstuff/jogl-tutorial-1</a> &amp; <a href=\"http://jogamp.org/jogl/doc/HowToBuild.html\" rel=\"nofollow noreferrer\">jogamp.org/jogl/doc/HowToBuild.html</a>"},{"comment_id":9858619,"body":"The links helped me found a 64bit version to use in my project. And I can now go farther. Now the problem is relative to the integration in my interface. Indeed, I followed that instructions :: (<a href=\"http://code.google.com/p/jzy3d/wiki/EmbeddingChartInAnExistingApplication\" rel=\"nofollow noreferrer\">code.google.com/p/jzy3d/wiki/&hellip;</a>). With Swing :: &quot;&quot;&quot;Exception in thread &quot;main&quot; java.lang.ClassCastException: org.jzy3d.plot3d.rendering.canvas.CanvasAWT cannot be cast to javax.swing.JComponent&quot;&quot;&quot;&quot;. With AWT :: &quot;Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.UnsatisfiedLinkError: com.sun.opengl.impl.JAWTFactory.JAWT_GetAWT0(Ljava/nio/ByteB&zwnj;&#8203;uffer;)Z&quot;"},{"comment_id":9858921,"body":"Read this post: <a href=\"http://stackoverflow.com/questions/6494668/is-it-possible-to-use-jzy3d-in-a-netbeans-7-0-application/6538335\" title=\"is it possible to use jzy3d in a netbeans 7 0 application\">stackoverflow.com/questions/6494668/&hellip;</a>"},{"comment_id":9859127,"body":"I actually did read that part of the site and have called &quot;&quot;&quot;new Chart(&quot;swing&quot;)&quot;&quot;&quot; but I still get this error"}],"answer_id":8048919,"body":"<p>You should add <code>jogl.jar</code> to classpath and <code>jogl.dll</code> to PATH. <br/>\nFor more info look <a href=\"http://forum.worldwindcentral.com/showthread.php?t=21721\" rel=\"nofollow\">here</a> and <a href=\"http://code.google.com/p/jzy3d/wiki/FAQ\" rel=\"nofollow\">here</a>.</p>\n\n<p>You can read <code>jogl</code> <em>Installation Instructions</em> <a href=\"http://www.cs.umd.edu/~meesh/kmconroy/JOGLTutorial/\" rel=\"nofollow\">here</a>. </p>\n"},{"comments":[{"comment_id":9858041,"body":"I follow the first tip of this link but now I get another error :: Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &quot;&quot;&quot;C:\\Users\\UserName\\workspace\\Test\\bin2\\win32\\jogl.dll: Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform &quot;&quot;&quot;"},{"comment_id":9986239,"body":"You might not be using the appropriate binaries. Try to load the AMD binaries."},{"comment_id":24558613,"body":"Because you&#39;re trying to run the 32 bit demo on a 64 bit JVM. The <code>paltform</code> @Martin was referring to should be <code>amd64</code> or <code>win64</code> or whatever path contains the jogl.dll for 64 bits. Or, you can use a 32 bit JVM to run it (to be selected in &quot;Running configuration&quot;)."}],"answer_id":8049121,"body":"<p>You should run your program or demo where the JOGL native libraries stand, i.e. ./bin/{platform}. If you are working with Eclipse, right click on the project, choose Propeties, Java Build Path then the Libraries tab. Under the item \"jogl.jar - ...\" select \"Native library location: (None)\" and click the Edit button. Press the Workspace... button and select the ./bin/{platform} folder.</p>\n"}],"last_activity_date":1684756980,"question_id":8048028,"body":"<p>Can someone please give me some extra basic example of how <code>jzy3d</code> should be used?<br>\n(The source site's examples don't seam to work for me)</p>\n\n<p>I tried the following code:</p>\n\n<pre><code>import org.jzy3d.chart.Chart;\nimport org.jzy3d.colors.Color;\nimport org.jzy3d.colors.ColorMapper;\nimport org.jzy3d.colors.colormaps.ColorMapRainbow;\nimport org.jzy3d.maths.Range;\nimport org.jzy3d.plot3d.builder.Builder;\nimport org.jzy3d.plot3d.builder.Mapper;\nimport org.jzy3d.plot3d.builder.concrete.OrthonormalGrid;\nimport org.jzy3d.plot3d.primitives.Shape;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        JFrame frame = new JFrame();\n        Chart chart = getChart();\n\n        frame.add((javax.swing.JComponent) chart.getCanvas());\n\n        frame.setSize(800, 800);\n        frame.setLocationRelativeTo(null);\n        frame.setTitle(\"test\");\n        frame.setVisible(true);\n    }\n\n    public static Chart getChart() {\n        // Define a function to plot\n        Mapper mapper = new Mapper() {\n            public double f(double x, double y) {\n                return 10 * Math.sin(x / 10) * Math.cos(y / 20) * x;\n            }\n        };\n\n        // Define range and precision for the function to plot\n        Range range = new Range(-150, 150);\n        int steps = 50;\n\n        // Create the object to represent the function over the given range.\n        org.jzy3d.plot3d.primitives.Shape surface = (Shape) Builder.buildOrthonormal(new OrthonormalGrid(range, steps, range, steps), mapper);\n        surface.setColorMapper(new ColorMapper(new ColorMapRainbow(), surface.getBounds().getZmin(), surface.getBounds().getZmax(), new Color(1, 1, 1, .5f)));\n        surface.setWireframeDisplayed(true);\n        surface.setWireframeColor(Color.BLACK);\n        //surface.setFace(new ColorbarFace(surface));\n        surface.setFaceDisplayed(true);\n        //surface.setFace2dDisplayed(true); // opens a colorbar on the right part of the display\n\n        // Create a chart\n        Chart chart = new Chart();\n        chart.getScene().getGraph().add(surface);\n        return chart;\n    }\n}\n</code></pre>\n\n<p>But when I try to run it, I get that exception:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no jogl in java.library.path</p>\n  </blockquote>\n</blockquote>\n\n<p>Can anyone help?</p>\n"},{"answers":[{"comments":[{"comment_id":124457410,"body":"<b>1.</b> Thanks a lot for your detailed answers. In this case I should create a Spring Service for my <code>QRCodeGenerator</code> class. On the other hand, I am wondering what is the difference keeping this as  <code>@Component</code> and replacing this annotation to <code>@Service</code>. As the latter is also a component, is the only difference making it more specific?"},{"comment_id":124457444,"body":"<b>2.</b> What about Util classes in Spring? Assume that I have several methods e.g. <code>formatDate()</code>, <code>convertToBinary()</code>, etc. SHould I create them in an Util class as static? Or should I still use Service in Spring and keep away from static Util classes? As I have not enough experience in Spring, I need to be clarified about this. Any idea?"},{"comment_id":124457457,"body":"@binary: service annotation doesn&#39;t really do anything more than component,, it mainly is there to tell you what layer of the application the component belongs to."},{"comment_id":124457492,"body":"@binary: I think it&#39;s fine to avoid util classes and use spring components instead. Spring wants to control how things are created but for util classes the classloader is in charge, so they don&#39;t mix well. Let spring be in charge."},{"comment_id":124457537,"body":"Thanks a lot, I would not think to keep away Static Utils as there are several ones in our project, but as you suggest, I will keep in mind that and always try to use service (@Service). I think this is the better approach, isn&#39;t it?"},{"comment_id":124457611,"body":"@binary: i think making these things spring components is better for maintainability since it lets you add dependencies if needed. When we used xml configuration it was more of a hassle to make everything a spring bean but it&#39;s painless now."},{"comment_id":124457672,"body":"Thanks  a lot, I use annotation, not xml configuration. What about this question? &gt;&gt;&gt;"},{"comment_id":124457674,"body":"On the other hand, as far as I understood, keeping the code above in a util package with <code>@Component</code> annotation is almost the same think as keeping it in a service package with <code>@Service</code> annotation. Any idea?"}],"answer_id":70406582,"body":"<p>Make it a spring service, and you will be able to substitute a mock for it easily when you write a test for the controller. Otherwise you will not be able to mock it (unless you use things like Powernock).  Since you're already injecting values into it, it's a lot easier to keep this as a Spring component.</p>\n<p>Generally it's a premature optimization to use static util classes and it can get in the way of testing. I would use static util classes only if they contain only static methods that have no side effects, which don't need access to configuration data and which I don't mind not being able to mock.  The methods I use in input validation code would be an example of something I might use static methods for. But you have the most flexibility, for instance to be able to inject configurations, if you keep these as Spring components.</p>\n"},{"comments":[{"comment_id":124457407,"body":"<b>1.</b> Thanks a lot for your detailed answers. In this case I should create a Spring Service for my <code>QRCodeGenerator</code> class. On the other hand, I am wondering what is the difference keeping this as  <code>@Component</code> and replacing this annotation to <code>@Service</code>. As the latter is also a component, is the only difference making it more specific?"},{"comment_id":124457442,"body":"<b>2.</b> What about Util classes in Spring? Assume that I have several methods e.g. <code>formatDate()</code>, <code>convertToBinary()</code>, etc. SHould I create them in an Util class as static? Or should I still use Service in Spring and keep away from static Util classes? As I have not enough experience in Spring, I need to be clarified about this. Any idea?"},{"comment_id":124457497,"body":"1. Yes, the difference is only making it more specific and indicating that it provides business logic for other clients to use such as (Controllers). 2. Your classes should comply to Single Responsibility Principle and have well defined interface (methods), it&#39;s easier to achieve this by creating <code>@Component</code> or <code>@Service</code> (Service if it provides business logic) because they are easier to test and use in spring. Util classes are not a best practice because they are harder to mock and can degrade to having multiple responsibilities."},{"comment_id":124457581,"body":"Thanks a lot, I learned a lot"}],"answer_id":70406633,"body":"<p>Here are some opinions on your questions:</p>\n<ol>\n<li>Classes annotated with @Service are used in business logic layer, it can provide data but it can also do actions as in your case.</li>\n<li>Based on the point 1. you can make it a service because that provides logic for creating qr codes for representation layer (Controllers).</li>\n<li>Having this kind of classes as @Component or more specific @Service makes it easier to inject dependencies using Dependency Injection and also it's easier to inject your class as dependency to other beans so it's easier also to test/mock. Keeping it as Spring Service is a better approach.</li>\n</ol>\n"},{"answer_id":76305982,"body":"<p>Short answer: user Spring Service (or Component) and avoid the use of Util classes with static methods. This way you will live happy life without Tight Coupling and Fragile Code</p>\n<p><a href=\"https://www.geeksforgeeks.org/coupling-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/coupling-in-java/</a></p>\n<p><a href=\"https://stackoverflow.com/a/76304657/4776689\">https://stackoverflow.com/a/76304657/4776689</a></p>\n<p>Regrding your 3 questions:</p>\n<blockquote>\n<ol>\n<li>I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service,\nendpoints, etc. Is that true?</li>\n</ol>\n</blockquote>\n<p>Yes it is true, but you also can create Spring beans like @Service or @Component for any general functionality</p>\n<blockquote>\n<ol start=\"2\">\n<li>Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better\n(creating as a component and then injecting it to my Controller)?</li>\n</ol>\n</blockquote>\n<p>Yes you should have Spring bean. It can be Service or Component or any else bean type. I would do with Service.</p>\n<blockquote>\n<ol start=\"3\">\n<li>There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it\nbetter than now or using it as a Spring Service?</li>\n</ol>\n</blockquote>\n<p>Do not use static Util classes if you can. Spring beans (Service and others) are made to replace them with dependency injection.</p>\n"}],"last_activity_date":1684756973,"question_id":70406499,"body":"<p>I have barcode generator methods that I call from Controller in my Java (Spring Boot) project. The generator class is as shown below:</p>\n<pre><code>@Component\n@NoArgsConstructor\npublic class QRCodeGenerator {\n    private static final int LABEL_X_POS = 45;\n    private static final int LABEL_Y_POS = 20;\n\n    @Value(&quot;${qr-code.margin}&quot;)\n    private int margin;\n\n    @Value(&quot;${qr-code.fontSize}&quot;)\n    private int fontSize;\n\n    public ResponseEntity&lt;Resource&gt; getQRCode(String data) throws IOException {\n        \n        // code omitted for brevity\n        \n        addLabel(image, label);        \n        final ByteArrayResource resource = new ByteArrayResource(toByteArray(image));\n        return ResponseEntity.ok().body(resource);\n    }\n\n    private static byte[] toByteArray(BufferedImage image) throws IOException {\n        // code omitted for brevity\n    }\n\n    private void addLabel(BufferedImage source, String text) {\n        int x = LABEL_X_POS;\n        int y = LABEL_Y_POS;\n        // code omitted for brevity\n    }\n}\n</code></pre>\n<p>First I started to use this class as static, but then I removed static to read the data in <code>application.yml</code> properly.</p>\n<p>Here is some points that I need to be clarified:</p>\n<p><strong>1.</strong> I am new in Spring and as far as I see, spring services are generally used to provide data from database or any other service, endpoints, etc. Is that true?</p>\n<p><strong>2.</strong> Should I create a service for the class above (I do not need to access to database in that class)? Or it the approach is better (creating as a component and then injecting it to my Controller)?</p>\n<p><strong>3.</strong> There are many different opinions regarding to static Util classes. So, what about converting this class to a static Util class? Is it better than now or using it as a Spring Service?</p>\n"},{"comments":[{"comment_id":134559062,"body":"That is an hint that you have a wrong configuration in your build... either inherited through parent or alike... Please check the log output ...because I suppose it will be executed at least two times... etc.  Reference: <a href=\"https://lists.apache.org/thread/clgkh4809octgrv3o0p9fm1nzfvs6l2p\" rel=\"nofollow noreferrer\">lists.apache.org/thread/clgkh4809octgrv3o0p9fm1nzfvs6l2p</a> Link to the appropriate issue: <a href=\"https://issues.apache.org/jira/browse/MSOURCES-121\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MSOURCES-121</a>"},{"comment_id":134565184,"body":"I found exactly the same error: <a href=\"https://github.com/JEsperancinhaOrg/consolerizer-root/actions/runs/5050076108/jobs/9060326828?pr=53\" rel=\"nofollow noreferrer\">github.com/JEsperancinhaOrg/consolerizer-root/actions/runs/&hellip;</a>&zwnj;&#8203;. I have no idea even where to start."}],"last_activity_date":1684756380,"question_id":76305897,"body":"<p>I recently upgraded the maven-source-plugin version in my project from 3.2.1 to 3.3.0 and now I am encountering the following error during the build process:</p>\n<blockquote>\n<p>Failed to execute goal org.apache.maven.plugins:maven-source-plugin:3.3.0:jar (attach-sources) on project xxx: Presumably you have configured maven-source-plugn to execute twice times in your build. You have to configure a classifier for at least on of them. -&gt; [Help 1]</p>\n</blockquote>\n<p>It seems that this error is related to the fact that the maven-source-plugin has changed its behavior in version 3.3.0 to prevent the attach-sources goal from being executed multiple times during the build. However, I can't find any doc or release note related to this feature that may cause this incompatibility problem.</p>\n<p>I want to know where I can find the official documentation and what the purpose of this new feature is? Thanks~</p>\n"},{"last_activity_date":1684756212,"question_id":76305855,"body":"<p>I can't find any documentation on how to upgrade my security config to work with the latest version of Spring Security.</p>\n<p>Here is my java config class:</p>\n<pre><code>package com.stayfit.security.config;\n\nimport lombok.AllArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@AllArgsConstructor\npublic class WebSecurityConfig {\n    private final BCryptPasswordEncoder encoder;\n\n    @Bean\n    public AuthenticationManager authenticationManager(UserDetailsService userDetailsService) {\n        var provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(encoder);\n        provider.setUserDetailsService(userDetailsService);\n\n        return new ProviderManager(provider);\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(&quot;/&quot;, &quot;/api/registration/**&quot;).permitAll()\n                        .requestMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\n                        .requestMatchers(&quot;/user&quot;).hasAnyAuthority(&quot;ADMIN&quot;, &quot;USER&quot;)\n                        .anyRequest()\n                        .authenticated())\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .httpBasic(Customizer.withDefaults())\n                .formLogin(Customizer.withDefaults());\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.stayfit&lt;/groupId&gt;\n    &lt;artifactId&gt;StayFit&lt;/artifactId&gt;\n    &lt;version&gt;1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Stay Fit&lt;/name&gt;\n    &lt;description&gt;Stay Fit&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.0.32&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.project-lombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Spring Security does not provide any password in console and I always get redirected to default login form or I get a 403 error code. Since it worked fine 1-2 months ago when I built this project I assume its just the security config oudated.\nSpring Boot 3.x and Spring Security 6.x.x and Java 17.</p>\n<p>Tried many things possible on the Spring official docs but either I get browser login pop-up or spring original form login.</p>\n"},{"answers":[{"comments":[{"comment_id":35011256,"body":"So there is no option for sorting the results with insensitive unless creating a new field with lower or upper cased values only. ryt??"},{"comment_id":35011568,"body":"@VarunKumar yep it is one of the bad points of MongoDB, I personally wouldn&#39;t use the below answer, MongoDB will be limited to 32meg of sort without the index resulting in very small result sets being allowed."},{"comment_id":35011603,"body":"@VarunKumar to be more precise you will be limited to between sorting 2 to 32,000 records depending on the size of the documents, not only that but the sort will be completely in memory, which will be a killer"},{"comment_id":66389529,"body":"Holy *** it finally has!"},{"comment_id":66736964,"body":"@SSHThis can you please share the link where it is resolved?"},{"comment_id":66737604,"body":"@RahulMatte click on the JIRA link, it is resolved in the latest unstable, as are collations"},{"comment_id":67663163,"body":"Having said in the JIRA link, case insensitive index will come out with MongoDB v. 3.3.11 which basically you need to upgrade the mongodb for this feature. you can find new version here but as of today it is 3.2.10, the new version could be release in the future- <a href=\"https://www.mongodb.com/download-center#community\" rel=\"nofollow noreferrer\">mongodb.com/download-center#community</a>"},{"comment_id":72159475,"body":"This is resolved by MongoDB. Take a look at my answer bellow"},{"comment_id":77785894,"body":"@Sammaye is there some way I can use <code>case insensitive index</code> with <code>reactive-mongo</code> driver ? I am using <code>scala</code> with <code>mongo</code>."},{"comment_id":77786262,"body":"@oblivion unfortunately I do not program in Scala"},{"comment_id":82580543,"body":"Collations are supported by aggregate so I would say yes"},{"comment_id":100609703,"body":"@F.H. are you using collations?"},{"comment_id":100609735,"body":"@F.H. to be clear the reason why sort is case sensitive without collations ios because it uses lexical sorting without collations"},{"comment_id":100609846,"body":"<b>update</b> sorry, had wrong collation object passed - <i>confirmed it works with aggregation</i>"},{"comment_id":120327452,"body":"Good answer. I just wanna add some documentation: <a href=\"https://docs.mongodb.com/manual/reference/collation\" rel=\"nofollow noreferrer\">docs.mongodb.com/manual/reference/collation</a>"}],"answer_id":22931211,"body":"<p><strong>Update:</strong>\nAs of now mongodb have case insensitive indexes:</p>\n\n<pre><code>Users.find({})\n  .collation({locale: \"en\" })\n  .sort({name: 1})\n  .exec()\n  .then(...)\n</code></pre>\n\n<p>shell:</p>\n\n<pre><code>db.getCollection('users')\n  .find({})\n  .collation({'locale':'en'})\n  .sort({'firstName':1})\n</code></pre>\n\n<hr>\n\n<p><strong>Update:</strong> This answer is out of date, 3.4 will have case insensitive indexes. Look to the JIRA for more information <a href=\"https://jira.mongodb.org/browse/SERVER-90\" rel=\"noreferrer\">https://jira.mongodb.org/browse/SERVER-90</a></p>\n\n<hr>\n\n<p>Unfortunately MongoDB does not yet have case insensitive indexes: <a href=\"https://jira.mongodb.org/browse/SERVER-90\" rel=\"noreferrer\">https://jira.mongodb.org/browse/SERVER-90</a> and the task has been pushed back.</p>\n\n<p>This means the only way to sort case insensitive currently is to actually create a specific \"lower cased\" field, copying the value (lower cased of course) of the sort field in question and sorting on that instead.</p>\n"},{"comments":[{"comment_id":35011388,"body":"Yup.. this looks gud.. but I want to implement the same from a java code.. So it&#39;ll more helpful if you share me that how this can be achieved from Java class with handling mongodb and query object."},{"comment_id":35012142,"body":"@VarunKumar You basically need to construct DBObject entries that you pass to the aggregate method. There is <a href=\"http://docs.mongodb.org/ecosystem/tutorial/use-aggregation-framework-with-java-driver/\" rel=\"nofollow noreferrer\">this example</a> in the documentation resources. So it should not be hard to translate. And considering that it is an actual answer to show how it can be done that should not be too hard."},{"comment_id":59836810,"body":"Would this be slow (i.e. does the aggregate get evaluated every time?)"},{"comment_id":83106141,"body":"Did anyone solve the issue using spring-data-mongo or Java?"}],"answer_id":22931481,"body":"<p>Sorting does work like that in MongoDB but you can do this on the fly with aggregate:</p>\n<p>Take the following data:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{ &quot;field&quot; : &quot;BBB&quot; }\n{ &quot;field&quot; : &quot;aaa&quot; }\n{ &quot;field&quot; : &quot;AAA&quot; }\n</code></pre>\n<p>So with the following statement:</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.aggregate([\n    { \n        &quot;$project&quot;: {\n            &quot;field&quot;: 1,\n            &quot;insensitive&quot;: { &quot;$toLower&quot;: &quot;$field&quot; }\n        }\n    },\n    { &quot;$sort&quot;: { &quot;insensitive&quot;: 1 } }\n])\n</code></pre>\n<p>Would produce results like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;field&quot; : &quot;aaa&quot;,\n    &quot;insensitive&quot; : &quot;aaa&quot;\n},\n{\n    &quot;field&quot; : &quot;AAA&quot;,\n    &quot;insensitive&quot; : &quot;aaa&quot;\n},\n{\n    &quot;field&quot; : &quot;BBB&quot;,\n    &quot;insensitive&quot; : &quot;bbb&quot;\n}\n</code></pre>\n<p>The actual order of insertion would be maintained for any values resulting in the same key when converted.</p>\n"},{"answer_id":30831958,"body":"<p>Here it is in Java.  I mixed no-args and first key-val variants of <code>BasicDBObject</code> just for variety</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        DBCollection coll = db.getCollection(\"foo\");\n\n        List&lt;DBObject&gt; pipe = new ArrayList&lt;DBObject&gt;();\n\n        DBObject prjflds = new BasicDBObject();\n        prjflds.put(\"field\", 1);\n        prjflds.put(\"insensitive\", new BasicDBObject(\"$toLower\", \"$field\"));\n\n        DBObject project = new BasicDBObject();\n        project.put(\"$project\", prjflds);\n        pipe.add(project);\n\n        DBObject sort = new BasicDBObject();\n        sort.put(\"$sort\", new BasicDBObject(\"insensitive\", 1));\n        pipe.add(sort);\n\n        AggregationOutput agg = coll.aggregate(pipe);\n\n        for (DBObject result : agg.results()) {\n            System.out.println(result);\n        }\n</code></pre>\n"},{"answer_id":42511116,"body":"<p>This has been an <a href=\"https://jira.mongodb.org/browse/SERVER-90\" rel=\"noreferrer\">issue</a> for quite a long time on MongoDB JIRA, but it is solved now. Take a look at <a href=\"https://docs.mongodb.com/manual/reference/collation/\" rel=\"noreferrer\">this release notes for detailed documentation</a>. You should use <code>collation</code>.</p>\n\n<pre><code>User.find()\n    .collation({locale: \"en\" }) //or whatever collation you want\n    .sort({name:1})\n    .exec(function(err, users) {\n        // use your case insensitive sorted results\n    });\n</code></pre>\n"},{"comments":[{"comment_id":91996203,"body":"Sorting in your app is a bad idea"}],"answer_id":43269750,"body":"<p>We solve this problem with the help of .sort function in JavaScript array</p>\n\n<p>Here is the code</p>\n\n<pre>\n\n    function foo() {\n      let results = collections.find({\n        _id: _id\n      }, {\n        fields: {\n          'username': 1,\n        }\n      }).fetch();\n\n      results.sort((a, b)=>{\n        var nameA = a.username.toUpperCase();\n        var nameB = b.username.toUpperCase();\n\n        if (nameA  nameB) {\n          return 1;\n        }\n        return 0;\n      });\n\n      return results;\n    }\n\n</pre>\n"},{"answer_id":54216892,"body":"<p>As of now (mongodb 4), you can do the following:</p>\n\n<p>mongo shell:</p>\n\n<pre><code>db.getCollection('users')\n  .find({})\n  .collation({'locale':'en'})\n  .sort({'firstName':1});\n</code></pre>\n\n<p>mongoose:</p>\n\n<pre><code>Users.find({})\n  .collation({locale: \"en\" })\n  .sort({name: 1})\n  .exec()\n  .then(...)\n</code></pre>\n\n<p>Here are <a href=\"https://docs.mongodb.com/manual/reference/collation-locales-defaults/#collation-languages-locales\" rel=\"nofollow noreferrer\">supported languages and locales</a> by mongodb.</p>\n"},{"comments":[{"comment_id":97651593,"body":"But when I use collation in Mongoose with aggregation, I get an error  MongooseError: Callback must be a function, got [object Object]"}],"answer_id":55324842,"body":"<p>Adding the code <code>.collation({'locale':'en'})</code> helped to solve my issue. </p>\n"},{"answer_id":59354090,"body":"<p>In  Mongoose:-</p>\n\n<pre><code>Customer.find()\n  .collation({locale: \"en\" })\n  .sort({comapany: 1})\n</code></pre>\n"},{"answer_id":60597470,"body":"<p>Tried all the above and answers\n<strong>Consolidating the result</strong></p>\n\n<p>Answer-1:</p>\n\n<pre><code>db.collection.aggregate([\n    { \"$project\": {\n       \"field\": 1,\n       \"insensitive\": { \"$toLower\": \"$field\" }\n    }},\n    { \"$sort\": { \"insensitive\": 1 } } ])\n</code></pre>\n\n<p>Aggregate query converts the field into lower, So performance is low for large data.</p>\n\n<p>Answer-2:</p>\n\n<pre><code>db.collection.find({}).collation({locale: \"en\"}).sort({\"name\":1})\n</code></pre>\n\n<p>By default mongo follows uft-8 encoding(Z has high piriority then a) rules ,So overriding with  language-specific rules. \nIts fast compare to above query\n Look into an official document to customize rules</p>\n\n<p><a href=\"https://docs.mongodb.com/manual/reference/collation/\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/manual/reference/collation/</a></p>\n"},{"comments":[{"comment_id":122460191,"body":"with <code>$addFields</code> you no longer need to add <code>$$ROOT</code>."}],"answer_id":66155990,"body":"<p>If you want to sort and return all data in a document, you can add <code>document: &quot;$$ROOT&quot;</code></p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.aggregate([\n  { \n    $project: {\n      field: 1,\n      insensitive: { $toLower: &quot;$field&quot; },\n      document: &quot;$$ROOT&quot;\n    }\n  },\n  { $sort: { insensitive: 1 } }\n]).toArray()\n</code></pre>\n"}],"last_activity_date":1684756189,"question_id":22931177,"body":"<p>How can I sort a MongoDB collection by a given field, case-insensitively? By default, I get A-Z before a-z.</p>\n"},{"last_activity_date":1684756179,"question_id":76304717,"body":"<p>I'm getting the following error When I try to run Liquibase\n<strong>diff</strong> and <strong>diffChangeLog</strong>.</p>\n<p>The fun part is When I try to run ./gradlew update -PrunList='localEnv'\n<strong>It runs without any issues</strong>.\nThe same goes for if I <strong>run the application, it runs successfully</strong> and I can do the crud operations.</p>\n<p>The issue is specifically in <strong>diffChangeLog</strong></p>\n<p>Following are my configurations in build.gradle file.</p>\n<pre><code>plugins {\nid 'maven-publish'\nalias(libs.plugins.liquibase)\n}\n\nproject.ext {\n// Local Env DB\nliquibaseLocalEnvUrl = &quot;jdbc:postgresql://localhost:5432/demo&quot;\nliquibaseLocalEnvUsername = &quot;postgres&quot;\nliquibaseLocalEnvPassword = &quot;admin&quot;\ndiffLogLocalEnvChangelogFile = &quot;$projectDir/src/main/resources/config/liquibase/changelog/prod/&quot; + new Date().format(&quot;yyyyMMddHHmmss&quot;) + &quot;_changelog_generated.yml&quot; as GStringImpl\n}\n\nliquibase {\nactivities {\n    localEnv {\n        driver &quot;org.postgresql.Driver&quot;\n\n        url project.ext.liquibaseLocalEnvUrl\n\n        username project.ext.liquibaseLocalEnvUsername\n        password project.ext.liquibaseLocalEnvPassword\n\n        changelogFile &quot;master-prod.yml&quot;\n\n        defaultSchemaName &quot;demo&quot;\n        logLevel &quot;debug&quot;\n        classpath &quot;$projectDir/src/main/resources/config/liquibase/&quot;\n    }\n\n    diffLogLocal {\n        driver 'org.postgresql.Driver'\n        url project.ext.liquibaseLocalEnvUrl\n        username project.ext.liquibaseLocalEnvUsername\n        password project.ext.liquibaseLocalEnvPassword\n        changelogFile project.ext.diffLogLocalEnvChangelogFile\n        referenceUrl &quot;hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;\n        defaultSchemaName &quot;demo&quot;\n        logLevel &quot;debug&quot;\n        classpath &quot;$buildDir/classes/java/main&quot;\n    }\n}\n\nrunList = project.ext.runList\n}\n\n\n diff.dependsOn compileJava\n diffChangelog.dependsOn compileJava\n generateChangelog.dependsOn compileJava\n\n\n dependencies {\n\n// Liquibase plugin config\nliquibaseRuntime(libs.sdwan.core)\nliquibaseRuntime(libs.sdwan.data)\nliquibaseRuntime(libs.liquibase.hibernate5)\nliquibaseRuntime(libs.spring.boot.starter.data.jpa)\nliquibaseRuntime(libs.postgresql)\nliquibaseRuntime(libs.liquibase.core)\nliquibaseRuntime(libs.liquibase.groovyDsl)\nliquibaseRuntime(libs.picocli)\nliquibaseRuntime(libs.snakeyaml)\nliquibaseRuntime(sourceSets.main.output)\n}\n</code></pre>\n<p>all the dependencies are defined in catalog version file. <strong>libs.versions.toml</strong></p>\n<p><strong>Toml File:</strong></p>\n<pre><code>[versions]\nliquibaseCore = &quot;4.22.0&quot;\nliquibaseGroovyDsl = &quot;3.0.3&quot;\nliquibaseHibernate5 = &quot;4.22.0&quot;\npicocli = &quot;4.7.3&quot;\nsnakeyaml = &quot;2.0&quot;\n.............................\n\n[libraries]\n# Liquibase\nliquibase-core = { module = &quot;org.liquibase:liquibase-core&quot;, version.ref = &quot;liquibaseCore&quot; }\nliquibase-groovyDsl = { module = &quot;org.liquibase:liquibase-groovy-dsl&quot;, version.ref = &quot;liquibaseGroovyDsl&quot; }\nliquibase-hibernate5 = { module = &quot;org.liquibase.ext:liquibase-hibernate5&quot;, version.ref = &quot;liquibaseHibernate5&quot; }\nsnakeyaml = { module = &quot;org.yaml:snakeyaml&quot;, version.ref = &quot;snakeyaml&quot; }\npicocli = { module = &quot;info.picocli:picocli&quot;, version.ref = &quot;picocli&quot; }\npostgresql = { module = &quot;org.postgresql:postgresql&quot;, version='42.6.0'}\nspring-boot-starter-data-jpa = { module = &quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;}\n</code></pre>\n<p>I have omitted some libraries to keep it simple.</p>\n<p>Before Error Logs:\n<strong>DB Connection:</strong></p>\n<pre><code>[2023-05-22 13:54:32] FINE [liquibase.database] Properties:\n[2023-05-22 13:54:32] FINE [liquibase.database] Key:'password' Value:'**********'\n[2023-05-22 13:54:32] FINE [liquibase.database] Key:'user' Value:'postgres'\n[2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the URL:'jdbc:postgresql://localhost:5432/demo' using driver:'org.postgresql.Driver'\n[2023-05-22 13:54:32] FINE [liquibase.servicelocator] Loaded liquibase.database.DatabaseConnection instance liquibase.database.jvm.JdbcConnection\n[2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\n[2023-05-22 13:54:32] FINE [liquibase.database] Connected to postgres@jdbc:postgresql://localhost:5432/demo\n[2023-05-22 13:54:32] FINE [liquibase.database] Setting auto commit to false from true\n</code></pre>\n<p><strong>Hibernate Logs:</strong></p>\n<pre><code>[2023-05-22 13:54:32] FINE [liquibase.command] Executing internal command referenceDbUrlConnectionCommandStep\n[2023-05-22 13:54:32] FINE [liquibase.database] Properties:\n[2023-05-22 13:54:32] FINE [liquibase.database] Connecting to the \nURL:'hibernate:spring:com.craas? hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy' using driver:'liquibase.ext.hibernate.database.connection.HibernateDriver'\n[2023-05-22 13:54:32] FINE [liquibase.database] Connection has been created\n[2023-05-22 13:54:32] FINE [liquibase.ext] Connected to null@hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n[2023-05-22 13:54:32] FINE [liquibase.ext] Not adjusting the auto commit mode; it is already false\n[2023-05-22 13:54:32] INFO [liquibase.ext] Reading hibernate configuration hibernate:spring:com.craas?hibernate.enhanced_id=true&amp;dialect=org.hibernate.dialect.PostgreSQL95Dialect&amp;hibernate.physical_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&amp;hibernate.implicit_naming_strategy=org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n[2023-05-22 13:54:33] INFO [liquibase.ext] Found package com.craas\n</code></pre>\n<p><strong>Full Exception</strong></p>\n<pre><code>13:54:33.587 [main] ERROR com.zaxxer.hikari.HikariConfig - HikariPool-1 - dataSource or dataSourceClassName or jdbcUrl is required.\n13:54:33.592 [main] INFO org.hibernate.service.internal.AbstractServiceRegistryImpl - HHH000369: Error stopping service [class org.hibernate.hikaricp.internal.HikariCPConnectionProvider]\njava.lang.NullPointerException: Cannot invoke &quot;com.zaxxer.hikari.HikariDataSource.close()&quot; because &quot;this.hds&quot; is null\n    at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.stop(HikariCPConnectionProvider.java:122)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.stopService(AbstractServiceRegistryImpl.java:399)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.cleanup(EntityManagerFactoryBuilderImpl.java:1449)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1508)\n    at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\n    at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\n    at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\n    at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\n    at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\n    at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\n    at liquibase.command.CommandScope.execute(CommandScope.java:212)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\n    at picocli.CommandLine.access$1500(CommandLine.java:148)\n    at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\n    at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\n    at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\n    at picocli.CommandLine.execute(CommandLine.java:2170)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\n    at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\n\n13:54:33.593 [main] DEBUG org.hibernate.service.spi.ServiceBinding - Overriding existing service binding [org.hibernate.engine.jdbc.connections.spi.ConnectionProvider]\n[2023-05-22 13:54:33] INFO [liquibase.command] Command execution complete\n[2023-05-22 13:54:33] SEVERE [liquibase.integration] Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n- Caused by: dataSource or dataSourceClassName or jdbcUrl is required.\nliquibase.exception.CommandExecutionException: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at liquibase.command.CommandScope.execute(CommandScope.java:235)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:55)\n    at liquibase.integration.commandline.CommandRunner.call(CommandRunner.java:24)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:2041)\n    at picocli.CommandLine.access$1500(CommandLine.java:148)\n    at picocli.CommandLine$RunLast.executeUserObjectOfLastSubcommandWithSameParent(CommandLine.java:2461)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2453)\n    at picocli.CommandLine$RunLast.handle(CommandLine.java:2415)\n    at picocli.CommandLine$AbstractParseResultHandler.execute(CommandLine.java:2273)\n    at picocli.CommandLine$RunLast.execute(CommandLine.java:2417)\n    at picocli.CommandLine.execute(CommandLine.java:2170)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$null$2(LiquibaseCommandLine.java:383)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.lambda$execute$3(LiquibaseCommandLine.java:358)\n    at liquibase.Scope.child(Scope.java:203)\n    at liquibase.Scope.child(Scope.java:179)\n    at liquibase.integration.commandline.LiquibaseCommandLine.execute(LiquibaseCommandLine.java:356)\n    at liquibase.integration.commandline.LiquibaseCommandLine.main(LiquibaseCommandLine.java:93)\n Caused by: liquibase.exception.DatabaseException: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:107)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.obtainDatabase(ReferenceDbUrlConnectionCommandStep.java:80)\n    at liquibase.command.core.helpers.ReferenceDbUrlConnectionCommandStep.run(ReferenceDbUrlConnectionCommandStep.java:61)\n    at liquibase.command.CommandScope.execute(CommandScope.java:212)\n    ... 18 more\n\n Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:284)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:246)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:295)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:252)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494)\n    at liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath(HibernateEjb3Database.java:59)\n    at liquibase.ext.hibernate.database.HibernateDatabase.buildMetadata(HibernateDatabase.java:143)\n    at liquibase.ext.hibernate.database.HibernateDatabase.setConnection(HibernateDatabase.java:83)\n    at liquibase.database.DatabaseFactory.findCorrectDatabaseImplementation(DatabaseFactory.java:124)\n    at liquibase.database.DatabaseFactory.openDatabase(DatabaseFactory.java:144)\n    at liquibase.command.core.helpers.AbstractDatabaseConnectionCommandStep.createDatabaseObject(AbstractDatabaseConnectionCommandStep.java:75)\n    ... 21 more\n Caused by: org.hibernate.HibernateException: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\n    at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:63)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:107)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:255)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:223)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:146)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:66)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:272)\n    ... 37 more\n Caused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.\n    at com.zaxxer.hikari.HikariConfig.validate(HikariConfig.java:1029)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:77)\n    at org.hibernate.hikaricp.internal.HikariCPConnectionProvider.configure(HikariCPConnectionProvider.java:59)\n    ... 45 more\n</code></pre>\n"},{"comments":[{"comment_id":134558681,"body":"What about <code>values.put(&quot;root&quot;, updatedResponsiveGrid)</code>?"},{"comment_id":134558883,"body":"yeah, how to make updatedResponsiveGrid object. If it is simple object like string and int we can easily make the change the change. But here it is little complex object type. Is there any way ?"},{"comment_id":134558997,"body":"Why does it matter if the object is in a map? Modify it like you would modify it outside a map (by calling its setters or by creating a new instance with the required properties). If you create a new instance, you have to <code>put</code> it into the map afterwards; if you modify the existing instance, there&#39;s nothing left to do"},{"comment_id":134559023,"body":"can you provide any code snippet if you have please ?"},{"comment_id":134559032,"body":"You already have the the value instance with <code>ResponsiveGrid res = (ResponsiveGrid) values.get(&quot;root&quot;);</code> Why can&#39;t you update it?"},{"comment_id":134559177,"body":"If the value is in different different key, we can remove the key simply but here all the values in one single map key. How to update the object values? I meant how to remove certain &quot;classNames, columns and currentStyle &quot; alone?"},{"comment_id":134562181,"body":"@Mustafa&#214;z&#231;etin - can you please help ?"},{"comment_id":134565492,"body":"Those are not keys in a map. <code>classNames</code>, <code>columns</code>, and <code>currentStyle</code> are fields of the <a href=\"https://jar-download.com/artifacts/com.adobe.aem/uber-jar/6.3.3/source-code/com/day/cq/wcm/foundation/model/responsivegrid/ResponsiveGrid.java\" rel=\"nofollow noreferrer\"><code>ResponsiveGrid</code></a> object. You cannot remove them, nor would you want to. You say, &quot;... which contains below methods,&quot; but those are neither methods nor map keys, just fields. You are misunderstanding what the debugger is showing you."},{"comment_id":134567664,"body":"@MarioR, the values you are referring to are the fields on the <code>ResponsiveGrid</code> class.  If you want to view the <code>Entry</code> items of the map, print <code>values</code> to the standard-out; <code>System.out.println(values)</code>."},{"comment_id":134567806,"body":"I used models.forEach((k, v) -&gt; {     \t\tLOG.info(&quot;Key::: &quot; + k + &quot;, Value:::: &quot; + v);     \t}); which gives me  Key::: root, Value:::: com.day.cq.wcm.foundation.model.responsivegrid.ResponsiveGri&zwnj;&#8203;d@585a26"}],"last_activity_date":1684755995,"question_id":76305842,"body":"<p>I want to read the map key and update the map value in java. The below code <em>page.getExportedItems()</em> method gives me an one single key and value as object type of ResponsiveGrid. I just want to remove certain values in this map value and update the map.</p>\n<pre><code>Map&lt;String, ? extends ComponentExporter&gt; values = page.getExportedItems();\n\ncom.day.cq.wcm.foundation.model.responsivegrid.ResponsiveGrid res = (ResponsiveGrid) values.get(&quot;root&quot;);\n</code></pre>\n<p>The map value contains object ResponsiveGrid which contains below methods,\n<a href=\"https://i.stack.imgur.com/xJAf2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xJAf2.png\" alt=\"enter image description here\" /></a></p>\n<p>For example, I want to remove classNames, columns and currentStyle and use rest of all the items. Is there any way to modify the value ? I can modify if it simple type string and integer but I am not sure how to modify the object state values. Can anyone guide me?</p>\n"},{"answers":[{"answer_id":5936583,"body":"<p>You can use System.setErr() to give it a PrintStream which doesn't do anything.</p>\n\n<p>See @dogbane's example for the code.</p>\n"},{"comments":[{"comment_id":15646100,"body":"I have found another way: System.err.close();"},{"comment_id":89377488,"body":"@elou Do you know how to restore the original System.err after you&#39;ve closed it?"},{"comment_id":89497669,"body":"Hi @Noumenon, I have investigate the question and came to the same conclusion as here: <a href=\"https://stackoverflow.com/a/27286893/281188\">It is not possible to reopen</a>. If you need to reopen, you should prefer to backup the stream with <code>PrintStream _err = System.err;</code> before overwriting with <code>System.setErr(..)</code>. After that it&#39;s possible to restore with  <code>System.setErr(_err)</code>. Regards, &#201;ric."}],"answer_id":5936614,"body":"<pre><code>System.setErr(new PrintStream(new OutputStream() {\n    public void write(int b) {\n    }\n}));\n</code></pre>\n"},{"comments":[{"comment_id":6841073,"body":"this is *nix specific, though."},{"comment_id":6841082,"body":"Note: On Windows, use &quot;NUL:&quot; instead of &quot;/dev/null&quot;."},{"comment_id":6841136,"body":"/dev/null doesn&#39;t exist in windows (you can use NUL on those though)"},{"comment_id":6841230,"body":"@rachet freak, If you have a directory called <code>dev</code> it soon will. ;) (<code>dev</code> is short for development on my PC)"},{"comment_id":134557806,"body":"FileOutputStream is an overkill for this, you can use common-io NullOutputStream()"}],"answer_id":5936618,"body":"<p>You could redirect the err Stream to <code>/dev/null</code></p>\n\n<pre><code>OutputStream output = new FileOutputStream(\"/dev/null\");\nPrintStream nullOut = new PrintStream(output);\nSystem.setErr(nullOut);\n</code></pre>\n"},{"answer_id":5936653,"body":"<p>Just set Error to dommy implementation:</p>\n\n<pre><code>System.setErr(new PrintStream(new OutputStream() {\n            @Override\n            public void write(int arg0) throws IOException {\n                // keep empty\n            }\n        }));\n</code></pre>\n\n<p>You need to have special permission to do that. </p>\n\n<pre><code>RuntimePermission(\"setIO\")\n</code></pre>\n"},{"answer_id":76305827,"body":"<p>Using <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">commons-io</a>'s <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/output/NullOutputStream.html\" rel=\"nofollow noreferrer\">NullOutputStream</a>, just:</p>\n<pre><code>System.setErr(new PrintStream(new NullOutputStream()));\n</code></pre>\n"}],"last_activity_date":1684755895,"question_id":5936562,"body":"<p>Is there a way to set the stream System.err so everything written to it is ignored? (i.e. discarded not outputted)</p>\n"},{"comments":[{"comment_id":134558287,"body":"I think because you want to println the whole list of multilingualTemplates it calls the toString method, which calls the LAZY annotated ShemeCode, and it gets into a loop. Try to println for example the first element&#39;s templateCode of the multilingualTemplates and see if the problem still there. For example <code>System.out.println(schemeCode.getMultilingualTemplates().get&zwnj;&#8203;(0).getTemplateCode(&zwnj;&#8203;));</code>"},{"comment_id":134558493,"body":"Don&#39;t use <code>@Data</code> with entities (and <code>@ToString</code>/<code>@EqualsAndHashcode</code> for that matter). It will lead to these kinds of issues as it will generate a <code>toString</code> (and friednds) including <b>all fields</b> of your entites. Now you have a bi directional relationship going back and for. So 1 will call <code>toString</code>, leading to the other calling <code>toString</code>, leading to 1 will call <code>toString</code> and so on and on.... See <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a> for more detailed description."}],"answers":[{"answer_id":76305780,"body":"<p>The recursion is caused by @ToString lombok annotation and the two way reference. The generated toString methods are unaware of any @JsonManagedReference (which is for jackson serialization)</p>\n<p>There is no such equivalent as <code>@JsonBackReference</code>, but you could annotate the field with <code>@ToString.Exclude</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@JsonBackReference\n@ToString.Exclude\nList&lt;MultilingualTemplateV2&gt; multilingualTemplates;\n</code></pre>\n"}],"last_activity_date":1684755671,"question_id":76305603,"body":"<p>I am using JPA with oracle databases and need to implement a bidirectional one to many and many to one mapping for the tables scheme_code_template and multilingual_template_v2 respectively.</p>\n<p><strong>MultilingualTemplateV2 Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;multilingual_template_v2&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@ToString\npublic class MultilingualTemplateV2 {\n\n    \n    @NotNull()\n    String language;\n    \n    \n    @NotNull()\n    @Nationalized\n    String template;\n    \n    @Id\n    @Column(name=&quot;template_code&quot;)\n    @NotNull()\n    String templateCode;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;associated_schemecode&quot;)\n    @JsonManagedReference\n    SchemeCode schemeCode;\n}\n</code></pre>\n<p><strong>SchemeCode Entity</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;scheme_code_templates&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\n@ToString\npublic class SchemeCode {\n\n    \n    @Column(name=&quot;associated_pushcode&quot;)\n    Integer associatedPushcode;\n    \n    @NotNull\n    String description;\n        \n    @Id\n    @NotNull()\n    String schemeCode;\n    \n    \n    @OneToMany(mappedBy = &quot;schemeCode&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n    @JsonBackReference\n    List&lt;MultilingualTemplateV2&gt; multilingualTemplates;\n}\n</code></pre>\n<p>database:</p>\n<p>below is scheme_code_templates. It has the scheme_code as primary key which is used as the foreign key in multilingual_template_v2 table</p>\n<pre><code>Name                Null?    Type          \n------------------- -------- ------------- \nASSOCIATED_PUSHCODE          NUMBER        \nSCHEME_CODE         NOT NULL VARCHAR2(6)   \nDESCRIPTION         NOT NULL VARCHAR2(200)\n</code></pre>\n<p>below is multilingual_template_v2 . It has the ASSOCIATED_SCHEMECODE as foreign key referencing the scheme_code in scheme_code_templates. Template_code is the primary key.</p>\n<pre><code>Name                  Null?    Type         \n--------------------- -------- ------------ \nASSOCIATED_SCHEMECODE          VARCHAR2(6)  \nTEMPLATE_CODE         NOT NULL VARCHAR2(9)  \nLANGUAGE              NOT NULL VARCHAR2(30) \nTEMPLATE              NOT NULL NCLOB \n</code></pre>\n<p>Used the below query to set foreign key in multilingual_template_v2</p>\n<pre><code>ALTER TABLE multilingual_template_v2\nADD CONSTRAINT fk_scheme_code_templates\n  FOREIGN KEY (associated_schemecode)\n  REFERENCES scheme_code_templates(scheme_code);\n</code></pre>\n<p>I have created a JpaRepository for scheme_code called SchemeCodeRepository through which I am using findAll(). Currently I am getting below error when getMultilingualTemplates() is called.</p>\n<pre><code>for (SchemeCode schemeCode : schemeRepo.findAll()) {\n            System.out.println(schemeCode.getMultilingualTemplates());\n        }\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.MultilingualTemplateV2.toString(MultilingualTemplateV2.java:30) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at java.util.AbstractCollection.toString(AbstractCollection.java:457) ~[?:?]\n    at org.hibernate.collection.spi.PersistentBag.toString(PersistentBag.java:585) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n    at java.lang.StringBuilder.append(StringBuilder.java:173) ~[?:?]\n    at com.dcb.smsbatch.dataLayer.entities.SchemeCode.toString(SchemeCode.java:34) ~[classes/:?]\n    at java.lang.String.valueOf(String.java:4218) ~[?:?]\n</code></pre>\n<p>Any help or suggestion is greatly appreciated.</p>\n"},{"comments":[{"comment_id":76797397,"body":"Why doesn&#39;t the cache annotation work?  For invalidating the cache, see <a href=\"https://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Expiration\" rel=\"nofollow noreferrer\">wiki.eclipse.org/EclipseLink/UserGuide/JPA/&hellip;</a> and <a href=\"https://www.eclipse.org/eclipselink/documentation/2.5/concepts/cache006.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.5/concepts/cache006.&zwnj;&#8203;htm</a>"},{"comment_id":76831008,"body":"The reason why the annotation doens&#39;t work is related to my IDE (netbeans). Importing the package <code>javax.persistence.Cache</code> I got an incompatible type error. I have to import the right package (org.eclipse.persistence.annotations). Anyway, the cache annotation is not the solution I am looking for. I need a global one. Is there any? Thanks"},{"comment_id":76832372,"body":"What do you mean by global - invalidation only applies to the shared cache, at the EMF level.  If you have more than one application running, you can look into cache coordination, which would allow each application to listen for events.  See <a href=\"https://www.eclipse.org/eclipselink/documentation/2.6/concepts/cache010.htm\" rel=\"nofollow noreferrer\">eclipse.org/eclipselink/documentation/2.6/concepts/cache010.&zwnj;&#8203;htm</a>"},{"comment_id":76833783,"body":"I understand, so I have to change every entity or better have them all extending a superclass where I define the cache strategy which will be inherited. The document is very interesting. I&#39;ll need some time to dive in. Thanks Chris."}],"answers":[{"answer_id":49171220,"body":"<p>First level cache is enabled by default and you can not disable it. i.e. no settings in your persistence.xml file will disable first level cache.</p>\n\n<p>You can only clear out all the entity manager objects by calling </p>\n\n<pre><code>entityManager.clear()\n</code></pre>\n\n<p>this will make subsequent queries go to the database (the first time) and then objects are again stored in the cache</p>\n\n<p>In your case you would need to store your entitymanager objects in a register somewhere and have a loop through it every 3 hours to call the clear() function.</p>\n\n<p>You can force each query to go to the database directly by calling </p>\n\n<pre><code>query.setHint(\"javax.persistence.cache.storeMode\", CacheStoreMode.REFRESH);\n</code></pre>\n"},{"answer_id":76305793,"body":"<p>You can clear Eclipselink's second level cache by accessing the <code>Cache</code> object in the <code>EntityManagerFactory</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>entityManager.getEntityManagerFactory().getCache().evictAll();\n</code></pre>\n"}],"last_activity_date":1684755586,"question_id":44905546,"body":"<p>I'm using following settings in persistence.xml (I use Eclipselink 2.6.4) from my web application:</p>\n\n<pre><code>&lt;properties&gt; \n    &lt;property name=\"eclipselink.jdbc.cache-statements\" value=\"true\" /&gt;        \n    &lt;property name=\"eclipselink.cache.query-results\" value=\"true\" /&gt; \n    &lt;property name=\"eclipselink.ddl-generation.index-foreign-keys\" value=\"true\" /&gt;\n    &lt;property name=\"eclipselink.logging.level\" value=\"OFF\" /&gt;        \n    &lt;property name=\"eclipselink.persistence-context.close-on-commit\" value=\"true\" /&gt;        \n    &lt;property name=\"eclipselink.persistence-context.flush-mode\" value=\"commit\" /&gt;        \n    &lt;property name=\"eclipselink.persistence-context.persist-on-commit\" value=\"false\" /&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>I'm using the <code>@Cacheable(false)</code> annotation to prevent some entities from being cached. <br> \nThe <code>@Cache</code> annotation doesn't work any more in version 2.6.4. <br> \nMy question is, is there a possibility to clear the cache globally? Let say every 3 hours? <br>\nThanks</p>\n"},{"comments":[{"comment_id":134562519,"body":"I think this post from the stackoverflow might help you <a href=\"https://stackoverflow.com/questions/6908948/java-sun-security-provider-certpath-suncertpathbuilderexception-unable-to-find\" title=\"java sun security provider certpath suncertpathbuilderexception unable to find\">stackoverflow.com/questions/6908948/&hellip;</a>"}],"last_activity_date":1684755560,"question_id":76305787,"body":"<p>I try to run flutter code in android emulator but each time I have this compile-error with java. When I run on windows device error are not display. How can I solve it?\n<a href=\"https://i.stack.imgur.com/epC1r.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I tried to reinstall java and add some certificate.</p>\n"},{"last_activity_date":1684755546,"question_id":76305785,"body":"<p>I'm developping a JAVA Application using STOMP over Websocket. I need to subscribe to a topic programmatically without a user calling an &quot;/topic/...&quot; endpoint.</p>\n<p>What I tried so far:</p>\n<pre><code>@Controller\npublic class WebsocketController extends DefaultSubscriptionRegistry {\n    \n    WebsocketController() {\n        super();\n    }\n\n    @MessageMapping(&quot;/doMySubscription&quot;)\n    public void register(@Header(&quot;simpSessionId&quot;) String sessionId) {\n        StompHeaderAccessor headers = StompHeaderAccessor.create(StompCommand.SUBSCRIBE);\n        headers.setDestination(&quot;/topic/thisOrThat&quot;);\n        headers.setSessionId(sessionId);\n        headers.setSubscriptionId(UUID.randomUUID().toString());\n        Message&lt;?&gt; subscribeMessage = MessageBuilder.withPayload(new byte[0]).setHeaders(headers).build();\n        this.registerSubscription(subscribeMessage);\n    }\n}\n</code></pre>\n<p>My WebSocket Config looks like that:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\nclass WebSocketMessageBroker implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/websocket&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/websocket-connection&quot;).withSockJS();\n    }\n}\n</code></pre>\n<p>The code compiles and runs without Exception. But finally the subscription is not working.</p>\n<p>Is there any solution to add a subscription to a destination?</p>\n<p>Thanks!</p>\n"},{"comments":[{"comment_id":134556905,"body":"As you can see in the documentation you provided, there&#39;s a <code>nextToken</code>. That&#39;s part of every AWS API call that gives a list of elements. You need to create a loop and pass the <code>nextToken</code> so you can get more elements"}],"answers":[{"comments":[{"comment_id":134558650,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76305774/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76305774,"body":"<p>The comment from Caldazar is the solution. Thanks!</p>\n"}],"last_activity_date":1684755468,"question_id":76263907,"body":"<p>I want to access multiple log streams of a log group from cloud watch via java:</p>\n<pre><code>AWSLogs logsClient = builder.withCredentials(new AWSStaticCredentialsProvider(awsCreds))\n                    .withRegion(Regions.EU_CENTRAL_1)\n                    .withClientConfiguration(clientConfig).build();\nDescribeLogStreamsRequest describeLogStreamsRequest = new DescribeLogStreamsRequest().withLogGroupName(&quot;foo&quot;).withOrderBy(OrderBy.LastEventTime).withDescending(true);DescribeLogStreamsResult describeLogStreamsResult = logsClient.describeLogStreams(describeLogStreamsRequest);\n\n for (LogStream logStream : describeLogStreamsResult.getLogStreams()) {\n\n\n                GetLogEventsRequest getLogEventsRequest = new GetLogEventsRequest()\n                        .withStartTime(startTimestamp)\n                        .withEndTime(endTimestamp)\n                        .withLogGroupName(&quot;fooo&quot;)\n                        .withLogStreamName(logStream.getLogStreamName());\n</code></pre>\n<p>the <a href=\"https://docs.aws.amazon.com/AmazonCloudWatchLogs/latest/APIReference/API_DescribeLogStreams.html\" rel=\"nofollow noreferrer\">documentation </a> states, that 50 log streams is the max.\nIs there any way to access more than the (latest) 50 log streams?</p>\n"},{"comments":[{"comment_id":134558545,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75684382/issues-were-found-when-checking-aar-metadata-androidx-corecore1-12-0-alpha01\">Issues were found when checking AAR metadata: androidx.core:core:1.12.0-alpha01 and androidx.core:core-ktx:1.12.0-alpha01</a>"},{"comment_id":134558578,"body":"I tried all the methods out there but it didn&#39;t work"},{"comment_id":134558657,"body":"You should check this url: <a href=\"https://developer.android.com/about/versions/14/setup-sdk\" rel=\"nofollow noreferrer\">developer.android.com/about/versions/14/setup-sdk</a>"},{"comment_id":134558937,"body":"i did and the error is For input string: &quot;UpsideDownCake&quot;"}],"last_activity_date":1684755336,"question_id":76305394,"body":"<p>2 issues were found when checking AAR metadata:</p>\n<ol>\n<li><p>Dependency 'androidx.core:core:1.12.0-alpha04' requires libraries and applications that\ndepend on it to compile against codename &quot;UpsideDownCake&quot; of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Recommended action: Use a different version of dependency 'androidx.core:core:1.12.0-alpha04',\nor set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\nfile if you intend to experiment with that preview SDK.</p>\n</li>\n<li><p>Dependency 'androidx.core:core-ktx:1.12.0-alpha04' requires libraries and applications that\ndepend on it to compile against codename &quot;UpsideDownCake&quot; of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Recommended action: Use a different version of dependency 'androidx.core:core-ktx:1.12.0-alpha04',\nor set compileSdkPreview to &quot;UpsideDownCake&quot; in your build.gradle\nfile if you intend to experiment with that preview SDK.</p>\n</li>\n</ol>\n<p>I get this error when I want to run android project</p>\n<pre><code>    plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.onesignal.androidsdk.onesignal-gradle-plugin'\n    //id 'com.google.gms.google-services' // Google Services plugin // Uncomment the plugin to use firebase and obtain the google-services.json file\n}\n\nandroid {\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.softr.tiktokdownloader&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;2.0.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    dataBinding {\n        enabled true\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n    kotlinOptions {\n        jvmTarget = '11'\n    }\n}\n\ndependencies {\n\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation project(path: ':jcplayer')\n    implementation 'androidx.core:core-ktx:1.10.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    // required to avoid crash on Android 12 API 31\n    implementation 'androidx.work:work-runtime-ktx:2.8.1'\n\n    // butterknife\n    implementation 'com.jakewharton:butterknife:10.2.3'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\n\n    /*admob*/\n    implementation 'com.google.android.gms:play-services-ads:19.8.0'\n    /*admob open app ad*/\n    def lifecycle_version = &quot;2.2.0&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-extensions:$lifecycle_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n\n    implementation 'com.airbnb.android:lottie:5.2.0'\n    implementation 'com.infideap.drawerbehavior:drawer-behavior:1.0.4'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n    implementation 'com.onesignal:OneSignal:[4.0.0, 4.99.99]'\n    def multidex_version = &quot;2.0.1&quot;\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\n\n    implementation 'com.github.vimalcvs:Day-Night-Switch:1.0.3'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.polyak:icon-switch:1.0.0'\n    //payment\n    def billing_version = &quot;4.0.0&quot;\n    implementation &quot;com.android.billingclient:billing:$billing_version&quot;\n\n    implementation 'com.github.chnouman:AwesomeDialog:1.0.5'\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation 'com.squareup.okhttp3:logging-interceptor:4.9.1'\n    implementation 'com.google.code.gson:gson:2.10'\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.14.1'\n    implementation 'com.jackandphantom.android:circularimageview:1.2.0'\n    implementation 'com.nabinbhandari.android:permissions:3.8'\n    implementation 'com.github.esafirm:RxDownloader:1.0.1'\n    implementation 'io.paperdb:paperdb:2.6'\n    implementation 'com.github.HBiSoft:PickiT:0.1.10'\n    implementation 'com.github.Andy671:Dachshund-Tab-Layout:v0.3.3'\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":134558302,"body":"Please go to the <i>Error Log</i> view, select the error, hit Ctrl+C and paste it into your question formatted as <i>Sample Code</i>. Is this a fresh installation of Eclipse 2023-03?"}],"answers":[{"answer_id":76305738,"body":"<p>Re-Installed eclipse\nissue resolved</p>\n"}],"last_activity_date":1684755176,"question_id":76304690,"body":"<p>How to solve the &quot;IWAB0014E Unexpected exception occurred&quot; Error in eclipse 2023.03.</p>\n<p>Running:\nServer : Apache Tomcat v9.0\nJRE : JavaSE 17</p>\n<pre><code>IWAB0014E Unexpected exception occurred.\n  com/ibm/icu/util/StringTokenizer\n      java.lang.NoClassDefFoundError: com/ibm/icu/util/StringTokenizer\n      at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.greaterThan(FacetUtils.java:1279)\n      at org.eclipse.jst.ws.internal.consumption.common.FacetUtils.getRuntimes(FacetUtils.java:1153)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getRuntimes(WebServiceRuntimeExtensionUtils2.java:2329)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceRuntime(WebServiceRuntimeExtensionUtils2.java:732)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getServerFactoryIdsByServiceType(WebServiceRuntimeExtensionUtils2.java:671)\n      at org.eclipse.jst.ws.internal.consumption.ui.wsrt.WebServiceRuntimeExtensionUtils2.getDefaultServerValueFor(WebServiceRuntimeExtensionUtils2.java:896)\n      at org.eclipse.jst.ws.internal.creation.ui.widgets.ServerWizardWidgetDefaultingCommand.execute(ServerWizardWidgetDefaultingCommand.java:53)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.runCommand(CommandFragmentEngine.java:421)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.visitTop(CommandFragmentEngine.java:361)\n      at org.eclipse.wst.command.internal.env.core.fragment.CommandFragmentEngine.moveForwardToNextStop(CommandFragmentEngine.java:256)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager$6.run(SimpleCommandEngineManager.java:296)\n      at org.eclipse.wst.command.internal.env.ui.widgets.SimpleCommandEngineManager.runForwardToNextStop(SimpleCommandEngineManager.java:260)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.runForwardToNextStop(WizardPageManager.java:93)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getNextPage(WizardPageManager.java:156)\n      at org.eclipse.wst.command.internal.env.ui.widgets.WizardPageManager.getStartingPage(WizardPageManager.java:82)\n      at org.eclipse.wst.command.internal.env.ui.widgets.DynamicWizard.getStartingPage(DynamicWizard.java:366)\n      at org.eclipse.jface.wizard.WizardDialog.showStartingPage(WizardDialog.java:1265)\n      at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:638)\n      at org.eclipse.jface.window.Window.create(Window.java:431)\n      at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1094)\n      at org.eclipse.wst.command.internal.env.ui.widgets.popup.DynamicPopupWizard.run(DynamicPopupWizard.java:128)\n      at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:239)\n      at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:580)\n      at org.eclipse.jface.action.ActionContributionItem.lambda$4(ActionContributionItem.java:414)\n      at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n      at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n      at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n      at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n      at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n      at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n      at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n      at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n      at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n      at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n      at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n      at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n      at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n      at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n      at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n      at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n      at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n      at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n      at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n      at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n      at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n      at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n      at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n      at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\n      Caused by: java.lang.ClassNotFoundException: com.ibm.icu.util.StringTokenizer cannot be found by org.eclipse.jst.ws.consumption_1.0.1600.v202302070757\n      ... 49 more\n</code></pre>\n<p>Tried</p>\n<ul>\n<li>import javax.jws.WebService; however the javas.jws is not found.</li>\n<li>Right Clicking on the class &quot;Web Service&quot;-&gt; &quot;create Web service&quot;</li>\n</ul>\n"},{"answers":[{"comments":[{"comment_id":134559413,"body":"Ahh thanks! Appreciate your help!"}],"answer_id":76305413,"body":"<p>You can fetch the string that is already present in the EditText and then concatenate the new number present.</p>\n<p>Ex: -</p>\n<pre><code>EditText edt = ((EditText)findViewById(R.id.et_ans));\nButton one_button = findViewById(R.id.one);\n     one_button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                  String a=edt.getText().toString();\n                  edt.setText(a+ &quot;1&quot;);\n                }\n            });\n</code></pre>\n"},{"comments":[{"comment_id":134559423,"body":"Ahh thanks! Appreciate your help really!!"}],"answer_id":76305437,"body":"<p>You can store value in a string variable and when you press a new key you just append that value in your string variable and set this to your editText.\nsuppose you create a instance variable like -</p>\n<pre><code>String myValue = &quot;&quot;;\n</code></pre>\n<p>and now you press the button having number 1, the logic after you click the button is -</p>\n<pre><code>@Override\npublic void onClick(View view) {\n    myValue = myValue+&quot;1&quot;;\n    ((EditText)findViewById(R.id.et_ans)).setText(myValue);\n}\n</code></pre>\n<p>Hope this will helpful to you.\nYou can also use StringBuilder for the same.</p>\n"}],"last_activity_date":1684754951,"question_id":76305043,"body":"<p>We all know how calculator works. I am trying to make a calculator in android studio. The thing is I don't want the user to use their keyboard to give number inputs, instead the user is gonna use the buttons on the app. The picture shown below-\n<a href=\"https://i.stack.imgur.com/QYlQ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QYlQ7.png\" alt=\"Calculator App Frontend\" /></a></p>\n<p>Now the question is how to do this button thing? When user clicks button 1 the edittext should show 1, if pressed 2 then show 2 after the 1 in edittext. I am not having any idea at all. I just want an equation in the edittext like 456+54-56/5 like this. I can probably do the math coding but I can't have the numbers. And I don't know how to take input in the edittext other than the keyboard which is not really a calculator thing.</p>\n<p>I couldn't try anything. I kinda did this-</p>\n<pre><code>Button C_button = findViewById(R.id.c);\n        C_button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                ((EditText)findViewById(R.id.et_ans)).setText(&quot;0&quot;);\n            }\n        });\n</code></pre>\n<p>But I know why it doesn't work, it just simply put the string zero all together in the edittext every time I click the zero button. But not working like the keyboard entry. Can somebody help me with this?</p>\n"}]}