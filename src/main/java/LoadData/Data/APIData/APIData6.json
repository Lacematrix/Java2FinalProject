{"items":[{"answers":[{"answer_id":76305645,"body":"<p>In <code>xgroupCreate</code> method, send <code>new StreamEntryID()</code> instead of StreamEntryID.LAST_ENTRY.</p>\n"}],"last_activity_date":1684754482,"question_id":76304463,"body":"<p>I am using Redis with the Jedis client , I have two classes , a Producer one and a Consumer one .The data sent by the producer class over streams is not being recieved well by the Consumer class . It seems there is loss of data but I do not know the source or how to mitigate this problem .\nMy Streams producer code snippet :</p>\n<pre><code>    Map&lt;String, String&gt; messageBody  = new HashMap&lt;&gt;();\n        for(String basekey : args){\n            Set&lt;String&gt; prices =  client.keys(&quot;RTSH:&quot;+basekey +&quot;*&quot;);\n            for(String price_key : prices){\n                messageBody.put(&quot;json_key&quot;, price_key);\n                client.xadd(STREAMS_KEY, StreamEntryID.NEW_ENTRY, messageBody);\n                System.out.println(messageBody);\n            }\n        }\n\n</code></pre>\n<p>My streams consumer snippet :</p>\n<pre><code>HostAndPort config = new HostAndPort(Protocol.DEFAULT_HOST, 6379);\n        PooledConnectionProvider provider = new PooledConnectionProvider(config);\n        UnifiedJedis client = new UnifiedJedis(provider);\n        XReadGroupParams xReadGroupParams = new XReadGroupParams();\n        xReadGroupParams.block(0);\n        xReadGroupParams.count(1);\n        xReadGroupParams.noAck();\n        try {\n            client.xgroupCreate(STREAMS_KEY, &quot;RTSH_consumers&quot;,StreamEntryID.LAST_ENTRY,true);\n        }catch(Exception redisBusyException) {\n            System.out.println( String.format(&quot;\\t Group '%s' already exists&quot;, &quot;application_1&quot;));\n        }\n        Map&lt;String, StreamEntryID&gt; stream =  new HashMap&lt;&gt;();\n        stream.put(STREAMS_KEY,StreamEntryID.UNRECEIVED_ENTRY);\n        while(true) {\n            List&lt;Map.Entry&lt;String, List&lt;StreamEntry&gt;&gt;&gt; messages = client.xreadGroup(&quot;RTSH_consumers&quot;, &quot;consumer_RTSH&quot;, xReadGroupParams, stream);\n            if (!messages.isEmpty()) {\n                for (Map.Entry&lt;String, List&lt;StreamEntry&gt;&gt; entry : messages) {\n                    String key = entry.getKey();//key is the stream name\n                    List&lt;StreamEntry&gt; value = entry.getValue();\n                    for (StreamEntry StreamEntry : value) {\n                        String json_key = StreamEntry.getFields().get(&quot;json_key&quot;);\n                        Object prices =  client.jsonGet(json_key);\n                        System.out.println(prices);\n                        System.out.println(&quot;\\n&quot;);\n                        client.xack(STREAMS_KEY, &quot;RTSH_consumers&quot;, StreamEntry.getID());\n                    }\n                }\n            }\n        }\n</code></pre>\n<p>I tried fetching less data but the problem persists.</p>\n"},{"comments":[{"comment_id":97869653,"body":"shouldn&#39;t be an issue since there is no significant change from 1.4 to 1.6, also class is present: <a href=\"https://commons.apache.org/proper/commons-validator/apidocs/index.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-validator/apidocs/index.ht&zwnj;&#8203;ml</a>, <a href=\"https://commons.apache.org/proper/commons-validator/changes-report.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-validator/changes-report.h&zwnj;&#8203;tml</a>"}],"answers":[{"answer_id":55586085,"body":"<p>This means that the class <code>org.apache.commons.validator.routines.UrlValidator</code> is missing in the runtime classpath.</p>\n"},{"comments":[{"comment_id":97870188,"body":"Thank you. My problem was solved after adding the common-validator to the artifact and rebuilding it."}],"answer_id":55586274,"body":"<p>Check if your <code>commons-validator.jar</code> exists in your war file. The class <a href=\"https://commons.apache.org/proper/commons-validator/apidocs/org/apache/commons/validator/routines/UrlValidator.html\" rel=\"nofollow noreferrer\">still exists</a> in 1.6 and no dependencies have been changed since version 1.4. See the <a href=\"https://commons.apache.org/proper/commons-validator/changes-report.html\" rel=\"nofollow noreferrer\">release notes</a>.</p>\n"},{"answer_id":76305642,"body":"<p>For me the problem was solved by adding the jar files in the path : C:\\Jboss_Seam\\jboss-6.1.0.Final\\server\\default\\lib</p>\n"}],"last_activity_date":1684754464,"question_id":55586050,"body":"<p>I work on the url shortener project. To test the validation of a url, I use the common-validator version 1.4.0. I use jersey and my web server is tomcat. After upgrading common-validator to version 1.6, I get the following exception. Could anybody help me?</p>\n\n<pre><code>HTTP Status 500 – Internal Server Error&lt;/h1&gt;&lt;hr class=\"line\" /&gt;&lt;p&gt;&lt;b&gt;Type&lt;/b&gt; Exception Report&lt;/p&gt;&lt;p&gt;&lt;b&gt;Message&lt;/b&gt; Servlet.init() for servlet [jersey-serlvet] threw exception&lt;/p&gt;&lt;p&gt;&lt;b&gt;Description&lt;/b&gt; The server encountered an unexpected condition that prevented it from fulfilling the request.&lt;/p&gt;&lt;p&gt;&lt;b&gt;Exception&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;javax.servlet.ServletException: Servlet.init() for servlet [jersey-serlvet] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:748)\n&lt;/pre&gt;&lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;java.lang.NoClassDefFoundError: Lorg&amp;#47;apache&amp;#47;commons&amp;#47;validator&amp;#47;routines&amp;#47;UrlValidator;\n    java.lang.Class.getDeclaredFields0(Native Method)\n    java.lang.Class.privateGetDeclaredFields(Class.java:2583)\n    java.lang.Class.getDeclaredFields(Class.java:1916)\n    org.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:311)\n    org.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:308)\n    java.security.AccessController.doPrivileged(Native Method)\n    org.glassfish.jersey.server.model.IntrospectionModeller.checkResourceClassFields(IntrospectionModeller.java:210)\n    org.glassfish.jersey.server.model.IntrospectionModeller.doCreateResourceBuilder(IntrospectionModeller.java:137)\n    org.glassfish.jersey.server.model.IntrospectionModeller.access$000(IntrospectionModeller.java:80)\n    org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:111)\n    org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:108)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\n    org.glassfish.jersey.server.model.IntrospectionModeller.createResourceBuilder(IntrospectionModeller.java:108)\n    org.glassfish.jersey.server.model.Resource.from(Resource.java:776)\n    org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:464)\n    org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:183)\n    org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:349)\n    org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:346)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\n    org.glassfish.jersey.server.ApplicationHandler.&amp;lt;init&amp;gt;(ApplicationHandler.java:346)\n    org.glassfish.jersey.servlet.WebComponent.&amp;lt;init&amp;gt;(WebComponent.java:339)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:362)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:748)\n&lt;/pre&gt;&lt;p&gt;&lt;b&gt;Root Cause&lt;/b&gt;&lt;/p&gt;&lt;pre&gt;java.lang.ClassNotFoundException: org.apache.commons.validator.routines.UrlValidator\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1308)\n    org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1136)\n    java.lang.Class.getDeclaredFields0(Native Method)\n    java.lang.Class.privateGetDeclaredFields(Class.java:2583)\n    java.lang.Class.getDeclaredFields(Class.java:1916)\n    org.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:311)\n    org.glassfish.jersey.internal.util.ReflectionHelper$4.run(ReflectionHelper.java:308)\n    java.security.AccessController.doPrivileged(Native Method)\n    org.glassfish.jersey.server.model.IntrospectionModeller.checkResourceClassFields(IntrospectionModeller.java:210)\n    org.glassfish.jersey.server.model.IntrospectionModeller.doCreateResourceBuilder(IntrospectionModeller.java:137)\n    org.glassfish.jersey.server.model.IntrospectionModeller.access$000(IntrospectionModeller.java:80)\n    org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:111)\n    org.glassfish.jersey.server.model.IntrospectionModeller$1.call(IntrospectionModeller.java:108)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\n    org.glassfish.jersey.server.model.IntrospectionModeller.createResourceBuilder(IntrospectionModeller.java:108)\n    org.glassfish.jersey.server.model.Resource.from(Resource.java:776)\n    org.glassfish.jersey.server.ApplicationHandler.initialize(ApplicationHandler.java:464)\n    org.glassfish.jersey.server.ApplicationHandler.access$500(ApplicationHandler.java:183)\n    org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:349)\n    org.glassfish.jersey.server.ApplicationHandler$3.call(ApplicationHandler.java:346)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:315)\n    org.glassfish.jersey.internal.Errors.process(Errors.java:297)\n    org.glassfish.jersey.internal.Errors.processWithException(Errors.java:255)\n    org.glassfish.jersey.server.ApplicationHandler.&amp;lt;init&amp;gt;(ApplicationHandler.java:346)\n    org.glassfish.jersey.servlet.WebComponent.&amp;lt;init&amp;gt;(WebComponent.java:339)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:170)\n    org.glassfish.jersey.servlet.ServletContainer.init(ServletContainer.java:362)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:496)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:803)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:790)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1468)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.lang.Thread.run(Thread.java:748)\n&lt;/pre&gt;&lt;p&gt;&lt;b&gt;Note&lt;/b&gt; The full stack trace of the root cause is available in the server logs.&lt;/p&gt;&lt;hr class=\"line\" /&gt;&lt;h3&gt;Apache Tomcat/8.5.31&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>I only get this exception when I use tomcat.</p>\n\n<p>POM file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.fanapium.tinylink&lt;/groupId&gt;\n    &lt;artifactId&gt;tinylink&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;0.0.2&lt;/version&gt;\n    &lt;name&gt;tinylink&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n        &lt;jersey2.version&gt;2.19&lt;/jersey2.version&gt;\n        &lt;jaxrs.version&gt;2.0.1&lt;/jaxrs.version&gt;\n        &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n            &lt;version&gt;1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.bitwalker&lt;/groupId&gt;\n            &lt;artifactId&gt;UserAgentUtils&lt;/artifactId&gt;\n            &lt;version&gt;1.21&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.maxmind.geoip2&lt;/groupId&gt;\n            &lt;artifactId&gt;geoip2&lt;/artifactId&gt;\n            &lt;version&gt;2.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;25.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hashids&lt;/groupId&gt;\n            &lt;artifactId&gt;hashids&lt;/artifactId&gt;\n            &lt;version&gt;1.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-jaxrs&lt;/artifactId&gt;\n            &lt;version&gt;1.5.16&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n            &lt;artifactId&gt;transport&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.floragunn&lt;/groupId&gt;\n            &lt;artifactId&gt;search-guard-ssl&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0-19&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fanapium.keylead&lt;/groupId&gt;\n            &lt;artifactId&gt;keylead-client&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160212&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.8.9&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;2.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;2.5&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;${jaxrs.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Jersey 2.19 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;${jersey2.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.3.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.7&lt;/source&gt;\n                        &lt;target&gt;1.7&lt;/target&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target/TinyLink&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;resources&lt;/directory&gt;\n                                    &lt;filtering&gt;false&lt;/filtering&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/TinyLink/lib&lt;/outputDirectory&gt;\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.fanapium.tinylink.TinyLinkServer&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Class-Path&gt;.&lt;/Class-Path&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n\n                    &lt;finalName&gt;TinyLink/tinylink&lt;/finalName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;8&lt;/source&gt;\n                    &lt;target&gt;8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134543917,"body":"Aside from main question, compiler informs about problems via <i>errors</i> and/or <i>warnings</i>. The <i>exceptions</i> are thrown at <i>runtime</i>. But to run java code first it needs to compile without errors."},{"comment_id":134546364,"body":"@Pshemo yea it compiles without errors the question was about adding a condition for the error"},{"comment_id":134546366,"body":"during runtime input"},{"comment_id":134547075,"body":"Sorry - mixed you up with OP. I&#39;ll delete, but think it really better here as it addresses the orig question and effects that were misleading the OP. Here is that comment: Super Coder, note I have deleted my comments. It is practicably impossible with your code (which should be corrected in the question for the equals stuff) to enter a name with whitespace, even with quoting (the reason why I deleted my comments). We are getting too academic about this question, and you should probably be doing nextLine, not next(). There&#39;s no reason why the user should not be able to enter a name with a space"},{"comment_id":134548497,"body":"@g00se yea I figured that out about an hour after I wrote the program lol I thought someone would just figure that out using logic but first answer I got was about the q that I asked :D"}],"answers":[{"comments":[{"comment_id":134542713,"body":"yea I know I am just looking for a way to report an error in case there is a whitespace"}],"answer_id":76296573,"body":"<p>If you want to read a floating point number you have to explicitly ask for it using Scanner.nextDouble(). next() returns a String. You can not assign a string to a number in Java.</p>\n"},{"comments":[{"comment_id":134542726,"body":"so there isn&#39;t any predefined functions ?"},{"comment_id":134542822,"body":"@g00se, you&#39;re right, actually, I was trying to avoid recommending a <code>Pattern</code>.  Thanks for the correction, I overlooked it."},{"comment_id":134542840,"body":"Yes, you can use <code>String.matches</code>, which requires a regular expression, the pattern <code>\\s</code> will match any white-space character.  Or, if you are looking for a single character you can use the <code>String.indexOf</code> method.  So, <code>name.indexOf(&#39; &#39;) != -1</code> would mean an index was found, thus it contains a space character."}],"answer_id":76296590,"body":"<p>You can use the following method to determine if a <code>String</code> contains a white-space character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean containsSpace(String string) {\n    for (char character : string.toCharArray()) {\n        switch (character) {\n            case ' ', '\\t', '\\n', '\\r', '\\f' -&gt; {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Also, you're going to want to test the <code>name</code> value using the <code>String.equals</code> method, as opposed to the <code>==</code> equality operator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (name.equals(&quot;&quot;)) error = true;\n</code></pre>\n<p>Furthermore, the <code>main</code> method requires a single <code>String</code> array, or <code>String</code> varargs parameter, to be valid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n</code></pre>\n<p>Here is a quick demonstration of how I would implement the task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    String name;\n    while (true) {\n        System.out.print(&quot;Name: &quot;);\n        name = scanner.nextLine();\n        if (!containsSpace(name))\n            break;\n        System.out.println(&quot;Name contains white-space.  Re-enter.&quot;);\n    }\n    \n    double amount;\n    while (true) {\n        System.out.print(&quot;Amount: &quot;);\n        try {\n            amount = Double.parseDouble(scanner.nextLine());\n            break;\n        } catch (NumberFormatException exception) {\n            System.out.println(&quot;Invalid amount.  Re-enter.&quot;);\n        }\n    }\n    \n    System.out.printf(&quot;Name is '%s'%n&quot;, name);\n    System.out.printf(&quot;Amount is %,f%n&quot;, amount);\n}\n</code></pre>\n"},{"answer_id":76305176,"body":"<blockquote>\n<p>I am writing a program where I need to check if a string (name) contains any whitespaces or not.\nso there isn't any predefined functions?</p>\n</blockquote>\n<p>Of course, there is - isWhitespace,<br>\nplus the trim() method might be considered,<br>\nto remove leading and trailing spaces from the user input: name = scanner.next().trim();</p>\n<pre><code>boolean containsSpace(String string) {\n  for (char character : string.toCharArray()) {\n    if (Character.isWhitespace(character)) {\n      return true;\n    }\n  }\n  return false;\n}\n</code></pre>\n<p>And the second part of your problem - to get the &quot;amount&quot; as a double,\nI would split into two simplistic functions to follow single responsibility principle and improve maintainability and testability.\nAnd I will put method getDouble(String string) into a dedicated class, and package, let say: myproject.common.Numbers</p>\n<p>So the whole program will consist methods like this:</p>\n<pre><code>public static void main(String[] args) {\n  final var instance = new StackOverflow();\n  instance.parseNameAndAmount();\n}\n\nvoid parseNameAndAmount() {\n  Scanner scanner = new Scanner(System.in);\n  final var name = getName(scanner);\n  final var amount = getAmount(scanner);\n  scanner.close();\n\n  print(&quot;Name is %s&quot;.formatted(name));\n  print(&quot;Amount is %s&quot;.formatted(amount));\n\n}\n\nString getName(Scanner scanner) {\n  String name;\n  do {\n    print(&quot;Enter a name with no spaces: &quot;);\n    name = getName(scanner.nextLine().trim());\n  } while (name == null);\n  return name;\n}\n\nString getName(String string) {\n  if (string == null || string.isEmpty()) {\n    return null;\n  }\n\n  if (containsSpace(string)) {\n    return null;\n  }\n  return string;\n}\n\nboolean containsSpace(String string) {\n  for (char character : string.toCharArray()) {\n    if (Character.isWhitespace(character)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n\ndouble getAmount(Scanner scanner) {\n  Double amount;\n  do {\n    print(&quot;Enter amount of purchase (valid number): &quot;);\n    amount = getDouble(scanner.nextLine().trim());\n  } while (amount == null);\n  return amount;\n}\n\nDouble getDouble(String string) {\n  if (string == null) {\n    return null;\n  }\n\n  try {\n    return Double.valueOf(string);\n  } catch (NumberFormatException e) {\n    return null;\n  }\n}\n\nvoid print(String string) {\n  System.out.println(string);\n}\n</code></pre>\n<p>As I mentioned testability and maintainability,\none of the tests might look like this, of course to be thorough,\nmore tests needs to be done.</p>\n<pre><code>@Test\nvoid getDouble_When_NegativeWithExponent() {\n  // Given\n  final var given = &quot;-12.45E9&quot;;\n\n  // when\n  final var actual = stackOverflow.getDouble(given);\n\n  // Then\n  assertThat(actual)\n      .isNotNull()\n      .isNegative();\n}\n</code></pre>\n"}],"last_activity_date":1684754040,"question_id":76296529,"body":"<p>I am writing a program where I need to check if a string (<code>name</code>) contains any whitespaces or not.</p>\n<p>Here's part of my program :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main()\n    {\n        Scanner sc = new Scanner(System.in) ;\n        String name = &quot;&quot; ;\n        boolean error = false ;\n        do {\n            if(error) System.out.println(&quot;Sorry, error. Try again&quot;) ;\n            error = false ;\n            \n            System.out.print(&quot;Enter your name : &quot;) ;\n            name = sc.next() ;\n            if(name==&quot;&quot;) error = true ;\n        } while(error) ;\n        \n        double amount = 0.00 ;\n        do {\n            if(error) System.out.println(&quot;Sorry, error. Try again&quot;) ;\n            error = false ;\n            \n            System.out.print(&quot;Enter amount of purchase : &quot;) ;\n            amount = sc.nextDouble() ;\n            if(amount&lt;=1) error = true ;\n        } while(error) ;\n    }\n}\n</code></pre>\n<p>For checking errors in the <code>name</code> string input, I need to check if the string contains any whitespaces or not because otherwise <code>java.lang.InputMismatchException</code> is thrown when it accepts <code>amount</code> (and when the entered <code>name</code> contains whitespace with another string).</p>\n<p>Is there any predefined function that does this?</p>\n"},{"answers":[{"answer_id":76305571,"body":"<p>A few things to point out.</p>\n<p>While the design is a copy from documentation, it doesn't really have multiple ClockDomains being used.  There is an implied toplevel ClockDomain that already exists can can be accessed with <code>this.clockDomain</code> from the Component.</p>\n<p>Because all the active logic of the counter is tied to one ClockDomain (the one you created) and nothing is attached to the implicit clock domain the signals relating to the implicit ClockDomain may have got pruned from the Verilog.</p>\n<p>But conceptually with SpinalHDL a <code>Component</code> always has a superior clock domain above it that it is attached to.  So the superior clock domain does not go away, even if signals do not appear to exist for it.</p>\n<p>...</p>\n<p>You do not call <code>dut.clockDomain.waitSampling()</code> at any time to provide control to the simulator to do work.  Because of this simulation time (as reported by <code>simTime()</code>) is always zero.  This simTime=0 is an indicator the simulator is not getting to simulate anything.</p>\n<p>Maybe insert calls before <code>dut.clockDomain.waitSampling(count=50)</code>, inside <code>dut.clockDomain.waitSampling(count=1)</code> and after <code>dut.clockDomain.waitSampling(count=50)</code> the for() loop.</p>\n<p>Due to this you might hit the simTimeout() limit that has been set low at 1000, maybe increase this to 1000000.</p>\n<p>...</p>\n<p>One issue if you are using the MyCounter as a toplevel module for SpinalSim and attempting to use APIs like forkStimulus() that assume the 'clk' and 'reset' implicit signals at the top level.</p>\n<p><strong>A few solutions:</strong></p>\n<p><strong>1)</strong> Use SpinalHDL to elaborate the <code>MyCounter.v</code> file generated from your <code>MyCounterVerilog</code> main and create an independent testbench (that is not SpinalSim), that would drive the <code>io_clk</code> and <code>io_reset</code> as you expect.</p>\n<p>This could be Verilator or cocotb or something-else, etc... a simulator that works with a Verilog file, this will demonstrate the Verilog design does work as generated by SpinalHDL.</p>\n<p><strong>2)</strong> If you wish to use SpinalSim, don't expect any assistance from <code>forkStimulus()</code> API in your SpinalSim to manage a toplevel clk/reset signals if your toplevel design does not conform to what it expects.   That the toplevel module is attached to <code>this.clockDomain.readClockWire</code> as the master clock.</p>\n<p>If you examine the generated verilog from suggestion 1 above, it has no toplevel signals called <code>clk</code> or <code>reset</code>.  Even if you attempt to rename your signal with <code>setName(&quot;clk&quot;)</code> or use <code>noIoPrefix()</code> I think you will run into problems because the implicit signal just gets renamed (maybe to <code>clk_1</code>) and still doesn't become joined to your signal.</p>\n<p>Instead to simulate this module you need to directly manage your independant clock in your simulation code.\nFrom your code the lines, try a sequence like:</p>\n<pre><code>var myClock = false  // Consider using AtomicBoolean\nvar myReset = false  // Consider using AtomicBoolean\ndut.clockDomain.onSamplings({\n  myClock = !myClock\n  dut.io.clk #= myClock\n  dut.io.reset #= myReset\n})\n</code></pre>\n<p>Here you are taking control of the clock signal directly, not relying on <code>forkStimulus()</code> to assist.  So remove the <code>forkStimulus()</code> line of code.</p>\n<p>Due to this, consider the removal of <code>assertReset()</code> if you need to achieve this change the myReset state.  Again use of the API assume you are using the implicit toplevel ClockDomain.</p>\n<p><strong>3)</strong> Insert a <code>Toplevel extends Component</code> module that is the toplevel for the Sim.  Place your <code>MyCounter extends Component</code> module, inside Topleve, and wire through.  This inserted Component would have regular ClockDomain inherited and the MyCounter would be a child module inside.  This may better emphasis what is already happening with regards to the superior ClockDomain of the Component hierarchy.</p>\n<p>You can wire thru the 3 signals.  When you inspect the new Toplevel module it will now have 5 signals.  <code>clk, reset, io_clk, io_reset, io_num</code></p>\n<p>Again you still need to manually stimulate your io_* signals, but you will forkStimulus() is managing the other 2 signals <code>clk</code> and <code>reset</code>.</p>\n<p><strong>4)</strong> Remove the 2 signals <code>clk</code> and <code>reset</code> from the io Bundle (delete the lines of code).  Yes this isn't exactly as the demonstration code in the SpinalHDL documentation suggests, but the other options exist above if you really need that.</p>\n<p>Then modify the 2 lines for the ClockDomain setup to read:</p>\n<pre><code>  clock = clockDomain.readClockWire,\n  reset = clockDomain.readResetWire,\n</code></pre>\n<p>Keep <code>forkStimulus()</code> because now you have a conforming toplevel Componment that regular <code>clk</code> and <code>reset</code> signals, which the SpinalSim expects to work with.   This can be confirmed if you examine the elaborated/generated <code>MyCounter.v</code> file, you will see, even after deleting the 2 signals you get the signals emitted by using the normal name, not <code>io_clk</code> and not <code>io_reset</code>.</p>\n<p>...</p>\n<p>Use of <code>dut.clockDomain.assertReset()</code> maybe problematic while using <code>forkStimulus()</code> that will also be manipulating the reset status early on after simulation startup.</p>\n<p>Maybe this ok, when <code>simTime()</code> is greater than a number, lets say 100.  The <code>forkStimulus()</code> call will generate reset line edges early in simulation but that should all be over by simulation step&gt;100.</p>\n"}],"last_activity_date":1684753945,"question_id":72847225,"body":"<h1>ClockDomainConfig Problem in SpinalHDL</h1>\n<p>I tried to write a simple spinal HDL demo according to <a href=\"https://spinalhdl.github.io/SpinalDoc-RTD/master/SpinalHDL/Structuring/clock_domain.html\" rel=\"nofollow noreferrer\">ClockDomainConfig Example</a> to test a configured clock domain and an Area which use the clock domain.</p>\n<p>Here is my simple counter:</p>\n<pre><code>package mytest\n\nimport spinal.core._\nimport spinal.core.sim._\nimport spinal.lib._\n\nclass MyCounter extends Component {\n  val io = new Bundle {\n    val clk = in Bool() simPublic()\n    val rst = in Bool() simPublic()\n    val num = out UInt (16 bits)\n  }\n  val myClockDomain = ClockDomain(\n    clock = io.clk,\n    reset = io.rst,\n    config = ClockDomainConfig(\n      clockEdge = FALLING,\n      resetKind = ASYNC,\n      resetActiveLevel = HIGH\n    )\n  )\n  val counterArea = new ClockingArea(myClockDomain) {\n    val counter = RegInit(U&quot;16'xffff&quot;)\n    counter := counter + 1\n    io.num := counter\n  }\n}\n\nobject MyCounterVerilog {\n  def main(args: Array[String]): Unit = {\n    SpinalVerilog(new MyCounter)\n  }\n}\n\n</code></pre>\n<p>Also here is my simulate object:</p>\n<pre><code>ackage mytest\n\nimport spinal.core._\nimport spinal.sim._\nimport spinal.core.sim._\n\n//MyCounter's testbench\nobject MyCounterSim {\n  def main(args: Array[String]) {\n    SimConfig.withWave.compile(new MyCounter).doSim { dut =&gt;\n      //get clock\n      dut.clockDomain.forkStimulus(period = 10) //10 ps\n      SimTimeout(1000)\n      dut.io.clk #= dut.clockDomain.clock.toBoolean\n      dut.io.rst #= dut.clockDomain.reset.toBoolean\n      for (i &lt;- 0 until 100) {\n        if (i == 50)\n          dut.clockDomain.assertReset()\n      }\n    }\n  }\n}\n</code></pre>\n<p>But when I attempt to simulate, the JAVA reports such an Error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: key not found: (clk :  Bool)\n    at scala.collection.MapLike$class.default(MapLike.scala:228)\n    at scala.collection.AbstractMap.default(Map.scala:59)\n    at scala.collection.mutable.HashMap.apply(HashMap.scala:65)\n    at spinal.core.sim.package$SimClockDomainPimper.getBool(package.scala:449)\n    at spinal.core.sim.package$SimClockDomainPimper.getSignal(package.scala:454)\n    at spinal.core.sim.package$SimClockDomainPimper.fallingEdge(package.scala:471)\n    at spinal.core.sim.package$SimClockDomainPimper.forkStimulus(package.scala:663)\n    at mytest.MyCounterSim$$anonfun$main$2.apply(MyCounterSim.scala:12)\n    at mytest.MyCounterSim$$anonfun$main$2.apply(MyCounterSim.scala:10)\n    at spinal.core.sim.SimCompiled$$anonfun$doSimApi$2.apply$mcV$sp(SimBootstraps.scala:538)\n    at spinal.sim.SimManager.spinal$sim$SimManager$$threadBody$1(SimManager.scala:222)\n    at spinal.sim.SimManager$$anonfun$2.apply$mcV$sp(SimManager.scala:225)\n    at spinal.sim.SimThread$$anonfun$1.apply$mcV$sp(SimThread.scala:93)\n    at spinal.sim.JvmThread.run(SimManager.scala:51)\n</code></pre>\n<p>I do not know how does the problem pop up. When I test the MyCounter without an configured clock domain, everything works well. But once I add the <code>myClockDomain</code>, the error occurs.</p>\n<p>My JDK version is OpenJDK 17.0.2 2022-01-18</p>\n<p>sbt version is 1.6.2</p>\n<p>verilator version is 4.222 2022-05-02</p>\n<p>IDE is IntelliJ IDEA</p>\n"},{"answers":[{"comments":[{"comment_id":95330225,"body":"Why not <code>TYPE_BYTE_GRAY</code>?"},{"comment_id":95330826,"body":"What should the <code>round</code> call accomplish here?"},{"comment_id":95331835,"body":"@rustyx It worked for me as well, though the contrast level was too low and due to that, some areas of the image were super dark. With the <code>TYPE_BYTE_INDEXED</code> everything looks OK (I used <a href=\"http://rawpixels.net/\" rel=\"nofollow noreferrer\">http://rawpixels.net/</a> to make a comparison)."},{"comment_id":95333717,"body":"Using <code>TYPE_BYTE_INDEXED</code> without an explicit <code>IndexColorModel</code> parameter, will give you a default model, which is the <a href=\"https://en.wikipedia.org/wiki/Web_colors#Color_table\" rel=\"nofollow noreferrer\">216 web safe colors</a> + 40 grays. You will certainly lose some fidelity here. Also, the inverse lookup that happens using <code>setRGB</code> on a <code>BufferedImage</code> with <code>IndexColorModel</code> is <i>really</i> slow."}],"answer_id":54253015,"body":"<p>I've managed to do the conversion for the 640x480 resolution the following way:</p>\n<pre><code>BufferedImage image = new BufferedImage(640,480,BufferedImage.TYPE_BYTE_INDEXED);\n\nint i = 0;\nfor(int y = 0; y &lt; 480; y++)\n{\n    for(int x = 0; x &lt; 640; x++)\n    {\n        int g = imageBytes[i++] &amp; 0xFF;\n        image.setRGB(x,y,new Color(g,g,g).getRGB());\n    }\n}\n</code></pre>\n<p>EDIT: removed useless code (thanks to Marco13)</p>\n"},{"answer_id":54254056,"body":"<p>There are two good ways to do this, depending on your use case. </p>\n\n<p>Either create a new, gray image, and copy the data into it. This will keep the image \"managed\", which may lead to better rendering performance (ie. on screen). But it will need twice as much memory, and copy the data from your input to the image.</p>\n\n<p>The other, is to create the gray image directly \"around\" your existing pixel data. This will be faster, and use almost no extra heap, as it avoids copying the pixel data. But the image will not be managed (as the backing array is exposed and mutable).</p>\n\n<p>Both options are demonstrated below:</p>\n\n<pre><code>int w = 640;\nint h = 480;\n\nbyte[] imageBytes = new byte[w * h];\n\n// 1 Keeps the image \"managed\" at the expense of twice the memory + a large array copy\nBufferedImage image = new BufferedImage(w, h, BufferedImage.TYPE_BYTE_GRAY);\nimage.getRaster().setDataElements(0, 0, w, h, imageBytes);\n\nSystem.out.println(\"image: \" + image);\n\n// 2 Faster, and uses less memory, but will make the image \"unmanaged\"\nColorModel cm = new ComponentColorModel(ColorSpace.getInstance(ColorSpace.CS_GRAY), false, false, Transparency.OPAQUE, DataBuffer.TYPE_BYTE);\nWritableRaster raster = Raster.createInterleavedRaster(new DataBufferByte(imageBytes, imageBytes.length), w, h, w, 1, new int[]{0}, null);\nBufferedImage image2 = new BufferedImage(cm, raster, cm.isAlphaPremultiplied(), null);\n\nSystem.out.println(\"image2: \" + image2);\n</code></pre>\n\n<p>If the image data isn't in linear gray color space, one could use an <code>IndexColorModel</code> to map the input into whatever range you want:</p>\n\n<pre><code>// Alternate, using IndexColorModel, if your input isn't in linear gray color space\nint[] cmap = new int[256]; // TODO: Add ARGB packed colors here...\nIndexColorModel icm = new IndexColorModel(8, 256, cmap, 0, false, -1, DataBuffer.TYPE_BYTE);\n\n// As 1\nBufferedImage image3 = new BufferedImage(w, h, BufferedImage.TYPE_BYTE_INDEXED, icm);\nimage3.getRaster().setDataElements(0, 0, w, h, imageBytes);\nSystem.out.println(\"image3: \" + image3);\n\n// As 2\nBufferedImage image4 = new BufferedImage(icm, raster, cm.isAlphaPremultiplied(), null);\n\nSystem.out.println(\"image4: \" + image4);\n</code></pre>\n"},{"answer_id":67430088,"body":"<p>Java</p>\n<pre><code> BufferedImage image = new BufferedImage(width, height, BufferedImage.TYPE_BYTE_GRAY);\n image.getRaster().setDataElements(0, 0, width, height, array));\n</code></pre>\n<p>Kotlin</p>\n<pre><code>val image = BufferedImage(width, height, BufferedImage.TYPE_BYTE_GRAY)\nimage.raster.setDataElements(0, 0, width, height, byteArray )\n</code></pre>\n"}],"last_activity_date":1684753782,"question_id":54252367,"body":"<p>I have a byte array containing data of the raw grayscale 8bit image, which I need to convert to a BufferedImage. I've tried doing:</p>\n\n<pre><code>BufferedImage image = ImageIO.read(new ByteArrayInputStream(bytes));\n</code></pre>\n\n<p>However, the resulting <code>image</code> object is null which means I'm doing something wrong here. </p>\n\n<p>What's the correct way of making such a conversion?</p>\n"},{"comments":[{"comment_id":131996191,"body":"be sure to add all of Selenium&#39;s dependencies.  Sounds like you&#39;re missing those."},{"comment_id":131996368,"body":"How are you managing your dependencies?"},{"comment_id":131996643,"body":"I downloaded the latest from selenium.dev. The version was 4.7.2 I believe. I imported all the files from the folder and the files from the &quot;lib&quot; folder into the modulepath for the package. Is that what you guys mean?"}],"answers":[{"answer_id":74792729,"body":"<p>I was able to fix the issue by deleting all the selenium jar files from the modulepath and adding them all to the classpath instead.</p>\n"},{"answer_id":74798043,"body":"<p>The error for me was with the Java version. While making the project make sure you choose Java 1.8 (or maybe an even lower version).</p>\n<p>And if you are using the selenium zip file to add to the build path,\nmake sure you add the lib folder separately.</p>\n"},{"answer_id":76305534,"body":"<p>I faced such type of issue earlier when i configure selenium webdriver first time with eclipse, that time i update my java version to 17 so because of this such issue comes so, to overcome this i just simply change java version to 8 from project ....its working propely now</p>\n"}],"last_activity_date":1684753630,"question_id":74791588,"body":"<pre><code>package selenium;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class FirstSeleniumProject {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        \n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\amar\\\\Documents\\\\chromedriver\\\\chromedriver.exe&quot;);\n        WebDriver chrome = new ChromeDriver();\n        \n        chrome.get(&quot;https://www.google.com&quot;);\n\n    }\n\n}\n</code></pre>\n<p>Very first program and I am getting this error.</p>\n<p>I installed TestNG per some recommendations. When that did not work, I removed the https:// from the link and it gave me the following error:</p>\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Module processed.async.http.client not found, required by org.seleniumhq.selenium.remote_driver</p>\n"},{"last_activity_date":1684753605,"question_id":75574097,"body":"<p>We have a reactive application (server) written in Java 17 using Spring Webflux via Spring Boot 3.x.<br />\nBut when trying to use it together with a TLS certificate that has the must-staple extension (formally known as <a href=\"https://www.rfc-editor.org/rfc/rfc6066#section-8\" rel=\"nofollow noreferrer\">status_request</a>) one cannot create a connection. When accessing the API via Firefox one receives the error <code>MOZILLA_PKIX_ERROR_REQUIRED_TLS_FEATURE_MISSING</code>, similarly <code>openssl s_client -connect &lt;application-address&gt; -status -tlsextdebug &lt; /dev/null 2&gt;&amp;1 | grep -i &quot;OCSP response&quot;</code> yields <code>OCSP response: no response sent</code>.</p>\n<p>An easy way to receive such a certificate would be to pass the <code>--staple-ocsp --must-staple</code> flags to certbot.</p>\n<p>What must be done that the Spring Webflux Server using Netty serves stapled OCSP responses?</p>\n<p>I have searched around a lot already and couldn't find anything useful.</p>\n<p>I found that the <a href=\"https://docs.oracle.com/en/java/javase/17/security/java-pki-programmers-guide.html#GUID-E6E737DB-4000-4005-969E-BCD0238B1566\" rel=\"nofollow noreferrer\">JDK</a> has built-in support for OCSP since JDK 9, though no mention about OCSP stapling and setting the <code>ocsp.enable</code> security property to <code>true</code> doesn't help either.</p>\n<p>Netty seems to have some OCSP support in <a href=\"https://netty.io/4.1/api/io/netty/handler/ssl/ocsp/package-summary.html\" rel=\"nofollow noreferrer\">netty-handler-ssl-ocsp</a>, though simply adding it doesn't solve it either and I don't know what to do with the classes and it too looks more like a client side support to me.</p>\n<p>Also there seems to be support in <a href=\"https://github.com/netty/netty/commit/077a1988b9c96b5f3e5693a3bb1b2e118992f3a8\" rel=\"nofollow noreferrer\">netty-tcnative</a>, but we don't use Tomcat nor Tomcat Native Fork for Netty and I don't see how this helps me with the standard Spring setup.</p>\n<p>We are also not using Apache or Nginx so the plentiful resources how to enable OCSP stapling with them didn't help either.</p>\n"},{"comments":[{"comment_id":134559897,"body":"I have no idea about this, hope someone good at junit can answer. if it helps, karate does not &quot;require&quot; JUnit if you use the <code>Runner</code> API directly: <a href=\"https://stackoverflow.com/a/65578167/143475\">stackoverflow.com/a/65578167/143475</a>"}],"last_activity_date":1684753565,"question_id":76305530,"body":"<p>I would like to run test cases at test project that include 2 modules karate framework and Junit5, and I want to specify the tag name for the test cases that I need to run.</p>\n<p>I tried\n<code>mvn clean install -Dkarate.options=&quot;--tags @pass&quot; -Dgroups=@pass</code> but it doesn't work as karate modules doesn't fetch scenarios with tag name <code>@pass</code>.\nand when I remove <code>@-Dgroups=@pass</code> it works karate scenarios works fine.</p>\n<p>so I think there is an interfere between environment parameter karate.options and groups.</p>\n<p>how can I run test cases with specific tag name with one command in both modules?</p>\n"},{"last_activity_date":1684753485,"question_id":76305519,"body":"<p>Im trying to implement paypal in my android app. Im using java.</p>\n<p>implementation 'com.paypal.checkout:android-sdk:0.2.0'</p>\n<p>But i get this 3 errors:</p>\n<p>Failed to resolve: android.arch.lifecycle:extensions:2.1.0\nShow in Project Structure dialog\nAffected Modules: app\nFailed to resolve: android.arch.lifecycle:runtime:2.1.0\nShow in Project Structure dialog\nAffected Modules: app\nFailed to resolve: org.jfrog.cardinalcommerce.gradle:cardinalmobilesdk:2.2.4-1\nShow in Project Structure dialog\nAffected Modules: app</p>\n<p>I tried to implement this but doesn't fix the problems.</p>\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle?hl=es-419#java\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/lifecycle?hl=es-419#java</a>\n`def lifecycle_version = &quot;2.5.1&quot;\ndef arch_version = &quot;2.1.0&quot;</p>\n<pre><code>    // ViewModel\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version&quot;\n    // LiveData\n    implementation &quot;androidx.lifecycle:lifecycle-livedata:$lifecycle_version&quot;\n    // Lifecycles only (without ViewModel or LiveData)\n    implementation &quot;androidx.lifecycle:lifecycle-runtime:$lifecycle_version&quot;\n\n    // Saved state module for ViewModel\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-savedstate:$lifecycle_version&quot;\n\n    // Annotation processor\n    annotationProcessor &quot;androidx.lifecycle:lifecycle-compiler:$lifecycle_version&quot;\n    // alternately - if using Java8, use the following instead of lifecycle-compiler\n    implementation &quot;androidx.lifecycle:lifecycle-common-java8:$lifecycle_version&quot;\n\n    // optional - helpers for implementing LifecycleOwner in a Service\n    implementation &quot;androidx.lifecycle:lifecycle-service:$lifecycle_version&quot;\n\n    // optional - ProcessLifecycleOwner provides a lifecycle for the whole application process\n    implementation &quot;androidx.lifecycle:lifecycle-process:$lifecycle_version&quot;\n\n    // optional - ReactiveStreams support for LiveData\n    implementation &quot;androidx.lifecycle:lifecycle-reactivestreams:$lifecycle_version&quot;\n\n    // optional - Test helpers for LiveData\n    testImplementation &quot;androidx.arch.core:core-testing:$arch_version&quot;\n\n    // optional - Test helpers for Lifecycle runtime\n    testImplementation &quot;androidx.lifecycle:lifecycle-runtime-testing:$lifecycle_version&quot;`\n</code></pre>\n"},{"comments":[{"comment_id":134552648,"body":"What is the general syntax you start with?  You give one example, which makes it hard to decide what the general case is supposed to be. Somehow I don&#39;t think <code>s.substring(0,113)</code> is the exact answer you want."}],"answers":[{"comments":[{"comment_id":134552871,"body":"edited the post.. resource_name is the generic name which I had given.. Can you please suggest me accordingly ?"}],"answer_id":76302380,"body":"<p>I have two solutions.\nusing indexOf:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\n\n// Find the index of &quot;resource_name&quot;\nint endIndex = input.indexOf(&quot;/resource_name&quot;);\n\n// Extract the substring until &quot;resource_name&quot;\nString substring = input.substring(0, endIndex);\n\nSystem.out.println(substring);\n</code></pre>\n<p>using replaceAll:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\n\nString regex = &quot;/resource_name.*$&quot;;\nString substring = input.replaceAll(regex, &quot;&quot;);\n\nSystem.out.println(substring);\n</code></pre>\n<p>In my end, it works well. Hope these would give you help.</p>\n"},{"comments":[{"comment_id":134552876,"body":"edited the question.. resource_name is the generic name which I had given.. Can you please suggest me accordingly ?"}],"answer_id":76302407,"body":"<p>There are a few ways to do this.</p>\n<p>You can use a <code>Pattern</code> and <code>Matcher</code>, to isolate the data using a regular expression capture.</p>\n<p>Or, you can use a <code>replace</code> procedure to remove the data you don't want.</p>\n<p>Or, finally, you can use an <code>indexOf</code> procedure to acquire an end-index for a <code>substring</code> method.</p>\n<p>Because of the simplicity, I recommend the final option.</p>\n<p>Consider the following method, <code>parse</code>, which takes the <code>String</code> value as the first parameter, and the starting and ending <code>String</code> values as the second and third parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String parse(String string, String start, String end) {\n    int indexOf = string.indexOf(start);\n    return string.substring(indexOf, string.indexOf(end) + end.length());\n}\n</code></pre>\n<p>And, here is an example of it's usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\nString value = parse(string, &quot;subscriptions&quot;, &quot;resource_name&quot;);\nSystem.out.println(value);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name\n</code></pre>\n"},{"answer_id":76303518,"body":"<p>You can do something like this,</p>\n<pre><code> String sample = &quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;;\n StringBuilder subString = new StringBuilder(sample.substring(11, sample.indexOf(&quot;/i=xxxxxxxxx&quot;));\n String endString = sample.substring(sample.indexOf(&quot;/i=xxxxxxxxx&quot;));\n int lastIndex=subString.lastIndexOf(&quot;/&quot;);\n new StringBuilder(subString.replace(lastIndex,subString.length(),&quot;/vm_name&quot;).append(endString));\n</code></pre>\n"}],"last_activity_date":1684753155,"question_id":76302363,"body":"<p>I have the String in the below format.</p>\n<pre><code>&quot;resourceId=/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name/i=xxxxxxxxx/y=2021/m=03/d=13/h=15/m=00/PT1H.json&quot;\n</code></pre>\n<p>I'm trying to fetch the substring in the below manner by ideally splitting the string based on &quot;/&quot; and fetch the first part of string until resource_name :</p>\n<pre><code>/subscriptions/subscription_id/resourceGroups/rg_name/providers/Microsoft.Compute/virtualMachines/resource_name\n</code></pre>\n<p>How to achieve this format either by using substring or regEx in java?</p>\n<h2>Edited</h2>\n<p>In the given string ,resource_name will be substituted with vm_name or akv_name. It will be not be resource_name for ever in the string, have given generic name.</p>\n<p>Basically, I need to go until virtualMachines from the start and fetch the resource_name which is appended next to virtualMachines by a slash</p>\n<p>Then in this scenario.. how to handle it?</p>\n"},{"comments":[{"comment_id":134534369,"body":"“i can only change the Graphics2D object color and if I did this the whole graph will be changed to the new color” …You can call g.setColor or g.setPaint multiple times in a single painting method.  You can change the color before you draw each shape.  I suspect you are currently storing only a list of shapes, without color information, but since you haven’t shown us any code, I can only guess about that."},{"comment_id":134534969,"body":"I know that I can use g.setcolor before drawing any shape but how to change that color later for only one shape not all of them , I have the reference for all the shapes but they all share the same color variable  , for example I want to change the color of the second shape only not all the shapes"},{"comment_id":134535257,"body":"Edit your question and show the code for your painting method.  We cannot answer without seeing how you store your shapes."},{"comment_id":134536120,"body":"I added an example of what I&#39;m trying to do"},{"comment_id":134536139,"body":"<code>Ellipse2D.Double oval_1;</code> cannot by itself record the color.  Why not add a <code>Color oval_color_1;</code> field, and use that in your paintComponent method?  (By the way, your paintComponent methods needs to call super.paintComponent(g); before doing anything else.  See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/uiswing/painting</a> for an explanation.)"},{"comment_id":134536210,"body":"Keep an ArrayList of objects to be painted. This way you can keep the properties such as the shape and color of the object. See: <a href=\"https://tips4java.wordpress.com/2009/05/08/custom-painting-approaches/\" rel=\"nofollow noreferrer\">Custom Painting Approaches</a> for more information and working examples."},{"comment_id":134536738,"body":"For <a href=\"https://stackoverflow.com/questions/34168628/gui-application-that-allows-the-user-to-choose-the-shape-and-color-of-a-drawing/34168841#34168841\">example</a>"}],"answers":[{"answer_id":76305378,"body":"<p>However you memorize the color of an oval, every time you change it\nyou have to use the <code>repaint()</code> method for your <code>Panel</code> to make the change visible.</p>\n<p>This happens automatically for all Swing components.</p>\n<p>So you could derive a <code>ColoredOval</code> from a <code>JComponent</code> or a <code>JButton</code>.</p>\n<p>e.g. like this:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport javax.swing.JButton;\n\npublic class ColoredEllipse extends JButton {\n    public ColoredEllipse(int x, int y, int w, int h, Color color) {\n        setBounds(x, y, w, h);\n        setForeground(color);\n        setBorderPainted(false);\n        setContentAreaFilled(false);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setColor(getForeground());\n        g.fillOval(0, 0, getWidth(), getHeight());\n    }\n}\n</code></pre>\n<p>Whenever you change the color of a <code>ColoredEllipse</code> with <code>setForeground</code>, the change takes effect immediately. Also, there is no longer any need to override <code>paintComponent</code> for a panel.</p>\n<p>An example program:</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class Graphtesting extends JFrame {\n    public static void main(String[] args) {\n        new Graphtesting();\n    }\n\n    public Graphtesting() {\n        ColoredEllipse oval1 = (ColoredEllipse) add(new ColoredEllipse(10, 10, 50, 50, Color.orange));\n        ColoredEllipse oval2 = (ColoredEllipse) add(new ColoredEllipse(60, 60, 50, 50, Color.red));\n\n        setLayout(null);\n        setPreferredSize(new Dimension(500, 500));\n        pack();\n        setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n        setLocationRelativeTo(null);\n        setVisible(true);\n\n        oval1.addActionListener(e -&gt; oval1.setForeground(chooseColor(oval1.getForeground())));\n        oval2.addActionListener(e -&gt; oval2.setForeground(chooseColor(oval2.getForeground())));\n    }\n\n    private Color chooseColor(Color initialColor) {\n        Color result = JColorChooser.showDialog(null, &quot;Choose Color&quot;, initialColor);\n        return result == null ? initialColor : result;\n    }\n}\n</code></pre>\n<p>In this example, the color of the ovals can be changed using an <code>ActionListener</code>. Click on an oval to choose a new color for it.\nThe use of <code>setLayout(null)</code> is necessary for absolute positioning.\nHowever, this is not recommended for any kind of normal GUI.</p>\n<p>See: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/none.html\" rel=\"nofollow noreferrer\">Doing Without a Layout Manager (Absolute Positioning)</a></p>\n"}],"last_activity_date":1684752908,"question_id":76291388,"body":"<p>im trying to make a gui visualizer for a certine graph (only one graph ) and I want to visulize the travelling sales man problem on it , so first i will draw the graph and then I will solve it using some algorithims, im using swing and im drawing all the shapes (circles and lines) on a panel by overriding the paint method , what im trying to do is to change the color of any shape I want  in the middle of my program<br />\nthe problem im struggling with is how to change the color of any shape that I draw\n,all my vertices will hava a shape object  that i will add to the Graphics2D object of the panel that I will draw on, but how to change the color of only one shape from the many shapes that I draw on the same panel\nshape dosn't have setcolor() methode and i can only change the\nGraphics2D object color and if I did this the whole graph will be changed to the new color</p>\n<p>I want to draw many shapes inside the JPanel and I want to be able to change the color of any shape I want during my program</p>\n<pre><code>public class Graphtesting {\n\n\npublic static void main(String[] args) {\n    Scanner sc=new Scanner(System.in);\n    JFrame frame=new JFrame();\n    frame.setDefaultCloseOperation(3);\n    My_Panel panel=new My_Panel();\n    frame.add(panel);\n    frame.pack();\n    frame.setVisible(true);\n    int var=sc.nextInt();\n    if(var==0)\n    {\n        // i want to change the color of oval 2 only and not both \n        //panel.oval_1.setcolor()    i want to do something like this but shape dosn't have a function to set color \n        // its like i want a seprate graphics2d object for each one of my shapes because i want to be able to change the color of each one individualy \n    }\n    else\n    {\n        // i want to change the color of oval 1 only and not both \n    }\n     \n}\n}\n\n\nclass My_Panel extends JPanel\n{\n    Ellipse2D.Double oval_1;\n    Ellipse2D.Double oval_2;\n    \n    My_Panel()\n    {\n        setPreferredSize(new Dimension(500,500));\n    \n    }\n    @Override\n    public void paintComponent(Graphics g){\n\nGraphics2D g2d=(Graphics2D)g;\n\n oval_1=new Ellipse2D.Double(10,10,50,50);\n\n oval_2=new Ellipse2D.Double(60,60,50,50);\n\ng2d.setColor(Color.orange);  \n\ng2d.fill(oval_2);    \n         \ng2d.setColor(Color.red); \n\ng2d.fill(oval_1);\n}\n}\n</code></pre>\n"},{"comments":[{"comment_id":134558457,"body":"Impossible to help with specificity with your obfuscated prompts"}],"last_activity_date":1684752888,"question_id":76305447,"body":"<p>I have some error in this code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class aa {\n    public static void main(String args[]) {\n      System.out.println(&quot;Hello World&quot;);\n    }\n}\n</code></pre>\n<p>Error: Could not find or load main class aa</p>\n<p>This is a very simple code of Java. I already let the file name to 'aa.java'. All of the other Java file is have this problem.</p>\n<p>Photos: <a href=\"https://i.stack.imgur.com/TtThI.png\" rel=\"nofollow noreferrer\">Error 1</a> <a href=\"https://i.stack.imgur.com/qYy0k.png\" rel=\"nofollow noreferrer\">Error 2</a>\nWhy does it happen? Need some helps, thanks.</p>\n<p>Test environment: Windows 11, Java 8 Update 371\nCoding tool: vscode</p>\n"},{"comments":[{"comment_id":134558996,"body":"What is the locale on System level?"},{"comment_id":134559013,"body":"Related: <a href=\"https://stackoverflow.com/questions/55508152/how-to-set-visual-studio-code-terminal-output-to-english\" title=\"how to set visual studio code terminal output to english\">stackoverflow.com/questions/55508152/&hellip;</a>"},{"comment_id":134568529,"body":"This works fine on my machine. Please show more details about your setup and environment.       Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"comment_id":134573025,"body":"@Hulk thank you for the help! My problem got solved by the related question you sent."}],"last_activity_date":1684752732,"question_id":76305435,"body":"<p>Change VSCode formatting from scanner.nextDouble(); from &lt;,&gt; to &lt;.&gt; by default</p>\n<p>When using the scanner.nextDouble(); method, the VSCode Terminal only accepts &lt;,&gt; instead of the normal &lt;.&gt; for decimal points. Already tried changing the VSCode locale to English.</p>\n"},{"answers":[{"answer_id":76305433,"body":"<p>I have the same problem with a systemd service that starts an application via <code>java -jar ...</code>.</p>\n<p>As <code>aa-genprof</code> and AppArmor in general only works with file path and not PIDs and the jar files are not executables, it seems to me like one has to write a profile manually, maybe assisted by <code>aa-easyprof</code>, <code>aa-genprof</code> or <code>aa-logprof</code> for java.</p>\n<p>The profile can then be enforced with e.g. the <code>AppArmorProfile=</code> directive in systemd.</p>\n"}],"last_activity_date":1684752728,"question_id":20495632,"body":"<p>I am working with <code>logstash</code> and it is unable to read some log files.\nTo be able to read, I think I have to add a profile in apparmor but am pretty lost at this point.</p>\n\n<ol>\n<li>The app is run as:\n<code>java -jar ....</code>\nDo I have to add a profile for java or is there some other simpler way?</li>\n<li>Will simply adding a single line like \n<code>/path/to/mylogs r</code>\nwork?</li>\n</ol>\n\n<p>Thanks for any help.</p>\n"},{"comments":[{"comment_id":134558006,"body":"The variable <code>btsPanel</code> is null when you call the <code>new BoxLayout(btsPanel)</code> constructor, and that is not allowed. BoxLayout requires that the container be created first, and then used to set the container&#39;s layout."},{"comment_id":134558186,"body":"Check out the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">Java JLS section &#167;15.7 Evaluation Order</a> for the details on why this is so."}],"last_activity_date":1684752623,"question_id":76305417,"body":"<pre><code>public class BTSLayer extends JPanel\n{\n    private List&lt;BTS&gt; btsList;\n    private JScrollPane scrollPane;\n\n    private JPanel btsPanel;\n\n    public BTSLayer()\n    {\n        btsList = new ArrayList&lt;&gt;();\n        this.setLayout(new BorderLayout());\n        this.btsPanel = new JPanel(new BoxLayout(btsPanel, BoxLayout.Y_AXIS));\n        this.add(btsPanel);\n       // btsPanel.setLayout(new BoxLayout(btsPanel, BoxLayout.Y_AXIS));\n\n\n        //TEST\n        for (int i = 0; i &lt; 30; i++)\n        {\n           btsPanel.add(new BTS());\n        }\n    }\n}\n</code></pre>\n<p>I mean this piece of this class:</p>\n<pre><code>this.setLayout(new BorderLayout());\nthis.btsPanel = new JPanel(new BoxLayout(btsPanel, BoxLayout.Y_AXIS));\nthis.add(btsPanel);\n</code></pre>\n<p>Why does the example above cause a &quot;BoxLayout can't be shared&quot; error</p>\n<p>Is it not equivalent to this?</p>\n<pre><code>this.setLayout(new BorderLayout());\nthis.btsPanel = new JPanel();\nthis.add(btsPanel);\nbtsPanel.setLayout(new BoxLayout(btsPanel, BoxLayout.Y_AXIS));\n</code></pre>\n"},{"comments":[{"comment_id":79895875,"body":"Have you tried anything yet though?"},{"comment_id":79930091,"body":"Yead ,I tried  I am able to append double quotes to my array values, I tried this     &quot;\\&quot;&quot;+a[x]+&quot;\\&quot;&quot;. Thanks everyone for your inputs."}],"answers":[{"answer_id":46469192,"body":"<p>I guess what you might be looking for is as follows:</p>\n\n<pre><code>region.append(\"\\\"\").append(a[z]).append(\"\\\"\").append(',');\n</code></pre>\n"},{"comments":[{"comment_id":79895931,"body":"@araknoid, since OP didn&#39;t show any effort in question, this is effectively a free-for-all when it comes to answers."},{"comment_id":79901079,"body":"@M.Prokhorov You are correct but since the java version is not specified in the question, it should be at least in the answer."},{"comment_id":79930037,"body":"Yup , I tried  with this its working fine  thank u guys"}],"answer_id":46469325,"body":"<p>If you're using Java 8, what you probably want to do is</p>\n\n<pre><code>String region = Arrays.stream(a)\n    .map(s -&gt; String.format(\"\\\"%s\\\"\", s)) // add double quotes around each string\n    .collect(Collectors.joining(\",\"); // comma-separate values\n</code></pre>\n"},{"answer_id":46469881,"body":"<ol>\n<li>for each string, surround it with quotes </li>\n<li>for each string, except the last one, add a comma to its end</li>\n<li>write all strings in the file.</li>\n</ol>\n\n<p>ex:</p>\n\n<pre><code>int l = myStrings.length;\nfor(int i = 0; i &lt; l; i++){\n    // Adds \" to the begning of the string and \", to the end of the string.\n    myStrings[i] = \"\\\"\" + mystrings[i] + \"\\\",\";\n    // if you want to use String.format:\n    //myStrings[i] = String.format(\"\\\"%s\\\",\", myStrings[i]);\n\n    // if it is the last string, remove the unwanted comma\n    if(i == l-1){\n        // gets the substring of the last string in the array, excluding only\n        // the last character, because it is an unwanted comma\n        myStrings[i] = myStrings[i].substring(0,l);\n    }\n\n    // Write in your file here\n    // region.append(myStrings[i]);\n}\n</code></pre>\n"},{"answer_id":76305339,"body":"<pre><code>ArrayList&lt;String&gt; str = new ArrayList&lt;String&gt;();\nstr.add(&quot;One&quot;);\nstr.add(&quot;Two&quot;);\nstr.add(&quot;Three&quot;);\nJSONArray array = new JSONArray();\nfor (String i : str) {\n    array.put(i);\n}\nJSONObject userData = new JSONObject();\nuserData.put(&quot;user&quot;, array);\nprint(&quot;&quot; + userData)\n</code></pre>\n<p>OutPut:</p>\n<pre><code>{&quot;user&quot;: [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]}\n</code></pre>\n"}],"last_activity_date":1684752378,"question_id":46469143,"body":"<p>I am working with  writing files.I have a string array as in loop \nI need to append double quotes for the all values which are writing it on  files . Can any one help me how to append double quotes for the all values in String Array.Thanks in advance`</p>\n"},{"comments":[{"comment_id":134557903,"body":"You don&#39;t as Spring Boot will already load this, you don&#39;t need to."}],"last_activity_date":1684752252,"question_id":76305349,"body":"<p>I have a microservice (name = &quot;microservice-porting.jar&quot;) inside a directory &quot;/opt/microservice-porting/&quot;. Inside the directory, I have a  config folder\nwith an application properties file application.yml.</p>\n<p>The structure is:</p>\n<pre><code>microservice-porting/\n    microservice-porting.jar\n    config/\n        application.yaml\n</code></pre>\n<p>In my code:</p>\n<pre><code>@PropertySource(value = &quot;classpath:/microservice-porting/config/application.yml&quot;, factory = MultipleYamlPropertySourceFactory.class)\n</code></pre>\n<p>but i always get exception:</p>\n<blockquote>\n<p>Caused by: java.io.FileNotFoundException: class path resource\n[microservice-porting/config/application.yml] cannot be opened because\nit does not exist</p>\n</blockquote>\n<p>All these files and directories are at a remote server where i deploy the jar files.</p>\n<p><strong>What is the right classpath for may case?</strong></p>\n"},{"comments":[{"comment_id":17893318,"body":"This may help: <a href=\"http://stackoverflow.com/questions/9210514/unable-to-find-valid-certification-path-to-requested-target-error-even-after-c\" title=\"unable to find valid certification path to requested target error even after c\">stackoverflow.com/questions/9210514/&hellip;</a>"}],"answers":[{"comments":[{"comment_id":41564096,"body":"This actually worked for me as I set the trust store to be my <code>whatever.jks</code> file, although I&#39;m not sure why. But thank you."},{"comment_id":68282319,"body":"worked well here..althought i don&#39;t even know what trustStore is :/"},{"comment_id":71249197,"body":"The truststore doesn&#39;t contain keys, so naming it .key is senseless."},{"comment_id":80309063,"body":"Can someone tell what might be the real values of <i>qwerty</i> and <i>clientTrustStore.key</i> ?"},{"comment_id":86708676,"body":"I have to point-out that setting the truststore for the whole JVM is a Really Bad Idea. It may hijack settings another component is expecting and, depending upon what you put into your trust store, may reduce the security of any code running within that JVM. It&#39;s must better to set the trust store (and related configuration) only for the connections you intend to make.  You are using <code>HttpsURLConnection</code>, and you can set the trust managers on those connections without too much trouble."},{"comment_id":87558789,"body":"@ozgur trustStore could be &quot;jssecacerts&quot; or a .jks file stored on the server. Worked for me with the jssecacerts file generated with entpnerd&#39;s answer"}],"answer_id":16475301,"body":"<p>You need to set certificate to hit this url. use below code to set keystore:</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.trustStore\",\"clientTrustStore.key\");\n\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\",\"qwerty\");\n</code></pre>\n"},{"comments":[{"comment_id":31752545,"body":"I have a DigiCert too and I guess have the same problem you described. In my case I am not able to export from the browser the entire certificate chain to add all of them to the trust store. Could you share the way you did?"},{"comment_id":31752565,"body":"What browser are you using? I believe I used Firefox to do it although I do not remember the exact method."},{"comment_id":31752891,"body":"I used IE before. Now I could export it with FireFox, added successfully to the trust store but still having the same exception. I will continue trying. Thanks anyway!"},{"comment_id":61009719,"body":"Actually Webserver should send all the certificates in the chain. Is it a problem of Java Client implementation that cannot deal with that? Do you know details on that?"}],"answer_id":17606519,"body":"<p>I've run into this a few times and it was due to a certificate chain being incomplete. If you are using the standard java trust store, it may not have a certificate that is needed to complete the certificate chain which is required to validate the certificate of the SSL site you are connecting to. </p>\n\n<p>I ran into this problem with some DigiCert certificates and had to manually add the intermediary cert myself.</p>\n"},{"answer_id":27100514,"body":"<p>For me, I had encountered this error when invoking a webservice call, make sure that the site has a valid ssl, i.e the logo on the side of the url is checked, otherwise need to add the certificate to trusted key store in your machine</p>\n"},{"answer_id":31209610,"body":"<p>On Mac OS I had to open the server's self-signed certificate with system Keychain Access tool, import it, dobubleclick it and then select \"Always trust\" (even though I set the same in importer).\nBefore that, of course I ran java key took with -importcert to import same file to cacert storage.</p>\n"},{"comments":[{"comment_id":71749946,"body":"This doesn&#39;t answer the question. What do you mean by endorsed folder?"}],"answer_id":32204997,"body":"<p>I also faced this type of issue.I am using tomcat server then i put endorsed folder in tomcat then its start working.And also i replaced JDK1.6 with 1.7 then also its working.Finally i learn SSL then I resolved this type of issues.First you need to download the certificates from that servie provider server.then you are handshake is successfull.\n1.Try to put endorsed folder in your server\nNext way\n2.use jdk1.7</p>\n\n<p>Next\n3.Try to download valid certificates using SSL </p>\n"},{"comments":[{"comment_id":60814717,"body":"Note that the system&#39;s keystore is probably at: <code>$JAVA_HOME&#47;jre&#47;lib&#47;security&#47;cacerts</code>."},{"comment_id":87558353,"body":"Is there a way to point the Java application to the .cer file instead of modifying the system&#39;s keystore?"},{"comment_id":87574862,"body":"@golimar I don&#39;t believe so (<a href=\"https://docs.oracle.com/cd/E19830-01/819-4712/ablqw/index.html\" rel=\"nofollow noreferrer\">see this Oracle page</a> and <a href=\"https://stackoverflow.com/q/5871279/4851565\">this question</a>). That being said, your question might be a worthwhile new question for the StackOverflow community."},{"comment_id":87629445,"body":"I think I have it working combining your answer (which generates jssecacerts file) file and @Vipin Kumar&#39;s answer (to point the application to that file)"},{"comment_id":122719749,"body":"I use <code>InstallCerts.java</code> as mentioned but instead of updating JDK keystore wherever the application is deployed I bundle the keystore (file called jssecacerts) made from <code>InstallCert.java</code> together with the application. Just put it on the classpath. This way it will without need for updating the JDK."}],"answer_id":36464452,"body":"<p>Java 8 Solution: I just had this problem and solved it by adding the remote site's certificate to my Java keystore. My solution was based on the <a href=\"http://myshittycode.com/2014/06/05/java-https-unable-to-find-valid-certification-path-to-requested-target/\" rel=\"noreferrer\">solution at the <em>myshittycode</em> blog</a>, which was based on a <a href=\"http://www.mkyong.com/webservices/jax-ws/suncertpathbuilderexception-unable-to-find-valid-certification-path-to-requested-target/\" rel=\"noreferrer\">previous solution in mykong's blog</a>. These blog article solutions boil down to downloading a program called <a href=\"https://github.com/escline/InstallCert\" rel=\"noreferrer\">InstallCert</a>, which is a Java class you can run from the command line to obtain the certificate. You then proceed to install the certificate in Java's keystore.</p>\n\n<p>The <a href=\"https://github.com/escline/InstallCert/blob/master/README\" rel=\"noreferrer\">InstallCert Readme</a> worked perfectly for me. You just need to run the following commands:</p>\n\n<ol>\n<li><code>javac InstallCert.java</code></li>\n<li><code>java InstallCert [host]:[port]</code> (Enter the given list <em>number</em> of the certificate you want to add in the list when you run the command - likely just <em>1</em>)</li>\n<li><code>keytool -exportcert -alias [host]-1 -keystore jssecacerts -storepass changeit -file [host].cer</code></li>\n<li><code>sudo keytool -importcert -alias [host] -keystore [path to system keystore] -storepass changeit -file [host].cer</code></li>\n</ol>\n\n<p>See the referenced README file for an example if need be.</p>\n"},{"comments":[{"comment_id":81007187,"body":"Many modern servers use SNI; if so for <code>s_client</code> to get the correct cert(s) add <code>-servername $host</code>. In java7 up, <code>-importcert</code> can handle extraneous text in a PEM file so you don&#39;t need the <code>sed</code>; also in j7 up, <code>keytool -printcert -sslserver $host[:$port] -rfc</code> fetches the cert chain and prints in PEM (like <code>s_client -showcerts</code> without the extraneous text) which is easier if you don&#39;t have OpenSSL installed e.g. Windows."},{"comment_id":127394732,"body":"Your Windows command snippet is using sed so isn&#39;t going to work on Windows"}],"answer_id":42377335,"body":"<p>Here is the solution that I used for installing a site's public cert into the systems keystore for use. </p>\n\n<p><strong>Download the certificate with the following command:</strong></p>\n\n<p><strong>unix, linux, mac</strong> </p>\n\n<pre><code>openssl s_client -connect [host]:[port|443] &lt; /dev/null | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; [host].crt\n</code></pre>\n\n<p><strong>windows</strong></p>\n\n<pre><code>openssl s_client -connect [host]:[port|443] &lt; NUL | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; [host].crt\n</code></pre>\n\n<p>That will create a crt that can be used to import into a keystore.</p>\n\n<p><strong>Install the new certificate with the command:</strong></p>\n\n<pre><code>keytool -import -alias \"[host]\" -keystore [path to keystore] -file [host].crt\n</code></pre>\n\n<p>This will allow you to import the new cert from the site that is causing the exception.</p>\n"},{"answer_id":42526814,"body":"<p>I had hit this when I was trying to initiate a SOAP request from Java code. What worked for me was:</p>\n\n<ol>\n<li><p>Get the Server certificate by hitting the URL in browser: <a href=\"http://docs.bvstools.com/home/ssl-documentation/exporting-certificate-authorities-cas-from-a-website\" rel=\"noreferrer\">http://docs.bvstools.com/home/ssl-documentation/exporting-certificate-authorities-cas-from-a-website</a>\nThis link has all the steps to get the server certificate</p></li>\n<li><p>Once you have the server certificate with you follow <a href=\"http://java.globinch.com/enterprise-java/security/pkix-path-building-failed-validation-sun-security-validatorexception/#Valid-Certification-Path-to-Requested-Target\" rel=\"noreferrer\">http://java.globinch.com/enterprise-java/security/pkix-path-building-failed-validation-sun-security-validatorexception/#Valid-Certification-Path-to-Requested-Target</a> .</p></li>\n</ol>\n\n<p>Copying the text from the link, in case this link dies: </p>\n\n<blockquote>\n  <p>All you need to do to fix this error is to add the server certificate\n  to your trusted Java key store. First You need to download the\n  document from the server.</p>\n  \n  <p>Once you have the certificate in your hard drive you can import it to\n  the Java trust store. To import the certificate to the trusted Java\n  key store, you can use the java ‘keytool‘ tool. On command prompt\n  navigate to JRE bin folder, in my case the path is : C:\\Program\n  Files\\Java\\jdk1.7.0_75\\jre\\bin . Then use keytool command as follows\n  to import the certificate to JRE.</p>\n  \n  <p>keytool -import -alias _alias_name_ -keystore ..\\lib\\security\\cacerts\n  -file _path_to_cer_file</p>\n  \n  <p>It will ask for a password. By default the password is “changeit”. If\n  the password is different you may not be able to import the\n  certificate.</p>\n</blockquote>\n"},{"answer_id":60851862,"body":"<p>This error can also happen if the server only sends its leaf certificate and does not send all the chain certificates needed to build the trust chain to the root CA. Unfortunately this is a common misconfiguration of servers.</p>\n\n<p>Most browsers work around this problem if they already know the missing chain certificate from earlier visits or maybe download the missing certificate if the leaf certificate contains a URL for CA issuers in <strong>Authority Information Access (AIA)</strong>. But this behavior is usually restricted to desktop browsers and other tools simply fail because they cannot build the trust chain.</p>\n\n<p>You can make the JRE to automatically download the intermediate certificate by setting <code>com.sun.security.enableAIAcaIssuers</code> to <code>true</code></p>\n\n<p>To verify if the server is sending all the chain certificates you can enter the host in the following SSL certificate validation tool <a href=\"https://www.digicert.com/help/\" rel=\"noreferrer\">https://www.digicert.com/help/</a></p>\n"},{"answer_id":72099708,"body":"<p>Thank to @danny-paul answer (<a href=\"https://stackoverflow.com/a/60851862/9239136\">https://stackoverflow.com/a/60851862/9239136</a>), i resolved my problem on self-hosted instance.</p>\n<p>I use Birt application with Tomcat on Windows Server and it was not able to download pictures from Apache service.</p>\n<p>I noticed my Apache configuration was incomplete on Windows Server.\nThe third line was commented out. I uncommented it, restart Apache and it works.</p>\n<pre><code>SSLEngine on\nSSLCertificateFile &quot;c:/Apache24/conf/ssl/cert.pem&quot;\nSSLCertificateKeyFile &quot;c:/Apache24/conf/ssl/privkey.pem&quot;\nSSLCACertificateFile &quot;c:/Apache24/conf/ssl/chain.pem&quot;\n</code></pre>\n"},{"answer_id":76305373,"body":"<p>I faced this issue after migrating from Tomcat7 to Tomcat9. The issue was in Tomcat9/lib/setenv.sh file\nFollowing property was incorrectly set to true</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>-Djsse.enableSNIExtension=false</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Updating it to false resolved the issue for me.</p>\n"}],"last_activity_date":1684752210,"question_id":4062307,"body":"<p>I am calling some HTTPS web service which the following Client:</p>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.PrintStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport javax.net.ssl.HttpsURLConnection;\n\n/**\n * Handles http and https connections. It sends XML request over http (or https)\n * to SOAP web service and receive the XML reply.\n * \n * @author mhewedy\n * @date 30.10.2010\n */\npublic class HttpWSXmlClient\n{\n    private final String ws_url;\n    private byte[] requestData;\n\n    public HttpWSXmlClient(String wsUrl)\n    {\n        this.ws_url = wsUrl;\n    }\n\n    public void readRequest(String xmlRequestFilePath)\n    {\n        try\n        {\n            InputStream istream = new FileInputStream(xmlRequestFilePath);\n            byte[] data = stream2Bytes(istream);\n            istream.close();\n            this.requestData = data;\n        } catch (Exception e)\n        {\n            throw new RuntimeException(e.getMessage());\n        }\n    }\n\n    /**\n     * \n     * @param ps\n     *            PrintStream object to send the debugging info to.\n     * @return\n     * @throws IOException\n     */\n    public byte[] sendAndRecieve(PrintStream ps) throws IOException\n    {\n        if (requestData == null)\n            throw new RuntimeException(\n                    \"the request data didn't initialized yet.\");\n        if (ps != null)\n            ps.println(\"Request:\\n\" + new String(requestData));\n        URL url = new URL(ws_url);\n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        // or HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n        connection.setDoOutput(true);\n        connection.setRequestProperty(\"content-type\", \"text/xml\");\n        connection.connect();\n        OutputStream os = connection.getOutputStream();\n        os.write(requestData);\n        InputStream is = connection.getInputStream();\n        byte[] rply = stream2Bytes(is);\n        if (ps != null)\n            ps.println(\"Response:\\n\" + new String(rply));\n        os.close();\n        is.close();\n        connection.disconnect();\n        return rply;\n    }\n\n    public byte[] sendAndRecieve() throws IOException\n    {\n        return sendAndRecieve(null);\n    }\n\n    private byte[] stream2Bytes(InputStream istream) throws IOException\n    {\n        ByteArrayOutputStream outstream = new ByteArrayOutputStream();\n        int c;\n        while ((c = istream.read()) != -1)\n        {\n            if (c != 0x0A &amp;&amp; c != 0x0D) // prevent new line character from being\n            // written\n            {\n                if (c == 0x09)\n                    c = 0x20; // prevent tab character from being written,\n                // instead write single space char\n                outstream.write(c);\n            }\n        }\n        byte[] ret = outstream.toByteArray();\n        outstream.close();\n        return ret;\n    }\n\n}\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>public class Test\n{\n    private static final String WS_URL = \"https://some_server/path/to/ws\";\n\n    public static void main(String[] args) throws Exception\n    {\n        HttpWSXmlClient client = new HttpWSXmlClient(WS_URL);\n        client.readRequest(\"request.xml\");\n        client.sendAndRecieve(System.out);\n    }\n}\n</code></pre>\n\n<p>I got the following output:</p>\n\n<pre><code>Exception in thread \"Main Thread\" javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1591)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:187)\n    at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:181)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1035)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:124)\n    at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:516)\n    at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:454)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:884)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1096)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1123)\n    at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1107)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:415)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:166)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:133)\n    at com.se.swstest.HttpWSXmlClient.sendAndRecieve(HttpWSXmlClient.java:63)\n    at com.se.swstest.Test.main(Test.java:11)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:285)\n    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:191)\n    at sun.security.validator.Validator.validate(Validator.java:218)\n    at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:126)\n    at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:209)\n    at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:249)\n    at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1014)\n    ... 12 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:174)\n    at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:238)\n    at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:280)\n    ... 18 more\n</code></pre>\n\n<p>Do I need any certificate to be put at jdk/jre/lib/security??? \nAlso, I have a xxx_IE.crt and xxx_FX.crt (for Firefox and IE respectively, and they don't work for the above Java client, so do I need a specific certificate for the Java client?</p>\n\n<p>Thanks.</p>\n"},{"comments":[{"comment_id":78839440,"body":"There isn&#39;t. Properties are applied at load-time... Changing them requires a restart or recreation of beans (hence the <code>@RefreshScope</code>). You might be able to use JMX to change some properties in a running application but this won&#39;t be reflected in your <code>application.properties</code>."},{"comment_id":78839569,"body":"Yes, thanks, the properties do not need to be reflected in the properties file. They just need to be applied to the current running instance."},{"comment_id":78839629,"body":"You can with Spring-Boot Cloud. See <a href=\"https://stackoverflow.com/questions/26717187/refreshing-spring-boot-properties#26717273\" title=\"refreshing spring boot properties%2326717273\">stackoverflow.com/questions/26717187/&hellip;</a>"},{"comment_id":78839639,"body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/26717187/refreshing-spring-boot-properties\">refreshing spring boot properties</a>"},{"comment_id":78839861,"body":"@gtonic I would like to see, if possible, specific examples for the property described in my post, which keep things as simple as possible."},{"comment_id":78840584,"body":"I&#39;ve done this using <a href=\"https://stackoverflow.com/questions/40287771/how-to-reload-a-value-property-from-application-properties-in-spring/40288822#40288822\">this answer</a>"},{"comment_id":78910944,"body":"@Essex Boy This still requires changing the the application.properties file, which is something I would like to avoid."},{"comment_id":78911084,"body":"If you want to change a property you&#39;re going to have to tell it what the new property is somehow!!"},{"comment_id":78911165,"body":"As far as I know, you can set properties programatically. So it would require setting/resetting that property programatically, then refreshing the application scope."},{"comment_id":92230137,"body":"This answer exactly what you are looking for <a href=\"https://stackoverflow.com/a/52648630/39998\">stackoverflow.com/a/52648630/39998</a>"}],"answers":[{"answer_id":52649172,"body":"<p>Some answers recommends Spring Cloud Config Server. It may be an overkill for some. This SO answer is exactly what you are looking for. <a href=\"https://stackoverflow.com/a/52648630/39998\">How to hot reload properties in Spring Boot and Java EE</a></p>\n"},{"answer_id":76305368,"body":"<p>If an application has special requirements regarding its availability, it is probably desired that changes on configuration files can be done without the need for a restart. The application should automatically detect such changes an react accordingly. This feature is referred to as automatic reloading.</p>\n<p>The reloading mechanism defined by Apache Commons Configuration library which has multiple components you can use for this approach. you can learn about how to use it in this link\n<a href=\"https://commons.apache.org/proper/commons-configuration/userguide/howto_reloading.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-configuration/userguide/howto_reloading.html</a></p>\n"}],"last_activity_date":1684752180,"question_id":45940630,"body":"<p>So far, I have seen methods to update a Spring boot application, by changing the property file itself, then reloading the file, or by using <code>@RefreshScope</code> annotation, or by Spring Cloud Config.</p>\n\n<p>I was not able to find anything straight forward (something like <code>getEnvironment().updateProperty(key, value)</code> ).</p>\n\n<p>Is there such a way to do that?</p>\n\n<p>For example, I need to change the logging type of my application, to show the SQL;\nMy <code>application.properties</code> file contains this line: <code>spring.jpa.show-sql=false</code>.</p>\n\n<p>But what if I want to set this to <code>true</code> while the application is running, through a REST call?</p>\n\n<p>Can you suggest a simpler way to do this? And/Or show examples of how you would do it yourself, for this specific property?</p>\n\n<p>EDIT: The changes do not need to be reflected in the <code>application.properties</code> file. So when the application is restarted, it would use the properties that were initially set in the <code>application.properties</code> file.</p>\n"},{"comments":[{"comment_id":134557766,"body":"What happens if you use this code to create the file in a standalone main class?"},{"comment_id":134558053,"body":"Your mediatype is wrong. It needs to be an octet stream of xls typed one. Not some random made up one."},{"comment_id":134560708,"body":"Thanks for your response @M. Deinum, i have changed mediatype to header.setContentType(MediaType.APPLICATION_OCTET_STREAM); still it is not working."},{"comment_id":134560753,"body":"Does your client actually know how to handle xlsx files (and are you actually sending an xlsx file or xls file? Instead of CREATED, try OK."},{"comment_id":134561012,"body":"We are trying to sending xlsx and changed to OK but didnt work."}],"last_activity_date":1684752125,"question_id":76305341,"body":"<p>excel file is getting downloaded from below code but not working due to below issue.</p>\n<p>file is not open because file format or extension is not valid.</p>\n<pre><code>@GetMapping(value=&quot;/downloadTemplate&quot;)\npublic ResponseEntity&lt;ByteArrayResource&gt; downloadTemplate() throws Exception {\n    try {\n        ByteArrayOutputStream stream = new ByteArrayOutputStream();\n        XSSFWorkbook workbook = createWorkBook(); // creates the workbook\n        HttpHeaders header = new HttpHeaders();\n        header.setContentType(new MediaType(&quot;application&quot;, &quot;force-download&quot;));\n        header.set(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=ProductTemplate.xlsx&quot;);\n        workbook.write(stream);\n        workbook.close();\n        return new ResponseEntity&lt;&gt;(new ByteArrayResource(stream.toByteArray()),\n                header, HttpStatus.CREATED);\n    } catch (Exception e) {\n        log.error(e.getMessage());\n        return new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n}\n</code></pre>\n"},{"answers":[{"answer_id":76305330,"body":"<p>I managed to make this work by autowiring a <code>Tracer</code> and instead adding the baggage inside the <code>Tracer</code>.</p>\n<pre><code>@Autowired\nprivate final Tracer tracer;\n\ntracer.createBaggageInScope(&quot;USER_ID&quot;, &quot;USER_ID_VALUE&quot;);\n</code></pre>\n"}],"last_activity_date":1684751907,"question_id":76226277,"body":"<p>I am updating my spring project to newer versions, and after updating I got the following message:</p>\n<blockquote>\n<p>Your project setup is incompatible with our requirements due to following reasons: Spring Cloud Sleuth is not compatible with this Spring Cloud release train, Action: Consider applying the following actions: Migrate from Spring Cloud Sleuth to Micrometer Tracing.</p>\n</blockquote>\n<p>So I removed sleuth and added the micrometer-tracing and micrometer-tracing-bridge-brave dependencies and switched to the following configuration:</p>\n<pre><code>management:\n  tracing:\n    enabled: true\n    baggage:\n      enabled: true\n      correlation:\n        enabled: true\n        fields: USER_ID\n      remote-fields: USER_ID\n</code></pre>\n<p>Now my <code>BaggageField</code> is not getting added to my MDCs as it was before. I have narrowed it down to the <code>tracing.currentTraceContext().get()</code> returning null when I call <code>BaggageField.updateValue()</code> but I cannot figure out why this is.</p>\n<pre><code>@Nullable static TraceContext currentTraceContext() {\n    Tracing tracing = Tracing.current();\n    return tracing != null ? tracing.currentTraceContext().get() : null;\n}\n</code></pre>\n<p>Here is my code that creates the BaggageField bean:</p>\n<pre><code>import brave.baggage.BaggageField;\nimport brave.baggage.CorrelationScopeConfig;\nimport brave.context.slf4j.MDCScopeDecorator;\nimport brave.propagation.CurrentTraceContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class BaggageConfig {\n\n    public static final String USER_ID_KEY = &quot;USER_ID&quot;;\n\n    @Bean\n    BaggageField userIdField() {\n        return BaggageField.create(USER_ID_KEY);\n    }\n    \n\n    @Bean\n    public CurrentTraceContext.ScopeDecorator mdcScopeDecorator(BaggageField userIdField) {\n        return MDCScopeDecorator.newBuilder()\n                .clear()\n                .add(CorrelationScopeConfig.SingleCorrelationField.newBuilder(userIdField).flushOnUpdate().build())\n                .build();\n    }\n}\n</code></pre>\n<p>And when I try to update the value I autowire in the BaggageField:</p>\n<pre><code>private final BaggageField userIdField;\n</code></pre>\n<p>And update:</p>\n<pre><code>userIdField.updateValue(requestMetadataContext.getUserId());\n</code></pre>\n<p>Versions:</p>\n<pre><code>org.springframework.boot:3.0.6\norg.springframework.cloud:spring-cloud-starter-bootstrap:4.0.2\norg.springframework.cloud:spring-cloud-starter-consul-all:4.0.2\nio.micrometer:micrometer-tracing:1.1.0\nio.micrometer:micrometer-tracing-bridge-brave:1.1.0\n</code></pre>\n<p>Edit:\nSmall application to reproduce <a href=\"https://github.com/davefarrelly/baggage-example\" rel=\"nofollow noreferrer\">Baggage Example</a></p>\n"},{"comments":[{"comment_id":134047763,"body":"<code>but less than API Android 33 save very well.</code> Because you use MANAGE_EXTERNAL_STIRAGE. Without that it will fail on 30+."},{"comment_id":134047829,"body":"@blackapps - I have used MANAGE_EXTERNAL_STORAGE in my project, but not work"},{"comment_id":134132090,"body":"@blackapps ok I changed logcat to code block view"},{"comment_id":134135340,"body":"<code>if (!file.exists()) {             file.mkdirs();         }</code> That should be: <code>if (!file.exists()) {             if(!file.mkdirs()) return;         }</code>"},{"comment_id":134135349,"body":"You should use an existing public directory. Do not try to create one yourself."},{"comment_id":134146650,"body":"@blackapps I changed it this way but I can&#39;t write the file I even change the path but did not get correct."},{"comment_id":134146663,"body":"Post your new code. Then tell what5 happens."},{"comment_id":134146859,"body":"@blackapps  : &gt;         String path = this.getExternalFilesDir(null).getAbsolutePath() + File.separator + folderName + File.separator + fileName;         File file = new File(path);         if (!file.exists()) {             File wallpaperDirectory = new File(path);             wallpaperDirectory.mkdirs();         }"},{"comment_id":134146933,"body":"Terrible. You have not used an existing public directory. You introduce a new File variable. You are not checking the return value of mkdirs(). You are doing nothing with all suggestions. And then you post code as comment. Unreadable. Post your code completely in your post. Also post the new logcat lines if anything goes wrong."},{"comment_id":134147053,"body":"@blackapps sorry for the comment but I want to share the link answer that I used   <a href=\"https://stackoverflow.com/a/70419518/10608055\">stackoverflow.com/a/70419518/10608055</a>"}],"answers":[{"comments":[{"comment_id":134047769,"body":"It&#39;s true, but all the features are in the manifest  but I can&#39;t write on Android 13 that this problem still exists for me and I check anyway but I am confused to fix it for android API 33"},{"comment_id":134047823,"body":"With MANAGE_EXTERNAL_STORAGE on an Android 13 device you can create your own files and folders also in root of external storage."}],"answer_id":76003803,"body":"<p>You cannot request write permission on Android 13 devices.</p>\n<p>You automatically have write permission in all app specific directories and all public directories on external storage.</p>\n"},{"answer_id":76305246,"body":"<p>In HomeFragment.kt is called like this:</p>\n<pre><code>    binding.btHomeExport.setOnClickListener {\n        GlobalScope.launch {\n            exportData(requireActivity())\n        }\n    }\n</code></pre>\n<p>The <code>Export.kt</code> it is just a Java utility class converted to Kotlin, practically just to move out the code:</p>\n<p>object Export {\nsuspend fun exportData(activity: Activity) {</p>\n<pre><code>    try {\n        // read again from file?\n\n        val listMyDealWithMyClient = doReadFromFile(activity)\n\n        val timeZoneDate = SimpleDateFormat(&quot;yyyy-MMM-dd_HH-mm-ss&quot;, Locale.getDefault())\n        val formattedDate = timeZoneDate.format( Date())\n\n        val workbook = XSSFWorkbook()\n        val workSheet = workbook.createSheet(&quot;MyDeals_$formattedDate&quot;)\n        val colorMap = workbook.stylesSource.indexedColors\n\n        val cellStyleHeader = workbook.createCellStyle()\n        cellStyleHeader.fillForegroundColor = IndexedColors.AQUA.getIndex()\n        cellStyleHeader.fillPattern = FillPatternType.SOLID_FOREGROUND\n        cellStyleHeader.font.bold = true\n        cellStyleHeader.verticalAlignment = VerticalAlignment.CENTER\n        cellStyleHeader.alignment = HorizontalAlignment.CENTER\n        cellStyleHeader.setRightBorderColor( XSSFColor(byteArrayOf(0, 0, 0), colorMap))\n        cellStyleHeader.borderRight = BorderStyle.THIN\n\n\n        val row0 = workSheet.createRow(0)\n        row0.height = 800\n</code></pre>\n<p>more code here, which are data procesing ...</p>\n<pre><code>        // save workbook to file:\n        val fileName = &quot;data_$formattedDate.xlsx&quot;\n        val fos: FileOutputStream =\n            activity.openFileOutput(fileName, Context.MODE_PRIVATE)!!\n\n        workbook.write(fos)\n        workbook.close()\n\n        withContext(Dispatchers.IO) {\n            fos.flush()\n            fos.close();\n        };\n\n        //need: fos.path, but it is private!\n\n        val appPath = activity.application?.filesDir?.absolutePath\n        // delete old .xlsx files\n        val dir = appPath?.let { File(it) }\n        dir?.listFiles()!!.forEach { file -&gt;\n            run {\n                if (file.name.endsWith(&quot;.xlsx&quot;)) {\n                    file.deleteOnExit()\n                }\n            }\n        }\n\n        val exportFile = File(appPath, fileName)\n\n\n        val sharingIntent = Intent(Intent.ACTION_SEND)\n\n        val fileUri =\n            FileProvider.getUriForFile(//\n                activity.applicationContext!!,\n                activity.packageName + &quot;.fileProvider&quot;,\n                exportFile\n            );\n</code></pre>\n<p>VERY IMPORTANT  <code>&quot;.fileProvider&quot;</code> must match the case with others:\nManifest:</p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;false&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MyAppTheme&quot;\n    tools:targetApi=&quot;33&quot;&gt;\n\n\n\n    &lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n        android:authorities=&quot;my.package.with.myid.fileProvider&quot;\n        android:grantUriPermissions=&quot;true&quot;\n        android:exported=&quot;false&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n            android:resource=&quot;@xml/file_provider_path&quot;/&gt;\n    &lt;/provider&gt;\n\n    &lt;activity\n        android:name=\n</code></pre>\n<p>NOT needed Read External, Write External permissions! None needed!</p>\n<p>At <code>res/xml</code> create a file <code>file_provider_path.xml</code></p>\n<p>Paste the content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;paths&gt;\n    &lt;files-path\n        name=&quot;files&quot;\n        path=&quot;.&quot; /&gt;\n&lt;/paths&gt;\n</code></pre>\n<p>The file it wil be exported, not sure how it can be accessed by other apps. That's why I do a share / send file and I let the user choose the Intent:</p>\n<pre><code>            // add provider\n            sharingIntent.type = &quot;*/*&quot;\n            sharingIntent.putExtra(Intent.EXTRA_STREAM, fileUri)\n\n            sharingIntent.flags = Intent.FLAG_GRANT_READ_URI_PERMISSION\n\n            activity.startActivity(sharingIntent)\n\n\n        } catch (ex: Exception) {\n            ex.printStackTrace()\n            Toast.makeText(activity, ex.message, Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n<p>This is the final part of the <code>Export.kt</code></p>\n<p>Today (May 22, 2023) it is working with Android 33...tomorrow maybe not -as how Google changes their API...</p>\n<p>I don't target other devices, just Android 33 - because it is a utility app for somebody. It were many changes at Androi pre 8, post 8, pre 9 , post 9, pre 10, post 10, pre 11, pre 12, post 12, pre 13, and +13\nSpent like 10 days to put the lego pieces together :)</p>\n<p>As testing I am sending the .xlsx file via Bluetooth to Desktop PC ( Windowws 10) and checking there the data + formatting, and is working!</p>\n"}],"last_activity_date":1684751898,"question_id":76003739,"body":"<p>I am targeting my Android app for Android 13 (API 33)</p>\n<p>I have generated an Excel file from my list and saved it but it doesn't save in API 33 but less than API Android 33 save very well.</p>\n<blockquote>\n<p>If needed, these libraries have been used</p>\n<pre><code>implementation 'org.apache.poi:poi:4.0.0'\nimplementation 'org.apache.poi:poi-ooxml:4.0.0'\n</code></pre>\n</blockquote>\n<blockquote>\n<p>Manifest permission</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n</blockquote>\n<p>Check Permission</p>\n<pre><code>private void checkPermission() {\n    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.M) {\n        if (getApplicationContext().checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_DENIED) {\n            String[] permissions = {Manifest.permission.WRITE_EXTERNAL_STORAGE};\n            requestPermissions(permissions, 1);\n        } else {\n            importData();\n        }\n    } else {\n        importData();\n    }\n\n}\n</code></pre>\n<p>make excel files and storage</p>\n<pre><code>    private void importData() {\n        //get data from edit text\n\n        try {\n            userList.add(new SheetModel(&quot;kawcher&quot;, &quot;0181238383&quot;, &quot;nmkawcher112@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;shuvo&quot;, &quot;0171238383&quot;, &quot;demo1@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;hasan&quot;, &quot;0161238383&quot;, &quot;demo2@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;habib&quot;, &quot;0151238383&quot;, &quot;demo3@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;selim&quot;, &quot;0131238383&quot;, &quot;demo4@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;tayeb&quot;, &quot;0121238383&quot;, &quot;demo5@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;abul kalam&quot;, &quot;0191238383&quot;, &quot;demo6@gmail.com&quot;));\n            userList.add(new SheetModel(&quot;Kamal&quot;, &quot;0101238383&quot;, &quot;demo7@gmail.com&quot;));\n\n        }catch (Exception e){e.printStackTrace();}\n\n        if (userList.size() &gt; 0) {\n            createXlFile();\n\n\n        } else {\n            Toast.makeText(this, &quot;list are empty&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    private void createXlFile() {\n\n        // File filePath = new File(Environment.getExternalStorageDirectory() + &quot;/Demo.xls&quot;);\n        Workbook wb = new HSSFWorkbook();\n\n\n        Cell cell = null;\n\n        Sheet sheet = null;\n        sheet = wb.createSheet(&quot;Demo Excel Sheet&quot;);\n        //Now column and row\n        Row row = sheet.createRow(0);\n\n        cell = row.createCell(0);\n        cell.setCellValue(&quot;Person Name&quot;);\n\n\n        cell = row.createCell(1);\n        cell.setCellValue(&quot;Phone Number&quot;);\n\n\n        cell = row.createCell(2);\n        cell.setCellValue(&quot;Email Address&quot;);\n\n\n        //column width\n        sheet.setColumnWidth(0, (20 * 200));\n        sheet.setColumnWidth(1, (30 * 200));\n        sheet.setColumnWidth(2, (30 * 200));\n\n\n        for (int i = 0; i &lt; userList.size(); i++) {\n            Row row1 = sheet.createRow(i + 1);\n\n            cell = row1.createCell(0);\n            cell.setCellValue(userList.get(i).getName());\n\n            cell = row1.createCell(1);\n            cell.setCellValue((userList.get(i).getPhoneNo()));\n            //  cell.setCellStyle(cellStyle);\n\n            cell = row1.createCell(2);\n            cell.setCellValue(userList.get(i).getEmail());\n\n\n            sheet.setColumnWidth(0, (20 * 200));\n            sheet.setColumnWidth(1, (30 * 200));\n            sheet.setColumnWidth(2, (30 * 200));\n\n        }\n        String folderName = &quot;Import Excel&quot;;\n        String fileName = folderName + System.currentTimeMillis() + &quot;.xls&quot;;\n        String path = Environment.getExternalStorageDirectory() + File.separator + folderName + File.separator + fileName;\n\n        File file = new File(Environment.getExternalStorageDirectory() + File.separator + folderName);\n        if (!file.exists()) {\n            file.mkdirs();\n        }\n//         file.deleteOnExit();\n\n        FileOutputStream outputStream = null;\n\n        try {\n\n            //\n            outputStream = new FileOutputStream(path);\n//            outputStream = new FileOutputStream(new File(getFilesDir()., path));\n            wb.write(outputStream);\n            // ShareViaEmail(file.getParentFile().getName(),file.getName());\n            Toast.makeText(getApplicationContext(), &quot;Excel Created in &quot; + path, Toast.LENGTH_SHORT).show();\n        } catch (IOException e) {\n            e.printStackTrace();\n\n            Toast.makeText(getApplicationContext(), &quot;Not OK&quot;, Toast.LENGTH_LONG).show();\n            try {\n                outputStream.close();\n            } catch (Exception ex) {\n                ex.printStackTrace();\n\n            }\n        }\n\n    }\n</code></pre>\n<p>Error logcat:</p>\n<pre><code>     /System.err: java.io.FileNotFoundException: /storage/emulated/0/Import Excel/Import Excel1681376608447.xls: open\n failed: ENOENT (No such file or directory)\n             at libcore.io.IoBridge.open(IoBridge.java:574)\n             at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:236)\n             at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:125)\n             at com.roomack.amlaak.view.activity.MainActivity.createXlFile(MainActivity.java:1125)\n             at com.roomack.amlaak.view.activity.MainActivity.importData(MainActivity.java:1051)\n             at com.roomack.amlaak.view.activity.MainActivity.checkPermission(MainActivity.java:1020)\n             at com.roomack.amlaak.view.activity.MainActivity.access$300(MainActivity.java:100)\n             at com.roomack.amlaak.view.activity.MainActivity$18.onClick(MainActivity.java:821)\n             at android.view.View.performClick(View.java:7560)\n             at android.view.View.performClickInternal(View.java:7533)\n             at ndroid.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n             at android.view.View$PerformClick.run(View.java:29754)\n     W/System.err:     at android.os.Handler.handleCallback(Handler.java:942)\n             at android.os.Handler.dispatchMessage(Handler.java:99)\n             at android.os.Looper.loopOnce(Looper.java:211)\n             at android.os.Looper.loop(Looper.java:300)\n             at android.app.ActivityThread.main(ActivityThread.java:8143)\n             at java.lang.reflect.Method.invoke(Native Method)\n             at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:580)\n             at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1028)\n         Caused by: android.system.ErrnoException: open failed: ENOENT (No such file or directory)\n             at libcore.io.Linux.open(Native Method)\n             at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\n             at libcore.io.BlockGuardOs.open(BlockGuardOs.java:274)\n             at libcore.io.ForwardingOs.open(ForwardingOs.java:563)\n             at android.app.ActivityThread$AndroidOs.open(ActivityThread.java:8019)\n             at libcore.io.IoBridge.open(IoBridge.java:560)\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134558151,"body":"The step 3 succeeded after following your suggestion but getting an error step 4 &#39;Error: Unable to access jarfile application.jar&#39;. I also don&#39;t see the jar file copied from maven_builder to up-user-service/target which should have happened . What I might be doing wrong here?"},{"comment_id":134558274,"body":"That seems to match the suggestion in the last half of my answer: as you&#39;ve written it you copy a jar file into <code>&#47;up-user-service&#47;target&#47;myapp-0.0.1.jar</code>, but then you <code>RUN java -jar application.jar</code>.  So the last half of the answer suggests renaming the file to <code>application.jar</code> in the build stage, and consistently using a <code>&#47;app</code> directory (not the container filesystem root directory) in all of the later stages."},{"comment_id":134558687,"body":"I have already renamed the jar to application.jar as you suggested,but still getting the same error. I tried accessing the file as &#39;RUN java -Djarmode=layertools -jar up-user-service/target/application.jar extract&#39; and &#39;RUN java -Djarmode=layertools -jar app/target/application.jar extract&#39;, but getting the same error."},{"comment_id":134558925,"body":"Am I still missing anything?"},{"comment_id":134559378,"body":"Immediately before that <code>RUN</code> line you <code>COPY</code> the jar file into the intermediate stage.  The destination path of that <code>COPY</code> needs to match the jar file argument to <code>java -jar</code>."}],"answer_id":76305318,"body":"<p>Delete these two lines</p>\n<pre class=\"lang-bash prettyprint-override\"><code># delete me!\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} application.jar\n</code></pre>\n<p>Those copy a jar file from your host system, any single <code>*.jar</code> file from the <code>target</code> directory relative to the build context; if you haven't separately built the application on your host this will fail.</p>\n<p>Immediately before this you have the correct line</p>\n<pre class=\"lang-bash prettyprint-override\"><code># keep me!\nCOPY --from=maven_builder /app/target/*.jar up-user-service/target\n</code></pre>\n<p>which copies the jar file built by the <code>maven_builder</code> stage.  With that line the jar file is in fact in your image, the second set of lines is redundant.</p>\n<p>The one other tricky thing here is that you require the jar file to be named <code>application.jar</code> when you run the Spring unpacker, but the build output will probably be named something like <code>myapp-0.0.1.jar</code>.  I might rename this in the build stage:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>FROM maven:3.8.3-openjdk-17 as maven_builder\n...\nRUN mvn clean install\nRUN mv target/*.jar target/application.jar  # &lt;-- add\n\nFROM openjdk:17-jdk-alpine as builder\nWORKDIR /app\nCOPY --from=maven_builder /app/target/application.jar ./\nRUN java -Djarmode=layertools -jar application.jar extract\n\nFROM openjdk:17-jdk-alpine\nWORKDIR /app\nCOPY --from=builder /app/dependencies/ ./\n...\n</code></pre>\n"}],"last_activity_date":1684751834,"question_id":76304976,"body":"<p>I have a docker file having 2 stages. The first stage builds the application using maven and the  second one start the application. The file contents are as follows:-</p>\n<pre><code>FROM maven:3.8.3-openjdk-17 as maven_builder\nWORKDIR /app\nCOPY up-user-service/pom.xml .\nCOPY up-user-service/src ./src\nRUN mvn clean install\nRUN ls -l /app/target\n\n\nFROM openjdk:17-jdk-alpine as builder\nCOPY --from=maven_builder /app/target/*.jar up-user-service/target\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} application.jar\nRUN java -Djarmode=layertools -jar application.jar extract\nFROM openjdk:17-jdk-alpine\nCOPY --from=builder dependencies/ ./\nRUN true\nCOPY --from=builder snapshot-dependencies/ ./\nRUN true\nCOPY --from=builder spring-boot-loader/ ./\nRUN true\nCOPY --from=builder application/ ./\nENTRYPOINT [&quot;java&quot;, &quot;org.springframework.boot.loader.JarLauncher&quot;]\n</code></pre>\n<p>However, when I build this using docker file, I am getting the error <code>ERROR: failed to solve: lstat /var/lib/docker/tmp/buildkit-mount1400144723/target: no such file or directory</code>. I am also unable to see the output of ls stage also as it disappears very fast from screen.</p>\n<p>Can someone please suggest what might be the issue here?</p>\n"},{"comments":[{"comment_id":134563783,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"last_activity_date":1684751725,"question_id":76305306,"body":"<p>I have a Java app, clients send requests to this app and app executes SELECT (4 dif. column in WHERE condition) query on table A based on the fields existed in request. Other thread, in every 15 min. refreshes the data(that is fetched some external db) on this table A. Deleting all the data in table A and inserting new data (about 30k row) takes around 7-8 sec., it is a transactional connection. If SELECT query comes during this time interval it waits on &quot;dao&quot; level until delete/insert transaction will be committed.</p>\n<p>This creates a delay for the clients and leads serious problems. I thought that this is a general problem, and wondered that whether there is a general approach/tech to cover this problem.</p>\n<p>Thought that instead of executing SELECT query, maybe I can find matched records from memory through some list/map. But since multiple columns exist in WHERE clause, it will not be easy to use memory object as a table.</p>\n"},{"answers":[{"comments":[{"comment_id":134555181,"body":"I did remove mocking in 2 places as you suggested but getting nullpointer in the line &quot;return result.body().get()&quot; of method invokeApi , because &quot;java.net.http.HttpResponse.body()&quot; is null"},{"comment_id":134555210,"body":"Congrats! You have new exception and you can go forward. You need to stub HttpResponse.body() with when() using powermockito or mockito-inline(which i suggest) because it`s static method."},{"comment_id":134555272,"body":"Thanks, you are right I missed stubbing HttpResponse.body(). But I still notice that it&#39;s actually calling the API instead of mocking , if I provide any dummy URL instead of actual API it gives &quot;java.net.ConnectException&quot;. I wanted it to mock the API calling instead of calling actual API."},{"comment_id":134555421,"body":"Maybe you had a typo with createmyMnt() and you need to write create(). seems strange to me"},{"comment_id":134557070,"body":"That was typo while posting question on here, updated the code to fix typo&#39;s. Still code is failing at &quot;return result.body().get();&quot; because of jackson parsing exception when code executes supplier.get() method, it&#39;s giving 404 response when supplier.get is executed and jackson parse fails due to invalid html content of 404 response"},{"comment_id":134557403,"body":"Note:  You mocked HttpResponse&lt;Object&gt; httpResponse; but in your method you are using  HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; httpResponse; so you need to pass supplier  when(httpResponse.body()).thenReturn(() -&gt; myResponse);"},{"comment_id":134557583,"body":"Which I am already doing if you see my updated code above, I am returning a mocked supplier. So the main issue I mentioned in code still exists, the junit is calling actual API instead of mocking the behaviour and along with that now it&#39;s failing to get response from supplier also"},{"comment_id":134557657,"body":"Try my last <i>updated</i> version of the code. If it won&#39;t work. I can`t help with this. because code is not reproducible and i can not debug this"},{"comment_id":134557992,"body":"Thank you for your assistance, it didn&#39;t work. It&#39;s still trying to connect to google.com and supplier.get fails to parse"}],"answer_id":76303508,"body":"<p>You are facing this because you are mocking the same dependencies 2 times.\nHere what i mean:</p>\n<pre><code> @Mock\n private HttpClient httpClient;\n</code></pre>\n<p>And then in beforeEach you again are mocking your dependency</p>\n<pre><code>httpClient = mock(HttpClient.class);\n</code></pre>\n<p>I recommend choosing the approach that you need and don't mock 2 times.\nHere where you are mocking and use @InjectMocks. Also we need to add annotation @ExtendWith(MockitoExtension.class) this will handle initMocks(this) and we won't need to add it(this annotation helps to mocks be properly injected).</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyServiceTests {\n\n    @InjectMocks\n    private MyService myService;\n\n    @Mock\n    private HttpClient httpClient;\n    @Mock\n    HttpResponse&lt;Object&gt; httpResponse;\n\n    @Mock\n    private HttpRequest request;\n\n    @Test\n    void testSendMessage() throws Exception {\n        MyResponse myResponse=new MyResponse();\n\n        when(httpClient.send(any(),any())).thenReturn(httpResponse);\n        when(myService.invokeApi(httpClient,request)).thenReturn(myResponse);\n        myService.createmyMnt(&quot;https://test.com&quot;, &quot;/v1/test?page_size=100&quot;);\n        verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\n    }\n}\n</code></pre>\n<p>or use constructor injection like:</p>\n<pre><code>class MyServiceTests {\n\n    private MyService myService;\n    private HttpClient httpClient;\n    private HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; httpResponse;\n    private HttpRequest request;\n\n    @BeforeEach\n    void setUp() {\n        httpClient = mock(HttpClient.class);\n        httpResponse = mock(HttpResponse.class);\n        request = mock(HttpRequest.class);\n        myService = new MyService();\n    }\n\n    @Test\n    void testSendMessage() throws Exception {\n        MyResponse myResponse = new MyResponse();\n\n        when(httpClient.send(any(), any())).thenReturn(httpResponse);\n        when(httpResponse.body()).thenReturn(() -&gt; myResponse);\n\n        myService.create(&quot;https://test.com&quot;, &quot;/v1/test?page_size=100&quot;);\n\n        verify(httpClient).send(request, new JsonBodyHandler&lt;&gt;(MyResponse.class));\n    }\n}\n</code></pre>\n<hr />\n<p>According to the comments try this please:</p>\n<pre><code>    @ExtendWith(MockitoExtension.class)\nclass MyServiceTests {\n\n    @InjectMocks\n    private MyService myService;\n\n    @Mock\n    private HttpClient httpClient;\n\n    @Mock\n    private HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; httpResponse;\n\n    @Mock\n    private HttpRequest request;\n\n    @Mock\n    private Supplier&lt;MyResponse&gt; myResponseSupplier;\n\n    @Test\n    void testSendMessage() throws Exception {\n        MyResponse myResponse = getMyResponse();\n\n        when(httpClient.send(any(), any())).thenReturn(httpResponse);\n        when(httpResponse.body()).thenReturn(() -&gt; myResponseSupplier);\n        when(myResponseSupplier.get()).thenReturn(myResponse);\n\n        myService.create(&quot;https://www.google.com&quot;, &quot;/v1/test?page_size=100&quot;);\n\n        verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\n      \n    }\n\n    private MyResponse getMyResponse() {\n        return new MyResponse();\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684751502,"question_id":76303358,"body":"<p>I am trying to write junit 5 code in a java maven project(not a springboot project) , which is calling an API and extracting response and creating a file. But when I tried to mock the API calling, junit still calls actual API, which is not the desired behaviour. Can someone help to identify issue here?</p>\n<p>I followed this link to write below unit tests <a href=\"https://stackoverflow.com/questions/69768931/how-to-mock-httpclients-send-method-in-junit-5\">How to mock HttpClient&#39;s send method in junit 5?</a></p>\n<p>Actual service code -</p>\n<pre><code>public class MyService {\n\n    public void create(String apiHost, String firstPage) {\n        HttpClient httpClient = HttpClient.newBuilder()\n                .version(HttpClient.Version.HTTP_2)\n                .connectTimeout(Duration.ofSeconds(30))\n                .build();\n        HttpRequest httpRequest = getHttpRequest(apiHost, firstPage);\n \n        MyResponse myResponse = invokeApi(httpClient, httpRequest);\n        List&lt;ResponseData&gt; responseDataList = new ArrayList&lt;&gt;(myResponse.getData());\n        while (null != myResponse.getLinks().getNext()) {\n\n            myResponse = invokeApi(httpClient, getHttpRequest(apiHost, invokeApi.getLinks().getNext()));\n            locationDetailsList.addAll(invokeApi.getData());\n        }\n\n        createFile(fileName, responseDataList);\n    }\n\n    private HttpRequest getHttpRequest(String apiHost, String pageUri) {\n        return HttpRequest.newBuilder()\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .GET()\n                .uri(URI.create(apiHost + pageUri))\n                .build();\n    }\n\n    @SneakyThrows\n    MyResponse invokeApi(HttpClient httpClient, HttpRequest httpRequest) {\n        HttpResponse&lt;Supplier&lt;MyResponse&gt;&gt; result = httpClient.send(httpRequest, new JsonBodyHandler&lt;&gt;(MyResponse.class));\n        return result.body().get();\n    }\n\n    @SneakyThrows\n    void createFile(String fileName, List&lt;ResponseData&gt; responseDataList) {\n        Path filePath = Paths.get(&quot;test/path&quot; + fileName);\n        Files.createFile(filePath);\n        Files.writeString(filePath, header + System.lineSeparator(), StandardOpenOption.APPEND);\n        for (ResponseData responseData : responseDataList) {\n            Files.writeString(filePath, responseData + System.lineSeparator(), StandardOpenOption.APPEND);\n        }\n    }\n</code></pre>\n<p>Junit 5 code -</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyServiceTests {\n\n    @InjectMocks\n    private MyService myService;\n\n    @Mock\n    private HttpClient httpClient;\n    @Mock\n    HttpResponse&lt;Object&gt; httpResponse;\n\n    @Mock\n    private HttpRequest request;\n\n    @Mock\n    Supplier&lt;MyResponse&gt; myResponseSupplier;\n\n\n    @Test\n    void testSendMessage() throws Exception {\n\n        when(httpClient.send(any(),any())).thenReturn(httpResponse);\n        when(httpResponse.body()).thenReturn(myResponseSupplier);\n        when(myResponseSupplier.get()).thenReturn(getMyResponse());\n        myService.create(&quot;https://www.google.com&quot;, &quot;/v1/test?page_size=100&quot;);\n        verify(httpClient).send(request, HttpResponse.BodyHandlers.ofString());\n    }\n}\n</code></pre>\n<p>In the above junit code when &quot;myService.createmyMnt&quot; is executed it actually tried to invoke <a href=\"https://test.com\" rel=\"nofollow noreferrer\">https://test.com</a> instead of mocking the call.</p>\n"},{"comments":[{"comment_id":134557695,"body":"Does this help? <a href=\"https://stackoverflow.com/questions/32543197/error-json-simple-java-util-zip-zipexception-duplicate-entry-org-hamcrest-bas\" title=\"error json simple java util zip zipexception duplicate entry org hamcrest bas\">stackoverflow.com/questions/32543197/&hellip;</a>"},{"comment_id":134558388,"body":"Json simple has been abandoned for years. Better use some other json library."},{"comment_id":134564946,"body":"Please use the correct terminology.  The build errors and warnings you are receiving are not what would be normally termed a &quot;crash&quot;."}],"last_activity_date":1684751434,"question_id":76305270,"body":"<p>I'm encountering an issue with Gradle build of my javafx project after adding the json-simple library as a dependency. However, the build crashes, and I'm unsure about the cause of the problem. Here are the details of my setup:</p>\n<ul>\n<li><p>I added the following line to my build.gradle file within the dependencies block:\n<code>implementation 'com.googlecode.json-simple:json-simple:1.1.1'</code></p>\n</li>\n<li><p>I also included the line requires json.simple; in my module-info.java file.</p>\n</li>\n</ul>\n<p>However, I'm encountering the following error:</p>\n<pre><code>error: module json.simple reads package org.hamcrest from both hamcrest.core and junit\nerror: module json.simple reads package org.hamcrest.internal from both hamcrest.core and junit\nerror: module json.simple reads package org.hamcrest.core from both hamcrest.core and junit\n</code></pre>\n<p>Additionally, I received the following vulnérability warning:</p>\n<pre><code>Provides transitive vulnerable dependency maven:junit:junit:4.10\nCVE-2020-15250 5.5 Incorrect Permission Assignment for Critical Resource vulnerability pending CVSS allocation\nResults powered by Checkmarx(c)\n</code></pre>\n<p>The error disappears if I remove the requires json.simple; line from the module-info.java file.</p>\n"},{"comments":[{"comment_id":57815462,"body":"Are you opposed to converting the maven project to gradle?"},{"comment_id":57816967,"body":"Yes, then I&#39;ve tried to convert the Maven project into a Gradle project, but that resulted in a bunch of other errors, so i would prefer to stay with Maven..."},{"comment_id":57817186,"body":"Alright, I just wanted to note that it is possible to add a regular java gradle project as a subproject to an android project."},{"comment_id":63720460,"body":"Are the problems you&#39;re having described by JetBrains YouTrack ticket <a href=\"https://youtrack.jetbrains.com/issue/IDEA-122904\" rel=\"nofollow noreferrer\">IDEA-122904</a>? If so, do any of the workarounds listed in there help?"},{"comment_id":80535348,"body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported\">Android studio Error &quot;Unsupported Modules Detected: Compilation is not supported for following modules&quot;</a>"}],"answers":[{"comments":[{"comment_id":70164803,"body":"I don&#39;t use android studio .  this is not my case !"},{"comment_id":90247966,"body":"Was getting &quot;Unsupported Modules Detected: Compilation is not supported for following modules: mobile. Unfortunately you can&#39;t have non-Gradle Java modules and Android-Gradle modules in one project&quot; - this helped me. Thanks!"}],"answer_id":41407512,"body":"<p>First of all you should update to Android Studio Source: <a href=\"https://code.google.com/p/android/issues/detail?id=77983\" rel=\"noreferrer\">https://code.google.com/p/android/issues/detail?id=77983</a></p>\n\n<p>Then you should go to File -> Invalidate Caches / Restart -> Invalidate Caches &amp; Restart.</p>\n\n<p>Then try to build the application again.</p>\n\n<p>I found this answer <a href=\"https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported\">here</a></p>\n"},{"comments":[{"comment_id":111372422,"body":"Please try to add solution instead redirecting to another websites"}],"answer_id":47181333,"body":"<p>the error explain all things, the idea is confused between <strong>gradle</strong> and <strong>maven</strong>.</p>\n\n<p>try to create new project with two <strong>gradle</strong> modules, you can build spring application with gradle as maven.</p>\n\n<p>see <a href=\"https://spring.io/guides/gs/gradle/\" rel=\"nofollow noreferrer\">this</a> example from spring guides</p>\n"},{"comments":[{"comment_id":95604251,"body":"<code>File -&gt; Settings (= STRG+ALT+S) -&gt; Plugins -&gt; uncheck &quot;Android Support&quot;</code> <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000404920/comments/360000086479\" rel=\"nofollow noreferrer\">JetBrains Help Page</a>"},{"comment_id":104740224,"body":"In my case I had no such a plugin, but had &quot;Markdown plugin&quot; marked as red incompatible, I uninstalled it and solved the problem after AS restart."}],"answer_id":51582490,"body":"<p>Press Ctrl-Alt-S > Uncheck \"Android Support\" plugin</p>\n\n<p>(I wish I could tell you exactly why this works, but I can't. If you want to develop for Android, try using Android Studio, which is also made by Jetbrains.)</p>\n"},{"answer_id":51806787,"body":"<p>Make sure you have added your module to the <code>settings.gradle</code> file:</p>\n\n<pre><code>include ':app'\ninclude ':your-module'\n</code></pre>\n"},{"answer_id":52746165,"body":"<p>Had same issue with Android Studio 3.3 Canary 13.</p>\n\n<p>I was able to solve it by following these steps:</p>\n\n<ul>\n<li>Go to the module settings and remove your module from the list</li>\n<li>Edit settings.gradle and remove your module from there also</li>\n<li>Physically move the module directory out of the project (to your desktop for instance)</li>\n<li>Then in the module settings again add a module and select as type 'Import Gradle Project' in which you select the module folder you have moved to your desktop (or anywhere else)</li>\n</ul>\n\n<p>When you complete these steps the module will be copied into your project again, AS will start syncing Gradle again and that succeeds without errors :-) Check your GIT status and you will see as soon as you add your module directory to GIT again that nothing has changed to your working directory. So it's purely an issue with AS that gets somehow out-of-sync...</p>\n\n<p>Based my solution on this comment: <a href=\"https://issuetracker.google.com/issues/37008041#comment3\" rel=\"noreferrer\">https://issuetracker.google.com/issues/37008041#comment3</a></p>\n"},{"answer_id":52749623,"body":"<p>For me, my project was very corrupted. I don't know how I got into that state. What I observed was that several .gradle file and proguard file had a whole bundle of xml content. Fortunately, the physical file had the correct content in it, but android studio was displaying it as some xml file that looked like it belonged to some generated res xml data.  Things like \"Sync to file system\" or \"sync project to gradle file\", \"invalidate cache and restart\" or \"gradlew clean\" wouldn't clear up the issue.  I even replaced the bogus xml data being displayed in the gradle scripts with the original content, but that didn't help either. I tried some of the advise given above, but they either didn't work or seemed too complex for me to feel that me project would go back into a well formed state.</p>\n\n<p>So I elected to create a new blank project.  Using file explorer, I copied all of the modules in the corrupted project into the new project (a plain old copy and paste)  I also replaced the \"settings.gradle\" and the root \"build.gradle\" files of the new file with the contents from the old file. Once that is done, you have to run \"sync Project with gradle files and you're good to good.  If by chance your project root has some content that you physically added, you would have to copy that over too.</p>\n\n<p>So that gets you back up and working. I don't know for sure what caused my project to get corrupted, but I think it might have to do with the laptop going into sleep mode.  My laptop was not allowing me wake up from sleep and the only way for me to wake up was to power off an power on again.  I did have some projects opened a few times when that happened.  So that's my best guess as to how the project might have gotten corrupted.</p>\n"},{"comments":[{"comment_id":101970883,"body":"worked for me with just the deletion of .idea dir, on astudio 3.5"},{"comment_id":102072450,"body":"Does this work on only specific versions of Android Studio ?"},{"comment_id":108402954,"body":"Be careful deleting .idea directory. There is a lot of stuff in that directory that will get lost and not auto-generated when you relaunch A/S. Specifically <code>codeStyles</code> and <code>dictionaries</code>"},{"comment_id":108603262,"body":"It works for AS 3.6.3 too. I just closed the IDE, deleted the files and reopen. Didn&#39;t have to close the project nor import (I believe the IDE does it anyway)."},{"comment_id":109690203,"body":"@tir38, I think all the files in .idea folder are auto-generated. No need to worry while deleting. Android Studio creates every file by itself."},{"comment_id":110178283,"body":"more precisely: deleting <code>modules.xml</code> from <code>.idea</code> directory works. <a href=\"https://stackoverflow.com/a/61813520/1529129\">stackoverflow.com/a/61813520/1529129</a>"},{"comment_id":113005962,"body":"Received this after upgrading <code>firebase_crashlytics</code> package in a flutter project (Upgrade from Fabric-based to FB-based: <a href=\"https://firebase.googleblog.com/2020/06/crashlytics-sdk-now-available.html\" rel=\"nofollow noreferrer\">firebase.googleblog.com/2020/06/&hellip;</a>). This solution solved it."},{"comment_id":122451645,"body":"It doesn&#39;t work on android artic fox, I think it&#39;s more related to Gradle but I don&#39;t find it..."}],"answer_id":53920901,"body":"<p>1- close the project</p>\n\n<p>2- close <code>Android Studio</code> IDE</p>\n\n<p>3- delete the <code>.idea</code> directory</p>\n\n<p>4- delete all <code>.iml</code> files</p>\n\n<p>5- open <code>Android Studio</code> IDE and import the project  </p>\n\n<p>Answer from <a href=\"https://stackoverflow.com/questions/28668252/android-studio-error-unsupported-modules-detected-compilation-is-not-supported\">here</a></p>\n"},{"answer_id":57071601,"body":"<p>This solution worked for me Android Studio 3.3.2.</p>\n\n<ol>\n<li>Delete the .iml file from the project directory.</li>\n<li>In android studio File->invalidate caches/restart.</li>\n<li>Clean and Rebuild project if the auto build throws error.</li>\n</ol>\n"},{"comments":[{"comment_id":103276798,"body":"Thank. It helped me. And the solution is pretty! :)  But with:  Sync Project with Gradle Files"},{"comment_id":104507087,"body":"What are file will configure in .gitignore, can you please give suggestions for the new project."},{"comment_id":106309651,"body":"1.a After selecting &quot;Invalidate Caches/Restart&quot; a dialog appears. Make sure to choose the &quot;invalidate&quot; option only and close Android studio manually.  If you choose &quot;invalidate + restart&quot; Android studio will restart before you can complete steps 3-5."},{"comment_id":109690343,"body":"@MohanRajS, all the files which generates automatically must be ignored. For example- every iml file, .idea folder, .gradle folder, build folder, .classpath, .project , .log, .apk, .aab etc."},{"comment_id":133511354,"body":"Just invalidating caches and cleaning the project was enough for me."}],"answer_id":57335710,"body":"<ol>\n<li>Go to File -> Invalidate Caches/Restart.</li>\n<li>Close the project.</li>\n<li>Go to project folder and delete .idea folder.</li>\n<li>Delete YourProjectName.iml in project folder.</li>\n<li>Delete app.iml in  app folder.</li>\n<li>Open Android studio -> open existing project, and then select your\nproject.</li>\n<li>The Load Settings error and Unsupported modules detected error will\nbe gone.</li>\n</ol>\n"},{"answer_id":57413938,"body":"<p>None of above worked for me but tried something random and it worked. </p>\n\n<ol>\n<li>Copy the corrupted project directory.</li>\n<li>Paste it at somewhere else.</li>\n<li>Import it in Android Studio. (File-> New-> Import project)</li>\n<li>And uncorrupted project get restored.</li>\n</ol>\n\n<p>PS: You must have original corrupted project. (Means, copy it without tampering project structure)</p>\n"},{"answer_id":57526209,"body":"<p>Copy the project files from the original source and paste it somewhere and then import from the Android Studio.</p>\n"},{"answer_id":58968740,"body":"<p>Been dealing with this issue for a while every time I tried opening a project.</p>\n\n<p>I always receive this error even though I knew I had not made any changes that should of caused this apart from exporting to zip.</p>\n\n<p>To Fix:</p>\n\n<ul>\n<li>Make a new project or open project that works</li>\n<li>Go to file > open > \"your project\"</li>\n<li>Make sure your dummy project stays open.\nThe project you were getting errors should be opened in a new window.</li>\n</ul>\n\n<p>This fixed it for me without doing any changes or deleting anything.</p>\n"},{"answer_id":59357203,"body":"<p>goto <code>.idea</code> folder open <code>modules.xml</code> file and see for yourself what module is there that you are not using in project currently.</p>\n"},{"answer_id":59710346,"body":"<p>For some reason, you can not delete the .idea folder</p>\n\n<p>The best way is </p>\n\n<ul>\n<li>Delete all files inside of .idea</li>\n<li>Delete .idea</li>\n</ul>\n"},{"comments":[{"comment_id":107148226,"body":"deleting .idea folder and .iml file helped."}],"answer_id":60004751,"body":"<p>The ultimate solution to this error:</p>\n<h1><strong>SOLUTION 1</strong></h1>\n<p><strong>Step 1</strong> Go to File -&gt; Invalidate Caches/Restart.</p>\n<p><strong>Step 2</strong> Close the project.</p>\n<p><strong>Step 3</strong> Go to project folder and delete .idea folder.</p>\n<p><strong>Step 4</strong> Delete YourProjectName.iml in project folder.</p>\n<p><strong>step 5</strong> You will see a folder below graddle folder, Delete YourProjectName folder (it contains another YourProjectName.iml file).</p>\n<p><strong>Step 6</strong> Open Android studio -&gt; open existing project, and then select your project.</p>\n<p>**</p>\n<h1>SOLUTION 2</h1>\n<p>**</p>\n<p><strong>Step 1:</strong> Open the Corrupted Project (The one showing error).</p>\n<p><strong>Step 2:</strong> Open system.gradle file.</p>\n<p><strong>step 3:</strong> add this line of code <code>include ':app'</code>.</p>\n<p><strong>Step 4:</strong> click on the sync, to sync the gradle file.</p>\n"},{"comments":[{"comment_id":107149469,"body":"It worked for me. I had this error on a <i>gradle</i> module that was later removed but error kept being reported no matter what. Removing the module from modules.xml worked while everything else didn&#39;t."}],"answer_id":60059702,"body":"<p>Tried all above. Didn't work. </p>\n\n<p>Here's what worked. Go to the file called modules.xml </p>\n\n<p>Delete all the modules there. Clean and rebuild. </p>\n"},{"comments":[{"comment_id":127498554,"body":"this was the only solution that worked for me! of course after invalidate caches and restart."}],"answer_id":60194422,"body":"<p>In my case settings.gradle contained invalid configuration.</p>\n\n<p>I changed:</p>\n\n<blockquote>\n<pre><code>include ':app'\nrootProject.name='&lt;somthing else&gt;'\n</code></pre>\n</blockquote>\n\n<p>To:</p>\n\n<blockquote>\n<pre><code>include ':app'\n</code></pre>\n</blockquote>\n\n<p>Error is gone. So maybe check your settings.gradle for potential errors. If this won't work try to remove cache and other tips.</p>\n"},{"answer_id":61060927,"body":"<p>You can simply downgrade your gradle dependency to fit your current android studio version.</p>\n\n<pre><code>dependencies {\n        classpath 'com.android.tools.build:gradle:3.5.2'\n        ....\n}\n</code></pre>\n\n<p>Worked for me.</p>\n"},{"answer_id":61344063,"body":"<p>This may be resolved by fixing <code>.idea/modules.xml</code><br>\nCheck for <a href=\"https://stackoverflow.com/a/61343944/11910757\">https://stackoverflow.com/a/61343944/11910757</a></p>\n"},{"comments":[{"comment_id":110616235,"body":"Worked for me with android studio 4.0"},{"comment_id":111610275,"body":"Worked for me too, needed to rebuild the project before it worked."},{"comment_id":112419421,"body":"Damn..worked for me.. <code>cmd+shitf+.</code> to see hidden folders(.idea) in mac btw"}],"answer_id":61813520,"body":"<ol>\n<li>Close the project</li>\n<li>Just <strong>delete the modules.xml</strong> in .idea folder.</li>\n<li>Open the project again.</li>\n</ol>\n"},{"answer_id":62303758,"body":"<p>The following solution I found in this forum worked like a charm:</p>\n\n<p>1- close the project</p>\n\n<p>2- close Android Studio IDE</p>\n\n<p>3- delete the .idea directory in the directory where your app resides</p>\n\n<p>4- delete all .iml files in the directory where your app resides</p>\n\n<p>5- open Android Studio IDE and import the project</p>\n"},{"answer_id":63011142,"body":"<p>If nothing works try Import <strong>app folder not the Git root</strong> while opening Android Project and Error will be gone</p>\n"},{"answer_id":63428124,"body":"<p>Change the directory of the Project and re-open.</p>\n"},{"answer_id":64140521,"body":"<p><em><strong>Writing in 2020</strong></em> -</p>\n<p>If none of these worked, close <strong>android studio</strong> and then go to</p>\n<blockquote>\n<p>C:\\Users\\User.AndroidStudio(ANDROID_STUDIO_VERSION)\\system and delete the <strong>caches</strong> folder</p>\n</blockquote>\n<p><strong>Restart your project now</strong>, it should work.</p>\n"},{"answer_id":64351027,"body":"<p>Follow these steps :</p>\n<p>1-Command+Shift+F</p>\n<p>2-Type : modules.xml</p>\n<p>3-Open file</p>\n<p>4-Remove those you get error for (the module when you get error once building project)</p>\n<p><strong>Good luck :)</strong></p>\n"},{"answer_id":68753335,"body":"<p>This happened when there are some cache issues.\nJust remove .gradle,.idea and app/build folder.</p>\n<p>Goto -&gt; AndroidStudio -&gt; File -&gt; Invalidate Cache &amp; Restart</p>\n<p>This will open the same project again and Gradle will rebuild all files and caches. This will take around 10-12 minutes.\nThis will definitely be going to help you.</p>\n"},{"answer_id":68867693,"body":"<p>In my case I deleted all project from local Repos folder. Then Cloned new Project from <code>bitbucked</code> and imported it again, hopefully error gone.</p>\n"},{"comments":[{"comment_id":125812861,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71174194/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"comment_id":125909250,"body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/31103396\">From Review</a>"}],"answer_id":71174194,"body":"<p>in my case it work by just invalidate and restart</p>\n"},{"comments":[{"comment_id":127446936,"body":"You need to provide somewhat more detail than that, such as <i>which</i> project files (POMs? IntelliJ files? something else) to copy from, and which to copy to."},{"comment_id":127525771,"body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/late-answers/31700267\">From Review</a>"}],"answer_id":72127708,"body":"<p>Try to copy and paste from the project files</p>\n"},{"answer_id":76305179,"body":"<p><strong>Writing in 2023:</strong>\ntry invalidate caches and restart</p>\n<p><a href=\"https://i.stack.imgur.com/toz1v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/toz1v.png\" alt=\"enter image description here\" /></a></p>\n"}],"last_activity_date":1684750791,"question_id":30142056,"body":"<p>I have an IntelliJ 14.1.2 Project consisting of two modules - one is an Android Gradle based module and the other is a Spring Java-based module with Maven.</p>\n\n<p>gps-trackman.v1 is my root project and I've not configured any outputs or facets for this project. The app is my android gradle module and I've configured Android and Android-Gradle Facet for this project and gps-trackman isn't my Spring Maven Project. I want to be able to build everything all together. Is it possible?</p>\n\n<p>I now get this error message in my IntelliJ Eventlog </p>\n\n<blockquote>\n  <p>Unsupported Modules Detected: Compilation is not supported\n  for following modules: gps-trackman, gps-trackman.v1, app.\n  Unfortunately you can't have non-Gradle Java modules and\n  Android-Gradle modules in one project.</p>\n  \n  <p>The project 'gps-trackman.v1' is not a Gradle-based</p>\n</blockquote>\n\n<p>Is this error just due to a misconfiguration of my project or is it really not possible to have a maven module and a Gradle module in one project?</p>\n\n<p>Do I have to configure any Facets for the root project? Alternatively, do I have to convert my maven to gradle? </p>\n"},{"comments":[{"comment_id":134554024,"body":"Either use a debugger to step in <code>close</code> and see what is happening or added a debug statement to log <code>isClosed</code>"},{"comment_id":134554595,"body":"There are several issues over here. Do not use plain getConnection instead consider something called a connection pool to connect to DB. second is for a priority resource like a database you can exception handling and in finally block mandatorily close the connection. lastly as mentioned by the scary debugger and a detailed review of db server configuration will solve the issue."},{"comment_id":134554720,"body":"Are you using any connection pool like Hikari? If yes check the size of the pool - should not be greater then 8 in your case."},{"comment_id":134557196,"body":"@Mar-Z I am not using any connection pool"},{"comment_id":134557206,"body":"@SuchandraT Yes, the code handles exception. I pasted only the important part of the code here"},{"comment_id":134559310,"body":"@ScaryWombat It is hard to debug the issue. There are thousands of test cases, half of them run without any issue. The issue starts when around 50% of the total tests are completed"}],"answers":[{"answer_id":76305171,"body":"<blockquote>\n<p>I am running the validations in parallel on 10 different threads.</p>\n</blockquote>\n<p>I wonder how are you running the parallel tests? Is it possible that you will end up with 10 instances of the <code>DatabaseConnection</code> class? If yes then you will also get 10 semaphores counting 8 times each. In this case the maximum number of connections will be 80... You can avoid it declaring the semaphore as static.</p>\n<pre><code>static Semaphore counter = new Semaphore(8);\n</code></pre>\n"}],"last_activity_date":1684750737,"question_id":76303075,"body":"<p>I am doing some data validations on Oracle DB. There are 10 different types of validations I have to do. Each set of validation contains hundreds of test cases. To save time, I am running the validations in parallel on 10 different threads. Each thread opens a database connection, execute the test cases and then close the connection - and do the same for the next test case. The problem is that I can have maximum of 8 concurrent oracle sessions. It is currently not possible to increase the number of sessions. To handle this scenario, I am using <code>Semaphore</code> to limit the number of concurrent oracle sessions to 8</p>\n<pre><code>public class DatabaseConnection{\n Semaphore counter = new Semaphore(8);\n public Connection createConnection(){\n   ...\n   ...\n   counter.acquire();\n   Connection connection = DriverManager.getConnection(....\n   ...\n}\n\npublic closeConnection(Connection con){\n  ...\n  con.close();\n  counter.release();\n}\n}\n</code></pre>\n<p>Eventhough I am closing the connections properly after executing each test, I am getting <code>maximum number of sessions exceeded</code> exception. I suspects eventhough I close the connections, it is not properly closed at server side. What is the solution for this?</p>\n"},{"comments":[{"comment_id":134557897,"body":"If you&#39;re intending to create a 32-bit installer, I&#39;m guessing you&#39;re going to have to do that on a 32 machine with an appropriate JDK. Hope you can find one with jpackage"},{"comment_id":134558081,"body":"yes, i created a 32bit jvm and using a 32bit openjdk version with jpackage. That&#39;s the starting point of the question"},{"comment_id":134558169,"body":"Confusion: you <i>created</i> a 32 bit vm, not a jvm ;) I&#39;m saying you might need 32-bit metal, not virtualization. Even if you <i>could</i> get it to work, it wouldn&#39;t be as trustworthy"},{"comment_id":134559150,"body":"No confusion: I created a 32bit VM of windows 10, then I downloaded a version of the jdk 15 that is x86 <a href=\"https://www.azul.com/downloads/?version=java-15-mts&amp;os=windows&amp;architecture=x86-32-bit#zulu\" rel=\"nofollow noreferrer\">azul.com/downloads/&hellip;</a> and went through jpackage. The issue here is with jpackage that creates a x64 installer (see the command -arch !)"},{"comment_id":134559271,"body":"If your x86 jpackage cannot create a 32 bit installer, then you&#39;ll need to fall back on 3rd party tools"},{"comment_id":134560552,"body":"There&#39;s code that should handle this in jpackage: <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.jpackage/windows/classes/jdk/jpackage/internal/WixFragmentBuilder.java#L104\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/jdk.jpackage/windows/&zwnj;&#8203;&hellip;</a> If you launch <code>jshell</code> from the x86 JDK, and enter <code>System.getProperty(&quot;os.arch&quot;)</code> what does it print?"},{"comment_id":134561451,"body":"Thanks, I&#39;ll try to launch it but i&#39;m quite sure it will give x86. On this, I see from the commits that the file has been added in 2021, so maybe it is not part of jdk15, so i&#39;ll have to find out since when it has been added!"},{"comment_id":134561667,"body":"You&#39;re right, it was fixed in JDK 17: <a href=\"https://bugs.openjdk.org/browse/JDK-8258755\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8258755</a> If you&#39;re an Azul customer, you might be able to ask them to backport the fix to JDK 15."},{"comment_id":134569723,"body":"Ok, it should not be a problem as I can use JDK 17 to build the package but attach my custom created runtime with java15! Thank you very much for the link!"}],"last_activity_date":1684750694,"question_id":76305166,"body":"<p>I tried a lot of different approaches but always failed.</p>\n<p>I successfully generated an x64 installer for my java jar (spring boot runnable), but I'm unable to create the x86 version of the installer.</p>\n<p>After moving to a x86 virtual machine, I downloaded the zulu jdk 15 whom is able to run my software (manually), so I tried to run the jpackage tool, but it creates an installer for an x64 system.</p>\n<p>As I could not find any additional parameter, i tried to verbose log the jpackage tool and found that 'candle' is called with the wrong arch (I replaced paths and variables to shorten path!</p>\n<pre><code> [candle.exe, -nologo, TMPDIR\\config\\main.wxs,\n -ext, WixUtilExtension, -arch, x64, \n -out, TMPDIR\\wixobj\\main.wixobj,\n -dJpAppDescription=DESCRIPTION, -dJpProductCode=UUID, -dJpAppName=APPNAME, \n -dJpIsSystemWide=yes, -dJpAllowDowngrades=yes, -dJpIcon=TMPDIR\\images\\win-msi.image\\APPNAME\\APPNAME.exe, \n -dJpAppVersion=1.0.0, -dJpInstallDirChooser=yes, -dJpAllowUpgrades=yes, -dJpProductUpgradeCode=UUID2,\n -dJpAppVendor=VENDOR, -dJpConfigDir=TMPDIR\\config]\n</code></pre>\n<p>if I manually launch the command with -arch x86 it fails telling that Intelx64 files are missing (there is a preparation of wxs file before candle i suppose).</p>\n<p>Does anyone fixed this issue?</p>\n"},{"answers":[{"comments":[{"comment_id":73314023,"body":"thanks, I want to know why this，I hope you can give me some idea 。thank you"},{"comment_id":73341058,"body":"grateful for your answer patiently.Do you have a good materials for learning dagger2 ?  Can you give me under reference ?"},{"comment_id":96982573,"body":"<a href=\"https://android.jlelse.eu/practical-guide-to-dagger-76398948a2ea\" rel=\"nofollow noreferrer\">android.jlelse.eu/practical-guide-to-dagger-76398948a2ea</a> So far the best explanation i have come across for Dagger 2"},{"comment_id":98431683,"body":"i had similar problem, but i had a different return type of my provider method in my module and expecting a context  back in component class"},{"comment_id":103784418,"body":"@azizbekian If you have time, maybe you can help me with <a href=\"https://stackoverflow.com/questions/58747371/how-to-inject-the-creation-of-a-broadcastreceiver-object-in-fragment-using-dagge\">this question</a>. Thanks"}],"answer_id":43117280,"body":"<p>Your <code>CoffeeMachine</code> needs <code>CoffeeMaker</code>. And you have declared that Dagger will take care of providing that dependency to the <code>CoffeeMachine</code> by annotating the constructor with <code>@Inject</code>. But Dagger says:</p>\n\n<blockquote>\n  <p>CoffeeMaker cannot be provided without an @Provides-annotated method</p>\n</blockquote>\n\n<p>Because you haven't specified anywhere how <code>CoffeeMaker</code> object should be created. <code>@Inject</code>ing <code>SimpleMaker</code> is not enough, because <code>SimpleMaker</code> != <code>CoffeeMaker</code>. So, you have to specify explicitly, that when Dagger wants <code>CoffeeMaker</code> then provide him <code>SimpleMaker</code>.</p>\n\n<p>Change your module to this:</p>\n\n<pre><code>@Module\npublic class SimpleModule {\n\n    @Provides\n    Cooker providerCooker() {\n        return new Cooker(\"tom\", \"natie\");\n    }\n\n    @Provides\n    CoffeeMaker provideCoffeeMaker(Cooker cooker) {\n        return new SimpleMaker(cooker);\n    }\n\n}\n</code></pre>\n"},{"answer_id":72436382,"body":"<p>In my case I missed one module in <code>@Component</code> (in multi-module app). Thanks to @azizbekian.</p>\n<pre><code>@Component(\n    modules = [\n        ApiModule::class,\n        SettingsModule::class,\n        CoroutinesModule::class // &lt;- I forgot one of these modules\n    ],\n    dependencies = [Api::class, NetworkProvider::class]\n)\ninterface YourComponent {\n</code></pre>\n"},{"answer_id":73642225,"body":"<p>Have a closer look at imports</p>\n<p>Replace</p>\n<pre><code>import com.google.android.datatransport.runtime.dagger.Provides\nimport com.google.android.datatransport.runtime.dagger.Module\n</code></pre>\n<p>With</p>\n<pre><code>import dagger.Module\nimport dagger.Provides\n</code></pre>\n"},{"answer_id":74427108,"body":"<p>If you have this problem when everything seems correct it may be because you did some refactoring, clean the project and compile again.</p>\n"},{"answer_id":76304831,"body":"<p>In a multi-module project this error may occur when a new module is added. To fix this you need to add new module to build.gradle(:app) dependencies:</p>\n<pre><code>dependencies {\n    implementation project(':new_module')\n}\n</code></pre>\n"}],"last_activity_date":1684750513,"question_id":43116825,"body":"<p>I just started learning dagger2 and faced a strange issue that looks like a bug to me. Here's the module:</p>\n<pre><code>@Module\npublic class SimpleModule {\n\n    @Provides\n    Cooker providerCooker() {\n\n        return new Cooker(&quot;tom&quot;, &quot;natie&quot;);\n    }\n}\n</code></pre>\n<p>Component:</p>\n<pre><code>@Component(modules = SimpleModule.class)\npublic interface SimpleComponent {\n\n    void inject(DaggerTestActivity activity);\n\n}\n</code></pre>\n<p>Interface:</p>\n<pre><code>public interface CoffeeMaker {\n\n    String makeCoffee();\n}\n</code></pre>\n<p>Implementation:</p>\n<pre><code>  public class SimpleMaker implements CoffeeMaker {\n    \n        Cooker mCooker;\n      \n        @Inject\n        public SimpleMaker(Cooker cooker) {\n    \n            this.mCooker = cooker;\n    \n        }\n    \n        @Override\n        public String makeCoffee() {\n    \n            return mCooker.makeCoffee();\n        }\n    }\n</code></pre>\n<p>Cooker :</p>\n<pre><code>public class Cooker {\n\n    String name; \n    String coffeeKind;\n\n\n    public Cooker(String name, String coffeeKind) {\n        this.name = name;\n        this.coffeeKind = coffeeKind;\n    }\n    \n   public  String  makeCoffee() {\n  \n        return name + &quot;make&quot; + coffeeKind; \n    }\n\n}\n</code></pre>\n<p>Coffee machine:</p>\n<pre><code>public class CoffeeMachine {\n\n    CoffeeMaker mMaker;\n\n    @Inject\n    public CoffeeMachine(CoffeeMaker coffeeMaker) {\n\n        this.mMaker = coffeeMaker;\n    }\n\n    public String makeCoffee() {\n\n        return mMaker.makeCoffee();\n    }\n}\n</code></pre>\n<p>Just it. I use it in the activity. Faced strange issue here:</p>\n<pre><code>    @Inject\n    CoffeeMachine mCoffeeMachine;\n</code></pre>\n<p>The error I'm getting from the Dagger 2 compiler is the following:</p>\n<pre><code>Error:(14, 10) com.wyyc.daggertest.CoffeeMaker cannot be provided without an @Provides-annotated method.\ncom.wyyc.zqqworkproject.DaggerTestActivity.mCoffeeMachine\n[injected field of type: com.wyyc.daggertest.CoffeeMachine mCoffeeMachine]\ncom.wyyc.daggertest.CoffeeMachine.&lt;init&gt;(com.wyyc.daggertest.CoffeeMaker coffeeMaker)\n</code></pre>\n<p>All this situation looks very strange, and I'd like to hear some input from more experienced Dagger 2 users.</p>\n"},{"answers":[{"comments":[{"comment_id":43705992,"body":"Anyway I like your answer most."}],"answer_id":27643634,"body":"<p>There is none in the <code>Math</code> class, but you can easily calculate it</p>\n\n<pre><code>long ceilDiv(long x, long y){\n    return -Math.floorDiv(-x,y);\n}\n</code></pre>\n\n<p>For example, <code>ceilDiv(1,2)</code> = <code>-floorDiv(-1,2)</code> =<code>-(-1)</code>= 1 (correct answer). </p>\n"},{"answer_id":27643636,"body":"<p>You can make use of the <code>floorDiv</code> function and fiddle with that:</p>\n\n<pre><code>int ceilDiv(int x, int y) {\n    return Math.floorDiv(x, y) + (x % y == 0 ? 0 : 1)\n}\n</code></pre>\n"},{"answer_id":30508570,"body":"<p>I'd also just use the negation of floorMod, but if you are going to define your own function, you could simply adapt the above code:</p>\n\n<pre><code>public static int ceilDiv(int x, int y) {\n    int r = x / y;\n    // if the signs are the same and modulo not zero, round up\n    if ((x ^ y) &gt;= 0 &amp;&amp; (r * y != x)) r++;\n    return r;\n}\n</code></pre>\n"},{"answer_id":76305045,"body":"<p>Since Java 18, <code>Math.ceilDiv</code> is available, see <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)</a></p>\n"}],"last_activity_date":1684750472,"question_id":27643616,"body":"<p>Is there any <code>ceil</code> counterpart for <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Math.html#floorDiv-long-long-\" rel=\"noreferrer\"><code>Math.floorDiv()</code></a></p>\n\n<p>How to calculate it fastest way with what we have?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The code for <code>floorDiv()</code> is follows:</p>\n\n<pre><code> public static long floorDiv(long x, long y) {\n        long r = x / y;\n        // if the signs are different and modulo not zero, round down\n        if ((x ^ y) &lt; 0 &amp;&amp; (r * y != x)) {\n            r--;\n        }\n        return r;\n    }\n</code></pre>\n\n<p>Can we code <code>ceil</code> the similar way?</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>I saw this answer <a href=\"https://stackoverflow.com/a/7446742/258483\">https://stackoverflow.com/a/7446742/258483</a> but it seems to have too many unnecessary operations.</p>\n"},{"comments":[{"comment_id":15759531,"body":"Am I missing something? y/x + 1 works great (provided you know the / operator always rounds down)."},{"comment_id":15764115,"body":"@rikkit - if y and x are equal, y/x + 1 is one too high."},{"comment_id":69731961,"body":"For anyone just now finding this, <a href=\"http://stackoverflow.com/a/4846569/4163002\">this answer to a dupe question</a> avoids unnecessary conversion to double <i>and</i> avoids overflow concerns in addition to providing a clear explanation."},{"comment_id":78683189,"body":"@IanNelson more generally if <code>x</code> is divisible by <code>y</code>, <code>y&#47;x + 1</code> would be one too high."},{"comment_id":82148215,"body":"@ZX9 No, it does not avoid overflow concerns. It&#39;s exactly the same solution as Ian Nelson posted here."}],"answers":[{"answer_id":17949,"body":"<p>You'll want to do floating point division, and then use the ceiling function, to round up the value to the next integer.</p>\n"},{"answer_id":17953,"body":"<p>Another alternative is to use the mod() function (or '%'). If there is a non-zero remainder then increment the integer result of the division.</p>\n"},{"comments":[{"comment_id":2081210,"body":"x/y + !!(x % y) avoids the branch for C-like languages.  Odds are good, however, your compiler is doing that anyway."},{"comment_id":45708557,"body":"+1 for not overflowing like the answers above... though converting ints to doubles just for Math.ceiling and then back again is a bad idea in performance sensitive code."},{"comment_id":60629585,"body":"@RhysUlerich that doesn&#39;t work in c# (can&#39;t directly convert an int to a bool). rjmunro&#39;s solution is the only way to avoid branching I think."}],"answer_id":17954,"body":"<p>This should give you what you want.  You will definitely want x items divided by y items per page, the problem is when uneven numbers come up, so if there is a partial page we also want to add one page.</p>\n\n<pre><code>int x = number_of_items;\nint y = items_per_page;\n\n// with out library\nint pages = x/y + (x % y &gt; 0 ? 1 : 0)\n\n// with library\nint pages = (int)Math.Ceiling((double)x / (double)y);\n</code></pre>\n"},{"comments":[{"comment_id":17114728,"body":"why is this answer so far down when the op asks for C# explicitly!"},{"comment_id":17544515,"body":"You also need to cast the output to <code>int</code> because <code>Math.Ceiling</code> returns a <code>double</code> or <code>decimal</code>, depending on the input types."},{"comment_id":22488638,"body":"because it is extremely inefficient"},{"comment_id":47129803,"body":"It may be inefficient but it&#39;s extremely easy to understand. Given calculating a page count is usually done once per request any performance loss wouldn&#39;t be measurable."},{"comment_id":74212095,"body":"Its barely more readable than this &quot;(dividend + (divisor - 1)) / divisor;&quot; also its slow and requires the math library."},{"comment_id":111883913,"body":"@rolls I think by readable he ment that intention is much clearer."}],"answer_id":17957,"body":"<p>For C# the solution is to cast the values to a double (as Math.Ceiling takes a double):</p>\n\n<pre><code>int nPages = (int)Math.Ceiling((double)nItems / (double)nItemsPerPage);\n</code></pre>\n\n<p>In java you should do the same with Math.ceil().</p>\n"},{"comments":[{"comment_id":6763864,"body":"-1 because of the overflow bug pointed out by <a href=\"http://stackoverflow.com/questions/17944/how-to-round-up-the-result-of-integer-division/96921#96921\">Brandon DuRette</a>"},{"comment_id":7011696,"body":"Mr Obvious says: Remember to make sure that recordsPerPage is not zero"},{"comment_id":16312738,"body":"Good job, I can&#39;t believe C# doesn&#39;t have integer ceiling."},{"comment_id":77750774,"body":"Yup, here I am in mid-2017 stumbling across this great answer after trying several much more complex approaches."},{"comment_id":89338688,"body":"For languages with a proper Euclidian-division operator such as Python, an even simpler approach would be <code>pageCount = -((-records) &#47;&#47; recordsPerPage)</code>."},{"comment_id":97180564,"body":"+1 because this also works with unsigned numbers (relevant in other languages): The &quot;simplification&quot; <code>(records - 1) &#47; recordsPerPage + 1</code> underflows when records == 0."},{"comment_id":126130321,"body":"It does have Ceiling.  It&#39;s under Math, not Integer."},{"comment_id":133262215,"body":"Thanks, the solution is elegant without external libraries.  @finnw to avoid the overflow bug, just split in two divisions  <code>int pageCount = records &#47; recordsPerPage + (recordsPerPage - 1) &#47; recordsPerPage;</code>"}],"answer_id":17974,"body":"<p>Found an elegant solution:</p>\n\n<pre><code>int pageCount = (records + recordsPerPage - 1) / recordsPerPage;\n</code></pre>\n\n<p>Source: <a href=\"http://www.cs.nott.ac.uk/~rcb/G51MPC/slides/NumberLogic.pdf\" rel=\"noreferrer\">Number Conversion, Roland Backhouse, 2001</a></p>\n"},{"comments":[{"comment_id":327784,"body":"I don&#39;t think you are realistically going to hit this bug in the scenario presented. 2^31 records is quite a lot to be having to page through."},{"comment_id":6763841,"body":"@rjmunro, <a href=\"http://code.google.com/p/guava-libraries/issues/detail?id=616\" rel=\"nofollow noreferrer\">real-world example here</a>"},{"comment_id":10240398,"body":"@finnw: AFAICS, there isn&#39;t a real-world example on that page, just a report of someone else finding the bug in a theoretical scenario."},{"comment_id":10244670,"body":"@rjmunro, I was referring to this: <i>&quot;I came across this oddity while I was working on an SWT-based table viewer that supports pagination. Internally, the table viewer uses Lists.partition() to split its input elements into pages of a fixed size.&quot;</i>"},{"comment_id":10248189,"body":"Yes, I was being pedantic in pointing out the bug. Many bugs can exist in perpetuity without ever causing any problems. A bug of the same form existed in the JDK&#39;s implementation of binarySearch for some nine years, before someone reported it (<a href=\"http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html\" rel=\"nofollow noreferrer\">googleresearch.blogspot.com/2006/06/&hellip;</a>). I guess the question is, regardless of how unlikely you are to encounter this bug, why not fix it up front?"},{"comment_id":10248254,"body":"Also, it should be noted that it&#39;s not just the number of elements that are paged that matter, it&#39;s also the page size. So, if you&#39;re building a library and someone chooses to not page by passing 2^31-1 (Integer.MAX_VALUE) as the page size, then the bug is triggered."}],"answer_id":96921,"body":"<p>The integer math solution that Ian provided is nice, but suffers from an integer overflow bug. Assuming the variables are all <code>int</code>, the solution could be rewritten to use <code>long</code> math and avoid the bug:</p>\n\n<p><code>int pageCount = (-1L + records + recordsPerPage) / recordsPerPage;</code></p>\n\n<p>If <code>records</code> is a <code>long</code>, the bug remains. The modulus solution does not have the bug.</p>\n"},{"comments":[{"comment_id":6021898,"body":"+1, the issue of zero records still returning 1 pageCount is actually handy, since I would still want 1 page, showing the placeholder/fake row of &quot;no records match your criteria&quot;, helps avoid any &quot;0 page count&quot; issues in whatever pagination control you use."},{"comment_id":8819292,"body":"Be aware that the two solutions do not return the same pageCount for zero records. This simplified version will return 1 pageCount for zero records, whereas the Roland Backhouse version returns 0 pageCount. Fine if that&#39;s what you desire, but the two equations are not equivalent when performed by C#/Java stylee integer division."},{"comment_id":35897324,"body":"tiny edit for clarity for people scanning it and missing bodmas when changing to the simpification from the Nelson solution (like I did the first time !), the simplification with brackets is...  int pageCount = ((records - 1) / recordsPerPage) + 1;"},{"comment_id":58175570,"body":"You should add parenthesis to the simplified version so that it doesn&#39;t rely on a specific order of operations. i.e., ((records - 1) / recordsPerPage) + 1."},{"comment_id":63970530,"body":"Also, it&#39;s simpler to translate it to other division problems; Good to know there&#39;s a simple way to do ceiling division with integers."},{"comment_id":83336651,"body":"@Ian, this answer doesn&#39;t ALWAYS return 1.  It can return 0 if your recordsPerPage is &quot;1&quot; and there are 0 records: <code>-1 &#47; 1 + 1 = 0</code>.  While that&#39;s not a super common occurrence, it&#39;s important to keep in mind if you&#39;re allowing users to adjust page size.  So either don&#39;t allow users to have a page size of 1, do a check on page size, or both (probably preferable to avoid unexpected behavior)."},{"comment_id":87140798,"body":"This is no solution for the overflow, though. With Ian&#39;s solution you get twice the usable range if you use unsigned integers, and <code>records + recordsPerPage</code> has an upper bound of 2^32 or 2^64. With this solution you can only use a signed integer for <code>records</code>, otherwise it will overflow at <code>0 - 1</code>, so <code>records</code> is upper bound by 2^31 or 2^63."},{"comment_id":107128159,"body":"FWIW, I was doing something similar, calculating the max page number, and if the page numbers are 0-based, it becomes a nice, clean... maxPage = (records - 1) / recordsPerPage.  Only thing is it has the same issue when records==0... if recordsPerPage is 1, the result is -1 (what I&#39;d want) but if recordsPerPage&gt;1, you get 0."}],"answer_id":503201,"body":"<p>Converting to floating point and back seems like a huge waste of time at the CPU level.</p>\n\n<p>Ian Nelson's solution:</p>\n\n<pre><code>int pageCount = (records + recordsPerPage - 1) / recordsPerPage;\n</code></pre>\n\n<p>Can be simplified to:</p>\n\n<pre><code>int pageCount = (records - 1) / recordsPerPage + 1;\n</code></pre>\n\n<p>AFAICS, this doesn't have the overflow bug that Brandon DuRette pointed out, and because it only uses it once, you don't need to store the recordsPerPage specially if it comes from  an expensive function to fetch the value from a config file or something.</p>\n\n<p>I.e. this might be inefficient, if config.fetch_value used a database lookup or something:</p>\n\n<pre><code>int pageCount = (records + config.fetch_value('records per page') - 1) / config.fetch_value('records per page');\n</code></pre>\n\n<p>This creates a variable you don't really need, which probably has (minor) memory implications and is just too much typing:</p>\n\n<pre><code>int recordsPerPage = config.fetch_value('records per page')\nint pageCount = (records + recordsPerPage - 1) / recordsPerPage;\n</code></pre>\n\n<p>This is all one line, and only fetches the data once:</p>\n\n<pre><code>int pageCount = (records - 1) / config.fetch_value('records per page') + 1;\n</code></pre>\n"},{"comments":[{"comment_id":6767724,"body":"This method is unlikely to be a performance bottleneck.  And if it is, you should also consider the cost of the branch."}],"answer_id":536219,"body":"<p>For records == 0, rjmunro's solution gives 1.  The correct solution is 0.  That said, if you know that records > 0 (and I'm sure we've all assumed recordsPerPage > 0), then rjmunro solution gives correct results and does not have any of the overflow issues.</p>\n\n<pre><code>int pageCount = 0;\nif (records &gt; 0)\n{\n    pageCount = (((records - 1) / recordsPerPage) + 1);\n}\n// no else required\n</code></pre>\n\n<p><strong>All</strong> the integer math solutions are going to be more efficient than <em>any</em> of the floating point solutions.</p>\n"},{"answer_id":3473687,"body":"<p>Alternative to remove branching in testing for zero:</p>\n\n<pre><code>int pageCount = (records + recordsPerPage - 1) / recordsPerPage * (records != 0);\n</code></pre>\n\n<p>Not sure if this will work in C#, should do in C/C++.</p>\n"},{"comments":[{"comment_id":6767868,"body":"<a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Guava</a> has a similar method (<a href=\"http://guava-libraries.googlecode.com/svn/tags/release09/javadoc/com/google/common/collect/Lists.html#partition%28java.util.List,%20int%29\" rel=\"nofollow noreferrer\"><code>Lists.partition(List, int)</code></a>) and ironically the <code>size()</code> method of the resulting <code>List</code> (as of <code>r09</code>) suffers from the overflow bug mentioned in <a href=\"http://stackoverflow.com/questions/17944/how-to-round-up-the-result-of-integer-division/96921#96921\">Brandon DuRette&#39;s answer</a>."}],"answer_id":4043686,"body":"<p>A generic method, whose result you can iterate over may be of interest:</p>\n\n<pre><code>public static Object[][] chunk(Object[] src, int chunkSize) {\n\n    int overflow = src.length%chunkSize;\n    int numChunks = (src.length/chunkSize) + (overflow&gt;0?1:0);\n    Object[][] dest = new Object[numChunks][];      \n    for (int i=0; i&lt;numChunks; i++) {\n        dest[i] = new Object[ (i&lt;numChunks-1 || overflow==0) ? chunkSize : overflow ];\n        System.arraycopy(src, i*chunkSize, dest[i], 0, dest[i].length); \n    }\n    return dest;\n}\n</code></pre>\n"},{"answer_id":5883806,"body":"<p>A variant of <a href=\"https://stackoverflow.com/questions/17944/how-to-round-up-the-result-of-integer-division/17954#17954\">Nick Berardi's answer</a> that avoids a branch:</p>\n\n<pre><code>int q = records / recordsPerPage, r = records % recordsPerPage;\nint pageCount = q - (-r &gt;&gt; (Integer.SIZE - 1));\n</code></pre>\n\n<p>Note: <code>(-r &gt;&gt; (Integer.SIZE - 1))</code> consists of the sign bit of <code>r</code>, repeated 32 times (thanks to sign extension of the <code>&gt;&gt;</code> operator.)  This evaluates to 0 if <code>r</code> is zero or negative, -1 if <code>r</code> is positive.  So subtracting it from <code>q</code> has the effect of adding 1 if <code>records % recordsPerPage &gt; 0</code>.</p>\n"},{"answer_id":9771364,"body":"<p>I had a similar need where I needed to convert Minutes to hours &amp; minutes. What I used was:</p>\n\n<pre><code>int hrs = 0; int mins = 0;\n\nfloat tm = totalmins;\n\nif ( tm &gt; 60 ) ( hrs = (int) (tm / 60);\n\nmins = (int) (tm - (hrs * 60));\n\nSystem.out.println(\"Total time in Hours &amp; Minutes = \" + hrs + \":\" + mins);\n</code></pre>\n"},{"answer_id":14754238,"body":"<p>The following should do rounding better than the above solutions, but at the expense of performance (due to floating point calculation of 0.5*rctDenominator):</p>\n\n<pre><code>uint64_t integerDivide( const uint64_t&amp; rctNumerator, const uint64_t&amp; rctDenominator )\n{\n  // Ensure .5 upwards is rounded up (otherwise integer division just truncates - ie gives no remainder)\n  return (rctDenominator == 0) ? 0 : (rctNumerator + (int)(0.5*rctDenominator)) / rctDenominator;\n}\n</code></pre>\n"},{"answer_id":21548669,"body":"<p>I do the following, handles any overflows:</p>\n\n<pre><code>var totalPages = totalResults.IsDivisble(recordsperpage) ? totalResults/(recordsperpage) : totalResults/(recordsperpage) + 1;\n</code></pre>\n\n<p>And use this extension for if there's 0 results:</p>\n\n<pre><code>public static bool IsDivisble(this int x, int n)\n{\n           return (x%n) == 0;\n}\n</code></pre>\n\n<p>Also, for the current page number (wasn't asked but could be useful):</p>\n\n<pre><code>var currentPage = (int) Math.Ceiling(recordsperpage/(double) recordsperpage) + 1;\n</code></pre>\n"},{"comments":[{"comment_id":74291738,"body":"This is incorrect. For example: <code>DivideUp(4, -2)</code> returns 0 (should be -2). <b>It is only correct for non-negative integers</b> which is not clear from the answer or from the function&#39;s interface."},{"comment_id":74294028,"body":"Thash, why don&#39;t you do something useful like add the little extra check then if the number is negative, instead of voting my answer down, and incorrectly making the blanket statement: &quot;This is incorrect,&quot; when in fact it&#39;s just an edge case. I already made it clear you should do other checks first: &quot;No checks here (overflow, DivideByZero, etc), <b>feel free to add if you like</b>.&quot;"},{"comment_id":74294088,"body":"The question mentioned &quot;I&#39;m thinking in particular of how to display <b>pagination controls</b>&quot; so negative numbers would have been out of bounds anyways. Again, just do something useful and suggest an added check if you want, it&#39;s a team effort man."},{"comment_id":74304696,"body":"I didn&#39;t mean to be rude and I&#39;m sorry if you take it that way. The question was &quot;How to round up the result of integer division&quot;. The author mentioned pagination but other people may have different needs. I think it would be better if your function somehow reflected that it does not work for negative integers since it is not clear from the interface (for example a differen name or argument types). To work with negative integers,you can for example take an absolute value of the dividend and divisor and multiply the result by its sign."}],"answer_id":39519292,"body":"<p>In need of an extension method: </p>\n\n<pre><code>    public static int DivideUp(this int dividend, int divisor)\n    {\n        return (dividend + (divisor - 1)) / divisor;\n    }\n</code></pre>\n\n<p>No checks here (overflow, <code>DivideByZero</code>, etc), feel free to add if you like. By the way, for those worried about method invocation overhead, simple functions like this might be inlined by the compiler anyways, so I don't think that's where to be concerned. Cheers.</p>\n\n<p>P.S. you might find it useful to be aware of this as well (it gets the remainder): </p>\n\n<pre><code>    int remainder; \n    int result = Math.DivRem(dividend, divisor, out remainder);\n</code></pre>\n"},{"answer_id":63012251,"body":"<p><strong>HOW TO ROUND UP THE RESULT OF INTEGER DIVISION IN C#</strong></p>\n<p>I was interested to know what the best way is to do this in C# since I need to do this in a loop up to nearly 100k times. Solutions posted by others using <em>Math</em> are ranked high in the answers, but in testing I found them slow. Jarod Elliott proposed a better tactic in checking if mod produces anything.</p>\n<pre><code>int result = (int1 / int2);\nif (int1 % int2 != 0) { result++; }\n</code></pre>\n<p>I ran this in a loop 1 million times and it took 8ms. Here is the code using <em>Math</em>:</p>\n<pre><code>int result = (int)Math.Ceiling((double)int1 / (double)int2);\n</code></pre>\n<p>Which ran at 14ms in my testing, considerably longer.</p>\n"},{"comments":[{"comment_id":122808777,"body":"What if the number of records per page is something other than 4?"},{"comment_id":123653719,"body":"Thank you. Your response is very helpful."}],"answer_id":69479389,"body":"<p>you can use</p>\n<pre><code>(int)Math.Ceiling(((decimal)model.RecordCount )/ ((decimal)4));\n</code></pre>\n"},{"answer_id":74147725,"body":"<p>I made this for me, thanks to <a href=\"https://stackoverflow.com/a/17953/7210166\">Jarod Elliott</a> &amp; <a href=\"https://stackoverflow.com/a/63012251/7210166\">SendETHToThisAddress</a> replies.</p>\n<pre><code>public static int RoundedUpDivisionBy(this int @this, int divider)\n{        \n    var result = @this / divider;\n    if (@this % divider is 0) return result;\n    return result + Math.Sign(@this * divider);\n}\n</code></pre>\n<p>Then I realized it is overkill for the CPU compared to the top answer.\nHowever, I think it's readable and works with negative numbers as well.</p>\n"},{"answer_id":76305061,"body":"<p>Since Java 18, <code>Math.ceilDiv</code> is available for this purpose, see <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Math.html#ceilDiv(int,int)</a></p>\n"}],"last_activity_date":1684750443,"question_id":17944,"body":"<p>I'm thinking in particular of how to display pagination controls, when using a language such as C# or Java.</p>\n\n<p>If I have <em>x</em> items which I want to display in chunks of <em>y</em> per page, how many pages will be needed?</p>\n"},{"last_activity_date":1684750172,"question_id":76305094,"body":"<p>I am building a Calendar app and I want it to be like Google Calendar. As I was informed Google Calendar uses ViewPager2. The problem is that I made my adapter and everything I need to populate my Calendar, and I don't know how to implement it to my ViewPager to show it as a total of ArrayList month per month. Currently it shows me only day per day. I think I have to populate it as an ArrayList but I don't know how.</p>\n<p><strong>MainActivity</strong></p>\n<pre><code>package com.example.calendarcapital;\n\nimport static com.example.calendarcapital.CalendarUtils.daysInMonthArray;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentPagerAdapter;\nimport androidx.viewpager2.widget.ViewPager2;\n\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.view.ViewGroup;\nimport android.widget.GridLayout;\nimport android.widget.GridView;\nimport android.widget.LinearLayout;\n\nimport com.google.android.material.navigation.NavigationView;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MainActivity2 extends AppCompatActivity implements CalendarAdapter.OnItemListener, NavigationView.OnNavigationItemSelectedListener {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        ViewPager2 viewPager2 = findViewById(R.id.viewPager);\n        ViewPager2Adapter viewPager2Adapter = new ViewPager2Adapter(daysInMonthArray(),this::onItemClick,MainActivity2.this);\n\n        viewPager2.setAdapter(viewPager2Adapter);\n        \n        viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n            @Override\n            // This method is triggered when there is any scrolling activity for the current page\n            public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n                super.onPageScrolled(position, positionOffset, positionOffsetPixels);\n            }\n\n            // triggered when you select a new page\n            @Override\n            public void onPageSelected(int position) {\n                super.onPageSelected(position);\n            }\n\n            // triggered when there is\n            // scroll state will be changed\n            @Override\n            public void onPageScrollStateChanged(int state) {\n                super.onPageScrollStateChanged(state);\n            }\n        });\n\n\n    }\n\n    @Override\n    public void onItemClick(int position, LocalDate date) {\n\n\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        return false;\n    }\n}\n</code></pre>\n<p><strong>ViewPager2Adapter</strong></p>\n<pre><code>package com.example.calendarcapital;\n\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.graphics.Color;\nimport android.os.Build;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.content.ContextCompat;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.util.ArrayList;\nimport java.util.Calendar;\nimport java.util.Collections;\nimport java.util.Date;\nimport java.util.List;\n\npublic class ViewPager2Adapter extends RecyclerView.Adapter&lt;ViewPager2Adapter.ViewHolder&gt; {\n\n\n\n    private final ArrayList&lt;LocalDate&gt; days;\n    private final ArrayList&lt;Date&gt; daysForRepeat;\n    Calendar calendar = Calendar.getInstance();\n    private final OnItemListener onItemListener;\n    private MyDatabaseHelper myDB;\n    static int numEvents;\n    static  int numRepeatingEvents;\n    Context context;\n\n    // Constructor of our ViewPager2Adapter class\n    public ViewPager2Adapter(ArrayList&lt;LocalDate&gt; days, OnItemListener onItemListener, Context context) {\n        this.days = days;\n        this.onItemListener = onItemListener;\n        this.myDB = new MyDatabaseHelper(context.getApplicationContext());\n        this.context = context;\n        this.daysForRepeat = new ArrayList&lt;&gt;();\n    }\n\n    // This method returns our layout\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n        View view = inflater.inflate(R.layout.calendar_cell, parent, false);\n        LinearLayout test = view.findViewById(R.id.LinCell);\n        ViewGroup.LayoutParams layoutParams = test.getLayoutParams();\n\n        calendar.setTime(new Date());\n        int currentMonth = calendar.get(Calendar.MONTH);\n        int currentDay = calendar.get(Calendar.DAY_OF_MONTH);\n        int currentYear = calendar.get(Calendar.YEAR);\n\n        calendar.set(Calendar.MONTH, Calendar.JANUARY);\n        calendar.set(Calendar.DAY_OF_MONTH, 1);\n\n\n        calendar.set(Calendar.MONTH, currentMonth);\n        calendar.set(Calendar.DAY_OF_MONTH, currentDay);\n        calendar.set(Calendar.YEAR, currentYear);\n\n        calendar.set(Calendar.HOUR_OF_DAY, 8);\n        calendar.set(Calendar.MINUTE, 0);\n        calendar.set(Calendar.SECOND, 0);\n        calendar.set(Calendar.MILLISECOND, 0);\n\n\n\n        if (days.size() &gt; 15) //month view\n        {\n//            layoutParams.height = (int) (parent.getHeight() * 0.166666666);\n            layoutParams.height = (int) (test.getHeight() * 0.2);\n\n        } else // week view\n            layoutParams.height = (int) test.getHeight();\n\n\n\n        return new ViewHolder(view, onItemListener, days);\n    }\n\n    // This method binds the screen with the view\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        Cursor cursor = myDB.readAllEvents();\n        holder.eventDayText.setVisibility(View.GONE);\n        holder.eventDayText2.setVisibility(View.GONE);\n        holder.eventDayText3.setVisibility(View.GONE);\n        holder.eventRepeatText1.setVisibility(View.GONE);\n        holder.eventRepeatText2.setVisibility(View.GONE);\n        holder.eventRepeatText3.setVisibility(View.GONE);\n        holder.eventsMore.setVisibility(View.GONE);\n\n\n        final LocalDate date = days.get(position);\n\n        for (LocalDate day : days) {\n            Calendar calendar1 = Calendar.getInstance();\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                calendar1.set(day.getYear(), day.getMonthValue() - 1, day.getDayOfMonth());\n            }\n            calendar1.set(Calendar.HOUR_OF_DAY, 8);\n            calendar1.set(Calendar.MINUTE, 0);\n            calendar1.set(Calendar.SECOND, 0);\n            calendar1.set(Calendar.MILLISECOND, 0);\n            Date date2 = calendar1.getTime();\n            daysForRepeat.add(date2);\n        }\n\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            holder.dayOfMonth.setText(String.valueOf(date.getDayOfMonth()));\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            if (date.equals(CalendarUtils.selectedDate))\n            {\n\n                holder.LinCell.setBackgroundColor(Color.LTGRAY);\n\n            }else {\n//                holder.parentView.setBackground(defaultBackgroundDrawable);\n                holder.LinCell.setBackgroundResource(R.drawable.back);\n            }\n        }\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            if (date.getMonth().equals(CalendarUtils.selectedDate.getMonth())) {\n                holder.dayOfMonth.setTextColor(Color.BLACK);\n            }\n            else\n            {\n                holder.dayOfMonth.setTextColor(Color.LTGRAY);\n            }\n        }\n        ArrayList&lt;Event&gt; myEvents = new ArrayList&lt;&gt;();\n\n\n        cursor.moveToPosition(-1);\n        while (cursor.moveToNext()) {\n            Event eventDB = null;\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                eventDB = new Event(cursor.getString(0), cursor.getString(1), cursor.getString(2),\n                        CalendarUtils.stringToLocalDate(cursor.getString(3)), LocalTime.parse(cursor.getString(4)),\n                        cursor.getString(5), cursor.getString(6),cursor.getString(7));\n            }\n\n            myEvents.add(eventDB);\n\n\n        }\n\n\n        numEvents=0;\n        numRepeatingEvents=0;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n            myEvents.sort((o1, o2) -&gt; o2.getName().compareTo(o1.getName()));\n        }\n        cursor.moveToPosition(-1);\n        for (int i=0; i&lt;days.size(); i++)\n        {\n\n\n            List&lt;String&gt; eventNames = new ArrayList&lt;&gt;();\n            for (Event event : myEvents) {\n\n                if (event.getDate().equals(date) &amp;&amp; event.getParent_id()==null) {\n                    eventNames.add(event.getName());\n\n                }\n            }\n\n            Collections.sort(eventNames);\n\n            numEvents = eventNames.size();\n\n            if (numEvents &gt;= 1) {\n                holder.eventDayText.setVisibility(View.VISIBLE);\n                holder.eventDayText.setText(eventNames.get(0));\n                holder.eventDayText.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventDayText.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (numEvents &gt;= 2) {\n                holder.eventDayText2.setVisibility(View.VISIBLE);\n                holder.eventDayText2.setText(eventNames.get(1));\n                holder.eventDayText2.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventDayText2.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (numEvents &gt;= 3) {\n                holder.eventDayText3.setVisibility(View.VISIBLE);\n                holder.eventDayText3.setText(eventNames.get(2));\n                holder.eventDayText3.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventDayText3.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (date.toString().equals(&quot;2023-05-11&quot;))\n            {\n                System.out.println();\n            }\n            checkForMore( holder);\n\n        }\n\n        cursor.moveToPosition(-1);\n        for (int i=0; i&lt;days.size(); i++) {\n\n            List&lt;String&gt; eventNamesRepeating = new ArrayList&lt;&gt;();\n            for (Event event : myEvents) {\n                if (event.getDate().equals(date) &amp;&amp; !(event.getParent_id()==null)) {\n                    eventNamesRepeating.add(event.getName());\n                }\n            }\n\n            Collections.sort(eventNamesRepeating);\n\n\n            numRepeatingEvents = eventNamesRepeating.size();\n            if (numRepeatingEvents &gt;= 1 ) {\n                holder.eventRepeatText1.setVisibility(View.VISIBLE);\n                holder.eventRepeatText1.setText(eventNamesRepeating.get(0));\n                holder.eventRepeatText1.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventRepeatText1.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (numRepeatingEvents &gt;= 2) {\n                holder.eventRepeatText2.setVisibility(View.VISIBLE);\n                holder.eventRepeatText2.setText(eventNamesRepeating.get(1));\n                holder.eventRepeatText2.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventRepeatText2.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            if (numRepeatingEvents &gt;= 3) {\n                holder.eventRepeatText3.setVisibility(View.VISIBLE);\n                holder.eventRepeatText3.setText(eventNamesRepeating.get(2));\n                holder.eventRepeatText3.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n                holder.eventRepeatText3.setBackgroundResource(R.drawable.rounded_corner);\n            }\n\n            checkForMore( holder);\n        }\n\n\n\n\n        cursor.close();\n        myDB.close();\n    }\n    public void checkForMore(@NonNull ViewHolder holder)\n    {\n        if (numEvents&gt;=3 &amp;&amp; numRepeatingEvents&gt;=1)\n        {\n            holder.eventRepeatText1.setVisibility(View.GONE);\n            holder.eventRepeatText2.setVisibility(View.GONE);\n            holder.eventRepeatText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n\n        }\n\n        if (numRepeatingEvents&gt;=3 &amp;&amp; numEvents&gt;1)\n        {\n            holder.eventDayText.setVisibility(View.GONE);\n            holder.eventDayText2.setVisibility(View.GONE);\n            holder.eventDayText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n\n        if (numRepeatingEvents==2 &amp;&amp; numEvents&gt;1)\n        {\n            holder.eventDayText2.setVisibility(View.GONE);\n            holder.eventDayText3.setVisibility(View.GONE);\n            holder.eventRepeatText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n\n        if (numEvents==2 &amp;&amp; numRepeatingEvents&gt;1)\n        {\n            holder.eventRepeatText2.setVisibility(View.GONE);\n            holder.eventRepeatText3.setVisibility(View.GONE);\n            holder.eventDayText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n\n        }\n\n        if (numEvents&gt;3 &amp;&amp; numRepeatingEvents==0)\n        {\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n\n        if (numRepeatingEvents&gt;3 &amp;&amp; numEvents==0)\n        {\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n        if (numEvents&gt;=3 &amp;&amp; numRepeatingEvents&gt;0)\n        {\n            holder.eventRepeatText1.setVisibility(View.GONE);\n            holder.eventRepeatText2.setVisibility(View.GONE);\n            holder.eventRepeatText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n\n        if (numRepeatingEvents&gt;=3 &amp;&amp; numEvents&gt;0)\n        {\n            holder.eventDayText.setVisibility(View.GONE);\n            holder.eventDayText2.setVisibility(View.GONE);\n            holder.eventDayText3.setVisibility(View.GONE);\n            holder.eventsMore.setVisibility(View.VISIBLE);\n            holder.eventsMore.setTextColor(ContextCompat.getColor(context, R.color.primaryLightTirquiso));\n            holder.eventsMore.setBackgroundResource(R.drawable.rounded_corner);\n        }\n    }\n\n    // This Method returns the size of the Array\n    @Override\n    public int getItemCount() {\n        return days.size();\n    }\n\n    public interface OnItemListener {\n\n        void onItemClick(int position, LocalDate date);\n\n    }\n\n    // The ViewHolder class holds the view\n    public static class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {\n\n        private final ArrayList&lt;LocalDate&gt; days;\n        public final View parentView;\n        public final TextView dayOfMonth, eventDayText, eventDayText2, eventDayText3;\n        public final TextView  eventRepeatText1, eventRepeatText2, eventRepeatText3,eventsMore;\n        public final LinearLayout LinCell;\n\n\n        private final OnItemListener onItemListener;\n\n        public ViewHolder(@NonNull View itemView, OnItemListener onItemListener, ArrayList&lt;LocalDate&gt; days) {\n            super(itemView);\n            parentView = itemView.findViewById(R.id.parentView);\n            LinCell = itemView.findViewById(R.id.LinCell);\n            dayOfMonth = itemView.findViewById(R.id.cellDayText);\n            eventDayText = itemView.findViewById(R.id.eventDayText);\n            eventDayText2 = itemView.findViewById(R.id.eventDayText2);\n            eventDayText3 = itemView.findViewById(R.id.eventDayText3);\n            eventRepeatText1 = itemView.findViewById(R.id.eventRepeatText1);\n            eventRepeatText2= itemView.findViewById(R.id.eventRepeatText2);\n            eventRepeatText3= itemView.findViewById(R.id.eventRepeatText3);\n            eventsMore = itemView.findViewById(R.id.eventsMore);\n\n\n            this.onItemListener = onItemListener;\n            itemView.setOnClickListener(this);\n            this.days = days;\n\n\n        }\n\n\n        @Override\n        public void onClick(View view) {\n\n            view.setSelected(true);\n            onItemListener.onItemClick(getAdapterPosition(), days.get(getAdapterPosition()));\n\n        }\n    }\n\n}\n</code></pre>\n<p><strong>daysInMonthArray</strong></p>\n<pre><code>public static ArrayList&lt;LocalDate&gt; daysInMonthArray() //The arraylist that month will be stored\n    {\n        ArrayList&lt;LocalDate&gt; daysInMonthArray = new ArrayList&lt;&gt;();\n\n        YearMonth yearMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            yearMonth = YearMonth.from(selectedDate);\n        }\n        int daysInMonth = 0; //get how many days are in month\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            daysInMonth = yearMonth.lengthOfMonth();\n        }\n\n        LocalDate prevMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            prevMonth = selectedDate.minusMonths(1);\n        }\n        LocalDate nextMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            nextMonth = selectedDate.plusMonths(1);\n        }\n\n        YearMonth prevYearMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            prevYearMonth = YearMonth.from(prevMonth);\n        }\n        int prevDaysInMonth = 0;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            prevDaysInMonth = prevYearMonth.lengthOfMonth();\n        }\n\n        LocalDate firstOfMonth = null; //get first day of month\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            firstOfMonth = CalendarUtils.selectedDate.withDayOfMonth(1);\n        }\n        int dayOfWeek = 0; // return int between 0-7 which is the day of the week\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            dayOfWeek = firstOfMonth.getDayOfWeek().getValue();\n        }\n\n        for (int i = 1; i &lt;= 42; i++) {\n            if (i &lt;= dayOfWeek) {\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    daysInMonthArray.add(LocalDate.of(prevMonth.getYear(), prevMonth.getMonth(), prevDaysInMonth + i - dayOfWeek));\n                }\n                if (dayOfWeek == 7 &amp;&amp; daysInMonthArray.size() &gt;= 7) {\n\n                    daysInMonthArray.clear();\n                }\n\n\n            } else if (i &gt; daysInMonth + dayOfWeek) {\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    daysInMonthArray.add(LocalDate.of(nextMonth.getYear(), nextMonth.getMonth(), i - dayOfWeek - daysInMonth));\n                }\n\n\n            }\n            else {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    daysInMonthArray.add(LocalDate.of(selectedDate.getYear(), selectedDate.getMonth(), i - dayOfWeek));\n                }\n\n            }\n\n        }\n\n\n        return daysInMonthArray;\n\n\n    }\n</code></pre>\n<p><strong>My xml is simple with the ViewPager only inside:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity2&quot;&gt;\n\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/viewPager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134564425,"body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"last_activity_date":1684749910,"question_id":76305059,"body":"<p><strong>Follow up emails automation for tasks in ServiceNow.</strong></p>\n<p>We have a good junk of problem records and tasks opened, it is a very tiring and cumbersome task to follow up on each problem task with the assigned person. I am looking out for ideas to automate this task which should require minimal human intervention.</p>\n<p>I am looking at the possibility to use REST API of SNOW and then may be a program created but while I am writing this it still is under development.</p>\n"},{"answers":[{"comments":[{"comment_id":134557608,"body":"Thank you for your answer. But I can&#39;t do that , because it is like 2 different big endpoints for core and additional part of application. We have 2 different classes which extends ResourceConfig class"},{"comment_id":134557751,"body":"I don&#39;t understand what in having a core/additional structure prevents using concatenated &#39;@Path over &#39;@ApplicationPath. Is core using ApplicationPath and can&#39;t be modified?"},{"comment_id":134557833,"body":"because it seems I have to remake all pathes from our all controllers to new path?"},{"comment_id":134557993,"body":"That should have been considered when building the core application with a &#39;@ApplicationPath. That mandates the path for the application - both core and extensions."}],"answer_id":76305046,"body":"<p>What you are trying to achieve cannot be done with @ApplicationPath. Remove them and build that part of the path in the @Path annotations.</p>\n<pre><code>@Path(&quot;/endpoint_1/path1&quot;)\npublic class SomeObject1 {\n}\n\n\n@Path(&quot;/endpoint_2/path2&quot;)\npublic class SomeObject2 {\n}\n</code></pre>\n"}],"last_activity_date":1684749827,"question_id":76304355,"body":"<p>I have several endpoints. For example</p>\n<pre><code>@ApplicationPath(&quot;/endpoint_1&quot;)\npublic class Endpoint1 extends ResourceConfig {\n\n\n public Endpoint1(){\n    register(SomeObject1.class);\n    ...\n    }\n\n}\n\n@Path(&quot;/path1&quot;)\npublic class SomeObject1 {\n}\n\n\n@ApplicationPath(&quot;/endpoint_2&quot;)\npublic class Endpoint2 extends ResourceConfig {\n\npublic Endpoint2(){\n    register(SomeObject2.class);\n    ...\n    }\n\n}\n\n\n@Path(&quot;/path2&quot;)\npublic class SomeObject2 {\n}\n</code></pre>\n<p>And when I try to register swagger and get API for both endpoints, I get only for 1 and its swagger's endpoint</p>\n<p>I have tried many variants but this one was last one</p>\n<pre><code>@ApplicationPath(&quot;/swagger&quot;)\npublic class OpenApiCOnfig extends ResourceConfig {\n\n  public OpenApiConfig() {\n    OpenApiResource r = new OpenApiResource();\n    SwaggerConfiguration oasConfig = new SwaggerConfiguration()\n                .openAPI(new OpenAPI())\n                .prettyPrint(true);\n\n    r.setOpenApiConfiguration(oasConfig);\n\n    register(r);\n  }\n}\n</code></pre>\n<p>and I get API like</p>\n<p>/swagger/path1; /swagger/path2;</p>\n<p>How to get correct API like</p>\n<p>endpoint_1/path1;  endpoint_2/path2</p>\n"},{"last_activity_date":1684749792,"question_id":76305041,"body":"<p>How to quickly debug and modify code?</p>\n<p>I am not a professional java developer and I am confused about how to debug this find-sec-bugs project. Whenever I add a new detector, do I need to package the entire project and replace plugins.jar in findsecbugs-cli, can I debug the source code I wrote directly with IDEA?</p>\n"},{"answers":[{"comments":[{"comment_id":8752435,"body":"Agreed. Just because <i>anything</i> <i>could</i> be wired as a Spring bean doesn&#39;t mean <i>everything</i> <i>should</i> be wired as a Spring bean."},{"comment_id":9096236,"body":"what if the static method reads a configuration file that drives my application? that is likely that I want to mock that behavior. Just think of it: you want to do functional testing but you don&#39;t want to become a &quot;configuration factory&quot;. if it would be a singleton then I can more easily mock that method and drive my test from code. However it&#39;s possible with PowerMock to mock static methods too."},{"comment_id":19035114,"body":"It could be over-engineering, but making it a bean that can be injected makes it easier to unit-test dependent classes. It would make it even easier to test if it had implemented an interface."},{"comment_id":93873524,"body":"An important use case is time. Consider using Java 8&#39;s Clock as a bean to avoid flaky tests related to time."},{"comment_id":93887947,"body":"@DavidW true, but that Clock was specifically designed for that purpose. I&#39;ve used it when editing other people&#39;s code, but I&#39;d still prefer to make my methods idempotent, so I&#39;d pass in Dates from the outside."}],"answer_id":7270727,"body":"<p>I don't think so. A DateUtils class sounds like a pure utility class that doesn't have any side effects but just processes input parameters. That kind of functionality may as well remain in a static method. I don't think it's very likely that you'll want to mock date helper methods.</p>\n"},{"answer_id":7270779,"body":"<p>It would be better to declare it as a Spring bean because the life cycle of it is then managed by Spring, and you can eventually inject dependencies, pool the object, as well as test it in a proper way, not to talk that you could use it as a regular object and pass it as parameter, redefine the method in subclasses... etc.</p>\n\n<p>In short, yes it would be a better design in most cases. Nevertheless, in a case as simple as the exposed, it doesn't do a great difference.</p>\n"},{"answer_id":35648309,"body":"<p>I agree with Sean Patrick Floyd.</p>\n\n<p>This is my criterion: if the methods of the class do things only over the parameters they receive, with no external dependencies (database, file system, user config, other objects/beans, etc.), then I would do it with static methods, usually in a final class with a private constructor.</p>\n\n<p>Otherwise, I would implement it using a Spring bean.</p>\n\n<p>So, in the case that you raise, according to this criterion, I would write a class with static methods.</p>\n\n<p>Regards.</p>\n"},{"answer_id":74659838,"body":"<p>A good answer in this comment <a href=\"https://stackoverflow.com/questions/64289009/should-i-use-static-at-all-in-spring-singleton-beans/64289179#comment131778907_64289179\">Should I use static at all in spring singleton beans</a></p>\n<p>static variable has one instance in one JVM. Singleton exists per spring context. If your application has only one context, they do the same job.</p>\n<p>But do not mix them together. In some old projects, I see some not-pure utility class using some spring bean via ApplicationContext. It is very hard to write test case for it.</p>\n"},{"answer_id":76304657,"body":"<p>While most people here support the idea to have Util classes with static methods, instead of Spring beans, I would oppose.</p>\n<ol>\n<li><strong>Dependency injection</strong> made for reason. This is the tool to replace any of Spring Bean with different implementations in case of different context. Most common is development and test context difference. But we also can have a new context in the future (production, different data transfer protocol, different database implementation etc). In this case an interface implementation bean, injected by Spring would make life much easier.</li>\n</ol>\n<p>Doing the opposite - using the util classes with static methods is the well known design problem called <strong>Tight Coupling</strong> and it leads to <strong>Code Fragility</strong>.</p>\n<ol start=\"2\">\n<li>Consider a situation where you have an utility class with static methods. At some point you need to add an injected dependency as new feature requested. All of a sudden it is not a Util but UtilBean now. So instead of adding a method to your original Util, you have to rename it and refactor all code calling it. Refactoring is cheap, right? Not so fast if you are building a library which is used in other applications and you do not have control over them. And guess what? How do you know your code today is not a compiled library dependency tomorrow?</li>\n</ol>\n<p>All right, we worked hard, renamed util to bean and all is great. But we got a new feature request, and next we have to remove the method from bean. Now it does not have dependency and we need to rename bean to back util.</p>\n<ol start=\"3\">\n<li>If developers use Spring they often follow <strong>MVC architecture</strong> design. Where would be the Util class in this case? It sounds like a Service, but it appears to be something different and likely would have a separate package. Not so nice.</li>\n</ol>\n<p><strong>Bottom line =&gt; With Spring use Beans and don't mess around Utility classes with static methods.</strong> I would say it is valid to consider with any application where dependency injection is used.</p>\n"}],"last_activity_date":1684749715,"question_id":7270681,"body":"<p>Let's say I have a utility class DateUtil (see below). To use this method\na caller method uses DateUtils.getDateAsString(aDate). Would it be better to remove\nthe static modifier and make DateUtil a spring bean (see DateUtilsBean) and inject it into calling classes\nor just leave it as is?</p>\n\n<p>One disadvantage I can see with using static is issues around mocking, see <a href=\"https://stackoverflow.com/questions/153048/how-to-mock-with-static-methods\">How to mock with static methods?</a></p>\n\n<pre><code>public class DateUtils {\n\n    public static String getDateAsString(Date date) {       \n        String retValue =  \"\" // do something here using date parameter\n        return retValue;\n    }\n}\n</code></pre>\n\n<p>Spring Bean version</p>\n\n<pre><code>@Component\npublic class DateUtilsBean {\n\n    public String getDateAsString(Date date) {      \n        String retValue =  \"\" // do something here using date parameter\n        return retValue;\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":120481462,"body":"If you&#39;re including versions of Spring dependencies, you&#39;re usually clobbering the management and going to cause problems. In particular, you are pulling in 5.0.0 and 5.5.0; eliminate all of these versions and let Boot do its job."},{"comment_id":120488941,"body":"If you generate your project via <a href=\"https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.5.2.RELEASE&amp;packaging=jar&amp;jvmVersion=16&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;dependencies=thymeleaf,security,data-jpa,devtools,mysql,lombok\" rel=\"nofollow noreferrer\">start.spring.io</a>, you will see that you don&#39;t need all those versions specified. Spring Boot handles this automatically to select compatible versions."},{"comment_id":120492812,"body":"Thanks that solved my problem"}],"answers":[{"answer_id":76305000,"body":"<p>I got this error while running the application using IntelliJ. My issue was that I was using Java version 11 in the project settings. I changed it to version 1.8 from them project settings menu (Ctrl + Shift + Alt + S).</p>\n"}],"last_activity_date":1684749499,"question_id":68169120,"body":"<p>I'm using a Spring Boot application with Thymeleaf in a simple test project. I want to show a message if the user is logged in so I want to use the sec:authorize=&quot;isAuthenticated()&quot;. I made my config class(thats totally new for me) but I get an error</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/web/method/annotation/CurrentSecurityContextArgumentResolver\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.8.jar:5.3.8]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.8.jar:5.3.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-2.5.1.jar:2.5.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1332) ~[spring-boot-2.5.1.jar:2.5.1]\n    at com.teszt.thymeleaftest.ThymeleaftestApplication.main(ThymeleaftestApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.5.1.jar:2.5.1]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/web/method/annotation/CurrentSecurityContextArgumentResolver\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.8.jar:5.3.8]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.8.jar:5.3.8]\n    ... 24 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/security/web/method/annotation/CurrentSecurityContextArgumentResolver\n    at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration.addArgumentResolvers(WebMvcSecurityConfiguration.java:61) ~[spring-security-config-5.5.0.jar:5.5.0]\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurerComposite.addArgumentResolvers(WebMvcConfigurerComposite.java:123) ~[spring-webmvc-5.3.8.jar:5.3.8]\n    at org.springframework.web.servlet.config.annotation.DelegatingWebMvcConfiguration.addArgumentResolvers(DelegatingWebMvcConfiguration.java:108) ~[spring-webmvc-5.3.8.jar:5.3.8]\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.getArgumentResolvers(WebMvcConfigurationSupport.java:812) ~[spring-webmvc-5.3.8.jar:5.3.8]\n    at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:675) ~[spring-webmvc-5.3.8.jar:5.3.8]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.8.jar:5.3.8]\n    ... 25 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.springframework.security.web.method.annotation.CurrentSecurityContextArgumentResolver\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519) ~[na:na]\n    ... 35 common frames omitted\n</code></pre>\n<p>Now I'm not sure which files should I share here but here is my pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.teszt&lt;/groupId&gt;\n    &lt;artifactId&gt;thymeleaftest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;thymeleaftest&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;16&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.12.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;5.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My config class:</p>\n<pre><code>package com.teszt.thymeleaftest.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\n\n@Configuration\n@EnableWebMvc\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .and()\n                .formLogin()\n                    .loginPage(&quot;/login&quot;)\n                    .loginProcessingUrl(&quot;/logIn&quot;)\n                    .permitAll()\n                .and()\n                .csrf().disable();\n    }\n}\n</code></pre>\n<p>Here is my html page:</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:sec=&quot;http://www.thymeleaf.org/thymeleaf-extras-springsecurity5&quot;&gt;\n\n&lt;head&gt;\n\n    &lt;!-- Required meta tags --&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n\n    &lt;!-- Bootstrap CSS --&gt;\n    &lt;link href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x&quot; crossorigin=&quot;anonymous&quot;&gt;\n\n\n    &lt;title&gt;Main Page&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;a th:href=&quot;@{/users/showUserForm}&quot;&gt;Click here&lt;/a&gt; to go to the User Registration page\n&lt;br&gt;\n&lt;a th:href=&quot;@{/users/list}&quot;&gt;Click here&lt;/a&gt; to go to the Users list page\n&lt;br&gt;\n&lt;a th:href=&quot;@{/login/signUp}&quot;&gt;Click here&lt;/a&gt; to go to the sign up page\n&lt;br&gt;\n&lt;a th:href=&quot;@{/login/members-list}&quot;&gt;Click here&lt;/a&gt; to see the list of the members\n&lt;br&gt;\n&lt;span sec:authorize=&quot;isAuthenticated()&quot;&gt;You are logged in&lt;/span&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>I hope somebody can help me.</p>\n"},{"comments":[{"comment_id":18889577,"body":"See <a href=\"http://stackoverflow.com/questions/4370683/inject-util-class-with-google-guice-vs-static-methods\" title=\"inject util class with google guice vs static methods\">stackoverflow.com/questions/4370683/&hellip;</a>"}],"answers":[{"comments":[{"comment_id":18891804,"body":"I didn&#39;t understand your example. If i have a public static method which return a String depends on the parameters passed to the method without storing anything, so we should let the static method, and not manage the class by Spring. That&#39;s right ? in other case, create a Component or Service."},{"comment_id":50155717,"body":"More important: during testing you can inject a different DateServiceTestingImpl with different dates to test how your system work on different dates.  Of course, in this case you will need to set it by configuration and not autowire it"}],"answer_id":13746277,"body":"<p>If it has any kind of state to maintain, or any collaborators then make a Spring component. If the functionality you need is stateless and doesn't rely on the state of any other methods it calls then make it static.</p>\n\n<p>For example in my app I have a static util method that clamps integers between a min and max value, but a Spring bean that returns the current date...</p>\n\n<pre><code>@Service\npublic class DateServiceImpl implements DateService {\n    @Override\n    public Date getCurrentDate() {\n        return Calendar.getInstance().getTime();\n    }\n}\n</code></pre>\n\n<p>Why? Because now I can unit test code that uses the current date.</p>\n"},{"answer_id":76304992,"body":"<p>With Spring it is always better to have Components then Util classes with static methods.</p>\n<p>However if you have a lot of util classes with static methods already, refactoring could be difficult, because of, besides of replacing the util classes with Spring beans you also will have to update all methods invocations in classes depending on those utils classes. This is even harder if your code used as library in other projects. Though this is well known and is the consequence of tight coupling, which leads to fragility. Somebody will have to pay for that.</p>\n<p>Thus I would create all new classes as Spring beans (components) but about older code I would may be left it as is, because large change could break something unintentionally. So I would replace older util classes in case I have some feature update task on them.</p>\n<p>Here some details: <a href=\"https://stackoverflow.com/a/76304657/4776689\">https://stackoverflow.com/a/76304657/4776689</a></p>\n"}],"last_activity_date":1684749430,"question_id":13746080,"body":"<p>I have a package \"Utils\" where i have many classes. Some of them are just some classes with static methods and others some singleton where i pass some parameters in constructor (with @Value in order to replace the basic XML configuration by annotation).</p>\n\n<p>I have a configuration in ApplicationContext in order to scan the package.</p>\n\n<p>So, my question : for classes with static methods, should we transform them with @Component annotation in order to have a singleton (still with static methods) or should we let them in this state without managed them by Spring ?</p>\n\n<p>thank you</p>\n"},{"comments":[{"comment_id":108509245,"body":"I assume you have found <a href=\"https://stackoverflow.com/questions/19966486/hibernate-4-onetomany-liststring\">this other question</a> and it doesn&#39;t work for you"},{"comment_id":108509349,"body":"You probably don&#39;t need the <code>@JoinTable</code> and <code>@Column</code> annotations"},{"comment_id":108519092,"body":"Hi Lino. The thread you mentioned does not deal with many-to-many relationship, so it does not solve my problem. Thanks anyway!"},{"comment_id":122754255,"body":"Did you find any solution ? I encounter the same problem. Thanks in advance"},{"comment_id":122782873,"body":"@Julien, sadly I have not. I&#39;m &#39;ve created a class for the Label"}],"answers":[{"comments":[{"comment_id":108519315,"body":"Thank you for your answer, CodeScale. It is a legacy DB and I cannot change the structure. Moreover, there are some benefits/reasons of having the label in its own table. I do have a Label entity at the moment but I&#39;m still looking for a better solution. If I don&#39;t find it any time soon, I&#39;ll mark your answer as accepted. Thanks again!"},{"comment_id":134557241,"body":"Just to remind you that it&#39;s been more than three years now and you didn&#39;t label his answer as the accepted one, @dpelisek"},{"comment_id":134572661,"body":"I still have not found a better solution. So creating a new entity and using n:n (as you&#39;ve suggested) seems to be the only way."}],"answer_id":61337803,"body":"<p><code>@JoinTable</code> is used to map following associations to database table: bidirectional many-to-one/one-to-many, unidirectional many-to-one, and one-to-one (both bidirectional and unidirectional) associations.</p>\n\n<p>If you really want to have  <code>Label</code>with his own table you have to define it as an <code>Entity</code> and then using <code>ManyToMany</code> relation.</p>\n\n<p>The other solution would be to remove <code>Label</code> table and keep label name as <code>LABEL</code> instead of label_id inside <code>item_label</code> table.</p>\n\n<p>So your relation will become </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@ElementCollection\n@CollectionTable(name = \"ITEM_LABEL\", joinColumns = @JoinColumn(name = \"ITEM_ID\"))\n@Column(name = \"LABEL\")\n</code></pre>\n"}],"last_activity_date":1684749342,"question_id":61337372,"body":"<p>I've got a many-to-many relationship that assigns labels (nothing but string) to items:</p>\n\n<pre><code>+------+   +------------+   +-------+\n| ITEM |   | ITEM_LABEL |   | LABEL |\n|------|   |------------|   |-------|\n|  ID  |&lt;-&gt;|  ITEM_ID   | ┌&gt;|  ID   |\n|------|   |------------| | |-------|\n| .... |   |  LABEL_ID  |&lt;┘ | TEXT  |\n+------+   +------------+   +-------+\n</code></pre>\n\n<p>... and I'd like to avoid creating POJO class for the label table and keep it in the Item class as a collection of strings. Is there a way to do it with JPA (hibernate) annotations?</p>\n\n<p>I've tried to combine @CollectionTable with @JoinTable but it obviously does not work:</p>\n\n<pre><code>@Entity\npublic class Item {\n\n    @Id\n    private long id;\n\n    @ElementCollection\n    @JoinTable(name = \"ITEM_LABEL\", joinColumns = @JoinColumn(name = \"ITEM_ID\"))\n    @CollectionTable(name = \"LABEL\", joinColumns = @JoinColumn(name = \"ID\", referencedColumnName = \"LABEL_ID\"))\n    @Column(name = \"TEXT\")\n    private Collection&lt;Strings&gt; labels;\n}\n</code></pre>\n\n<p>Can anyone tell me how could I include the labels as a collection of string in the item class, please? Many thanks! </p>\n"},{"comments":[{"comment_id":134557277,"body":"Explain what you mean by compare. Do you want to parse these values and compare them numerically? To do what? What did you try? And they appear to be equal numerically. Are they always? Then why compare them?"},{"comment_id":134557280,"body":"Compare how exactly? Do you want to know which one is bigger? if they are the same? What the difference between those 2 numbers is?"},{"comment_id":134569096,"body":"I want to compare the values numerically. sometimes the values will be different. in such a case, I would be failing the test case."}],"last_activity_date":1684749254,"question_id":76304972,"body":"<p>I have to compare two values(Ex: 45,000.00 - UI, 45000 - Excel) one is from UI and another is from an excel file and both are in string format</p>\n<p>code is as below:</p>\n<p>WebElement getValue= driver.findElement(Locator);\nString uiValue = getValue.getText();</p>\n<p>String valuefromExcel = Sheet.getNetamount();</p>\n<p>Examples of string outputs:</p>\n<ol>\n<li>45,000.00 - UI, 45000 - Excel</li>\n<li>45,000.50 - UI, 45000.5 - Excel</li>\n</ol>\n<p>please help me with this.</p>\n"},{"last_activity_date":1684749182,"question_id":76304413,"body":"<p>Occasionally we get invalid XML responses when calling webservices using Axis2. One reason beside others maybe a HTTP 500 on the other end, resulting in a non-XML response.</p>\n<p>For better debugging it would be nice to log the HTTP response.</p>\n<p>Is there any possibility to get the actual HTTP response in case of an AxisFault exception?</p>\n<pre><code>[...]\nServiceClient sender;\nOperationClient mepClient;\n        \nsender = new ServiceClient (\n    axisConfiguration,\n    wsdlLocation,\n    new QName (\n            ns.getNamespaceURI(),\n            serviceName ),\n    null );\n\nmepClient = sender.createClient (\n    new QName (\n            ns.getNamespaceURI(), action ) );\n\nMessageContext messageContext = createMessageContext(method, attachments);\nmepClient.addMessageContext (messageContext);\n\ntry {\n\n    mepClient.execute(true);\n\n} catch (AxisFault fault) {\n\n    // the other side responded with non-xml content for some\n    // reason - how to get the actual response?\n}\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134522803,"body":"Please don&#39;t forget to upvote this post if I helped you"},{"comment_id":134539497,"body":"I tried solutions you suggested. But it is not working. Is it possible can you share a working repository or send a pull request using my repository"},{"comment_id":134544297,"body":"@Abc.Xyz I&#39;ve posted patch here: <a href=\"https://gist.github.com/yevheniisemenov/fee586998f608e188875465108588d60\" rel=\"nofollow noreferrer\">gist.github.com/yevheniisemenov/&hellip;</a>  With this patch I can see the message <code>Received dummy message = DummyMessage2(numbers=6469344427; 2017586291)</code> in logs and also json <code>{&quot;tokens&quot;:[&quot;6469344427&quot;,&quot;2017586291&quot;]}</code> that posted to kafka topic <code>this.is.output.example.topic</code>  Pls let me know is it work for you?"},{"comment_id":134556772,"body":"Works as expected. Thanks for your detailed answer!"},{"comment_id":134557074,"body":"I have updated OP with another simple solution. Please see update"}],"answer_id":76284615,"body":"<p>The reason for such behavior is in your DummyMessage configuration. You have the <code>String numbers</code> field but ignore it for Jackson. Instead, you provide the <code>getToken</code> method. So Jackson thinks that your object has only the <code>List&lt;String&gt; tokens</code> field and doesn't understand your bytes when you unmarshal it.</p>\n<p>Let's look closer:</p>\n<p>When you call your <code>/mvc</code> endpoint, there is only marshaling happening, so it works. You have the following flow:</p>\n<p><code>Request body (1)-&gt; DummyMessage1 (2)-&gt; Response body</code></p>\n<pre><code>{\n  &quot;numbers&quot;: &quot;6469344427; 2017586291&quot;\n}\n\n(1) ====&gt; \n\nDummyMessage1(\n  String numbers = &quot;6469344427; 2017586291&quot;\n)\n\n(2) ====&gt; \n\n{\n  &quot;tokens&quot;: [\n    &quot;6469344427&quot;,\n    &quot;2017586291&quot;\n  ]\n}\n</code></pre>\n<p>But in your <code>/message</code> endpoint, the flow is longer:</p>\n<p><code>Request body (1)-&gt; DummyMessage2 (2)-&gt; Json (3)-&gt; DummyMessage2</code></p>\n<p>And on step 3, at your <code>DummyMessageConsumerService</code>, spring tries to unmarshal <code>DummyMessage2</code> from JSON and can't do this because the Json has only the field &quot;tokens,&quot; but there is no such field in the object.</p>\n<p>To fix this issue:</p>\n<ol>\n<li><p>Remove <code>@JsonProperty(access = JsonProperty.Access.READ_ONLY)</code> from <code>getTokens()</code> method</p>\n</li>\n<li><p>Add the following setter to your <code>DummyMessage2</code></p>\n</li>\n</ol>\n<pre><code>public void setTokens(List&lt;String&gt; tokens) {\n    this.numbers = String.join(&quot;;&quot;, tokens);\n}\n</code></pre>\n<p>Or you can create another DTO object like <code>DummyMessage3</code> with <code>List&lt;String&gt; tokens</code> instead of <code>String numbers</code>. In that case the flow will be <code>(1) -&gt; DummyMessage2 (2)-&gt; Json (3)-&gt; DummyMessage3</code>.</p>\n"}],"last_activity_date":1684749031,"question_id":76242570,"body":"<p>I am currently working on a Spring Boot application (version 3.0.6) and using Spring Cloud (version 2022.0.2). I have two different endpoints (&quot;/mvc&quot; and &quot;/message&quot;) that use two different request objects (<strong>DummyMessage1</strong> and <strong>DummyMessage2</strong>), and I'm having some issues with Jackson's JsonProperty and JsonIgnoreProperties annotations.</p>\n<p>In both the cases I'm looking to supress <strong>numbers</strong> from response and get <strong>tokens</strong> in response.</p>\n<p>I have used JsonIgnoreProperties to suppress <strong>numbers</strong> from response.</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\n</code></pre>\n<p>In the <strong><code>/mvc</code></strong> endpoint, everything is working as expected. I'm using <strong><code>DummyMessage1</code></strong> request object for this endpoint. The <strong><code>numbers</code></strong> field is suppressed from response as expected. Furthermore, the <strong><code>tokens</code></strong> field, is returned successfully in the JSON response and is not empty as it contains the list of tokens from the request.</p>\n<p>The problem arises in the <strong><code>/message</code></strong> endpoint, which uses <strong><code>DummyMessage2</code></strong> to post a message to kafka. <strong><code>DummyMessage2</code></strong> is identical to <strong><code>DummyMessage1</code></strong>.</p>\n<p>When I attempted to post a JSON to the Kafka topic, an exception was thrown:</p>\n<p>Full stacktrace can be found <a href=\"https://gist.github.com/cricketbackground/487eee625b1305076072164366a64635\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>java.lang.ClassCastException: class [B cannot be cast to class com.example.marshaller.model.DummyMessage2 ([B is in module java.base of loader 'bootstrap'; com.example.marshaller.model.DummyMessage2 is in unnamed module of loader 'app')\n    at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:990) ~[spring-cloud-function-context-4.0.2.jar:4.0.2]\n</code></pre>\n<p>Here are the request objects:</p>\n<p><code>DummyMessage1</code>:</p>\n<pre><code>@EqualsAndHashCode(callSuper = false)\n@Getter\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\npublic class DummyMessage1 extends BaseRequest {\n\n    private String numbers;\n\n    //@JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    public List&lt;String&gt; getTokens() {\n        if (StringUtils.isBlank(this.numbers)) return Collections.emptyList();\n        return List.of(this.numbers.split(&quot;;\\\\s*&quot;));\n    }\n}\n</code></pre>\n<p><code>DummyMessage2</code>:</p>\n<pre><code>@EqualsAndHashCode(callSuper = false)\n@Getter\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\npublic class DummyMessage2 extends BaseRequest {\n\n    private String numbers;\n\n    @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n    public List&lt;String&gt; getTokens() {\n        if (StringUtils.isBlank(this.numbers)) return Collections.emptyList();\n        return List.of(this.numbers.split(&quot;;\\\\s*&quot;));\n    }\n}\n</code></pre>\n<p>Next, to work around the the exception, I added the annotation <strong>@JsonProperty(access = JsonProperty.Access.READ_ONLY)</strong> on <strong>getTokens()</strong> method in <strong>DummyMessage2</strong>. However, this did not result in the desired outcome. The JSON posted to Kafka now did not include the numbers field as required, but also, the tokens field was as empty, which is not expected.</p>\n<p>Why is this happening? I would expect the tokens field to be populated as it is in the /mvc endpoint. Any help or insights would be greatly appreciated.</p>\n<p>Here's repository to reproduce the issue: <a href=\"https://github.com/cricketbackground/marshaller\" rel=\"nofollow noreferrer\">https://github.com/cricketbackground/marshaller</a></p>\n<p>Please note for security reasons the kafka brokers and kafka zk nodes are purposefully not set in the repo.</p>\n<p>Request Body:</p>\n<pre class=\"lang-json prettyprint-override\"><code>\n{\n    &quot;numbers&quot;:&quot;12345; 3982934823; 3248923492834; 324923434&quot;\n}\n</code></pre>\n<p>How to use: please see <a href=\"https://github.com/cricketbackground/marshaller#readme\" rel=\"nofollow noreferrer\">here</a></p>\n<p><strong>--- Update</strong></p>\n<p>Here's the simple working DummyMessage2 by adding a field for the utility getter. In the getter method the field itself is returned if it is not empty, thus retaining the field value across multiple message post hops</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n    import lombok.AllArgsConstructor;\n    import lombok.EqualsAndHashCode;\n    import lombok.Getter;\n    import lombok.NoArgsConstructor;\n    import lombok.experimental.SuperBuilder;\n    import org.apache.commons.lang3.StringUtils;\n    import org.springframework.util.CollectionUtils;\n    \n    import java.util.Collections;\n    import java.util.List;\n    \n    @EqualsAndHashCode(callSuper = false)\n    @Getter\n    @SuperBuilder\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;numbers&quot;}, allowSetters = true)\n    public class DummyMessage2 extends BaseRequest {\n    \n        private String numbers;\n    \n        private List&lt;String&gt; tokens;\n    \n        public List&lt;String&gt; getTokens() {\n            if (!CollectionUtils.isEmpty(this.tokens)) return this.tokens;\n            if (StringUtils.isBlank(this.numbers)) return Collections.emptyList();\n            return List.of(this.numbers.split(&quot;;\\\\s*&quot;));\n        }\n    }\n\n</code></pre>\n<p>The other solution suggested by Yevhenii Semenov also works but requires setter method logic to be written exactly reverse of getter logic. Setter method complexity increases based on getter method. Also, if there are more fields then writing/maintaining setter methods for each field becomes a problem</p>\n"},{"answers":[{"answer_id":76092572,"body":"<p>OAEP decryption <a href=\"https://www.rfc-editor.org/rfc/rfc8017#section-7.1.2\" rel=\"nofollow noreferrer\">is defined in the PKCS#1 RSA standard</a>. The decoding of the padding starts at step 3.</p>\n<p>You <em>could</em> take a look at existing software implementations of RSA OAEP, e.g. for the open source Bouncy Castle library if you don't want to fully program it yourself.</p>\n"},{"answer_id":76304915,"body":"<p>So, after some research I got the OAEP decryption.\nI use Bouncy Castle 1.7 and adjust code from <code>org.bouncycastle.crypto.encodings.OAEPEncoding</code> class.</p>\n<pre><code>Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;, &quot;SunPKCS11-cknfast0&quot;);\ncipher.init(Cipher.DECRYPT_MODE, privatePK11Key); \ndecryptedWithOaep = cipher.doFinal(data);\n// this is for with OAEP SHA-256\nOAEPEncoding eng =  new OAEPEncoding(new SHA256Digest(), new SHA256Digest());\n// if you need with OAEP SHA-1\n//new OAEPEncoding();\nbyte[] decrypted = eng.decodeBlock(decryptedWithOaep,0,decryptedWithOaep.length, getOutputBlockSize(publicPK11Key.getModulus().bitLength());\n\n</code></pre>\n<pre><code>public static int getOutputBlockSize(bitSize)\n{\n  return (bitSize + 7) / 8 - 1;\n}\n</code></pre>\n<pre><code>import org.bouncycastle.crypto.Digest;\nimport org.bouncycastle.crypto.InvalidCipherTextException;\nimport org.bouncycastle.crypto.util.DigestFactory;\nimport org.bouncycastle.util.Arrays;\nimport org.bouncycastle.util.Pack;\n\npublic class OAEPEncoding\n{\n// this part is adjusting to my case\n\n    private byte[]                  defHash ;\n    private Digest                  mgf1Hash ;\n\n    public OAEPEncoding()\n    {\n        Digest hash = DigestFactory.createSHA1();\n        mgf1Hash = DigestFactory.createSHA1();\n        defHash = new byte[mgf1Hash.getDigestSize()];\n        hash.reset();\n        hash.doFinal(defHash, 0);\n    }\n\n    public OAEPEncoding(Digest sha256Digest, Digest sha256Digest1) {\n        mgf1Hash = sha256Digest1;\n        defHash = new byte[mgf1Hash.getDigestSize()];\n        sha256Digest.reset();\n        sha256Digest.doFinal(defHash, 0);\n    }\n\n    public byte[] decodeBlock(\n        byte[]  in,\n        int     inOff,\n        int     inLen,\n        int outputBlockSize)\n        throws InvalidCipherTextException\n    {\n        byte[]  data = in;\n        byte[]  block = new byte[outputBlockSize];\n\n// from here starting original org.bouncycastle.crypto.encodings.OAEPEncoding code\n        //\n        // as we may have zeros in our leading bytes for the block we produced\n        // on encryption, we need to make sure our decrypted block comes back\n        // the same size.\n        //\n\n        // i.e. wrong when block.length &lt; (2 * defHash.length) + 1\n        int wrongMask = (block.length - ((2 * defHash.length) + 1)) &gt;&gt; 31;\n\n        if (data.length &lt;= block.length)\n        {\n            System.arraycopy(data, 0, block, block.length - data.length, data.length);\n        }\n        else\n        {\n            System.arraycopy(data, 0, block, 0, block.length);\n            wrongMask |= 1;\n        }\n\n        //\n        // unmask the seed.\n        //\n        byte[] mask = maskGeneratorFunction1(\n                    block, defHash.length, block.length - defHash.length, defHash.length);\n\n        for (int i = 0; i != defHash.length; i++)\n        {\n            block[i] ^= mask[i];\n        }\n\n        //\n        // unmask the message block.\n        //\n        mask = maskGeneratorFunction1(block, 0, defHash.length, block.length - defHash.length);\n\n        for (int i = defHash.length; i != block.length; i++)\n        {\n            block[i] ^= mask[i - defHash.length];\n        }\n\n        //\n        // check the hash of the encoding params.\n        // long check to try to avoid this been a source of a timing attack.\n        //\n        for (int i = 0; i != defHash.length; i++)\n        {\n            wrongMask |= defHash[i] ^ block[defHash.length + i];\n        }\n\n        //\n        // find the data block\n        //\n        int start = -1;\n\n        for (int index = 2 * defHash.length; index != block.length; index++)\n        {\n            int octet = block[index] &amp; 0xFF;\n\n            // i.e. mask will be 0xFFFFFFFF if octet is non-zero and start is (still) negative, else 0.\n            int shouldSetMask = (-octet &amp; start) &gt;&gt; 31;\n\n            start += index &amp; shouldSetMask;\n        }\n\n        wrongMask |= start &gt;&gt; 31;\n        ++start;\n        wrongMask |= block[start] ^ 1;\n\n        if (wrongMask != 0)\n        {\n            Arrays.fill(block, (byte)0);\n            throw new InvalidCipherTextException(&quot;data wrong&quot;);\n        }\n\n        ++start;\n\n        //\n        // extract the data block\n        //\n        byte[]  output = new byte[block.length - start];\n\n        System.arraycopy(block, start, output, 0, output.length);\n        Arrays.fill(block, (byte)0);\n\n        return output;\n    }\n\n    /**\n     * mask generator function, as described in PKCS1v2.\n     */\n    private byte[] maskGeneratorFunction1(\n        byte[]  Z,\n        int     zOff,\n        int     zLen,\n        int     length)\n    {\n        byte[]  mask = new byte[length];\n        byte[]  hashBuf = new byte[mgf1Hash.getDigestSize()];\n        byte[]  C = new byte[4];\n        int     counter = 0;\n\n        mgf1Hash.reset();\n\n        while (counter &lt; (length / hashBuf.length))\n        {\n            Pack.intToBigEndian(counter, C, 0);\n\n            mgf1Hash.update(Z, zOff, zLen);\n            mgf1Hash.update(C, 0, C.length);\n            mgf1Hash.doFinal(hashBuf, 0);\n\n            System.arraycopy(hashBuf, 0, mask, counter * hashBuf.length, hashBuf.length);\n\n            counter++;\n        }\n\n        if ((counter * hashBuf.length) &lt; length)\n        {\n            Pack.intToBigEndian(counter, C, 0);\n\n            mgf1Hash.update(Z, zOff, zLen);\n            mgf1Hash.update(C, 0, C.length);\n            mgf1Hash.doFinal(hashBuf, 0);\n\n            System.arraycopy(hashBuf, 0, mask, counter * hashBuf.length, mask.length - (counter * hashBuf.length));\n        }\n\n        return mask;\n    }\n}\n</code></pre>\n<p>Also, I have issue with decryptedWithOaep length, it was longer than getOutputBlockSize, for this I delete additional 0 from decrypted with SunPKCS11 data.\nBut if I try it for random RSA keys generated with bouncy castle it was not happening.</p>\n"}],"last_activity_date":1684748823,"question_id":76091513,"body":"<p>I have a key pair storage in HSM. SP for HSM is not support &quot;RSA/ECB/OAEPPadding&quot; decryption.\nI can decrypt without padding with existing private key.</p>\n<pre><code>Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/NoPadding&quot;, &quot;SunPKCS11-cknfast0&quot;);\ncipher.init(Cipher.DECRYPT_MODE, privatePK11Key); \ndecrypted = cipher.doFinal(data);\n</code></pre>\n<p>now how I can transform <code>decrypted</code> value to get original text?</p>\n"},{"comments":[{"comment_id":112132642,"body":"Just a comment: since Flink already has a public class named ProcessFunction, it would be less confusing if you were to give your class a different name."},{"comment_id":126468221,"body":"Hi! Did you find any solution? I cannot find any documentation for testing <code>ProcessWindowFunction.</code> ."},{"comment_id":126471364,"body":"Hi @Vin. Nothing man."}],"answers":[{"comments":[{"comment_id":120221470,"body":"Could you please give the simple, basic example of testing Flink window function? Especially <code>SlidingProcessingTimeWindows</code> function. I looked into these code snippets, but they seem to be quite complicated for me. I&#39;m not able to apply them to my project. I also tried to unit test window function with custom sink, but I get no results on the output. There&#39;s nothing written about testing window functions in the Flink documentation too. I cannot find the very basic example of testing Flink window functions anywhere."}],"answer_id":63414527,"body":"<p>In general these test harnesses expect to be testing an operator, rather than a user function. So in the case of a <code>ProcessWindowFunction</code>, you need to first create an suitable window operator to pass to the test harness.</p>\n<p>You can test a <code>ProcessWindowFunction</code> using a <code>OneInputStreamOperatorTestHarness</code> that you instantiate with a <code>WindowOperator</code> wrapped around your <code>ProcessWindowFunction</code>. I'm afraid this isn't particularly straightforward, but I can refer you to <a href=\"https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L437\" rel=\"nofollow noreferrer\">https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L437</a> as an example.</p>\n"},{"comments":[{"comment_id":132717176,"body":"Is there any way to do this in Scala? I found no way to wrap a <code>org.apache.flink.streaming.api.scala.function.ProcessWindowF&zwnj;&#8203;unction</code> with something like <code>InternalIterableProcessWindowFunction</code>, needed to construct a <code>WindowOperator</code>, as this requires a <code>org.apache.flink.streaming.api.functions.windowing.ProcessWi&zwnj;&#8203;ndowFunction</code>."}],"answer_id":71571080,"body":"<p>I found a solution, inspired to this method <a href=\"https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L1340\" rel=\"nofollow noreferrer\">https://github.com/apache/flink/blob/release-1.11/flink-streaming-java/src/test/java/org/apache/flink/streaming/runtime/operators/windowing/WindowOperatorTest.java#L1340</a></p>\n<p>In my case, I have to test a <code>TumblingProcessingTimeWindow</code> where the <code>process()</code> operator use a <code>ProcessWindowFunction</code> to count words keeping the previous window count (i.e not resetting the count each time the window is triggered)</p>\n<p><code>WordCountPojo</code> is a simple POJO with two field: <code>word</code> and <code>count</code> (you can use <code>Tuple2</code> if you please)</p>\n<p>This is the test I wrote:</p>\n<pre><code>@Test\nvoid testCounter() throws Exception {\n    //create a WindowOperator&lt;Key, Input, Accumulator, Output, Window&gt;\n    WindowOperator&lt;String, WordCountPojo, Iterable&lt;WordCountPojo&gt;, WordCountPojo, TimeWindow&gt; operator =\n            new WindowOperator&lt;&gt;(\n                    TumblingProcessingTimeWindows.of(Time.seconds(3)), //window assigner\n                    new TimeWindow.Serializer(), //window serializer\n                    WordCountPojo::getWord, //key selector\n                    BasicTypeInfo.STRING_TYPE_INFO.createSerializer(new ExecutionConfig()), //key serializer\n                    new ListStateDescriptor&lt;&gt;( //window state descriptor (in order to accumulate events inside the window)\n                            &quot;window-content&quot;,\n                            TypeInformation.of(WordCountPojo.class).createSerializer(new ExecutionConfig())), //input serializer\n                    new InternalIterableProcessWindowFunction&lt;&gt;(new Counter()), //my custom ProcessWindowFunction to invoke\n                    ProcessingTimeTrigger.create(), //window trigger\n                    0,\n                    null);\n\n    //Flink Test Harness\n    OneInputStreamOperatorTestHarness&lt;WordCountPojo, WordCountPojo&gt; harness =\n            new KeyedOneInputStreamOperatorTestHarness&lt;&gt;(operator, WordCountPojo::getWord, BasicTypeInfo.STRING_TYPE_INFO);\n\n    ConcurrentLinkedQueue&lt;Object&gt; expected = new ConcurrentLinkedQueue&lt;&gt;();\n    harness.open();\n    harness.setProcessingTime(10);\n\n    //Push data into window\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 1)));\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 1)));\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;or&quot;, 1)));\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;not&quot;, 1)));\n\n    harness.setProcessingTime(3500); //Set processing time in order to trigger the window\n\n    //Expected result\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 1), 2999));\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 1), 2999));\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;or&quot;, 1), 2999));\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;not&quot;, 1), 2999));\n\n    TestHarnessUtil.assertOutputEqualsSorted(&quot;Output not equal to expected&quot;, expected, harness.getOutput(),\n            Comparator.comparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getValue().getWord())\n                    .thenComparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getTimestamp()));\n\n    //push other WordCountPojos to test global counting\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 1)));\n    harness.processElement(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 1)));\n\n    harness.setProcessingTime(7000); //trigger the window again\n\n    //Expected result\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;to&quot;, 2), 5999));\n    expected.add(new StreamRecord&lt;&gt;(new WordCountPojo(&quot;be&quot;, 2), 5999));\n\n    TestHarnessUtil.assertOutputEqualsSorted(&quot;Output not equal to expected&quot;, expected, harness.getOutput(),\n            Comparator.comparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getValue().getWord())\n                    .thenComparing(streamRecord -&gt; ((StreamRecord&lt;WordCountPojo&gt;) streamRecord).getTimestamp()));\n\n    harness.close();\n}\n</code></pre>\n<p><strong>Attention points:</strong></p>\n<ul>\n<li>Type of the accumulator for the <code>WindowOperator</code> is\n<code>Iterable&lt;WordCountPojo&gt;</code> and NOT simply <code>WordCountPojo</code>. This\nbecause my <code>Counter</code>'s <code>process()</code> method receive an <code>Iterable</code> and\nnot a single <code>WordCountPojo</code> (remember that <code>Counter</code> extends\n<code>WindowProcessFunction</code>)</li>\n<li><code>WindowOperator</code>'s state descriptor parameter is a <code>ListStateDescriptor</code>,\nthis means that when window collects <code>WordCountPojo</code>s (<code>WindowOperatorTest</code> example use a <code>ReducingStateDescriptor</code> that reduce by sum, but I don't need to do these because I've the <code>Counter</code> function that is the function that I want to test)</li>\n<li><code>WindowsOperator</code>'s internal window function parameter is of type <code>InternaleIterableProcessWindowFunction</code>. This function wraps my <code>Counter</code> function and is invoked when the window is triggered. Because the window accumulate an <code>Iterable&lt;WordCountPojo&gt;</code> collected by using a<code>ListStateDescriptor</code>, when the <code>Counter</code> function is invoked this Iterable is passed as input parameter of the <code>process()</code> method.</li>\n</ul>\n"}],"last_activity_date":1684748719,"question_id":63401125,"body":"<p>How can I create a unit test for a Stateful Process Function. I have something like this:</p>\n<pre><code> private static SingleOutputStreamOperator&lt;Tuple&gt; methodName(KeyedStream&lt;Event, String&gt; stream) {\n        return stream.window(TumblingEventTimeWindows.of(Time.minutes(10)))\n                .process(new ProcessFunction());\n    }\n</code></pre>\n<p>and</p>\n<pre><code>ProcessFunction extends ProcessWindowFunction&lt;IN, OUT, KEY, W&gt;\n</code></pre>\n<p>All the Harness tests that I've found in Flink page are extending from KeyedProcessFunction and this is not my case.\nThanks.\nKind regards!</p>\n"},{"comments":[{"comment_id":134556573,"body":"Probably you are mixing jars from different versions of a framework, bu trying to outsmart the Spring Boot (starters) dependency management. Add the full error / stacktrace and add your build file to the question."},{"comment_id":134557380,"body":"Please include the gradle file and a snippet of the relevant class showing the failing line and all the imports to the question"}],"answers":[{"answer_id":76304803,"body":"<p>Its a gradle project. I have added below configuration related to spring boot upgrade.</p>\n<p>springBootVersion = '3.0.2'</p>\n<p>Other than that , its a simple spring boot microservice where we have one endpoint, which calls internally another Rest API etc.</p>\n<p>// As its a client project, I cannot share code base.\n// I have only changed spring boot version from 2.9.7 to springboot 3.0.2, and it started to fail with above mentioned error.</p>\n"}],"last_activity_date":1684748131,"question_id":76304136,"body":"<p>I am upgrading my springboot application from springboot 2.9.7 to springboot 3.0.2.\nWhile doing clean build, I am getting below error related to Rest API calls (using Rest template).</p>\n<p>Caused by: java.lang.NoSuchMethodError: 'org.springframework.http.HttpStatus org.springframework.http.ResponseEntity.getStatusCode()'</p>\n<p>As per my understanding it has something to do with upgarde happening to springframework to some 6.<em>.</em> version due to upgrade in springboot version to 3.0.2.</p>\n<p>Anyone has faced this issue? how this can be fixed.</p>\n"},{"comments":[{"comment_id":101533588,"body":"Welcome to StackOverflow. For questions like this, it&#39;s very useful to show what you have tried and hasn&#39;t worked. Could you share what you have tried so far? (share your code)"}],"answers":[{"comments":[{"comment_id":112469309,"body":"using the above code but it is not working public class TestLogin{ @BeforeTest \tpublic void Setup() { \t\tWebDriverManager.chromedriver().setup(); \t\tDesiredCapabilities chrome = DesiredCapabilities.chrome(); \t\t// Error \t\t * Multiple markers at this line - DesiredCapabilities cannot be resolved - \t\t * DesiredCapabilities cannot be resolved to a type \t\t */ \t\tchrome.setJavascriptEnabled(true); \t\tchrome.setCapability(ChromeOptions.CAPABILITY, option); \t\tWebDriver driver = new ChromeDriver(option); \t\t// Error:Type mismatch: cannot convert from ChromeDriver to WebDriver}"},{"comment_id":112469322,"body":"DesiredCapabilities chrome = DesiredCapabilities.chrome(); // Error * Multiple markers at this line - DesiredCapabilities cannot be resolved - * DesiredCapabilities cannot be resolved to a type */"},{"comment_id":112469334,"body":"WebDriver driver = new ChromeDriver(option); // Error:Type mismatch: cannot convert from ChromeDriver to WebDriver}"}],"answer_id":57534210,"body":"<pre><code>public void WebDriverManagerTest()\n{\n    //setup the chromedriver using WebDriverManager\n    WebDriverManager.chromedriver().setup();\n\n    //Create Chrome Options\n    ChromeOptions option = new ChromeOptions();\n    option.addArguments(\"--test-type\");\n    option.addArguments(\"--disable-popup-bloacking\");\n    DesiredCapabilities chrome = DesiredCapabilities.chrome();\n    chrome.setJavascriptEnabled(true);\n    option.setCapability(ChromeOptions.CAPABILITY, option);\n\n    //Create driver object for Chrome\n    WebDriver driver = new ChromeDriver(option);\n\n    //Navigate to a URL\n    driver.get(\"http://toolsqa.com\");\n\n    //quit the browser\n    driver.quit();\n}\n</code></pre>\n\n<p>Found the answer.. Check above!</p>\n"},{"answer_id":63246294,"body":"<p>This is the example code:</p>\n<pre><code>public class Test1{\n    \n    @Test\n    public void WebDriverManagerTest()\n    {\n        //setup the chromedriver using WebDriverManager\n        WebDriverManager.chromedriver().setup();\n        //Create driver object for Chrome\n        WebDriver driver = new ChromeDriver();\n        //Navigate to a URL\n        driver.get(&quot;http://toolsqa.com&quot;);\n        //quit the browser\n        driver.quit();\n    }\n}\n</code></pre>\n"},{"answer_id":70472482,"body":"<p>from <a href=\"https://pypi.org/project/webdriver-manager/\" rel=\"nofollow noreferrer\">https://pypi.org/project/webdriver-manager/</a>, pass it in after .install()</p>\n<pre><code>from selenium import webdriver\nfrom webdriver_manager.opera import OperaDriverManager\n\noptions = webdriver.ChromeOptions()\noptions.add_argument('allow-elevated-browser')\noptions.binary_location = &quot;C:\\\\Users\\\\USERNAME\\\\FOLDERLOCATION\\\\Opera\\\\VERSION\\\\opera.exe&quot;\n\ndriver = webdriver.Opera(executable_path=OperaDriverManager().install(), options=options)\n</code></pre>\n"},{"answer_id":72124218,"body":"<p>As of WebDriverManager 5.x you can instantiate the webDriver directly via the WebDriverManager builder with additional <code>capabilities</code> this way (in java) :</p>\n<pre><code>WebDriver driver;\n//...\nChromeOptions chromeOptions = new ChromeOptions();  \n\nchromeOptions.addArguments(&quot;--headless&quot;);  \n\n//...  \n\n//chromeOptions.addArguments(&lt;another-option&gt;);  \n\n//...  \n\ndriver = WebDriverManager.chromedriver().capabilities(chromeOptions).create();\n</code></pre>\n<p>The capabilities method take a <code>Capabilities</code> as param.<br />\nLucky we are, <code>ChromeOptions</code> implements the <code>Capabilities</code> interface.</p>\n"},{"answer_id":76304800,"body":"<p>In Pom.xml add Webdriver Manager Dependancy and While Creating a browser instance you can use the below code snipped for running in incognito and without being controlled by automation.</p>\n<pre><code>public void setUpChromeBrowser(){\n\n  WebDriverManager.chromedriver().setup();\n  ChromeOptions options = new ChromeOptions();\n  options.setCapability(CapabilityType.ACCEPT_INSECURE_CERTS, true);\n  options.setCapability(CapabilityType.ACCEPT_SSL_CERTS, true);                     \n  options.setCapability(CapabilityType.ForSeleniumServer.ENSURING_CLEAN_SESSION, true);\n                    options.setCapability(CapabilityType.UNEXPECTED_ALERT_BEHAVIOUR, UnexpectedAlertBehaviour.ACCEPT);\n                    options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n                    options.setExperimentalOption(&quot;excludeSwitches&quot;, Collections.singletonList(&quot;enable-automation&quot;));\n                    options.addArguments(&quot;--no-sandbox&quot;);\n                    options.addArguments(&quot;--ignore-certificate-errors&quot;);\n                    options.addArguments(&quot;--start-maximised&quot;);\n                    options.addArguments(&quot;--incognito&quot;);\n                    options.setExperimentalOption(&quot;w3c&quot;, false);\n                    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n                    prefs.put(&quot;credentials_enable_service&quot;, false);\n                    prefs.put(&quot;profile.password_manager_enabled&quot;, false);\n                    options.setExperimentalOption(&quot;prefs&quot;, prefs);\n                    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n                    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n                    driver = new ChromeDriver(options);\n</code></pre>\n<p>}</p>\n"}],"last_activity_date":1684748118,"question_id":57533827,"body":"<p>I'm <strong>using Web driver manager</strong> to setup chrome driver. When setting up the driver I want to add some <strong>chrome options?</strong> How can I do it when using web driver manager?</p>\n\n<p>I checked the WebDriverManager API but couldn't find any clue..</p>\n"},{"comments":[{"comment_id":96855590,"body":"have you found anything good?"}],"answers":[{"answer_id":76304772,"body":"<p>You can use\n<a href=\"https://github.com/noophq/subtitle\" rel=\"nofollow noreferrer\">Subtitle library</a>,  supported formats: STL EBU, TTML SMI, VTT, SRT</p>\n"}],"last_activity_date":1684747867,"question_id":47400909,"body":"<p>Are there any open source VTT parser/validators libraries available for java?  </p>\n\n<p>We found several for Node and Python</p>\n\n<ul>\n<li><a href=\"https://www.npmjs.com/package/webvtt\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/webvtt</a></li>\n<li><a href=\"https://github.com/kickstarter/caption_crunch\" rel=\"nofollow noreferrer\">https://github.com/kickstarter/caption_crunch</a></li>\n<li><a href=\"https://www.npmjs.com/package/webvtt\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/webvtt</a></li>\n</ul>\n"},{"comments":[{"comment_id":79313836,"body":"Instead of trying to reproduce the function in Java, why don&#39;t you just call it from Java using a service let&#39;s say(and let it execute on the DB side)."}],"answers":[{"answer_id":46176030,"body":"<p>If you're fine with using <a href=\"https://github.com/google/guava/wiki/HashingExplained\" rel=\"nofollow noreferrer\">Guava</a> on the Java side, the following code should produce equal results with Oracle's <code>STANDARD_HASH</code>:</p>\n\n<pre><code>import com.google.common.base.Charsets;\nimport com.google.common.hash.Hashing;\n...\n\nString input = \"1234\";        \nString hash = Hashing.sha256()\n       .hashString(input, Charsets.UTF_8)\n       .toString()\n       // toString() returns the HEX value as lower-case, whereas\n       // Oracle's STANDARD_HASH returns an upper-cased string\n       .toUpperCase(); \n\nSystem.out.println(hash);\n</code></pre>\n\n<p>This prints out <code>03AC674216F3E15C761EE1A5E255F067953623C8B388B4459E13F978D7C846F4</code> which is the same you get in Oracle with</p>\n\n<pre><code>select STANDARD_HASH('1234','SHA256') from dual;\n</code></pre>\n"},{"comments":[{"comment_id":79317596,"body":"Thank you very much for your support"}],"answer_id":46176591,"body":"<p>You can do this with standard libraries. Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/Signature.html\" rel=\"nofollow noreferrer\">java.security.MessageDigest</a> with algorithm <code>SHA-256</code>:</p>\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.security.MessageDigest;\nimport javax.xml.bind.DatatypeConverter;\n...\n\nString input = &quot;1234&quot;;        \nbyte[] hashBytes = MessageDigest.getInstance(&quot;SHA-256&quot;)\n        .digest(input.getBytes(StandardCharsets.UTF_8));\nString hash = DatatypeConverter.printHexBinary(hashBytes);\nSystem.out.println(hash);\n</code></pre>\n<p>This prints <code>03AC674216F3E15C761EE1A5E255F067953623C8B388B4459E13F978D7C846F4</code>, the same string that <code>STANDARD_HASH</code> would return.</p>\n<p>As discussed in <a href=\"https://stackoverflow.com/questions/9655181/how-to-convert-a-byte-array-to-a-hex-string-in-java\">How to convert a byte array to a hex string in Java?</a>, there are faster ways to convert a <code>byte[]</code> to a hex string, but <code>DatatypeConverter.printHexBinary()</code> has the benefit of being part of the standard library, and should be fine for most use cases.</p>\n<p>Java 17 added <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"nofollow noreferrer\">HexFormat</a> to the standard library, which lets you replace</p>\n<pre><code>String hash = DatatypeConverter.printHexBinary(hashBytes);\n</code></pre>\n<p>with</p>\n<pre><code>String hash = HexFormat.of().withUpperCase().formatHex(hashBytes);\n</code></pre>\n"}],"last_activity_date":1684747857,"question_id":46175376,"body":"<p>I'm using the STANDARD_HASH('input','SHA256') function within Oracle to populate records with their relative hash values.</p>\n\n<p>This can be reproduced by connecting to Oracle doing:</p>\n\n<pre><code>select STANDARD_HASH('1234','SHA256') \nfrom dual\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>Table X    \nColumn 1, Column 1-hashed    \n1234, sha512hashresult    \n1234, sha512hashresult    \n1234, sha512hashresult    \n1234, sha512hashresult    \n</code></pre>\n\n<p><strong>Now whats the question;</strong> What do I have to do in JAVA in order to reproduce exactly the hash values which are produced by STANDARD_HASH in Oracle? Does anyone have experience with this? </p>\n\n<p>Note; For some reason there is no seed on the recommended Oracle hash function. Does anyone know the Default seed or how to figure this out?</p>\n\n<p><strong>Background:</strong> What do i want to do? Populate the table within Oracle with Oracle-Default-Tools and use a Java program to receive the input, hash it and select the correct record in the table.</p>\n\n<p><strong>What i don't want</strong>; People who tell me how I can achieve it in a different way, I need it exactly this way otherwise save your time</p>\n"},{"comments":[{"comment_id":133531537,"body":"Does annotating with @Lazy help here ?"},{"comment_id":133545110,"body":"Why do you want your caching (infrastructure) components and beans to be request scoped? Are you expecting the cache to be cleared (i.e. re-created) after each request? What is your UC? Setting the <code>CacheManageter</code> bean to request scope will not accomplish that, not unless the <code>CacheManager</code> provider implementation also implemented Spring&#39;s lifecycle interfaces. This would be a very expensive operation (recreating caches on each request) depending on the caching provider in use and not even practical in a distributed context using a client/server caching topology as is often the case."}],"answers":[{"answer_id":75691689,"body":"<p>add like this in @Configuration class:</p>\n<pre><code> @Bean(name = DispatcherServletAutoConfiguration. DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)\n    public DispatcherServlet dispatcherServlet (WebMvProperties webMvcProperties) {\n        DispatcherServlet dispatcherServlet = new DispatcherServletO:\n        dispatcherServlet.setDispatchOptionsRequest(webMvcProperties.isDispatchOptionsRequest());\n        dispatcherServlet.setDispatchTraceRequest(webMvcProperties.isDispatchTraceRequest());\n        dispatcherServlet.setThrowExceptionIfNoHandlerFound(webMvProperties.isThrowExceptionIfNoHandlerFound()); \n        dispatcherServlet.setPublishEvents(webMvcProperties.isPublishRequestHandledEvents());\n        dispatcherServlet.setEnableLoggingRequestDetails(webMvcProperties.isLogRequestDetails());\n        dispatcherServlet.setThreadContextInheritable(true);\n        log. debug(&quot;init project dispatcher servlet&quot;)\n        return dispatcherServlet;\n    }\n\n\n@Bean\n    @ConditionalOnMissingBean({RequestContextListener.class, RequestContextFilter.class})\n    @ConditionalOnMissingFilterBean(RequestContextFilter.class)\n    public RequestContextFilter requestContextFilter() {\n        OrderedRequestContextFilter orderedRequestContextFilter = new OrderedRequestContextFilter();\n        orderedRequestContextFilter.setThreadContextInheritable(true);\n        log.debug(&quot;init project request context filter!&quot;);\n        return orderedRequestContextFilter;\n\n    }\n</code></pre>\n"},{"answer_id":76304729,"body":"<h1>TL;DR;</h1>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(autowireCandidate = false)\n@RequestScope\npublic CacheManager requestCacheManager() {\n  return new ConcurrentMapCacheManager(&quot;myValue&quot;);\n}\n</code></pre>\n<h1>Explanations</h1>\n<p>You are using spring boot and actuator, which comes with <a href=\"https://github.com/spring-projects/spring-boot/blob/0ca3ab7249437fcacdc7dbd3021896bc4c79c81b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsAutoConfiguration.java#L37\" rel=\"nofollow noreferrer\">CacheMetricsAutoConfiguration</a>.\nWhen autoconfiguration kicks in, <a href=\"https://github.com/spring-projects/spring-boot/blob/0ca3ab7249437fcacdc7dbd3021896bc4c79c81b/spring-boot-project/spring-boot-actuator-autoconfigure/src/main/java/org/springframework/boot/actuate/autoconfigure/metrics/cache/CacheMetricsRegistrarConfiguration.java#LL53C4-L53C43\" rel=\"nofollow noreferrer\">CacheMetricsRegistrarConfiguration</a> will be instanciated with</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, CacheManager&gt; cacheManagers;\n</code></pre>\n<p>Spring will populate this map with all candidates of &quot;CacheManager&quot; available as dependency injection. Since our CacheManager is supposed to be request scope, it will fail on instantiation because CacheMetricsRegistrarConfiguration does not have a request context, which it can't never had.</p>\n<p>That is also the reason why @Lazy is not helping here, the candidate are instantiated eagerly anyway by this autoconfigure.</p>\n"}],"last_activity_date":1684747562,"question_id":75691108,"body":"<p>I am trying to instantiate a simple cache that is request-scoped.</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CacheConfiguration {\n\n  @Bean\n  @Scope(value = WebApplicationContext.SCOPE_REQUEST, proxyMode = ScopedProxyMode.TARGET_CLASS)\n  public CacheManager requestCacheManager() {\n    return new ConcurrentMapCacheManager(&quot;myValue&quot;);\n  }\n}\n\n...\n\npublic interface MyRepository {\n\n  @Cacheable(cacheNames = &quot;myValue&quot;, cacheManager = &quot;requestCacheManager&quot;)\n  Integer getValue();\n\n}\n\n</code></pre>\n<p>I expect that the application starts up correctly, however, it fails directly at start up, without any requests happening. I am not calling <code>MyRepository.getValue()</code> any outside of the scope of a controller.</p>\n<pre><code>2023-03-09 15:55:02.596 ERROR 13171 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration': Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration]: Constructor threw exception; nested exception is org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.requestCacheManager': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n    at tld.company.package.MyApplication.main(MyApplication.java:12)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration]: Constructor threw exception; nested exception is org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.requestCacheManager': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311)\n    ... 22 common frames omitted\nCaused by: org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.requestCacheManager': Scope 'request' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:195)\n    at jdk.proxy3/jdk.proxy3.$Proxy123.getCacheNames(Unknown Source)\n    at org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration.bindCacheManagerToRegistry(CacheMetricsRegistrarConfiguration.java:70)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration.bindCachesToRegistry(CacheMetricsRegistrarConfiguration.java:66)\n    at org.springframework.boot.actuate.autoconfigure.metrics.cache.CacheMetricsRegistrarConfiguration.&lt;init&gt;(CacheMetricsRegistrarConfiguration.java:57)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211)\n    ... 24 common frames omitted\nCaused by: java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\n    at org.springframework.web.context.request.RequestContextHolder.currentRequestAttributes(RequestContextHolder.java:131)\n    at org.springframework.web.context.request.AbstractRequestAttributesScope.get(AbstractRequestAttributesScope.java:42)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\n    ... 36 common frames omitted\n\n</code></pre>\n"},{"comments":[{"comment_id":81965309,"body":"a) What have you tried so far? b) Are you trying to re-invent the wheel?"},{"comment_id":81965333,"body":"Why do you insist on lambdas and streams?"},{"comment_id":81965429,"body":"Hello and welcome! It might be worth having a look at <a href=\"https://stackoverflow.com/help/how-to-ask\">this article</a> which has some tips on how to ask a great question that&#39;ll get you the answer you&#39;re looking for."},{"comment_id":81971230,"body":"Why to invent <b>Wheel</b> again? Cannot use library function??"}],"answers":[{"comments":[{"comment_id":81965590,"body":"kind of a testament to @satya&#39;s point... do we really need to use streams or lamdas in this case when <code>new StringBuilder(word).reverse()</code> provides the desired effect? IMHO, this is over engineered"}],"answer_id":47504825,"body":"<p>Try this for reverse a string using lambda and streams</p>\n\n<pre><code>import java.util.stream.Stream;\nimport java.util.stream.Collectors;\n\n    public class Test  {\n\n\n        public static void main(String[] args) {\n\n            System.out.println(reverse(\"Anirudh\"));;\n        }\n        public static String reverse(String string) {\n            return Stream.of(string)\n                .map(word-&gt;new StringBuilder(word).reverse())\n                .collect(Collectors.joining(\" \"));\n        }\n    }\n</code></pre>\n"},{"answer_id":47505198,"body":"<p>Another approach to reversing your String. You can use an IntStream to pull the correct character out of a <code>char</code> array.</p>\n\n<pre><code>public static void main(String[] args) {\n    char[] charArray = \"Aniruddh\".toCharArray();\n    IntStream.range(0, charArray.length)\n        .mapToObj(i -&gt; charArray[(charArray.length - 1) - i])\n        .forEach(System.out::print);\n}\n</code></pre>\n"},{"answer_id":47510744,"body":"<p>If you <em>really</em> want to do it for learning purposes, why not reverse the char array?</p>\n\n<pre><code>public static String reverse(String test) {\n    return IntStream.range(0, test.length())\n            .map(i -&gt; test.charAt(test.length() - i - 1))\n            .collect(StringBuilder::new, (sb, c) -&gt; sb.append((char) c), StringBuilder::append)\n            .toString();\n}\n</code></pre>\n"},{"answer_id":47510887,"body":"<p>The easiest way to achieve what you're asking using streams is probably this:</p>\n\n<pre><code>String result = Stream.of(\"Aniruddh\").map(__ -&gt; \"hddurinA\").findFirst().get();\n</code></pre>\n"},{"comments":[{"comment_id":81984003,"body":"ingenious way via <code>reduce</code> :)"},{"comment_id":134555641,"body":"I believe you mean &quot;idiomatic&quot;, as opposed to &quot;canonical&quot;.  I don&#39;t believe abstraction can be deemed canonical."},{"comment_id":134556783,"body":"@Reilas yes, today, I’d rather use the word “idiomatic” here."},{"comment_id":134566083,"body":"@Holger, lol! Despite that, great answer, +1."}],"answer_id":47513712,"body":"<p>Given a string like</p>\n<pre><code>String str = &quot;Aniruddh&quot;;\n</code></pre>\n<p>the idiomatic solution is</p>\n<pre><code>String reversed = new StringBuilder(str).reverse().toString();\n</code></pre>\n<p>If, perhaps for educational purposes, you want to solve this by streaming over the string’s characters, you can do it like</p>\n<pre><code>String reversed = str.chars()\n    .mapToObj(c -&gt; (char)c)\n    .reduce(&quot;&quot;, (s,c) -&gt; c+s, (s1,s2) -&gt; s2+s1);\n</code></pre>\n<p>This is not only much more complicated, it also has performance drawbacks.</p>\n<p>The following solution eliminates boxing related overhead</p>\n<pre><code>String reversed = str.chars()\n    .collect(StringBuilder::new,\n             (b, c) -&gt; b.insert(0, (char)c), (b1, b2) -&gt; b1.insert(0, b2))\n    .toString();\n</code></pre>\n<p>but is still less efficient because inserting into the beginning of an array based buffer implies copying all previously collected data.</p>\n<p>The bottom line is, for real applications, stay with the idiomatic solution shown at the beginning.</p>\n"},{"comments":[{"comment_id":103078753,"body":"Even if this is a valid answer, you&#39;d better comment on what is going on and explain a bit of your code."},{"comment_id":103083367,"body":"Please explain your answer."}],"answer_id":58361965,"body":"<pre><code>Function&lt;String, String&gt; reverse = s -&gt; new StringBuilder(s).reverse().toString();\n</code></pre>\n"},{"comments":[{"comment_id":127065258,"body":"Sorting is redundant, you can generate a descending sequence of indices instead <code>IntStream.iterate(s.length() - 1, i -&gt; i &gt;= 0, i -&gt; --i)</code>."}],"answer_id":59166517,"body":"<p>Here is another way, doesn't seem super efficient but will explain why:</p>\n\n<pre><code>String s = \"blast\";\nIntStream.range(0, s.length()).           // create index [0 .. s.length - 1] \n   boxed().                               // the next step requires them boxed\n   sorted(Collections.reverseOrder()).    // indices in reverse order\n   map(i -&gt; String.valueOf(s.charAt(i))). // grab each index's character \n   collect(Collectors.joining());         // join each single-character String into the final String\n</code></pre>\n\n<p>It would be better if there was a way to append all the Characters without converting each to <code>String</code> and then joining them. That's why I said it doesn't seem super efficient.</p>\n"},{"answer_id":59622113,"body":"<p>Another alternative way would be to split the string into an array of string and use reduce() on it.</p>\n\n<pre><code>Stream.of(\"Aniruddh\".split(\"\")).reduce(\"\", (reversed, character) -&gt; character + reversed);\n</code></pre>\n"},{"answer_id":60269079,"body":"<p>Given a String of length S, reverse the whole string without reversing the individual words in it. Words are separated by dots.</p>\n\n<pre><code>String str=\"abcd.efg.qwerty\";\n\nString reversed = Arrays.asList(str.split(\"\\\\.\")).stream().map(m -&gt; new \nStringBuilder(m).reverse().toString()).collect(Collectors.joining(\".\"));\n\nSystem.out.println(reversed);\n</code></pre>\n"},{"answer_id":69802476,"body":"<pre><code>String str = &quot;Noorus Khan&quot;;\n       int len = str.length();\n        IntStream.range(0, len)\n                .map(i -&gt; len - 1 - i)\n                .mapToObj(j-&gt;str.charAt(j))\n                .forEach(System.out::print);\n</code></pre>\n<p>output :: nahK surooN</p>\n"},{"answer_id":70918788,"body":"<p>Following is another approach to reverse the input String <code>str</code> using Java 8 streams API.</p>\n<pre><code>String abc = Arrays.asList(str).stream()\n    .map(s -&gt; new StringBuilder(s).reverse().toString())\n    .collect(Collectors.toList()).get(0);\n</code></pre>\n"},{"answer_id":71427398,"body":"<p>You can use the below technique to reverse a string using stream.</p>\n<pre><code>String str = &quot;Aniruddh&quot;;\n\nStream.iterate(str.length()-1, n-&gt; n &gt;= 0, n-&gt; n-1)\n        .map(input::charAt)\n        .forEach(System.out::print);\n</code></pre>\n"},{"answer_id":71907225,"body":"<p>A <strong>custom collector</strong> can be handy if you want to achieve it with <strong>Stream API</strong> (<em>I'm treating this task exclusively as an exercise</em>).</p>\n<p>Since none of the contributors of this question mentioned this possibility, here's a brief description of how to do that.</p>\n<h3>Creating a Custom Collector</h3>\n<p>You can create a <em>custom collector</em> either inline by using one of the versions of the static method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collector.html#of(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BinaryOperator,java.util.function.Function,java.util.stream.Collector.Characteristics...)\" rel=\"nofollow noreferrer\"><code>Collector.of()</code></a> or by creating a <code>class</code> that implements the <code>Collector</code> interface.</p>\n<p><a href=\"https://i.stack.imgur.com/e77Xjl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e77Xjl.jpg\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><strong>Supplier</strong> <code>Supplier&lt;A&gt;</code> is meant to provide a <em>mutable container</em> which store elements of the stream. It could be a <code>Collection</code>, <code>StringBuilder</code> or any other mutable object.</li>\n<li><strong>Accumulator</strong> BiConsumer&lt;A,T&gt; defines how to add elements into the <em>container</em> provided by the <em>supplier</em>.</li>\n<li><strong>Combiner</strong> <code>BinaryOperator&lt;A&gt; combiner()</code> establishes a rule on how to merge two <em>containers</em> in case of parallel execution.</li>\n<li><strong>Finisher</strong> <code>Function&lt;A,R&gt;</code> is meant to produce the final result by transforming the mutable container.</li>\n<li><strong>Characteristics</strong> allows to provide additional information, for instance <code>Collector.Characteristics.UNORDERED</code> signifies that the collector does not guarantee to preserve initial order of elements when the source of the stream is ordered, which can provide better performance in parallel.</li>\n</ul>\n<p>The minimum set of parameters boils down to <strong>supplier</strong>, <strong>accumulator</strong> and <strong>combiner</strong> which resembles the arguments of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>collect()</code></a> operation with one difference - combiner argument expected by <code>of()</code> (<em>as well as the return type of the</em> <code>combiner()</code> <em>method</em>) is <code>BinaryOperator&lt;A&gt;</code>.</p>\n<h3>Implementations</h3>\n<p>The idea behind the first collector is to use <code>ArrayDeque</code> as a <em>mutable container</em> and add each element from the stream of <em>code points</em> to the front of the <em>deque</em>.</p>\n<p>Portions of tasks created in parallel will result into several <em>deques</em> has to be combined in reversed order. Therefore, in the <em>combiner</em> the <em>left deque</em> (<em>containing values from closer to the start of the source string</em>) gets appended to the <em>right deque</em> (<em>containing values from closer to the end of the source string</em>), and the <em>right deque</em> is being returned as a result.</p>\n<p>Finisher produces an array <code>int[]</code> of code point and returns a string based on it.</p>\n<p><code>Collector&lt;Integer, Deque&lt;Integer&gt;, String&gt;</code></p>\n<pre><code>String source = &quot;abcdefgh&quot;;\n\nString reversed = source.codePoints()\n    .boxed()\n    .collect(Collector.of(\n        ArrayDeque::new,\n        Deque::addFirst,\n        (Deque&lt;Integer&gt; left, Deque&lt;Integer&gt; right) -&gt; { right.addAll(left); return right; },\n        (Deque&lt;Integer&gt; deque) -&gt; new String(\n            deque.stream().mapToInt(Integer::intValue).toArray(),\n            0,\n            deque.size())\n    ));\n</code></pre>\n<p>The second collector utilizes <code>char[]</code> as its mutable container which is being populated according to the indices of the source <code>IntStream</code>.</p>\n<p>Combiner merges two arrays by peek the largest value for each position of the array.</p>\n<p>Finisher utilizes constructor <code>new String(char[])</code> to generate the resulting string.</p>\n<p><code>Collector&lt;Integer, char[], String&gt;</code></p>\n<pre><code>String reversed = IntStream.range(0, source.length())\n    .boxed()\n    .collect(Collector.of(\n        () -&gt; new char[source.length()],\n        (char[] arr, Integer i) -&gt; arr[(source.length() - 1) - i] = source.charAt(i),\n        (char[] left, char[] right) -&gt; {\n            for (int i = 0; i &lt; left.length; i++) left[i] = (char) Math.max(left[i], right[i]); return left;\n        },\n        String::new\n    ));\n</code></pre>\n<p><strong>Output</strong> (<em>for string</em> <code>&quot;abcdefgh&quot;</code>)</p>\n<pre><code>hgfedcba\n</code></pre>\n"},{"comments":[{"comment_id":133280288,"body":"Code-only answers are considered low quality: make sure to provide an explanation what your code does and how it solves the problem. It will help the asker and future readers both if you can add more information in your post. See also Explaining entirely code-based answers: <a href=\"https://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\" title=\"explaining entirely code based answers\">meta.stackexchange.com/questions/114762/&hellip;</a>"}],"answer_id":75502112,"body":"<pre><code>  public static String reverseStreams(String ex)\n  {\n    char[] charray=ex.toCharArray();\n    StringWriter str=new StringWriter();\n      IntStream.range(0, charray.length)\n        .mapToObj(i-&gt;(charray[(charray.length-1)-i]))\n     //   .collect(Collectors.toList())\n        \n        .forEach(s-&gt;str.append(s));\n        return str.toString();\n        \n    \n    \n\n   }\n</code></pre>\n"},{"answer_id":76053303,"body":"<pre><code>public static void main(String[] args) {\n    String str = &quot;I am Vishwa Ratna&quot;;\n    String[] split = str.split(&quot;&quot;);\n    int len = str.length();\n    String collect = IntStream.range(0, len).mapToObj(s -&gt; {\n        int k = len - 1;\n        String sq = &quot;&quot;;\n        sq = split[k - s];\n        --k;\n        return sq;\n\n    }).collect(Collectors.joining(&quot;&quot;));\n    System.out.println(collect);\n}\n</code></pre>\n<p>First you convert your <code>String</code> to <code>String array</code> then you iterate through it in reverse order using <code>Intstream</code> and then you <code>collect</code> your stream to string by <code>joining</code>.</p>\n"},{"answer_id":76254379,"body":"<p>One more approach could be writing a custom comparator (this could help reverse any element in collection/array) which would always return &quot;-1&quot;.&quot;-1&quot; being whenever 2 objects are compared the second object will be prior to first in placing order.</p>\n<pre><code>    Comparator&lt;String&gt; comparator = (s1,s2) -&gt; -1;\n    \n    String reversed = Arrays.stream(input.split(&quot;&quot;))\n                           .sorted(comparator)\n                           .collect(Collectors.joining());\n            \n</code></pre>\n"}],"last_activity_date":1684747501,"question_id":47504758,"body":"<p>I have one string say <code>\"Aniruddh\"</code> and I want to reverse it using lambdas and streams in Java 8. How can I do it?</p>\n"},{"comments":[{"comment_id":134551765,"body":"You need to accept the license text before you can use it. Have you tried to start Android Studio or the Android SDK manager? Your title is a bit misleading as it is not related to BlueStacks emulator as building the app already fails, so the used emulator is irrelevant."}],"answers":[{"answer_id":76304684,"body":"<p>You need to install and accept all license. And Android SDK components, including Android SDK Platform 33, Android Emulator, SDK Patch Applier v4, and Android SDK Build-Tools 30.0.3.</p>\n<pre><code>flutter doctor --android-licenses\n</code></pre>\n<p>Make sure that the environment is correct and then restart the vscode and run the program again.</p>\n<p><em>Note: Please use the latest version of <a href=\"https://marketplace.visualstudio.com/items?itemName=Dart-Code.flutter\" rel=\"nofollow noreferrer\"><strong>Flutter</strong></a> and other extensions and ensure that JDK, JAVA_HOME and other environments are correct.</em></p>\n"}],"last_activity_date":1684747184,"question_id":76301419,"body":"<p>I'm trying to program Flutter using VS Code and use the BlueStacks Android emulator, but I'm encountering constant errors. I was told to install Java 8, which I did, but then I got an error in the terminal asking me to install Java 11, so I did that too. However, now I'm getting the following error. I would like to know how to resolve this error and be able to debug my Flutter app on the Android emulator using VS Code.</p>\n<p>ERROR:</p>\n<p>Checking the license for package Android SDK Platform 33 in C:\\Program Files\\licenses\nWarning: License for package Android SDK Platform 33 not accepted.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Failed to install the following Android SDK packages as some licences have not been accepted.\nemulator Android Emulator\npatcher;v4 SDK Patch Applier v4\nbuild-tools;30.0.3 Android SDK Build-Tools 30.0.3\nplatforms;android-33 Android SDK Platform 33\ntools Android SDK Tools\nTo build this project, accept the SDK license agreements and install the missing components using the Android Studio SDK Manager.\nAll licenses can be accepted using the sdkmanager command line tool:\nsdkmanager --licenses\nOr, to transfer the license agreements from one workstation to another, see <a href=\"https://developer.android.com/studio/intro/update.html#download-with-gradle\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/intro/update.html#download-with-gradle</a></p>\n</blockquote>\n<p>Using Android SDK: C:\\Program Files</p>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 27s\nException: Gradle task assembleDebug failed with exit code 1\nExited (sigterm)</p>\n"},{"comments":[{"comment_id":134556718,"body":"Welcome to Stack Overflow.  Why are you spamming language tags?  If you just need java, the just state java."}],"last_activity_date":1684747009,"question_id":76304660,"body":"<p>Looking for the Java source projects for RELINK and AEEEM software defect prediction datasets.</p>\n<p>From Where can I download the open source projects for Relink and AEEEM datasets? (Not CSV files, need the java source projects).</p>\n<p>TRy to find the source projects of RELINK and AEEEM defect prediction datasets.</p>\n<p>TRy to find the source projects of RELINK and AEEEM defect prediction datasets.</p>\n"},{"comments":[{"comment_id":134556719,"body":"And the failures you get are... I also assume you have read the upgrade guides for 2.5 -&gt; 2.6 -&gt; 2.7 instead of just blindly upgrade the version from 2.5.31 directly to 2.7.10 (why not 2.7.11) and pray for the best?"},{"comment_id":134556828,"body":"Without knowing anything about your project and no details on the errors, it is impossible to tell you why your unit tests are failing."},{"comment_id":134560879,"body":"please add what kind of error you have"}],"last_activity_date":1684746932,"question_id":76304647,"body":"<p>getting Failed to load application context when i run unit test cases by upgrading spring boot and spring boot starter test to 2.7.10 from 2.5.13 in build.gradle file.\nand used testimplementation 'org.junit.platform:junit-platform-engine:+'</p>\n<p>We have used SpringJUnit4ClassRunner for unit test cases and junit 4.13.\ni am not sure why unit tests are failed when i upgrade spring boot version.\nanyone please help me to resolve this</p>\n<p>i have tried with junit5 vintage artifacts to run unit test cases but no use</p>\n"},{"answers":[{"answer_id":76304487,"body":"<p>Kindly check my recent Spring Boot 3 project:\n<a href=\"https://github.com/thevarga04/ucimsa/blob/main/src/main/java/ucimsa/config/WebSecurityConfig.java\" rel=\"nofollow noreferrer\">https://github.com/thevarga04/ucimsa/blob/main/src/main/java/ucimsa/config/WebSecurityConfig.java</a></p>\n<p>And in this post I elaborated on a few topics:\n<a href=\"https://stackoverflow.com/questions/75618616/auto-login-after-registration-spring-boot-3-spring-security-6/76017750#76017750\">Auto login after registration Spring Boot 3/Spring security 6</a></p>\n"}],"last_activity_date":1684746242,"question_id":76300703,"body":"<p>As you can see in this photo im trying to add an authenticationManager in my .addFilter(new JwtUsernameAndPasswordAuthenticationFilter()) but springboot doesnt let because im using the securityFilterChain method.</p>\n<p>#############################################################################################</p>\n<pre><code>  @Configuration\n  @EnableWebSecurity\n   @EnableMethodSecurity\n\n   public class ApplicationSecurityConfig {\n\n     private final PasswordEncoder passwordEncoder;\n    private final ApplicationUserService applicationUserService;\n    @Autowired\n    public ApplicationSecurityConfig(PasswordEncoder passwordEncoder,\n                                     ApplicationUserService applicationUserService) {\n        this.passwordEncoder=passwordEncoder;\n        this.applicationUserService = applicationUserService;\n    }\n\n    @Bean\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http\n\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilter(new JwtUsernameAndPasswordAuthenticationFilter(authenticationManager()))\n                .authorizeRequests()\n                .requestMatchers(&quot;/&quot;, &quot;/index&quot;, &quot;/css/*&quot;, &quot;/js/*&quot;).permitAll()\n                .requestMatchers(&quot;/api/**&quot;).hasRole(ApplicationUserRole.STUDENT.name())\n                .anyRequest()\n                .authenticated()\n                .and()\n                .build();\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(passwordEncoder);\n        provider.setUserDetailsService(applicationUserService);\n        return provider;\n    }\n}\n</code></pre>\n<p>############################################################################################</p>\n<p>my class JwtUsernameAndPasswordAuthenticationFilter is this ,</p>\n<pre><code>public class JwtUsernameAndPasswordAuthenticationFilter extends UsernamePasswordAuthenticationFilter {\n\n    private final AuthenticationManager authenticationManager;\n\n    public JwtUsernameAndPasswordAuthenticationFilter(AuthenticationManager authenticationManager) {\n        this.authenticationManager = authenticationManager;\n    }\n\n    @Override\n    public Authentication attemptAuthentication(HttpServletRequest request,\n                                                HttpServletResponse response) throws AuthenticationException {\n\n        try {\n            UsernameAndPasswordAuthenticationRequest authenticationRequest = new ObjectMapper()\n                    .readValue(request.getInputStream(), UsernameAndPasswordAuthenticationRequest.class);\n\n            Authentication authentication = new UsernamePasswordAuthenticationToken(\n                authenticationRequest.getUsername(),\n                authenticationRequest.getPassword()\n            );\n            Authentication authenticate = authenticationManager.authenticate(authentication);\n            return authenticate;\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected void successfulAuthentication(HttpServletRequest request,\n                                            HttpServletResponse response,\n                                            FilterChain chain,\n                                            Authentication authResult) throws IOException, ServletException {\n\n        String key = &quot;securesecuresecuresecuresecuresecuresecuresecuresecuresecure&quot;;\n        String token = Jwts.builder()\n                .setSubject(authResult.getName())\n                .claim(&quot;authorities&quot;,authResult.getAuthorities())\n                .setIssuedAt(new Date())\n                .setExpiration(java.sql.Date.valueOf(LocalDate.now().plusWeeks(2)))\n                .signWith(Keys.hmacShaKeyFor(key.getBytes()))\n                .compact();\n\n        response.addHeader(&quot;Authorization&quot;,&quot;bearer &quot; + token);\n    }\n\n}\n</code></pre>\n<p>Can anyone help me?? What should i do in order make it work in the new version of springboot??</p>\n<p>Thanks anyway.</p>\n<p>Im trying to pass the obstacle that was created due to different version of springboot and im believe that someone can help me to find a solution.</p>\n"},{"last_activity_date":1684745902,"question_id":76264535,"body":"<p><a href=\"https://i.stack.imgur.com/BryIR.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>I already download CTG 9.3 on RHEL 9.2 I'm now trying to configure it with the configuration tool</p>\n<p>as sonn as i write the command ctgcfg to run the configuration toll I get this error:\n<code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com.ibm.ctg.server.JGate at com.ibm.ctg.util.CTGLaunch.class$(Unknown Source) at com.ibm.ctg.util.CTGLaunch.loadClass(Unknown Source) at com.ibm.ctg.util.CTGLaunch.main(Unknown Source)</code></p>\n<p>I don't know how to fix it any advice?\nps: I already downloaded the JVM and still have the same problem</p>\n"},{"comments":[{"comment_id":77177551,"body":"As I posted in my answer, just don&#39;t moveTo() after each lineTo(), that&#39;s all there is."},{"comment_id":77177593,"body":"I know it&#39;s an old question which already has an (incorrect) accepted answer, and you also posted your final solution which works... but you&#39;re not stating why it works, and I hope my comment can save someone the time I&#39;ve just spent on this :)"}],"answers":[{"comments":[{"comment_id":77177535,"body":"Unfortunately this does not help"},{"comment_id":81478026,"body":"@Nicolas What to use instead of ARGB, if we have to customize color with RGB value instead of using pre-defined values?"}],"answer_id":3501210,"body":"<p>You probably need to do something like :</p>\n\n<pre><code>Paint red = new Paint();\n\nred.setColor(android.graphics.Color.RED);\nred.setStyle(Paint.Style.FILL);\n</code></pre>\n\n<p>And use this color for your path, instead of your ARGB. Make sure the last point of your path ends on the first one, it makes sense also.</p>\n\n<p>Tell me if it works please !</p>\n"},{"comments":[{"comment_id":17011693,"body":"I&#39;m pretty sure you don&#39;t need the last <code>lineTo()</code>. <code>close()</code> does that automatically."},{"comment_id":20092787,"body":"@Timmmm I&#39;ve test ,you are right,no need the last lineTo().Thank you."},{"comment_id":23098599,"body":"Thank you so much. I don&#39;t know why I had so many issues drawing a triangle, but I&#39;ve spent the past 20 minutes with various bugs on this tiny problem."},{"comment_id":38261302,"body":"i wonder, would this work with a series of arcTo? not sure how the arcs would be connected, since each arc is specified separately, not as a continuation of the last"},{"comment_id":41448726,"body":"Here&#39;s the simple method for copy-pasting (based on @Pavel&#39;s code): <a href=\"https://gist.github.com/ZirconCode/59cae1e2615279eafb29\" rel=\"nofollow noreferrer\">gist.github.com/ZirconCode/59cae1e2615279eafb29</a>"},{"comment_id":47444465,"body":"can you pleas share your whole code related to triangle drawing. I think you have extended View class, so in that case the extended class and few lines where it is used. It will help me a lot"},{"comment_id":77177511,"body":"I would just like to point out that the reason this works is that he removed the unnecessary (and as it turns out, malicious) moveTo() calls after every lineTo()."},{"comment_id":86300969,"body":"if you changed <code>path</code> to an instance variable, remember to call <code>path.reset()</code> after <code>canvas.drawPath()</code>."}],"answer_id":3501643,"body":"<p>Ok I've done it. I'm sharing this code in case someone else will need it:</p>\n\n<pre><code>super.draw(canvas, mapView, true);\n\nPaint paint = new Paint(Paint.ANTI_ALIAS_FLAG);\n\npaint.setStrokeWidth(2);\npaint.setColor(android.graphics.Color.RED);     \npaint.setStyle(Paint.Style.FILL_AND_STROKE);\npaint.setAntiAlias(true);\n\nPoint point1_draw = new Point();        \nPoint point2_draw = new Point();    \nPoint point3_draw = new Point();\n\nmapView.getProjection().toPixels(point1, point1_draw);\nmapView.getProjection().toPixels(point2, point2_draw);\nmapView.getProjection().toPixels(point3, point3_draw);\n\nPath path = new Path();\npath.setFillType(Path.FillType.EVEN_ODD);\npath.moveTo(point1_draw.x,point1_draw.y);\npath.lineTo(point2_draw.x,point2_draw.y);\npath.lineTo(point3_draw.x,point3_draw.y);\npath.lineTo(point1_draw.x,point1_draw.y);\npath.close();\n\ncanvas.drawPath(path, paint);\n\n//canvas.drawLine(point1_draw.x,point1_draw.y,point2_draw.x,point2_draw.y, paint);\n\nreturn true;\n</code></pre>\n\n<p>Thanks for the hint Nicolas!</p>\n"},{"comments":[{"comment_id":3669505,"body":"I don&#39;t think this solution handles filled shapes. (cannot test, I don&#39;t have my IDE at the moment)"},{"comment_id":29765793,"body":"This seems like the more performant solution, but unfortunately this method is not supported on hardware-accelerated views.  You can disable hardware acceleration, but then you lose its performance gains: <a href=\"http://developer.android.com/guide/topics/graphics/hardware-accel.html\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/graphics/hardware-accel.h&zwnj;&#8203;tml</a>"}],"answer_id":3509969,"body":"<p>you can also use vertice : </p>\n\n<pre><code>private static final int verticesColors[] = {\n    Color.LTGRAY, Color.LTGRAY, Color.LTGRAY, 0xFF000000, 0xFF000000, 0xFF000000\n};\nfloat verts[] = {\n    point1.x, point1.y, point2.x, point2.y, point3.x, point3.y\n};\ncanvas.drawVertices(Canvas.VertexMode.TRIANGLES, verts.length, verts, 0, null, 0, verticesColors,   0, null, 0, 0, new Paint());\n</code></pre>\n"},{"comments":[{"comment_id":41017815,"body":"This is working! Don&#39;t forget to use paint.setAntiAlias(true) in order to get a smooth triangle."},{"comment_id":43513845,"body":"What is the drawVertices call for?"}],"answer_id":10497398,"body":"<pre><code>private void drawArrows(Point[] point, Canvas canvas, Paint paint) {\n\n    float [] points  = new float[8];             \n    points[0] = point[0].x;      \n    points[1] = point[0].y;      \n    points[2] = point[1].x;      \n    points[3] = point[1].y;         \n    points[4] = point[2].x;      \n    points[5] = point[2].y;              \n    points[6] = point[0].x;      \n    points[7] = point[0].y;\n\n    canvas.drawVertices(VertexMode.TRIANGLES, 8, points, 0, null, 0, null, 0, null, 0, 0, paint);\n    Path path = new Path();\n    path.moveTo(point[0].x , point[0].y);\n    path.lineTo(point[1].x,point[1].y);\n    path.lineTo(point[2].x,point[2].y);\n    canvas.drawPath(path,paint);\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":53717892,"body":"I dont have 3 point but have only one point x nad y how can i draw a triangle from that point."}],"answer_id":27231954,"body":"<p>You need remove path.moveTo after first initial.</p>\n\n<pre><code>Path path = new Path();\npath.moveTo(point1_returned.x, point1_returned.y);\npath.lineTo(point2_returned.x, point2_returned.y);\npath.lineTo(point3_returned.x, point3_returned.y);\npath.lineTo(point1_returned.x, point1_returned.y);\npath.close();\n</code></pre>\n"},{"answer_id":35873562,"body":"<p>Using @Pavel's answer as guide, here's a helper method if you don't have the points but have start x,y and height and width. Also can draw inverted/upside down - which is useful for me as it was used as end of vertical barchart. </p>\n\n<pre><code> private void drawTriangle(int x, int y, int width, int height, boolean inverted, Paint paint, Canvas canvas){\n\n        Point p1 = new Point(x,y);\n        int pointX = x + width/2;\n        int pointY = inverted?  y + height : y - height;\n\n        Point p2 = new Point(pointX,pointY);\n        Point p3 = new Point(x+width,y);\n\n\n        Path path = new Path();\n        path.setFillType(Path.FillType.EVEN_ODD);\n        path.moveTo(p1.x,p1.y);\n        path.lineTo(p2.x,p2.y);\n        path.lineTo(p3.x,p3.y);\n        path.close();\n\n        canvas.drawPath(path, paint);\n    }\n</code></pre>\n"},{"answer_id":41414932,"body":"<p><a href=\"https://i.stack.imgur.com/zMtSz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zMtSz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>this function shows how to create a triangle from bitmap. That is, create triangular shaped cropped image.</p>\n<pre><code> public static Bitmap getTriangleBitmap(Bitmap bitmap, int radius) {\n        Bitmap finalBitmap;\n        if (bitmap.getWidth() != radius || bitmap.getHeight() != radius)\n            finalBitmap = Bitmap.createScaledBitmap(bitmap, radius, radius,\n                    false);\n        else\n            finalBitmap = bitmap;\n        Bitmap output = Bitmap.createBitmap(finalBitmap.getWidth(),\n                finalBitmap.getHeight(), Bitmap.Config.ARGB_8888);\n        Canvas canvas = new Canvas(output);\n\n        Paint paint = new Paint();\n        final Rect rect = new Rect(0, 0, finalBitmap.getWidth(),\n                finalBitmap.getHeight());\n\n        Point point1_draw = new Point(75, 0);\n        Point point2_draw = new Point(0, 180);\n        Point point3_draw = new Point(180, 180);\n\n        Path path = new Path();\n        path.moveTo(point1_draw.x, point1_draw.y);\n        path.lineTo(point2_draw.x, point2_draw.y);\n        path.lineTo(point3_draw.x, point3_draw.y);\n        path.lineTo(point1_draw.x, point1_draw.y);\n        path.close();\n        canvas.drawARGB(0, 0, 0, 0);\n        paint.setColor(Color.parseColor(&quot;#BAB399&quot;));\n        canvas.drawPath(path, paint);\n        paint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.SRC_IN));\n        canvas.drawBitmap(finalBitmap, rect, rect, paint);\n\n        return output;\n    }\n</code></pre>\n<p>The function above returns a triangular image drawn on canvas.</p>\n"},{"comments":[{"comment_id":91270261,"body":"You should have added a comment for this. This isn&#39;t an answer."}],"answer_id":45103045,"body":"<p><strong>Don't <code>moveTo()</code> after each <code>lineTo()</code></strong></p>\n\n<p>In other words, remove every <code>moveTo()</code> except the first one.</p>\n\n<p>Seriously, if I just copy-paste OP's code and remove the unnecessary <code>moveTo()</code> calls, it works.</p>\n\n<p>Nothing else needs to be done.</p>\n\n<hr>\n\n<p>EDIT: I know the OP already posted his \"final working solution\", but he didn't state <em>why</em> it works. The actual reason was quite surprising to me, so I felt the need to add an answer.</p>\n"}],"last_activity_date":1684745863,"question_id":3501126,"body":"<p>So I'm drawing this triangle in android maps using the code below in my draw method:</p>\n\n<pre><code>paint.setARGB(255, 153, 29, 29);\npaint.setStyle(Paint.Style.FILL_AND_STROKE);\npaint.setAntiAlias(true);\n\nPath path = new Path();\npath.moveTo(point1_returned.x, point1_returned.y);\npath.lineTo(point2_returned.x, point2_returned.y);\npath.moveTo(point2_returned.x, point2_returned.y);\npath.lineTo(point3_returned.x, point3_returned.y);\npath.moveTo(point3_returned.x, point3_returned.y);\npath.lineTo(point1_returned.x, point1_returned.y);\npath.close();\n\ncanvas.drawPath(path, paint);\n</code></pre>\n\n<p>The pointX_returned are the coordinates which I'm getting from the fields. They are basically latitudes and longitudes.\nThe result is a nice triangle but the insider is empty and therefore I can see the map. Is there a way to fill it up somehow? </p>\n"},{"comments":[{"comment_id":85028397,"body":"Why would you expect 0.0449999 to round to 0.1? That is mathematically incorrect."},{"comment_id":85028613,"body":"It is not incorrect if you round all decimals first: 0.045 -&gt; 0.05 -&gt; 0.1"},{"comment_id":85028678,"body":"Well, that&#39;s a pretty meaningless way to round. But, if that&#39;s how you want to do it, do it like that: Round to 3 digits, then 2 digits, then 1 digit."},{"comment_id":85028772,"body":"Yeah I thought about that but imagine you have 0.0444999, it would be also wrong. I was wondering if there is a better solution for this."},{"comment_id":85028830,"body":"Then start at 4, 5, 6, 7 whatever number of digits. It&#39;s still not rounding as the vast majority of people would understand it."},{"comment_id":85028949,"body":"There is no better solution, since this is not a correct way to round numbers. By your logic, I can round $44444.99 to $100000. This is not how rounding works in actuality."},{"comment_id":92168324,"body":"You&#39;re looking for a Ceiling and not a Round"},{"comment_id":104425955,"body":"@Noelia genuinely curious to hear what your use case is for rounding 0.045 -&gt; 0.05 -&gt; 0.1"},{"comment_id":116990298,"body":"@DmitryBrant, Andy Turner, Felipe Andrade, I&#39;m feeling somewhat sorry for Noelia here being repeatedly reprimanded with such ill-informed comments.   For anyone visiting this page: What Noelia is asking for is called &quot;rounding up&quot;, it is not the same as &quot;ceiling&quot; (negative numbers!), whether it is mathematically correct or not is a matter of definition, and most languages I know, including Kotlin and Java, support this rounding mode. It does not take much imagination to think of applications in finance (e.g. a simple piggy-bank saving plan offered by some banks) or in automation."},{"comment_id":116991801,"body":"@jerry In that case, the question is extremely confusingly phrased and should be rewritten, with perhaps a brief mention of OP&#39;s use case for this rounding scheme.  Rounding up to 1 decimal place would mean that 0.000001 would become 0.1.  It&#39;s not <i>at all</i> clear from the question that this is what OP wants."},{"comment_id":116992671,"body":"@DmitryBrant After reading again, my apologies, I tend to agree with your statement. Not so much though with your first comment that got an awful lot of upvotes. There can be good reasons for rounding in only one direction, but normally not this way."}],"answers":[{"answer_id":49012345,"body":"<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> rounding features several <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/RoundingMode.html\" rel=\"noreferrer\"><code>RoundingMode</code></a>s, including those rounding up (away from zero) or towards positive infinity. If that's what you need, you can perform rounding by calling <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigDecimal.html#setScale(int,%20java.math.RoundingMode)\" rel=\"noreferrer\"><code>setScale</code></a> as follows:</p>\n\n<pre><code>val number = 0.0449999\nval rounded = number.toBigDecimal().setScale(1, RoundingMode.UP).toDouble()\nprintln(rounded) // 0.1\n</code></pre>\n\n<p>Note, however, that it works in a way that will also round anything between <code>0.0</code> and <code>0.1</code> to <code>0.1</code> (e.g. <code>0.00001</code> → <code>0.1</code>).</p>\n\n<p><sup>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-big-decimal.html\" rel=\"noreferrer\"><code>.toBigDecimal()</code></a> extension is available <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#operators-and-conversions-for-biginteger-and-bigdecimal\" rel=\"noreferrer\">since Kotlin 1.2</a>.</sup></p>\n"},{"comments":[{"comment_id":97013419,"body":"One important note to the &quot;Answer 1&quot; it caused my application to crash when i changed language to arabic . the .toDouble() crashed because the number was formatted in arabic (something like this ١٦.٣٤٥٣)"},{"comment_id":128108004,"body":"1 is risky with localisation"},{"comment_id":128108174,"body":"You can probably save 1000s of crashes here if you update to add DecimalFormatSymbols(Locale.ENGLISH)"}],"answer_id":49432344,"body":"<p>Finally I did what <code>Andy Turner</code> suggested, rounded to 3 decimals, then to 2 and then to 1:</p>\n\n<p><strong>Answer 1:</strong></p>\n\n<pre><code>val number:Double = 0.0449999\nval number3digits:Double = String.format(\"%.3f\", number).toDouble()\nval number2digits:Double = String.format(\"%.2f\", number3digits).toDouble()\nval solution:Double = String.format(\"%.1f\", number2digits).toDouble()\n</code></pre>\n\n<p><strong>Answer 2:</strong></p>\n\n<pre><code>val number:Double = 0.0449999\nval number3digits:Double = Math.round(number * 1000.0) / 1000.0\nval number2digits:Double = Math.round(number3digits * 100.0) / 100.0\nval solution:Double = Math.round(number2digits * 10.0) / 10.0\n</code></pre>\n\n<p><strong>Result</strong>: </p>\n\n<blockquote>\n  <p>0.045 → 0.05 → 0.1</p>\n</blockquote>\n\n<p>Note: I know it is not how it should work but sometimes you need to round up taking into account all decimals for some special cases so maybe someone finds this useful.</p>\n"},{"answer_id":51689453,"body":"<p><strong>1. Method (using Noelia's idea):</strong></p>\n<p>You can pass the number of desired decimal places in a string template and make the precision variable this way:</p>\n<pre><code>fun Number.roundTo(\n  numFractionDigits: Int\n) = &quot;%.${numFractionDigits}f&quot;.format(this, Locale.ENGLISH).toDouble()\n</code></pre>\n<p><strong>2. Method (numeric, no string conversion)</strong></p>\n<pre><code>fun Double.roundTo(numFractionDigits: Int): Double {\n  val factor = 10.0.pow(numFractionDigits.toDouble())\n  return (this * factor).roundToInt() / factor\n}\n</code></pre>\n<p><sub>One could create an overload for <code>Float</code> as well.</sub></p>\n"},{"comments":[{"comment_id":97278910,"body":"what is the import for DecimalFormat? I can&#39;t find it"},{"comment_id":97315678,"body":"I have used below import to execute the above methods, hope it helps.  1) import java.math.BigDecimal 2) import java.math.RoundingMode 3) import java.text.DecimalFormat"},{"comment_id":99674353,"body":"I am getting a crash using this. It can cause an issue where to number is formatted as &quot;4,93&quot;. Crash: Fatal Exception: java.lang.NumberFormatException For input string: &quot;5,79&quot;"},{"comment_id":107977074,"body":"Using this example, beware of locale! I found e.g. portugies which ends up with Fatal Exception: java.lang.NumberFormatException For input string: &quot;0,1&quot; . In order to prevent this issue use DecimalFormat(&quot;#.#&quot;, DecimalFormatSymbols(Locale.ENGLISH))"},{"comment_id":121705839,"body":"Do not use. Exception will happen!"},{"comment_id":121816310,"body":"@WiktorKalinowski could you please share the exception which comes in this code in the logcat, It will help us to solve the issue."},{"comment_id":125758518,"body":"the examples aren&#39;t clear re rounding modes, &quot;HALF_UP&quot; is standard round to nearest (round up if halfway)"}],"answer_id":54665180,"body":"<p>I know some of the above solutions work perfectly but I want to add another solution that uses ceil and floor concept, which I think is optimized for all the cases.</p>\n<p><strong>If you want the highest value of the 2 digits after decimal use below code.</strong></p>\n<pre><code>import java.math.BigDecimal \nimport java.math.RoundingMode\nimport java.text.DecimalFormat\n</code></pre>\n<p>here, <strong>1.45678 = 1.46</strong></p>\n<pre><code>fun roundOffDecimal(number: Double): Double? {\n    val df = DecimalFormat(&quot;#.##&quot;)\n    df.roundingMode = RoundingMode.CEILING\n    return df.format(number).toDouble()\n}\n</code></pre>\n<p><strong>If you want the lowest value of the 2 digits after decimal use below code.</strong></p>\n<p>here, <strong>1.45678 = 1.45</strong></p>\n<pre><code>fun roundOffDecimal(number: Double): Double? {\n    val df = DecimalFormat(&quot;#.##&quot;)\n    df.roundingMode = RoundingMode.FLOOR\n    return df.format(number).toDouble()\n}\n</code></pre>\n<p>Here a list of all available flags: <code>CEILING</code>, <code>DOWN</code>, <code>FLOOR</code>, <code>HALF_DOWN</code>, <code>HALF_EVEN</code>, <code>HALF_UP</code>, <code>UNNECESSARY</code>, <code>UP</code></p>\n<p>The detailed information is given in <a href=\"https://developer.android.com/reference/java/math/RoundingMode\" rel=\"noreferrer\">docs</a></p>\n"},{"comments":[{"comment_id":107976991,"body":"Using this example, beware of locale! I found e.g. portugies which ends up with Fatal Exception: java.lang.NumberFormatException For input string: &quot;0,1&quot; . In order to prevent this issue use &quot;%.${n}f&quot;.format(Locale.ENGLISH,this).toFloat()"}],"answer_id":59513133,"body":"<p>An example of extension functions for Float and Double, round to n decimal positions.</p>\n<pre><code>fun Float.roundTo(n : Int) : Float {\n    return &quot;%.${n}f&quot;.format(this).toFloat()\n}\n\nfun Double.roundTo(n : Int) : Double {\n    return &quot;%.${n}f&quot;.format(this).toDouble()\n}\n</code></pre>\n"},{"comments":[{"comment_id":130669198,"body":"Why not use <code>Locale.getDefault</code>?"},{"comment_id":130689023,"body":"@JimOvejera because in formatting you expect a dot in the format. You can be sure English has the dot. But for default locale, when user has for example Portugies locale you get coma in the number so the formatting will fail."}],"answer_id":61033820,"body":"<p><strong>Always beware of Locale!</strong></p>\n\n<p>With unspecified locale you can get occasional issue (e.g. with Portugies locale) such as</p>\n\n<pre><code>Fatal Exception: java.lang.NumberFormatException\nFor input string: \"0,1\"\n</code></pre>\n\n<p><strong>1. Solution using DecimalFormat approach</strong></p>\n\n<pre><code>fun Float.roundToOneDecimalPlace(): Float {\n    val df = DecimalFormat(\"#.#\", DecimalFormatSymbols(Locale.ENGLISH)).apply {\n        roundingMode = RoundingMode.HALF_UP\n    }\n    return df.format(this).toFloat()\n}\n</code></pre>\n\n<p><strong>2. Solution using string format approach</strong></p>\n\n<pre><code>fun Float.roundTo(decimalPlaces: Int): Float {\n    return \"%.${decimalPlaces}f\".format(Locale.ENGLISH,this).toFloat()\n}\n</code></pre>\n"},{"answer_id":65697275,"body":"<p>Try this,\nits work for me</p>\n<pre><code>     val number = 0.045\n     var filterUserPrice: String? = &quot;%.2f&quot;.format(number)\n     Log.v(&quot;afterRoundoff&quot;,&quot; : $filterUserPrice&quot;)// its print filterUserPrice is 0.05\n</code></pre>\n"},{"answer_id":69702809,"body":"<p>Try this way for two decimal value return as string</p>\n<pre><code>private fun getValue(doubleValue: Double): String {\n    return String.format(Locale.US, &quot;%.2f&quot;, doubleValue)\n}\n</code></pre>\n"},{"answer_id":70243733,"body":"<p>In Kotlin I just use this function:</p>\n<pre><code>fun roundTheNumber(numInDouble: Double): String {\n\n        return &quot;%.2f&quot;.format(numInDouble)\n\n    }\n</code></pre>\n"},{"answer_id":71068333,"body":"<p><strong>For new comers</strong></p>\n<p>Using String.format for decimal precision can lead to problems for different languages.</p>\n<p>Use the following code to convert Double to as many decimal places as you want.</p>\n<pre><code>val price = 6.675668\n\n//to convert to 2 decimal places\ntotalTime = Math.round(totalTime * 100.0) / 100.00\n// totalTime = 6.68\n\n//to convert to 4 decimal places\ntotalTime = Math.round(totalTime * 10000.0) / 10000.00\n// totalTime = 6.6757\n</code></pre>\n"},{"answer_id":71609923,"body":"<p>Use this extension function:</p>\n<pre><code>toBigDecimal(MathContext(3, RoundingMode.HALF_EVEN)).toPlainString()\n</code></pre>\n"},{"answer_id":76304484,"body":"<p>Use Kotlin Extension Function and then call where you need.</p>\n<pre><code>fun Double.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\nfun Long.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\nfun Float.roundTo(): Double = this.times(100.0).roundToInt() / 100.0\n</code></pre>\n<p>Example:</p>\n<pre><code>val amount = 156.26588\nval roundAmount = amount.roundTo()\nLog.d(&quot;Amount:&quot; &quot;$roundAmount&quot;) // Amount:156.26\n</code></pre>\n"}],"last_activity_date":1684745745,"question_id":49011924,"body":"<p>I have a Double variable that is <code>0.0449999</code> and I would like to round it to 1 decimal place <code>0.1</code> .</p>\n\n<p>I am using Kotlin but the Java solution is also helpful.</p>\n\n<p><code>val number:Double = 0.0449999</code></p>\n\n<p>I tried getting 1 decimal place with these two solutions:</p>\n\n<ol>\n<li><code>val solution = Math.round(number * 10.0) / 10.0</code></li>\n<li><code>val solution = String.format(\"%.1f\", number)</code></li>\n</ol>\n\n<p>The problem is that I get 0.0 in both cases because it rounds the number from <code>0.04</code> to <code>0.0</code>. It doesn't take all decimals and round it.</p>\n\n<p>I would like to obtain 0.1: <code>0.045 -&gt; 0.05 -&gt; 0.1</code></p>\n"},{"last_activity_date":1684745582,"question_id":76304472,"body":"<p>Even though I set the traces sample rate to 0.0 so as to stop the transactions being published to sentry in the spring boot application.We would be using sentry for error reporting but not for performance monitoring.</p>\n<p>Thanks in advance!</p>\n<pre><code>sentry:\n  dsn: -\n  traces-sample-rate: 0.0\n</code></pre>\n"},{"answers":[{"answer_id":3767994,"body":"<p>As much as your available memory will allow.  There's no size limit except for the heap.</p>\n"},{"comments":[{"comment_id":3987467,"body":"@Bozho are you sure, i don&#39;t think it is.. if this is the case then int can also hold -ve  value"},{"comment_id":3987468,"body":"I think that&#39;s wrong. Or else why would <code>Collection#size()</code> say: <i>If this collection contains more than Integer.MAX_VALUE elements, returns Integer.MAX_VALUE.</i> This depends on the specific implementation."},{"comment_id":3987990,"body":"According to docs the elements must fit in an array (See toArray method)."},{"comment_id":3988071,"body":"@aioobe - the method will throw an exception, because the <code>size</code> field will be negative (due to int overflow), but the list itself will work."},{"comment_id":3988208,"body":"Well, depends on how you define &quot;a list that works&quot;. Is an implementation that does nothing but throwing an exception in each List-method a working list?"},{"comment_id":3988293,"body":"that one no, but you know there are list implementations that don&#39;t support some operations :)"},{"comment_id":3988800,"body":"hehe, ok :) In the API? So I guess the maximum size of a list depends on where you draw the line for what a correct list is :-)"}],"answer_id":3767996,"body":"<p>It would depend on the implementation, but the limit is not defined by the <code>List</code> interface.</p>\n\n<p>The interface however defines the <code>size()</code> method, which returns an <code>int</code>. </p>\n\n<blockquote>\n  <p>Returns the number of elements in this list.  If this list contains more than <code>Integer.MAX_VALUE</code> elements, returns <code>Integer.MAX_VALUE</code>.</p>\n</blockquote>\n\n<p>So, no limit, but after you reach <code>Integer.MAX_VALUE</code>, the behaviour of the list changes <em>a bit</em></p>\n\n<p><code>ArrayList</code> (which is tagged) is backed by an array, and is limited to the size of the array - i.e. <code>Integer.MAX_VALUE</code></p>\n"},{"comments":[{"comment_id":3987983,"body":"According to docs the elements must fit in an array (See toArray method)."},{"comment_id":118526002,"body":"@aioobe One can always throw an <code>UnsupportedOperationException</code> for <code>toArray()</code>."},{"comment_id":118551667,"body":"@MCEmperor right, that&#39;s possible, since it&#39;s an unchecked exception. Note however: many <code>List</code> methods are documented to (possibly) throw <code>UnsupportedOperationException</code>. <code>toArray</code> is <i>not</i> one of them."},{"comment_id":118551984,"body":"@aioobe Yes, I noticed that as well. I think that&#39;s a little strange, because I think it&#39;s not up to the <code>List</code> interface how something is implemented, but to the implementing class instead. But apparently, the API designers had something different in mind."}],"answer_id":3767997,"body":"<p><code>java.util.List</code> is an interface. How much data a list can hold is dependant on the specific implementation of List you choose to use. </p>\n\n<p>Generally, a List implementation can hold any number of items (If you use an indexed List, it may be limited to <code>Integer.MAX_VALUE</code> or <code>Long.MAX_VALUE</code>). As long as you don't run out of memory, the List doesn't become \"full\" or anything.</p>\n"},{"answer_id":3768038,"body":"<blockquote>\n  <p><em>How much data can be added in java.util.List in Java at the maximum?</em></p>\n</blockquote>\n\n<p>This is very similar to <a href=\"https://stackoverflow.com/questions/4123743\">Theoretical limit for number of keys (objects) that can be stored in a HashMap?</a></p>\n\n<p>The documentation of <code>java.util.List</code> does not explicitly documented any limit on the maximum number of elements. The documentation of <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#toArray%28T[]%29\" rel=\"nofollow noreferrer\"><code>List.toArray</code></a> however, states that ...</p>\n\n<blockquote>\n  <p>Return an array containing <strong>all</strong> of the elements in this list in proper sequence (from first to last element);\n   would have trouble implementing certain methods faithfully, such as </p>\n</blockquote>\n\n<p>... so strictly speaking it would not be possible to faithfully implement this method if the list had more than 2<sup>31</sup>-1 = 2147483647 elements since that is the largest possible array.</p>\n\n<p>Some will argue that the documentation of <code>size()</code>...</p>\n\n<blockquote>\n  <p>Returns the number of elements in this list. If this list contains more than <code>Integer.MAX_VALUE</code> elements, returns <code>Integer.MAX_VALUE</code>.</p>\n</blockquote>\n\n<p>...indicates that there is no upper limit, but this view leads to numerous inconsistencies. See <a href=\"https://bugs.openjdk.java.net/browse/JDK-8032900\" rel=\"nofollow noreferrer\">this bug report</a>.</p>\n\n<blockquote>\n  <p><em>Is there any default size an array list?</em></p>\n</blockquote>\n\n<p>If you're referring to <code>ArrayList</code> then I'd say that the default size is 0. The default <em>capacity</em> however (the number of elements you can insert, without forcing the list to reallocate memory) is 10. See the documentation of the <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/ArrayList.html#ArrayList%28%29\" rel=\"nofollow noreferrer\">default constructor</a>.</p>\n\n<p>The size limit of <code>ArrayList</code> is <code>Integer.MAX_VALUE</code> since it's backed by an ordinary array.</p>\n"},{"comments":[{"comment_id":4894811,"body":"What would you have size(), get(int), set(int, E) and remove(int) do for lists with more than Integer.MAX_VALUE elements? Due to those constraints, I would think the upper limit of elements will always be Integer.MAX_VALUE because the index type is imposed by the java.util.List interface."},{"comment_id":4908799,"body":"The <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/List.html#size%28%29\" rel=\"nofollow noreferrer\">spec for <code>size()</code></a> clearly says: <i>Returns the number of elements in this list. If this list contains more than <code>Integer.MAX_VALUE</code> elements, returns <code>Integer.MAX_VALUE</code>.</i> Indexing operations won&#39;t work for elements after index <code>Integer.MAX_VALUE</code>, but unless the implementation relies on indexing (which <code>ArrayList</code> does out of necessity), you could still iterate over the list, add things to it (either at the tail or before index <code>Integer.MAX_VALUE</code>), remove elements (again, not after <code>Integer.MAX_VALUE</code>), etc."},{"comment_id":69386468,"body":"I got this question wrong on a exam ( I said it was true) and according to you , its only true as a LinkedList:  <code>ArrayList cannot resize dynamically if you add more number of elements than its capacity.</code> .  Am I correct then and the exam was wrong?  (it was a ucertify.com exam)"},{"comment_id":69479744,"body":"@djangofan I&#39;m not sure what your question is, or what how the question you got wrong was phrased, but here&#39;s the deal: The <code>List</code> interface <i>does not</i> specify a maximum size, but all implementations will be limited in some way. <code>ArrayList</code>, for example, is limited by the <a href=\"http://stackoverflow.com/a/31388054/58956\">maximum size of arrays</a>, while <code>Collections.EMPTY_LIST</code> has a maximum capacity of zero elements because that&#39;s how its specification is, etc. (And all implementations are of course limited by memory available, unless they have some kind of out-of-RAM infinitely size storage)."},{"comment_id":132753257,"body":"I&#39;m not sure that what you say about LinkedList having no element storage limits is true because when I try to do <code>linkedList.get(index)</code> and index is a long variable type, the IDE tells me that I can only use int as the index that I&#39;m looking for which means that LinkedList is also limited to 2^31 elements, no?"},{"comment_id":132754117,"body":"@MichaelSims This has already been discussed in comments above, see my comment from 2010-12-20."},{"comment_id":134531036,"body":"@gustafc - as a side note, I attempted to create a <code>LinkedList&lt;String&gt;</code> then looping from 0 to <code>Integer.MAX_VALUE</code> I tried to fill it with empty Strings <code>&quot;&quot;</code> but no matter how much memory I gave the JVM, it starts slowing to a crawl and seemingly stopping around 1 billion adds ... wanted to test the limit but no dice apparently."}],"answer_id":3768057,"body":"<p>It depends on the <code>List</code> implementation. Since you index arrays with <code>int</code>s, an <code>ArrayList</code> can't hold more than <code>Integer.MAX_VALUE</code> elements. A <code>LinkedList</code> isn't limited in the same way, though, and can contain any amount of elements.</p>\n<p><strong>Edit:</strong> I realize this sounds like an endorsement of <code>LinkedList</code>. But please note that although they don't have a <em>theoretical</em> capacity limit, <a href=\"https://stackoverflow.com/a/322742/58956\">linked lists are usually an inferior choice to array-based data structures</a> because of higher memory use per element (which lowers the list's <em>actual</em> capacity limit) and poor cache locality (because nodes are spread all over RAM). It's definitely not the data structure you want if you have more items than can be crammed into an array.</p>\n"},{"comments":[{"comment_id":3988152,"body":"And if you try to add the eleventh element, what happens?  (Hint: It succeeds.)  Your answer is &quot;correct&quot;, since you cut &amp; pasted this out of source, but it implies a max of ten elements, which is not correct."},{"comment_id":3988273,"body":"@duffymo i was trying to say when u create a ArrayList like this List l = new ArrayList();  the default size would be ten."},{"comment_id":3988505,"body":"I know, but that&#39;s not what the question asked about.  It had to do with the max allowable size of an array, not the initial size.  See the difference?"}],"answer_id":3768096,"body":"<p>see the code below of arraylist default it is 10 when u create \nList l = new ArrayList();</p>\n\n<pre><code>   public class ArrayList&lt;E&gt; extends AbstractList&lt;E&gt; implements List&lt;E&gt;,\n           Cloneable, Serializable, RandomAccess {\n\n          private static final long serialVersionUID = 8683452581122892189L;\n\n          private transient int firstIndex;\n\n          private transient int lastIndex;\n\n          private transient E[] array;\n\n          /**\n           * Constructs a new instance of {@code ArrayList} with ten capacity.\n           */\n          public ArrayList() {\n              this(10);\n          }\n</code></pre>\n"},{"answer_id":21306663,"body":"<p>The interface however defines the size() method, which returns an int.</p>\n\n<pre><code>Returns the number of elements in this list. If this list contains more than Integer.MAX_VALUE elements, returns Integer.MAX_VALUE.\n</code></pre>\n\n<p>So, no limit, but after you reach Integer.MAX_VALUE, the behaviour of the list changes a bit</p>\n\n<p>ArrayList (which is tagged) is backed by an array, and is limited to the size of the array - i.e. Integer.MAX_VALUE</p>\n"},{"comments":[{"comment_id":50869234,"body":"this is your thought, but it is not a discussion. answer should be on the basis of clear view and proof."}],"answer_id":31450371,"body":"<p>Numbering an items in the java array should start from zero. This was i think we can have access to Integer.MAX_VALUE+1 an items.</p>\n"}],"last_activity_date":1684745422,"question_id":3767979,"body":"<p>How much data can be added in java.util.List in Java at the maximum?</p>\n\n<p>Is there any default size of an ArrayList?</p>\n"},{"comments":[{"comment_id":134556377,"body":"whats the advantage of not writing <code>const std::vector&lt;int&gt;&amp;</code> for the return type?"},{"comment_id":134556624,"body":"You can&#39;t do that. Use explicit types. (This is a good idea anyway; as a user of <code>A</code>, I don&#39;t want to have to look at the private implementation details in order to figure out what the return type is.)"},{"comment_id":134556670,"body":"maybe trailing return type works, tough thats more typing rather than less."},{"comment_id":134556818,"body":"@463035818_is_not_a_number - it has advantages but they&#39;re not significant.  I think it&#39;s less typing, less redundancy, less work if vector inner type will change."}],"last_activity_date":1684745313,"question_id":76304442,"body":"<p>I want to write in c++ code like this and generate it's wrapper in java:</p>\n<pre><code>class A() {\npublic:\n   const auto &amp; getNumbers() const { return _numbers; }\nprivate:\n   vector&lt;int&gt; _numbers; \n}\n</code></pre>\n<p>but SWIG returns error (<code>Error: Syntax error in input(3).</code>) in line with auto.</p>\n<p><code>const vector&lt;int&gt; &amp; getNumbers() const { return _numbers; }</code> works fine, but I'd prefer to use <code>auto</code> syntax in this case.</p>\n<p>Anyone knows how to use <code>auto</code> with SWIG ?</p>\n"},{"answers":[{"comments":[{"comment_id":134555818,"body":"Hi Axel Richter. Thanks for commenting. I have created a pie chart and bar chart with apache poi and those charts were coming one after another. Edited the question and added the code. Would you please guide me how to set pie chart and bar chart side by side? Thanks again for comment."},{"comment_id":134556373,"body":"@Bharath Naidu Yenumula: The answer stays the same. I have updated my example. Now it creates a bar chart and a pie chart."},{"comment_id":134571495,"body":"The way you have provided the details instead of only providing the solution is commendable. Exactly what i was looking for. Solved my doubt and thank you."}],"answer_id":76303175,"body":"<p>In a Microsoft Word document in Office Open XML format (<code>*.docx</code>), charts are embedded in the documents body. Same as pictures or other shapes too, they either are in anchored drawings or are inline with text. So far, Apache POI only supports charts inline with text. Those are in text runs (<code>XWPFRun</code>). So they are placed where the text run is placed in the document.</p>\n<p>Using current Apache POI version <code>5.2.3</code>\nthere are three <code>XWPFDocument.createChart</code> methods to create <code>XWPFChart</code>. See <a href=\"https://poi.apache.org/apidocs/5.0/org/apache/poi/xwpf/usermodel/XWPFDocument.html\" rel=\"nofollow noreferrer\">XWPFDocument</a>.</p>\n<p>The first one, without parameters, creates a chart in a new text run in a new paragraph, having default size. The second one has parameters <code>width</code> and <code>height</code> and creates a chart in a new text run in a new paragraph, having the size given. The third one has parameters <code>run</code>, <code>width</code> and <code>height</code> and creates a chart in the text run given, having the size given. So using the third one, one has full control where the chart shall be placed in the text.</p>\n<p>Following complete example creates two charts in one paragraph in different text runs in that paragraph. So, as long not automated line breaks occur, the charts will be placed side by side.</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.xddf.usermodel.*;\nimport org.apache.poi.xddf.usermodel.chart.*;\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class CreateWordCharts {\n    \n private static void createBarChart(XWPFRun run, String[] categories, Double[] values, PresetColor color, \n  BarDirection direction, String chartTitleText, String seriesTitle, \n  int width, int height) throws Exception {\n      \n  // Create the chart\n  XWPFDocument  document = run.getParent().getDocument();\n  XWPFChart chart = document.createChart(run, width * Units.EMU_PER_CENTIMETER, height * Units.EMU_PER_CENTIMETER);\n  \n  // Create chart data sources\n  XDDFDataSource&lt;String&gt; categoryDataSource = XDDFDataSourcesFactory.fromArray(categories);\n  XDDFNumericalDataSource&lt;Double&gt; valueDataSource = XDDFDataSourcesFactory.fromArray(values);\n         \n  // Create the category axis\n  XDDFCategoryAxis categoryAxis = chart.createCategoryAxis(AxisPosition.BOTTOM);\n  \n  // Create the value axis\n  XDDFValueAxis valueAxis = chart.createValueAxis(AxisPosition.LEFT);\n  \n  // Set how the axis cross - for example at zero point of value axis\n  valueAxis.setCrosses(AxisCrosses.AUTO_ZERO);\n  \n  // Set AxisCrossBetween, so the value axis crosses the category axis between the categories.\n  // Else first and last category is exactly on cross points and the bars are only half visible.\n  valueAxis.setCrossBetween(AxisCrossBetween.BETWEEN);\n\n  // Create chart data\n  XDDFChartData data = chart.createData(ChartTypes.BAR, categoryAxis, valueAxis);\n  \n  // Set bar direction\n  ((XDDFBarChartData)data).setBarDirection(direction);   \n  \n  // Set chart title - optinal\n  if (chartTitleText != null &amp;&amp; !chartTitleText.isBlank())\n   chart.setTitleText(chartTitleText);\n  \n  // Add series\n  XDDFChartData.Series series = data.addSeries(categoryDataSource, valueDataSource);\n  \n  // Set series title - not optional \n  if (seriesTitle == null || seriesTitle.isBlank()) seriesTitle = &quot;Series1&quot;;\n  series.setTitle(seriesTitle, null);\n\n  // Set series fill color - necessary for LibreOffice as this will not use default colors\n  solidFillSeries(series, color);\n\n  // Plot the chart\n  chart.plot(data);\n     \n }\n\n private static void createPieChart(XWPFRun run, String[] categories, Double[] values, byte[][] colors, \n  String chartTitleText, String seriesTitle, \n  int width, int height) throws Exception {\n      \n  // Create the chart\n  XWPFDocument  document = run.getParent().getDocument();\n  XWPFChart chart = document.createChart(run, width * Units.EMU_PER_CENTIMETER, height * Units.EMU_PER_CENTIMETER);\n  \n  // Create chart data sources\n  XDDFDataSource&lt;String&gt; categoryDataSource = XDDFDataSourcesFactory.fromArray(categories);\n  XDDFNumericalDataSource&lt;Double&gt; valueDataSource = XDDFDataSourcesFactory.fromArray(values);\n         \n  // Create chart data\n  XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\n  \n  // Set chart title - optinal\n  if (chartTitleText != null &amp;&amp; !chartTitleText.isBlank())\n   chart.setTitleText(chartTitleText);\n  \n  // Add series\n  XDDFChartData.Series series = data.addSeries(categoryDataSource, valueDataSource);\n  \n  // Set series title - not optional \n  if (seriesTitle == null || seriesTitle.isBlank()) seriesTitle = &quot;Series1&quot;;\n  series.setTitle(seriesTitle, null);\n  \n  // data point colors; is necessary for showing data points in LibreOffice\n  int pointCount = series.getCategoryData().getPointCount();\n  for (int p = 0; p &lt; pointCount; p++) {\n   chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDPt().addNewIdx().setVal(p);\n   chart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDPtArray(p)\n    .addNewSpPr().addNewSolidFill().addNewSrgbClr().setVal(colors[p]);\n  }\n\n  // Plot the chart\n  chart.plot(data);\n     \n }\n\n private static void solidFillSeries(XDDFChartData.Series series, PresetColor color) {\n  XDDFSolidFillProperties fill = new XDDFSolidFillProperties(XDDFColor.from(color));\n  XDDFShapeProperties properties = series.getShapeProperties();\n  if (properties == null) {\n   properties = new XDDFShapeProperties();\n  }\n  properties.setFillProperties(fill);\n  series.setShapeProperties(properties);\n }\n    \n public static void main(String[] args) throws Exception {\n  XWPFDocument document = new XWPFDocument();\n\n  // Create some normal XWPF content \n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run = paragraph.createRun();\n  run.setText(&quot;Chart Examples&quot;);\n\n  // Create paragraph for the charts\n  paragraph = document.createParagraph();\n  // Create run for text\n  run = paragraph.createRun();\n  run.setText(&quot;Chart1: &quot;);\n\n  // Create a run to place the first chart\n  run = paragraph.createRun();\n  String[] categories = new String[]{&quot;Cat1&quot;, &quot;Cat2&quot;, &quot;Cat3&quot;, &quot;Cat4&quot;, &quot;Cat5&quot;};\n  Double[] values = new Double[]{3d, 5d, 2d, 4d, 1d};\n  createBarChart(run, categories, values, PresetColor.BLUE, BarDirection.COL, &quot;Bar Chart&quot;, &quot;Series1&quot;, 5, 5);\n  \n  // Create run for text\n  run = paragraph.createRun();\n  run.setText(&quot; Chart2: &quot;);\n  \n  // Create a run to place the second chart\n  run = paragraph.createRun();\n  categories = new String[]{&quot;Cat1&quot;, &quot;Cat2&quot;, &quot;Cat3&quot;, &quot;Cat4&quot;};\n  values = new Double[]{1d, 4d, 3d, 2d};\n  byte[][] colors = new byte[][]{\n   new byte[]{(byte)255,0,0}, \n   new byte[]{0, (byte)255,0}, \n   new byte[]{0,0,(byte)255}, \n   new byte[]{(byte)255, (byte)255, 0}, \n  };\n  createPieChart(run, categories, values, colors, &quot;Pie Chart&quot;, null, 5, 5);\n\n  // Create paragraph below the charts\n  paragraph = document.createParagraph();\n    \n  // Save the document\n  FileOutputStream out = new FileOutputStream(&quot;./WorddocumentWithCharts.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n }\n \n}\n</code></pre>\n<p>Result:</p>\n<p><a href=\"https://i.stack.imgur.com/4HMSN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4HMSN.png\" alt=\"enter image description here\" /></a></p>\n"}],"last_activity_date":1684745300,"question_id":76289142,"body":"<p>Is there any way to set two charts side by side on the word document using Apache poi? I have created two charts which are coming one after another onto the word document.</p>\n<pre><code>import java.io.FileOutputStream;\nimport org.apache.poi.util.Units;\nimport org.apache.poi.xddf.usermodel.chart.*;\nimport org.apache.poi.xwpf.usermodel.*;\n\n\npublic class daf {\n    public static void main(String[] args) throws Exception {\n        // Create a new Word document\n        XWPFDocument doc = new XWPFDocument();\n\n        \n\n        // Create a severitychart\n        XWPFChart severityChart = doc.createChart(10 * Units.EMU_PER_CENTIMETER, 5 * Units.EMU_PER_CENTIMETER);\n\n        // Create chart data source\n        String[] categories = new String[]{&quot;Critical&quot;, &quot;High&quot;, &quot;Medium&quot;,&quot;Low&quot;,&quot;Best Practice&quot;};\n        Double[] values = new Double[]{(double) 1,(double) 2,(double) 3,(double) 4,(double) 5};\n        XDDFDataSource&lt;String&gt; categoryDataSource = XDDFDataSourcesFactory.fromArray(categories);\n        XDDFNumericalDataSource&lt;Double&gt; valueDataSource = XDDFDataSourcesFactory.fromArray(values);\n\n        // Create chart data\n        XDDFPieChartData data = (XDDFPieChartData) severityChart.createData(ChartTypes.PIE, null, null);\n        \n        severityChart.setTitleText(&quot;# of Vulnerabilites by Severity&quot;);\n        severityChart.setTitleOverlay(false);\n                \n        XDDFChartData.Series series = data.addSeries(categoryDataSource, valueDataSource);\n      \n\n        // Plot the chart\n        severityChart.plot(data);\n        severityChart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).addNewDLbls().addNewShowPercent().setVal(false);;\n        severityChart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls().addNewShowSerName().setVal(false);\n        severityChart.getCTChart().getPlotArea().getPieChartArray(0).getSerArray(0).getDLbls().setSeparator(&quot; - &quot;);\n        \n        \n         // Create a categorychart\n            XWPFChart categoryChart = doc.createChart(10 * Units.EMU_PER_CENTIMETER, 5 * Units.EMU_PER_CENTIMETER);\n\n            // Create chart data source\n            String[] categories1 = new String[]{&quot;Critical&quot;, &quot;High&quot;, &quot;Medium&quot;,&quot;Low&quot;,&quot;Best Practice&quot;};\n            Double[] values1 = new Double[]{(double) 1,(double) 2,(double) 3,(double) 4,(double) 5};\n            XDDFDataSource&lt;String&gt; categoryDataSource1 = XDDFDataSourcesFactory.fromArray(categories1);\n            XDDFNumericalDataSource&lt;Double&gt; valueDataSource1 = XDDFDataSourcesFactory.fromArray(values1);\n                    \n         // Create the category axis\n         XDDFCategoryAxis categoryAxis = categoryChart.createCategoryAxis(AxisPosition.BOTTOM);\n         XDDFValueAxis valueAxis = categoryChart.createValueAxis(AxisPosition.LEFT);\n         \n         XDDFChartData data1 = categoryChart.createData(ChartTypes.BAR,  categoryAxis, valueAxis);\n         \n           \n            XDDFChartData.Series series1 = data1.addSeries(categoryDataSource1, valueDataSource1);\n            series1.setTitle(null); //Title should be mandatory.\n            // Plot the chart\n            categoryChart.plot(data1);\n            \n        // Save the document\n        FileOutputStream out = new FileOutputStream(&quot;chart_document.docx&quot;);\n        doc.write(out);\n        out.close();\n        doc.close();\n\n        System.out.println(&quot;chart created successfully!&quot;);\n    }\n}\n</code></pre>\n<p>This code creates a pie chart and bar chart one after another. Can we modify the above code so that we can make the charts side by side?</p>\n"},{"answers":[{"comments":[{"comment_id":50148971,"body":"<code>When running as a service on Windows, the console output is also caught and redirected, but the file names are different</code>. Where can I find these files?"},{"comment_id":50189156,"body":"well, I&#39;m mac user, so I don&#39;t know, but you can check this: <a href=\"http://stackoverflow.com/questions/8362280/where-is-tomcat-console-output-on-windows\" title=\"where is tomcat console output on windows\">stackoverflow.com/questions/8362280/&hellip;</a>"}],"answer_id":31064219,"body":"<p><a href=\"https://tomcat.apache.org/tomcat-7.0-doc/logging.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/logging.html</a></p>\n<blockquote>\n<p>The calls to <code>javax.servlet.ServletContext.log(...)</code> to write log messages are handled by internal Tomcat logging. Such messages are logged to the category named</p>\n<p><code>org.apache.catalina.core.ContainerBase.[${engine}].[${host}].[${context}]</code></p>\n<p>This logging is performed according to the Tomcat logging configuration. You cannot overwrite it in a web application.</p>\n</blockquote>\n<p><a href=\"https://tomcat.apache.org/tomcat-7.0-doc/logging.html#Console\" rel=\"nofollow noreferrer\">Where the logs live</a>:</p>\n<blockquote>\n<p>When running Tomcat on unixes, the console output is usually redirected to the file named <code>catalina.out</code>. The name is configurable using an environment variable.<br />\n...<br />\nWhen running as a service on Windows, the console output is also caught and redirected, but the file names are different.</p>\n</blockquote>\n"},{"answer_id":37316813,"body":"<p>They will be logged to the file localhost.${today}.log.</p>\n\n<p>As Maks said, ServletContext#log will logged with the category <code>org.apache.catalina.core.ContainerBase.</code> and when you look at Tomcat's logging configuration in <code>conf/logging.properties</code>, you'll see that these messages go to files with the prefix <code>localhost.</code></p>\n"}],"last_activity_date":1684745201,"question_id":31063812,"body":"<p>I am using Java 7, tomcat 7. While learning about servlet logging I wrote a simple program.</p>\n\n<pre><code>package net.codejava;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\n\nimport javax.servlet.Servlet;\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n/**\n * Servlet implementation class LogCheck\n */\n@WebServlet(\"/LogCheck\")\npublic class LogCheck extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\n\n/**\n * @see HttpServlet#HttpServlet()\n */\npublic LogCheck() {\n    super();\n    // TODO Auto-generated constructor stub\n}\n\n/**\n * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n */\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n    // TODO Auto-generated method stub\n\n    ServletContext context = getServletContext();\n    String par = request.getParameter(\"msg\");\n\n    if (par == null || par.equals(\"\")){\n        context.log(\"No Message received\",new IllegalStateException(\"Missing Parameter\"));\n    }else{\n        context.log(\"Here is visitor's message:\"+par);\n    }\n\n    PrintWriter out = response.getWriter();\n    out.println(\"Log Testing.\");\n\n}\n\n}\n</code></pre>\n\n<p>Now I am able to see the log messages in my Eclipse console. But I do not see any files under Tomcat Home/logs folder ?\nBut I read that it should store the log messages in some log files. I do not see any log file in my case.</p>\n\n<p>Am I missing some configuraions? Please help</p>\n"},{"comments":[{"comment_id":2283802,"body":"EDIT: Adding a bounty as i needed more clear answer.  the ExecutorService code given below does not address my problem. Why should i sleep() after executing my code? If the code is completed and the sleep() is interrupted, how can that be a timeOut?"},{"comment_id":2288342,"body":"That <code>sleep()</code> was just a stub to represent &quot;long time running task&quot;. Just replace it with your real task ;)"},{"comment_id":2288504,"body":"... a &quot;long time running task&quot; that happens to respond to <code>interrupt()</code> calls on its thread... not all &quot;blocking&quot; calls do, as I tried to point out in my answer. The specifics of the task you are trying to abort make a huge difference in the approach that ought to be used. More information about the task would be helpful."},{"comment_id":2298460,"body":"If these answers are not solving the problem, then I guess more details/code should help to answer."},{"comment_id":2335431,"body":"These threads that you want to time-limit; are they making blocking calls, or are they in some loop where you could easily check some variable to see if it&#39;s time to quit?"},{"comment_id":14081303,"body":"@java_geek: is the answer now more clear?"}],"answers":[{"comments":[{"comment_id":129849717,"body":"What if blocking the current thread is not desirable? What options would one have then?"}],"answer_id":2275522,"body":"<p>Consider using an instance of <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\">ExecutorService</a>.  Both <code>invokeAll()</code> and <code>invokeAny()</code> methods are available with a <code>timeout</code> parameter.  </p>\n\n<p>The current thread will block until the method completes (not sure if this is desirable) either because the task(s) completed normally or the timeout was reached.  You can inspect the returned <code>Future</code>(s) to determine what happened.</p>\n"},{"comments":[{"comment_id":26246494,"body":"In my experience the only code not reacting to begin interrupted is blocking in native code (waiting for the operating system)."},{"comment_id":26249244,"body":"@Thorbj&#248;rnRavnAndersen I agree, but that&#39;s a lot of code. My point is that there&#39;s no general-purpose mechanism for this; you have to understand the interruption policy of the task."},{"comment_id":27462771,"body":"@erickson, I agree with your. To the point answer, There must be a cancellation policy defined for each task, if you are interested in stopping it in it way. Or thread should be aware of what it is supposed to do when it is interrupted. After all, interruption and stopping any thread is just a request which the target thread might accept or reject, so its better to write task keeping this in mind."},{"comment_id":52907712,"body":"cant executorservice opt to run the task on the calling thread? also executorservice may opt to execute the task sometime in the future?"},{"comment_id":52919486,"body":"@user1232726 The <code>execute()</code> method of the parent interface, <code>Executor</code> may run a task in the calling thread. There&#39;s no similar statement for the <code>submit()</code> methods of <code>ExecutorService</code> that return <code>Future</code> instances. The implication of the the service is that there are worker threads that have to be cleaned up via shutdown, and that tasks are executed asynchronously. That said, there&#39;s nothing in the contract that says that the <code>ExecutorService</code> is prohibited from executing tasks in the submitting thread; those guarantees come from the implementation APIs, like <code>Executors</code> factories."}],"answer_id":2275565,"body":"<p>There isn't a 100% reliable way to do this for any old task. The task has to be written with this ability in mind.</p>\n\n<p>Core Java libraries like <code>ExecutorService</code> cancel asynchronous tasks with <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#interrupt()\" rel=\"noreferrer\"><code>interrupt()</code></a> calls on the worker thread. So, for example, if the task contains some sort of loop, you should be checking its <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#interrupted()\" rel=\"noreferrer\">interrupt status</a> on each iteration. If the task is doing I/O operations, they should be interruptible too&mdash;and setting that up can be tricky. In any case, keep in mind that code has to actively check for interrupts; setting an interrupt doesn't necessarily do anything.</p>\n\n<p>Of course, if your task is some simple loop, you can just check the current time at each iteration and give up when a specified timeout has elapsed. A worker thread isn't needed in that case.</p>\n"},{"comments":[{"comment_id":22220239,"body":"Replace <code>Thread.sleep(4000)</code> with some other long-running statement and the example won&#39;t work. In other words, this example would work <b>only</b> if the <code>Task</code> is designed to understand <code>Thread.isInterrupted()</code> status change."},{"comment_id":58808394,"body":"@BalusC I tried this approach trying to terminate my threads, but couldn&#39;t make it work. You can check it out here: <a href=\"http://stackoverflow.com/questions/35553420/producer-consumer-in-java-using-threads-never-terminates\" title=\"producer consumer in java using threads never terminates\">stackoverflow.com/questions/35553420/&hellip;</a>"},{"comment_id":60859590,"body":"How is InterruptedException cuased by future.cancel(true) handled?"},{"comment_id":69300601,"body":"n number of people have commented about the package name, and here&#39;s yet another +1 for it. That&#39;s such a nice skill to be imbibed. Thanks!"},{"comment_id":75583398,"body":"@BalusC I have a doubt, whether the Future will execute synchronously and if it takes more than a predefined time then it would be terminated. Else it would execute in future some time meanwhile we are counting on time... Thank you"},{"comment_id":75583497,"body":"@Adeel: it&#39;s definitely not executed synchronously. Otherwise there&#39;s no point of this all. Perhaps you meant to ask if it&#39;s executed in parallel. Absolutely it is. Otherwise there&#39;s also no point of this all."},{"comment_id":75584842,"body":"I have a use-case of switching between two data sources in case one is taking time. Would you recommend this method?  My doubt is what if the method execution did not even start while breaching the timeout limit? I am confused with parallel vs async method execution. Thanks"},{"comment_id":75585299,"body":"...For instance, we can execute a method async which we don&#39;t care when the response comes even if it is a parallel execution but we don&#39;t want to wait for it and we don&#39;t care when the method will start execution. But in my case, it&#39;s crucial... Thanks"},{"comment_id":75631359,"body":"@BalusC I have started another thread for my doubt. Feel free to suggest. <a href=\"https://stackoverflow.com/questions/44312834/switch-between-primary-to-secondary-source-on-timeout-in-java\" title=\"switch between primary to secondary source on timeout in java\">stackoverflow.com/questions/44312834/&hellip;</a> Appreciate your comments on it."},{"comment_id":91085730,"body":"After <code>executor.shutdownNow()</code>, you may want to <code>while (true) {try {if (executor.awaitTermination(1, TimeUnit.SECONDS)) break;} catch (InterruptedException ie) {}}</code>, since actually stopping the task may take some time."}],"answer_id":2275596,"body":"<p>Indeed rather use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"noreferrer\"><code>ExecutorService</code></a> instead of <code>Timer</code>, here's an <a href=\"http://sscce.org\" rel=\"noreferrer\">SSCCE</a>:</p>\n\n<pre><code>package com.stackoverflow.q2275443;\n\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\npublic class Test {\n    public static void main(String[] args) throws Exception {\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        Future&lt;String&gt; future = executor.submit(new Task());\n\n        try {\n            System.out.println(\"Started..\");\n            System.out.println(future.get(3, TimeUnit.SECONDS));\n            System.out.println(\"Finished!\");\n        } catch (TimeoutException e) {\n            future.cancel(true);\n            System.out.println(\"Terminated!\");\n        }\n\n        executor.shutdownNow();\n    }\n}\n\nclass Task implements Callable&lt;String&gt; {\n    @Override\n    public String call() throws Exception {\n        Thread.sleep(4000); // Just to demo a long running task of 4 seconds.\n        return \"Ready!\";\n    }\n}\n</code></pre>\n\n<p>Play a bit with the <code>timeout</code> argument in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Future.html#get%28long,%20java.util.concurrent.TimeUnit%29\" rel=\"noreferrer\"><code>Future#get()</code></a> method, e.g. increase it to 5 and you'll see that the thread finishes. You can intercept the timeout in the <code>catch (TimeoutException e)</code> block.</p>\n\n<p><strong>Update:</strong> to clarify a conceptual misunderstanding, the <code>sleep()</code> is <strong>not</strong> required. It is just used for SSCCE/demonstration purposes. Just do <strong>your</strong> long running task right there in place of <code>sleep()</code>. Inside your long running task, you should be checking if the thread is not <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#interrupted()\" rel=\"noreferrer\">interrupted</a> as follows:</p>\n\n<pre><code>while (!Thread.interrupted()) {\n    // Do your long running task here.\n}\n</code></pre>\n"},{"answer_id":2319967,"body":"<p>I think the answer mainly depends on the task itself.</p>\n\n<ul>\n<li>Is it doing one task over and over again? </li>\n<li>Is it necessary that the timeout interrupts a currently running task immediately after it expires?</li>\n</ul>\n\n<p>If the first answer is yes and the second is no, you could keep it as simple as this:</p>\n\n<pre><code>public class Main {\n\n    private static final class TimeoutTask extends Thread {\n        private final long _timeoutMs;\n        private Runnable _runnable;\n\n        private TimeoutTask(long timeoutMs, Runnable runnable) {\n            _timeoutMs = timeoutMs;\n            _runnable = runnable;\n        }\n\n        @Override\n        public void run() {\n            long start = System.currentTimeMillis();\n            while (System.currentTimeMillis() &lt; (start + _timeoutMs)) {\n                _runnable.run();\n            }\n            System.out.println(\"execution took \" + (System.currentTimeMillis() - start) +\" ms\");\n        }\n\n    }\n\n    public static void main(String[] args) throws Exception {\n        new TimeoutTask(2000L, new Runnable() {\n\n            @Override\n            public void run() {\n                System.out.println(\"doing something ...\");\n                try {\n                    // pretend it's taking somewhat longer than it really does\n                    Thread.sleep(100);\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }).start();\n    }\n}\n</code></pre>\n\n<p>If this isn't an option, please narrow your requirements - or show some code.</p>\n"},{"answer_id":2328503,"body":"<p>I think you should take a look at proper concurrency handling mechanisms (threads running into infinite loops doesn't sound good per se, btw). Make sure you read a little about the <a href=\"http://java.sun.com/j2se/1.5.0/docs/guide/misc/threadPrimitiveDeprecation.html\" rel=\"noreferrer\">\"killing\" or \"stopping\" Threads</a> topic.</p>\n\n<p>What you are describing,sound very much like a \"rendezvous\", so you may want to take a look at the <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CyclicBarrier.html\" rel=\"noreferrer\">CyclicBarrier</a>.</p>\n\n<p>There may be other constructs (like using <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"noreferrer\">CountDownLatch</a> for example) that can resolve your problem (one thread waiting with a timeout for the latch, the other should count down the latch if it has done it's work, which would release your first thread either after a timeout or when the latch countdown is invoked).</p>\n\n<p>I usually recommend two books in this area: <a href=\"https://rads.stackoverflow.com/amzn/click/com/0201310090\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Concurrent Programming in Java</a> and <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321349601\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Java Concurrency in Practice</a>.</p>\n"},{"answer_id":2334328,"body":"<p>I post you a piece of code which show a way how to solve the problem.\nAs exemple I'm reading a file.\nYou could use this method for another operation, but you need to implements the kill() method so that the main operation will be interrupted.</p>\n\n<p>hope it helps</p>\n\n<pre><code>\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\n\n/**\n * Main class\n * \n * @author el\n * \n */\npublic class Main {\n    /**\n     * Thread which perform the task which should be timed out.\n     * \n     * @author el\n     * \n     */\n    public static class MainThread extends Thread {\n        /**\n         * For example reading a file. File to read.\n         */\n        final private File fileToRead;\n        /**\n         * InputStream from the file.\n         */\n        final private InputStream myInputStream;\n        /**\n         * Thread for timeout.\n         */\n        final private TimeOutThread timeOutThread;\n\n        /**\n         * true if the thread has not ended.\n         */\n        boolean isRunning = true;\n\n        /**\n         * true if all tasks where done.\n         */\n        boolean everythingDone = false;\n\n        /**\n         * if every thing could not be done, an {@link Exception} may have\n         * Happens.\n         */\n        Throwable endedWithException = null;\n\n        /**\n         * Constructor.\n         * \n         * @param file\n         * @throws FileNotFoundException\n         */\n        MainThread(File file) throws FileNotFoundException {\n            setDaemon(false);\n            fileToRead = file;\n            // open the file stream.\n            myInputStream = new FileInputStream(fileToRead);\n            // Instantiate the timeout thread.\n            timeOutThread = new TimeOutThread(10000, this);\n        }\n\n        /**\n         * Used by the {@link TimeOutThread}.\n         */\n        public void kill() {\n            if (isRunning) {\n                isRunning = false;\n                if (myInputStream != null) {\n                    try {\n                        // close the stream, it may be the problem.\n                        myInputStream.close();\n                    } catch (IOException e) {\n                        // Not interesting\n                        System.out.println(e.toString());\n                    }\n                }\n                synchronized (this) {\n                    notify();\n                }\n            }\n        }\n\n        /**\n         * The task which should be timed out.\n         */\n        @Override\n        public void run() {\n            timeOutThread.start();\n            int bytes = 0;\n            try {\n                // do something\n                while (myInputStream.read() >= 0) {\n                    // may block the thread.\n                    myInputStream.read();\n                    bytes++;\n                    // simulate a slow stream.\n                    synchronized (this) {\n                        wait(10);\n                    }\n                }\n                everythingDone = true;\n            } catch (IOException e) {\n                endedWithException = e;\n            } catch (InterruptedException e) {\n                endedWithException = e;\n            } finally {\n                timeOutThread.kill();\n                System.out.println(\"-->read \" + bytes + \" bytes.\");\n                isRunning = false;\n                synchronized (this) {\n                    notifyAll();\n                }\n            }\n        }\n    }\n\n    /**\n     * Timeout Thread. Kill the main task if necessary.\n     * \n     * @author el\n     * \n     */\n    public static class TimeOutThread extends Thread {\n        final long timeout;\n        final MainThread controlledObj;\n\n        TimeOutThread(long timeout, MainThread controlledObj) {\n            setDaemon(true);\n            this.timeout = timeout;\n            this.controlledObj = controlledObj;\n        }\n\n        boolean isRunning = true;\n\n        /**\n         * If we done need the {@link TimeOutThread} thread, we may kill it.\n         */\n        public void kill() {\n            isRunning = false;\n            synchronized (this) {\n                notify();\n            }\n        }\n\n        /**\n         * \n         */\n        @Override\n        public void run() {\n            long deltaT = 0l;\n            try {\n                long start = System.currentTimeMillis();\n                while (isRunning && deltaT &lt; timeout) {\n                    synchronized (this) {\n                        wait(Math.max(100, timeout - deltaT));\n                    }\n                    deltaT = System.currentTimeMillis() - start;\n                }\n            } catch (InterruptedException e) {\n                // If the thread is interrupted,\n                // you may not want to kill the main thread,\n                // but probably yes.\n            } finally {\n                isRunning = false;\n            }\n            controlledObj.kill();\n        }\n    }\n\n    /**\n     * Start the main task and wait for the end.\n     * \n     * @param args\n     * @throws FileNotFoundException\n     */\n    public static void main(String[] args) throws FileNotFoundException {\n        long start = System.currentTimeMillis();\n        MainThread main = new MainThread(new File(args[0]));\n        main.start();\n        try {\n            while (main.isRunning) {\n                synchronized (main) {\n                    main.wait(1000);\n                }\n            }\n            long stop = System.currentTimeMillis();\n\n            if (main.everythingDone)\n                System.out.println(\"all done in \" + (stop - start) + \" ms.\");\n            else {\n                System.out.println(\"could not do everything in \"\n                        + (stop - start) + \" ms.\");\n                if (main.endedWithException != null)\n                    main.endedWithException.printStackTrace();\n            }\n        } catch (InterruptedException e) {\n            System.out.println(\"You've killed me!\");\n        }\n    }\n}\n</code></pre>\n\n<p>Regards</p>\n"},{"comments":[{"comment_id":50908413,"body":"Without a context a statement like yours sounds too restrictive. In academic setting I&#39;ve got very often the need to test something up to a timeout, and when it occurs I simply drop all the computation and record that the timeout occurred. Probably it is rare in the industry, but still..."},{"comment_id":50909221,"body":"@AlessandroS: that&#39;s a reasonable point, though the OP asked for &quot;better solutions,&quot; by which I took to mean that robustness and reliability were preferred over brute force."}],"answer_id":2350682,"body":"<p>One thing that I've not seen mentioned is that killing threads is generally a Bad Idea.  There are techniques for making threaded methods <em>cleanly abortable</em>, but that's different to just killing a thread after a timeout.</p>\n\n<p>The risk with what you're suggesting is that you probably don't know what state the thread will be in when you kill it - so you risk introducing instability. A better solution is to make sure your threaded code either doesn't hang itself, or will respond nicely to an abort request.</p>\n"},{"comments":[{"comment_id":48567420,"body":"What are the imports required? What are <code>SomeClass</code> and <code>Future</code>?"}],"answer_id":2358525,"body":"<p>The following snippet will start an operation in a separate thread, then wait for up to 10 seconds for the operation to complete. If the operation does not complete in time, the code will attempt to cancel the operation, then continue on its merry way. Even if the operation cannot be cancelled easily, the parent thread will not wait for the child thread to terminate.</p>\n\n<pre><code>ExecutorService executorService = getExecutorService();\nFuture&lt;SomeClass&gt; future = executorService.submit(new Callable&lt;SomeClass&gt;() {\n    public SomeClass call() {\n        // Perform long-running task, return result. The code should check\n        // interrupt status regularly, to facilitate cancellation.\n    }\n});\ntry {\n    // Real life code should define the timeout as a constant or\n    // retrieve it from configuration\n    SomeClass result = future.get(10, TimeUnit.SECONDS);\n    // Do something with the result\n} catch (TimeoutException e) {\n    future.cancel(true);\n    // Perform other error handling, e.g. logging, throwing an exception\n}\n</code></pre>\n\n<p>The <code>getExecutorService()</code> method can be implemented in a number of ways. If you do not have any particular requirements, you can simply call <code>Executors.newCachedThreadPool()</code> for thread pooling with no upper limit on the number of threads.</p>\n"},{"answer_id":6714123,"body":"<p>Assuming the thread code is out of your control:</p>\n\n<p>From the Java <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"noreferrer\">documentation</a> mentioned above:</p>\n\n<blockquote>\n  <p><strong>What if a thread doesn't respond to Thread.interrupt?</strong></p>\n  \n  <p>In some cases, you can use application specific tricks. For example,\n  if a thread is waiting on a known socket, you can close the socket to\n  cause the thread to return immediately. Unfortunately, there really\n  isn't any technique that works in general. <em>It should be noted that in\n  all situations where a waiting thread doesn't respond to\n  Thread.interrupt, it wouldn't respond to Thread.stop either.</em> Such\n  cases include deliberate denial-of-service attacks, and I/O operations\n  for which thread.stop and thread.interrupt do not work properly.</p>\n</blockquote>\n\n<p><strong>Bottom Line:</strong></p>\n\n<p>Make sure all threads can be interrupted, or else you need specific knowledge of the thread - like having a flag to set. Maybe you can require that the task be given to you along with the code needed to stop it - define an interface with a <code>stop()</code> method. You can also warn when you failed to stop a task.</p>\n"},{"comments":[{"comment_id":22771246,"body":"The way I do it is to add a &#180;throws Exception&#180; in the public Class&lt;T&gt; call {} method"}],"answer_id":9994232,"body":"<p>BalusC said:</p>\n\n<blockquote>\n  <p>Update: to clarify a conceptual misunderstanding, the sleep() is not required. It is just used for SSCCE/demonstration purposes. Just do your long running task right there in place of sleep().</p>\n</blockquote>\n\n<p>But if you replace <code>Thread.sleep(4000);</code> with <code>for (int i = 0; i &lt; 5E8; i++) {}</code> then it doesn't compile, because the empty loop doesn't throw an <code>InterruptedException</code>.</p>\n\n<p>And for the thread to be interruptible, it needs to throw an <code>InterruptedException</code>. </p>\n\n<p>This seems like a serious problem to me. I can't see how to adapt this answer to work with a general long-running task. </p>\n\n<p>Edited to add: I reasked this as a new question: [ <a href=\"https://stackoverflow.com/questions/10031607/interrupting-a-thread-after-fixed-time-does-it-have-to-throw-interruptedexcepti\">interrupting a thread after fixed time, does it have to throw InterruptedException?</a> ]</p>\n"},{"answer_id":12202874,"body":"<p>I created a helper class just for this some time ago. Works great: </p>\n\n<pre><code>import java.util.concurrent.BrokenBarrierException;\nimport java.util.concurrent.CyclicBarrier;\n/**\n * TimeOut class - used for stopping a thread that is taking too long\n * @author Peter Goransson\n *\n */\npublic class TimeOut {\n\n    Thread interrupter;\n    Thread target;\n    long timeout;\n    boolean success;\n    boolean forceStop;\n\n    CyclicBarrier barrier;\n\n    /**\n     * \n     * @param target The Runnable target to be executed\n     * @param timeout The time in milliseconds before target will be interrupted or stopped\n     * @param forceStop If true, will Thread.stop() this target instead of just interrupt() \n     */\n    public TimeOut(Runnable target, long timeout, boolean forceStop) {      \n        this.timeout = timeout;\n        this.forceStop = forceStop;\n\n        this.target = new Thread(target);       \n        this.interrupter = new Thread(new Interrupter());\n\n        barrier = new CyclicBarrier(2); // There will always be just 2 threads waiting on this barrier\n    }\n\n    public boolean execute() throws InterruptedException {  \n\n        // Start target and interrupter\n        target.start();\n        interrupter.start();\n\n        // Wait for target to finish or be interrupted by interrupter\n        target.join();  \n\n        interrupter.interrupt(); // stop the interrupter    \n        try {\n            barrier.await(); // Need to wait on this barrier to make sure status is set\n        } catch (BrokenBarrierException e) {\n            // Something horrible happened, assume we failed\n            success = false;\n        } \n\n        return success; // status is set in the Interrupter inner class\n    }\n\n    private class Interrupter implements Runnable {\n\n        Interrupter() {}\n\n        public void run() {\n            try {\n                Thread.sleep(timeout); // Wait for timeout period and then kill this target\n                if (forceStop) {\n                  target.stop(); // Need to use stop instead of interrupt since we're trying to kill this thread\n                }\n                else {\n                    target.interrupt(); // Gracefully interrupt the waiting thread\n                }\n                System.out.println(\"done\");             \n                success = false;\n            } catch (InterruptedException e) {\n                success = true;\n            }\n\n\n            try {\n                barrier.await(); // Need to wait on this barrier\n            } catch (InterruptedException e) {\n                // If the Child and Interrupter finish at the exact same millisecond we'll get here\n                // In this weird case assume it failed\n                success = false;                \n            } \n            catch (BrokenBarrierException e) {\n                // Something horrible happened, assume we failed\n                success = false;\n            }\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>It is called like this:</p>\n\n<pre><code>long timeout = 10000; // number of milliseconds before timeout\nTimeOut t = new TimeOut(new PhotoProcessor(filePath, params), timeout, true);\ntry {                       \n  boolean sucess = t.execute(); // Will return false if this times out\n  if (!sucess) {\n    // This thread timed out\n  }\n  else {\n    // This thread ran completely and did not timeout\n  }\n} catch (InterruptedException e) {}  \n</code></pre>\n"},{"answer_id":20581835,"body":"<p>Here is my really <strong><em>simple to use</em></strong> helper class to <strong><em><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Runnable.html#run%28%29\" rel=\"nofollow noreferrer\">run</a></em></strong> or <strong><em><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Callable.html#call%28%29\" rel=\"nofollow noreferrer\">call</a></em></strong> piece of Java code :-)</p>\n\n<p>This is based on the excellent <a href=\"https://stackoverflow.com/questions/2275443/how-to-timeout-a-thread#2275596\">answer</a> from <a href=\"https://stackoverflow.com/users/157882/balusc\">BalusC</a>  </p>\n\n<pre><code>package com.mycompany.util.concurrent;\n\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\n/**\n * Calling {@link Callable#call()} or Running {@link Runnable#run()} code\n * with a timeout based on {@link Future#get(long, TimeUnit))}\n * @author pascaldalfarra\n *\n */\npublic class CallableHelper\n{\n\n    private CallableHelper()\n    {\n    }\n\n    public static final void run(final Runnable runnable, int timeoutInSeconds)\n    {\n        run(runnable, null, timeoutInSeconds);\n    }\n\n    public static final void run(final Runnable runnable, Runnable timeoutCallback, int timeoutInSeconds)\n    {\n        call(new Callable&lt;Void&gt;()\n        {\n            @Override\n            public Void call() throws Exception\n            {\n                runnable.run();\n                return null;\n            }\n        }, timeoutCallback, timeoutInSeconds); \n    }\n\n    public static final &lt;T&gt; T call(final Callable&lt;T&gt; callable, int timeoutInSeconds)\n    {\n        return call(callable, null, timeoutInSeconds); \n    }\n\n    public static final &lt;T&gt; T call(final Callable&lt;T&gt; callable, Runnable timeoutCallback, int timeoutInSeconds)\n    {\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        try\n        {\n            Future&lt;T&gt; future = executor.submit(callable);\n            T result = future.get(timeoutInSeconds, TimeUnit.SECONDS);\n            System.out.println(\"CallableHelper - Finished!\");\n            return result;\n        }\n        catch (TimeoutException e)\n        {\n            System.out.println(\"CallableHelper - TimeoutException!\");\n            if(timeoutCallback != null)\n            {\n                timeoutCallback.run();\n            }\n        }\n        catch (InterruptedException e)\n        {\n            e.printStackTrace();\n        }\n        catch (ExecutionException e)\n        {\n            e.printStackTrace();\n        }\n        finally\n        {\n            executor.shutdownNow();\n            executor = null;\n        }\n\n        return null;\n    }\n\n}\n</code></pre>\n"},{"answer_id":30765917,"body":"<p>Great answer by BalusC's:   </p>\n\n<p>but Just to add that the timeout itself does not interrupt the thread itself. even if you are checking with while(!Thread.interrupted()) in your task. if you want to make sure thread is stopped you should also make sure future.cancel() is invoked when timeout exception is catch.</p>\n\n<pre><code>package com.stackoverflow.q2275443; \n\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\n\npublic class Test { \n    public static void main(String[] args) throws Exception {\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        Future&lt;String&gt; future = executor.submit(new Task());\n\n        try { \n            System.out.println(\"Started..\");\n            System.out.println(future.get(3, TimeUnit.SECONDS));\n            System.out.println(\"Finished!\");\n        } catch (TimeoutException e) {\n            //Without the below cancel the thread will continue to live \n            // even though the timeout exception thrown.\n            future.cancel();\n            System.out.println(\"Terminated!\");\n        } \n\n        executor.shutdownNow();\n    } \n} \n\nclass Task implements Callable&lt;String&gt; {\n    @Override \n    public String call() throws Exception {\n      while(!Thread.currentThread.isInterrupted()){\n          System.out.println(\"Im still running baby!!\");\n      }          \n    } \n} \n</code></pre>\n"},{"answer_id":31835331,"body":"<p>I was looking for an ExecutorService that can interrupt all timed out Runnables executed by it, but found none. After a few hours I created one as below. This class can be modified to enhance robustness.</p>\n\n<pre><code>public class TimedExecutorService extends ThreadPoolExecutor {\n    long timeout;\n    public TimedExecutorService(int numThreads, long timeout, TimeUnit unit) {\n        super(numThreads, numThreads, 0L, TimeUnit.MILLISECONDS, new ArrayBlockingQueue&lt;Runnable&gt;(numThreads + 1));\n        this.timeout = unit.toMillis(timeout);\n    }\n\n    @Override\n    protected void beforeExecute(Thread thread, Runnable runnable) {\n        Thread interruptionThread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    // Wait until timeout and interrupt this thread\n                    Thread.sleep(timeout);\n                    System.out.println(\"The runnable times out.\");\n                    thread.interrupt();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n        interruptionThread.start();\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Runnable abcdRunnable = new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(\"abcdRunnable started\");\n            try {\n                Thread.sleep(20000);\n            } catch (InterruptedException e) {\n                // logger.info(\"The runnable times out.\");\n            }\n            System.out.println(\"abcdRunnable ended\");\n        }\n    };\n\n    Runnable xyzwRunnable = new Runnable() {\n        @Override\n        public void run() {\n            System.out.println(\"xyzwRunnable started\");\n            try {\n                Thread.sleep(20000);\n            } catch (InterruptedException e) {\n                // logger.info(\"The runnable times out.\");\n            }\n            System.out.println(\"xyzwRunnable ended\");\n        }\n    };\n\n    int numThreads = 2, timeout = 5;\n    ExecutorService timedExecutor = new TimedExecutorService(numThreads, timeout, TimeUnit.SECONDS);\n    timedExecutor.execute(abcdRunnable);\n    timedExecutor.execute(xyzwRunnable);\n    timedExecutor.shutdown();\n}\n</code></pre>\n"},{"answer_id":33818245,"body":"<p>Now , l meet a issue like this. It happens to decode picture. The process of decode takes too much time that the screen keep black. l add a time controler: when the time is too long, then pop up from the current Thread.\nThe following is the diff:</p>\n\n<pre><code>   ExecutorService executor = Executors.newSingleThreadExecutor();\n   Future&lt;Bitmap&gt; future = executor.submit(new Callable&lt;Bitmap&gt;() {\n       @Override\n       public Bitmap call() throws Exception {\n       Bitmap bitmap = decodeAndScaleBitmapFromStream(context, inputUri);// do some time consuming operation\n       return null;\n            }\n       });\n       try {\n           Bitmap result = future.get(1, TimeUnit.SECONDS);\n       } catch (TimeoutException e){\n           future.cancel(true);\n       }\n       executor.shutdown();\n       return (bitmap!= null);\n</code></pre>\n"},{"answer_id":45607666,"body":"<p>I had the same problem. So i came up with a simple solution like this. </p>\n\n<pre><code>public class TimeoutBlock {\n\n private final long timeoutMilliSeconds;\n    private long timeoutInteval=100;\n\n    public TimeoutBlock(long timeoutMilliSeconds){\n        this.timeoutMilliSeconds=timeoutMilliSeconds;\n    }\n\n    public void addBlock(Runnable runnable) throws Throwable{\n        long collectIntervals=0;\n        Thread timeoutWorker=new Thread(runnable);\n        timeoutWorker.start();\n        do{ \n            if(collectIntervals&gt;=this.timeoutMilliSeconds){\n                timeoutWorker.stop();\n                throw new Exception(\"&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;****&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Execution Time Exceeded In \"+timeoutMilliSeconds+\" Milli Seconds. Thread Block Terminated.\");\n            }\n            collectIntervals+=timeoutInteval;           \n            Thread.sleep(timeoutInteval);\n\n        }while(timeoutWorker.isAlive());\n        System.out.println(\"&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;####&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; Timeout Block Executed Within \"+collectIntervals+\" Milli Seconds.\");\n    }\n\n    /**\n     * @return the timeoutInteval\n     */\n    public long getTimeoutInteval() {\n        return timeoutInteval;\n    }\n\n    /**\n     * @param timeoutInteval the timeoutInteval to set\n     */\n    public void setTimeoutInteval(long timeoutInteval) {\n        this.timeoutInteval = timeoutInteval;\n    }\n}\n</code></pre>\n\n<p>Guarantees that if block didn't execute within the time limit. the process will terminate and throws an exception.</p>\n\n<p>example :</p>\n\n<pre><code>try {\n        TimeoutBlock timeoutBlock = new TimeoutBlock(10 * 60 * 1000);//set timeout in milliseconds\n        Runnable block=new Runnable() {\n\n            @Override\n            public void run() {\n                //TO DO write block of code \n            }\n        };\n\n        timeoutBlock.addBlock(block);// execute the runnable block \n\n    } catch (Throwable e) {\n        //catch the exception here . Which is block didn't execute within the time limit\n    }\n</code></pre>\n"},{"answer_id":52970708,"body":"<p>In the solution given by <a href=\"https://stackoverflow.com/users/157882/balusc\">BalusC</a>, the main thread will stay blocked for the timeout period. If you have a thread pool with more than one thread, you will need the same number of additional thread that will be using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html#get(long,%20java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">Future.get(long timeout,TimeUnit unit)</a> blocking call to wait and close the thread if it exceeds the timeout period. </p>\n\n<p>A generic solution to this problem is to create a ThreadPoolExecutor Decorator that can add the timeout functionality. This Decorator class should create as many threads as ThreadPoolExecutor has, and all these threads should be used only to wait and close the ThreadPoolExecutor.</p>\n\n<p>The generic class should be implemented like below:</p>\n\n<pre><code>import java.util.List;\nimport java.util.concurrent.*;\n\npublic class TimeoutThreadPoolDecorator extends ThreadPoolExecutor {\n\n\n    private final ThreadPoolExecutor commandThreadpool;\n    private final long timeout;\n    private final TimeUnit unit;\n\n    public TimeoutThreadPoolDecorator(ThreadPoolExecutor threadpool,\n                                      long timeout,\n                                      TimeUnit unit ){\n        super(  threadpool.getCorePoolSize(),\n                threadpool.getMaximumPoolSize(),\n                threadpool.getKeepAliveTime(TimeUnit.MILLISECONDS),\n                TimeUnit.MILLISECONDS,\n                threadpool.getQueue());\n\n        this.commandThreadpool = threadpool;\n        this.timeout=timeout;\n        this.unit=unit;\n    }\n\n    @Override\n    public void execute(Runnable command) {\n        super.execute(() -&gt; {\n            Future&lt;?&gt; future = commandThreadpool.submit(command);\n            try {\n                future.get(timeout, unit);\n            } catch (InterruptedException e) {\n                Thread.currentThread().interrupt();\n            } catch (ExecutionException | TimeoutException e) {\n                throw new RejectedExecutionException(e);\n            } finally {\n                future.cancel(true);\n            }\n        });\n    }\n\n    @Override\n    public void setCorePoolSize(int corePoolSize) {\n        super.setCorePoolSize(corePoolSize);\n        commandThreadpool.setCorePoolSize(corePoolSize);\n    }\n\n    @Override\n    public void setThreadFactory(ThreadFactory threadFactory) {\n        super.setThreadFactory(threadFactory);\n        commandThreadpool.setThreadFactory(threadFactory);\n    }\n\n    @Override\n    public void setMaximumPoolSize(int maximumPoolSize) {\n        super.setMaximumPoolSize(maximumPoolSize);\n        commandThreadpool.setMaximumPoolSize(maximumPoolSize);\n    }\n\n    @Override\n    public void setKeepAliveTime(long time, TimeUnit unit) {\n        super.setKeepAliveTime(time, unit);\n        commandThreadpool.setKeepAliveTime(time, unit);\n    }\n\n    @Override\n    public void setRejectedExecutionHandler(RejectedExecutionHandler handler) {\n        super.setRejectedExecutionHandler(handler);\n        commandThreadpool.setRejectedExecutionHandler(handler);\n    }\n\n    @Override\n    public List&lt;Runnable&gt; shutdownNow() {\n        List&lt;Runnable&gt; taskList = super.shutdownNow();\n        taskList.addAll(commandThreadpool.shutdownNow());\n        return taskList;\n    }\n\n    @Override\n    public void shutdown() {\n        super.shutdown();\n        commandThreadpool.shutdown();\n    }\n}\n</code></pre>\n\n<p>The above decorator can be used as below:</p>\n\n<pre><code>import java.util.concurrent.SynchronousQueue;\nimport java.util.concurrent.ThreadPoolExecutor;\nimport java.util.concurrent.TimeUnit;\n\npublic class Main {\n\n    public static void main(String[] args){\n\n        long timeout = 2000;\n\n        ThreadPoolExecutor threadPool = new ThreadPoolExecutor(3, 10, 0, TimeUnit.MILLISECONDS, new SynchronousQueue&lt;&gt;(true));\n\n        threadPool = new TimeoutThreadPoolDecorator( threadPool ,\n                timeout,\n                TimeUnit.MILLISECONDS);\n\n\n        threadPool.execute(command(1000));\n        threadPool.execute(command(1500));\n        threadPool.execute(command(2100));\n        threadPool.execute(command(2001));\n\n        while(threadPool.getActiveCount()&gt;0);\n        threadPool.shutdown();\n\n\n    }\n\n    private static Runnable command(int i) {\n\n        return () -&gt; {\n            System.out.println(\"Running Thread:\"+Thread.currentThread().getName());\n            System.out.println(\"Starting command with sleep:\"+i);\n            try {\n                Thread.sleep(i);\n            } catch (InterruptedException e) {\n                System.out.println(\"Thread \"+Thread.currentThread().getName()+\" with sleep of \"+i+\" is Interrupted!!!\");\n                return;\n            }\n            System.out.println(\"Completing Thread \"+Thread.currentThread().getName()+\" after sleep of \"+i);\n        };\n\n    }\n}\n</code></pre>\n"},{"answer_id":76304427,"body":"<p>I would suggest to use <code>ExecutorCompletionService</code>'s poll method with timeout parameter. <code>ExecutorCompletionService</code> internally uses <code>LinkedBlockingQueue</code> for the completed tasks.</p>\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(1);\nExecutorCompletionService executorCompletionService = new ExecutorCompletionService(executorService);\nexecutorCompletionService.submit(() - &gt; yourTask());\nFuture&lt;ReturnType&gt; future = executorCompletionService.poll(yourTimeout, TimeUnit.SECONDS);\nif (Objects.isNull(future)) {\n      // Here future is null, it means your task was not completed within the given time.\n}\n</code></pre>\n<p>Above code snippet is for <code>Callable&lt;ReturnType&gt;</code>, if your task is <code>Runnable</code> then you may use <code>executorCompletionService.submit(() - &gt; yourTask(), yourReturnObject)</code></p>\n"}],"last_activity_date":1684745189,"question_id":2275443,"body":"<p>I want to run a thread for some fixed amount of time. If it is not completed within that time, I want to either kill it, throw some exception, or handle it in some way. How can it be done?</p>\n\n<p>One way of doing it as I figured out from <a href=\"http://groups.google.com.br/group/comp.lang.java.programmer/msg/0fea9dd5f0117a7f\" rel=\"noreferrer\">this thread</a>\nis to use a TimerTask inside the run() method of the Thread.</p>\n\n<p>Are there any better solutions for this?</p>\n\n<p>&nbsp;<br>\nEDIT: Adding a bounty as I needed a clearer answer. The ExecutorService code given below does not address my problem. Why should I sleep() after executing (some code - I have no handle over this piece of code)? If the code is completed and the sleep() is interrupted, how can that be a timeOut?</p>\n\n<p>The task that needs to be executed is not in my control. It can be any piece of code. The problem is this piece of code might run into an infinite loop. I don't want that to happen. So, I just want to run that task in a separate thread. The parent thread has to wait till that thread finishes and needs to know the status of the task (i.e whether it timed out or some exception occured or if its a success). If the task goes into an infinite loop, my parent thread keeps on waiting indefinitely, which is not an ideal situation.</p>\n"},{"comments":[{"comment_id":134442606,"body":"You just configure these projects as modules in IntelliJ IDEA. Different VCS repositories will work as well. Define dependencies between the modules per <a href=\"https://www.jetbrains.com/help/idea/working-with-module-dependencies.html#add-a-new-dependency\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>. Refactorings will work across your modules. See <a href=\"https://www.jetbrains.com/help/idea/migrating-from-eclipse-to-intellij-idea.html#no-workspace\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>."},{"comment_id":134443015,"body":"Should have mentioned I use maven for dependency management. When I manually add the dependency the way you describe I get a warning from Intellij &quot;module app is imported From Maven. Any changes made in its configuration might be lost after reimporting&quot;, basically telling me not to tinker with buildpath outside maven. I know I could create a new project in maven and put these two as submodules, but I would like to avoid that."},{"comment_id":134443057,"body":"Maven multi-module project is the way to go."},{"comment_id":134443723,"body":"But, can I use a plugin to override Intellij&#39;s refactor behaviour?"},{"comment_id":134443739,"body":"Probably, but that would be an overkill."}],"answers":[{"answer_id":76270534,"body":"<p>What I ended doing: I created a third project to act as a parent, checked out both app and lib as github submodules and then modified the parent pom to also include them as modules. Both projects are visible from Intellij, refactoring works and projects remain independent in their respective repos.</p>\n"}],"last_activity_date":1684745115,"question_id":76237296,"body":"<p>I have two Java projects, App and Lib. App depends on Lib, yet they are in different repositories.</p>\n<p>I would like to have them both open in the same Intellij window, refactor a constant within Lib, and have that applied in App as well.</p>\n<p>I am wondering what is the best way to approach this: implementing the function in Intellij src and submit a PR or creating a plugin.</p>\n<p>My preference would be to create a plugin because the PR may not be accepted. At the same time, I would like to avoid implementing refactoring if I can, my intention is just to extend Intellij's refactoring scope to include all open projects. Not sure if a plugin can just override application functionality.</p>\n<p>Edit: Maven is used for dependency management.</p>\n"},{"last_activity_date":1684744978,"question_id":76302175,"body":"<p>I am trying to make 2 apps login with 1 auth. My App number one gonna provide JWT token in cookie and I want that my app number 2 use that cookie to serve @PreAUthrize. I have full functionality in my first App, but honestly I have no clue how to mix them together. Here is my first app auth:</p>\n<pre><code>@Component\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\n\n  private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n\n  @Override\n  public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n      throws IOException, ServletException {\n    logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n    response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n    response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n\n    final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n    body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\n    body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n    body.put(&quot;message&quot;, authException.getMessage());\n    body.put(&quot;path&quot;, request.getServletPath());\n\n    final ObjectMapper mapper = new ObjectMapper();\n    mapper.writeValue(response.getOutputStream(), body);\n  }\n}\n\n</code></pre>\n<pre><code>public class AuthTokenFilter extends OncePerRequestFilter {\n\n  @Autowired\n  private JwtUtils jwtUtils;\n\n  @Autowired\n  private UserDetailsService userDetailsService;\n\n  private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilter.class);\n\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n      throws ServletException, IOException {\n    try {\n      String jwt = parseJwt(request);\n      if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n        String username = jwtUtils.getUserNameFromJwtToken(jwt);\n\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n        UsernamePasswordAuthenticationToken authentication =\n            new UsernamePasswordAuthenticationToken(userDetails,\n                null,\n                userDetails.getAuthorities());\n\n        authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n      }\n    } catch (Exception e) {\n      logger.error(&quot;Cannot set user authentication: {}&quot;, e);\n    }\n\n    filterChain.doFilter(request, response);\n  }\n\n  private String parseJwt(HttpServletRequest request) {\n    String jwt = jwtUtils.getJwtFromCookies(request);\n    return jwt;\n  }\n}\n\n</code></pre>\n<pre><code>@Component\npublic class JwtUtils {\n    private static final Logger logger = LoggerFactory.getLogger(JwtUtils.class);\n\n    @Value(&quot;${tfg.app.jwtSecret}&quot;)\n    private String jwtSecret;\n\n    @Value(&quot;${tfg.app.jwtExpirationMs}&quot;)\n    private int jwtExpirationMs;\n\n    @Value(&quot;${tfg.app.jwtCookieName}&quot;)\n    private String jwtCookie;\n\n\n    public String getJwtFromCookies(HttpServletRequest request) {\n        Cookie cookie = WebUtils.getCookie(request, jwtCookie);\n        if (cookie != null) {\n            return cookie.getValue();\n        } else {\n            return null;\n        }\n    }\n\n    public ResponseCookie generateJwtCookie(EmployeeEntity userPrincipal) {\n        String jwt = generateTokenFromUsername(userPrincipal.getUsername());\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, jwt).path(&quot;/&quot;).maxAge(30000).httpOnly(true).build();\n        return cookie;\n    }\n\n    public ResponseCookie getCleanJwtCookie() {\n        ResponseCookie cookie = ResponseCookie.from(jwtCookie, null).path(&quot;/api&quot;).build();\n        return cookie;\n    }\n\n    public String getUserNameFromJwtToken(String token) {\n        return Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(token).getBody().getSubject();\n    }\n\n    public boolean validateJwtToken(String authToken) {\n        try {\n            Jwts.parser().setSigningKey(jwtSecret).parseClaimsJws(authToken);\n            return true;\n        } catch (SignatureException e) {\n            logger.error(&quot;Invalid JWT signature: {}&quot;, e.getMessage());\n        } catch (MalformedJwtException e) {\n            logger.error(&quot;Invalid JWT token: {}&quot;, e.getMessage());\n        } catch (ExpiredJwtException e) {\n            logger.error(&quot;JWT token is expired: {}&quot;, e.getMessage());\n        } catch (UnsupportedJwtException e) {\n            logger.error(&quot;JWT token is unsupported: {}&quot;, e.getMessage());\n        } catch (IllegalArgumentException e) {\n            logger.error(&quot;JWT claims string is empty: {}&quot;, e.getMessage());\n        }\n\n        return false;\n    }\n\n    public String generateTokenFromUsername(String username) {\n        return Jwts.builder()\n                .setSubject(username)\n                .setIssuedAt(new Date())\n                .setExpiration(new Date((new Date()).getTime() + jwtExpirationMs))\n                .signWith(SignatureAlgorithm.HS512, jwtSecret)\n                .compact();\n    }\n}\n\n</code></pre>\n<pre><code>public class SecurityConfiguration {\n\n    @Autowired\n    PasswordEnconderConfig passwordEnconderConfig;\n\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n    @Bean\n    public AuthTokenFilter authenticationJwtTokenFilter() {\n        return new AuthTokenFilter();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEnconderConfig.passwordEncoder());\n\n        return authProvider;\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>I tried to pass this bean to my second app with al JWT stuff and obviusly provided same key, but cannot extract UserDetails and don't know how to do it.</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.cors().and().csrf().disable()\n                .exceptionHandling().authenticationEntryPoint(unauthorizedHandler).and()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeHttpRequests().requestMatchers(&quot;/auth/**&quot;).permitAll()\n                .anyRequest().authenticated();\n\n        http.authenticationProvider(authenticationProvider());\n\n        http.addFilterBefore(authenticationJwtTokenFilter(), UsernamePasswordAuthenticationFilter.class);\n\n        return http.build();\n    }\n</code></pre>\n<p>EDIT1: I thought maybe just extract userDetails from JWT is viable and implements that in my second app. I don´t know how to extract that, does it gives me all info I need like permission and also don´t know how to implmenets that automaticly.</p>\n"},{"last_activity_date":1684744570,"question_id":76304371,"body":"<p>In my application based in Java on the front end and using WildFly Keycloack on the backend, we are displying a PTV Vector map in one of the application views using the following libraries:</p>\n<ul>\n<li>ol.js</li>\n<li>JavaFx</li>\n<li>olms.js</li>\n<li>require.js</li>\n<li>PTV/MapBox implentations</li>\n</ul>\n<p><strong>The issue is that the small label for street names is not displayed correctly. It looks as if the center/position it has for street names is different to the rest of elements in the map since they are displayed correctly.</strong></p>\n<p>For instance, the following image shows two examples of text labels, one being displayed as expected and the issue for which this thread has been created. <a href=\"https://i.stack.imgur.com/uW7cj.png\" rel=\"nofollow noreferrer\">Map text labels</a></p>\n<p>As per my observations, the following block of code in our standard.json file will display both text labels mentioned above.</p>\n<pre><code>{\n            &quot;id&quot;: &quot;TSP_RoadLocal_Label&quot;,\n            &quot;type&quot;: &quot;symbol&quot;,\n            &quot;source&quot;: &quot;ptv&quot;,\n            &quot;source-layer&quot;: &quot;LayerTransport&quot;,\n            &quot;minzoom&quot;: 13,\n            &quot;filter&quot;: [\n                &quot;all&quot;,\n                [\n                    &quot;==&quot;,\n                    &quot;$type&quot;,\n                    &quot;LineString&quot;\n                ],\n                [\n                    &quot;==&quot;,\n                    &quot;display_class&quot;,\n                    5\n                ]\n            ],\n            &quot;layout&quot;: {\n                &quot;icon-rotation-alignment&quot;: &quot;auto&quot;,\n                &quot;symbol-placement&quot;: &quot;line&quot;,\n                &quot;text-font&quot;: [\n                    &quot;Noto Sans Regular&quot;\n                ],\n                &quot;text-size&quot;: {\n                    &quot;stops&quot;: [\n                        [\n                            10,\n                            8\n                        ],\n                        [\n                            20,\n                            14\n                        ]\n                    ]\n                },\n                &quot;text-letter-spacing&quot;: 0.1,\n                &quot;text-field&quot;: &quot;{street_name}&quot;\n            },\n            &quot;paint&quot;: {\n                &quot;text-color&quot;: &quot;#1B1C1F&quot;,\n                &quot;text-opacity&quot;: {\n                    &quot;stops&quot;: [\n                        [\n                            13,\n                            0\n                        ],\n                        [\n                            14,\n                            1\n                        ]\n                    ]\n                },\n                &quot;text-halo-color&quot;: &quot;hsl(0, 0%, 100%)&quot;,\n                &quot;text-halo-width&quot;: 2\n            }\n        }\n</code></pre>\n<p>What I would like to know is why some text labels are not displayed correctly and some others are displayed as expected.</p>\n<p>Following is the HTML code:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; charset='utf-8' /&gt;\n&lt;meta name=&quot;viewport&quot;\n    content=&quot;width= 100, initial-scale=1.0, user-scalable=no&quot; /&gt;\n\n&lt;style type=&quot;text/css&quot;&gt;\nhtml {\n    height: 100%\n}\n\nbody {\n    height: 100%;\n    margin: 0;\n    padding: 0\n}\n\n#map_canvas {\nposition:absolute; top:0; bottom:0; width:100%;\n    height: 100%\n}\n&lt;/style&gt;\n\n&lt;script src=&quot;libraries/ol.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;libraries/olms.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;libraries/require.js&quot;&gt;&lt;/script&gt;\n\n&lt;script\n    src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div id=&quot;map_canvas&quot; style=&quot;height: 100%; width: 100%&quot;&gt;&lt;/div&gt;\n    &lt;script&gt;\n\n    var fromProjection;\n    var toProjection;\n    var zoom;\n\n    var apiUrl = 'https://api.myptv.com/maps/v1/vector-tiles/{z}/{x}/{y}?apiKey=';\n    var apiKey;\n    var urlTemplate = apiUrl + apiKey;\n    var jsonStyle;\n\n    var map;\n\n    function setApiKey(api) {\n        apiKey = api;\n        urlTemplate = apiUrl + apiKey;\n    }\n\n    function init() {\n\n        try {\n\n            if (map != null) {\n                return;\n            }\n\n            map = new ol.Map({\n                target: 'map_canvas',\n                view: new ol.View({ center: ol.proj.transform([8.7528, 50.377], 'EPSG:4326', 'EPSG:3857'), zoom: 18}),\n                controls:[]\n            });\n\n            const layer = new ol.layer.VectorTile({\n                source: new ol.source.VectorTile({\n                    format: new ol.format.MVT(),\n                    url:\n                        urlTemplate,\n                    maxZoom: 18,\n                }),\n            });\n\n\n            fetch('./libraries/standard.json')\n            .then((response) =&gt; response.json())\n            .then((json) =&gt; layer.setStyle(olms.stylefunction(layer,json, 'ptv')));\n            \n            map.addLayer(layer);\n\n        } catch (e) {\n            console.log(e);\n        }\n    }\n\n    function getMap() {\n        init();\n\n        return map;\n    }\n\n    function getZoom() {\n\n        return zoom;\n    }\n\n    function setZoom(zoomLvl) {\n\n        zoom = zoomLvl;\n        getMap().getView().setZoom(zoom);\n    }\n\n    function getCenterLat() {\n\n        return ol.proj.transform(getMap().getView().getCenter(), 'EPSG:3857', 'EPSG:4326')[1];\n    }\n\n    function getCenterLng() {\n\n        return ol.proj.transform(getMap().getView().getCenter(), 'EPSG:3857', 'EPSG:4326')[0];\n    }\n\n    function setCenter(lat, lng) {\n        try {\n            getMap().getView().setCenter(ol.proj.transform([lng, lat], 'EPSG:4326', 'EPSG:3857'));\n        } catch (e) {\n            console.log(e)\n        }\n    }\n\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>Lastly, this is the renderer Java class:</p>\n<pre><code>import java.net.URL;\nimport java.util.Vector;\nimport javafx.application.Platform;\n\npublic class PTVDevVectorMapRenderer extends AbstractHtmlInteractiveMapRenderer {\n\n  private static final long serialVersionUID = 1L;\n  public String apiKey = KonstantenCache.getWertGCW(&quot;PTV_DEVELOPER&quot;, &quot;PTV_API_KEY&quot;);\n  \n  public PTVDevVectorMapRenderer() {\n\n    super();\n    initializeMap();\n  }\n\n  /**\n   * Initialize PTV Map\n   */\n  public void initializeMap() {\n    final URL urlPTVMaps = getClass().getResource(&quot;PTVDevVectorMap.html&quot;);\n    htmlRenderer.setContent(urlPTVMaps.toExternalForm());\n\n    // Blocking call. Waits until WebEngine is loaded\n    refresh();\n    Platform.runLater(new Runnable() {\n\n      @Override\n      public void run() {\n\n        setApiKey();\n        String scriptInit = &quot;init()&quot;;\n        htmlRenderer.execute(scriptInit);\n        \n      }});\n  }\n  \n  public void setApiKey() {\n    String apiKey = KonstantenCache.getWertGCW(&quot;PTV_DEVELOPER&quot;, &quot;PTV_API_KEY&quot;);\n    String scriptApiKey = &quot;setApiKey('&quot; + apiKey + &quot;')&quot;;\n    //String.format(&quot;setApiKey('%s')&quot;, apiKey);\n    htmlRenderer.execute(scriptApiKey);\n  }\n\n  @Override\n  public void setCenter(\n      double lat,\n      double lng) {\n\n    String scriptCenter = &quot;setCenter(&quot; + lat + &quot;,&quot; + lng + &quot;)&quot;;\n    htmlRenderer.execute(scriptCenter);\n  }\n\n  @Override\n  public double getCenterLat() {\n\n    double centerLat = (double) htmlRenderer.executeAndReturn(&quot;getCenterLat()&quot;);\n    return centerLat;\n  }\n\n  @Override\n  public double getCenterLng() {\n\n    double centerLng = (double) htmlRenderer.executeAndReturn(&quot;getCenterLng()&quot;);\n    return centerLng;\n  }\n\n\n  @Override\n  public int getZoom() {\n    \n    Object obj = htmlRenderer.executeAndReturn(&quot;getZoom()&quot;);\n    \n    if (obj instanceof String) {\n      // String is &quot;undefined&quot;, thus the map is not completely loaded yet.\n      return 13;\n    }\n\n    return (int) obj;\n  }\n\n  @Override\n  public void setZoom(\n      int zoom) {\n\n    String script = &quot;setZoom(&quot; + zoom + &quot;)&quot;;\n    htmlRenderer.execute(script);\n  }\n\n  @Override\n  public int getMaxZoomLvl() {\n\n    return 19;\n  }\n\n  @Override\n  public int getMinZoomLvl() {\n\n    return 3;\n  }\n\n  @Override\n  public double getDistance(\n      double[] objectPoint,\n      double[] objectPoint2) {\n\n    String script = &quot;calcDistance(&quot; + objectPoint[0] + &quot;,&quot; + objectPoint[1] + &quot;,&quot; + objectPoint2[0] + &quot;,&quot;\n        + objectPoint2[1] + &quot;)&quot;;\n    double distance = (double) htmlRenderer.executeAndReturn(script);\n    return distance;\n  }\n\n  @Override\n  public void setRoute(\n      double[] objectPoint,\n      double[] objectPoint2) {\n\n  }\n\n  @Override\n  public Vector&lt;?&gt; getRoutePoints(\n      double[] objectPoint,\n      double[] objectPoint2) {\n\n    return null;\n  }\n\n  @Override\n  public Vector&lt;double[]&gt; getFahrtgebiet() {\n    return null;\n  }\n\n  @Override\n  public double[] getFahrtgebietPoint() {\n    return null;\n  }\n}\n\n</code></pre>\n<p>Thanks a lot for your time and help!</p>\n"},{"answers":[{"answer_id":26089537,"body":"<p>You problem is that the next int doesn't consider the new line character which goes in the input for your name part. Hence name is returned as blank.</p>\n\n<p>You can change your code in 2 ways:</p>\n\n<pre><code>System.out.print(\"Enter your age : \");\nage = keyboard.nextInt();\nkeyboard.nextLine();\nSystem.out.print(\"Enter your name: \");\nname = keyboard.nextLine();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>System.out.print(\"Enter your age : \");\nage = Integer.parseInt(keyboard.nextLine().trim());\nSystem.out.print(\"Enter your name: \");\nname = keyboard.nextLine();\n</code></pre>\n\n<p>I personally like the second way.</p>\n"}],"last_activity_date":1684744362,"question_id":26089522,"body":"<p>It's not letting me put my name in but it does the age works fine.\nI know i can change the order of the statements but is there another way I could do it?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ScannerErr2\n{\n  public static void main(String [] args)\n  {\n    Scanner keyboard= new Scanner(System.in);\n    String name;\n    int    age;\n\n    System.out.print(\"Enter your age : \");\n    age= keyboard.nextInt();\n    System.out.print(\"Enter your name: \");\n    name= keyboard.nextLine();\n\n    System.out.println(\"Age : \"+age);\n    System.out.println(\"Name: \"+name);\n  }\n}\n</code></pre>\n"},{"comments":[{"comment_id":45385060,"body":"Consume a line at a time. Split the line on space, convert the resulting strings to ints."},{"comment_id":45385070,"body":"do You want to read only single and first row??"}],"answers":[{"comments":[{"comment_id":45385566,"body":"@Maxitus - You are wc :)"}],"answer_id":28535400,"body":"<ol>\n<li>Use <code>hasNextLine()</code> in a <code>while</code> loop</li>\n<li>read the <em>lines</em> using <code>nextLine()</code> </li>\n<li>then split the values based on \"space[s]\"</li>\n<li>Parse each value as an Integer</li>\n<li>add them.</li>\n</ol>\n\n<p>And <em>realize</em> OMG, this is faster than using <code>nextInt()</code></p>\n"}],"last_activity_date":1684744295,"question_id":28535367,"body":"<p>Quick Java question: So I have a set of integers on two different lines, however, I want to regard them in different scenarios.</p>\n\n<p>So I have a for loop that I want to continue through a list of integers and add them to, say an ArrayList, but I want it to stop before going to the next line.</p>\n\n<p>Like I would want it to stop at 2 in this situation:</p>\n\n<pre><code>1 4 2 91 4 0 2\n3 5 8 6 9 88\n</code></pre>\n\n<p>hasNextInt() stops at 88 instead of 2 like I would want it to (which makes sense).</p>\n\n<p>So my question: is there a way to make it stop before going to the next line? I tried both nextInt() and next() and they both continued to the next line.</p>\n\n<p>My code:</p>\n\n<pre><code>while (scan.hasNextInt())\n        {\n            if (stop == 'A')\n                passengers.put(stop, scan.nextInt() + subtract);\n            else \n                passengers.put(stop, passengers.get((char)(stop - 1)) + scan.nextInt() + subtract);\n            System.out.println(passengers);\n            if (scan.hasNext())\n                subtract = scan.nextInt();\n            else\n                break;\n            stop++;\n        }\n</code></pre>\n"},{"comments":[{"comment_id":134529872,"body":"That is an <i>incomplete</i> stacktrace.  You have omitted the part of the log message that shows the exception message.   And if you are getting an exception, that is not an indication that it is &quot;stuck&quot;.  Rather, it most likely means that it failed."},{"comment_id":134530090,"body":"updated stack trace. The request stuck for approximately one minute and then I see this log. But the successful response I got for approximately 2 seconds."},{"comment_id":134530137,"body":"Possible reasons for &quot;random&quot; failure could be: 1) random network failures, 2) problems caused by network, router, firewall, etc misconfiguration, 3) network congestion, 4) some kind of anti-DOS or anti-scraper defenses being triggered, 5) bugs on the server side, 6) etcetera."},{"comment_id":134530172,"body":"Ah ... based on your updated log message, another possibility strikes me.  It could be that the server is draining its source of entropy (for generating random keys) and that is blocking it.   But that presupposes that that the server has been set up the wrong way; see <a href=\"https://serverfault.com/questions/1012010/can-ssl-tls-deplete-the-entropy-pool-of-my-server\" title=\"can ssl tls deplete the entropy pool of my server\">serverfault.com/questions/1012010/&hellip;</a>"},{"comment_id":134530216,"body":"My advice would be to look on the server side to see if problems show up there; e.g. in the logs.  If that doesn&#39;t help, use your favorite packet sniffing tool to try to isolate the problem to the client, server or network."},{"comment_id":134530276,"body":"@StephenC same code is working well on another env. It&#39;s some infra issue I guess. The server is located in the China region. But why it&#39;s not repro with curl command then."},{"comment_id":134530843,"body":"Probably because what you are sending with curl is (maybe subtly) different.  Packet sniffing may show what the differences are."}],"last_activity_date":1684743946,"question_id":76288795,"body":"<p>I am using java 8 and Jboss EAP 7.3.9. When I call 3-d party service randomly my application sometimes didn't get response. It's repro only on specific env(It's located in China region). On other env with same code it's not repro. In logs I see next warning:</p>\n<pre><code>13:30:05,000 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper) ARJUNA012117: TransactionReaper::check timeout for TX 0:ffff0a9c8950:73df8c47:646382ee:1257 in state  RUN\n13:30:05,003 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012095: Abort of action id 0:ffff0a9c8950:73df8c47:646382ee:1257 invoked while multiple threads active within it.\n13:30:05,006 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012381: Action id 0:ffff0a9c8950:73df8c47:646382ee:1257 completed with multiple threads - thread default task-2 was in progress with java.net.SocketInputStream.socketRead0(Native Method)\n    java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    java.net.SocketInputStream.read(SocketInputStream.java:171)\n    java.net.SocketInputStream.read(SocketInputStream.java:141)\n    sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:464)\n    sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:165)\n    sun.security.ssl.SSLTransport.decode(SSLTransport.java:109)\n    sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1397)\n    sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1305)\n    sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n    org.apache.http.conn.ssl.SSLConnectionSocketFactory.createLayeredSocket(SSLConnectionSocketFactory.java:436)\n    org.apache.http.conn.ssl.SSLConnectionSocketFactory.connectSocket(SSLConnectionSocketFactory.java:384)\n    org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\n    org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\n    org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\n    org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:320)\n    org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:447)\n    org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:64)\n    org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.get(ClientInvocationBuilder.java:191)\n    com.my.service.impl.ClientServiceImpl.validate(ClientServiceImpl.java:99)\n</code></pre>\n<p>I use next code to execute request :</p>\n<pre><code>Client restClient = ClientBuilder.newBuilder();\nWebTarget target = restClient.target(uri);\n               response = target.queryParam(&quot;token&quot;, value).queryParam(&quot;key&quot;, Key).request().get().readEntity(Response.class);\n</code></pre>\n<p>What is the possible reasons why it randomly fails? Tried to reproduce with the curl command but without success.</p>\n"},{"comments":[{"comment_id":95301968,"body":"Why don&#39;t you check performance yourself under load or using currentMillis and tell us? It really depends on various number of factors like json size and etc"},{"comment_id":95301979,"body":"Everytime you have to decide between parse and regex, go for parse. A parser has strict rules which get maintained (almost always) by a team of professionals. Whereas writing your own regex is quite error-prone"},{"comment_id":95302052,"body":"<code>Everytime you have to decide between parse and regex, go for parse</code> Well it&#39;s not true, if performance is really a bottleneck you can consider to do something crazy. As as I said if it&#39;s really so."},{"comment_id":95302206,"body":"@deathangel908 true, with highly specialized code you might be able to squeeze out some performance but string manipulation on Json you can&#39;t control is bound to get buggy in a nasty way. And if you can control the Json (structure, contents etc.) then there are probably faster, easier and less error prone ways to implement it by changing the Json/api itself."},{"comment_id":95302409,"body":"Ways regex can break when &quot;just appending a few zeroes to a number&quot; if you don&#39;t fully control possible inputs: the string expected to be a number contains non-digits (e.g. <code>.</code> or <code>E</code>)  - what do you do? Silently leave the input unmodified? Throw? Append zeroes anyway? What if the &quot;number&quot; is <code>0</code> - is appending a few more zeroes the right thing to do, or did you mean to add <code>+1000</code>?"},{"comment_id":95302935,"body":"Of course, there are rare occasions where &quot;just appending&quot; something is correct - for example, these numbers might be some kind of serial number, where one of two systems appends some additional digits that the other one omits because they are known to be always zero anyway. Still, I would always prefer parsing, because it gives you more flexibility as to how to react when encountering unexpected input."}],"answers":[{"comments":[{"comment_id":95323992,"body":"this question is about java and not javascript, though you have a probable valid answer in the second paragraph"},{"comment_id":95324186,"body":"Thanks, I didn&#39;t even notice. I&#39;ll update my answer."},{"comment_id":95327910,"body":"I add more manipulations based on your link, and it shows JSON.parse performs better  <a href=\"https://jsbench.me/93jr1w6k5b/1\" rel=\"nofollow noreferrer\">jsbench.me/93jr1w6k5b/1</a>"},{"comment_id":95328191,"body":"@AkiraSendoh That&#39;s because you are comparing two pieces of code which do different things. The first sets <code>number1</code>...<code>number13</code> to be <code>{jsonObject.number}000</code>, and the second sets <code>number</code> to be <code>{number}000</code> 13 times."},{"comment_id":95328380,"body":"I changed to .number instead of number1 ... number13, the result was the same. if several new attributes are created and it should further slow Json Parse approach, or?"},{"comment_id":95341886,"body":"@AkiraSendoh In your fork, the <code>JSON.parse</code> benckmark does a different thing than the <code>.replace</code> one - it set 13 different properties, whereas the second sets the same property 13 different times. Also, the <code>.replace</code> appends <code>000</code> to <code>jsonObj.number</code> on every line."},{"comment_id":95393684,"body":"changing to set 1 property the <code>JSON.parse</code> approach performs still better, and to set 1 property should be less expensive than to set 13 properties. For your second  question, appending 000 indicates one operation for an attribute(or several attributes). This mimics the case that after parsing to JSON, several operations are executed on a Json Object. For manipulating directly on a String, <code>.replace</code> on every line is the only way"}],"answer_id":54240917,"body":"<p>Since I'm not very familiar with JSON parsing/manipulation in Java, I'll compare the same operations in JavaScript (which I am more experienced in).</p>\n\n<p>Comparing using a basic regex with <code>.replace</code> and using <code>JSON.parse</code> &amp; <code>JSON.stringify</code>, the result are that <strong>using <code>JSON.parse</code> is slower by a small percentage</strong> (4.37% to be precise).</p>\n\n<p>However, I don't think the perf gain is worth it, and I would always go with more readable and maintainable code (the <code>JSON.parse</code> approach) rather than the more performant (the <code>.replace</code> approach).</p>\n\n<p>See the complete benchmark I used <a href=\"https://jsbench.me/i3jr0v0svh/1\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"answer_id":76304288,"body":"<p>I would just use the regular expression.</p>\n<p>I imagine the parser is using some form of pattern matching, or most-likely a for-loop on a character stream.</p>\n<pre><code>\\&quot;number\\&quot;:\\s+\\&quot;(\\d+)\\&quot;\n</code></pre>\n<p>You can reference <a href=\"https://www.rfc-editor.org/rfc/rfc8259\" rel=\"nofollow noreferrer\">RFC 8259</a> for a complete BNF on the JSON grammar and syntax.</p>\n"}],"last_activity_date":1684743840,"question_id":54238693,"body":"<p>normally I parse a json string to json object instead of manipulating the json string directly. for example, a json string like</p>\n\n<pre><code>{\"number\": \"1234567\"}\n\n</code></pre>\n\n<p>if I have to add 000 at the end</p>\n\n<pre><code>...\n{...,\"number\" : \"1234567000\",...}\n....\n</code></pre>\n\n<p>I will use jackson either parse it as Json Object or POJO</p>\n\n<p>I understand readability perspective parsing to Json object or POJO is much better, but I'm curious about the performance. In this case, if I manipulate the json string directly, I have to use regex to extract the number attribute, and add 000 at the end, which is much more expensive than parsing to Json Object if having lots of data? because string object basically creates a new string object?</p>\n\n<p><strong>EDIT</strong>:\nBased on @Itai Steinherz's link I also make a benchmark in JS, and it shows json parse is better\n<a href=\"https://jsbench.me/93jr1w6k5b/1\" rel=\"nofollow noreferrer\">https://jsbench.me/93jr1w6k5b/1</a></p>\n"},{"comments":[{"comment_id":85292229,"body":"Fix your code. Stopping updates is like inviting malware in, and you should not do so. Any app that requires stopping updates gets an instant blacklist from every computer on my network and my persona machines. Want yours to join them on every network?"},{"comment_id":85294227,"body":"windows is not installing java updates. The JRE has its own updater."},{"comment_id":85294305,"body":"yes, I want to disable the JRE own updates"}],"answers":[{"answer_id":49143635,"body":"<p>It is highly recommended that you <strong>do not</strong> disable automatic updates, as your programs can become prone to malware.  If you decide to follow through with this, the consequences are your own.</p>\n\n<p>In the Java Control Panel (which you can get to from Windows' Control Panel), navigate to the <code>Update</code> tab, and verify that <code>Automatically check for updates (Recommended)</code> is <strong>unchecked</strong>, as seen in the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/44D5T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44D5T.png\" alt=\"enter image description here\"></a></p>\n\n<p>Next, navigate to the <code>Advanced</code> tab and select the <code>Application Installation</code> sub-tab.  Verify that the <code>Never install</code> radio button <strong>is ticked</strong>, as seen in the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GLwSO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GLwSO.png\" alt=\"enter image description here\"></a></p>\n\n<p>After this, you should be good to go!</p>\n\n<p><strong>Note</strong>: Remember to hit <code>Apply</code> after making any changes to settings within these menus.</p>\n"}],"last_activity_date":1684743584,"question_id":49143379,"body":"<p>Windows will automatically update the JRE when Java posts new updates, but my Elasticsearch only uses jRE of the specified version, how to disable JRE auto-update in Windows system?</p>\n"},{"comments":[{"comment_id":134438871,"body":"Are you sure that the repository is properly auto-configured as JPA repository by Spring Boot? Did the same code actually work in Spring Boot 2? Can you see in the logs: &quot;Bootstrapping Spring Data JPA repositories&quot; and &quot;Found NNN JPA repository interfaces&quot;"},{"comment_id":134438966,"body":"If &quot;SELECT c FROM MyClass c WHERE c.delivered = <i>true</i>&quot; works, doesn&#39;t that mean that DELIVERED is actually a BOOLEAN and not a VARCHAR?"},{"comment_id":134450030,"body":"The same code works in SB 2. The JPA is properly configured and I see the mentioned log. Also, rewriting the query as <code>findAllByDelivered(Boolean delivered);</code> would work. As mentioned, at database layer the underlying type is VARCHAR and a converter is used"},{"comment_id":134467892,"body":"@AlexRoig have you tried <b>to not</b> use <code>is</code> verb? i.e. <code>findAllByDeliveredTrue</code> instead of <code>findAllByDeliveredIsTrue</code>?"},{"comment_id":134468504,"body":"@AndreyB.Panfilov Please state exactly how changing the method name as you suggest could possibly fix this problem. It can&#39;t."},{"comment_id":134468530,"body":"@OP There is no such thing as an <code>isTrue</code> keyword anywhere in your post. Please clarify."},{"comment_id":134468584,"body":"@user207421 I would suggest to read <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">official documentation</a> first: &quot;True findByActiveTrue() … where x.active = true&quot;"},{"comment_id":134474642,"body":"You are carefully handling &quot;null&quot; as a third possible value.  Perhaps the problem is there?"}],"answers":[{"comments":[{"comment_id":134476846,"body":"Null handling is a good point but the BooleanToString converter implementation I have already covers it. The thing is that these queries worked on SpringBoot 2 and out of the blue on Spring Boot 3 they no longer work. It looks like there&#39;s some new query optimiser that replaces the JPQL to <code>c1_0.COND_ACTIU</code> to implicitly test the boolean true state instead of specifying it and as it doesn&#39;t go through the converter, the DB doesn&#39;t actually know what to compare it against. The DB is something I can&#39;t change and there&#39;s a custom ERP and we don&#39;t have control over it."}],"answer_id":76256341,"body":"<p>The code you showed does not work with a boolean, but rather a tri-state value.  Decide what you will do with NULLs.  Then be sure to have 3 cases throughout your code.</p>\n<p>I would not bother trying to fix the yes/no being in a VARCHAR unless you can actually fix the schema and the data.  Instead, test for <code>== 'N'</code> as needed.  (I picked the &quot;no&quot; side because that works with most European languages.</p>\n<p>Note, however, that <code>== 'Y'</code> is not the same as <code>!= 'N'</code> -- because of the NULL option.</p>\n<p>Also, check that the <code>COLLATION</code> of that <code>VARCHAR</code> is case-folding so that 'n' == 'N'.  The collation name should end in `_ci``.</p>\n"},{"answer_id":76304177,"body":"<p>It turns out it's an issue on CriteriaBuilder on Spring Data. The issue is being tracked on the <a href=\"https://github.com/spring-projects/spring-data-jpa/issues/2800\" rel=\"nofollow noreferrer\">repository issue #2800</a>. At the moment of answering it's still not resolved and affected versions are at least <code>Spring Boot 3.0.2</code></p>\n"}],"last_activity_date":1684742950,"question_id":76235394,"body":"<p>I'm seeing something strange after upgrading my app to SpringBoot 3 from SpringBoot 2.</p>\n<p>The application relies on an existing database (MySQL) which doesn't use good practices. One of them is using <code>Y</code> <code>N</code> for booleans stored in a VARCHAR.</p>\n<p>To make things easier on the Java side, I created a converter that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter\npublic class BooleanToStringConverter implements AttributeConverter&lt;Boolean, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(Boolean attribute) {\n        if (attribute == null) {\n            return null;\n        }\n        return attribute ? &quot;Y&quot; : &quot;N&quot;;\n    }\n\n    @Override\n    public Boolean convertToEntityAttribute(String dbData) {\n        if (dbData == null) {\n            return null;\n        }\n        return dbData.equals(&quot;Y&quot;);\n    }\n}\n</code></pre>\n<p>And on my beans I use it as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Column(name = &quot;DELIVERED&quot;)\n@Convert(converter = BooleanToStringConverter.class)\nprivate Boolean delivered;\n</code></pre>\n<p>So far so good.</p>\n<p>If I create a repository to query all delivered entities I'd write something like this in SpringBoot 2:</p>\n<pre><code>List&lt;MyClass&gt; findAllByDeliveredIsTrue();\n</code></pre>\n<p>But if I run this in SpringBoot 3 it returns an empty list.</p>\n<p>I need to write the query manually to make it work.</p>\n<pre><code>@Query(&quot;SELECT c FROM MyClass c WHERE c.delivered = true&quot;)\nList&lt;MyClass&gt; findAllByDeliveredIsTrue();\n</code></pre>\n<p>Any idea why it's happening?</p>\n<hr />\n<p>Edit:</p>\n<p>I've enabled SQL Logs and definitely queries are created differently. For sake of simplicity I translated some things on the post because on real scenario the database is in Spanish and it uses <code>S</code>/<code>N</code> instead of <code>Y</code>/<code>N</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Java service\n    @PostConstruct\n    public void init() {\n        log.error(&quot;DEBUG INIT&quot;);\n        repo.findFirstByActiuIsTrueOrderByDataDesc();\n        repo.findFirstByActiuIsTrueOrderByDataDesc1(); ///Working case\n        log.error(&quot;DEBUG END&quot;);\n    }\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Repository\n\n//Failing case\nOptional&lt;Condicio&gt; findFirstByActiuIsTrueOrderByDataDesc();\n\n\n@Query(&quot;SELECT c FROM Condicio c WHERE c.actiu = true ORDER BY c.data ASC&quot;)\nOptional&lt;Condicio&gt; findFirstByActiuIsTrueOrderByDataDesc1(); //Working case\n\n</code></pre>\n<pre><code>2023-05-13T10:23:19.336+02:00 ERROR 42936 --- [  restartedMain] c.n.a.backend.service.CondicioService    : DEBUG INIT\nHibernate: select c1_0.COND_CONDICIO,c1_0.COND_ACTIU,c1_0.COND_DATA,c1_0.COND_DESCRIPCIO from CONDICIONS c1_0 where c1_0.COND_ACTIU order by c1_0.COND_DATA desc limit ?\nHibernate: select c1_0.COND_CONDICIO,c1_0.COND_ACTIU,c1_0.COND_DATA,c1_0.COND_DESCRIPCIO from CONDICIONS c1_0 where c1_0.COND_ACTIU='S' order by c1_0.COND_DATA asc\n2023-05-13T10:23:19.451+02:00 ERROR 42936 --- [  restartedMain] c.n.a.backend.service.CondicioService    : DEBUG END\n</code></pre>\n"},{"comments":[{"comment_id":3721769,"body":"By convention, you should not really be interacting between multiple databases like this, even if some do support it. You should get the information you need from each database separately and consolidate into instances of some business object yourself."},{"comment_id":3721843,"body":"@JDC0589 Are you referring to the Repository Pattern or some of the other exotic ways that I am trying to coax Hibernate into doing what I need it to do?"}],"answers":[{"comments":[{"comment_id":3721854,"body":"Thanks. I will see how much of a bureaucratic red tape that will involve (synonyms are easy - convincing managers - less so)"}],"answer_id":3552375,"body":"<p>You have a couple of problems unfortunately.</p>\n\n<ul>\n<li>Hibernate does not supporting joining across multiple \"physical\" database instances</li>\n<li>Out of the box, most database don't support joining across multiple \"physical\" database instances</li>\n</ul>\n\n<p>Fundamentally DBs are only good/performant at joining tables that are in the same database.  There are ways of joining across databases but if the size of both tables is big this can be a problem, and peformance may suffer.  Do some googling on \"oracle join across database\" and you'll find some pointers on how to do this but it involves fiddling around with Oracle create a virtual link from one DB to the other.</p>\n\n<p>I would consider either doing the join in memory, if you are comfortable the data set will fit within the memory constraints AND you are only doing this in one special case.</p>\n\n<p>If you'll need to do different joins between these two databases then I would go for a more permanent solution, like the Oracle linking above.</p>\n"},{"answer_id":3552498,"body":"<p>I have no experience with doing this myself, but I know that Oracle supports database &quot;links&quot; (<a href=\"/questions/tagged/dblink\" class=\"post-tag\" title=\"show questions tagged &#39;dblink&#39;\" aria-label=\"show questions tagged &#39;dblink&#39;\" rel=\"tag\" aria-labelledby=\"tag-dblink-tooltip-container\">dblink</a>) between two separate database instances.  Maybe this article will help you?</p>\n<p><a href=\"https://forum.hibernate.org/viewtopic.php?t=994403&amp;sid=c54ddfe21ace9706fd9fddd4a335c43e\" rel=\"nofollow noreferrer\">Post on Hibernate forums about using Oracle link between two instances</a></p>\n"}],"last_activity_date":1684742944,"question_id":3552330,"body":"<p>I have two tables in two separate <strong>Oracle databases</strong> (not schemas) that I need to <strong>join in Hibernate</strong>.  Currently, I have two Hibernate sessions going out to the separate databases. Before anybody says look at <strong>Hibernate Shards</strong>, I have spent a better part of a day looking at that sub-project and have found that: it is for horizontal partitioned data (all the tables must be in all of the databases AFAIK), there is no way for one to tell Shards to look only in one database (<a href=\"http://bit.ly/bEuXKw\" rel=\"noreferrer\">Hibernate Shards Docs</a>), and is no longer being worked on.</p>\n\n<p>Things that I have thought about to try to solve this problem:  </p>\n\n<ul>\n<li><p>Doing a <code>findAll()</code> or some restricted variant of that on both of the tables, and manually doing the join using some loops. (Ok for very small tables - prohibitive from small tables on up)</p></li>\n<li><p>Have the sessions do some kind of interaction (I have no idea if this is even feasible - will have to look at the Hibernate Session API)  </p></li>\n<li><p>Removing the database name from the URL string of different hibernate-xxxx.cfg.xml and insert them into the separate hbm.xml files like this:<br>\n<code>&lt;class name=\"foo\" table=\"foo_table\" schema=\"foo_schema\" catalog=\"foo_db\"&gt;</code><br>\n(Doesn't seem to work from my initial tests and that seems like truck sized security hole)  </p></li>\n<li><p>Use the Repository Pattern (Unsure if my Java-Fu is strong enough)</p></li>\n</ul>\n\n<p>Is there something that I'm overlooking in one of the cases above or can it be another way that I haven't listed above?</p>\n"},{"comments":[{"comment_id":56202069,"body":"What have you tried so far? Are you having problems with code you&#39;ve written or are we to undertake the entire task for you?"},{"comment_id":56202128,"body":"Read the doc! This is a simple problem any programming language should be able to do. I&#39;m not familiar with Java but here is the pseudocode you might want to run by: 1. Loop through all characters in the string 2. If &quot;_&quot; is found, remove it 3. Capitalize the next character 4. Return the new string"},{"comment_id":56202149,"body":"You can split the string with _ and then use StringUtils.join after capitalizing the first char of all (except first) splitted string parts"}],"answers":[{"comments":[{"comment_id":56202255,"body":"I would just use <code>split</code> and <code>Character.toUpperCase</code>. Not sure where <code>substring</code> comes into play"},{"comment_id":56202323,"body":"@cricket_007 that should work too, I wasn&#39;t aware of <code>split</code>, but I&#39;m not very familiar with regex either"},{"comment_id":56202343,"body":"Don&#39;t need regex, you can simply split on underscore"}],"answer_id":34229081,"body":"<p>Take a look at oracle's documentation for the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow\">string</a> class, notably <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int,%20int)\" rel=\"nofollow\">substring</a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#charAt(int)\" rel=\"nofollow\">charAt</a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#indexOf(int)\" rel=\"nofollow\">indexOf</a>, and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toUpperCase()\" rel=\"nofollow\">toUpperCase</a></p>\n\n<p>(You can use these as puzzle pieces to solve your problem)</p>\n"},{"answer_id":34229320,"body":"<p>This isn't pretty, but it works:</p>\n<pre><code>String phrase = &quot;camel_case&quot;;\nString[] words = phrase.split(&quot;_&quot;);\nString newPhrase = words[0];\nfor(int i=1; i&lt;words.length; i++){\n  newPhrase += words[i].substring(0,1).toUpperCase() + words[i].substring(1);\n}\n</code></pre>\n"},{"comments":[{"comment_id":56204982,"body":"This doesn&#39;t work for me. <code>Character.toUpper</code> is not a method and the second parameter to <code>String.replace</code> needs to be a String. I think you meant <code>replaceAll</code>? But even then, calling <code>indexOf(&quot;_&quot;)</code> will always return the first <code>_</code> because the underscores aren&#39;t iteratively replaced"},{"comment_id":56205963,"body":"My apologies. I was on another system without Eclipse. Now check my updated and verified answer."},{"comment_id":56206804,"body":"It only works for phrases with one or no underscores such as &quot;camel_case&quot;. It still will not work for &quot;camel_case_test&quot;. That will return &quot;camelCaseCest&quot; since <code>indexOf(&quot;_&quot;)</code> returns the underscore before &quot;case&quot;."},{"comment_id":56207552,"body":"Please check my updated answer. Now it will convert any length string to camel back notation. The while loop takes care of it."},{"comment_id":56207882,"body":"Yup. Works now. However, (I know it isn&#39;t a concern here), the runtime complexity is high with this approach."},{"comment_id":114540951,"body":"This may loop forever if the string contains things like <code>permit_2pc</code>. Might be better to modify it with <code>phrase.charAt(pos = (phrase.indexOf(&quot;_&quot;, pos) + 1))</code> (And likewise adjust the loop condition to <code>s.substring(pos).contains(&quot;_&quot;)</code> or similar - I haven&#39;t tested this)"}],"answer_id":34230342,"body":"<p>This might be pretty, and it works</p>\n\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        String phrase = \"always_use_camel_back_notation_in_java\";\n        while(phrase.contains(\"_\")) {\n                phrase = phrase.replaceFirst(\"_[a-z]\", String.valueOf(Character.toUpperCase(phrase.charAt(phrase.indexOf(\"_\") + 1))));\n            }\n            System.out.println(phrase);\n        }\n    }\n</code></pre>\n"},{"answer_id":34230748,"body":"<p>Using <code>split(\"_\")</code> and looping over those parts is one way to do it. </p>\n\n<p>Here is an alternative using a <code>StringBuilder</code>. </p>\n\n<pre><code>String s = \"make_me_camel_case\";\nStringBuilder sb = new StringBuilder(s);\n\nfor (int i = 0; i &lt; sb.length(); i++) {\n    if (sb.charAt(i) == '_') {\n        sb.deleteCharAt(i);\n        sb.replace(i, i+1, String.valueOf(Character.toUpperCase(sb.charAt(i))));\n    }\n}\n\nSystem.out.println(sb.toString()); // makeMeCamelCase\n</code></pre>\n"},{"answer_id":50498978,"body":"<p>You can use <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)\" rel=\"noreferrer\"><code>toCamelCase</code></a> util:</p>\n\n<pre><code>CaseUtils.toCamelCase(\"camel_case\", false, new char[]{'_'}); // returns \"camelCase\"\n</code></pre>\n\n<p>from <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)\" rel=\"noreferrer\">Apache Commons Text</a>.</p>\n"},{"comments":[{"comment_id":125777679,"body":"<code>CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, &quot;camelCase&quot;);</code> will return &quot;camelcase&quot;, this may not be expected"},{"comment_id":127715852,"body":"Why not? <code>LOWER_UNDERSCORE</code> would be a format like <code>camel_case</code>, i. e. only an underscore character breaks a word. The string <code>&quot;camelCase&quot;</code> is in this sense only one word and if you consequentially convert a one word string to <code>LOWER_CAMEL</code>, you will get everything in lower case."}],"answer_id":59275805,"body":"<p>Also Guava's <a href=\"https://github.com/google/guava/wiki/StringsExplained#caseformat\" rel=\"noreferrer\">CaseFormat</a> offers quite a neat solution that allows you to transform from and to camel case and even other specific cases.</p>\n\n<pre><code>CaseFormat.LOWER_UNDERSCORE.to(CaseFormat.LOWER_CAMEL, \"camel_case\"); // returns camelCase\nCaseFormat.UPPER_UNDERSCORE.to(CaseFormat.UPPER_CAMEL, \"CAMEL_CASE\"); // returns CamelCase\nCaseFormat.LOWER_CAMEL.to(CaseFormat.UPPER_UNDERSCORE, \"camelCase\"); // returns CAMEL_CASE\nCaseFormat.UPPER_CAMEL.to(CaseFormat.LOWER_HYPHEN, \"CamelCase\"); // returns camel-case\n</code></pre>\n"},{"answer_id":67605103,"body":"<h1>Java SE 8+</h1>\n<p>Using <a href=\"https://www.oracle.com/technical-resources/articles/java/ma14-java-se-8-streams.html\" rel=\"noreferrer\">Java-8 Stream API</a>, we can do it in a single statement.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.stream.Collectors;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str = &quot;snake_case_to_camel_case&quot;;\n\n        str = str.indexOf(&quot;_&quot;) != -1\n                ? str.substring(0, str.indexOf(&quot;_&quot;)) + \n                    Arrays.stream(str.substring(str.indexOf(&quot;_&quot;) + 1).split(&quot;_&quot;))\n                        .map(s -&gt; Character.toUpperCase(s.charAt(0)) + s.substring(1)).collect(Collectors.joining())\n                : str;\n\n        System.out.println(str);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>snakeCaseToCamelCase\n</code></pre>\n<p><a href=\"https://ideone.com/zXu0gN\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<h1>Java SE 9+</h1>\n<p><a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"noreferrer\"><code>Matcher#replaceAll​(Function&lt;MatchResult, String&gt; replacer)</code></a> introduced with Java SE 9, makes it further easy.</p>\n<pre><code>import java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String str = &quot;snake_case_to_camel_case&quot;;\n\n        str = Pattern.compile(&quot;_([a-z])&quot;)\n                    .matcher(str)\n                    .replaceAll(m -&gt; m.group(1).toUpperCase());\n\n        System.out.println(str);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>snakeCaseToCamelCase\n</code></pre>\n<p><a href=\"https://ideone.com/YmquyW\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n"},{"comments":[{"comment_id":126797543,"body":"Please improve your answer by providing more information on how it works and what&#39;s required such as used libraries. <code>WordUtils</code> is part of an external library."},{"comment_id":127061685,"body":"import org.apache.commons.lang3.text.WordUtils;"},{"comment_id":128704618,"body":"<code>org.apache.commons.lang3.text.WordUtils</code> is deprecated as of 3.6"},{"comment_id":128906213,"body":"@FrederikClaus what is the alternative if its deprecated?"},{"comment_id":128978007,"body":"@ennth WordUtils from commons-text: <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/WordUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-text/javadocs/api-release/&zwnj;&#8203;org/&hellip;</a>  The project I worked on had no dependency on commons-text and therefore I went with the Java 9+ solution by Arvind Kumar Avinash"}],"answer_id":71748439,"body":"<pre><code>import org.apache.commons.lang3.text.WordUtils;\n\npublic String snakeToCamelCase(String snakeWord) {\n    String camelWord = snakeWord.replaceAll(&quot;_&quot;, &quot; &quot;);\n    camelWord = WordUtils.capitalizeFully(camelWord);\n    return camelWord.replaceAll(&quot; &quot;, &quot;&quot;);\n}\n</code></pre>\n"},{"answer_id":76224702,"body":"<pre><code>/**\n * Converts AlphaNumeric String to camelcase based on any non AlphaNumeric char as delimiter\n * @param input\n * @return camelCase String\n */\npublic static String toCamelCase(String input) {\n\n    StringBuilder result = new StringBuilder(input.length());\n    boolean toUpper = false;\n    for (int i = 0; i &lt; input.length(); i++) {\n\n        if (Character.isAlphabetic(input.charAt(i))) {\n\n            if (toUpper) {\n\n                result.append(Character.toUpperCase(input.charAt(i)));\n                toUpper = false;\n            } else {\n\n                result.append(Character.toLowerCase(input.charAt(i)));\n            }\n        } else if (Character.isDigit(input.charAt(i))){\n\n            result.append(input.charAt(i));\n        } else {\n\n            toUpper = true;\n        }\n    }\n    return result.toString();\n}\n\n@Test\npublic void toCamelCaseTest() {\n\n    List&lt;String&gt; inputs = List.of(&quot;Hello World&quot;, &quot;helloWorld&quot;,\n            &quot;Hello_World&quot;, &quot;helloWorld&quot;,\n            &quot;Hello-World&quot;, &quot;helloWorld&quot;,\n            &quot;HELLO WORLD&quot;, &quot;helloWorld&quot;,\n            &quot;HELlo_WORld&quot;, &quot;helloWorld&quot;,\n            &quot;Hello1world&quot;, &quot;hello1world&quot;,\n            &quot;2Hello world&quot;, &quot;2helloWorld&quot;\n    );\n    for (int i = 0; i &lt; inputs.size();) {\n        Truth.assertThat(StringUtils.toCamelCase(inputs.get(i++)))\n                .isEqualTo(inputs.get(i++));\n    }\n}\n</code></pre>\n"},{"answer_id":76304166,"body":"<p>This task can be done with the <code>String.split</code> method, and a for-loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String convert(String string) {\n    String[] strings = string.split(&quot;_+&quot;);\n    StringBuilder converted = new StringBuilder();\n    String stringA, stringB;\n    for (String value : strings) {\n        if (converted.isEmpty()) {\n            if (!value.isEmpty()) converted.append(value.toLowerCase());\n        } else {\n            stringA = value.substring(0, 1).toUpperCase();\n            stringB = value.substring(1).toLowerCase();\n            converted.append(stringA).append(stringB);\n        }\n    }\n    return converted.toString();\n}\n</code></pre>\n<p>Input</p>\n<pre class=\"lang-none prettyprint-override\"><code>convert_snake_case_to_camel_case\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>convertSnakeCaseToCamelCase\n</code></pre>\n"}],"last_activity_date":1684742895,"question_id":34228942,"body":"<p>Can anyone tell me how to convert a string in snake_case as: </p>\n\n<pre><code>camel_case\n</code></pre>\n\n<p>to a string in camelCase as:</p>\n\n<pre><code>camelCase\n</code></pre>\n\n<p>in Java?</p>\n\n<p>Thank you in advance.</p>\n"},{"comments":[{"comment_id":134540874,"body":"You should provide a minimal reproducible example for Stackoverlow."},{"comment_id":134541611,"body":"The emphasis in the above comment should be on the <i>minimal</i> aspect."},{"comment_id":134565277,"body":"&quot;The decryption process is not working correctly&quot;. Can you specify what exactly is not working? Is the code giving a specific error, or just giving a wrong output?"}],"last_activity_date":1684742786,"question_id":76295359,"body":"<p>I am working on a project where I am using ChaCha20 library with Java 1.3 to encrypt and decrypt files on a user provided path. I created two jars, <code>Encryption.jar</code> and <code>Decryption.jar</code> and tested it on Windows platform and it is working as expected. But while using the same jar files in Linux Mint, the decryption process is not working correctly.\nTried going through my code and replaced all possible code segments to more platform independent code. But still facing the same issue.</p>\n<p>Encyption.jar:</p>\n<pre><code>// configured to take key, nonce, filenames and path from command line\npublic class EncrAll {\n\n    public static void Encrypt(String hexkey1, String nonce, String path, ArrayList filenames) {\n        // 256-bit key\n        byte[] key = Hex.decode(hexkey1);\n\n        System.out.println(&quot;EncrAll: Encryption key&quot;);\n        for(int i=0;i&lt;key.length;i++) {\n            System.out.print(key[i]+&quot; &quot;);\n        }\n        System.out.println();\n        // 8-byte nonce\n        byte[] iv = Hex.decode(nonce);\n        System.out.println(&quot;EncrAll: Encyption nonce&quot;);\n        for(int i=0;i&lt;iv.length;i++) {\n            System.out.print(iv[i]+&quot; &quot;);\n        }\n        System.out.println();\n\n        ChaChaEngine engine = new ChaChaEngine();\n        engine.init(true, new ParametersWithIV(new KeyParameter(key), iv));\n        ArrayList originalFilesToBeDeletd = new ArrayList();\n\n        try {\n\n            // iterating over the filenames to encrypt them one by one\n            for (int i = 0; i &lt; filenames.size(); i++) {\n//              File file = new File(path.concat(&quot;\\\\&quot;).concat((String) filenames.get(i)));\n                File file = new File(path + File.separator + (String) filenames.get(i));\n\n//              String filename = path.concat(&quot;\\\\&quot;).concat((String) filenames.get(i));\n                String filename = path + File.separator + (String) filenames.get(i);\n\n                FileInputStream fis = null;\n                FileOutputStream fop = null;\n                try {\n\n                    fis = new FileInputStream(file);\n                    byte[] plaintextBytes = new byte[(int) file.length()];\n                    fis.read(plaintextBytes);\n\n                    byte[] ciphertext = new byte[plaintextBytes.length];\n                    engine.processBytes(plaintextBytes, 0, plaintextBytes.length, ciphertext, 0);\n\n                    // Giving the encrypted file a new name/extension\n                    fop = new FileOutputStream(filename.concat(&quot;.encr&quot;));\n                    fop.write(ciphertext);\n                    File file1 = new File(filename.concat(&quot;.encr&quot;));\n\n                    if (file1.exists()) {\n                        System.out.println(&quot;adding file &quot; + filename + &quot; path for deletion&quot;);\n\n                        // adding filenames for deletion once they are successfully encrypted\n                        originalFilesToBeDeletd.add(file.getAbsolutePath());\n                    } else {\n                        System.out.println(&quot;File &quot; + file1 + &quot; does not exist&quot;);\n                    }\n\n                } catch (IOException ioe) {\n                    ioe.printStackTrace();\n                } finally {\n\n                    try {\n                        if (fis != null) {\n                            fis.close();\n                        }\n                        if (fop != null) {\n                            fop.close();\n                        }\n\n                    } catch (IOException ioe) {\n                        ioe.printStackTrace();\n                    }\n                }\n            }\n        }\n\n        catch (Exception e) {\n            System.out.println(&quot;Error in encrypting files&quot;);\n            e.printStackTrace();\n        }\n\n        deleteOriginalFiles(originalFilesToBeDeletd);\n    }\n\n    private static boolean deleteOriginalFiles(ArrayList originalFilesToBeDeletd) {\n        File f;\n        boolean allDeleted = true;\n        for (int i = 0; i &lt; originalFilesToBeDeletd.size(); i++) {\n            f = new File((String) originalFilesToBeDeletd.get(i));\n            System.out.println(f.getAbsolutePath());\n            try {\n                f.delete();\n\n                if (f.exists()) {\n                    System.out.println(&quot;File &quot; + f.getName() + &quot; is not deleted&quot;);\n                    allDeleted = false;\n                } else {\n                    System.out.println(&quot;File &quot; + f.getName() + &quot; is deleted successfully&quot;);\n                }\n            } catch (SecurityException se) {\n                se.printStackTrace();\n            }\n        }\n\n        return allDeleted;\n    }\n\n\n    private static String toHex(String input) {\n        StringBuffer hexString = new StringBuffer();\n\n        for (int i = 0; i &lt; input.length(); i++) {\n            char c = input.charAt(i);\n            String hexKey = Integer.toHexString(c).toUpperCase();\n            hexString.append(hexKey);\n        }\n\n        return hexString.toString();\n    }\n\n\n    private static boolean checkInputKey(String provided_key) {\n\n        if (provided_key.length() == 16 || provided_key.length() == 32) {\n            return true;\n        }\n\n        else {\n            System.out.println(&quot;Key must be either 16 chars or 32 chars long&quot;);\n            return false;\n        }\n\n    }\n\n    private static boolean checkFilePath(String path) throws NullPointerException {\n        boolean exists = false;\n        try {\n            File file = new File(path);\n            exists = file.exists();\n        } catch (NullPointerException npe) {\n            System.out.println(&quot;Path does not exist&quot;);\n            npe.printStackTrace();\n        }\n        return exists;\n\n    }\n\n\n     * getting all the files present at &quot;path&quot; and filtering &quot;.txt&quot; files(i.e\n     * non-encrypted files) from them and returning that list\n     */\n\n    private static ArrayList toBeEncryptedFiles(String path) throws SecurityException, NullPointerException {\n        String[] list = null;\n        ArrayList txtFiles = new ArrayList();\n\n        try {\n            File file = new File(path);\n            list = file.list();\n            for (int i = 0; i &lt; list.length; i++) {\n                if (list[i].endsWith(&quot;.txt&quot;)) {\n                    txtFiles.add(list[i]);\n                }\n            }\n\n        }\n\n        catch (NullPointerException npe) {\n            npe.printStackTrace();\n        } catch (SecurityException sc) {\n            sc.printStackTrace();\n        }\n\n        return txtFiles;\n    }\n\n    private static void init(String key,String nonce) {\n        EncrAll e = new EncrAll();\n\n        ArrayList filenames = null;\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n        try {\n\n            // getting key and nonce from config file\n            System.out.println(key);\n            String fetched_key = toHex(key);\n\n            String fetched_nonce = nonce;\n\n            System.out.println(fetched_key);\n            System.out.println(fetched_nonce);\n            System.out.println(&quot;enter the absolute file path \\n&quot;);\n            String path = br.readLine();\n\n//          System.out.println(&quot;enter a key \\n&quot;);\n//          provided_key = br.readLine();\n\n            // checking if the fetched key and provided path is valid\n            boolean checkKey = checkInputKey(fetched_key);\n            boolean checkPath = checkFilePath(path);\n\n            if (!checkPath) {\n                System.out.println(&quot;some issue with path&quot;);\n            }\n\n            if (checkKey &amp;&amp; checkPath) {\n\n                // since key and path is valid getting the list of files to encrypt\n                filenames = toBeEncryptedFiles(path);\n\n                // passing the key ,path and filenames to encrypt\n//              Encrypt(hexKey, fetched_nonce, path, filenames);\n                Encrypt(fetched_key,fetched_nonce,path,filenames);\n            } else {\n                System.out.println(&quot;exiting&quot;);\n            }\n\n        } catch (IOException ioe) {\n\n            ioe.printStackTrace();\n        }\n\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;In EncrAll&quot;);\n        String key=args[0];\n        String nonce=args[1];\n        init(key,nonce);\n    }\n}\n    \n    \n</code></pre>\n<p>Decrytpion.jar:</p>\n<pre><code>public class DecrAll {\n\n    public static void DecryptAll(String hexkey1, String nonce, String path, ArrayList filenames) {\n\n        System.out.println(&quot;DecrAll: Decryption key&quot;);\n        // 256-bit key\n        byte[] key = Hex.decode(hexkey1);\n\n        System.out.println(&quot;decryption key&quot;);\n        for(int i=0;i&lt;key.length;i++) {\n            System.out.print(key[i]+&quot; &quot;);\n        }\n        System.out.println();\n\n        System.out.println(&quot;DecrAll: Decryption nonce&quot;);\n        // 8-byte nonce\n        byte[] iv = Hex.decode(nonce);\n        for(int i=0;i&lt;iv.length;i++) {\n            System.out.print(iv[i]+&quot; &quot;);\n        }\n        System.out.println();\n\n        ChaChaEngine engine = new ChaChaEngine();\n        engine.init(false, new ParametersWithIV(new KeyParameter(key), iv));\n        ArrayList encryptedFilesToBeDeletd = new ArrayList();\n        try {\n\n            // iterating over the filenames to encrypt them one by one\n            for (int i = 0; i &lt; filenames.size(); i++) {\n                FileInputStream fis = null;\n                FileOutputStream fop = null;\n\n                try {\nFile(path.concat(&quot;\\\\&quot;).concat((String) filenames.get(i)));\n                    File file = new File(path + File.separator + (String) filenames.get(i));\n\n                    String filename = path + File.separator + (String) filenames.get(i);\n                    fis = new FileInputStream(file);\n                    byte[] encryptedBytes = new byte[(int) file.length()];\n                    fis.read(encryptedBytes);\n\n                    byte[] decryptedBytes = new byte[encryptedBytes.length];\n                    engine.processBytes(encryptedBytes, 0, encryptedBytes.length, decryptedBytes, 0);\n\n                    // Giving the encrypted file a new name/extension\n                    String unEncfile=filename.substring(0, filename.indexOf(&quot;.encr&quot;));\n                    fop = new FileOutputStream(unEncfile);\n                    fop.write(decryptedBytes);\n                    File file1 = new File(unEncfile);\n\n                    if (file1.exists()) {\n                        System.out.println(&quot;adding file &quot; + filename + &quot; path for deletion&quot;);\n\n                        // adding filenames for deletion once they are successfully encrypted\n                        encryptedFilesToBeDeletd.add(file.getAbsolutePath());\n                    } else {\n                        System.out.println(&quot;File &quot; + file1 + &quot; does not exist&quot;);\n                    }\n\n                } catch (IOException ioe) {\n                    ioe.printStackTrace();\n                } finally {\n\n                    try {\n                        if (fis != null) {\n                            fis.close();\n                        }\n                        if (fop != null) {\n                            fop.close();\n                        }\n\n                    } catch (IOException ioe) {\n                        ioe.printStackTrace();\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        deleteEncryptedFiles(encryptedFilesToBeDeletd);\n\n    }\n\n    private static boolean deleteEncryptedFiles(ArrayList encryptedFilesToBeDeletd) {\n\n        File f;\n        boolean allDeleted = true;\n        for (int i = 0; i &lt; encryptedFilesToBeDeletd.size(); i++) {\n            f = new File((String) encryptedFilesToBeDeletd.get(i));\n            System.out.println(f.getAbsolutePath());\n            try {\n                f.delete();\n\n                if (f.exists()) {\n                    System.out.println(&quot;File &quot; + f.getName() + &quot; is not deleted&quot;);\n                    allDeleted = false;\n                } else {\n                    System.out.println(&quot;File &quot; + f.getName() + &quot; is deleted successfully&quot;);\n                }\n            } catch (SecurityException se) {\n                se.printStackTrace();\n            }\n        }\n\n        return allDeleted;\n    }\n\n    private static String toHex(String input) {\n        StringBuffer hexString = new StringBuffer();\n\n        for (int i = 0; i &lt; input.length(); i++) {\n            char c = input.charAt(i);\n            String hexKey = Integer.toHexString(c).toUpperCase();\n            hexString.append(hexKey);\n        }\n\n        return hexString.toString();\n    }\n\n    private static boolean checkInputKey(String provided_key) {\n\n        if (provided_key.length() == 16 || provided_key.length() == 32) {\n            return true;\n        }\n\n        else {\n            System.out.println(&quot;Not a valid key&quot;);\n            return false;\n        }\n\n    }\n\n    private static boolean checkFilePath(String path) {\n        boolean exists = false;\n        try {\n            File file = new File(path);\n            exists = file.exists();\n        } catch (NullPointerException npe) {\n            npe.printStackTrace();\n        }\n        return exists;\n\n    }\n\n    private String getKey() {\n        Properties properties = new Properties();\n        InputStream inputStream = null;\n        String key = &quot;&quot;;\n        try {\n            inputStream = getClass().getResourceAsStream(&quot;/Config.properties&quot;);\n            properties.load(inputStream);\n            key = properties.getProperty(&quot;CURRENT_KEY&quot;);\n\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        } catch (IllegalArgumentException iae) {\n            iae.printStackTrace();\n        }\n        return key;\n    }\n\n    private String getNonce() {\n        Properties properties = new Properties();\n        InputStream inputStream = null;\n        String nonce = &quot;&quot;;\n        try {\n            inputStream = getClass().getResourceAsStream(&quot;/Config.properties&quot;);\n            properties.load(inputStream);\n            nonce = properties.getProperty(&quot;CURRENT_NONCE&quot;);\n\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        } catch (IllegalArgumentException iae) {\n            iae.printStackTrace();\n        }\n        return nonce;\n    }\n\n    /*\n     * getting all the files present at &quot;path&quot; and filtering &quot;.txt&quot; files(i.e\n     * non-encrypted files) from them and returning that list\n     */\n    private static ArrayList toBeDecryptedFiles(String path) {\n        String[] list = null;\n        ArrayList decryptFiles = new ArrayList();\n\n        try {\n            File file = new File(path);\n            list = file.list();\n            for (int i = 0; i &lt; list.length; i++) {\n                if (list[i].endsWith(&quot;.txt.encr&quot;)) {\n                    decryptFiles.add(list[i]);\n                }\n            }\n\n        }\n\n        catch (NullPointerException npe) {\n            npe.printStackTrace();\n        } catch (SecurityException sc) {\n            sc.printStackTrace();\n        }\n\n        return decryptFiles;\n    }\n\n    public static void init(String key, String nonce) {\n        String provided_nonce = nonce;\n        String provided_key = key;\n        System.out.println(provided_key);\n        System.out.println(provided_nonce);\n        DecrAll d = new DecrAll();\n\n        ArrayList filenames = null;\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n\n        try {\n\n        \n            System.out.println(&quot;enter the absolute file path \\n&quot;);\n            String path = br.readLine();\n\n\n            // checking if the fetched key and provided path is valid\n            boolean checkKey = checkInputKey(provided_key);\n            boolean checkPath = checkFilePath(path);\n\n            if (!checkPath) {\n                System.out.println(&quot;some issue with path&quot;);\n            }\n\n            if (checkKey &amp;&amp; checkPath) {\n                String hexKey = toHex(provided_key);\n                System.out.println(hexKey);\n                System.out.println(&quot;length:&quot; + hexKey.length() + &quot; size in bits: &quot; + hexKey.length() * 4);\n\n                // since key and path is valid getting the list of files to encrypt\n                filenames = toBeDecryptedFiles(path);\n                System.out.println(filenames.size());\n\n                // passing the key ,path and filenames to encrypt\n                DecryptAll(hexKey, provided_nonce, path, filenames);\n            } else {\n                System.out.println(&quot;exiting&quot;);\n            }\n\n        } catch (IOException e) {\n\n            e.printStackTrace();\n        }\n\n    }\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Inside DecrAll&quot;);\n        String key = args[0];\n        String nonce = args[1];\n        init(key, nonce);\n//\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":15710007,"body":"Why would moving files between two different file systems cause a crash to begin with?  The files themselves are kludges of binary data; the file system only represents how that kludge of data is stored, represented, and removed."},{"comment_id":15710050,"body":"Moving a file in itself wouldn&#39;t be expected to cause a crash, but using <code>mv</code> on a file <i>whilst it is still being written to</i> probably would (since in general a system that writes to a file should be able to assume that the file stays in the same location from write-opening to write-closing). I am trying to understand if the latter case holds true for all Linux (or Java, or Android) systems. Extra scout/brownie points for anyone who can explain why this succeeds!"},{"comment_id":109447667,"body":"@ain&#39;tshabby: please don&#39;t edit posts here until you&#39;ve had some practice with the platform. I&#39;ve rejected the edit because it inverts the meaning of the title."}],"answers":[{"comments":[{"comment_id":15711562,"body":"Great answer, thank you Mat. Yes, I was moving the file inside the one file system. I&#39;ve developed on Unix-like systems for some years, but not encountered this ability before; I&#39;d have expected it to have upset the writer process. Pretty clever stuff!"},{"comment_id":124896051,"body":"Out of curiosity, are there ways to move a file between filesystems in a way that is transparent to applications, i.e. where the application can read, write and seek on top of a file descriptor while the underlying filesystem has changed?"},{"comment_id":124896435,"body":"@Witiko: not that I know of."}],"answer_id":11819101,"body":"<p>When you move a file <strong>inside the same filesystem</strong>, the file itself (the <em>inode</em>) isn't moved at all. The only thing that changes are the directory entries in that filesystem. (The system call invoked by <code>mv</code> in this case is <a href=\"http://www.kernel.org/doc/man-pages/online/pages/man2/rename.2.html\" rel=\"noreferrer\"><code>rename(2)</code></a> - check that page for additional information and restrictions.)</p>\n\n<p>When a process opens a file, the filename is passed to the OS to indicate which file is meant, but the file descriptor you get back isn't linked to that name at all (you can't get back a filename from it) &ndash; it is linked to the inode.<br>\nSince the inode remains unchanged when you rename a file (inside the same filesystem), processes that have it open can happily keep reading from and writing to it &ndash; nothing changed for them, their file descriptor is still valid and pointing to the right data.</p>\n\n<p>Same thing if you delete a file. Processes can keep reading and writing from it even if the file is no longer reachable through any directory entry. (This can lead to confusing situations where <code>df</code> reports that your disk is full, but <code>du</code> says you're using much less space that <code>df</code> reports. The blocks assigned to deleted files that are still open won't be released until those processes close their file descriptor.)</p>\n\n<p>If the <code>mv</code> moves the file across filesystems, then the behavior is different since inodes are specific to each filesystem. In that case, <code>mv</code> will actually copy the data over, creating a new inode (and directory entry) on the destination filesystem. When the copy is over, the old file is unlinked, and removed <em>if</em> there are no open filehandles on it, as above.<br>\nIn your case, if you had crossed a filesystem boundary, you'd have a partial file in the destination. And your upload process happily writing to a deleted file you can't easily access, possibly filling up that filesystem, until the upload finished at which point the inode would get dropped.</p>\n\n<p>Some posts on <a href=\"https://unix.stackexchange.com/\">Unix &amp; Linux</a> that you could find interesting:</p>\n\n<ul>\n<li><a href=\"https://unix.stackexchange.com/questions/18605/how-are-directories-implemented-in-unix-filesystems\">How are directories implemented in Unix filesystems?</a></li>\n<li><a href=\"https://unix.stackexchange.com/questions/4402/what-is-a-superblock-inode-dentry-and-a-file\">What is a Superblock, Inode, Dentry and a File?</a></li>\n</ul>\n"}],"last_activity_date":1684742673,"question_id":11818802,"body":"<p>I think this question  is technical enough for Stack Overflow and, probably, too programming-oriented for <em>Android</em>. I am intrigued as to how files are handled in Android (or Java or Linux, as appropriate), since I did something with my new smartphone and I'd curious to know how it happened.</p>\n<p>I was transferring a file from my laptop to my Android phone via Bluetooth. I saw the new file in the file explorer and assumed it was fully transferred so I moved it from <code>/sdcard/bluetooth</code> to <code>/sdcard/torrents</code>. After I had done so, I noticed it was in fact still being transferred. To my surprise, it successfully completed, confirmed with a notification icon on the phone, and by a manual MD5 check on both sides. In most systems the file move would have caused a crash.</p>\n<p>What is the reason for this successful transfer? I'm aware that in general, the file path is separate to the file location on the file system (in this case, an SD card). I imagine that the Bluetooth app has opened a handle to the file, and when I did the file move, a table of 'open files' was updated with a new path. Is this feature generally true of any Linux system? Could I do a <code>mv</code> on a file being written and expect the copy - in its new location - to be correct?</p>\n"},{"answers":[{"answer_id":76304132,"body":"<p>Since you have 2 beans of the same type (the 2 EntityManagers), you have to differentiate them using qualifiers. But how do you define which of the 2 qualified instances of the <code>EntityManager</code> get injected into the <code>SomeClassImpl</code>?</p>\n<p>Fortunately, <code>SomeClassImpl</code> uses constructor injection, so you can construct it yourself. I suggest 2 producer methods (can be in the same bean), each providing a manually constructed, qualified instance of the <code>SomeClassImpl</code>; assuming <code>@Q1</code> and <code>@Q2</code> are the qualifiers <strong>AND</strong> that the 2 different <code>EntityManager</code>s are also qualified by <code>@Q1</code>, <code>@Q2</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Q1\n@Dependent\n@Produces\npublic SomeClassImpl(@Q1 EntityManager em) {\n    return new SomeClassImpl(em);\n}\n\n@Q2\n@Dependent\n@Produces\npublic SomeClassImpl(@Q2 EntityManager em) {\n    return new SomeClassImpl(em);\n}\n</code></pre>\n<p>CDI will still find an unqualified instance of <code>SomeClassImpl</code> and will probably complain about ambiguous dependencies. If so, I would try to exclude the unqualified <code>SomeClassImpl</code> from bean discovery using the exclusion mechanism of <code>beans.xml</code> (the <code>&lt;scan&gt;&lt;exclude&gt;</code> element).</p>\n"}],"last_activity_date":1684742602,"question_id":76293162,"body":"<p><strong>SETUP</strong></p>\n<p>Suppose that you have two bean archive modules A and B where A depends on B (we cannot modify B). Within B, suppose that there is a class in which an EntityManager is injected as follows:</p>\n<pre><code>@Dependent\nclass SomeClassImpl implements SomeClass {\n    private EntityManager em;\n    \n    public SomeClassImpl() {}\n\n    @Inject\n    public SomeClassImpl(EntityManager em) {\n        this.em = em;\n    }\n    \n    ...\n\n}\n</code></pre>\n<p><em>Note that SomeClass interface is never directly injected into A.</em></p>\n<p>Because the entity manager is not a cdi bean, we can define its producer within A. This works as expected when deploying in a <strong>WAR</strong> archive.</p>\n<p><strong>PROBLEM</strong></p>\n<p>Now, consider the following: you have three bean archive modules X, Y and Z where both X and Y depend on Z as defined above. Because X and Y define a producer for the EntityManager (different in X and Y) and these producers as visible to all modules, we must add qualifier to X and Y's producer to avoid the unsatisfied dependencies exception.</p>\n<p><strong>Now, the question is how do we deal with the ambiguity in Z?</strong></p>\n<p>If the producers were only visible to the module where defined, then this will be reduced the first scenario. But because they are not, we will get the <code>org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type EntityManager with qualifiers</code></p>\n<p>Note: although this can be solved with custom scope, I would prefer to avoid building one if possible as of now.</p>\n<p>If it were you, how would you go about solving this problem?</p>\n"},{"comments":[{"comment_id":71511945,"body":"Related: <a href=\"http://stackoverflow.com/questions/14213824/java-sql-statement-hasresultset\" title=\"java sql statement hasresultset\">stackoverflow.com/questions/14213824/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/24694442/expecting-multiple-resultsets-but-only-get-one\" title=\"expecting multiple resultsets but only get one\">stackoverflow.com/questions/24694442/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/32561550/jdbc-sql-server-raised-error-handling-in-multi-statement-stored-procedures\" title=\"jdbc sql server raised error handling in multi statement stored procedures\">stackoverflow.com/questions/32561550/&hellip;</a>"}],"answers":[{"comments":[{"comment_id":90449893,"body":"The explanation is great.  The JDBC voodoo stinks."}],"answer_id":42169952,"body":"<p>When we execute a stored procedure in JDBC we get back a series of zero or more \"results\". We can then process those \"results\" sequentially by calling <code>CallableStatement#getMoreResults()</code>. Each \"result\" can contain</p>\n\n<ul>\n<li>zero or more rows of data that we can retrieve with a <code>ResultSet</code> object,</li>\n<li>an update count for a DML statement (INSERT, UPDATE, DELETE) that we can retrieve with <code>CallableStatement#getUpdateCount()</code>, or</li>\n<li>an error that throws an SQLServerException.</li>\n</ul>\n\n<p>For \"Issue 1\" the problem is often that the stored procedure does not begin with <code>SET NOCOUNT ON;</code> and executes a DML statement before doing a SELECT to produce a result set. The update count for the DML is returned as the first \"result\", and the data rows are \"stuck behind it\" until we call <code>getMoreResults</code>.</p>\n\n<p>\"Issue 2\" is essentially same problem. The stored procedure produces a \"result\" (usually a SELECT, or possibly an update count) before the error occurs. The error is returned in a subsequent \"result\" and does not cause an exception until we \"retrieve\" it using <code>getMoreResults</code>.</p>\n\n<p>In many cases the problem can be avoided by simply adding <code>SET NOCOUNT ON;</code> as the first executable statement in the stored procedure. However, a change to the stored procedure is not always possible and the fact remains that in order to get <em>everything</em> back from the stored procedure we need to keep calling <code>getMoreResults</code> until, as the Javadoc says:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>There are no more results when the following is true: \n\n     // stmt is a Statement object\n     ((stmt.getMoreResults() == false) &amp;&amp; (stmt.getUpdateCount() == -1))\n</code></pre>\n\n<p>That sounds simple enough but as usual, \"the devil is in the details\", as illustrated by the following example. For a SQL Server stored procedure ...</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER PROCEDURE dbo.TroublesomeSP AS\nBEGIN\n    -- note: no `SET NOCOUNT ON;`\n    DECLARE @tbl TABLE (id VARCHAR(3) PRIMARY KEY);\n\n    DROP TABLE NonExistent;\n    INSERT INTO @tbl (id) VALUES ('001');\n    SELECT id FROM @tbl;\n    INSERT INTO @tbl (id) VALUES ('001');  -- duplicate key error\n    SELECT 1/0;  -- error _inside_ ResultSet\n    INSERT INTO @tbl (id) VALUES ('101');\n    INSERT INTO @tbl (id) VALUES ('201'),('202');\n    SELECT id FROM @tbl;\nEND\n</code></pre>\n\n<p>... the following Java code will return everything ...</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement cs = conn.prepareCall(\"{call dbo.TroublesomeSP}\")) {\n    boolean resultSetAvailable = false;\n    int numberOfResultsProcessed = 0;\n    try {\n        resultSetAvailable = cs.execute();\n    } catch (SQLServerException sse) {\n        System.out.printf(\"Exception thrown on execute: %s%n%n\", sse.getMessage());\n        numberOfResultsProcessed++;\n    }\n    int updateCount = -2;  // initialize to impossible(?) value\n    while (true) {\n        boolean exceptionOccurred = true; \n        do {\n            try {\n                if (numberOfResultsProcessed &gt; 0) {\n                    resultSetAvailable = cs.getMoreResults();\n                }\n                exceptionOccurred = false;\n                updateCount = cs.getUpdateCount();\n            } catch (SQLServerException sse) {\n                System.out.printf(\"Current result is an exception: %s%n%n\", sse.getMessage());\n            }\n            numberOfResultsProcessed++;\n        } while (exceptionOccurred);\n\n        if ((!resultSetAvailable) &amp;&amp; (updateCount == -1)) {\n            break;  // we're done\n        }\n\n        if (resultSetAvailable) {\n            System.out.println(\"Current result is a ResultSet:\");\n            try (ResultSet rs = cs.getResultSet()) {\n                try {\n                    while (rs.next()) {\n                        System.out.println(rs.getString(1));\n                    }\n                } catch (SQLServerException sse) {\n                    System.out.printf(\"Exception while processing ResultSet: %s%n\", sse.getMessage());\n                }\n            }\n        } else {\n            System.out.printf(\"Current result is an update count: %d %s affected%n\",\n                    updateCount,\n                    updateCount == 1 ? \"row was\" : \"rows were\");\n        }\n        System.out.println();\n    }\n    System.out.println(\"[end of results]\");\n}\n</code></pre>\n\n<p>... producing the following console output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception thrown on execute: Cannot drop the table 'NonExistent', because it does not exist or you do not have permission.\n\nCurrent result is an update count: 1 row was affected\n\nCurrent result is a ResultSet:\n001\n\nCurrent result is an exception: Violation of PRIMARY KEY constraint 'PK__#314D4EA__3213E83F3335971A'. Cannot insert duplicate key in object 'dbo.@tbl'. The duplicate key value is (001).\n\nCurrent result is a ResultSet:\nException while processing ResultSet: Divide by zero error encountered.\n\nCurrent result is an update count: 1 row was affected\n\nCurrent result is an update count: 2 rows were affected\n\nCurrent result is a ResultSet:\n001\n101\n201\n202\n\n[end of results]\n</code></pre>\n"}],"last_activity_date":1684742590,"question_id":42169951,"body":"<p>I occasionally encounter two forms of strange behaviour when using JDBC to work with SQL Server stored procedures:</p>\n\n<p><strong>Issue 1:</strong> I run a stored procedure in SQL Server Management Studio (SSMS) and it returns a result set. However, when I try</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (CallableStatement cs = conn.prepareCall(\"{call dbo.TroublesomeSP}\")) {\n    ResultSet rs = cs.executeQuery();\n</code></pre>\n\n<p>I get the exception</p>\n\n<blockquote>\n  <p>com.microsoft.sqlserver.jdbc.SQLServerException: The statement did not return a result set.</p>\n</blockquote>\n\n<p><strong>Issue 2:</strong> I run a stored procedure in SSMS and it raises an error, but when I use JDBC to <code>.execute</code> the stored procedure no exception is thrown.</p>\n\n<p>Why do these issues occur and how can I avoid them?</p>\n"},{"comments":[{"comment_id":64928476,"body":"Is the G1 flag in the last command <code>-XX:+G1GC</code> a typo?"},{"comment_id":64964137,"body":"@IceMan Yes it was, thanks for pointing it out. I just corrected it."}],"answers":[{"comments":[{"comment_id":64964210,"body":"That&#39;s the thing. I am not using more than 32GB heap. Both 32766 MB and 32736 MB are less than 32 GB. CMS uses compressed pointers till 32766 MB but G1 uses only till 32736 MB heap. I cannot understand what accounts for difference between these thresholds. (Edited the question to clearly reflect the confusion I am having.)"},{"comment_id":64971359,"body":"Why does that miniscule difference even matter? Anyway, the answer I linked contains diagnostic flags, they may help with your &quot;problem&quot;."}],"answer_id":38787003,"body":"<blockquote>\n<p>but cannot get it compressed pointer optimization to kick in for heap sizes above 32736 MB</p>\n</blockquote>\n<p>That's normal because objects are aligned to 8byte boundaries by default, which means the lowest 3 bits are always zero and can be eliminated by a shift, which in turn means 32bit object pointers can at most address 4GB * 8 worth of objects with that alignment.</p>\n<p>You need to bump the object alignment to 16 bytes via <code>-XX:ObjectAlignmentInBytes=16</code> if you want to use more than 32GB with compressed oops. Note that this makes small objects larger, i.e. wastes some memory, so you will have to measure whether it actually gains you anything.</p>\n<p><a href=\"https://stackoverflow.com/a/37251787/1362755\">This answer</a> has some additional diagnostic options that might be of interest.</p>\n"}],"last_activity_date":1684742505,"question_id":38752782,"body":"<p>I am running a 64 bit Java 1.8 Hotspot JVM by Oracle. I have been trying to wrap my head around a difference in behavior of JVM to kick in compressed object pointers when different GC mechanisms are used. For example:</p>\n\n<pre><code>$ java -XX:+UseConcMarkSweepGC -XX:+PrintFlagsFinal -Xms32766m -Xmx32766m\n\nbool UseCompressedClassPointers        := true        {lp64_product}\nbool UseCompressedOops                 := true        {lp64_product}\n\n$ java -XX:+UseConcMarkSweepGC -XX:+PrintFlagsFinal -Xms32767m -Xmx32767m\n\nbool UseCompressedClassPointers        = false        {lp64_product}\nbool UseCompressedOops                 = false        {lp64_product}\n\n$ java -XX:+UseG1GC -XX:+PrintFlagsFinal -Xms32736m -Xmx32736m\n\nbool UseCompressedClassPointers        := true        {lp64_product}\nbool UseCompressedOops                 := true        {lp64_product}\n\n$ java -XX:+UseG1GC -XX:+PrintFlagsFinal -Xms32737m -Xmx32737m\n\nbool UseCompressedClassPointers        = false        {lp64_product}\nbool UseCompressedOops                 = false        {lp64_product}\n</code></pre>\n\n<p>I have tried changing a few other G1GC knobs but cannot get compressed pointer optimization to kick in for heap sizes above 32736 MB for G1. But, as you can see clearly that CMS can use compressed pointers for heap sizes up to 32766 MB. I am trying to understand what controls this threshold for different GC algorithms.</p>\n"},{"comments":[{"comment_id":24017419,"body":"i thing your query return single record and you are trying fetch more than that."},{"comment_id":24017475,"body":"This is unrelated to the given exception, but <code>String[] perfiles = {};</code> is highly problematic. Adding anything to <code>perfiles</code>, even at index 0, will throw an <code>ArrayIndexOutOfBoundsException</code>"},{"comment_id":24019161,"body":"so how do i pass the resulset to an array?"},{"comment_id":24019261,"body":"this is the query     <code>String PERFILESQUERY = &quot;SELECT * FROM perfiles&quot;;</code>"},{"comment_id":24055544,"body":"At last it was an inocent glitch in other part of the code. <b>I left an statement opened</b> so the first query was working but these others weren&#39;t. I closed them all after getting the data and <i>changed the array for an arraylist [just in case]</i> and it&#39;s <b>working properly now</b>. Thank you all for your help"}],"last_activity_date":1684742315,"question_id":16689044,"body":"<p>I'm having some bad trouble related to a resulset.\nI have one statement, resulset, ... with the very same structure and it works but this one doesn't.\nI've seen some people with similar problems but related to the lack of .next(). As you can see, I already have it and I still don't understand.</p>\n\n<p>conex is the Connection, which it's received from the session of a jsp.</p>\n\n<p>Let's see if you can enlight me</p>\n\n<pre><code>public String[] getPerfiles(Connection conex) throws SQLException {\n    String[] perfiles = {};\n    int i = 0;\n    Statement st = conex.createStatement();\n    ResultSet rs1 = st.executeQuery(q.PERFILESQUERY);\n    while (rs1.next()) {\n        perfiles[i] = rs1.getString(2);\n        i++;\n    }\n    return perfiles;\n}\n</code></pre>\n\n<p>The Query</p>\n\n<pre><code>    String PERFILESQUERY = \"SELECT * FROM perfiles\";\n</code></pre>\n\n<p>Here is the error trace</p>\n\n<blockquote>\n  <p>Exception occurred in target VM: Before start of result set \n  java.sql.SQLException: Before start of result set     at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1078)    at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:989)     at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:975)     at\n  com.mysql.jdbc.SQLError.createSQLException(SQLError.java:920)     at\n  com.mysql.jdbc.ResultSetImpl.checkRowPos(ResultSetImpl.java:855)  at\n  com.mysql.jdbc.ResultSetImpl.getStringInternal(ResultSetImpl.java:5773)\n    at com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5693)\n    at clases.Funciones.getPerfiles(Funciones.java:123)     at\n  org.apache.jsp.formUsuario_jsp._jspService(formUsuario_jsp.java:101)\n    at\n  org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:111)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)     at</p>\n</blockquote>\n"},{"answers":[{"answer_id":17047400,"body":"<p>This is a nice example...</p>\n\n<p>The <code>Calendar</code> is not easy to handle. You problem is the evaluation of the date.</p>\n\n<p>The date of the <code>Calendar</code> is newly evaluated if you call e.g. <code>getTime()</code> or <code>add()</code>.</p>\n\n<p>In the second (correct) example you call <code>getTime()</code> after setting the first day of the week and the calendar is set to <code>2013-06-06</code>. After that you change the day of the week and set the calendar new (via <code>getTime()</code>). Therefore it is now set to Monday.</p>\n\n<p>In the first example you set the <code>Calendar</code> to the date and set the day of week. This leads to an invalid date (temporarily). <code>2013-06-06</code> is a Thursday and you set Monday. Now which one is the correct day of week? The <code>Calendar</code> implementation now chooses Thursday.</p>\n\n<p>This is also <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html\" rel=\"nofollow\">well documented</a> in the Javadoc. The section is named <strong>Calendar Fields Resolution</strong>.</p>\n"}],"last_activity_date":1684742268,"question_id":17046756,"body":"<p>Want to get first day of the next week (next monday), but call to <code>getTime()</code> changes the Calendar object. </p>\n\n<p>Please tell me the right way to get first day of the next week.</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.GregorianCalendar;\npublic class Main {\n    public static void main(String[] args) {\n        {\n            final SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n            final Calendar cal = new GregorianCalendar( 2013, 5, 6 );\n            cal.setFirstDayOfWeek( Calendar.MONDAY );\n            //System.out.println( sdf.format( cal.getTime() ) );\n            cal.set( Calendar.DAY_OF_WEEK,  Calendar.MONDAY );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-06\n            cal.add( Calendar.WEEK_OF_YEAR, 1 );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-13\n        }\n        {\n            final SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n            final Calendar cal = new GregorianCalendar( 2013, 5, 6 );\n            cal.setFirstDayOfWeek( Calendar.MONDAY );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-06\n            cal.set( Calendar.DAY_OF_WEEK,  Calendar.MONDAY );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-03\n            cal.add( Calendar.WEEK_OF_YEAR, 1 );\n            System.out.println( sdf.format( cal.getTime() ) );  // 2013-06-10\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":110404032,"body":"Did you try the withReuse(true) option?"},{"comment_id":110404438,"body":"@P3trur0: Yes. And <code>testcontainers.reuse.enable=true</code> - doesn&#39;t help."},{"comment_id":110405274,"body":"Try to place container instance into separate <code>@TestConfiguration</code> as a <code>@Bean</code> and then import this configuration in all your relevant tests."},{"comment_id":110407946,"body":"@NikolaiShevchenko: Tried that, but it&#39;s needed in the <code>@ContextConfiguration(initializers</code> and I can&#39;t get it to work there."}],"answers":[{"comments":[{"comment_id":110420436,"body":"&quot;The Singleton pattern doesn&#39;t help since every test starts a new application.&quot;"}],"answer_id":62433814,"body":"<p>I'm not sure how <code>@Testcontainers</code> works, but I suspect it might work per class. </p>\n\n<p>Just make your singleton static as described in <a href=\"https://www.testcontainers.org/test_framework_integration/manual_lifecycle_control/\" rel=\"nofollow noreferrer\">Singleton pattern</a>\nand get it in every test from your signleton holder, don't define it in every test class.</p>\n"},{"comments":[{"comment_id":110439428,"body":"Many thanks. Then I also need to increase my <code>max_connections</code> with <code>.withCommand(&quot;postgres -c max_connections=200&quot;)</code>. How can I control the lifetime of reusable containers?"},{"comment_id":110441910,"body":"I can&#39;t answer this question. Maybe it&#39;s worth having a look at the PR which introduced the feature: <a href=\"https://github.com/testcontainers/testcontainers-java/pull/1781\" rel=\"nofollow noreferrer\">github.com/testcontainers/testcontainers-java/pull/1781</a>"},{"comment_id":114789662,"body":"Where is testcontainers.reuse.enable=true documented?"},{"comment_id":117273076,"body":"Is there a way to configure <code>testcontainers.reuse.enable=true</code> elsewhere? I don&#39;t want reusable containers to be dependant on the developer&#39;s laptop configuration"},{"comment_id":117274380,"body":"Yes, there are multiple ways to configure this property. Take a look at the <a href=\"https://www.testcontainers.org/features/configuration/\" rel=\"nofollow noreferrer\">Configuration locations section</a> of the Testcontainers documentation."},{"comment_id":123231362,"body":"You can&#39;t set <code>testcontainers.reuse.enable</code> via classpath. <a href=\"https://github.com/testcontainers/testcontainers-java/issues/3780#issuecomment-776562459\" rel=\"nofollow noreferrer\">See this comment</a>."},{"comment_id":127052346,"body":"@rieckpil how can we ensure that it is reusing the same container as I applied these settings and I do not see any time difference in my integration test run time. it seems to same with these conditions enabled and disabled. thanks"},{"comment_id":127053850,"body":"Take a look at docker ps while your tests are running. You should only see a single container being used. If you are on Linux/macOS <code>watch -n 1 docker ps</code> may be handy"},{"comment_id":127540744,"body":"@vault You can do this via <code>TestcontainersConfiguration.getInstance().updateUserConfig(&quot;&zwnj;&#8203;testcontainers.reuse&zwnj;&#8203;.enable&quot;, &quot;true&quot;);</code> before starting the container"},{"comment_id":128040202,"body":"There are 2 calls of new PostgreSQLContainer() But only one container will be used. Is it correct ?"},{"comment_id":128049359,"body":"Yes, only one container will be created for the tests"},{"comment_id":131986061,"body":"After the last test, Ryuk will still take care of shutting down the container, won&#39;t it ?"}],"answer_id":62443261,"body":"<p>You can't use the JUnit Jupiter annotation <code>@Container</code> if you want to have reusable containers. This annotation ensures to stop the container <a href=\"https://github.com/testcontainers/testcontainers-java/issues/2352\" rel=\"noreferrer\">after each test</a>.</p>\n<p>What you need is the singleton container approach, and use e.g. <code>@BeforeAll</code> to start your containers. Even though you then have <code>.start()</code> in multiple tests, Testcontainers won't start a new container if you opted-in for reusability using both <code>.withReuse(true)</code> on your container definition AND the following <code>.testcontainers.properties</code> file in your home directory:</p>\n<pre><code>testcontainers.reuse.enable=true\n</code></pre>\n<p>A simple example might look like the following:</p>\n<pre><code>@SpringBootTest\npublic class SomeIT {\n\n  public static GenericContainer postgreSQLContainer = new PostgreSQLContainer().\n    withReuse(true);\n\n  @BeforeAll\n  public static void beforeAll() {\n    postgreSQLContainer.start();\n  }\n\n  @Test\n  public void test() {\n\n  }\n\n}\n</code></pre>\n<p>and another integration test:</p>\n<pre><code>@SpringBootTest\npublic class SecondIT {\n\n  public static GenericContainer postgreSQLContainer = new PostgreSQLContainer().\n    withReuse(true);\n\n  @BeforeAll\n  public static void beforeAll() {\n    postgreSQLContainer.start();\n  }\n\n  @Test\n  public void secondTest() {\n\n  }\n\n}\n</code></pre>\n<p>There is currently a <a href=\"https://github.com/testcontainers/testcontainers-java/pull/2555\" rel=\"noreferrer\">PR that adds documentation</a> about this</p>\n<p>I've put together a blog post explaining <a href=\"https://rieckpil.de/reuse-containers-with-testcontainers-for-fast-integration-tests/\" rel=\"noreferrer\">how to reuse containers with Testcontainers</a> in detail.</p>\n"},{"answer_id":68636519,"body":"<p>If you decide go forward with the <a href=\"https://www.testcontainers.org/test_framework_integration/manual_lifecycle_control/#singleton-containers\" rel=\"noreferrer\">singleton pattern</a>, mind the warning in &quot;<a href=\"https://www.testcontainers.org/modules/databases/jdbc/#database-containers-launched-via-jdbc-url-scheme\" rel=\"noreferrer\">Database containers launched via JDBC URL scheme</a>&quot;. I took hours till I note that, even though I was using the <a href=\"https://www.testcontainers.org/test_framework_integration/manual_lifecycle_control/#singleton-containers\" rel=\"noreferrer\">singleton pattern</a>, an additional container was always being created mapped on a different port.</p>\n<p>In summary, do not use the test containers JDBC (host-less) URIs, such as <code>jdbc:tc:postgresql:&lt;image-tag&gt;:///&lt;databasename&gt;</code>, if you need use the <a href=\"https://www.testcontainers.org/test_framework_integration/manual_lifecycle_control/#singleton-containers\" rel=\"noreferrer\">singleton pattern</a>.</p>\n"},{"comments":[{"comment_id":133682308,"body":"I&#39;m working on a reusable testcontainers solution myself and really liked your approach a lot, but I&#39;m testing it and it seems that <code>return new PostgresTestContainerContextCustomizer();</code> will create a new instance every time it&#39;ll get hit, and that will dirty-up the context, forcing spring boot to reload it. Do I understand it wrong? Maybe it&#39;ll be best to cache the <code>ContextCustomizer</code> as a static field/singleton so it won&#39;t be created for every test class?"},{"comment_id":133682929,"body":"I&#39;m guessing you missed this in the example <code>@EqualsAndHashCode &#47;&#47; See ContextCustomizer java doc</code> . The Javadoc explains why you need equals and hashcode and how that relates to the behaviour you see right now."},{"comment_id":134133193,"body":"See it in action here! <a href=\"https://github.com/jhipster/generator-jhipster/blob/main/generators/server/templates/src/test/java/package/config/TestContainersSpringContextCustomizerFactory.java.ejs\" rel=\"nofollow noreferrer\">github.com/jhipster/generator-jhipster/blob/main/generators/&zwnj;&#8203;&hellip;</a>"},{"comment_id":134135471,"body":"@Tcharl very cool!"}],"answer_id":74014960,"body":"<p>Using either singleton containers or reusable containers are possible solutions but because they don't scope the life-cycle of the container to that of the application context both are less then ideal.</p>\n<p>It is however possible to scope the container to the application contexts lifecycle by using a <code>ContextCustomizerFactory</code> and <a href=\"https://logarithmicwhale.com/posts/faster-tests-by-resuing-testcontainers-in-spring-boot/\" rel=\"nofollow noreferrer\">I've written about this in more detail in a blog post</a>.</p>\n<p>In a test use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@SpringBootTest\n@EnabledPostgresTestContainer\nclass DemoApplicationTest {\n\n    @Test\n    void contextLoads() {\n        log.info(&quot;Hello world&quot;);\n    }\n\n}\n</code></pre>\n<p>Then enable the annotation in <code>META-INF/spring.factories</code>:</p>\n<pre><code>org.springframework.test.context.ContextCustomizerFactory=\\\n  com.logarithmicwhale.demo.EnablePostgresTestContainerContextCustomizerFactory\n</code></pre>\n<p>Which can be implemented as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EnablePostgresTestContainerContextCustomizerFactory implements ContextCustomizerFactory {\n\n    @Target(ElementType.TYPE)\n    @Retention(RetentionPolicy.RUNTIME)\n    @Documented\n    @Inherited\n    public @interface EnabledPostgresTestContainer {\n    }\n\n    @Override\n    public ContextCustomizer createContextCustomizer(Class&lt;?&gt; testClass,\n            List&lt;ContextConfigurationAttributes&gt; configAttributes) {\n        if (!(AnnotatedElementUtils.hasAnnotation(testClass, EnabledPostgresTestContainer.class))) {\n            return null;\n        }\n        return new PostgresTestContainerContextCustomizer();\n    }\n\n    @EqualsAndHashCode // See ContextCustomizer java doc\n    private static class PostgresTestContainerContextCustomizer implements ContextCustomizer {\n\n        private static final DockerImageName image = DockerImageName\n                .parse(&quot;postgres&quot;)\n                .withTag(&quot;14.1&quot;);\n\n        @Override\n        public void customizeContext(ConfigurableApplicationContext context, MergedContextConfiguration mergedConfig) {\n            var postgresContainer = new PostgreSQLContainer&lt;&gt;(image);\n            postgresContainer.start();\n            var properties = Map.&lt;String, Object&gt;of(\n                    &quot;spring.datasource.url&quot;, postgresContainer.getJdbcUrl(),\n                    &quot;spring.datasource.username&quot;, postgresContainer.getUsername(),\n                    &quot;spring.datasource.password&quot;, postgresContainer.getPassword(),\n                    // Prevent any in memory db from replacing the data source\n                    // See @AutoConfigureTestDatabase\n                    &quot;spring.test.database.replace&quot;, &quot;NONE&quot;\n            );\n            var propertySource = new MapPropertySource(&quot;PostgresContainer Test Properties&quot;, properties);\n            context.getEnvironment().getPropertySources().addFirst(propertySource);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":134538190,"body":"Should be <code>@ExtendWith(DatabaseSetupExtension.class)</code>"}],"answer_id":74779653,"body":"<p>Accepted answer is great but the problem is you still have to repeat the configurations(creating, starting and etc.) for each integration tests. It would be better to have simpler configuration with fewer lines of code. I think cleaner version would be using JUnit 5 extensions.</p>\n<p>This is how I solved the problem. Below sample uses MariaDB container but the concept is applicable to all.</p>\n<ol>\n<li>Create the container config holding class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class AppMariaDBContainer extends MariaDBContainer&lt;AppMariaDBContainer&gt; {\n\n    private static final String IMAGE_VERSION = &quot;mariadb:10.5&quot;;\n    private static final String DATABASE_NAME = &quot;my-db&quot;;\n    private static final String USERNAME = &quot;user&quot;;\n    private static final String PASSWORD = &quot;strong-password&quot;;\n\n    public static AppMariaDBContainer container = new AppMariaDBContainer()\n            .withDatabaseName(DATABASE_NAME)\n            .withUsername(USERNAME)\n            .withPassword(PASSWORD);\n\n    public AppMariaDBContainer() {\n        super(IMAGE_VERSION);\n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create an extension class that starts the container and sets the <code>DataSource</code> properties. And run migrations if needed:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class DatabaseSetupExtension implements BeforeAllCallback {\n\n    @Override\n    public void beforeAll(ExtensionContext context) {\n        AppMariaDBContainer.container.start();\n        updateDataSourceProps(AppMariaDBContainer.container);\n        //migration logic here (if needed)\n    }\n\n    private void updateDataSourceProps(AppMariaDBContainer container) {\n        System.setProperty(&quot;spring.datasource.url&quot;, container.getJdbcUrl());\n        System.setProperty(&quot;spring.datasource.username&quot;, container.getUsername());\n        System.setProperty(&quot;spring.datasource.password&quot;, container.getPassword());\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>Add <code>@ExtendWith</code> to your test class</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@ExtendWith(DatabaseSetupExtension.class)\nclass ApplicationIntegrationTests {\n\n    @Test\n    void someTest() {\n    }\n\n}\n\n</code></pre>\n<p>Another test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@ExtendWith(DatabaseSetupExtension.class)\nclass AnotherIntegrationTests {\n\n    @Test\n    void anotherTest() {\n    }\n\n}\n</code></pre>\n"},{"answer_id":75530001,"body":"<p>Simply follow the guide from the testcontainers documentation. about the <a href=\"https://www.testcontainers.org/test_framework_integration/manual_lifecycle_control/#singleton-containers\" rel=\"nofollow noreferrer\">Singleton pattern</a>. As they say - it is an option for JUnit5.\nDo not use the @Testcontainers annotation and @Container annotation. Those are related to the JUnit4.\nAlso add to your class path testcontainers.properties file with:</p>\n<pre><code>testcontainers.reuse.enable=true\n</code></pre>\n<p>That did the trick for me.</p>\n"}],"last_activity_date":1684742258,"question_id":62425598,"body":"<p>I'm using TestContainers with Spring Boot to run unit tests for repositories like this:</p>\n\n<pre><code>@Testcontainers\n@ExtendWith(SpringExtension.class)\n@ActiveProfiles(\"itest\")\n@SpringBootTest(classes = RouteTestingCheapRouteDetector.class)\n@ContextConfiguration(initializers = AlwaysFailingRouteRepositoryShould.Initializer.class)\n@TestExecutionListeners(listeners = DependencyInjectionTestExecutionListener.class)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@Tag(\"docker\")\n@Tag(\"database\")\nclass AlwaysFailingRouteRepositoryShould {\n\n  @SuppressWarnings(\"rawtypes\")\n  @Container\n  private static final PostgreSQLContainer database =\n      new PostgreSQLContainer(\"postgres:9.6\")\n          .withDatabaseName(\"database\")\n          .withUsername(\"postgres\")\n          .withPassword(\"postgres\");\n</code></pre>\n\n<p>But now I have 14 of these tests and every time a test is run a new instance of Postgres is spun up. Is it possible to reuse the same instance across all tests? The <a href=\"https://www.testcontainers.org/test_framework_integration/manual_lifecycle_control/\" rel=\"noreferrer\">Singleton pattern</a> doesn't help since every test starts a new application.</p>\n\n<p>I've also tried <code>testcontainers.reuse.enable=true</code> in <code>.testcontainers.properties</code> and <code>.withReuse(true)</code>, but that didn't help.</p>\n"},{"comments":[{"comment_id":134555437,"body":"As the error suggests it is not able to find .tf file in the current directory."},{"comment_id":134555600,"body":"What do <i>any</i> of the tags have to do with your question?  Is this a <i>programming</i> question at all?"},{"comment_id":134555612,"body":"(And how does the question demonstrate research effort?  How is it useful and clear?   What command did you run? What args?  An EC2 <i>what</i> ...)"}],"last_activity_date":1684742186,"question_id":76303655,"body":"<p>The details are thus;</p>\n<pre><code> Error: No configuration files\n│ \n│ Plan requires configuration to be present. Planning without a configuration would mark everything for\n│ destruction, which is normally not what is desired. If you would like to destroy everything, run plan with the\n│ -destroy option. Otherwise, create a Terraform configuration file (.tf file) and try again.\n</code></pre>\n<p>Have try to resolve it with alias &quot;env&quot; but it does not seem to be go.</p>\n"},{"answers":[{"answer_id":68165786,"body":"<p>I was getting the same issue today when using</p>\n<pre><code>@ApiResponse(\n    responseCode = &quot;200&quot;, \n    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = MyDto.class)), \n    description = &quot;Returns MyDto.&quot;)\n</code></pre>\n<p>with <code>io.swagger.v3.oas.annotations.media.Schema</code> from <code>swagger 2.1.9</code>.</p>\n<p>After trying different swagger versions (which were producing other errors in my setup), it worked when downgrading to <code>swagger 2.0.10</code>.</p>\n"},{"answer_id":76165538,"body":"<p>I changed <code>@Schema(type = &quot;integer&quot;)</code> by <code>@Schema(implementation = Integer.class)</code></p>\n"},{"answer_id":76304056,"body":"<p>Add this Dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n"}],"last_activity_date":1684742051,"question_id":66174633,"body":"<p>I have this open API annotation</p>\n<pre><code>    @GET\n    @Operation(method = &quot;Get orders&quot;, description = &quot;GetOrdersRoute&quot;,\n            parameters = {\n                    @Parameter(in = ParameterIn.QUERY, name = &quot;batchSize&quot;, required = true,\n                            schema = @Schema(type = &quot;&quot;)),\n                    @Parameter(in = ParameterIn.QUERY, name = &quot;fromDate&quot;, required = true),\n                    @Parameter(in = ParameterIn.QUERY, name = &quot;filter&quot;, required = true)},\n            responses = {\n                    @ApiResponse(description = &quot;The order&quot;,\n                            content = @Content(mediaType = &quot;application/json&quot;,\n                                    schema = @Schema(implementation = OrderDto.class)))})\n    @Override\n    public String handle(@Parameter(hidden = true) Request request, @Parameter(hidden = true) Response response) {\n        return api.exec();\n    }\n</code></pre>\n<p>It works. But when I add to <code>@Parameter</code> to <code>@Schema</code> any value like <code>schema = @Schema(type = &quot;integer&quot;))</code> I get an exception:</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.commons.lang3.math.NumberUtils.isCreatable(Ljava/lang/String;)Z\n</code></pre>\n<p>In other words:  <code>@Schema(type = &quot;&quot;))</code> works fine but  <code>@Schema(type = &quot;integer&quot;))</code> doesn't work.</p>\n<p>And not only <code>type</code> parameter in <code>@Schema</code> annotation. Any override parameter in  <code>@Schema</code> annotation throws this exception.</p>\n<p>But <code>@Schema</code> in <code>@ApiResponse</code> works fine with any override parameter.</p>\n"},{"answers":[{"comments":[{"comment_id":130302377,"body":"This did the job for me in a multimodule project, where the master-pom already had swagger configured.  I disabled the master-pom swagger with exclusions inside &lt;dependencyManagement&gt;&lt;dependencies&gt;(&lt;/master artifactId&gt; and &lt;/groupid&gt;) &lt;exclusions&gt; &lt;/exclusion&gt;(groupid &amp; artifactid)  It will make sense for someone tangled in this  Leaving me with two dependencies in the childpom: org.springdoc.springdoc-openapi-ui &amp; io.swagger.core.v3.swagger-annotations"}],"answer_id":68848391,"body":"<p>I was able to get the dependency issue fixed by adding the swagger-annotations library during the compile time in the build.gradle file:</p>\n<pre><code>dependencies {\nimplementation &quot;io.swagger.core.v3:swagger-annotations:2.1.10&quot;\n}\n</code></pre>\n"},{"answer_id":76304047,"body":"<p>Add this dependency</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.2.10&lt;/version&gt;\n&lt;/dependency&gt;```\n</code></pre>\n"}],"last_activity_date":1684741981,"question_id":68843312,"body":"<p>I'm generate a java client using swagger codegen cli tool (version 3.0.25) in gradle:</p>\n<pre><code>task doCodeGenSdk(type: JavaExec) {\nmain = &quot;io.swagger.codegen.v3.Codegen&quot;\nclasspath = configurations.codeGenCli\ninputs.files file(&quot;${swaggerSpecDir}/*.json&quot;)\noutputs.dir file(&quot;${codeGenDirSdk}&quot;)\nargs = [&quot;generate&quot;, &quot;--lang&quot;, &quot;java&quot;, &quot;--input-spec&quot;, &quot;${swaggerSpecFile}&quot;,\n        &quot;--config&quot;, &quot;${swaggerConfig}&quot;,\n        &quot;--template-dir&quot;, &quot;${swaggerTemplateDir}&quot;,\n        &quot;--output&quot;, &quot;${codeGenDirSdk}&quot;]\nsystemProperty &quot;apiTests&quot;, &quot;false&quot;\nsystemProperty &quot;apiDocs&quot;, &quot;false&quot;\nsystemProperty &quot;modelTests&quot;, &quot;false&quot;\nsystemProperty &quot;modelDocs&quot;, &quot;false&quot;}\n</code></pre>\n<p>The swagger config file is as shown below:</p>\n<pre><code>{\n&quot;library&quot;: &quot;resttemplate&quot;,\n&quot;artifactVersion&quot;: &quot;__VERSION__&quot;,\n&quot;artifactId&quot;: &quot;__ARTIFACT_ID__&quot;,\n&quot;modelPackage&quot;: &quot;com.model&quot;,\n&quot;apiPackage&quot;: &quot;com.api&quot;,\n&quot;invokerPackage&quot;: &quot;com.invoker&quot;,\n&quot;dateLibrary&quot;: &quot;java8&quot;,\n&quot;apiTests&quot;: false,\n&quot;java8&quot;: true,\n&quot;serializableModel&quot;: true,\n&quot;useBeanValidation&quot;: true,\n&quot;performBeanValidation&quot;: true}\n</code></pre>\n<p>The template-directory has the following mustache files:</p>\n<pre><code>ApiClient.mustache, generatedAnnotation.mustache, licenseInfo.mustach, pojo.mustache\n</code></pre>\n<p>The gradle file:</p>\n<pre><code>buildscript {\nrepositories {\n    maven {\n        url &quot;https://plugins.gradle.org/m2/&quot;\n    }\n}\ndependencies {\n    classpath &quot;io.swagger.core.v3:swagger-gradle-plugin:2.1.10&quot;\n  }\n}\napply plugin: io.swagger.v3.plugins.gradle.SwaggerPlugin\nconfigurations {\n    codeGenCli\n}\ndependencies {\n    codeGenCli &quot;io.swagger.codegen.v3:swagger-codegen-cli:3.0.25&quot;\n}\n</code></pre>\n<p>The swagger codegen generates the files in the build directory, however there are import error for some of the packages.</p>\n<pre><code>error: package io.swagger.v3.oas.annotations.media does not exist\n</code></pre>\n<p>We were using swagger codegen tool to generate client code using swagger spec file in 2.0.</p>\n<p>This is the first time, we're trying to generate a client using a swagger spec file in 3.0.</p>\n<p>Any help would be much appreciated.</p>\n"},{"comments":[{"comment_id":36215330,"body":"On what basis do you say same message is redelivered after fixed interval. Can you show logs?"},{"comment_id":36215849,"body":"See my edit - as you can tell, there are fixed 5 seconds intervals between re-deliveries."},{"comment_id":36215966,"body":"Ans is it for the same message?"},{"comment_id":36216018,"body":"Yes, as I already said, these are all re-deliveries of the same message."},{"comment_id":36218861,"body":"try to use different consumer cache settings at listener container"},{"comment_id":36218880,"body":"<a href=\"http://forum.spring.io/forum/spring-projects/integration/jms/114247-jms-dmlc-not-caching-connection-when-using-tx-despite-cachelevel-cache-consumer\" rel=\"nofollow noreferrer\">forum.spring.io/forum/spring-projects/integration/jms/&hellip;</a>"},{"comment_id":36218902,"body":"<a href=\"http://tmielke.blogspot.ru/2012/03/camel-jms-with-transactions-lessons.html\" rel=\"nofollow noreferrer\">tmielke.blogspot.ru/2012/03/&hellip;</a>"},{"comment_id":36230078,"body":"@Konstantin V. Salikhov - I changed the cache level to &quot;none&quot;, but it didn&#39;t make any difference."},{"comment_id":94956546,"body":"in my case the problem was with cache settings, I changed cache level to &quot;CACHE_CONSUMER&quot; and it started to work"}],"answers":[{"comments":[{"comment_id":55898594,"body":"I believe the JMS Exceptions are assumed to be related to the JMS connection and not the business case you have at hand. Thus on a JMS exception it should retry indefinitely whereas if there is another type of exception it should stop as per the RedeliveryPolicy."},{"comment_id":134556954,"body":"Probably because JMSException is a checked exception; <code>@Transactional</code> only rollbacks runtime exception by default, you need to configure that yourself. See also <a href=\"https://stackoverflow.com/questions/73897990/spring-boot-jdbc-transactional-wont-rollback\">@Transactional won&#39;t rollback</a>."}],"answer_id":23603151,"body":"<p>So, I think I found the problem:\nWhen I was testing the policy before, I threw JMSException to get the messages to be re-delivered.</p>\n\n<p>One I changed the exception that was thrown to Exception/RuntimeException, the exponential back off worked.</p>\n\n<p>I'm not sure why JMSException causes the exponential back off policy to be ignored...Does anyone have any ideas?</p>\n"},{"answer_id":76304043,"body":"<p>To make @tyfyh's comment stand out a little more, let's expand it as an answer. By setting the cache level to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html#CACHE_CONSUMER\" rel=\"nofollow noreferrer\">CACHE_CONSUMER</a>, it means that the JMS consumer (message receiver) is cached, allowing it to be reused for multiple message deliveries. This caching behavior can impact the redelivery behavior and handling of exceptions, and a such fix above problem.</p>\n<p>You can define the DefaultJmsListenerContainerFactory yourself:</p>\n<pre><code>@Bean\npublic DefaultJmsListenerContainerFactory jmsListenerContainerFactory(PlatformTransactionManager txManager, ConnectionFactory connectionFactory) {\n  var factory = new DefaultJmsListenerContainerFactory();\n  factory.setTransactionManager(txManager);\n  factory.setConnectionFactory(connectionFactory);\n  factory.setCacheLevel(DefaultMessageListenerContainer.CACHE_CONSUMER);\n\n  return factory;\n}\n</code></pre>\n<p>Or use existing bean and just set the cache level:</p>\n<pre><code>@Configuration\npublic class JmsListenerConfig {\n\n  private final DefaultJmsListenerContainerFactory factory;\n\n  public JmsListenerConfig(DefaultJmsListenerContainerFactory factory) {\n    this.factory = factory;\n  }\n\n  @PostConstruct\n  public void customizeJmsListenerContainerFactory() {\n    factory.setCacheLevel(DefaultMessageListenerContainer.CACHE_CONSUMER);\n  }\n}\n</code></pre>\n"}],"last_activity_date":1684741977,"question_id":23593980,"body":"<p>We're trying to set a re-delivery policy for ActiveMQ using spring jms. We've set an exponential back-off for the re-deliveries, but it seems to be ignored - the intervals between the message re-deliveries are fixed instead of exponentially growing.</p>\n\n<p>Does anyone know what might be the problem? This is our spring-jms configuration:</p>\n\n<pre><code>&lt;bean id=\"connectionFactory\" class=\"org.apache.activemq.ActiveMQConnectionFactory\"\n    p:brokerURL=\"${activemq_url}\"&gt;\n    &lt;property name=\"redeliveryPolicy\" ref=\"redeliveryPolicy\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"redeliveryPolicy\" class=\"org.apache.activemq.RedeliveryPolicy\"&gt;\n    &lt;property name=\"queue\" value=\"*\" /&gt;\n    &lt;property name=\"initialRedeliveryDelay\" value=\"10000\" /&gt;\n    &lt;property name=\"redeliveryDelay\" value=\"10000\" /&gt;\n    &lt;property name=\"maximumRedeliveries\" value=\"-1\" /&gt;\n    &lt;property name=\"useExponentialBackOff\" value=\"true\" /&gt;\n    &lt;property name=\"backOffMultiplier\" value=\"5\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"cachingConnectionFactory\" class=\"org.springframework.jms.connection.CachingConnectionFactory\" \n    p:targetConnectionFactory-ref=\"connectionFactory\" p:sessionCacheSize=\"10\" \n    /&gt;\n\n&lt;!-- A JmsTemplate instance that uses the cached connection and destination --&gt;\n&lt;bean id=\"jmsTemplate\" class=\"org.springframework.jms.core.JmsTemplate\"&gt;\n    &lt;property name=\"connectionFactory\" ref=\"cachingConnectionFactory\" /&gt;\n    &lt;property name=\"messageConverter\" ref=\"messageConverter\" /&gt;\n    &lt;property name=\"sessionTransacted\" value=\"true\" /&gt;\n&lt;/bean&gt;\n\n&lt;!-- The Spring message listener container configuration --&gt;\n&lt;jms:listener-container container-type=\"default\"\n    destination-type=\"queue\" connection-factory=\"connectionFactory\"\n    acknowledge=\"transacted\" concurrency=\"1\" cache=\"consumer\"&gt;\n    &lt;jms:listener destination=\"testQueue\" ref=\"testService\"\n        method=\"onMessage\" /&gt;\n&lt;/jms:listener-container&gt;\n</code></pre>\n\n<p>Thanks!</p>\n\n<p><strong>EDIT:</strong> This is a log example, the re-deliveries happen every 5 seconds:</p>\n\n<pre><code>11 May 2014 18:52:00  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:00 IDT 2014\nat ...\n11 May 2014 18:52:05  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:05 IDT 2014\nat ...\n11 May 2014 18:52:10  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:10 IDT 2014\nat ...\n11 May 2014 18:52:15  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:15 IDT 2014\nat ...\n11 May 2014 18:52:20  WARN DefaultMessageListenerContainer - Execution of JMS message listener failed, and no ErrorHandler has been set.\njavax.jms.JMSException: Sun May 11 18:52:20 IDT 2014\nat ...\n</code></pre>\n"},{"comments":[{"comment_id":134460036,"body":"What is the name of the war file?"},{"comment_id":134460286,"body":"Not sure how that is relevant..  but the name of the war file that gets created is &quot;spring-boot-servlet-jsp-spring-0.0.1-SNAPSHOT.war&quot;"},{"comment_id":134472119,"body":"I understand that I want to leverage the advantages of quick setup / quick development features that spring boot provied and still be able to deploy it to a WAR file where my app will sit on a single Container server alongwith other Apps..  In this instance, a Single tomcat server which has port 80 opened and i would want all my apps to be part of this tomcat server."},{"comment_id":134474116,"body":"@Shoaeb The name of the war file might be relevant if you didn&#39;t provide a context configuration. Also you should post the server logs to see if it&#39;s started correctly."},{"comment_id":134481058,"body":"@Roman, Ah I see why the name of the war might be relevant. I have edited my question. Thanks"},{"comment_id":134512958,"body":"Why are you trying to access a JSP file directly? You are not supposed to do that with a Spring application (which uses the MVC architecture)."}],"answers":[{"comments":[{"comment_id":134495847,"body":"I agree with the above and know that this is not the standard practice / Convention to keep the JSP files. However, My concern is that the same project works fine in a Dev environment and does not when Packaged into a war. What Change should be added in the packaging that it behaves the same way it is behaving for Dev env."},{"comment_id":134513155,"body":"@Shoaeb I have edited the answer to address your comment."}],"answer_id":76267210,"body":"<blockquote>\n<p>But when I try to do the same after packaging using mvn package the project into a war and running it on an external apache tomcat , I get Not found error.</p>\n</blockquote>\n<p>I do not see in <a href=\"https://github.com/search?q=repo%3Acrystaldeveloper2017%2Fspringstartertest%20SpringBootServletInitializer&amp;type=code\" rel=\"nofollow noreferrer\">your project</a> a <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/web/servlet/support/SpringBootServletInitializer.html\" rel=\"nofollow noreferrer\"><code>SpringBootServletInitializer</code></a>, which should be essential because it allows the servlet container to run your application by bootstrapping it via code, rather than using the web.xml descriptor file: if you are deploying your Spring Boot application as a WAR file to an external servlet container like Apache Tomcat, you will need a class that extends <code>SpringBootServletInitializer</code>.</p>\n<p>Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\npublic class ServletInitializer extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(YourApplication.class);\n    }\n\n}\n</code></pre>\n<p>Plus, as <a href=\"https://www.baeldung.com/spring-boot-jsp#view-resolver-configuration\" rel=\"nofollow noreferrer\">seen here</a>, the JSP files should be under the <code>${project.basedir}/main/webapp/WEB-INF/jsp/</code> directory.</p>\n<p>The <code>src/main/webapp/WEB-INF/</code> directory is the standard location for resources that need to be protected from direct access (which typically includes JSP files), as the servlet specification restricts direct access to files under the <code>WEB-INF/</code> directory.</p>\n<p>Make sure your <code>src/main/resources/application.properties</code> (or <code>src/main/resources/application.yml</code>) has the correct settings for view resolution:</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>This tells Spring Boot to look for views in the <code>/WEB-INF/jsp/</code> directory (with <code>.jsp</code> extension).<br />\nThe prefix and suffix properties are used to generate the real view path based on the view name returned by the controller.</p>\n<p>For example, if your controller returns &quot;<code>employeeView</code>&quot; as the view name, Spring will use the prefix and suffix to resolve that to <code>/WEB-INF/jsp/employeeView.jsp</code>.</p>\n<p>So your project structure should be something like:</p>\n<pre><code>.\n├── src\n│   ├── main\n│   │   ├── java\n│   │   │   └── com\n│   │   │       └── yourpackage\n│   │   │           └── YourApplication.java\n│   │   ├── resources\n│   │   │   └── application.properties\n│   │   └── webapp\n│   │       └── WEB-INF\n│   │           └── jsp\n│   │               └── employeeView.jsp\n└── pom.xml\n</code></pre>\n<hr />\n<blockquote>\n<p>My concern is that the same project works fine in a Dev environment and does not when Packaged into a war. What Change should be added in the packaging that it behaves the same way it is behaving for Dev env</p>\n</blockquote>\n<p>The discrepancy you're seeing is likely due to differences in how embedded servers (like the one used when you run the application from your IDE or using <code>mvn spring-boot:run</code>) and standalone servers (like the Apache Tomcat you're deploying your WAR to) handle resource loading.</p>\n<p>When using an embedded server, Spring Boot uses its <a href=\"https://www.logicbig.com/tutorials/spring-framework/spring-core/resource-loading.html\" rel=\"nofollow noreferrer\">own resource loading logic</a>, which includes several locations under <code>src/main/resources</code> in the classpath, including <code>/META-INF/resources/</code>, where you currently have your JSP.<br />\nHowever, standalone servers like Apache Tomcat use the Servlet API's resource loading logic, which does not include <code>/META-INF/resources/</code> in the classpath for JSP files.</p>\n<p>There's no direct way to make Tomcat load JSP files from <code>/META-INF/resources/</code> like the embedded server does, because this behavior is hard-coded in the Servlet specification, which Tomcat follows. JSPs are expected to be located under <code>/WEB-INF/</code>.</p>\n<hr />\n<p>Plus, in a <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html\" rel=\"nofollow noreferrer\">Spring MVC framework</a>, you would not directly access JSP files via the URL.<br />\nInstead, a common pattern is for the client to interact with a controller, which then decides which view (such as a JSP) to show based on the request.</p>\n<p>For example, you might have a controller method that looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class EmployeeController {\n\n    @GetMapping(&quot;/employeeView&quot;)\n    public String showEmployeeView() {\n        // You might add some attributes to the model here...\n        return &quot;employeeView&quot;; // Spring will use the view resolver settings to find the JSP\n    }\n}\n</code></pre>\n<p>Then, if your <code>spring.mvc.view.prefix</code> is <code>/WEB-INF/jsp/</code> and <code>spring.mvc.view.suffix</code> is <code>.jsp</code> (specified in your <code>application.properties</code>), Spring will use those to find the view at <code>/WEB-INF/jsp/employeeView.jsp</code>.</p>\n<p>You would then access the view by going to <code>http://localhost:8080/employeeView</code> (when running locally), not <code>http://localhost:8080/employeeView.jsp</code>.</p>\n<p>This pattern allows you to include any necessary server-side processing before the view is returned, and it helps to hide the implementation details of your views (such as their locations and the technologies used to create them) from the client.<br />\nIt is also more in line with the principles of MVC architecture, where the controller handles user interactions and decides which view to display.</p>\n"},{"comments":[{"comment_id":134554509,"body":"When you say &quot;when I take the war file and manually put it into tomcat webapps&quot;, do you export using eclipse or do &quot;mvn package&quot; to generate the WAR.. ?"},{"comment_id":134555070,"body":"I meant using mvn clean package take the war file from generated  target folder. The export wizard has too many manual steps"},{"comment_id":134555629,"body":"I added a line &quot; You can even right click on your main class java file and use Run as Spring Boot Application.&quot; I hope you dont remove your git repository. Its a good refernce even though some things are a bit different."},{"comment_id":134563192,"body":"Can you share your code snippet that is working for  you on both embedded tomcat and external tomcat ?"},{"comment_id":134564049,"body":"No real change in your code other than the snippets I shared above. Note: server.servlet.context-path=/spring-boot-servlet-jsp-spring. Because that matches the artifactId. Which means if you use this setup and run the urls will be <a href=\"http://localhost:8080/spring-boot-servlet-jsp-spring\" rel=\"nofollow noreferrer\">localhost:8080/spring-boot-servlet-jsp-spring</a>"},{"comment_id":134564163,"body":"It works all the ways its supposed to. By the way you have committed the target folder. Remove it from there. Use a .gitignore. In eclipse Sometimes it also helps to do this. Right click on project. Do a F5(Refresh). Then Right click do a Maven Update. Then lastly from Project menu to do a clean before running the app."},{"comment_id":134564222,"body":"Not sure if this could be the difference- I am not using springtools. Just using the eclipse JEE edition."},{"comment_id":134564333,"body":"Small correction. I am using a recent eclipse.- Version: 2023-03 (4.27.0) Build id: 20230309-1520. I do have spring tools manually installed from market place. Maybe that will help."}],"answer_id":76301482,"body":"<p>I had a look at your code.\nIt looks like you have incorporated the suggestions you got so far.\nI tried your app it seems to be working fine.\nI would possibly not use servlets and rather use controllers of spring.</p>\n<p>There is no reason why the jsp should not be picked up from there.\nIts quite common to have a index.jsp or index.html.\nI use eclipse and it works fine when I do Run on Server or when I take the war file and manually put it into tomcat webapps. You can even right click on your main class java file and use Run as Spring Boot Application.</p>\n<p>Another issue could be you are targetting different server versions from your IDE vs when you deploy as war. This might cause an issue if one of them is tomcat 10 and the other is lower maybe tomcat 9 because of the servlet api breaking changes.</p>\n<p>This wont be related to your problem.\nBut you can add these for convenience because you indicateed the applications dont run as root / url.\nin pom.xml if you are using maven</p>\n<pre><code>&lt;build&gt;\n&lt;finalName&gt;${artifactId}&lt;/finalName&gt;\n</code></pre>\n<p>...</p>\n<p>In application.properties you can add</p>\n<pre><code>server.servlet.context-path=/[literalvalueoftheartifactid]\n</code></pre>\n<p>R</p>\n"}],"last_activity_date":1684741964,"question_id":76247078,"body":"<p>It might seem that this question has been asked in past and has solutions.\nHowever my question is specific to the difference that I see in development environment vs the Production Environment.</p>\n<p>I have a spring boot project based on Maven (<a href=\"https://github.com/crystaldeveloper2017/springstartertest\" rel=\"nofollow noreferrer\">https://github.com/crystaldeveloper2017/springstartertest</a>).</p>\n<p>When I Run/ Debug this project from within the VS code, and try to hit the URL</p>\n<p><code>http://localhost:8080/employeeView.jsp</code>, I get the desired results.</p>\n<p>But when I try to do the same after packaging using <code>mvn package</code> the project into a war and running it on an external apache tomcat , I get Not found error.</p>\n<p><code>http://localhost:8080/NAME_OF_WAR/employeeView.jsp</code>. (404 not found)</p>\n<p>the attached repository is public and is accessible to all.</p>\n"},{"comments":[{"comment_id":107169461,"body":"Any reason for the f-bomb?"}],"answers":[{"answer_id":27111550,"body":"<p>I'm basing my response on <a href=\"http://logging.apache.org/log4j/2.0/manual/layouts.html\" rel=\"nofollow noreferrer\">this manual reference</a>.</p>\n\n<p>1) Apparently the only parameters the JSONLayout takes are charset, compact, complete, properties, and locationInfo.  Unfortunately based on my limited research, removing endOfBatch and loggerFqcn doesn't appear possible.  (This is odd, however, since the example output in the referenced manual does not include these fields.)</p>\n\n<p>2) This is almost certainly not possible.  The concept of a log entry in log4j involves a string message, possibly a throwable, a log level, and a few other static things.  Custom fields aren't possible without writing a custom class.  <a href=\"https://stackoverflow.com/questions/1687473/log4j-custom-fields\">This SO question</a> describes doing that, though for the purpose of that question, MDC was used in the end.  MDC wouldn't serve your purposes since you want to have custom fields that are different in each entry.  I'm not sure what you mean by \"flatten.\"</p>\n\n<p>3) Unfortunately this doesn't look like it's available either.  PatternLayout is much more customizable; AFAIK you will have to customize JSONLayout yourself.</p>\n"},{"answer_id":32519271,"body":"<p>You can customize <code>JacksonFactory</code> class to include only field names that you want  in log entry. Default implementation in <code>JacksonFactory</code> is excluding only two fields from log entry which are location and properties (that too based on parameters properties and source). But if you want to exclude more fields you could add more field names to exclude in set of properties to exclude, Here is the example </p>\n\n<pre><code>ObjectWriter newWriter(final boolean locationInfo, final boolean properties, final boolean compact) {\n        final SimpleFilterProvider filters = new SimpleFilterProvider();\n        final Set&lt;String&gt; except = new HashSet&lt;&gt;(5);\n        if (!locationInfo) {\n            except.add(this.getPropertNameForSource());\n        }\n        if (!properties) {\n            except.add(this.getPropertNameForContextMap());\n    }\n\n    except.add(this.getPropertNameForNanoTime());\n\n    except.add(\"loggerFqcn\");\n    except.add(\"endOfBatch\");\n    filters.addFilter(Log4jLogEvent.class.getName(), SimpleBeanPropertyFilter.serializeAllExcept(except));\n\n    final ObjectWriter writer = this.newObjectMapper().writer(compact ? this.newCompactPrinter() : this.newPrettyPrinter());\n\n    return writer.with(filters);\n}\n</code></pre>\n"},{"answer_id":50027159,"body":"<p>It is possible to do this with a Log4j extension. See <a href=\"https://github.com/metamx/sumologic-log4j2-appender/blob/master/src/main/java/com/sumologic/log4j/core/SumoJsonLayout.java#L117-L237\" rel=\"nofollow noreferrer\">https://github.com/metamx/sumologic-log4j2-appender/blob/master/src/main/java/com/sumologic/log4j/core/SumoJsonLayout.java#L117-L237</a> for an example. Basically you can extend <code>LogEvent</code> with whatever Jackson annotations you want to customize how things are printed out, but then you need some kind of layout in order to coerce the events into your custom-field-named event object.</p>\n"},{"answer_id":68148523,"body":"<p>user <a href=\"https://logging.apache.org/log4j/2.x/manual/json-template-layout.html\" rel=\"nofollow noreferrer\">JsonTemplateLayout</a>:</p>\n<p><strong>Pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-layout-template-json&lt;/artifactId&gt;\n    &lt;version&gt;2.14.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>log4j2.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;INFO&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;JsonTemplateLayout eventTemplateUri=&quot;classpath:JsonTemplateLayout.json&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=&quot;com.logging.a.b&quot; level=&quot;error&quot; additivity=&quot;false&quot;&gt;\n            &lt;AppenderRef ref=&quot;console&quot; /&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p><strong>src/main/resources/JsonTemplateLayout.json:</strong></p>\n<pre><code>{\n    &quot;version&quot;: &quot;1.1&quot;,\n    &quot;hostName&quot;: &quot;${hostName}&quot;,\n    &quot;field1&quot;: &quot;${env:JAVA_HOME}&quot;,\n    &quot;field2&quot;: &quot;${sys:os.name}&quot;,\n    &quot;time&quot;: {\n        &quot;$resolver&quot;: &quot;timestamp&quot;,\n        &quot;pattern&quot;: {\n            &quot;format&quot;: &quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;,\n            &quot;timeZone&quot;: &quot;UTC&quot;\n        }\n    },\n    &quot;level&quot;: {\n        &quot;$resolver&quot;: &quot;level&quot;,\n        &quot;field&quot;: &quot;name&quot;\n    },\n    &quot;loggerName&quot;: {\n        &quot;$resolver&quot;: &quot;logger&quot;,\n        &quot;field&quot;: &quot;name&quot;\n    },\n    &quot;message&quot;: {\n        &quot;$resolver&quot;: &quot;message&quot;,\n        &quot;stringified&quot;: true\n    },\n    &quot;source&quot;: {\n        &quot;class&quot;: {\n            &quot;$resolver&quot;: &quot;source&quot;,\n            &quot;field&quot;: &quot;className&quot;\n        },\n        &quot;method&quot;: {\n            &quot;$resolver&quot;: &quot;source&quot;,\n            &quot;field&quot;: &quot;methodName&quot;\n        },\n        &quot;file&quot;: {\n            &quot;$resolver&quot;: &quot;source&quot;,\n            &quot;field&quot;: &quot;fileName&quot;\n        },\n        &quot;line&quot;: {\n            &quot;$resolver&quot;: &quot;source&quot;,\n            &quot;field&quot;: &quot;lineNumber&quot;\n        }\n    },\n}\n</code></pre>\n<p>You can add and remove fields, or change name of fields by changing the above template file.\nSee more examples here: <a href=\"https://github.com/apache/logging-log4j2/tree/master/log4j-layout-template-json/src/main/resources\" rel=\"nofollow noreferrer\">json template file</a></p>\n"},{"answer_id":76304028,"body":"<p>You can use the solution in the below link to customize these attributes.</p>\n<p><a href=\"https://stackoverflow.com/a/76303815/11092008\">https://stackoverflow.com/a/76303815/11092008</a></p>\n"}],"last_activity_date":1684741876,"question_id":24652128,"body":"<p>I have configured log4j 2 with this config file to write my <code>MapMessage</code> to console:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"ERROR\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"disableThreadContext\"&gt;true&lt;/Property&gt;\n        &lt;Property name=\"disableThreadContextStack\"&gt;true&lt;/Property&gt;\n        &lt;Property name=\"disableThreadContextMap\"&gt;true&lt;/Property&gt;\n        &lt;Property name=\"log4j2.disable.jmx\"&gt;true&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"CONSOLE\" target=\"SYSTEM_OUT\"&gt;\n            &lt;JsonLayout locationInfo=\"true\" complete=\"false\" /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;logger name=\"ir.cvas.logger\" level=\"info\" /&gt;\n        &lt;Root level=\"warn\"&gt;\n            &lt;AppenderRef ref=\"CONSOLE\"/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>The output of this configuration is like:</p>\n\n<pre><code>{\n  \"timeMillis\" : 1404902036494,\n  \"thread\" : \"main\",\n  \"level\" : \"ERROR\",\n  \"loggerName\" : \"ir.cvas.log4j.json.Main\",\n  \"message\" : \"description=\\\"I'm so fucked...\\\" id=\\\"12312312312312321\\\"\",\n  \"endOfBatch\" : false,\n  \"loggerFqcn\" : \"org.apache.logging.log4j.spi.AbstractLogger\",\n  \"source\" : {\n    \"class\" : \"ir.cvas.log4j.json.Main\",\n    \"method\" : \"main\",\n    \"file\" : \"Main.java\",\n    \"line\" : 24\n  }\n}\n</code></pre>\n\n<ol>\n<li>I need to remove some fields from output such as <code>endOfBatch</code> and <code>loggerFqcn</code>. Is it possible?</li>\n<li>I don't really like how <code>MapMessage</code> is converted. I would want something like Json object instead of single string, Something like thisthis: <code>\"message\": { \"description\"=\"I'm so fucked...\", \"id\"=\"12312312312312321\" }</code> or at least flatten <code>MapMessage</code> fields in to log message.</li>\n<li>I want to convert timestamp field to unix time with milliseconds removed.</li>\n</ol>\n\n<p>Can anyone help?</p>\n"},{"comments":[{"comment_id":133935040,"body":"<code>list.removeIf(e-&gt;e.replaceAll(&quot;\\\\W+&quot;,&quot;&quot;).length() ==0 );</code> worked for me"},{"comment_id":134511467,"body":"What about contracted words, like &quot;can&#39;t&quot; or &quot;don&#39;t&quot;?  Also, hyphenated words, like &quot;stack-overflow&quot;.  Should they be filtered?"}],"answers":[{"comments":[{"comment_id":133934985,"body":"I think using <code>for(String i : list)</code>  should also work"},{"comment_id":133935018,"body":"Also delete semicolon in the end of if statemenet."}],"answer_id":75935427,"body":"<p>I suggest you add <code>i--;</code> to the end of your <code>if</code> clause, or use another datastructure like <code>Stack</code> or something similar.</p>\n<p>After <code>List.remove()</code>, all your indexes will have shifted.</p>\n"},{"answer_id":75935464,"body":"<p>3 lines of code and 4 problems. Impressive :)</p>\n<blockquote>\n<p><code>if(StringUtils.isAlphanumeric(list.get(i)));</code></p>\n</blockquote>\n<p>The semi-colon <strong>is</strong> the instruction that is being run, i.e. nothing. And then the next line (<code>list.remove(i);</code>) is therefore always run. Just use braces, or at least, no semi-colons at the end of an <code>if</code>.</p>\n<blockquote>\n<p><code>list.remove(i);</code></p>\n</blockquote>\n<p>This shifts all elements down by one, effectively, making you skip entries. For example, if element '0' is to be removed, you remove it, and then what used to be element 1, is now element 0. But, <code>i</code> is going to go to <code>1</code>, so, you don't look at this at all. Either copy data over to a new list, or iterate from the end (<code>for (int i = list.size() -1; i &gt;= 0; i--)</code>).</p>\n<blockquote>\n<p><code>short</code></p>\n</blockquote>\n<p>No. <code>int</code>. short is less efficient (I'm guessing you think it's more efficient. It is less so. Writing code casually more performant is effectively impossible so stop it. Just write code that is easy to understand. If you don't know how, make it look like every example and snippet. If you think you know better, it takes about 15 years before you might actually be likely to be right when you do).</p>\n<blockquote>\n<p><code>if(StringUtils.isAlphanumeric(list.get(i)))</code></p>\n</blockquote>\n<p>I believe you meant <code>if (!StringUtils...)</code> - you want to remove them if they are <strong>not</strong> alphanumeric.</p>\n"},{"answer_id":75935470,"body":"<p>If you want to remove the strings with special characters, you should be checking if the string is <em>not</em> alphanumeric rather than if it is. Also, you need to put curly braces after your if statement rather than a semicolon:</p>\n<pre><code> for(short i=0;i&lt;list.size();i++) {\n         if(!StringUtils.isAlphanumeric(list.get(i))) {\n                 list.remove(i);\n         }\n }\n</code></pre>\n<p>EDIT: Also, while I don't believe that @rzwitserloot's sarcasm at the beginning of their comment was warranted, they do have a good point regarding <code>list.remove(i)</code> shifting the array.</p>\n<p>Updated code:</p>\n<pre><code> for(short i=list.size()-1;i&gt;=0;i--) {\n         if(!StringUtils.isAlphanumeric(list.get(i))) {\n                 list.remove(i);\n         }\n }\n</code></pre>\n"},{"comments":[{"comment_id":134511448,"body":"This is going to be the most idiomatic approach; most likely will execute faster than a <code>StringUtils</code> call, also."}],"answer_id":75935805,"body":"<p>Here's a 1-liner:</p>\n<pre><code>list.removeIf(s -&gt; s.matches(&quot;[^a-zA-Z0-9]*&quot;));\n</code></pre>\n<p>The works by removing strings that are made entirely of non-alphanumeric chars.</p>\n"},{"answer_id":76277940,"body":"<p>The reason why your code isn't working is because you're trying to remove an item in a list that you're iterating over.<br />\nThis will throw a <code>ConcurrentModificationException</code>.</p>\n<p>To avoid this, use an iterator, and make sure <code>list</code> is assigned an <code>ArrayList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterator&lt;String&gt; iterator = list.iterator();\nwhile (iterator.hasNext()) {\n    if (!StringUtils.isAlphanumeric(iterator.next()))\n        iterator.remove();\n}\n</code></pre>\n"}],"last_activity_date":1684741857,"question_id":75935395,"body":"<p>I am having list of strings <code>&quot;This is plain text&quot; ,&quot;[]&quot;,&quot;{}&quot;,&quot;()&quot;</code>  i want to filter out all those where there is only special characters for e.g i want to exclude <code>&quot;[]&quot;,&quot;{}&quot;,&quot;()&quot;</code> as there isn't any number or char (A-Z ,a-z ,0-9).</p>\n<pre><code> `\n          for(short i=0;i&lt;list.size();i++) {\n                if(StringUtils.isAlphanumeric(list.get(i)))\n                 list.remove(i);\n            }`    \n</code></pre>\n<p>But it is not working . Not removing <code>[] , () ,{}</code></p>\n"},{"comments":[{"comment_id":50428028,"body":"Just do <code>substring()</code> in a loop."},{"comment_id":50428079,"body":"Check here [<a href=\"http://stackoverflow.com/questions/5235401/split-string-into-array-of-character-strings\" title=\"split string into array of character strings\">stackoverflow.com/questions/5235401/&hellip;</a>"},{"comment_id":50428111,"body":"Thanks Flip Bulovic but I am getting my crieteria wiss solution below answer"},{"comment_id":50428227,"body":"@FilipBulovic <a href=\"http://stackoverflow.com/q/22718744/1393766\">Since Java 8 we don&#39;t need <code>(?!^)</code> magic anymore</a>."}],"answers":[{"comments":[{"comment_id":50428093,"body":"Thanks Pshemo for giving to me solution"},{"comment_id":50428191,"body":"@Sanket990 I was hoping more for giving you explanation rather than solution. If some part of my answer is not clear feel free to ask about it. Otherwise my answer may be kind of pointless for you."},{"comment_id":50428393,"body":"I am running your logic code and my criteria wise this answer is full filled  i am already upvotted your answer .tnx"},{"comment_id":50428651,"body":"It is not that I am concern about upvotes. It is more like I would rather know if you are able to easily understand my answer. If there is something unclear feel free to ask."},{"comment_id":50428696,"body":"ya ya i got your logic and i am easily understand thanks."}],"answer_id":31213381,"body":"<p><code>String#split</code> method simply searches for places to split, it can't add anything new to result. In other words you can't split like</p>\n<pre><code>&quot;abc&quot;` -&gt; [&quot;ab&quot;, &quot;bc&quot;]\n</code></pre>\n<p>because <code>b</code> can appear in only one element in resulting array.</p>\n<p>What you can do is use <code>Pattern</code>/<code>Matcher</code>, specifically <code>Matcher#find()</code> method and consume one character at a time, while &quot;peeking&quot; at next character without consuming it. The &quot;peeking&quot; part can be achieved with <a href=\"http://www.regular-expressions.info/lookaround.html\" rel=\"nofollow noreferrer\">look-around mechanism</a> because it is <a href=\"http://www.regular-expressions.info/zerolength.html\" rel=\"nofollow noreferrer\">zero-length</a> technique.</p>\n<p>Demo:</p>\n<pre><code>Pattern p = Pattern.compile(&quot;.(?=(.))&quot;);\nMatcher m = p.matcher(yourString);\nwhile(m.find()){\n    System.out.println(m.group() + m.group(1));\n}\n</code></pre>\n<p>Alternatively you can also use <code>String#substring(start, end)</code></p>\n<pre><code>String data = &quot;Testing&quot;;\nfor (int i=0; i&lt;data.length()-1; i++){\n    System.out.println(data.substring(i,i+2));\n}\n</code></pre>\n<p>or using <code>String#charAt(index)</code></p>\n<pre><code>String data = &quot;Testing&quot;;\nfor (int i = 0; i &lt; data.length() - 1;i++) {\n    System.out.append(data.charAt(i)).println(data.charAt(i+1));\n}\n</code></pre>\n"},{"comments":[{"comment_id":86561335,"body":"Perfect solution"}],"answer_id":33601511,"body":"<p>As <a href=\"https://stackoverflow.com/a/31213381/256196\">@pshemo's answer</a> said, a split consumes input, so you can't get a given character from the input in two parts of the split.</p>\n\n<p>However, here a one-line solution that gets the job done:</p>\n\n<pre><code>Arrays.stream(s.split(\"\")).reduce((a, b) -&gt; {System.out.println(a + b); return b;});\n</code></pre>\n"},{"answer_id":76303998,"body":"<p>It would be quicker, theoretically, to just use a for-loop.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; split(String string) {\n    List&lt;String&gt; split = new ArrayList&lt;&gt;();\n    for (int index = 0; index &lt; string.length() - 1; index++)\n        split.add(string.substring(index, index + 2));\n    return split;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Te, es, st, ti, in, ng]\n</code></pre>\n"}],"last_activity_date":1684741570,"question_id":31213333,"body":"<p>I need to split a string into pairs of characters, but where the pairs overlap. For example, I have a string <code>Testing</code>, and I want the output:</p>\n\n<pre><code>[Te, es, st, ti, in, ng]\n</code></pre>\n\n<p>I tried some things with <code>String.split</code> but I am not getting the right output:</p>\n\n<pre><code>String s = \"Testing\";\nSystem.out.println(java.util.Arrays.toString(s.split(\"(?&lt;=\\\\G..)\")));\n</code></pre>\n\n<p>That gives me:</p>\n\n<pre><code>[Te, st, in, g]\n</code></pre>\n\n<p>Can anyone help me?</p>\n"},{"comments":[{"comment_id":134555005,"body":"Please make sure that all dependencies (libraries) and the configuration files like application.properties are also included in the (fat) jar."},{"comment_id":134555190,"body":"Make sure your <code>@SpringBootApplication</code> annotated class is in the <code>com.example.apidb.company</code> package. Remove all other annotations. The <code>@Repository</code> is also useless. If that doesn&#39;t solve, please include the <b>full stacktrace</b> as that contains the information to solve your problem. I also wonder how you create a jar file? You are using the spring boot plugin for this and not export the jar from your IDE are you?"},{"comment_id":134555501,"body":"@M.Deinum so I need to annotate my repositories with <code>@SpringBootApplication</code> instead of <code>@Repository</code>?  I&#39;m using intellij, to create the jar."},{"comment_id":134555507,"body":"No you need no annotations on your repositories."},{"comment_id":134555553,"body":"@M.Deinum I still get the same error.  I posted the stacktrace."},{"comment_id":134555594,"body":"How are you creating your jar file? YOu are doing <code>mvn package</code> I hope and not some export to jar option in your IDE?"},{"comment_id":134555894,"body":"@M.Deinum that is the issue.  I thought that it worked differently in intellij.  It works now, with the correct jar thanks."}],"last_activity_date":1684741546,"question_id":76303587,"body":"<p>I have a spring application.  When I run it in intellij it works, but when I create a jar file and try to run it I get errors.  I am trying to package it as a jar, upload and automate my api, but I can't get it to work as a jar file.</p>\n<p>This is my main class</p>\n<pre><code>//@SpringBootApplication(exclude = SecurityAutoConfiguration.class)\n@SpringBootApplication\n@EntityScan(basePackages = &quot;com.example.apidb.company&quot;)\n@EnableJpaRepositories(basePackages = &quot;com.example.apidb.company&quot;)\n@EnableAutoConfiguration\npublic class ApiDbApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ApiDbApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>This is my code for my company service/jpa:</p>\n<pre><code>\n@Service\npublic class CompanyService {\n\n    @Autowired\n    private CompanyRepository companyRepository;\n\n    public Iterable&lt;Company&gt; getCompanies() {\n        return companyRepository.findAll();\n    }\n\n    public Iterable&lt;Company&gt; getCompaniesByName(String name) {\n        return companyRepository.getCompaniesByName(name);\n    }\n\n    public Optional&lt;Company&gt; getCompany(Long id) {\n        return companyRepository.findById(id);\n    }\n}\n\n</code></pre>\n<pre><code>@Repository\npublic interface CompanyRepository extends CrudRepository&lt;Company, Long&gt; {\n\n    @Query(value = &quot;SELECT c.* FROM Companies c WHERE c.company_name = ?1&quot;, nativeQuery = true)\n    Iterable&lt;Company&gt; getCompaniesByName(String name);\n}\n\n</code></pre>\n<p>Originally the problem started with my <code>@SpringBootApplication(exclude = SecurityAutoConfiguration.class)</code> line, but I removed that.  Then I got the repository error, Spring expected at least 1 bean which qualifies as <code>Autowire</code> candidate for this dependency, so I added</p>\n<ol>\n<li><code>@EntityScan(basePackages = &quot;com.example.apidb.company&quot;)</code></li>\n<li><code>@EnableJpaRepositories(basePackages = &quot;com.example.apidb.company&quot;)</code></li>\n</ol>\n<p>Now I am getting this error</p>\n<pre><code>Cannot resolve reference to bean entityManagerFactory while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available.\n</code></pre>\n<p>It seems that when I run the jar there is an issue with autowire and bean creation, and I am not sure if that is because of my setup, or if my code is just formatted in an incorrect way. I have tried different way of building my jar, but This is the best result I have gotten.  I am wondering if I have to manually create the beans, or if there is some pom value that I am missing. I have looked at the available post, and  have not seen a solution that works.</p>\n<p>Why doesn't this code work in the jar, but it works when I run the application normally, and how can I fix this error?</p>\n<pre><code>    13:21:00.132 [main] INFO com.example.apidb.ApiDbApplication - Starting ApiDbApplication using Java 18.0.2 on LAPTOP-A9K6H13V with PID 21644 (C:\\Users\\kaeli\\Downloads\\api-db\\api-db\\out\\artifacts\\api_db_jar\\api-db.jar started by kaeli in C:\\Users\\kaeli\\Downloads\\api-db\\api-db)\n13:21:00.133 [main] DEBUG com.example.apidb.ApiDbApplication - Running with Spring Boot, Spring\n13:21:00.134 [main] INFO com.example.apidb.ApiDbApplication - No active profile set, falling back to 1 default profile: &quot;default&quot;\n13:21:00.134 [main] DEBUG org.springframework.boot.SpringApplication - Loading source class com.example.apidb.ApiDbApplication\n13:21:00.178 [main] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@ca263c2\n13:21:00.182 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'\n13:21:00.227 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/company/CompanyController.class]\n13:21:00.229 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Ignored because not a concrete top-level class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/company/CompanyRepository.class]\n13:21:00.230 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/company/CompanyService.class]\n13:21:00.234 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/config/WebSecurityConfig.class]\n13:21:00.235 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/contact/ContactController.class]\n13:21:00.235 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Ignored because not a concrete top-level class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/contact/ContactRepository.class]\n13:21:00.235 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/contact/ContactService.class]\n13:21:00.236 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/location/LocationController.class]\n13:21:00.237 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/location/LocationService.class]\n13:21:00.238 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/shipment/ShipmentController.class]\n13:21:00.238 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/shipment/ShipmentRepository.class]\n13:21:00.239 [main] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/shipment/ShipmentService.class]\n13:21:00.422 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n13:21:00.428 [main] DEBUG org.springframework.data.repository.config.RepositoryConfigurationDelegate - Scanning for JPA repositories in packages com.example.apidb.company.\n13:21:00.438 [main] DEBUG org.springframework.data.repository.config.RepositoryComponentProvider - Identified candidate component class: URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/company/CompanyRepository.class]\n13:21:00.456 [main] INFO org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 1 JPA repository interfaces.\n13:21:00.567 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'emBeanDefinitionRegistrarPostProcessor'\n13:21:00.568 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'\n13:21:00.569 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'conversionServicePostProcessor'\n13:21:00.580 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'\n13:21:00.581 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'\n13:21:00.582 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'\n13:21:00.583 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor'\n13:21:00.584 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.properties.ConfigurationPropertiesBindingPostProcessor'\n13:21:00.584 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.internalConfigurationPropertiesBinder'\n13:21:00.584 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.boot.context.internalConfigurationPropertiesBinderFactory'\n13:21:00.585 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'meterRegistryPostProcessor'\n13:21:00.595 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Autowiring by type from bean name 'meterRegistryPostProcessor' via factory method to bean named 'org.springframework.context.annotation.AnnotationConfigApplicationContext@ca263c2'\n13:21:00.601 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'healthEndpointGroupsBeanPostProcessor'\n13:21:00.601 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'metricsRepositoryMethodInvocationListenerBeanPostProcessor'\n13:21:00.604 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'apiDbApplication'\n13:21:00.605 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'companyController'\n13:21:00.607 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'companyService'\n13:21:00.609 [main] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'companyRepository'\n13:21:00.631 [main] WARN org.springframework.context.annotation.AnnotationConfigApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'companyController' defined in URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/company/CompanyController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'companyService': Unsatisfied dependency expressed through field 'companyRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'companyRepository' defined in com.example.apidb.company.CompanyRepository defined in @EnableJpaRepositories declared on ApiDbApplication: Cannot create inner bean '(inner bean)#10ad20cb' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#10ad20cb': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n13:21:00.634 [main] ERROR org.springframework.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'companyController' defined in URL [jar:file:/C:/Users/kaeli/Downloads/api-db/api-db/out/artifacts/api_db_jar/api-db.jar!/com/example/apidb/company/CompanyController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'companyService': Unsatisfied dependency expressed through field 'companyRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'companyRepository' defined in com.example.apidb.company.CompanyRepository defined in @EnableJpaRepositories declared on ApiDbApplication: Cannot create inner bean '(inner bean)#10ad20cb' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#10ad20cb': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.example.apidb.ApiDbApplication.main(ApiDbApplication.java:17)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'companyService': Unsatisfied dependency expressed through field 'companyRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'companyRepository' defined in com.example.apidb.company.CompanyRepository defined in @EnableJpaRepositories declared on ApiDbApplication: Cannot create inner bean '(inner bean)#10ad20cb' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#10ad20cb': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)\n    ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'companyRepository' defined in com.example.apidb.company.CompanyRepository defined in @EnableJpaRepositories declared on ApiDbApplication: Cannot create inner bean '(inner bean)#10ad20cb' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#10ad20cb': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:389)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:134)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1707)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1452)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 33 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#10ad20cb': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:510)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:374)\n    ... 46 common frames omitted\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:874)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1344)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:309)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:330)\n    ... 54 common frames omitted\n\nProcess finished with exit code 1\n</code></pre>\n"},{"comments":[{"comment_id":134552001,"body":"Is that a method inside a method? What exactly do you need help with?"},{"comment_id":134552038,"body":"For questions like this, you should have example input (or data), expected output, and actual output. In addition, please include your thoughts about what might be going wrong, where the problem is. Also, please describe your attempts to debug."},{"comment_id":134552093,"body":"If you are going to become a software developer professional, you will need to have some skill in debugging. This is a good problem to practice with. If your IDE has a debugger, it&#39;s a good idea to learn how to use it. A debugging tool allows you to set breakpoints, which are points at which the program will pause. You can then use a tool to go step-by-step through the program. As you go step-by-step, observe which line of the program is being executed, and what happens to variables at each step.  <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}],"answers":[{"answer_id":76302125,"body":"<p>If you are only interested in week's total then you should reset <code>total</code> on end of every week or initialise <code>total</code> inside first <code>if</code> condition</p>\n<pre><code>public static void calcweekwithhighestsales() {\n    float max = 0;\n    int week = 0;\n\n    for (int i = 0; i &lt; 5; i++) {\n        int weekTotal = 0;\n        for (int j = 0; j &lt; 7; j++) {\n            weekTotal += salesbyweek[i][j];\n        }\n        if(i == 0 || weekTotal &gt; max) {\n            max = weekTotal;\n            week = i;\n        }\n    }\n    System.out.println(&quot;week #&quot;+ (week+1) + &quot; is the highest sales amongst all the weeks with amount $&quot; + max);\n}\n</code></pre>\n"}],"last_activity_date":1684741460,"question_id":76302052,"body":"<pre><code>public void calcweekwithhighestsales() {\n    float total = 0;\n    int i;\n    int j;\n    float max =0;\n    int week =0;\n            \n    for (i = 0; i &lt; 5; i++) {\n        for (j = 0; j &lt; 7; j++) {\n            total += salesbyweek[i][j];\n        }\n        if (i == 0) {\n            max = total;\n            week = 0;\n        }\n        else {\n            if (total &gt; max) {\n                max = total;\n                week = i;\n            }\n        }\n    }\n    System.out.println(&quot;week #&quot;+ (week+1) + &quot;is the highest sales amongst all the  weeks with amount $&quot; + max);\n }\n</code></pre>\n<p>Find which week is the highest sales as compared to the other week.</p>\n<blockquote>\n<p>5 weeks in total to compare individually</p>\n</blockquote>\n<blockquote>\n<p>i = the number of weeks</p>\n</blockquote>\n<blockquote>\n<p>j = the number of days</p>\n</blockquote>\n<p>Where I am doing wrong with above solution?</p>\n"},{"comments":[{"comment_id":33665076,"body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/14187963/passing-parameters-javafx-fxml\">Passing Parameters JavaFX FXML</a>"},{"comment_id":33701145,"body":"You can use the DataFX Controller Framework and inject the same datamodel in both controllers: <a href=\"http://www.guigarage.com/2013/12/datafx-controller-framework-preview/\" rel=\"nofollow noreferrer\">guigarage.com/2013/12/datafx-controller-framework-preview</a>"}],"answers":[{"comments":[{"comment_id":33702328,"body":"Thanks you I&#39;ve used EventBus API <a href=\"http://eventbus.org/\" rel=\"nofollow noreferrer\">eventbus.org</a> which is really simple to use and to implement !"},{"comment_id":71166141,"body":"@NikosParaskevopoulos,  what if I have loaded one of the above sub fxml documents multiple times.?"},{"comment_id":71182148,"body":"You need to define the <code>fx:id</code> for each <code>fx:include</code> element for the controller injection to work. The <code>fx:id</code>s cannot be the same anyway, so things still work."}],"answer_id":22179980,"body":"<p>Two ways come into my mind:</p>\n\n<ol>\n<li><p>Based on the \"Nested Controllers\" section of \"Introduction to FXML\" (<a href=\"http://docs.oracle.com/javafx/2/api/javafx/fxml/doc-files/introduction_to_fxml.html#nested_controllers\" rel=\"noreferrer\">link</a>), you could inject the children controllers (2 &amp; 3) into the parent (1) and have the parent coordinate their interactions:</p>\n\n<p>FXML (1):</p>\n\n<pre><code>&lt;fx:include source=\"FolderList.fxml\" fx:id=\"list\" /&gt;\n...\n&lt;fx:include source=\"FolderFormAdd.fxml\" fx:id=\"addForm\" /&gt;\n</code></pre>\n\n<p>Java (1) (beware the names of the fields; must match <code>&lt;fx:id&gt;Controller</code>, i.e.):</p>\n\n<pre><code>public class FolderController extends AbstractController {\n    @FXML private FolderListController listController;\n    @FXML private FolderFormAddController addFormController;\n    void initialize() {\n        // add code to coordinate them\n    }\n}\n</code></pre>\n\n<p><strong>I do not like this solution much for this case, as it leads to strong coupling between the components.</strong> On the other hand, it may be the quickest.</p></li>\n<li><p>Use an event bus (e.g. from <a href=\"http://code.google.com/p/guava-libraries/wiki/EventBusExplained\" rel=\"noreferrer\">Google Guava</a>). This can actually decouple your logic (e.g. the list component listens to the <code>PersonAdded</code> event, no matter how it was created; the form generates this event, without caring who is listening - if any). I think I would prefer this solution in your case. The event bus can optionally be retrieved using dependency injection.</p></li>\n</ol>\n\n<p>Check out the answer pointed by the comment from jewelsea, it is great - I have already upvoted it myself :)</p>\n"},{"answer_id":28486560,"body":"<p>Nikos makes a good point (Software Engineering principle) about coupling. There is one way though, to accomplish the \"spirit\" of the first (simple) approach and not encroach upon this principle by using the Mediator pattern. As taken from wikipedia (which is referencing the GoF):</p>\n\n<blockquote>\n  <p>\"The essence of the Mediator Pattern is to \"define an object that encapsulates how a set of objects interact\". It promotes loose coupling by keeping objects from referring to each other explicitly, and it allows their interaction to be varied independently. Client classes can use the mediator to send messages to other clients, and can receive messages from other clients via an event on the mediator class.\"</p>\n</blockquote>\n\n<p>Here you can consider your Controllers as the clients. What you need to have happen then is use the mediator to mediate \"conversations\" between each other.</p>\n\n<p>First create a mediator interface:</p>\n\n<pre><code>public interface IMediateControllers {\n    void registerController2(Controller2 controller);\n    void registerController3(Controller3 controller);\n    void controller2DoSomething();\n    void controller3OperateOn(String data);\n}\n</code></pre>\n\n<p>And then a concrete mediator (as a Singleton)</p>\n\n<pre><code>public class ControllerMediator implements IMediateControllers {\n    private Controller2 controller2;\n    private Controller3 controller3;\n\n    @Override\n    void registerController2(Controller2 controller) {\n        controller2 = controller;\n    }\n\n    @Override\n    void registerController3(Controller3 controller) {\n        controller3 = controller;\n    }\n\n    @Override\n    void controller2DoSomething() {\n         controller2.doSomething();\n    }\n\n    void controller3OperateOn(String data) {\n        controller3.operateOn(data);\n    }\n\n    /**\n     * Everything below here is in support of Singleton pattern\n     */\n    private ControllerMediator() {}\n\n    public static ControllerMediator getInstance() {\n        return ControllerMediatorHolder.INSTANCE;\n    }\n\n    private static class ControllerMediatorHolder {\n        private static final ControllerMediator INSTANCE = new ControllerMediator();\n    }\n}\n</code></pre>\n\n<p>Now, since Controller1 has Controller2 and Controller3 injected (as noted in the fxml file), you could do the following in Controller1::initialize() method:</p>\n\n<pre><code>@Override\npublic void initialize(Url url, ResourceBundle resource) {\n    ControllerMediator.getInstance().registerController2(controller2Controller);\n    ControllerMediator.getInstance().registerController3(controller3Controller);\n }\n</code></pre>\n\n<p>Now, anywhere you need Controller2 to communicate with Controller3, you simple use the mediator:</p>\n\n<pre><code>// ... somewhere in Controller2\nControllerMediator.getInstance().controller3OperateOn(\"my data\");\n</code></pre>\n\n<p>and Controller 3 can communicate back to Controller2 using the same mediator:</p>\n\n<pre><code>// ... somewhere in Controller3\nControllerMediator.getInstance().controller2DoSomething();\n</code></pre>\n\n<p>Of course, this relies on Controller2 having implemented the <code>doSomething()</code> operation and Controller3 having implemented the <code>operateOn(String data)</code> operation.</p>\n\n<p>The important thing is that you've decoupled Controller2 and Controller3 (they don't know about each other). I just used this pattern in a little project I'm working on right now (inspired by Nikos' first solution, but thinking immediately of the Mediator pattern to remove the coupling he (properly) griped about.</p>\n"},{"answer_id":48102343,"body":"<p>I figured out an easy to implement solution for programmers who are confused on how to pass fx:controller=\"Controller\" from their FXML files into the Main Class, and/or Controllers. To allow for an object reference between these Classes.</p>\n\n<p>From Main.java -> start method: (With fx:controller=\"Controller\") in FXML File</p>\n\n<pre><code>    FXMLLoader loader = new FXMLLoader();\n    Parent root = loader.load(getClass().getResource(\"Window1.fxml\").openStream());\n    Controller controller = loader.getController();\n    controller.setReferenceToController(controller);\n</code></pre>\n\n<p>The last line [controller.setReferenceToController(controller);] passes the object \"Controller\" loaded from the FXML file to itself. </p>\n\n<p>In the Controller Class:</p>\n\n<pre><code>    private Controller controller;\n    private DataProcess data;\n\n    public void setReferenceToController(Controller controller){\n    this.controller = controller;\n    data = new DataProcess(controller);\n}\n</code></pre>\n\n<p>Now each time you open or start a new \"Window\" or create a separate class(such as DataProcess) just pass the controller object references between them. This will allow full communication between controllers, FXML, and Classes.</p>\n\n<p>Example of methods:</p>\n\n<pre><code>    public DataProcess(Controller controller) {\n            this.controller = controller;\n        }\n\n    //Call this method from Controller\n    public void handleSaveClick(){\n        if(file != null){\n\n        //save a bunch of data\n        controller.setSaveStatus(true);\n\n        }\n        else\n        controller.setSaveStatus(false);\n</code></pre>\n\n<p>Hope this Helps.</p>\n"},{"answer_id":76303804,"body":"<p>so this is my first time answering a question. I am really new to programming. So what I discovered was you can only communicate with a controller only if you have the specific FXMLLoader you used to load that specific controller.</p>\n<p>Even if you create a new FXMLLoader with the resource it's of no use. You need the exact one you used to load that specific scene.</p>\n<p>What I did was whenever I loaded a controller I go and store the FXMLLoader used in a method. And when I need to access that controller I get it from that method.</p>\n<p><code>MyController controller = MyMethod.getMyControllerFXMLLoader().getController; controller.methodYouNeedToAccess();</code></p>\n<p><code>getMyControllerFXMLLoader()</code> is the method I created so that it returns that specific fxmlloader.<code>MyMethod</code> is the class I specifically created to do this.</p>\n<p>Also when that controller is closed the FXMLLoader value for that controller is set to become null.</p>\n<p>This works really well. Whether it abides by the rules and regulations I don't really know.</p>\n"}],"last_activity_date":1684741359,"question_id":22178533,"body":"<p>I made a structure to of Controllers and Views (fxml) to separate my code as much as I could, and I'm wondering how to communicate between 2 controllers. I mean, a controller have to call some functions of another controller to set it up to date.</p>\n\n<p>I think a schema of my current structure will be more explicit:</p>\n\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Controller 1\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\n<br />\n&nbsp;&nbsp;&nbsp;fx:include&nbsp;&nbsp;&nbsp;&nbsp;fx:include\n<br />\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\\n<br />\nController2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Controller3</p>\n\n<p>Each controller has is own fxml view.\n<br />\n- Controller 1 : a container controller which has a TabPane element with 2 tabs (each tab correspond to 1 controller)\n<br />\n- Controller 2 : a list\n<br />\n- Controller 3 : a form\n<br /><br />\nYou've probably guessed that I want my form (controller 3) to automatically update my list (controller 2).\nFor the moment, the form is only a \"creation form\", so I just want to add row in my list.\n<br />\n<br />\nI've already tried to get my Controller 2 with FXMLoader and call the functions to relaod my tableView, no success..\n<br />\n<br />\n<strong><em>Controller 1 (.java + .fxml) :</em></strong></p>\n\n<pre><code>package pappu.controllers;\n\nimport pappu.core.controller.AbstractController;\n\npublic class FolderController extends AbstractController\n{\n\n}\n</code></pre>\n\n<p><br />\n    </p>\n\n<pre><code>&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox fx:id=\"view\" xmlns:fx=\"http://javafx.com/fxml/1\" xmlns=\"http://javafx.com/javafx/2.2\" fx:controller=\"pappu.controllers.FolderController\"&gt;\n  &lt;TabPane&gt;\n    &lt;tabs&gt;\n      &lt;Tab text=\"RECHERCHE\"&gt;\n        &lt;content&gt;\n          &lt;AnchorPane id=\"Content\"&gt;\n            &lt;children&gt;\n                &lt;fx:include source=\"FolderList.fxml\" /&gt;  \n            &lt;/children&gt;\n          &lt;/AnchorPane&gt;\n        &lt;/content&gt;\n      &lt;/Tab&gt;\n      &lt;Tab text=\"DOSSIER\"&gt;\n        &lt;content&gt;\n          &lt;AnchorPane id=\"Content\"&gt;\n            &lt;children&gt;\n                &lt;fx:include source=\"FolderFormAdd.fxml\" /&gt;  \n            &lt;/children&gt;\n          &lt;/AnchorPane&gt;\n        &lt;/content&gt;\n      &lt;/Tab&gt;\n    &lt;/tabs&gt;\n  &lt;/TabPane&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<p><strong><em>Controller 2 (.java + .fxml) :</em></strong></p>\n\n<pre><code>package pappu.controllers;\n\nimport java.net.URL;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.ResourceBundle;\n\nimport org.hibernate.Session;\n\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.value.ObservableValue;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableColumn.CellDataFeatures;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.util.Callback;\nimport pappu.core.controller.AbstractController;\nimport pappu.entities.Folder;\n\npublic class FolderListController extends AbstractController implements Initializable\n{\n    /**\n     * TableView object\n     */\n    @FXML private TableView&lt;Folder&gt; foldersTableView;\n\n    /**\n     * FolderNumber column object\n     */\n    @FXML private TableColumn&lt;Folder, String&gt; colFolderNumber;\n\n    /**\n     * Person column object\n     */\n    @FXML private TableColumn&lt;Folder, String&gt; colPerson;\n\n    /**\n     * Birthday date column object\n     */\n    @FXML private TableColumn&lt;Folder, Date&gt; colBirthdayDate;\n\n    /**\n     * List of folders\n     */\n    private static List&lt;Folder&gt; foldersList;\n\n    /**\n     * Constructor\n     * Will make a call to initializeFoldersList()\n     */\n    public FolderListController()\n    {\n        initializeFoldersList();\n    }\n\n\n    /**\n     * Initialize implementation of the Initializable interface\n     * \n     * @param location\n     * @param resources\n     */\n    @Override \n    public void initialize(URL location, ResourceBundle resources) \n    {\n        initializeTableColumns();\n        loadData();\n    }\n\n    /**\n     * Query the database to retrieve the folder list\n     */\n    @SuppressWarnings(\"unchecked\") \n    public void initializeFoldersList()\n    {\n        Session session = sessionFactory.getCurrentSession();\n        session.beginTransaction();\n        foldersList = session.createQuery(\"from Folder\").list();\n        session.close();\n    }\n\n    /**\n     * Initialize columns binding to folders properties\n     */\n    public void initializeTableColumns()\n    {\n        colFolderNumber.setCellValueFactory(\n                  new PropertyValueFactory&lt;Folder,String&gt;(\"folderNumber\")\n                      );\n        colPerson.setCellValueFactory(\n                new Callback&lt;CellDataFeatures&lt;Folder, String&gt;, ObservableValue&lt;String&gt;&gt;() {\n                     public ObservableValue&lt;String&gt; call(CellDataFeatures&lt;Folder, String&gt; p) {\n                         return new SimpleStringProperty(p.getValue().getFirstName() + \" \" + p.getValue().getLastName());\n                     }}\n          );\n        colBirthdayDate.setCellValueFactory(\n                  new PropertyValueFactory&lt;Folder,Date&gt;(\"birthdayDate\")\n                      );\n\n    }\n\n    /**\n     * Put the folders list in the TableView object\n     */\n    public void loadData()\n    {   \n        ObservableList&lt;Folder&gt; listFold = FXCollections.observableArrayList(foldersList);       \n        foldersTableView.setItems(listFold);\n    }   \n}\n</code></pre>\n\n<p><br /></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n\n\n&lt;VBox fx:id=\"view\" xmlns:fx=\"http://javafx.com/fxml/1\" xmlns=\"http://javafx.com/javafx/2.2\" fx:controller=\"pappu.controllers.FolderListController\"&gt;\n    &lt;Label fx:id=\"lblTest\"&gt;&lt;/Label&gt;\n    &lt;TableView fx:id=\"foldersTableView\"&gt;\n        &lt;columns&gt;\n            &lt;TableColumn prefWidth=\"75.0\" text=\"N°\" fx:id=\"colFolderNumber\"&gt;\n            &lt;/TableColumn&gt;\n            &lt;TableColumn prefWidth=\"75.0\" text=\"Personne\" fx:id=\"colPerson\"&gt;\n            &lt;/TableColumn&gt;\n            &lt;TableColumn prefWidth=\"75.0\" text=\"Date de naissance\" fx:id=\"colBirthdayDate\"&gt;\n            &lt;/TableColumn&gt;\n        &lt;/columns&gt;\n    &lt;/TableView&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<p><strong><em>Controller 3 (.java + .fxml) :</em></strong></p>\n\n<pre><code>package pappu.controllers;\n\nimport java.io.IOException;\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\nimport org.hibernate.Session;\nimport org.springframework.context.annotation.AnnotationConfigApplicationContext;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.Pane;\nimport pappu.core.AppFactory;\nimport pappu.core.controller.AbstractController;\nimport pappu.entities.Folder;\nimport pappu.entities.Gender;\n\npublic class FolderFormAddController extends AbstractController\n{   \n    @FXML TextField folderNumber;\n    @FXML TextField firstName;\n    @FXML TextField lastName;\n    public void submitForm() throws IOException\n    {   \n        Session session = sessionFactory.getCurrentSession();\n        session.beginTransaction();\n\n        Folder folder = new Folder();\n\n        folder.setFolderNumber(folderNumber.getText());\n        folder.setFirstName(firstName.getText());\n        folder.setLastName(lastName.getText());\n        folder.setGender(Gender.m);\n\n        session.save(folder);\n        session.getTransaction().commit();\n            // This doesn't work.. even tried with a simple Label\n        AppFactory app = new AppFactory();\n        FolderListController flc = app.folderListController();\n        flc.initializeFoldersList();\n        flc.loadData();\n    }\n}\n</code></pre>\n\n<p><br /></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;VBox fx:id=\"view\" prefHeight=\"216.0\" prefWidth=\"421.0\" xmlns:fx=\"http://javafx.com/fxml/1\" xmlns=\"http://javafx.com/javafx/2.2\" fx:controller=\"pappu.controllers.FolderFormAddController\"&gt;\n  &lt;children&gt;\n    &lt;Label prefHeight=\"26.0\" prefWidth=\"102.0\" text=\"Numéro de dossier\" /&gt;\n    &lt;TextField prefWidth=\"200.0\" fx:id=\"folderNumber\"/&gt;\n    &lt;Label text=\"Prénom\" /&gt;\n    &lt;TextField prefWidth=\"200.0\" fx:id=\"firstName\"/&gt;\n    &lt;Label text=\"Nom\" /&gt;\n    &lt;TextField prefWidth=\"200.0\" fx:id=\"lastName\"/&gt;\n    &lt;Button mnemonicParsing=\"false\" onAction=\"#submitForm\" text=\"Enregistrer\" /&gt;\n  &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<p><strong>Precisions:</strong><br>\nI made my application on this base:\n<a href=\"http://www.zenjava.com/2011/10/25/views-within-views-controllers-within-controllers/\" rel=\"noreferrer\">http://www.zenjava.com/2011/10/25/views-within-views-controllers-within-controllers/</a> and I use JavaFX 2 on Java JDK 7</p>\n\n<p>I feel something missing in global functioning of a JavaFX application.</p>\n"},{"comments":[{"comment_id":134554004,"body":"Where did you hear &quot;we can inherit it in child class&quot;? Also, please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your code."},{"comment_id":134554131,"body":"Just got to know that, Inherating a final method means accessing it via creating a object of child class"},{"comment_id":134555107,"body":"it is specified in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.4.8\" rel=\"nofollow noreferrer\">8.4.8. Inheritance, Overriding, and Hiding</a>: &quot;A class C inherits from its direct superclass type D all concrete methods m (both static and instance) for which all of the following are true: • m is a member of D. • m is public, protected, or declared with package access in the same package as C. • No method declared in C has a signature that is a subsignature (&#167;8.4.2) of the signature of m as a member of D. ... &quot;"},{"comment_id":134557251,"body":"You <i>will</i> inherit it, unless it&#39;s <code>private</code>. But that&#39;s not the same as either overriding or overloading. What is your question?"}],"answers":[{"comments":[{"comment_id":134555206,"body":"Notes: 1; <code>private</code> methods are not inherited; 2: creating <code>methodA</code> in the sub-class will only &quot;override&quot; if its signature is a sub-signature of <code>methodA</code> in the parent class, otherwise it will &quot;overload&quot; that (inherited) method"}],"answer_id":76303121,"body":"<p>Intrinsically, a sub-class will inherit the members of a parent class.</p>\n<p>Overloading a method simply means it has the same name as another class method, despite having different parameters.</p>\n<p>It is in no way connected to the method with the same name.</p>\n<p>In other words, an overloaded method isn't inheriting any implementation.<br />\nIt's simply terminology.</p>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html\" rel=\"nofollow noreferrer\">Defining Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Classes and Objects)</a></p>\n<p>Consider the following class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExampleA {\n    String stringA = &quot;stack overflow&quot;;\n\n    int methodA(int valueA, int valueB) {\n        return valueA + valueB;\n    }\n}\n</code></pre>\n<p>Now, consider the sub-class, which <code>extends</code> class <code>ExampleA</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ExampleB extends ExampleA {\n    void methodB() {\n        String stringB = stringA;\n        int value = methodA(1, 2);\n    }\n}\n</code></pre>\n<p>Intrinsically, the <code>ExampleB</code> sub-class inherits the members of its parent class.<br />\nWhich are readily available within the sub-class.</p>\n<p>As for <em>overriding</em>, if I create a method in the sub-class named <code>methodA</code>, with the same parameters, it will &quot;override&quot; the parent class <code>methodA</code>.<br />\nKeep in mind, the overriding is not global, it only impacts data directed from the sub-class.</p>\n<p>For example, you would still be able to access the parent class <code>methodA</code> implementation by using the <code>super</code> keyword, <code>super.methodA</code>.</p>\n"}],"last_activity_date":1684741203,"question_id":76303108,"body":"<p>How can we inherit final method in child class?\nI know we can not override it but can overload it!</p>\n<p>I tried to overload it, it was successful.\nAnd when we try to override it, it shows an error saying we can not override it.\nBut I heard we can inherit it in child class?</p>\n"},{"answers":[{"answer_id":48987475,"body":"<p>I had faced the same issue.</p>\n\n<p>Turned out maven tomcat plugin tried to upload as <code>admin</code> even though I specified another username. I then set tomcat user to <code>admin</code> with blank password and it worked.</p>\n\n<p>Lame workaround but at least now you know where to look into.</p>\n"},{"comments":[{"comment_id":99326106,"body":"I had this problem, and it&#39;s what was missing. This can be marked as resolved."}],"answer_id":49033346,"body":"<p>I resolved the issue. Problem was that the admin user I was using had access for the manager-gui and manager-status. For the deployment, it needs manager-script role access. I created new user having this role and used that one in my <code>pom.xml</code> and it worked.</p>\n\n<p>Following is the entry I added in <code>tomcat-users.xml</code>:</p>\n\n<pre><code>&lt;user username=\"script\" password=\"xxxx\" roles=\"manager-script,manager-jmx\"/&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134017382,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75947375/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":75947375,"body":"<p>Relatively late to this one. I came across this issue when porting from Ubuntu to Windows 11.</p>\n<p>Adding the username/password for Tomcat to the POM resolved the problem (and, of course, having the tomcat-users.xml set up for that user).</p>\n<p>Strangely enough, on Linux, it all worked without that combo. O well.</p>\n"},{"answer_id":76303894,"body":"<p>The same exception appears when you didn't make install (mvn install tomcat7:deploy) and trying to deploy WAR (mvn tomcat7:deploy)</p>\n<p>By the way, your IDE can use own maven so be careful when you configurating settings.xml</p>\n<p>Another one case this exception appears it's when your WAR file already deployed on tomcat, so you need to redeploy (mvn tomcat7:redeploy)</p>\n"}],"last_activity_date":1684741203,"question_id":47363490,"body":"<p>I am trying to set auto-deploy for my war to Tomcat using the Tomcat7-Maven-Plugin. However, its failing to deploy the file. From the console messages, it looks like it starts deploying but gets interrupted in between after ard 2 MB of transfer. Same happens for all retries and finally it fails.</p>\n\n<pre><code>$ mvn tomcat7:redeploy\n    .\n    .\n    .  \n[INFO] Deploying war to http://localhost:8080/policy-service\nUploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\n2244/52241 KB\n[INFO] I/O exception (java.net.SocketException) caught when processing request: Connection reset by peer: socket write error\n[INFO] Retrying request\nUploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\n2242/52241 KB\n[INFO] I/O exception (java.net.SocketException) caught when processing request: Connection reset by peer: socket write error\n[INFO] Retrying request\nUploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\n2242/52241 KB\n[INFO] I/O exception (java.net.SocketException) caught when processing request: Connection reset by peer: socket write error\n[INFO] Retrying request\nUploading: http://localhost:8080/manager/text/deploy?path=%2Fpolicy-service&amp;update=true\n2242/52241 KB\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>I tried all possible solutions which I could gather, but no luck:</p>\n\n<ol>\n<li>Changing POM config url from /manager/text to /manager/html.</li>\n<li>Not allocating manager-script or manager-jmx role to the same user having manager-gui role in tomcat-users.xml.</li>\n<li>Setting connector timeout from 20 sec to 60 sec in server.xml \n</li>\n<li>Changed max-file-size from default 50 MB to 80 MB. (As my war file size is 55 MBs.)</li>\n</ol>\n\n<p>Some additional details as follows:</p>\n\n<ul>\n<li><p>Pom.xml snippet:</p>\n\n<pre><code>&lt;plugins&gt;            \n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;           \n\n    &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n     &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n     &lt;version&gt;2.2&lt;/version&gt;\n     &lt;configuration&gt;  \n              &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;  \n              &lt;server&gt;TomcatServer&lt;/server&gt;    \n              &lt;username&gt;xxx&lt;/username&gt;  \n              &lt;password&gt;xxx&lt;/password&gt;\n              &lt;path&gt;/policy-service&lt;/path&gt;   \n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre></li>\n<li><p>Maven verion: 3.5.2</p></li>\n<li><p>Tomcat version: 8.5.32 </p></li>\n<li><p>JDK version: 1.8.0_144 </p></li>\n<li><p>Full stack trace of the exception I get while deploying war to tomcat</p>\n\n<pre><code>  [ERROR] Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:redeploy (default-cli) on project policy-service: Cannot invoke Tomcat manager: Connection reset by peer: socket write error -&gt; [Help 1]\n  org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:redeploy (default-cli) on project policy-service: Cannot invoke Tomcat manager\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:213)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n      at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\n      at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\n      at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\n      at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\n      at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n      at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke (Method.java:498)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n  Caused by: org.apache.maven.plugin.MojoExecutionException: Cannot invoke Tomcat manager\n      at org.apache.tomcat.maven.plugin.tomcat7.AbstractCatalinaMojo.execute (AbstractCatalinaMojo.java:141)\n      at org.apache.tomcat.maven.plugin.tomcat7.AbstractWarCatalinaMojo.execute (AbstractWarCatalinaMojo.java:68)\n      at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:134)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n      at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\n      at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\n      at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\n      at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\n      at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n      at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke (Method.java:498)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n  Caused by: java.net.SocketException: Connection reset by peer: socket write error\n      at java.net.SocketOutputStream.socketWrite0 (Native Method)\n      at java.net.SocketOutputStream.socketWrite (SocketOutputStream.java:111)\n      at java.net.SocketOutputStream.write (SocketOutputStream.java:155)\n      at org.apache.http.impl.io.AbstractSessionOutputBuffer.write (AbstractSessionOutputBuffer.java:181)\n      at org.apache.http.impl.conn.LoggingSessionOutputBuffer.write (LoggingSessionOutputBuffer.java:73)\n      at org.apache.http.impl.io.ContentLengthOutputStream.write (ContentLengthOutputStream.java:115)\n      at org.apache.tomcat.maven.common.deployer.TomcatManager$RequestEntityImplementation.writeTo (TomcatManager.java:880)\n      at org.apache.http.entity.HttpEntityWrapper.writeTo (HttpEntityWrapper.java:89)\n      at org.apache.http.impl.client.EntityEnclosingRequestWrapper$EntityWrapper.writeTo (EntityEnclosingRequestWrapper.java:108)\n      at org.apache.http.impl.entity.EntitySerializer.serialize (EntitySerializer.java:117)\n      at org.apache.http.impl.AbstractHttpClientConnection.sendRequestEntity (AbstractHttpClientConnection.java:265)\n      at org.apache.http.impl.conn.ManagedClientConnectionImpl.sendRequestEntity (ManagedClientConnectionImpl.java:203)\n      at org.apache.http.protocol.HttpRequestExecutor.doSendRequest (HttpRequestExecutor.java:236)\n      at org.apache.http.protocol.HttpRequestExecutor.execute (HttpRequestExecutor.java:121)\n      at org.apache.http.impl.client.DefaultRequestDirector.tryExecute (DefaultRequestDirector.java:682)\n      at org.apache.http.impl.client.DefaultRequestDirector.execute (DefaultRequestDirector.java:486)\n      at org.apache.http.impl.client.AbstractHttpClient.doExecute (AbstractHttpClient.java:863)\n      at org.apache.http.impl.client.CloseableHttpClient.execute (CloseableHttpClient.java:82)\n      at org.apache.tomcat.maven.common.deployer.TomcatManager.invoke (TomcatManager.java:742)\n      at org.apache.tomcat.maven.common.deployer.TomcatManager.deployImpl (TomcatManager.java:705)\n      at org.apache.tomcat.maven.common.deployer.TomcatManager.deploy (TomcatManager.java:388)\n      at org.apache.tomcat.maven.plugin.tomcat7.deploy.AbstractDeployWarMojo.deployWar (AbstractDeployWarMojo.java:85)\n      at org.apache.tomcat.maven.plugin.tomcat7.deploy.AbstractDeployMojo.invokeManager (AbstractDeployMojo.java:82)\n      at org.apache.tomcat.maven.plugin.tomcat7.AbstractCatalinaMojo.execute (AbstractCatalinaMojo.java:132)\n      at org.apache.tomcat.maven.plugin.tomcat7.AbstractWarCatalinaMojo.execute (AbstractWarCatalinaMojo.java:68)\n      at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:134)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:208)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:154)\n      at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:146)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n      at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n      at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:51)\n      at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:309)\n      at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:194)\n      at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:107)\n      at org.apache.maven.cli.MavenCli.execute (MavenCli.java:955)\n      at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:290)\n      at org.apache.maven.cli.MavenCli.main (MavenCli.java:194)\n      at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n      at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n      at java.lang.reflect.Method.invoke (Method.java:498)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n      at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n</code></pre></li>\n</ul>\n"},{"comments":[{"comment_id":134552014,"body":"The solution is to use a <code>ScrollPane</code>. In what way does the code in your question not work for you? Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"comment_id":134552016,"body":"The other option is to use a <code>ListView</code>, which is preferred if you have a significant number of graphs to display."},{"comment_id":134552959,"body":"“the code I found doesn&#39;t work” —How can you tell?"},{"comment_id":134554070,"body":"You wrote in your question: <i>the code I found doesn&#39;t work in my version of the library</i> What &quot;library&quot; are you referring to? Is the code in your question the code that you found?"},{"comment_id":134554507,"body":"I understand that a minimal reproducible example is needed here.  But as I said earlier I am new to javafx.  I just need to put 7 lines of charts in one window so that it looks at least not pinched. Does it make sense to add even more code here - I don&#39;t think so.  Because you certainly don&#39;t need my calculations."},{"comment_id":134554772,"body":"&quot;<i>Does it make sense to add even more code here - I don&#39;t think so.</i>&quot; – But we <b>do</b> think so. Or at least we think you should show your actual attempt (in the form of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). From our perspective, you have apparently already found a solution. So, we don&#39;t really understand what you&#39;re actually asking. You state using a <code>ScrollPane</code> &quot;doesn&#39;t work&quot;. But <b>how</b> doesn&#39;t it work? What did you try? In other words, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would help us help you (plus any errors you&#39;re getting)."},{"comment_id":134555217,"body":"OK, I was wrong. Now I will add a little explanation of how it should look like."},{"comment_id":134556016,"body":"&quot;<i>There is no setContent method when I try to repeat the example</i>&quot; – I think this was the piece of information we were missing. As you can see in <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/ScrollPane.html#setContent(javafx.scene.Node)\" rel=\"nofollow noreferrer\">the documentation</a>, that method does indeed exist and has existed since JavaFX 2.0 (which is approximately 10 major versions older than the version you&#39;re using). My guess is you erroneously imported <code>java.awt.ScrollPane</code>. But <code>javafx.scene.control.ScrollPane</code> is the class you want to import."},{"comment_id":134556058,"body":"As a general rule, unless you really know what you&#39;re doing, avoid importing anything from the <code>java.awt.*</code> or <code>java.swing.*</code> packages when creating a JavaFX application. All code related to the JavaFX standard library is in packages starting with <code>javafx.*</code>."},{"comment_id":134556126,"body":"Yes, you&#39;re right. The example did not say that you need to use <code>javafx.scene.control.ScrollPane</code>. And Intellij IDEA suggested importing the wrong class. Thanks for the help."}],"last_activity_date":1684741167,"question_id":76302062,"body":"<p>I'm new to javafx. My task is to make several graphs in one window. But the problem is that there are too many of them and they do not fit in the window correctly.</p>\n<p>In other cases I used GridPane and it worked. But now I am faced with the problem described above. How can I implement a scrollable window in the likeness of a grid? If possible, provide a link to the example/documentation.</p>\n<p>At the moment, my charts look like this. And they look acceptable. Do not pay attention to the signatures, they will be made later.</p>\n<p><a href=\"https://i.stack.imgur.com/wJ8Ed.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wJ8Ed.png\" alt=\"enter image description here\" /></a></p>\n<p>I use the GridPane to determine the position of the graphs. Here is my code:</p>\n<pre><code>        GridPane pane = new GridPane();\n        pane.add(lineChart0,0,0);\n        pane.add(lineChart1,1,0);\n        pane.add(lineChart2,2,0);\n        pane.add(lineChart3,0,1);\n        pane.add(lineChart4,1,1);\n        pane.add(lineChart5,2,1);\n        pane.add(lineChart6,3,1);\n        pane.add(lineChart7,0,2);\n        pane.add(lineChart8,1,2);\n        pane.add(lineChart9,2,2);\n        pane.add(lineChart10,3,2);\n        pane.add(lineChart11,0,3);\n        pane.add(lineChart12,1,3);\n        pane.add(lineChart13,2,3);\n        pane.add(lineChart14,3,3);\n\n\n        Scene scene = new Scene(pane, 1920, 1000);\n        stage.setScene(scene);\n        stage.show();\n</code></pre>\n<p>But now I need to add some more charts lines. When I add these lines, this happens:</p>\n<p><a href=\"https://i.stack.imgur.com/i7EO9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i7EO9.png\" alt=\"enter image description here\" /></a></p>\n<p>Data signatures and the last chart line disappear.  Don't pay attention to the empty spaces in the grid. Here I'm just checking how charts will behave with a given number of rows.</p>\n<pre><code>        GridPane pane = new GridPane();\n        pane.add(lineChart0,0,0);\n        pane.add(lineChart1,1,0);\n        pane.add(lineChart2,2,0);\n        pane.add(lineChart3,0,1);\n        pane.add(lineChart4,1,1);\n        pane.add(lineChart5,2,1);\n        pane.add(lineChart6,3,1);\n        pane.add(lineChart7,0,2);\n        pane.add(lineChart8,1,2);\n        pane.add(lineChart9,2,2);\n        pane.add(lineChart10,3,2);\n        pane.add(lineChart11,0,3);\n        pane.add(lineChart12,1,4);\n        pane.add(lineChart13,2,5);\n        pane.add(lineChart14,3,6);\n\n\n        Scene scene = new Scene(pane, 1920, 1000);\n        stage.setScene(scene);\n        stage.show();\n</code></pre>\n<p>I need the graphs to be displayed correctly in one window. According to my idea, this can be done by scrolling the page. But maybe my idea is wrong. I tried to find an example of how to combine grid pane and scrollpane, but code  that I found doesn't work in my version of the library(17.0.2). There is no <code>setContent</code> method when I try to repeat the example. Here is an example of this code:</p>\n<pre><code>ScrollPane scrollPane = new ScrollPane();\n\nGridPane gridPane = new GridPane();\ngridPane.add(new Label(&quot;Name:&quot;), 0, 0);\ngridPane.add(new TextField(), 1, 0);\ngridPane.add(new Label(&quot;Description:&quot;), 0, 1);\ngridPane.add(new TextArea(), 1, 1);\n\nscrollPane.setContent(gridPane);\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134555197,"body":"Hey Jon, did you mean <code>dateString</code> when you have written <code>text</code>? Also, did you mean <code>sdf.parse</code> not <code>format.parse</code>, right?"},{"comment_id":134555467,"body":"@PeterCsala: I meant to change the parameter name to <code>text</code> (which I&#39;ve now done) - and yes, I meant <code>sdf.parse</code>. Fixed now."}],"answer_id":31187578,"body":"<p>You can use the overload of <code>parse</code> which takes a <code>ParsePosition</code>:</p>\n<pre><code>public static Date parseDate(final String text, final String[] acceptedFormats) {\n    ParsePosition position = new ParsePosition(0);\n    for (String format : acceptedFormats) {\n        // TODO: Specify time zone and locale\n        SimpleDateFormat sdf = new SimpleDateFormat(format);\n        Date date = sdf.parse(text, position);\n        if (date != null &amp;&amp; position.getIndex() == text.length()) {\n            return date;\n        }\n        position.setIndex(0);\n    }\n    return null; // dateString does not match any accepted format\n}\n</code></pre>\n<p>Note the check that the parse position is the length of the string - that prevents false positives where <em>some</em> of the text has been parsed, but there's more left over - such as a format of &quot;yyyy-MM-dd&quot; and text of &quot;2015-07-02T15:40&quot;.</p>\n"}],"last_activity_date":1684741107,"question_id":31187493,"body":"<p>I implemented the following method that can be used to convert a String to an accepted format: </p>\n\n<pre><code>public static Date parseDate(final String dateString, final String[] acceptedFormats) {\n        for (String format : acceptedFormats) {\n            try {\n                return new SimpleDateFormat(format).parse(dateString);\n            } catch (ParseException e) {\n                // dateString does not have this format\n            }\n        }\n        return null; // dateString does not match any accepted format\n    }\n</code></pre>\n\n<p>As I read from some Java books, it<code>s not a good practice to use exceptions to control the flow. In this case, I use an empty catch block and that</code>s not a good practice. Can you help me to to write a method that does the same thing but in a different way? \nI have to mention that I am not allowed to use external libs( I know that there a lib from apachee that can do this thing in a nice manner)</p>\n"},{"answers":[{"comments":[{"comment_id":96493455,"body":"I am not sure which external mongo db driver you have mentioned, but I am using mongo-java-driver  and in it there is no authenticate() function available on database.  Below is how I access database: MongoDatabase database = mongoClient.getDatabase(mongoDBdatabase); \t\tMongoCollection&lt;Document&gt; metadata_collection = getMetadataCollectionName(database, type);"},{"comment_id":96493785,"body":"Could you give me your maven dependency?"},{"comment_id":96494590,"body":"&lt;dependency&gt;       &lt;groupId&gt;org.mongodb&lt;/groupId&gt;       &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;       &lt;version&gt;3.6.0&lt;&lt;/version&gt;     &lt;/dependency&gt;"},{"comment_id":96495291,"body":"I updated my answer to include the solution, this way it can be read in java code"},{"comment_id":96496222,"body":"new MongoClient(new ServerAddress(&quot;host1&quot;, 27017), Arrays.asList(mongoCredential)) is deprecated. This is the reason, i cannot use this way. I already mentioned this in question :)"},{"comment_id":96568079,"body":"Hi Deepak, Sorry I wasn&#39;t paying to attention, I have rewritten my solution to contain the new not deprecated method, is this what you are looking for? - Sorry for the late response"}],"answer_id":54860746,"body":"<p>For the find command to execute, you need to authenticate with mongo first.\nAn example of how you may be doing authentication:</p>\n\n<pre><code>Mongo mongo = new Mongo(\"localhost\", 27017);\nDB db = mongo.getDB(\"testdb\");\n\nboolean auth = db.authenticate(\"testdb\", \"password\".toCharArray());\nif (auth) {\n\n    DBCollection table = db.getCollection(\"user\");\n\n    BasicDBObject document = new BasicDBObject();\n    document.put(\"name\", \"mkyong\");\n    table.insert(document);\n\n    System.out.println(\"Login is successful!\");\n} else {\n    System.out.println(\"Login is failed!\");\n}\n</code></pre>\n\n<p>This should work fine for you. </p>\n\n<p>You can check the example code in this article: <a href=\"https://www.mkyong.com/mongodb/java-authentication-access-to-mongodb/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/mongodb/java-authentication-access-to-mongodb/</a></p>\n\n<p>When using the mongo-java-driver the following would be appropriate:\n- note this is not using the deprecated method anymore, but setting the writeconcern to Journaled (which is recommended)</p>\n\n<pre><code>String username = \"test\";\nString database = \"something\";\nString password = \"secret\";\n\nMongoCredential mongoCredential = MongoCredential.createCredential(username, database, password.toCharArray());\nMongoClientOptions options = MongoClientOptions.builder()\n.writeConcern(WriteConcern.JOURNALED).build();\n\nMongoClient mongoClient = new MongoClient(new ServerAddress(\"host1\", 27017), Arrays.asList(mongoCredential), options);\n</code></pre>\n"},{"answer_id":76303938,"body":"<p>If you are using <strong>MongoDB Atlas</strong>, then you have to give access to the DB for the given Role of a db user.</p>\n<p>The issue is mainly because of the permissions not given to the user to access it.</p>\n"}],"last_activity_date":1684741098,"question_id":54860650,"body":"<blockquote>\n  <p>com.mongodb.MongoQueryException: Query failed with error code 13 and\n  error message 'command find requires authentication'</p>\n</blockquote>\n\n<p>How to create a mongo client using a password in java.</p>\n\n<p>I know there was method like this:</p>\n\n<pre><code>public MongoClient(final ServerAddress addr, final List&lt;MongoCredential&gt; credentialsList);\n</code></pre>\n\n<p>But it is shown as deprecated, there is another method which requires MongoClientOptions:</p>\n\n<pre><code>public MongoClient(final ServerAddress addr, final MongoCredential credential, final MongoClientOptions options)\n</code></pre>\n\n<p>But I do not have any options to send. So, is there any way I can create mongo client in java using a password?</p>\n"},{"comments":[{"comment_id":5751847,"body":"Your question has more to do with management of internet protocols and communications settings rather than programming. It would be better asked at ServerFault.com. Btw, your problem is multi-layered. It&#39;s fairly easy to get going on a home or even company network but when you get into the wild you have to account for firewalls, DNS, ISPs (which often do not allow server traffic) etc. If you want to code at the socket level, you will definitely have to learn TCP/IP inside out. No escaping it."},{"comment_id":5755753,"body":"Regarding the strategy discussed in your edit.  There&#39;s a dead-easy way to get started: <a href=\"http://code.google.com/appengine/\" rel=\"nofollow noreferrer\">Google App Engine</a>.  You have to learned a tiny bit about servlets and a tiny bit about Google-specific data stores, but total work should be less than an hour."},{"comment_id":5757683,"body":"@Malvolio. Thanks, that sounds like a great idea. Would it be much more difficult if I create my own server that does this than using the google app engine?"},{"comment_id":5757798,"body":"The issue is, you need to find a host.  You have to find somebody with a data center who will let you use a computer.  There are a lot of commercial outfits out there who will do it for money, there are even some other (partially) free ones, including <a href=\"http://aws.amazon.com/\" rel=\"nofollow noreferrer\">Amazon Web Services</a>, you could even set up your own data center, with just a static IP and an unused Linux box.  GAE is just the easiest, about an hour&#39;s work.  On AWS&#39;s free-tier Beanstalk service, probably two hours.  Those are the only ones I&#39;ve tried myself this month, but the others would probably be comparable."}],"answers":[{"comments":[{"comment_id":5751819,"body":"@Orbit: the OP states that he want to <i>&quot;transfer data (mostly simple commands)&quot;</i> while <i>scp</i> is meant to copy files.  I&#39;m not sure this is what the OP wants."},{"comment_id":5751829,"body":"Yes, but trying anyway without knowing what exactly he wants."},{"comment_id":5751862,"body":"His socket code already works so this question is more a matter of configuration rather than programming."},{"comment_id":5751890,"body":"There&#39;s a difference between what the OP thinks he wants and what he needs: In this case I think that the OP needs to figure out the vagaries of TCP/IP on the internet. He&#39;s already got his stuff working at home (LAN) and he&#39;s trying to move it to the public internet (WAN.) Johan really needs to understand what all needs to happen to enable such a move."},{"comment_id":5751899,"body":"True this, I should have just ignored the last question within the question."},{"comment_id":5751919,"body":"I want to use it in a existing security program at home that I created. I want to be able to connect remotely to the program and then monitor and control certain aspects of the program."},{"comment_id":5752080,"body":"@Orbit: Yes, it is a Java program"}],"answer_id":5127711,"body":"<p>No need to write networking code for this, unless it really floats your boat. Take a look at SCP. <a href=\"http://amath.colorado.edu/computing/software/man/scp.html\" rel=\"nofollow\">http://amath.colorado.edu/computing/software/man/scp.html</a>. There is a windows implementation where you can download putty (windows ssh client), and it is on most linux distributions. Alternatively, you could set up an FTP or SSH server on one or both of the machines.</p>\n\n<p>\"a fixed name for my computer that I can use instead of entering the IP address\" would be a domain name, these are purchasable online for a few bucks.</p>\n"},{"comments":[{"comment_id":5751945,"body":"Thanks, comet technology sounds like an interesting approach. I think I&#39;ll take a look at that."},{"comment_id":5751988,"body":"if you don&#39;t mind my saying so, the COMET approach is a subset of the more general solution of using an open proxy, and an unnecessarily complicated one.  COMET is great if you are stuck in a browser and <i>must</i> tunnel through HTTP, but that isn&#39;t the case here."},{"comment_id":5752315,"body":"@Malvolio - you are right i restricted the problem to a browser based question."}],"answer_id":5127729,"body":"<p>using a direct socket connection with a port like 3333 is usually complicated because different network configurations.</p>\n\n<p>firewalls will make a pleasure preventing the connection, or killing it from time to time.</p>\n\n<p>maintaining a 2-way connection can be a nighmare. the SIP protocol is struggling with this kind of problems.</p>\n\n<p>For a simple application, i suggest you look into the <a href=\"http://en.wikipedia.org/wiki/Comet_%28programming%29\" rel=\"nofollow\">comet technology</a>, where your clients can establish an http connection with a shared server. The server can then bridge commands between them.</p>\n\n<p>html5 will also bring the <a href=\"http://en.wikipedia.org/wiki/WebSockets\" rel=\"nofollow\">websocket protocol</a> to the table.</p>\n"},{"comments":[{"comment_id":5752029,"body":"Thanks, I checked and my IP address starts with 41. If I am not behind a NAT should the IP address that used work? How do I get my IP address &quot;within the Internet&quot;? Should I use DynDNS to accomplish this?"},{"comment_id":5752098,"body":"@Johan, if it starts with 41, then you are probably directly connected to the Internet. Did you compare the address returned by &quot;ipconfig&quot; to whatever whatismyip.com says? If they are the same, then you&#39;re definitely safe. You should use this address at the client side to connect. If you have firewall software, you may have to disable it or configure to open the port used. DynDNS is not used to obtain IP addresses, it just registers a name for you, and a DynDNS client updates this name to point to your IP address each time it changes."},{"comment_id":5752276,"body":"@Sergey, yes they are the same. I&#39;ll try a few other options, it could be the firewall or something like that."},{"comment_id":5752373,"body":"@Johan, what error are you getting anyway when trying to connect?"},{"comment_id":5752416,"body":"@Sergey. After a few seconds a get an IOException on the client side. I edited my original question, if you don&#39;t mind, can you take a look at that and let me know what you think. Thanks!"},{"comment_id":5752694,"body":"@Johan, what does the IOException say? Connection timed out, rejected, etc.? I&#39;ve seen your edited question, but I have never tried something like that, so I can&#39;t give you any good advice here. It is certainly possible, but I don&#39;t know if it can be done for free and also how reliable and secure it would be, not to mention other possible problems we have no idea of."},{"comment_id":5754618,"body":"The message that I get is: &quot;The operation timed out&quot;, not very helpful."},{"comment_id":5757064,"body":"@Johan, quite helpful in fact. It means that the client didn&#39;t get any reply, positive or negative. Could be because of a firewall or because of some network misconfiguration. Did you try to ping the server from the client?"},{"comment_id":5757666,"body":"I&#39;ll try to ping the server, but it also seems to me that it is some sort of network setup error."}],"answer_id":5127790,"body":"<blockquote>\n  <p>I got the IP address by right-clicking\n  on the connection, status, support.</p>\n</blockquote>\n\n<p>Not sure about the \"support\" part, and I'm not on a Windows machine right now, but I think that the most easy and reliable way to figure out the IP address on Windows is to run \"ipconfig\" from the command line (Win+R, type \"cmd\", then \"ipconfig\" in the opened window). This, of course, should be done on the server side.</p>\n\n<p>However, the problem is that depending on the ISP your IP address may be not within the Internet, but within a local ISP network (so-called NAT). In this case, you'll need to use some sort of black magic called <a href=\"http://www.brynosaurus.com/pub/net/p2pnat/\" rel=\"nofollow\">TCP hole punching</a>, which is very complicated and not guaranteed to work. You can figure out if your address is local or not by looking at it. For IPv4 local addresses are almost always like 10.x.x.x or 172.16-31.x.x, or 192.168.x.x. Don't know about IPv6.</p>\n\n<p>You can also check your IP by visiting one of the special sites like <a href=\"http://www.whatismyip.com/\" rel=\"nofollow\">www.whatismyip.com</a>. If the address they tell you is different from the one you see by running \"ipconfig\" or looking at the connection properties, then you're almost certainly behind a NAT (or your ISP is using a transparent proxy, but that's rare).</p>\n\n<p>If you are directly connected to Internet (no local addresses and NAT), then you should also check if you have any firewall software and either to configure it to allow connections to the port you use, or make sure it's in \"ask the user\" (and not \"silently reject\") mode, or just disable it completely (this may put your computer at risk, especially if there is no anti-virus software or the system isn't up-to-date).</p>\n\n<blockquote>\n  <p>Also, is it possible to get a fixed\n  name for my computer that I can use\n  instead of entering the IP address, as\n  this changes every time I connect to\n  the internet using my mobile phone?</p>\n</blockquote>\n\n<p>Yes, it's possible. There is the thing called DynDNS, and there are DynDNS providers like <a href=\"http://www.dyndns.com/\" rel=\"nofollow\">DynDNS.com</a>, where you can get a third-level domain name for free (like mycoolpc.dyndns.org). You'll have to install and configure some DynDNS client on your PC that will tell the DynDNS server its new IP each time each changed. I don't know anything about particular clients to use because I'm using the one built-in in my home router.</p>\n"},{"comments":[{"comment_id":5752159,"body":"It depends on the ISP how expensive a static IP address is. I have two connections from different ISPs, one with static IP for about $2/month, another one with semi-static IP for free. &quot;Semi-static&quot; means it isn&#39;t guaranteed to be static, but only really changes when there are serious changes in the ISP software/hardware, and last time it happened a few years ago."}],"answer_id":5127804,"body":"<p>When you connected to the server that serves StackOverflow, did you type in the IP address?  It's 64.34.119.12, if that jogs your memory.</p>\n<p>You probably didn't.  You probably typed &quot;stackoverflow.com&quot;.  There's a huge, complex, clever, and <a href=\"http://www.h-online.com/security/news/item/Massive-DNS-security-problem-endangers-the-internet-736419.html\" rel=\"nofollow noreferrer\">in some ways</a>, poorly implemented system called <a href=\"http://en.wikipedia.org/wiki/Domain_Name_System\" rel=\"nofollow noreferrer\">DNS</a> that translates sensible and human-readable names into IP addresses.</p>\n<p>One problem with DNS, though, is you need a &quot;static IP&quot;, which is exactly what it sounds like: an IP address that doesn't change, which is exactly what you don't have.</p>\n<p>So, what can you do?</p>\n<ol>\n<li>You can buy a static IP account from your ISP (pretty expensive)</li>\n<li>You can use some proxy out in the Internet (a machine that <em>does</em> have a static IP and is willing to bounce your packets back and forth -- I'm not aware of any service* that does this for you; you could write one and put it up on Amazon Web Services or Google App Engine, both of which would be free at your level of usage, but they'd be slow, since every packet trying to cross your living room would have have to go via some data-center in Virginia).</li>\n<li>You can keep doing what you're doing, looking in the net-configuration of your machine.</li>\n<li>You could speed (3) up a little by having your server program look up its own IP address and print it out where you could see it and type it into the server by hand.</li>\n<li>You can use DynDNS, as Sergey mentioned (this is the &quot;right&quot; solution, in that it's very general, it just might be a little complicated to set up)</li>\n<li>You can use <a href=\"http://en.wikipedia.org/wiki/IP_multicast\" rel=\"nofollow noreferrer\">multi-casting</a>.</li>\n</ol>\n<p>Multi-casting is an interesting solution, and it may work for you.  The idea is, when your server starts up, it announces to the net, &quot;Here I am, I'm providing X server, here's my IP address, talk to me.&quot;  The problem is, a multi-cast won't leave your living room.  Obviously, if every multi-cast were spread to every computer on the Internet, the whole thing would collapse, so your router will ignore, and not route, multi-cast packets.  That may or may not be a deal-breaker for you.  <strong>EDIT</strong> Re-reading your question, I see it <em>is</em> a deal-breaker for you.  I'd go with #5, but be aware there may be routing issues (address translations that prevent a server from knowing the address that other computers can find it at) or fire-wall issues (that is, your ISP may prevent your server from receiving incoming packets even if the address is correct).</p>\n<p>* in the dozen odd years since I wrote this reply, several such services have arisen, including Ngrok, Localtunnel, Serveo, Teleconsole, and Pagekite.</p>\n"}],"last_activity_date":1684740955,"question_id":5127687,"body":"<p>I have been struggling with this for the entire day now, I hope somebody can help me with this.</p>\n\n<p>My problem is fairly simple: I wish to transfer data (mostly simple commands) from one PC to another over the internet. </p>\n\n<p>I have been able to achieve this using sockets in Java when both computers are connected to my home router. I then connected both computers to the internet using two different mobile phones and attempted to transmit the data again. I used the mobile phones as this provides a direct route to the internet and if I use my router I have to set up port forwarding, at least, that is how I understand it.</p>\n\n<p>I think the problem lies in the method that I set up the client socket. I used: </p>\n\n<pre><code>Socket kkSocket = new Socket(ipAddress, 3333);\n</code></pre>\n\n<p>where ipAddress is the IP address of the computer running the server. I got the IP address by right-clicking on the connection, status, support. Is that the correct IP address to use or where can I obtain the address of the server? Also, is it possible to get a fixed name for my computer that I can use instead of entering the IP address, as this changes every time I connect to the internet using my mobile phone?</p>\n\n<p>Alternatively, are there better methods to solving my problem such as using http, and if so, where can I find more information about this?</p>\n\n<p><strong>EDIT:</strong>\nWould it be possible to have the server program running on a server on the internet somewhere. My original server would then be a client that send information to this server. This server would then pass this information to my original client and vice versa. That way, the IP address of my computer won't matter, as I only need to know the address of the server hosted somewhere on the web. Does this seem like a better solution? Where do I begin implementing such a solution? </p>\n\n<p>Thanks!</p>\n"}]}