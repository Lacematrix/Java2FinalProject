{"items":[{"comments":[{"comment_id":134527581,"body":"Get a book, go on a course, find some tutorials (probably in that order). Do some background reading on general computer science, operating systems, filesystems, how the web works, etc. Don&#39;t flail around trying to learn 3 languages at once. Pick one of them and stick to it for a while until you&#39;ve got the core principles and some confidence, and then try your hand at another one as well. You can easily install the development tools for your chosen language onto your PC - most of them are free these days too. The book/course you choose will explain what you need for each task."},{"comment_id":134527614,"body":"P.S. I commented out of kindness but if you&#39;d read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, or taken the <a href=\"https://stackoverflow.com/tour\">tour</a> (as recommended by the system when you signed up, but I can see from your empty profile that you didn&#39;t for some reason), you&#39;d know that this kind of opinion/personal question is not on-topic here (see the <a href=\"https://stackoverflow.com/help/on-topic\">help center</a> guidance too for more info). Paying attention to detail, reading documentation, knowing how to research effectively, and having lots of patience, are also key skills for a programmer. Don&#39;t expect it to be &quot;fast&quot; learning - it&#39;s an engineering discipline, not a one-weekend throwaway hobby :-)."},{"comment_id":134530352,"body":"Start with the official tutorials, like <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">this one for Java</a>.  I do not recommend trying to learn from YouTube;  there is a lot of bad advice out there.  And don’t worry about “learning it all”;  I’ve doing this for decades and I still don’t know it all.  But I know how to look up what I need in the documentation, when I need it."}],"last_activity_date":1684486654,"question_id":76287535,"body":"<p>How can I learn programming fast? I'm just a newbie and I wanna learn like Python or C++ or Java but I dont ever know how to learn it all.</p>\n<p>Im trying to learn programming with mobile but I'ts harder than I thought.I only have 150 GB computer and I dont ever know how to use I't to learn programming.</p>\n"},{"answers":[{"answer_id":9129470,"body":"<p>I guess the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/net/InetAddress.html\" rel=\"nofollow\">InetAddress</a> will do what you want</p>\n"},{"comments":[{"comment_id":11473713,"body":"Thanks. Would be nice to have a function that takes a <code>long</code> as argument."},{"comment_id":11473863,"body":"You can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">ByteBuffer</a>. Methods: putLong() then array()"}],"answer_id":9129488,"body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/InetAddress.html#getByAddress%28byte%5B%5D%29\" rel=\"nofollow\">java.net.InetAddress.getByAddress(byte[])</a></p>\n\n<p>Not exactly same as INET_NTOA, but very similar to.</p>\n\n<p>Example with long argument:</p>\n\n<pre><code>String ntoa(long raw) {\n    byte[] b = new byte[] {(byte)(raw &gt;&gt; 24), (byte)(raw &gt;&gt; 16), (byte)(raw &gt;&gt; 8), (byte)raw};\n    try {\n        return InetAddress.getByAddress(b).getHostAddress();\n    } catch (UnknownHostException e) {\n        //No way here\n        return null;\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":11473772,"body":"Thanks, seems like a fruitful way to explore. Seems like there are no methods which do what I want right away."}],"answer_id":9129547,"body":"<p>Look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/InetAddress.html\" rel=\"nofollow\">InetAddress</a> in the javadocs. These functions are not directly supported by the Standard API but you can extract both representations using this class.\nA small example:</p>\n\n<pre><code>    InetAddress address = InetAddress.getLocalHost();\n    byte[] byteAddress = address.getAddress();\n    System.out.println(Arrays.toString(byteAddress));\n    System.out.println(address.getHostAddress());\n</code></pre>\n\n<p>(Keep in mind that bytes are signed.)</p>\n\n<hr>\n\n<p>If you have long-s than yo can use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow\">ByteBuffer</a>, for fast and comfortable coversion. Methods: putLong() then array().</p>\n"},{"answer_id":9228363,"body":"<p>Here's what I wrote myself to get a numeric representation of a textual IPv4 address:</p>\n\n<pre><code>public static Long ipAsNumeric(String ipAsString) {\n    String[] segments = ipAsString.split(\"\\\\.\");\n    return (long) (Long.parseLong(segments[0]) * 16777216L\n       + Long.parseLong(segments[1]) * 65536L\n       + Long.parseLong(segments[2]) * 256L + \n         Long.parseLong(segments[3]));\n}\n</code></pre>\n\n<p>Of course, this assumes the IPv4 address is given on a valid format.</p>\n"},{"answer_id":27668498,"body":"<p>Guava's InetAddresses will do the trick.</p>\n\n<p>Look at Ido's comment in <a href=\"https://stackoverflow.com/questions/2241229/going-from-127-0-0-1-to-2130706433-and-back-again\">Going from 127.0.0.1 to 2130706433, and back again</a></p>\n"},{"answer_id":47800553,"body":"<p>Using <a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">the IPAddress Java library</a> it is simple, one line of code for each direction works for both IPv4 and IPv6.  In fact, you can write code that works for both IPv4 and IPv6 as in the first example below.\nDisclaimer: I am the project manager of that library.</p>\n\n<p>IP-version agnostic using byte[] and/or BigInteger:</p>\n\n<pre><code>    IPAddress loopback = new IPAddressString(\"::1\").getAddress();\n    System.out.println(loopback.getValue());\n    IPAddress backAgain = new IPAddressGenerator().from(loopback.getBytes());\n    System.out.println(backAgain);\n</code></pre>\n\n<p>Use ints for IPv4:</p>\n\n<pre><code>    IPv4Address loopbackv4 = new IPAddressString(\"127.0.0.1\").getAddress().toIPv4();\n    System.out.println(loopbackv4.intValue());\n    IPv4Address backAgainv4 = new IPv4Address(loopbackv4.intValue());\n    System.out.println(backAgainv4);\n</code></pre>\n\n<p>Use BigInteger for IPv6:</p>\n\n<pre><code>    IPv6Address loopbackv6 = new IPAddressString(\"::1\").getAddress().toIPv6();\n    System.out.println(loopbackv6.getValue());\n    IPv6Address backAgainv6 = new IPv6Address(loopbackv6.getValue());\n    System.out.println(backAgainv6);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    1\n    0:0:0:0:0:0:0:1\n\n    2130706433\n    127.0.0.1\n\n    1\n    0:0:0:0:0:0:0:1\n</code></pre>\n"},{"answer_id":76287533,"body":"<p>Just try with the following code.</p>\n<pre><code>import java.net.InetAddress;\nimport java.net.UnknownHostException;\n\npublic class IpConvertUtil {\n    public static long inetAton(String ipAddress) throws UnknownHostException {\n        \n        InetAddress address = InetAddress.getByName(ipAddress);\n        byte[] bytes = address.getAddress();\n        long result = 0;\n        for (byte b : bytes) {\n            result = result &lt;&lt; 8 | (b &amp; 0xFF);\n        }\n        return result;\n        \n    }\n    \n    public static String inetNtoa(long address) {\n        return (address &gt;&gt; 24 &amp; 0xFF) + &quot;.&quot; +\n                (address &gt;&gt; 16 &amp; 0xFF) + &quot;.&quot; +\n                (address &gt;&gt; 8 &amp; 0xFF) + &quot;.&quot; +\n                (address &amp; 0xFF);\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684486614,"question_id":9129391,"body":"<p>I use Java (with Spring framework) and want to convert between numeric representations of IPv4 addresses (e.g. 2130706433) and their textual counterparts (e.g. <code>127.0.0.1</code>). Often, methods for doing this are supplied in programming languages (they're usually called <code>INET_NTOA</code> and <code>INET_ATON</code> respectively) but I can't find it in Java. </p>\n\n<p>Anybody knows what they're called or how to implement them?</p>\n"},{"comments":[{"comment_id":864234,"body":"What exactly are you trying to do? Posting some example code would be helpful."},{"comment_id":864286,"body":"And please post what things you tried already?"},{"comment_id":864801,"body":"It don&#39;t look like Tomi has written any KeyStore-related code; this stack is simply an Applet getting started. It looks like the class loader is having trouble preparing to verify applet signatures."},{"comment_id":864962,"body":"@erickson: Yes. Now I see it too. But without an OP response we cannot proceed further I&#39;m afraid."},{"comment_id":104827814,"body":"How did you generate the JKS file? checkout this thread: <a href=\"https://stackoverflow.com/a/59312913/7051466\">stackoverflow.com/a/59312913/7051466</a>"},{"comment_id":133270625,"body":"Need more information to help. What are you trying to do? Is there a code sample you can provide? When did you receive this error?"},{"comment_id":134043448,"body":"Changing Gradle JDK verison helped me try this -&gt; <a href=\"https://stackoverflow.com/a/76000947/13651898\">View</a>"}],"answers":[{"answer_id":1052709,"body":"<p>I think the keystore file you want to use has a different or unsupported format in respect to your Java version. Could you post some more info of your task?</p>\n\n<p>In general, to solve this issue you might need to recreate the whole keystore (using some other JDK version for example). In export-import the keys between the old and the new one - if you manage to open the old one somewhere else.</p>\n\n<p>If it is simply an unsupported version, try the <a href=\"http://www.bouncycastle.org/specifications.html\" rel=\"noreferrer\">BouncyCastle</a> crypto provider for example <strike>(although I'm not sure If it adds support to Java for more keystore types?)</strike>.</p>\n\n<p><strong>Edit:</strong> I looked at the feature spec of BC.</p>\n"},{"comments":[{"comment_id":864570,"body":"I was afraid to mention that :)"}],"answer_id":1053040,"body":"<p>Your keystore is broken, and you will have to restore or regenerate it.</p>\n"},{"comments":[{"comment_id":26232103,"body":"Great! I really helped me. Could you, please, clarify why does the filtering parameter corrupts the keystore?"},{"comment_id":85522117,"body":"in my case, the <code>maven-cargo-plugin</code> container configuration should use <code>&lt;files&gt;&lt;file&gt;...&lt;&#47;file&gt;&lt;&#47;files&gt;</code> for binary files, rather than <code>&lt;configfiles&gt;&lt;configfile&gt;</code>, as per <a href=\"https://codehaus-cargo.github.io/cargo/Configuration+files+option.html\" rel=\"nofollow noreferrer\">the maven:cargo documentation</a>"}],"answer_id":7050597,"body":"<p>You may corrupt the file during copy/transfer.</p>\n\n<p>Are you using maven?\nIf you are copying keystore file with \"filter=true\", you may corrupt the file.</p>\n\n<p>Please check the file size.</p>\n"},{"comments":[{"comment_id":67764430,"body":"This worked for me - just installing the latest, which Mac had already &#39;updated&#39; as a patch or something - but only once I started a new terminal window so the path used the new java update. Particularly useful were the commands replicating the error and demonstrating the issue had been resolved (although because of the $(java_home) reference, those worked in the terminal where the gradle command didn&#39;t work, which was a bit confusing)!"},{"comment_id":108771972,"body":"This command helped me validate the jks file (keytool -list -keystore &lt;path-to-jks&gt;)"},{"comment_id":128242139,"body":"This worked after installing the latest JDK!!"}],"answer_id":34621695,"body":"<p>(Re)installing the latest JDK (e.g. <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"noreferrer\">Oracle's</a>) fixed it for me.</p>\n\n<p>Prior to installing the latest JDK, when I executed the following command in Terminal.app:</p>\n\n<pre><code>keytool -list -keystore $(/usr/libexec/java_home)/jre/lib/security/cacerts -v\n</code></pre>\n\n<p>It resulted in:</p>\n\n<pre><code>keytool error: java.io.IOException: Invalid keystore format\njava.io.IOException: Invalid keystore format\n    at sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:650)\n    at sun.security.provider.JavaKeyStore$JKS.engineLoad(JavaKeyStore.java:55)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n    at sun.security.tools.keytool.Main.doCommands(Main.java:792)\n    at sun.security.tools.keytool.Main.run(Main.java:340)\n    at sun.security.tools.keytool.Main.main(Main.java:333)\n</code></pre>\n\n<p>But, after installing the latest Oracle JDK and restarting Terminal, executing the following command:</p>\n\n<pre><code>keytool -list -keystore $(/usr/libexec/java_home)/jre/lib/security/cacerts -v\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>Enter keystore password:  \n</code></pre>\n\n<p>Which indicates that the keytool on path can access the keystore.</p>\n"},{"comments":[{"comment_id":107137212,"body":"I was having  below in my parent pom. Marking filtering false solved the problem.&lt;resources&gt;             &lt;resource&gt;                 &lt;directory&gt;src/main/resources&lt;/directory&gt;                 &lt;filtering&gt;true&lt;/filtering&gt;             &lt;/resource&gt;         &lt;/resources&gt;"},{"comment_id":120870853,"body":"Thanks, this worked for me. I had to do a maven build again after the change"}],"answer_id":35861941,"body":"<p>Maybe maven encoding you KeyStore, you can set filtering=false to fix this problem.</p>\n\n<pre><code>&lt;build&gt;\n    ...\n    &lt;resources&gt;\n        &lt;resource&gt;\n            ...\n            &lt;!-- set filtering=false to fix --&gt;\n            &lt;filtering&gt;false&lt;/filtering&gt;\n            ...\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"answer_id":46297925,"body":"<p>I ran into the problem with openJDK on ubuntu, had to install Oracle JDK to get it working.</p>\n\n<p>You can follow this <a href=\"https://sites.google.com/site/easylinuxtipsproject/java\" rel=\"nofollow noreferrer\">guide on google sites</a> to do that.</p>\n"},{"answer_id":54745125,"body":"<p>go to build \nclean the project\nthen rebuild your project \nit worked for me.</p>\n"},{"comments":[{"comment_id":130254803,"body":"This should be marked correct answer. When you generate the key-store from android studio, something wrong may happen. But using command line, I never got issue. Signing was alway successful but getting SHA was a failure sometimes."}],"answer_id":61550832,"body":"<p>You can generate the debug keystore by running this command in the android/app/ directory:</p>\n<pre><code>keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000\n</code></pre>\n<p>Or just download from official template <a href=\"https://raw.githubusercontent.com/facebook/react-native/master/template/android/app/debug.keystore\" rel=\"noreferrer\">https://raw.githubusercontent.com/facebook/react-native/master/template/android/app/debug.keystore</a></p>\n"},{"comments":[{"comment_id":110475862,"body":"Just a short shot: between Versions 51 and 201 the unlimited crypto policy in Java got enabled, so maybe you should install the unlimited crypto files from Oracle in your &quot;old&quot; Java (you will find a lot of topics here)."},{"comment_id":125747931,"body":"Just using the JRE instead of JDK for the same version 1.8.0_202 was enough for me."}],"answer_id":62467748,"body":"<p>I had the same issue with different versions of keytool:</p>\n<p><strong>C:\\Program Files\\Java\\jdk1.8.0_51\\bin\\keytool</strong></p>\n<p>but the same keystore file worked fine with</p>\n<p><strong>&quot;C:\\Program Files\\Java\\jre1.8.0_201\\bin\\keytool&quot;</strong></p>\n<p>I know it is an old thread but have lost a lot of hours figuring this out... :D</p>\n"},{"answer_id":64699605,"body":"<p>Same issue here, I have Oracle JDK installed and my keystore was created using that, but in the <code>jceks</code> format</p>\n<pre><code>keytool -importkeystore -destkeystore client.keystore \\\n    -srckeystore redislabs_user.p12 -srcstoretype pkcs12 \\\n    -deststoretype jceks -alias client-cert\n</code></pre>\n<p>I deleted the <code>-deststoretype jceks</code> option and it worked fine :)</p>\n"},{"answer_id":65784061,"body":"<p>for me that issue happened because i generated .jks file on my laptop with 1.8.0_251 and i copied it on server witch had java 1.8.0_45 and when I used that .jks file in my code i got java.io.IOException: Invalid Keystore format.</p>\n<p>to solve this issue i generated .jks file directly on the server instead of copy there from my laptop which had different java version.</p>\n"},{"answer_id":69323856,"body":"<p>I came across this issue while running keytool command. There is an other way to run the keytool command, mentioned here: <a href=\"https://developers.google.com/android/guides/client-auth\" rel=\"nofollow noreferrer\">https://developers.google.com/android/guides/client-auth</a> <code>using gradlew command</code>.</p>\n<p>When I ran in debug mode <code> ./gradlew signingReport --debug</code> got to know that gradle plugin required java 11 and my local has java8. Downloaded java11 and updated Path. Ran the command (Make sure you open a new terminal so that java path is reflected to 11). Works like a charm !!!</p>\n"},{"answer_id":69956455,"body":"<p>In my case, I was running the project with Java version 1.8. and the Keystore.jks file that I generated from java 16.\nI changed my project java version to 16 and the error goes away.</p>\n<p>Please check the JDK version with which you are generating the keystore and the JDK version for your project are the same or not. If they are different, either generate the keystore from the same JDK on which your current project is running or change the project JDK.</p>\n"},{"answer_id":71721754,"body":"<p>It may be necessary to run <code>cmd</code> as administrator.\nthe paths to specify the <code>.jks</code> file must be <code>/</code> and not <code>\\</code>.</p>\n<p>If they open the <code>cmd</code> with the path where the <code>.jks</code> file is located, they only put in the <code>/key.jks</code> path</p>\n"},{"answer_id":73023852,"body":"<p>I had problem with &quot;Invalid Keystore format&quot; too. All this answers can't helped me.</p>\n<p>In my case problem was on Mac OS. <strong>JAVA_HOME=jdk1.8</strong> not pulled from .zschrc, so I think that generate certs on it, but default was <strong>jdk11</strong>. I changed it to <strong>jdk1.8</strong> with &quot;<strong>jenv</strong>&quot; and generate certs. How it works.</p>\n<p>You can <a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">download jenv</a> by brew. And some commands that I used</p>\n<pre><code>jenv versions\n</code></pre>\n<p>to check all versions of JDK</p>\n<pre><code>jenv global JDK\n</code></pre>\n<p>to set wanted jdk</p>\n<pre><code>java -version\n</code></pre>\n<p>to check it</p>\n"},{"comments":[{"comment_id":131649898,"body":"Thanks! updating Gradle JDK to 11 worked for me"}],"answer_id":73287607,"body":"<p><strong>I had spent lot of time on this and finally This worked for me -</strong></p>\n<p>go to file -&gt; project structure -&gt; SDK Location -&gt; Gradle Settings -&gt; Change Gradle JDK -&gt; from 1.8 to 11</p>\n<p><a href=\"https://i.stack.imgur.com/EeOMZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EeOMZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Just change Gradle JDK -&gt; from 1.8 to 11 then rebuild the project and try again</p>\n"},{"answer_id":75500030,"body":"<p>This worked for me (Switched to JDK 11, instead of 8)</p>\n<p>Previous JAVA Path &quot;C:\\Program Files\\Java\\jdk1.8.0_202\\bin&quot;</p>\n<pre><code>Changed Path to &quot;C:\\Program Files\\Java\\jdk-11.0.14\\bin&quot;\n</code></pre>\n"},{"answer_id":75625454,"body":"<p>Upgrade your JVM version - I moved from Java 8 to java 17 and it was fixed.</p>\n<p>From Oracle:</p>\n<pre><code>In Java 8u301 release, a new fix went in to upgrade the default PKCS12 encryption algorithm, as noted in Java 8u301 release notes at https://www.oracle.com/java/technologies/javase/8all-relnotes.html#R180_301\n\n➜ Upgraded the Default PKCS12 Encryption Algorithms\nThe default encryption algorithms used in a PKCS #12 keystore have been updated. The new algorithms are based on AES-256 and SHA-256 and are stronger than the old algorithms that were based on RC2, DESede, and SHA-1. See the security properties starting with keystore.pkcs12 in the java.security file for detailed information.\n\nFor compatibility, a new system property named keystore.pkcs12.legacy is defined that will revert the algorithms to use the older, weaker algorithms.  There is no value defined for this property.\n</code></pre>\n"},{"answer_id":76265655,"body":"<p>The Keystore generation is different for Java v8 and Java v11.\nJava v8 produces keystore of the jks format and I guess Java v11 produces keystore of type PKCS12 with ethe extension .p12.</p>\n<p>What you could do is try converting the keystore of .jks format to .12 and try and vice versa. This might help.\nSyntax:\nTo convert a PKCS12 (.p12) keystore to a JKS (.jks) keystore, please run the following command:</p>\n<p><strong>keytool -importkeystore -srckeystore key.p12 -srcstoretype pkcs12 -destkeystore key.jks -deststoretype jks</strong></p>\n<p>where key.p12 is the name of the p12 file and key.jks is the name of the jks keystore to be created.</p>\n<p>The command to do the same is:\n<strong>keytool -importkeystore -srckeystore kafkatools.truststore.jks -srcstoretype pkcs12 -destkeystore trust.jks -deststoretype jks</strong></p>\n<p>This is what I used myself and got rid of the invalid keystore issue.</p>\n<p>Reference: <a href=\"https://knowledge.broadcom.com/external/article/151981/how-to-convert-a-pkcs12-p12-keystore-to.html\" rel=\"nofollow noreferrer\">https://knowledge.broadcom.com/external/article/151981/how-to-convert-a-pkcs12-p12-keystore-to.html</a></p>\n"},{"answer_id":76287532,"body":"<p>Here's another reason: If you have multiple JDK versions on your system and generate a keystore with one version but try to import it using a different version, you'll encounter the error. In my case, I used JDK 17 to create the keystore and JDK 8 to import it.</p>\n"}],"last_activity_date":1684486611,"question_id":1052700,"body":"<p>Does anyone know how to solve this?\nI tried many things, but none of them worked.</p>\n<p>And when I click more details I get this:</p>\n<pre><code>at sun.security.provider.JavaKeyStore.engineLoad(Unknown Source)\natsun.security.provider.JavaKeyStore$JKS.engineLoad(Unknown Source)\nat java.security.KeyStore.load(Unknown Source)\nat com.sun.deploy.security.RootCertStore$1.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat com.sun.deploy.security.RootCertStore.loadCertStore(Unknown Source)\nat com.sun.deploy.security.RootCertStore.load(Unknown Source)\nat com.sun.deploy.security.RootCertStore.load(Unknown Source)\nat com.sun.deploy.security.ImmutableCertStore.load(Unknown Source)\nat com.sun.deploy.security.TrustDecider.isAllPermissionGranted(Unknown Source)\nat com.sun.deploy.security.TrustDecider.isAllPermissionGranted(Unknown Source)\nat sun.plugin.security.PluginClassLoader.getPermissions(Unknown Source)\nat java.security.SecureClassLoader.getProtectionDomain(Unknown Source)\nat java.security.SecureClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.access$000(Unknown Source)\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(Unknown Source)\nat sun.applet.AppletClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.applet.AppletClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.applet.AppletClassLoader.loadCode(Unknown Source)\nat sun.applet.AppletPanel.createApplet(Unknown Source)\nat sun.plugin.AppletViewer.createApplet(Unknown Source)\nat sun.applet.AppletPanel.runLoader(Unknown Source)\nat sun.applet.AppletPanel.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"comments":[{"comment_id":26970262,"body":"If you didn&#39;t write the hashing function you&#39;re kinda stuck once you have everything in one <code>byte[]</code> if you want to avoid a copy. Why not read the hash from the network into one array and the data into another?"}],"answers":[{"comments":[{"comment_id":26969973,"body":"Thank you for your answer. Do you know if there is any way to do this without copying? My array can reach many megabytes so I would prefer to avoid copying if possible"},{"comment_id":26970194,"body":"The bytes in byte arrays cannot be reused by different arrays. You have the <code>ByteBuffer</code> class for this purpose. Alternatively, change your SHA1 function so that it accepts the offset and length for a slice in addition to the array."},{"comment_id":26970299,"body":"I don&#39;t think I can change my hash algo since it is javax.crypto.mac. I have no control on parameters passed to it."},{"comment_id":26970426,"body":"Use the <code>update(byte[],int,int)</code> method (<a href=\"http://docs.oracle.com/javase/7/docs/api/javax/crypto/Mac.html#update%28byte[],%20int,%20int%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/javax/crypto/&hellip;</a>)"}],"answer_id":18367574,"body":"<p>You can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#copyOfRange%28byte%5B%5D,%20int,%20int%29\" rel=\"noreferrer\"><code>Arrays.copyOfRange</code></a> method. For example:</p>\n\n<pre><code>// slice from index 5 to index 9\nbyte[] slice = Arrays.copyOfRange(myArray, 5, 10);\n</code></pre>\n"},{"comments":[{"comment_id":26969602,"body":"Basically, if the word <code>ByteBuffer</code> exists in your answer, it&#39;s a bad answer. See Joni&#39;s answer for the bast (and only acceptable IMHO) answer."},{"comment_id":26969667,"body":"I answered the OP&#39;s question, not an interpretation of his intent. In addition, If your answer doesn&#39;t have any content explaining the <i>why</i> things work, it&#39;s a bad answer."},{"comment_id":26969956,"body":"Yes, thank you for your answer. I am porting code from C and I don&#39;t have any copying there, only pointer manipulation so I was expecting something alike in Java. My array can reach many megabytes so copying is pretty wasteful"},{"comment_id":26970006,"body":"@Eric - Yeah, Java is ... different. If you trying to avoid the copy I&#39;d need more context on what the bytes represent and what you&#39;re trying to do with them."}],"answer_id":18367722,"body":"<p>The <code>ByteBuffer</code> you created is being backed by that array. When you call <code>slice()</code> you effectively receive a specific <em>view</em> of that data:</p>\n\n<blockquote>\n  <p>Creates a new byte buffer whose content is a shared subsequence of this buffer's content.</p>\n</blockquote>\n\n<p>So calling <code>array()</code> on that returned <code>ByteBuffer</code> returns the backing array in its entirety. </p>\n\n<p>To extract all the bytes from that view, you could do:</p>\n\n<pre><code>byte[] bytes = new byte[slicedBuf.remaining()];\nslicedBuf.read(bytes);\n</code></pre>\n\n<p>The bytes from that view would be copied to the new array. </p>\n\n<p><strong>Edit to add from comments below:</strong> It's worth noting that if all you're interested in doing is copying bytes from one <code>byte[]</code> to another <code>byte[]</code>, there's no reason to use a <code>ByteBuffer</code>; simply copy the bytes. </p>\n"},{"answer_id":76287520,"body":"<p>a more modern approach\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\">System.arraycopy</a></p>\n<pre><code>srcBuffer – the source array\nsrcPos – starting position in the source array\ndestBuffer – the destination array\ndestPos – starting position in the destination data\nlength – the number of array elements to be copied\n\n\nSystem.arraycopy(srcBuffer, srcPos, destBuffer, destPos, length);\n</code></pre>\n"}],"last_activity_date":1684486523,"question_id":18367539,"body":"<p>I'm trying to slice a byte array to prune the first part of the array. I'm using ByteBuffer but it does not behave like I would expect.</p>\n\n<pre><code>byte[] myArray = new byte[10];\nByteBuffer buf = ByteBuffer.wrap(myArray);\nbuf.position(5);\nByteBuffer slicedBuf = buf.slice();\nbyte[] newArray = slicedBuf.array();\n</code></pre>\n\n<p>I would expect the size of newArray to be 5, containing only the last portion of my ByteBuffer. Instead, the full byte array is returned. I understand that this is because the \"backing buffer\" is the same all along. </p>\n\n<p>How can I slice to have only the desired part of the array?</p>\n\n<p>EDIT: Added context</p>\n\n<p>The bytes are received from network. The buffer is formed like this :</p>\n\n<p><code>[ SHA1 hash ] [ data...  lots of it ]</code>  </p>\n\n<p>I already have a function that takes a byte array as a parameter and calculate the SHA1 hash. What I want is to slice the full buffer to pass only the data without the expected hash.</p>\n"},{"comments":[{"comment_id":134526669,"body":"Did you mean to use <code>outputLines.addAll</code> instead of assigning to <code>outputLines</code> (though that&#39;s probably not thread safe)? This seems like you should just <code>flatMap</code> instead of <code>forEach</code>."}],"answers":[{"answer_id":76287501,"body":"<p>Java lambdas only support references to final variables, refer to <a href=\"https://www.baeldung.com/java-lambda-effectively-final-local-variables\" rel=\"nofollow noreferrer\">this article on to why it is that way</a>.</p>\n<p>In your case you could simply do</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;String&gt; searchForText(List&lt;Path&gt; inputFiles, String SEARCH_TOKEN) {\n        final List&lt;String&gt; outputLines = new CopyOnWriteArrayList&lt;&gt;();\n        inputFiles.parallelStream().forEach(path -&gt; {\n            try (Stream&lt;String&gt; lines = Files.lines(path)) {\n                outputLines.clear();\n                outputLines.addAll(lines.filter(a -&gt; a.trim().contains(SEARCH_TOKEN)).collect(Collectors.toList()));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n\n        return outputLines;\n    }\n</code></pre>\n<p>Or if you want to stick with the variable reassignment you could also just use a normal for each loop, which of course wouldn't be parallel anymore, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;String&gt; searchForText(List&lt;Path&gt; inputFiles, String SEARCH_TOKEN) {\n        List&lt;String&gt; outputLines = new ArrayList&lt;&gt;();\n\n        for (Path path : inputFiles) {\n           try (Stream&lt;String&gt; lines = Files.lines(path)) {\n                outputLines = lines.filter(a -&gt; a.trim().contains(SEARCH_TOKEN)).collect(Collectors.toList());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return outputLines;\n    }\n</code></pre>\n"}],"last_activity_date":1684486386,"question_id":76286946,"body":"<p>I'm trying to search a string in the parallel stream of files. There is a compilation error at (outputLines =) this step. I'm unable to figure out the problem. Please help. I need to keep the code for inputFiles.parallelStream() and then for each I need to read the file line by line and then search for the string. I'm unable to do so. Please advise. Thank you.</p>\n<pre><code>    public List&lt;String&gt; searchForText(List&lt;Path&gt; inputFiles, String SEARCH_TOKEN) {\n        List&lt;String&gt; outputLines = new ArrayList&lt;&gt;();\n        inputFiles.parallelStream().forEach(path -&gt; {\n            try (Stream&lt;String&gt; lines = Files.lines(path)) {\n                outputLines = lines.filter(a -&gt; a.trim().contains(SEARCH_TOKEN)).collect(Collectors.toList());\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n\n        return outputLines;\n    }\n</code></pre>\n<p>I tried multiple ways to add the line to outputLines but as it is called inside the lambda expression it is forcing me to be final. When there are nested lambda expressions how to add to the list from outer lambda expression from inner lambda expression. Please advise.</p>\n"},{"answers":[{"answer_id":76287468,"body":"<p>Because fragments are not (re)created all the time. They're created and then reused. In order to have your textview change text appropriatelly, you need to use <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2.OnPageChangeCallback\" rel=\"nofollow noreferrer\">OnPageChangeCallback</a></p>\n<p>Something like this:</p>\n<pre><code>viewPager2.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n            super.onPageScrolled(position, positionOffset, positionOffsetPixels);\n        }\n\n        @Override\n        public void onPageSelected(int position) {\n            super.onPageSelected(position);\n\n            //your code\n            switch (position)\n            {\n                case 0:\n                {\n                    myTextView.setText(&quot;0&quot;);\n                    //return discover_page;\n                }\n                case 1:\n                {\n                    myTextView.setText(&quot;1&quot;);\n                    //return top_page;\n                }\n                case 2:\n                {\n                    myTextView.setText(&quot;2&quot;);\n                    //return friends_page;\n                }\n                //default: return null;\n            }\n        }\n\n        @Override\n        public void onPageScrollStateChanged(int state) {\n            super.onPageScrollStateChanged(state);\n        }\n    });\n</code></pre>\n"}],"last_activity_date":1684486119,"question_id":76287405,"body":"<p>I have a slight issue with the createFragment method in FragmentStateAdapter. I would expect that createFragment is called every time when fragment changes in ViewPager2. However, the createFragment is called only when the first fragment change occurs. Then the createFragment method is never called again.</p>\n<p>My code:</p>\n<pre><code> @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        switch (position)\n        {\n            case 0:\n            {\n                myTextView.setText(&quot;0&quot;);\n                return discover_page;\n            }\n            case 1:\n            {\n                myTextView.setText(&quot;1&quot;);\n                return top_page;\n            }\n            case 2:\n            {\n                myTextView.setText(&quot;2&quot;);\n                return friends_page;\n            }\n            default: return null;\n        }\n    }\n</code></pre>\n<p>In this code, the myTextView is set to &quot;2&quot; when the first fragment change occurs and never becomes anything else, even when fragments are being changed. Does anybody know why?</p>\n"},{"comments":[{"comment_id":134225568,"body":"You can <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html#defining_composite_builds\" rel=\"nofollow noreferrer\">define a composite build</a> that includes both your shared library and your application. This will use the classes built from the source over the one that can be downloaded from your repository."}],"answers":[{"answer_id":76254541,"body":"<blockquote>\n<p>So here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.</p>\n</blockquote>\n<p>You cannot avoid having common.jar, as soon as both Maven and Gradle dependency management handles each dependency as a separate jar file.</p>\n<p>What you can do is to create a parent <code>build.gradle</code> and include <code>common</code> module into it. In one of our projects we have the following structure:</p>\n<pre><code>root_dir/\n..common/\n.....src\n.....build.gradle\n..sql/\n.....src\n.....build.gradle\n..api/\n.....src\n.....build.gradle\n..build.gradle \n..settings.gradle\n</code></pre>\n<p>Here we created <code>settings.gradle</code> in root directory:</p>\n<pre><code>rootProject.name = 'parent'\ninclude(':common')\ninclude(':sql')\ninclude(':api')\n</code></pre>\n<p>Under the same directory we have parent <code>build.gradle</code> with properties and settings common for all submodules:</p>\n<pre><code>allprojects {\n  group = ''\n  version = '1.0-SNAPSHOT'\n}\n\next {\n  lombokVersion = '1.18.22'\n  springBootVersion = '2.6.3'\n}\n\nsubprojects {\n  apply plugin: 'java'\n  apply plugin: 'maven-publish'\n\n  repositories {\n    mavenLocal()\n    mavenCentral()\n  }\n  //common dependencies\n  dependencies {\n    compileOnly &quot;org.projectlombok:lombok:$lombokVersion&quot;\n    annotationProcessor &quot;org.projectlombok:lombok:$lombokVersion&quot;\n\n    implementation platform(&quot;org.springframework.boot:spring-boot-dependencies:$springBootVersion&quot;)\n  }\n\n  sourceCompatibility = 17\n\n  test {\n    useJUnitPlatform()\n  }\n}\n</code></pre>\n<p>Then we have <code>:common</code> and <code>:sql</code> modules, both are dependencies for <code>:api</code> module.</p>\n<p>In the <code>build.gradle</code> of <code>:api</code> module we juwt specify dependencies:</p>\n<pre><code>dependencies {\n  implementation project(':sql')\n  implementation project(':common')\n  //...\n}\n</code></pre>\n<p>This structure allows IDEA to import <code>common</code> project as a submodule and all changes to the code of that module will be automatically picked up and analyzed. So if you refactor or rename a property in POJO in <code>:common</code> module  IDEA finds all its usages in <code>:api</code> module and refactors/renames them as well.</p>\n"},{"answer_id":76282209,"body":"<p>While one way is with a <a href=\"https://docs.gradle.org/current/userguide/multi_project_builds.html\" rel=\"nofollow noreferrer\">multi-module gradle build</a>, this is not helpful when the individual microservices are split across multiple repos, each with their own repos and <code>build.gradle</code>.</p>\n<p>In this case, there are additional options, each with their own caveats.</p>\n<h2>mavenLocal</h2>\n<p>You can publish your <code>common.jar</code> to your maven local with something like <a href=\"https://stackoverflow.com/questions/42765113/how-to-publish-source-into-local-maven-repository-with-gradle\">this</a>.</p>\n<p>This works well if you only have a single development machine, otherwise, each developer will have to publish to local as well.  Also, for distribution, you would have to bundle <code>common.jar</code> into the final jar, which you are likely doing already since it is included locally.</p>\n<p>This approach would at least prevent you from having to copy/paste.</p>\n<h2>Run a maven server</h2>\n<p>Or, of course, you could run a maven on some machine all your devices have access to.  <a href=\"https://www.sonatype.com/products/sonatype-nexus-repository\" rel=\"nofollow noreferrer\">Nexus</a> works well.  There are others.</p>\n<p>This requires a dedicated &quot;server&quot; of some kind to run this.  Might not work in all envs, but might be something worth investing in.</p>\n<h2>Gradle Task</h2>\n<p>And, of course, as a 'low-tech' solution, if you have a common directory structure and always work out of a workspace where you have all your other repos, you can have a task in the <code>common</code>'s Gradle build that after building the jar simply copies the build artifact to the other repos based on known paths and a list of repos to update.</p>\n<p>While potentially brittle, you could even perform git commands on those folders and prepare commits to add the changed file. YMMV on this, though, as it has plenty of its own pitfalls.</p>\n<p>This requires all repos to be cloned, in the same relative paths, but has the advantage of simply removing the manual effort.</p>\n<h2>Scripting</h2>\n<p>And, of course, there's no reason you have to use Gradle to do the above.  If can't use a multi-module build, and you can't use any of the other tasks, consider writing a script (bash, pwsh, python, etc), and at take advantage of some automation.</p>\n<p>Yes, it has the pitfalls of the above, but it is simpler than doing a lot of manual tasks over and over, all of which have the potential of being skipped, forgotten, etc.</p>\n"},{"answer_id":76287450,"body":"<p>I am not sure what you mean by:</p>\n<blockquote>\n<p>then build copy that jar to other micro services</p>\n</blockquote>\n<p>When you create a new version of common jar, you should have a pipeline that puts it in some artifactory/nexus from where other dependent micro services can pick up the new version automatically.</p>\n<p>What you can also do is instruct the micro services to look for the latest, or the latest version of a major release of that common library when they build</p>\n<p>e.g. <code>com.boa.dart:funding-common:23.+</code> will pick the latest version with the major version 23 (as long as you maintain backwards compatibility in each major version this can work).</p>\n"}],"last_activity_date":1684486105,"question_id":76109149,"body":"<p>We have multiple micro services dependent on a common code(common.jar) which is a separate project(repo).\nCurrently common code(common.jar) is included as dependent jar in all micro services.</p>\n<pre><code>gradle.properties:\nimplementation (&quot;com.boa.dart:funding-common:23.5.1.108&quot;)  --&gt; Prod configuration\nimplementation files(&quot;libs/funding-common.23.5.1.108.jar&quot;) --&gt; Local configuration\n</code></pre>\n<p>As all micro services dependent on common project, development is taking much time when there is any change required in &quot;Common Project&quot;.\nFirst we need to do code change in &quot;Common project&quot;, then build copy that jar to other micro services, then build each individual micro service.</p>\n<p>But look like we can have lot of improvement in this process.</p>\n<p>So here my question is how can I use &quot;Common Project&quot; in all micro services without generating common.jar.</p>\n<blockquote>\n<p>Here are TechStack: We are using gradle as a build tool.\nSpring Boot for micro Services.\nIntelliJ as IDE.</p>\n</blockquote>\n"},{"comments":[{"comment_id":134527338,"body":"Please use PascalCase to create classes in Java.... <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">reference</a>"}],"answers":[{"answer_id":76287464,"body":"<p>It doesn't dismiss because you are creating a different <code>AlertDialog</code> every time you get on the <code>onReceive</code> so you should store a variable in the <code>NetworkDetector</code> class.</p>\n<pre><code>public class network_detector extends BroadcastReceiver {\n\n    private AlertDialog dialog;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n         if (dialog != null) {\n            boolean isConnected = networkClass.isConnectedToInternet(context);\n            if (isConnected) {\n                dialog.dismiss();\n                dialog = null;\n            } else if (!dialog.isShowing()) {\n                showNoInternetDialog(context);\n            }\n        } else {\n            showNoInternetDialog(context);\n        }\n\n}\n\n\n    private void showNoInternetDialog(Context context) {\n        View alertdialogView = LayoutInflater.from(context).inflate(R.layout.network_dialog, null);\n        AlertDialog.Builder dialogBuilder = new AlertDialog.Builder(context);\n        dialogBuilder.setView(alertdialogView);\n\n        dialog = dialogBuilder.create();\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n\n        dialog.setCancelable(false);\n        dialog.show();\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684486102,"question_id":76287245,"body":"<p>I want to check if the internet is connected and show a <code>dialog</code> if it is not. This is my code:</p>\n<p><strong>network_class.java</strong></p>\n<pre><code> public class network_class {\n    public static boolean isConnectedToInternet(Context context){\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n        if (activeNetwork != null) {\n            if (activeNetwork.getType() == ConnectivityManager.TYPE_WIFI) {\n                return true;\n            }\n            else if(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n<p><strong>network_detector.java</strong></p>\n<pre><code>public class network_detector extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        View alertdialog_1 = LayoutInflater.from(context).inflate(R.layout.network_dialog,null);\n        AlertDialog.Builder dialog_1 = new AlertDialog.Builder(context);\n        dialog_1.setView(alertdialog_1);\n\n        AlertDialog dialog = dialog_1.create();\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n\n        dialog.setCancelable(false);\n        if(network_class.isConnectedToInternet(context)){\n            if(dialog.isShowing())\n                dialog.cancel();\n        }\n        else\n            dialog.show();\n    }\n}\n</code></pre>\n<p>After that, I am using the receiver in my <code>MainActivity</code>:</p>\n<pre><code>network_detector detector = new network_detector();\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    //some irrelevant code here\n}\n\n@Override\nprotected void onStart() {\n    IntentFilter intentFilter = new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION);\n    registerReceiver(detector,intentFilter);\n    super.onStart();\n}\n\n@Override\nprotected void onStop() {\n    unregisterReceiver(detector);\n    super.onStop();\n}\n</code></pre>\n<p>While the application is running in my device, when I switch off the internet the dialog shows (which is correct), and then again when I switch on the internet, strangely enough the dialog still keeps on showing. Why is that? Where am I going wrong?</p>\n<p><strong>EDIT:</strong> These permissions are there in my <code>manifest</code>:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"last_activity_date":1684486008,"question_id":76287451,"body":"<p>Today, I learned how to implement the gateway for my current project, using the Spring Cloud Gateway</p>\n<p>Found a configuration in the configuration file that is:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n cloud:\n    gateway:\n      predicate:\n        read-body:\n          enabled: true\n</code></pre>\n<p>After reviewing Spring's official website document, I couldn't find a very useful description, only saw one sentence:\n<a href=\"https://i.stack.imgur.com/EGRtK.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nAt first, I thought it was a use of ReadBodyPredicteFactory, but this PredicteFactory already has a way of using it:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>predicates:\n   - Path=/**\n   - name: ReadBodyPredicateFactory\n</code></pre>\n<p>When writing my own demo and trying to use read-body, there will also be a prompt message:\nCannot resolve configuration property 'spring.cloud.gateway.predicate.read-body.enabled'</p>\n<p>So what exactly is read-body used for</p>\n<p>I would like to know how to use this configuration property</p>\n"},{"comments":[{"comment_id":134527523,"body":"This could only be configured via the log framework, log4j for example"},{"comment_id":134529294,"body":"Maybe this helps:  <a href=\"https://github.com/quickfix-j/quickfixj/discussions/558\" rel=\"nofollow noreferrer\">github.com/quickfix-j/quickfixj/discussions/558</a>"}],"last_activity_date":1684485919,"question_id":76287441,"body":"<p>When running a Java application with QuickFix/J library, is it possible to configure the Quickfix/J logs to be archived every midnight (or when we reach a certain size)? and to delete the logs when the max number of logs reaches x log files?</p>\n<p>Similar behavior as logback for Java spring boot logs for example...</p>\n"},{"comments":[{"comment_id":86067995,"body":"{ is missing in  quotes"},{"comment_id":86073890,"body":"You did not share the full code what exactly you are doing. Did you test your code if it is working with master realm or not?"}],"answers":[{"comments":[{"comment_id":86068794,"body":"I have used the above code still the exception is there"}],"answer_id":49530927,"body":"<p>Use the below line of code</p>\n\n<pre><code> RoleRepresentation testerRealmRole =\n realmResource.roles().get(\"{rolename}\").toRepresentation();\n</code></pre>\n"}],"last_activity_date":1684485628,"question_id":49530670,"body":"<p>I am trying to create the users in keycloak from java application. I am able to create users and also assign roles to the newly created users in the master realm. I have created my own realm and also added some roles in the newly created realm. While adding the users and assigning roles to the newly created users I am getting the below exception<br>\n<code>javax.ws.rs.ForbiddenException: HTTP 403 Forbidden</code></p>\n\n<p>I am getting an exception in the below line<br>\n<code>RoleRepresentation testerRealmRole = realmResource.roles().get(\"rolename}\").toRepresentation();</code></p>\n\n<p>I have created the {rolename} in the realm. I am not able to find what is missing. Please, anyone, help me. Thanks in advance</p>\n"},{"comments":[{"comment_id":134527404,"body":"Show your password from your database table."},{"comment_id":134527424,"body":"Make sure that passwords saved in db are encoded with bcrypt. This <a href=\"https://stackoverflow.com/questions/49582971/encoded-password-does-not-look-like-bcrypt\">question</a> should help with more in depth information."},{"comment_id":134529434,"body":"Please remove swearing from the code."}],"last_activity_date":1684485357,"question_id":76287372,"body":"<p>i want to authenticate the admin in spring boot using spring security and i wanted to be as simple as possible just so that the admin can go to the dashboard page iam using an oracle database that has the users table that contains userid, password, and username and the role table that contains roleid and rolename and user_role table that contains userid and roleid . and the length of the “password” column is over 60.</p>\n<p>this is my code for the config class:</p>\n<pre><code>import javax.sql.DataSource;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.*;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.*;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\n\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfiguration  extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    public void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n        auth.jdbcAuthentication().passwordEncoder(new BCryptPasswordEncoder())\n                .dataSource(dataSource)\n                .usersByUsernameQuery(&quot;select username, password, enabled from users where username=?&quot;)\n                .authoritiesByUsernameQuery(&quot;SELECT  users.username as username, roles.rolename as role \\n&quot; +\n                        &quot;        FROM users \\n&quot; +\n                        &quot;        INNER JOIN user_role ON users.userid = user_role.userid \\n&quot; +\n                        &quot;        INNER JOIN roles ON user_role.roleid = roles.roleid \\n&quot; +\n                        &quot;        WHERE users.username= ?  &quot;)\n        ;\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n                .antMatchers(&quot;/FuckingWork&quot;).access(&quot;hasRole('ROLE_ADMIN')&quot;)\n\n                .anyRequest().authenticated()\n                .and()\n                .formLogin().permitAll()\n                .and()\n                .logout().permitAll();\n    }\n}\n</code></pre>\n<p>thisthe password generator</p>\n<pre><code>package com.example.knight.Config;\n\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\n\nimport java.sql.SQLOutput;\n\npublic class PasswordGenerator {\n    public static void  main(String[] args){\n        BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\n        String rawPassword =&quot;1234&quot;;\n        String encodePassword = encoder.encode(rawPassword);\n        System.out.println(encodePassword );\n\n    }\n}\n</code></pre>\n<p>it gives this error : Encoded password does not look like BCrypt\ncan someone please tell me whats wrong i really need help iam a student and this for my final project and iam short on time</p>\n"},{"comments":[{"comment_id":134514612,"body":"Please create and post a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, code that is small, that we can compile and run without change and that demonstrates the problem. The link will explain what this is and how it can help you and us."},{"comment_id":134514814,"body":"Side note -- if dealing with the GUI display of a list, you may want to consider using a JList or JTable (depending on how many columns of information are required per row) instead of a JTextArea. This does not explain the source of your current problem, and again, for that a decent <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post would help greatly."},{"comment_id":134517713,"body":"So your question is about the JTextArea and the size of the text in the text area. So your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should only include the frame with the text area. This will isolate if the problem is with the text area or some other part of your application."}],"last_activity_date":1684485101,"question_id":76279966,"body":"<p>I am trying to develop a GUI where a window appears whose functionality is as follows: the window allows you to enter a number that will indicate the size of the list that will be generated automatically. In addition, there is a &quot;Sort&quot; button that, once there is a generated list, sorts the list in ascending order using 2 different algorithms.</p>\n<p>My problem is that when I enter (for example) 5000 as the size of the list, the array is generated correctly, but in the JTextArea the characters of the numbers overlap and it doesn't look correct. How can I fix it?</p>\n<p>This is my Panel code:</p>\n<pre><code>package EventProgramming;\n\nimport javax.swing.*;\n\nimport java.awt.*;\nimport java.awt.event.*;\npublic class Panel extends JPanel {\n\n    /**\n     * \n     */\n    // some other atributtes ...\n    private JTextArea area = new JTextArea(20,35); // A text area (JTextArea area) where the random list generated after pressing the &quot;Create&quot; button is displayed.\n    private JTextArea areaSelection = new JTextArea(20,35);\n    private JTextArea areaBubble = new JTextArea(20,35);\n    private JProgressBar progress = new JProgressBar(0,100);\n    private JProgressBar progressSelection = new JProgressBar(0,100);\n    private JProgressBar progressBubble = new JProgressBar(0,100);\n\n    private JLabel messageArea = new JLabel(&quot;&quot;);\n    private JLabel messageAreaSelection = new JLabel(&quot;&quot;);\n    private JLabel messageAreaBubble = new JLabel(&quot;&quot;);\n    private JLabel comment = new JLabel(&quot;GUI created&quot;);\n    \n    public Panel() {\n        this.setLayout(new BorderLayout());\n        comment.setForeground(Color.RED);\n        setCreateButton();\n        setSortButton();\n        setCancelButton();\n        disableSortButton();\n        disableCancelButton();\n        JPanel topRow=new JPanel();\n        topRow.add(label);\n        topRow.add(size);\n        topRow.add(createButton);\n        topRow.add(sortButton);\n        topRow.add(cancelButton);\n        \n        \n        this.add(topRow,BorderLayout.NORTH);\n        \n        JPanel center = new JPanel();\n        JPanel c1=new JPanel();\n        c1.setLayout(new BorderLayout());\n        JScrollPane scrol1 = new JScrollPane(area);\n        scrol1.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        scrol1.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n        c1.add(scrol1,BorderLayout.CENTER);\n        JPanel c11 = new JPanel();\n        c11.setLayout(new GridLayout(3,1));\n        c11.add(new JLabel(&quot;Array to be sorted&quot;));\n        c11.add(progress);\n        c11.add(messageArea);\n        c1.add(c11,BorderLayout.SOUTH);\n        \n        JPanel c2=new JPanel();\n        c2.setLayout(new BorderLayout());\n        JScrollPane scrol2 = new JScrollPane(this.areaSelection);\n        scrol2.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        scrol2.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n        c2.add(scrol2,BorderLayout.NORTH);\n        JPanel c21 = new JPanel();\n        c21.setLayout(new GridLayout(3,1) );\n        c21.add((new JLabel(&quot;Selection sort&quot;)));\n        c21.add(progressSelection);\n        c21.add(messageAreaSelection);\n        c2.add(c21,BorderLayout.SOUTH);\n        \n        \n        JPanel c3=new JPanel();\n        c3.setLayout(new BorderLayout());\n        JScrollPane scrol3 = new JScrollPane(this.areaBubble);\n        scrol3.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        scrol3.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_ALWAYS);\n        c3.add(scrol3,BorderLayout.NORTH);\n        JPanel c31 = new JPanel();\n        c31.setLayout(new GridLayout(3,1) );\n        c31.add((new JLabel(&quot;Bubble sort&quot;)));\n        c31.add(progressBubble);\n        c31.add(messageAreaBubble);\n        c3.add(c31,BorderLayout.SOUTH);\n\n        \n        center.add(c1);\n        center.add(c2);\n        center.add(c3);\n        this.add(center,BorderLayout.CENTER);\n        this.add(comment,BorderLayout.SOUTH);\n\n        //maybe comment\n        progress.setStringPainted(true);\n        progressSelection.setStringPainted(true);\n        progressBubble.setStringPainted(true);\n    }\n\n    // im just showing the functions according to the JTextArea's ...\n\n    \n    \n\n    public void changeTextArrayGeneral (String str) {\n        area.setText(str);\n    }\n\n    public void changeTextSelection(String str) {\n        areaSelection.setText(str);\n    }\n\n    public void changeTextBubble (String str) {\n        areaBubble.setText(str);\n    }\n    \n}\n\n</code></pre>\n<p>........................</p>\n<p>This is how it is shown the window when the list size is 5000:</p>\n<p><a href=\"https://i.stack.imgur.com/D6xMW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6xMW.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":53451125,"body":"This completely depends on database. Different database may use different algorithms for isolation levels. Some may use MVCC (no locks on select queries), some use strict 2 phase locking (shared and exclusive locks)."}],"answers":[{"comments":[{"comment_id":43001911,"body":"<a href=\"https://docs.oracle.com/cd/B12037_01/server.101/b10743/consist.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/B12037_01/server.101/b10743/consist.htm</a>                    Just to add for Oracle : One can set the isolation level of a transaction by using one of these statements at the beginning of a transaction:  SET TRANSACTION ISOLATION LEVEL READ COMMITTED;    SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;    SET TRANSACTION READ ONLY;"},{"comment_id":43001952,"body":"Moreover, to save the networking and processing cost of beginning each transaction with a SET TRANSACTION statement, you can use the ALTER SESSION statement to set the transaction isolation level for all subsequent transactions : ALTER SESSION SET ISOLATION_LEVEL SERIALIZABLE;                  ALTER SESSION SET ISOLATION_LEVEL READ COMMITTED;"},{"comment_id":47796554,"body":"I&#39;d like to mention, that the main problem of READ COMMITED refers not to returning stale data on select, but to concurrent update races, when thread C cannot commit because A has changed data in the middle of C&#39;s transaction. That needs special treatment on design level, opposite to SERIALIZABLE, where transactions cannot overlap."},{"comment_id":52220465,"body":"Regarding REPEATABLE READ - I think a better example to demonstrate it is as follows: B starts a transaction, read data on block of sql WHERE aField &gt; 10 AND aField &lt; 20, that data is locked until transaction ends. A tries to update that data but waits because of the lock. Now when B will read that data again in that same transaction it&#39;s guaranteed to read the same data, because it&#39;s locked. Correct me if I&#39;m wrong."},{"comment_id":52589368,"body":"@BornToCode you&#39;re wrong. The example is right, if B executes the same query again, it will read the changes made by A. This is known as phantom read."},{"comment_id":53450888,"body":"@LuiggiMendoza It depends on DB. For example, in MySQL, there wont be any locks acquired for REPEATABLE READ, but MySQL uses MVCC to return same data on select statements in transaction."},{"comment_id":53450955,"body":"@LuiggiMendoza Answer is misleading"},{"comment_id":53454171,"body":"@brbtea that&#39;s the general concept about isolation level. To say that MySQL implements it different from other vendors is like asking why Oracle supports <code>NVL</code> when MySQL doesn&#39;t. I&#39;m not talking about a specific vendor for the isolation level, but if you want to do it, then please post such answer."},{"comment_id":53454304,"body":"@LuiggiMendoza As general concept, isolation levels are just about <i>Dirty Read</i>, <i>Non-Repeatable Read</i> and <i>Phantom Rows</i>. Locks (S2PL) or MVCC are implementations for different vendors."},{"comment_id":53964736,"body":"@LuiggiMendoza - I wasn&#39;t accurate, it should be like this - the data that B read is not changed, but consequent selects made by B could return more rows. That&#39;s because <b>A cannot modify rows that B already read</b>, until A releases them. However A can <b>insert new rows that qualify the where condition</b> (and therefore next time A will execute a select it&#39;ll get a different result with more rows - a phantom read)."},{"comment_id":115867612,"body":"@BornToCode in your comment &quot;until A releases them&quot;, do you mean &quot;until B releases them&quot;?"},{"comment_id":115881969,"body":"@NitinBansal - Yes, it was typo. It should be &quot;<b>A cannot modify rows that B already read</b>, until B releases them&quot;."}],"answer_id":16162426,"body":"<blockquote>\n  <p><strong>I want to understand</strong> the lock each transaction isolation takes on the table</p>\n</blockquote>\n\n<p>For example, you have 3 concurrent processes A, B and C. A starts a transaction, writes data and commit/rollback (depending on results). B just executes a <code>SELECT</code> statement to read data. C reads and updates data. All these process work on the same table T.</p>\n\n<ul>\n<li><strong>READ UNCOMMITTED</strong> - no lock on the table. You can read data in the table while writing on it. This means A writes data (uncommitted) and B can read this uncommitted data and use it (for any purpose). If A executes a rollback, B still has read the data and used it. This is the fastest but most insecure way to work with data since can lead to data holes in not physically related tables (yes, two tables can be logically but not physically related in real-world apps =\\).</li>\n<li><strong>READ COMMITTED</strong> - lock on committed data. You can read the data that was only committed. This means A writes data and B can't read the data saved by A until A executes a commit. The problem here is that C can update data that was read and used on B and B client won't have the updated data.</li>\n<li><strong>REPEATABLE READ</strong> - lock on a block of SQL(which is selected by using select query). This means B reads the data under some condition i.e. <code>WHERE aField &gt; 10 AND aField &lt; 20</code>, A inserts data where <code>aField</code> value is between 10 and 20, then B reads the data again and get a different result.</li>\n<li><strong>SERIALIZABLE</strong> - lock on a full table(on which Select query is fired). This means, B reads the data and <strong>no other transaction can modify the data</strong> on the table. This is the most secure but slowest way to work with data. Also, since a simple read operation locks <strong>the table</strong>, this can lead to heavy problems on production: imagine that T table is an Invoice table, user X wants to know the invoices of the day and user Y wants to create a new invoice, so while X executes the read of the invoices, Y can't add a new invoice (and when it's about money, people get really mad, especially the bosses). </li>\n</ul>\n\n<blockquote>\n  <p><strong>I want to understand</strong> where we define these isolation levels: only at JDBC/hibernate level or in DB also</p>\n</blockquote>\n\n<p>Using JDBC, you define it using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/Connection.html#setTransactionIsolation(int)\" rel=\"noreferrer\"><code>Connection#setTransactionIsolation</code></a>.</p>\n\n<p>Using Hibernate:</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.isolation\"&gt;2&lt;/property&gt;\n</code></pre>\n\n<p>Where</p>\n\n<ul>\n<li>1: READ UNCOMMITTED</li>\n<li>2: READ COMMITTED</li>\n<li>4: REPEATABLE READ</li>\n<li>8: SERIALIZABLE</li>\n</ul>\n\n<p>Hibernate configuration is taken from <a href=\"http://federicovarela.blogspot.com/2008/01/isolation-level-en-hibernate.html\" rel=\"noreferrer\">here</a> (sorry, it's in Spanish).</p>\n\n<p>By the way, you can set the isolation level on RDBMS as well:</p>\n\n<ul>\n<li><a href=\"http://dev.mysql.com/doc/refman/5.0/en/set-transaction.html\" rel=\"noreferrer\">MySQL isolation level</a>, </li>\n<li><a href=\"http://msdn.microsoft.com/en-us/library/ms173763(v=sql.110).aspx\" rel=\"noreferrer\">SQL Server isolation level</a></li>\n<li><a href=\"http://publib.boulder.ibm.com/infocenter/idshelp/v10/index.jsp?topic=/com.ibm.sqlt.doc/sqltmst239.htm\" rel=\"noreferrer\">Informix isolation level</a> (Personal Note: I will never forget about <code>SET ISOLATION TO DIRTY READ</code> sentence.)</li>\n</ul>\n\n<p>and on and on...</p>\n"},{"answer_id":31818012,"body":"<p>The locks are always taken at DB level.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/transactions.html\" rel=\"nofollow noreferrer\">Oracle official document</a>:</p>\n<blockquote>\n<p>To avoid conflicts during a transaction, a DBMS uses locks, mechanisms for blocking access by others to the data that is being accessed by the transaction. (Note that in auto-commit mode, where each statement is a transaction, locks are held for only one statement.) After a lock is set, it remains in force until the transaction is committed or rolled back. For example, a DBMS could lock a row of a table until updates to it have been committed. The effect of this lock would be to prevent a user from getting a dirty read, that is, reading a value before it is made permanent. (Accessing an updated value that has not been committed is considered a <em>dirty read</em> because it is possible for that value to be rolled back to its previous value. If you read a value that is later rolled back, you will have read an invalid value.)</p>\n<p>How locks are set is determined by what is called a transaction isolation level, which can range from not supporting transactions at all to supporting transactions that enforce very strict access rules.</p>\n<p>One example of a transaction isolation level is <code>TRANSACTION_READ_COMMITTED</code>, which will not allow a value to be accessed until after it has been committed. In other words, if the transaction isolation level is set to <code>TRANSACTION_READ_COMMITTED</code>, the DBMS does not allow dirty reads to occur. The interface <code>Connection</code> includes five values that represent the transaction isolation levels you can use in JDBC</p>\n</blockquote>\n"},{"answer_id":35019843,"body":"<p>As brb tea says, depends on the database implementation and the algorithm they use: MVCC or Two Phase Locking.</p>\n\n<p>CUBRID (open source RDBMS) <a href=\"http://www.cubrid.org/blog/cubrid-life/all-about-two-phase-locking-and-a-little-bit-mvcc/\" rel=\"noreferrer\">explains</a> the idea of this two algorithms:</p>\n\n<blockquote>\n  <ul>\n  <li>Two-phase locking (2PL)</li>\n  </ul>\n  \n  <p>The first one is when the T2 transaction tries to change the A record,\n  it knows that the T1 transaction has already changed the A record and\n  waits until the T1 transaction is completed because the T2 transaction\n  cannot know whether the T1 transaction will be committed or rolled\n  back. This method is called Two-phase locking (2PL).</p>\n  \n  <ul>\n  <li>Multi-version concurrency control (MVCC)</li>\n  </ul>\n  \n  <p>The other one is to allow each of them, T1 and T2 transactions, to\n  have their own changed versions. Even when the T1 transaction has\n  changed the A record from 1 to 2, the T1 transaction leaves the\n  original value 1 as it is and writes that the T1 transaction version\n  of the A record is 2. Then, the following T2 transaction changes the A\n  record from 1 to 3, not from 2 to 4, and writes that the T2\n  transaction version of the A record is 3.</p>\n  \n  <p>When the T1 transaction is rolled back, it does not matter if the 2,\n  the T1 transaction version, is not applied to the A record. After\n  that, if the T2 transaction is committed, the 3, the T2 transaction\n  version, will be applied to the A record. If the T1 transaction is\n  committed prior to the T2 transaction, the A record is changed to 2,\n  and then to 3 at the time of committing the T2 transaction. The final\n  database status is identical to the status of executing each\n  transaction independently, without any impact on other transactions.\n  Therefore, it satisfies the ACID property. This method is called\n  Multi-version concurrency control (MVCC).</p>\n</blockquote>\n\n<p>The MVCC allows concurrent modifications at the cost of increased overhead in memory (because it has to maintain different versions of the same data) and computation (in REPETEABLE_READ level you can't loose updates so it must check the versions of the data, like Hiberate does with <a href=\"http://docs.jboss.org/hibernate/orm/5.0/manual/en-US/html/ch13.html#transactions-optimistic\" rel=\"noreferrer\">Optimistick Locking</a>).</p>\n\n<p>In 2PL <a href=\"https://msdn.microsoft.com/en-us/library/ms378149%28v=sql.110%29.aspx\" rel=\"noreferrer\">Transaction isolation levels control the following</a>:</p>\n\n<blockquote>\n  <ul>\n  <li><p>Whether locks are taken when data is read, and what type of locks are requested.</p></li>\n  <li><p>How long the read locks are held.</p></li>\n  <li><p>Whether a read operation referencing rows modified by another transaction:</p>\n  \n  <ul>\n  <li><p>Block until the exclusive lock on the row is freed.</p></li>\n  <li><p>Retrieve the committed version of the row that existed at the time the statement or transaction started.</p></li>\n  <li><p>Read the uncommitted data modification.</p></li>\n  </ul></li>\n  </ul>\n  \n  <p>Choosing a transaction isolation level does not affect the locks that\n  are acquired to protect data modifications. A transaction always gets\n  an exclusive lock on any data it modifies and holds that lock until\n  the transaction completes, regardless of the isolation level set for\n  that transaction. For read operations, transaction isolation levels\n  primarily define the level of protection from the effects of\n  modifications made by other transactions.</p>\n  \n  <p><strong>A lower isolation level increases the ability of many users to access\n  data at the same time, but increases the number of concurrency\n  effects</strong>, such as dirty reads or lost updates, that users might\n  encounter.</p>\n</blockquote>\n\n<p>Concrete examples of the relation between locks and isolation levels in <a href=\"https://msdn.microsoft.com/en-us/library/ms173763.aspx\" rel=\"noreferrer\">SQL Server</a> (use 2PL except on READ_COMMITED with READ_COMMITTED_SNAPSHOT=ON)</p>\n\n<ul>\n<li><p>READ_UNCOMMITED: do not issue shared locks to prevent other transactions from modifying data read by the current transaction. READ UNCOMMITTED transactions are also not blocked by exclusive locks that would prevent the current transaction from reading rows that have been modified but not committed by other transactions. [...]</p></li>\n<li><p>READ_COMMITED: </p>\n\n<ul>\n<li>If READ_COMMITTED_SNAPSHOT is set to OFF (the default): uses shared locks to prevent other transactions from modifying rows while the current transaction is running a read operation. The shared locks also block the statement from reading rows modified by other transactions until the other transaction is completed. [...]  Row locks are released before the next row is processed. [...]</li>\n<li>If READ_COMMITTED_SNAPSHOT is set to ON, the Database Engine uses row versioning to present each statement with a transactionally consistent snapshot of the data as it existed at the start of the statement. Locks are not used to protect the data from updates by other transactions.</li>\n</ul></li>\n<li><p>REPETEABLE_READ: Shared locks are placed on all data read by each statement in the transaction and are held until the transaction completes.</p></li>\n<li><p>SERIALIZABLE: Range locks are placed in the range of key values that match the search conditions of each statement executed in a transaction. [...] The range locks are held until the transaction completes.</p></li>\n</ul>\n"},{"answer_id":76287312,"body":"<p>Regarding READ COMMITTED -  I think a better example to demonstrate it is as follows：</p>\n<p>Assume:\ndata a =10;\nThread A ，B，C</p>\n<ol>\n<li>A execute A = A+1 ==》 A = 11 ;\nIn the meantime，B and C tries to update that data but waits because of the lock.</li>\n<li>A commit data after ,B query A = 11 , In the meantime ,C update A = A +1 = 12,  The problem here that is B query A = 12 again，Two queries with inconsistent data in the same transaction</li>\n</ol>\n<p>Correct me if I'm wrong.</p>\n"}],"last_activity_date":1684484828,"question_id":16162357,"body":"<p>I have read about 4 levels of isolation:</p>\n\n<pre><code>Isolation Level       Dirty Read    Nonrepeatable Read  Phantom Read  \nREAD UNCOMMITTED      Permitted       Permitted           Permitted\nREAD COMMITTED              --        Permitted           Permitted\nREPEATABLE READ             --             --             Permitted\nSERIALIZABLE                --             --              --\n</code></pre>\n\n<p><strong>I want to understand</strong> the lock each transaction isolation takes on the table  </p>\n\n<pre><code>READ UNCOMMITTED - no lock on table\nREAD COMMITTED - lock on committed data\nREPEATABLE READ - lock on block of sql(which is selected by using select query)\nSERIALIZABLE - lock on full table(on which Select query is fired)\n</code></pre>\n\n<p>below are the three phenomena which can occur in transaction isolation\n<br>\n<i>Dirty Read</i>- no lock\n<br>\n<i>Nonrepeatable Read</i> - no dirty read as lock on committed data\n<br>\n<i>Phantom Read</i> - lock on block of sql(which is selected by using select query)  </p>\n\n<p><strong>I want to understand</strong> where we define these isolation levels : only at jdbc/hibernate level or in DB also  </p>\n\n<p>PS: I have gone through the links in <a href=\"https://stackoverflow.com/questions/13647604/isolation-levels-in-oracle\">Isolation levels in oracle</a>, but they looks clumsy and talk on database specific </p>\n"},{"comments":[{"comment_id":134449351,"body":"This is not a problem with OpenGL itself or with the OpenGL API."},{"comment_id":134449375,"body":"Does this help? <code>import static fully.qualified.path.GL11.*;</code>"}],"answers":[{"answer_id":76287286,"body":"<p>To reference static methods with qualifying them with the class name, eg <code>glEnable(x)</code> instead of <code>GL11.glEnable(x)</code>, you must import the static methods, either individually or all of them:</p>\n<pre><code>import static fully.qualified.path.GL11.*;\n</code></pre>\n"}],"last_activity_date":1684484596,"question_id":76241169,"body":"<p>i am new here and have a little problem.\nI included OpenGl into eclipse and tried to run a little test program and everything is working fine as it should, but i have a problem with the syntax.</p>\n<p>Here is a little example :</p>\n<pre><code>GL11.glEnable(GL11.GL_DEPTH_TEST);\nGL11.glMatrixMode(GL11.GL_PROJECTION);\nGL11.glLoadIdentity();\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f,1000f);\nGL11.glMatrixMode(GL11.GL_MODELVIEW);\n</code></pre>\n<p>As far as i remember i didnt have to call the GL version everytime and should look like this :</p>\n<pre><code>glEnable(GL_DEPTH_TEST);\nglMatrixMode(GL_PROJECTION);\nglLoadIdentity();\nGLU.gluPerspective(45, (float)Display.getWidth()/(float)Display.getHeight(), 0.3f, 1000f);\nglMatrixMode(GL_MODELVIEW);\n</code></pre>\n<p>I havnt found any answer out there because for everyone it seems to work from scratch. I start to believe that i did a mistake while including opengl into eclipse but i did it like i did it back at university.</p>\n<p><a href=\"https://i.stack.imgur.com/2HLfX.png\" rel=\"nofollow noreferrer\">java build path</a></p>\n<p>Hopefully someone knows what i can do or not do :D</p>\n<p>I tried following tutorials on youtube and they all use the second codeblock and even if i follow the same libraries it doesnt work for me while it works in the tutorial ???\nI tried different build paths and didnt change anything.\nI tried to change the library version but didnt do anything either.</p>\n"},{"comments":[{"comment_id":55259969,"body":"Probably via a logging ServletFilter (e.g. <a href=\"http://stackoverflow.com/a/2171633/995891\">stackoverflow.com/a/2171633/995891</a> ), alternatively <code>HandlerInterceptor</code> but that may not work well with logging the response as mentioned in the answer: <a href=\"http://www.concretepage.com/spring/spring-mvc/spring-handlerinterceptor-annotation-example-webmvcconfigureradapter\" rel=\"nofollow noreferrer\">concretepage.com/spring/spring-mvc/&hellip;</a> - HandlerInterceptor has access to the method (method: &quot;UsersController.getUser&quot;) though. That&#39;s not known in a servlet filter."},{"comment_id":65624090,"body":"still , even if you add a filter or whatever solution at application layer , you will not log all the request , f.e. the HTTP 500 Server Error will not get logged , cause at the time that an unhandled exception will  get thrown at the Application layer , the default embedded tomcat&#39;s on error page will be displayed after swallowing the exception and ofcourse will not preserve the log. Also if you check user1817243 answer , in case of any exception he will again not log the request but he will log the exception (!!)."},{"comment_id":65624237,"body":"Does that log format must be consistent with every character you wrote? Seems like a JSON translation would be optimal in your case: <code>LogClass{ getRequestAndSaveIt()} Gson.toJson(LogClass)</code> as pseudocode"},{"comment_id":95439677,"body":"Future readers may benefit from my answer (url to follow in this comment).  Basically, I was able to franken-stein together different posts about this question.  PLEASE consider the actuator answer (in the answers below) before trying it by hand.  But the answer I am posting allows &quot;400, 404, 500&quot; (any/all) to be logged, but setting the order-priority to the lowest-priority (or within by &quot;8&quot; if you look at the code).  <a href=\"https://stackoverflow.com/questions/10210645/http-servlet-request-lose-params-from-post-body-after-read-it-once/54258488#54258488\" title=\"http servlet request lose params from post body after read it once\">stackoverflow.com/questions/10210645/&hellip;</a>"},{"comment_id":101980900,"body":"I did follow the spring docs on logging from here: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}],"answers":[{"comments":[{"comment_id":68721639,"body":"This works well for response logging - although I had to put a limit on the number of bytes it logs otherwise it trashes the Intellij logging console output."},{"comment_id":68721689,"body":"String getContent() {     if (bos == null) {          return String.format(&quot;called %s too early&quot;,                 BufferedResponseWrapper.class.getCanonicalName());     }     byte[] bytes = bos.toByteArray();     return new String(Arrays.copyOf(bytes, 5000)) + &quot;....&quot;; }"},{"comment_id":68747595,"body":"It&#39;s also worth putting in a &quot;log.isTraceEnabled()&quot; switch around the logging too."},{"comment_id":68747916,"body":"What would be cool is if Java added some default methods to HttpServletResponse so we don&#39;t need to write such a huge implementation."},{"comment_id":88567507,"body":"This should be the accepted answer! It answers question correctly and to the point. Works perfectly!"},{"comment_id":95208275,"body":"plus one for including the import statements"},{"comment_id":102779894,"body":"What does  &quot;just register it as a filter&quot; means?"},{"comment_id":111083940,"body":"@Nakrule It&#39;s explained here <a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-add-filter</a>"}],"answer_id":39137815,"body":"<p>This code works for me in a Spring Boot application - just register it as a filter</p>\n\n<pre><code>    import java.io.BufferedReader;\n    import java.io.ByteArrayInputStream;\n    import java.io.ByteArrayOutputStream;\n    import java.io.IOException;\n    import java.io.InputStream;\n    import java.io.InputStreamReader;\n    import java.io.OutputStream;\n    import java.io.PrintWriter;\n    import java.util.Collection;\n    import java.util.Enumeration;\n    import java.util.HashMap;\n    import java.util.Locale;\n    import java.util.Map;\n    import javax.servlet.*;\n    import javax.servlet.http.Cookie;\n    import javax.servlet.http.HttpServletRequest;\n    import javax.servlet.http.HttpServletRequestWrapper;\n    import javax.servlet.http.HttpServletResponse;\n    import org.apache.commons.io.output.TeeOutputStream;\n    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.stereotype.Component;\n\n    @Component\n    public class HttpLoggingFilter implements Filter {\n\n        private static final Logger log = LoggerFactory.getLogger(HttpLoggingFilter.class);\n\n        @Override\n        public void init(FilterConfig filterConfig) throws ServletException {\n        }\n\n        @Override\n        public void doFilter(ServletRequest request, ServletResponse response,\n                             FilterChain chain) throws IOException, ServletException {\n            try {\n                HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n                HttpServletResponse httpServletResponse = (HttpServletResponse) response;\n\n                Map&lt;String, String&gt; requestMap = this\n                        .getTypesafeRequestMap(httpServletRequest);\n                BufferedRequestWrapper bufferedRequest = new BufferedRequestWrapper(\n                        httpServletRequest);\n                BufferedResponseWrapper bufferedResponse = new BufferedResponseWrapper(\n                        httpServletResponse);\n\n                final StringBuilder logMessage = new StringBuilder(\n                        \"REST Request - \").append(\"[HTTP METHOD:\")\n                        .append(httpServletRequest.getMethod())\n                        .append(\"] [PATH INFO:\")\n                        .append(httpServletRequest.getServletPath())\n                        .append(\"] [REQUEST PARAMETERS:\").append(requestMap)\n                        .append(\"] [REQUEST BODY:\")\n                        .append(bufferedRequest.getRequestBody())\n                        .append(\"] [REMOTE ADDRESS:\")\n                        .append(httpServletRequest.getRemoteAddr()).append(\"]\");\n\n                chain.doFilter(bufferedRequest, bufferedResponse);\n                logMessage.append(\" [RESPONSE:\")\n                        .append(bufferedResponse.getContent()).append(\"]\");\n                log.debug(logMessage.toString());\n            } catch (Throwable a) {\n                log.error(a.getMessage());\n            }\n        }\n\n        private Map&lt;String, String&gt; getTypesafeRequestMap(HttpServletRequest request) {\n            Map&lt;String, String&gt; typesafeRequestMap = new HashMap&lt;String, String&gt;();\n            Enumeration&lt;?&gt; requestParamNames = request.getParameterNames();\n            while (requestParamNames.hasMoreElements()) {\n                String requestParamName = (String) requestParamNames.nextElement();\n                String requestParamValue;\n                if (requestParamName.equalsIgnoreCase(\"password\")) {\n                    requestParamValue = \"********\";\n                } else {\n                    requestParamValue = request.getParameter(requestParamName);\n                }\n                typesafeRequestMap.put(requestParamName, requestParamValue);\n            }\n            return typesafeRequestMap;\n        }\n\n        @Override\n        public void destroy() {\n        }\n\n        private static final class BufferedRequestWrapper extends\n                HttpServletRequestWrapper {\n\n            private ByteArrayInputStream bais = null;\n            private ByteArrayOutputStream baos = null;\n            private BufferedServletInputStream bsis = null;\n            private byte[] buffer = null;\n\n            public BufferedRequestWrapper(HttpServletRequest req)\n                    throws IOException {\n                super(req);\n                // Read InputStream and store its content in a buffer.\n                InputStream is = req.getInputStream();\n                this.baos = new ByteArrayOutputStream();\n                byte buf[] = new byte[1024];\n                int read;\n                while ((read = is.read(buf)) &gt; 0) {\n                    this.baos.write(buf, 0, read);\n                }\n                this.buffer = this.baos.toByteArray();\n            }\n\n            @Override\n            public ServletInputStream getInputStream() {\n                this.bais = new ByteArrayInputStream(this.buffer);\n                this.bsis = new BufferedServletInputStream(this.bais);\n                return this.bsis;\n            }\n\n            String getRequestBody() throws IOException {\n                BufferedReader reader = new BufferedReader(new InputStreamReader(\n                        this.getInputStream()));\n                String line = null;\n                StringBuilder inputBuffer = new StringBuilder();\n                do {\n                    line = reader.readLine();\n                    if (null != line) {\n                        inputBuffer.append(line.trim());\n                    }\n                } while (line != null);\n                reader.close();\n                return inputBuffer.toString().trim();\n            }\n\n        }\n\n        private static final class BufferedServletInputStream extends\n                ServletInputStream {\n\n            private ByteArrayInputStream bais;\n\n            public BufferedServletInputStream(ByteArrayInputStream bais) {\n                this.bais = bais;\n            }\n\n            @Override\n            public int available() {\n                return this.bais.available();\n            }\n\n            @Override\n            public int read() {\n                return this.bais.read();\n            }\n\n            @Override\n            public int read(byte[] buf, int off, int len) {\n                return this.bais.read(buf, off, len);\n            }\n\n            @Override\n            public boolean isFinished() {\n                return false;\n            }\n\n            @Override\n            public boolean isReady() {\n                return true;\n            }\n\n            @Override\n            public void setReadListener(ReadListener readListener) {\n\n            }\n        }\n\n        public class TeeServletOutputStream extends ServletOutputStream {\n\n            private final TeeOutputStream targetStream;\n\n            public TeeServletOutputStream(OutputStream one, OutputStream two) {\n                targetStream = new TeeOutputStream(one, two);\n            }\n\n            @Override\n            public void write(int arg0) throws IOException {\n                this.targetStream.write(arg0);\n            }\n\n            public void flush() throws IOException {\n                super.flush();\n                this.targetStream.flush();\n            }\n\n            public void close() throws IOException {\n                super.close();\n                this.targetStream.close();\n            }\n\n            @Override\n            public boolean isReady() {\n                return false;\n            }\n\n            @Override\n            public void setWriteListener(WriteListener writeListener) {\n\n            }\n        }\n\n        public class BufferedResponseWrapper implements HttpServletResponse {\n\n            HttpServletResponse original;\n            TeeServletOutputStream tee;\n            ByteArrayOutputStream bos;\n\n            public BufferedResponseWrapper(HttpServletResponse response) {\n                original = response;\n            }\n\n            public String getContent() {\n                return bos.toString();\n            }\n\n            public PrintWriter getWriter() throws IOException {\n                return original.getWriter();\n            }\n\n            public ServletOutputStream getOutputStream() throws IOException {\n                if (tee == null) {\n                    bos = new ByteArrayOutputStream();\n                    tee = new TeeServletOutputStream(original.getOutputStream(),\n                            bos);\n                }\n                return tee;\n\n            }\n\n            @Override\n            public String getCharacterEncoding() {\n                return original.getCharacterEncoding();\n            }\n\n            @Override\n            public String getContentType() {\n                return original.getContentType();\n            }\n\n            @Override\n            public void setCharacterEncoding(String charset) {\n                original.setCharacterEncoding(charset);\n            }\n\n            @Override\n            public void setContentLength(int len) {\n                original.setContentLength(len);\n            }\n\n            @Override\n            public void setContentLengthLong(long l) {\n                original.setContentLengthLong(l);\n            }\n\n            @Override\n            public void setContentType(String type) {\n                original.setContentType(type);\n            }\n\n            @Override\n            public void setBufferSize(int size) {\n                original.setBufferSize(size);\n            }\n\n            @Override\n            public int getBufferSize() {\n                return original.getBufferSize();\n            }\n\n            @Override\n            public void flushBuffer() throws IOException {\n                tee.flush();\n            }\n\n            @Override\n            public void resetBuffer() {\n                original.resetBuffer();\n            }\n\n            @Override\n            public boolean isCommitted() {\n                return original.isCommitted();\n            }\n\n            @Override\n            public void reset() {\n                original.reset();\n            }\n\n            @Override\n            public void setLocale(Locale loc) {\n                original.setLocale(loc);\n            }\n\n            @Override\n            public Locale getLocale() {\n                return original.getLocale();\n            }\n\n            @Override\n            public void addCookie(Cookie cookie) {\n                original.addCookie(cookie);\n            }\n\n            @Override\n            public boolean containsHeader(String name) {\n                return original.containsHeader(name);\n            }\n\n            @Override\n            public String encodeURL(String url) {\n                return original.encodeURL(url);\n            }\n\n            @Override\n            public String encodeRedirectURL(String url) {\n                return original.encodeRedirectURL(url);\n            }\n\n            @SuppressWarnings(\"deprecation\")\n            @Override\n            public String encodeUrl(String url) {\n                return original.encodeUrl(url);\n            }\n\n            @SuppressWarnings(\"deprecation\")\n            @Override\n            public String encodeRedirectUrl(String url) {\n                return original.encodeRedirectUrl(url);\n            }\n\n            @Override\n            public void sendError(int sc, String msg) throws IOException {\n                original.sendError(sc, msg);\n            }\n\n            @Override\n            public void sendError(int sc) throws IOException {\n                original.sendError(sc);\n            }\n\n            @Override\n            public void sendRedirect(String location) throws IOException {\n                original.sendRedirect(location);\n            }\n\n            @Override\n            public void setDateHeader(String name, long date) {\n                original.setDateHeader(name, date);\n            }\n\n            @Override\n            public void addDateHeader(String name, long date) {\n                original.addDateHeader(name, date);\n            }\n\n            @Override\n            public void setHeader(String name, String value) {\n                original.setHeader(name, value);\n            }\n\n            @Override\n            public void addHeader(String name, String value) {\n                original.addHeader(name, value);\n            }\n\n            @Override\n            public void setIntHeader(String name, int value) {\n                original.setIntHeader(name, value);\n            }\n\n            @Override\n            public void addIntHeader(String name, int value) {\n                original.addIntHeader(name, value);\n            }\n\n            @Override\n            public void setStatus(int sc) {\n                original.setStatus(sc);\n            }\n\n            @SuppressWarnings(\"deprecation\")\n            @Override\n            public void setStatus(int sc, String sm) {\n                original.setStatus(sc, sm);\n            }\n\n            @Override\n            public String getHeader(String arg0) {\n                return original.getHeader(arg0);\n            }\n\n            @Override\n            public Collection&lt;String&gt; getHeaderNames() {\n                return original.getHeaderNames();\n            }\n\n            @Override\n            public Collection&lt;String&gt; getHeaders(String arg0) {\n                return original.getHeaders(arg0);\n            }\n\n            @Override\n            public int getStatus() {\n                return original.getStatus();\n            }\n\n        }\n    }\n</code></pre>\n"},{"comments":[{"comment_id":65857872,"body":"This logs the method invocation, not what was actually received and sent at the HTTP level."},{"comment_id":68936917,"body":"How to write request BODY ? In my case it is POST BODY. on request.getReader or getInputStream I get error that stream is closed."}],"answer_id":39181445,"body":"<p>If you dont mind trying Spring AOP, this is something I have been exploring for logging purposes and it works pretty well for me. It wont log requests that have not been defined and failed request attempts though.</p>\n\n<p>Add these three dependencies</p>\n\n<pre><code>spring-aop, aspectjrt, aspectjweaver\n</code></pre>\n\n<p>Add this to your xml config file <code>&lt;aop:aspectj-autoproxy/&gt;</code></p>\n\n<p>Create an annotation which can be used as a pointcut </p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.METHOD,ElementType.TYPE})\npublic @interface EnableLogging {\nActionType actionType();\n}\n</code></pre>\n\n<p>Now annotate all your rest API methods which you want to log</p>\n\n<pre><code>@EnableLogging(actionType = ActionType.SOME_EMPLOYEE_ACTION)\n@Override\npublic Response getEmployees(RequestDto req, final String param) {\n...\n}\n</code></pre>\n\n<p>Now on to the Aspect. component-scan the package which this class is in.</p>\n\n<pre><code>@Aspect\n@Component\npublic class Aspects {\n\n@AfterReturning(pointcut = \"execution(@co.xyz.aspect.EnableLogging * *(..)) &amp;&amp; @annotation(enableLogging) &amp;&amp; args(reqArg, reqArg1,..)\", returning = \"result\")\npublic void auditInfo(JoinPoint joinPoint, Object result, EnableLogging enableLogging, Object reqArg, String reqArg1) {\n\n    HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes())\n            .getRequest();\n\n    if (result instanceof Response) {\n        Response responseObj = (Response) result;\n\n    String requestUrl = request.getScheme() + \"://\" + request.getServerName()\n                + \":\" + request.getServerPort() + request.getContextPath() + request.getRequestURI()\n                + \"?\" + request.getQueryString();\n\nString clientIp = request.getRemoteAddr();\nString clientRequest = reqArg.toString();\nint httpResponseStatus = responseObj.getStatus();\nresponseObj.getEntity();\n// Can log whatever stuff from here in a single spot.\n}\n\n\n@AfterThrowing(pointcut = \"execution(@co.xyz.aspect.EnableLogging * *(..)) &amp;&amp; @annotation(enableLogging) &amp;&amp; args(reqArg, reqArg1,..)\", throwing=\"exception\")\npublic void auditExceptionInfo(JoinPoint joinPoint, Throwable exception, EnableLogging enableLogging, Object reqArg, String reqArg1) {\n\n    HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes())\n            .getRequest();\n\n    String requestUrl = request.getScheme() + \"://\" + request.getServerName()\n    + \":\" + request.getServerPort() + request.getContextPath() + request.getRequestURI()\n    + \"?\" + request.getQueryString();\n\n    exception.getMessage();\n    exception.getCause();\n    exception.printStackTrace();\n    exception.getLocalizedMessage();\n    // Can log whatever exceptions, requests, etc from here in a single spot.\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>@AfterReturning advice runs when a matched method execution returns\n  normally.</p>\n  \n  <p>@AfterThrowing advice runs when a matched method execution exits by\n  throwing an exception.</p>\n</blockquote>\n\n<p>If you want to read in detail read through this.\n<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html</a></p>\n"},{"comments":[{"comment_id":65857897,"body":"what happens when the response is a stream and the stream doesn&#39;t support seek? Will the above still work?"},{"comment_id":65858018,"body":"I don&#39;t care about the method invoked, just the data received and sent. Filter appears to point me in the right direction and @ike_love&#39;s response has directed me to <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/WebRequestTraceFilter.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/master/&hellip;</a>"},{"comment_id":65863466,"body":"@TomHoward AFAIK, there&#39;s no out of the box &quot;response logging&quot; in spring. Therefore you can extend WebRequestTraceFilter or AbstractRequestLoggingFilter adding response logging logic."},{"comment_id":80614688,"body":"Works just fine!"},{"comment_id":85471298,"body":"@hahn why did you use Dispatcher servlet for this? can same login not be added with filter in doFilter?"},{"comment_id":108648083,"body":"@hahn To make this solution work, is it necessary to change the packaging to war? Coz when i tried this in my spring boot rest api with jar packaging (embedded tomcat) , i keep getting the error java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/loggingDispatcherServlet-servlet.xml]"},{"comment_id":112219559,"body":"@hahn dispatcher servlet is throwing Bad request for RequestPart params. Is there any way to solve it?"},{"comment_id":121187465,"body":"This custom class does not work when the request is of type &quot;multipart/form-data&quot; :("}],"answer_id":39207422,"body":"<p>You could use <code>javax.servlet.Filter</code> if there wasn't a requirement to log java method that been executed.</p>\n\n<p>But with this requirement you have to access information stored in <code>handlerMapping</code> of <code>DispatcherServlet</code>. That said, you can override <code>DispatcherServlet</code> to accomplish logging of request/response pair.</p>\n\n<p>Below is an example of idea that can be further enhanced and adopted to your needs.</p>\n\n<pre><code>public class LoggableDispatcherServlet extends DispatcherServlet {\n\n    private final Log logger = LogFactory.getLog(getClass());\n\n    @Override\n    protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {\n        if (!(request instanceof ContentCachingRequestWrapper)) {\n            request = new ContentCachingRequestWrapper(request);\n        }\n        if (!(response instanceof ContentCachingResponseWrapper)) {\n            response = new ContentCachingResponseWrapper(response);\n        }\n        HandlerExecutionChain handler = getHandler(request);\n\n        try {\n            super.doDispatch(request, response);\n        } finally {\n            log(request, response, handler);\n            updateResponse(response);\n        }\n    }\n\n    private void log(HttpServletRequest requestToCache, HttpServletResponse responseToCache, HandlerExecutionChain handler) {\n        LogMessage log = new LogMessage();\n        log.setHttpStatus(responseToCache.getStatus());\n        log.setHttpMethod(requestToCache.getMethod());\n        log.setPath(requestToCache.getRequestURI());\n        log.setClientIp(requestToCache.getRemoteAddr());\n        log.setJavaMethod(handler.toString());\n        log.setResponse(getResponsePayload(responseToCache));\n        logger.info(log);\n    }\n\n    private String getResponsePayload(HttpServletResponse response) {\n        ContentCachingResponseWrapper wrapper = WebUtils.getNativeResponse(response, ContentCachingResponseWrapper.class);\n        if (wrapper != null) {\n\n            byte[] buf = wrapper.getContentAsByteArray();\n            if (buf.length &gt; 0) {\n                int length = Math.min(buf.length, 5120);\n                try {\n                    return new String(buf, 0, length, wrapper.getCharacterEncoding());\n                }\n                catch (UnsupportedEncodingException ex) {\n                    // NOOP\n                }\n            }\n        }\n        return \"[unknown]\";\n    }\n\n    private void updateResponse(HttpServletResponse response) throws IOException {\n        ContentCachingResponseWrapper responseWrapper =\n            WebUtils.getNativeResponse(response, ContentCachingResponseWrapper.class);\n        responseWrapper.copyBodyToResponse();\n    }\n\n}\n</code></pre>\n\n<p><code>HandlerExecutionChain</code> - contains the information about request handler.</p>\n\n<p>You then can register this dispatcher as following:</p>\n\n<pre><code>    @Bean\n    public ServletRegistrationBean dispatcherRegistration() {\n        return new ServletRegistrationBean(dispatcherServlet());\n    }\n\n    @Bean(name = DispatcherServletAutoConfiguration.DEFAULT_DISPATCHER_SERVLET_BEAN_NAME)\n    public DispatcherServlet dispatcherServlet() {\n        return new LoggableDispatcherServlet();\n    }\n</code></pre>\n\n<p>And here's the sample of logs:</p>\n\n<pre><code>http http://localhost:8090/settings/test\ni.g.m.s.s.LoggableDispatcherServlet      : LogMessage{httpStatus=500, path='/error', httpMethod='GET', clientIp='127.0.0.1', javaMethod='HandlerExecutionChain with handler [public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)] and 3 interceptors', arguments=null, response='{\"timestamp\":1472475814077,\"status\":500,\"error\":\"Internal Server Error\",\"exception\":\"java.lang.RuntimeException\",\"message\":\"org.springframework.web.util.NestedServletException: Request processing failed; nested exception is java.lang.RuntimeException\",\"path\":\"/settings/test\"}'}\n\nhttp http://localhost:8090/settings/params\ni.g.m.s.s.LoggableDispatcherServlet      : LogMessage{httpStatus=200, path='/settings/httpParams', httpMethod='GET', clientIp='127.0.0.1', javaMethod='HandlerExecutionChain with handler [public x.y.z.DTO x.y.z.Controller.params()] and 3 interceptors', arguments=null, response='{}'}\n\nhttp http://localhost:8090/123\ni.g.m.s.s.LoggableDispatcherServlet      : LogMessage{httpStatus=404, path='/error', httpMethod='GET', clientIp='127.0.0.1', javaMethod='HandlerExecutionChain with handler [public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)] and 3 interceptors', arguments=null, response='{\"timestamp\":1472475840592,\"status\":404,\"error\":\"Not Found\",\"message\":\"Not Found\",\"path\":\"/123\"}'}\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>In case of errors Spring does automatic error handling. Therefore, <code>BasicErrorController#error</code> is shown as request handler. If you want to preserve original request handler, then you can override this behavior at <code>spring-webmvc-4.2.5.RELEASE-sources.jar!/org/springframework/web/servlet/DispatcherServlet.java:971</code> before <code>#processDispatchResult</code> is called, to cache original handler.</p>\n"},{"comments":[{"comment_id":65857957,"body":"any more details? I found <a href=\"https://github.com/spring-projects/spring-boot/tree/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/tree/master/&hellip;</a>, but not much in beyond that."},{"comment_id":65857962,"body":"And is this just for the request, or the response as well?"},{"comment_id":65863261,"body":"@TomHoward all implementations that spring provides consider only request."},{"comment_id":68659590,"body":"This cannot be used for debugging: unauthenticated requests (for example with spring security) do not get logged."},{"comment_id":68714139,"body":"Actuator format is all JSON which you may or may not appreciate."},{"comment_id":68918158,"body":"Actually Actuator doesn&#39;t have any specific components for enebling http logging. /trace - show only last N requests."},{"comment_id":69211410,"body":"@ike_love, how to confgure actuator such that it logging request (also POST body) to file ?"},{"comment_id":79542953,"body":"@IcedDante, yes, e.g. providing a link to official documentation instead of copying and pasting example that are guaranteed to get out of date."},{"comment_id":80243771,"body":"And... Where is at least a little example? Just log request and responce to file"},{"comment_id":80422787,"body":"@user2602807 - did you follow the link provided in the answer?"},{"comment_id":80714927,"body":"Trace will not log request and response body for you....everything else (header etc) but those."},{"comment_id":88041416,"body":"Does AWS log all requests anywhere?"},{"comment_id":88686057,"body":"&quot;Trace will not log request and response body for you....everything else (header etc) but those&quot;  Yup. Is there a way to include request and response body? That is what is really needed most of the time."},{"comment_id":90393440,"body":"@Lekkie can you confirm that there&#39;s no means of enabling this?"},{"comment_id":90638335,"body":"Logging request/response payloads support has been dropped since spring boot 2.0. Source: <a href=\"https://github.com/spring-projects/spring-boot/issues/12953#issuecomment-383830749\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/&hellip;</a>"},{"comment_id":91979923,"body":"If you want the body, this is not useful, please mention it."},{"comment_id":96250422,"body":"this does not provide configuration for writing stuff to file, you cant configure anything here, the docs are eveyrthing but helpful and at some point simply tell you to &quot;implement your own [insert class name here]&quot; in order to have something as basic as a logfile with requests in it. I dont think this answer is in any way helpful for what OP wants."},{"comment_id":96255864,"body":"@Blauhirn, OP did not ask to how to write to a file, the question was how to log request/response information and that is that the answer provided. Writing to a file is a bad practice - <a href=\"https://12factor.net/logs\" rel=\"nofollow noreferrer\">12factor.net/logs</a>"},{"comment_id":96504240,"body":"This does not log requests to actuator endpoints (as in &quot;log <i>all</i> requests&quot;)"},{"comment_id":96606249,"body":"PS to my previous comment: Configure <code>org.springframework.boot.actuate.autoconfigure.web.Managemen&zwnj;&#8203;tContextConfiguratio&zwnj;&#8203;n</code> to have actuator requests being handled as well"},{"comment_id":100835681,"body":"This is totally different.  The question is how to log requests and responses into a file.  The actuator is a means to provide this information to external parties on demand, not proactively log it."},{"comment_id":102382078,"body":"spring boot actuator is not working without &lt;exclusion&gt;                     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;                     &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;                 &lt;/exclusion&gt;"},{"comment_id":102959196,"body":"The links to github are not working right now. I am looking for a way to implement custom trace without exposing actuator endpoints."},{"comment_id":103425012,"body":"the answer is not clear enough of how to implement it"},{"comment_id":113471552,"body":"Not sure why this answer gets that much upvotes. Actuator doesn&#39;t log request body. Things I&#39;ve tried come from <a href=\"http://slackspace.de/articles/log-request-body-with-spring-boot/\" rel=\"nofollow noreferrer\">slackspace.de/articles/log-request-body-with-spring-boot</a>. It works."},{"comment_id":113624618,"body":"@emeraldhieu yes actuator doesn&#39;t support request/response body <a href=\"https://github.com/spring-projects/spring-boot/issues/12953\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/12953</a>"},{"comment_id":116000688,"body":"Seems it is also not recommended anymore as it consume a lot resources <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2.0-M3-Release-Notes#actuator-http-trace-and-auditing-are-disabled-by-default\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>"},{"comment_id":127237765,"body":"<a href=\"https://stackoverflow.com/a/60450043/8140523\">stackoverflow.com/a/60450043/8140523</a>"},{"comment_id":128850176,"body":"I just wasted half an hour because of this answer since I need to log the request bodies, and Spring actuator doesn&#39;t support it."},{"comment_id":129426015,"body":"@skidoodle3336, sorry you wasted ALL of your development experience on my answer :("},{"comment_id":131496258,"body":"Just mention that after <code>Spring Boot 2.2.0 M3</code> <code>Spring Framework 5.2 M2</code> <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2.0-M3-Release-Notes#actuator-http-trace-and-auditing-are-disabled-by-default\" rel=\"nofollow noreferrer\">actuator http trace and auditing are disabled by default</a> since the default repositories implementations are in-memory and may consume too many resources and are not cluster friendly."}],"answer_id":39234957,"body":"<p>Don't write any Interceptors, Filters, Components, Aspects, etc., this is a very common problem and has been solved many times over. </p>\n\n<p>Spring Boot has a modules called <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html\" rel=\"noreferrer\">Actuator</a>, which provides HTTP request logging out of the box. There's an endpoint mapped to <code>/trace</code> (SB1.x) or <code>/actuator/httptrace</code> (SB2.0+) which will show you last 100 HTTP requests. You can customize it to log each request, or write to a DB.  </p>\n\n<p>To get the endpoints you want, you'll need the spring-boot-starter-actuator dependency, and also to \"whitelist\" the endpoints you're looking for, and possibly setup or disable security for it.</p>\n\n<p>Also, where will this application run? Will you be using a PaaS? Hosting providers, Heroku for example, provide request logging as part of their service and you don't need to do <strong>any</strong> coding whatsoever then.</p>\n"},{"comments":[{"comment_id":108648229,"body":"is your application packaged as war or jar? I keep getting the error java.io.FileNotFoundException: Could not open ServletContext resource [/WEB-INF/loggingDispatcherServlet-servlet.xml]"}],"answer_id":41043393,"body":"<p><a href=\"https://stackoverflow.com/a/39207422/4411645\">@hahn's answer</a> required a bit of modification for it to work for me, but it is by far the most customizable thing I could get.</p>\n\n<p>It didn't work for me, probably because I also have a HandlerInterceptorAdapter[??] but I kept getting a bad response from the server in that version. Here's my modification of it.</p>\n\n<pre><code>public class LoggableDispatcherServlet extends DispatcherServlet {\n\n    private final Log logger = LogFactory.getLog(getClass());\n\n    @Override\n    protected void doDispatch(HttpServletRequest request, HttpServletResponse response) throws Exception {\n\n        long startTime = System.currentTimeMillis();\n        try {\n            super.doDispatch(request, response);\n        } finally {\n            log(new ContentCachingRequestWrapper(request), new ContentCachingResponseWrapper(response),\n                    System.currentTimeMillis() - startTime);\n        }\n    }\n\n    private void log(HttpServletRequest requestToCache, HttpServletResponse responseToCache, long timeTaken) {\n        int status = responseToCache.getStatus();\n        JsonObject jsonObject = new JsonObject();\n        jsonObject.addProperty(\"httpStatus\", status);\n        jsonObject.addProperty(\"path\", requestToCache.getRequestURI());\n        jsonObject.addProperty(\"httpMethod\", requestToCache.getMethod());\n        jsonObject.addProperty(\"timeTakenMs\", timeTaken);\n        jsonObject.addProperty(\"clientIP\", requestToCache.getRemoteAddr());\n        if (status &gt; 299) {\n            String requestBody = null;\n            try {\n                requestBody = requestToCache.getReader().lines().collect(Collectors.joining(System.lineSeparator()));\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            jsonObject.addProperty(\"requestBody\", requestBody);\n            jsonObject.addProperty(\"requestParams\", requestToCache.getQueryString());\n            jsonObject.addProperty(\"tokenExpiringHeader\",\n                    responseToCache.getHeader(ResponseHeaderModifierInterceptor.HEADER_TOKEN_EXPIRING));\n        }\n        logger.info(jsonObject);\n    }\n}\n</code></pre>\n"},{"answer_id":42023374,"body":"<p>Here is how I do it in spring data rest\nby using\n<code>org.springframework.web.util.ContentCachingRequestWrapper</code>  and\n<code>org.springframework.web.util.ContentCachingResponseWrapper</code></p>\n\n<pre><code>/**\n * Doogies very cool HTTP request logging\n *\n * There is also {@link org.springframework.web.filter.CommonsRequestLoggingFilter}  but it cannot log request method\n * And it cannot easily be extended.\n *\n * https://mdeinum.wordpress.com/2015/07/01/spring-framework-hidden-gems/\n * http://stackoverflow.com/questions/8933054/how-to-read-and-copy-the-http-servlet-response-output-stream-content-for-logging\n */\npublic class DoogiesRequestLogger extends OncePerRequestFilter {\n\n  private boolean includeResponsePayload = true;\n  private int maxPayloadLength = 1000;\n\n  private String getContentAsString(byte[] buf, int maxLength, String charsetName) {\n    if (buf == null || buf.length == 0) return \"\";\n    int length = Math.min(buf.length, this.maxPayloadLength);\n    try {\n      return new String(buf, 0, length, charsetName);\n    } catch (UnsupportedEncodingException ex) {\n      return \"Unsupported Encoding\";\n    }\n  }\n\n  /**\n   * Log each request and respponse with full Request URI, content payload and duration of the request in ms.\n   * @param request the request\n   * @param response the response\n   * @param filterChain chain of filters\n   * @throws ServletException\n   * @throws IOException\n   */\n  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n    long startTime = System.currentTimeMillis();\n    StringBuffer reqInfo = new StringBuffer()\n     .append(\"[\")\n     .append(startTime % 10000)  // request ID\n     .append(\"] \")\n     .append(request.getMethod())\n     .append(\" \")\n     .append(request.getRequestURL());\n\n    String queryString = request.getQueryString();\n    if (queryString != null) {\n      reqInfo.append(\"?\").append(queryString);\n    }\n\n    if (request.getAuthType() != null) {\n      reqInfo.append(\", authType=\")\n        .append(request.getAuthType());\n    }\n    if (request.getUserPrincipal() != null) {\n      reqInfo.append(\", principalName=\")\n        .append(request.getUserPrincipal().getName());\n    }\n\n    this.logger.debug(\"=&gt; \" + reqInfo);\n\n    // ========= Log request and response payload (\"body\") ========\n    // We CANNOT simply read the request payload here, because then the InputStream would be consumed and cannot be read again by the actual processing/server.\n    //    String reqBody = DoogiesUtil._stream2String(request.getInputStream());   // THIS WOULD NOT WORK!\n    // So we need to apply some stronger magic here :-)\n    ContentCachingRequestWrapper wrappedRequest = new ContentCachingRequestWrapper(request);\n    ContentCachingResponseWrapper wrappedResponse = new ContentCachingResponseWrapper(response);\n\n    filterChain.doFilter(wrappedRequest, wrappedResponse);     // ======== This performs the actual request!\n    long duration = System.currentTimeMillis() - startTime;\n\n    // I can only log the request's body AFTER the request has been made and ContentCachingRequestWrapper did its work.\n    String requestBody = this.getContentAsString(wrappedRequest.getContentAsByteArray(), this.maxPayloadLength, request.getCharacterEncoding());\n    if (requestBody.length() &gt; 0) {\n      this.logger.debug(\"   Request body:\\n\" +requestBody);\n    }\n\n    this.logger.debug(\"&lt;= \" + reqInfo + \": returned status=\" + response.getStatus() + \" in \"+duration + \"ms\");\n    if (includeResponsePayload) {\n      byte[] buf = wrappedResponse.getContentAsByteArray();\n      this.logger.debug(\"   Response body:\\n\"+getContentAsString(buf, this.maxPayloadLength, response.getCharacterEncoding()));\n    }\n\n    wrappedResponse.copyBodyToResponse();  // IMPORTANT: copy content of response back into original response\n\n  }\n\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":75071298,"body":"What about POST body?"},{"comment_id":75087670,"body":"@dart I&#39;ve added example for you"},{"comment_id":77006564,"body":"I was doing something like this, but the problem is the response body is not available to <code>TraceRepository</code>, how can we access to that?"},{"comment_id":77010871,"body":"@AmirPashazadeh you have to override <code>protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)</code> but I&#39;m not sure when this filter is executed - may be on request phase, so response body won&#39;t be ready there."},{"comment_id":102959085,"body":"Both of those classes are not available in Spring Boot version 2.1.6. Does anyone have a workaround for that?"},{"comment_id":102975264,"body":"@Kekar Since 2.0 there is HttpTraceRepository (instead of TraceRepository)"}],"answer_id":43109437,"body":"<p>After adding <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html\" rel=\"noreferrer\">Actuators</a> to the spring boot bassed application you have <code>/trace</code> endpoint available with latest requests informations. This endpoint is working based on <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/TraceRepository.java\" rel=\"noreferrer\" title=\"TraceRepository\">TraceRepository</a> and default implementation is <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/InMemoryTraceRepository.java\" rel=\"noreferrer\">InMemoryTraceRepository</a> that saves last 100 calls. You can change this by implementing this interface by yourself and make it available as a Spring bean. For example to log all requests to log (and still use default implementation as a basic storage for serving info on <code>/trace</code> endpoint) I'm using this kind of implementation: </p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.actuate.trace.InMemoryTraceRepository;\nimport org.springframework.boot.actuate.trace.Trace;\nimport org.springframework.boot.actuate.trace.TraceRepository;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\nimport java.util.Map;\n\n\n@Component\npublic class LoggingTraceRepository implements TraceRepository {\n\n  private static final Logger LOG = LoggerFactory.getLogger(LoggingTraceRepository.class);\n  private final TraceRepository delegate = new InMemoryTraceRepository();\n\n  @Override\n  public List&lt;Trace&gt; findAll() {\n    return delegate.findAll();\n  }\n\n  @Override\n  public void add(Map&lt;String, Object&gt; traceInfo) {\n    LOG.info(traceInfo.toString());\n    this.delegate.add(traceInfo);\n  }\n}\n</code></pre>\n\n<p>This <code>traceInfo</code> map contains basic informations about request and response in this kind of form:\n<code>{method=GET, path=/api/hello/John, headers={request={host=localhost:8080, user-agent=curl/7.51.0, accept=*/*}, response={X-Application-Context=application, Content-Type=text/plain;charset=UTF-8, Content-Length=10, Date=Wed, 29 Mar 2017 20:41:21 GMT, status=200}}}</code>. There is NO response content here.</p>\n\n<p><strong>EDIT!</strong> Logging POST data</p>\n\n<p>You can access POST data by overriding <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/trace/WebRequestTraceFilter.java\" rel=\"noreferrer\">WebRequestTraceFilter</a>, but don't think it is a good idea (e.g. all uploaded file content will go to logs)\nHere is sample code, but <strong>don't</strong> use it:</p>\n\n<pre><code>package info.fingo.nuntius.acuate.trace;\n\nimport org.apache.commons.io.IOUtils;\nimport org.springframework.boot.actuate.trace.TraceProperties;\nimport org.springframework.boot.actuate.trace.TraceRepository;\nimport org.springframework.boot.actuate.trace.WebRequestTraceFilter;\nimport org.springframework.stereotype.Component;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\n@Component\npublic class CustomWebTraceFilter extends WebRequestTraceFilter {\n\n  public CustomWebTraceFilter(TraceRepository repository, TraceProperties properties) {\n    super(repository, properties);\n}\n\n  @Override\n  protected Map&lt;String, Object&gt; getTrace(HttpServletRequest request) {\n    Map&lt;String, Object&gt; trace = super.getTrace(request);\n    String multipartHeader = request.getHeader(\"content-type\");\n    if (multipartHeader != null &amp;&amp; multipartHeader.startsWith(\"multipart/form-data\")) {\n        Map&lt;String, Object&gt; parts = new LinkedHashMap&lt;&gt;();\n        try {\n            request.getParts().forEach(\n                    part -&gt; {\n                        try {\n                            parts.put(part.getName(), IOUtils.toString(part.getInputStream(), Charset.forName(\"UTF-8\")));\n                        } catch (IOException e) {\n                            e.printStackTrace();\n                        }\n                    }\n            );\n        } catch (IOException | ServletException e) {\n            e.printStackTrace();\n        }\n        if (!parts.isEmpty()) {\n            trace.put(\"multipart-content-map\", parts);\n        }\n    }\n    return trace;\n  }\n}\n</code></pre>\n"},{"comments":[{"comment_id":75728410,"body":"Note that it does <i>not</i> log the responses, only the requests."},{"comment_id":80404695,"body":"There is only requests. How to log responses bodies using CommonsRequestLoggingFilter ?"},{"comment_id":85340327,"body":"Also this does not log Exception"},{"comment_id":85341700,"body":"Well, that is expected as it&#39;s a request logging filter. More on this here: <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/filter/CommonsRequestLoggingFilter.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/javadoc-api/org/&hellip;</a>"},{"comment_id":88042753,"body":"Sorry newbie question but...add it to our config?  in springboot for instance?"},{"comment_id":89042880,"body":"But it only logs payload in after request message not in before request message.Is there a way to log payload in before request??"},{"comment_id":90909656,"body":"If you have large JSON body, set the payload length to a big number to log the whole request body.  loggingFilter.setMaxPayloadLength(100000);"},{"comment_id":92618180,"body":"Do you know how to log the JSON body on a single line (ie remove pretty-print)?"},{"comment_id":108943932,"body":"Why does it log the request twice, i.e. before and after the request being processed. and the only difference is the after request log contains payload."},{"comment_id":109392434,"body":"make sure you have enable <code>debug = true</code> in application.properties"},{"comment_id":115128103,"body":"how to measure latency ?"},{"comment_id":127024797,"body":"@rogerdpack Add <code>logging.level.org.springframework.web.filter.CommonsRequestL&zwnj;&#8203;oggingFilter=DEBUG</code> to the properties. Then look for &quot;before request&quot; and &quot;after request&quot; debug messages."},{"comment_id":133658437,"body":"It doesn&#39;t work for me. I have set log level to debug for that package."}],"answer_id":43155103,"body":"<p>Spring already provides a filter that does this job. Add following bean to your config</p>\n\n<pre><code>@Bean\npublic CommonsRequestLoggingFilter requestLoggingFilter() {\n    CommonsRequestLoggingFilter loggingFilter = new CommonsRequestLoggingFilter();\n    loggingFilter.setIncludeClientInfo(true);\n    loggingFilter.setIncludeQueryString(true);\n    loggingFilter.setIncludePayload(true);\n    loggingFilter.setMaxPayloadLength(64000);\n    return loggingFilter;\n}\n</code></pre>\n\n<p>Don't forget to change log level of <code>org.springframework.web.filter.CommonsRequestLoggingFilter</code> to <code>DEBUG</code>. </p>\n"},{"comments":[{"comment_id":79191737,"body":"Yes, you are right - this is valid answer for get requests logging to the same log file with all other results. However, @moreo asked to log GET, POST, etc. and to the separate file (as I understand)"},{"comment_id":105146649,"body":"If you want the headers to be included in the log, then you should add:  &quot;spring.http.log-request-details=true&quot; to you application.properties file."}],"answer_id":45031297,"body":"<p>I had defined logging level in <code>application.properties</code> to print requests/responses, method url in the log file</p>\n\n<pre><code>logging.level.org.springframework.web=DEBUG\nlogging.level.org.hibernate.SQL=INFO\nlogging.file=D:/log/myapp.log\n</code></pre>\n\n<p>I had used Spring Boot. </p>\n"},{"answer_id":45304605,"body":"<p>if you use Tomcat in your boot app here is <code>org.apache.catalina.filters.RequestDumperFilter</code> in a class path for you. (but it will not provide you \"with exceptions in single place\").</p>\n"},{"comments":[{"comment_id":85620178,"body":"added as a dependency to a minimal spring boot app and tried to run - no change, no logging output at all in my app. I think there are some additional dependencies or classes this needs? Registering it as a filter doesn&#39;t seem to do anything either."},{"comment_id":88296388,"body":"@eis You need to register it as a filter as explained in the docs here. <a href=\"https://github.com/zalando/logbook\" rel=\"nofollow noreferrer\">github.com/zalando/logbook</a>"},{"comment_id":88298303,"body":"I know, that&#39;s why I said &quot;registering it as a filter doesn&#39;t seem to do anything either&quot;"},{"comment_id":89730047,"body":"Logbook doc says: &quot;Logbook comes with a convenient auto configuration for Spring Boot users. It sets up all of the following parts automatically with sensible defaults.&quot; But it does not work."},{"comment_id":90393547,"body":"@LeosLiterak I believe you need to add <code>logging.level.org.zalando.logbook=TRACE</code>  to your <code>application.properties</code> (as is stated in the <code>Readme</code>)"},{"comment_id":93113321,"body":"Logbook autoconfiguration doesn&#39;t seem to work for spring-boot v2.0.5"},{"comment_id":102834652,"body":"Successfully used Logbook with Spring Boot 2.1.8."},{"comment_id":109790761,"body":"Hi @TolkienWASP thanks for your comment, it worked with Spring Boot 2.3.0.RELEASE, regards."},{"comment_id":115507209,"body":"The log level is the key! Thanks @TolkienWASP"},{"comment_id":118926040,"body":"Logbook doesn&#39;t support <code>DispatcherServlet</code>, meaning that Spring Boot error response logs (HTTP 400 or HTTP 500) will not have body."},{"comment_id":120597955,"body":"After adding the logbook dependency, getting following error &gt;&gt;    Caused by: java.lang.ClassNotFoundException: org.springframework.boot.autoconfigure.security.SecurityFilt&zwnj;&#8203;erAutoConfiguration \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(B&zwnj;&#8203;uiltinClassLoader.ja&zwnj;&#8203;va:602)"},{"comment_id":133383670,"body":"It worked for me with Spring boot 2.7.2, but I think that a common cause of errors is adding the core library (&#39;org.zalando:logbook-core:2.15.0&#39;) instead of the spring-boot library (&#39;org.zalando:logbook-spring-boot-starter:2.15.0&#39;) to the project. Also I would prefer the HTTP format, expected by default, (more readable on the console), to JSON that apparently is the new default. Anyway, it is a great and handy tool."}],"answer_id":47963056,"body":"<p>The <a href=\"https://github.com/zalando/logbook\" rel=\"noreferrer\">Logbook</a> library is specifically made for logging HTTP requests and responses. It supports Spring Boot using a special starter library.</p>\n<p>To enable logging in Spring Boot all you need to do is adding the library to your project's dependencies. For example assuming you are using Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.zalando&lt;/groupId&gt;\n    &lt;artifactId&gt;logbook-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;1.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>By default the logging output looks like this:</p>\n<pre><code>{\n  &quot;origin&quot; : &quot;local&quot;,\n  &quot;correlation&quot; : &quot;52e19498-890c-4f75-a06c-06ddcf20836e&quot;,\n  &quot;status&quot; : 200,\n  &quot;headers&quot; : {\n    &quot;X-Application-Context&quot; : [\n      &quot;application:8088&quot;\n    ],\n    &quot;Content-Type&quot; : [\n      &quot;application/json;charset=UTF-8&quot;\n    ],\n    &quot;Transfer-Encoding&quot; : [\n      &quot;chunked&quot;\n    ],\n    &quot;Date&quot; : [\n      &quot;Sun, 24 Dec 2017 13:10:45 GMT&quot;\n    ]\n  },\n  &quot;body&quot; : {\n    &quot;thekey&quot; : &quot;some_example&quot;\n  },\n  &quot;duration&quot; : 105,\n  &quot;protocol&quot; : &quot;HTTP/1.1&quot;,\n  &quot;type&quot; : &quot;response&quot;\n}\n</code></pre>\n<p>It does however not output the class name that is handling the request. The library does have some interfaces for writing custom loggers.</p>\n<h1>Notes</h1>\n<p>In the meantime the library has significantly evolved, current version is <strong>2.4.1</strong>, see <a href=\"https://github.com/zalando/logbook/releases\" rel=\"noreferrer\">https://github.com/zalando/logbook/releases</a>. E.g. the default ouput format has changed, and can be configured, filtered, etc.</p>\n<p>Do NOT forget to set the log level to <code>TRACE</code>, else you won't see anything:</p>\n<pre><code>logging:\n  level:\n    org.zalando.logbook: TRACE\n</code></pre>\n"},{"comments":[{"comment_id":127238448,"body":"no response body"}],"answer_id":49388272,"body":"<p>If somebody still need it here is simple implementation with Spring HttpTrace Actuator. But as they have told upper it doesn't log bodies.</p>\n\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.lang3.builder.ToStringBuilder;\nimport org.springframework.boot.actuate.trace.http.HttpTrace;\nimport org.springframework.boot.actuate.trace.http.InMemoryHttpTraceRepository;\nimport org.springframework.stereotype.Repository;\n\n@Slf4j\n@Repository\npublic class LoggingInMemoryHttpTraceRepository extends InMemoryHttpTraceRepository {\n    public void add(HttpTrace trace) {\n        super.add(trace);\n        log.info(\"Trace:\" + ToStringBuilder.reflectionToString(trace));\n        log.info(\"Request:\" + ToStringBuilder.reflectionToString(trace.getRequest()));\n        log.info(\"Response:\" + ToStringBuilder.reflectionToString(trace.getResponse()));\n    }\n}\n</code></pre>\n"},{"answer_id":49805419,"body":"<p>In order to log requests that result in 400 only:</p>\n\n<pre><code>import javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\nimport org.apache.commons.io.FileUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.server.ServletServerHttpRequest;\nimport org.springframework.stereotype.Component;\nimport org.springframework.util.StringUtils;\nimport org.springframework.web.filter.AbstractRequestLoggingFilter;\nimport org.springframework.web.filter.OncePerRequestFilter;\nimport org.springframework.web.util.ContentCachingRequestWrapper;\nimport org.springframework.web.util.WebUtils;\n\n/**\n * Implementation is partially copied from {@link AbstractRequestLoggingFilter} and modified to output request information only if request resulted in 400.\n * Unfortunately {@link AbstractRequestLoggingFilter} is not smart enough to expose {@link HttpServletResponse} value in afterRequest() method.\n */\n@Component\npublic class RequestLoggingFilter extends OncePerRequestFilter {\n\n    public static final String DEFAULT_AFTER_MESSAGE_PREFIX = \"After request [\";\n\n    public static final String DEFAULT_AFTER_MESSAGE_SUFFIX = \"]\";\n\n    private final boolean includeQueryString = true;\n    private final boolean includeClientInfo = true;\n    private final boolean includeHeaders = true;\n    private final boolean includePayload = true;\n\n    private final int maxPayloadLength = (int) (2 * FileUtils.ONE_MB);\n\n    private final String afterMessagePrefix = DEFAULT_AFTER_MESSAGE_PREFIX;\n\n    private final String afterMessageSuffix = DEFAULT_AFTER_MESSAGE_SUFFIX;\n\n    /**\n     * The default value is \"false\" so that the filter may log a \"before\" message\n     * at the start of request processing and an \"after\" message at the end from\n     * when the last asynchronously dispatched thread is exiting.\n     */\n    @Override\n    protected boolean shouldNotFilterAsyncDispatch() {\n        return false;\n    }\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response, final FilterChain filterChain)\n            throws ServletException, IOException {\n\n        final boolean isFirstRequest = !isAsyncDispatch(request);\n        HttpServletRequest requestToUse = request;\n\n        if (includePayload &amp;&amp; isFirstRequest &amp;&amp; !(request instanceof ContentCachingRequestWrapper)) {\n            requestToUse = new ContentCachingRequestWrapper(request, maxPayloadLength);\n        }\n\n        final boolean shouldLog = shouldLog(requestToUse);\n\n        try {\n            filterChain.doFilter(requestToUse, response);\n        } finally {\n            if (shouldLog &amp;&amp; !isAsyncStarted(requestToUse)) {\n                afterRequest(requestToUse, response, getAfterMessage(requestToUse));\n            }\n        }\n    }\n\n    private String getAfterMessage(final HttpServletRequest request) {\n        return createMessage(request, this.afterMessagePrefix, this.afterMessageSuffix);\n    }\n\n    private String createMessage(final HttpServletRequest request, final String prefix, final String suffix) {\n        final StringBuilder msg = new StringBuilder();\n        msg.append(prefix);\n        msg.append(\"uri=\").append(request.getRequestURI());\n\n        if (includeQueryString) {\n            final String queryString = request.getQueryString();\n            if (queryString != null) {\n                msg.append('?').append(queryString);\n            }\n        }\n\n        if (includeClientInfo) {\n            final String client = request.getRemoteAddr();\n            if (StringUtils.hasLength(client)) {\n                msg.append(\";client=\").append(client);\n            }\n            final HttpSession session = request.getSession(false);\n            if (session != null) {\n                msg.append(\";session=\").append(session.getId());\n            }\n            final String user = request.getRemoteUser();\n            if (user != null) {\n                msg.append(\";user=\").append(user);\n            }\n        }\n\n        if (includeHeaders) {\n            msg.append(\";headers=\").append(new ServletServerHttpRequest(request).getHeaders());\n        }\n\n        if (includeHeaders) {\n            final ContentCachingRequestWrapper wrapper = WebUtils.getNativeRequest(request, ContentCachingRequestWrapper.class);\n            if (wrapper != null) {\n                final byte[] buf = wrapper.getContentAsByteArray();\n                if (buf.length &gt; 0) {\n                    final int length = Math.min(buf.length, maxPayloadLength);\n                    String payload;\n                    try {\n                        payload = new String(buf, 0, length, wrapper.getCharacterEncoding());\n                    } catch (final UnsupportedEncodingException ex) {\n                        payload = \"[unknown]\";\n                    }\n                    msg.append(\";payload=\").append(payload);\n                }\n            }\n        }\n        msg.append(suffix);\n        return msg.toString();\n    }\n\n    private boolean shouldLog(final HttpServletRequest request) {\n        return true;\n    }\n\n    private void afterRequest(final HttpServletRequest request, final HttpServletResponse response, final String message) {\n        if (response.getStatus() == HttpStatus.BAD_REQUEST.value()) {\n            logger.warn(message);\n        }\n    }\n\n}\n</code></pre>\n"},{"answer_id":49984534,"body":"<p>You can also configure a custom Spring interceptor <code>HandlerInterceptorAdapter</code> for a simplified implementation of pre-only/post-only interceptors:</p>\n\n<pre><code>@Component\npublic class CustomHttpInterceptor extends HandlerInterceptorAdapter {\n\n    @Override\n    public boolean preHandle (final HttpServletRequest request, final HttpServletResponse response,\n            final Object handler)\n            throws Exception {\n\n        // Logs here\n\n        return super.preHandle(request, response, handler);\n    }\n\n    @Override\n    public void afterCompletion(final HttpServletRequest request, final HttpServletResponse response,\n            final Object handler, final Exception ex) {\n        // Logs here\n    }\n}\n</code></pre>\n\n<p>Then, you register as many interceptors as you want:</p>\n\n<pre><code>@Configuration\npublic class WebMvcConfig implements WebMvcConfigurer {\n\n    @Autowired\n    CustomHttpInterceptor customHttpInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(customHttpInterceptor).addPathPatterns(\"/endpoints\");\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<p><strong><em>Note:</strong> <a href=\"https://stackoverflow.com/a/42023374/1269558\">just like stated by @Robert</a>, you need to pay attention to the specific implementations of <code>HttpServletRequest</code> and <code>HttpServletResponse</code> your application is using.</em> </p>\n\n<p>For example, for apps using the <code>ShallowEtagHeaderFilter</code>, the response implementation would be a <code>ContentCachingResponseWrapper</code>, so you'd have:</p>\n\n<pre><code>@Component\npublic class CustomHttpInterceptor extends HandlerInterceptorAdapter {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(CustomHttpInterceptor.class);\n\n    private static final int MAX_PAYLOAD_LENGTH = 1000;\n\n    @Override\n    public void afterCompletion(final HttpServletRequest request, final HttpServletResponse response,\n            final Object handler, final Exception ex) {\n        final byte[] contentAsByteArray = ((ContentCachingResponseWrapper) response).getContentAsByteArray();\n\n        LOGGER.info(\"Request body:\\n\" + getContentAsString(contentAsByteArray, response.getCharacterEncoding()));\n    }\n\n    private String getContentAsString(byte[] buf, String charsetName) {\n        if (buf == null || buf.length == 0) {\n            return \"\";\n        }\n\n        try {\n            int length = Math.min(buf.length, MAX_PAYLOAD_LENGTH);\n\n            return new String(buf, 0, length, charsetName);\n        } catch (UnsupportedEncodingException ex) {\n            return \"Unsupported Encoding\";\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":97833087,"body":"I am trying to use it in spring mvc and it&#39;s not working for me, It is required any additional setting except registering this bean and adding logger?"}],"answer_id":50954543,"body":"<p>If you are seeing only part of your request payload, you need to call the <code>setMaxPayloadLength</code> function as it defaults to showing only 50 characters in your request body.  Also, setting <code>setIncludeHeaders</code> to false is a good idea if you don't want to log your auth headers! </p>\n\n<pre><code>@Bean\npublic CommonsRequestLoggingFilter requestLoggingFilter() {\n    CommonsRequestLoggingFilter loggingFilter = new CommonsRequestLoggingFilter();\n    loggingFilter.setIncludeClientInfo(false);\n    loggingFilter.setIncludeQueryString(false);\n    loggingFilter.setIncludePayload(true);\n    loggingFilter.setIncludeHeaders(false);\n    loggingFilter.setMaxPayloadLength(500);\n    return loggingFilter;\n}\n</code></pre>\n"},{"comments":[{"comment_id":98100246,"body":"Great answer, only suggestion would be to collect all the output into a buffer and log in a single statement."},{"comment_id":117507409,"body":"what if the api is returning Huge Stream of File. how to handle that?"}],"answer_id":50975133,"body":"<p>Please refer to below link for actual answer\n<a href=\"https://gist.github.com/int128/e47217bebdb4c402b2ffa7cc199307ba\" rel=\"noreferrer\">https://gist.github.com/int128/e47217bebdb4c402b2ffa7cc199307ba</a></p>\n\n<p>Made some changes from above referred solution , request and response will log in console and in file too if logger level is info. we can print either in console or file.</p>\n\n<pre><code>@Component\npublic class LoggingFilter extends OncePerRequestFilter {\n\nprivate static final List&lt;MediaType&gt; VISIBLE_TYPES = Arrays.asList(\n        MediaType.valueOf(\"text/*\"),\n        MediaType.APPLICATION_FORM_URLENCODED,\n        MediaType.APPLICATION_JSON,\n        MediaType.APPLICATION_XML,\n        MediaType.valueOf(\"application/*+json\"),\n        MediaType.valueOf(\"application/*+xml\"),\n        MediaType.MULTIPART_FORM_DATA\n        );\nLogger log = LoggerFactory.getLogger(ReqAndResLoggingFilter.class);\nprivate static final Path path = Paths.get(\"/home/ramesh/loggerReq.txt\");\nprivate static BufferedWriter writer = null;\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    try {\n        writer = Files.newBufferedWriter(path, Charset.forName(\"UTF-8\"));\n    if (isAsyncDispatch(request)) {\n        filterChain.doFilter(request, response);\n    } else {\n        doFilterWrapped(wrapRequest(request), wrapResponse(response), filterChain);\n    }\n    }finally {\n        writer.close();\n    }\n}\n\nprotected void doFilterWrapped(ContentCachingRequestWrapper request, ContentCachingResponseWrapper response, FilterChain filterChain) throws ServletException, IOException {\n    try {\n        beforeRequest(request, response);\n        filterChain.doFilter(request, response);\n    }\n    finally {\n        afterRequest(request, response);\n        response.copyBodyToResponse();\n    }\n}\n\nprotected void beforeRequest(ContentCachingRequestWrapper request, ContentCachingResponseWrapper response) throws IOException {\n    if (log.isInfoEnabled()) {\n        logRequestHeader(request, request.getRemoteAddr() + \"|&gt;\");\n    }\n}\n\nprotected void afterRequest(ContentCachingRequestWrapper request, ContentCachingResponseWrapper response) throws IOException {\n    if (log.isInfoEnabled()) {\n        logRequestBody(request, request.getRemoteAddr() + \"|&gt;\");\n        logResponse(response, request.getRemoteAddr() + \"|&lt;\");\n    }\n}\n\nprivate void logRequestHeader(ContentCachingRequestWrapper request, String prefix) throws IOException {\n    String queryString = request.getQueryString();\n    if (queryString == null) {\n        printLines(prefix,request.getMethod(),request.getRequestURI());\n        log.info(\"{} {} {}\", prefix, request.getMethod(), request.getRequestURI());\n    } else {\n        printLines(prefix,request.getMethod(),request.getRequestURI(),queryString);\n        log.info(\"{} {} {}?{}\", prefix, request.getMethod(), request.getRequestURI(), queryString);\n    }\n    Collections.list(request.getHeaderNames()).forEach(headerName -&gt;\n    Collections.list(request.getHeaders(headerName)).forEach(headerValue -&gt;\n    log.info(\"{} {}: {}\", prefix, headerName, headerValue)));\n    printLines(prefix);\n    printLines(RequestContextHolder.currentRequestAttributes().getSessionId());\n    log.info(\"{}\", prefix);\n\n    log.info(\" Session ID: \", RequestContextHolder.currentRequestAttributes().getSessionId());\n}\n\nprivate void printLines(String ...args) throws IOException {\n\n    try {\n    for(String varArgs:args) {\n            writer.write(varArgs);\n            writer.newLine();\n    }\n        }catch(IOException ex){\n            ex.printStackTrace();\n    }\n\n}\n\nprivate void logRequestBody(ContentCachingRequestWrapper request, String prefix) {\n    byte[] content = request.getContentAsByteArray();\n    if (content.length &gt; 0) {\n        logContent(content, request.getContentType(), request.getCharacterEncoding(), prefix);\n    }\n}\n\nprivate void logResponse(ContentCachingResponseWrapper response, String prefix) throws IOException {\n    int status = response.getStatus();\n    printLines(prefix, String.valueOf(status), HttpStatus.valueOf(status).getReasonPhrase());\n    log.info(\"{} {} {}\", prefix, status, HttpStatus.valueOf(status).getReasonPhrase());\n    response.getHeaderNames().forEach(headerName -&gt;\n    response.getHeaders(headerName).forEach(headerValue -&gt;\n    log.info(\"{} {}: {}\", prefix, headerName, headerValue)));\n    printLines(prefix);\n    log.info(\"{}\", prefix);\n    byte[] content = response.getContentAsByteArray();\n    if (content.length &gt; 0) {\n        logContent(content, response.getContentType(), response.getCharacterEncoding(), prefix);\n    }\n}\n\nprivate void logContent(byte[] content, String contentType, String contentEncoding, String prefix) {\n    MediaType mediaType = MediaType.valueOf(contentType);\n    boolean visible = VISIBLE_TYPES.stream().anyMatch(visibleType -&gt; visibleType.includes(mediaType));\n    if (visible) {\n        try {\n            String contentString = new String(content, contentEncoding);\n            Stream.of(contentString.split(\"\\r\\n|\\r|\\n\")).forEach(line -&gt; {\n                try {\n                    printLines(line);\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            });\n//              log.info(\"{} {}\", prefix, line));\n        } catch (UnsupportedEncodingException e) {\n            log.info(\"{} [{} bytes content]\", prefix, content.length);\n        }\n    } else {\n\n        log.info(\"{} [{} bytes content]\", prefix, content.length);\n    }\n}\n\nprivate static ContentCachingRequestWrapper wrapRequest(HttpServletRequest request) {\n    if (request instanceof ContentCachingRequestWrapper) {\n        return (ContentCachingRequestWrapper) request;\n    } else {\n        return new ContentCachingRequestWrapper(request);\n    }\n}\n\nprivate static ContentCachingResponseWrapper wrapResponse(HttpServletResponse response) {\n    if (response instanceof ContentCachingResponseWrapper) {\n        return (ContentCachingResponseWrapper) response;\n    } else {\n        return new ContentCachingResponseWrapper(response);\n    }\n}\n} \n</code></pre>\n\n<p>Output in File:</p>\n\n<pre><code>127.0.0.1|&gt;\nPOST\n/createUser\n127.0.0.1|&gt;\nsession Id:C0793464532E7F0C7154913CBA018B2B\nRequest:\n{\n  \"name\": \"asdasdas\",\n  \"birthDate\": \"2018-06-21T17:11:15.679+0000\"\n}\n127.0.0.1|&lt;\n200\nOK\n127.0.0.1|&lt;\nResponse:\n{\"name\":\"asdasdas\",\"birthDate\":\"2018-06-21T17:11:15.679+0000\",\"id\":4}\n</code></pre>\n"},{"comments":[{"comment_id":104443115,"body":"<code>new ObjectMapper()</code> is expensive, better share one mapper for all"},{"comment_id":104447803,"body":"Yeah, sure. This is demo code. In production we have to follow best practices."}],"answer_id":52164562,"body":"<p>Currently Spring Boot has the Actuator feature to get the logs of requests and responses.</p>\n<p>But you can also get the logs using Aspect(AOP).</p>\n<p>Aspect provides you with annotations like: <code>@Before</code>,  <code>@AfterReturning</code>, <code>@AfterThrowing</code> etc.</p>\n<p><code>@Before</code> logs the request, <code>@AfterReturning</code> logs the response and <code>@AfterThrowing</code> logs the error message,\nYou may not need all endpoints' log, so you can apply some filters on the packages.</p>\n<p><strong>Here are some examples</strong>:</p>\n<p><strong>For Request:</strong></p>\n<pre><code>@Before(&quot;within(your.package.where.endpoints.are..*)&quot;)\n    public void endpointBefore(JoinPoint p) {\n        if (log.isTraceEnabled()) {\n            log.trace(p.getTarget().getClass().getSimpleName() + &quot; &quot; + p.getSignature().getName() + &quot; START&quot;);\n            Object[] signatureArgs = p.getArgs();\n\n\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.enable(SerializationFeature.INDENT_OUTPUT);\n            try {\n\n                if (signatureArgs[0] != null) {\n                    log.trace(&quot;\\nRequest object: \\n&quot; + mapper.writeValueAsString(signatureArgs[0]));\n                }\n            } catch (JsonProcessingException e) {\n            }\n        }\n    }\n</code></pre>\n<p>Here <code>@Before(&quot;within(your.package.where.endpoints.are..*)&quot;)</code> has the package path. All endpoints within this package will generate the log.</p>\n<p><strong>For Response:</strong></p>\n<pre><code>@AfterReturning(value = (&quot;within(your.package.where.endpoints.are..*)&quot;),\n            returning = &quot;returnValue&quot;)\n    public void endpointAfterReturning(JoinPoint p, Object returnValue) {\n        if (log.isTraceEnabled()) {\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.enable(SerializationFeature.INDENT_OUTPUT);\n            try {\n                log.trace(&quot;\\nResponse object: \\n&quot; + mapper.writeValueAsString(returnValue));\n            } catch (JsonProcessingException e) {\n                System.out.println(e.getMessage());\n            }\n            log.trace(p.getTarget().getClass().getSimpleName() + &quot; &quot; + p.getSignature().getName() + &quot; END&quot;);\n        }\n    }\n</code></pre>\n<p>Here <code>@AfterReturning(&quot;within(your.package.where.endpoints.are..*)&quot;)</code> has the package path. All endpoints within this package will generate the log. Also <code>Object returnValue</code> contains the response.</p>\n<p><strong>For Exception:</strong></p>\n<pre><code>@AfterThrowing(pointcut = (&quot;within(your.package.where.endpoints.are..*)&quot;), throwing = &quot;e&quot;)\npublic void endpointAfterThrowing(JoinPoint p, Exception e) throws DmoneyException {\n    if (log.isTraceEnabled()) {\n        System.out.println(e.getMessage());\n\n        e.printStackTrace();\n\n\n        log.error(p.getTarget().getClass().getSimpleName() + &quot; &quot; + p.getSignature().getName() + &quot; &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>Here <code>@AfterThrowing(pointcut = (&quot;within(your.package.where.endpoints.are..*)&quot;), throwing = &quot;e&quot;)</code>  has the package path. All endpoints within this package will generate the log. Also <code>Exception e</code> contains the error response.</p>\n<p>Here is the full code:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport org.apache.log4j.Logger;\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.AfterReturning;\nimport org.aspectj.lang.annotation.AfterThrowing;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Before;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Order(1)\n@Component\n@ConditionalOnExpression(&quot;${endpoint.aspect.enabled:true}&quot;)\npublic class EndpointAspect {\n    static Logger log = Logger.getLogger(EndpointAspect.class);\n\n    @Before(&quot;within(your.package.where.is.endpoint..*)&quot;)\n    public void endpointBefore(JoinPoint p) {\n        if (log.isTraceEnabled()) {\n            log.trace(p.getTarget().getClass().getSimpleName() + &quot; &quot; + p.getSignature().getName() + &quot; START&quot;);\n            Object[] signatureArgs = p.getArgs();\n\n\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.enable(SerializationFeature.INDENT_OUTPUT);\n            try {\n\n                if (signatureArgs[0] != null) {\n                    log.trace(&quot;\\nRequest object: \\n&quot; + mapper.writeValueAsString(signatureArgs[0]));\n                }\n            } catch (JsonProcessingException e) {\n            }\n        }\n    }\n\n    @AfterReturning(value = (&quot;within(your.package.where.is.endpoint..*)&quot;),\n            returning = &quot;returnValue&quot;)\n    public void endpointAfterReturning(JoinPoint p, Object returnValue) {\n        if (log.isTraceEnabled()) {\n            ObjectMapper mapper = new ObjectMapper();\n            mapper.enable(SerializationFeature.INDENT_OUTPUT);\n            try {\n                log.trace(&quot;\\nResponse object: \\n&quot; + mapper.writeValueAsString(returnValue));\n            } catch (JsonProcessingException e) {\n                System.out.println(e.getMessage());\n            }\n            log.trace(p.getTarget().getClass().getSimpleName() + &quot; &quot; + p.getSignature().getName() + &quot; END&quot;);\n        }\n    }\n\n\n    @AfterThrowing(pointcut = (&quot;within(your.package.where.is.endpoint..*)&quot;), throwing = &quot;e&quot;)\n    public void endpointAfterThrowing(JoinPoint p, Exception e) throws Exception {\n        if (log.isTraceEnabled()) {\n            System.out.println(e.getMessage());\n\n            e.printStackTrace();\n\n\n            log.error(p.getTarget().getClass().getSimpleName() + &quot; &quot; + p.getSignature().getName() + &quot; &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Here, using <code>@ConditionalOnExpression(&quot;${endpoint.aspect.enabled:true}&quot;)</code> you can enable/disable the log. just add <code>endpoint.aspect.enabled:true</code> into the <code>application.property</code> and control the log</p>\n<p>More info about AOP visit here:</p>\n<p><a href=\"https://docs.spring.io/spring/docs/4.3.15.RELEASE/spring-framework-reference/html/aop.html\" rel=\"noreferrer\">Spring docs about AOP</a></p>\n<p><a href=\"https://www.javacodegeeks.com/2012/06/simple-introduction-to-aop.html\" rel=\"noreferrer\">Sample article about AOP</a></p>\n"},{"comments":[{"comment_id":120469971,"body":"This does not show the request body i suppose."},{"comment_id":123298233,"body":"You also need to add an <code>InMemoryHttpTraceRepository</code> Bean. See: <a href=\"https://juplo.de/actuator-httptrace-does-not-work-with-spring-boot-2-2/\" rel=\"nofollow noreferrer\">juplo.de/actuator-httptrace-does-not-work-with-spring-boot-2&zwnj;&#8203;-2</a>"}],"answer_id":52749255,"body":"<p>Here my solution (Spring 2.0.x)</p>\n\n<p>Add the maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Edit the <strong>application.properties</strong> and add the following line:</p>\n\n<pre><code>management.endpoints.web.exposure.include=* \n</code></pre>\n\n<p>Once your spring boot application is started you can track the latest 100 http requests by calling this url: \n<em><a href=\"http://localhost:8070/actuator/httptrace\" rel=\"noreferrer\">http://localhost:8070/actuator/httptrace</a></em></p>\n"},{"answer_id":59436033,"body":"<p>the code pasted below works with my tests and can be downloaded from my [github project][1], sharing after applying a solution based on that on a production project.</p>\n\n<pre><code>@Configuration\npublic class LoggingFilter extends GenericFilterBean {\n\n    /**\n     * It's important that you actually register your filter this way rather then just annotating it\n     * as @Component as you need to be able to set for which \"DispatcherType\"s to enable the filter\n     * (see point *1*)\n     * \n     * @return\n     */\n    @Bean\n    public FilterRegistrationBean&lt;LoggingFilter&gt; initFilter() {\n        FilterRegistrationBean&lt;LoggingFilter&gt; registrationBean = new FilterRegistrationBean&lt;&gt;();\n        registrationBean.setFilter(new LoggingFilter());\n\n        // *1* make sure you sett all dispatcher types if you want the filter to log upon\n        registrationBean.setDispatcherTypes(EnumSet.allOf(DispatcherType.class));\n\n        // *2* this should put your filter above any other filter\n        registrationBean.setOrder(Ordered.HIGHEST_PRECEDENCE);\n\n        return registrationBean;\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        ContentCachingRequestWrapper wreq = \n            new ContentCachingRequestWrapper(\n                (HttpServletRequest) request);\n\n        ContentCachingResponseWrapper wres = \n            new ContentCachingResponseWrapper(\n                (HttpServletResponse) response);\n\n        try {\n\n            // let it be ...\n            chain.doFilter(wreq, wres);\n\n            // makes sure that the input is read (e.g. in 404 it may not be)\n            while (wreq.getInputStream().read() &gt;= 0);\n\n            System.out.printf(\"=== REQUEST%n%s%n=== end request%n\",\n                    new String(wreq.getContentAsByteArray()));\n\n            // Do whatever logging you wish here, in this case I'm writing request \n            // and response to system out which is probably not what you wish to do\n            System.out.printf(\"=== RESPONSE%n%s%n=== end response%n\",\n                    new String(wres.getContentAsByteArray()));\n\n            // this is specific of the \"ContentCachingResponseWrapper\" we are relying on, \n            // make sure you call it after you read the content from the response\n            wres.copyBodyToResponse();\n\n            // One more point, in case of redirect this will be called twice! beware to handle that\n            // somewhat\n\n        } catch (Throwable t) {\n            // Do whatever logging you whish here, too\n            // here you should also be logging the error!!!\n            throw t;\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":125898702,"body":"I just answered the same thing and thought maybe best to checkout all the other answers as well. AOP is perfect for logging, as it is cross-cut"}],"answer_id":59693356,"body":"<p>In order to log all the requests with input parameters and body, we can use <strong>filters</strong> and <strong>interceptors</strong>. But while using a filter or interceptor, we cannot print the request body multiple times.\nThe better way is we can use spring-AOP. By using this we can decouple the logging mechanism from the application. AOP can be used for logging <strong>Input and output</strong> of <strong>each method</strong> in the application.</p>\n\n<p>My solution is:</p>\n\n<pre><code> import org.aspectj.lang.ProceedingJoinPoint;\n import org.aspectj.lang.annotation.Around;\n import org.aspectj.lang.annotation.Aspect;\n import org.aspectj.lang.annotation.Pointcut;\n import org.aspectj.lang.reflect.CodeSignature;\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n import org.springframework.stereotype.Component;\n import com.fasterxml.jackson.databind.ObjectMapper;\n @Aspect\n @Component\npublic class LoggingAdvice {\nprivate static final Logger logger = \nLoggerFactory.getLogger(LoggingAdvice.class);\n\n//here we can provide any methodName, packageName, className \n@Pointcut(value = \"execution(* com.package.name.*.*.*(..) )\")\npublic void myPointcut() {\n\n}\n\n@Around(\"myPointcut()\")\npublic Object applicationLogger(ProceedingJoinPoint pjt) throws Throwable {\n    ObjectMapper mapper = new ObjectMapper();\n    String methodName = pjt.getSignature().getName();\n    String className = pjt.getTarget().getClass().toString();\n    String inputParams = this.getInputArgs(pjt ,mapper);\n    logger.info(\"method invoked from \" + className + \" : \" + methodName + \"--Request Payload::::\"+inputParams);\n    Object object = pjt.proceed();\n    try {\n        logger.info(\"Response Object---\" + mapper.writeValueAsString(object));\n    } catch (Exception e) {\n    }\n    return object;\n}\n\nprivate String getInputArgs(ProceedingJoinPoint pjt,ObjectMapper mapper) {\n    Object[] array = pjt.getArgs();\n    CodeSignature signature = (CodeSignature) pjt.getSignature();\n\n    StringBuilder sb = new StringBuilder();\n    sb.append(\"{\");\n    int i = 0;\n    String[] parameterNames = signature.getParameterNames();\n    int maxArgs = parameterNames.length;\n    for (String name : signature.getParameterNames()) {\n        sb.append(\"[\").append(name).append(\":\");\n        try {\n            sb.append(mapper.writeValueAsString(array[i])).append(\"]\");\n            if(i != maxArgs -1 ) {\n                sb.append(\",\");\n            }\n        } catch (Exception e) {\n            sb.append(\"],\");\n        }\n        i++;\n    }\n    return sb.append(\"}\").toString();\n}\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"comment_id":117271310,"body":"Adding &quot;logging.level.org.apache.coyote.http11=DEBUG&quot; to application.properties logs request &amp; response but any request made to other back end services using restTemplate are not logged same way."}],"answer_id":61895610,"body":"<p>If you have Spring boot Config server configured then just enable Debug logger for class : </p>\n\n<p><code>Http11InputBuffer.Http11InputBuffer.java</code> </p>\n\n<p>Debugs will log all the requests and  responses for every request</p>\n"},{"comments":[{"comment_id":127253831,"body":"This doesn&#39;t work with latest Spring Boot. <code>&#47;actuator&#47;</code> and <code>&#47;actuator&#47;httptrace</code> will still return 404"},{"comment_id":127254710,"body":"It appears endpoint was changed to <code>&#47;httptrace</code>. All endpoints: <a href=\"https://docs.spring.io/spring-boot/docs/2.1.7.RELEASE/reference/html/production-ready-endpoints.html#production-ready-endpoints-exposing-endpoints\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.1.7.RELEASE/reference/html&zwnj;&#8203;/&hellip;</a>"},{"comment_id":127256147,"body":"You&#39;ll need to find your <code>management.endpoints.web.base-path</code> config if you want to know what the actual endpoint is."},{"comment_id":127256370,"body":"Definitely still needs the HttpTraceRepository Bean in your @Configuration class. Doesn&#39;t work without it."}],"answer_id":64607940,"body":"<p><strong>Has there been any development with Actuator HTTP Trace since the initial question was posted i.e. is there a way to enrich it with the response body?</strong></p>\n<p><strong>What about enriching it with custom metadata from MDC or from Spring-Sleuth or Zipkin, such as traceId and spanId?</strong></p>\n<p><em>Also for me Actuator HTTP Trace didn't work Spring Boot 2.2.3, and I found the fix here: <a href=\"https://juplo.de/actuator-httptrace-does-not-work-with-spring-boot-2-2/\" rel=\"nofollow noreferrer\">https://juplo.de/actuator-httptrace-does-not-work-with-spring-boot-2-2/</a></em></p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot\n  &lt;artifactId&gt;spring-boot-starter-actuator\n&lt;/dependency&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>management.endpoints.web.exposure.include=httptrace\n</code></pre>\n<p><strong>The fix:</strong></p>\n<blockquote>\n<p>The simple fix for this problem is, to add a @Bean of type\nInMemoryHttpTraceRepository to your @Configuration-class:</p>\n</blockquote>\n<pre><code>@Bean\npublic HttpTraceRepository htttpTraceRepository()\n{\n  return new InMemoryHttpTraceRepository();\n}\n</code></pre>\n<p><strong>The Explanation:</strong></p>\n<blockquote>\n<p>The cause of this problem is not a bug, but a legitimate change in the\ndefault configuration. Unfortunately, this change is not noted in the\naccording section of the documentation. Instead it is burried in the\nUpgrade Notes for Spring Boot 2.2</p>\n<p>The default-implementation stores the captured data in memory. Hence,\nit consumes much memory, without the user knowing, or even worse:\nneeding it. This is especially undesirable in cluster environments,\nwhere memory is a precious good. And remember: Spring Boot was\ninvented to simplify cluster deployments!</p>\n<p>That is, why this feature is now turned of by default and has to be\nturned on by the user explicitly, if needed.</p>\n</blockquote>\n"},{"answer_id":65097756,"body":"<p>As <a href=\"https://stackoverflow.com/a/47963056/446591\">suggested previously</a>, <a href=\"https://github.com/zalando/logbook\" rel=\"nofollow noreferrer\">Logbook</a> is just about perfect for this, but I did have a little trouble setting it up when using Java modules, due to a split package between <code>logbook-api</code> and <code>logbook-core</code>.</p>\n<p>For my Gradle + Spring Boot project, I needed</p>\n<h3>build.gradle</h3>\n<pre><code>dependencies {\n    compileOnly group: 'org.zalando', name: 'logbook-api', version: '2.4.1'\n    runtimeOnly group: 'org.zalando', name: 'logbook-spring-boot-starter', version: '2.4.1'\n    //...\n}\n\n</code></pre>\n<h3>logback-spring.xml</h3>\n<pre><code>&lt;configuration&gt;\n    &lt;!-- HTTP Requests and Responses --&gt;\n    &lt;logger name=&quot;org.zalando.logbook&quot; level=&quot;trace&quot; /&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"answer_id":68652184,"body":"<p>Note</p>\n<pre><code> @Bean\npublic CommonsRequestLoggingFilter requestLoggingFilter() {\n...\n}\n</code></pre>\n<p>approach will not work with spring security filter chains.\nYou have to manually add CommonsRequestLoggingFilter like</p>\n<pre><code>protected void configure(HttpSecurity http) throws Exception {\n         HttpSecurity filter = http\n        .cors().and().addFilterBefore(new CommonsRequestLoggingFilter(), CorsFilter.class);\n}\n</code></pre>\n"},{"answer_id":71370341,"body":"<p>you can use Aspect Oriented Programming To Handle All These In One Plcae.</p>\n"},{"answer_id":71658216,"body":"<p>I created a file called LoggingConfig.java with contents:</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.filter.CommonsRequestLoggingFilter;\n\n@Configuration\npublic class LoggingConfig {\n\n    @Bean\n    public CommonsRequestLoggingFilter requestLoggingFilter() {\n        final CommonsRequestLoggingFilter loggingFilter = new CommonsRequestLoggingFilter();\n        loggingFilter.setIncludeClientInfo(true);\n        loggingFilter.setIncludeQueryString(true);\n        loggingFilter.setIncludePayload(true);\n        loggingFilter.setMaxPayloadLength(32768);\n        return loggingFilter;\n    }\n}\n\n</code></pre>\n<p>In application.properties I added:</p>\n<pre><code>logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG\n</code></pre>\n"},{"answer_id":71799297,"body":"<h1>Logging Request + payload in a CUSTOM FORMAT:</h1>\n<p>For a custom format, just override the super implementation of the Spring logger Bean - <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-web/src/main/java/org/springframework/web/filter/AbstractRequestLoggingFilter.java#L314-L322\" rel=\"nofollow noreferrer\">org/springframework/web/filter/AbstractRequestLoggingFilter.java</a></p>\n<p>Let's say we whish skipping GET requests and only tracing write requests (PUT, PATCH, DELETE, etc) with INFO log level:</p>\n<pre><code>@Bean\npublic CommonsRequestLoggingFilter requestLoggingFilter() {\nCommonsRequestLoggingFilter logFilter = new CommonsRequestLoggingFilter() {\n\n  @Override\n  protected boolean shouldLog(HttpServletRequest request) {\n    return logger.isInfoEnabled() &amp;&amp; !Objects.equals(request.getMethod(), &quot;GET&quot;);\n  }\n\n\n  @Override\n  protected void beforeRequest(HttpServletRequest request, String message) {\n    // Do nothing if you need logging payload.\n    // As, Before the Request, the payload is not read from the input-stream, yet.\n  }\n\n\n  @Override\n  protected void afterRequest(HttpServletRequest request, String message) {\n    logger.info(message); // Or log to a file here, as OP asks.\n  }\n\n\n  @Override\n  protected @NonNull String createMessage(HttpServletRequest request, @NonNull String prefix, @NonNull String suffix) {\n    // Output: [PUT][/api/my-entity], user:[my-loging], payload was:[{ &quot;id&quot;: 33, &quot;value&quot;: 777.00}]\n    StringBuilder msg = new StringBuilder()\n        .append(prefix)\n        .append(&quot;[&quot;).append(request.getMethod()).append(&quot;]&quot;)\n        .append(&quot;[&quot;).append(request.getRequestURI()).append(&quot;]&quot;);\n\n    String user = request.getRemoteUser();\n    msg.append(&quot;, user:[&quot;).append(null == user ? &quot;&quot; : user).append(&quot;]&quot;);\n\n    String payload = getMessagePayload(request);\n    if (payload != null) {\n      // It's not null on After event. As, on Before event, the Input stream was not read, yet.\n      msg.append(&quot;, payload was:[&quot;).append(payload.replace(&quot;\\n&quot;, &quot;&quot;)).append(&quot;]&quot;);  // Remove /n to be compliant with elastic search readers.\n    }\n\n    msg.append(suffix);\n    return msg.toString();\n  }\n};\nlogFilter.setBeforeMessagePrefix(&quot;Incoming REST call: --&gt;&gt;&gt;[&quot;);\nlogFilter.setBeforeMessageSuffix(&quot;]...&quot;);\nlogFilter.setAfterMessagePrefix(&quot;REST call processed: -&lt;&lt;&lt;[&quot;);\nlogFilter.setAfterMessageSuffix(&quot;]&quot;);\nlogFilter.setIncludePayload(true);\nlogFilter.setMaxPayloadLength(64000);\nreturn logFilter;\n}\n</code></pre>\n<h1>Loggging Requeest + Response/status:</h1>\n<p>see <a href=\"https://www.baeldung.com/spring-http-logging#custom-request-logging\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-http-logging#custom-request-logging</a></p>\n<p><em>(I can add the exact code example to here if the answer gets the demand/ reaches 50+ upvotes)</em></p>\n"},{"comments":[{"comment_id":128591046,"body":"<code>actuator</code> doesn&#39;t log the body of the request or response."},{"comment_id":131496269,"body":"Just mention that after <code>Spring Boot 2.2.0 M3</code> <code>Spring Framework 5.2 M2</code> <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2.0-M3-Release-Notes#actuator-http-trace-and-auditing-are-disabled-by-default\" rel=\"nofollow noreferrer\">actuator http trace and auditing are disabled by default</a> since the default repositories implementations are in-memory and may consume too many resources and are not cluster friendly."}],"answer_id":72786064,"body":"<p>You can use Actuator in Spring Boot.<br />\nIt logs requests and responses and more information about servlet and system operating.<br />\nYou just add it as a dependency of your project and config, if more details needed to log.<br />\nTake a look at this example:<br />\n<a href=\"https://springframework.guru/actuator-in-spring-boot/\" rel=\"nofollow noreferrer\">Actuator in Spring Boot example</a></p>\n"},{"answer_id":75848569,"body":"<p>I created a Filter class which extends the Spring class CommonsRequestLoggingFilter. It logs all requests to file and database.</p>\n<pre><code>package &lt;my.package&gt;\n//...\n\npublic class LogRequestFilter extends CommonsRequestLoggingFilter {\n\n    @Autowired\n    private LogRequestRepository logRequestRepository;\n    \n    @Autowired\n    private ObjectMapper jsonMapper;\n    \n    @Getter\n    @Setter\n    private boolean includeParams = false;\n    \n    @Getter\n    @Setter\n    private boolean includeResponsePayload = false;\n    \n    \n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        \n        long startTime = System.currentTimeMillis();\n        ContentCachingRequestWrapper wrappedRequest = null;\n        ContentCachingResponseWrapper wrappedResponse = null;\n        LogRequest logRequest = null;\n        try {\n            \n            // filter calls by methods\n            if (!request.getMethod().equals(&quot;OPTIONS&quot;)) {\n                \n                // read request\n                String requestHeaders = isIncludeHeaders() ? getRequestHeaders(request) : null;\n                String requestParams = isIncludeParams() ? getRequestParams(request) : null;\n                String requestUri = getRequestURI(request);\n                String userId = getUserId(request);\n                \n                // wrap request/response to intercept them\n                wrappedRequest = new ContentCachingRequestWrapper(request);\n                wrappedResponse = new ContentCachingResponseWrapper(response);\n\n                // forward request\n                super.doFilterInternal(wrappedRequest, wrappedResponse, filterChain);\n                \n                String requestPayload = null;\n                if (isIncludePayload()) {\n                    requestPayload = super.getMessagePayload(wrappedRequest);\n                    if (requestPayload != null &amp;&amp; &quot;application/json&quot;.equalsIgnoreCase(request.getContentType())) {\n                        Object o = jsonMapper.readValue(requestPayload, Object.class);\n                        requestPayload = jsonObjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(o);\n                    }\n                }\n                \n                String responsePayload = null;\n                if (isIncludeResponsePayload()) {\n                    responsePayload = getResponsePayload(wrappedResponse);\n                    if (responsePayload != null &amp;&amp; &quot;application/json&quot;.equalsIgnoreCase(response.getContentType())) {\n                        Object o = jsonMapper.readValue(responsePayload, Object.class);\n                        responsePayload = jsonObjectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(o);\n                    }\n                }\n\n                // prepare log\n                logRequest = new LogRequest();\n                logRequest.setThreadId(Thread.currentThread().getId());\n                logRequest.setRequestHeaders(requestHeaders);\n                logRequest.setRequestParams(requestParams);\n                logRequest.setRequestUri(requestUri.toString());\n                logRequest.setUserId(userId);\n                logRequest.setRequestPayload(requestPayload);\n                logRequest.setResponsePayload(responsePayload);\n                logRequest.setHttpStatus(response.getStatus());\n                //logRequest.setContentType(response.getContentType() + &quot;; charset=&quot; + response.getCharacterEncoding());\n                logRequest.setResponseContentType(response.getContentType());\n                \n            }\n            else {\n                super.doFilterInternal(request, response, filterChain);\n            }\n            \n        }\n        finally {\n            // save log to db\n            if (logRequest != null) {\n                logRequest.setTime((System.currentTimeMillis() - startTime) / 1000.0);\n                logRequestRepository.save(logRequest);\n            }\n            \n            // important! copy to the original response\n            if (wrappedResponse != null)\n                wrappedResponse.copyBodyToResponse();\n        }\n    }\n\n    private String getRequestURI(HttpServletRequest request) {\n        StringBuilder requestUri = new StringBuilder();\n        requestUri.append(request.getMethod()).append(&quot; &quot;).append(request.getRequestURI());\n        if (isIncludeQueryString()) {\n            String queryString = request.getQueryString();\n            if (queryString != null) requestUri.append(&quot;?&quot;).append(queryString);\n        }\n        return requestUri.toString();\n    }\n    \n    private String getUserId(HttpServletRequest request) {\n        String userId = request.getParameter(&quot;userId&quot;);\n        if (userId == null) userId = request.getParameter(&quot;userid&quot;);\n        return userId;\n    }\n\n    private String getRequestParams(HttpServletRequest request) {\n        Enumeration&lt;String&gt; parameterNames = request.getParameterNames();\n        StringBuilder requestParameters = new StringBuilder();\n        while (parameterNames.hasMoreElements()) {\n            String parameterName = parameterNames.nextElement();\n            requestParameters.append(parameterName).append(&quot;: &quot;).append(request.getParameter(parameterName)).append(&quot;\\n&quot;);\n        }\n        return requestParameters.toString();\n    }\n\n    private String getRequestHeaders(HttpServletRequest request) {\n        Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\n        StringBuilder requestHeaders = new StringBuilder();\n        while (headerNames.hasMoreElements()) {\n            String headerName = (String) headerNames.nextElement();\n            requestHeaders.append(headerName).append(&quot;: &quot;).append(request.getHeader(headerName)).append(&quot;\\n&quot;);\n        }\n        return requestHeaders.toString();\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    private String getResponseHeaders(HttpServletResponse response) {\n        Collection&lt;String&gt; responseHeaderNames = response.getHeaderNames();\n        StringBuilder responseHeaders = new StringBuilder();\n        for (Iterator&lt;String&gt; iterator = responseHeaderNames.iterator(); iterator.hasNext();) {\n            String responseHeaderName = iterator.next();\n            responseHeaders.append(responseHeaderName).append(&quot;: &quot;).append(response.getHeader(responseHeaderName)).append(&quot;\\n&quot;);\n        }\n        return responseHeaders.toString();\n    }\n    \n    protected String getResponsePayload(HttpServletResponse response) {\n        ContentCachingResponseWrapper wrapper = WebUtils.getNativeResponse(response, ContentCachingResponseWrapper.class);\n        if (wrapper != null) {\n            byte[] buf = wrapper.getContentAsByteArray();\n            if (buf.length &gt; 0) {\n                int length = Math.min(buf.length, getMaxPayloadLength());\n                try {\n                    return new String(buf, 0, length, wrapper.getCharacterEncoding());\n                }\n                catch (UnsupportedEncodingException ex) {\n                    return &quot;[unknown]&quot;;\n                }\n            }\n        }\n        return null;\n    }\n    \n}\n</code></pre>\n<p>I configured it in @Configuration class:</p>\n<pre><code>@Value(&quot;${logging.filter.logRequest.maxPayloadLength}&quot;)\npublic int requestLogFilterMaxPayloadLength;\n// etc...\n\n@Bean\npublic CommonsRequestLoggingFilter requestLogFilter() {\n    LogRequestFilter filter = new LogRequestFilter();\n    filter.setAfterMessagePrefix(&quot;REQUEST:[&quot;);\n    filter.setAfterMessageSuffix(&quot;]&quot;);\n    filter.setIncludeClientInfo(requestLogFilterIncludeClientInfo);\n    filter.setIncludeHeaders(requestLogFilterIncludeHeaders);\n    filter.setIncludeParams(requestLogFilterIncludeParams);\n    filter.setIncludePayload(requestLogFilterIncludePayload);\n    filter.setIncludeResponsePayload(requestLogFilterIncludeResponsePayload);   \n    filter.setIncludeQueryString(requestLogFilterIncludeQueryString);\n    filter.setMaxPayloadLength(requestLogFilterMaxPayloadLength);\n    return filter;\n}\n</code></pre>\n<p>and finally in the application.yml:</p>\n<pre><code>logging:\n  file: log/logRequest.log\n  filter:\n    logRequest:\n      includeClientInfo: false\n      includeHeaders: true\n      includeParams: true\n      includePayload: true\n      includeQueryString: true\n      includeResponsePayload: true\n      maxPayloadLength: 100000\n  level:\n    root: WARN\n    &lt;my.package&gt;.LogRequestFilter: DEBUG\n</code></pre>\n"},{"answer_id":76287285,"body":"<p>Set <code>org.springframework.web</code> to DEBUG in <code>Spring boot admin</code> or <code>application.properties</code> file.</p>\n"}],"last_activity_date":1684484594,"question_id":33744875,"body":"<p>I'm working on REST API with spring boot. I need to log all requests with input params (with methods, eg. GET, POST, etc.), request path, query string, corresponding class method of this request, also response of this action, both success and errors. For example:</p>\n<p><strong>Successful request:</strong></p>\n<pre><code>http://example.com/api/users/1\n</code></pre>\n<p>Log should look something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   HttpStatus: 200,\n   path: &quot;api/users/1&quot;,\n   method: &quot;GET&quot;,\n   clientIp: &quot;0.0.0.0&quot;,\n   accessToken: &quot;XHGu6as5dajshdgau6i6asdjhgjhg&quot;,\n   method: &quot;UsersController.getUser&quot;,\n   arguments: {\n     id: 1 \n   },\n   response: {\n      user: {\n        id: 1,\n        username: &quot;user123&quot;,\n        email: &quot;user123@example.com&quot;   \n      }\n   },\n   exceptions: []       \n}\n</code></pre>\n<p>Or <strong>request with error:</strong></p>\n<pre><code>http://example.com/api/users/9999\n</code></pre>\n<p>Log should be something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   HttpStatus: 404,\n   errorCode: 101,                 \n   path: &quot;api/users/9999&quot;,\n   method: &quot;GET&quot;,\n   clientIp: &quot;0.0.0.0&quot;,\n   accessToken: &quot;XHGu6as5dajshdgau6i6asdjhgjhg&quot;,\n   method: &quot;UsersController.getUser&quot;,\n   arguments: {\n     id: 9999 \n   },\n   returns: {            \n   },\n   exceptions: [\n     {\n       exception: &quot;UserNotFoundException&quot;,\n       message: &quot;User with id 9999 not found&quot;,\n       exceptionId: &quot;adhaskldjaso98d7324kjh989&quot;,\n       stacktrace: ...................    \n   ]       \n}\n</code></pre>\n<p>I want Request/Response to be a single entity, with custom information related to this entity, both in successful and error cases.</p>\n<p>What is best practice in spring to achieve this, may be with filters? if yes, can you provide concrete example?</p>\n<p>I've played with <code>@ControllerAdvice</code> and <code>@ExceptionHandler</code>, but as I mentioned, I need to handle all success and error requests in single place (and single log).</p>\n"},{"comments":[{"comment_id":134527866,"body":"The configuration inside the plugin is applied whenever you use maven to start your application (either from your IDE or from the command line: &quot;mvn spring-boot:run&quot;). However, once the jar has been generated and you want to run it from the command line. Then you need to state the parameters in the command line.  You can find here a better explanation: <a href=\"https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-run-maven-vs-executable-jar</a>"}],"last_activity_date":1684484149,"question_id":76287246,"body":"<p>What difference between pom.xml jvmargs and java plain args?</p>\n<p>Hi,</p>\n<p>I want know abount what's difference betwwen</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupid&gt;org.springframework.boot&lt;/groupid&gt;\n        &lt;artifactid&gt;spring-boot-maven-plugin&lt;/artifactid&gt;\n        &lt;configuration&gt;\n            &lt;jvmarguments&gt;\n                -Xms1024m -Xmx1024m\n            &lt;/jvmarguments&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n</code></pre>\n<p>and</p>\n<pre><code>java -Xms1024m -Xmx1024m runnable.jar\n</code></pre>\n<p>Some people told me use both of them,</p>\n<p>Is that necessary?</p>\n"},{"comments":[{"comment_id":134519304,"body":"Hello, it looks like you don&#39;t understand the idea of mocking real classes in unit tests. Your tests look more like integration tests and not unit tests. I recommend reading some tutorials first."}],"answers":[{"comments":[{"comment_id":134519756,"body":"Yes, it worked! Could you please clarify a little bit this -&gt; You didn&#39;t stub any of the behavior for your dependencies. You mean adding methods like &quot;when&quot; or something else?"},{"comment_id":134520025,"body":"Yes. This is exactly what I meant."},{"comment_id":134521470,"body":"Do you need some more help?"},{"comment_id":134522717,"body":"I&#39;ll try to handle it by myself, thank you for the help!"}],"answer_id":76282833,"body":"<ol>\n<li>You don't need to use openMocks(). The annotation @ExtendWith(MockitoExtension.class) already did it for you.</li>\n<li>You didn't stub any of the behavior for your dependencies.</li>\n<li>Remove after and before methods. if you want to create Instances for your User and Dto just use private methods. You do not need to create it after every test.</li>\n</ol>\n<p>Here is my example of how it should look. If it worked then you can start refactoring:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class UserServiceTest {\n\n    @Mock\n    private UserDAO userDAO;\n\n    @Mock\n    private ModelMapper modelMapper;\n\n    @InjectMocks\n    private UserService userService;\n\n    @Test\n    public void testFindUser() {\n        // Arrange\n        String username = &quot;testUser&quot;;\n        User user = User.builder()\n                .id(1)\n                .username(username)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n        when(userDAO.findUserByUsername(username)).thenReturn(user);\n\n        UserDTO expectedDto = UserDTO.builder()\n                .id(1)\n                .username(username)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n        when(userDTOMapper.apply(user)).thenReturn(expectedDto);\n        \n        UserDTO result = userService.findUser(username);\n        \n        assertEquals(expectedDto, result);\n    }\n\n    @Test\n    public void testConvertToDto() {\n        // Arrange\n        User user = User.builder()\n                .id(1)\n                .username(&quot;testUser&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n\n        UserDTO expectedDto = UserDTO.builder()\n                .id(1)\n                .username(&quot;testUser&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Doe&quot;)\n                .email(&quot;johndoe@example.com&quot;)\n                .phoneNumber(&quot;123456789&quot;)\n                .role(Role.USER)\n                .build();\n\n        when(modelMapper.map(user, UserDTO.class)).thenReturn(expectedDto);\n        \n        UserDTO result = userService.convertToDto(user);\n\n        assertEquals(expectedDto, result);\n    }\n</code></pre>\n<p>}</p>\n"},{"comments":[{"comment_id":134522743,"body":"It&#39;s more clear now how it actually works. Thank you for the answer."}],"answer_id":76284103,"body":"<p>I can see you have an answer to your question already.</p>\n<p>But here is what <strong>&quot;mocking&quot;</strong> and <strong>&quot;stubbing&quot;</strong> mean in simple words. By mocking your object, you tell the compiler to create a nullified version of the real instance of that object. So while using the methods of that instance, you might get a <strong>NPE</strong> or the method might return the default value of the return data type. Hence, stubbing comes in handy in this case. By using when() method of <em>Mockito</em>, you will teach <em>Mockito</em> how to act upon method calls, whether it should throw an exception, or it should call the real method, or it should do nothing.</p>\n<p>Think of JUnit and Mockito as a 4 year-old kid. When you assign a task to that kid, he might not be able to operate on his own, but he might need some instructions to do something.</p>\n"}],"last_activity_date":1684484116,"question_id":76282637,"body":"<p>I design the test in JUnit using Mockito. The problem is in the following Test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass UserServiceTest {\n    \n    @InjectMocks\n    private UserService userService;\n    @Mock\n    private UserDAO userDAO;\n    @Mock\n    private ModelMapper modelMapper;\n    @Mock\n    private UserDTOMapper userDTOMapper;\n\n    private User user;\n    private UserDTO userDTO;\n\n    private AutoCloseable closeable;\n\n    @BeforeTestMethod\n    public void initMocks(){\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @BeforeEach\n    void setUp() {\n        userDTO = UserDTO.builder()\n                .username(&quot;johnny&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Rogers&quot;)\n                .email(&quot;john@gmail.com&quot;)\n                .phoneNumber(&quot;0123456789&quot;)\n                .role(Role.ADMIN).build();\n        user = User.builder()\n                .username(&quot;johnny&quot;)\n                .password(&quot;johnny123&quot;)\n                .firstname(&quot;John&quot;)\n                .surname(&quot;Rogers&quot;)\n                .email(&quot;john@gmail.com&quot;)\n                .phoneNumber(&quot;0123456789&quot;)\n                .role(Role.ADMIN).build();\n    }\n\n    @Test\n    void findUser() {\n        userDao.sace(user);\n        assertEquals(userDTO, userService.findUser(user.getUsername()));\n    }\n\n    @Test\n    void convertToDto() {\n        assertEquals(userDTO, userDTOMapper.apply(user));\n    }\n\n\n    @AfterTestMethod\n    public void releaseMocks() throws Exception {\n        closeable.close();\n    }\n}\n</code></pre>\n<p>The test is for this service class:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserService {\n\n    private final UserDAO userDAO;\n    private final ModelMapper modelMapper;\n    private final UserDTOMapper userDTOMapper;\n\n    public UserDTO findUser(String username) {\n        User user = userDAO.findUserByUsername(username);\n        return userDTOMapper.apply(user);\n    }\n\n    public UserDTO convertToDto(User user) {\n        return modelMapper.map(user, UserDTO.class);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :UserDTO(id=0, username=johnny, firstname=John, surname=Rogers, email=john@gmail.com, phoneNumber=0123456789, role=USER)\nActual   :null\n&lt;Click to see difference&gt;\n\n\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)\n    at org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:177)\n    at org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1142)\n</code></pre>\n<p>I'm not really sure what's the problem or am I doing something wrong? At first, I thought that the problem is in &quot;@RequiredArgsConstructor&quot; annotation, but that's not a problem. I'm sure that the solution is something simple, but I don't really understand why <strong>all the mocked objects are NULL</strong></p>\n"},{"comments":[{"comment_id":96920783,"body":"Rule of thumb: the statement &quot;there is <b>no chance</b> that. <i>X</i>&quot; is patently <b>false</b> for all <i>X</i>. Just sayin&#39;... (;-&gt;)"}],"answers":[{"answer_id":55087630,"body":"<p>It isn't a must and maybe opinion based, but you are adding interface to enable future flexibility of service,</p>\n\n<p>Although you don't see real usage, it will allow you to use a different implementation of specific services inside unit/integration test </p>\n\n<p>You can add test implementation instead of current implementation and use it instead of real service when executing test (for example by using different Spring profile)</p>\n\n<p>This can be done using mocks as @Simulant points out</p>\n"},{"answer_id":55087639,"body":"<p>I can tell from real world projects, that it works well without interfaces only having the implementing class. Following the principle &quot;You aren't gonna need it&quot; (<a href=\"https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it\" rel=\"noreferrer\">YAGNI</a>), you simplify your code if you follow that rule. Dependency Injection works also well with classes, interfaces are not a requirement for it.</p>\n<p>Sure you can write and reuse test implementations, but you can do the same with mocks e.g. with <a href=\"https://site.mockito.org/\" rel=\"noreferrer\">mockito</a> and overwrite the behavior of your implementation class for test cases.</p>\n"},{"answer_id":55087641,"body":"<p>Wherever you want to reap benefits of dependecy injection (DI) pattern you need to program against abstractions, usually an interface. </p>\n\n<p>There are more benefits to DI, but the most persuasive seems to be it allows unit testing. There your interfaces will get at least one more implementation (the mock implementantion), when you will want to test your class in isolation from its dependencies (those production implementations of the interfaces).</p>\n\n<p>That said, that doesn't mean every class must implement some interface. Some parts of code can be tightly coupled together without problem.</p>\n\n<p>Note that using Spring or not doesn't play role in the use DI/not use DI decision.</p>\n"},{"answer_id":55088028,"body":"<p>As others have suggested it really depends upon the use cases. Although Spring and Java in general started as a verbose language with design where interfaces are suppose to act as what client, the implementation classes, can see but I am finding less and less verbose code these days esp. with Spring Boot and libraries like lombok these days.</p>\n\n<p>So, it is not mandatory to create interfaces for Service, DAO but it is preferred if you are working on a fairly medium code base where there are multiple developers and possibly clients consuming those APIs outside of the application as well. But if you are working for a small or proof of concept projects, you can create a CRUD application on one Java class as well.</p>\n"},{"answer_id":55088184,"body":"<p>Acutally not needed , currently , micro service or mini code base is popular.\nSo normally , in rest api backend , you really do not have chance to have serveral implemention for certain interface . \nIn this situation , concrete class with @Serivice is enough.</p>\n"},{"answer_id":68292494,"body":"<p>I've gone through all the Answers here, But would like to add more on proxy</p>\n<p>AOP can use JDK proxy OR CGlib proxy</p>\n<p>If Class has implemented interface it will use JDK proxy(preferred whenever you have a choice).\nIf Class has not implemented interface it will use CGlib proxy.</p>\n"},{"answer_id":76287242,"body":"<p>Maybe I was unlucky but whenever I have seen microservice based on such interface creation I could argue that it was meaningless. From practical point of view interfaces added no benefit what so ever and it only increased bureaucracy. Despite the fact that it not provided any added value there are always some developers which defend interface creation with various arguments. Actually one should consider what benefits it actually brings right here right now and if there aren't any then ask a question why we are doing it.</p>\n"}],"last_activity_date":1684484111,"question_id":55087578,"body":"<p>In my Spring project I have many simple services to fetching data (just a simple CRUD). The design of the developers that started this project was to create the implementation for each of the service like</p>\n\n<pre><code>public interface UserService\n</code></pre>\n\n<p>and then implementation like</p>\n\n<pre><code>public class UserServiceImpl implements UserService\n</code></pre>\n\n<p>Since there is no chance that <code>UserService</code> will have more implementation I'm really sick of these <code>Impl</code> suffix and the more I read (e.g. <a href=\"https://octoperf.com/blog/2016/10/27/impl-classes-are-evil/\" rel=\"noreferrer\">this article</a>) I'm realising that I have reasons to being sick</p>\n\n<p>I had a discussion with a friend from a team last week and I shared my thoughts with him but what he answered was 'basically you're right but Spring likes interfaces and works with them better than with classes'. </p>\n\n<p>Unfortunately I'm not an expert in Spring and, however I was trying to look for some arguments, I was not able to find an answer was he right.</p>\n\n<p>Are there some strong arguments to use such approach in Spring to have interface for every little service class?</p>\n"},{"comments":[{"comment_id":53305198,"body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2972447/importing-dynamic-web-project-into-eclipse\">Importing Dynamic Web Project into Eclipse</a>"},{"comment_id":53305365,"body":"I did it but still not working"},{"comment_id":60132545,"body":"This may help. <a href=\"http://stackoverflow.com/questions/22601193/eclipse-maven-spring-server-error-when-i-try-to-run-as-server-tomcat-7\" title=\"eclipse maven spring server error when i try to run as server tomcat 7\">stackoverflow.com/questions/22601193/&hellip;</a>"}],"answers":[{"comments":[{"comment_id":132383795,"body":"in my case should be 3.0, not bigger -&gt; that was the deal for me. Downgraded from 4.0 to 3.0 and it worked."}],"answer_id":46783956,"body":"<p>I know that is a bit late, but maybe helps someone in the future. \nGo to Project Facets and make sure you have select the properly java version(in my case should be 1.7 for weblogic 12.1.3) and the version for Dynamic Web Module(in my case should be 3.0, not bigger). \nTo make sure that your app will run, here in project facets, in Runtimes tab, it will be displayed your server.\nThis will work for sure ;)</p>\n"},{"answer_id":58550068,"body":"<p>Simple:   Right click on your project> build path> configure build path>project facets> change the version of java.(current version, which is installed in your computer)</p>\n"},{"answer_id":59441726,"body":"<p>Right-click on project (alt + enter) > properties > project facts. </p>\n\n<p>Make sure that you have selected the checkbox of <strong>Dynamic web module (3.0)</strong> and select the proper <strong>java version (1.8)</strong>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/75lct.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/75lct.png\" alt=\"enter image description here\"></a></p>\n"},{"answer_id":71009848,"body":"<p>Sometimes the server might not be selected in project. Go to properties -&gt; Server\nSelect the server you want to run this project on.</p>\n"},{"answer_id":71057922,"body":"<p>I got this error when I:</p>\n<ol>\n<li>Right click project in Project Explorer</li>\n<li>Select Run As -&gt; Run on Server</li>\n<li>Click Finish without selecting a server</li>\n</ol>\n<p>I was being lazy and thinking that since there is only one server, it would automatically pick that one, but apparently not. It seems odd that the wizard would let me do that and give such a nonsensical error message.</p>\n"},{"answer_id":74493328,"body":"<p>I was getting the same error mentioned in the heading, that the selection could not be run on any server. This was because when we start our JSP application on the server we have to add our resources.</p>\n<ol>\n<li>Right click on the project</li>\n<li>Run application on the server</li>\n<li>Select available server and click Next</li>\n<li>Add resources and click Finish</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ulhRS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ulhRS.png\" alt=\"Image showing results\" /></a></p>\n"},{"answer_id":76286220,"body":"<p>In my case, the <code>html</code> file to run is under <code>webapp\\WEB-INF</code>, after fix move to <code>webapp</code>, it run successfully show the html in browser.</p>\n<p>Besides, in Run On Server view as below, if you directly click <code>Finish</code>, then get error, click the <code>Tomcat v10.1 Server at localhost</code> first and <code>Finish</code>, then works.</p>\n<p><a href=\"https://i.stack.imgur.com/Y0MVa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y0MVa.png\" alt=\"Run On Server\" /></a></p>\n"}],"last_activity_date":1684484063,"question_id":32731672,"body":"<p>I've been working on a dynamic web project in Eclipse. I am getting this error.</p>\n\n<blockquote>\n  <p>\"The selection cannot be run on any server\".</p>\n</blockquote>\n\n<p>Earlier it was working fine but now I'm getting this error. I removed the server and added it again. </p>\n\n<p><code>Project</code>-><code>Right Click</code>-> <code>Properties</code>-><code>Server</code> No server is showing here and two options are there Restore Default and Apply. I am not able to add server here.</p>\n\n<p>Please tell me want is the problem with this.</p>\n\n<p>POM.XML</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;try&lt;/groupId&gt;\n&lt;artifactId&gt;try&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;try Maven Webapp&lt;/name&gt;\n&lt;url&gt;http://maven.apache.org&lt;/url&gt;\n&lt;properties&gt;\n    &lt;spring.version&gt;3.2.0.RELEASE&lt;/spring.version&gt;\n&lt;/properties&gt;\n\n&lt;!-- Dependencies --&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n        &lt;type&gt;maven-plugin&lt;/type&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20140107&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- &lt;dependency&gt; &lt;groupId&gt;org.hibernate&lt;/groupId&gt; &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt; \n        &lt;version&gt;4.2.0.Final&lt;/version&gt; &lt;/dependency&gt; --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.2.132&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;3.2.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-taglibs&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n        &lt;artifactId&gt;jsp-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;${spring.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.8.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n        &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n        &lt;version&gt;1.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-dbcp&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-dbcp&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.8.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;finalName&gt;try&lt;/finalName&gt;\n    &lt;pluginManagement&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n"},{"comments":[{"comment_id":133967339,"body":"What happens if your constants are not capable of being embedded in the opcode, say 999999 or -123456?"},{"comment_id":133967467,"body":"I don&#39;t think this caused the issue since the printed message from visitInsn() tells that the opcode is only 2 and 3 for dummy0 and dummy1"},{"comment_id":134102446,"body":"When you use compile-time constants in Java, the compiled code will use the constant value directly. Therefore, you can not distinguish between uses of <code>dummy1</code>, <code>notStatic</code>, or literal <code>-1</code> in the compiled code."}],"answers":[{"comments":[{"comment_id":134528092,"body":"Tried it with the non-primitive constant <code>final String foo = &quot;foo&quot;;</code>. Was inlined."},{"comment_id":134528358,"body":"Strings are technically still primitives, since in case of constants and literals in bytecode there will be a single LDC instruction, that&#39;&#39;s also the reason why you can use them in annotations."},{"comment_id":134528670,"body":"Not exactly. I can load anything with an ldc, and arrays - which can&#39;t be constant - can be used in an annotation as well. Those things are not related at all."},{"comment_id":134528770,"body":"In this specific case the ldc instructions simply functions as quicker internal way of putting a string literal on the stack, I am aware that it can do more than that but in this context it doesn&#39;t matter. It gets inlined because it is a single instruction putting the value on the stack and not an actual object construction via a new and invokespecial. If you want my answer to explicitly state that every constant that is inlined as literal will be equal to a single bytecode instruction feel free to edit, I&#39;ll gratefully approve it"}],"answer_id":76287232,"body":"<p>As someone said in a comment primitive constants will be inlined as a literal in bytecode, so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int TEST_CONST = 11;\n\nprivate static void bar() {\n    System.out.println(TEST_CONST);\n}\n</code></pre>\n<p>Would compile to</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int TEST_CONST = 11;\n\nprivate static void bar() {\n    System.out.println(11);\n}\n</code></pre>\n<p>However non primitive constants will still have a <code>GETSTATIC</code> reference, for the primitives the best you could do is collect all primitive constants beforehand and then try to guess if a literal is referring to one of them by comparing their values, however this is far from perfect.</p>\n"}],"last_activity_date":1684484055,"question_id":75954598,"body":"<p>I'm trying to check how many times a constant is used in the given classes. My idea is to first use ClassReader.accept(ClassVisitor, ...) to visit the class, and then declare a methodVisitor for each method using MethodVisitor.visitMethod(). Then, for each MethodVisitor, I tried to use visitFieldInsn. However, this method never visits constants. Instead, every other non-constant variables are visited.</p>\n<p>Here's my code:</p>\n<pre><code>import org.objectweb.asm.*;\n\nimport javax.tools.JavaCompiler;\nimport javax.tools.JavaFileObject;\nimport javax.tools.StandardJavaFileManager;\nimport javax.tools.ToolProvider;\nimport java.io.File;\nimport java.io.IOException;\nimport java.lang.reflect.Method;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.*;\nimport java.util.stream.Collectors;\n\npublic class ASMVisitor {\n\n    static class SimpleMethodVisitor extends MethodVisitor {\n        public String currMethodName;\n        public List&lt;String[]&gt; constants = new ArrayList&lt;&gt;();\n        private final Map&lt;Object, Integer&gt; constantFrequencyMap;\n\n        public SimpleMethodVisitor(int api, MethodVisitor methodVisitor, String methodName) {\n            super(Opcodes.ASM9, methodVisitor);\n            currMethodName = methodName;\n            constantFrequencyMap = new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public void visitMethodInsn(int opcode, java.lang.String owner, java.lang.String name, java.lang.String descriptor, boolean isInterface) {\n//            System.out.println(Opcodes.LDC);\n\n//            System.out.println(&quot;Visited method instruction: &quot; + opcode + &quot;, &quot; + owner + &quot;, &quot; + name + &quot;, &quot; + descriptor + &quot;, &quot; + isInterface);\n            super.visitMethodInsn(opcode, owner, name, descriptor, isInterface);\n        }\n\n        public Map&lt;Object, Integer&gt; getConstantFrequencyMap() {\n            return constantFrequencyMap;\n        }\n\n        @Override\n        public void visitLdcInsn(Object cst) {\n//            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains ldc instruction: &quot; + cst);\n            super.visitLdcInsn(cst);\n        }\n\n        @Override\n        public void visitInsn(int opcode) {\n            System.out.println(&quot;Method &quot; + this.currMethodName + &quot; contains instruction: &quot; + opcode);\n            super.visitInsn(opcode);\n        }\n\n        @Override\n        public void visitFieldInsn(int opcode, String owner, String name, String descriptor) {\n            System.out.printf(&quot;FieldInsn: opcode = %s, Owner = %s, Name = %s, Descriptor = %s\\n&quot;,\n                    opcode, owner, name, descriptor);\n            constants.add(new String[]{owner, name, descriptor});\n        }\n\n    }\n\n    static class SimpleClassVisitor extends ClassVisitor {\n        public String currClassName;\n        public Map&lt;String[],Object&gt; constants;\n        public Set&lt;MethodVisitor&gt; mvs = new HashSet&lt;&gt;();\n\n        public SimpleClassVisitor() {\n            super(Opcodes.ASM9);\n            currClassName = &quot;&quot;;\n            this.constants = new HashMap&lt;&gt;();\n        }\n\n        @Override\n        public void visit(int version, int acc, String name,\n                                    String sig, String superName, String[] ifs) {\n            currClassName = name;\n            super.visit(version, acc, name, sig, superName, ifs);\n        }\n\n        @Override\n        public FieldVisitor visitField(int access, String name, String desc, String signature, Object value) {\n            System.out.printf(&quot;visitField: Name = %s, Desc = %s, Signature = %s, Value = %s\\n&quot;,\n                    name, desc, signature, value);\n\n            if (value != null &amp;&amp; (access &amp; Opcodes.ACC_STATIC) != 0) {\n                constants.put(new String[]{currClassName, name, desc}, value);\n            }\n\n            return super.visitField(access, name, desc, signature, value);\n        }\n\n        @Override\n        public MethodVisitor visitMethod(int access, String name, String desc, String signature, String[] exceptions) {\n//            System.out.printf(&quot;visitMethod: Name = %s, Desc = %s, Signature = %s\\n&quot;, name, desc, signature);\n            MethodVisitor methodvisitor = super.visitMethod(access, name, desc, signature, exceptions);\n            MethodVisitor mv = new SimpleMethodVisitor(Opcodes.ASM9, methodvisitor, name);\n            mvs.add(mv);\n            return mv;\n        }\n\n    }\n\n    public static void main(String[] args) throws IOException {\n            ...\n            try {\n                byte[] bytes = Files.readAllBytes(file);\n                ClassReader classReader = new ClassReader(bytes);\n                SimpleClassVisitor scv = new SimpleClassVisitor();\n                classReader.accept(scv, ClassReader.SKIP_FRAMES | ClassReader.SKIP_DEBUG);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>And here is my dummy test</p>\n<pre><code>package DummyTests2;\n\npublic class DummyTest1 {\n    public int publicIVInteger1;\n    public static int notFinal = -1;\n    public final int notStatic = -1;\n    public static final int dummy0 = 0;\n    public static final int dummy1 = -1;\n\n    public DummyTest1() {\n        this.publicIVInteger1 = DummyTest2.dummy1;\n        getPublicIVInteger1();\n    }\n\n    public int getPublicIVInteger1() {\n        setPublicIVInteger1(1);\n        notFinal -= dummy1;\n        notFinal -= dummy0;\n        publicIVInteger1 -= dummy1;\n        publicIVInteger1 -= dummy0;\n\n        return this.publicIVInteger1;\n    }\n\n    public void setPublicIVInteger1(int n) {\n        int localInt = 0;\n        publicIVInteger1 += dummy1;\n    }\n}\n</code></pre>\n<p>In this case, only variables that are not constants are printed out without those constants with static and final like dummy0 and dummy1. I also tried to use visitInsn and seems like constants are visited since the corresponding instructions are visited, but the visitLdcInsn is never visited too. I wonder why constants are not recognized for visitFieldInsn and how can I do to store the frequency of constants into the constantFrequencyMap.</p>\n"},{"comments":[{"comment_id":134527068,"body":"Have you tried what&#39;s written in the error message to get more information about the problem? Also, please don&#39;t post pictures of text. Post the text directly, instead."},{"comment_id":134527122,"body":"This error message is not very informative. Try to click on the parent node <code>Innovation_and_Improvement</code> to see more output. Paste it here in a text format"},{"comment_id":134527125,"body":"Check if the problem reproduces in you launch the project from the command line outside of IntelliJ IDEA"}],"last_activity_date":1684483951,"question_id":76287217,"body":"<p>I am facing this issue while running the project newly built without anything added. Just added directly from spring initialzr. All other of my projects are working fine but this is causing problem. Any solutions might help.<a href=\"https://i.stack.imgur.com/eaGVK.png\" rel=\"nofollow noreferrer\">Relevant Screenshot</a></p>\n<p>Tried everything I could.</p>\n"},{"comments":[{"comment_id":134510139,"body":"If the constants can be assigned at compile time, you should review Eclipse&#39;s Externalized Strings option.  <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.pde.doc.user%2Fguide%2Ftools%2Fpde_actions%2Fexternalize_strings.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/&hellip;</a>"},{"comment_id":134513705,"body":"@Reilas Thank you on your answer, but this won&#39;t solve our problem. :)"}],"answers":[{"answer_id":76287209,"body":"<p>After all investigation I've decided to ask ChatGPT for the help. So, now we have an proper solution for selecting cross-language constants.\nSolution:</p>\n<pre><code>public class TestConstants {\n    public static String STRING_TEXT;\n    public static String NEW_TEXT;\n    public static String ANOTHER_TEXT;\n}\n</code></pre>\n<pre><code>public class EnglishConstants extends TestConstants {\n    static {\n        STRING_TEXT = &quot;String Text in English.&quot;;\n        NEW_TEXT = &quot;New Text in English.&quot;;\n        ANOTHER_TEXT = &quot;Another Text in English.&quot;;\n    }\n}\n</code></pre>\n<pre><code>public class PortugueseConstants extends TestConstants {\n    static {\n        STRING_TEXT = &quot;String Text in Portuguese.&quot;;\n        NEW_TEXT = &quot;New Text in Portuguese.&quot;;\n        ANOTHER_TEXT = &quot;Another Text in Portuguese.&quot;;\n    }\n}\n</code></pre>\n<pre><code>\npublic class ConstantsFactory {\n    public static TestConstants getLanguageConstants(String language) {\n        switch (language) {\n            case &quot;pt-pt&quot;:\n                return new PortugueseConstants();\n            case &quot;en-us&quot;:\n            default:\n                return new EnglishConstants();\n        }\n    }\n}\n</code></pre>\n<pre><code>// Usage example\npublic class MainClass {\n    public static void main(String[] args) {\n        String language = System.getProperty(&quot;language&quot;);\n// Initialization of the TestConstant as language by parameter can be stored //in the BaseTest also\n        TestConstants languageConstants = ConstantsFactory.getLanguageConstants(language);\n\n        String stringText = languageConstants.STRING_TEXT;\n        String newText = languageConstants.NEW_TEXT;\n        String anotherText = languageConstants.ANOTHER_TEXT;\n\n        System.out.println(&quot;String Text: &quot; + stringText);\n        System.out.println(&quot;New Text: &quot; + newText);\n        System.out.println(&quot;Another Text: &quot; + anotherText);\n    }\n}\n</code></pre>\n<p>If you want to run the some test use:</p>\n<pre><code>mvn clean test -Dlanguage=en-en\n</code></pre>\n"}],"last_activity_date":1684483889,"question_id":76273096,"body":"<p>There is a main <strong>TestConstant</strong> class where the strings for testing are stored.</p>\n<pre><code>public class TestConstants {\n   public static final STRING_TEXT;\n}\n</code></pre>\n<p>Then, there is a child class <strong>EnglishConstants</strong>. This class will be used if application is using English language:</p>\n<pre><code>public class EnglishConstants extends TestConstants {\n   public static final STRING_TEXT = &quot;Text in English.&quot;;\n}\n</code></pre>\n<p>At the end, there is a child class <strong>PortugueseConstants</strong>. This class will be used if application is using Portuguese language:</p>\n<pre><code>public class PortugueseConstants extends TestConstants {\n   public static final STRING_TEXT = &quot;Text in Portuguese.&quot;;\n}\n</code></pre>\n<p>What's the point:\nWe want if it is possible, when running the test by Maven build from terminal with &quot;-Dlanguage=&quot; property provided, and based on that property &quot;STRING_TEXT&quot; to be selected in that language.\nSo, if the:</p>\n<pre><code>-Dlanguage=pt-pt is provided\n</code></pre>\n<p>Test has then to use &quot;TestConstants.STRING_TEXT&quot; and to take the value in the Portuguese language from the &quot;PortugueseConstants&quot; class.</p>\n<p>Tried with factory on this question and answer:\n<a href=\"https://stackoverflow.com/a/28602106/9074348\">https://stackoverflow.com/a/28602106/9074348</a></p>\n"},{"comments":[{"comment_id":112604558,"body":"see related <a href=\"https://stackoverflow.com/a/63678543/448779\">stackoverflow.com/a/63678543/448779</a> - may be helpful."}],"answers":[{"comments":[{"comment_id":58229381,"body":"I&#39;m not sure about corresponding option in Android Studio under Windows OS, however original question was about <b>IntelliJ IDEA</b>, which does not have &quot;Instant Run&quot; switch"}],"answer_id":35244129,"body":"<p>Gabor's suggestion seemed to fix this issue for me. On a Mac (and I presume on a Windows machine, but with a different route to get there) go to Preferences:</p>\n\n<p>From the menu bar at the top <strong>Android Studio → Preferences</strong></p>\n\n<p><em>or</em></p>\n\n<p>Hit <strong>⌘ and ,</strong> to jump straight to it.</p>\n\n<p>Then in the menu search box type \"instant\". Uncheck the box that says \"Enable instant run..\", which looks like the image below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vm40k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vm40k.png\" alt=\"enter image description here\"></a></p>\n\n<p>That fixed it for me; didn't even need to restart/kill ADB.</p>\n\n<p>It seems to be enabled by default, and I use it often to hot-swap changes during development, so I didn't think to turn it off when running Espresso tests.</p>\n"},{"comments":[{"comment_id":97604929,"body":"Thank you for suggestion. Please note that original question was about IntelliJ IDEA, so this solution is not applicable"}],"answer_id":55444339,"body":"<p>To get rid of unit test problems in debug mode, I deleted all test folders in android studio explorer, then I commented three test implementation lines in build.gradle(module) file. Then I changed the combobox in android studio menu (top of the IDE) from \"all in app\" to \"app\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/alPrS.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/alPrS.png</a></p>\n"},{"answer_id":63399650,"body":"<p>In my company's case, the fix was to:</p>\n<ol>\n<li>Open <code>Edit Configuration...</code> for <code>All tests</code> (or whatever you renamed it into).</li>\n<li>Switch to <code>Debugger</code> tab.</li>\n<li>And finally, in <code>Debug mode</code> combo-box, select the <code>Java</code> option, because:\n<ul>\n<li>Although we have lots of Native codes,\nAndroid-studio 3.2.1 (which we were using) does not seem to support debugging both (but Java only mode works fine).</li>\n</ul>\n</li>\n</ol>\n<blockquote>\n<p><strong>Note</strong> that we've seen above since Android-studio 3.2.1 until Android-studio 2022.x, <strong>but</strong> above might not be required in some newer version.</p>\n</blockquote>\n"},{"answer_id":65041754,"body":"<p>In my situation, the problem is solved by setting in the test's run configuration:\nShorten command line -&gt; JAR manifest.</p>\n"}],"last_activity_date":1684483611,"question_id":34750611,"body":"<p>I'm using IntelliJ IDEA 15.0.2 (Community Edition) under Windows 7 and Windows 10 Pro, Gradle 2.9, JDK 1.7.0_65. Operating systems installed as guests under VMware Workstation 11.1.3</p>\n\n<p>I have created Android Gradle application with single empty activity and wanted to check how unit test support works. There is a single unit test module ApplicationTest.java created by IDE, it contains only constructor. Right-clicking on [java] folder I created 'All in Module' JUnit3 test configuration.</p>\n\n<p>Tests complete successfully when I Run them, however fail if I Debug the configuration. Failure reason says 'Terminated' (<a href=\"http://i.stack.imgur.com/HSCmS.png\" rel=\"noreferrer\">screenshot</a>, <a href=\"https://drive.google.com/file/d/0B6r9Ag-ygMRaa2VBX0RLUFNhU0U/view?usp=sharing\" rel=\"noreferrer\">IDEA log</a>) which explained in the documentation as 'Test terminated. This status is assigned to tests that were cancelled by clicking the Stop button'. Just want to confirm that I didn't click the Stop button.</p>\n\n<p>Logcat logs don't report any failures, IDE log reports 2 tests passed too. However problem remains as IntelliJ still reports a termination.</p>\n\n<p>Sometimes I also getting 'Test framework quit unexpectedly' error and no tests succeed.</p>\n\n<p>I've done some research and found similar questions, no real solutions mentioned. Have strong suspicion that this is a configuration issue.</p>\n\n<p>What do I do wrong?</p>\n"},{"comments":[{"comment_id":9381768,"body":"What exactly is your problem? And a bit mroe code would be helpfull, what is <code>httpPost</code> e.g.?"},{"comment_id":9381813,"body":"I&#39;m trying to send the curl command (already a Linux terminal command) using a java program. I&#39;ve tried multipart but I don&#39;t need to upload or download the file, it&#39;s rather a transfer between distant repository."},{"comment_id":9381956,"body":"Well, your Java code is incomplete. And we don&#39;t know why it does not work. So post more code please (and yes, we all know what <code>curl</code> is .... sigh). E.g. you don&#39;t call any post-method, so that fragment above can&#39;t work, obviously. You need at least an HttpURLConnection ..."},{"comment_id":9382423,"body":"I&#39;m using org.apache.http.client to communicate with a REST server. I&#39;ve already made requests using cURL. What I&#39;m trying to do now is to execute these requests from a java program. The problem is that in one of the requests need to make a file transfer, with curl It&#39;s made using -F option, the question is how to do it in java ?"},{"comment_id":9382486,"body":"By calling the correct method of your connection object. AGAIN: why can&#39;t you simply edit your question and add ALL your code? <a href=\"http://hc.apache.org/httpclient-3.x/methods/post.html\" rel=\"nofollow noreferrer\">hc.apache.org/httpclient-3.x/methods/post.html</a>"},{"comment_id":9382804,"body":"AGAIN : The problem is just with the -F option, I&#39;ve tested the program with multiple requests and it&#39;s fine"},{"comment_id":9383487,"body":"This should work: <a href=\"http://stackoverflow.com/questions/1067655/how-to-upload-a-file-using-java-httpclient-library-working-with-php-strange-pro\">How to upload a file using Java HttpClient</a>"}],"answers":[{"answer_id":21189398,"body":"<p>I ran across this problem yesterday. Here is a solution that uses Apache http libraries.</p>\n\n<pre><code>package curldashf;\n\nimport java.io.File;\nimport java.io.IOException;\nimport org.apache.commons.io.FileUtils;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.fluent.Request;\nimport org.apache.http.entity.mime.MultipartEntity;\nimport org.apache.http.entity.mime.content.ByteArrayBody;\nimport org.apache.http.util.EntityUtils;\n\npublic class CurlDashF\n{\n    public static void main(String[] args) throws ClientProtocolException, IOException\n    {\n        String filePath = \"file_path\";\n        String url = \"http://localhost/files\";\n        File file = new File(filePath);\n        MultipartEntity entity = new MultipartEntity();\n        entity.addPart(\"file\", new FileBody(file));\n        HttpResponse returnResponse = Request.Post(url)\n            .body(entity)\n            .execute().returnResponse();\n        System.out.println(\"Response status: \" + returnResponse.getStatusLine().getStatusCode());\n        System.out.println(EntityUtils.toString(returnResponse.getEntity()));\n    }\n}\n</code></pre>\n\n<p>Set filePath and url as necessary. If you are using something other than a file, you can substitute FileBody with ByteArrayBody, InputStreamBody or StringBody. My particular situation called for ByteArrayBody but the code above works for a file.</p>\n"}],"last_activity_date":1684483404,"question_id":7713230,"body":"<p>What is the equivalent in java for the following curl command:</p>\n\n<pre><code>curl -X POST -F \"file=@$File_PATH\"\n</code></pre>\n\n<p>The request I want to execute using Java is :</p>\n\n<pre><code>curl -X POST -F 'file=@file_path' http://localhost/files/ \n</code></pre>\n\n<p>I was trying : </p>\n\n<pre><code>            HttpClient httpClient = new DefaultHttpClient();        \n\n    HttpPost httpPost = new HttpPost(_URL);\n\n    File file = new File(PATH);\n\n            MultipartEntity mpEntity = new MultipartEntity();\n        ContentBody cbFile = new FileBody(file, \"bin\");\n        mpEntity.addPart(\"userfile\", cbFile);\n\n        httpPost.setEntity(mpEntity);\n\n    HttpResponse response = httpClient.execute(httpPost);\n    InputStream instream = response.getEntity().getContent();\n</code></pre>\n"},{"last_activity_date":1684482802,"question_id":75810432,"body":"<p>I want to unzip a .7z archive but I'm facing a weird issue.\nMaybe I didn't understood well how to use the &quot;SevenZFile&quot; class from org.apache.commons:commons-compress:1.20.</p>\n<p>Here is my method which use the SevenZfile class :</p>\n<pre><code>    public static void extract7z(File input, File outputDir) throws IOException {\n    SevenZFile sevenZFile = new SevenZFile(input);\n    SevenZArchiveEntry entry;\n    while ((entry = sevenZFile.getNextEntry()) != null) {\n        if (!entry.isDirectory()) {\n            File outputFile = new File(outputDir, entry.getName());\n            outputFile.getParentFile().mkdirs();\n            FileOutputStream outputStream = new FileOutputStream(outputFile);\n            IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\n            outputStream.close();\n        }\n    }\n    sevenZFile.close();\n}\n</code></pre>\n<p>I called this method in the same file in this method :</p>\n<pre><code>    public void saveImage(Context myContext, String myDataset) throws IOException {\n\n    AssetManager assetManager = Objects.requireNonNull(myContext).getAssets();\n    String[] archives = null;\n    String archiveName = myDataset + &quot;.7z&quot;;\n    String archivePath = Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName;\n    File archive = new File(archivePath);\n    File picturesFolder = new File(myContext.getExternalFilesDir(null).getParent(), &quot;Pictures&quot;);\n    picturesFolder.mkdirs();\n    try {\n        archives = assetManager.list(&quot;photos/&quot;+myDataset+&quot;/&quot;+&quot;archive&quot;);\n    } catch (IOException e) {\n        Log.e(&quot;tag&quot;, &quot;Failed to get asset file list.&quot;, e);\n    }\n    if (archives != null) {\n            InputStream in;\n            OutputStream out;\n            try {\n                in = assetManager.open(&quot;photos/&quot; + myDataset + &quot;/&quot; +&quot;archive&quot;+ &quot;/&quot; +&quot;dataset3.7z&quot;);\n                File outFile = new File(Environment.getExternalStorageDirectory() + &quot;/&quot; + archiveName);\n                out = new FileOutputStream(outFile);\n                copyFile(in, out);\n                in.close();\n                out.flush();\n                out.close();\n                extract7z(archive, picturesFolder);\n                MediaScannerConnection.scanFile(myContext, new String[]{outFile.toString()}, null, new MediaScannerConnection.OnScanCompletedListener() {\n                    @Override\n                    public void onScanCompleted(String path, Uri uri) {\n                        Log.i(&quot;External Storage&quot;, &quot;Scanned&quot; + path + &quot;:&quot;);\n                        Log.i(&quot;External Storage&quot;, &quot;uri &quot; + uri);\n\n                    }\n                });\n            } catch (IOException e) {\n                Log.e(&quot;tag&quot;, &quot;Failed to copy asset file: &quot; + archiveName, e);\n\n        }\n    } else {\n        Log.e(&quot;Error NPE&quot;, &quot;null&quot;);\n    }\n}\n</code></pre>\n<p>In this method I copy and then paste my file dataset3.7z from asset file to the external public directory. This step is working fine.\nBut, then, when I wanted to unzip this file in the phone I faced this error :</p>\n<pre><code>Caused by: java.lang.ArrayIndexOutOfBoundsException: length=1000; index=-1\n</code></pre>\n<p>from this line :</p>\n<pre><code>IOUtils.copy(sevenZFile.getInputStream(entry), outputStream);\n</code></pre>\n<p>I don't understand this error, I know my archive is 1000 images, but do I have to loop through the files to unzip them one by one?\nDoes this class work like that ?</p>\n"},{"comments":[{"comment_id":70576104,"body":"Why c tag and java and android tag? I don&#39;t see any C not even JAVA, maybe this is specific to android, but that don&#39;t seem to be."},{"comment_id":70576133,"body":"Also don&#39;t post api keys in public forum, it will be security risk."},{"comment_id":70578215,"body":"@VeeraKannadiga It is a test key."},{"comment_id":74408170,"body":"@maulik Do I need to register for AUA at the uidai portal ? Can&#39;t I just use some test samples for testing purpose ? Thanks"}],"answers":[{"comments":[{"comment_id":74407095,"body":"@M A SIDDIQUI Thank you for your answer. I have some doubts which i would like to clear. What should I assign the values of $encrypted_encoded_session_key, $encrypted_pid_block, $sha256_pid_bloc_encrypted_encoded, $digital_aua_signatrure or else I will get these values from UIDAI portal after AUA registration ?"},{"comment_id":74432591,"body":"@Lokesh those are the keys provided to you You can find that in the doc link"},{"comment_id":74433328,"body":"I have gone through entire doc but didn&#39;t find anywhere"},{"comment_id":74434722,"body":"I am referring to aadhar authentication api 2.0 document"}],"answer_id":41691865,"body":"<p>In the above code you are sending request to version 1.6 while in XML data you have mentioned version 1.5 You are missing some parameters in xml data which is being sent   and those missing data are mandatory. There are some key missing in the request section.</p>\n\n<p>I have solved this as per uidai guide. But haven't got successful response as you didn't provided the some keys and some keys you have provided are invalid. </p>\n\n<pre><code>&lt;?php\n/**\n * Read the documentation here\n * https://uidai.gov.in/images/FrontPageUpdates/aadhaar_authentication_api_1_6.pdf\n */\n$adhar_card_no = \"\";\n\nfunction buildUrl($adhar_card_no)\n{\n    $host = \"http://auth.uidai.gov.in\";\n    $version = 1.6;\n    $aua = \"\";\n    $asalk = \"\";\n    $uid = str_split($adhar_card_no);\n    $url =  $host.\"/\".$version.\"/\".$aua.\"/\".$uid[0].\"/\".$uid[1].\"/\".$asalk;\n    return $url;\n}\n\nfunction requestDataBuilder($uid)\n{\n    $encrypted_encoded_session_key = \"\";\n    $encrypted_pid_block = \"\";\n    $sha256_pid_bloc_encrypted_encoded= \"\";\n    $digital_aua_signatrure= \"\";\n    /**\n     * Authentication data to send request --Mandatory\n     */\n    $auth_data = [\n        \"uid\" =&gt; $uid, //Adhaar Card No.\n        \"tid\" =&gt; \"\", //Terminal Id for registered device else public\n        \"ac\" =&gt; \"\", //10 char unique code, public for testing\n        \"sa\" =&gt; \"\", //max length 10, same as ac possible\n        \"ver\" =&gt; 1.6, //Current version\n        \"txn\" =&gt; \"\", //AUA transaction  identifier. max length 50, not U*\n        \"lk\" =&gt; \"\", //Valid License Key, max length 64\n    ];\n    /**\n     * Uses data comprises of options as yes (y) or no (n) -- Mandatory\n     */\n    $uses_data = [\n        \"pi\" =&gt; \"n\",\n        \"pa\" =&gt; \"n\",\n        \"pfa\" =&gt; \"n\",\n        \"bio\" =&gt; \"n\",\n        \"bt\" =&gt; \"n\",\n        \"pin\" =&gt; \"n\",\n        \"otp\" =&gt; \"n\"\n    ];\n    /**\n     * Token data -- optional\n     */\n    $tkn_data = [\n        \"type\" =&gt; \"001\", //only this option available for now which is mobile no.\n        \"value\" =&gt; \"\" //Mobile no. 10 digit only no prefix\n    ];\n    /**\n     * Meta Data Mandatory\n     */\n    $meta_data = [\n        \"udc\" =&gt; $udc, //[vendorcode][date of deployment][serial number] max length 20\n        \"fdc\" =&gt; \"NA\", //Fingerprint device code. use NA or NC or given code\n        \"idc\" =&gt; \"NA\", //Iris device  code,  us na or NC\n        \"pip\" =&gt; \"NA\", //Public IP address of the device, or NA\n        \"lot\" =&gt; \"P\", //G -lat long format. p for pincode format\n        \"lov\" =&gt; \"110025\" // value as per G and P- my pin change it\n    ];\n    /**\n     * Skey data -- Mandatory\n     */\n    $skey_data = [\n        \"ci\" =&gt; \"\", //Public key certificate Identifier --mandatory\n        \"ki\" =&gt; \"\" //This is for advanced use only, --optional\n    ];\n\n    $format = '&lt;Auth uid=”'.$auth_data['uid'].'” tid =”'.$auth_data['tid'].'” ac=”'.$auth_data['ac'].'” sa=”'.$auth_data['sa'].'” ver=”'.$auth_data['ver'].'” txn=”'.$auth_data['txn'].'” lk=”'.$auth_data['lk'].'”&gt;';\n    $format.= '&lt;Uses pi=”'.$uses_data['pi'].'” pa=”'.$uses_data['pa'].'” pfa=”'.$uses_data['pfa'].'” bio=”'.$uses_data['bio'].'” bt=”'.$uses_data['bt'].'” pin=”'.$uses_data['pin'].'” otp=”'.$uses_data['otp'].'”/&gt;';\n    $format.= '&lt;Tkn type=”'.$tkn_data['type'].'” value=”'.$tkn_data['value'].'”/&gt;';\n    $format.= '&lt;Meta udc=”'.$meta_data['udc'].'” fdc=”'.$meta_data['fdc'].'” idc=”'.$meta_data['idc'].'” pip=”'.$meta_data['pip'].'” lot=”'.$meta_data['lot'].'” lov=”'.$meta_data['lov'].'”/&gt;';\n    $format.= '&lt;Skey ci=”'.$skey_data['ci'].'” ki=”'.$skey_data['ci'].'”&gt;'.$encrypted_encoded_session_key.'&lt;/Skey&gt;';\n    $format.= '&lt;Data type=”X”&gt;'.$encrypted_pid_block.'&lt;/Data&gt;';\n    $format.= '&lt;Hmac&gt;'.$sha256_pid_bloc_encrypted_encoded.'&lt;/Hmac&gt;';\n    $format.= '&lt;Signature&gt;'.$digital_aua_signatrure.'&lt;/Signature&gt;&lt;/Auth&gt;';\n    return $format;\n\n}\n$request_url = buildUrl($adhar_card_no);\n$data_to_send = requestDataBuilder($adhar_card_no);\n//setting the curl parameters.\n$ch = curl_init();\n$curl_options = [\n    CURLOPT_URL =&gt; $request_url,\n    CURLOPT_VERBOSE =&gt; 1,\n    CURLOPT_SSL_VERIFYHOST =&gt; 0,\n    CURLOPT_SSL_VERIFYPEER =&gt; 0,\n    CURLOPT_POST =&gt; 1,\n    CURLOPT_RETURNTRANSFER =&gt; 1,\n    CURLOPT_HTTPHEADER =&gt; array('Content-Type: application/xnl'),\n    CURLOPT_POSTFIELDS =&gt; $data_to_send\n];\ncurl_setopt_array($ch, $curl_options);\nif (curl_errno($ch)) {\n// moving to display page to display curl errors\n    echo curl_errno($ch) ;\n    echo curl_error($ch);\n} else {\n    //getting response from server\n    $response = curl_exec($ch);\n    print_r($response);\n    curl_close($ch);\n}\n</code></pre>\n"},{"comments":[{"comment_id":74479882,"body":"This is not the desired result you should be getting. You are getting error number 569 which state that &quot; Digital signature verification failed (Means that authentication request XML was modified after it was signed). &quot; And also the AuthRes code is &quot;NA&quot;"}],"answer_id":41695070,"body":"<blockquote>\n  <p>get this response</p>\n</blockquote>\n\n<pre><code>                                                                                         &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;AuthRes code=\"NA\" err=\"569\" info=\"02{49951232b1f45f281c7d4f70f3cbbc57c2afd9c0d6bb5f44578bf1304d4868d4,0000000000000000000000000000000000000000000000000000000000000000,0100000000000000,NA,NA,NA,NA,NA,1.6,20ef0f0c8d0eea98772412cea9b3b92612e3e53cb5e59152b5703165f56e8a53,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,NA,efa1f375d76194fa51a3556a97e641e61685f914d446979da50a551a4333ffd7}\" ret=\"n\" ts=\"2017-01-17T16:07:07.664+05:30\" txn=\"AuthDemoClient:public:20160615010712053\"&gt;\n        &lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt;\n            &lt;SignedInfo&gt;\n                &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\"/&gt;\n                &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\"/&gt;\n                &lt;Reference URI=\"\"&gt;\n                    &lt;Transforms&gt;\n                        &lt;Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/&gt;\n                    &lt;/Transforms&gt;\n                    &lt;DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/&gt;\n                    &lt;DigestValue&gt;PTE1p00N0sHAHhrcgK3CwOPA43+3LOY9VRpd6EefPNk=&lt;/DigestValue&gt;\n                &lt;/Reference&gt;\n            &lt;/SignedInfo&gt;\n            &lt;SignatureValue&gt;Rax6Fii6UcgdQB5HyaxhjltUHwfQERLCxdB+7+in29jVo+YKJrK3kwJ3Tk3nJ/+dSTQTitaSg/gY\n    e+mn8E+Txepqy4SMhw9jU+DLCchYnjDUu+8MpUJ6DxlmciwFuWF0oX0KosgJhMwh5+LnkmD81O+G\n    gnZupgwV/eh5NRIJ9+sSdJRYlgjcOs3pT+OcATO6TQR7QOEE0b4hSps6t5cGQX8aCFdBD5ZXe9r8\n    ufYFqoD2o2DRBXeRzWkQGTODdD2Sa0hjWDA4jueZfci9Ybt8R84CnDYGflWO/88nKQClOAJX2f9F\n    /ShVyjoRqStaFrmxsKIEOJ55mONmqn67wkuUWg==&lt;/SignatureValue&gt;\n        &lt;/Signature&gt;\n    &lt;/AuthRes&gt;\n</code></pre>\n"}],"last_activity_date":1684482771,"question_id":41689667,"body":"<p>I want to integrate the Aadhaar Card Authentication in PHP. I can try this code but not get response.\nHow can get the response  using this code other wise where I was wrong? I can find more details of Aadhaar card api but not get response.</p>\n\n<pre><code>&lt;?php\n\n$URL = \"http://auth.uidai.gov.in/1.6/public/9/9/MH4hSkrev2h_Feu0lBRC8NI-iqzT299_qPSSstOFbNFTwWrie29ThDo\";\n\n$xml_data = '&lt;?xml version=\"1.0\"?&gt;         \n    &lt;Auth xmlns=\"http://www.uidai.gov.in/authentication/uid-auth-request/1.0\" \n          ver=\"1.5\" tid=\"public\" ac=\"public\" sa=\"public\" \n          lk=\"MKg8njN6O+QRUmYF+TrbBUCqlrCnbN/Ns6hYbnnaOk99e5UGNhhE/xQ=\" uid=\"999999990019\" \n          txn=\"GEO.11051880\"&gt; \n          &lt;Skey ci=\"20131003\"&gt;Nc6DrZKFk1oQXxfgnFUl0mmtYYIPl0RGaFd2oINkpChU1++xdddMx6Dlbz6mEYs3 \n                IyzChGjRXN5/al9r0runFX8LspTfMchwpxaaDIOyIUguBoYmPUqJDqTQcwey6Ntc \n                TJWFSgOvBg+omUkdbK/9GOQ5KWWrN+E0A9JN0IPU4IJqJZmsA6ETZlVoZteYtoMI \n                Ucv53qmxNPOEmJ3s4BC3ppHRRWRFMUp/eW7DFJ33W+uInZB6yekKE0dz8fYeo03w \n                2JUT1wlafL7aseb04nv5tNEbllHWafmbMpbv2pXKr+WPgytjrygt1LagGqF4a5Mr \n                /UTNwsy4m/YwlkWN0QcYVw== \n          &lt;/Skey&gt; \n          &lt;Uses otp=\"n\" pin=\"n\" bio=\"n\" pa=\"n\" pfa=\"n\" pi=\"y\" /&gt; \n          &lt;Data&gt;YOn05vg5qMwElULpEmdiH0j6rM1XWcbQN0n+CFNQeazouCgjyPBH/a2SwbFgq/fF \n                CYUm+the8gQyYC36VO49NLcNcD7WdMhweoiDYgJoCX/t87Kbq/ABoAetfX7OLAck \n                /mHrTmw8tsfJgo4xGSzKZKr+pVn1O8dDHJjwgptySr7vp2Ntj6ogu6B905rsyTWw \n                73iMgoILDHf5soM3Pvde+/XW5rJD9AIPQGhHnKirwkiAgNIhtWU6ttYg4t6gHHbZ \n                0gVBwgjRzM3sDWKzK0EnmA== \n          &lt;/Data&gt; \n          &lt;Hmac&gt;xy+JPoVN9dsWVm4YPZFwhVBKcUzzCTVvAxikT6BT5EcPgzX2JkLFDls+kLoNMpWe \n          &lt;/Hmac&gt; \n          &lt;Signature xmlns=\"http://www.w3.org/2000/09/xmldsig#\"&gt; \n                &lt;SignedInfo&gt; \n                      &lt;CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\" /&gt; \n                      &lt;SignatureMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#rsa-sha1\" /&gt; \n                      &lt;Reference&gt; \n                            &lt;Transforms&gt; \n                                  &lt;Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\" /&gt; \n                            &lt;/Transforms&gt; \n                            &lt;DigestMethod Algorithm=\"http://www.w3.org/2000/09/xmldsig#sha1\" /&gt; \n                            &lt;DigestValue&gt;Idd9hQtO+YAR4bjfQpNxXQ/EvXc=&lt;/DigestValue&gt; \n                      &lt;/Reference&gt; \n                &lt;/SignedInfo&gt; \n                &lt;SignatureValue&gt;SyFAqzqtJ/VTWcR5cdxoIcsa7GMmgJo7X2Rtr+CVYZLaL2myg3HgaasaT7tPOa95 \n                      xYJwnwA/pl+S7ki+W/4Kq1nraV/wxArgE5hFTUFG8G/MOcuMy9Ajd1VPvuqMGvHA \n                      gzGfV+qTcU+1lhQscYnwJqqFmoViZO7NRVwPcfgadXs=&lt;/SignatureValue&gt; \n                &lt;KeyInfo&gt; \n                      &lt;X509Data&gt; \n                            &lt;X509Certificate&gt;MIICfzCCAeigAwIBAgIGAbAh09VkMA0GCSqGSIb3DQEBBQUAMHoxCzAJBgNVBAYT \n                                  AklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3JlMQ4wDAYDVQQKEwVV \n                                  SURBSTEeMBwGA1UECxMVQXV0aGVudGljYXRpb24gU2VydmVyMRowGAYDVQQDExFV \n                                  SURBSSBBdXRoIFNlcnZlcjAeFw0xMTA2MjgwNDQwNDRaFw0xMjA2MjgwNDQwNDRa \n                                  MGkxCzAJBgNVBAYTAklOMQswCQYDVQQIEwJLQTESMBAGA1UEBxMJQmFuZ2Fsb3Jl \n                                  MRMwEQYDVQQKEwpQdWJsaWMgQVVBMQ8wDQYDVQQLEwZQdWJsaWMxEzARBgNVBAMT \n                                  ClB1YmxpYyBBVUEwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJAoGBAJBEgKhZZNmH \n                                  ejKTFaSg0Z/KN6kP98/FKpPkGTlkovJxa7KX0x74I++JhObM8SkRgCGR3DBK/YZB \n                                  o0ZCbvs9czTEoDA8CBMDSFLEP5z+Zi65hdNT9XQiaeN0sSY7N4cafsS/KH/LESbM \n                                  6I5OLvSGj10aQB8KDgwItvp/7xK6/Vu3AgMBAAGjITAfMB0GA1UdDgQWBBSd3qZJ \n                                  j5lPp+1zkJJCqyZoTLLWAzANBgkqhkiG9w0BAQUFAAOBgQBiGVbCITrygzpC+09u \n                                  R/l8w0hCInLusQMZeXgHcnxBGDSk1AQxKk5UfQmCwHNcRJMB5Zkj8+9n6T+/wx6D \n                                  tKDelktgIoo7w0EJ6MdVJ9Qzr5PJcYzX+ERgJEd/NNNVoPjFc2Al2odjToZdFN8+ \n                                  /upJnBH02TRb1Wq63OtcuyBIFA==&lt;/X509Certificate&gt; \n                            &lt;X509SubjectName&gt;CN=Public AUA,OU=Public,O=Public \n                                  AUA,L=Bangalore,ST=KA,C=IN&lt;/X509SubjectName&gt; \n                      &lt;/X509Data&gt; \n                &lt;/KeyInfo&gt; \n          &lt;/Signature&gt; \n    &lt;/Auth&gt;';\n\n//setting the curl parameters.\n$ch = curl_init();\n\ncurl_setopt($ch, CURLOPT_URL, $URL);\ncurl_setopt($ch, CURLOPT_VERBOSE, 1);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYHOST, 0);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0);\ncurl_setopt($ch, CURLOPT_POST, 1);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($ch, CURLOPT_HTTPHEADER, array('Content-Type: application/xml'));\ncurl_setopt($ch, CURLOPT_POSTFIELDS, $xml_data);\n\nif (curl_errno($ch)) {\n    // moving to display page to display curl errors\n    echo curl_errno($ch);\n    echo curl_error($ch);\n} else {\n    //getting response from server\n    $response = curl_exec($ch);\n    print_r($response);\n\n    curl_close($ch);\n}\n?&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134526245,"body":"@skomisa removed those words from my question"},{"comment_id":134536800,"body":"Update your question to clarify exactly which implementation of <code>HttpClient</code> you are referring to. The link in your question is pointing to documentation from 2008, and its <a href=\"https://hc.apache.org/httpclient-legacy/features.html\" rel=\"nofollow noreferrer\">Features section</a> states <i>&quot;<b>The Commons HttpClient project is now end of life, and is no longer being developed</b>. It has been replaced by the Apache HttpComponents project in its HttpClient and HttpCore modules, which offer better performance and more flexibility.&quot;</i> The JDK has also had an <code>HTTPClient</code> since JDK 11, though I assume you are not referring to that."}],"answers":[{"answer_id":76286624,"body":"<p>It depends on the specific scenario. The TCP three-way handshake is time-consuming, so you should try to use the same TCP connection, also known as a persistent connection or a long connection. In some scenarios, if you don't need to send any further requests based on this socket after sending one request, you can immediately close the connection.</p>\n"}],"last_activity_date":1684482755,"question_id":76286457,"body":"<p>I'm creating a HttpClient as</p>\n<pre><code>new HttpClient(new MultiThreadedHttpConnectionManager());\n</code></pre>\n<p>Should we releaseConnection for org.apache.commons.httpclient after each call? Such as below</p>\n<pre><code>final GetMethod getMethod = new GetMethod(uri);\n\ntry {\n  mHttpClient.executeMethod(getMethod)\n} catch (Exception e) {\n //\n} finally {\n  getMethod.releaseConnection();\n}\n</code></pre>\n<p>From the official doc <a href=\"https://hc.apache.org/httpclient-legacy/performance.html\" rel=\"nofollow noreferrer\">https://hc.apache.org/httpclient-legacy/performance.html</a> it says</p>\n<pre><code>HttpClient always does its best to reuse connections. Connection persistence is enabled by default and requires no configuration. Under some situations this can lead to leaked connections and therefore lost resources. The easiest way to disable connection persistence is to provide or extend a connection manager that force-closes connections upon release in the releaseConnection method.\n</code></pre>\n<p>It's not specifically saying which will be better. Will releaseConnection after each executeMethod degrade performance or have another cons? Or it's better always to releaseConnection after each executeMethod?</p>\n<p>My scenario is not long-living request</p>\n"},{"comments":[{"comment_id":134527126,"body":"This requirement makes no sense. The user can&#39;t change its role. Only administrators can change roles. So the information is useless for regular users. But it is a security issue, because the application exposes security information."},{"comment_id":134527286,"body":"Thanks for chiming in. I can tell you it makes sense in our scenario. When it comes to exposing security information, this is always a balance, and letting the user know that you need a certain role to be allowed to perform it is an acceptable one to make (again in our scenario)."},{"comment_id":134527365,"body":"My point is, that Spring Security is built on security best practices, so I wouldn&#39;t expect support to easy break these best practices. Maybe I&#39;m wrong, we will see if someone answers your question with an easy solution."},{"comment_id":134527644,"body":"telling a user which role is missing is aiding people with malicious intents in their endeavors. I too agree, that its very bad practice to give out any type of security information that aids."},{"comment_id":134528318,"body":"Look, I do not claim that this is not a deviation from the perfect path, but sometimes you have to deal with real-life scenarios. Telling an authenticated user behind (sometimes several) layers of infrastructure security what role they will need to perform a task is useful so they can ask their manager to elevate their privileges. The API docs already mention what role and ACL permissions you are required to hold to perform a certain operation. There is really not any new information exposed other than making your API easier to reason with and debug. Could even have this as a staging/test only"}],"last_activity_date":1684482384,"question_id":76287029,"body":"<p>The <code>AuthorizationManagerBeforeMethodInterceptor</code> has this method that unfortunately makes it really hard to create a custom exception that contains the required information about the required role:</p>\n<pre><code>private void attemptAuthorization(MethodInvocation mi) {\n        this.logger.debug(LogMessage.of(() -&gt; &quot;Authorizing method invocation &quot; + mi));\n        AuthorizationDecision decision = this.authorizationManager.check(this.authentication, mi);\n        this.eventPublisher.publishAuthorizationEvent(this.authentication, mi, decision);\n        if (decision != null &amp;&amp; !decision.isGranted()) {\n            this.logger.debug(LogMessage.of(() -&gt; &quot;Failed to authorize &quot; + mi + &quot; with authorization manager &quot;\n                    + this.authorizationManager + &quot; and decision &quot; + decision));\n            throw new AccessDeniedException(&quot;Access Denied&quot;);\n        }\n        this.logger.debug(LogMessage.of(() -&gt; &quot;Authorized method invocation &quot; + mi));\n    }\n</code></pre>\n<p>I would like to use as little custom code as possible, but I still need to keep the ability to tell the user which role was missing and not just &quot;access denied&quot;.</p>\n<p>Is there a way that we could add a customizer for this?</p>\n"},{"comments":[{"comment_id":134537307,"body":"Your code throws that exception for several different conditions, so you can&#39;t really tell what&#39;s happening.  You need to differentiate the exception causes and log all available data, especially including the HTTP status code, so you can troubleshoot.  Without that as a minimum nobody can help."}],"last_activity_date":1684482279,"question_id":76287017,"body":"<p>I'm having issues with this class that I'm using to download files from SharePoint. The reason I'm reaching out here is that sometimes this method works correctly, and other times it doesn't and displays the error I'm attaching below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package xyz.derivadas.provider.sharepoint;\n\n\n\n\n/**\n * Realiza las inteeracciones con Sharepoint.\n */\n@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class SharePointClient {\n\n    private static final String AUTHORIZATION = &quot;Authorization&quot;;\n    private static final String BEARER = &quot;Bearer &quot;;\n    private static final String ACCEPT = &quot;Accept&quot;;\n    private static final String APPLICATION_OCTET_STREAM = &quot;application/octet-stream&quot;;\n    private static final String DRIVE_ROOT_SEARCH_TOKEN = &quot;/drive/root/search(q='&quot;;\n    private static final String DRIVE_ROOT_SEARCH_TOKEN_CLOSE = &quot;')&quot;;\n    private static final String CHARSET_JSON_SHAREPOINT_RESPONSE = &quot;UTF-8&quot;;\n    private static final String SITES_TOKEN_VALUE = &quot;value&quot;;\n    private static final String EXPECTED_TOKEN_ID = &quot;id&quot;;\n    private final SharePointProperties sharePointProperties;\n\n    /**\n     * Autentica en Microsoft Azure.\n     *\n     * @return {@link IAuthenticationResult}\n     * @throws Exception Si algo falla\n     */\n    private IAuthenticationResult authenticate() throws Exception {\n        ConfidentialClientApplication app = ConfidentialClientApplication\n            .builder(sharePointProperties.getClientId(), ClientCredentialFactory.createFromSecret(sharePointProperties.getClientSecret()))\n            .authority(sharePointProperties.getAuthority() + sharePointProperties.getTenantId())\n            .build();\n\n        ClientCredentialParameters parameters = ClientCredentialParameters\n            .builder(Collections.singleton(this.sharePointProperties.getGraphDefaultSchema()))\n            .build();\n\n        return app.acquireToken(parameters).join();\n    }\n\n    /**\n     * Descarga un fichero (previa autenticacion)\n     *\n     * @param fileUrl       URL en SharePoint\n     * @param localFilePath Ruta donde descargarlo.\n     * @throws Exception Si algo falla\n     */\n    @Async\n    public Optional&lt;Integer&gt; downloadFile(String fileUrl, String localFilePath) throws Exception {\n        checkFileExists(localFilePath);\n\n        IAuthenticationResult result = authenticate();\n        String accessToken = result.accessToken();\n\n        final String graphDownloadUrl = convertToGraphDownloadUrl(fileUrl);\n\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\n            HttpGet httpGet = new HttpGet(graphDownloadUrl);\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\n            httpGet.addHeader(ACCEPT, APPLICATION_OCTET_STREAM);\n\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\n                log.trace(&quot;downloadFile response = {}&quot;, response);\n                int statusCode = response.getStatusLine().getStatusCode();\n                if (statusCode == 200) {\n                    HttpEntity entity = response.getEntity();\n                    if (entity != null) {\n                        try (OutputStream outputStream = new FileOutputStream(localFilePath)) {\n                            entity.writeTo(outputStream);\n                        }\n                    }\n                    return Optional.of(statusCode);\n                } else {\n                    final String responseString = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\n                    log.error(&quot;Error en la descarga del fichero. El codigo de estado no es 200.&quot;);\n                    log.error(&quot;\\tstatusCode = {}&quot;, statusCode);\n                    log.error(&quot;\\tresponse = {}&quot;, responseString);\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\n                }\n            }\n        }\n    }\n\n    /**\n     * Comprueba si el fichero existe.\n     *\n     * @param localFilePath Path que se quiere ver.\n     */\n    private static void checkFileExists(String localFilePath) {\n        File file = new File(localFilePath);\n        if (file.exists()) {\n            throw new OposhieldException(ErrorCode.DUPLICATED_FILE);\n        }\n    }\n\n    /**\n     * Convierte una URL de Sharepoint en una URL de graph\n     *\n     * @param sharePointUrl Sharepoint URL\n     * @return Graph URL\n     * @throws Exception Si algo ha ido mal.\n     */\n    private String convertToGraphDownloadUrl(String sharePointUrl) throws Exception {\n        final String siteId = getSiteId(&quot;Materialesoposiciones&quot;);\n        String itemId = getItemId(siteId, sharePointUrl);\n        return this.sharePointProperties.getGraphApiUrl().replace(&quot;{site-id}&quot;, siteId).replace(&quot;{item-id}&quot;, itemId);\n    }\n\n    private String getItemId(String siteId, String sharePointUrl) throws Exception {\n        IAuthenticationResult result = authenticate();\n        String accessToken = result.accessToken();\n\n        String fileName = sharePointUrl.substring(sharePointUrl.lastIndexOf(&quot;/&quot;) + 1);\n        String itemUrl =\n            this.sharePointProperties.getGraphSitesUrl() + siteId + DRIVE_ROOT_SEARCH_TOKEN + fileName + DRIVE_ROOT_SEARCH_TOKEN_CLOSE;\n\n        return getIdFromURL(accessToken, itemUrl);\n    }\n\n    /**\n     * Obtiene el siteId de graph sobre el nombre de sharepoint\n     *\n     * @param siteName Nombre del sitio en sharepoint\n     * @return SiteId\n     * @throws Exception\n\n     */\n    @Cacheable(&quot;SHAREPOINT_SITE_ID_CACHE&quot;)\n    public String getSiteId(String siteName) throws Exception {\n        IAuthenticationResult result = authenticate();\n        String accessToken = result.accessToken();\n\n        final String siteUrl = this.sharePointProperties.getGraphSitesUrl() + &quot;?search=&quot; + siteName;\n\n        return getIdFromURL(accessToken, siteUrl);\n    }\n\n    /**\n     * Realiza la peticion y procesa el JSON, obteniendo el ID\n     * @param accessToken Token\n     * @param siteUrl Site URL\n     * @return ID String\n     * @throws IOException\n     * @throws JSONException\n     */\n    private static String getIdFromURL(String accessToken, String siteUrl) throws IOException, JSONException {\n        try (CloseableHttpClient httpClient = HttpClients.createDefault()) {\n            HttpGet httpGet = new HttpGet(siteUrl);\n            httpGet.addHeader(AUTHORIZATION, BEARER + accessToken);\n\n            try (CloseableHttpResponse response = httpClient.execute(httpGet)) {\n                int statusCode = response.getStatusLine().getStatusCode();\n                if (statusCode == 200) {\n                    String jsonResponse = EntityUtils.toString(response.getEntity(), CHARSET_JSON_SHAREPOINT_RESPONSE);\n                    JSONObject jsonObject = new JSONObject(jsonResponse);\n                    JSONArray sites = jsonObject.getJSONArray(SITES_TOKEN_VALUE);\n                    if (sites.length() &gt; 0) {\n                        JSONObject site = sites.getJSONObject(0);\n                        return site.getString(EXPECTED_TOKEN_ID);\n                    } else {\n                        throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\n                    }\n                } else {\n                    throw new OposhieldException(ErrorCode.SHAREPOINT_ERROR);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>I've conducted several tests, such as waiting for some time after uploading the file before attempting to download it, or trying to download it immediately, but I haven't been able to achieve anything.</p>\n<pre><code>2023-05-19 07:29:52.927 ERROR 33372 --- [oposhield-task-2] x.d.p.sharepoint.SharePointClient        : Exception in downloadFile() with cause = NULL \n2023-05-19 07:29:52.928 ERROR 33372 --- [oposhield-task-2] .a.i.SimpleAsyncUncaughtExceptionHandler : Unexpected exception occurred invoking async method: public java.util.Optional xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(java.lang.String,java.lang.String) throws java.lang.Exception \n\nxyz.derivadas.domain.error.OposhieldException: Se ha producido un error relacionado con sharepoint\n    at xyz.derivadas.provider.sharepoint.SharePointClient.getIdFromURL(SharePointClient.java:187)\n    at xyz.derivadas.provider.sharepoint.SharePointClient.getItemId(SharePointClient.java:143)\n    at xyz.derivadas.provider.sharepoint.SharePointClient.convertToGraphDownloadUrl(SharePointClient.java:131)\n    at xyz.derivadas.provider.sharepoint.SharePointClient.downloadFile(SharePointClient.java:81)\n    at xyz.derivadas.provider.sharepoint.SharePointClient$$FastClassBySpringCGLIB$$677ff96c.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:64)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n    at xyz.derivadas.aop.logging.LoggingAspect.logAround(LoggingAspect.java:109)\n    at jdk.internal.reflect.GeneratedMethodAccessor108.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at tech.jhipster.async.ExceptionHandlingAsyncTaskExecutor.lambda$createWrappedRunnable$1(ExceptionHandlingAsyncTaskExecutor.java:79)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"comments":[{"comment_id":134536842,"body":"you can have all headers from the RequestContext anytime <a href=\"https://stackoverflow.com/a/70424452/1180963\">stackoverflow.com/a/70424452/1180963</a>"}],"last_activity_date":1684482218,"question_id":76287005,"body":"<p>Unable to convert  all custom HttpHeaders to Java pojo using spring boot.</p>\n<pre><code>@RestController\npublic class ShippingStatusEnquiryController {\n     @PostMapping(&quot;\\enquiry&quot;)\n     public ShippingResponse enquiryShippingStatus(@RequestBody ShippingRequest req, @RequestHeader HttpHeaders headers, ShippingHeaders shippingHeaders){\n  }\n}\n</code></pre>\n<p>Unable to convert to headers to pojo. The below are the shipping headers</p>\n<pre><code>regian\ncountry\nshippingId\n\n</code></pre>\n<p>I am getting null while accessing headers from pojo</p>\n"},{"comments":[{"comment_id":134528126,"body":"Instrument <code>Unsafe.defineClass</code>?"},{"comment_id":134528373,"body":"That is the opposite of what I am trying to do, I want the the &quot;source&quot; bytecode that got defined to a java.lang.Class instance"},{"comment_id":134528393,"body":"No, that is exactly what you want: get the bytes passed to <code>Unsafe.defineClass</code>."},{"comment_id":134528424,"body":"Oh sorry you are right, though it raises the question of how I would do that, I know about agents and redefining classes but could you link an article, blog or thread explaining it since I don&#39;t have much experience with it"},{"comment_id":134556880,"body":"What library are you using? Most libraries allow to get the bytecode in the first place, without the need to intercept the creation of a runtime class."}],"last_activity_date":1684482200,"question_id":76286862,"body":"<p>I'm using a library which generates some classes at runtime, now I want to export them to look at their bytecode since reflection on the classes doesn't give me enough info about them.</p>\n<p>I tried using</p>\n<pre class=\"lang-java prettyprint-override\"><code>generatedClassInstance.getClass().getResourceAsStream(generatedClassInstance.getClass().getSimpleName() + &quot;.class&quot;)\n</code></pre>\n<p>After this not working I looked at how the class is defined/loaded and it is a simple call to Unsafe#defineClass - so the classes bytes aren't stored in any type of collection.</p>\n"},{"answers":[{"comments":[{"comment_id":134520373,"body":"I had added these JVM options specified by grid gain within Intellij IDE and created the war file again for deployment on Tomcat, but even with these options set it appears like it does not resolve the issue"},{"comment_id":134526156,"body":"@Andrew you need to run Tomcat itself with these options, it&#39;s not being &quot;packaged&quot; into the war in any way."},{"comment_id":134532004,"body":"What&#39;s the problem with shutdown.bat?"},{"comment_id":134532037,"body":"i have set these arguments in the tomcat config file Catalina.bat under the Catalina_Opts and ignite now works, however it doesn&#39;t seem like shutdown.bat is working the same as before. Normally when running shutdown.bat it will shutdown the server and close the startup.bat console window. while it does seem to shutdown the server it no longer closes the console. I just want to make sure this is not an issue"}],"answer_id":76282947,"body":"<p>The reason is your Tomcat seems to be running under Java 17. All the deployed apps reside in the same <code>JVM</code>, so you need to run it with proper startup options (with --add-opens). Please refer to the <a href=\"https://www.gridgain.com/docs/latest/getting-started/quick-start/java#running-gridgain-with-java-11\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>This behaviour was introduced as a part of the Jigsaw project - <a href=\"https://openjdk.org/projects/jigsaw/spec/\" rel=\"nofollow noreferrer\">JSR 376</a>.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/44056405/whats-the-difference-between-add-exports-and-add-opens-in-java-9\">question</a> sheds some light as well.</p>\n"}],"last_activity_date":1684481853,"question_id":76281806,"body":"<p>I am currently trying to develop an api that utilizes apache ignite as an in memory cache. In the IDE I am able to get everything running and the ignite cache starts up with no issues. When I try to deploy the war file onto tomcat it seems like there is an issue trying to start up ignite. From what I have seen it looks to be possible but I cant seem to find any configuration settings whether it be in Tomcat or ignite that will allow me to do so.</p>\n<p>The following is my pom.xml dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;ignite.version&gt;2.14.0&lt;/ignite.version&gt;\n        &lt;h2.version&gt;1.4.197&lt;/h2.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!--To enable tomcat deployment--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring-boot-autoconfigure-ext&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-core&lt;/artifactId&gt;\n            &lt;version&gt;${ignite.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.ignite&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\n            &lt;version&gt;${ignite.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>For testing purposes I just start up ignite with</p>\n<pre><code>Ignition.start()\n</code></pre>\n<p>upon requesting an api endpoint to start up the ignite node i see the following error logs in Tomcat</p>\n<pre><code>`2023-05-18T10:17:23.483-04:00 ERROR 2540 --- [nio-8080-exec-6] o.s.b.w.servlet.support.ErrorPageFilter  : Forwarding to error page from request [/test] due to exception [null]\n\njava.lang.ExceptionInInitializerError: null\n        at org.apache.ignite.internal.util.IgniteUtils.&lt;clinit&gt;(IgniteUtils.java:888) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:558) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.IgnitionEx.start(IgnitionEx.java:541) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.Ignition.start(Ignition.java:310) ~[ignite-core-2.14.0.jar:2.14.0]\n        at com.example.demo.testController.test(testController.java:26) ~[classes/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[servlet-api.jar:6.0]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n        at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[servlet-api.jar:6.0]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-websocket.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:124) ~[spring-boot-3.0.6.jar:3.0.6]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter$1.doFilterInternal(ErrorPageFilter.java:99) ~[spring-boot-3.0.6.jar:3.0.6]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.boot.web.servlet.support.ErrorPageFilter.doFilter(ErrorPageFilter.java:117) ~[spring-boot-3.0.6.jar:3.0.6]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:676) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[catalina.jar:10.1.8]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[catalina.jar:10.1.8]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-coyote.jar:10.1.8]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-util.jar:10.1.8]\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-util.jar:10.1.8]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-util.jar:10.1.8]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\nCaused by: java.lang.RuntimeException: java.nio.DirectByteBuffer.address field is unavailable.\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1570) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n        at org.apache.ignite.internal.util.GridUnsafe.bufferAddressOffset(GridUnsafe.java:1557) ~[ignite-core-2.14.0.jar:2.14.0]\n        at org.apache.ignite.internal.util.GridUnsafe.&lt;clinit&gt;(GridUnsafe.java:109) ~[ignite-core-2.14.0.jar:2.14.0]\n        ... 62 common frames omitted\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field long java.nio.Buffer.address accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @34967d5f\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[na:na]\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[na:na]\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178) ~[na:na]\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:172) ~[na:na]\n        at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1562) ~[ignite-core-2.14.0.jar:2.14.0]\n        ... 66 common frames omitted`\n</code></pre>\n"},{"answers":[{"answer_id":76284674,"body":"<p>Could you try replacing <em>index</em> with <em>create</em> like this?</p>\n<pre><code>br.operations(op -&gt; op           \n        .create(c -&gt; c            \n            .index(&quot;products&quot;)       \n            .id(product.getSku())\n            .document(product)\n        )\n    );\n</code></pre>\n<p>Reading the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/8.7/docs-bulk.html#docs-bulk-api-desc\" rel=\"nofollow noreferrer\">Bulk API doc</a> about data streams, <em>index</em> does update existing documents if they exist, and it's probably why you can't use that. Using <em>create</em> should create new indexes, as expected of <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/data-streams.html#backing-indices\" rel=\"nofollow noreferrer\">data streams</a>.</p>\n"}],"last_activity_date":1684481850,"question_id":76278180,"body":"<p>I'm trying to bulk insert documents in elasticsearch using java with (elasticsearch-java).</p>\n<p>I checked official documentation of elasticsearch-java and found information around bulk indexing in index, and i'm able to insert bulk data in index.\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing-bulk.html</a></p>\n<pre><code>List&lt;Product&gt; products = fetchProducts();\n\nBulkRequest.Builder br = new BulkRequest.Builder();\n\nfor (Product product : products) {\n    br.operations(op -&gt; op           \n        .index(idx -&gt; idx            \n            .index(&quot;products&quot;)       \n            .id(product.getSku())\n            .document(product)\n        )\n    );\n}\n\nBulkResponse result = esClient.bulk(br.build());\n\n// Log errors, if any\nif (result.errors()) {\n    logger.error(&quot;Bulk had errors&quot;);\n    for (BulkResponseItem item: result.items()) {\n        if (item.error() != null) {\n            logger.error(item.error().reason());\n        }\n    }\n}\n</code></pre>\n<p>But when I'm trying to insert data in datastream using this code i'm getting below error:\n<strong>only write ops with an op type of create are allowed in data-streams</strong></p>\n<pre><code>class Product\n{\n   String name;\n   Map&lt;String, Object&gt; info;\n}\n</code></pre>\n<p>How can we bulk insert data from java object.</p>\n<p>Thanks in advance.</p>\n<p>I tried below solution, but getting error while inserting in data stream</p>\n<pre><code>List&lt;Product&gt; products = fetchProducts();\n\nBulkRequest.Builder br = new BulkRequest.Builder();\n\nfor (Product product : products) {\n    br.operations(op -&gt; op           \n        .index(idx -&gt; idx            \n            .index(&quot;products&quot;)       \n            .id(product.getSku())\n            .document(product)\n        )\n    );\n}\n\nBulkResponse result = esClient.bulk(br.build());\n\n// Log errors, if any\nif (result.errors()) {\n    logger.error(&quot;Bulk had errors&quot;);\n    for (BulkResponseItem item: result.items()) {\n        if (item.error() != null) {\n            logger.error(item.error().reason());\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134521363,"body":"Welcome to Stack Overflow! Please clarify your specific problem or add additional details to highlight exactly what you need.  As it&#39;s currently written, it’s hard to tell exactly what you&#39;re asking. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. Include the desired behavior, a specific problem or error and the shortest code necessary to  reproduce the issue. See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."},{"comment_id":134521986,"body":"I find it hard to reproduce your problem because I didn&#39;t find a way to <i>declare String variable in Memory view</i>. And I also do not understand what you mean with <i>declared using only &quot;&quot;: &quot;test&quot;</i>"},{"comment_id":134529027,"body":"I edited a post. Can you open it again?"},{"comment_id":134536214,"body":"The &quot;problem&quot; is the side effect that filtering has (you noticed the <i>Warning: filtering may have side effects</i>?). The side effect in this case is that filtering adds the filter string as instance to the memory. You can observe this when you change the filter from <code>equals(&quot;test&quot;)</code> to <code>contains(&quot;tes&quot;)</code> before stepping through your code. You will notice that the string &quot;tes&quot; is added to the memory and after that the string &quot;test&quot; is only added twice, the string &quot;test2&quot; only once."},{"comment_id":134568250,"body":"@TomaszPiątek I&#39;ve edited your screen shot to include connections between the String instances and the place where they are created. See <a href=\"https://photos.app.goo.gl/Eo617sbAAjeoAYbs5\" rel=\"nofollow noreferrer\">photos.app.goo.gl/Eo617sbAAjeoAYbs5</a> for the details."}],"last_activity_date":1684481575,"question_id":76283529,"body":"<p>I declared String variable. In my Memory view while debugging I can find more instances than I expected.</p>\n<p>I declared via new String(&quot;test&quot;) and expected to get two instances but received three.\nWhen I declared &quot;test2&quot; I was given two instances with &quot;test2&quot; (expected only one).</p>\n<p>It was my first kick off so objects weren't saved before.</p>\n<p>What happened and why is such an outcome?</p>\n<p><a href=\"https://i.stack.imgur.com/cxIvw.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"answers":[{"answer_id":76286921,"body":"<p>You can refer to the following methods. <a href=\"https://stackoverflow.com/a/60335339/9304033\">Can I manually load @ConfigurationProperties without the Spring AppContext?</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties myPropertiesFromSomeOtherFile = ...;\n\nConfigurationPropertySource propertySource = new MapConfigurationPropertySource(myPropertiesFromSomeOtherFile);\nBinder binder = new Binder(propertySource);\n\nMyBean myBean = binder.bind(&quot;foo.bar&quot;, MyBean.class).get();\n\n</code></pre>\n"}],"last_activity_date":1684481461,"question_id":74799065,"body":"<p>I use Spring Boot for a project, where configuration files are bound to a bean via</p>\n<pre><code>@ConfigurationProperties(prefix=&quot;foo.bar&quot;, ignoreUnknownFields = true)\nclass myBean{\n  private String propertyA;\n  private String propertyB;\n  ...\n} \n</code></pre>\n<p>This works quite well, the properties are filled in a process that does not matter much for this problem - it just provides the properties of the prefix defined in the annotation.</p>\n<p>However, I would like to create another bean of the same class and have it filled with properties from another file.</p>\n<p>Ideally, this would be something like</p>\n<pre><code>MyBean otherBean = (MyBean) WhatEverClass.createBeanFromProperties(MyBean.class, Properties myPropertiesFromSomeOtherFile);\n</code></pre>\n<p>Is there some Class which is able to this Properties-to-Bean Mapping?</p>\n<p>I have searched for Classes which could implement this functionality.\nDefaultListableBeanFactory only provides already created Beans but I have no method to point Spring to a specific property file for this bean (except for changing the annotation, but I need the prefix mapped to this bean)</p>\n"},{"comments":[{"comment_id":2678572,"body":"I personally like the comparison against a literal for readability reasons - at high resolutions (and increasing age), the exclamation tends to be &quot;absorbed&quot; by many letters."},{"comment_id":2678730,"body":"@Uri: a good enough IDE should be able to make <code>!</code> stand out as much as you&#39;d like if that&#39;s truly a problem."},{"comment_id":2678973,"body":"<code>if (b == false == true == true) {</code> You want to be sure."},{"comment_id":5933554,"body":"It comes down to whether it&#39;s faster to perform a logical negation on a boolean or compare one boolean value to another boolean constant, before the final resulting boolean is checked by the if statement.  I&#39;d imagine that the negation would be faster, because it could be issued directly on a memory address and handled by a hardware circuit that doesn&#39;t need to read or write or compare a thing.  Just one way of thinking about it."},{"comment_id":12164555,"body":"@Uri, why not simply separate the ! with a space? e.g.: if ( ! x )"},{"comment_id":12164683,"body":"@Triynko, usually this kind of thing is optimized out, so that doesnt matter, and if it isnt, it&#39;s not going to cause a noticable difference."},{"comment_id":12816410,"body":"The truth is that people only use &quot;== true&quot; and the like because they haven&#39;t actually thought about it, and when it&#39;s pointed out to them they claim &quot;readability&quot; to save face."}],"answers":[{"comments":[{"comment_id":2678377,"body":"@Michael, Java doesn&#39;t implicitly convert int to boolean like in C++, but otherwise agree 100%; the former is sloppy newbie syntax, and the latter is preferred."},{"comment_id":43567054,"body":"Well, now you know, thanks to this post, that some experienced programmers write &quot;== false&quot;--not just &quot;beginners&quot;, and you can clearly read their reasons why, as given multiple times in the replies here.  (Hmmm...was that a subconscious ad hominem?  &quot;I like this, and the only people I&#39;ve ever seen who don&#39;t agree with my preference are merely &#39;beginners&#39;.&quot;)"},{"comment_id":43569504,"body":"@M.Bearden Seriously? All I was saying was that I, personally, have almost never seen experienced programmers directly compare with <code>true</code> or <code>false</code>, whereas when I was a TA in college I would see it all the time from novices who simply didn&#39;t realize it was redundant. That doesn&#39;t mean if you do that you&#39;re a bad person, it&#39;s just uncommon. You took quite a lot of offense to a random remark from five years ago that wasn&#39;t directed at anybody; write code however you like"},{"comment_id":43572462,"body":"@MichaelMrozek.  Yes, that was overly sensitive of me.  My point is: Better to discuss issues like conciseness and readability, and realize that the differences in opinion are probably due to the different weights different people place on those.  Here is another discussion on exact same topic that I hit while searching on this, that calls out those issues pretty well, and it again indicates that it&#39;s not &quot;sloppy beginner-ness&quot; to think one way or the other: <a href=\"http://stackoverflow.com/questions/13763386/what-is-the-preferred-coding-style-for-checking-if-something-is-false\" title=\"what is the preferred coding style for checking if something is false\">stackoverflow.com/questions/13763386/&hellip;</a>"}],"answer_id":2661119,"body":"<p>I've never seen the former except in code written by beginners; it's always the latter, and I don't think anyone is really confused by it. On the other hand, I think</p>\n\n<pre><code>int x;\n...\nif(x) //...\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>if(x != 0) //...\n</code></pre>\n\n<p>is much more debatable, and in that case I do prefer the second</p>\n"},{"answer_id":2661120,"body":"<p>In my opinion it is simply annoying. Not something I would cause a ruckus over though.</p>\n"},{"comments":[{"comment_id":2678384,"body":"+1 for recommending long, descriptive variable names. However, I think &quot;if (userIsAllowedToLogin())&quot; is preferable to &quot;if (userIsAllowedToLogin()==true)&quot; as the former is more readable."},{"comment_id":2678569,"body":"@Michael, did you forget a <code>!</code> ?"},{"comment_id":2687144,"body":"I&#39;d prefer <code>if( canAuthenticate() )</code> or <code>if( isAuthorized() )</code>. I find <code>userIsAllowedToLogin</code> ambiguous. Does it mean that the user can view the login page (e.g., the IP address is not banned) or does it mean that the user has been authenticated (e.g., correct name and password)?"},{"comment_id":2687353,"body":"@Dave: It was just a bit exaggerated example. As long as the variable name is self-explaining enough."},{"comment_id":2687514,"body":"@BalusC: I know; it&#39;s a pet peeve. Long method names -- like <code>isCurrentUserLoggedInAsRole</code> -- are sometimes a symptom of a larger problem: a misplaced method. (For example, the <code>User</code> class should know its assigned roles: <code>user.isAssigned( role )</code>.)"}],"answer_id":2661121,"body":"<p>It's not necessarily bad, it's just superfluous. Also, the actual variable name weights a lot. I would prefer for example <code>if (userIsAllowedToLogin)</code> over <code>if (b)</code> or even worse <code>if (flag)</code>.</p>\n<p>As to the performance concern, the compiler optimizes it away at any way.</p>\n<p>As to the authoritative sources, I can't find something explicitly in the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-contents.html\" rel=\"nofollow noreferrer\">Java Code Conventions</a> as originally written by Sun, but at least <a href=\"https://checkstyle.sourceforge.io\" rel=\"nofollow noreferrer\">Checkstyle</a> has a <a href=\"https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression\" rel=\"nofollow noreferrer\"><code>SimplifyBooleanExpression</code></a> module which would warn about that.</p>\n"},{"answer_id":2661122,"body":"<p>I prefer the first, because it's clearer. The machine can read either equally well, but I try to write code for other <em>people</em> to read, not just the machine.</p>\n"},{"answer_id":2661130,"body":"<p>You should not use the first style. I have seen people use:</p>\n\n<ul>\n<li><code>if ( b == true )</code></li>\n<li><code>if ( b == false )</code></li>\n</ul>\n\n<p>I personally find it hard to read but it is passable. However, a big problem I have with that style is that it leads to the incredibly counter-intuitive examples you showed:</p>\n\n<ul>\n<li><code>if ( b != true )</code></li>\n<li><code>if ( b != false )</code></li>\n</ul>\n\n<p>That takes more effort on the part of the reader to determine the authors intent. Personally, I find including an explicit comparison to true or false to be redundant and thus harder to read, but that's me.</p>\n"},{"comments":[{"comment_id":2678428,"body":"I wouldn&#39;t say &quot;overriding&quot; reason. Unless you time travel to 15 years ago your compiler will warn about this typo."},{"comment_id":2678546,"body":"<code>while (b = false)</code> is valid Java syntax (if <code>b</code> is a <code>boolean</code>) and a compiler will not catch it."},{"comment_id":2678555,"body":"John probably meant your IDE.  Note this is not valid in C#... jab!"},{"comment_id":2678575,"body":"Yes, IDE&#39;s and style checkers will warn you about this kind of thing.  I wouldn&#39;t be surprised if the command-line compiler can detect it as well, although it doesn&#39;t warn you by default.  My point is that this isn&#39;t <i>just</i> a style choice."},{"comment_id":2684845,"body":"@John and @mobrule - Eclipse warns about this, but only if you set the &quot;Parameter assignment&quot; option true (it defaults to false)."},{"comment_id":14449680,"body":"@StephenSwensen it is valid in C#, but it will generate a warning. <code>Assignment in conditional expression is always constant; did you mean to use == instead of = ?</code>"},{"comment_id":83473921,"body":"An easy way to prevent this is to instead compare the constant value (lhs) to the variable (rhs). So <code>while (true == loggedIn)</code>. This way it throws a compile-time error rather than runtime."}],"answer_id":2661150,"body":"<p>The overriding reason why you shouldn't use the first style is because both of these are valid:</p>\n\n<pre><code>if (b = false) //...\n\nwhile (b = true) //...\n</code></pre>\n\n<p>That is, if you accidentally leave out one character, you create an assignment instead of a comparison.  An assignment expression evaluates to the value that was assigned, so the first statement above assigns the value <code>false</code> to <code>b</code> and evaluates to <code>false</code>.  The second assigns <code>true</code> to <code>b</code>, so it always evaluates to <code>true</code>, no matter what you do with <code>b</code> inside the loop.</p>\n"},{"comments":[{"comment_id":2686845,"body":"The convention is <code>isEdited</code>, not <code>IsEdited</code> (the latter would be a class)"}],"answer_id":2661160,"body":"<p>IMHO, I think if you just make the bool variable names prepended with <code>\"Is\"</code>, it will be self evident and more meaningful and then, you can remove the explicit comparison with <code>true</code> or <code>false</code></p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>isEdited  // use IsEdited in case of property names\nisAuthorized // use IsAuthorized in case of property names\n</code></pre>\n\n<p>etc</p>\n"},{"comments":[{"comment_id":54151152,"body":"I agree, I too prefer to use ==false compared to (!) from a readability point of view - when maintaining other peoples code, as you say, code blindness IS a thing and does happen.  if (K) {}  or if (!K) {} sometimes you can spend ages working out why something isn&#39;t working then spot the ! in the condition."},{"comment_id":86613567,"body":"The best way to solve this is to have the boolean expression test for true instead of false, and order the if-then-blocks accordingly.   This may look weird if the true block is empty though."},{"comment_id":134484637,"body":"Since nobody has mentioned yet: C and C++ actually allow <code>not</code> as a synonym of <code>!</code> as part of the <a href=\"https://en.cppreference.com/w/cpp/language/operator_alternative\" rel=\"nofollow noreferrer\">alternative operator representations</a>, it&#39;s just the case that nobody ever uses it for whatever reason. (In C++ they&#39;re built into the language, <a href=\"https://en.wikipedia.org/wiki/C_alternative_tokens?useskin=vector\" rel=\"nofollow noreferrer\">in C the header <code>iso646.h</code> must be included</a>.) So if one&#39;s issue is with <code>!</code> being less readable than <code>not</code> then for C and C++ (at least) there is another alternative to using <code>== true</code> or <code>== false</code>."},{"comment_id":134487386,"body":"@Pharap then you run into maintainability issues."},{"comment_id":134536519,"body":"@Thorbj&#248;rnRavnAndersen Alright, I&#39;ll bite. How does using <code>not</code> instead of <code>!</code> make the code less maintainable than using <code>== false</code>?"}],"answer_id":2661298,"body":"<p>This is strongly a matter of taste.</p>\n\n<p>Personally I've found that <code>if (!a) {</code> is a lot less <em>readable</em> (EDIT: to me) than <code>if (a == false) {</code> and hence more error prone when maintaining the code later, and I've converted to use the latter form.</p>\n\n<p>Basically I dislike the choice of symbols for logic operations instead of words (C versus Pascal), because to <em>me</em> <code>a = 10 and not b = 20</code> reads easier than <code>a == 10 &amp;&amp; !(b==20)</code>, but that is the way it is in Java.</p>\n\n<p>Anybody who puts the \"== false\" approach down in favour of \"!\" clearly never had stared at code for too long and missed that exclamation mark.  Yes you can get code-blind.</p>\n"},{"comments":[{"comment_id":2995354,"body":"but don&#39;t take it to far. believe it or not, I have already seen code like this:  if (a)   ; else   doSomething();"},{"comment_id":3006212,"body":"In which case I would prefer if (!a) doSomething();  But it likely you will find that you can change the code so that &#39;b&#39; stores true instead of false and false instead of true and there is no need for a negation.  IMHO it is fairly rare you need if (a) in one place <i>and</i> if (!a) in an unrelated block of code."}],"answer_id":2661503,"body":"<p>Personally, I would refactor the code so I am not using a negative test. for example.</p>\n\n<pre><code>if (b == false) {\n   // false\n} else {\n   // true\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>boolean b = false;\nwhile(b == false) {\n  if (condition)\n      b = true;\n}\n</code></pre>\n\n<p>IMHO, In 90% of cases, code can be refactored so the negative test is not required.</p>\n"},{"answer_id":2940179,"body":"<p>I would say it is bad.</p>\n\n<pre><code>while (!b) {\n    // do something \n}\n</code></pre>\n\n<p>reads much better than</p>\n\n<pre><code>while (b != true) {\n    // do something \n}\n</code></pre>\n"},{"comments":[{"comment_id":82867898,"body":"I think there is a more significant readability issues in that code that the condition. Look at strcmp. Not exactly effortless IMO."},{"comment_id":134484757,"body":"@Preza8 I don&#39;t disagree that <code>strcmp</code> is a terrible name, but C and C++ are stuck with it for historical reasons, and creating a more nicely named wrapper function would likely violate the <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment?useskin=vector\" rel=\"nofollow noreferrer\">principle of least surprise</a>, so it can&#39;t really be helped. (Assuming that this was C code, which seems likely.)"}],"answer_id":14753618,"body":"<p>The normal guideline is to never test against boolean. Some argue that the additional verbosity adds to clarity. The added code may help some people, but every reader will need to read more code.</p>\n\n<p>This morning, I have lost 1/2 hour to find a bug. The code was </p>\n\n<pre><code>    if ( !strcmp(runway_in_use,\"CLOSED\") == IPAS_FALSE)\n      printf(\" ACTIVE    FALSE \\n\");   else\n      printf(\" ACTIVE    TRUE \\n\");\n</code></pre>\n\n<p>If it was coded with normal convention, I would have seen a lot faster that it was wrong:</p>\n\n<pre><code>    if (strcmp(runway_in_use, \"CLOSED\"))\n      printf(\" ACTIVE    FALSE \\n\");   else\n      printf(\" ACTIVE    TRUE \\n\");\n</code></pre>\n"},{"answer_id":16673583,"body":"<p>I prefer the long approach, but I compare using <code>==</code> instead of <code>!=</code> 99% of time. </p>\n\n<p>I know this question is about Java, but I often switch between languages, and in <code>C#</code>, for instance, comparing with  (for isntance) <code>== false</code> can help when dealing with nullable bool types. So I got this habbit of comparing with <code>true</code> or <code>false</code> but using the <code>==</code> operator.  </p>\n\n<p>I do these:</p>\n\n<p><code>if(isSomething == false)</code> or <code>if(isSomething == true)</code></p>\n\n<p>but I hate these:</p>\n\n<p><code>if(isSomething != false)</code> or <code>if(isSomething != true)</code></p>\n\n<p>for obvious readability reasons! </p>\n\n<p>As long as you keep your code readable, it will not matter.</p>\n"},{"answer_id":32988507,"body":"<p>One of the reasons the first one (b==false) is frowned upon is that beginners often do not realize that the second alternative (!b) is possible at all. So using the first form may point at a misconception with boolean expressions and boolean variables. This way, using the second form has become some kind of a sjiboleth: when someone writes this, he/she probably understands what's going on. </p>\n\n<p>I believe that this has caused the difference to be considered more important than it really is.</p>\n"},{"comments":[{"comment_id":116197652,"body":"The question is about comparing a boolean expression to a boolean <i>constant</i>."}],"answer_id":50061866,"body":"<p>This is my first answer on StackOverflow so be nice...\nRecently while refactoring I noticed that 2 blocks of code had almost the exact same code but one used had </p>\n\n<pre><code>for (Alert alert : alerts) {\n    Long currentId = alert.getUserId();\n\n    if (vipList.contains(currentId)) {\n        customersToNotify.add(alert);\n\n        if (customersToNotify.size() == maxAlerts) {\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>and the other had </p>\n\n<pre><code>for (Alert alert : alerts) {\n    Long currentId = alert.getUserId();\n\n    if (!vipList.contains(currentId)) {\n        customersToNotify.add(alert);\n\n        if (customersToNotify.size() == maxAlerts) {\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>so in this case it made sense to create a method which worked for both conditions like this using <code>boolean == condition</code> to flip the meaning</p>\n\n<pre><code>private void appendCustomersToNotify(List&lt;Alert&gt; alerts\n        List&lt;Alert&gt; customersToNotify, List&lt;Long&gt; vipList, boolean vip){\n\n    for (Alert alert : alerts) {\n        Long currentId = alertItem.getUserId();\n\n        if (vip == vipList.contains(currentId)) {\n            customersToNotify.add(alertItem);\n\n            if (customersToNotify.size() == maxAlerts) {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":61075619,"body":"<p>While both are valid, to me the first feels like a type mismatch.</p>\n<p>To me <code>b == false</code> looks as wrong as <code>(i == 0) == false</code>.  It is like: huh?</p>\n<p>Booleans are not an enum with 2 possible values.  You don't compare them.  Boolean are predicates and represent some truth.  They have specific operators like <code>&amp;</code>, <code>|</code>, <code>^</code>, <code>!</code>.</p>\n<p>To reverse the truth of an expression use the operator '!', pronounced as &quot;not&quot;.</p>\n<p>With proper naming it becomes natural: <code>!isEmpty</code> reads &quot;not is empty&quot;, quite readable to me.<br />\nWhile <code>isEmpty == false</code> reads something like &quot;it is false that it is empty&quot;, which I need more time to process.</p>\n<p>Coding style guidelines in Java and other language generally discourage &quot;== true/false&quot; style.</p>\n<p>Sonar<br />\n<a href=\"https://rules.sonarsource.com/java/RSPEC-1125\" rel=\"nofollow noreferrer\">https://rules.sonarsource.com/java/RSPEC-1125</a></p>\n<p>CheckStyle<br />\n<a href=\"https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression\" rel=\"nofollow noreferrer\">https://checkstyle.sourceforge.io/config_coding.html#SimplifyBooleanExpression</a></p>\n<p>TSLint<br />\n<a href=\"https://palantir.github.io/tslint/rules/no-boolean-literal-compare/\" rel=\"nofollow noreferrer\">https://palantir.github.io/tslint/rules/no-boolean-literal-compare/</a></p>\n<p>C#<br />\n<a href=\"https://www.c-sharpcorner.com/article/common-code-smell-mistakes-in-c-sharp-part-1/\" rel=\"nofollow noreferrer\">https://www.c-sharpcorner.com/article/common-code-smell-mistakes-in-c-sharp-part-1/</a></p>\n<p>C# queries<br />\n<a href=\"https://help.semmle.com/wiki/display/CSHARP/Unnecessarily+complex+Boolean+expression\" rel=\"nofollow noreferrer\">https://help.semmle.com/wiki/display/CSHARP/Unnecessarily+complex+Boolean+expression</a></p>\n<p>But the following Codeshare blog entry shows cases in javascript where &quot;b == true&quot; can be useful.  This might explain why people do it.<br />\n<a href=\"https://codeshare.co.uk/blog/please-tell-me-you-dont-write-if-true-equals-true/\" rel=\"nofollow noreferrer\">https://codeshare.co.uk/blog/please-tell-me-you-dont-write-if-true-equals-true/</a></p>\n"},{"answer_id":67063031,"body":"<p>I won't go into all of the details at length because many people have already answered correctly.</p>\n<p>Functionality-wise, it gives the same result.</p>\n<p>As far as styling goes, it's a matter of preference, but I do believe <code>!condition</code> to be more readable.</p>\n<p>For the performance argument, I have seen many say that it makes no difference, but they have nothing to justify their claims. Let's go just a bit deeper into that one. So what happens when you compare them?</p>\n<p>First, logically:</p>\n<p><code>if(condition == false)</code></p>\n<p>In this case, <code>if</code> is comparing its desired value to execute with the value between the parentheses, which has to be computed.</p>\n<p><code>if(!condition)</code></p>\n<p>In this case, <code>if</code> is directly compared to the opposite(NOT) of the condition. So instead of 2 comparisons, it is one comparison and 1 NOT operation, which is faster.</p>\n<p>I wouldn't just say this without having tested it of course. Here is a quick screenshot of the test I did. <code>!condition</code> is nearly twice as fast over 10 million iterations.\n<a href=\"https://imgur.com/a/jrPVKMw\" rel=\"nofollow noreferrer\">https://imgur.com/a/jrPVKMw</a></p>\n<p>EDIT: I tested this in C#, compiled with visual studio. Some compilers may be smarter and optimize it properly, which would make the performance the same.</p>\n"}],"last_activity_date":1684481331,"question_id":2661110,"body":"<p>Is it bad to write:</p>\n\n<pre><code>if (b == false) //...\n\nwhile (b != true) //...\n</code></pre>\n\n<p>Is it <em>always</em> better to instead write:</p>\n\n<pre><code>if (!b) //...\n\nwhile (!b) //...\n</code></pre>\n\n<p>Presumably there is no difference in performance (or is there?), but how do you weigh the explicitness, the conciseness, the clarity, the readability, etc between the two?</p>\n\n<h3>Update</h3>\n\n<p>To limit the subjectivity, I'd also appreciate any quotes from authoritative coding style guidelines over which is always preferable or which to use when.</p>\n\n<hr>\n\n<p><em>Note</em>: the variable name <code>b</code> is just used as an example, ala <code>foo</code> and <code>bar</code>.</p>\n"},{"comments":[{"comment_id":134515015,"body":"Can you share the full stack trace?"},{"comment_id":134515051,"body":"If you check the logs you will probably find a message like &quot;Found app shell configuration annotations in non AppShellConfigurator classes&quot;, and following the list of the annotation that should be moved"}],"last_activity_date":1684481271,"question_id":76280110,"body":"<pre><code>2023-05-18T12:54:22.736+02:00  INFO 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-18T12:54:22.738+02:00  INFO 20376 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2093 ms\n2023-05-18T12:54:22.934+02:00 ERROR 20376 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception sending context initialized event to listener instance of class [com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener]\n\njava.lang.RuntimeException: Unable to initialize com.vaadin.flow.spring.VaadinServletContextInitializer$VaadinAppShellContextListener\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$FailFastServletContextListener.contextInitialized(VaadinServletContextInitializer.java:191) ~[vaadin-spring-24.0.6.jar:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.lambda$contextInitialized$0(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.vaadin.flow.spring.VaadinServletContextInitializer$CompositeServletContextListener.contextInitialized(VaadinServletContextInitializer.java:213) ~[vaadin-spring-24.0.6.jar:na]\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4452) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:913) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:485) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:488) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:210) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:578) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.6.jar:3.0.6]\n    at it.unidoc.cdr.core.Application.main(Application.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n</code></pre>\n<p>i have this problem when run in intellij and jdk 17 on windows11</p>\n"},{"comments":[{"comment_id":134526405,"body":"<i>&quot;but the error was x has not been declared&quot;</i> - that is not the error you get! Post the actual error next time, not your paraphrasation of it."},{"comment_id":134526444,"body":"You should get the compiler message: <i>Non-static field &#39;x&#39; cannot be referenced from a static context</i>"},{"comment_id":134526523,"body":"This will not be &quot;not declared&quot;.. this will rather generate a compile time error, that non-static member cannot be referenced from the static context."},{"comment_id":134527282,"body":"BTW <code>x</code> is not a global variable - it is an instance variable (or field) of the <code>Demo</code> class - in no way global, it only exists inside eventual instances of <code>Demo</code>"}],"last_activity_date":1684481016,"question_id":76286820,"body":"<p>If I have let's say a global variable x in a class why I cannot use it in main()?</p>\n<p>I was tring to use x in main but the error was x has not been declared.</p>\n<pre><code>class Demo\n{\n    int x=2;\n    public static void main()\n    {\n\n        System.out.println(x);\n    }\n}\n</code></pre>\n"},{"answers":[{"answer_id":74704271,"body":"<p>This is nothing from Spring Data Elasticsearch , it might be an issue in the Elasticsearch client. You might want to create an issue with Elasticsearch (<a href=\"https://github.com/elastic/elasticsearch-java/issues\" rel=\"nofollow noreferrer\">https://github.com/elastic/elasticsearch-java/issues</a>)</p>\n"},{"answer_id":74712861,"body":"<p>I am posting my solution if someone have the same issue...</p>\n<p>My solution is to create a JSONObject via ObjectMapper (jackson) and then use JsonData</p>\n<pre><code>ObjectMapper om = new ObjectMapper();       \nvar node = om.readTree(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;:[&quot;+ lon +&quot;,&quot;+ lat + &quot;]}&quot;);\nJsonData shape = JsonData.of(node);\nQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\n   .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\n</code></pre>\n"},{"answer_id":75616675,"body":"<p>in addition to the accepted answer, you can simply send the shape as WKT formatted String (and avoid custom converters)</p>\n<pre><code>JsonData shape = JsonData.of(WellKnownText.toWKT(new Point(longitude,latitude))); // will create a simple ValueNode, no JSON conversion\nQuery geoShape = QueryBuilders.geoShape().field(&quot;coordinates&quot;)\n  .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)).build()._toQuery();\n</code></pre>\n"}],"last_activity_date":1684480936,"question_id":74703974,"body":"<p>I am trying to move from Spring data elasticsearch 4.x to 5.x &amp; spring-boot-starter-data-elasticsearch 3.0.0 in order to remove rhlc from my code.</p>\n<p>One of my query is a geoShapeQuery</p>\n<p>Here my old code :</p>\n<pre><code>GeoShapeQueryBuilder geoShape = QueryBuilders.geoShapeQuery(ConvertUtils.FULL_GEO,new Point(lon, lat));\ngeoShape.relation(ShapeRelation.CONTAINS);\nQueryBuilder bool = new BoolQueryBuilder().filter(geoShape).should(rankFeature);\n</code></pre>\n<p>I am trying to use the new class of geoShapeQuery without success</p>\n<pre><code>JsonData shape = JsonData.of(&quot;{\\&quot;type\\&quot;: \\&quot;point\\&quot;,\\&quot;coordinates\\&quot;: [ 13.0, 53.0 ]}&quot;);\nQuery geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\n                .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\nQuery bool = BoolQuery.of(b-&gt;b\n                .filter(geoShape)\n                .should(rankFeature)\n                )._toQuery();\n</code></pre>\n<p>When I am debugging I am seeing that the geopshape object put the shape as a String instead of a JSON object.</p>\n<blockquote>\n<p>Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:<strong>&quot;{&quot;type&quot;: &quot;point&quot;,&quot;coordinates&quot;: [ 13.0, 53.0 ]}&quot;</strong>,&quot;relation&quot;:&quot;contains&quot;}}}</p>\n</blockquote>\n<p>I am expecting to have this (without the double quote):</p>\n<blockquote>\n<p>Query: {&quot;geo_shape&quot;:{&quot;fullGeo&quot;:{&quot;shape&quot;:<strong>{&quot;type&quot;: &quot;point&quot;,&quot;coordinates&quot;: [ 13.0, 53.0 ]}</strong>,&quot;relation&quot;:&quot;contains&quot;}}}</p>\n</blockquote>\n<p>I don't know what I am doing wrong.</p>\n"},{"comments":[{"comment_id":134508225,"body":"what cass version are you using?"}],"answers":[{"answer_id":76275432,"body":"<p>TTL is bound to a specific cell, so when you're updating only specific columns, then only them are updated. To update everything, you need to update all values</p>\n"},{"answer_id":76286848,"body":"<p>The TTL only applies to the columns in the statement, not to all the columns in the row nor all the rows in the partition.</p>\n<p>The only workaround I could think of is to set a default TTL on the table using the <code>default_time_to_live</code> option. Cheers!</p>\n"}],"last_activity_date":1684480817,"question_id":76275293,"body":"<p>i'm trying to update a column value (not key column) and to set new TTL for the whole row.\nBut when i execute the generated statement, only column ttl was updates and the other columns remain with the original, producing NULL values in future reads.</p>\n<p>My app was written in Java and using datastax for querying, and the function for generating the statement is something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Statement updateLastActivityStatement(int ttl, Long ts){\n    return QueryBuilder.update(KEY_SPACE, TABLE_NAME)\n        .with(QueryBuilder.set(LAST_ACTIVITY, ts))\n        .where(QueryBuilder.eq(ENTRY_ID, userA))\n        .and(QueryBuilder.eq(ID, userB))\n        .using(QueryBuilder.ttl(ttl));\n}\n</code></pre>\n"},{"comments":[{"comment_id":80247313,"body":"Related: <a href=\"https://stackoverflow.com/questions/43738550/no-glyph-for-u000d-in-font-helvetica\">No glyph for U+000D in font Helvetica</a>"},{"comment_id":82464240,"body":"If you want to print INTO pdf, use the TextToPDF tool, or use its source code."}],"answers":[{"comments":[{"comment_id":80247154,"body":"Depending on the use case at hand, you might want to replace with a single space instead of an empty string."},{"comment_id":95896014,"body":"I am not using \\n but still I see the below error    java.lang.IllegalArgumentException: U+FFFD (&#39;.notdef&#39;) is not available in this font&#39;s encoding: WinAnsiEncoding   Error if text is  : Habitaci&#243;n  but works fine when : Habitaci\\u00F3n"},{"comment_id":104848909,"body":"With \\r it&#39;s not working better use &lt;br&gt; if You are concatenating strings. For \\r error is: java.lang.IllegalArgumentException: U+000D (&#39;controlCR&#39;) is not available in this font&#39;s encoding: WinAnsiEncoding"}],"answer_id":46644571,"body":"<p>[PROBLEM] The String you are trying to display contains a newline character.</p>\n\n<p>[SOLUTION] Replace the String with a new one and remove the newline:</p>\n\n<pre><code>text = text.replace(\"\\n\", \"\").replace(\"\\r\", \"\");\n</code></pre>\n"},{"answer_id":47731904,"body":"<p>if you are trying to set a new line using \"\\n\" in a string  . you can try         PDPageContentStream.newLineAtOffset(x,y)   to add a new line </p>\n\n<pre><code>  PDFont font =  PDType1Font.HELVETICA ; \n\n  PDDocument doc    = new PDDocument();\n  PDPage page = new PDPage();\n  PDPageContentStream content = new PDPageContentStream(doc, page);\n  content.beginText();\n  content.moveTextPositionByAmount(10, 700);\n  content.setFont(font, 12);\n  content.drawString(\"start text   \");\n  content.newLineAtOffset(0, -15);\n  content.drawString(\"text in new line  \");        \n  content.endText();\n  content.close();\n  doc.addPage(page);\n  doc.save(\"file.pdf\");\n</code></pre>\n\n<p>and the pdf <a href=\"https://i.stack.imgur.com/3xVf3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3xVf3.png\" alt=\"enter image description here\"></a></p>\n"},{"answer_id":56947178,"body":"<p>Sometimes you have to change a font like :</p>\n\n<pre><code>PDFont font = PDType0Font.load(document, new File(\"C:\\\\Users\\\\dw\\\\Desktop\\\\FZLTXHJW.TTF\"));\n\n</code></pre>\n\n<p>Replace \"FZLTXHJW.TTF\" with the font you have and it should support your text encoding.</p>\n"},{"answer_id":57759476,"body":"<p>If you'd like to retain the newline addition, i.e you indeed want your text to split and appear the later part in new line, then you can simply replace the <strong>\\n</strong> with an HTML <strong>break</strong> tag, like below below .</p>\n\n<p><code>return text.replace(\"\\n\",\"&lt;br&gt;\");\n</code></p>\n\n<p>:)</p>\n"},{"comments":[{"comment_id":134509766,"body":"Link doesn&#39;t exist anymore :/"}],"answer_id":57999336,"body":"<p>The answer selected for this post works, replacing all instances of \\n and \\r from your string, if you know that it's a \\n or \\r character that's causing your problem. I've discovered that there are lots of different characters that will produce this error. Here's a sampling of those that I've found:</p>\n\n<pre><code>U+2010 ('hyphentwo') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+2033 ('second') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+00A0 ('nbspace') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+FFFD ('.notdef') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+03BC ('mugreek') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+039C ('Mu') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+2212 ('minus') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+0141 ('Lslash') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+2103 ('centigrade') is not available in this font Helvetica encoding: WinAnsiEncoding\nU+25AA ('H18543') is not available in this font Helvetica encoding: WinAnsiEncoding\n</code></pre>\n\n<p>In my case, I've simply chosen to remove any special character that's not included in my font. I used the solution from this page:</p>\n\n<p><a href=\"https://cmsdk.com/java/remove-illegal-characters-from-string-with-pdfbox.html\" rel=\"noreferrer\">https://cmsdk.com/java/remove-illegal-characters-from-string-with-pdfbox.html</a></p>\n"},{"comments":[{"comment_id":113251140,"body":"That was this bug: <a href=\"https://issues.apache.org/jira/browse/PDFBOX-4891\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-4891</a>  There is a follow-up bug that will be fixed in 2.0.22  <a href=\"https://issues.apache.org/jira/browse/PDFBOX-4944\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-4944</a>"}],"answer_id":64034655,"body":"<p>I was running into a similar issue too (using pdfbox 2.0.11), my error was:</p>\n<pre><code>U+00A0 ('nbspace') is not available in this font Helvetica encoding: WinAnsiEncoding\n</code></pre>\n<p>Which was strange because checking the WinAnsiEncoding for the char name (int value 160) returned <code>space</code>, but the internal classes of pdfbox was returning the name <code>nbspace</code>.</p>\n<p>The solution for me was upgrading to pdfbox 2.0.21.</p>\n"},{"answer_id":76286842,"body":"<p>To removes all chars that can not be encoded by the font you use for PDF writing you can do something like:</p>\n<pre><code>PDType1Font font = PDType1Font.HELVETICA;    \npublic static void erasesControlCharacters(List&lt;String&gt; values) {\n    String charSet = font.getFontDescriptor().getCharSet();\n    for (int i = 0; i &lt; values.size(); i++) {\n\n        StringBuilder b = new StringBuilder();\n        String test = values.get(i);\n        for (int charIndex = 0; charIndex &lt; test.length(); charIndex++) {\n            if (WinAnsiEncoding.INSTANCE.contains(test.charAt(charIndex)) &amp;&amp; charSet.contains(test.substring(charIndex, charIndex + 1))) {\n                b.append(test.charAt(charIndex));\n            }\n        }\n        values.set(i, b.toString());\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684480782,"question_id":46644570,"body":"<p>When trying to print a PDF page using Java and the <code>org.apache.pdfbox</code> library, I get this error:</p>\n\n<blockquote>\n  <p>PDFBOX : U+000A ('controlLF') is not available in this font Helvetica encoding: WinAnsiEncoding</p>\n</blockquote>\n"},{"answers":[{"answer_id":56721773,"body":"<p>To exclude a particular URL from CSRF protection , you could use <code>&lt;csrf request-matcher-ref=\"csrfMatcher\"&gt;</code> . The <code>csrfMatcher</code> is the <code>RequestMatcher</code> which defines which URL request will have CSRF protection. </p>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#websocket-sockjs-csrf\" rel=\"nofollow noreferrer\">Docs</a> has an example to just excluding a particular URL while still keeping other default settings remain unchanged: </p>\n\n<pre><code>&lt;http ...&gt;\n    &lt;csrf request-matcher-ref=\"csrfMatcher\"/&gt;\n    ...\n&lt;/http&gt;\n\n\n&lt;beans:bean id=\"csrfMatcher\" class=\"org.springframework.security.web.util.matcher.AndRequestMatcher\"&gt;\n    &lt;beans:constructor-arg value=\"#{T(org.springframework.security.web.csrf.CsrfFilter).DEFAULT_CSRF_MATCHER}\"/&gt;\n    &lt;beans:constructor-arg&gt;\n        &lt;beans:bean class=\"org.springframework.security.web.util.matcher.NegatedRequestMatcher\"&gt;\n          &lt;beans:bean class=\"org.springframework.security.web.util.matcher.AntPathRequestMatcher\"&gt;\n            &lt;beans:constructor-arg value=\"/webhook/**\"/&gt;\n          &lt;/beans:bean&gt;\n        &lt;/beans:bean&gt;\n    &lt;/beans:constructor-arg&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n"},{"answer_id":76286840,"body":"<p>For anyone, If Answer from @ken Chan doesnt work due to pom definition errors. Please try below configurations.</p>\n<p>I am using spring security 3.2 and below configurations worked for me.</p>\n<pre><code>&lt;beans:bean id=&quot;csrfMatcher&quot; class=&quot;org.springframework.security.web.util.matcher.AndRequestMatcher&quot;&gt;\n                &lt;beans:constructor-arg name=&quot;requestMatchers&quot;&gt;\n                        &lt;beans:list&gt;\n                                &lt;beans:bean class=&quot;org.springframework.security.web.csrf.CsrfFilter$DefaultRequiresCsrfMatcher&quot; /&gt;\n                                &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.NegatedRequestMatcher&quot;&gt;\n                                        &lt;beans:constructor-arg&gt;\n                                                &lt;beans:bean class=&quot;org.springframework.security.web.util.matcher.AntPathRequestMatcher&quot;&gt;\n                                                        &lt;beans:constructor-arg value=&quot;/j_spring_security_check&quot;/&gt;\n                                                &lt;/beans:bean&gt;\n                                        &lt;/beans:constructor-arg&gt;\n                                &lt;/beans:bean&gt;\n                        &lt;/beans:list&gt;\n                &lt;/beans:constructor-arg&gt;\n        &lt;/beans:bean&gt;\n</code></pre>\n<p><strong>Please add block of NegatedRequestMatcher in the list if you want to bypass multiple urls.</strong></p>\n"}],"last_activity_date":1684480748,"question_id":56713604,"body":"<p>I have a spring security + MVC based project. </p>\n\n<p>The web aspect of the project has already been developed by previous developers. I am tasked with exposing some API's\non which an service provider is going to do callback.</p>\n\n<p>To archive this I have done the following code.</p>\n\n<pre><code>@RestController\npublic class LeegalityController {\n\n    private static final Logger logger = LoggerFactory.getLogger(LeegalityController.class);\n\n    @RequestMapping(value = \"webhook/{user}/{id}\", method = RequestMethod.POST)\n    public ResponseEntity&lt;String&gt; webhook(@PathVariable(\"user\") int user, @PathVariable(\"id\") String id,\n            @RequestBody LeegalityReqResp reqResp, HttpServletRequest request) {\n        try {\n            logger.info(\"webhook()== user[\" + user + \"] == id[\" + id + \"]\");\n            logger.info(\"webhook()== LeegalityReqResp--&gt;\" + reqResp.toString());\n\n        } catch (Exception e) {\n            logger.error(\"webhook() Error==[\" + e.getMessage() + \"]\", e);\n        }\n\n        return new ResponseEntity&lt;String&gt;(\"success\", HttpStatus.OK);\n    }\n\n}\n</code></pre>\n\n<p>However while testing the API via postman I got the following error</p>\n\n<p><a href=\"https://i.stack.imgur.com/zLnrf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLnrf.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I have tried some changes in security configuration xml as below</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans\n    xmlns=\"http://www.springframework.org/schema/security\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/security\n        http://www.springframework.org/schema/security/spring-security.xsd\"&gt;\n\n\n    &lt;http pattern=\"*/webhook/**\" security=\"none\" create-session=\"stateless\" /&gt;\n\n    &lt;http auto-config=\"true\"&gt;\n        &lt;intercept-url pattern=\"/\"\n            access=\"hasAnyRole('ROLE_ADMIN','ROLE_ONE','ROLE_TWO')\" /&gt;\n\n        &lt;!-- &lt;intercept-url pattern=\"/webhook/**\" method=\"POST\" access=\"permitAll\" /&gt; --&gt;\n\n\n        &lt;intercept-url pattern=\"/admin\"\n            access=\"hasRole('ROLE_ADMIN')\" /&gt;\n\n        &lt;intercept-url pattern=\"/otp\"\n            access=\"hasAnyRole('ROLE_ONE','ROLE_TWO')\" /&gt;\n\n\n        &lt;form-login login-page=\"/ProjectName-Home\"\n            default-target-url=\"/\" authentication-failure-url=\"/login?error\"\n            username-parameter=\"username\" password-parameter=\"password\" /&gt;\n\n        &lt;logout logout-success-url=\"/login?logout\" /&gt;\n    &lt;/http&gt;\n\n    &lt;authentication-manager\n        alias=\"authenticationManager\"&gt;\n        &lt;authentication-provider\n            ref=\"userAuthenticationProvider\"&gt;\n        &lt;/authentication-provider&gt;\n\n    &lt;/authentication-manager&gt;\n\n    &lt;beans:bean id=\"userAuthenticationProvider\"\n        class=\"com.java.ProjectName.service.user.UserAuthenticationProvider\"&gt;&lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"encoder\"\n        class=\"org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder\"&gt;\n        &lt;beans:constructor-arg name=\"strength\"\n            value=\"11\" /&gt;\n    &lt;/beans:bean&gt;\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p>What should I do to make sure this <code>/webhook/*</code> is excluded from CSRF verification. Any help is appreciated and thank you in advance.</p>\n\n<p>My spring version is 4.2.0.RELEASE and spring security version is 4.0.2.RELEASE.</p>\n"},{"comments":[{"comment_id":134526564,"body":"generate method is now part of IdentifierGenerator interface and can be used together wit @IdGeneratorType annotation. More details here: <a href=\"https://docs.jboss.org/hibernate/orm/6.0/userguide/html_single/Hibernate_User_Guide.html#identifiers-generators-IdGeneratorType\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.0/userguide/html_single/&hellip;</a>"},{"comment_id":134527017,"body":"That is also not working, already tested"}],"last_activity_date":1684480686,"question_id":76286759,"body":"<p>Use case is while saving new entity there is two options for IdentityColumn</p>\n<ol>\n<li><p>Generate auto_increment id if id column is null( works perfect with  <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code></p>\n</li>\n<li><p>do not generate auto increment id if id column is not null and use the same id which we are manually setting while saving entity. This was also working fine with combination of  Hibernate assigned generator with identity generator by using below Annotations on identity column.</p>\n<pre><code>@Id\n@org.springframework.data.annotation.Id\n@GeneratedValue(strategy = GenerationType.IDENTITY,  generator = &quot;CustomIdGenerator&quot;)\n@GenericGenerator(name = &quot;CustomIdGenerator&quot;, strategy = &quot;com.CustomIdentityGenerator &quot;)\nprivate Long id;\n</code></pre>\n</li>\n</ol>\n<p>Both of the use cases was working fine with hibernate version 5.X with below code of 'CustomIdentityGenerator'</p>\n<pre><code>public class CustomIdentityGenerator extends IdentityGenerator {\n\n    @Override\n    public Serializable generate(SharedSessionContractImplementor session, Object object) throws HibernateException {\n        Serializable id = session.getEntityPersister(null, object).getClassMetadata().getIdentifier(object, session);\n        return id != null &amp;&amp; id != Integer.valueOf(0) ? id : super.generate(session, object);\n    }\n}\n</code></pre>\n<p>However after update to hibernate version 6.X  Generate method is not present in <strong>'IdentityGenerator'</strong>. Tried multiple ways to override but nothing works.</p>\n<p>Is it even possible in hibernate 6.X to achieve this use case?</p>\n"},{"comments":[{"comment_id":134511829,"body":"Can you please add the error logs for more clarification"},{"comment_id":134513625,"body":"Full project is here: <a href=\"https://drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/&hellip;</a>"},{"comment_id":134526064,"body":"you can upload your project on github and share link as then you can check the changes from repository easily"}],"answers":[{"comments":[{"comment_id":134512495,"body":"When I returned from Slideshow or Gallery, adapter of OneFragment and recyclerView of OneFragment are null."},{"comment_id":134513636,"body":"Full project is here: <a href=\"https://drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1M0BwonXUjY8IrSAtQWS6SlBquMB28W75/&hellip;</a>"}],"answer_id":76278342,"body":"<p>As I try to solve that which I understand your object is not being called when you just calling constructor of the oneFragment. So I suggest you to try below code into the constructor of oneFragment.\ntry to add this code on constructor and can check.\nalso add try catch to prevent unwanted condition of null pointer or etc. on clearBox method befor calling it.</p>\n<p><code>public OneFragment(int k) { boxList = new ArrayList&lt;&gt;(); for(int i=0; i&lt;t; i++) {boxList.add(new Box(i+1, Mode.NOTCHECKED));} }</code></p>\n"}],"last_activity_date":1684480492,"question_id":76277839,"body":"<p>I am making an Android project. I created a <code>RecyclerView</code> in <code>ViewPager2</code> as follows:</p>\n<ol>\n<li><p><a href=\"https://i.stack.imgur.com/0XY68.jpg\" rel=\"nofollow noreferrer\">Screenshot 1</a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/B9HSL.jpg\" rel=\"nofollow noreferrer\">Screenshot 2</a></p>\n</li>\n</ol>\n<p>I switched to <code>Gallery</code> or <code>Slideshow</code>. Then, I returned back to <code>Home</code> and clicked the <code>Clear Box</code> button. As soon as I clicked the button, the app crashed. The error was a <code>nullPointerException</code>.</p>\n<p>My Adapter code:</p>\n<pre><code>public class MyAdapter extends FragmentStateAdapter {\n    private ArrayList&lt;Fragment&gt; fragmentList = new ArrayList&lt;&gt;();\n\n    public MyAdapter(@NonNull FragmentActivity fragmentActivity) {\n        super(fragmentActivity);\n    }\n\n    public MyAdapter(@NonNull Fragment fragment) {\n        super(fragment);\n    }\n\n    public MyAdapter(@NonNull FragmentManager fragmentManager, @NonNull Lifecycle lifecycle) {\n        super(fragmentManager, lifecycle);\n    }\n\n    @NonNull\n    @Override\n    public Fragment createFragment(int position) {\n        return fragmentList.get(position);\n    }\n\n    @Override\n    public int getItemCount() {\n        return fragmentList.size();\n    }\n\n    public void addFragment(Fragment fragment) {\n        fragmentList.add(fragment);\n    }\n}\n</code></pre>\n<p>My fragment code:</p>\n<pre><code>public class OneFragment extends Fragment {\n    Button button;\n    RecyclerView recyclerView;\n    BoxAdapter adapter;\n    private List&lt;Box&gt; boxList;\n    private LinearLayout linearLayout;\n    int t;\n\n    public OneFragment(int k) {\n        t = k;\n        Log.d(&quot;QQQ&quot;, &quot;OneFragment constructor called&quot;);\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View view;\n        view = inflater.inflate(R.layout.fragment_one, container, false);\n        linearLayout = view.findViewById(R.id.linearlayout);\n        button = view.findViewById(R.id.click);\n        recyclerView = view.findViewById(R.id.recyclerview);\n        boxList = new ArrayList&lt;&gt;();\n       \n        for(int i=0; i&lt;t; i++) {\n            boxList.add(new Box(i+1, Mode.NOTCHECKED));\n        }\n        adapter = new BoxAdapter(getActivity(), boxList);\n        recyclerView.setAdapter(adapter);\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getActivity(), &quot;You clicked me. T= &quot;+t, Toast.LENGTH_SHORT).show();\n            }\n        });\n        return view;\n    }\n\n    public void clearBox() {\n        boxList.clear();\n        adapter.notifyDataSetChanged();\n    }\n\n    public int getBoxSize() {\n        if(boxList == null) {\n            return -1;\n        } else {\n            return boxList.size();\n        }\n    }\n}\n</code></pre>\n<p>My home fragment code:</p>\n<pre><code>public class HomeFragment extends Fragment {\n\n    private FragmentHomeBinding binding;\n    private Button button;\n    private ViewPager2 viewPager2;\n    private MyAdapter myAdapter;\n    private OneFragment oneFragment;\n    private TwoFragment twoFragment;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        HomeViewModel homeViewModel = new ViewModelProvider(this).get(HomeViewModel.class);\n\n        binding = FragmentHomeBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();   \n        button = binding.clearbox;\n        viewPager2 = binding.viewpager;\n\n        int q;\n        q = new Random().nextInt(10 - 1 + 1) + 1;\n       \n        oneFragment = new OneFragment(q);\n        twoFragment = new TwoFragment();\n\n        myAdapter = new MyAdapter(getChildFragmentManager(), getLifecycle());\n\n        myAdapter.addFragment(oneFragment);\n        myAdapter.addFragment(twoFragment);\n        myAdapter.notifyDataSetChanged();\n        viewPager2.setAdapter(myAdapter);      \n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                oneFragment.clearBox();  // app crashed on this line. Null pointer after returned from Gallery or Slideshow. Why?                \n            }\n        });\n\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<p>The error that I got:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.navbartest2, PID: 18771\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void com.example.navbartest2.adapter.BoxAdapter.notifyDataSetChanged()' on a null object reference\n        at com.example.navbartest2.fragment.OneFragment.clearBox(OneFragment.java:82)\n        at com.example.navbartest2.ui.home.HomeFragment$1.onClick(HomeFragment.java:72)\n        at android.view.View.performClick(View.java:8160)\n        at android.widget.TextView.performClick(TextView.java:16222)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\n        at android.view.View.performClickInternal(View.java:8137)\n        at android.view.View.access$3700(View.java:888)\n        at android.view.View$PerformClick.run(View.java:30236)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.app.ActivityThread.main(ActivityThread.java:8653)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130)\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"answers":[{"answer_id":76286796,"body":"<p>If your <code>AuthenticationRequest</code> builder is a simple POJO builder without any database calls or synchronized methods, etc, it will not cause any blocking.</p>\n<p>Usually, it's recommended to move such a code into the chain. In the Reactor, nothing happens until you subscribe, but if you move your code outside of a chain, it can be executed before subscribing (as part of the chain assembling phase).</p>\n<p>For example, this code prints &quot;hello world&quot; even if there is no subscription on Reactor chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    getData();\n}\n\npublic static Mono&lt;String&gt; getData() {\n    var req = new MyRequest(1);\n    System.out.println(&quot;hello world&quot;);\n    return Mono.defer(() -&gt; Mono.just(req))\n        .map(Object::toString);\n}\n</code></pre>\n<p>But this code prints nothing:</p>\n<pre><code>public static void main(String[] args) {\n    getData();\n}\n\npublic static Mono&lt;String&gt; getData() {\n    return Mono.defer(() -&gt; {\n            var req = new MyRequest(1);\n            System.out.println(&quot;hello world&quot;);\n            return Mono.just(req);\n        })\n        .map(Object::toString);\n}\n</code></pre>\n<p>See more details here: <a href=\"https://stackoverflow.com/a/76275996/6933090\">https://stackoverflow.com/a/76275996/6933090</a></p>\n<p>But actually, in your case, nothing wrong should happen if you move it outside of <code>Mono.defer</code> (as in your example), but it's anyway better to move it into a chain like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.fromCallable(() -&gt; AuthenticationRequest.builder()\n        .withAuthenticationProvider(provider)\n        .withRedirectUri(redirectUri)\n        .withSubject(subject)\n        .build())\n    .map(req -&gt; authenticationClient.authenticate(req))\n    .map(this::mapAuthenticateResponse)\n</code></pre>\n"}],"last_activity_date":1684480262,"question_id":76286434,"body":"<p>Currently I have a method which looks like this:</p>\n<pre><code>public Mono&lt;Either&lt;CommunicationException, AuthenticateResponse&gt;&gt; authenticate(String provider, String subject, String redirectUri) {\n    final var req = AuthenticationRequest.builder().withAuthenticationProvider(provider).withRedirectUri(redirectUri).withSubject(subject).build();\n        return Mono.defer(() -&gt; Mono.just(authenticationClient.authenticate(req))\n                        .map(this::mapAuthenticateResponse)\n                        .map(Either::&lt;CommunicationException, AuthenticateResponse&gt;right))\n                .doOnError(err -&gt; LOGGER.error(&quot;Failed to authenticate&quot;, err))\n                .onErrorResume(e -&gt; Mono.just(new CommunicationException(e.getMessage())).map(Either::left));\n}\n</code></pre>\n<p>I am a bit unsure how it with reactive chains, will this be non-blocking even though the request is built outside of the Mono.defer() method?</p>\n<p>I am not sure how I would go about debugging this.</p>\n"},{"comments":[{"comment_id":134515037,"body":"What do you mean by a dependency? Where is the code? Post a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"comment_id":134516529,"body":"What command-line tools?  How are you building your <code>myLib.so</code>?  It&#39;s possible to &quot;successfully&quot; <i>build</i> a shared object and have missing symbols if you omit any dependencies, but that library will then fail to load."},{"comment_id":134517935,"body":"Yes,@AndrewHenle you could be right.  Although the liner does not complain, I was beginning to suspect that I have not linked everything correctly.  Your observation that it is possible to successfully build a shared object without all the dependencies makes sense and would explain the observed failures.  Thanks."},{"comment_id":134518797,"body":"@aled:  I have added a minimum reproducible example.  Sorry it took a while - I started from scratch to keep things simpler."}],"answers":[{"answer_id":76286790,"body":"<p>I think that I have now got it working.  I will post my script for posterity:</p>\n<pre><code>#!/bin/sh\n\n#  Example of building JNI app.  \n# Designed to run on linux using GCC and a suitable java compiler\n#\n# Uses an app 'HelloWorld' which invokes a shared library 'foo'.\n# Foo depends upon 'bar' which is bound to foo either as\n# - an object (bar.o)\n# - a static library (bar.a)\n# - a dynamic library (libBar.so)\n#\n# The java app is run once with each of the three forms of the shared library (libFoo.so) \n\n# compile java and create jni header file\njavac HelloWorld.java\njavac -h . HelloWorld.java\n\n\n# compile bar\ngcc -c -Wall -Werror -fpic bar.c\n\n# link object into shared library\ngcc -shared -o libBar.so bar.o\n\n# link object into static library\nar rcs bar.a bar.o\n\n# compile foo\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\n\n# Set up the LD_LIBRARY_PATH to resolve dynamic libraries at run time\n# current working directory as a variable\ncwd=$(pwd)\nLD_LIBRARY_PATH=$cwd:$LD_LIBRARY_PATH\n# echo &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\n\necho\necho\necho\necho &quot;************** Using Bar as object *************&quot;\n# link object into shared library an object library for Bar\ngcc -shared -o libFoo.so foo.o bar.o\njava -Djava.library.path=. HelloWorld\n\necho\necho\necho\necho &quot;************** Using Bar as static library *************&quot;\n# link object into shared library a static library for Bar\ngcc -shared -o libFoo.so foo.o -L . bar.a\njava -Djava.library.path=. HelloWorld\n\necho\necho\necho\necho &quot;************** Using Bar as dynamic library *************&quot;\n# link object into shared library using a dynamic library for Bar\ngcc -shared -o libFoo.so foo.o -L . -lBar\njava -Djava.library.path=. HelloWorld\n</code></pre>\n"}],"last_activity_date":1684480222,"question_id":76279827,"body":"<p>I want to use 3rd party shared libs from my Java app via JNI.</p>\n<p>(I am running on Manjaro Linux, using command line tools at the moment)</p>\n<p>I can build and run this all fine if I do not create a dependency in myLib.so on the 3rd party libraries.<br />\nAs soon as I create a dependency from myLib.so to 3rd party lib the Java invocation fails with</p>\n<pre><code>java: symbol lookup error: myLib.so: undefined symbol: acOpenSystem\n</code></pre>\n<p>I have tried setting the library path to the locations of the libraries, but this still fails.</p>\n<pre><code>java -Djava.library.path=.:$ARENA_LIBS:$ARENALIBS2 MyClass\n</code></pre>\n<p>I am sure that there is something simple that I am missing, but I cannot seem to divine the answer from the web.  Please help.  Even a link to a blindingly obvious resource that I failed to find would be welcome ;-)</p>\n<p>Thanks</p>\n<p>Edit: Here is the source.  HelloWorld -&gt; Foo -&gt; Bar\nBar.c</p>\n<pre><code>#include &lt;stdio.h&gt;\n \nvoid bar(void)\n{\n    puts(&quot;\\nHello, I am a shared library called BAR&quot;);\n}\n</code></pre>\n<p>bar.h</p>\n<pre><code>#ifndef bar_h__\n#define bar_h__\n \nextern void bar(void);\n \n#endif  // bar_h_\n</code></pre>\n<p>foo.c:</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;stdio.h&gt;\n#include &quot;bar.h&quot;\n#include &quot;HelloWorld.h&quot;\n \n// https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\n \nvoid foo(void)\n{\n    puts(&quot;\\nHello, I am a shared library&quot;);\n    bar();\n}\n\nJNIEXPORT void JNICALL Java_HelloWorld_foo\n  (JNIEnv *, jobject) {\n    foo();\n }\n</code></pre>\n<p>foo.h:</p>\n<pre><code>#ifndef foo_h__\n#define foo_h__\n \nextern void foo(void);\n \n#endif  // foo_h_\n</code></pre>\n<p>HelloWorld.h:</p>\n<pre><code>/* DO NOT EDIT THIS FILE - it is machine generated */\n#include &lt;jni.h&gt;\n/* Header for class HelloWorld */\n\n#ifndef _Included_HelloWorld\n#define _Included_HelloWorld\n#ifdef __cplusplus\nextern &quot;C&quot; {\n#endif\n/*\n * Class:     HelloWorld\n * Method:    foo\n * Signature: ()V\n */\nJNIEXPORT void JNICALL Java_HelloWorld_foo\n  (JNIEnv *, jobject);\n\n#ifdef __cplusplus\n}\n#endif\n#endif\n</code></pre>\n<p>HelloWorld.java:</p>\n<pre><code>\nimport java.io.File;\n\nclass HelloWorld {\n\n    public static void main(String[] args) {\n        try {\n            File file = new File(&quot;libFoo.so&quot;);\n            String path = file.getAbsoluteFile().toPath().toString();\n            System.out.println(&quot;path = &quot;+ path);\n            System.load(path);\n            System.out.println(&quot;Hello from java app&quot;); // Display the string.\n            new HelloWorld().foo();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    private native void foo();\n}\n</code></pre>\n<p>And my script file:</p>\n<pre><code>#!/bin/sh\n\nSCRIPT_DIR=$( cd -- &quot;$( dirname -- &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&gt; /dev/null &amp;&amp; pwd )\n\n# https://www.cprogramming.com/tutorial/shared-libraries-linux-gcc.html\n# compile foo\ngcc -c -I&quot;$JAVA_HOME/include&quot; -I&quot;$JAVA_HOME/include/linux&quot; -Wall -Werror -fpic foo.c\n# link object into shared library\ngcc -shared -o libFoo.so foo.o\n\n# compile bar\ngcc -c -Wall -Werror -fpic bar.c\n# link object into shared library\ngcc -shared -o libBar.so bar.o\n\n\nLD_LIBRARY_PATH=::$LD_LIBRARY_PATH\nexport LD_LIBRARY_PATH\ngcc -L$SCRIPT_DIR -o test hello-world.c -lFoo -lBar\n\n./test\n\n\nLD_LIBRARY_PATH=$SCRIPT_DIR:$LD_LIBRARY_PATH\necho &quot;LD_LIBRARY_PATH: $LD_LIBRARY_PATH&quot;\nexport LD_LIBRARY_PATH=$LD_LIBRARY_PATH\n\njavac HelloWorld.java\njavac -h . HelloWorld.java\njava -Djava.library.path=. HelloWorld\n\n</code></pre>\n<p>And for completeness, the source for the c executable that proves that the problem is not in the c code:</p>\n<pre><code>#include &lt;stdio.h&gt;      // C Standard IO Header\n#include &quot;foo.h&quot;\n\nint main(int argc, char *argv[]) {\n    printf(&quot;Hello from executable&quot;);\n    foo();\n}\n</code></pre>\n<p>The executable in c runs fine, but the java application gives an error:</p>\n<pre><code>Hello from java app\n\nHello, I am a shared library\njava: symbol lookup error: /mnt/data/singer/c/experiment/libFoo.so: undefined symbol: bar\n</code></pre>\n<pre><code>java -version\nopenjdk version &quot;17.0.5&quot; 2022-10-18\nOpenJDK Runtime Environment Temurin-17.0.5+8 (build 17.0.5+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.5+8 (build 17.0.5+8, mixed mode, sharing)\n\ngcc --version\ngcc (GCC) 12.2.1 20230201\n\n</code></pre>\n<p>Running on Manjaro 22.1</p>\n"},{"comments":[{"comment_id":12071291,"body":"Can you show the source code of this class?"},{"comment_id":12071353,"body":"A test case would be one of the methods in a test class. Having your tests depend of a certain execution order is not a good practice, as elaborated here: <a href=\"http://stackoverflow.com/q/3693626/422353\">stackoverflow.com/q/3693626/422353</a>"},{"comment_id":12072597,"body":"Yes, I had read that and realize that unit tests , in the ideal world, should not be executed in some specific order. Sadly, thats how things work here  . A cab cannot be deleted before being created and penalized. So order becomes important."},{"comment_id":12073781,"body":"how is testUpdate() going to work if testCreate() fails?"},{"comment_id":12074391,"body":"It does not.  Hence the order is important"}],"answers":[{"comments":[{"comment_id":134524154,"body":"&quot;Each test runs in its own test fixture to isolate tests from the changes made by other tests&quot; - are they unit tests?, integration, GUI, system integration tests? Do not copy paste document and provide the answer."},{"comment_id":134526277,"body":"@RamPrakash The question and this answer both refers to <code>junit tests</code> which is a unit testing framework hence answer to your first question is &quot;they are unit tests&quot;. Secondly, I have been using (asking/answering questions) SO for quite some time now and I don&#39;t think it&#39;s recommended anywhere to not provide official documentation or relevant link/snippet. I understand it could be a personal choice to not like an answer with such things, so I respect that but IMHO this answer is inline with SO policy and is also upvoted by 18 people so far, so I am assuming it helped them."}],"answer_id":9529014,"body":"<p>Generally junit tests(test methods) should not depend on each other.\nFollowing is taken from <a href=\"https://junit.org/junit4/faq.html#atests_2\" rel=\"nofollow noreferrer\">junit FAQ</a></p>\n<blockquote>\n<p>Each test runs in its own test fixture to isolate tests from the\nchanges made by other tests. That is, tests don't share the state of\nobjects in the test fixture. Because the tests are isolated, they can\nbe run in any order...... The ordering of test-method invocations is not\nguaranteed.</p>\n</blockquote>\n<p>So if you want to do some common initialization stuff then you could do that in the method annotated with <code>@Before</code> and cleanup in method annotated with <code>@After</code>. Or else if that initialization is not required for all tests methods in your test class then you could put that in private methods and call them appropriately from your tests.</p>\n<p>On a side note, if you still want to do ordering of tests then you may have a look at <code>TestNG</code>.</p>\n"},{"comments":[{"comment_id":12074406,"body":"I can use your 2nd suggestion and write all of them in one test, but, like you said, hard to maintain. Also most of my tests are written this way ( 1 then 2 then 3 ) and only this one is giving issues ! ( And yes, I use a clean DB each time . No such issue )"},{"comment_id":12106350,"body":"@crazyaboutliv: I would say don&#39;t rely on tests being executed in order the way you are doing. As the junit doc itself says that test method execution order is not guaranteed. Moreover I have seen cases where junit tests pass when run from IDE but fail when run as part of build. And nobody would want to get into situations like this."},{"comment_id":51187964,"body":"@DNA  Your answer is good for a single table where the insertion of values before CRUD could be added to setUp( ), but what if I have more than 1 table to test? I cannot have common tasks for all the tables that could go in to setUp( ) and tearDown( )."},{"comment_id":51188552,"body":"@prudhvi Difficult to answer without a specific example, but it is sometimes useful to create an abstract superclass, common to multiple tests, to reduce duplicated code."}],"answer_id":9530377,"body":"<p>Your kind of situation <em>is</em> awkward, as it feels bad to keep duplicating work in order to isolate the tests (see below) - but note that most of the duplication can be pulled out into <code>setUp</code> and <code>tearDown</code> (<code>@Before</code>, <code>@After</code>) methods, so you don't need much extra code. Provided that the tests are not running so slowly that you stop running them often, it's better to waste a bit of CPU in the name of clean testing.</p>\n\n<pre><code>public void testAdd() throws Exception {\n      // wipe database\n      // add something\n      // assert that it was added\n}\npublic void testUpdate() throws Exception {\n      // wipe database\n      // add something\n      // update it\n      // assert that it was updated\n}\npublic void testDelete() throws Exception {\n      // wipe database\n      // add something\n      // delete it\n      // assert that it was deleted\n}\n</code></pre>\n\n<p>The alternative is to stick everything into one test with multiple asserts, but this is harder to understand and maintain, and gives a bit less information when a test fails:</p>\n\n<pre><code>public void testCRUD() throws Exception {\n      // wipe database\n      // add something\n      // assert that it was added\n      // update it\n      // assert that it was updated\n      // delete it \n      // assert that it was deleted\n}\n</code></pre>\n\n<p>Testing with databases or collections or storage of any kind is tricky because one test can always affect other tests by leaving junk behind in the database/collection.  Even if your tests don't explicitly rely on one another, they may still interfere with one another, especially if one of them fails.</p>\n\n<p>Where possible, use a fresh instance for each test, or wipe the data, ideally in as simple a way as possible - e.g. for a database, wiping an entire table is more likely to succeed than a very specific deletion that you might accidentally get wrong. </p>\n\n<p><strong>Update</strong>: It's usually better to wipe data at the start of the test, so one failed test run doesn't affect the next run. </p>\n"},{"answer_id":9530600,"body":"<p>What you can do : </p>\n\n<ul>\n<li>Cleanup the database before every test</li>\n<li>Start by testing the first logical operation first. When you have enough confidence, assume it is correct and move to the next, etc...</li>\n<li>Write white box tests first, but start with black box tests. For example if you have triggers or similar in your database, start with that.</li>\n</ul>\n"},{"comments":[{"comment_id":22389250,"body":"Or you can just define a Test Suite..  which is a lot simpler &amp; easier."},{"comment_id":24016586,"body":"@ThomasW it is not easier when you already have 5000+ tests..."}],"answer_id":13265376,"body":"<p>If you want to run junit tests in order \"just as they present in your source code\", \nsee my note about this here:</p>\n\n<p><a href=\"http://intellijava.blogspot.com/2012/05/junit-and-java-7.html\" rel=\"nofollow\">How to run junit tests in order as they present in your source code</a></p>\n\n<p>But it is really not a good idea, tests must be independent.</p>\n"},{"answer_id":15819421,"body":"<p>In general, JUnit does not guarantee the ordering of test cases. It's not guaranteed to be alphabetical, nor the order in the file. If the ordering of tests were important, then one depends on the output of the previous. What if the first one failed? Should we even bother with the later (and dependent) tests? Probably not.</p>\n\n<p>So if we had this:</p>\n\n<pre><code>@Test\npublic void first(){...}\n\n@Test\npublic void second() {...}\n\n@Test\npublic void third() {...}\n</code></pre>\n\n<p>We don't know what order they will run in. Since we are hoping they go in order, and we should probably not bother running second or third if the previous one(s) failed, we can do this instead:</p>\n\n<pre><code>@Test\npublic void firstThree(){\n    first();\n    second();\n    third();\n}\n\npublic void first(){...}\npublic void second() {...}\npublic void third() {...}\n</code></pre>\n\n<p>Notice that we only have one @Test this time, and it guarantees ordering.</p>\n"},{"answer_id":15832294,"body":"<p>If you're determined you would want to have order of execution for your tests, JUnit 4.11 now supports this through an annotation. See <a href=\"https://stackoverflow.com/questions/13723125/create-my-own-methodsorter-for-junits-fixmethodorder\">this thread</a> for more discussion - basically, you would use</p>\n\n<pre><code>@FixMethodOrder\n</code></pre>\n\n<p>to guarantee some test order that way. It is discouraged though.</p>\n"},{"comments":[{"comment_id":67893034,"body":"Note: blog you&#39;re referencing was written by someone who <a href=\"http://stackoverflow.com/a/13265376/365237\">already provided an answer before you did</a>"},{"comment_id":67990323,"body":"So it is, thanks for pointing that out. If I recall correctly, I already read the blog and figured it out for some unit tests I was working on. When I saw this question, I thought others might want to know too. I guess I should have read all the answers more carefully. I meant no offense. If @kornero wants, I&#39;ll delete the post."}],"answer_id":17663772,"body":"<p>If you are using <strong>Java 7</strong> then you should know that Junit gets the list of all tests using \"Method[] getDeclaredMethods()\" from java.lang.Class.  You can read from the javadoc of this method or from junit docs that: \"<strong>The elements in the array returned are not sorted and are not in any particular order.</strong>\", but in previous jvm implementation methods list was ordered as they were in source code.</p>\n\n<p>This was taken from this <a href=\"http://intellijava.blogspot.com/2012/05/junit-and-java-7.html\">blog</a> and he provides a work around.</p>\n"}],"last_activity_date":1684479987,"question_id":9528581,"body":"<p>I have a test case where I add an entity, update it and delete the same.  Hence, the order of execution is important here. I want it to be :</p>\n\n<ol>\n<li>Create</li>\n<li>Update</li>\n<li>Delete </li>\n</ol>\n\n<p>Strangely, for just one test case ( out of 15) , JUnit executes it in the following order :</p>\n\n<ol>\n<li>Delete</li>\n<li>Update</li>\n<li>Create  . </li>\n</ol>\n\n<p>How do I tell JUnit  to execute them in a specific order ? In other cases, JUnit works totally fine ( executing serially ) . And why does JUnit behave weirdly in this one case ? </p>\n\n<p>Relevant code snippet below : </p>\n\n<pre><code>    private static Date date;\n    private static int entity;\n    static Parking p;\n    public ParkingTests(String name) {\n       super(name);\n    }\n    public void testAdd() throws Exception {\n           //Add code here\n    }\n    public void testUpdate() throws Exception {\n            //update code here\n    }\n    public void testDelete() throws Exception {\n            //delete code here\n    }\n  }\n</code></pre>\n\n<p>It gets weirder. I run a lot of test cases as part of a suite.  If I run just the Parking case, the order is maintained. If I run it along with others, it is sometimes maintained, sometimes not !  </p>\n"},{"comments":[{"comment_id":134525594,"body":"It isn&#39;t possible to debug this from just a log. What is <code>toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigura&zwnj;&#8203;tor</code>? What does &quot;kind of taken&quot; mean."},{"comment_id":134525932,"body":"<a href=\"https://github.com/vogellacompany/tycho-example\" rel=\"nofollow noreferrer\">Vogella&#39;s Tycho example</a> works for me. One cannot say what you did wrong if you do not tell what you did differently."}],"last_activity_date":1684479497,"question_id":76285057,"body":"<p>I'm trying and failing to build an Eclipse RCP application with Tycho.</p>\n<p>The application is kind of taken from Vogella's tutorial.</p>\n<p>I run &quot;mvn clean verify&quot; and the error I'm getting is :-</p>\n<pre><code>    [INFO] --- tycho-p2-repository:2.7.5:assemble-repository (default-assemble-repository) @ com.jim.mp.build.product ---\n    [WARNING] Parameter 'qualifier' (user property 'buildQualifier') is read-only, must not be used in configuration\n    [INFO]\n    [INFO] --- tycho-p2-repository:2.7.5:archive-repository (default-archive-repository) @ com.jim.mp.build.product ---\n    [WARNING] Parameter 'qualifier' (user property 'buildQualifier') is read-only, must not be used in configuration\n    [INFO] Building zip: C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\com.jim.mp.build.product-1.0.0-SNAPSHOT.zip\n    [INFO]\n    [INFO] --- tycho-p2-director:2.7.5:materialize-products (materialize-products) @ com.jim.mp.build.product ---\n    [INFO] Installing product com.vogella.tasks.product.product for environment win32/win32/x86_64 to C:\\My_Devs\\Eclipse-Headless-Tycho-Vogella\\com.jim.mp.build\\releng\\com.jim.mp.build.product\\target\\products\\com.vogella.tasks.product.product\\win32\\win32\\x86_64\n    Installing com.vogella.tasks.product.product 0.0.1.\n    Installation failed.\n    Cannot complete the install because one or more required items could not be found.\n            Software being installed: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\n            Missing requirement: toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator 0.0.1 requires 'osgi.bundle; org.eclipse.equinox.simpleconfigurator 0.0.0' but it could not be found\n            Cannot satisfy dependency:\n                    From: to-do 0.0.1 (com.vogella.tasks.product.product 0.0.1)\n                    To: org.eclipse.equinox.p2.iu; toolingcom.vogella.tasks.product.product.configuration [0.0.1,0.0.1]\n            Cannot satisfy dependency:\n                    From: toolingcom.vogella.tasks.product.product.configuration 0.0.1\n                    To: org.eclipse.equinox.p2.iu; toolingwin32.win32.x86_64org.eclipse.equinox.simpleconfigurator [0.0.1,0.0.1]\n</code></pre>\n<p>I've tried Tycho versions <code>2.7.5</code> and <code>3.0.4</code>\nI've tried removing <code>org.eclipse.equinox.simpleconfigurator</code> from my product file entirely\nI've tried completely deleting my Maven .m2 repo and starting from scratch</p>\n<p>Was hoping for an error free Tycho build of my simple application</p>\n<p>I actually got the errors above</p>\n"},{"comments":[{"comment_id":101076555,"body":"Which version of Java are you using ?"},{"comment_id":101076660,"body":"Latest - java version &quot;12.0.1&quot; 2019-04-16"}],"answers":[{"comments":[{"comment_id":101079651,"body":"What about &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProce&zwnj;&#8203;ssor&lt;/processor&gt;?"},{"comment_id":101079991,"body":"Looks like it&#39;s not working. I&#39;m trying to implement this code: <a href=\"https://pastebin.com/GW7MxMDN\" rel=\"nofollow noreferrer\">pastebin.com/GW7MxMDN</a> I get <code>cannot find symbol [ERROR]   symbol:   variable PaymentTransactions_</code> probably because <code>PaymentTransactions_</code> is not generated. Do you know should I create <code>PaymentTransactions_</code> manually?"},{"comment_id":101080068,"body":"Let me check, by the way, are you able to build the project using maven command ?"},{"comment_id":101080406,"body":"using <code>clean package</code>?"},{"comment_id":101080694,"body":"It means you are able to build the project using maven command, it is about not generating the classes. Can you check this link. <a href=\"https://stackoverflow.com/questions/30764266/generate-the-jpa-metamodel-files-using-maven-processor-plugin-what-is-a-conven\" title=\"generate the jpa metamodel files using maven processor plugin what is a conven\">stackoverflow.com/questions/30764266/&hellip;</a>"},{"comment_id":101080729,"body":"You can also check this link. <a href=\"https://github.com/jinahya/jpa-metamodels-with-maven-example/blob/master/pom.xml\" rel=\"nofollow noreferrer\">github.com/jinahya/jpa-metamodels-with-maven-example/blob/&hellip;</a>"},{"comment_id":101081753,"body":"But I think it&#39;s for older Java versions?"},{"comment_id":130449415,"body":"I can confirm that the answer of @Sambit works. His configuration makes the files being generated at target/generated-sources/annotations. This can easily be overseen. The directory can be added as source folder in IDEs as eclipse. When doing so compile errors for non resolvable types in IDEs may be solved."},{"comment_id":130449540,"body":"BTW: No other plugins or configurations are necessary for jpa static model generation!"}],"answer_id":57291506,"body":"<p>In case of Java 12, use the below code snippet inside build in pom.xml.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;release&gt;12&lt;/release&gt;  \n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>After this, add the below for jpamodelgen.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n  &lt;version&gt;5.4.3.Final&lt;/version&gt;\n  &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"comment_id":101101170,"body":"Thanks, yesterday I tried this but I get <code>Plugin execution not covered by lifecycle configuration: org.bsc.maven:maven-processor-plugin:3.1.0:process (execution: process, phase: generate-sources)</code> at line 218 here: <a href=\"https://pastebin.com/kRLDwa8s\" rel=\"nofollow noreferrer\">pastebin.com/kRLDwa8s</a>"},{"comment_id":101101229,"body":"Let me try to solve it by adding &lt;pluginManagement&gt;"},{"comment_id":101101497,"body":"Unfortunately I can build the project but again meta models are not generated. ... Very strange....."},{"comment_id":101104059,"body":"Do I need to make some specific configuration for Spring?"}],"answer_id":57304043,"body":"<p>Remove <code>&lt;scope&gt;provided&lt;/scope&gt;</code> from </p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;version&gt;5.4.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>Add plugin</p>\n\n<pre><code>    &lt;plugins&gt;\n        ...\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.bsc.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-processor-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;process&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;processors&gt;\n                            &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                        &lt;/processors&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                    &lt;version&gt;5.4.3.Final&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n        ...\n    &lt;/plugins&gt;\n</code></pre>\n\n<p>And then rebuild</p>\n\n<pre><code>mvn clean package -DskipTests\n</code></pre>\n"},{"comments":[{"comment_id":124377009,"body":"If you are using Spring Boot, you can use <code>&lt;version&gt;${hibernate.version}&lt;&#47;version&gt;</code> so that the version is aligned with the one that Spring Boot recommends."}],"answer_id":67500340,"body":"<p>I usually just add the hibernate-jpamodelgen to the annotationprocessorpath of the compiler plugin. That prevents the processor to be packaged in the deployment.</p>\n<pre><code> &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;annotationProcessorPaths&gt;\n        &lt;path&gt;\n          &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n          &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n          &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/path&gt;\n        &lt;path&gt;\n          &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n          &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n          &lt;version&gt;5.4.3.Final&lt;/version&gt;\n        &lt;/path&gt;\n      &lt;/annotationProcessorPaths&gt;\n    \n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"answer_id":68908680,"body":"<p>This works for me</p>\n<p>pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;11&lt;/source&gt;\n                &lt;target&gt;11&lt;/target&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n                        &lt;version&gt;2.2.11.RELEASE&lt;/version&gt;\n                    &lt;/path&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                        &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                            &lt;version&gt;5.4.22.Final&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;profiles&gt;\n  &lt;profile&gt;\n        &lt;id&gt;dev&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;properties&gt;\n            &lt;spring.profiles.active&gt;dev&lt;/spring.profiles.active&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<pre><code>import com.mycompany.myapp.domain.*; // for static metamodels\nimport com.mycompany.myapp.domain.User\n\npublic class UserQueryService {\n\nprivate Specification&lt;User&gt; createSpecification(UserCriteria criteria) {\n  Specification&lt;User&gt; specification = Specification.where(null);\n  if (criteria != null) {\n    if (criteria.getId() != null) {\n       specification = specification.and(buildSpecification(criteria.getId(), User_.id));\n    }\n  }\n  return specification;\n}    \n}\n</code></pre>\n"},{"answer_id":76286637,"body":"<p>Adding hibernate-jpamodelgen to my dependencies did not do the job for me, but rather created dependency conflicts, which caused the dependencyConvergence of the maven-enforcer-plugin to complain unless I combined it with scope 'protected'. Besides, it does not seem plausible to me to declare a runtime dependency unless I have one.</p>\n<p>It turned out not to be necessary for me: I used Cesar's approach, but unlike in Cesar's case, I did not need to add\nhibernate-jpamodelgen or anything else to my dependencies.</p>\n<p>I already had a processor added to the maven-compiler-plugin, namely mapstruct-processor.\nLike Cesar suggested, I added the hibernate-jpamodelgen to that configuration. In my case, the result was:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;11&lt;/source&gt;\n        &lt;target&gt;11&lt;/target&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;1.4.2.Final&lt;/version&gt;\n            &lt;/path&gt;\n            &lt;!-- The following path declaration is the only thing I added to make hibernate-jpamodelgen run --&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n                &lt;version&gt;5.3.20.Final&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"last_activity_date":1684478902,"question_id":57290897,"body":"<p>I want to configure <code>hibernate-jpamodelgen</code> into Maven <code>pom.xml</code>. I tried this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;plugin&lt;/groupId&gt;\n    &lt;artifactId&gt;org.plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;Plugin&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;parent&gt;\n         ........\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;version&gt;5.4.3.Final&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;finalName&gt;datalis_plugin&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;10&lt;/source&gt;\n                    &lt;target&gt;10&lt;/target&gt;\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;1.18.6&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;processor&gt;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&lt;/processor&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;               \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;   \n&lt;/project&gt;\n</code></pre>\n<p>Full POM: <a href=\"https://pastebin.com/VjucMAYL\" rel=\"nofollow noreferrer\">https://pastebin.com/VjucMAYL</a></p>\n<p>But I get error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project org.plugin: Compilation failure\n[ERROR] Annotation processor 'org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor' not found\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n<p>I used this quite: <a href=\"https://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/jpamodelgen/1.0/reference/en-US/html_single/</a></p>\n"},{"answers":[{"answer_id":48833102,"body":"<p>I'm not sure if this helps but found some <a href=\"https://docs.spring.io/spring-ws/site/reference/html/client.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<p>For setting WS-Addressing headers on the client, you can use the org.springframework.ws.soap.addressing.client.ActionCallback. ...</p>\n\n<pre><code>webServiceTemplate.marshalSendAndReceive(o, new ActionCallback(\"http://samples/RequestOrder\"));\n</code></pre>\n"},{"answer_id":48833357,"body":"<p>public class WsHttpHeaderCallback implements WebServiceMessageCallback\n{</p>\n\n<pre><code>public WsHttpHeaderCallback()\n{\n    super();\n}\n\n@Override\npublic void doWithMessage(WebServiceMessage message) throws IOException, TransformerException\n{\n    String headerKey=\"headerkey\";\n    String headerValue=\"headervalue\";\n    addRequestHeader(headerKey, headerValue);     \n}\n\nprivate void addRequestHeader(String headerKey, String headerValue) throws IOException\n{\n\n    TransportContext context = TransportContextHolder.getTransportContext();\n    WebServiceConnection connection = context.getConnection();\n\n    if (connection instanceof HttpUrlConnection) {\n        HttpUrlConnection conn = (HttpUrlConnection) connection;\n\n        conn.addRequestHeader(headerKey, headerValue); \n\n    }\n}   \n</code></pre>\n\n<p>}</p>\n"},{"answer_id":52310279,"body":"<p>I've faced the same problem. If it can help someone, I've found a solution here: <a href=\"https://memorynotfound.com/spring-ws-add-soap-header-client/\" rel=\"nofollow noreferrer\">Spring WS Add Soap Header in Client</a></p>\n<p>The idea is to create a class implementing <code>org.springframework.ws.client.core.WebServiceMessageCallback</code> and override the <code>doWithMessage()</code> method.\nThe <code>doItMessage()</code> method takes a <code>WebServiceMessage</code> as argument and is invoked by the <code>springWs</code> process before sending the request, allowing to modify it before it is send.</p>\n<p>What is done in the example above is marshalling the object and adding it to the header of the request.</p>\n<p>In my case I have to be careful with XML annotations of the object to be set as header, especially the @XmlRootElement with the namespace attribute.</p>\n<p>Once this is done, the <code>WSClient</code> has to be adjusted to use the <code>marshalSendAndReceive()</code> method that takes a request and an uri, a payload object, and a <code>WebServiceMessageCallback</code>.</p>\n"}],"last_activity_date":1684478744,"question_id":48832483,"body":"<p>I followed this guide \"Consuming a SOAP web service\", at\n<a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/</a> \nand changed it to call my own internal SOAP service, it makes the call\nas expected, however now I need to pass an http header via the WsTemplate,\nwhat is the easiest way to do this?</p>\n"},{"comments":[{"comment_id":134526080,"body":"This is not a help forum. Show your code for what you have attempted, or you question may be closed. Also see <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> for guidelines on how to improve your question."}],"last_activity_date":1684478052,"question_id":76286557,"body":"<p>How to calculate the total number of paths of length D in an n-level complete binary tree, path（i，j）and path（j，i）are caiculated twice,such as N=3,D=2, result=14\nsuch as N=3,D=2, result=14.2 &lt;= N &lt;=10^6，1 &lt;= D &lt;= 2x10^6</p>\n"},{"answers":[{"answer_id":76286510,"body":"<p>This is unfortunately just how hopping windows work in Kafka streams. Think about it this way: If you want a new window every second over 24h this means you have <code>24*60*60 = 86400</code> windows open. Every time a new event comes in, you need to add it to every single window (and remove the events that dropped out of the window). Yes, 99.9% of the events are the same everywhere but there is no way for Kafka streams to know this.</p>\n<p>If you have 1Mb data per day this would already use 86.4Gb RAM. Also note that this is actually adding your value to 86400 state stores. The throughput should be abysmal. Ultimately you need to reduce the cardinality somehow (or buy enough ram to fit the state of your aggregations 86400 times).</p>\n<p>I ran into similar problems (trying to get hourly aggregates for data spanning years). However I controlled the API this was queried by and my solution at that time was to aggregate multiple levels (monthly, daily, hourly) and &quot;sum together&quot; the result on the fly. That came at the cost of a lot of complexity and a bit of latency as I needed to store the data somewhere and write logic to query it but at least it worked.</p>\n<p>Thinking about it again, a alternative could be to aggregate tumbling windows per second, use <code>suppress</code> to throw only one event at the end of the interval and then aggregate the tumbling window events with a hopping window. This won't help much with RAM, but save a lot of computation at least.</p>\n<p>You could also ask your PM whether what get this data down to a single second is worth the cost or whether 15 seconds would also suffice.</p>\n"}],"last_activity_date":1684477916,"question_id":76282603,"body":"<p>I have the following topology definition for exchange tickers with hopping window of 24 hours. What I want to achieve is to simply calculate a moving window for every second from last 24 hours. The answer to this is the hopping window, but the problem is that it generates window for every second for last and next 24 hours which ends with OOM error.</p>\n<p>How to achieve it? The tumbling window is no option here, since it is static and deos not allow duplicates.</p>\n<pre><code>    kStreamBuilder.stream(config.input())\n            .mapValues(new TickerConverter())\n            .groupByKey()\n            .windowedBy(TimeWindows.ofSizeWithNoGrace(Duration.ofHours(24)).advanceBy(Duration.ofSeconds(1)))\n            .aggregate(TickerInit::new, new Aggregator(), buildStateStore(STORE))\n            .mapValues(new TickerConverter())\n            .toStream((key, value) -&gt; key.key())\n            .to(config.output().name());\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134513680,"body":"Thanks for your response, I did so and updated the project with Maven; however, I am still getting this error in the pom.xml **&quot;Missing artifact com.regula.documentreader:webclient:jar.5.+&quot; **"},{"comment_id":134525814,"body":"Sorry, of course you will have to specify version, &quot;5.+&quot; is not precise, if you&#39;ll check repo <a href=\"https://maven.regulaforensics.com/RegulaDocumentReaderWebClient/com/regula/documentreader/webclient/\" rel=\"nofollow noreferrer\">maven.regulaforensics.com/RegulaDocumentReaderWebClient/com/&zwnj;&#8203;&hellip;</a> the latest 5th version is 5.8.4, so change tag into: <code>&lt;version&gt;5.8.4&lt;&#47;version&gt;</code>"},{"comment_id":134530991,"body":"Thanks very much for your response!!. Yes, it worked after updating the version of the dependency."}],"answer_id":76277931,"body":"<p>In your application pom.xml, you add a repository tag then, a dependency tag, like this:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;regulaforensics&lt;/id&gt;\n        &lt;url&gt;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>then</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.regula.documentreader&lt;/groupId&gt;\n        &lt;artifactId&gt;webclient&lt;/artifactId&gt;\n        &lt;version&gt;5.8.4&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"}],"last_activity_date":1684477072,"question_id":76277850,"body":"<p>I want to add this dependency to my maven spring application.</p>\n<pre><code>repositories {\n    maven {\n        url = uri(&quot;https://maven.regulaforensics.com/RegulaDocumentReaderWebClient&quot;)\n    }\n}\n\ndependencies {\n    implementation(&quot;com.regula.documentreader:webclient:5.+&quot;)\n}\n</code></pre>\n<p>I am having this code which is of a gradle file and I want to add this dependency to my Spring application.</p>\n"},{"answers":[{"comments":[{"comment_id":2066836,"body":"just for my own interest: where does the name &quot;mock&quot; come from?"},{"comment_id":2066883,"body":"Well, the very word &quot;mock&quot; means &quot;fake&quot;.  Sounds a bit better than &quot;fake object&quot;. :)"},{"comment_id":2066923,"body":"Mock is an English word meaning &quot;to mimic&quot;, or &quot;to imitate&quot;.  Mock objects imitate the dependencies of the object you are testing."}],"answer_id":2128153,"body":"<p>A Mock object is something used for unit testing.  If you have an object whose methods you want to test, and those methods depend on some other object, you create a mock of the dependency rather than an actual instance of that dependency.  This allows you to test your object in isolation.</p>\n\n<p>Common Java frameworks for creating mock objects include <a href=\"http://www.jmock.org/\" rel=\"noreferrer\">JMock</a> and <a href=\"http://easymock.org/\" rel=\"noreferrer\">EasyMock</a>.  They generally allow you to create mock objects whose behavior you can define, so you know exactly what to expect (as far as return values and side effects) when you call methods on the mock object.</p>\n\n<p>As an example, one common use case might be in an MVC application, where you have a DAO layer (data access objects) and a Controller that performs business logic.  If you'd like to unit test the controller, and the controller has a dependency on a DAO, you can make a mock of the DAO that will return dummy objects to your controller.</p>\n\n<p>One thing thats important to note is that its usually the case that mock objects implement the same interface as the objects that they are mocking - this allows your code to deal with them via the interface type, as if they are instances of the real thing.</p>\n"},{"answer_id":2128167,"body":"<p>Mock objects are the one which is used in unit testing. which helps you to test the only functionality you want to test. because all the dependencies can be achieved by mocking those dependent objects. So if the test passes you will be sure that your unit under test is correct.</p>\n\n<p>So its the test writer who creates them. You can use EasyMock as one the tool for Mocking.</p>\n"},{"answer_id":2128179,"body":"<p>Quote from here: <a href=\"http://easymock.org/\" rel=\"nofollow noreferrer\">http://easymock.org/</a></p>\n<blockquote>\n<p>Unit testing is the testing of\nsoftware units in isolation. However,\nmost units do not work alone, but they\ncollaborate with other units. To test\na unit in isolation, we have to\nsimulate the collaborators in the\ntest. A Mock Object is a test-oriented\nreplacement for a collaborator. It is\nconfigured to simulate the object that\nit replaces in a simple way.</p>\n</blockquote>\n<p>for example, if you are wanting to test http calls you will need to create real-life request objects,complete with all their dependencies. This can often require a lot of effort, hence the use of mocked objects which provide a quicker path to creating an accurate rendition of the object you need, without the long chain of dependencies.</p>\n"},{"answer_id":2128205,"body":"<p>Mock objects let you simulate and verify real objects, without actually running the real code in those objects.  You can set up a mock to return specific results on method calls, you can verify that a method was or wasn't called, and other cool stuff.</p>\n\n<p><a href=\"http://mockito.org\" rel=\"noreferrer\">Mockito</a> is a very simple and straightforward Java mock object library.</p>\n"},{"comments":[{"comment_id":2075709,"body":"Our &quot;Mock Roles, Not Objects&quot; paper is better than the original Endo-Testing paper: <a href=\"http://www.mockobjects.com/files/mockrolesnotobjects.pdf\" rel=\"nofollow noreferrer\">mockobjects.com/files/mockrolesnotobjects.pdf</a>"}],"answer_id":2130336,"body":"<p>Mocking and Mock Objects is not specific to Java. Mock objects is a unit testing \ntechnique in which a code chunk is replaced by dummy implementations that emulate\nreal code. This helps one to write unit tests targeting the functionality provided\nby the class under test.</p>\n\n<p>Check these articles which provide a very good introduction to the concept of mocking:<br>\n<a href=\"http://media.pragprog.com/articles/may_02_mock.pdf\" rel=\"noreferrer\">Mock Objects</a> (PDF)<br>\n<a href=\"http://connextra.com/aboutUs/mockobjects.pdf\" rel=\"noreferrer\">Endo-Testing: Unit Testing with Mock Objects</a> (PDF)</p>\n\n<p>If you are looking for a mock framework for unit testing in Java, \nhave a look at:  <a href=\"http://code.google.com/p/mockito/\" rel=\"noreferrer\">Mockito</a>.\nI have found it useful for my unit tests.</p>\n"},{"answer_id":76286449,"body":"<p>Suppose Ramesh and Suresh is working on a project. And Ramesh is developing one method to save the client details and Suresh is developing another method which will validate client exist or not in the DB if it will not exist then only it will return false and then only client will be saved.</p>\n<p>So here save method depends on the output of isExist method and if you want to test the save method then you need object which has isExist method but the problem is isExist method is not fully developed then how will you test.</p>\n<p>Then you will create Mock Object of that class which contain isExist method and then you will be able to test your save method.</p>\n<p>So we can say that Mock object is Pseudo Object of any class which help you run the test cases of your unit.</p>\n<p>Hence we will not create real object but Mock Object to test any method .</p>\n"}],"last_activity_date":1684476949,"question_id":2128148,"body":"<p>I like to know what <strong>mock objects</strong> are in Java. Why do we create them and what are their uses?</p>\n"},{"comments":[{"comment_id":130279954,"body":"How <i>specifically</i> are you &quot;retrieving values from AWS Parameter Store&quot;? Spring Cloud Config? Custom code—exposing the values via what API(s)?"},{"comment_id":130292334,"body":"@chrylis-cautiouslyoptimistic- We&#39;re using an AWS library - dependency added to problem description (com.amazonaws.services.simplesystemsmanagement.*), specifically com.amazonaws.services.simplesystemsmanagement.model.GetPara&zwnj;&#8203;meterRequest &amp; com.amazonaws.services.simplesystemsmanagement.model.GetPara&zwnj;&#8203;meterResult to get the values after a connection to our AWS instance via com.amazonaws.services.simplesystemsmanagement.AWSSimpleSyst&zwnj;&#8203;emsManagementClientB&zwnj;&#8203;uilder."},{"comment_id":130296913,"body":"So you have a custom implementation that uses the AWS SDK v1? How is this integrated into your Spring Context? Does it implement <code>PropertyResolver</code>?"},{"comment_id":130297589,"body":"Thanks chrylis-cautiouslyoptimistic- for your help/questions!  We aren&#39;t using PropertyResolver but def open to any suggestions there.   @Autowired public void setProtectedProperties(ConfigurableEnvironment env) { \tProperties protectedProperties = new Properties(); \t/* Logic to retrieve &amp; then put name/value pairs for  \t\tspring.datasource.username &amp; spring.datasource.password in protectedProperties \t\tprotectedProperties.put(name, protectedValue); \t*/ \tenv.getPropertySources().addFirst(new PropertiesPropertySource(&quot;protected-service-props&quot;, protectedProperties)); }"}],"answers":[{"answer_id":76272958,"body":"<p>I have encountered similar problem.\nParamter store values are beeing retrieved after DataSource initiation with autoconfiguration done by boot from properties file.</p>\n<p>Solution in my case was creation of custom DataSource (wrapped in javax.sql interface) and use <code>@DependsOn(&quot;ParameterStorePropertySource&quot;)</code> on Bean creation,\nthis forces my ParameterStore bean and custom PropertySource i created to be initiated before DataSource</p>\n<pre><code>public class AwsParameterStorePropertySource extends PropertySource&lt;AWSSimpleSystemsManagement&gt; {\n      //    private static final String activeProfile = System.getenv(&quot;spring_profiles_active&quot;);\n\n    public AwsParameterStorePropertySource(String name, AWSSimpleSystemsManagement source) {\n\n        super(name, source);\n    }\n\n    @Override\n    public String getProperty(String parameter) {\n        if (parameter.startsWith(&quot;/ssm&quot;)) {\n            try {\n                GetParameterRequest parameterRequest = new GetParameterRequest();\n               //                parameterRequest.withName(activeProfile + &quot;-&quot; + parameter);\n                var parameterNameWithoutPrefix = parameter.substring(4);\n                parameterRequest.withName(parameterNameWithoutPrefix);\n                GetParameterResult parameterResult = source.getParameter(parameterRequest);\n\n                return parameterResult.getParameter().getValue();\n            } catch (ParameterNotFoundException ex) {\n                ex.printStackTrace();\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>then Config file for spring to use this class, just to make sure i added <code>@Order(HIGHEST_PRECEDENCE)</code> bean creation order</p>\n<pre><code>@Configuration(value = &quot;ParameterStorePropertySource&quot;)\n@Order(HIGHEST_PRECEDENCE)\npublic class AwsParameterStorePropertySourceConfig {\n    private final AWSSimpleSystemsManagement simpleSystemsManagement;\n    private final ConfigurableEnvironment env;\n\n    public AwsParameterStorePropertySourceConfig(AWSSimpleSystemsManagement simpleSystemsManagement,\n                                                 ConfigurableEnvironment env) {\n\n        this.env = env;\n        this.simpleSystemsManagement = simpleSystemsManagement;\n    }\n\n    @PostConstruct\n    public void init() {\n        AwsParameterStorePropertySource propertySource = new AwsParameterStorePropertySource(&quot;ParameterStorePropertySource&quot;, simpleSystemsManagement);\n        env.getPropertySources().addFirst(propertySource);\n    }\n}\n</code></pre>\n<p>And finally DataSource config file</p>\n<pre><code>@Configuration\npublic class DataSourceConfig {\n    @Value(&quot;${mysql_url}&quot;)\n    private String url;\n\n    @Value(&quot;${mysql_user}&quot;)\n    private String user;\n\n    @Value(&quot;${mysql_pw}&quot;)\n    private String pw;\n\n    @Bean\n    @DependsOn(&quot;ParameterStorePropertySource&quot;)\n    public DataSource getMySqlDataSource(){\n        return DataSourceBuilder.create()\n                .driverClassName(&quot;com.mysql.jdbc.Driver&quot;)\n                .url(&quot;jdbc:mysql:&quot;+url)\n                .username(user)\n                .password(pw)\n                .build();\n    }\n}\n</code></pre>\n<p>After this My db was intiated with injected parameter store values. Also you can use commented section to use it with profiles, i am currently working with only one profile so i did not need this code. You can also pass profile to SSMClient creation  for customazation</p>\n<pre><code>@Configuration\n@Order(HIGHEST_PRECEDENCE)\npublic class SimpleSystemManagementConfig {\n    @Bean\n    public AWSSimpleSystemsManagement simpleSystemsManagement() {\n//        if (activeProfile.equals(&quot;dev&quot;)) {\n//            return AWSSimpleSystemsManagementClientBuilder.standard()\n//                    .withEndpointConfiguration(new AwsClientBuilder\n//                            .EndpointConfiguration(&quot;http://localstack.host:4583&quot;, awsRegion))\n//                    .build();\n//        } else {\n        return AWSSimpleSystemsManagementClientBuilder.standard().\n                withCredentials(DefaultAWSCredentialsProviderChain.getInstance()).build();\n//        }\n    }\n}\n</code></pre>\n<p>Hope this was usefull to someone.</p>\n<p>PS. Environment:<br />\n<code>SpringBoot 2.6.7</code><br />\n<code>spring-cloud 2021.0.5</code><br />\n<code>Java 17</code></p>\n"}],"last_activity_date":1684476878,"question_id":73779113,"body":"<p>I recently upgraded a Spring Boot microservice from v2.6.7 to v2.7.2.  In the code, we retrieve database credentials from an AWS parameter store and use them to connect to a Postgres database.   We take param values that indicate what to retrieve from the AWS parameter store, retrieve those values and and then add those values to the Spring environment (as spring.datasource.username &amp; spring.datasource.password).</p>\n<p>This was working without issue before we upgraded to 2.7.2.  However, since the upgrade, we seem to have a timing issue where a database connection is attempted before the values have been retrieved. We don't even reach the code to do the parameter store retrieval before it tries to make the DB connection. However, in my properties file, if I put valid values in the hardcoded parameters below (&amp; uncomment them), the database connection is made and I see the code to go get the AWS parameter store values run, so I know the code is good. The class that does the work of getting the values is @Autowired in my SpringBootApplication class.</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://&lt;aws URL&gt;\nspring.datasource.username.param=&lt;aws parameter store for username&gt;\nspring.datasource.password.param=&lt;aws parameter store for password&gt;\n# spring.datasource.username=&lt;a valid hardcoded username&gt;\n# spring.datasource.password=&lt;a valid hardcoded pwd&gt;\n</code></pre>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n    &lt;version&gt;1.12.301&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Did anything change in the latest Spring Boot version that would affect the nature &amp;/or order of the auto wiring? How can I force the database connection attempt to wait until the DB creds have been retrieved? Any troubleshooting suggestions?</p>\n"},{"answers":[{"comments":[{"comment_id":134516288,"body":"Thanks for the answer it helped me a lot, But now I have a problem, because I have a program that test if the code is working(the tests I put up there), and they have a line of code that goes &quot;int[] b=premakni(a);&quot;. That doesnt work with the code you have given me because the method is void and doesnt return any value. If I change it from void to int[], and return &quot;array&quot;, it changes the &quot;a&quot; array, but my tests require that it doesnt do that. Is there a way to solve this? I hope you understand my question."},{"comment_id":134516326,"body":"You would have to change <code>rotateLeft</code> to create a new array that is the same size as the old array and return that. Being able to create a new array, would change the code a bit. I can update. (But what happened to <i>you must not create and use any new tables</i>??)"},{"comment_id":134516366,"body":"I understand what you said, you dont have to update I can do it myself. Thats why I am so confused, because I cant change the &quot;a&quot; array and cant create a new array. Either way thank you for your help"},{"comment_id":134516430,"body":"That&#39;s ok. I already wrote the new code by the time you wrote your comment."}],"answer_id":76280652,"body":"<p>Your code to rotate the array is not working. This code follows the rule: <em>you must not create and use any new tables and you must not use any additional Java classes</em> (except <code>System</code> and <code>Arrays</code> for printing). See the code comments.</p>\n<pre><code>public class Main\n{\n    public static void rotateLeft(int [] array, int amount)\n    {\n        // Rotate the array by 1, n times\n        for (int i = 0; i &lt; amount; i++) {\n            // Save the first val\n            int first = array[0];\n            // Shift the array left 1\n            // Ex: [1,2,3,4] -&gt; [2,3,4,4]\n            for (int j = 0; j &lt; array.length - 1; j++) {\n                array[j] = array[j + 1];\n            }\n            // Put the value that was at index 0 in the last index\n            // Ex: first = 1, [2,3,4,4] -&gt; [2,3,4,1]\n            array[array.length - 1] = first;\n        }\n    }\n    \n    // Different code when using a 2nd array\n    public static int[] rotateLeft2(int [] array, int amount)\n    {\n        int [] newArray = new int[array.length];\n        // Copy starting from the index of smallest value\n        int j = 0;\n        for (int i = amount; i &lt; array.length; i++) {\n            newArray[j++] = array[i];\n        }\n        // Copy from begining up to index of smallest\n        for (int i = 0; i &lt; amount; i++) {\n            newArray[j++] = array[i];\n        }\n        return newArray;\n    }\n\n    // Find the index of the minimum value in the array\n    public static int arrayMinIndex(int [] array)\n    {\n        int min = array[0];\n        int minIndex = 0;\n        for (int i = 1; i &lt; array.length; i++) {\n            if (array[i] &lt; min) {\n                min = array[i];\n                minIndex = i;\n            }\n        }\n        return minIndex;\n    }\n\n    public static void main(String[] args) {\n        int [] array = {8,5,6,2,1,-1,-100,425,84};\n        System.out.println(Arrays.toString(array));\n        //rotateLeft(array, arrayMinIndex(array));\n        //System.out.println(Arrays.toString(array));\n        int [] b = rotateLeft2(a, arrayMinIndex(a));\n        System.out.println(Arrays.toString(b));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[8, 5, 6, 2, 1, -1, -100, 425, 84]\n[-100, 425, 84, 8, 5, 6, 2, 1, -1]\n</code></pre>\n"},{"answer_id":76281304,"body":"<p>The most straight forward way is to just find the minimum value and it's position and then rotate so the value is at location <code>0</code>.  Finding the minimum position is done in linear time.  The long pole is the rotation.  With a single direction rotation, <code>N</code> rotations would be required where <code>N</code> is the <code>position</code> of the <code>lowest value</code>.  Using another array would speed up the process but since that is not permitted, providing <code>left</code> and <code>right</code> rotation methods would minimize the rotations required.  If the min cell is beyond the middle, rotate to the right.  Otherwise, rotate to the left.</p>\n<pre><code>int[] arr = {8, 5, 6, 2, 1, -1, -100, 425, 84};\nSystem.out.println(Arrays.toString(rotateToMin(arr)));\nSystem.out.println(Arrays.toString(rotateToMin(new int[] {3,2,1})));\nSystem.out.println(Arrays.toString(rotateToMin(new int[] {1,2,3})));\nSystem.out.println(Arrays.toString(rotateToMin(new int[] {-1,-10,2})));\n</code></pre>\n<p>prints</p>\n<pre><code>[-100, 425, 84, 8, 5, 6, 2, 1, -1]\n[1, 3, 2]\n[1, 2, 3]\n[-10, 2, -1]\n</code></pre>\n<ul>\n<li>Start by just finding the minimum and save its position</li>\n<li>the rotate to that position.</li>\n</ul>\n<pre><code>public static int[] rotateToMin(int[] arr) {\n     int pos = 0;\n     int min = arr[0];\n     for (int i = 1; i &lt; arr.length; i++) {\n         if (arr[i] &lt; min) {\n             min = arr[i];\n             pos = i;\n         }\n     }\n     if (pos &gt; arr.length / 2) {\n           rotateRight(arr, arr.length-pos);\n     } else {\n           rotateLeft(arr, pos);\n     }\n     return arr;\n}\n</code></pre>\n<p>Left and right rotation methods.  There may be fancier ways of doing this but providing two distinct methods was the most straightforward.</p>\n<pre><code>private static void rotateLeft(int[] arr, int count) {\n    for (int k = 0; k &lt; count; k++) {\n            int save = arr[0];\n            for (int i = 0; i &lt; arr.length - 1; i++) {\n                arr[i] = arr[i + 1];\n            }\n            arr[arr.length - 1] = save;\n        }\n    }\n\n</code></pre>\n<p>right rotation by count cells</p>\n<pre><code>private static void rotateRight(int[] arr, int count) {\n    for (int k = 0; k &lt; count; k++) { \n    int save = arr[arr.length-1];\n          for (int i = arr.length - 1; i &gt; 0; i--) {\n                arr[i] = arr[i-1];\n          }\n          arr[0] = save;\n    }\n}\n\n</code></pre>\n<p>Note: since you're modifying a passed array it is not required to return it.  I just did it for ease of demonstration.</p>\n"},{"comments":[{"comment_id":134525516,"body":"@WJS, I&#39;ve modified my answer."}],"answer_id":76282657,"body":"<p><strong>Step-1: Identify the smallest element and get the index.</strong></p>\n<pre><code>static int findTheSmallestElementIndex(int ar[]) {\n\n    int index = 0;\n    int min = ar[0];\n\n    for(int i=1; i&lt;ar.length; i++) {\n\n        if(min &gt; ar[i]) {\n            min = ar[i];\n            index = i;\n        }\n    }\n\n    return index;\n}\n</code></pre>\n<p><strong>Step-2: Use that index to calculate the number of rotations required.</strong></p>\n<pre><code>int numberOfRotations = ar.length - findTheSmallestElementIndex(ar);\n</code></pre>\n<p><strong>Step-3: If the smallest element is already at the first index the <code>numberOfRotations</code> will be <code>0</code> and so no need to do anything, just return the array.</strong></p>\n<p><strong>Step-4: Array rotation to the right by one explained.</strong></p>\n<ol>\n<li>Take the backup of the rightmost element in the array, the last element (<code>int temp = ar[ar.length-1];</code>). If you are rotating to the left choose the leftmost element, the first element.</li>\n<li>Start a for loop from the last index of the array and stop it right before the first index. (<code>for(int i=ar.length-1; i&gt;0; i--)</code>)</li>\n<li>Replace the element from the current index with the one just behind it. (<code>ar[i] = ar[i-1];</code>). So your array <code>[8, 5, 6, 2, 1, -1, -100, 425, 84]</code> after the loop will be transformed like this <code>[8, 8, 5, 6, 2, 1, -1, -100, 425]</code></li>\n<li>Replace the first element with the backup (<code>ar[0] = temp;</code>), giving you the rotated array as <code>[84, 8, 5, 6, 2, 1, -1, -100, 425]</code></li>\n</ol>\n<p><strong>Step-5: Continue this process till the <code>numberOfRotations</code> becomes 0.</strong></p>\n<p><strong>Complete operation</strong></p>\n<pre><code>public static void main(String[] args) {\n\n    int[] ar = {8, 5, 6, 2, 1, -1, -100, 425, 84};\n\n    System.out.println(Arrays.toString(ar));\n    \n    System.out.println(Arrays.toString(rotateToTheRight(ar)));\n}\n\nstatic int findTheSmallestElementIndex(int ar[]) {\n\n    int index = 0;\n    int min = ar[0];\n\n    for(int i=1; i&lt;ar.length; i++) {\n\n        if(min &gt; ar[i]) {\n            min = ar[i];\n            index = i;\n        }\n    }\n\n    return index;\n}\n\nstatic int[] rotateToTheRight(int ar[]) {\n\n    int numberOfRotations = ar.length - findTheSmallestElementIndex(ar);\n    \n    if(numberOfRotations == 0)\n        return ar;\n    \n    while(numberOfRotations-- &gt; 0) {\n        \n        int temp = ar[ar.length-1];\n        \n        for(int i=ar.length-1; i&gt;0; i--) {\n            \n            ar[i] = ar[i-1];\n        }\n        \n        ar[0] = temp;\n    }\n    \n    return ar;\n}\n</code></pre>\n"}],"last_activity_date":1684476009,"question_id":76280123,"body":"<p>So I have this assignment I need to do, and it goes as follows:</p>\n<p>Write a void premakni() method that cyclically moves the elements of the table so that the smallest element is first in the table, but the order of the elements does not change.\nWhen implementing a method, you must not create and use any new tables and you must not use any additional Java classes (eg for working with tables or strings).</p>\n<p>I have tried multiple solutions and I cant get the hang of it. Here are some test examples I have:\ntest:</p>\n<pre><code>int[] a={0,1,2,-1,-2};\nint[] b=premakni(a);\nSystem.out.println(izpisiTab(a));\nSystem.out.println(izpisiTab(b));\n\n</code></pre>\n<p>result:\n0 1 2 -1 -2\n-2 0 1 2 -1</p>\n<p>test:</p>\n<pre><code>int[] a={8,5,6,2,1,-1,-100,425,84};\nint[] b=premakni(a);\nSystem.out.println(izpisiTab(a));\nSystem.out.println(izpisiTab(b));\n\n\nresult:\n8 5 6 2 1 -1 -100 425 84\n-100 425 84 8 5 6 2 1 -1\n\n</code></pre>\n<p>&quot;izpsiTab&quot; is a method that just prints out the array.\nCan someone give me some ideas on how I should do this?</p>\n<p>My current code is this:</p>\n<pre><code>public static void premakni(int[] tabela) {\n        int minValueIndex = 0;\n        int minValue = tabela[0];\n\n        // Find the minimum element and its index in the array\n        for (int i = 1; i &lt; tabela.length; i++) {\n            if (tabela[i] &lt; minValue) {\n                minValue = tabela[i];\n                minValueIndex = i;\n            }\n        }\n\n        // Shift the elements to the left\n        for (int i = minValueIndex; i &gt; 0; i--) {\n            tabela[i] = tabela[i - 1];\n        }\n\n        // Place the minimum element at the first position\n        tabela[0] = minValue;\n        \n    }\n\n</code></pre>\n<p>But then I get errors because this is a void function and in the tests I have &quot;int[] b=premakni(a);&quot; and I cant put anything in b this way. Also my code changes the &quot;a&quot; array, but it should stay the same</p>\n"},{"comments":[{"comment_id":134525393,"body":"That&#39;s a lot of code. Generally, less code means less places for bugs to hide. How about <code>return s.replace(&quot;()&quot;,&quot;&quot;).replace(&quot;[]&quot;,&quot;&quot;).replace(&quot;{}&quot;,&quot;&quot;).isEmpty&zwnj;&#8203;();</code> instead? Or a little fancier, <code>return s.matches(&quot;(\\\\(\\\\)|\\\\[]|\\\\{})*&quot;);</code>. This problem is well within one line territory."},{"comment_id":134526306,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23187539/java-balanced-expressions-check\">Java balanced expressions check {&#91;()&#93;}</a>"},{"comment_id":134527809,"body":"BTW <code>isValid(&quot;()[]{}&quot;)</code> returns <code>false</code>  using posted code (even for <code>&quot;()[]&quot;</code>)"}],"answers":[{"comments":[{"comment_id":134525684,"body":"My problem is just the results mismatch. I ran the same input on my own app the result was true. But I got a false when I ran it on leetCode with the exact same implementation. I just don&#39;t know what caused this, and I&#39;d like to see if others run my code would the result be true or false. If others get true, it means my code works."},{"comment_id":134525721,"body":"Since I had this problem in one of my complexity courses, and it required me to solve it within log space. Hence I had this solution in my mind. I was wondering how could such a complicated problem be an &quot;easy&quot;, haha"},{"comment_id":134533067,"body":"@GabeEbag, I understand now; I missed the logic part.  I will run the code and update my answer."}],"answer_id":76286159,"body":"<p>Essentially, this problem is stating that for the parentheses pair to be valid, it must meet one of two possible conditions.</p>\n<ol>\n<li>It is immediately followed by a matching, closing bracket.</li>\n<li>Or, it is immediately followed by an opening bracket.</li>\n</ol>\n<p>So, for example <code>()[]</code> is valid.  Same with <code>{[]()}</code> and <code>[[]]</code>.\nSomething along the lines of <code>}[</code>, or <code>[{])</code>, is considered invalid.</p>\n<p>Your code, for this task, is incredibly complex.</p>\n<p>Try the &quot;Discussions&quot; tab, on leetcode.  There are quite a few, basic Java implementations.</p>\n"},{"comments":[{"comment_id":134525697,"body":"Yeah, a stack would perfectly solve it, thank you. But would you please have a look at my code? If you think it is safe could you give it a run? I got true when I run it locally, but on leetCode it outputs a false."},{"comment_id":134525770,"body":"I have tested it with &quot;()[]{}&quot;, it returns <code>false</code> indeed."},{"comment_id":134525797,"body":"Thanks a lot. Then there must be something wrong with my code. a little bit frustrating"}],"answer_id":76286346,"body":"<p>&quot;()[]{}&quot; is a very simple input because it has no nesting of parentheses. To solve things like &quot;([{()}])&quot; for instance, you will need some kind of stack.</p>\n<p>Your code is much too complicated anyway.</p>\n"}],"last_activity_date":1684475841,"question_id":76286068,"body":"<p>For the problem 20. Valid Parentheses on leetCode, I wrote the following code. <a href=\"https://leetcode.com/problems/valid-parentheses/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/valid-parentheses/</a></p>\n<p>It asks if the three types of brackets close in order and all matches in pair.</p>\n<p>Since this question was in my complexity course, so I wrote a solution that could be done within logrithm space, which is completely unnecessary for solving this problem... This is not my point tho.</p>\n<p>The problem I faced to is that I tried to run it on my own local app, for the input &quot;()[]{}&quot; I got a true, but it was a false in the test on leetCode. It feels really weird to me.</p>\n<p>If you run my code with the input &quot;()[]{}&quot;, what do you get?\nWhat caused this problem?</p>\n<pre><code>class Solution18_1 {\n    private Map&lt;Character, Character&gt; otherSide = new HashMap&lt;&gt;();\n    private int t1l = -1, t2l = -1, t3l = -1, t1r = Integer.MAX_VALUE, t2r = Integer.MAX_VALUE, t3r = Integer.MAX_VALUE;\n\n    private void initializeMap() {\n        otherSide.put('{', '}');\n        otherSide.put('(', ')');\n        otherSide.put('[', ']');\n    }\n\n    public boolean isValid(String s) {\n        initializeMap();\n        //step one, check if all three types match on numbers,\n        // a { must have a }, so for the other two types\n        int matchCounter = 0;\n        matchCounter = matchCheck('{', s);\n        if (matchCounter != 0) return false;\n        matchCounter = matchCheck('[', s);\n        if (matchCounter != 0) return false;\n        matchCounter = matchCheck('(', s);\n        if (matchCounter != 0) return false;\n\n        //step two, check if order matches\n        //When we firstly read a type, we start to find the indices of this pair\n        //if the next read type is the same as the last one, we update the pointers.\n        //if the next read type is not the same type, we find the pair and compare the orders\n        char lastType = 0;\n        for (int i = 0; i &lt; s.length(); i++) {\n//            System.out.println(&quot;dealing with index &quot; + i + &quot;,the current char is &quot; + s.charAt(i) + &quot;, and matchCount = &quot; + matchCounter\n//                    + &quot;, last type is &quot; + lastType);\n            if (lastType == 0) {\n                lastType = s.charAt(i);\n                matchCounter = 1;\n                if (lastType == '{') t1l = i;\n                if (lastType == '[') t2l = i;\n                if (lastType == '(') t3l = i;\n            } else if (matchCounter != 0 &amp;&amp; s.charAt(i) == lastType) {\n                matchCounter++;\n            } else if (matchCounter != 0 &amp;&amp; s.charAt(i) == otherSide.get(lastType)) {\n                matchCounter--;\n                if (matchCounter == 0) {\n                    //pairs located, check if matches\n                    //and go back to the corresponding index\n//                    System.out.print(&quot;Going back, &quot;);\n                    if (lastType == '{') {\n//                        System.out.println(&quot;we read {, hence use t1l : &quot; + t1l);\n                        t1r = i;\n                        i = t1l;\n                        if (!checkMatch(1)) return false;\n                    }\n                    if (lastType == '[') {\n//                        System.out.println(&quot;we read [, hence use t2l : &quot; + t2l);\n                        t2r = i;\n                        i = t2l;\n                        if (!checkMatch(2)) return false;\n                    }\n                    if (lastType == '(') {\n//                        System.out.println(&quot;we read (, hence use t3l : &quot; + t3l);\n                        t3r = i;\n                        i = t3l;\n                        if (!checkMatch(3)) return false;\n                    }\n                }\n            } else if (matchCounter == 0 &amp;&amp; s.charAt(i) == lastType) {\n                matchCounter = 1;\n                if (lastType == '{') t1l = i;\n                if (lastType == '[') t2l = i;\n                if (lastType == '(') t3l = i;\n            } else if (matchCounter == 0 &amp;&amp; (s.charAt(i) != lastType &amp;&amp; s.charAt(i) != otherSide.get(lastType))) {\n//                System.out.println(&quot;\\nChanging lastType by &quot; + s.charAt(i));\n                matchCounter = 1;\n                lastType = s.charAt(i);\n                if (lastType == '{') t1l = i;\n                if (lastType == '[') t2l = i;\n                if (lastType == '(') t3l = i;\n            }\n\n\n        }\n\n        return true;\n    }\n\n    private boolean checkMatch(int i) {\n        if (i == 1) {\n            if (t1l &lt; t2l &amp;&amp; t1r &gt; t2r) {\n                if (t1r &lt; t2r) return false;\n            } else if (t1l &gt; t2l &amp;&amp; t1l &lt; t2r) {\n                if (t1r &gt; t2r) return false;\n            }\n\n            if (t1l &lt; t3l &amp;&amp; t1r &gt; t3r) {\n                if (t1r &lt; t3r) return false;\n            } else if (t1l &gt; t3l &amp;&amp; t1l &lt; t3r) {\n                if (t1r &gt; t3r) return false;\n            }\n        } else if (i == 2) {\n            if (t2l &lt; t1l &amp;&amp; t2r &gt; t1r) {\n                if (t2r &lt; t1r) return false;\n            } else if (t2l &gt; t1l &amp;&amp; t2l &lt; t1r) {\n                if (t2r &gt; t1r) return false;\n            }\n\n            if (t2l &lt; t3l &amp;&amp; t2r &gt; t3r) {\n                if (t2r &lt; t3r) return false;\n            } else if (t2l &gt; t3l &amp;&amp; t2l &lt; t1r) {\n                if (t2r &gt; t3r) return false;\n            }\n\n        } else if (i == 3) {\n            if (t3l &lt; t1l &amp;&amp; t3r &gt; t1r) {\n                if (t3r &lt; t1r) return false;\n            } else if (t3l &gt; t1l &amp;&amp; t3l &lt; t1r) {\n                if (t3r &gt; t1r) return false;\n            }\n\n            if (t3l &lt; t2l &amp;&amp; t3r &gt; t2r) {\n                if (t3r &lt; t2r) return false;\n            } else if (t3l &gt; t2l &amp;&amp; t3l &lt; t2r) {\n                if (t3r &gt; t2r) return false;\n            }\n        }\n        return true;\n    }\n\n    private int matchCheck(char key, String s) {\n        int matchCounter = 0;\n        for (int i = 0; i &lt; s.length(); i++) {\n            if (s.charAt(i) == key) {\n                matchCounter++;\n            } else if (s.charAt(i) == otherSide.get(key)) {\n                matchCounter--;\n                if (matchCounter &lt; 0) return -1;\n            }\n        }\n        return matchCounter;\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":50357016,"body":"Are you sure that &quot;with n = 5 and k = 2, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4]&quot; is correct? There seems to be more than 5 elements in that array?"},{"comment_id":50357019,"body":"<a href=\"http://stackoverflow.com/questions/26610309/java-rotating-array\">stackoverflow.com/questions/26610309/java-rotating-array</a>"},{"comment_id":50357037,"body":"I&#39;ve no idea how <code>n = 5</code> and <code>k = 2</code> gives the output you show in the question."},{"comment_id":50357061,"body":"Shouldn&#39;t that be &quot;n = 7 and k = 3&quot;?"},{"comment_id":50357106,"body":"Sorry my bad it was my error typing... it&#39;s n = 7 and k = 3. thanks!"},{"comment_id":50357119,"body":"You can use one temporary <code>int</code> variable instead of a whole <code>int</code> <i>array</i>."},{"comment_id":50357141,"body":"@rakeb.void - Yes, that is possible, and in at least two ways (that I know of). But at least one of those solutions is not so simple to implement correctly, and neither method is obvious."},{"comment_id":50357304,"body":"No, it is not possible to solve it in constant time."},{"comment_id":50357322,"body":"My favorite solution to this problem is the method described in Programming Pearls where you reverse the entire array, then reverse the sub-sections.  More info here: <a href=\"http://articles.leetcode.com/2010/04/rotating-array-in-place.html\" rel=\"nofollow noreferrer\">articles.leetcode.com/2010/04/rotating-array-in-place.html</a>"},{"comment_id":50357357,"body":"@Ted- It&#39;s that one of the solution you told about --- for (int i = 0; i &lt; order; i++) { \t\tfor (int j = nums.length - 1; j &gt; 0; j--) { \t\t\tint temp = nums[j]; \t\t\tnums[j] = nums[j - 1]; \t\t\tnums[j - 1] = temp; \t\t}"},{"comment_id":50358286,"body":"@LinuxLe - No, that was not one of the methods I had in mind. That method works (except it seems to me that it rotates to the left, and doesn&#39;t work for negative values of <code>k</code>). However, while it&#39;s O(1) in space, it&#39;s O(n*k) in time. The methods I had in mind are both O(n) in time. The method that Daniel Nugent references is one of the methods I was thinking of. Both that method and the other one I had in mind are described in the documentation for <code>Collections.rotate()</code>."}],"answers":[{"comments":[{"comment_id":50357985,"body":"I couldn&#39;t check your 2nd and third algorithm. But from your first algorithm i see you are doing left rotate not right rotate. Do you see the problem?"},{"comment_id":50358097,"body":"Ok, Sorry, but instead of rotating left d times carry out algorithm for the n-d times... I may work out"},{"comment_id":86649279,"body":"Is gcd needed? Can we break the loop when the number of array element assignments reaches the array size?"},{"comment_id":108672585,"body":"In method 1 time complexity is  O(n * 2)"},{"comment_id":108744018,"body":"How? Can you explain? BTW reversing array is O(n). Calling this reverse thrice will be O(n)+O(n)+O(n)."}],"answer_id":31175162,"body":"<p>Method 1 - <strong>The Reversal Algorithm</strong>(Good One):</p>\n\n<blockquote>\n  <p>Algorithm:</p>\n  \n  <p>rotate(arr[], d, n)</p>\n  \n  <blockquote>\n    <p>reverse(arr[], l, n);</p>\n    \n    <p>reverse(arr[], 1, n-d) ;</p>\n    \n    <p>reverse(arr[], n - d + 1, n);</p>\n  </blockquote>\n</blockquote>\n\n<p>Let AB are the two parts of the input array where A = arr[0..n-d-1] and B = arr[n-d..n-1]. The idea of the algorithm is:</p>\n\n<blockquote>\n  <blockquote>\n    <p>Reverse all to get (AB) r = BrAr.</p>\n    \n    <p>Reverse A to get BrA. /* Ar is reverse of A */</p>\n    \n    <p>Reverse B to get BA. /* Br is reverse of B */</p>\n  </blockquote>\n</blockquote>\n\n<p>For arr[] = [1, 2, 3, 4, 5, 6, 7], d =2 and n = 7 </p>\n\n<p>A = [1, 2, 3, 4, 5] and B = [ 6, 7]</p>\n\n<blockquote>\n  <blockquote>\n    <p>Reverse all, we get BrAr = [7, 6, 5, 4, 3, 2, 1]</p>\n    \n    <p>Reverse A, we get ArB = [7, 6, 1, 2, 3, 4, 5]\n    Reverse B, we get ArBr = [6, 7, 5, 4, 3, 1, 2]</p>\n  </blockquote>\n</blockquote>\n\n<p>Here is the Code Snippet:</p>\n\n<pre><code>void righttRotate(int arr[], int d, int n)\n{\n  reverseArray(arr, 0, n-1);\n  reverseArray(arr, 0, n-d-1);\n  reverseArray(arr, n-d, n-1);\n}\n\nvoid reverseArray(int arr[], int start, int end)\n{\n  int i;\n  int temp;\n  while(start &lt; end)\n  {\n    temp = arr[start];\n    arr[start] = arr[end];\n    arr[end] = temp;\n    start++;\n    end--;\n   }\n}\n</code></pre>\n\n<p>Method 2 - <strong>A Juggling Algorithm</strong></p>\n\n<p>Divide the array in different sets where number of sets is equal to GCD of n and d and move the elements within sets.</p>\n\n<p>If GCD is 1, then elements will be moved within one set only, we just start with temp = arr[0] and keep moving arr[I+d] to arr[I] and finally store temp at the right place.</p>\n\n<p>Here is an example for n =12 and d = 3. GCD is 3 and</p>\n\n<p>Let arr[] be {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12}</p>\n\n<ol>\n<li><p>Elements are first moved in first set\n      arr[] after this step --> {4 2 3 7 5 6 10 8 9 1 11 12}</p></li>\n<li><p>Then in second set.\n      arr[] after this step --> {4 5 3 7 8 6 10 11 9 1 2 12}</p></li>\n<li><p>Finally in third set.\n      arr[] after this step --> {4 5 6 7 8 9 10 11 12 1 2 3}</p></li>\n</ol>\n\n<p>Here is the code:</p>\n\n<pre><code>void leftRotate(int arr[], int d, int n)\n{\n  int i, j, k, temp;\n  int gcd = gcd(d, n);\n  for (i = 0; i &lt; gcd; i++)\n  {\n    /* move i-th values of blocks */\n    temp = arr[i];\n    j = i;\n    while(1)\n    {\n      k = j + d;\n      if (k &gt;= n)\n        k = k - n;\n      if (k == i)\n        break;\n      arr[j] = arr[k];\n      j = k;\n    }\n    arr[j] = temp;\n  }\n}\n\nint gcd(int a,int b)\n{\n   if(b==0)\n     return a;\n   else\n     return gcd(b, a%b);\n}\n</code></pre>\n\n<blockquote>\n  <p>Time complexity: O(n)</p>\n  \n  <p>Auxiliary Space: O(1)</p>\n</blockquote>\n\n<p>Method 3 - <strong>Rotate one by one</strong>:</p>\n\n<blockquote>\n  <p>righttRotate(arr[], d, n)</p>\n  \n  <p>start</p>\n  \n  <blockquote>\n    <p>For i = 0 to i &lt; d</p>\n    \n    <p>Right rotate all elements of arr[] by one</p>\n  </blockquote>\n  \n  <p>end</p>\n</blockquote>\n\n<p>To rotate by one, store arr[n-1] in a temporary variable temp, move arr[1] to arr[2], arr[2] to arr[3] …and finally temp to arr[0]</p>\n\n<p>Let us take the same example arr[] = [1, 2, 3, 4, 5, 6, 7], d = 2, rotate arr[] by one 2 times. We get [7, 1, 2, 3, 4, 5, 6] after first rotation and [ 6, 7, 1, 2, 3, 4, 5] after second rotation.</p>\n\n<p>Her is Code Snippet:</p>\n\n<pre><code>void leftRotate(int arr[], int d, int n)\n{\n  int i;\n  for (i = 0; i &lt; d; i++)\n    leftRotatebyOne(arr, n);\n}\n\nvoid leftRotatebyOne(int arr[], int n)\n{\n  int i, temp;\n  temp = arr[n-n];\n  for (i = 0; i &lt; n-1; i++)\n     arr[i] = arr[i+1];\n  arr[n - 1] = temp;\n}\n</code></pre>\n\n<blockquote>\n  <p>Time complexity: O(n*d)</p>\n  \n  <p>Auxiliary Space: O(1)</p>\n</blockquote>\n"},{"comments":[{"comment_id":89101489,"body":"Can you explain me your solution. What is the logic behind ? @mzeus.bolt"},{"comment_id":113203844,"body":"You might want to add tests for <code>if (nums.length &gt; 0)</code> and <code>if (k != 0)</code> to avoid exceptions and null reversals."}],"answer_id":31175318,"body":"<p>The following code will do your job. This is for right rotate.</p>\n\n<pre><code>public void rightrotate(int[] nums, int k) {\n    k %= nums.length;\n    reverse(nums, 0, nums.length - 1);\n    reverse(nums, 0, k - 1);\n    reverse(nums, k, nums.length - 1);\n}\n\npublic void reverse(int[] nums, int start, int end) {\n    while (start &lt; end) {\n        int temp = nums[start];\n        nums[start] = nums[end];\n        nums[end] = temp;\n        start++;\n        end--;\n    }\n}\n</code></pre>\n\n<p>If you want to do left rotate just use the following</p>\n\n<pre><code> public void leftrotate(int[] nums, int k) {\n    k %= nums.length;\n    reverse(nums, 0, k - 1);\n    reverse(nums, k, nums.length - 1);\n    reverse(nums, 0, nums.length - 1);\n}\n</code></pre>\n"},{"answer_id":31175366,"body":"<p>When <code>k</code> is negative, it rotates to the left.\nSpace is O(1) and time is O(n)</p>\n<pre><code>static void rotate(int[] num, int k) {\n    int n = num.length;\n    k = k % n;\n    if (k &lt; 0) k += n;\n    int[] result = new int[n];\n    System.arraycopy(num, 0, result, k, n - k);\n    System.arraycopy(num, n - k, result, 0, k);\n    System.arraycopy(result, 0, num, 0, n);\n}\n</code></pre>\n"},{"comments":[{"comment_id":108676519,"body":"System.arraycopy is additional O(n)"},{"comment_id":113203769,"body":"@nim: O(n) + O(n) = O(n). The real shortcoming is space complexity is O(n) too."}],"answer_id":31176014,"body":"<p>This is a simple solution to rotate an array.</p>\n\n<pre><code>public class ArrayRotate {\n    public int[] rotateArray(int array[], int k) {\n\n        int newArray[] = new int[array.length];\n        for (int i = 0; i &lt; array.length; i++) {\n            newArray[(i + k) % array.length] = array[i];\n        }\n        System.arraycopy(newArray, 0, array, 0, array.length);\n        return newArray;\n\n    }\n\n    public static void main(String[] args) {\n        int array[] = { 1, 2, 3, 4, 5, 6, 7 };\n        ArrayRotate rotate = new ArrayRotate();\n        rotate.display(rotate.rotateArray(array, 3));\n\n    }\n\n    public void display(int array[]) {\n        for (int i : array) {\n            System.out.print(i + \",\");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Runtime complexity is O(n)</strong></p>\n\n<p>There are several other algorithm to achieve the same.</p>\n\n<ul>\n<li>using temp array </li>\n<li>Rotate One By one </li>\n<li>Juggling algorithm  </li>\n<li>reversal   method</li>\n</ul>\n"},{"answer_id":39976183,"body":"<p>This solution is O(1) space and O(N) time. It is in C#, takes an array parameter and rotates it in place. The algorithm goes through the first s (the shift) elements, starting with the first element moves it to the s_th position, then moves the s_th to the 2s_th position etc. If each of the first s elements rotates back to itself then there will be (arrayLength / s) * s  = arrayLength loops, and at the end the array will be rotated by s. If the first s elements do not rotate back themselves, then there will still be cycles, say if s = 4, there could be one cycle which is 1-3-1 and the second 2-4-2, the line   -  if (ind == indAtBeg), checks for a cycle and terminates the while loop. The variable loopCount increments, when there is a rotation starting at any of the first s elements.</p>\n\n<pre><code>    public static void rotateArrayByS(int[] ar, int s)\n    {\n        int len = ar.Length, ind = 0, temp1 = ar[0], \n            temp2 /*temp1 and temp2 for switching elements*/, \n            loopCount /*rotations starting at the first s elemtns of ar*/ = 0;\n\n        s %= len;\n\n        while (loopCount &lt; s)\n        {\n            int indAtBeg = ind;\n            temp1 = ar[ind];\n\n            bool done = false;\n            while (!done)\n            {\n                if (ind &lt; s)\n                    loopCount++;\n\n                ind = (ind + s) % len;\n\n                //cycle detected\n                if (ind == indAtBeg)\n                    done = true;\n\n                //switch the elements\n                temp2 = ar[ind];\n                ar[ind] = temp1;\n                temp1 = temp2;\n            }\n\n            ++ind;\n        }\n    }\n</code></pre>\n"},{"answer_id":41849091,"body":"<p>Partial Code for ONE time array rotation</p>\n\n<pre><code>       last=number_holder[n-1];\n       first=number_holder[0];\n        //rotation \n\n        number_holder[0]=last;\n\n        for(i=1;i&lt;n;i++)\n        {\n            last=number_holder[i];\n            number_holder[i]=first;\n            first=last;\n        }\n</code></pre>\n\n<p>Display the array </p>\n\n<pre><code>        for(i=1;i&lt;n;i++)\n        {\n          System.out.println(number_holder[i]);\n        }\n</code></pre>\n"},{"comments":[{"comment_id":108676455,"body":"O(2*n) total time"}],"answer_id":42317188,"body":"<p><em>ArrayUtil class is used to provide following utilities in primitive array</em></p>\n\n<ol>\n<li>swap array elements  </li>\n<li>reverse array between startIndex and endIndex </li>\n<li>leftRotate array by shift</li>\n</ol>\n\n<hr>\n\n<p><strong>Algorithm for array rotation by shift-</strong></p>\n\n<ol>\n<li>If we have to reverse array by shift value then take mod(%) with array length     so that shift will become smaller than array length.</li>\n<li>Reverse array between index 0 and shift-1</li>\n<li>Reverse array between index shift and length-1.</li>\n<li>Reverse complete array between index 0 and length-1.</li>\n</ol>\n\n<p><strong>Space Complexity:</strong> In-place Algorithm, No extra space needed so O(1).</p>\n\n<p><strong>Time Complexity :</strong> Array reversal of size k take O(k/2) i.e swapping k/2 pairs of elements.</p>\n\n<p>Array Reversal time- O(k) for k size array.</p>\n\n<p>Total time in Rotation-</p>\n\n<ul>\n<li>O(1)  ..........for step 1</li>\n<li>O(shift)  ......for step 2 </li>\n<li>O(n - shift) ...for step 3    </li>\n<li>O(n) ...........for step 4</li>\n</ul>\n\n<h2><strong>Total Time for array Rotation: O(1) + O(shift) + O(n-shift) + O(n) = O(n)</strong></h2>\n\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        int k = 3;\n        int a[] = {1,2,3,4,5,6,7};\n\n        ArrayUtil.leftRotate(a, k);\n\n        for (int i : a)\n            System.out.println(i);\n    }\n}\n\nclass ArrayUtil {\n\n    public static final boolean checkIndexOutOfRange(int[] array, int index) {\n        if (index &lt; 0 || index &gt; array.length)\n            return true;\n        return false;\n    }\n\n    public static final void swap(int[] array, int i, int j) {\n        if (checkIndexOutOfRange(array, i) || checkIndexOutOfRange(array, j))\n            return;\n        int t = array[i];\n        array[i] = array[j];\n        array[j] = t;\n    }\n\n    public static final void reverse(int[] array, int startIndex, int endIndex) {\n        if (checkIndexOutOfRange(array, startIndex) || checkIndexOutOfRange(array, endIndex))\n            return;\n        while (startIndex &lt; endIndex) {\n            swap(array, startIndex, endIndex);\n            startIndex++;\n            endIndex--;\n        }\n    }\n\n    public static final void reverse(int[] array) {\n        reverse(array, 0, array.length - 1);\n    }\n\n    public static final void leftRotate(int[] array, int shift) {\n        int arrayLength = array.length;\n        if (shift &gt;= arrayLength)\n            shift %= arrayLength;\n        reverse(array, 0, shift - 1);\n        reverse(array, shift, arrayLength - 1);\n        reverse(array);\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":72549362,"body":"both 2nd and 3rd approach related to gcd (greatest common divisor)."}],"answer_id":42714433,"body":"<p>AFAIK, <strong>there are three ways to rotate an array with O(1) extra space</strong>, or put it another way, to swap two contiguous subarray.</p>\n\n<ul>\n<li>reverse approach. reverse both part, then reverse all. most easy to code.</li>\n<li><strong>successively swap two contiguous block, until all items are in place.</strong></li>\n<li>juggling rotate, shell sort like. -- worse cache performance.</li>\n</ul>\n\n<p>C++ has builtin function <code>std::rotate()</code>, which takes three iterator <code>first, middle, last</code>,\nand return <code>new_middle</code>, which is where the old first element lies in the rotated\nsequence.</p>\n\n<p>I have checked the implementation on my computer, which use second approach I listed above.\n(line 1246 in <code>/usr/lib/gcc/i686-pc-cygwin/5.4.0/include/c++/bits/stl_algo.h</code>).</p>\n\n<p><strong>Below is my implementation of rotate, with test program.</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\n// same logic with STL implementation, but simpler, since no return value needed.\ntemplate &lt;typename Iterator&gt;\nvoid rotate_by_gcd_like_swap(Iterator first, Iterator mid, Iterator last) {\n    if (first == mid) return;\n    Iterator old = mid;\n    for (; mid != last;) {\n        std::iter_swap(first, mid);\n        ++first, ++mid;\n        if (first == old) old = mid; // left half exhausted\n        else if (mid == last) mid = old;\n    }\n}\n\n// same logic with STL implementation\ntemplate &lt;typename Iterator&gt;\nIterator rotate_by_gcd_like_swap_then_return_new_mid(Iterator first, Iterator mid, Iterator last) {\n    if (first == mid) return last;\n    if (mid == last) return first;\n    Iterator old = mid;\n    for(;;) {\n        std::iter_swap(first, mid);\n        ++first, ++mid;\n        if (first == old) old = mid;\n        if (mid == last) break;\n    }\n    Iterator result = first; // when first time `mid == last`, the position of `first` is the new `mid`.\n    for (mid = old; mid != last;) {\n        std::iter_swap(first, mid);\n        ++first, ++mid;\n        if (first == old) old = mid;\n        else if (mid == last) mid = old;\n    }\n    return result;\n}\n\nint main() {\n    using std::cout;\n    std::vector&lt;int&gt; v {0,1,2,3,4,5,6,7,8,9};\n    cout &lt;&lt; \"before rotate: \";\n    for (auto x: v) cout &lt;&lt; x &lt;&lt; ' '; cout &lt;&lt; '\\n';\n    int k = 7;\n    rotate_by_gcd_like_swap(v.begin(), v.begin() + k, v.end());\n    cout &lt;&lt; \" after rotate: \";\n    for (auto x: v) cout &lt;&lt; x &lt;&lt; ' '; cout &lt;&lt; '\\n';\n    cout &lt;&lt; \"sz = \" &lt;&lt; v.size() &lt;&lt; \", k = \" &lt;&lt; k &lt;&lt; '\\n';\n}\n</code></pre>\n"},{"answer_id":43673679,"body":"<p>Above solutions talk about shifting array elements either by reversing them or any other alternative.</p>\n\n<p>I've unique solution. How about determining the starting position of element after n rotations. Once we know that, then simply insert elements from that index and increment counter using modulus operation. Using this method we can avoid using extra array operations and so on.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;cstdio&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\nvoid rotateLeft(int n,int r) {\n    vector&lt;long int&gt; vec(n);\n    int j = n;\n    // get the position of starting index after r left rotations.\n    while(r!=0) {\n        --j;\n        if(j==0)\n            j = n;\n        --r;\n    }\n    for(long int i=0;i&lt;n;++i) {\n        // simply read the input from there and increment j using modulus operator.\n        cin&gt;&gt;vec[j];\n        j = (j+1)%n;\n    }\n    // print the array\n    for(long int i=0;i&lt;n;++i) \n        cout&lt;&lt;vec[i]&lt;&lt;\" \";\n}\nint rotateRight (int n,int r) {\n    // get the position of starting index after r left rotations.\n    int j = r % n;\n\n    vector&lt;long int&gt; vec(n);\n    for(int i=0;i&lt;n;i++) {\n        cin&gt;&gt;vec[j];\n        j=(j+1)%n;\n    }\n    for(int i=0;i&lt;n;i++)\n        cout&lt;&lt;vec[i]&lt;&lt;\" \";\n\n}\nint main() {\n\n    long int n,r;   // n stands from number of elements in array and r stands for rotations.\n    cin&gt;&gt;n&gt;&gt;r;\n    // Time Complexity: O(n+r) Space Complexity: O(1)\n    rotateLeft(n,r);\n    // Time Complexity: O(n) Space Complexity: O(1)\n    rotateRight(n,r);\n    return 0;\n\n}\n</code></pre>\n"},{"answer_id":43676555,"body":"<pre><code>#include &lt;stdio.h&gt;\n\nint\nmain(void)\n{\n    int arr[7] = {1,2,3,4,5,6,7};\n    int new_arr[7] = {0};\n    int k = 3;\n    int len = 7;\n    int i=0;\n\n    for (i = (len-1); i&gt;=0; i--) {\n        if ((i+k) &gt;= len) {\n            new_arr[(i+k-len)] = arr[i];\n        } else {\n            new_arr[(i+k)] = arr[i];\n        }\n    }\n\n    for (i=0;i&lt;len;i++) {\n        printf(\"%d \", new_arr[i]);\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Time complexity O(n)\nSpace complexity O(2*n).</p>\n\n<p>Thanks.</p>\n"},{"comments":[{"comment_id":108672552,"body":"In this solution O(n * 2) time"}],"answer_id":44212790,"body":"<p>Python code:</p>\n\n<pre><code>def reverse(arr,start , end):   \n    while(start &lt;= end):\n        arr[start] , arr[end] = arr[end] , arr[start]\n        start = start+1\n        end = end-1\n\narr = [1,2,3,4,5,6,7]\nn = 7\nk = 2\nreverse(arr,0,n-1)\n# [7,6,5,4,3,2,1]\nreverse(arr,0,n-1-k)\n# [3,4,5,6,7,2,1]\nreverse(arr,n-k,n-1)\n# [3,4,5,6,7,1,2]\n\nprint arr\n# [3, 4, 5, 6, 7, 8, 9, 1, 2]\n</code></pre>\n"},{"answer_id":44468796,"body":"<p>Here is the complete Java code for left and right array rotation by k steps</p>\n\n<pre><code>import java.util.*;\n\npublic class ArrayRotation {\n    private static Scanner sc;\n\n    public static void main(String[] args) {\n        int n,k;\n        sc = new Scanner(System.in);\n        System.out.print(\"Enter the size of array: \");\n        n = sc.nextInt();\n\n        int[] a = new int[n];\n        System.out.print(\"Enter the \"+n+\" elements in the list: \");\n        for(int i=0;i&lt;n;i++)\n            a[i] = sc.nextInt();\n\n        System.out.print(\"Enter the number of left shifts to array: \");\n        k = sc.nextInt();\n\n        System.out.print(\"Array before \"+k+\" shifts: \");\n        display(a);\n\n        leftRoation(a,k);\n        System.out.println();\n\n        System.out.print(\"Array after \"+k+\" left shifts: \");\n        display(a);\n\n        rightRoation(a,k);\n        System.out.println();\n\n        System.out.print(\"Array after \"+k+\" right shifts: \");\n        display(a);\n    }\n\n    public static void leftRoation(int[] a, int k){\n        int temp=0, j;\n        for(int i=0;i&lt;k;i++){\n            temp = a[0];\n//          j=0;                    // both codes work i.e. for loop and while loop as well\n//          while(j&lt;a.length-1){\n//              a[j]=a[j+1];\n//              j++;\n//          }   \n            for(j=0;j&lt;a.length-1;j++)\n                a[j]=a[j+1];\n            a[j]=temp;\n        }           \n    }\n\n    public static void rightRoation(int[] a, int k){\n        int temp=0, j;\n        for(int i=0;i&lt;k;i++){\n            temp = a[a.length-1];\n            for(j=a.length-1;j&gt;0;j--)\n                a[j]=a[j-1];\n            a[j]=temp;\n        }           \n    }\n\n    public static void display(int[] a){\n        for(int i=0;i&lt;a.length;i++)\n            System.out.print(a[i]+\" \");\n    }\n}\n\n/****************** Output ********************\n    Enter the size of array: 5\n    Enter the 5 elements in the list: 1 2 3 4 5\n    Enter the number of left and right shifts to array: 2\n    Array before 2 shifts: 1 2 3 4 5 \n    Array after 2 left shifts: 3 4 5 1 2 \n    Array after 2 right shifts: 1 2 3 4 5  // here the left shifted array is taken as input and hence after right shift it looks same as original array.\n **********************************************/\n</code></pre>\n"},{"answer_id":46345789,"body":"<p>My solution... (a: the array, n : size of array, k: number of shifts) :</p>\n\n<pre><code> public static int[] arrayLeftRotation(int[] a, int n, int k) {\n\n    if (k == 0) return a;\n\n    for (int i = 0; i &lt; k; i++) {\n        int retenue = a[0];\n        int[] copie = java.util.Arrays.copyOfRange(a, 1, n );\n        for (int y = 0; y &lt;= copie.length - 1 ; y++) {\n            a[y] = copie[y];\n        }\n        a[n-1] = retenue;\n    }\n    return a;\n}\n</code></pre>\n"},{"answer_id":51495705,"body":"<p>In Ruby Its very simple, Please take a look, Its one line. </p>\n\n<pre><code>def array_rotate(arr)\n    i, j = arr.length - 1, 0\n    arr[j],arr[i], i, j = arr[i], arr[j], i - 1, j + 1 while(j&lt;arr.length/2)\n    puts \"#{arr}\"\nend\n</code></pre>\n\n<p><strong>Input</strong>: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20] </p>\n\n<p><strong>Output</strong>: [20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]</p>\n"},{"answer_id":51726288,"body":"<p>Java implementation for right rotation</p>\n\n<pre><code>            public int[] solution(int[] A, int K) {\n                int len = A.length;\n                //Create an empty array with same length as A\n                int arr[] = new int[len];\n\n                for (int i = 0; i &lt; len; i++) {\n                    int nextIndex = i + K;\n                    if (nextIndex &gt;= len) {\n                        // wraps the nextIndex by same number of K steps\n                        nextIndex = nextIndex % len;\n                    }\n                    arr[nextIndex] = A[i];\n                }\n                return arr;\n            }\n</code></pre>\n"},{"answer_id":51979531,"body":"<pre><code>&gt;&gt;&gt; k = 3\n&gt;&gt;&gt; arr = [1,2,3,4,5,6,7]\n&gt;&gt;&gt; actual_rot = k % len(arr)\n&gt;&gt;&gt; left_ar = arr[:-actual_rot]\n&gt;&gt;&gt; right_ar = arr[-actual_rot:]\n&gt;&gt;&gt; result = right_ar + left_ar\n&gt;&gt;&gt; result\n[5, 6, 7, 1, 2, 3, 4]\n</code></pre>\n"},{"answer_id":52889064,"body":"<p>1.using a temp array and O(n) time</p>\n\n<pre><code>public static void rotateAnArrayUsingTemp(int arr[], int d, int n) {\n    int temp[] = new int[d];\n    int tempIndex = 0;\n    for (int i = 0; i &lt; d; i++) {\n        temp[i] = arr[i];\n    }\n    for (int i = 0; i &lt; arr.length - d; i++) {\n        arr[i] = arr[i + d];\n    }\n    for (int i = arr.length - d; i &lt; arr.length; i++) {\n        arr[i] = temp[tempIndex++];\n    }\n}\n</code></pre>\n"},{"answer_id":61967886,"body":"<p>A better way to rotate an array by k steps is:</p>\n\n<pre><code>a = [1,2,3,4,5,6]\nb = a[:]\nk = 2\nfor i in range(len(a)):\n    a[(i + k) % len(a)] = b[i]## (rotate right by k steps)\n    #a[(i - k) % len(a)] = b[i]## (rotate left by k steps)\nprint(a)\n</code></pre>\n\n<p>o/p:\n[6, 5, 1, 2, 3, 4]</p>\n"},{"answer_id":62612912,"body":"<p>how to rotate an array, IN this function first argument - array, the second argument is\na number or integer.</p>\n<pre><code>def rotLeft(a, d):\n    data = a\n    n = d\n    get = data[n:len(data)]\n    remains = data[0:n]\n    data.clear()\n    for i in get:\n        data.append(i)\n    for x in remains:\n        data.append(x)\n    return data\n</code></pre>\n"},{"comments":[{"comment_id":113195645,"body":"This is rotating the array to the right by k steps which is clearly mentioned above in the problem statement, where k is non-negative. Hope now its clear. Thanks"},{"comment_id":113202885,"body":"This is better and it does rotate to the right, but with many more writes than the OP&#39;s proposed solution in the general case."}],"answer_id":63998306,"body":"<p>This is rotating the array to the right by k steps, where k is non-negative</p>\n<pre><code>    for (int i = 0; i &lt; k; i++) { \n      for (int j = nums.length - 1; j &gt; 0; j--) {\n         int temp = nums[j];\n         nums[j] = nums[j - 1];\n         nums[j - 1] = temp;\n      }\n\n   }\n  return nums;\n</code></pre>\n"},{"comments":[{"comment_id":113203265,"body":"The first test should be <code>if (k &gt;= arr.length)</code>, the line <code>int temp2 = arr[j];</code> is useless, there is no need to tag the inner loop. If you change the inner loop condition to <code>j &gt; 0</code>, you can remove the <code>if (j == 0)</code> and move the <code>if</code>&#39;s body out of the inner loop, removing the need to the <code>outer</code> tag. Actually, there does not seem to be a need for the <code>count</code> variable and test."}],"answer_id":64012544,"body":"<pre><code>    if (k &gt; arr.length) {\n        k = k % arr.length;\n    }\n    int n = arr.length - k;\n    int count = 0;\n  outer:\n    for (int i = arr.length - 1; i &gt;= n; i--) {\n         int temp = arr[i];\n       inner:\n         for (int j = i - 1; j &gt;= 0; j--) {\n             arr[j + 1] = arr[j];\n             if (j == 0) {\n                 int temp2 = arr[j];\n                 arr[j] = temp;\n                 i = arr.length;\n                 count++;\n                 if (count == k) {\n                     break outer;\n                 }\n             }\n         }\n     }\n    \n</code></pre>\n"},{"answer_id":68988404,"body":"<p>Here I have solved the same problem in go.\n<a href=\"https://play.golang.org/p/KSKh7VREtyY\" rel=\"nofollow noreferrer\">Try to run in go playground...</a></p>\n<p>sample code.</p>\n<pre><code>func rotate(a []int, k int)  {\n    for j := 0; j &lt; k ; j++ {\n        temp := a[len(a)-1]\n        for i := len(a) - 1; i &gt; 0; i-- {\n            a[i] = a[i-1]\n        }\n        a[0] = temp\n    }\n}\n</code></pre>\n"},{"answer_id":71232609,"body":"<p>If you are looking for the soltuion of <a href=\"https://app.codility.com/programmers/lessons/2-arrays/cyclic_rotation/\" rel=\"nofollow noreferrer\">Codility - Cyclic Rotation Problem</a> then, here is the <strong>JavaScript</strong> code which gave 100% for me.</p>\n<pre><code>function solution(A, K) {\n  const L =  A.length - (K % A.length);    // to get the rotation length value below array length (since rotation of product of array length gives same array)\n  const A1 = A.slice(L);                   // last part of array which need to be get to front after L times rotation\n  const A2 = A.slice(0, L);                // part which rotate L times to right side\n  const Result = [...A1, ...A2];           // reverse and join both array by spreading\n  return Result;\n}\n</code></pre>\n"},{"answer_id":73164240,"body":"<blockquote>\n<p>Rotate an array of n elements to the right by k steps.</p>\n<p>For instance, with n = 7 and k = 3, the array [1,2,3,4,5,6,7] is rotated to [5,6,7,1,2,3,4].</p>\n</blockquote>\n<p>In JS the solution will be 2 part, in two line:</p>\n<pre class=\"lang-js prettyprint-override\"><code>function rotateArray(array,k){\n  // remove the rotation part\n  const splice = [...array].splice(0,k); //... for make a clone;\n  // add reversed version of the what left \n  return array.concat(splice.reverse()) from original array. \n}\n</code></pre>\n"},{"answer_id":76286330,"body":"<p><strong>Step-1: Array rotation to the right by one</strong></p>\n<ol>\n<li>Take the backup of the rightmost element in the array, the last element (<code>int temp = ar[ar.length-1];</code>). If you are rotating to the left choose the leftmost element, the first element.</li>\n<li>Start a for loop from the last index of the array and stop it right before the first index (<code>for(int i=ar.length-1; i&gt;0; i--)</code>).</li>\n<li>Replace the element from the current index with the one just behind it. <code>(ar[i] = ar[i-1];</code>). The array <code>[8, 5, 6, 2, 1, -1, -100, 425, 84]</code> after the loop will be  <code>[8, 8, 5, 6, 2, 1, -1, -100, 425]</code>.</li>\n<li>Replace the first element with the backup (<code>ar[0] = temp;</code>), giving you the rotated array as <code>[84, 8, 5, 6, 2, 1, -1, -100, 425]</code>.</li>\n</ol>\n<p>Now continue this process till the <code>k</code> becomes <code>0</code></p>\n<pre><code>while(k-- &gt; 0) {\n    \n    int temp = ar[ar.length-1];\n    \n    for(int i=ar.length-1; i&gt;0; i--) {\n        \n        ar[i] = ar[i-1];\n    }\n    \n    ar[0] = temp;\n}\n</code></pre>\n"}],"last_activity_date":1684475647,"question_id":31174840,"body":"<p>I have the following problem to test:</p>\n<blockquote>\n<p>Rotate an array of <code>n</code> elements to the right by <code>k</code> steps.</p>\n<p>For instance, with <code>n = 7</code> and <code>k = 3</code>, the array <code>[1,2,3,4,5,6,7]</code> is rotated to\n<code>[5,6,7,1,2,3,4]</code>. How many different ways do you know to solve this problem?</p>\n</blockquote>\n<p>My solution in intermediate array:</p>\n<p>With Space is <code>O(n)</code> and time is <code>O(n)</code>, I can create a new array and then copy elements to the new array. Then change the original array by using <code>System.arraycopy()</code>.</p>\n<pre><code>public void rotate(int[] nums, int k) {\n    if (k &gt; nums.length) \n        k = k % nums.length;\n \n    int[] result = new int[nums.length];\n \n    for (int i = 0; i &lt; k; i++) {\n        result[i] = nums[nums.length - k + i];\n    }\n \n    int j = 0;\n    for (int i = k; i &lt; nums.length; i++) {\n        result[i] = nums[j];\n        j++;\n    }\n \n    System.arraycopy(result, 0, nums, 0, nums.length);\n}\n</code></pre>\n<p>But is there a better way we can do it with bubble rotate (like bubble sort) in <code>O(1</code>) space?</p>\n"},{"comments":[{"comment_id":127996339,"body":"The first problem I see is that you aren&#39;t using <code>@SpringBootTest</code>. I also note that you&#39;re using Jupiter (JUnit 5) but pulling in a JUnit 4 runner; I don&#39;t know whether this is a problem since I use Spock."},{"comment_id":128033595,"body":"I popped @SpringBootTest in there a few times, with and without the runner and still had no luck."}],"answers":[{"answer_id":72477793,"body":"<p>I was unable to get this to work, but since the end goal was to make a test that didn't bring in my full Spring configuration, I did find a work around:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class UserServiceTest {\n\n    @Mock\n    private UserDao userDao;\n    \n    @InjectMocks\n    private UserServiceImpl userService;\n\n   //Your tests and what not\n}\n</code></pre>\n<p>Check out this <a href=\"https://howtodoinjava.com/spring-boot2/testing/spring-boot-mockito-junit-example/\" rel=\"nofollow noreferrer\">tutorial</a> for a better detailed explanation.</p>\n"},{"answer_id":76286300,"body":"<p>use org.junit.Test, NOT org.junit.jupiter.api.Test.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.junit.Test;\n//import org.junit.jupiter.api.Test;\n</code></pre>\n"}],"last_activity_date":1684475263,"question_id":72455004,"body":"<p>I am using a simple TestConfiguration call in my application to initialize a service bean within the test class:</p>\n<pre><code>    @TestConfiguration\n    static class UserServiceConfiguration {\n        @Bean\n        public UserService userService() {\n            return new UserServiceImpl() {\n\n            };\n        }\n    }\n\n    @Autowired\n    private UserService userService;\n\n</code></pre>\n<p>When I try running any tests within the class, I immediately get a &quot;this.userService is null&quot; error and the test fails out with a null pointer exception.</p>\n<p>I've tried some different fixes, including:</p>\n<ul>\n<li>Putting the TestConfiguration in its own class and importing it via the @Import annotation</li>\n<li>Adding @Primary to the bean as well as giving it a unique name in the @Bean annotation.</li>\n</ul>\n<p>A breakpoint in the TestConfiguration return is not called, so it appears as if the service is not being automatically wired to that version.</p>\n<p>Note I am new to unit testing in Spring boot and our application is a few years old with various configurations in different places. I am wondering if something else is interfering with the TestConfiguration, but my understanding was that it was supposed to override the service and ignore those configurations? I just cannot figure out why it is not being called.</p>\n<p>I am using Spring Boot 2.5.4, Java 18.</p>\n<p>Complete code of Test Class:</p>\n<pre><code>\nimport static org.assertj.core.api.Assertions.assertThat;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.TestConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.test.context.junit4.SpringRunner;\n\nimport com.evotext.user.service.UserService;\nimport com.evotext.user.service.UserServiceImpl;\n\n@RunWith(SpringRunner.class)\npublic class UserServiceTest {\n\n    @TestConfiguration\n    static class UserServiceConfiguration {\n        @Bean\n        public UserService userService() {\n            return new UserServiceImpl() {\n\n            };\n        }\n    }\n\n    @Autowired\n    private UserService userService;\n    \n    \n    \n    @Test\n    public void getCurrentUserSession() {\n        \n        long l = userService.countTotalUsers();\n        assertThat(l == 1);\n    }\n    \n}\n</code></pre>\n<p>The service class itself is an interface and the implemented version is annotated with @Service and @Transactional, no name is specified.</p>\n"},{"comments":[{"comment_id":49322326,"body":"Please elaborate what you mean by &quot;not working&quot;."},{"comment_id":49322428,"body":"no response on console"},{"comment_id":49322594,"body":"Have you tried it on smaller numbers? I&#39;ve seen programs like this take a <i>really</i> long time; it doesn&#39;t mean it&#39;s not working."},{"comment_id":49322658,"body":"The number is very large.Try to optimize the loop.check this <a href=\"http://stackoverflow.com/questions/30515940/project-euler-prob-3-in-c/30516230#30516230\" title=\"project euler prob 3 in c\">stackoverflow.com/questions/30515940/project-euler-prob-3-in&zwnj;&#8203;-c/&hellip;</a>"},{"comment_id":49322670,"body":"Just a hint: you can increase the divisor by two always to only handle odd numbers since no other even number is prime than 2"},{"comment_id":49322714,"body":"Actually, you can do more than that - only check 2 and 3, and then numbers that are of the form <code>6n+1</code> or <code>6n-1</code>. And you only have to go up to <code>sqrt(n)</code>."},{"comment_id":49323591,"body":"600 billion iterations could take a while. You could optimize your loop by only going up to sqrt(n) and starting your loop counter at 3 and incrementing by 2 each iteration, since an even number can&#39;t be prime."},{"comment_id":117073913,"body":"Please edit your question to show the input, the actual output, and the expected output."}],"answers":[{"comments":[{"comment_id":49322854,"body":"Very interesting solution! Could you please explain the algorithm or at least point me at some reading material? I have never seen this solution before.."},{"comment_id":49323130,"body":"@Bobby you can optimize your solution by looping upto only sqrt of 6008514751431 which is 775146."},{"comment_id":49324146,"body":"This is actually a pretty brute force solution and  <a href=\"http://en.wikipedia.org/wiki/Largest_known_prime_number\" rel=\"nofollow noreferrer\">Wikipedia told me the largest prime number</a>"}],"answer_id":30628432,"body":"<p>Your program isn't \"returning\" anything because it is still running.  Your loop is still iterated.  Your code needs to be modified to be more performant. Here is my solution to the same problem.</p>\n\n<pre><code>long testNum = 600851475143l; \nint largestFactor = 0; \nlong loopMax = 17425170l; //largest known prime  \nfor (int i = 3; i * i &lt;= loopMax; i++) { \n    boolean isPrime = true;             \n    for (int j = 2; j &lt; i; j++) { \n       if (i % j == 0) { \n          isPrime = false; \n          break; \n       } \n    }                         \n    if (isPrime &amp;&amp; testNum % i == 0) { \n        System.out.println(\"prime factor: \" + i); \n        largestFactor = i; \n        loopMax = (testNum / i) + 1; \n    } \n} \nSystem.out.println(\"result is: \" + largestFactor);\n</code></pre>\n"},{"answer_id":30648623,"body":"<p>Thank you guys for your feedback but i have solved this question myself with the following code.. :)</p>\n\n<p>public class ProblemThree {</p>\n\n<pre><code>public static void main(String args[])\n{\n\n    long n=600851475143L;\n\n    for(long i=2;i&lt;n ;++i)\n    {\n        while(n % i==0)\n        {//for yes\n            n=n/i;\n\n        }   \n\n    }\n    System.out.println(n);\n}\n</code></pre>\n\n<p>}</p>\n"},{"answer_id":60508748,"body":"<pre><code>package Euler;\n\nimport java.util.Scanner;\n\npublic class euler3 {\n    public static void main(String args[])\n    {\n        long num;\n        Scanner sc = new Scanner(System.in);\n        num= sc.nextLong();\n\n        for(int i=2;i&lt;num; i++)\n        {\n            while(num%i == 0)\n            {\n                //System.out.println(i);\n                num=num/i;\n            }\n        }\n        if(num&gt;2)\n            System.out.println(num);\n\n    }\n\n}    \n</code></pre>\n\n<p>The prime factors of 13195 are 5, 7, 13 and 29.<br>\nThe largest prime factor of the number 600851475143 is 6857.</p>\n"},{"answer_id":66219577,"body":"<pre><code>#include &lt;bits/stdc++.h&gt;\nusing namespace std;\nint SieveOfEratosthenes(int x,long long signed int n)\n{\n    bool prime[x];                                 //use sieve upto square root of \n                                                       // required number\n    memset(prime, true, sizeof(prime));\n \n    for (long long signed int p = 2; p * p &lt;= x; p++)    \n    {\n        if (prime[p] == true) \n        {\n            for (long long signed int i = p * p; i &lt;= x; i += p)\n                prime[i] = false;\n        }\n    }\n    int res;\n    for (long long signed int p = 2; p &lt;= x; p++)\n        if (prime[p])\n            {\n                if(n%p==0)   //if number is divisble by prime number than update with \n                res=p;        //latest value of prime number\n            }\n            return res;\n}\nint main()\n{\n    ios_base::sync_with_stdio(false);\n    cin.tie(NULL);\n    cout&lt;&lt;SieveOfEratosthenes(775146,600851475143);//Return the answer\n\n    // long long signed int n;cin&gt;&gt;n;   for value of n\n   //cout&lt;&lt;SieveOfEratosthenes(sqrt(n),n);\n    return 0;\n}\n</code></pre>\n"},{"answer_id":76286214,"body":"<p>Hi I also attempted the problem and solved with this</p>\n<pre><code>public class LargestPrime {\n\n    public static void main(String[] args) {\n\n        long x = 600851475143L;\n\n        int LargestPrimeFactor = 2;\n\n        while (x % 2 == 0) {\n// clears through factors of 2 in the number\n            x /= 2;\n\n        }\n        for (int i = 3; i &lt;= x; i += 2) {\n            while (x % i == 0) {\n                x /= i;\n                LargestPrimeFactor = i;\n                break;\n            }\n\n        }\n        \n          System.out.println(LargestPrimeFactor);\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684475023,"question_id":30628194,"body":"<p>My program is not working on eclipse.. And i dont know whats wrong with it..\nPlz help..\nAnd plz tell the reason as well.</p>\n\n<pre><code> public class ProblemThree {\n\n        public static void main(String args[])\n        {\n            long a=0L, z=0L;\n            long n=600851475143L;\n\n            for(long i=2;i&lt;=n ;++i)\n            {\n                if(600851475143L % i==0)\n                {\n                    a=i;\n\n                    if(a%2==0)\n                        {;  }\n                    else if(a%3==0)\n                        { ;}\n                    else if(a%5==0)\n                        { ;}\n                    else if(a%7==0)\n                        { ;}\n                    else if (a&gt;z)\n                    { \n                        z=a;\n                    }\n\n                }\n\n            }\n\n            System.out.println(z);\n\n        }\n    }\n</code></pre>\n"},{"comments":[{"comment_id":134514681,"body":"Sorry, but I don&#39;t understand the question. Are the both comparators you mention part of NatTable? And where does an error occur? I would assume the Null value needs to be handled correctly in the comparator."},{"comment_id":134521944,"body":"@DirkFauth Please see my edits after -edit- . I have explained my issue further."}],"answers":[{"answer_id":76286252,"body":"<p>You need to implement and register a custom Filter comparator for your special case. The default comparator is actually only a comparison of string representations.</p>\n"}],"last_activity_date":1684474709,"question_id":76278683,"body":"<p>I wish to extend DefaultGlazedListsFilterStrategy so that I can apply a filter strategy such that the 'null' in my table are ignored during numeric comparison. In the following table, the null values cause a problem in numeric comparison. Any filter comparator cannot work properly with null values since they always have to be accounted for during comparison and hence incorrectly figure in the filtered list. NullsFirstComparator and NullsLastComparator were both incorrect in one of the cases.</p>\n<p><a href=\"https://i.stack.imgur.com/wK5qU.png\" rel=\"nofollow noreferrer\">Filtered nattable with null values </a></p>\n<p>As mentioned, I tried DefaultGlazedListsFilterStrategy but could not filter out the 'null' values which appear in my table.</p>\n<p>-edit-</p>\n<p>The issue lies in the numeric comparison for column number 3 (Size in bytes) in the image. In the image, entries in the column below\n2960 are null. I have used a DefaultComparator as the FilterComparator.</p>\n<p>In a scenario where a 'null' is compared to 1000( for example row number 2), we get a result of -1 as per the DefaultComparator implementation, resulting in that\nnull object being a true match. As per my Nattable design, rows 2-17 are actually a children of row 1 (tree structure). This in turn results in row 1 being automatically shown\nin the resulting list since it is the parent. Thus the filtering seems broken because 2960 being greater than 1000 is still shown in the resulting table.</p>\n<p>I am limited by the filter comparator in this case, I could go for Comparator.nullsFirst(new DefaultComparator()) and Comparator.nullsLast(new DefaultComparator()), but both of them\nwould break down when the comparison sign is reversed (each one would only work for either &lt;'value' or &gt;'value').</p>\n<p>Ideally, I dont want any row with a null value to even be considered for filtering since the null value eventually breaks down the numeric filtering.</p>\n<p>Thus I thought of implementing a filterstrategy which would ignore such null values altogether.</p>\n"},{"comments":[{"comment_id":134454581,"body":"Make a sure that you are using correct RequestBody annotation, because open-api has @RequestBody annotation too, you should not use this one. Assert that you are using @RequestBody from exactly <code>org.springframework.web.bind.annotation</code> package."},{"comment_id":134454603,"body":"Do not use entities in the rest api. Learn about 3tier architecture."},{"comment_id":134454619,"body":"Have you tried to use first_name in the json data."},{"comment_id":134454652,"body":"this looks like a &quot;cli quoting&quot; issue to me... please try(tested in pwsh+bash): <code>--data &#39;{&quot;firstName&quot;: ...}&#39;</code> (with enclosing single quotes <code>&#39;</code> and (normal) double quotes &#39;&quot;&#39; inside the json."},{"comment_id":134454721,"body":"@Jens I have tried first_name as well, it too read as null from RequestBody"},{"comment_id":134454732,"body":"@xerx593 tried single quote wrapping of json body, got curl: (3) URL using bad/illegal format or missing URL curl: (3) URL using bad/illegal format or missing URL curl: (3) unmatched close brace/bracket in URL position 5: cena}&#39;"},{"comment_id":134454739,"body":"@Sharofiddin I have used correct import as you mentioned."},{"comment_id":134454749,"body":"what is your shell? the error (xp&amp;circumstances) point (me) into this (curl) direction..."},{"comment_id":134454769,"body":"@xerx593 I have updated postman results as well, same error, I am sure its not the issue of cmd or curl command."},{"comment_id":134455001,"body":"Can you share your application.properties or application.yml file?"},{"comment_id":134455028,"body":"Also please share your pom.xml"}],"answers":[{"answer_id":76262358,"body":"<p>The issue was with Eclipse setup. The lombok library was not installed for eclipse due to this <code>@Data</code> annotation was not working on Employee class and hence no getters and setters. To solve, I installed lombok in eclipse installation folder and restarted it.</p>\n"}],"last_activity_date":1684473887,"question_id":76244498,"body":"<p>I am new to Java and Springboot, I am trying to create simple REST API to insert employee record into mysql database. Getting following error</p>\n<pre><code>@RequestBody =&gt; Employee [id=0, firstName=null, lastName=null, email=null]\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.saa.springboot.model.Employee.firstName] with root cause\n\norg.hibernate.PropertyValueException: not-null property references a null or transient value : com.saa.springboot.model.Employee.firstName\n    at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:111) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n</code></pre>\n<p>Employee Class:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;employees&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @Column(name = &quot;first_name&quot;, nullable = false)\n    private String firstName;\n    \n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n    \n    @Column(name = &quot;email&quot;)\n    private String email;\n}\n</code></pre>\n<p>EmployeeController</p>\n<pre><code>package com.saa.springboot.controller;\n\nimport java.util.List;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.saa.springboot.model.Employee;\nimport com.saa.springboot.service.EmployeeService;\n\n\n@RestController\n@RequestMapping(&quot;/api/employees&quot;)\npublic class EmployeeController {\n    \n    private EmployeeService employeeService;\n\n    public EmployeeController(EmployeeService employeeService) {\n        super();\n        this.employeeService = employeeService;\n    }\n    \n    @PostMapping()\n    public ResponseEntity&lt;Employee&gt; saveEmployee(@RequestBody Employee employee) {\n        System.out.println(&quot;@RequestBody =&gt; &quot; + employee.toString());\n        return new ResponseEntity&lt;Employee&gt;(employeeService.saveEmployee(employee), HttpStatus.CREATED);\n    }\n    \n}\n</code></pre>\n<p>Application Properties:</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/ems_db?useSSL=false\nspring.datasource.username = root\nspring.datasource.password = pwd\nspring.jpa.database-platform = org.hibernate.dialect.MySQLDialect\nspring.jpa.generate-ddl = true\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n<p>Curl Request:</p>\n<pre><code>curl -i -H &quot;Accept: application/json&quot; -H &quot;Content-Type:application/json&quot; -X POST --data &quot;{\\&quot;firstName\\&quot;: \\&quot;john\\&quot;, \\&quot;lastName\\&quot;: \\&quot;cena\\&quot;}&quot; &quot;http://localhost:8080/api/employees&quot;\n</code></pre>\n<p>From the <code>println</code> statement, we can clearly see field values(firstName, lastName and email) read as null using @RequestBody</p>\n<pre><code>@RequestBody =&gt; Employee [id=0, firstName=null, lastName=null, email=null]\n</code></pre>\n<p>I am not sure what I am missing here, I have tried with Postman as well without any luck, same error.</p>\n<p><a href=\"https://i.stack.imgur.com/bE9mq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bE9mq.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/qYG3U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qYG3U.png\" alt=\"enter image description here\" /></a></p>\n<p>Any guidance is must appreciated.</p>\n"},{"comments":[{"comment_id":108676940,"body":"See <a href=\"https://github.com/gradle/gradle/issues/8489\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/8489</a>. The solution seems to be to run the <code>clean</code> and <code>build</code> tasks. Also please don&#39;t write a custom <code>clean</code> task. Just apply the <code>base</code> plugin (<code>apply plugin: &#39;base&#39;</code>) which already defines these tasks"},{"comment_id":108683607,"body":"@smac89 Thank you. This worked. Know I faced a new error: <code>Error: Program type already present: com.google.android.gms.internal.measurement.zzet</code>"}],"answers":[{"comments":[{"comment_id":108693365,"body":"When I update classpath I see errors like this: <code>Could not find com.android.tools.layoutlib:layoutlib-api:26.6.1.</code>"},{"comment_id":108694972,"body":"@Ghaem use <code>classpath &#39;gradle.plugin.com.onesignal:onesignal-gradle-plugin:[0.12.6&zwnj;&#8203;, 0.99.99]&#39;</code>"}],"answer_id":61441662,"body":"<blockquote>\n  <p>Error: Program type already present:\n  com.google.android.gms.internal.measurement.zzet</p>\n</blockquote>\n\n<p>Update <strong><code>classpath</code></strong></p>\n\n<pre><code> dependencies {\n        classpath 'com.android.tools.build:gradle:3.6.1'\n        classpath 'com.google.gms:google-services:4.3.2'\n\n    }\n</code></pre>\n\n<p><strong>OneSignal-Gradle-Plugin</strong></p>\n\n<pre><code>   classpath 'gradle.plugin.com.onesignal:onesignal-gradle-plugin:[0.12.6, 0.99.99]'\n</code></pre>\n\n<p>Use <strong><code>implementation</code></strong> instead of <code>compile</code>.</p>\n\n<pre><code>  implementation 'com.google.code.gson:gson:2.8.6'\n  implementation 'com.google.firebase:firebase-messaging:17.0.0'\n</code></pre>\n\n<p>You are using very old versions. If you want to use latest then libraries will not work unless you make the following changes in your app:</p>\n\n<ul>\n<li>Upgrade compileSdkVersion to 28 or later.</li>\n<li>Update your app to use Jetpack (AndroidX).</li>\n</ul>\n\n<p>AndroidX replaces the original support library APIs with packages in the androidx namespace. Read official guideline about <a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\"><strong><code>AndroidX Overview</code></strong></a>.</p>\n\n<pre><code>compileSdkVersion 29\n    defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 29\n        buildToolsVersion '29.0.2'\n        multiDexEnabled true\n\n    }\n</code></pre>\n\n<p>Your <strong><code>appcompat:appcompat</code></strong> &amp; <strong><code>constraintlayout</code></strong> will</p>\n\n<pre><code>implementation 'androidx.appcompat:appcompat:1.1.0'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n</code></pre>\n"},{"answer_id":76286195,"body":"<p>if you have the old project and cased by this error. my project was not building after upgradation to flamingo. So i tried this.</p>\n<ol>\n<li><p>Go to file than project structure than find gradle settings changed it to use JDK 11.\n<a href=\"https://i.stack.imgur.com/oOCJy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOCJy.png\" alt=\"jdk location \" /></a></p>\n</li>\n<li><p>changing the gradle version of the project to the newest version 6.2.1 on the project structure options.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/kmpIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kmpIA.png\" alt=\"enter image description here\" /></a></p>\n"}],"last_activity_date":1684473723,"question_id":61434382,"body":"<p>I tried to run my project for first time but I faced this error:</p>\n\n<blockquote>\n  <p>Failed to notify dependency resolution listener.\n  Problems reading data\n  from Binary store in\n  C:\\Users\\Ghaem\\AppData\\Local\\Temp\\gradle9202596089529693792.bin\n  (exist: true)</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/egTaR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/egTaR.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've tried changing version of gradle to all available version with no luck.</p>\n\n<p>My Project (root) build.gradle file:</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n\n    repositories {\n        google()\n        mavenLocal()\n        mavenCentral()\n        jcenter()\n        maven { url 'https://repo1.maven.org/maven2/' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.2'\n        classpath 'com.google.gms:google-services:4.1.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>My App build.gradle file:</p>\n\n<pre><code>buildscript {\n    repositories { maven { url 'https://plugins.gradle.org/m2/' } }\n    dependencies {\n        classpath 'gradle.plugin.com.onesignal:onesignal-gradle-plugin:[0.11.0, 0.99.99]'\n    }\n}\napply plugin: 'com.onesignal.androidsdk.onesignal-gradle-plugin'\n\nrepositories {\n    maven { url 'https://maven.google.com' }\n}\napply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"com.itechnotion.wpnews\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 5\n        versionName \"1.5\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        manifestPlaceholders = [onesignal_app_id: \"f893b120-b601-41e5-b0e3-715626efe0a3\",\n                                onesignal_google_project_number: \"REMOTE\"]\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            aaptOptions.cruncherEnabled = false\n            aaptOptions.useNewCruncher = false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:design:26.1.0'\n    implementation 'com.android.support:support-v4:26.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n    compile 'com.android.support:cardview-v7:26.1.0'\n    compile 'com.android.support:recyclerview-v7:26.1.0'\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n    compile 'de.hdodenhof:circleimageview:2.2.0'\n    compile 'com.squareup.retrofit2:retrofit:2.1.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.1.0'\n    compile 'com.squareup.okhttp3:logging-interceptor:3.4.1'\n    compile 'com.squareup.okhttp3:okhttp:3.4.1'\n    compile 'com.google.code.gson:gson:2.7'\n    compile 'com.squareup.okhttp3:logging-interceptor:3.8.0'\n    compile 'com.squareup.okhttp:okhttp:2.0.0'\n    compile 'com.android.support:multidex:1.0.1'\n    compile 'com.facebook.stetho:stetho:1.1.1'\n    compile 'com.facebook.stetho:stetho-okhttp:1.1.1'\n    compile 'com.github.bumptech.glide:glide:3.7.0'\n\n    compile 'com.google.firebase:firebase-core:16.0.0'\n    compile 'com.onesignal:OneSignal:[3.7.1, 3.99.99]'\n    implementation files('libs/YouTubeAndroidPlayerApi.jar')\n    compile 'org.jsoup:jsoup:1.10.1'\n    compile 'com.google.android.gms:play-services-ads:17.0.0'\n    implementation 'com.google.firebase:firebase-messaging:17.0.0'\n\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"},{"comments":[{"comment_id":115074382,"body":"You can use <code>th:utext</code> for this purpose - see <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#unescaped-text\" rel=\"nofollow noreferrer\">Unescaped Text</a>. But I would not recommend using that - it has security implications, if user-provided data can be included in the tag. I actually prefer splitting up the data using <code>&lt;span&gt;</code> the way you show in the question. It avoids mixing plain text and tags together. And you don&#39;t need to use <code>th:utext</code>."},{"comment_id":115075527,"body":"@andrewjames That would require me to have the HTML in my resource file, and pass the link property as a parameter. That doesn&#39;t sound like a better solution..."},{"comment_id":115075586,"body":"... which is also why the suggested duplicate isn&#39;t good enough: It suggests an <i>even worse</i> solution, not a better one."},{"comment_id":115076496,"body":"The duplicate link is intended to show the existence of <code>th:utext</code> - not that you have to use it in the exact way specified in the answer - just that it exists, and can be used. Sorry for implying a worse solution - that was not my intention. You can use <code>th:utext</code> in the way shown in the documentation I link to in my first comment (it&#39;s just that I wouldn&#39;t recommend it)."},{"comment_id":115076663,"body":"Just to add: I take your point about the dupe - and I have retracted it."},{"comment_id":115078284,"body":"Why would you just rephrase &quot;Follow &lt;this&gt; link&quot; to something like &quot;Click the following link:&quot; &lt;link&gt;? This simple approach would allow you to separate sentence, link title, and URL from each other. Resource files would include separate items, which are easy to translate for any international language. Not every time the development team supposed to do the work (weird coding, compromise security, etc), sometimes it&#39;s better to kick the documentation team to do their part and rephrase the mock-up you probably have."},{"comment_id":115082308,"body":"@SlavaIvanov That works in some languages, but not in others. I&#39;d like this to be flexible enough so that all supported languages can make it flow nicely."},{"comment_id":115083062,"body":"Interesting, maybe I am not aware, would you provide an example of such language, just out of curiosity? We have 32 languages, including one RTL and this approach works all the time, at least for those languages."}],"last_activity_date":1684473641,"question_id":65089306,"body":"<p>I'm trying to use Thymeleaf, to generate something like this:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p&gt;Follow &lt;a href=&quot;...&quot;&gt;this&lt;/a&gt; link&lt;/p&gt;\n</code></pre>\n<p>All the text comes from a resource provider (Java resource bundle), and the link contains values from the Thymeleaf context.</p>\n<p>I can separate the blocks of text, but that's ugly:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;p&gt;\n  &lt;span th:text=&quot;#{resource1}&quot;&gt;Follow &lt;/span&gt;\n  &lt;a th:href=&quot;${link}&quot; th:text=&quot;#{resource2}&quot;&gt;this&lt;/a&gt;\n  &lt;span th:text=&quot;#{resource3}&quot;&gt; link&lt;span&gt;\n&lt;/p&gt;\n</code></pre>\n<p>How do I do this nicely?</p>\n"},{"answers":[{"answer_id":76286176,"body":"<p>It works for me and I think it solves your problem</p>\n<pre><code>  @Component\n  public class FeignRequestInterceptor implements \n  RequestInterceptor \n{\n\n    @Override\n    public void apply(RequestTemplate template) {\n        final RequestAttributes requestAttributes = \n        RequestContextHolder.getRequestAttributes();\n        if (requestAttributes != null) {\n        final HttpServletRequest httpServletRequest = \n        ((ServletRequestAttributes) \n          requestAttributes).getRequest();\n        template.header(HttpHeaders.AUTHORIZATION, \n        httpServletRequest.getHeader(HttpHeaders.AUTHORIZATION));\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684473397,"question_id":76281707,"body":"<p>I'm trying to add 2 headers to a request made with feign using an interceptor, using spring-boot 2.5.9, but I'm receiving this error:</p>\n<pre><code>feign.FeignException$Unauthorized: [401] during [POST] to [http://xxxxx/api/files/files] [FilesClient#upload(String,MultipartFile,String)]\n</code></pre>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-feign&lt;/artifactId&gt;\n  &lt;version&gt;1.4.7.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Feign client:</strong></p>\n<pre><code>@FeignClient(name = &quot;files&quot;, url = &quot;${feign.clients.files.url}&quot;)\npublic interface FilesClient {\n    @PostMapping(consumes = MediaType.MULTIPART_FORM_DATA_VALUE)\n    FileUploadResponse upload(@RequestPart(&quot;file&quot;) MultipartFile file,\n                              @RequestParam(&quot;fileName&quot;) String fileName,\n                              @RequestHeader String path);\n}\n</code></pre>\n<p><strong>FeignRequestInterceptor:</strong></p>\n<pre><code>@Slf4j\n@Component\npublic class FeignRequestInterceptor implements RequestInterceptor{\n\n  @Override\n  public void apply(RequestTemplate requestTemplate) {\n    Map&lt;String, Collection&lt;String&gt;&gt; headers = new HashMap&lt;&gt;();\n    headers.put(Constants.AUTH_HEADER, Collections.singleton(Access.token()));\n    headers.put(Constants.X_TENANT_ID, Collections.singleton(Access.getCurrentTenant()));\n    requestTemplate.headers(headers);\n    log.error(&quot;Feign interceptor&quot;);\n  }\n}\n</code></pre>\n<p>In the debug I'm reviewing the header's value and I realize that each value has the header's name:</p>\n<p><a href=\"https://i.stack.imgur.com/iDNGo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iDNGo.png\" alt=\"enter image description here\" /></a></p>\n<p>This is inside Feign HeaderTemplate.java:</p>\n<p><a href=\"https://i.stack.imgur.com/VnlsJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VnlsJ.png\" alt=\"enter image description here\" /></a></p>\n<p>This is causing the auth token value to be sent to the service with an incorrect value.</p>\n<p>How to prevent feign from concatenating header name to value?</p>\n"},{"comments":[{"comment_id":134525372,"body":"How should the actual request look like?"}],"last_activity_date":1684473134,"question_id":76286127,"body":"<h1>How to set a POST request which requires both &quot;Content-Type&quot;, &quot;application/json and &quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot; for the same URL in Java</h1>\n<p>Hi,\nI need to pass two kinds of parameter(header and x-www-form-urlencoded)  for my POST request Url to work. My code looks like below, can anyone help me with setting these two types of content_type to the same POST url?</p>\n<pre><code>String Pan_url  = &quot;https://something&quot;;\nURL url = new URL(Pan_url);\nHttpsURLConnection con = (HttpsURLConnection) url.openConnection();\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\ncon.setRequestProperty(&quot;Accept&quot;, &quot;application/x-www-form-urlencoded&quot;);\ncon.setRequestProperty(&quot;panNumber&quot;, panNumber);\ncon.setRequestProperty(&quot;aadhaarNumber&quot;, aadhaarNumber);\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\ncon.setRequestProperty(&quot;Accept&quot;,&quot;application/json&quot;);\ncon.setRequestProperty(&quot;x-api-key&quot;, x_api_key);\ncon.setRequestMethod(&quot;POST&quot;);\ncon.setDoOutput(true);\ncon.setDoInput(true);\nint responseCode = con.getResponseCode();\n</code></pre>\n<p>I tried setting content-type like below but didn't work</p>\n<pre><code>HttpsURLConnection con = (HttpsURLConnection) url.openConnection();\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded; charset=UTF-8&quot;);\ncon.setRequestProperty(&quot;Accept&quot;, &quot;application/x-www-form-urlencoded&quot;);\ncon.setRequestProperty(&quot;panNumber&quot;, panNumber);\ncon.setRequestProperty(&quot;aadhaarNumber&quot;, aadhaarNumber);\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; charset=UTF-8&quot;);\ncon.setRequestProperty(&quot;Accept&quot;,&quot;application/json&quot;);\ncon.setRequestProperty(&quot;x-api-key&quot;, x_api_key);\n</code></pre>\n"},{"comments":[{"comment_id":27151460,"body":"Why does it not work if all elements are positive? Minimum sum in that case is 0 for the empty sequence and that will be correctly found."},{"comment_id":27151529,"body":"@Henry - He probably wants to find the minimum sum of a size-<i>k</i> subarray for some <i>k</i> ≤ <i>N</i>."},{"comment_id":27151537,"body":"in that case we can traverse the array and if we see that all elements are +ve than we can take the minimum of the elements, which is more appropriate than retuning 0. Thanks. but the main question here is, will the approach that i have mentioned will work to find the minimum sum or not?"}],"answers":[{"answer_id":18472835,"body":"<blockquote>\n  <p>Will the approach that I have mentioned work to find the minimum sum?</p>\n</blockquote>\n\n<p>Yes, it will. You can re-state the problem of finding the minimum sum as finding a negative sum with the largest absolute value. When you switch the signs of your numbers and keep the rest of the algorithm in place, that's the number that the algorithm is going to return back to you.</p>\n\n<blockquote>\n  <p>I know there is an issue if all the elements are positive</p>\n</blockquote>\n\n<p>No, there's no issue: consider the original Kadane's algorithm when all elements are negative. In this case the algorithm returns an empty sequence for the sum of zero - the highest one possible under the circumstances. In other words, when all elements are negative, your best solution is to take none of them.</p>\n\n<p>Your modified algorithm is going to do the same in case when all numbers are positive: again, your best solution is to not take numbers at all.</p>\n\n<p>If you add a requirement that the range returned back from the algorithm may not be empty, you could modify the algorithm slightly to find the smallest positive number (or the greatest negative number) in case when Kadane's algorithm returns an empty range as the optimal solution.</p>\n"},{"answer_id":24077503,"body":"<p>Just replace max with min.</p>\n\n<pre><code>//O(n)\npublic static int minSubArraySum(int[] arr) {\n    int minSum = 0;\n    int curSum = 0;\n    for (int num : arr) {\n        curSum += num;\n        minSum = Math.min(minSum, curSum);\n        curSum = Math.min(curSum, 0);\n    }\n    return minSum;\n}\n</code></pre>\n"},{"answer_id":54464505,"body":"<pre><code>static void subArraySumMin(int a[]) {\n        int minendingHere = 0;\n        int minSoFar = a[0];\n\n        for (int i = 1; i &lt; a.length; i++) {\n            minendingHere = Math.min(a[i], minendingHere + a[i]);\n            minSoFar = Math.min(minSoFar, minendingHere);\n        }\n\n        System.out.println(minSoFar);\n    }\n</code></pre>\n"},{"comments":[{"comment_id":134526906,"body":"Please fix the formatting issues in your code. Also, shouldn&#39;t it check if <code>currSum</code> is less than 0, not greater than? Not sure if it is an error, but in the other answers, <code>min</code> can go below 0, while in yours, it cannot go above it (or below if you fix the if)."}],"answer_id":76286088,"body":"<pre><code>function minSubArray(arr) {\nlet min = 0;\nlet currSum = 0;\nfor (let i = 0; i &lt; arr.length; i++) {\n    currSum = currSum + arr[i];\n    if (currSum &gt; 0) {\n        currSum = 0;\n    }\n    if (currSum &lt; min) min = currSum;\n}\nreturn min;\n</code></pre>\n<p>}</p>\n"}],"last_activity_date":1684472022,"question_id":18472606,"body":"<p>We all know about the maximum sum subarray and the famous <a href=\"http://en.wikipedia.org/wiki/Maximum_subarray_problem#Kadane.27s_algorithm\" rel=\"nofollow noreferrer\">Kadane's algorithm</a>. But can we use the same algorithm to find minimum sum also?</p>\n\n<p>My take is: </p>\n\n<blockquote>\n  <p><strong>change the sign and find the max sum in that, same as the way we calculate the maximum sum subarray. Than change the sign of the\n  elements in the array to make it in initial state.</strong></p>\n</blockquote>\n\n<p>Please help me in correcting the algo if it has any issue. </p>\n\n<p><strong>corner case:</strong> I know there is an issue if all the elements are positive and we can handle this case by doing some preprocessing i.e. traverse the array if all are +ve than just return the minimum number from the array. </p>\n\n<p><strong><em>The above mention algorithm will work and well supported (explained) by <a href=\"https://stackoverflow.com/questions/18472606/minimum-sum-subarray-in-on-by-kadanes-algorithm/18472835?noredirect=1#18472835\">dasblinkenlight</a>.</em></strong></p>\n"},{"comments":[{"comment_id":131817484,"body":"what are the error you are getting in above libraries. (do you want to implement in android only?) check this post <a href=\"https://stackoverflow.com/q/69613230/9608873\">stackoverflow.com/q/69613230/9608873</a>"},{"comment_id":131822774,"body":"@Ragnar I tried above liabraries, but unable to update data in View while user is in PIP Mode"},{"comment_id":131823009,"body":"please share the code. create a snack if it&#39;s possible"},{"comment_id":131823097,"body":"Nothing in code, just a simple View with Text which updates every second"}],"answers":[{"comments":[{"comment_id":133855100,"body":"Is there a way the implement the same in ios?"},{"comment_id":133884256,"body":"As of now there is no support for iOS, I am also trying to figure out. I will update you if I get any thing."}],"answer_id":75833230,"body":"<p>Try re-installing <code>react-native-pip-android</code> and remove any changes made in <code>android/MainActivity</code> before.</p>\n<p>Add this snippet in <code>MainActivity.java</code> to be able to listen to the changes:</p>\n<pre><code>import com.reactnativepipandroid.PipAndroidModule;\nimport android.content.res.Configuration;\n\n@Override\npublic void onPictureInPictureModeChanged (boolean isInPictureInPictureMode, Configuration newConfig) {\n    PipAndroidModule.pipModeChanged(isInPictureInPictureMode);\n}\n</code></pre>\n<p>Build the project after the above change.</p>\n<p><em><strong>Note:</strong></em> Inside <code>build.gradle</code> you need to set the minimum sdk version to <strong>24</strong>. PIP in android is supported from <strong>API level 24</strong>.</p>\n<pre><code>buildscript {\n    ext {\n         minSdkVersion = 24\n    }\n}\n</code></pre>\n<p><strong>React Native Implementation</strong></p>\n<pre><code>import PipHandler, { usePipModeListener } from 'react-native-pip-android';\n\nexport default function App() {\n  // Use this boolean to show / hide ui when pip mode changes\n  const inPipMode = usePipModeListener();\n\n  if (inPipMode) {\n    return (\n      &lt;View style={styles.container}&gt;\n        &lt;Text&gt;PIP Mode&lt;/Text&gt;\n      &lt;/View&gt;\n    );\n  }\n\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;Text style={styles.text}&gt;\n        These text components will be hidden in pip mode\n      &lt;/Text&gt;\n      &lt;TouchableOpacity\n        onPress={() =&gt; PipHandler.enterPipMode(300, 214)}\n        style={styles.box}&gt;\n        &lt;Text&gt;Click to Enter Pip Mode&lt;/Text&gt;\n      &lt;/TouchableOpacity&gt;\n    &lt;/View&gt;\n  );\n}\n</code></pre>\n"}],"last_activity_date":1684471863,"question_id":74673798,"body":"<p>I need to implement PIP mode using react native, but it should update date every second while user enters in PIP mode.</p>\n<p>I tried using following packages but not worked:\n<a href=\"https://www.npmjs.com/package/react-native-pip-android\" rel=\"nofollow noreferrer\">react-native-pip-android</a>\n<a href=\"https://www.npmjs.com/package/react-native-picture-in-picture\" rel=\"nofollow noreferrer\">react-native-picture-in-picture</a></p>\n"},{"last_activity_date":1684470747,"question_id":76285883,"body":"<p>I added below configurations but this error occurred how to solve it guys</p>\n<p><a href=\"https://i.stack.imgur.com/0ODH7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ODH7.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/q4anx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q4anx.png\" alt=\"enter image description here\" /></a></p>\n<p>I setup the maven configurations and also set the jdk version there, I tried several ways but couldn't resolve.</p>\n"},{"last_activity_date":1684470617,"question_id":76285949,"body":"<p>Whenever i'm using the Robot function in the child class this exception occures <code>[Exception AWTException is not compatible with throws clause in basic_methods.main(String[])]</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package Window_Handling;\n\nimport java.awt.AWTException;\nimport java.awt.Robot;\n\nimport org.openqa.selenium.interactions.Actions;\n\nimport base_methods.basic_methods;\n\npublic class window_handling_Robot_notes extends basic_methods {\n\n    public static void main(String[] args) throws AWTException {\n        browserLaunch(&quot;chrome&quot;);\n        urlGo(&quot;https://demo.nopcommerce.com/&quot;);\n        Actions mouse = new Actions(driver);  \n        \n        Robot Keyboard = new Robot();\n\n    }\n\n}\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134525524,"body":"Thank you very much, indeed, it was a matter of putting it in the main thread. Thank you seriously, I&#39;ve been killing my head for hours"}],"answer_id":76286009,"body":"<p>Have you tried to draw polyline on <code>Main</code> or <code>UI</code> thread?\nTry drawing it on main thread and check if API call response is happening on the background thread.</p>\n<p>If it is, then simply put <code>polyline</code> code into the main thread and you'll get it working perfectly!</p>\n"}],"last_activity_date":1684470573,"question_id":76285792,"body":"<p>I have the following code, which has the purpose of showing the route between a point 'A' and a point 'B', the initial point 'A' is originated by the current location of the device, while the point 'B' is generated when the user touches a point other than the starting point on the map, I clarify it is a MapView. But the problem is that when using the button responsible for generating the route between both points, it is not displayed / shown on the screen. The strange thing is that when checking my Cloud, if the Directions usage count goes up with each attempt to use the button, at this point I have no idea what it could be, I hope someone can help me, thanks.</p>\n<p>PS: I speak Spanish but I translated this with a translator, sorry if there is a spelling mistake</p>\n<p>Implementations of my build.gradle file (Some are from other activities, ignore):</p>\n<pre><code>implementation 'com.google.android.gms:play-services-maps:18.1.0'\nimplementation 'com.google.android.gms:play-services-location:21.0.1'\nimplementation 'com.google.maps:google-maps-services:0.17.0'\nimplementation 'com.google.maps.android:android-maps-utils:2.2.0'\nimplementation &quot;com.squareup.retrofit2:retrofit:2.9.0&quot;\nimplementation &quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;\n</code></pre>\n<p>XML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;fragment xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:map=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/map&quot;\n    android:name=&quot;com.google.android.gms.maps.SupportMapFragment&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.RutaLocal&quot;&gt;\n\n    &lt;com.google.android.material.button.MaterialButton\n        android:id=&quot;@+id/btnRuta&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_gravity=&quot;center|bottom&quot;\n        android:layout_marginBottom=&quot;60dp&quot;\n        android:text=&quot;@string/calcular_ruta&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:textStyle=&quot;bold&quot;/&gt;\n&lt;/fragment&gt;\n</code></pre>\n<p>Manifest (permissions and API KEY):</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n\n    &lt;meta-data\n        android:name=&quot;com.google.android.geo.API_KEY&quot;\n        android:value=&quot;Here is my api key, but obviously it is not possible for me to show it&quot;/&gt;\n</code></pre>\n<p>Class:</p>\n<pre><code>package com.example.mapa;\n\nimport android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.fragment.app.FragmentActivity;\n\nimport com.example.mapa.databinding.RutaLocalBinding;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.Marker;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.maps.model.Polyline;\nimport com.google.android.gms.maps.model.PolylineOptions;\nimport com.google.maps.DirectionsApi;\nimport com.google.maps.DirectionsApiRequest;\nimport com.google.maps.GeoApiContext;\nimport com.google.maps.PendingResult;\nimport com.google.maps.android.PolyUtil;\nimport com.google.maps.model.DirectionsResult;\nimport com.google.maps.model.DirectionsRoute;\nimport com.google.maps.model.DirectionsStep;\nimport com.google.maps.model.TravelMode;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class RutaLocal extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    private RutaLocalBinding binding;\n    private FusedLocationProviderClient fusedLocationProviderClient;\n    private Polyline routePolyline;\n    private List&lt;Marker&gt; markers = new ArrayList&lt;&gt;();\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = RutaLocalBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        Button btnRuta = binding.btnRuta;\n        btnRuta.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                LatLng currentLocation = getCurrentLocation();\n                LatLng destination = getDestinationLocation();\n\n                if (currentLocation != null &amp;&amp; destination != null) {\n                    getDirections(currentLocation, destination);\n                } else {\n                    Toast.makeText(RutaLocal.this, &quot;No hay puntos&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        });\n\n        if (ContextCompat.checkSelfPermission(RutaLocal.this, Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(RutaLocal.this, new String[]{\n                    Manifest.permission.ACCESS_FINE_LOCATION\n            }, 100);\n        }\n\n        if (ContextCompat.checkSelfPermission(RutaLocal.this, Manifest.permission.ACCESS_COARSE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(RutaLocal.this, new String[]{\n                    Manifest.permission.ACCESS_COARSE_LOCATION\n            }, 100);\n        }\n\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n    }\n\n    private LatLng getCurrentLocation() {\n        for (Marker marker : markers) {\n            if (marker.getTitle().equals(&quot;Ubicación actual&quot;)) {\n                return marker.getPosition();\n            }\n        }\n        return null;\n    }\n\n    private LatLng getDestinationLocation() {\n        for (Marker marker : markers) {\n            if (marker.getTitle().equals(&quot;Destino&quot;)) {\n                return marker.getPosition();\n            }\n        }\n        return null;\n    }\n\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling ActivityCompat#requestPermissions\n\n            return;\n        }\n        fusedLocationProviderClient.getLastLocation()\n                .addOnSuccessListener(this, location -&gt; {\n                    if (location != null) {\n\n                        double latitude = location.getLatitude();\n                        double longitude = location.getLongitude();\n\n                        LatLng currentLocation = new LatLng(latitude, longitude);\n                        mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;Ubicación actual&quot;));\n                        mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(currentLocation, 15));\n\n                        mMap.setOnMapClickListener(new GoogleMap.OnMapClickListener() {\n                            @Override\n                            public void onMapClick(LatLng point) {\n                                mMap.clear();\n                                markers.clear();\n                                LatLng currentLocation = new LatLng(latitude, longitude);\n                                Marker currentMarker = mMap.addMarker(new MarkerOptions().position(currentLocation).title(&quot;Ubicación actual&quot;));\n                                markers.add(currentMarker);\n                                Marker destinationMarker = mMap.addMarker(new MarkerOptions().position(point).title(&quot;Destino&quot;));\n                                markers.add(destinationMarker);\n                                getDirections(currentLocation, point);\n                            }\n                        });\n                    }\n                });\n    }\n\n    private void getDirections(LatLng origin, LatLng destination) {\n\n        GeoApiContext context = new GeoApiContext.Builder()\n                .apiKey(&quot;API Key, again&quot;)\n                .build();\n\n        DirectionsApiRequest request = DirectionsApi.newRequest(context)\n                .mode(TravelMode.DRIVING)\n                .origin(new com.google.maps.model.LatLng(origin.latitude, origin.longitude))\n                .destination(new com.google.maps.model.LatLng(destination.latitude, destination.longitude));\n\n        request.setCallback(new PendingResult.Callback&lt;DirectionsResult&gt;() {\n            @Override\n            public void onResult(DirectionsResult result) {\n                if (routePolyline != null) {\n                    routePolyline.remove();\n                }\n\n                DirectionsRoute route = result.routes[0];\n                List&lt;LatLng&gt; points = new ArrayList&lt;&gt;();\n                for (DirectionsStep step : route.legs[0].steps) {\n                    points.add(new LatLng(\n                            step.startLocation.lat,\n                            step.startLocation.lng\n                    ));\n                }\n\n                PolylineOptions polylineOptions = new PolylineOptions()\n                        .addAll(points)\n                        .color(Color.BLUE)\n                        .width(5);\n                routePolyline = mMap.addPolyline(polylineOptions);\n            }\n\n            @Override\n            public void onFailure(Throwable e) {\n\n            }\n        });\n\n    }\n}\n</code></pre>\n<p>As I said before, I don't know the reason why it doesn't show me the polyline, I even tried to add Logs to validate in LogCat if the button was calling the appropriate method and if the rest of the methods worked correctly, everything normal</p>\n"},{"comments":[{"comment_id":129882907,"body":"Relevant: <a href=\"https://stackoverflow.com/questions/69402824\">stackoverflow.com/questions/69402824</a>"}],"answers":[{"answer_id":73545335,"body":"<p>This option was completely removed between Java 11 and Java 17. If you want to use Java 17 or later you <strong>must</strong> remove <code>MaxPermSize=512m</code> - the JVM will plainly refuse to start if that option is present .</p>\n<p>Please note that already with Java 8 this option no longer had any effect and can therefore be safely removed even for Java 8. (<a href=\"https://docs.oracle.com/javase/9/migrate/\" rel=\"noreferrer\">https://docs.oracle.com/javase/9/migrate/</a>)</p>\n<p>The only possible reason to keep this option in some configurations is if you still must support Java 7. But Java 7 is so much outdated that IMHO it is questionable if any time spent supporting Java 7 is time well spent.</p>\n"},{"answer_id":74215018,"body":"<p>The option seems to be decommissioned.\nYou can add to the command line which starts your app a flag -XX:+IgnoreUnrecognizedVMOptions. In this case, JVM will ignore all unrecognized flags.</p>\n"}],"last_activity_date":1684470390,"question_id":73545053,"body":"<p>I tried to run react native app with this command.</p>\n<pre><code>npx react-native run-android --variant=stagingDebug --appId com.xx_staging\n</code></pre>\n<p>But I am getting this error message. I want to <strong>run multiple java versions on my machine</strong>. How can I do that? Also I don't want to change the <strong>MaxPermSize=512m</strong>. I want to keep <strong>MaxPermSize=512m</strong> as it is.</p>\n<pre><code>npm WARN config global `--global`, `--local` are deprecated. Use `--location=global` instead.\ninfo Running jetifier to migrate libraries to AndroidX. You can disable it using &quot;--no-jetifier&quot; flag.\nJetifier found 2228 file(s) to forward-jetify. Using 4 workers...\ninfo Starting JS server...\n'&quot;adb&quot;' is not recognized as an internal or external command,\noperable program or batch file.\ninfo Launching emulator...\nerror Failed to launch emulator. Reason: No emulators found as an output of `emulator -list-avds`.\nwarn Please launch an emulator manually or connect a device. Otherwise app may fail to launch.\ninfo Installing the app...\nStarting a Gradle Daemon (subsequent builds will be faster)\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.7/userguide/gradle_daemon.html\nProcess command line: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\rbza9\\.gradle\\wrapper\\dists\\gradle-6.7-all\\cuy9mc7upwgwgeb72wkcrupxe\\gradle-6.7\\lib\\gradle-launcher-6.7.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.7\nPlease read the following process output to find out more:\n-----------------------\nUnrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installStagingDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nUnable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/6.7/userguide/gradle_daemon.html\nProcess command line: C:\\Program Files\\Java\\jdk-18.0.2.1\\bin\\java.exe -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError --add-opens java.base/java.util=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.lang.invoke=ALL-UNNAMED --add-opens java.prefs/java.util.prefs=ALL-UNNAMED -Xmx2048m -Dfile.encoding=UTF-8 -Duser.country=US -Duser.language=en -Duser.variant -cp C:\\Users\\rbza9\\.gradle\\wrapper\\dists\\gradle-6.7-all\\cuy9mc7upwgwgeb72wkcrupxe\\gradle-6.7\\lib\\gradle-launcher-6.7.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 6.7\nPlease read the following process output to find out more:\n-----------------------\nUnrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\n    at makeError (F:\\test\\xx\\node_modules\\execa\\index.js:174:9)\n    at F:\\test\\xx\\node_modules\\execa\\index.js:278:16\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runOnAllDevices (F:\\test\\xx\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:109:5)\n    at async Command.handleAction (F:\\test\\xx\\node_modules\\@react-native-community\\cli\\build\\index.js:192:9)\ninfo Run CLI with --verbose flag for more details.\n</code></pre>\n<p>How can I fix this error?</p>\n"},{"comments":[{"comment_id":126940005,"body":"Did you ever find a solution? I&#39;m running into this now."},{"comment_id":126946062,"body":"Yes , Jdk 17 had some problem and I downgraded the jdk"},{"comment_id":134525179,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/73545053/unrecognized-vm-option-maxpermsize-512m-and-could-not-create-the-java-virtual\">Unrecognized VM option &#39;MaxPermSize=512m&#39; and Could not create the Java Virtual Machine when running React Native Apps (closed)</a>"}],"last_activity_date":1684470303,"question_id":70929615,"body":"<p>I'm facing this issue while running react native.</p>\n<pre><code>Unrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n<p>My system java version is ,</p>\n<pre><code>Java version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n</code></pre>\n<p>Without changing the version How do I run the react native app</p>\n"},{"comments":[{"comment_id":59621404,"body":"Take a look at my solution below."}],"answers":[{"answer_id":35984161,"body":"<p>There are a few ways to do it. You can keep a list of BufferedImages as your layers of images and render them accordingly:</p>\n<pre><code>class AdvancePaint extends JPanel{\n    ArrayList&lt;BufferedImage&gt; layers;\n    //Other constructors, variables, initializations not shown\n    \n    AdvancePaint(){\n        layers = new ArrayList&lt;BufferedImage&gt;();\n    }\n\n    public void addLayer(BufferedImage layer){\n        layers.add(layer);\n    }\n\n    @Override\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        for(BufferedImage buf : layers)  //render all layers\n            g.drawImage(buf, 0, 0, width, height, null);\n    }\n}\n</code></pre>\n<p>The above codes will render the BufferedImage from the list in accordance to the order they are added to the list. If you do not want to paint all layers on every repaint, you can always add another <code>draw(Graphics g)</code> method which you can pick the layers to be drawn onto another BufferedImage. Then only draw this BufferedImage on <code>paintComponent(g)</code>.</p>\n<p>Since the layers are stored as a <code>Collection</code>, you can always change their rendering order by sorting them or changing their position in the list.</p>\n<p>You can always tweak on the minor details from my example to customize what you need.</p>\n<hr />\n<p><strong>To add a Layer:</strong></p>\n<pre><code>BufferedImage layer = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\nadvancePaint.addLayer(layer);\n</code></pre>\n<p>Using <code>BufferedImage.TYPE_INT_ARGB</code>, the background will be transparent, hence other layers will be able to &quot;shine through&quot;.</p>\n"}],"last_activity_date":1684470046,"question_id":35974972,"body":"<p>Is it possible to have multiple independent drawing layers using <code>Graphics</code>? I actually need two layers (like in Photoshop, Gimp, Paint.NET, ...) on which I can draw objects and I want all objects of the top layer appear above all objects of the bottom layer, independent of the order in which objects are drawn. It is not the case that I can first draw all objects of one layer and then draw all objects of the other.</p>\n\n<p>Example: </p>\n\n<ol>\n<li>draw red filled circle on bottom layer</li>\n<li>draw green rectangle on top layer</li>\n<li>draw red filled rectangle on bottom layer</li>\n<li>draw green circle on top layer</li>\n</ol>\n\n<p>Desired result: the two empty green objects should be rendered above the two filled red objects.</p>\n\n<p>I fiddled around using <code>JLayeredPane</code> and <code>Canvas</code> and the closest I could get was a <code>Canvas</code> on top of a <code>JComponent</code> but unfortunately the <code>Canvas</code> background cannot be transparent, so everything that is drawn in the <code>JComponent</code> is covered by the <code>Canvas</code> background.</p>\n\n<p>Can you tell me how to achieve this (if it's possible after all)?</p>\n"},{"answers":[{"answer_id":76172992,"body":"<p>You must annotate the <code>User</code> class with <a href=\"https://javadoc.io/doc/jakarta.persistence/jakarta.persistence-api/latest/jakarta.persistence/jakarta/persistence/MappedSuperclass.html\" rel=\"nofollow noreferrer\"><code>@MappedSuperclass</code></a></p>\n<p>So you <code>User</code> class should be.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.entity;\n\nimport java.time.LocalDate;\nimport java.time.Period;\n\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.MappedSuperclass;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Transient;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@RequiredArgsConstructor\n@NoArgsConstructor\n@MappedSuperclass\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private String id;\n    @NonNull private String name;\n    @NonNull private String email;\n    @NonNull private LocalDate dob;\n    @Transient @NonNull private Integer age;\n\n    public Integer getAge() {\n        return Period.between(this.dob, LocalDate.now()).getYears();\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684468813,"question_id":76172785,"body":"<p>I am getting <code>org.apache.maven.plugin.MojoExecutionException</code> error when I run my application and I have checked <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a> but I couldn't figure out the problem</p>\n<p>The error that I am getting</p>\n<pre><code>[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:run (default-cli) on project demo: Process terminated with exit code: 1 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.2:run (default-cli) on project demo: Process terminated with exit code: 1\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Process terminated with exit code: 1\n    at org.springframework.boot.maven.JavaProcessExecutor.run (JavaProcessExecutor.java:74)\n    at org.springframework.boot.maven.RunMojo.run (RunMojo.java:68)\n    at org.springframework.boot.maven.AbstractRunMojo.run (AbstractRunMojo.java:218)\n    at org.springframework.boot.maven.AbstractRunMojo.execute (AbstractRunMojo.java:205)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:957)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:289)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:193)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n</code></pre>\n<p>I have 2 entities. One is student other one is teacher. But class atributes are the some. Thefore, I wanted to create a common class and extend common class with Student and Teacher classes. My classes are as below;</p>\n<p>NOTE: For the first step I only made the changes on the <code>Student.java</code> class</p>\n<p><code>Student.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.entity;\n\nimport java.time.LocalDate;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.JoinTable;\nimport jakarta.persistence.ManyToMany;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Entity\n@Table(name = &quot;Student&quot;)\n@ToString\n@NoArgsConstructor\npublic class Student extends User {\n\n    public Student(String name, String email, LocalDate dob) {\n        setName(name);\n        setEmail(email);\n        setDob(dob);\n    }\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;enrolled&quot;, \n        joinColumns = @JoinColumn(name = &quot;student_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;)\n    )\n    @Getter @Setter \n    @JsonIgnore\n    private Set&lt;Course&gt; enrolledCourses = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p><code>User.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.entity;\n\nimport java.time.LocalDate;\nimport java.time.Period;\n\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Transient;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.NonNull;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@RequiredArgsConstructor\n@NoArgsConstructor\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private String id;\n    @NonNull private String name;\n    @NonNull private String email;\n    @NonNull private LocalDate dob;\n    @Transient @NonNull private Integer age;\n\n    public Integer getAge() {\n        return Period.between(this.dob, LocalDate.now()).getYears();\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134508714,"body":"<a href=\"https://stackoverflow.com/questions/59919046/java-13-eclipse-java-lang-module-findexception-module-abalonegame-not-found\" title=\"java 13 eclipse java lang module findexception module abalonegame not found\">stackoverflow.com/questions/59919046/&hellip;</a>"}],"answers":[{"comments":[{"comment_id":134509472,"body":"My original project was already using Maven, and like you said making a new one did work; I did post a response to my question since I hadn&#39;t seen yours saying copying the general project file made it work but not the original"}],"answer_id":76276602,"body":"<p>You are using Idea, create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project</a>.  I advise selecting Maven as the build tool when you do so.  Then your module will be found with no problem.</p>\n<p>Also, ensure that you are using the most recent stable versions of Maven and Idea as earlier versions may not have as high a quality integration with and understanding of the Java module system.</p>\n<p>Further info is in the answer to:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/74764217/error-javafx-runtime-components-are-missing-with-intellij-idea-maven-and-jdk\">Error: JavaFX runtime components are missing, with IntelliJ Idea, Maven and JDK 19</a></li>\n</ul>\n"},{"comments":[{"comment_id":134509503,"body":"You already have a &quot;real solution&quot;.  If you are asking why your original project did not function as you expect, who can say?  There is not enough information provided to answer that, and likely it isn&#39;t worth answering in any case.  If you want to understand the module system in general so you can further debug it yourself, there are <a href=\"https://jenkov.com/tutorials/java/modules.html\" rel=\"nofollow noreferrer\">tutorials for that</a>."},{"comment_id":134509565,"body":"@jewelsea Yeah I&#39;m aware that it probably won&#39;t get an answer/isn&#39;t worth the time, thanks for your time tho."},{"comment_id":134511161,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76276614/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76276614,"body":"<p>Alright so I'm responding cuz I got it to &quot;work&quot;. I copied the project and ran the copy which actually works, just the original doesn't. If anyone finds the &quot;real&quot; solution would be great to know.</p>\n"}],"last_activity_date":1684468622,"question_id":76276226,"body":"<p>I receive the error :</p>\n<pre><code>java.lang.module.FindException: Module com.example.test not found\n\nProcess finished with exit code 1\n</code></pre>\n<p>I have been looking for a solution myself but have not been able to find one as either they didn't apply/work. I noticed there were mentioning changing --module-path in the VM Options but this (--module-path) was nowhere in my VM options(I haven't touched VM options ever)</p>\n<p>Under my java files and next to the folder com.example.test there is module-info.java which is just:</p>\n<pre><code>module com.example.test {\nrequires javafx.controls;\nrequires javafx.fxml;\nrequires java.desktop;\n\n    opens com.example.test to javafx.fxml;\n    exports com.example.test;\n\n}\n</code></pre>\n<p>I'm not sure why it isn't working, It was working earlier in the morning on my current PC, I was able to run it at school on the school pc and a friend's laptop but now I'm getting this error instead.</p>\n<p>Thanks in advance.</p>\n"},{"comments":[{"comment_id":134521933,"body":"Watch your code formatting. I fixed your today by wrapping in a pair of triple back-ticks."},{"comment_id":134522061,"body":"What <i>exactly</i> is returned by <code>products.get(i).getImageURL()</code>? Put that return value in a declared local variable to prove its type."},{"comment_id":134523262,"body":"Please <a href=\"https://stackoverflow.com/posts/76284097/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"answer_id":76284190,"body":"<h1><code>new Image( …URL…</code></h1>\n<p>Just pass your URL as a string to the constructor.</p>\n<p>To quote <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\">the Javadoc</a>:</p>\n<pre><code>Image image3 = new Image(&quot;http://sample.com/res/flower.png&quot;, 100, 0, false, false);\n</code></pre>\n<h2>Example code</h2>\n<p>I cobbled together a crude little demo.</p>\n<p>We define a list of a few URLs, as <code>String</code> objects. For each URL string, we instantiate an <code>ImageView</code> object. To each we give an <code>Image</code> object where the image came from over the internet via the URL string passed to its constructor.</p>\n<p><a href=\"https://i.stack.imgur.com/FrGFM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FrGFM.jpg\" alt=\"screenshot of example app with 3 ImageView objects, each assigned an Image object where the image file was obtained via a string URL over the internets\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.imagesex;\n\nimport javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.layout.FlowPane;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.List;\n\npublic class HelloApplication extends Application\n{\n    @Override\n    public void start ( Stage stage ) throws IOException\n    {\n        Scene scene = new Scene ( this.makeImagesPane ( ) , 800 , 300 );\n        stage.setTitle ( &quot;Example of images from the Web&quot; );\n        stage.setScene ( scene );\n        stage.show ( );\n    }\n\n    public FlowPane makeImagesPane ( )\n    {\n        FlowPane flow = new FlowPane ( );\n        flow.setPadding ( new Insets ( 5 , 0 , 5 , 0 ) );\n        flow.setVgap ( 4 );\n        flow.setHgap ( 4 );\n\n        List &lt; String &gt; urls =\n                List.of (\n                        &quot;https://upload.wikimedia.org/wikipedia/commons/thumb/8/8f/Wikimedia_Hackathon_Prague_2019_-_Group_Photo_-_CLK_-_cropped.jpg/320px-Wikimedia_Hackathon_Prague_2019_-_Group_Photo_-_CLK_-_cropped.jpg&quot; ,\n                        // https://commons.wikimedia.org/wiki/File:Wikimedia_Hackathon_Prague_2019_-_Group_Photo_-_CLK_-_cropped.jpg\n                        &quot;https://upload.wikimedia.org/wikipedia/commons/b/bb/Apollo_10_Lunar_Module.jpg&quot; ,\n                        // https://commons.wikimedia.org/wiki/File:Apollo_10_Lunar_Module.jpg\n                        &quot;https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Kumquat_from_Spain.jpg/320px-Kumquat_from_Spain.jpg&quot;\n                        // https://en.wikipedia.org/wiki/File:Kumquat_from_Spain.jpg\n                );\n        for ( String url : urls )\n        {\n            ImageView imageView = new ImageView ( );\n            imageView.setFitHeight ( 250 );\n            imageView.setFitWidth ( 250 );\n            imageView.setImage ( new Image ( url ) );\n            flow.getChildren ( ).add ( imageView );\n        }\n\n        return flow;\n    }\n\n    public static void main ( String[] args )\n    {\n        launch ( );\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684468495,"question_id":76284097,"body":"<p>I have a list of &quot;Product&quot; items that I fetch to show on my JavaFX screen, which contains a list of Images, Labels, and so on to represent the products. The product class contains a String URL which is basically the link to an image on the web.</p>\n<p>I found that it works fine in SceneBuilder, as I can enter the image URL in the &quot;Image&quot; property, like this, and it shows up:</p>\n<p><img src=\"https://i.stack.imgur.com/AE2Cs.png\" alt=\"enter image description here\" /></p>\n<p>In my code, when I want to change this URL, I'm doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(i=0;i&lt;products.size();i++) {\n    productsToDisplay.add(products.get(i));\n    productImages.get(i).imageProperty().set(new Image(products.get(i).getImageURL())); \n}\n</code></pre>\n<p>But the image doesn't show up. Any help would really be appreciated.</p>\n"},{"last_activity_date":1684468086,"question_id":76285880,"body":"<p>we hosting an application(nodejs(frontend)+ java(backend)) on azure kubernetes service with F5 load balancer in front. we have some API calls at node js layer. All the GET api calls succeded, but POST fails with invalid csrf token error which can i see on browser, in  nodejs side i can see that it doesnt make the POST call, it fails before making the call.</p>\n<p>However without F5 loadbalancer this error never occurs.</p>\n<p>I have validated _csrf and XSRF_TOKEN token on cookie, both GET and POST the request they seems to be same.</p>\n"},{"comments":[{"comment_id":134514103,"body":"publish and download javadoc/and or sources for your library."},{"comment_id":134514122,"body":"Can you please elaborate? I&#39;m new to this :)"},{"comment_id":134514124,"body":"You need to generate sources and javadoc. This <a href=\"https://stackoverflow.com/questions/4725668/how-to-deploy-snapshot-with-sources-and-javadoc\">question</a> should help with the required configuration for maven. If you have generated them, just download as mentioned in the other comment."},{"comment_id":134515058,"body":"The subject doesn&#39;t make sense and doesn&#39;t seem related to the issue."}],"last_activity_date":1684467860,"question_id":76279604,"body":"<p>I have an Interface and a Class that implements it in a Project (say Project1):</p>\n<pre><code>public interface MainInterface {\n    /**\n     * some description goes here\n     * @param foo\n     * @param bar\n     * @param ufo\n     */\n    void someAbstractMethod(int foo, int bar, int ufo);\n}\n</code></pre>\n<pre><code>public class MainInterfaceImpl implements MainInterface {\n    @Override\n    public void someAbstractMethod(int foo, int bar, int ufo) {\n        //blah blah\n    }   \n}\n</code></pre>\n<p>I have built this project using maven and using it as a dependency in another Project(say Project2), In Project 2, I am trying to create an object like this:</p>\n<p>[![Implementation in project 2][1]][1]</p>\n<p>Its losing the variable names, Is there a way I can persist the variable names? I think this is achievable since all the methods of java.util.List interface have their argument names intact.</p>\n<p>[![List interface implementation][2]][2]</p>\n<p>What am I missing here?\n[1]: <a href=\"https://i.stack.imgur.com/9yfty.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/9yfty.png</a>\n[2]: <a href=\"https://i.stack.imgur.com/NPCdP.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/NPCdP.png</a></p>\n<p>P.S: I don't really understand how this image attachment works with stackoverflow, please feel free to edit the question to keep the images in-line.</p>\n"},{"comments":[{"comment_id":134513994,"body":"The code should be part of the question as text (not as image) so that others can copy and adapt it to answer your question"}],"last_activity_date":1684467524,"question_id":76278836,"body":"<p>recently,my code connot connct mail,protel=pop3\nIt used to be normal，bad is recently\nconnect error,but username,password is right,it donot change\nrecently The mail client also encountered this issue\n<a href=\"https://i.stack.imgur.com/wl9wi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/vAQcP.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Have you met anyone recently?\nI encountered a problem there：store.connect(host,995,user,passwd)</p>\n<pre><code> public  Store getMailStore(String host, String user, String passwd, \n    boolean ifSSL, int protocol) {\n        Store store=null;\n        if (protocol == 1) {\n            if (ifSSL) {\n                Properties properties = System.getProperties();\n                properties.setProperty(&quot;mail.pop3.socketFactory.fallback&quot;, &quot;false&quot;);\n                properties.setProperty(&quot;mail.pop3.port&quot;, &quot;995&quot;);\n                properties.setProperty(&quot;mail.pop3.socketFactory.port&quot;, &quot;995&quot;);\n                //        建立链接时间\n                properties.setProperty(&quot;mail.pop3.connectiontimeout&quot;, &quot;30000&quot;);\n                //        读取邮件时间\n                properties.setProperty(&quot;mail.pop3.timeout&quot;, &quot;30000&quot;);\n                //        发送时间时间\n                properties.setProperty(&quot;mail.pop3.writetimeout&quot;, &quot;30000&quot;);\n\n                URLName url = new URLName(&quot;pop3&quot;, host, 995, null, user, passwd);\n                Session session = Session.getDefaultInstance(properties, null);\n                store = new POP3SSLStore(session, url);\n\n\n                int con=0;\n\n                do {\n                    log.info(&quot;邮箱开始begin。&quot;);\n                    SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n                    // new Date()为获取当前系统时间\n                    log.info(&quot;链接邮箱时间&quot;+df.format(new Date()));\n                    try {\n                        store.connect(host,995,user,passwd);\n                    } catch (Exception e) {\n                        log.info(&quot;登录邮箱失败,准备再试！&quot;);\n                        try {\n                            Thread.sleep(10000);\n                        } catch (InterruptedException ex) {\n                            throw new RuntimeException(ex);\n                        }\n                    }\n                    log.info(&quot;邮件链接状态：==============================&quot;+store.isConnected());\n                    if (store.isConnected()){\n                        // new Date()为获取当前系统时间\n                        log.info(&quot;登录邮箱成功时间&quot;+df.format(new Date()));\n\n                        break;\n                    }\n                    con++;\n\n                } while (con&lt;=5);\n            } else {\n                // 获取默认会话\n                Properties prop = new Properties();\n                Session session = Session.getDefaultInstance(prop, null);\n                log.info(&quot;准备邮箱链接实例&quot;);\n                try {\n                    store = session.getStore(&quot;pop3&quot;);\n                    log.info(&quot;登录邮箱成功。&quot;);\n                    store.connect(host, user, passwd);\n                    log.info(&quot;登录邮箱成功。&quot;);\n                } catch (MessagingException e) {\n                    throw new RuntimeException(e);\n                }\n\n            }\n        }\n//        走imap\n        else  if ( protocol == 2) {\n            if (ifSSL) {\n                String PROTOCOL = &quot;imap&quot;;\n                Integer port = 993;\n                String sslFactory = &quot;javax.net.ssl.SSLSocketFactory&quot;;\n                Properties props = new Properties();\n                props.setProperty(&quot;mail.store.protocol&quot;, PROTOCOL);\n                props.setProperty(&quot;mail.imap.host&quot;, host);\n                props.setProperty(&quot;mail.imap.port&quot;, &quot;993&quot;);\n                props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.socketFactory.class&quot;, sslFactory);\n\n\n                props.setProperty(&quot;mail.imap.auth&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.auth.plain.disable&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.auth.ntlm.disable&quot;, &quot;true&quot;);\n                props.setProperty(&quot;mail.imap.auth.gssapi.disable&quot;, &quot;true&quot;);\n\n\n//                ================================================================================================\n                // SSL 需要这三行\n//                props.setProperty(&quot;mail.imap.socketFactory.port&quot;, &quot;993&quot;);\n//                props.setProperty(&quot;mail.debug&quot;, &quot;true&quot;);\n\n                //        props.put(&quot;mail.imap.auth&quot;, true);\n                //        props.put(&quot;mail.imap.auth.plain.disable&quot;, true);\n                //        props.put(&quot;mail.imap.auth.ntlm.disable&quot;, true);\n                //        props.put(&quot;mail.imap.auth.gssapi.disable&quot;, true);\n\n                // SSL安全连接参数\n//                props .setProperty(&quot;mail.pop3.socketFactory.fallback&quot;, &quot;false&quot;);\n\n//                Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\n//                props.setProperty(&quot;mail.pop3.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\n//                URLName url = new URLName(&quot;pop3&quot;, host, 995, null, user, passwd);\n\n\n//            MailSSLSocketFactory sf = new MailSSLSocketFactory();\n//            sf.setTrustAllHosts(true);\n//            props.put(&quot;mail.smtp.ssl.socketFactory&quot;, sf);\n\n                // 创建Session实例对象\n                try {\n                    Session session = Session.getInstance(props);\n                    // 创建IMAP协议的Store对象\n                    store = session.getStore(PROTOCOL);\n                    // 连接邮件服务器\n                    store.connect(user, passwd);\n                    log.info(&quot;登录邮箱成功。&quot;);\n                } catch (MessagingException e) {\n                    throw new RuntimeException(e);\n                }\n\n            }\n\n\n        }\n        return  store;\n\n    }\n</code></pre>\n"},{"comments":[{"comment_id":134500005,"body":"Can&#39;t you use 2 ImageViews one over the other. One with solid background color which can change dynamically at run time and the other ImageView with a drawable that you can set the visibility to visible/non-visible?"},{"comment_id":134500488,"body":"@Lakshmi, yes, even I thought of that, and I guess that would work (I guess I&#39;d have to change that Z-index attribute to hide the <code>ImageView</code>s below each other). But I doubt if having 2 <code>ImageView</code>s for every 1 would be efficient, as the XML has many like these two. I mean, there must be some way to change the same <code>ImageView</code>&#39;s properties to show/hide <i>only</i> the background or the image, no? I thought you could change some XML attributes, etc., to create some kind of XML style/class which I can use instead of the <code>ImageView</code>; or some Java code to manipulate the same view."},{"comment_id":134503219,"body":"Explore LayerDrawable class. It says it can be defined in an XML file with the &lt;layer-list&gt; element. Each Drawable in the layer is defined in a nested &lt;item&gt;.  I think you can define different layers and that is the solution to your problem. Check this link for more information. <a href=\"https://medium.com/@akashjha/multiimageview-with-layerlist-ebb16a0850af\" rel=\"nofollow noreferrer\">medium.com/@akashjha/multiimageview-with-layerlist-ebb16a085&zwnj;&#8203;0af</a>"},{"comment_id":134507288,"body":"@Lakshmi, thanks for the information; I&#39;ll try it. But again, I&#39;m not sure if adding another element is needed or efficient. The code in the website you linked looks simple and easy to implement, but again, it&#39;s <i>not the same View</i>."},{"comment_id":134515462,"body":"Can&#39;t you use <b>imageView.setBackgroundColor(Color.RED);</b> and      <b>imageView.setImageResource(R.drawable.your_drawable);</b>"},{"comment_id":134539879,"body":"don&#39;t search for show/hide the imageView background but search for image placeholders you can easily achieve this using somethings like Picasso or glide. or you can use <a href=\"https://stackoverflow.com/questions/46192545/how-to-put-new-placeholder-resources-into-android-studio-project-toolssample\" title=\"how to put new placeholder resources into android studio project toolssample\">stackoverflow.com/questions/46192545/&hellip;</a>"},{"comment_id":134540142,"body":"@NiranjPatel, no, they produce weird results."},{"comment_id":134540181,"body":"@PouyaDanesh, but additional dependencies are needed, and they seem like heavy libraries and so not efficient, either."},{"comment_id":134546124,"body":"don&#39;t use them just search for image placeholders and you&#39;ll find your answer"},{"comment_id":134549526,"body":"@PouyaDanesh, but it still seems like it&#39;s not efficient and isn&#39;t suitable for my use case. The results I get are about the libraries and placeholder widgets."}],"answers":[{"comments":[{"comment_id":134500769,"body":"Thanks for the answer, but I&#39;m using Java (I tried converting this to Java, but it showed some error, probably because I&#39;ve not installed the dependencies). I forgot about Bitmaps, but I don&#39;t think using Google&#39;s ML Kit, etc., is needed or would be efficient, as I have to do this many times, at runtime. Wait- did you misread it as &#39;to <i>remove</i> the background from the image&#39; by chance? Sorry, but I&#39;m trying to <i>hide</i> the solid <code>background</code> color from the <i><code>ImageView</code></i> (the Android widget, not the image that is displayed in the <code>ImageView</code>)."}],"answer_id":76270758,"body":"<p>Imageview can show a bitmap as you know. You can set the bitmap by deleting the background of the relevant bitmap.</p>\n<p>Main Object</p>\n<pre><code>object BackgroundRemover {\n\n    private val segment: Segmenter\n    private var buffer = ByteBuffer.allocate(0)\n    private var width = 0\n    private var height = 0\n\n\n    init {\n        val segmentOptions = SelfieSegmenterOptions.Builder()\n            .setDetectorMode(SelfieSegmenterOptions.SINGLE_IMAGE_MODE)\n            .build()\n        segment = Segmentation.getClient(segmentOptions)\n    }\n\n\n    /**\n     * Process the image to get buffer and image height and width\n     * @param bitmap Bitmap which you want to remove background.\n     * @param trimEmptyPart After removing the background if its true it will remove the empty part of bitmap. by default its false.\n     * @param listener listener for success and failure callback.\n     **/\n    fun bitmapForProcessing(\n        bitmap: Bitmap,\n        trimEmptyPart: Boolean? = false,\n        listener: OnBackgroundChangeListener\n    ) {\n        //Generate a copy of bitmap just in case the if the bitmap is immutable.\n        val copyBitmap = bitmap.copy(Bitmap.Config.ARGB_8888, true)\n        val input = InputImage.fromBitmap(copyBitmap, 0)\n        segment.process(input)\n            .addOnSuccessListener { segmentationMask -&gt;\n                buffer = segmentationMask.buffer\n                width = segmentationMask.width\n                height = segmentationMask.height\n\n                CoroutineScope(Dispatchers.IO).launch {\n                    val time = measureTimeMillis {\n                        val resultBitmap = if (trimEmptyPart == true) {\n                            val bgRemovedBitmap = removeBackgroundFromImage(copyBitmap)\n                            trim(bgRemovedBitmap)\n                        } else {\n                            removeBackgroundFromImage(copyBitmap)\n                        }\n                        withContext(Dispatchers.Main) {\n                            listener.onSuccess(resultBitmap)\n                        }\n                    }\n                    Log.e(&quot;TAG&quot;, &quot;bitmapForProcessingTime: $time&quot;)\n                }\n\n            }\n            .addOnFailureListener { e -&gt;\n                println(&quot;Image processing failed: $e&quot;)\n                listener.onFailed(e)\n\n            }\n    }\n\n\n    /**\n     * Change the background pixels color to transparent.\n     * */\n    private suspend fun removeBackgroundFromImage(\n        image: Bitmap\n    ): Bitmap {\n        val bitmap = CoroutineScope(Dispatchers.IO).async {\n            for (y in 0 until height) {\n                for (x in 0 until width) {\n                    val bgConfidence = ((1.0 - buffer.float) * 255).toInt()\n                    if (bgConfidence &gt;= 100) {\n                        image.setHasAlpha(true)\n                        image.setPixel(x, y, 0)\n                    }\n                }\n            }\n            buffer.rewind()\n            return@async image\n        }\n        return bitmap.await()\n    }\n\n\n    /**\n     * trim the empty part of a bitmap.\n     **/\n    private suspend fun trim(\n        bitmap: Bitmap\n    ): Bitmap {\n        val result = CoroutineScope(Dispatchers.Default).async {\n            var firstX = 0\n            var firstY = 0\n            var lastX = bitmap.width\n            var lastY = bitmap.height\n            val pixels = IntArray(bitmap.width * bitmap.height)\n            bitmap.getPixels(pixels, 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)\n            loop@ for (x in 0 until bitmap.width) {\n                for (y in 0 until bitmap.height) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        firstX = x\n                        break@loop\n                    }\n                }\n            }\n            loop@ for (y in 0 until bitmap.height) {\n                for (x in firstX until bitmap.width) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        firstY = y\n                        break@loop\n                    }\n                }\n            }\n            loop@ for (x in bitmap.width - 1 downTo firstX) {\n                for (y in bitmap.height - 1 downTo firstY) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        lastX = x\n                        break@loop\n                    }\n                }\n            }\n            loop@ for (y in bitmap.height - 1 downTo firstY) {\n                for (x in bitmap.width - 1 downTo firstX) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        lastY = y\n                        break@loop\n                    }\n                }\n            }\n            return@async Bitmap.createBitmap(bitmap, firstX, firstY, lastX - firstX, lastY - firstY)\n        }\n        return result.await()\n    }\n\n}\n</code></pre>\n<p>Listener</p>\n<pre><code>interface OnBackgroundChangeListener {\n\n    fun onSuccess(bitmap: Bitmap)\n\n    fun onFailed(exception: Exception)\n\n}\n</code></pre>\n"},{"answer_id":76281055,"body":"<p>Well, it's not directly possible to work it as expected with two views, and as you said, you have multiple views like that &amp; that's why it's not memory efficient.</p>\n<p>But We can achieve that functionality using <strong><code>CustomView</code></strong> designed according to our needs.</p>\n<p><strong>If you know a little bit of <code>drawing on the canvas</code> and how it works, then it'll be easier.</strong></p>\n<p>Here, I made the custom view to achieve exactly what you want.</p>\n<pre><code>public class ImageAlphaBGView extends View {\n    private Bitmap bitmap;\n    Paint mPaint;\n    Paint mPaintBG;\n    Rect bgRect;\n\n    private int mWidth;\n    private int mHeight;\n    float centreX;\n    float centreY;\n\n    public ImageAlphaBGView(Context context) {\n        super(context);\n        init();\n    }\n\n    public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n        init();\n    }\n\n    private void init() {\n        mPaint = new Paint();\n        mPaint.setColor(Color.RED);\n        mPaint.setStyle(Paint.Style.FILL);\n        mPaint.setAntiAlias(true);\n\n        mPaintBG = new Paint();\n        mPaintBG.setColor(Color.parseColor(&quot;#000000&quot;));\n        mPaintBG.setStyle(Paint.Style.FILL);\n        mPaintBG.setAntiAlias(true);\n    }\n\n    public void setImageBitmap(Bitmap bitmap) {\n        this.bitmap = bitmap;\n        try {\n            centreX = (mWidth - bitmap.getWidth()) / 2;\n            centreY = (mHeight - bitmap.getHeight()) / 2;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        invalidate();\n    }\n\n    public void setBGColor(int color) {\n        mPaintBG.setColor(color);\n        invalidate();\n    }\n\n    public void setImageAlpha(@IntRange(from = 0, to = 255) int alpha) {\n        mPaint.setAlpha(alpha);\n        invalidate();\n    }\n\n    public void setBGAlpha(@IntRange(from = 0, to = 255) int alpha) {\n        mPaintBG.setAlpha(alpha);\n        invalidate();\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        canvas.drawRect(bgRect, mPaintBG);\n        if (bitmap != null)\n            canvas.drawBitmap(bitmap, centreX, centreY, mPaint);\n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        super.onSizeChanged(w, h, oldw, oldh);\n        mWidth = w;\n        mHeight = h;\n\n        bgRect = new Rect(0, 0, mWidth, mHeight);\n        invalidate();\n    }\n}\n</code></pre>\n<p>Simply put this view in your xml &amp; then you can programmatically pass a bitmap and alpha of the background.</p>\n<p>It supports setting up <strong>image alpha, background alpha seperately</strong> as well as background color.</p>\n<p><strong>Here is what you need to do :</strong></p>\n<p><strong>In the xml,</strong></p>\n<pre><code>&lt;com.demo.example.views.ImageAlphaBGView\n            android:id=&quot;@+id/alphaView&quot;\n            android:layout_width=&quot;150dp&quot;\n            android:layout_height=&quot;150dp&quot;/&gt;\n</code></pre>\n<p><strong>In the activity or fragment,</strong></p>\n<pre><code>ImageAlphaBGView imageView = findViewById(R.id.alphaView)\nimageView.setImageBitmap(bitmap)\nimageView.setBGColor(Color.RED)\nimageView.setImageAlpha(255)\n</code></pre>\n<p><strong>And you've got it. :)</strong></p>\n"}],"last_activity_date":1684467159,"question_id":76252382,"body":"<p>I have an <code>ImageView</code>, and its alpha is set to 0 in the XML. The XML looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout\n\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;&lt;height&gt;&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/&lt;id&gt;&quot;\n                android:layout_width=&quot;&lt;width&gt;&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:alpha=&quot;0&quot;\n                android:background=&quot;#ff00ff&quot;\n                android:clickable=&quot;true&quot;\n                android:focusable=&quot;true&quot;\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/&lt;id&gt;&quot;\n                android:layout_width=&quot;&lt;width&gt;&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:alpha=&quot;0&quot;\n                android:background=&quot;#0000ff&quot;\n                android:clickable=&quot;true&quot;\n                android:focusable=&quot;true&quot;\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I tried searching how to do this, but most questions are about how to hide the background or the entire <code>ImageView</code>, and not just the background. Also, the <code>alpha</code> has to be set to <code>&quot;0&quot;</code>. Is there any way to hide only the image so that only the <code>background</code> (solid color) is visible? Only the <code>background</code> colors of both <code>ImageView</code>s have to be displayed, so the container (<code>LinearLayout</code>)'s <code>background</code> cannot be used to do this for both (the background colors are different).</p>\n<p>Changing the image's source to an image which is a solid color, the same as the background color, would work, but I need to change this color programmatically, so it might be inefficient. I've also tried different combinations of <code>ImageView.</code>- <code>setAlpha(float)</code>, <code>setImageAlpha(int)</code>, <code>setImageResource(int)</code> (to <code>0</code>) and <code>setImageDrawable(Drawable)</code> (to show the image again, with the background [color]), but they produce weird results. Using <code>setImageResource(0)</code> (with alpha <code>1f</code>) hides the image, showing only the solid background, but I'm not able to display the image again. Is there any easy method I'm unaware of?</p>\n<p>I need to do this programmatically, so methods like in <a href=\"https://stackoverflow.com/questions/44154644/java-android-linearlayout-set-two-colors\">Java android Linearlayout set two colors</a> wouldn't work. What is the best way to do this programmatically?</p>\n"},{"comments":[{"comment_id":68098244,"body":"What is the system output printing?"},{"comment_id":68103826,"body":"@NicolePhillips. This line System.out.println(&quot;previous date is &quot;+allButtons.get(0).getText()); prints &quot;Dec&quot;"},{"comment_id":68104229,"body":"check out this question and answer: <a href=\"http://stackoverflow.com/questions/32518284/java-appium-unable-to-click-element\" title=\"java appium unable to click element\">stackoverflow.com/questions/32518284/&hellip;</a>"},{"comment_id":68145338,"body":"can you post your appium full logs ?"},{"comment_id":68163146,"body":"@NicolePhillips Thank you. The issue is solved on using tap method. Thanks for your help"}],"answers":[{"comments":[{"comment_id":68091282,"body":"@KristapsMežavilks : This was an example, you need to change the xpath accoring to your application, also pick the datepicker wheel in android as well. and don&#39;t go for specific button as you cannot input in button."},{"comment_id":68091607,"body":"from my experience this is not universal solution. I managed to use it for one particular Android version but after that changed the solution because was not working on latest devices."},{"comment_id":68091908,"body":"@KristapsMežavilks : Yes this is OS specific, but in all OS cases you need to change XPath, because new OS changes the way application renders. But .sendKeys is the solution for all OS. i have tried this for different android OS till 6.0"},{"comment_id":68104008,"body":"@Keshav sendkey wont work. I have tried it. This is not a user entry field"},{"comment_id":68163102,"body":"Thanks you all. The issue is resolved in using tap method. Initially i have used AndroidDriver&lt;WebElement&gt; so that tap method was not available. Now i changed my driver to AndroidDriver&lt;MobileElement&gt;. This link was helpfull <a href=\"http://stackoverflow.com/questions/32518284/java-appium-unable-to-click-element\" title=\"java appium unable to click element\">stackoverflow.com/questions/32518284/&hellip;</a>"}],"answer_id":40421139,"body":"<p>You can click and select the date in devices the way you are trying. You need to use send keys. Try the below code:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//UIAPickerWheel[1]\")).sendKeys(Dec);\ndriver.findElement(By.xpath(\"//UIAPickerWheel[2]\")).sendKeys(04);\ndriver.findElement(By.xpath(\"//UIAPickerWheel[3]\")).sendKeys(2015);\n</code></pre>\n"},{"comments":[{"comment_id":68103941,"body":"@Emma, i dont want to use swipe method as this may fail on different devices"},{"comment_id":68119423,"body":"But it can help you i think ! Did you find another way so?"},{"comment_id":68163166,"body":"Thanks for your help. The issue is resolved on using tap method"},{"comment_id":68168826,"body":"Great ! happy for you :)"}],"answer_id":40424869,"body":"<p>I suggest that you use Swipe method to help you scroll calendar dates.</p>\n\n<p>For Example :</p>\n\n<p>Make a first click on your calendar icon and then use following code :</p>\n\n<pre><code>Thread.sleep(3000);\n for(int x=0;x&lt;9;x++)\n    {\n     // Swipe syntax sould be like this way depending on your needs, you have just need to change points\n     //driver.swipe(startx, starty, endx, endy, duration);\n        driver.swipe(450,550,350,500,0);  \n\n    }\n</code></pre>\n\n<p>The loop i have used is to scroll from 1 March to 10 March for example you can change by your needs.\nTell me if that works for you.</p>\n"},{"answer_id":76279166,"body":"<pre><code>driver.findElement(By.xpath(&quot;//XCUIElementTypeOther[@name=\\&quot;Proposed Insured Information, tab panel\\&quot;]/XCUIElementTypeTextField[3]&quot;)).click();\n        \nList &lt;WebElement&gt; values = (List&lt;WebElement&gt;) driver.findElements(By.xpath(&quot;//XCUIElementTypePickerWheel&quot;));\n        \nfor (int i=0; i&lt;values.size();i++) \n      `enter code here`{\n        System.out.println(values.get(i).getText());\n       }\n        values.get(0).sendKeys(&quot;30&quot;);\n        values.get(0).sendKeys(Keys.TAB);\n        \n        values.get(1).sendKeys(&quot;November&quot;);\n        values.get(1).sendKeys(Keys.TAB);\n        \n        values.get(2).sendKeys(&quot;1995&quot;);\n        values.get(3).sendKeys(Keys.TAB);\n</code></pre>\n"}],"last_activity_date":1684467107,"question_id":40420990,"body":"<p>Am not able to click on the month,date, year, hh,mm buttons on the date picker for changing the values. But using the getText method i can read the name of the buttons. </p>\n\n<p>List allButtons = driver.findElements(By.className(\"android.widget.Button\"));\nSystem.out.println(\"previous date is \"+allButtons.get(0).getText());\nallButtons.get(0).click();</p>\n\n<p>Java code and appium not showing any error and the testng testcase passed.\nPlease help\nNot able to click on the date picker button to change the date using appium and java\n<a href=\"https://i.stack.imgur.com/rUGi8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rUGi8.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"comment_id":124415491,"body":"Could you please upgrade your dependencies (use latest) and try again?"},{"comment_id":124428777,"body":"it doesnot works. - -"},{"comment_id":124442656,"body":"Could you please create a <b>minimal</b> sample project on github that reproduces the issue and open a new issue in Sleuth&#39;s repo?"},{"comment_id":124533617,"body":"Could you have any ideas about this, just make me to reappearance this problem.   I cant reappearance it in my develop environment， it just happened in kubernetes environment. I&#39;m going crazy about this problem."},{"comment_id":124533740,"body":"here is my emai mersycle@hotmail.com, it will be nice if i can receive any message from u"}],"last_activity_date":1684466731,"question_id":70375468,"body":"<p>The test environment service is normal, and there is no such problem. However, such a situation often occurs in the production environment. After GC analysis, it is found that there is no memory problem. This situation still occurs after adjusting the JVM XSS parameters. Does anyone encounter this situation? The following is a complete trace</p>\n<pre><code>java.lang.RuntimeException: com.netflix.client.ClientException\n    at org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:90)\n    at com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient.execute(SeataLoadBalancerFeignClient.java:45)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.executeTraceFeignClient(TraceFeignAspect.java:66)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.feignClientWasCalled(TraceFeignAspect.java:56)\n    at sun.reflect.GeneratedMethodAccessor287.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient$$EnhancerBySpringCGLIB$$21ea282.execute(&lt;generated&gt;)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\n    at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\n    at feign.hystrix.HystrixInvocationHandler$1.run(HystrixInvocationHandler.java:109)\n    at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\n    at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\n    at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100)\n    at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\n    at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\n    at com.alibaba.cloud.seata.feign.hystrix.SeataHystrixConcurrencyStrategy$SeataContextCallable.call(SeataHystrixConcurrencyStrategy.java:163)\n    at org.springframework.cloud.sleuth.instrument.async.TraceCallable.call(TraceCallable.java:71)\n    at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\n    at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: com.netflix.client.ClientException: null\n    at com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:118)\n    at org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:83)\n    ... 52 common frames omitted\nCaused by: org.springframework.retry.RetryException: Could not recover; nested exception is java.lang.StackOverflowError\n    at org.springframework.cloud.client.loadbalancer.LoadBalancedRecoveryCallback.recover(LoadBalancedRecoveryCallback.java:56)\n    at org.springframework.retry.support.RetryTemplate.handleRetryExhausted(RetryTemplate.java:512)\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:351)\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:180)\n    at org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:92)\n    at org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:52)\n    at com.netflix.client.AbstractLoadBalancerAwareClient$1.call(AbstractLoadBalancerAwareClient.java:104)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:303)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:287)\n    at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:231)\n    at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.drain(OnSubscribeConcatMap.java:286)\n    at rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.onNext(OnSubscribeConcatMap.java:144)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:185)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94)\n    at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber$1.call(OperatorRetryWithPredicate.java:127)\n    at rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.enqueue(TrampolineScheduler.java:73)\n    at rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.schedule(TrampolineScheduler.java:52)\n    at rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:79)\n    at rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:45)\n    at rx.internal.util.ScalarSynchronousObservable$WeakSingleProducer.request(ScalarSynchronousObservable.java:276)\n    at rx.Subscriber.setProducer(Subscriber.java:209)\n    at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:138)\n    at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:129)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.subscribe(Observable.java:10423)\n    at rx.Observable.subscribe(Observable.java:10390)\n    at rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:443)\n    at rx.observables.BlockingObservable.single(BlockingObservable.java:340)\n    at com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:112)\n    ... 53 common frames omitted\nCaused by: java.lang.StackOverflowError: null\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\n    at org.apache.http.impl.BHttpConnectionBase.fillInputBuffer(BHttpConnectionBase.java:342)\n    at org.apache.http.impl.BHttpConnectionBase.isStale(BHttpConnectionBase.java:362)\n    at org.apache.http.impl.conn.CPool.validate(CPool.java:71)\n    at org.apache.http.impl.conn.CPool.validate(CPool.java:45)\n    at org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:256)\n    at org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:198)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.leaseConnection(PoolingHttpClientConnectionManager.java:306)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager$1.get(PoolingHttpClientConnectionManager.java:282)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:190)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at feign.httpclient.ApacheHttpClient.execute(ApacheHttpClient.java:83)\n    at com.alibaba.cloud.seata.feign.SeataFeignClient.execute(SeataFeignClient.java:59)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n</code></pre>\n"},{"comments":[{"comment_id":134524915,"body":"The video format would most likely be part of the URL query.  So the downloading of the file would be the same as any other file.  Do you have a test URL to provide?"},{"comment_id":134529725,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"last_activity_date":1684466105,"question_id":76285769,"body":"<p>How to download video from URL with different format</p>\n<p>i am trying to make a video downloader app in Android studio using java but i can't get video format like (360p/ 720p) how to get video format using download manager in java or other library please tell me.</p>\n"},{"last_activity_date":1684465920,"question_id":76285665,"body":"<p>I have a server running linux, Red Hat, and in the server I have docker running in swarm mode, and the way I create the containers is using yaml files.</p>\n<p>The containers have alpine with tomcat server. The tomcat server is used to deploy an application built with Java 8 and Spring Boot 2.6.6.</p>\n<p>In the application exist a logic to send emails, and now I'm updating that to use a new email server that supports encryption and authentication.</p>\n<p>I already added the required variables in spring boot: port, server, user, password, start encryption, and so on.</p>\n<p>When I want to send an email I receive the below error:</p>\n<pre><code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException:\nunable to find valid certification path to requested target at \nsun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:397)\n</code></pre>\n<p>Based on that error I pulled the certificate of the email server by using ssl tools, and as well I got the CA certificates.</p>\n<p>In the yaml file I added the command key as shown below to import the certificates:</p>\n<pre><code>    command: bash -c &quot;keytool -importcert -alias smtp-server -keystore truststore -file /sslfolder/email.crt -storepass changeit -noprompt &amp;&amp;\n keytool -importcert -trustcacerts -alias ca-cert-smtp -keystore cacerts -file /sslfolder/ca.pem -storepass changeit -noprompt &amp;&amp;\n keytool -importcert -alias ca1 -noprompt -file /sslfolder/ca1.pem -trustcacerts -storepass changeit -keystore cacerts &amp;&amp;\n keytool -importcert -alias ca2 -noprompt -file /sslfolder/ca2.pem -trustcacerts -storepass changeit -keystore cacerts &amp;&amp;\ncatalina.sh run&quot;\n</code></pre>\n<p>And after that I'm still getting the error PKIX path building failed.</p>\n<p>I also validated the certificates were imported by entering in the container and retrieving the certificates in truststore and cacerts, and they were imported.</p>\n<p>Has anyone faced the same error?</p>\n"},{"comments":[{"comment_id":134523124,"body":"probably schema is created and no update, drop the schema. Add logs to sql to look what is going on"}],"answers":[{"comments":[{"comment_id":134526225,"body":"that&#39;s the problem na I don&#39;t know which property to add or update, this is what is standard to connect PostgreSQL but it doesn&#39;t get any solution."},{"comment_id":134533498,"body":"spring.jpa.hibernate.ddl-auto is the property that you must change . You set this property as create-drop but you must set it create only like this. spring.jpa.hibernate.ddl-auto=create"}],"answer_id":76285395,"body":"<p>I think there is a problem in application.properties file\nYou can find some useful things about hbm2ddl in <a href=\"https://stackoverflow.com/questions/438146/what-are-the-possible-values-of-the-hibernate-hbm2ddl-auto-configuration-and-wha\">What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do</a></p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\nspring.datasource.username=postgres\nspring.datasource.password=admin\nspring.jpa.hibernate.ddl-auto=create\nspring.datasource.schema=public\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true  \nspring.jpa.properties.hibernate.dialect=..\nspring.jpa.open-in-view=true\n</code></pre>\n<p>Note: when show SQL is true at first check the queries that shows in the console.</p>\n"},{"comments":[{"comment_id":134526198,"body":"NO, after replacing it does not create tables in the DB"},{"comment_id":134532018,"body":"can you check in postgree that your schema is indeed under public quizmenia?"}],"answer_id":76285751,"body":"<p>Try change:</p>\n<pre><code>@Table(name = &quot;users&quot;)\n</code></pre>\n<p>To:</p>\n<pre><code>@Table(name = &quot;users&quot;,  schema = &quot;public&quot;, catalog = &quot;quizmenia&quot;)\n</code></pre>\n"}],"last_activity_date":1684465770,"question_id":76283847,"body":"<p>I am trying to generate tables based on entities. The application starts correctly, none of tables are created. What's wrong?</p>\n<p>I'm using postgre sql version 14 and java 17</p>\n<p>here is my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.quizmenia&lt;/groupId&gt;\n    &lt;artifactId&gt;quizmeniaserver&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;quizmeniaserver&lt;/name&gt;\n    &lt;description&gt;quizmenia - Application to host quiz for students, communities etc&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\nspring.datasource.username=postgres\nspring.datasource.password=admin\n\nspring.jpa.hibernate.ddl-auto=create-drop\n\nspring.datasource.schema=public\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n\nspring.jpa.open-in-view=true\n\n</code></pre>\n<p>As you can see I have the spring.jpa.hibernate.ddl-auto=create-drop line added but the tables are still not being created by the JPA. What is wrong?</p>\n<p>user entity:</p>\n<pre><code>package com.quizmenia.quizmeniaserver.model;\n\nimport java.util.*;\nimport javax.persistence.*;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class user {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(nullable = false)\n    private Long userId;\n\n    @Column(name=&quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    @Column(name=&quot;password&quot;)\n    private String password;\n\n    @Column(name=&quot;enable&quot;)\n    private Boolean enable;\n\n    @Column(name=&quot;about&quot;)\n    private String about;\n\n    @Column(name=&quot;phone_number&quot;)\n    private Integer phoneNumber;\n\n\n    public user() {\n        \n    }\n\n\n\n    public user(Long userId, String firstName, String lastName, String email, String password, Boolean enable,\n            String about, Integer phoneNumber) {\n        this.userId = userId;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.password = password;\n        this.enable = enable;\n        this.about = about;\n        this.phoneNumber = phoneNumber;\n    }\n\n\n    public Long getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Long userId) {\n        this.userId = userId;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Boolean getenable() {\n        return enable;\n    }\n\n    public void setenable(Boolean enable) {\n        this.enable = enable;\n    }\n\n    public String getAbout() {\n        return about;\n    }\n\n    public void setAbout(String about) {\n        this.about = about;\n    }\n\n    public Integer getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(Integer phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n}\n</code></pre>\n<p>folder structure:</p>\n<p><a href=\"https://i.stack.imgur.com/EFbmX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EFbmX.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":12776477,"body":"Do you have jre installed for browser? I guess we call it as plugin. Check chrome plugins for JRE. If not there, you need to install it."},{"comment_id":12776718,"body":"i install java from <a href=\"http://java.com/en/download/index.jsp\" rel=\"nofollow noreferrer\">java.com/en/download/index.jsp</a>"},{"comment_id":12776747,"body":"in my firefox it working fine. and it displays properly installed.but in chrome not working."},{"comment_id":12776783,"body":"Check chrome plugins. Some times versions might not be supported."},{"comment_id":12776874,"body":"you are write in previous version of chrome it works fine but after update it doesn&#39;t work."}],"answers":[{"answer_id":22452992,"body":"<p>Type this into your chrome search bar</p>\n\n<p>chrome://plugins/</p>\n\n<p>Now enable java plugin</p>\n\n<p>Problem solved !! </p>\n"}],"last_activity_date":1684465490,"question_id":9996404,"body":"<p>i am try to run applet in chrome but applet not running. i install java but than also not working. i check on <a href=\"http://java.com/en/download/installed.jsp?detect=jre&amp;try=1\" rel=\"nofollow\">http://java.com/en/download/installed.jsp?detect=jre&amp;try=1</a> link but it displays no java install but it running fine in firefox.</p>\n\n<p>My chrome updated version is 18.0.1025.142m and I install java from <a href=\"http://java.com/en/download/index.jsp\" rel=\"nofollow\">http://java.com/en/download/index.jsp</a> (latest version)</p>\n\n<p>still it displays plugin out of date.</p>\n\n<p>please help me.</p>\n"},{"comments":[{"comment_id":133373156,"body":"You can add custom fields  in <a href=\"https://stackoverflow.com/questions/75530965/how-to-add-programmed-custom-field-to-keycloak-user/75532971#75532971\">here</a> and search by custom value."}],"answers":[{"answer_id":76285702,"body":"<p>Yes you can add attributes in UserRepresentation object like this:</p>\n<pre><code>@Autowired\nprivate final Keycloak keycloak;\n\npublic void createUser(UserDTO userDTO){\nUserRepresentation user = new UserRepresentation();\nuser.setUsername(userDTO.getUsername());\nuser.setEmail(userDTO.getEmailAddress());\nuser.setFirstName(userDTO.getFirstName());\nuser.setLastName(userDTO.getLastName());\nRealmResource realmResource = keycloak.realm(REALM);\nUsersResource userRessource = realmResource.users();\nMap&lt;String, List&lt;String&gt;&gt; attr = new HashMap&lt;&gt;;// create your attr\nuser.setAttributes(attr);\n// Create user\nResponse result = userRessource.create(user);\n}\n</code></pre>\n"}],"last_activity_date":1684464510,"question_id":75594511,"body":"<p>I wonder how can I add custom attributes in Keycloak so the user can fill additional fields upon registration rather than using the default ones, also I might have some additional fields that I would need to fill later from my backend service</p>\n"},{"comments":[{"comment_id":134489259,"body":"<code>list</code> is defined in the main method only, for now getToken can&#39;t get access to it, what about passing it as a method parameter ?"},{"comment_id":134489994,"body":"Don&#39;t use exceptions for flow control. See CsvReader"}],"answers":[{"answer_id":76285686,"body":"<p>You can read a file line-for-line with the <code>BufferedReader</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader reader = new BufferedReader(new FileReader(path))) {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    String line;\n    while ((line = reader.readLine()) != null)\n        list.add(line);\n    return list;\n}\n</code></pre>\n"}],"last_activity_date":1684464255,"question_id":76264695,"body":"<p>I need to write a method that will import each line of text in a CSV file that has credit card information in it into an ArrayList . Then I will use a StringTokenizer to find the number of transactions, and how many debit and credit transactions there are.</p>\n<p>heres the code for the main method:</p>\n<pre><code>public static void main ()\n    {\n        boolean moreLines = true;\n        int numTransactions = 0;\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        try {\n            s = new Scanner (new File (&quot;visadata.csv&quot;));\n        }\n        catch (FileNotFoundException e)\n        {\n            System.out.println(&quot;File Not Found&quot;);\n        } \n        \n        while (moreLines)\n        {\n            try\n            {\n                list.add(s.nextLine());\n                numTransactions++;\n            }\n            \n            catch (NullPointerException e)\n            {\n                moreLines = false;\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\n            }\n            catch (NoSuchElementException e)\n            {\n                moreLines = false;\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\n            }\n        }\n        getTokens()\n    }\n</code></pre>\n<p>The getTokens() method is my StringTokenizer method and i need to input every line of text from the CSV file into it using my ArrayList but i dont know how to do that</p>\n"},{"answers":[{"answer_id":76285677,"body":"<p>Assuming userRepository is derived from JpaRepository interface, the method signnature is not correct.</p>\n<p>You have two options:\nImplement a custom repository and create the query yourself.\nSecond option is to try change the method signature to something like:</p>\n<pre><code>Optional&lt;User&gt; findByEmailAndCompanyId(String email, Long companyId);\n</code></pre>\n"}],"last_activity_date":1684464045,"question_id":76284593,"body":"<p>in my application username (email) is not unique. It has to be paired with companyId. The same email can exist in different companies which are all being held in the same database.</p>\n<p>The problem lies in the Bean initiating the userDetailsService in applicationConfig. Whatever I try to do I get different errors. In the current state it says: &quot;'findByEmail(java.lang.String, java.lang.Long)' in 'wmi.inzynierka.repository.UserRepository' cannot be applied to '(&lt; lambda parameter&gt;, &lt; lambda parameter&gt;)'&quot;</p>\n<p><strong>Application config:</strong></p>\n<pre><code>  @Bean\n  public CustomUserDetailsService customUserDetailsService() {\n    return (username, companyId) -&gt; repository.findByEmail(username, companyId)\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n  }\n</code></pre>\n<p><strong>userRepository</strong></p>\n<pre><code>Optional&lt;User&gt; findByEmail(String email, Long companyId);\n</code></pre>\n<p><em><strong>CustomUserDetailsService</strong></em></p>\n<pre><code>public interface CustomUserDetailsService extends UserDetailsService {\n    UserDetails loadUserByUsernameAndCompanyId(String username, Long companyId) throws UsernameNotFoundException;\n}\n</code></pre>\n<p>Any ideas how to resolve this issue?</p>\n"},{"comments":[{"comment_id":134525256,"body":"Please finish your words: <code>The ball is supposed to &lt;MISSING&gt; when hitting the bottom wall</code>"}],"last_activity_date":1684463728,"question_id":76285662,"body":"<p>The ball is supposed to when hitting the bottom wall, pick a random velocity going upwards. The code for the collision works perfectly on the top wall but it does not seem to work on the bottom. Any help will be apreciated. Also when I start the game, sometimes its just a blank white box that you need to resize to make the game play.</p>\n<p>Code:</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.util.Random;\nimport java.awt.Dimension;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class SnakeOG{\n    static int plrOneY = 150;\n    static int plrTwoY = 150;\n\n    static int ballX = 225;\n    static int ballY = 150;\n    static int ballXVelo = 0;\n    static int ballYVelo = 0;\n    \n    static boolean wPressed = false;\n    static boolean sPressed = false;\n    static boolean upPressed = false;\n    static boolean downPressed = false;\n    public static void main(String[] args) throws Exception{\n        System.out.println(&quot;o/&quot;);\n        JFrame frame = new JFrame(&quot;Snake&quot;);\n        frame.setSize(500, 500);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n        // frame.setResizable(false);\n\n        Random rng = new Random();\n\n        ballXVelo = rng.nextInt(-5, 5);\n\n        System.out.println(&quot;Ball Velo:    X: &quot; + ballXVelo + &quot;       Y: &quot; + ballYVelo);\n\n        JPanel panel = new JPanel(){\n            public void paintComponent(Graphics graphics){\n                super.paintComponent(graphics);\n                graphics.fillRect(ballX, ballY, 25, 25);\n                graphics.fillRect(0, plrOneY, 10, 100);\n                graphics.fillRect(475, plrTwoY, 10, 100);\n\n                if(wPressed){\n                    plrOneY -= 5;\n                }\n                if(sPressed){\n                    plrOneY += 5;\n                }\n                if(upPressed){\n                    plrTwoY -= 5;\n                }\n                if(downPressed){\n                    plrTwoY += 5;\n                }\n                \n                if(checkBallPaddleCollision(ballX, ballY, 0, plrOneY)){\n                    ballXVelo = rng.nextInt(5);\n                    ballYVelo = rng.nextInt(-5, 5);\n\n                    System.out.println(&quot;Ball Velo:    X: &quot; + ballXVelo + &quot;       Y: &quot; + ballYVelo);\n\n                } else if(checkBallPaddleCollision(ballX, ballY, 475, plrTwoY)){\n                    ballXVelo = rng.nextInt(-5, 0);\n                    ballYVelo = rng.nextInt(-5, 5);\n\n                    System.out.println(&quot;Ball Velo:    X: &quot; + ballXVelo + &quot;       Y: &quot; + ballYVelo);\n                }\n                \n                if(checkTopWallCollision(ballX, ballY) &amp;&amp; ballYVelo &lt; 0){\n                    ballXVelo = rng.nextInt(-5, 5);\n                    ballYVelo = 5; // rng.nextInt(-5, 0);\n                }\n                if(checkBottomWallCollision(ballX, ballY) &amp;&amp; ballYVelo &gt; 0){\n                    System.out.println(ballY);\n                    ballXVelo =  rng.nextInt(-5, 5);\n                    ballYVelo = -5; // rng.nextInt(0, 5);\n                }\n\n                ballX += ballXVelo;\n                ballY += ballYVelo;\n\n            } \n        };\n        frame.add(panel);\n        panel.setFocusable(true);\n        panel.requestFocus();\n        panel.addKeyListener(new KeyListener() {\n            public void keyPressed(KeyEvent key){\n                if(key.getKeyChar() == 'w' ){\n                    wPressed = true;\n                } \n                if(key.getKeyChar() == 's'){\n                    sPressed = true;\n                } \n                if(key.getKeyCode() == KeyEvent.VK_UP){\n                    upPressed = true;\n                } \n                if(key.getKeyCode() == KeyEvent.VK_DOWN){\n                    downPressed = true;\n                }\n            }\n            public void keyTyped(KeyEvent key) {}\n            public void keyReleased(KeyEvent key) {\n                if(key.getKeyChar() == 'w' ){\n                    wPressed = false;\n                } \n                if(key.getKeyChar() == 's'){\n                    sPressed = false;\n                } \n                if(key.getKeyCode() == KeyEvent.VK_UP){\n                    upPressed = false;\n                } \n                if(key.getKeyCode() == KeyEvent.VK_DOWN){\n                    downPressed = false;\n                }\n            }\n        });\n\n        while(true){\n            panel.repaint();\n            Thread.sleep(25);\n        }\n    }\n    public static boolean checkPaddleCollision(int ballX, int ballY, int paddleX, int paddleY){\n        int paddleHeight = 100;\n        int paddleWidth = 10;\n\n        if(paddleX &lt; ballX &amp;&amp; ballX &lt; paddleX + paddleWidth){\n            if(paddleY &lt; ballY &amp;&amp; ballY &lt; paddleY + paddleHeight){\n                System.out.println(&quot;Hit&quot;);\n                return true;\n            }\n        }\n\n        return false;\n    }\n    public static boolean checkBallPaddleCollision(int ballX, int ballY, int paddleX, int paddleY){\n        if(checkPaddleCollision(ballX, ballY, paddleX, paddleY)){\n            return true;\n        }\n        if(checkPaddleCollision(ballX + 25, ballY + 25, paddleX, paddleY)){\n            return true;\n        }\n        \n        return false;\n    }\n    public static boolean checkTopWallCollision(int ballX, int ballY){\n        int wallTopY = 0;\n\n        int wallLeftX = -5;\n\n        int wallRightX = 500;\n\n        if(ballY &lt;= wallTopY) {\n            System.out.println(&quot;Hit Top Wall&quot;);\n            return true;\n        } else if(ballX &lt;= wallLeftX || ballX &gt;= wallRightX) {\n            System.out.println(&quot;Out&quot;);\n            // System.exit(0);\n            return false;\n        }\n\n        return false;\n    }\n    public static boolean checkBottomWallCollision(int ballX, int ballY){\n        int wallBottomY = 500;\n\n        int wallLeftX = -5;\n\n        int wallRightX = 500;\n\n        if(ballY &gt;= wallBottomY || ballY + 25 &gt;= wallBottomY) {\n            System.out.println(&quot;Hit Bottom Wall&quot;);\n            return true;\n        } else if(ballX &lt;= wallLeftX || ballX &gt;= wallRightX) {\n            System.out.println(&quot;Out&quot;);\n            // System.exit(0);\n            return false;\n        }\n\n        return false;\n    }\n}\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":121329349,"body":"Note that this is no longer the correct answer. See for upgrading (transitive) dependencies: <a href=\"https://docs.gradle.org/current/userguide/dependency_constraints.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/dependency_constraints.htm&zwnj;&#8203;l</a> and for downgrading or excluding (transitive) dependencies: <a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"comment_id":125450775,"body":"@Pieter I would encourage you to submit a new answer, since none of the current answers include the constraints answer."}],"answer_id":30729087,"body":"<p>Currently classifiers are not yet taken into account when it comes to <em>resolutionStrategies</em>. A workaround for you might excluding the transitive Guava library when declaring your dependencies and adding the Guava <code>cdi1.0</code> version explicitly:</p>\n\n<pre><code>dependencies {\n    compile (\"org.acme:someDependency:1.0\"){\n        exclude group: 'com.google.guava', module: 'guava'\n    }       \n    compile \"com.google.guava:guava:15.0:cdi1.0\"\n}\n</code></pre>\n"},{"answer_id":41523344,"body":"<p>This will not work if the same dependency is pointed by some other jar. Sureshot way to exclude the dependency</p>\n\n<pre><code>configurations {\n all*.exclude group: 'com.google.guava', module:'guava-jdk5'\n}\n</code></pre>\n"},{"comments":[{"comment_id":124281733,"body":"I get <code>&#39;force&#39; is deprecated</code>"},{"comment_id":130007334,"body":"@lionello Use <code>implementation(&quot;...&quot;) { version { strictly(&quot;...&quot;) } }</code>"}],"answer_id":46404627,"body":"<p>I came across a more elegant approach which is simply:</p>\n\n<pre><code>compile (\"com.google.guava:guava:15.0:cdi1.0\") {\n  force = true\n}\n</code></pre>\n\n<h3>Explanation</h3>\n\n<p>Setting <code>force = true</code> for a dependency tells gradle to use the specified version in case of a version conflict</p>\n"},{"answer_id":48724412,"body":"<p>Gradle 4.5.1 has the function <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.DependencySubstitutions.html\" rel=\"noreferrer\">DependencySubstitutions</a>. Here an example to replace a dependency:</p>\n\n<pre><code>configurations.each {\n    c -&gt; c.resolutionStrategy.dependencySubstitution {\n        all { DependencySubstitution dependency -&gt;\n            if (dependency.requested.group == 'org.json') {\n                dependency.useTarget 'com.vaadin.external.google:android-json:0.0.20131108.vaadin1'\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":112803716,"body":"is there a documentation?..&quot;strictly&quot; not working in Gradle 6.4.1"},{"comment_id":114767461,"body":"@happy The documentation link which I found on strictly <a href=\"https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>   implementation( group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;){         version{             strictly &quot;[1.15]&quot;         }     }"}],"answer_id":61011778,"body":"<p>Since <code>force = true</code> is deprecated, relevant solution is to use <code>strictly(...)</code> version, e.g.:</p>\n\n<pre><code>dependencies {\n    // no need to exclude transitive spring-data-relational from this dependency\n    implementation(\"org.springframework.data\", \"spring-data-r2dbc\", \"1.1.0.RC1\")\n\n    implementation(\"org.springframework.data\", \"spring-data-relational\").version {\n        strictly(\"2.0.0.RC1\")\n    }\n}\n</code></pre>\n\n<p>P.S. tested on Gradle 6.3</p>\n"},{"answer_id":64914507,"body":"<pre><code>implementation( group: 'commons-codec', name: 'commons-codec'){\n      version{\n        strictly &quot;[1.15]&quot;\n      }\n   }\n</code></pre>\n<p>This works for me with gradle 6.6.1</p>\n<p>The documentation link for  strictly can found here <a href=\"https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints</a></p>\n"},{"answer_id":72037844,"body":"<p>Try this:</p>\n<pre><code>configurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n\n        // https://docs.gradle.org/current/userguide/resolution_rules.html\n        if (details.requested.group == 'com.google.guava' &amp;&amp; details.requested.name == 'guava') {\n            details.useVersion '15.0:cdi1.0'\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":75460516,"body":"<p>try this its working perfectly  in my case in App level in  build.gradle file</p>\n<pre><code>android {\nconfigurations {\n    all*.exclude module: 'conceal'\n\n    all*.exclude module: 'bcprov-jdk15on'\n    }\n}   \n</code></pre>\n"},{"answer_id":76285660,"body":"<p>I fix it by exclude <code>org.bouncycastle</code> from the module which causes this duplicate error.</p>\n<p><strong>build.gradle(:app)</strong></p>\n<pre><code>implementation(project(Modules.yourModuleName)) {\n    exclude group: 'org.bouncycastle'\n}\n</code></pre>\n"}],"last_activity_date":1684463712,"question_id":30728533,"body":"<p>One of the dependencies declared in my project has a transitive dependency on <code>'com.google.guava:guava:15.0'</code>. But my application deployed on WAS/Weblogic doesn't work due to a CDI issue which has been fixed in <code>'com.google.guava:guava:15.0:cdi1.0'</code>. (same version, but with classifier) I need to tell gradle to use this jar during build and packaging. I am trying to figure out how we can override this transitive dependency with a jar specific version classifier.</p>\n<p>Tried the following approaches:</p>\n<ol>\n<li><p>Added the dependency explicitly: <code>compile 'com.google.guava:guava:15.0:cdi1.0'</code>. But both jars got included in the resultant WAR.</p>\n</li>\n<li><p>Added the dependency explicitly and defined a resolution strategy:</p>\n<pre><code>configurations.all {\n    resolutionStrategy {\n        force 'com.google.guava:guava:15.0:cdi1.0'\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>Even this didn't work.</p>\n<ol start=\"3\">\n<li><p>Defined a resolution strategy to check and change the version.</p>\n<pre><code>configurations.all {\n     resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n         if (details.requested.group + &quot;:&quot; + details.requested.name == 'com.google.guava:guava') {\n            details.useVersion &quot;15.0:cdi1.0&quot;\n            //details.useTarget &quot;com.google.guava:guava:15.0:cdi1.0&quot;\n        }\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>Even this didn't work.</p>\n<p>Need your suggestions on how this issue can be tackled.</p>\n"},{"comments":[{"comment_id":30486161,"body":"In all my TableViews you just click the header to reorder by that column.  You may have to write a custom comparator for some things.  If you mean dragging the columns to new positions, that works as well."},{"comment_id":30488938,"body":"@brian I updated it to be clearer. I meant drag to reorder the table ROWS"}],"answers":[{"comments":[{"comment_id":32723265,"body":"I was able to port this over to a TableView by using the row factory instead of the cell."},{"comment_id":124052691,"body":"Just a tip, this is not a good example. It does fit in the proposed scenario, but it fails to attend the possibility to replicate your code in other scenarios which not use a graphic inside the ListView cell. For instance, I&#39;m trying to reproduce your code using a node (a label, more specifically) in the place of the ImageView, no success."},{"comment_id":124053729,"body":"@FARS if you have a new question, please ask it as a new question which includes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  This example was never designed to be a generic solution for all potential use cases of ListView re-ordering, it is merely a demo of one potential approach for solving re-ordering and has been useful for many other users.  If you believe that you have a better solution or a good alternative for this or other related use-cases, please post it as an answer."},{"comment_id":124055670,"body":"I tried to do so.. <a href=\"https://stackoverflow.com/questions/70176194/reordering-listview-cells-by-dragging-them\" title=\"reordering listview cells by dragging them\">stackoverflow.com/questions/70176194/&hellip;</a> didn&#39;t had success. I would appreciate it if you could provide an example of reordering ListView by dragging ListView&#39;s cells.. just as you did here, but replacing ImageView and Image with a Node of any kind (which does not use images, logically)"},{"comment_id":124055738,"body":"@FARS I cannot.  I do not have the time to do that at this time."},{"comment_id":134524630,"body":"@FARS An <a href=\"https://stackoverflow.com/questions/76284010/listview-drag-and-drop-error-indexoutofboundsexception-index-1-out-of-bounds/76285625#76285625\">example implementation which does not use images</a>."}],"answer_id":20420711,"body":"<p>Here is some code to re-order rows in a ListView by dragging the rows.</p>\n<p>Drag the birds to re-order them.</p>\n<p><img src=\"https://i.stack.imgur.com/mOMb4.png\" alt=\"birds\" /></p>\n<p>Implementation for a TableView would be somewhat similar.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.*;\nimport javafx.geometry.*;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.image.*;\nimport javafx.scene.input.*;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.util.*;\n\npublic class ListOrganizer extends Application {\n    private static final String PREFIX =\n            &quot;http://icons.iconarchive.com/icons/jozef89/origami-birds/72/bird&quot;;\n\n    private static final String SUFFIX =\n            &quot;-icon.png&quot;;\n\n    private static final ObservableList&lt;String&gt; birds = FXCollections.observableArrayList(\n            &quot;-black&quot;,\n            &quot;-blue&quot;,\n            &quot;-red&quot;,\n            &quot;-red-2&quot;,\n            &quot;-yellow&quot;,\n            &quot;s-green&quot;,\n            &quot;s-green-2&quot;\n    );\n\n    private static final ObservableList&lt;Image&gt; birdImages = FXCollections.observableArrayList();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        birds.forEach(bird -&gt; birdImages.add(new Image(PREFIX + bird + SUFFIX)));\n\n        ListView&lt;String&gt; birdList = new ListView&lt;&gt;(birds);\n        birdList.setCellFactory(param -&gt; new BirdCell());\n        birdList.setPrefWidth(180);\n\n        VBox layout = new VBox(birdList);\n        layout.setPadding(new Insets(10));\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(ListOrganizer.class);\n    }\n\n    private class BirdCell extends ListCell&lt;String&gt; {\n        private final ImageView imageView = new ImageView();\n\n        public BirdCell() {\n            ListCell thisCell = this;\n\n            setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\n            setAlignment(Pos.CENTER);\n\n            setOnDragDetected(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                ObservableList&lt;String&gt; items = getListView().getItems();\n\n                Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\n                ClipboardContent content = new ClipboardContent();\n                content.putString(getItem());\n                dragboard.setDragView(\n                    birdImages.get(\n                        items.indexOf(\n                            getItem()\n                        )\n                    )\n                );\n                dragboard.setContent(content);\n\n                event.consume();\n            });\n\n            setOnDragOver(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                       event.getDragboard().hasString()) {\n                    event.acceptTransferModes(TransferMode.MOVE);\n                }\n\n                event.consume();\n            });\n\n            setOnDragEntered(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasString()) {\n                    setOpacity(0.3);\n                }\n            });\n\n            setOnDragExited(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasString()) {\n                    setOpacity(1);\n                }\n            });\n\n            setOnDragDropped(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                Dragboard db = event.getDragboard();\n                boolean success = false;\n\n                if (db.hasString()) {\n                    ObservableList&lt;String&gt; items = getListView().getItems();\n                    int draggedIdx = items.indexOf(db.getString());\n                    int thisIdx = items.indexOf(getItem());\n\n                    Image temp = birdImages.get(draggedIdx);\n                    birdImages.set(draggedIdx, birdImages.get(thisIdx));\n                    birdImages.set(thisIdx, temp);\n\n                    items.set(draggedIdx, getItem());\n                    items.set(thisIdx, db.getString());\n\n                    List&lt;String&gt; itemscopy = new ArrayList&lt;&gt;(getListView().getItems());\n                    getListView().getItems().setAll(itemscopy);\n\n                    success = true;\n                }\n                event.setDropCompleted(success);\n\n                event.consume();\n            });\n\n            setOnDragDone(DragEvent::consume);\n        }\n\n        @Override\n        protected void updateItem(String item, boolean empty) {\n            super.updateItem(item, empty);\n\n            if (empty || item == null) {\n                setGraphic(null);\n            } else {\n                imageView.setImage(\n                    birdImages.get(\n                        getListView().getItems().indexOf(item)\n                    )\n                );\n                setGraphic(imageView);\n            }\n        }\n    }\n\n    // Iconset Homepage: http://jozef89.deviantart.com/art/Origami-Birds-400642253\n    // License: CC Attribution-Noncommercial-No Derivate 3.0\n    // Commercial usage: Not allowed    \n\n}\n</code></pre>\n<p>Related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76285625/1155209\">Draggable list using a custom data type</a>.</li>\n</ul>\n"}],"last_activity_date":1684463232,"question_id":20412445,"body":"<p>I have a JavaFx <code>TableView</code>. I'd like to allow the user to click and drag to reorder the table rows. I can't seem to find any way to do this, but it seems like a pretty common thing in GUIs. </p>\n"},{"comments":[{"comment_id":134523093,"body":"Individually, probably not. What might be better is to have a factory or builder which can produce a <code>JPopupMenu</code> which you have control of, from which you can then monitor yourself"}],"answers":[{"answer_id":76284793,"body":"<p>This may sound esoteric, but there are a number of tools that modify Java code on the fly. Think of breakpoints or instrumentation aiming at test coverage reports or profiling.</p>\n<p>What you might want to discover is whenever <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/MouseEvent.html#isPopupTrigger()\" rel=\"nofollow noreferrer\">MouseEvent.isPopupTrigger()</a> returns true, or even better whenever <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)\" rel=\"nofollow noreferrer\">JPopupMenu.show()</a> is called.</p>\n<p>Unfortunately I have never tried something like this myself, and am wondering whether these links might contain a starting point:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">Apache Commons BCEL</a></li>\n<li><a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/instrumentation/index.html\" rel=\"nofollow noreferrer\">java.lang.instrumentation</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10659610/how-to-instrument-java-methods\">How to instrument java methods?</a></li>\n</ul>\n"},{"answer_id":76285160,"body":"<p>It seems like focus is given to the <code>JRootPane</code> whenever a <code>JPopupMenu</code> is shown. You can listen for this event by using a <code>KeyboardFocusManager</code>:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.beans.*;\n\npublic class PopupListener extends JPanel\n{\n    JPopupMenu menu;\n\n    public PopupListener()\n    {\n        menu = new JPopupMenu();\n        menu.add( new JMenuItem( &quot;Cut&quot; ) );\n        menu.add( new JMenuItem( &quot;Copy&quot; ) );\n        menu.add( new JMenuItem( &quot;Paste&quot; ) );\n\n        MouseListener ml = new MouseAdapter()\n        {\n            public void mouseReleased(MouseEvent e)\n            {\n                if (e.isPopupTrigger())\n                {\n                    menu.show(e.getComponent(), e.getX(), e.getY());\n                    menu.setInvoker( e.getComponent() );\n                }\n            }\n        };\n\n        addMouseListener( ml );\n\n        JButton button = new JButton( &quot;Button&quot; );\n        button.setComponentPopupMenu( menu );\n        //button.addMouseListener( ml );\n        add(button);\n    }\n\n    private static void createAndShowGUI()\n    {\n        JFrame frame = new JFrame(&quot;PopupListener&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(new PopupListener());\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setSize(400, 400);\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n\n        KeyboardFocusManager.getCurrentKeyboardFocusManager()\n            .addPropertyChangeListener(&quot;focusOwner&quot;, new PropertyChangeListener()\n        {\n            public void propertyChange(final PropertyChangeEvent e)\n            {\n                Container container = (Container)e.getNewValue();\n\n                if (container != null\n                &amp;&amp;  container instanceof JRootPane)\n                {\n                    System.out.println( &quot;Popup Shown&quot; );\n                }\n            }\n        });\n    }\n\n    public static void main(String[] args)\n    {\n        java.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n    }\n}\n</code></pre>\n<p>Don't know if this is the only event that will give focus to the root pane.</p>\n<p>So, a more complete check might be to see if a <code>JPopupMenu</code> component has been added to the <code>JRootPane</code>.</p>\n<p>This can be done by using the <a href=\"https://tips4java.wordpress.com/2008/11/13/swing-utils/\" rel=\"nofollow noreferrer\">Swing Utils</a> class and replacing the above edit with:</p>\n<pre><code>if (container != null\n&amp;&amp;  SwingUtils.getDescendantsOfType(JPopupMenu.class, container, true).size() != 0)\n{\n    System.out.println( &quot;JPopupMenu found&quot; );\n}\n</code></pre>\n"}],"last_activity_date":1684463212,"question_id":76284734,"body":"<p>I want to log every time any <code>JPopupMenu</code> is shown (visible).</p>\n<p>I tried to catch via AWT Events, but <code>MouseEvent</code> does not provide <code>JPopupMenu</code> due <code>JPopupMenu</code> might still be generating and not yet visible</p>\n<p>I wonder if there some trick so I can catch when any <code>JPopupMenu</code> is shown without adding listeners to each <code>JPopupMenu</code> currently used in an App</p>\n"},{"comments":[{"comment_id":103563881,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30397043/selenium-unreachablebrowserexception-could-not-start-a-new-session-in-soapui\">Selenium UnreachableBrowserException - &quot;Could not start a new session&quot; in SoapUI Groovy TestStep</a>"},{"comment_id":103565293,"body":"Check the browser version and the driver version you are using. Both should be compatible with the Selenium version."}],"answers":[{"comments":[{"comment_id":103587593,"body":"Thanks. It worked fine for me. Upgraded the level as you suggested. Thanks much :)."},{"comment_id":133642808,"body":"&quot;Supports Chrome v67-69&quot; doesn&#39;t mean &quot;Supports Chrome v67 + v68 + v69&quot; ? It&#39;s not a range of versions ?"}],"answer_id":58633257,"body":"<p>This error message...</p>\n\n<pre><code>org.openqa.selenium.remote.UnreachableBrowserException: Could not start a new session. \nPossible causes are invalid address of the remote server or browser start-up failure.\n</code></pre>\n\n<p>...implies that the <strong>ChromeDriver</strong> was unable to initiate/spawn a new <strong>WebBrowser</strong> i.e. <strong>Chrome Browser</strong> session.</p>\n\n<p>Your main issue possibly is the <strong>incompatibility</strong> between the version of the binaries you are using as follows:</p>\n\n<ul>\n<li>You are using <em>chromedriver=2.41</em> </li>\n<li>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/2.41/notes.txt\" rel=\"nofollow noreferrer\"><em>chromedriver=2.41</em></a> clearly mentions the following :</li>\n</ul>\n\n<blockquote>\n  <p>Supports <strong>Chrome v67-69</strong></p>\n</blockquote>\n\n<ul>\n<li>You are using <em>chrome= 68.0</em></li>\n<li>Your <em>Selenium Client</em> version is <strong>unknown</strong> to us.</li>\n<li>Your <em>JDK version</em> is <strong>unknown</strong> to us.</li>\n</ul>\n\n<p>So there might be a mismatch between the <em>JDK version</em> , <em>Selenium Client version</em> , <em>ChromeDriver v2.41</em> and the <em>Chrome Browser v68.0</em></p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>Ensure that:</p>\n\n<ul>\n<li><em>JDK</em> is upgraded to  current levels <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">JDK 8u222</a>.</li>\n<li><em>Selenium</em> is upgraded to  current levels <a href=\"https://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\">Version 3.141.59</a>.</li>\n<li><em>ChromeDriver</em> is updated to  current <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/\" rel=\"nofollow noreferrer\">ChromeDriver v78.0</a> level.</li>\n<li><em>Chrome</em> is updated to  current <em>Chrome Version 78.0</em> level. (as per <a href=\"https://chromedriver.storage.googleapis.com/78.0.3904.70/notes.txt\" rel=\"nofollow noreferrer\">ChromeDriver v78.0 release notes</a>)</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code> as <strong>non-root</strong> user.</li>\n</ul>\n"},{"comments":[{"comment_id":127094525,"body":"Is it idle to wait for 20 minutes for test case to run.  I am facing this issue only on remote execution on Perfecto,Brwoserstack. On Local environment this works fine."},{"comment_id":129726644,"body":"You can specify your own."}],"answer_id":71545058,"body":"<p>The reason why this happens.</p>\n<ul>\n<li>When the test does not get executed within 3 minutes(Default timing) then it will throw the exception of browser startup failure.</li>\n</ul>\n<p>Solution:-\nChange the way to create RemoteWebDriver.</p>\n<pre><code>  ClientConfig config = ClientConfig.defaultConfig().connectionTimeout(Duration.ofMinutes(20))\n.readTimeout(Duration.ofMinutes(20)); // I change this 3 minute(Default) to 20 minutes.\n\nWebDriver remoteWebDriver = RemoteWebDriver.builder().oneOf(caps).address(gridUrl).config(config).build(); // now you can use this remoteWebDriver.\n</code></pre>\n"},{"answer_id":73147358,"body":"<p>I have checked that the:</p>\n<ul>\n<li>path is incorrect,</li>\n<li>the path had .exe extension for mac driver</li>\n<li>typo on the path, I had a comma instead of dot webdriver.chrome,driver</li>\n</ul>\n<p>Lastly, it could be the compatibility issue but all worked fine after checking above items</p>\n"},{"answer_id":73238532,"body":"<p>For mac, there are 2 option for chrome driver\n<a href=\"https://i.stack.imgur.com/wlhKc.png\" rel=\"nofollow noreferrer\">chromedriver mac 1 or 2</a></p>\n<ol>\n<li>chromedriver_mac64.zip OR 2. chromedriver_mac64_m1.zip</li>\n</ol>\n<p>Now, Go to file &gt; Right click and &quot;Open with terminal&quot; &gt; Provide required access.\n<a href=\"https://i.stack.imgur.com/NwLXT.png\" rel=\"nofollow noreferrer\">open in terminal</a>\nNow, run command &quot;mvn clean install&quot; again, It works.</p>\n"},{"answer_id":76285628,"body":"<p>Actually, the error is bit inappropriate. I too had the same issue but while using GRID and the problems were two.</p>\n<ol>\n<li><p>Selenium GRID / server version and the selenium lib used in code are different versions (4.9.0 and 4.8.3)\n<a href=\"https://i.stack.imgur.com/iaD5r.png\" rel=\"nofollow noreferrer\">Selenium server version img</a>\n<a href=\"https://i.stack.imgur.com/hM3y6.png\" rel=\"nofollow noreferrer\">Selenium lib in code img</a></p>\n</li>\n<li><p>Capability values were incorrect - Incorrect platform was chosen\nWIN10 instead of WIN11\n<code>DesiredCapabilities cap = new DesiredCapabilities(); cap.setPlatform(Platform.WIN10); cap.setBrowserName(&quot;chrome&quot;); WebDriver driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), cap);</code></p>\n</li>\n</ol>\n"}],"last_activity_date":1684463201,"question_id":58628081,"body":"<p>I am new to selenium. Able to configure selenium set up on Ubuntu.Configuration details given below:</p>\n\n<ul>\n<li>Google Chrome 68.0.3440.84 </li>\n<li>ChromeDriver 2.41.578700 (2f1ed5f9343c13f73144538f15c00b370eda6706)</li>\n<li>Jenkins ver. 2.193</li>\n<li>ubuntu-18.04</li>\n<li>Selenium 3.13.0</li>\n<li>OpenJDK 1.8</li>\n<li>Doc referred for selenium set up : <a href=\"https://tecadmin.net/setup-selenium-chromedriver-on-ubuntu/\" rel=\"nofollow noreferrer\">https://tecadmin.net/setup-selenium-chromedriver-on-ubuntu/</a></li>\n</ul>\n\n<p>But every run I am getting below error on jenkins :</p>\n\n<pre><code>Opening chrome driver\nOct 30, 2019 1:26:49 PM org.openqa.selenium.remote.DesiredCapabilities chrome\nINFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\n[ERROR] Tests run: 3, Failures: 1, Errors: 0, Skipped: 2, Time elapsed: 0.998 s &lt;&lt;&lt; FAILURE! - in TestSuite\n[ERROR] setUp(com.test.WebAppTitleTestOnChrome)  Time elapsed: 0.895 s  &lt;&lt;&lt; FAILURE!\norg.openqa.selenium.remote.UnreachableBrowserException: \nCould not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\n</code></pre>\n\n<p>Please suggest me.</p>\n"},{"comments":[{"comment_id":134486454,"body":"Wild guess... may need to add &quot;OPTIONS&quot; in allowed methods"}],"answers":[{"answer_id":76263474,"body":"<p>No need to implement the CORS filter by yourself.</p>\n<p>SpringBoot has everything ready, you just need to pass the configuration.</p>\n<pre><code>@Configuration\npublic class WebMvcConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(mapping)\n                .allowedHeaders(allowedHeaders) // *\n                .exposedHeaders(exposedHeaders) // *\n                .allowedMethods(allowedMethods) // *\n                .allowedOrigins(allowedOrigins) // *\n                .allowCredentials(allowedCredentials);  // false\n    }\n...\n}\n</code></pre>\n"},{"comments":[{"comment_id":134492890,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76264099/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76264099,"body":"<pre><code>@Configuration\nclass CorsConfiguration {\n    @Bean\n    fun corsConfigurer(): WebMvcConfigurer {\n        return object : WebMvcConfigurer {\n            override fun addCorsMappings(registry: CorsRegistry) {\n                registry\n                    .addMapping(&quot;/**&quot;)\n                    .allowedOrigins(&quot;*&quot;)\n                    .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)\n            }\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":76283335,"body":"<p>Fix it, add bean with configuration</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain(final HttpSecurity http) throws Exception {\n        return http\n                .cors().configurationSource(request -&gt; {\n                    final CorsConfiguration cors = new CorsConfiguration();\n                    cors.setAllowedOrigins(List.of(&quot;*&quot;));\n                    cors.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;HEAD&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n                    cors.setAllowedHeaders(List.of(&quot;Origin&quot;, &quot;Accept&quot;, &quot;X-Requested-With&quot;, &quot;Content-Type&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, &quot;Authorization&quot;));\n                    cors.setExposedHeaders(List.of(&quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Authorization&quot;));\n                    return cors;\n                })\n                .and()\n                .csrf().disable()\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .mvcMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                        .mvcMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\n                        .mvcMatchers(&quot;/opinions&quot;).permitAll()\n                        .mvcMatchers(&quot;/login&quot;).permitAll()\n                        .mvcMatchers(&quot;/merchant_queries&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(tokenAuthorizationFilter, SecurityContextHolderAwareRequestFilter.class)\n                .build();\n    }\n</code></pre>\n"},{"answer_id":76285472,"body":"<p>The simplest solution is adding @CrossOrigin(&quot;*&quot;) up to your controller</p>\n"}],"last_activity_date":1684463148,"question_id":76262770,"body":"<p>i have problem with cors, when i call to api without header authorization i get back success data, but when i call to endpoint authorized by token, and i add header i get an error like this:\nAccess to XMLHttpRequest at 'http://localhost:8080/merchants' from origin <code>'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>\n<p>My cors filter:</p>\n<pre><code>package com.kompan.security.filter;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class CorsFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\n                                    final FilterChain filterChain) throws ServletException, IOException {\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, PATCH, HEAD&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Authorization&quot;);\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Authorization&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.addIntHeader(&quot;Access-Control-Max-Age&quot;, 10);\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134523843,"body":"Are there any other activation conditions other than the os?"},{"comment_id":134523863,"body":"Also, is your colleague using WSL by any chance? What&#39;s the output of <code>mvn enforcer:display-info</code> in his machine?"},{"comment_id":134523963,"body":"Despite the fact that I&#39;m not showing the entire pom.xml, I did show the entire start of the profiles block, that shows the only activation conditions. I&#39;ll queue up a request for him to run that mvn command, and I&#39;ll inspect the output and compare it with mine. Oh, looking at the output of that, I already have that. I&#39;ll update the post with that. He is not using WSL."},{"comment_id":134524226,"body":"Find that bit of code in maven and put a breakpoint there."}],"answers":[{"comments":[{"comment_id":134525340,"body":"I&#39;m confused. My coworker, who is using 11.0.18 is who is having the problem. I am using the older 11.0.13, which is not seeing the problem. Are you saying that if I upgrade to 11.0.18, I will start seeing the same problem?"},{"comment_id":134529383,"body":"I missread who had the issue. My assumption is that the only components that seem different are Maven version and operating system. You should also try with latest Maven version and Java version."}],"answer_id":76285606,"body":"<p>The issue seems that his slightly newer version of JDK actually reports the correct version of the operating system. According to Java <a href=\"https://bugs.openjdk.org/browse/JDK-8274737\" rel=\"nofollow noreferrer\">bug report JDK-8274737</a> that was fixed in version 11.0.13 and included in the <a href=\"https://www.oracle.com/java/technologies/javase/11-0-13-relnotes.html\" rel=\"nofollow noreferrer\">release notes</a> but the version that you are using for some reason doesn't seem to contain the fix and it is mentioned again in the <a href=\"https://www.oracle.com/java/technologies/javase/11-0-14-relnotes.html\" rel=\"nofollow noreferrer\">release notes of Java 11.0.1</a>4. Since that is the only apparent difference you should try with a newer version of Java 11.</p>\n"}],"last_activity_date":1684462884,"question_id":76285176,"body":"<p>I work on the platform for a large number of Maven-built services.  Quite a few of them have a construct like this:</p>\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;build.profile.id&gt;local&lt;/build.profile.id&gt;\n            &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n            &lt;skipITs&gt;true&lt;/skipITs&gt;\n        &lt;/properties&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;integration-test&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;build.profile.id&gt;integration-test&lt;/build.profile.id&gt;\n            &lt;skip.unit.tests&gt;true&lt;/skip.unit.tests&gt;\n            &lt;skipITs&gt;false&lt;/skipITs&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;activation&gt;\n            &lt;os&gt;\n                &lt;family&gt;!windows&lt;/family&gt;\n            &lt;/os&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n</code></pre>\n<p>For now, I'm not including the entire pom.xml.  I might if no one can get a clue with what I've provided so far.</p>\n<p>The important part is the end of that listing.  That last profile should only activate if the OS is NOT Windows.  I work on Windows, and another developer I work with is also on Windows. We also have many other developers working on Windows, and also Macs, but that one developer on Windows is having a problem with this pom.xml.</p>\n<p>When I run a build using this, it correctly does NOT execute the plugins in that activation block, because I am on Windows. When that other developer executes this, and we've tried with Maven 3.9.1 and 3.8.8 (I'm testing with 3.8.8), it executes the plugins in that block, and fails because of that (it specifies steps that will not work on Windows).</p>\n<p>I have carefully pored over the &quot;mvn -X&quot; output from both me and him (which I'm not providing as of yet), and I certainly see where his output executes those plugins and mine does not, but I don't see any obvious &quot;decision point&quot; where it evaluates that expression and decides to activate that profile.</p>\n<p>What I'm looking for are some leads.  What should I look for in differences between his output and mine?</p>\n<p><strong>Update</strong>:</p>\n<p>If it helps, the output of the enforcer plugin is shown at the top of our &quot;mvn -X&quot; output, so I'll post that here.  There are only two small differences between his and mine.</p>\n<p>Mine:</p>\n<pre><code>Apache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\nMaven home: ...\\apache-maven-3.8.8\nJava version: 11.0.13, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11.0.13\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>His:</p>\n<pre><code>Apache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\nMaven home: ...\\apache-maven-3.8.8\nJava version: 11.0.18, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>We're using slightly different patch versions of Java 11, and for some reason his OS name is &quot;windows 11&quot;, whereas mine is &quot;windows 10&quot;. Everything else is the same.</p>\n"},{"comments":[{"comment_id":73334305,"body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/12519335/resource-leak-in-is-never-closed\">Resource leak: &#39;in&#39; is never closed</a>"}],"answers":[{"answer_id":43167837,"body":"<p>Scanner objects need to be closed after one is done using them. So, after you're done with it you should call the following before the end of your main method</p>\n\n<pre><code>SC.close();\n</code></pre>\n"},{"answer_id":51399528,"body":"<p>after your scanner work completed put:  <code>sc.close();</code></p>\n\n<p>It is working 100%</p>\n"},{"comments":[{"comment_id":103477463,"body":"put <code>.close()</code> in the <code>finally</code> block at the end can avoid resource leak due to any exception happens in the body of code."}],"answer_id":54904984,"body":"<p>Try this code</p>\n\n<pre><code>public static void number - count(String args[]) throws IOException {\n Scanner sc = new Scanner(System.in);\n   try{\n        //your code\n      }\n   finally {\n   sc.close();\n   } \n   }\n</code></pre>\n"},{"answer_id":65787890,"body":"<p>If you want to use the scanner globally in a class(which is the case sometimes)</p>\n<p><em>try this:</em></p>\n<pre><code>static Scanner sc = new Scanner(System.in);\n</code></pre>\n"},{"answer_id":74309400,"body":"<p>/* Making it easy for beginners, when we use Scanner sc it is required to be close once we have taken all inputs from user, to close use sc.close(); */</p>\n<pre><code>package basicjava;\nimport java.util.*;\n\n\npublic class sumbyuser {\n    public static void main(String args[]){\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter your numbers for summation : &quot;);\n        int a = sc.nextInt();\n        int b = sc.nextInt();\n        sc.close();\n        int sum = a+b;\n        System.out.println(&quot;Summation is  : &quot;+sum);\n    \n    }\n    \n}\n</code></pre>\n"},{"answer_id":75213461,"body":"<p><em><strong>Try sc.close();</strong></em></p>\n<p>After the using the scanner inputs :</p>\n<pre><code>import java.util.*;\n\npublic class Func1 {\n\n    public static void CalculateSum() {\n        Scanner sc = new Scanner(System.in);\n        int a = sc.nextInt();\n        int b = sc.nextInt();\n        sc.close();\n        int sum = a + b;\n        System.out.println(&quot;The sum is &quot; + sum);\n    }\n\n    public static void main(String[] args) {\n        CalculateSum();\n    }\n}\n</code></pre>\n"},{"answer_id":76285560,"body":"<p>The close() somebody already got, the other thing is to change sc. to SC. + I would recommnend main(String[] args), works for me.</p>\n<pre><code>public static void  main(String[] args) {\n    \n    String s;\n    char ch;\n    int count = 0;\n    Scanner SC = new Scanner(System.in);\n    System.out.println(&quot;Enter a sentence&quot;);\n    String str = SC.nextLine();\n    System.out.println(&quot;Enter a character to be searched for occurence&quot;);\n    s = SC.nextLine();\n    char c = s.charAt(0);\n    for (int i = 0; i &lt; str.length(); i++) {\n        ch = str.charAt(i);\n        if (ch == c) {\n            count++;\n        }\n    }\n    System.out.println(&quot;Character &quot; + c + &quot; occur &quot; + count + &quot; times&quot;);\n\n    SC.close();\n}\n</code></pre>\n<p>}</p>\n"}],"last_activity_date":1684461902,"question_id":43120687,"body":"<p>Program to count how many times a particular character, letter or number occur in a sentence. </p>\n\n<p>However I keep getting message: </p>\n\n<blockquote>\n  <p>Resource leak: 'sc' is never closed</p>\n</blockquote>\n\n<p>I am using Java and Eclipse. What should I do?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nclass Number-count {\n    public static void number - count(String args[]) {\n        String s;\n        char ch;\n        int count = 0;\n        Scanner SC = new Scanner(System. in );\n        System.out.println(\"Enter a sentence\");\n        String str = sc.nextLine();\n        System.out.println(\"Enter a character to be searched for occurence\");\n        s = sc.nextLine();\n        char c = s.charAt(0);\n        for (int i = 0; i &lt; str.length(); i++) {\n            ch = str.charAt(i);\n            if (ch == c) {\n                count++;\n            }\n        }\n        System.out.println(\"Character \" + c + \" occur \" + count + \" times\");\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134525260,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"last_activity_date":1684461713,"question_id":76285546,"body":"<p>How to run ORMLite Auto-Generator generate table entity class</p>\n<p>Auto generate ORMLITE entity class.</p>\n<p>I have tried below cmd but didn't work\n&quot;ormlite-autogen generate -c generator.properties&quot; Where I can find &quot;ORMLite Auto-Generator&quot; dependencies</p>\n"}]}