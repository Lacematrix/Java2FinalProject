{"items":[{"comments":[{"comment_id":134513616,"body":"Please follow this link Focus on the Junit file which is uploading file to rest API - So same you neet to do from your first API implementation <a href=\"https://www.mastertheboss.com/jboss-frameworks/resteasy/using-rest-services-to-manage-download-and-upload-of-files/\" rel=\"nofollow noreferrer\">mastertheboss.com/jboss-frameworks/resteasy/&hellip;</a>  It is just a HTTP call with multipart type of request body -  How you send JSON or anything else from one API to another same way you sed the file with its right type."}],"answers":[{"answer_id":76279612,"body":"<p>Try using the <code>OKHttpClient</code> class in your src post method:</p>\n<pre><code>public static boolean uploadFile(String actionUrl,File file,String token) {\n    OkHttpClient client = new OkHttpClient().newBuilder()\n            .build();\n    MediaType mediaType = MediaType.parse(&quot;multipart/form-data&quot;);\n    RequestBody body = RequestBody.create(mediaType, file);\n    Request request = new Request.Builder()\n            .url(actionUrl)\n            .method(&quot;POST&quot;, body)\n            .addHeader(&quot;Authorization&quot;, token)\n            .addHeader(&quot;Accept&quot;, &quot;application/json;odata=verbose&quot;)\n            .addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;)\n            .build();\n    try {\n        Response response = client.newCall(request).execute();\n    } catch (IOException e) {\n        e.printStackTrace();\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"answer_id":76279864,"body":"<p>Think of your first REST API from which you would want to invoke a request to the second one as a client. The fact that it is also a REST API by itself is irrelevant. So, you can use any third-party Http client to send a request to your second REST API. Here Here are some popular Http clients</p>\n<ol>\n<li><a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/\" rel=\"nofollow noreferrer\">Apache Http client</a></li>\n<li><a href=\"https://square.github.io/okhttp/\" rel=\"nofollow noreferrer\">OK Http client</a></li>\n<li>There is an Open source MgntUtils (written and maintained by me). It has a simplistic Http client as well. It doesn't give all the wealth of features as the other 2 above but is a very simple in use. You can try that one as well. Here is a <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/lifecycle/management/httpclient/HttpClient.html\" rel=\"nofollow noreferrer\">HttpClient Javadoc</a>. The MgntUtils library can be obtained as a <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (with source code and Javadoc)</li>\n</ol>\n"}],"last_activity_date":1684411069,"question_id":76279277,"body":"<p>Can someone help me to understand how to send files Post from one rest API to another rest API</p>\n"},{"last_activity_date":1684411065,"question_id":76280269,"body":"<p>I am doing this experiment in ANYLOGIC in which i have three parameters on which I run a parameter variation. On top of that, I want some function including these parameters to show up in the parameter variation. It is a very straight forward function, but I can't seem to store it in a parameter which will then show up in the parameter variation. Does someone know if this is even possible? I pasted the line of code here. Basically what I want to know is if I can put a variable in a parameter variation or somehow store the outcome of a function in a parameter.</p>\n<pre><code>Costs = URA * AsynchronousCosts;\nif (URA != 0) {\n  Costs += OpeningCosts;\n} else {\n  Costs += 0;\n}\nCosts += URS * SynchronousCosts;\nif (URS != 0) {\n  Costs += OpeningCosts;\n} else {\n  Costs += 0;\n}\nCosts += URL * IndirectCosts;\nif (URL != 0) {\n  Costs += OpeningCosts;\n} else {\n  Costs += 0;\n}\nCosts = Costs * (nTeams - 1);\nreturn Costs;\n</code></pre>\n<p>I have tried naming the parameter Costs, but this results in zero and when I have a variable named Costs I get an error when running the parameter variation. BTW the parameter variation is run on URA,URS and URL</p>\n<p>I tried having a parameter with the name Costs which let the parameter variation run, but resulted in zero. Or adding a variable in the parameter variation which caused an error</p>\n"},{"comments":[{"comment_id":134515379,"body":"I fail to understand your question. Perhaps if you define what exactly you mean by &quot;autofill&quot; and give a clearer example, I might understand it?"},{"comment_id":134515460,"body":"i mean when I enters value in first input , the other input fields automatically fill by data"},{"comment_id":134515490,"body":"Please post <i>all</i> relevant code, example data, expected result from that data and what currently happens (we need details, incl. full error messages, if any.) Also read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>."},{"comment_id":134515538,"body":"Instead of writing a simple comment, please explain what you mean in the question itself. Are you talking about <a href=\"https://web.dev/learn/forms/autofill/\" rel=\"nofollow noreferrer\">this autofill</a>? If so, can you give us the code you use and describe what you do and what happens when you use the code?"}],"last_activity_date":1684410826,"question_id":76280591,"body":"<p>When I tried to auto fill single row . Its work fine. where as when I add row dynamically by using java script, autofill do not work properly. For example : When I write id, Name automatically come in next field.</p>\n<p>id Name\n1  Umar</p>\n<p>But when I add more row dynamically by using java script, than following things happen\nid Name\n1 Umar\nWhen I try to insert 2nd record . for instance id 2, than instead of giving name in this row, Name of first row chnaged. Can any body explain how can i handle this issue ?????</p>\n<p>I tried different techniques but failed</p>\n"},{"last_activity_date":1684410635,"question_id":76271199,"body":"<p>I would like to write unit test a function that calls another private function. This private function is responsible for reading an XML file from disk. However, I want to avoid dependencies on a real file during the unit test. Instead, I would like to use XML content stored in a String variable.</p>\n<p>Despite successfully mocking the ScenarioParser, I am encountering an error due to the inner variables DocumentBuilder and DocumentFactory. Therefore, I was considering extending and modifying the unit test accordingly to address this issue.</p>\n<p>I am using PowerMockito &amp; JUnit4.</p>\n<p>Class which is being tested:</p>\n<pre><code>\n    private static final Logger LOGGER = LoggerFactory.getLogger(ScenarioParser.class);\n    \n    private final String scenarioFile;\n    \n    /**\n     * Constructs a ScenarioParser with the specified scenario file path.\n     *\n     * @param scenarioFile the path to the scenario XML file\n     */\n    public ScenarioParser(String scenarioFile) {\n        LOGGER.debug(&quot;ScenarioParser Ctor&quot;);\n        this.scenarioFile = scenarioFile;\n    }\n    \n    /**\n     * Parses the scenario XML file and returns a list of Scenario objects.\n     *\n     * @return the list of parsed Scenario objects\n     */\n    public List&lt;Scenario&gt; parse() {\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\n    \n        try(InputStream inputStream = getResourceAsStream(scenarioFile))  \n        {\n            LOGGER.trace(&quot;getResourceAsStream is working for {0}&quot;, scenarioFile);\n            if (inputStream != null) {\n                Document document = parseDocument(inputStream);\n                if (document != null) {\n                    scenarios = parseScenarios(document);\n                }\n            } else {\n                LOGGER.error(&quot;Scenario XML file {} is not found&quot;, scenarioFile);\n            }\n        } catch (IOException e) {\n            LOGGER.error(&quot;Failed to read the scenario XML file: {}&quot;, e.getMessage());\n        }\n    \n        return scenarios;\n    }\n    \n    /**\n     * Retrieves the input stream for the scenario XML file.\n     *\n     * @param scenarioFile the path to the scenario XML file\n     * @return the input stream for the scenario XML file\n     */\n    private InputStream getResourceAsStream(String resourcePath) {\n        return Thread.currentThread().getContextClassLoader().getResourceAsStream(resourcePath);\n    }\n    \n    /**\n     * Parses the XML document from the input stream.\n     *\n     * @param inputStream the input stream of the XML file\n     * @return the parsed Document object\n     */\n    private Document parseDocument(InputStream inputStream) {\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n        try {\n            DocumentBuilder builder = factory.newDocumentBuilder();\n            return builder.parse(inputStream);\n        } catch (ParserConfigurationException | SAXException | IOException e) {\n            LOGGER.error(&quot;Failed to parse the scenario XML file: {}&quot;, e.getMessage());\n        }\n        return null;\n    }\n    \n    /**\n     * Parses the Document and returns a list of Scenario objects.\n     *\n     * @param document the scenario element\n     * @return the list of parsed Scenario objects\n     */\n    private List&lt;Scenario&gt; parseScenarios(Document document) {\n        List&lt;Scenario&gt; scenarios = new ArrayList&lt;&gt;();\n        Element rootElement = document.getDocumentElement();\n        NodeList scenarioNodes = rootElement.getElementsByTagName(&quot;scenario&quot;);\n    \n        for (int i = 0; i &lt; scenarioNodes.getLength(); i++) {\n            Node scenarioNode = scenarioNodes.item(i);\n            if (scenarioNode.getNodeType() == Node.ELEMENT_NODE) {\n                Element scenarioElement = (Element) scenarioNode;\n                String name = scenarioElement.getAttribute(&quot;name&quot;);\n                //...\n            }\n        }\n    \n        return scenarios;\n    }\n    \n    /**\n     * Parses the step elements within a scenario element and creates ScenarioStep\n     * objects.\n     *\n     * @param scenarioElement the scenario element\n     * @return the list of parsed ScenarioStep objects\n     */\n    private List&lt;ScenarioStep&gt; parseScenarioSteps(Element scenarioElement) {\n        List&lt;ScenarioStep&gt; steps = new ArrayList&lt;&gt;();\n        NodeList stepNodes = scenarioElement.getElementsByTagName(&quot;step&quot;);\n    \n        for (int j = 0; j &lt; stepNodes.getLength(); j++) {\n            Node stepNode = stepNodes.item(j);\n    \n            if (stepNode.getNodeType() == Node.ELEMENT_NODE) {\n                Element stepElement = (Element) stepNode;\n                //..\n                steps.add(step);\n            }\n        }\n    \n        return steps;\n    }\n    \n    /**\n     * Parses the parameter elements within a step element and creates a map of\n     * parameter key-value pairs.\n     *\n     * @param stepElement the step element\n     * @return the map of parsed parameter key-value pairs\n     */\n    private Map&lt;String, String&gt; parseStepParameters(Element stepElement) {\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n        NodeList parameterNodes = stepElement.getElementsByTagName(&quot;parameter&quot;);\n    \n        for (int k = 0; k &lt; parameterNodes.getLength(); k++) {\n            Node parameterNode = parameterNodes.item(k);\n    \n            if (parameterNode.getNodeType() == Node.ELEMENT_NODE) {\n                Element parameterElement = (Element) parameterNode;\n                String key = parameterElement.getAttribute(&quot;key&quot;);\n                String value = parameterElement.getAttribute(&quot;value&quot;);\n                parameters.put(key, value);\n            }\n        }\n    \n        return parameters;\n     } \n}\n</code></pre>\n<p>Following is my test class:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PowerMockIgnore({ &quot;com.sun.org.apache.xerces.&quot;, &quot;javax.xml.&quot;, &quot;org.xml.&quot;,   &quot;javax.management.&quot;})@PrepareForTest({ ScenarioParser.class, DocumentBuilderFactory.class, DocumentBuilder.class })public class ScenarioParserTest {\n\n    @Mock\n    private InputStream mockInputStream;\n    \n    @Spy\n    private ScenarioParser scenarioParser = new ScenarioParser(&quot;sample.xml&quot;); \n    \n    @Before\n    public void setup() throws Exception {\n        MockitoAnnotations.initMocks(this);\n       \n    }\n    \n    @Test\n    public void testParse_ValidInput_ReturnsScenarios() throws Exception {\n        // Mock the input stream with a sample XML content\n        String xmlContent = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;\\n&quot; +\n                &quot;&lt;scenarios&gt;\\n&quot; +\n                &quot;     &lt;scenario name=\\&quot;Scenario 1\\&quot; duration=\\&quot;10\\&quot; interval=\\&quot;2\\&quot;&gt;\\n&quot; +\n                &quot;       &lt;step action=\\&quot;Action 1\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param1\\&quot; value=\\&quot;Value1\\&quot; /&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param2\\&quot; value=\\&quot;Value2\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 2\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param3\\&quot; value=\\&quot;Value3\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;    &lt;/scenario&gt;\\n&quot; +\n                &quot;    &lt;scenario name=\\&quot;Scenario 2\\&quot; duration=\\&quot;20\\&quot; interval=\\&quot;3\\&quot;&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 3\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param4\\&quot; value=\\&quot;Value4\\&quot; /&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param5\\&quot; value=\\&quot;Value5\\&quot; /&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param6\\&quot; value=\\&quot;Value6\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 4\\&quot; /&gt;\\n&quot; +\n                &quot;    &lt;/scenario&gt;\\n&quot; +\n                &quot;    &lt;scenario name=\\&quot;Scenario 3\\&quot; duration=\\&quot;30\\&quot; interval=\\&quot;4\\&quot;&gt;\\n&quot; +\n                &quot;        &lt;step action=\\&quot;Action 5\\&quot;&gt;\\n&quot; +\n                &quot;            &lt;parameter key=\\&quot;Param7\\&quot; value=\\&quot;Value7\\&quot; /&gt;\\n&quot; +\n                &quot;        &lt;/step&gt;\\n&quot; +\n                &quot;    &lt;/scenario&gt;\\n&quot; +\n                &quot;&lt;/scenarios&gt;&quot;;\n    \n        // Mock DocumentBuilderFactory and DocumentBuilder\n        //DocumentBuilderFactory documentBuilderFactoryMock =    \n        PowerMockito.mock(DocumentBuilderFactory.class);\n        //DocumentBuilder documentBuilderMock = PowerMockito.mock(DocumentBuilder.class); \n       \n        //PowerMockito.whenNew(\n        //DocumentBuilderFactory.class).withNoArguments().thenReturn(documentBuilderF\n        //actoryMock);\n    \n        //PowerMockito.when(\n        //documentBuilderFactoryMock.newDocumentBuilder()).thenReturn(documentBuilderMock);\n    \n        // Mock Document\n        //Document documentMock = PowerMockito.mock(Document.class);\n        //PowerMockito.\n        //when(documentBuilderMock.parse(Mockito.any(InputStream.class))).\n        //thenReturn(documentMock);\n        // Mock the scenarioElement, scenarioNode, and other necessary objects for testing\n    \n        // Mock DocumentBuilderFactory and DocumentBuilder\n        when(mockInputStream.read(Mockito.any(byte[].class), Mockito.anyInt(), Mockito.anyInt()))\n                .thenAnswer(invocation -&gt; {\n                    byte[] buffer = invocation.getArgument(0);\n                    byte[] contentBytes = xmlContent.getBytes();\n                    int len = Math.min(buffer.length, contentBytes.length);\n                    System.arraycopy(contentBytes, 0, buffer, 0, len);\n                    return len;\n                });\n    \n        // Create the scenario parser and parse the scenarios\n        PowerMockito.when(scenarioParser, PowerMockito.method(ScenarioParser.class,     \n        &quot;getResourceAsStream&quot;, String.class)).withArguments(Mockito.anyString())\n                .thenReturn(mockInputStream);\n    \n                \n        //when(scenarioParser, &quot;getResourceAsStream&quot;,    \n        ArgumentMatchers.anyString()).thenReturn(mockInputStream);\n        List&lt;Scenario&gt; scenarios = scenarioParser.parse();\n    \n        // Verify the parsed scenarios\n        assertEquals(2, scenarios.size());\n    \n        Scenario scenario1 = scenarios.get(0);\n        assertEquals(&quot;Scenario 1&quot;, scenario1.getName());\n        assertEquals(10, scenario1.getDuration());\n        assertEquals(2, scenario1.getInterval());\n    \n        List&lt;ScenarioStep&gt; steps1 = scenario1.getSteps();\n        assertEquals(2, steps1.size());\n        assertEquals(&quot;Action 1&quot;, steps1.get(0).getAction());\n        assertEquals(&quot;Value1&quot;, steps1.get(1).getParameter(&quot;Param1&quot;));\n    \n        Scenario scenario2 = scenarios.get(1);\n        assertEquals(&quot;Scenario 2&quot;, scenario2.getName());\n        assertEquals(20, scenario2.getDuration());\n        assertEquals(3, scenario2.getInterval());\n    \n        List&lt;ScenarioStep&gt; steps2 = scenario2.getSteps();\n        assertEquals(3, steps2.size());\n        assertEquals(&quot;Action 3&quot;, steps2.get(0).getAction());\n        assertEquals(&quot;Value4&quot;, steps2.get(1).getParameter(&quot;Param4&quot;));\n        assertEquals(&quot;Value5&quot;, steps2.get(2).getParameter(&quot;Param5&quot;));\n    }\n\n}\n</code></pre>\n<p>and this is the pom.xml file partial</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;...&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;&lt;version&gt;2.22.1&lt;/version&gt;&lt;configuration&gt;&lt;argLine&gt;--illegal-access=permit--add-opens java.base/java.lang=ALL-UNNAMED--add-opens java.base/java.util=ALL-UNNAMED--add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED -Dillegal-access=permit\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.util=ALL-UNNAMED\n        --add-exports org.junit.platform.commons/org.junit.platform.commons.logging=ALL-UNNAMED\n        &lt;/argLine&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    ...\n</code></pre>\n<p>When executing the test without or with the Maven goal <code>-Dmaven.surefire.debug test</code>, I encounter the following error:</p>\n<blockquote>\n<p>java.lang.VerifyError:Bad type on operand stackException\nDetails:Location:javax/xml/parsers/DocumentBuilderFactory.newDefaultNSInstance()Ljavax/xml/parsers/DocumentBuilderFactory;\n@119: invokestaticReason:Type\n'com/sun/org/apache/xerces/internal/jaxp/DocumentBuilderFactoryImpl'\n(current frame, stack[0]) is not assignable to\n'javax/xml/parsers/DocumentBuilderFactory'...</p>\n</blockquote>\n<p>How to fix this issue!</p>\n"},{"comments":[{"comment_id":38174245,"body":"<code>null</code> always was a bit problematic, like in TreeMap. Maybe a nice moment to try out <code>Optional&lt;Boolean&gt;</code>? Otherwise split and use filter."},{"comment_id":38174896,"body":"@JoopEggen <code>null</code> could be a problem for a key, but in this case it&#39;s the value."},{"comment_id":38177949,"body":"Not all maps have problem with <code>null</code>, <code>HashMap</code> for example can have one <code>null</code> key and any number of <code>null</code> values, you can try creating a custom <code>Collector</code> using a <code>HashMap</code> instead of using the default one."},{"comment_id":48509183,"body":"@kajacx But the default implementation is <code>HashMap</code> - as shown in the first line of stacktrace. The problem is not that a <code>Map</code> can&#39;t hold <code>null</code> value, but that the second argument of <code>Map#merge</code> function can&#39;t be null."},{"comment_id":93983655,"body":"Personally, with the given circumstances, I would go with non-stream solution, or forEach() if the input is parallel. The nice short stream based solutions below could have a terrible performance."},{"comment_id":97468732,"body":"You have a better solution for your problem by @kajacx"},{"comment_id":133123332,"body":"I just discovered this today ! I really don&#39;t understand the use of Collectors.toMap() then ! It is like if with collect into a list and can&#39;t add null values. I fear that at several locations my code is failing for that."}],"answers":[{"comments":[{"comment_id":38175934,"body":"In that case I would rather use the old-fashioned for-each. Should I consider this a bug in toMerge? as the use of this merge function is really an implementation detail, or is the a good reasoning for not allowing toMap to process null values?"},{"comment_id":38185746,"body":"I don&#39;t see that in the javadoc, your quote is about a different overload of the toMap function. I don&#39;t provide a merge function. Anyway, thanks for your answer, a bit dissapointing for me that the old way is still the most attractive option (i had rather used the java-8 way :) )."},{"comment_id":38210145,"body":"Yes it is from an overloaded <code>toMap</code> method. This method is the base method of the others ones, so i guess is documentation is more complete. But you are right, it is not explicitly specified in the method you are using."},{"comment_id":47436152,"body":"Never thought that null values in map would make such an impact on standard API, I&#39;d rather consider it as a flaw."},{"comment_id":54232940,"body":"Actually the API docs don&#39;t state anything about the use of <a href=\"http://docs.oracle.com/javase/8/docs/api/index.html?java/lang/Integer.html\" rel=\"nofollow noreferrer\"><code>Map.merge</code></a>. This IMHO is a flaw in the implementation that restricts a perfectly acceptable use-case that has been overlooked. The overloaded methods of <code>toMap</code> do state the use of <code>Map.merge</code> but not the one the OP is using."},{"comment_id":62601105,"body":"@BrettRyan it mentions it by the overloads that accept <code>mergeFunction</code>, but not by the first one. Regardless, it definitely seems like an oversight."},{"comment_id":66616753,"body":"@Jasper there is even bug report <a href=\"https://bugs.openjdk.java.net/browse/JDK-8148463\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8148463</a>"},{"comment_id":97468682,"body":"This should not have been accepted as the answer. @kajacx gave the right answer."},{"comment_id":98679793,"body":"I don&#39;t care what it has under the hood. All I care when reading Javadoc is the contract. Javadoc should say that it <code>throws NullPointerException</code> if any of the elements is null!"},{"comment_id":99143037,"body":"@acv sir yes sir!"},{"comment_id":107700685,"body":"This answer has better explanation ."},{"comment_id":126625291,"body":"@AskarKalykov 100% agree. I noticed today that <code>Map.ofEntries</code> has the same flaw. For no reason that I can think of (except for laziness on the JDK developers&#39; part because now they don&#39;t have to do <code>null</code> checks in their <code>equals</code> and <code>hashCode</code> methods) they are disallowing <code>null</code> values there, too."},{"comment_id":130270801,"body":"Yes, that&#39;s what the spec says. However, it looks like a typo in the spec, because it makes no sense. It should probably have read:  throws <code>NullPointerException</code> if the specified key is null and this map does not support null keys or the value <b>of</b> <code>remappingFunction</code> is null"}],"answer_id":24632080,"body":"<p>It is not possible with the static methods of <code>Collectors</code>. The javadoc of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\"><code>toMap</code></a> explains that <code>toMap</code> is based on <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\"><code>Map.merge</code></a>:</p>\n\n<blockquote>\n  <p>@param mergeFunction a merge function, used to resolve collisions between values associated with the same key, as supplied to <code>Map#merge(Object, Object, BiFunction)}</code></p>\n</blockquote>\n\n<p>and the javadoc of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#merge-K-V-java.util.function.BiFunction-\"><code>Map.merge</code></a> says: </p>\n\n<blockquote>\n  <p>@throws NullPointerException if the specified key is null and this map\n  does not support null keys or <strong>the value</strong> or remappingFunction <strong>is</strong>\n  <strong>null</strong></p>\n</blockquote>\n\n<p>You can avoid the for loop by using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html#forEach-java.util.function.Consumer-\"><code>forEach</code></a> method of your list.</p>\n\n<pre><code>Map&lt;Integer,  Boolean&gt; answerMap = new HashMap&lt;&gt;();\nanswerList.forEach((answer) -&gt; answerMap.put(answer.getId(), answer.getAnswer()));\n</code></pre>\n\n<p>but it is not really simple than the old way:</p>\n\n<pre><code>Map&lt;Integer, Boolean&gt; answerMap = new HashMap&lt;&gt;();\nfor (Answer answer : answerList) {\n    answerMap.put(answer.getId(), answer.getAnswer());\n}\n</code></pre>\n"},{"answer_id":24632102,"body":"<p>According to the <code>Stacktrace</code></p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\nat java.util.HashMap.merge(HashMap.java:1216)\nat java.util.stream.Collectors.lambda$toMap$148(Collectors.java:1320)\nat java.util.stream.Collectors$$Lambda$5/391359742.accept(Unknown Source)\nat java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)\nat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1359)\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)\nat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\nat com.guice.Main.main(Main.java:28)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:483)\nat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\n</code></pre>\n\n<p>When is called the <code>map.merge</code></p>\n\n<pre><code>        BiConsumer&lt;M, T&gt; accumulator\n            = (map, element) -&gt; map.merge(keyMapper.apply(element),\n                                          valueMapper.apply(element), mergeFunction);\n</code></pre>\n\n<p>It will do a <code>null</code> check as first thing</p>\n\n<pre><code>if (value == null)\n    throw new NullPointerException();\n</code></pre>\n\n<p>I don't use Java 8 so often so i don't know if there are a better way to fix it, but fix it is a bit hard.</p>\n\n<p>You could do:</p>\n\n<p>Use filter to filter all NULL values, and in the Javascript code check if the server didn't send any answer for this id means that he didn't reply to it.</p>\n\n<p>Something like this:</p>\n\n<pre><code>Map&lt;Integer, Boolean&gt; answerMap =\n        answerList\n                .stream()\n                .filter((a) -&gt; a.getAnswer() != null)\n                .collect(Collectors.toMap(Answer::getId, Answer::getAnswer));\n</code></pre>\n\n<p>Or use peek, which is used to alter the stream element for element. Using peek you could change the answer to something more acceptable for map but it means edit your logic a bit.</p>\n\n<p>Sounds like if you want to keep the current design you should avoid <code>Collectors.toMap</code></p>\n"},{"comments":[{"comment_id":45397568,"body":"Nice example. Do you know if a similar syntax is available for <code>TreeMap</code> with passing a comparator to <code>new</code>?"},{"comment_id":54233981,"body":"@Jagger yes, a definition of a supplier (the first argument) is a function that passes no parameters and returns a result, thus the lambda for your case would be <code>() -&gt; new TreeMap&lt;&gt;(String.CASE_INSENSITIVE_ORDER)</code> to create a case insensitive <code>String</code> keyed <code>TreeMap</code>."},{"comment_id":54234030,"body":"This is the correct answer, and IMHO what the JDK should be doing for its default non-overloaded version instead. Maybe merge is faster, but I have not tested."},{"comment_id":58652016,"body":"I had to specify the type parameters in order to compile, that way: <code>Map&lt;Integer, Boolean&gt; collect = list.stream().collect(HashMap&lt;Integer, Boolean&gt;::new, (m,v)-&gt;m.put(v.getId(), v.getAnswer()), HashMap&lt;Integer, Boolean&gt;::putAll);</code>. I had: <code>incompatible types: cannot infer type-variable(s) R (argument mismatch; invalid method reference no suitable method found for putAll(java.util.Map&lt;java.lang.Integer,java.lang.Boolean&gt;,ja&zwnj;&#8203;va.util.Map&lt;java.lan&zwnj;&#8203;g.Integer,java.lang.&zwnj;&#8203;Boolean&gt;) method java.util.Map.putAll(java.util.Map) is not applicable (actual and formal argument lists differ in length)</code>"},{"comment_id":93156051,"body":"This is a fancy way of @gontard solution (rephrasing the classical instructions to lambda expression) but works fine!..Thanks !"},{"comment_id":93983572,"body":"This might be quite slow on a large input. You create a <code>HashMap</code> and then call <code>putAll()</code> for every single entry. Personally, at given circumstances, I would go with non-stream solution, or <code>forEach()</code> if the input is parallel."},{"comment_id":93985890,"body":"&quot;and then call putAll() for every single entry&quot; is that how it works? I thought that is used only if the stream is parralel to join the results."},{"comment_id":98091898,"body":"<code>Map.merge</code> can be avoided also by switching from <code>toMap</code> to <code>Collectors.groupingBy</code> but only when it&#39;s certain that there are no duplicate keys. Downside here is that you need to use <code>Collectors.reduce</code> or similar for the values instead of the simple method reference."},{"comment_id":98333784,"body":"@kajacx you are correct. That comment is simply wrong unless you have one thread in your pool per element in the stream."},{"comment_id":101297341,"body":"Beware that this solution behaves differently than the original toMap implementation. Original implementation detects duplicate keys and throws an IllegalStatException, but this solution silently accepts the latest key. Emmanuel Touzery&#39;s solution (<a href=\"https://stackoverflow.com/a/32648397/471214\">stackoverflow.com/a/32648397/471214</a>) is closer to the original behaviour."},{"comment_id":130691051,"body":"Here even newer Bug-Ticket which covers even Java 17..  <a href=\"https://bugs.openjdk.org/browse/JDK-8261865\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8261865</a>"}],"answer_id":24634007,"body":"<p>You can work around this <a href=\"https://bugs.openjdk.java.net/browse/JDK-8148463\" rel=\"noreferrer\">known bug</a> in OpenJDK with this:</p>\n<pre><code>Map&lt;Integer, Boolean&gt; collect = list.stream()\n        .collect(HashMap::new, (m,v)-&gt;m.put(v.getId(), v.getAnswer()), HashMap::putAll);\n</code></pre>\n<p>It is not that much pretty, but it works. Result:</p>\n<pre><code>1: true\n2: true\n3: null\n</code></pre>\n<p>(<a href=\"http://docs.oracle.com/javase/tutorial/collections/streams/reduction.html#collect\" rel=\"noreferrer\">this</a> tutorial helped me the most.)</p>\n<p><strong>EDIT:</strong></p>\n<p>Unlike <code>Collectors.toMap</code>, this will silently replace values if you have the same key multiple times, as @mmdemirbas pointed out in the comments. If you don't want this, look at the link in the comment.</p>\n"},{"comments":[{"comment_id":101315282,"body":"But allowing <code>null</code> values and using <code>putIfAbsent</code> does not play well together. It does not detect duplicate keys when they map to <code>null</code>â€¦"}],"answer_id":32648397,"body":"<p>I wrote a <code>Collector</code> which, unlike the default java one, does not crash when you have <code>null</code> values:</p>\n\n<pre><code>public static &lt;T, K, U&gt;\n        Collector&lt;T, ?, Map&lt;K, U&gt;&gt; toMap(Function&lt;? super T, ? extends K&gt; keyMapper,\n                Function&lt;? super T, ? extends U&gt; valueMapper) {\n    return Collectors.collectingAndThen(\n            Collectors.toList(),\n            list -&gt; {\n                Map&lt;K, U&gt; result = new HashMap&lt;&gt;();\n                for (T item : list) {\n                    K key = keyMapper.apply(item);\n                    if (result.putIfAbsent(key, valueMapper.apply(item)) != null) {\n                        throw new IllegalStateException(String.format(\"Duplicate key %s\", key));\n                    }\n                }\n                return result;\n            });\n}\n</code></pre>\n\n<p>Just replace your <code>Collectors.toMap()</code> call to a call to this function and it'll fix the problem.</p>\n"},{"answer_id":32649053,"body":"<p>Here's somewhat simpler collector than proposed by @EmmanuelTouzery. Use it if you like:</p>\n\n<pre><code>public static &lt;T, K, U&gt; Collector&lt;T, ?, Map&lt;K, U&gt;&gt; toMapNullFriendly(\n        Function&lt;? super T, ? extends K&gt; keyMapper,\n        Function&lt;? super T, ? extends U&gt; valueMapper) {\n    @SuppressWarnings(\"unchecked\")\n    U none = (U) new Object();\n    return Collectors.collectingAndThen(\n            Collectors.&lt;T, K, U&gt; toMap(keyMapper,\n                    valueMapper.andThen(v -&gt; v == null ? none : v)), map -&gt; {\n                map.replaceAll((k, v) -&gt; v == none ? null : v);\n                return map;\n            });\n}\n</code></pre>\n\n<p>We just replace <code>null</code> with some custom object <code>none</code> and do the reverse operation in the finisher.</p>\n"},{"comments":[{"comment_id":97035896,"body":"That works only if you are okay with modifying the data. Downstream methods might expect null values rather than empty strings."}],"answer_id":36900375,"body":"<p>If the value is a String, then this might work:\n<code>\nmap.entrySet().stream().collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt;  Optional.ofNullable(e.getValue()).orElse(\"\")))\n</code></p>\n"},{"comments":[{"comment_id":100813821,"body":"The combiner does not check for duplicate keys. If you want to avoid to check for every key, you can use something like <code>(map1, map2) -&gt; { int total = map1.size() + map2.size();  map1.putAll(map2); if(map1.size() &lt; total.size()) throw new IllegalStateException(&quot;Duplicate key(s)&quot;); return map1; }</code>"},{"comment_id":100849126,"body":"@Holger Yep, that&#39;s true. Especially since <code>accumulator()</code> actually does check that. Maybe I should do some parallel streams once :)"}],"answer_id":43299462,"body":"<p><em>Yep, a late answer from me, but I think it may help to understand what's happening under the hood in case anyone wants to code some other <code>Collector</code>-logic.</em></p>\n\n<p>I tried to solve the problem by coding a more native and straight forward approach. I think it's as direct as possible:</p>\n\n<pre><code>public class LambdaUtilities {\n\n  /**\n   * In contrast to {@link Collectors#toMap(Function, Function)} the result map\n   * may have null values.\n   */\n  public static &lt;T, K, U, M extends Map&lt;K, U&gt;&gt; Collector&lt;T, M, M&gt; toMapWithNullValues(Function&lt;? super T, ? extends K&gt; keyMapper, Function&lt;? super T, ? extends U&gt; valueMapper) {\n    return toMapWithNullValues(keyMapper, valueMapper, HashMap::new);\n  }\n\n  /**\n   * In contrast to {@link Collectors#toMap(Function, Function, BinaryOperator, Supplier)}\n   * the result map may have null values.\n   */\n  public static &lt;T, K, U, M extends Map&lt;K, U&gt;&gt; Collector&lt;T, M, M&gt; toMapWithNullValues(Function&lt;? super T, ? extends K&gt; keyMapper, Function&lt;? super T, ? extends U&gt; valueMapper, Supplier&lt;Map&lt;K, U&gt;&gt; supplier) {\n    return new Collector&lt;T, M, M&gt;() {\n\n      @Override\n      public Supplier&lt;M&gt; supplier() {\n        return () -&gt; {\n          @SuppressWarnings(\"unchecked\")\n          M map = (M) supplier.get();\n          return map;\n        };\n      }\n\n      @Override\n      public BiConsumer&lt;M, T&gt; accumulator() {\n        return (map, element) -&gt; {\n          K key = keyMapper.apply(element);\n          if (map.containsKey(key)) {\n            throw new IllegalStateException(\"Duplicate key \" + key);\n          }\n          map.put(key, valueMapper.apply(element));\n        };\n      }\n\n      @Override\n      public BinaryOperator&lt;M&gt; combiner() {\n        return (left, right) -&gt; {\n          int total = left.size() + right.size();\n          left.putAll(right);\n          if (left.size() &lt; total) {\n            throw new IllegalStateException(\"Duplicate key(s)\");\n          }\n          return left;\n        };\n      }\n\n      @Override\n      public Function&lt;M, M&gt; finisher() {\n        return Function.identity();\n      }\n\n      @Override\n      public Set&lt;Collector.Characteristics&gt; characteristics() {\n        return Collections.unmodifiableSet(EnumSet.of(Collector.Characteristics.IDENTITY_FINISH));\n      }\n\n    };\n  }\n\n}\n</code></pre>\n\n<p>And the tests using JUnit and assertj:</p>\n\n<pre><code>  @Test\n  public void testToMapWithNullValues() throws Exception {\n    Map&lt;Integer, Integer&gt; result = Stream.of(1, 2, 3)\n        .collect(LambdaUtilities.toMapWithNullValues(Function.identity(), x -&gt; x % 2 == 1 ? x : null));\n\n    assertThat(result)\n        .isExactlyInstanceOf(HashMap.class)\n        .hasSize(3)\n        .containsEntry(1, 1)\n        .containsEntry(2, null)\n        .containsEntry(3, 3);\n  }\n\n  @Test\n  public void testToMapWithNullValuesWithSupplier() throws Exception {\n    Map&lt;Integer, Integer&gt; result = Stream.of(1, 2, 3)\n        .collect(LambdaUtilities.toMapWithNullValues(Function.identity(), x -&gt; x % 2 == 1 ? x : null, LinkedHashMap::new));\n\n    assertThat(result)\n        .isExactlyInstanceOf(LinkedHashMap.class)\n        .hasSize(3)\n        .containsEntry(1, 1)\n        .containsEntry(2, null)\n        .containsEntry(3, 3);\n  }\n\n  @Test\n  public void testToMapWithNullValuesDuplicate() throws Exception {\n    assertThatThrownBy(() -&gt; Stream.of(1, 2, 3, 1)\n        .collect(LambdaUtilities.toMapWithNullValues(Function.identity(), x -&gt; x % 2 == 1 ? x : null)))\n            .isExactlyInstanceOf(IllegalStateException.class)\n            .hasMessage(\"Duplicate key 1\");\n  }\n\n  @Test\n  public void testToMapWithNullValuesParallel() throws Exception {\n    Map&lt;Integer, Integer&gt; result = Stream.of(1, 2, 3)\n        .parallel() // this causes .combiner() to be called\n        .collect(LambdaUtilities.toMapWithNullValues(Function.identity(), x -&gt; x % 2 == 1 ? x : null));\n\n    assertThat(result)\n        .isExactlyInstanceOf(HashMap.class)\n        .hasSize(3)\n        .containsEntry(1, 1)\n        .containsEntry(2, null)\n        .containsEntry(3, 3);\n  }\n\n  @Test\n  public void testToMapWithNullValuesParallelWithDuplicates() throws Exception {\n    assertThatThrownBy(() -&gt; Stream.of(1, 2, 3, 1, 2, 3)\n        .parallel() // this causes .combiner() to be called\n        .collect(LambdaUtilities.toMapWithNullValues(Function.identity(), x -&gt; x % 2 == 1 ? x : null)))\n            .isExactlyInstanceOf(IllegalStateException.class)\n            .hasCauseExactlyInstanceOf(IllegalStateException.class)\n            .hasStackTraceContaining(\"Duplicate key\");\n  }\n</code></pre>\n\n<p>And how do you use it? Well, just use it instead of <code>toMap()</code> like the tests show. This makes the calling code look as clean as possible.</p>\n\n<p>EDIT:<br>\nimplemented Holger's idea below, added a test method</p>\n"},{"comments":[{"comment_id":84591778,"body":"I think this is the best answer - it&#39;s the most concise answer and it fixes the NPE issue."},{"comment_id":124831702,"body":"Trick is equals() handles null so above is enough"}],"answer_id":44716225,"body":"<p>Retaining all questions ids with small tweak</p>\n\n<pre><code>Map&lt;Integer, Boolean&gt; answerMap = \n  answerList.stream()\n            .collect(Collectors.toMap(Answer::getId, a -&gt; \n                       Boolean.TRUE.equals(a.getAnswer())));\n</code></pre>\n"},{"comments":[{"comment_id":93264454,"body":"It would make sense if a map did not allow null values, but it does. You can do <code>answerMap.put(4, null);</code> without any problems. You are right that with your proposed solution you will get the same result for anserMap.get() if it is not present as if the value would be inserted as null. However, if you iterate over all entries of the map there is a obviously a difference."}],"answer_id":53185359,"body":"<p>Sorry to reopen an old question, but since it was edited recently saying that the \"issue\" still remains in Java 11, I felt like I wanted to point out this:</p>\n\n<pre><code>answerList\n        .stream()\n        .collect(Collectors.toMap(Answer::getId, Answer::getAnswer));\n</code></pre>\n\n<p>gives you the null pointer exception because the map does not allow null as a value.\nThis makes sense because if you look in a map for the key <code>k</code> and it is not present, then the returned value is already <code>null</code> (see javadoc). So if you were able to put in <code>k</code> the value <code>null</code>, the map would look like it's behaving oddly.</p>\n\n<p>As someone said in the comments, it's pretty easy to solve this by using filtering:</p>\n\n<pre><code>answerList\n        .stream()\n        .filter(a -&gt; a.getAnswer() != null)\n        .collect(Collectors.toMap(Answer::getId, Answer::getAnswer));\n</code></pre>\n\n<p>in this way no <code>null</code> values will be inserted in the map, and STILL you will get <code>null</code> as the \"value\" when looking for an id that does not have an answer in the map.</p>\n\n<p>I hope this makes sense to everyone.</p>\n"},{"comments":[{"comment_id":98333655,"body":"upvoting because this compiles. Accepted answer does not compile because Map::putAll does not have a return value."}],"answer_id":54353993,"body":"<pre><code>public static &lt;T, K, V&gt; Collector&lt;T, HashMap&lt;K, V&gt;, HashMap&lt;K, V&gt;&gt; toHashMap(\n        Function&lt;? super T, ? extends K&gt; keyMapper,\n        Function&lt;? super T, ? extends V&gt; valueMapper\n)\n{\n    return Collector.of(\n            HashMap::new,\n            (map, t) -&gt; map.put(keyMapper.apply(t), valueMapper.apply(t)),\n            (map1, map2) -&gt; {\n                map1.putAll(map2);\n                return map1;\n            }\n    );\n}\n\npublic static &lt;T, K&gt; Collector&lt;T, HashMap&lt;K, T&gt;, HashMap&lt;K, T&gt;&gt; toHashMap(\n        Function&lt;? super T, ? extends K&gt; keyMapper\n)\n{\n    return toHashMap(keyMapper, Function.identity());\n}\n</code></pre>\n"},{"comments":[{"comment_id":117905818,"body":"Slight improvement to the duplicate message to mirror the one in Java 11, which also includes the duplicate&#39;s values: <code>U value = valueMapper.apply(item); if (map.containsKey(key)) { throw new IllegalStateException(String.format(&quot;Duplicate key %s (attempted merging values %s and %s)&quot;, key, map.get(key), value)); } map.put(key, value); </code>"}],"answer_id":57409070,"body":"<p>I have slightly modified <a href=\"https://stackoverflow.com/a/32648397/471214\">Emmanuel Touzery's null-safe map <code>Collector</code> implementation</a>.</p>\n<p>This version:</p>\n<ul>\n<li>Allows null keys</li>\n<li>Allows null values</li>\n<li>Detects duplicate keys (even if they are null) and throws <code>IllegalStateException</code> as in the original JDK implementation</li>\n<li>Detects duplicate keys also when the key already mapped to the null value. In other words, separates a mapping with null-value from no-mapping</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T, K, U&gt; Collector&lt;T, ?, Map&lt;K, U&gt;&gt; toMapOfNullables(Function&lt;? super T, ? extends K&gt; keyMapper, Function&lt;? super T, ? extends U&gt; valueMapper) {\n    return Collectors.collectingAndThen(\n        Collectors.toList(),\n        list -&gt; {\n            Map&lt;K, U&gt; map = new LinkedHashMap&lt;&gt;();\n            list.forEach(item -&gt; {\n                K key = keyMapper.apply(item);\n                U value = valueMapper.apply(item);\n                if (map.containsKey(key)) {\n                    throw new IllegalStateException(String.format(\n                            &quot;Duplicate key %s (attempted merging values %s and %s)&quot;,\n                            key, map.get(key), value));\n                }\n                map.put(key, value);\n            });\n            return map;\n        }\n    );\n}\n</code></pre>\n<p>Unit tests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void toMapOfNullables_WhenHasNullKey() {\n    assertEquals(singletonMap(null, &quot;value&quot;),\n        Stream.of(&quot;ignored&quot;).collect(Utils.toMapOfNullables(i -&gt; null, i -&gt; &quot;value&quot;))\n    );\n}\n\n@Test\npublic void toMapOfNullables_WhenHasNullValue() {\n    assertEquals(singletonMap(&quot;key&quot;, null),\n        Stream.of(&quot;ignored&quot;).collect(Utils.toMapOfNullables(i -&gt; &quot;key&quot;, i -&gt; null))\n    );\n}\n\n@Test\npublic void toMapOfNullables_WhenHasDuplicateNullKeys() {\n    assertThrows(new IllegalStateException(&quot;Duplicate key null&quot;),\n        () -&gt; Stream.of(1, 2, 3).collect(Utils.toMapOfNullables(i -&gt; null, i -&gt; i))\n    );\n}\n\n@Test\npublic void toMapOfNullables_WhenHasDuplicateKeys_NoneHasNullValue() {\n    assertThrows(new IllegalStateException(&quot;Duplicate key duplicated-key&quot;),\n        () -&gt; Stream.of(1, 2, 3).collect(Utils.toMapOfNullables(i -&gt; &quot;duplicated-key&quot;, i -&gt; i))\n    );\n}\n\n@Test\npublic void toMapOfNullables_WhenHasDuplicateKeys_OneHasNullValue() {\n    assertThrows(new IllegalStateException(&quot;Duplicate key duplicated-key&quot;),\n        () -&gt; Stream.of(1, null, 3).collect(Utils.toMapOfNullables(i -&gt; &quot;duplicated-key&quot;, i -&gt; i))\n    );\n}\n\n@Test\npublic void toMapOfNullables_WhenHasDuplicateKeys_AllHasNullValue() {\n    assertThrows(new IllegalStateException(&quot;Duplicate key duplicated-key&quot;),\n        () -&gt; Stream.of(null, null, null).collect(Utils.toMapOfNullables(i -&gt; &quot;duplicated-key&quot;, i -&gt; i))\n    );\n}\n</code></pre>\n"},{"answer_id":62692728,"body":"<p>For completeness, I'm posting a version of the <strong>toMapOfNullables</strong> with a mergeFunction param:</p>\n<pre><code>public static &lt;T, K, U&gt; Collector&lt;T, ?, Map&lt;K, U&gt;&gt; toMapOfNullables(Function&lt;? super T, ? extends K&gt; keyMapper, Function&lt;? super T, ? extends U&gt; valueMapper, BinaryOperator&lt;U&gt; mergeFunction) {\n    return Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\n        Map&lt;K, U&gt; result = new HashMap&lt;&gt;();\n        for(T item : list) {\n            K key = keyMapper.apply(item);\n            U newValue = valueMapper.apply(item);\n            U value = result.containsKey(key) ? mergeFunction.apply(result.get(key), newValue) : newValue;\n            result.put(key, value);\n        }\n        return result;\n    });\n}\n</code></pre>\n"},{"answer_id":75383362,"body":"<p>Just wrap the nullable value as an Optional. Pretty elegant workaround.</p>\n<pre><code>    listOfValues.stream()\n    .collect(Collectors.toMap(e -&gt; e.getKey(), e -&gt; \n    Optional.ofNullable(e.getValue())))\n</code></pre>\n"}],"last_activity_date":1684410242,"question_id":24630963,"body":"<p><code>Collectors.toMap</code> throws a <code>NullPointerException</code> if one of the values is <code>null</code>. I don't understand this behaviour, maps can contain null pointers as value without any problems. Is there a good reason why values cannot be null for <code>Collectors.toMap</code>?</p>\n<p>Also, is there a nice Java 8 way of fixing this, or should I revert to plain old for loop?</p>\n<p>An example of my problem:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\n\nclass Answer {\n    private int id;\n\n    private Boolean answer;\n\n    Answer() {\n    }\n\n    Answer(int id, Boolean answer) {\n        this.id = id;\n        this.answer = answer;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public Boolean getAnswer() {\n        return answer;\n    }\n\n    public void setAnswer(Boolean answer) {\n        this.answer = answer;\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        List&lt;Answer&gt; answerList = new ArrayList&lt;&gt;();\n\n        answerList.add(new Answer(1, true));\n        answerList.add(new Answer(2, true));\n        answerList.add(new Answer(3, null));\n\n        Map&lt;Integer, Boolean&gt; answerMap =\n        answerList\n                .stream()\n                .collect(Collectors.toMap(Answer::getId, Answer::getAnswer));\n    }\n}\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NullPointerException\n    at java.util.HashMap.merge(HashMap.java:1216)\n    at java.util.stream.Collectors.lambda$toMap$168(Collectors.java:1320)\n    at java.util.stream.Collectors$$Lambda$5/1528902577.accept(Unknown Source)\n    at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1359)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at Main.main(Main.java:48)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\n</code></pre>\n<p>This problem still exists in Java 11.</p>\n"},{"comments":[{"comment_id":134517993,"body":"Did you install the JBoss Tools or other plug-ins to support launching WildFly? It sounds like you&#39;re doing a lot of what those tools handle manually."},{"comment_id":134518430,"body":"Are you using Maven or some other build tool like Gradle?"},{"comment_id":134518751,"body":"@nitind, thanks for your suggestion. I haven&#39;t installed JBoss Tools or such plugins yet. I&#39;m nowhere close to running the app or even deploying it. For the moment I have to get the app built first. Unless this also helps with the development/refactoring phase, I would rather postpone it. But as I will need to install them anyway, I installed them just now. Can this help in this phase?"},{"comment_id":134518775,"body":"@James R. Perkins, thank you too. No, this is a simple new project, which I created and started throwing the old sources in. Can these tools help solve the specific issue I described in the post? I can&#39;t make Eclipse/compiler capable of resolving package names yet."},{"comment_id":134519997,"body":"@ConstantineGeorgiou Yes, it should help with development, probably beyond simply getting the project classpath correct. You probably need to work in a dynamic web project, though, as you haven&#39;t mentioned anything about it other than Java."},{"comment_id":134520971,"body":"I&#39;m not too familiar with Eclipse these days, but IMO it&#39;s always better to use a standard build tool over an IDE build. It doesn&#39;t limit you to a specific IDE and allows for CI runs."},{"comment_id":134522452,"body":"@JamesR.Perkins Indeed, ideally it should compile using just javac. It was an ant project actually. However, using an IDE is convenient, because of goodies like code completion and online syntax checks, esp useful for an old project like this, with so many libraries and even standard java modules having dramatically changed since it was originally developed. It was an ant-based project, and working with a generic editor like Notepad++ and attempting to build it only to see javac stopping at the first few errors is a torture and absolutely unproductive. No IDE-specific source changes of course."},{"comment_id":134523879,"body":"All Java IDE&#39;s I&#39;m aware of work with build tools like Maven, Gradle, Ivy, etc. If you&#39;re migrating a project I would highly recommend you use a build tool. You can still use an IDE, I do all the time, but it&#39;s much more portable to use a build tool."}],"last_activity_date":1684410074,"question_id":76280440,"body":"<p>I'm new to the Eclipse IDE and Java, and trying to setup a development + alpha-testing environment for migrating an old project to newer Java + Application Server versions. I have tried a lot, but obviously I'm still doing it wrong.</p>\n<p>I apologize for the long post. The core of my question is in the last two paragraphs (the rest are a description of my installation so far, along with some thoughts), you can go straight there if you have no time reading it all.</p>\n<p>The application will be running on the WildFly 28 application server. The configuration I made is described below. The description concerns the development + alpha-testing machine, a Windows computer, not the one the product will be running on. Please provide alternative configurations, advice or ideas, if needed, or comment, esp if any of my assumptions were wrong. I have taken the following steps:</p>\n<ul>\n<li>Installed WildFly 28 (unzipped the .zip). This should be similar to the one on the target machine. My intention is to use the plugins of the WildFly installation (under the modules subfolder), and avoid use of external (additional) libraries if possible. They are already there and this may help with version conflicts, and make installation management easier.</li>\n<li>For the above reason I elected to install a SE (not EE) JRE-only Java VM (Eclipse Temurin JRE with Hotspot 17.0.7+7). Again this should be the same as the target machine. Should I install an EE Java VM instead?</li>\n<li>The server is started (manually) for alpha-testing by running a slightly modified version of standalone.bat (under the bin folder) - just added a SET JAVA_HOME= command (in the java VM installer I chose to not set JAVA_HOME env variable, neither add the VM to PATH). This works, the server starts successfully and loads a &quot;Hello World&quot; .war I uploaded. This is how I would like it to be used in the real installation.</li>\n</ul>\n<p>I have troubles with the Eclipse environment, more specifically importing the packages. For example, with the <code>jms</code> package. This is normally imported in the sources as <code>javax.jms.*</code>. However Eclipse won't compile this, because it uses the (preinstalled) JavaSE-17 jdk. To keep working I added the jakarta.jms-api-3.1.0.jar from deep within the WildFly modules folder to the Java Build Path (as an External JAR) and changed the source to <code>import jakarta.jms.*</code> instead. I think this is not only inefficient though (will have to do so for every such plugin I will need to use), it also requires changing the sources to non-standard package names, and most importantly I'm not sure if and what the server will use at run-time. Searched the Wildfly installation folders and found a file named module.xml, under the C:\\WF28\\modules\\system\\layers\\base\\javax\\jms\\api\\main folder, which contains a module alias:</p>\n<pre><code>&lt;module-alias name=&quot;javax.jms.api&quot; target-name=&quot;jakarta.jms.api&quot; xmlns=&quot;urn:jboss:module:1.9&quot;/&gt;\n</code></pre>\n<p>My understanding is that the server will load the jakarta.jms.api module, if the application requests the javax.jms.api one.</p>\n<p>The question is how to tell Eclipse to actually use the server configuration (C:\\WF28\\standalone\\configuration\\standalone.xml or standalone-full.xml) for the packages, without having to add the individual .JARs to the Build Path, and using the standard names (eg javax.jms.*). That is, Eclipse should be reading the configuration .xml, determine which modules will be available, and resolve the aliases such as the one in the previous paragraph for source editing + building - this last one is what Eclipe and the compiler appears to NOT be doing. Is this possible? If not please suggest an alternative solution (I would prefer to use SE java VM, for the reasons I described above).</p>\n<p>P.S. I have tried adding a server to Eclipse (Window-&gt;Show View-&gt;Other-&gt;Server..) but this didn't help. Also tried adding an External Class Folder to the Build Path (C:\\WF28\\modules\\system\\layers\\base) and didn't help either (it doesn't contain .jar files, it contains a set of module.xml files), it appears this is not taken into account neither by Eclipse (source editing, although code completion works) nor by the compiler.</p>\n"},{"comments":[{"comment_id":127539620,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4150039/how-can-i-have-case-insensitive-urls-in-spring-mvc-with-annotated-mappings\">How can I have case insensitive URLS in Spring MVC with annotated mappings</a>"},{"comment_id":127539708,"body":"Please provide enough code so others can better understand or reproduce the problem."},{"comment_id":127539859,"body":"You want case <b>in</b>sensitive but you call matcher.setCaseSensitive(<b>true</b>)?"},{"comment_id":127541383,"body":"matcher.setCaseSensitive(true) typo mistake. I tried false also and also implement &quot;WebMvcConfigurer&quot; interface but these are not working"}],"answers":[{"comments":[{"comment_id":127540120,"body":"not work and this class &quot;WebMvcConfigurerAdapter&quot; is also deprecated in springboot 2.6.7"},{"comment_id":127540579,"body":"implement &quot;WebMvcConfigurer&quot; interface instead of &quot;WebMvcConfigurerAdapter&quot; class. @AhmadRaza"},{"comment_id":127541149,"body":"`` @Configuration  public class WebConfig implements WebMvcConfigurer {      @Override      public void configurePathMatch(PathMatchConfigurer configurer) {         AntPathMatcher matcher = new AntPathMatcher();         matcher.setCaseSensitive(false);         configurer.setPathMatcher(matcher);     } } `` @Shahrukh this also not work"}],"answer_id":72185777,"body":"<p>According to the documentation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/AntPathMatcher.html#setCaseSensitive-boolean-\" rel=\"nofollow noreferrer\">AntPathMatcher Documentation</a> the boolean of the <code>setCaseSensitive</code> should be <code>false</code> to get a case insensitive behaviour.</p>\n<p>So replace</p>\n<pre class=\"lang-java prettyprint-override\"><code>matcher.setCaseSensitive(true);\n</code></pre>\n<p>By</p>\n<pre class=\"lang-java prettyprint-override\"><code>matcher.setCaseSensitive(false);\n</code></pre>\n"},{"answer_id":72196384,"body":"<p>After @Xiidref solution could you add below.</p>\n<p>(If you are using spring-boot, just add this in your property and it will work)</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre>\n<p>in your <code>application.properties</code> file.</p>\n"},{"answer_id":76280481,"body":"<p>Since SpringBoot 2.6.x (Spring 5.3.x), <code>PathPatternParser</code> becomes the default pattern implement instead of <code>AntPathMatcher</code>.</p>\n<p>So since SpringBoot 2.6.x (Spring 5.3.x):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        var paser = new PathPatternParser();\n        paser.setCaseSensitive(false);\n        configurer.setPatternParser(paser);\n    }\n}\n</code></pre>\n<p>In SpringBoot 2.5.x (Spring 5.2.x) and earlier:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        AntPathMatcher matcher = new AntPathMatcher();\n        matcher.setCaseSensitive(false);\n        configurer.setPathMatcher(matcher);\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684409996,"question_id":72185457,"body":"<p>In Spring Boot 2.6.7, I want to set up all of my controllers' URLs to be case-insensitive.</p>\n<p>I tried this but it does not work</p>\n<pre><code>@Configuration\npublic class WebConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void configurePathMatch(PathMatchConfigurer configurer) {\n        AntPathMatcher matcher = new AntPathMatcher();\n        matcher.setCaseSensitive(false);\n        configurer.setPathMatcher(matcher);\n    }\n}\n</code></pre>\n<p>Can we configure it through application.properties file?</p>\n"},{"last_activity_date":1684409657,"question_id":76280437,"body":"<p>I have a java application deployed in Openshift. I have define 2GB and 3GB as min and max heap size. Also have define 4GB as limit and request (Guarantee Qos) in deployment config for pod.</p>\n<p>What I observed is Openshift/Kubernetes container memory continuously increasing without any load while heap memory allocation and usage is consistent</p>\n<p>rss -&gt;  3143958528 - 3077279744 =~ 66 MB</p>\n<pre><code>sh-4.2$ ps -aux\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\n1011420+    28  9.6  3.0 13459992 3020416 ?    Sl   May17  91:21 java -Xmx3072m -Xms2048m -Dja\n\nsh-4.2$ cat /sys/fs/cgroup/memory/memory.stat\ncache 122351616\nrss 3077279744\nrss_huge 2881486848\nmapped_file 19517440\nswap 0\n</code></pre>\n<pre><code>sh-4.2$ ps -aux\nUSER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND\n1011420+    28  9.5  3.1 13463076 3085024 ?    Sl   May17 106:12 java -Xmx3072m -Xms2048m -Dja\n\nsh-4.2$ cat /sys/fs/cgroup/memory/memory.stat\ncache 122466304\nrss 3143958528\nrss_huge 2936012800\nmapped_file 19595264\nswap 0\n</code></pre>\n<p>There is a significant increase in pod memory utilization with 10 to 12 hr.\nCurrently it is around rss - 3143958528 Byte , same is visible in below graph\nAlso heap allocation/utilization is consistent</p>\n<p><a href=\"https://i.stack.imgur.com/ZQ11i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZQ11i.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/fOEy5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOEy5.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not able to understand why container memory is continuously increasing ?</p>\n"},{"comments":[{"comment_id":134515117,"body":"You are not providing the version of the dependency so it could be anything. Post a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"last_activity_date":1684409574,"question_id":76280427,"body":"<p>After Upgrading from JDK8 to JDK17 we are getting this exception</p>\n<p>Caused by: java.lang.ClassNotFoundException: jakarta.xml.bind.JAXBException, We have this dependency in pom.xml.</p>\n<pre><code>   &lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;${jakarta.xml.bind.version}&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"last_activity_date":1684409136,"question_id":76278808,"body":"<p>I'm building a library management system with thymeleaf and spring boot. I'm having some troubles with validating my wrapper class.</p>\n<p>When adding a book you can add up to 3 authors so I made a wrapper class:</p>\n<pre><code>package com.springBoot.Bibliotheek.controller;\n\nimport java.util.List;\n\nimport com.springBoot.Bibliotheek.model.Author;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@ToString\npublic class FormAuthorsWrapper {\n    private List&lt;Author&gt; authorsWrapper;\n    private String errorMessage;\n\n}\n</code></pre>\n<p>Then I wrote a custom validator to check if any of the 3 authors has been filled in:</p>\n<pre><code>package com.springBoot.Bibliotheek.validator;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nimport org.springframework.validation.Errors;\nimport org.springframework.validation.Validator;\n\nimport com.springBoot.Bibliotheek.controller.FormAuthorsWrapper;\nimport com.springBoot.Bibliotheek.model.Author;\n\nimport io.micrometer.common.util.StringUtils;\n\npublic class FormAuthorsWrapperValidation implements Validator{\n    \n    \n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return FormAuthorsWrapper.class.isAssignableFrom(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        FormAuthorsWrapper wrapper = (FormAuthorsWrapper) target;\n        List&lt;Author&gt; authors = wrapper.getAuthorsWrapper();\n        \n        List&lt;Author&gt; validAuthors = authors.stream()\n                .filter(this::isAuthorValid)\n                .collect(Collectors.toList());\n        \n        \n        if(validAuthors.isEmpty()) {\n            errors.rejectValue(&quot;errorMessage&quot;, &quot;Test&quot;, &quot;Test&quot;);\n\n        } else {\n            wrapper.setAuthorsWrapper(validAuthors);\n        }\n    }\n    \n    private boolean isAuthorValid(Author author) {\n        String firstname = author.getFirstname();\n        String lastname = author.getLastname();\n        return !StringUtils.isEmpty(firstname) &amp;&amp; !StringUtils.isEmpty(lastname);\n    }\n\n}\n</code></pre>\n<p>The rejectValue method is called but the errorMessage field is not being set properly. Here is the controller:</p>\n<pre><code>    @PostMapping(path =&quot;/add&quot;)\n    public String postAddBookForm(@Valid @ModelAttribute Book book,BindingResult bindingResultBook,@ModelAttribute FormAuthorsWrapper wrapper,BindingResult bindingResultWrapper,\n            @ModelAttribute FormLocationsWrapper locationsWrapper,Model model) {\n            isbnValidator.validate(book, bindingResultBook);\n            formAuthorsWrapperValidation.validate(wrapper, bindingResultWrapper);\n    \n            System.out.println(bindingResultWrapper.getModel());\n            \n        if(bindingResultBook.hasErrors() || bindingResultWrapper.hasErrors()) {\n            model.addAttribute(&quot;book&quot;, book);\n            model.addAttribute(&quot;authors&quot;, wrapper);\n            model.addAttribute(&quot;locations&quot;, locationsWrapper);\n            \n            System.out.print(bindingResultWrapper.getFieldError());\n            \n            System.out.println(bindingResultWrapper.getAllErrors());\n            \n            return &quot;addBook&quot;;\n        }\n        \n        book.getAuthors().addAll(wrapper.getAuthorsWrapper());\n        book.setImgUrl(\n                &quot;https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Image_not_available.png/640px-Image_not_available.png&quot;); //Random URL for now. Will add image upload later.\n\n        Book addedBook = bookService.addBook(book);\n\n        locationService.addLocationsForBook(locationsWrapper.getLocationsWrapper(), addedBook);\n\n        return &quot;redirect:/books&quot;;\n    }\n</code></pre>\n<p>The isbn validator is working fine. What I get from the prints in console is this:</p>\n<pre><code>{formAuthorsWrapper=FormAuthorsWrapper(authorsWrapper=[Author(firstname=, lastname=), Author(firstname=, lastname=), Author(firstname=, lastname=)], errorMessage=null), org.springframework.validation.BindingResult.formAuthorsWrapper=org.springframework.validation.BeanPropertyBindingResult: 1 errors\nField error in object 'formAuthorsWrapper' on field 'errorMessage': rejected value [null]; codes [Test.formAuthorsWrapper.errorMessage,Test.errorMessage,Test.java.lang.String,Test]; arguments []; default message [Test]}\n</code></pre>\n<p>What seems weird to me is that errorMessage = null, but the second println says that there is an error on field errorMessage.</p>\n<p>This is how I try to access the error in thymeleaf:</p>\n<pre><code>            &lt;div th:object=&quot;${authors}&quot;&gt;\n                &lt;div class=&quot;form-group row&quot;&gt;\n                    &lt;label class=&quot;col-sm-2 col-form-label&quot;\n                        th:text=&quot;#{addBookpage.author} + ' 1*'&quot;&gt;&lt;/label&gt;\n                    &lt;div class=&quot;col-sm-5&quot;&gt;\n                        &lt;input type=&quot;text&quot; th:field=&quot;*{authorsWrapper[0].firstname}&quot;\n                            class=&quot;form-control-plaintext border border-secondary text-secondary ps-2 rounded&quot;\n                            id=&quot;author1-firstname&quot;\n                            th:placeholder=&quot;#{addBookpage.authorFistName}&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;col-sm-5&quot;&gt;\n                        &lt;input type=&quot;text&quot; th:field=&quot;*{authorsWrapper[0].lastname}&quot;\n                            class=&quot;form-control-plaintext border border-secondary text-secondary ps-2 rounded&quot;\n                            id=&quot;author1-lastname&quot;\n                            th:placeholder=&quot;#{addBookpage.authorLastName}&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group row&quot;&gt;\n                    &lt;label class=&quot;col-sm-2 col-form-label&quot;\n                        th:text=&quot;#{addBookpage.author} + ' 2'&quot;&gt;&lt;/label&gt;\n                    &lt;div class=&quot;col-sm-5&quot;&gt;\n                        &lt;input type=&quot;text&quot; th:field=&quot;*{authorsWrapper[1].firstname}&quot;\n                            class=&quot;form-control-plaintext border border-secondary text-secondary ps-2 rounded&quot;\n                            id=&quot;author2-firstname&quot;\n                            th:placeholder=&quot;#{addBookpage.authorFistName}&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;col-sm-5&quot;&gt;\n                        &lt;input type=&quot;text&quot; th:field=&quot;*{authorsWrapper[1].lastname}&quot;\n                            class=&quot;form-control-plaintext border border-secondary text-secondary ps-2 rounded&quot;\n                            id=&quot;author2-lastname&quot;\n                            th:placeholder=&quot;#{addBookpage.authorLastName}&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group row&quot;&gt;\n                    &lt;label class=&quot;col-sm-2 col-form-label&quot;\n                        th:text=&quot;#{addBookpage.author} + ' 3'&quot;&gt;&lt;/label&gt;\n                    &lt;div class=&quot;col-sm-5&quot;&gt;\n                        &lt;input type=&quot;text&quot; th:field=&quot;*{authorsWrapper[2].firstname}&quot;\n                            class=&quot;form-control-plaintext border border-secondary text-secondary ps-2 rounded&quot;\n                            id=&quot;author3-firstname&quot;\n                            th:placeholder=&quot;#{addBookpage.authorFistName}&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;col-sm-5&quot;&gt;\n                        &lt;input type=&quot;text&quot; th:field=&quot;*{authorsWrapper[2].lastname}&quot;\n                            class=&quot;form-control-plaintext border border-secondary text-secondary ps-2 rounded&quot;\n                            id=&quot;author3-lastname&quot;\n                            th:placeholder=&quot;#{addBookpage.authorLastName}&quot;&gt;\n                        &lt;span th:if=&quot;${#fields.hasErrors('errorMessage')}&quot; class=&quot;error&quot; th:errors=&quot;*{errorMessage}&quot;&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n<p>The if statement in span always evaluates to false. What am I doing wrong?</p>\n"},{"comments":[{"comment_id":134503655,"body":"Welcome to stackoverflow. Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, then <a href=\"https://stackoverflow.com/posts/76272914/edit\">edit</a> your question. What error do you get from what source code? A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be helpful. What exactly do you mean by &quot;not working&quot;? The error you get?"}],"last_activity_date":1684409051,"question_id":76272914,"body":"<p>Caused by: java.lang.LinkageError: loader constraint violation: when resolving interface method &quot;javax.xml.bind.Unmarshaller.unmarshal(Ljavax/xml/stream/XMLStreamReader;Ljava/lang/Class;)Ljavax/xml/bind/JAXBElement;&quot; the class loader (instance of org/eclipse/osgi/internal/loader/EquinoxClassLoader) of the current class, org/apache/cxf/jaxb/JAXBEncoderDecoder, and the class loader (instance of ) for the method's defining class, javax/xml/bind/Unmarshaller, have different Class objects for the type javax/xml/stream/XMLStreamReader used in the signature</p>\n<p>while parsing soap response on portlet</p>\n"},{"comments":[{"comment_id":39134976,"body":"May be this link could be helpful: <a href=\"http://www.agentbob.info/agentbob/79-AB.html\" rel=\"nofollow noreferrer\">http://www.agentbob.info/agentbob/79-AB.html</a>"}],"answers":[{"comments":[{"comment_id":11164350,"body":"If I go like this I get an error: keytool error: java.lang.Exception: Input not an X.509 certificate"},{"comment_id":22846464,"body":"@frandevel, this error can be caused by the PEM input file having a header above the --- BEGIN delimiter or having multiple PEMs in one file or both. Either remove all extraneous data and feed in each PEM in one at a time or use my tool, as detailed in my answer."},{"comment_id":35337520,"body":"Same problem and the .PEM file is clean, with all appropriate headers."},{"comment_id":128550713,"body":"it works. First I converted my .cer to .pem with this <a href=\"https://serverfault.com/a/254630\">serverfault.com/a/254630</a> and then , import directly following this answer"}],"answer_id":7094044,"body":"<p>If you only want to import a certificate in PEM format into a keystore, keytool will do the job:</p>\n\n<pre><code>keytool -import -alias *alias* -keystore cacerts -file *cert.pem*\n</code></pre>\n"},{"comments":[{"comment_id":15467795,"body":"Not a bad toy project, but <code>keytool</code> already does all this for you (and more). (By the way, you should close your <code>FileOutputStream</code>, and close your I/O streams in <code>finally</code>, if an exception happens.)"},{"comment_id":15497712,"body":"Hi Bruno, thanks for tips. The real use case is to import all entries of /etc/pki/tls/certs/ca-bundle.crt (RHEL/CentOS) in one go. AFAIK, keytool will only import the first entry.  I&#39;ve seen a number of people do this differently but it usually involves invoking keytool multiple times for each cert. Ubuntu has an update script which does exactly this, except that Ubuntu stores its certs in a directory. I&#39;ll be adding support for directories in the near future.  Thanks again for reviewing the code."}],"answer_id":11667964,"body":"<p>I've developed <a href=\"http://code.google.com/p/java-keyutil/\" rel=\"noreferrer\">http://code.google.com/p/java-keyutil/</a> which imports PEM certificates straight into a Java keystore. Its primary purpose is to import a multi-part PEM Operating System certificate bundles such as ca-bundle.crt. These often includes headers which keytool cannot handle</p>\n\n<pre><code>&lt;/self promotion&gt;\n</code></pre>\n"},{"comments":[{"comment_id":33328750,"body":"Does not work if the .pem file contains more than one certificate."},{"comment_id":35337724,"body":"I&#39;ve got a single certificate .pem and this doesn&#39;t work.  1795:error:0906D06C:PEM routines:PEM_read_bio:no start line:/usr/src/secure/lib/libcrypto/../../../crypto/openssl/c&zwnj;&#8203;rypto/pem/pem_lib.c:&zwnj;&#8203;648:Expecting: TRUSTED CERTIFICATE"},{"comment_id":43400280,"body":"I found the solution.  Pre-pend the root and intermediate certificates to the .pem, then convert."},{"comment_id":59929432,"body":"@Anthony this command only tells how to import a PEM into JKS. May be a good idea to add a command for exporting JKS from store."},{"comment_id":70740158,"body":"If I have multiple certificates on the .pem, how do I import to a Java keystore?"},{"comment_id":126104151,"body":"I&#39;m sad I can upvote this response only once, if I could had upvoted it everytime I ended up here and it solved my issue you would be the user with most points on SO"},{"comment_id":133155691,"body":"is there any solution for the .pem file with multiple entries"}],"answer_id":13992135,"body":"<p>First, convert your certificate in a DER format :</p>\n\n<pre><code>openssl x509 -outform der -in certificate.pem -out certificate.der\n</code></pre>\n\n<p>And after, import it in the keystore :</p>\n\n<pre><code>keytool -import -alias your-alias -keystore cacerts -file certificate.der\n</code></pre>\n"},{"comments":[{"comment_id":40085689,"body":"Your hostname verifier is wrong, <code>session.getPeerHost()</code> doesn&#39;t return the name in the certificate, but the name you connected with (i.e. the <code>urlHostName</code> here), so that&#39;s always going to be true. You&#39;re always returning <code>true</code> anyway."}],"answer_id":25650305,"body":"<p>In my case I had a pem file which contained two certificates and an encrypted private key to be used in mutual SSL authentication.\nSo my pem file looked like this:</p>\n\n<pre><code>-----BEGIN CERTIFICATE-----\n\n...\n\n-----END CERTIFICATE-----\n\n-----BEGIN RSA PRIVATE KEY-----\n\nProc-Type: 4,ENCRYPTED\n\nDEK-Info: DES-EDE3-CBC,C8BF220FC76AA5F9\n\n...\n\n-----END RSA PRIVATE KEY-----\n\n-----BEGIN CERTIFICATE-----\n\n...\n\n-----END CERTIFICATE-----\n</code></pre>\n\n<h3>Here is what I did</h3>\n\n<p>Split the file into three separate files, so that each one contains just one entry, \nstarting with <code>---BEGIN..</code> and ending with <code>---END..</code> lines. Lets assume we now have three files: <code>cert1.pem</code>, <code>cert2.pem</code>, and <code>pkey.pem</code>.</p>\n\n<p>Convert <code>pkey.pem</code> into DER format using openssl and the following syntax:</p>\n\n<blockquote>\n  <p>openssl pkcs8 -topk8 -nocrypt -in pkey.pem -inform PEM -out pkey.der -outform DER</p>\n</blockquote>\n\n<p>Note, that if the private key is encrypted you need to supply a password( obtain it from the supplier of the original pem file ) to convert to DER format, \n<code>openssl</code> will ask you for the password like this: \"enter a passphrase for <code>pkey.pem</code>: \".</p>\n\n<p>If conversion is successful, you will get a new file called <code>pkey.der</code>.</p>\n\n<p>Create a new java keystore and import the private key and the certificates:</p>\n\n<pre><code>String keypass = \"password\";  // this is a new password, you need to come up with to protect your java key store file\nString defaultalias = \"importkey\";\nKeyStore ks = KeyStore.getInstance(\"JKS\", \"SUN\");\n\n// this section does not make much sense to me, \n// but I will leave it intact as this is how it was in the original example I found on internet:   \nks.load( null, keypass.toCharArray());\nks.store( new FileOutputStream ( \"mykeystore\"  ), keypass.toCharArray());\nks.load( new FileInputStream ( \"mykeystore\" ),    keypass.toCharArray());\n// end of section..\n\n\n// read the key file from disk and create a PrivateKey\n\nFileInputStream fis = new FileInputStream(\"pkey.der\");\nDataInputStream dis = new DataInputStream(fis);\nbyte[] bytes = new byte[dis.available()];\ndis.readFully(bytes);\nByteArrayInputStream bais = new ByteArrayInputStream(bytes);\n\nbyte[] key = new byte[bais.available()];\nKeyFactory kf = KeyFactory.getInstance(\"RSA\");\nbais.read(key, 0, bais.available());\nbais.close();\n\nPKCS8EncodedKeySpec keysp = new PKCS8EncodedKeySpec ( key );\nPrivateKey ff = kf.generatePrivate (keysp);\n\n\n// read the certificates from the files and load them into the key store:\n\nCollection  col_crt1 = CertificateFactory.getInstance(\"X509\").generateCertificates(new FileInputStream(\"cert1.pem\"));\nCollection  col_crt2 = CertificateFactory.getInstance(\"X509\").generateCertificates(new FileInputStream(\"cert2.pem\"));\n\nCertificate crt1 = (Certificate) col_crt1.iterator().next();\nCertificate crt2 = (Certificate) col_crt2.iterator().next();\nCertificate[] chain = new Certificate[] { crt1, crt2 };\n\nString alias1 = ((X509Certificate) crt1).getSubjectX500Principal().getName();\nString alias2 = ((X509Certificate) crt2).getSubjectX500Principal().getName();\n\nks.setCertificateEntry(alias1, crt1);\nks.setCertificateEntry(alias2, crt2);\n\n// store the private key\nks.setKeyEntry(defaultalias, ff, keypass.toCharArray(), chain );\n\n// save the key store to a file         \nks.store(new FileOutputStream ( \"mykeystore\" ),keypass.toCharArray());\n</code></pre>\n\n<p>(optional) Verify the content of your new key store:</p>\n\n<pre><code>$ keytool -list -keystore mykeystore -storepass password\n</code></pre>\n\n<p>Keystore type: JKS\nKeystore provider: SUN</p>\n\n<p>Your keystore contains 3 entries:</p>\n\n<ul>\n<li><p>cn=...,ou=...,o=.., Sep 2, 2014, trustedCertEntry,\nCertificate fingerprint (SHA1): 2C:B8: ...</p></li>\n<li><p>importkey, Sep 2, 2014, PrivateKeyEntry,\nCertificate fingerprint (SHA1): 9C:B0: ...</p></li>\n<li><p>cn=...,o=...., Sep 2, 2014, trustedCertEntry,\nCertificate fingerprint (SHA1): 83:63: ...</p></li>\n</ul>\n\n<p>(optional) Test your certificates and private key from your new key store against your SSL server:\n( You may want to enable debugging as an VM option:  -Djavax.net.debug=all )</p>\n\n<pre><code>        char[] passw = \"password\".toCharArray();\n        KeyStore ks = KeyStore.getInstance(\"JKS\", \"SUN\");\n        ks.load(new FileInputStream ( \"mykeystore\" ), passw );\n\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n        kmf.init(ks, passw);\n\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(ks);\n        TrustManager[] tm = tmf.getTrustManagers();\n\n        SSLContext sclx = SSLContext.getInstance(\"TLS\");\n        sclx.init( kmf.getKeyManagers(), tm, null);\n\n        SSLSocketFactory factory = sclx.getSocketFactory();\n        SSLSocket socket = (SSLSocket) factory.createSocket( \"192.168.1.111\", 443 );\n        socket.startHandshake();\n\n        //if no exceptions are thrown in the startHandshake method, then everything is fine..\n</code></pre>\n\n<p>Finally register your certificates with    HttpsURLConnection if plan to use it:</p>\n\n<pre><code>        char[] passw = \"password\".toCharArray();\n        KeyStore ks = KeyStore.getInstance(\"JKS\", \"SUN\");\n        ks.load(new FileInputStream ( \"mykeystore\" ), passw );\n\n        KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n        kmf.init(ks, passw);\n\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        tmf.init(ks);\n        TrustManager[] tm = tmf.getTrustManagers();\n\n        SSLContext sclx = SSLContext.getInstance(\"TLS\");\n        sclx.init( kmf.getKeyManagers(), tm, null);\n\n        HostnameVerifier hv = new HostnameVerifier()\n        {\n            public boolean verify(String urlHostName, SSLSession session)\n            {\n                if (!urlHostName.equalsIgnoreCase(session.getPeerHost()))\n                {\n                    System.out.println(\"Warning: URL host '\" + urlHostName + \"' is different to SSLSession host '\" + session.getPeerHost() + \"'.\");\n                }\n                return true;\n            }\n        };\n\n        HttpsURLConnection.setDefaultSSLSocketFactory( sclx.getSocketFactory() );\n        HttpsURLConnection.setDefaultHostnameVerifier(hv);\n</code></pre>\n"},{"answer_id":40017939,"body":"<p>I'm always forgetting how to do this because it's something that I just do once in a while, this is one possible solution, and it just works:</p>\n\n<ol>\n<li>Go to your favourite browser and download the main certificate from the secured website.</li>\n<li><p>Execute the two following lines of code:</p>\n\n<pre><code>$ openssl x509 -outform der -in GlobalSignRootCA.crt -out GlobalSignRootCA.der\n$ keytool -import -alias GlobalSignRootCA -keystore GlobalSignRootCA.jks -file GlobalSignRootCA.der\n</code></pre></li>\n<li><p>If executing in Java SE environment add the following options:</p>\n\n<pre><code>$ java -Djavax.net.ssl.trustStore=GlobalSignRootCA.jks -Djavax.net.ssl.trustStorePassword=trustStorePassword -jar MyJar.jar\n</code></pre></li>\n<li><p>Or add the following to the java code:</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.trustStore\", \"GlobalSignRootCA.jks\");\nSystem.setProperty(\"javax.net.ssl.trustStorePassword\",\"trustStorePassword\");\n</code></pre></li>\n</ol>\n\n<p>The other option for step 2 is to just using the <code>keytool</code> command. Bellow is an example with a chain of certificates:</p>\n\n<pre><code>$ keytool -import -file org.eu.crt -alias orgcrt -keystore globalsignrs.jks\n$ keytool -import -file GlobalSignOrganizationValidationCA-SHA256-G2.crt -alias globalsignorgvalca -keystore globalsignrs.jks\n$ keytool -import -file GlobalSignRootCA.crt -alias globalsignrootca -keystore globalsignrs.jks\n</code></pre>\n"},{"comments":[{"comment_id":83332565,"body":"The question was about &quot;SSL over Apache MINA&quot; which is simplier to configure with the provided &quot;SSLServerSocketFactory from PEMs function&quot;, see <a href=\"https://mina.apache.org/mina-project/userguide/ch11-ssl-filter/ch11-ssl-filter.html\" rel=\"nofollow noreferrer\">mina.apache.org/mina-project/userguide/ch11-ssl-filter/&hellip;</a> ."},{"comment_id":111862094,"body":"I tried above methodology to load PEM files (cert.pem and key.pem) but got the error message when trying to connect. Connecteion Ex:javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target"},{"comment_id":111900562,"body":"&quot;unable to find valid certification path to requested target&quot; occurs often when using a selfsigned certificate, or when an intermediate certificate is missing..."},{"comment_id":115414464,"body":"This worked flawlessly for me. My use case was to generate a .jks file, so instead of creating a socketFactory, I just did keyStore.store(stream, password)."},{"comment_id":131256408,"body":"Awesome, thank you!  There are some changes that do need to be made when using Java 11 or on Android; I&#39;ve added <a href=\"https://stackoverflow.com/a/74349006/1151724\">an answer here</a> with those details."}],"answer_id":48173910,"body":"<p>If you need an easy way to load PEM files in Java <strong>without having to deal with external tools (opensll, keytool)</strong>, here is my code I use in production :</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.security.KeyFactory;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.security.cert.X509Certificate;\nimport java.security.interfaces.RSAPrivateKey;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.net.ssl.KeyManager;\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.SSLServerSocketFactory;\nimport javax.xml.bind.DatatypeConverter;\n\npublic class PEMImporter {\n\n    public static SSLServerSocketFactory createSSLFactory(File privateKeyPem, File certificatePem, String password) throws Exception {\n        final SSLContext context = SSLContext.getInstance(\"TLS\");\n        final KeyStore keystore = createKeyStore(privateKeyPem, certificatePem, password);\n        final KeyManagerFactory kmf = KeyManagerFactory.getInstance(\"SunX509\");\n        kmf.init(keystore, password.toCharArray());\n        final KeyManager[] km = kmf.getKeyManagers();\n        context.init(km, null, null);\n        return context.getServerSocketFactory();\n    }\n\n    /**\n     * Create a KeyStore from standard PEM files\n     * \n     * @param privateKeyPem the private key PEM file\n     * @param certificatePem the certificate(s) PEM file\n     * @param the password to set to protect the private key\n     */\n    public static KeyStore createKeyStore(File privateKeyPem, File certificatePem, final String password)\n            throws Exception, KeyStoreException, IOException, NoSuchAlgorithmException, CertificateException {\n        final X509Certificate[] cert = createCertificates(certificatePem);\n        final KeyStore keystore = KeyStore.getInstance(\"JKS\");\n        keystore.load(null);\n        // Import private key\n        final PrivateKey key = createPrivateKey(privateKeyPem);\n        keystore.setKeyEntry(privateKeyPem.getName(), key, password.toCharArray(), cert);\n        return keystore;\n    }\n\n    private static PrivateKey createPrivateKey(File privateKeyPem) throws Exception {\n        final BufferedReader r = new BufferedReader(new FileReader(privateKeyPem));\n        String s = r.readLine();\n        if (s == null || !s.contains(\"BEGIN PRIVATE KEY\")) {\n            r.close();\n            throw new IllegalArgumentException(\"No PRIVATE KEY found\");\n        }\n        final StringBuilder b = new StringBuilder();\n        s = \"\";\n        while (s != null) {\n            if (s.contains(\"END PRIVATE KEY\")) {\n                break;\n            }\n            b.append(s);\n            s = r.readLine();\n        }\n        r.close();\n        final String hexString = b.toString();\n        final byte[] bytes = DatatypeConverter.parseBase64Binary(hexString);\n        return generatePrivateKeyFromDER(bytes);\n    }\n\n    private static X509Certificate[] createCertificates(File certificatePem) throws Exception {\n        final List&lt;X509Certificate&gt; result = new ArrayList&lt;X509Certificate&gt;();\n        final BufferedReader r = new BufferedReader(new FileReader(certificatePem));\n        String s = r.readLine();\n        if (s == null || !s.contains(\"BEGIN CERTIFICATE\")) {\n            r.close();\n            throw new IllegalArgumentException(\"No CERTIFICATE found\");\n        }\n        StringBuilder b = new StringBuilder();\n        while (s != null) {\n            if (s.contains(\"END CERTIFICATE\")) {\n                String hexString = b.toString();\n                final byte[] bytes = DatatypeConverter.parseBase64Binary(hexString);\n                X509Certificate cert = generateCertificateFromDER(bytes);\n                result.add(cert);\n                b = new StringBuilder();\n            } else {\n                if (!s.startsWith(\"----\")) {\n                    b.append(s);\n                }\n            }\n            s = r.readLine();\n        }\n        r.close();\n\n        return result.toArray(new X509Certificate[result.size()]);\n    }\n\n    private static RSAPrivateKey generatePrivateKeyFromDER(byte[] keyBytes) throws InvalidKeySpecException, NoSuchAlgorithmException {\n        final PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(keyBytes);\n        final KeyFactory factory = KeyFactory.getInstance(\"RSA\");\n        return (RSAPrivateKey) factory.generatePrivate(spec);\n    }\n\n    private static X509Certificate generateCertificateFromDER(byte[] certBytes) throws CertificateException {\n        final CertificateFactory factory = CertificateFactory.getInstance(\"X.509\");\n        return (X509Certificate) factory.generateCertificate(new ByteArrayInputStream(certBytes));\n    }\n\n}\n</code></pre>\n\n<p>Have fun.</p>\n"},{"comments":[{"comment_id":126477448,"body":"Thanks for the script.  One has to assign the KEYTOOLCMD (i.e.: <code>export KEYTOOLCMD=$(which keytool); echo $KEYTOOLCMD</code>.  Also, you can check the resultant keystore using this command: <code>keytool --list --keystore &lt;yourfile.JKS&gt;</code>.  Note that the script creates the file using a capital JKS as the extension."}],"answer_id":50580694,"body":"<p>I got it from internet. It works pretty good for pem files that contains multiple entries.</p>\n\n<pre><code>#!/bin/bash\npemToJks()\n{\n        # number of certs in the PEM file\n        pemCerts=$1\n        certPass=$2\n        newCert=$(basename \"$pemCerts\")\n        newCert=\"${newCert%%.*}\"\n        newCert=\"${newCert}\"\".JKS\"\n        ##echo $newCert $pemCerts $certPass\n        CERTS=$(grep 'END CERTIFICATE' $pemCerts| wc -l)\n        echo $CERTS\n        # For every cert in the PEM file, extract it and import into the JKS keystore\n        # awk command: step 1, if line is in the desired cert, print the line\n        #              step 2, increment counter when last line of cert is found\n        for N in $(seq 0 $(($CERTS - 1))); do\n          ALIAS=\"${pemCerts%.*}-$N\"\n          cat $pemCerts |\n                awk \"n==$N { print }; /END CERTIFICATE/ { n++ }\" |\n                $KEYTOOLCMD -noprompt -import -trustcacerts \\\n                                -alias $ALIAS -keystore $newCert -storepass $certPass\n        done\n}\npemToJks &lt;pem to import&gt; &lt;pass for new jks&gt;\n</code></pre>\n"},{"comments":[{"comment_id":111505619,"body":"key store explorer is the modern version of portecle. there is no difference between their menus and functionalities at all."}],"answer_id":51252647,"body":"<p>There is also a GUI tool that allows visual JKS creation and certificates importing.</p>\n<p><a href=\"http://portecle.sourceforge.net/\" rel=\"nofollow noreferrer\">http://portecle.sourceforge.net/</a></p>\n<blockquote>\n<p>Portecle is a user friendly GUI application for creating, managing and examining keystores, keys, certificates, certificate requests, certificate revocation lists and more.</p>\n</blockquote>\n"},{"comments":[{"comment_id":99230961,"body":"Keystore Explorer is awesome and very versatile. Saves one time from spending a few mindless minutes on the terminal."}],"answer_id":55217062,"body":"<p>I used <a href=\"https://keystore-explorer.org/\" rel=\"noreferrer\">Keystore Explorer</a></p>\n\n<ol>\n<li>Open JKS with a private key</li>\n<li>Examine signed PEM from CA</li>\n<li>Import key</li>\n<li>Save JKS</li>\n</ol>\n"},{"answer_id":66297788,"body":"<p>Although this question is pretty old and it has already a-lot answers, I think it is worth to provide an alternative. Using native java classes makes it very verbose to just use pem files and almost forces you wanting to convert the pem files into p12 or jks files as using p12 or jks files are much easier. I want to give anyone who wants an alternative for the already provided answers.</p>\n<p><a href=\"https://github.com/Hakky54/sslcontext-kickstart\" rel=\"nofollow noreferrer\">GitHub - SSLContext Kickstart</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>var keyManager = PemUtils.loadIdentityMaterial(&quot;certificate-chain.pem&quot;, &quot;private-key.pem&quot;);\nvar trustManager = PemUtils.loadTrustMaterial(&quot;some-trusted-certificate.pem&quot;);\n\nvar sslFactory = SSLFactory.builder()\n          .withIdentityMaterial(keyManager)\n          .withTrustMaterial(trustManager)\n          .build();\n\nvar sslContext = sslFactory.getSslContext();\n</code></pre>\n<p>I need to provide some disclaimer here, I am the library maintainer</p>\n"},{"answer_id":73619796,"body":"<p>OpenJDK <code>keytool</code> handles PEM certificates natively now (and has been for a few releases but I'm not sure since when).</p>\n<p><code>keytool</code> recommends against specifying the cacerts file path like any other keystore but using <code>-cacerts</code> option instead.</p>\n<p>So the command line which works with OpenJDK 18 (and probably many earlier versions) is:</p>\n<pre><code>keytool -cacerts -import -alias &lt;alias&gt; -file &lt;path_to_cert.pem&gt;\n</code></pre>\n"},{"answer_id":74349006,"body":"<p>If you want to do this on Android, there are a few minor tweaks that can be added to the <code>PEMImporter</code> class from <a href=\"https://stackoverflow.com/a/48173910/1151724\">this great answer</a>. To summarize those:</p>\n<ul>\n<li><p>First I used Android Studio to translate into Kotlin (this is not necessary, I just prefer it).  The original class contained all static methods, so this resulted in a named object instead.</p>\n</li>\n<li><p><code>javax.xml.bind.DatatypeConverter</code> was removed from the java core in version 11.  Although you can still import it (in gradle:\n<code>implementation(&quot;javax.xml.bind:jaxb-api:2.4.0-b180830.0359&quot;</code>), this does not work on Android and it is simpler to use <code>java.util.Base64</code> for the tasks it performed (namely, translating base64 to bytes).  The output is identical (although you need to trim line endings in the raw PEM data).</p>\n</li>\n<li><p>Replace <code>SunX509</code> and <code>JKS</code> with <code>PKIX</code>. It is only necessary in the first case, and in the second case probably inconsequential; I do not think it has any significance if you are populating a <code>KeyStore</code> with already initialized <code>PrivateKey</code> etc. objects as is done here.  I in fact used <code>getDefaultAlgorithm()</code> in place of &quot;JKS&quot; in <code>createKeyStore</code>, and although that default is currently &quot;jks&quot;, the key store worked fine in a <code>KeyManagerFactory</code> created with <code>PKIX</code> as the algorithm.</p>\n</li>\n</ul>\n<p>I should also note that I am not using the <code>createSSLFactory</code> method and am instead using the output of <code>createKeyStore()</code> to initialize a <code>KeyManagerFactory</code> and extract <code>KeyManagers</code> used to initialize an<code>SSLContext</code>:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val context = SSLContext.getInstance(contextProtocol)\nval password = String(...)\nval ks : KeyStore = try {\n            PEMImporter.createKeyStore(\n                File(keyPath),\n                File(certPath),\n                password\n            )\n        } catch (ex : Throwable) { ... }\n\nval kmf = KeyManagerFactory.getInstance(&quot;PKIX&quot;)\n        try { kmf.init(ks, password.toCharArray()) }\n</code></pre>\n<p>It probably doesn't matter much what the password is here since the <code>PEMImporter</code> works with already unencrypted key data -- unless you want to write a <code>PrivateKey</code> back to a file (I presume <code>getEncoded()</code> is a step in that direction but I've never had need to do this).  It just has to match in the two uses above.</p>\n<p>I also added a catch for <code>RSA PRIVATE KEYS</code>, which, as it turns out, are\nnot the same as PEM keys with no &quot;RSA&quot; in the first line; a subtlety I was previously unaware of.  The former are PKCS #1, the latter PKCS #8; you should be able to use whatever tool you normally use to deal with these (eg., when creating keys with <code>certtool</code>, use <code>--pkcs8</code>).  Note that doesn't mean PKCS #8 keys aren't potentially RSA based, it's just about the protocol used to store and extract the key data.</p>\n<p>Here's my Android version of <code>PEMImporter</code> in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.io.*\nimport java.security.*\nimport java.security.cert.CertificateException\nimport java.security.cert.CertificateFactory\nimport java.security.cert.X509Certificate\nimport java.security.interfaces.RSAPrivateKey\nimport java.security.spec.InvalidKeySpecException\nimport java.security.spec.PKCS8EncodedKeySpec\nimport java.util.*\nimport javax.net.ssl.KeyManagerFactory\nimport javax.net.ssl.SSLContext\nimport javax.net.ssl.SSLServerSocketFactory\n\nobject PEMImporter {\n\n    @Throws(Exception::class)\n    fun createSSLFactory(\n        privateKeyPem: File,\n        certificatePem: File?,\n        password: String\n    ): SSLServerSocketFactory {\n        val context = SSLContext.getInstance(&quot;TLS&quot;)\n        val keystore = createKeyStore(privateKeyPem, certificatePem, password)\n        val kmf = KeyManagerFactory.getInstance(&quot;PKIX&quot;)\n        kmf.init(keystore, password.toCharArray())\n        val km = kmf.keyManagers\n        context.init(km, null, null)\n        return context.serverSocketFactory\n    }\n\n    /**\n     * Create a KeyStore from standard PEM files\n     *\n     * @param privateKeyPem the private key PEM file\n     * @param certificatePem the certificate(s) PEM file\n     * @param password the password to set to protect the private key\n     */\n    @Throws(\n        Exception::class,\n        KeyStoreException::class,\n        IOException::class,\n        NoSuchAlgorithmException::class,\n        CertificateException::class\n    )\n    fun createKeyStore(privateKeyPem: File, certificatePem: File?, password: String): KeyStore {\n        val cert = createCertificates(certificatePem)\n        val keystore = KeyStore.getInstance(KeyStore.getDefaultType())\n        keystore.load(null)\n        // Import private key\n        val key = createPrivateKey(privateKeyPem)\n        keystore.setKeyEntry(privateKeyPem.name, key, password.toCharArray(), cert)\n        return keystore\n    }\n\n    @Throws(Exception::class)\n    private fun createPrivateKey(privateKeyPem: File): PrivateKey {\n        val r = BufferedReader(FileReader(privateKeyPem))\n        var s = r.readLine()\n        if (s.contains(&quot;BEGIN RSA PRIVATE KEY&quot;)) {\n            r.close()\n            throw IllegalArgumentException(privateKeyPem.name +\n                &quot; is a PKCS #1 key, not a PKCS #8.&quot;)\n        }\n        if (s == null || (!s.contains(&quot;BEGIN PRIVATE KEY&quot;))) {\n            r.close()\n            throw IllegalArgumentException(&quot;Bad private key header (${privateKeyPem.name}): $s&quot;)\n        }\n        val b = StringBuilder()\n        s = &quot;&quot;\n        while (s != null) {\n            if (s.contains(&quot;END PRIVATE KEY&quot;)) {\n                break\n            }\n            b.append(s.trimEnd())\n            s = r.readLine()\n        }\n        r.close()\n        val hexString = b.toString()\n        // Base64 is in java.util.\n        val bytes = Base64.getDecoder().decode(hexString)\n        return generatePrivateKeyFromDER(bytes)\n    }\n\n    @Throws(Exception::class)\n    private fun createCertificates(certificatePem: File?): Array&lt;X509Certificate&gt; {\n        val result = mutableListOf&lt;X509Certificate&gt;()\n        val r = BufferedReader(FileReader(certificatePem))\n        var s = r.readLine()\n        if (s == null || !s.contains(&quot;BEGIN CERTIFICATE&quot;)) {\n            r.close()\n            throw IllegalArgumentException(&quot;No CERTIFICATE found&quot;)\n        }\n        var b = StringBuilder()\n        while (s != null) {\n            if (s.contains(&quot;END CERTIFICATE&quot;)) {\n                val hexString = b.toString()\n                val bytes = Base64.getDecoder().decode(hexString.trimEnd())\n                val cert = generateCertificateFromDER(bytes)\n                result.add(cert)\n                b = StringBuilder()\n            } else {\n                if (!s.startsWith(&quot;----&quot;)) {\n                    b.append(s)\n                }\n            }\n            s = r.readLine()\n        }\n        r.close()\n        return result.toTypedArray()\n    }\n\n    @Throws(InvalidKeySpecException::class, NoSuchAlgorithmException::class)\n    private fun generatePrivateKeyFromDER(keyBytes: ByteArray): RSAPrivateKey {\n        val spec = PKCS8EncodedKeySpec(keyBytes)\n        val factory = KeyFactory.getInstance(&quot;RSA&quot;)\n        return factory.generatePrivate(spec) as RSAPrivateKey\n    }\n\n    @Throws(CertificateException::class)\n    private fun generateCertificateFromDER(certBytes: ByteArray): X509Certificate {\n        val factory = CertificateFactory.getInstance(&quot;X.509&quot;)\n        return factory.generateCertificate(ByteArrayInputStream(certBytes)) as X509Certificate\n    }\n}\n</code></pre>\n"},{"answer_id":76280233,"body":"<p>If you have a pem file with multiple certificates you can use a script to extract them and add them one at a time something like:</p>\n<pre><code>    index=0\n    while read -r line; do\n        if [ &quot;$line&quot; = &quot;-----BEGIN CERTIFICATE-----&quot; ]; then\n            echo &quot;$line&quot; &gt; temp_cert.pem\n        elif [ &quot;$line&quot; = &quot;-----END CERTIFICATE-----&quot; ]; then\n            echo &quot;$line&quot; &gt;&gt; temp_cert.pem\n            let &quot;index++&quot;\n            keytool -importcert -alias &quot;your-alias_$index&quot; -keystore cacerts -file temp_cert.pem\n            rm temp_cert.pem\n        else\n            echo &quot;$line&quot; &gt;&gt; temp_cert.pem\n        fi\n    done &lt; multi_certs.pem\n</code></pre>\n"}],"last_activity_date":1684408130,"question_id":2138940,"body":"<p>I am trying to connect to an SSL server which requires me to authenticate myself. In order to use SSL over Apache MINA I need a suitable JKS file. However, I have only been given a .PEM file. </p>\n\n<p>How would I go about creating a JKS file from a PEM file?</p>\n"},{"comments":[{"comment_id":134515301,"body":"Please use <a href=\"https://stackoverflow.com/editing-help#code\">code format</a> for logs."}],"last_activity_date":1684408049,"question_id":76280222,"body":"<p>This my pom.xml and the errors I get are:</p>\n<p>Non-resolvable import POM: Could not transfer artifact com.google.cloud:google-cloud-bom:pom:0.77.0-alpha from/to central (<a href=\"http://myrepo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">http://myrepo.maven.apache.org/maven2</a>): /var/lib/jenkins/.m2/repository/com/google/cloud/google-cloud-bom/0.77.0-alpha/google-cloud-bom-0.77.0-alpha.pom.part.lock (No such file or directory) @ org.springframework.cloud:spring-cloud-gcp-dependencies:1.1.1.RELEASE, /var/lib/jenkins/.m2/repository/org/springframework/cloud/spring-cloud-gcp-dependencies/1.1.1.RELEASE/spring-cloud-gcp-dependencies-1.1.1.RELEASE.pom, line 163, column 16</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n        &lt;artifactId&gt;simple-service&lt;/artifactId&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;simple-service&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;Greenwich.SR1&lt;/spring-cloud.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-netflix-zuul&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;Greenwich.SR1&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!--                        &lt;goals&gt;--&gt;\n                        &lt;!--                            &lt;goal&gt;repackage&lt;/goal&gt;--&gt;\n                        &lt;!--                        &lt;/goals&gt;--&gt;\n\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Trying to deploy the project on jenkins but getting error</p>\n"},{"last_activity_date":1684407583,"question_id":76279796,"body":"<p>I'm using <code>aws-java-sdk-1.12.457.jar</code></p>\n<p>I get the status code <code>404</code> when executing <code>AmazonHttpClient</code>, but when I use Postman I get the status code <code>403</code></p>\n<p>This is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>AWSCredentialsProvider credentialsProvider = new InstanceProfileCredentialsProvider(false);\n\n// Create AWSSecurityTokenService credentials\nAWSSecurityTokenService stsClient = AWSSecurityTokenServiceClientBuilder.standard()\n        .withCredentials(credentialsProvider)\n        .withRegion(REGION).build();\n\n// Create credentials\nAssumeRoleRequest roleRequest = new AssumeRoleRequest().withRoleArn(this.roleArn)\n        .withRoleSessionName(this.roleSessionName);\nAssumeRoleResult roleResponse = stsClient.assumeRole(roleRequest);\nCredentials sessionCredentials = roleResponse.getCredentials();\nBasicSessionCredentials credentials = new BasicSessionCredentials(\n        sessionCredentials.getAccessKeyId(),\n        sessionCredentials.getSecretAccessKey(),\n        sessionCredentials.getSessionToken());\n\n// Create request\nDefaultRequest&lt;Void&gt; request = new DefaultRequest&lt;Void&gt;(SERVICE_NAME);\nURI endpoint = new URI(&quot;https://domain/path/...&quot;);\nrequest.setEndpoint(endpoint);\nrequest.setHttpMethod(HttpMethodName.POST);\nrequest.addHeader(&quot;content-type&quot;, &quot;application/json&quot;);\nrequest.setParameters(this.buildRequestParameter());\n\n// sign AWS4Signer for request\nAWS4Signer signer = new AWS4Signer();\nsigner.setServiceName(SERVICE_NAME);\nsigner.setRegionName(REGION);\nsigner.sign(request, credentials);\n\n// Send request\nClientConfiguration clientConfiguration = new ClientConfiguration();\nclientConfiguration.setConnectionTimeout(10000);\nAmazonHttpClient httpClient = AmazonHttpClient.builder().clientConfiguration(clientConfiguration).build();\n\nRequestExecutionBuilder requestExecutionBuilder = httpClient.requestExecutionBuilder();\nrequestExecutionBuilder = requestExecutionBuilder.request(request);\nrequestExecutionBuilder.errorResponseHandler(new ErrorResponseHandler());\nResponse&lt;Void&gt; response = requestExecutionBuilder.execute();\n\nreturn this.buildResponse(response);\n</code></pre>\n<p>I think even if aws authorization failed, I should get status <code>403</code> not <code>404</code>.</p>\n"},{"comments":[{"comment_id":134514773,"body":"I would advise you to study the correct usage of the API you&#39;re using, or you&#39;re likely to get blocking behaviour on the output you&#39;re reading, which will result in locking of your main thread and the &#39;no output&#39; thing you&#39;re talking about. e.g. there is <a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/telnet/TelnetInputListener.html\" rel=\"nofollow noreferrer\">this</a>"},{"comment_id":134515004,"body":"You are not using &#39;Telnet&#39; the command line tool but the Apache Commons TelnetClient class."},{"comment_id":134515358,"body":"Also make sure your prompt is exactly what you think it is. Your code works for me once I change the prompt"},{"comment_id":134536178,"body":"yeah thanks it was prompt issue. now i just need to make a dashboard frontend. i am not very good at it what do you think is best for frontend in java"}],"last_activity_date":1684407510,"question_id":76280069,"body":"<p>I have developed a Java program using Telnet to establish connections with switches and send commands to them. However, when executing the program, I'm encountering an issue where I am not receiving any output from the switches. Despite successfully establishing the Telnet connection, the program doesn't display the expected response or output from the switches. I have verified the connectivity and credentials, but still, no output is shown. I'm wondering what could be causing this problem and how I can resolve it. Your insights and suggestions for troubleshooting would be greatly appreciated.\nBelow is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Main.java to edit this template\n */\npackage telnetclient;\n\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PrintStream;\nimport org.apache.commons.net.telnet.TelnetClient;\n\npublic class Telnet {\n\n    private static final String USERNAME_PROMPT = &quot;login:&quot;;\n    private static final String PASSWORD_PROMPT = &quot;Password:&quot;;\n    private static final String COMMAND_PROMPT = &quot;#&quot;;\n\n    public static void executeRemoteCommands(String host, int port, String username, String password) {\n        try {\n            TelnetClient telnet = new TelnetClient();\n            telnet.connect(host, port);\n\n            InputStream in = telnet.getInputStream();\n            PrintStream out = new PrintStream(telnet.getOutputStream());\n\n            // Read until username prompt\n            readUntil(in, USERNAME_PROMPT);\n\n            // Send username\n            write(out, username);\n\n            // Read until password prompt\n            readUntil(in, PASSWORD_PROMPT);\n\n            // Send password\n            write(out, password);\n\n            // Read until command prompt\n            readUntil(in, COMMAND_PROMPT);\n\n            // Execute commands\n            BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n            String command;\n            while (true) {\n                // Prompt for command\n                System.out.print(&quot;Enter a command (or 'exit' to quit): &quot;);\n                command = reader.readLine();\n                if (command.equalsIgnoreCase(&quot;exit&quot;)) {\n                    break;\n                }\n\n                // Send command\n                write(out, command);\n\n                // Read command output\n                String output = readUntil(in, COMMAND_PROMPT);\n\n                // Print the output\n                System.out.println(output);\n            }\n\n            // Disconnect\n            telnet.disconnect();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private static String readUntil(InputStream in, String pattern) throws IOException {\n        StringBuilder sb = new StringBuilder();\n        byte[] buffer = new byte[1024];\n        int bytesRead;\n        while ((bytesRead = in.read(buffer)) &gt; -1) {\n            String chunk = new String(buffer, 0, bytesRead);\n            sb.append(chunk);\n            if (chunk.contains(pattern)) {\n                return sb.toString();\n            }\n        }\n        return sb.toString();\n    }\n\n    private static void write(PrintStream out, String value) {\n        out.println(value);\n        out.flush();\n    }\n\n    public static void main(String[] args) {\n        String host = &quot;192.168.3.3&quot;;\n        int port = 23;\n        String username = &quot;moazan&quot;;\n        String password = &quot;moazan123456&quot;;\n\n        executeRemoteCommands(host, port, username, password);\n    }\n}\n</code></pre>\n<p>I attempted to run my Telnet program to connect to switches and send commands. I expected to receive the output or response from the switches corresponding to the executed commands. However, the program did not display any output from the switches, despite establishing the Telnet connection successfully.</p>\n"},{"answers":[{"comments":[{"comment_id":68344365,"body":"I edited the original question to add that example. I must admit that <code>Exception</code> was a completely arbitrary choice."}],"answer_id":40552721,"body":"<p>You may use <code>CompletableFuture.supplyAsync(supplier)</code>.\nHaving <code>supplier</code> that supplies object of type <code>SomeType</code> you will get <code>CompletableFuture&lt;SomeType&gt;</code>.</p>\n\n<p>Having CompletableFuture you may chain it using methods <code>thenAccept</code>, <code>thenApply</code> and other.</p>\n\n<p>As a side effect, your program will become more reactive. calling <code>supplyAsync</code> will not block. Actualy, you may never block as long as you will not call blocking operation on your <code>CompletableFuture</code>.</p>\n\n<p>To I would solve your case as follows:</p>\n\n<pre><code>Supplier&lt;Exception&gt; cleanedExceptionSupplier=&lt;some way to get supplier&gt;.\nCompletableFuture.supplyAsync(cleanedExceptionSupplier).thenAccept(exception -&gt; System.out.println(exception.toString());\n</code></pre>\n\n<p>Side note: it does not look right to me to have <code>Supplier</code> of <code>Exception</code>. Is exception indeed main effect you want to supply? Or is it  (possibly unwanted) corner case?</p>\n"},{"comments":[{"comment_id":68344413,"body":"Interesting approach, but kind of defeats the purpose of functional chaining, in that I want to express a chain of ordered calls from left to right. Your solution reverses that, to read from right to left."},{"comment_id":68344449,"body":"@danieln True enough, but it has the advantage of existing."}],"answer_id":40552749,"body":"<p>Instead of:</p>\n\n<pre><code> Supplier&lt;T&gt; supp2 = supp1.andThen(function);\n</code></pre>\n\n<p>(which, uses a method you've seen doesn't exist)</p>\n\n<p>... you could use:</p>\n\n<pre><code> Supplier&lt;T&gt; supp2 = () -&gt; function.apply(supp1.get());\n</code></pre>\n"},{"comments":[{"comment_id":68346791,"body":"Interesting alternate solutions given here, but I&#39;m still sticking to my original solution for functional style readability and use of <code>java.util.function</code> classes only."},{"comment_id":68422484,"body":"So you are in control of both, the <code>Supplier</code> creation and the place where it is evaluated, so that you can change the type to <code>Function</code>? That renders the whole task a non-existent problem."},{"comment_id":68424558,"body":"@Holger Yes, this solution is still somewhat awkward because I cannot use a <code>Supplier</code>, only a <code>Function</code>."},{"comment_id":68424659,"body":"â€¦and you are still calling <code>apply</code> manually. No benefit over <code>R r = returnSomethingOfR(); X x = function.apply(r);</code>"},{"comment_id":68424830,"body":"In my view, the benefit is the functional style representation, you naturally read the expression left-to-right in order of execution."},{"comment_id":68425049,"body":"Read my previous comment again. It <i>is</i> read and executed left-to-right. The â€œfunctional style representationâ€, you are trying to achieve, is only a complication. But if you want to do real functional programming, you should become used to the fact that the notation has nothing to do with the order of the evaluation. Otherwise, stay with the imperative notation."}],"answer_id":40553775,"body":"<p>Just adding my alternate solution as a candidate here</p>\n\n<pre><code>Function&lt;Void, R&gt; supplierAsFunction = v -&gt; returnSomethingOfR();\n\nsupplierAsFunction.andThen(function).apply(null); \n</code></pre>\n\n<p>Applying <code>null</code> as a parameter is rather ugly but this solution maintains functional style while using only <code>java.util.function</code> classes.</p>\n"},{"answer_id":76280118,"body":"<p>Another idea:</p>\n<pre><code>interface MySupplier&lt;T&gt; extends Supplier&lt;T&gt; {\n    &lt;V&gt; V applyTo(Function&lt;T, V&gt; f) {\n        return f.apply(get());\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>MySupplier&lt;Integer&gt; s = () -&gt; 1;\nFunction&lt;Integer, Integer&gt; f = i -&gt; i + 1;\ns.applyTo(f);\n</code></pre>\n"}],"last_activity_date":1684407404,"question_id":40552261,"body":"<p><code>Supplier</code> does not provide a <code>andThen</code> method, so chaining another <code>Function</code> to the result of a <code>Supplier</code> is not possible.\nIs the only alternative to use a <code>Function&lt;Void, R&gt;</code> that does not get any parameter?</p>\n\n<p>In other words, if <code>Supplier.andThen()</code> existed I could write:</p>\n\n<pre><code> Supplier&lt;Exception&gt; cleanedExceptionSupplier = exceptionSupplier.andThen( \n     e -&gt; clean(e));\n</code></pre>\n\n<p>Since it does not exist, how can I cleanly implement <code>cleanedExceptionSupplier</code>?</p>\n"},{"comments":[{"comment_id":134242496,"body":"It seems that the aruco predefined dictionaries are no longer present from version <code>opencv_contrib</code> <code>v4.7.0</code>; I decided to go with the prior version."},{"comment_id":134258892,"body":"please file an issue about this. someone has been changing many things in the aruco module with... &quot;less than desirable&quot; care for keeping it working."}],"last_activity_date":1684407270,"question_id":76113627,"body":"<p>I generated the opencv v4.7.0 using</p>\n<ul>\n<li><code>cmake</code></li>\n<li><code>opencv sources</code></li>\n<li><code>opencv-contrib</code></li>\n</ul>\n<p>The jar and the referenced library are usable within the ide. This includes also the aruco module from opencv-contrib. Nevertheless the predefined dictionaries of aruco are missing.</p>\n<p>Did I miss a point during cmake?</p>\n"},{"answers":[{"answer_id":2394210,"body":"<p>If the methods are static, yes.</p>\n\n<p>But you won't be able to access non-static members.</p>\n"},{"answer_id":2394212,"body":"<p>That would be static methods.  </p>\n"},{"answer_id":2394213,"body":"<p>It's called static variables and static <a href=\"http://java.sun.com/docs/books/tutorial/java/javaOO/classvars.html\" rel=\"noreferrer\">methods</a>. Just try it and see that it compiles.</p>\n"},{"answer_id":2394214,"body":"<p>In most languages you can do it only if method is static. And static methods can change only static variables.</p>\n"},{"answer_id":2394221,"body":"<p>Since qre is a static method and doesn't have an access to instances of the enclosing class you'll have first to create an instance and then access it. For example:</p>\n\n<pre><code>public class Foo {\n   private int bar;\n\n   public static void qre() {\n      Foo foo = new Foo();\n      foo.bar = 5;\n      System.out.println(\"next bar: \" + (++5));\n   }\n}\n</code></pre>\n"},{"answer_id":2394233,"body":"<blockquote>\n  <p>I have a class with several methods and there is no constructor among these methods.</p>\n</blockquote>\n\n<p>If you don't explicitly define a constructor then you get a default constructor provided by the compiler. So if those methods aren't static, try this:</p>\n\n<pre><code>NameOfClass x = new NameOfClass();\nx.doMethod(x1,x2,...,xn);\n</code></pre>\n"},{"answer_id":2394244,"body":"<p>As many have pointed out: This is only possible if the method is static. Maybe some OOP background is in order: A method should always belong to a class. So what is the use of calling a method without an instance of a class? In a perfect OO world there shouldn't be any reason to do that. A lot of use cases that have to do with static methods talk about assigning some kind of identity to your class. While this is perfectly reasonable in a programming world it isn't very convincing when it comes to object oriented design.</p>\n\n<p>As we program in an imperfect world there is often a use case for a \"free function\" (The way Java or C++ implement sort() for example). As Java has no direct support for free functions classes with only static \"methods\" are used to express those semantics with the added benefit of the class wrapper providing a \"namespace\". What you think of this workaround and if you see it as a flaw in language design is IMO a matter of opinion.</p>\n"},{"answer_id":2394248,"body":"<p>In proper encapsulation, you should not \"see\" what is happening upon instanciation. To rely on a class's lack of a constructor is breaking this form.  The designed of the class my have in mind to add formal state initialization in the constructor at a later date.  Your \"contract\" with the class is only that you can use the methods as they are currently designed. </p>\n\n<p>If you desire to use the functionality of that method without the class overhead, maybe it best for you to include that method in your existing \"client\" class (of course this is just \"copy and paste\" coding and is considered an anti-pattern of of software design.  </p>\n"},{"answer_id":2394371,"body":"<blockquote>\n  <p>I have a class with several methods\n  and there is no constructor among\n  these methods.</p>\n</blockquote>\n\n<p>Do you mean you have something like:</p>\n\n<pre><code>public class X\n{\n    public void foo()\n    {\n    }\n}\n</code></pre>\n\n<p>or do you mean you have something like:</p>\n\n<pre><code>public class X\n{\n    private X()\n    {\n    }\n\n    public void foo()\n    {\n    }\n}\n</code></pre>\n\n<p>If it is the fist way then, yes, there is a constructor and it will look like this:</p>\n\n<pre><code>public X()\n{\n    super();\n}\n</code></pre>\n\n<p>if it is the second way then there is probably a method like:</p>\n\n<pre><code>public static X createInstance()\n{\n    return (new X());\n}\n</code></pre>\n\n<p>If you really mean can classes have methods that do things without ever creating an instance, then yes you can, just make all of the methods and variables static (usually this is not a good idea, but for some things it is perfect).</p>\n"},{"answer_id":2394507,"body":"<p>A method on a class operates in the context an instance; it has access to the instance's member variables.  You understand this, because you ask about what happens if the method accesses one of those variables.</p>\n\n<p>You can understand why it doesn't work by asking yourself the question: \"Where is the data?\"  If you don't have an instance, where is the instance variable? Where is the data? And the answer is that it doesn't have a place and therefore doesn't work.</p>\n\n<p>The difference with a static function and static member variables is that you can answer the question about the location of the data.  The static variables available regardless of whether there is a specific instance or not. The instance specific vs. class specific decision is one that you must make considering what you actually want to do.</p>\n"},{"answer_id":42185067,"body":"<p>1) <strong>YES</strong>, you can use the methods of a class <em>without</em> creating an instance or object of that class through the use of the Keyword <strong>\"Static\"</strong>.</p>\n\n<p>2) If you declare the method as <strong>\"Static\"</strong> then you can call this method by :</p>\n\n<pre><code>                *ClassName.MethodName()* \n</code></pre>\n\n<p>3) E.g. </p>\n\n<pre><code>class Hello {\n\n   public static void print()\n   {\n\n     System.out.println(\"HelloStatic\");\n   }  \n\n}\n\n\nclass MainMethod {\n    public static void main(String args[])\n    {\n       // calling static method\n       Hello.print();\n    } \n}  \n</code></pre>\n\n<p>4) The output of the above program would be : HelloStatic</p>\n"},{"answer_id":66156721,"body":"<p>If you are using <strong><a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\"><em>lombok</em></a></strong>, here is what you can do:</p>\n<pre><code>package util;\nimport lombok.experimental.UtilityClass;\n\n@UtilityClass\npublic class UtilFunctions {\n    public static int SumOfTwoNumber(int a, int b){\n        return a+b;\n    }\n}\n</code></pre>\n<p>In UtilFunctions class here with <strong>@UtilityClass</strong> annotation, you can keep all the functions which you want to call anywhere in your project. For the sake of simplicity, I have created a function <strong>SumOfTwoNumber</strong> which I want to use in my main class. Here is how I can call it in the main class:</p>\n<pre><code>import util.UtilFunctions;\n\npublic class HeadFirstJavaApplication {\n    public static void main(String[] args) {\n        int a = 10, b = 20;\n        int sum = UtilFunctions.SumOfTwoNumber(a,b);\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p><strong>P.S:</strong> Don't forget to add lombok dependency to be able to use it. In case of gradle, here is how to add the lombok dependency:</p>\n<pre><code>dependencies {\n     compileOnly 'org.projectlombok:lombok:1.18.16'\n     annotationProcessor 'org.projectlombok:lombok:1.18.16'\n\n     testCompileOnly 'org.projectlombok:lombok:1.18.16'\n     testAnnotationProcessor 'org.projectlombok:lombok:1.18.16'\n}\n</code></pre>\n"},{"answer_id":76280080,"body":"<p>Yes. You cando that, but only Under One Condition. You have to make your method or Variable a static type.\nHow ? Just add a static Key word before them</p>\n<p>Now you can use both of them with out creating an object.\nN.B The static key words gives them the character of global Variable and any change appplies for all objects created from that class</p>\n"}],"last_activity_date":1684407166,"question_id":2394205,"body":"<p>I have a class with several methods and there is no constructor among these methods.</p>\n\n<p>So, I am wondering if it is possible to call a method of a class without a creation of an instance of the class.</p>\n\n<p>For example, I can do something like that:</p>\n\n<pre><code>NameOfClass.doMethod(x1,x2,...,xn)\n</code></pre>\n\n<p>In general I do not see why it should be impossible. I just call a function which does something (or return some values). If it is possible, what will happen if the method sets a value for a private variable of the class. How can I reach this value? In the same way?</p>\n\n<pre><code>NameOfClass.nameOfVariable\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":77786315,"body":"I think there is no Jar related Issue. Because I have executed couple of spark jobs on same environment before in past and they ran successfully."},{"comment_id":77786646,"body":"@Umar did you use SparkSession in those jobs or SparkContext? Which version of spark are you using? You need to add more information about your environment and how are you creating and executing the jar."},{"comment_id":77787201,"body":"Yes.. In my previous jobs I had Spark Session and Context. I am using Spark version 2.1.1 and building the Jar file using Maven."}],"answer_id":45412772,"body":"<p>As per the exception you are getting ,I think required jar is missing you need to add the required jar in your classpath which will resolve the issue.</p>\n\n<p>refer this <a href=\"https://mvnrepository.com/artifact/org.apache.spark/spark-sql_2.10\" rel=\"nofollow noreferrer\">link</a> to download the required jar </p>\n"},{"comments":[{"comment_id":77788375,"body":"In which file I need to mark the spark dependencies as provided?"},{"comment_id":77789847,"body":"In Maven pom.xml"},{"comment_id":80713584,"body":"I faced exactly the same issue when running spark 2.1 program with spark 1.6. I solved my issue by stopping 1.6 cluster and starting 2.1 cluster and it worked as expected."}],"answer_id":45413666,"body":"<p>Probably you are deploying your application on the cluster with lower Spark version.</p>\n\n<p>Please check Spark version on your cluster - it should be the same as version in pom.xml. Please also note, that all Spark dependencies should be marked as <code>provided</code> when you use spark-submit to deploy application</p>\n"},{"answer_id":46947400,"body":"<p>when submitting  with <code>spark-submit</code> , check that your project has the same dependency as spark version in pom.xml,</p>\n<p><strong>This may be because you have two spark versions on the same machine</strong></p>\n<hr />\n<p>If you want to have different Spark installations on your machine,  you can create different soft links and can use the exact spark version on which you have build your project</p>\n<pre><code>spark1-submit -&gt; /Users/test/sparks/spark-1.6.2-bin-hadoop2.6/bin/spark-submit\n\nspark2â€“submit -&gt; /Users/test/sparks/spark-2.1.1-bin-hadoop2.7/bin/spark-submit\n</code></pre>\n<p>Here is a link from Cloudera blog about multiple Spark versions\n<a href=\"https://community.cloudera.com/t5/Advanced-Analytics-Apache-Spark/Multiple-Spark-version-on-the-same-cluster/td-p/39880\" rel=\"nofollow noreferrer\">https://community.cloudera.com/t5/Advanced-Analytics-Apache-Spark/Multiple-Spark-version-on-the-same-cluster/td-p/39880</a></p>\n"},{"answer_id":53558171,"body":"<p>leaking of jars of spark environment will lead to this problem \nif you were using Intellij IDEA,you can following the steps below:\nFile -> Project Structure -> Modules -> spark-examples_2.11 -> Dependencies \njars -> {spark dir}/spark/assembly/target/scala-2.11/jars/</p>\n"},{"comments":[{"comment_id":120588041,"body":"Worked! I had copy pasted this from sparkml examples, that&#39;s where the scope variable crept it for me. Thanks."},{"comment_id":123566037,"body":"Don&#39;t remove it. You should follow this answer - <a href=\"https://stackoverflow.com/a/66510343/2308683\">stackoverflow.com/a/66510343/2308683</a>"}],"answer_id":61442117,"body":"<p>I was facing this issue while running from the Intellij editor. I had marked the spark jars as provided in <code>pom.xml</code>, see below: </p>\n\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n     &lt;artifactId&gt;spark-sql_2.11&lt;/artifactId&gt;\n     &lt;version&gt;2.4.0&lt;/version&gt;\n     &lt;scope&gt;provided&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>On removing the provided scope, the error was gone. </p>\n\n<p>On making provided spark jars they would be provided only on running the application with <code>spark-submit</code> or having the spark jars on the classpath</p>\n"},{"answer_id":66510343,"body":"<p>If you're running from inside Intellij IDEA, and you've marked your spark library as &quot;provided&quot;, like so: <code>&quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.0.1&quot; % &quot;provided&quot;</code>, Then you need edit your Run/Debug configuration and check the &quot;Include dependencies with Provided scope&quot; box.</p>\n"},{"answer_id":72863445,"body":"<p>If using Maven, go to your dependencies file(<code>pom.xml</code>) and change the scope from <code>provided</code> to <code>compile</code>.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n   &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n   &lt;version&gt;3.3.0&lt;/version&gt;\n   &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"answer_id":73594713,"body":"<p>I am using Maven project, got the same issue, I changed &quot;provided&quot; to &quot;compile&quot; in scope, pom.xml dependencies and made the same spark version which was installed in local spark shell. Problem got resolved.</p>\n"},{"answer_id":73632164,"body":"<p>If you are running from IntelliJ, please check for &quot;Include dependencies with Provided scope&quot; as follows</p>\n<p>Inside Run/Debug Configuration please select for Modify Options and then mark checked &quot;Include dependencies with Provided scope&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/fzKCG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/fzKCG.png\" alt=\"Inside Run/Debug Configuration please select for Modify Options and then check\" /></a></p>\n"},{"answer_id":74243298,"body":"<p>In my case, I downgrade java version (from java 18 to java8 ), it worked .</p>\n"},{"comments":[{"comment_id":134539731,"body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"answer_id":76280043,"body":"<p>Go to edit configuration and modify the configuration as per my screenshot:-\n<a href=\"https://i.stack.imgur.com/99qQ3.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"last_activity_date":1684407147,"question_id":45412593,"body":"<p>I have written a Spark Job in Java. When I submit the Job it gives below error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/spark/sql/SparkSession\n        at com.thinkbiganalytics.veon.util.SparkSessionBuilder.getOrCreateSparkSession(SparkSessionBuilder.java:12)\n        at com.thinkbiganalytics.veon.AbstractSparkTransformation.initSparkSession(AbstractSparkTransformation.java:92)\n        at com.thinkbiganalytics.veon.transformations.SDPServiceFeeDeductionSourceToEventStore.init(SDPServiceFeeDeductionSourceToEventStore.java:57)\n        at com.thinkbiganalytics.veon.AbstractSparkTransformation.doTransform(AbstractSparkTransformation.java:51)\n        at com.thinkbiganalytics.veon.transformations.SDPServiceFeeDeductionSourceToEventStore.main(SDPServiceFeeDeductionSourceToEventStore.java:51)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:745)\n        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:181)\n        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)\n        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)\n        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\nCaused by: java.lang.ClassNotFoundException: org.apache.spark.sql.SparkSession\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n</code></pre>\n"},{"comments":[{"comment_id":134514638,"body":"Hard to help you with your code if we can&#39;t see your code. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"comment_id":134514656,"body":"Use bundle in intent and pass your data"},{"comment_id":134514842,"body":"Also, your question title is not very uninformative. Please consider giving your question an <a href=\"https://stackoverflow.com/posts/76280026/edit\">edit</a> after reading the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link to see how to improve it. For starters, the question title should briefly summarize your actual problem, somewhat similar to a news article headline."},{"comment_id":134514850,"body":"Use SQLite Database, store records in DB by creating relevant &quot;form&quot; table, store records based on form_id, and fetch accordingly in your second activity."}],"last_activity_date":1684406798,"question_id":76280026,"body":"<p>hello guys i need your help i am working on data collecting app in this app one activity has form list  and after filling the form that save form is stored in another activity but i want to make the change in this code which is when i click the form in first class only that form entries should display in another class currently all forms entries are displayed please help me</p>\n<p>i don't know how can i solve it please help</p>\n"},{"comments":[{"comment_id":123516870,"body":"upvoter - I don&#39;t have a Mac and cannot give an anwer. But the question is pretty clear to me. He wants to know where this Java 17 resides that the OS claims is installed."},{"comment_id":123516998,"body":"I like <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a>. Then <code>sdk install java 17.0.1.fx-librca</code> to install the current release from Liberica (with included JavaFX). Or <code>sdk ls java</code> to see the various other current releases."},{"comment_id":123517234,"body":"+100000 for sdk man as Elliott suggested above. The main benefits of it is that you can have multiple versions installed, switch them whenever you need and (very important in case something goes wrong) they are installed in your home directory."},{"comment_id":130517510,"body":"java 17 is likely found where brew installed it under <code>&#47;usr&#47;local&#47;Cellar&#47;openjdk</code>"}],"answers":[{"comments":[{"comment_id":133412816,"body":"This works. But when i close the terminal this doesn&#39;t get saved, it resets back to the old java version. how to permanently save this?"},{"comment_id":133414225,"body":"Put a <code>JAVA_HOME=</code> command in <code>~&#47;.profile</code> or <code>&#47;etc&#47;profile</code> - some file that is run by the system itself."}],"answer_id":69875488,"body":"<p>Java doesn't mind if you install multiple versions. This is often required; java is not backwards compatible (it tries to change little, but e.g. the java8 to java9 transition broke a ton of stuff, much of it needless and much of it not reasonably expectable or fixable by libraries and apps, so a bunch of java apps and libraries only run on java8 - just an example).</p>\n<p>So, yes, you have installed JDK17. Also, yes, if you just run <code>java</code> without specifying which one you want, you so happen to get java13 here.</p>\n<p>To see all installed javas, you can run:</p>\n<pre><code>/usr/libexec/java_home -V\n</code></pre>\n<p>to 'override', you can use something like (depends on which shell you're using on your mac):</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 17`\n</code></pre>\n<p>(the backticks mean: Run this then take the output of it and treat that as the 'value' of the expression. here, assign it to the JAVA_HOME env var. <code>-v 17</code> requests a path to java 17. The <code>-V</code> option lists all and is meant for your eyeballs, not for scripts. The <code>-v</code> option is mostly for scripting, and that's how we're using it here).</p>\n<p><code>JAVA_HOME</code> decides which java is used by some things, but the <code>java</code> you get when you just type <code>java</code> is <code>/usr/bin/java</code>, and that executable is actually just a wrapper that picks a java to run from amongst all installed versions. It uses JAVA_HOME to decide which java to actually run. There are wrappers for all the common commands (<code>javac</code>, too). You can always run e.g. <code>which javac</code> to see what that actually runs; you probably see <code>/usr/bin/javac</code>. Everything in <code>/usr/bin</code> is one of these wrapper thingies that looks at JAVA_HOME and then runs the binary it finds <em>there</em>.</p>\n"},{"comments":[{"comment_id":123520238,"body":"Thanks for sharing. I found this later."}],"answer_id":69875590,"body":"<p>To used the version installed by homebrew rather than the one installed by the OS you can get detailed information from homebrew by typing</p>\n<pre><code>brew info java\n</code></pre>\n<p>Currently it states</p>\n<blockquote>\n<p>For the system Java wrappers to find this JDK, symlink it with\nsudo ln -sfn /opt/homebrew/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk  </P>\nopenjdk is keg-only, which means it was not symlinked into /opt/homebrew,\nbecause macOS provides similar software and installing this software in\nparallel can cause all kinds of trouble. </P>\nIf you need to have openjdk first in your PATH, run:\necho 'export PATH=&quot;/opt/homebrew/opt/openjdk/bin:$PATH&quot;' &gt;&gt; ~/.zshrc </P>\nFor compilers to find openjdk you may need to set:\nexport CPPFLAGS=&quot;-I/opt/homebrew/opt/openjdk/include&quot;</p>\n</blockquote>\n"},{"answer_id":69876906,"body":"<h1>Steps to install</h1>\n<p>You asked:</p>\n<blockquote>\n<p>let me know the steps to install Java on a Mac.</p>\n</blockquote>\n<ol>\n<li>Download an installer free-of-cost from vendors such as <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Adoptium</a>, <a href=\"https://adoptium.net/\" rel=\"nofollow noreferrer\">Azul Systems</a>, Bellsoft, <a href=\"https://aws.amazon.com/corretto/\" rel=\"nofollow noreferrer\">Amazon</a>, Oracle, Microsoft, SAP, and others.</li>\n<li>Run installer app.</li>\n<li>Quit the installer app when done.</li>\n<li>Verify installation by typing on a command-line in Terminal.app:<br><code>java --version</code></li>\n<li>Delete installer app that you downloaded.</li>\n<li>Configure your <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> to use that new Java implementation you installed.</li>\n</ol>\n<h1>Java location</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Where is java 17 installed??</p>\n</blockquote>\n<p><code>/Library/Java/JavaVirtualMachines/</code></p>\n<p>In the Finder, choose <em>Go</em> &gt; <em>Go to Folder</em>, and paste <code>/Library/Java/JavaVirtualMachines/</code>.</p>\n<p>Note that this is <em>not</em> the <code>Library</code> folder within your home folder. We are <em>not</em> referring to <code>/Users/your_user_name/Library/â€¦</code>. We are referring to the root <code>Library</code> folder that applies across <a href=\"https://support.apple.com/guide/mac-help/set-up-other-users-on-your-mac-mtusr001/mac\" rel=\"nofollow noreferrer\">all the user accounts</a> on this Mac.</p>\n<p>You said:</p>\n<blockquote>\n<p>I did brew install java</p>\n</blockquote>\n<p>No need for the <a href=\"https://en.wikipedia.org/wiki/Homebrew_(package_manager)\" rel=\"nofollow noreferrer\">Homebrew</a> package manager. If you already enjoy using the <code>brew</code> tool, proceed. But if new to Homebrew, skip it if your only goal is to install Java. Just use an installer for Java as you would for many Mac apps.</p>\n<h1><em>JavaFX</em></h1>\n<p>You added a tag for <code>javafx</code>.</p>\n<p>Be aware that for JavaFX, you have two options:</p>\n<ul>\n<li>Include the necessary <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> libraries within your development project and within your final app, <em>or</em> â€¦</li>\n<li>Use a JDK that includes the JavaFX/OpenJFX libraries.</li>\n</ul>\n<p>At least two vendors provide JDK installers that include the JavaFX/OpenJFX libraries:</p>\n<ul>\n<li>Azul Systems (<em>ZuluFX</em>)</li>\n<li>Bellsoft (<em>LibericaFX</em>)</li>\n</ul>\n"},{"comments":[{"comment_id":123546610,"body":"I noticed later. It was cool."},{"comment_id":132414802,"body":"Mine still doesn&#39;t work: &quot;Could not read &#39;<a href=\"https://api.adoptopenjdk.net/v3/binary/latest/16/ga/mac/aarch64/jdk/hotspot/normal/adoptopenjdk\" rel=\"nofollow noreferrer\">api.adoptopenjdk.net/v3/binary/latest/16/ga/mac/aarch64/jdk&zwnj;&#8203;/&hellip;</a>&#39; as it does not exist&quot;"},{"comment_id":132416503,"body":"The <a href=\"https://adoptopenjdk.net/\" rel=\"nofollow noreferrer\">adoptionjdk</a> site was replaced by <a href=\"https://adoptium.net/temurin/releases/?version=19\" rel=\"nofollow noreferrer\">adoptium</a>.  The adoptopenjdk site warns you of this when you visit the site. Recent releases are not distributed by adoptopenjdk, in particular it does not have releases for modern non-Intel macs. Adoptium JavaFX 19 includes a release for your architecture. Other distributions such as liberica, zulu, oracle openjfx, etc also have packages for M series macs."}],"answer_id":69890049,"body":"<p><strong>This answer is specifically if you use Intellij on a Mac</strong></p>\n<p>Within IntelliJ, you can use the IDE to add new JDKs of selected versions from common vendors.  Instructions for this are here:</p>\n<ul>\n<li><a href=\"https://www.jetbrains.com/help/idea/sdk.html#set-up-jdk\" rel=\"nofollow noreferrer\">Setup the project JDK</a></li>\n</ul>\n<p>When setting up the JDK, you can either:</p>\n<ol>\n<li>Select a pre-existing JDK which has been registered with the IDE OR</li>\n<li>Use the <strong>Add JDK</strong> option to add a new JDK which you previously downloaded and installed using the method outlined in <a href=\"https://stackoverflow.com/a/69876906/1155209\">Basil's answer</a> OR</li>\n<li>Use the <strong>Download JDK</strong> option to choose a vendor and version of the JDK that the IDE will automatically download, install and make available for selection.\n<ul>\n<li>The JDKs installed by Idea will be located in the same location as outlined in <a href=\"https://stackoverflow.com/a/69876906/1155209\">Basil's answer</a> for a manual install <code>/Library/Java/JavaVirtualMachines/</code>.</li>\n</ul>\n</li>\n</ol>\n<p>One common issue is that the version of the JDK registered for the project differs from the default version used in the terminal.  This can sometimes mean that the app works when run in Idea, then fails when run in the terminal (or, at least that it is executed against a version of the JDK you didn't expect).</p>\n<p>To select the version of the JDK to run in the terminal, configure the Java home setting as outlined in <a href=\"https://stackoverflow.com/a/69875488/1155209\">rzwitserloot's answer</a>.</p>\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 17`\n</code></pre>\n<p>Also, some tools such as the openjfx maven plugin will not use the java version selected in Idea when executing a call to a JDK tool like jlink, but will instead have their own mechanism for finding a JDK to use (e.g. look at JAVA_HOME or use the <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">Maven toolchains plugin</a>).  So it is always good to check the JAVA_HOME variable and ensure that it is set to a reasonable value, both for terminal execution and for effective use of Java development tools that may rely on it.</p>\n"},{"answer_id":70599468,"body":"<p>I think that answers here are not fully out of topic, but from my point of view, my case is exactly the same as that of the author. I had already installed java 8, 11, and 13. All of them resides at:</p>\n<p><code>/Library/Java/JavaVirtualMachines/</code></p>\n<p>Nevertheless when I tried to find the path of JDK 17 it resides:</p>\n<p><code>/usr/local/Cellar/openjdk</code></p>\n<p>I use <strong>Mac OS Big Sur</strong> and the JDK was installed with <strong>homebrew</strong></p>\n"},{"comments":[{"comment_id":126271995,"body":"sdkman is the way to go! Versions installed with brew are not recognized by Eclipse."},{"comment_id":126272040,"body":"@Gert-Jan so do you think the answer should be updated leaving only <code>sdkman</code>?"},{"comment_id":126273035,"body":"Not sure about that, brew may be fine for some use cases but doesn&#39;t work when you try to configure the installed JDK in Eclipse."},{"comment_id":130482061,"body":"@Gert-Jan the full JDK is in the <code>libexec&#47;openjdk.jdk&#47;Contents&#47;Home</code> subdir."},{"comment_id":132310550,"body":"sdkman was the best solution for me among all answers. Give it a chance"},{"comment_id":132369696,"body":"Can someone explain to me why there are different VENDORS for a programming language? This is mind-boggling to me, if I want a version of Python I get that version. If I want a version of Go, I get that version. For example, if I am on macOS, is one vendor better than another here?"},{"comment_id":132416107,"body":"With Homebrew it was installed to:  /opt/homebrew/Cellar/openjdk@17  On my machine."},{"comment_id":132430252,"body":"@Tbi Pay attention during the installation there is a message &quot;If you need to have openjdk@17 first in your PATH, run:   <code>echo &#39;export PATH=&quot;&#47;usr&#47;local&#47;opt&#47;openjdk@17&#47;bin:$PATH&quot;&#39; &gt;&gt; ~&#47;.zshrc</code>&quot;. Because <code>&#47;usr&#47;local&#47;opt&#47;openjdk@17 -&gt; ..&#47;Cellar&#47;openjdk@17&#47;17.0.5</code>."},{"comment_id":133995229,"body":"Better how and why?"},{"comment_id":134168711,"body":"@Tbi is right, for my m1, path was <code>&#47;opt&#47;homebrew&#47;...</code> rather than <code>&#47;usr&#47;local&#47;...</code>"},{"comment_id":134177946,"body":"@BlackChase thanks for letting me know. Iâ€™m going to update the answer."},{"comment_id":134178220,"body":"@RukshanJS IMHO sdkman is more focused on managing software development kits while homebrew is more general-purpose. I understand your comment but I donâ€™t like to add too many infos in my answers (and this is one of the longest answers I have ever written). This is good for clarity, to get the people straight to the point."},{"comment_id":134220910,"body":"@freedev thanks for that clarification. It clears my doubt. Again, thanks for the answer but wanted to have some basic idea why it&#39;s better. Cool!"}],"answer_id":70649641,"body":"<h2>In 2023, even if you can use just <code>brew</code>..</h2>\n<pre><code>brew install openjdk@17 \n</code></pre>\n<p>Java will be installed here:</p>\n<pre><code>/usr/local/opt/openjdk@17/bin/java\n</code></pre>\n<p>for Apple Silicon path is <code>/opt/homebrew/...</code> rather than <code>/usr/local/...</code></p>\n<p>For the system Java wrappers to find this JDK, symlink it with:</p>\n<pre><code>sudo ln -sfn /usr/local/opt/openjdk/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n<p>resp. for Silicon</p>\n<pre><code>sudo ln -sfn /opt/homebrew/opt/openjdk\\@17/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk.jdk\n</code></pre>\n<p>(This is what you are missing btw, if <code>javac</code> or <code>javac --version</code> does not give you a command-not-found but an <code>The operation couldnâ€™t be completed. Unable to locate a Java Runtime.</code>)</p>\n<h1>...give a try to <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\"><code>sdkman</code></a>, it's far better than <code>brew</code></h1>\n<pre><code>curl -s &quot;https://get.sdkman.io&quot; | bash\n</code></pre>\n<p>then open a <strong>new shell</strong> and try <code>list</code> to see what you could install ;-)</p>\n<pre><code>sdk list java \n</code></pre>\n<p>At time of writing you could use:</p>\n<pre><code>sdk install java 17.0.4.1-tem\n</code></pre>\n<p>Java will be installed here:</p>\n<pre><code>/Users/freedev/.sdkman/candidates/java/17.0.4.1-tem\n</code></pre>\n"},{"answer_id":71848711,"body":"<p>The following method installs Java without the need for any additional tools or package managers.</p>\n<p><s>Go to <a href=\"https://jdk.java.net/17/\" rel=\"nofollow noreferrer\">https://jdk.java.net/17/</a> and download the latest macOS archive.</s></p>\n<p>Download the latest Adoptium release for the Java 17 branch by going to <a href=\"https://adoptium.net/temurin/releases/\" rel=\"nofollow noreferrer\">https://adoptium.net/temurin/releases/</a> and be sure to select the <code>tar.gz</code> version.</p>\n<p>The archive is either for x64 (Intel CPU) or for AArch64 (Apple Silicon / M1 CPU).</p>\n<p>Then, open a Terminal, and extract the downloaded archive to the system path for Java virtual machines:</p>\n<pre><code>cd Downloads\ntar xzf OpenJDK17U-jdk_aarch64_mac_hotspot_17.0.5_8.tar.gz -C /Library/Java/JavaVirtualMachines\n</code></pre>\n"},{"answer_id":72704173,"body":"<p>Brew now supports searching old formulae and allowing you to install a specific version.  I'm using <code>Homebrew 3.5.2-117-gb941470</code></p>\n<ol>\n<li>Create a local tap: <code>brew tap-new --no-git local/openjdk</code></li>\n<li>Ask Brew to find the formulae of the version you want: <code>brew extract --version 17.0.2 openjdk local/openjdk</code></li>\n<li>Install Java 17 using your new local tap: <code>brew install openjdk@17.0.2</code></li>\n<li>Link the JDK into the MacOS JVM Dir: <code>sudo ln -sfn /usr/local/opt/openjdk@17.0.2/libexec/openjdk.jdk /Library/Java/JavaVirtualMachines/openjdk17.0.2.jdk</code></li>\n<li>Check Java 17 is available: <code>/usr/libexec/java_home -V</code></li>\n<li>Set Java Home: <code>export JAVA_HOME=$(/usr/libexec/java_home -v17)</code></li>\n<li>Check current version of Java is correct...</li>\n</ol>\n<pre><code>$ java --version\nopenjdk 17.0.2 2022-01-18\n</code></pre>\n"},{"answer_id":72767481,"body":"<p>To specify version 17</p>\n<pre><code>brew install openjdk@17\n</code></pre>\n<p>Later I add create a link:</p>\n<pre><code>sudo ln -sfn /usr/local/opt/openjdk@17/libexec/openjdk.jdk \\\n     /Library/Java/JavaVirtualMachines/openjdk-17.jdk\n</code></pre>\n<p>And use <a href=\"https://www.jenv.be/\" rel=\"noreferrer\">jenv</a> to control which java version to use</p>\n"},{"answer_id":73880422,"body":"<p>For Homebrew, the package that installs the new AdoptOpenJDK is named as temurin. So you need to use below command:</p>\n<pre><code>brew install --cask temurin17\n</code></pre>\n<p>If you get any error like temurin cask not available then update brew using below commands:</p>\n<pre><code>brew update\nbrew tap homebrew/cask-versions\n</code></pre>\n<p>To switch quickly between different versions of java add the entries in bashrc as per your jdk versions like:</p>\n<pre><code>alias j8=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 1.8`; java -version&quot;\nalias j17=&quot;export JAVA_HOME=`/usr/libexec/java_home -v 17`; java -version&quot;\n</code></pre>\n"},{"answer_id":75884985,"body":"<p>I switched to use SDKMAN on macOS to switch between JAVA 11 and 17 based on the project, it's pretty easy</p>\n<pre><code> curl -s &quot;https://get.sdkman.io&quot; | bash \n source &quot;/users/#USER_HOME/.sdkman/bin/sdkman-init.sh&quot;\n sdk list java\n sdk install java #JAVA_IDENTIFIER\n sdk use java #JAVA_IDENTIFIER\n</code></pre>\n<p>Then each time switching using</p>\n<pre><code> sdk list java\n sdk use java #JAVA_IDENTIFIER\n</code></pre>\n<p>You could also allow your IDE such as Intellij to use the system console bash, so you could switch using SKD command from inside the IDE terminal</p>\n"}],"last_activity_date":1684406585,"question_id":69875335,"body":"<p>Could someone please let me know the steps to install Java on a Mac.</p>\n<p>I did <code>brew install java</code></p>\n<p>I get this</p>\n<pre><code>Warning: openjdk 17.0.1 is already installed and up-to-date.\nTo reinstall 17.0.1, run:\n  brew reinstall openjdk\n</code></pre>\n<p>If I do java -version, I get this.</p>\n<pre><code>openjdk version &quot;13.0.8&quot; 2021-07-20\n</code></pre>\n<p>If I have navigate to <code>/Library/Java</code>, I have 2 empty directories.</p>\n<p>Where is java 17 installed??</p>\n"},{"comments":[{"comment_id":134515025,"body":"What is StringUtils? Post a minimal reproducible example as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"comment_id":134515109,"body":"StringUtils is the String lib and it is just checking if the hashKeyPattern is not empty :)"},{"comment_id":134515146,"body":"What String lib? Are you assuming that there is only one library with that name? Lots of projects create utility classes with similar names."}],"last_activity_date":1684406058,"question_id":76279925,"body":"<p>I have this data in redis</p>\n<pre><code>{\n  &quot;data&quot;:[\n    {\n      &quot;hash&quot;:[\n        {\n          &quot;key&quot;:&quot;key1&quot;,\n          &quot;values&quot;:[\n            {\n              &quot;field&quot;:&quot;DVDÂ±R/Â±RW&quot;,\n              &quot;value&quot;:&quot;Marron foncÃ©&quot;\n            },\n            {\n              &quot;field&quot;:&quot;Two weeks&quot;,\n              &quot;value&quot;:&quot;Deux semaines&quot;\n            }\n          ]\n        }\n      ]\n    }\n  ]\n}\n</code></pre>\n<p>and here is the code</p>\n<pre><code>public Cursor&lt;Entry&lt;String, String&gt;&gt; search(final String key,\n            final String hashKeyPatern) {\n        final ScanOptionsBuilder buider = new ScanOptionsBuilder();\n        if (StringUtils.isNotBlank(hashKeyPatern)) {\n            buider.match(hashKeyPatern);\n        }\n        return hashOperations.scan(key, buider.build());\n    }\n</code></pre>\n<p>here the key is key1\nand hashKeyPatern is DVDÂ±R/Â±RW</p>\n<p>But i am not getting matching result. Same code is working for other values. I guess here the problem is 'Â±' character. I have tried the UrlEncoder with UTF-8 encoding but it is not getting the result.</p>\n"},{"comments":[{"comment_id":134503974,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"answer_id":76272848,"body":"<p>Follow the instructions in the mockito release notes under '5.0.0' <a href=\"https://github.com/mockito/mockito/releases/tag/v5.0.0\" rel=\"nofollow noreferrer\">here</a>. Essentially, switch the mockmaker implementation.</p>\n<p>That, or downgrade back to JDK11.</p>\n"},{"comments":[{"comment_id":134569852,"body":"In your question you said you canâ€™t use <code>â€”add-opens</code>, now your â€œsolutionâ€ is exactly that."}],"answer_id":76279910,"body":"<p>add this to pom:</p>\n<pre><code>&lt;build&gt;\n&lt;plugins&gt;\n&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n&lt;version&gt;3.1.0&lt;/version&gt;\n&lt;configuration&gt;\n&lt;argLine&gt;--add-opens java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"last_activity_date":1684405992,"question_id":76272738,"body":"<p>java version:17 mockito version:5.3.0</p>\n<p>As I am upgrading to java 17, junit test cases are failing with reason:</p>\n<blockquote>\n<p>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @38cccef</p>\n</blockquote>\n<p>Please suggest some solution as I CANNOT use solutions:</p>\n<ol>\n<li>â€”add-opens java.base/java.lang=ALL-UNNAMED\nor</li>\n<li>--illegal-access=permit (removed in java 17)</li>\n</ol>\n<p>I am expecting to solve this problem by adding any new dependency in pom.xml or different version of mockito. with minimal code change.</p>\n"},{"answers":[{"comments":[{"comment_id":134510981,"body":"@myeongsasoo in other words you have less parameters than you have table columns because you forgot to precede <code>pg</code> with <code>:</code>. Refer to <a href=\"https://stackoverflow.com/questions/44164234/getting-sql-error-sql-state-s1009\">Getting SQL error SQL State S1009</a>. Note that in that question they are using question marks rather than actual parameter names (as you do) but the problem is still the same, i.e. there are less parameters than there are columns of the database table in the INSERT statement."},{"comment_id":134513920,"body":"Precisely there are 14 columns listed in query but 16 values. 15 values are named parameters. 1 (pg) is probably just missing &#39;:&#39; Anyway - the numbers don&#39;t match and causes the error S1009."}],"answer_id":76277553,"body":"<p>One thing I can notice right away is that you have used <code>pg</code> in the values instead of <code>:pg</code> which would get replaced during the query formation.</p>\n"}],"last_activity_date":1684405530,"question_id":76277389,"body":"<p>There's an error on using Spring batch JdbcBatchItemWriter.</p>\n<p>insert into books(order_id, order_no, paid_payment_id)  values (:orderId, :orderNo, :paidPaymentId)</p>\n<p><a href=\"https://i.stack.imgur.com/tfosv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>  private JdbcBatchItemWriter&lt;BooksEntity&gt; booksWriter() {\n    return new JdbcBatchItemWriterBuilder&lt;BooksEntity&gt;()\n        .itemSqlParameterSourceProvider(new BeanPropertyItemSqlParameterSourceProvider&lt;&gt;())\n        .dataSource(dataSource)\n        .sql(\n            &quot;insert into books(order_id, order_no, paid_at, paid_payment_id, pay_method, pay_no, pg, service_type, status, transaction_amount, transaction_at, vat_amount, canceled_at, created_at) &quot;\n                + &quot; values (:expectedCalculationAmount, :feeAmount, :orderId, :orderNo, :paidAt, :paidPaymentId, :payMethod, :payNo, pg, :serviceType, :status, :transactionAmount, :transactionAt, :vatAmount, :canceledAt, :createdAt)&quot;)\nCalculationOriginalAccountBooksItemPreparedStatementSetter())\n        .build();\n\n  }\n</code></pre>\n<pre><code>spring:\n  datasource:\n    url: jdbc:mysql://localhost:3306/book?useSSL=false&amp;useUnicode=true&amp;serverTimezone=Asia/Seoul\n    password: root\n    username: root\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  jpa:\n    open-in-view: false\n    hibernate:\n      ddl-auto: update\n</code></pre>\n<p>S1009 Error I don't know what that means.\nPlease help me.</p>\n"},{"answers":[{"answer_id":56313551,"body":"<p>Is that you looking for?  </p>\n\n<pre><code>OkHttpClient okHttpClient = new OkHttpClient.Builder()\n            //default timeout for not annotated requests\n            .readTimeout(10000, TimeUnit.MILLISECONDS)\n            .connectTimeout(10000, TimeUnit.MILLISECONDS)\n            .writeTimeout(10000, TimeUnit.MILLISECONDS)\n            .build();\n</code></pre>\n"}],"last_activity_date":1684405492,"question_id":56313433,"body":"<p>I have already set a connection with API, everything seems to be working but I need to set a timeout for data to show. I have checked the answers from before here on StackOverflow, but none of the methods seem to fit. Do you know any way of how to set the timeout right? </p>\n\n<p>I tried several codes from these answers (<a href=\"https://stackoverflow.com/questions/25953819/how-to-set-connection-timeout-with-okhttp\">How to set connection timeout with OkHttp</a>) and there was always some issues with it. At this point, I have an error that says that it cannot resolve the method setReadConnection</p>\n\n<p><code>OkHttpClient client = new OkHttpClient.Builder().setReadTimeout(30, TimeUnit.SECONDS).build();</code></p>\n\n<p>I was just hoping that this would help me to finally show the data in the app. Thanks for any tips</p>\n"},{"comments":[{"comment_id":134513760,"body":"Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/76277985/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. Please show your attempts you have tried and the problems/error messages you get from your attempts."}],"last_activity_date":1684404899,"question_id":76277985,"body":"<p>Hi I have an jwk file which is a AES-GCM key. Using this key and IV, I need to decrypt cipher text, which will be send by user with the iv (they will use the same key for encryption).</p>\n<pre><code>{\n &quot;key_ops&quot;: [\n  &quot;encrypt&quot;,\n  &quot;decrypt&quot;\n ],\n &quot;ext&quot;: true,\n &quot;kty&quot;: &quot;oct&quot;,\n &quot;k&quot;: &quot;FTMiabLk0****************wYP8vTMzjfWo&quot;,\n &quot;alg&quot;: &quot;A256GCM&quot;\n}\n\n</code></pre>\n<p>I tried to decrypt in this way:</p>\n<pre><code>public class AES_GCM {\n        public static final int AES_KEY_SIZE = 256; // used the same byte length while creating the key\n        public static final int GCM_IV_LENGTH = 12;\n        public static final int GCM_TAG_LENGTH = 16;\n\n        public SecretKey generateKey() throws Exception\n        {\n            KeyGenerator keyGenerator = KeyGenerator.getInstance(&quot;AES&quot;);\n            keyGenerator.init(AES_KEY_SIZE);           \n            SecretKey key = keyGenerator.generateKey();\n            \n            String decryptedText = decrypt(cipherText, key, IV);\n            System.out.println(&quot;DeCrypted Text : &quot; + decryptedText);\n        }\n        \n        public String decrypt(byte[] cipherText, SecretKey key, byte[] IV) throws Exception\n        {\n            // Get Cipher Instance\n            Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);            \n            // Create SecretKeySpec\n            SecretKeySpec keySpec = new SecretKeySpec(key.getEncoded(), &quot;AES&quot;);\n            \n            // Create GCMParameterSpec\n            GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\n            \n            // Initialize Cipher for DECRYPT_MODE\n            cipher.init(Cipher.DECRYPT_MODE, keySpec, gcmParameterSpec);\n            \n            // Perform Decryption\n            cipher.doFinal(cipherText);\n            byte[] decryptedText = cipher.doFinal(cipherText);\n            \n            return new String(decryptedText);\n        }\n}\n</code></pre>\n<p>but getting error:</p>\n<pre><code>javax.crypto.AEADBadTagException: Tag mismatch!\nat java.base/com.sun.crypto.provider.GaloisCounterMode$GCMDecrypt.doFinal(Unknown Source)\nat java.base/com.sun.crypto.provider.GaloisCounterMode.engineDoFinal(Unknown Source)\nat java.base/javax.crypto.Cipher.doFinal(Unknown Source)\nat com.tcl.move.digitalidentity.ekyc.service.impl.AES_GCM.decrypt(AES_GCM.java:70)\nat com.tcl.move.digitalidentity.ekyc.App.handleRequest(App.java:60)\n</code></pre>\n<p>As I searched it is related to the GCMParameterSpec .\nCan anyone suggest how to import the key in decrypt. It would be helpful, if one explains what I am missing(I may be completely wrong also!).</p>\n"},{"comments":[{"comment_id":113040131,"body":"Since you mentioned that the setup stopped working after some time, there is a chance of disk getting full. Could you verify the disk space on your both brokers corresponding to kafka log dir"},{"comment_id":113051711,"body":"The disk space is not full, i Have verified the space on all 3 of my brokers"}],"last_activity_date":1684404791,"question_id":63921477,"body":"<p>Can anyone let me know what causes the error</p>\n<blockquote>\n<p>WARN org.apache.kafka.clients.producer.internals.Sender - [Producer clientId=KafkaExampleProducer1] Received invalid metadata error in produce request on partition my-example-topic1-1 due to org.apache.kafka.common.errors.KafkaStorageException: Disk error when trying to access log file on the disk.. Going to request metadata update now&quot;</p>\n</blockquote>\n<p>I am running a 3 broker Kafka setup on the windows environment, I have created 2 TOPICs with 5 partitions each, I am using 2 producer instances. One for each TOPIC and I am using a single Consumer instance to consume from both of these TOPICs. The setup worked fine for some time. Then one of the Producer and the Consumer stopped functioning, the following messages were printed on the Producer and Consumer Console,</p>\n<p>my-example-topic1 &amp; my-example-topic2 are the 2 TOPICs.</p>\n<p>Producer Console:</p>\n<blockquote>\n<p>74394 [kafka-producer-network-thread | KafkaExampleProducer1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=KafkaExampleProducer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n74494 [kafka-producer-network-thread | KafkaExampleProducer1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=KafkaExampleProducer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n74595 [kafka-producer-network-thread | KafkaExampleProducer1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=KafkaExampleProducer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n74697 [kafka-producer-network-thread | KafkaExampleProducer1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=KafkaExampleProducer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n74798 [kafka-producer-network-thread | KafkaExampleProducer1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=KafkaExampleProducer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n74900 [kafka-producer-network-thread | KafkaExampleProducer1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=KafkaExampleProducer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n75001 [kafka-producer-network-thread | KafkaExampleProducer1] WARN org.apache.kafka.clients.NetworkClient - [Producer clientId=KafkaExampleProducer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]</p>\n</blockquote>\n<p>Consumer Console:</p>\n<blockquote>\n<p>17533 [main] WARN org.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-KafkaExampleConsumer1-1, groupId=KafkaExampleConsumer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n17636 [main] WARN org.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-KafkaExampleConsumer1-1, groupId=KafkaExampleConsumer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n17738 [main] WARN org.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-KafkaExampleConsumer1-1, groupId=KafkaExampleConsumer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n17840 [main] WARN org.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-KafkaExampleConsumer1-1, groupId=KafkaExampleConsumer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n17943 [main] WARN org.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-KafkaExampleConsumer1-1, groupId=KafkaExampleConsumer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n18044 [main] WARN org.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-KafkaExampleConsumer1-1, groupId=KafkaExampleConsumer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n18147 [main] WARN org.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-KafkaExampleConsumer1-1, groupId=KafkaExampleConsumer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n18248 [main] WARN org.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-KafkaExampleConsumer1-1, groupId=KafkaExampleConsumer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]\n18350 [main] WARN org.apache.kafka.clients.NetworkClient - [Consumer clientId=consumer-KafkaExampleConsumer1-1, groupId=KafkaExampleConsumer1] 1 partitions have leader brokers without a matching listener, including [my-example-topic1-1]</p>\n</blockquote>\n"},{"last_activity_date":1684404612,"question_id":76279750,"body":"<p>This question would be extension to the post <a href=\"https://stackoverflow.com/questions/76253583/add-a-shape-to-word-document-by-overlapping-with-present-paragraphs\">Add a shape to word document by overlapping with present paragraphs</a>. I was able to create a vertical rectangular tab. But the problem that i am facing is since the shape was created at the header, the color of the shape is slightly light in color.\n<a href=\"https://i.stack.imgur.com/QrhUV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QrhUV.png\" alt=\"click here for light color shape\" /></a>\nIs there any way so set the color in such a way that it will not be light. I would like to have shape exactly like this.\n<a href=\"https://i.stack.imgur.com/wQkk6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wQkk6.png\" alt=\"Required shape\" /></a></p>\n<p>I am new to application development and i am trying to learn. Any help would be much appreciated.</p>\n"},{"comments":[{"comment_id":134489440,"body":"I recommend starting by looking at <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/naming/directory/Attributes.html\" rel=\"nofollow noreferrer\">the documentation</a>."},{"comment_id":134489467,"body":"@stdunbar no, it doesn&#39;t. The question is about attributes and not NamingEnumeration."},{"comment_id":134493031,"body":"You get a <code>NamingEnumeration</code> by calling <code>attributes.getAll()</code> or <code>attributes.getIDs()</code>. See the docs link I gave above."}],"answers":[{"answer_id":76265153,"body":"<pre><code>NamingEnumeration&lt;String&gt; allAttributeIDs =  attributes.getIDs();\n        try {\n            while(allAttributeIDs.hasMore()){\n                String attributeId = allAttributeIDs.next();\n                LOGGER.info(attributeId + &quot;: &quot; + attributes.get(attributeId).get().toString());\n            }\n        } catch (NamingException e) {\n            GloriaExceptionLogger.log(e, UtilServicesBean.class);\n        }\n</code></pre>\n"}],"last_activity_date":1684404496,"question_id":76264864,"body":"<p>Consider the code:</p>\n<pre><code>import javax.naming.NamingEnumeration;\nimport javax.naming.NamingException;\nimport javax.naming.directory.Attributes;\nimport javax.naming.directory.SearchControls;\nimport javax.naming.directory.SearchResult;\n\nNamingEnumeration&lt;SearchResult&gt; searchResults = null;\nSearchControls constraints = new SearchControls();\nconstraints.setSearchScope(SearchControls.SUBTREE_SCOPE);\nconstraints.setTimeLimit(GloriaParams.LDAP_TIMEOUT_LIMIT);\nconstraints.setReturningAttributes(returningAttributes);\n\ntry {\n  searchResults = HelperClass.getLdapContext().search(userId, constraints);\n  Attributes attributes = ((SearchResult) searchResults.next()).getAttributes();\n} catch (Exception e){\n  e.printStackTrace();\n}\n</code></pre>\n<p>I need to print all the key value pairs in attributes.</p>\n<p>As of now I am using</p>\n<pre><code>LOG.info(attributes.get(searchKey).get().toString());\n</code></pre>\n<p>But for this one needs to know the key, but I don't know all the keys.\nSo how to print all the keys value pairs?</p>\n"},{"comments":[{"comment_id":134514266,"body":"did you try mockito-inline for mocking bahevior for static methods?"},{"comment_id":134514290,"body":"No i have not. Can you provide any reference."},{"comment_id":134514307,"body":"I think NullPointer throws BodyInserters by using static method, So here is info on how to mock it <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">baeldung.com/mockito-mock-static-methods</a>"}],"last_activity_date":1684404282,"question_id":76279667,"body":"<p>Trying to Mock WebClient call. Unable to mock the .body method. Even after mocking it. It throws NullPointerException.</p>\n<pre><code>            Mono&lt;String&gt; response = webClient.post()\n                    .uri(workflowApp.get(CommonConstants.TOKEN_URL))\n                    .headers(httpHeaders -&gt; {\n                        httpHeaders.setContentType(MediaType.APPLICATION_FORM_URLENCODED);\n                        httpHeaders.setBasicAuth(encodedClientData);\n                    })\n                    .body(BodyInserters.fromFormData(data))\n                    .retrieve()\n                    .bodyToMono(JsonNode.class)\n                    .flatMap(tokenResponse -&gt; {\n                        String accessTokenValue = tokenResponse.get(TokenConstants.ACCESS_TOKEN)\n                                .textValue();\n                        log.info(&quot;accessTokenValue {}&quot;, accessTokenValue);\n\n                        return webclientnoproxy.post()\n                                .uri(workflowApp.get(CommonConstants.ENDPOINT_URL))\n                                .headers(h -&gt; {\n                                    h.clear();\n                                    h.setBearerAuth(accessTokenValue);\n                                    h.setContentType(MediaType.APPLICATION_JSON);\n                                })\n\n                                .body(BodyInserters.fromPublisher(Mono.just(moRequestWorkflow),\n                                        MORequestWorkflow.class))\n                                .retrieve()\n                                .onStatus(HttpStatus::is4xxClientError, clientResponse -&gt; {\n                                    return clientResponse.bodyToMono(String.class)\n                                            .flatMap(errorBody -&gt; Mono.error(new Exception(errorBody)));\n                                })\n                                .bodyToMono(String.class);\n\n                    });\n</code></pre>\n<p>I tried the below code in Junit. I have been trying to mock the .body(BodyInserters.fromFormData(data)) line but still getting Null Pointer exception on the line. Could not mock the .body method.</p>\n<pre><code>        when(webClient.post()).thenReturn(requestBodyUriMock);\n        when(requestBodyUriMock.uri(anyString())).thenReturn(requestBodySpecMock);\n        when(requestHeadersMock.headers(any())).thenReturn(requestHeadersSpecMock);\n        when(requestBodySpecMock.body(any())).thenReturn(requestHeadersSpecMock);\n        when(requestHeadersSpecMock.retrieve()).thenReturn(responseSpec);\n        when(responseSpec.bodyToMono(JsonNode.class))\n                .thenReturn(monoJson);\n</code></pre>\n<p>If anyone faced this scenario, help me to resolve this.</p>\n"},{"answers":[{"answer_id":76277766,"body":"<p>These are messages coming from other applications running on your device. You can filter the logs to only show the ones from your package.</p>\n"}],"last_activity_date":1684403807,"question_id":76276030,"body":"<p>Just need help, in my Logcat console window under android studio (Flamingo), I only see the same LOG elements that are repeated when I haven't even declared them in the application</p>\n<p>I don't have a solution yet, can someone help me?<a href=\"https://i.stack.imgur.com/QkNUu.png\" rel=\"nofollow noreferrer\"></a></p>\n<p>My logcat out:</p>\n<pre><code>18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.616 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:46.674 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.676 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:46.724 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.726 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:46.768 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.798 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:46.825 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.827 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:46.856 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.857 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:46.883 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.885 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:46.908 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.910 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:46.925 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.928 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:46.990 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:46.995 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.039 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.041 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.059 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.061 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.114 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.116 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.149 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.152 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.177 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.178 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.198 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.201 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.243 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.244 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.293 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.298 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.351 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.353 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.427 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.428 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.450 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.452 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n2023-05-17 21:00:47.485 18148-18148 AndroidRuntime          com.pilias.app.facebook.desk         D  Shutting down VM\n2023-05-17 21:00:47.491 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 1 (1) 4 9\n2023-05-17 21:00:47.493 18148-18478 eglCodecCommon          com.pilias.app.facebook.desk         D  setVertexArrayObject: set vao to 0 (0) 4 5\n</code></pre>\n"},{"last_activity_date":1684403422,"question_id":76279607,"body":"<p>I'm trying to implement a MTLS communication for a Java client application with a Nginx server. Both the server and client are configured with self generated key pairs. Server public certificate is added to the client trustore and the client's public certificate is provided to the nginx server through the <code>ssl_client_certificate</code> config. Below is the server config at nginx.</p>\n<pre><code>server {\n    listen                  443 ssl;\n    server_name             myserver.io;\n    ssl_certificate         certs/server.crt;\n    ssl_certificate_key     certs/server.key;\n    ssl_protocols           TLSv1.2 TLSv1.3;\n    ssl_ciphers             HIGH:!aNULL:!MD5;\n    ssl_client_certificate  certs/client.cer;\n    ssl_verify_client       optional;\n    location / {\n    if ($ssl_client_verify != SUCCESS) {\n        return 403;\n    }\n    }\n}\n</code></pre>\n<p>The java client uses Apache <code>httpcore</code>, <code>httpclient</code> and <code>httpasyncclient</code> dependencies. Below is a cleaned code snippet I'm using to obtain the client connection.</p>\n<pre><code>public static CloseableHttpAsyncClient getClient() throws Exception {\n\n    // Create pooling connection.\n    ConnectingIOReactor ioReactor = new DefaultConnectingIOReactor();\n    PoolingNHttpClientConnectionManager connectionManager = new PoolingNHttpClientConnectionManager(ioReactor);\n    connectionManager.setMaxTotal(20);\n    connectionManager.setDefaultMaxPerRoute(20);\n\n    // Create request configuration.\n    RequestConfig config = RequestConfig.custom()\n        .setConnectTimeout(300).setConnectionRequestTimeout(300)\n        .setSocketTimeout(300).setRedirectsEnabled(false)\n        .setRelativeRedirectsAllowed(false)\n        .build();\n\n    // Create client builder.\n    HttpAsyncClientBuilder httpClientBuilder = HttpAsyncClients.custom().setDefaultRequestConfig(config);\n\n    // Construct and set SSL context. \n    // Here keystore and truststore are &quot;java.security.KeyStore&quot; objects.\n    SSLContext sslContext = SSLContexts.custom()\n            .loadKeyMaterial(keystore, &quot;mypass&quot;.toCharArray(), (aliases, socket) - &gt; &quot;mtlsserver&quot;)\n            .loadTrustMaterial(truststore, null)\n            .build();\n\n    httpClientBuilder.setSSLContext(sslContext);\n    httpClientBuilder.setSSLHostnameVerifier(new DefaultHostnameVerifier());\n\n    httpClientBuilder.setConnectionManager(connectionManager);\n    client = httpClientBuilder.build();\n    client.start();\n    return client;\n}\n</code></pre>\n<p>When running this code, server returns a <code>403</code> response indicating not establishing a mtls connection. However the mtls connection works fine when above <code>httpClientBuilder.setConnectionManager(connectionManager);</code> line is removed.</p>\n<p>During the ssl handshake, it seems that the client doesn't send any certificates to the server when using it with a connection pool (by setting the connection manager). It sends the correct certificate from the keystore when using a single connection (without the pool).</p>\n<p>I'm trying to understand what's happening here and how to resolve this. Any help would be appreciated.</p>\n"},{"answers":[{"answer_id":76279605,"body":"<p>If you are storing your GraphQL schemas and queries in separate modules, you'll have to link them via GraphQL Plugin configuration (graphql.config.yml) as explained <a href=\"https://github.com/JetBrains/js-graphql-intellij-plugin#basic-configuration\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Hope this helps!</p>\n"}],"last_activity_date":1684403402,"question_id":76278913,"body":"<p>I am working on a project that involves a GraphQL schema with .graphqls files stored in a separate directory. Additionally, I have a Java Maven module where I keep the .graphql queries within the resources directory. Previously, my IDEA used to highlight objects, functions, and other elements within these queries. However, the highlighting feature is no longer functioning properly, although the general GraphQL highlighting still works. I have installed the GraphQL plugin, and all functions in the schema files are functioning correctly. How can I resolve this issue?</p>\n<p>Mark graphql schema as resources, check idea settings for file type, invalidate caches, reinstall project.</p>\n"},{"comments":[{"comment_id":134513960,"body":"That has probably not been asked because it is as trivial as it gets. It obviously is O(n), because what else could it possibly be!?!"},{"comment_id":134513966,"body":"O(n) obviously? You have to go through every element to find max/min."},{"comment_id":134514315,"body":"This has nothing whatsoever to do with java, much less java streams. Any language/tool/situation will be O(n) if any modicum of thought at all has gone into the implementation."},{"comment_id":134556854,"body":"As with all these questions about time complexity of Stream operations, it ignores the fact that Streams work with arbitrary sources whose iteration costs we canâ€™t predict. As said by others, each element has to be evaluated, hence, it can never be better than O(n), but since the big O notation denotes the <i>worst case</i>, we canâ€™t say anything without knowing the source, as well as the actual comparison implementation."}],"answers":[{"answer_id":76279578,"body":"<p>It's going though all the elements once, keeping track of what's the largest so far. This means that it's linear in the number of elements assuming the comparison is constant.</p>\n"}],"last_activity_date":1684403202,"question_id":76279520,"body":"<p>There are lots of questions about Big-O complexity of Java's Stream, Stream.sorted(), etc. But I haven't found one from Java's Stream.max().</p>\n<p>It doesn't seem to have been answered on StackOverflow. I also can't seem to find an answer on Google. Maybe I am searching in the wrong place. Perhaps it is possible to look into Java's implementation of max to find out about this? In any case, I'm rather new in the Java world and would be very grateful for an answer and even a discussion.</p>\n"},{"comments":[{"comment_id":134512260,"body":"<code>arguments[0].scrollRight += 400;</code> ?"},{"comment_id":134512375,"body":"no...i dont think there is anything called scrollRight in javascript"},{"comment_id":134512724,"body":"Then try with minus <code>arguments[0].scrollLeft -= 400;</code>"},{"comment_id":134513999,"body":"Good, I posted it as the answer, pls mark it as useful."}],"answers":[{"answer_id":76279576,"body":"<p>Just go left with negative value:</p>\n<pre><code>arguments[0].scrollLeft -= 400;\n</code></pre>\n"}],"last_activity_date":1684403180,"question_id":76278420,"body":"<p>I have scrolled a table horizontally. I want to scroll back to the starting position again. How can I achieve that?</p>\n<p>Using this I have scrolled the table</p>\n<pre><code>((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollLeft += 400;&quot;, scrollElement);\n</code></pre>\n"},{"comments":[{"comment_id":134519297,"body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."}],"last_activity_date":1684403108,"question_id":76268106,"body":"<p>WeightedGraph.Java</p>\n<p>THIS PART INCLUDES THE ADJACENCY MATRIX AND THE CONSTRUCTOR</p>\n<pre><code>import java.util.*;\n\n/* Node class and Edge class*/\nclass Node {\n    int x, y;\n    String name;\n\n    public Node(String myName, int X, int Y) {\n        x = X;\n        y = Y;\n        name = myName;\n\n    }\n}\n\nclass edge {\n    int s,d,w;\n\n    public edge(int src, int dest, int weight) {\n        s = src;\n        d = dest;\n        w = weight;      \n    }\n\n}\n\npublic class WeightedGraph{\n    int Vertex,Edges;\n    int width, height; //for drawing nodes\n    int listX[], listY[]; //for coordinates\n\n    ArrayList&lt;Node&gt; nodes; //used for accessing coordinate values of nodes\n    ArrayList&lt;edge&gt; edges; //used for accessing what nodes to connect to each other\n    ArrayList&lt;edge&gt; edgesCopy;\n\n    /* Constructor*/\n    WeightedGraph(int Vertx, int Links, int m[][]) {\n        Vertex = Vertx;\n        Edges = Links;\n        nodes = new ArrayList&lt;Node&gt;();\n        edges = new ArrayList&lt;edge&gt;();\n\n        printMatrix(m);\n        printTotalWeight();\n        drawNode(Vertx);\n        drawEdge(m);\n        new GUI(&quot;Weighted Graph&quot;, nodes, edges);\n    }\n\n\n    public void printTotalWeight(){\n        int total_weight = 0;\n        for (edge x : edges){\n            total_weight += x.w;\n        }\n\n        System.out.println();\n        System.out.println(&quot;Total Weight: &quot; + total_weight);\n    }\n\n    void addNode(String name, int x, int y) {\n        nodes.add(new Node(name,x,y));\n    }\n\n    void addEdge(int a, int b, int w) {\n        edges.add(new edge(a-1,b-1, w));\n    }\n\n    /* This solves for the coordinates of the nodes */\n    void getCoordinates(int V, int radius){\n        double d = 0, r;\n        int x = 540, y = 360; //This serves as the origin coordinates or center of the window\n        listX = new int[V]; //Stores the x coordinates\n        listY = new int[V]; //Stores the y coordinates\n\n        for (int i = 0; i &lt; V; i++) {\n            r = Math.toRadians(d);\n            listX[i] = x + (int)(radius* Math.cos(r));\n            listY[i] = y + (int)(radius* Math.sin(r));\n            d += 360/V;\n        }\n    }\n\n    /* This draws the node or vertices */\n    public void drawNode(int vertx) {\n        getCoordinates(vertx, 300);\n        for (int i = 0; i &lt; vertx; i++) {\n            addNode(Integer.toString(i+1), listX[i], listY[i]);\n        }\n    }\n\n    public void drawEdge(int M[][]) {\n        int tempX,tempY;\n        for(int src=0; src&lt;M.length; src++){\n            for(int dst=0; dst&lt;M.length; dst++){\n                tempX = src;\n                tempY = dst;\n                if(M[src][dst] != 0){\n                    addEdge(tempX+1,tempY+1,M[src][dst]);\n                }  \n            }\n\n        }\n    }\n\n    public void printMatrix(int M[][]){\n        //Weighted Adjacency Matrix\n        System.out.println();\n        System.out.println(&quot;&gt;&gt; Weighted Adjacency Matrix&quot;);\n        System.out.println();\n\n        //Column labels\n        System.out.print(&quot;     &quot;);\n        for(int i = 0; i &lt; M.length; i++){\n            int temp=i;\n            if (i&lt;9)\n                System.out.print(++temp + &quot;  &quot;);\n            else\n                System.out.print(++temp + &quot; &quot;);\n        }\n        System.out.println();\n        System.out.print(&quot;   -&quot;);\n        for(int i = 0; i &lt; M.length; i++){\n            System.out.print(&quot;---&quot;);\n        }\n        System.out.println();\n\n        //Content\n        for(int i = 0; i &lt; M.length; i++){\n            int temp=i;\n            if (i&lt;9)\n                System.out.print(&quot; &quot;+ (++temp) +&quot; | &quot;);   //Row labels\n            else\n                System.out.print(++temp +&quot; | &quot;);\n            for(int j = 0; j &lt; M.length; j++){ \n                System.out.print(M[i][j] + &quot;  &quot;);\n            }\n            System.out.println();\n        }\n        System.out.println();\n    }\n\n}\n\n\n</code></pre>\n<p>GUI.java\nI've implemented where you can drag the nodes/Vertices all across</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.MouseEvent;\nimport java.util.*;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.event.MouseInputListener;\n\npublic class GUI extends JPanel implements MouseInputListener{\n    JFrame frame;\n    private int x,y,n, width, height;\n    private boolean dragging = false;\n    String nodeColor = &quot;#4ab9ed&quot;, backgrndColor = &quot;#ffffff&quot;;\n    ArrayList&lt;Node&gt; nodes; //used for accessing coordinate values of nodes\n    ArrayList&lt;edge&gt; edges; //used for accessing what nodes to connect to each other\n\n    GUI(String title, ArrayList&lt;Node&gt; nod, ArrayList&lt;edge&gt; edg) {\n        guiWindow(title);\n        mainPanel();\n        nodes = nod;\n        edges = edg;\n        width = 50;\n        height = 50;\n\n        addMouseListener(this);\n        addMouseMotionListener(this);\n    }\n    \n    public void guiWindow(String name){\n        //Sets the properties of the pop-up window\n        frame = new JFrame();\n        frame.setTitle(name);\n        frame.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n        frame.setSize(1080,720);\n        frame.setVisible(true);\n        frame.setLocationRelativeTo( null );\n    }\n\n    public void mainPanel(){\n        this.setBounds(0,0,1080,720);\n        this.setBackground(Color.decode(backgrndColor));\n        this.setBorder(BorderFactory.createMatteBorder\n            (5, 5, 5, 5, Color.decode(&quot;#ffffff&quot;)));\n        \n        frame.add(this);\n    }\n\n    @Override\n    /* This is for drawing the node and edges of the graph */\n    public void paint(Graphics g) {\n        //Implementing 2D graphics\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n        super.paint(g);   //Very important method call to avoid transparent background\n\n        FontMetrics f =g2.getFontMetrics(); //This is for getting the length of node names\n\n        int nodeHeight = Math.max(height, f.getHeight());\n\n        g2.setColor(Color.black);\n        g2.setFont(g2.getFont().deriveFont(g2.getFont().getSize() * 1.2F));\n        g2.setStroke(new BasicStroke((float)1.5));\n\n        for (edge e : edges) {\n            int nodeWidth = Math.max(width, f.stringWidth(Integer.toString(e.w))+width/2);\n            int xMid = (nodes.get(e.s).x + nodes.get(e.d).x)/2;\n            int yMid = (nodes.get(e.s).y + nodes.get(e.d).y)/2;\n\n            g2.drawLine(nodes.get(e.s).x, nodes.get(e.s).y, nodes.get(e.d).x, nodes.get(e.d).y);\n            g2.setColor(Color.decode(backgrndColor));\n            g2.fillOval(xMid-nodeWidth/2, yMid-nodeHeight/2, nodeWidth, nodeHeight);\n            g2.setColor(Color.black);\n            g2.drawString(Integer.toString(e.w), xMid-f.stringWidth(Integer.toString(e.w))/2, yMid+f.getHeight()/2);\n        }\n\n        for (Node n : nodes) {\n            int nodeWidth = Math.max(width, f.stringWidth(n.name)+width/2);\n            g2.setColor(Color.decode(nodeColor));\n            g2.fillOval(n.x-nodeWidth/2, n.y-nodeHeight/2, nodeWidth, nodeHeight);\n            g2.setColor(Color.black);\n            g2.drawOval(n.x-nodeWidth/2, n.y-nodeHeight/2, nodeWidth, nodeHeight);\n            g2.drawString(n.name, n.x-f.stringWidth(n.name)/2, n.y+f.getHeight()/2);\n        }\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        x = e.getX();\n        y = e.getY();\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n        mouseMoved(e);\n        if (dragging == true){\n            nodes.get(n).x = x;\n            nodes.get(n).y = y;\n            repaint();\n        }\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        \n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        mouseMoved(e);\n        for (int i=0; i&lt; nodes.size(); i++){\n            if (x &lt; nodes.get(i).x+27 &amp;&amp; x &gt; nodes.get(i).x-27){\n                if (y &lt; nodes.get(i).y+27 &amp;&amp; y &gt; nodes.get(i).y-27){\n                   n = i;\n                   dragging = true;\n                }\n            }\n        }\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        dragging = false;\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n    \n        \n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        \n        \n    }\n}\n\n</code></pre>\n<p>any help would be much appreciated</p>\n<p>im also sorry for the misunderstanding</p>\n<p>I need help on the GUI.java needs to be modified since an arrow line will be drawn. can I get some help :((</p>\n"},{"comments":[{"comment_id":10536431,"body":"It <i>sounds</i> like you&#39;re doing everything right.  Please take a look at my link below.  And please make sure 1) &quot;c:\\Program files\\java\\jre7\\bin\\javaw.exe&quot; is the correct path, and 2) that path is also defined correctly under &quot;HKLM, Software, Java&quot; in your registry."},{"comment_id":30356432,"body":"the ftype command also needs to be run as an administrator."},{"comment_id":51115362,"body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/394616/running-jar-file-in-windows\">Running Jar file in Windows</a>"},{"comment_id":52183617,"body":"The real answer is that you need to use something like <a href=\"https://github.com/libgdx/packr\" rel=\"nofollow noreferrer\">packr</a> or <a href=\"http://one-jar.sourceforge.net/\" rel=\"nofollow noreferrer\">one-jar</a> that will extract and execute your code for the user, or build to a JNLP file which Java now properly associates."},{"comment_id":58447248,"body":"Having the issue myself, I created an application to do just this. It locates the java installation, runs the appropriate executable (JavaW.exe), and directs it to the JAR file. &#39;Really simple coding but also really handy too. The link may be found in my comment below. =) <a href=\"http://stackoverflow.com/questions/8511063/how-to-run-jar-file-by-double-click-on-windows-7-64/35369918#35369918\" title=\"how to run jar file by double click on windows 7 64\">stackoverflow.com/questions/8511063/&hellip;</a>"}],"answers":[{"answer_id":8511139,"body":"<p><a href=\"http://www.wikihow.com/Run-a-.Jar-Java-File\" rel=\"nofollow\">http://www.wikihow.com/Run-a-.Jar-Java-File</a></p>\n\n<ol>\n<li>Assuming you've loaded the Java JRE and/or Java SDK, then</li>\n<li>To do associations, go to \"<em>My Computer</em>\", click on one of your drives (<code>C:</code> for instance).</li>\n<li>When it is shown, choose \"Tools\" Â»Â» \"Folder options\" (or Properties... it's in different places depending on the Windows version).</li>\n<li>Open Windows Explorer (just open any folder) to get the \"Tools\" -> \"Folder options\" window.</li>\n<li>When you get the \"Folder options\" window, click on the tab \"File types\". You should be able to either edit or add JAR files (<code>.jar</code> extension)</li>\n<li>Change the program used to open JAR files. In the file select window, go to the folder where the JRE is installed (should be <code>C:/Program Files/Java/...</code>, mark \"Always open with\", and select the <code>javaw.exe</code> file.</li>\n</ol>\n"},{"comments":[{"comment_id":51905667,"body":"This doesn&#39;t appear to work in java 8. Thus far my only success has been to run from command line: <code>java.exe -jar myFile.jar</code>"},{"comment_id":57262495,"body":"Same here - a double click on a file associated with javaw results in nothing. Manually running on the command line works.I guess the associated one doesn&#39;t put in the <code>-jar</code> ?"},{"comment_id":58447327,"body":"Double-click functionality is possible through use of an external script - either a BATch file or an EXEcutable.  I compiled just such an executable for use on my machine since Windows 10 seems to have neglected to associated JAR files as well.  See the following comment: <a href=\"http://stackoverflow.com/questions/8511063/how-to-run-jar-file-by-double-click-on-windows-7-64/35369918#35369918\" title=\"how to run jar file by double click on windows 7 64\">stackoverflow.com/questions/8511063/&hellip;</a>"},{"comment_id":111429602,"body":"So you are saying it is impossible to just double click a JAR for it to work? without a BATch file or an EXE?"}],"answer_id":8511277,"body":"<p>What is listed in right-click-> Open With ?\nIs some other program listed as the default program ? Is a Java Runtime listed ? If a Java Runtime is listed, you can open with it, and make it the default program to run with.</p>\n\n<p>ie,</p>\n\n<pre>\nRight Click ->  Properties -> Change -> C:\\Program Files\\Java\\jre7\\bin\\javaw.exe\n</pre>\n"},{"comments":[{"comment_id":26802088,"body":"For Windows 7 or 8 64-bit: Step 5: C:\\Program Files (x86)\\Java\\jre7\\bin\\javaw.exe"},{"comment_id":27074786,"body":"This may sound daft, but what might be the issue if &quot;.jar&quot; doesn&#39;t appear in the list (step 4)?"},{"comment_id":30524470,"body":"this doesn&#39;t work for me. I am running windows 7 64, and just reinstalled java jdk1.7.0_45. If I open a command prompt and run java -jar filename.jar, it runs fine, but associating the jar file to javaw, java, or javaws all fail with no error message."},{"comment_id":58445922,"body":"Having the issue myself, I created an application to do just this.  It locates the java installation, runs the appropriate executable (JavaW.exe), and directs it to the JAR file.  &#39;Really simple coding but also really handy too.  The link may be found in my comment below. =) <a href=\"http://stackoverflow.com/questions/8511063/how-to-run-jar-file-by-double-click-on-windows-7-64/35369918#35369918\" title=\"how to run jar file by double click on windows 7 64\">stackoverflow.com/questions/8511063/&hellip;</a>"}],"answer_id":9753103,"body":"<p>For Windows 7:</p>\n\n<ol>\n<li>Start <em>\"Control Panel\"</em></li>\n<li>Click <em>\"Default Programs\"</em></li>\n<li>Click <em>\"Associate a file type or protocol with a specific program\"</em></li>\n<li>Double click <code>.jar</code></li>\n<li>Browse <code>C:\\Program Files\\Java\\jre7\\bin\\javaw.exe</code></li>\n<li>Click the button Open</li>\n<li>Click the button OK</li>\n</ol>\n"},{"comments":[{"comment_id":70688073,"body":"That&#39;s absolutely right, it happened to me and after I read your solution it worked again"}],"answer_id":11866305,"body":"<p>I had the same problem with .jar files not opening on a double click. It turned out that I had two versions of Java installed (Java 6 and 7). Uninstalling Java 6 from Control Panel-> Uninstall a Program was what finally allowed .jar files to open on a double click without using the command window.</p>\n"},{"answer_id":13998710,"body":"<p>You may also run it from the <a href=\"https://en.wikipedia.org/wiki/Cmd.exe\" rel=\"noreferrer\">Command Prompt (cmd)</a>:</p>\n\n<pre><code>java.exe -jar file.jar\n</code></pre>\n"},{"comments":[{"comment_id":46619789,"body":"and for XP, what should i do?"},{"comment_id":69888978,"body":"in my case it doesn&#39;t change anything, only go back to system32"}],"answer_id":20126847,"body":"<p>If you try <a href=\"https://stackoverflow.com/questions/8511063/how-to-run-jar-file-by-double-click-on-windows-7-64/9753103#9753103\"><strong>unpopular</strong>'s answer</a>:</p>\n\n<blockquote>\n  <p>For Windows 7:</p>\n  \n  <ol>\n  <li>Start <em>\"Control Panel\"</em></li>\n  <li>Click <em>\"Default Programs\"</em></li>\n  <li>Click <em>\"Associate a file type or protocol with a specific program\"</em></li>\n  <li>Double click <code>.jar</code></li>\n  <li>Browse <code>C:\\Program Files\\Java\\jre7\\bin\\javaw.exe</code></li>\n  <li>Click the button Open</li>\n  <li>Click the button OK</li>\n  </ol>\n</blockquote>\n\n<p>And jar files <strong>still fail to open</strong> (in my case it was like I never double clicked):<br>\nopen the <strong>Command Prompt</strong> (to be safe with admin rights enabled) and type the following commands:</p>\n\n<p><code>java -version</code> This should return a version so you can safely assume java is installed.</p>\n\n<p>Then run</p>\n\n<p><code>java -jar \"PATHTOFILE\\FILENAME.JAR\"</code></p>\n\n<p>Read through the output generated.  You may discover an error message.</p>\n"},{"answer_id":28620991,"body":"<p><a href=\"http://java.com/download\" rel=\"nofollow\">Installing</a> the newest JRE fixed this for me.</p>\n\n<p>(Even though I had a JDK and JRE(s) installed before.)</p>\n"},{"answer_id":30253506,"body":"<p>Your problem might also be inside your Java code setting, I mean, if your program somehow could not realize the main class/main file (<strong>entry point</strong>), it will not launch the the program/.jar (specially application built on IDE's). To solve that on an IDE :</p>\n\n<ul>\n<li><strong><em>Right Click the project > Properties > Run > Browse Main Class > OK.</em></strong></li>\n<li><strong><em>Clean and Rebuild</em></strong></li>\n</ul>\n\n<p>Try running it now. Hope it helps</p>\n"},{"comments":[{"comment_id":87184725,"body":"I used ftype jarfile=&quot;C:\\path\\to\\your\\java.exe&quot; -jar &quot;%1&quot; %* to make it work."},{"comment_id":88862083,"body":"@Shifatullah the only difference afaik is that java is linked to a console whereas javaw is not"}],"answer_id":30571306,"body":"<p>If you have previously used the right click and opened with \\path\\to\\your\\javaw.exe then you will need to <strong>remove</strong> the following registry key.</p>\n\n<p><code>[-HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.jar]</code></p>\n\n<p>Then run</p>\n\n<pre><code>C:\\&gt;assoc .jar=jarfile\nC:\\&gt;ftype jarfile=\"C:\\path\\to\\your\\javaw.exe\" -jar \"%1\" %*\n</code></pre>\n"},{"answer_id":31695999,"body":"<p>It's not a file association problem since you can launch the application correctly through command line.</p>\n\n<p>The problem is when you double click on an associated file the application starts and runs with the file's path as base execution path. Any relative path will be computed from the file path and everything you try to load will probably be missing.</p>\n\n<p>Nothing happens, even if you surround all of your entry point code with try/catch(Exception) because java s throwing Throwables and not Exceptions: to fix this in your java entry point surround the content of the main method with a try/catch(Throwable) (base class for Exception and Error) and debug.</p>\n"},{"comments":[{"comment_id":129610320,"body":"This+ePandit&#39;s answer worked for me. Thanks! <a href=\"https://stackoverflow.com/a/52960565/3718756\">stackoverflow.com/a/52960565/3718756</a>"}],"answer_id":34030427,"body":"<p>I had the problem that windows was blocking it from running (Windows 10 Pro). Right click icon> properties> in the bottom right corner it might tell you \"Windows has blocked the functionality........\" next to it there is a check box labeled \"Unblock\"> uncheck the box> apply> option to block goes away and then you can run it. </p>\n"},{"answer_id":35369918,"body":"<p>I created a project, JAR_Runnr, for precisely this. =)</p>\n\n<p><a href=\"http://projects.killerapplets.com/JAR_Runner/\" rel=\"nofollow\">http://projects.killerapplets.com/JAR_Runner/</a></p>\n"},{"answer_id":37659393,"body":"<p>change the default application for JAR files from java.exe to javaw.exe from your JAVA_HOME/bin folder.</p>\n\n<p>This is because, java.exe is console application only, but JAR file needs a window rendered execution. Since javaw.exe is a window application, it is preferred for the execution of JAR files.</p>\n\n<p>An alternative to this is that to some extent you can use command prompt to run your JAR files by simply using <strong>java</strong> keyword with <strong>-jar</strong> attrib.</p>\n"},{"answer_id":50110541,"body":"<p>This is my way:  </p>\n\n<ol>\n<li><p>Create file bat (example openJar.bat).</p>\n\n<pre><code>@echo off\nstart javaw -jar \"%1\" %*\nexit\n</code></pre></li>\n<li><p>Cut it and paste to C:\\Program Files\\Java\\\\bin (this step is unnecessary, but you should it).  </p></li>\n<li>Right click jar file > Properties > Choose open with (Change button ) and select your file bat.  </li>\n<li>Double click your jar file to test it.</li>\n</ol>\n"},{"answer_id":51740881,"body":"<p>Had to try this:</p>\n\n<ol>\n<li>Open command prompt as admin</li>\n<li>Move to the file folder using <code>cd</code> command</li>\n<li>Type <code>java.exe -jar *filename*.jar</code></li>\n<li>Press enter</li>\n</ol>\n\n<p>The app should pop right after that.</p>\n"},{"comments":[{"comment_id":101122048,"body":"This should be the accepted answer. None of the other answers worked for me in Windows 10. They may work in Windows 7 though."},{"comment_id":102387277,"body":"This worked for me. None of the other methods worked. This key in registry had some old version of Java which prevented opening the Jar by double clicking the file."},{"comment_id":103940213,"body":"My association in Windows 10 was <i>HKEY_CLASSES_ROOT\\.jar_auto_file\\shell\\open\\command</i> and used <code>&quot;C:\\dev\\openjdk11\\bin\\javaw.exe&quot; -jar &quot;%1&quot;</code>"},{"comment_id":118442831,"body":"Changing the value of jarfile did not work on Win7. Do what @bjmi said. Changing the value of jar_auto_file immediately worked."},{"comment_id":129610326,"body":"This+CodeMonkey&#39;s answer worked for me, though it wasn&#39;t jarfile in the registry editor, it was jar_auto_file. Thanks! <a href=\"https://stackoverflow.com/a/34030427/3718756\">stackoverflow.com/a/34030427/3718756</a>"}],"answer_id":52960565,"body":"<p>I tried all above steps to resolve the problem but nothing worked. I had installed both JDK and JRE.</p>\n\n<p>In my case, one jar file was being opened by double click while other was not being opened. I examined those files and the probable reason was that which was being opened, was created using JAVA SE 6 and the one not being opened was created using JAVA SE 7. Although, the problematic jar file was being run via command prompt (java -jar myfile.jar).</p>\n\n<p>I tried Right Click ->  Properties -> Change to javaw.exe with both in JDK\\bin directory and JRE\\bin directory.</p>\n\n<p>I was finally able to fix the problem by changing javaw.exe path (from JDK\\bin to JRE\\bin) in registry editor.</p>\n\n<p>Go to <strong>HKEY_CLASSES_ROOT\\jarfile\\shell\\open\\command</strong>, the value was,</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-11.0.1\\bin\\javaw.exe\" -jar \"%1\" %*\n</code></pre>\n\n<p>I changed it to,</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jre1.8.0_191\\bin\\javaw.exe\" -jar \"%1\" %*\n</code></pre>\n\n<p>and it worked. Now the jar file can be opened by double click.</p>\n"},{"answer_id":56334577,"body":"<p>I had this same issue, and searched the internet for a solution and none of the suggestions didnâ€™t not open by double clicking the <code>.jar</code> file.</p>\n\n<p>In my case the reason is I have multiple JDK &amp; JRE versions installed on my computer. Since I am a software developer working with several different versions for different clients I need to use multiple JDKs in my PC (Windows 10 Pro). So I do not want to change the system variables (i.e. <code>JAVA_HOME</code>, <code>JRE_HOME</code> or <code>PATH</code>), instead I use command prompt to run java in user process whenever I wanted to use a different version.</p>\n\n<p>When installing JDK it registers the <code>.jar</code> file association with latest version we installed in the PC. If you right click on the .jar icon and select properties, it will show that file opens with â€œJava(TM) Platform SE Binaryâ€.  If we look at the registry key: <code>HKEY_CLASSES_ROOT\\jarfile\\shell\\open\\command</code>, it will point to latest JDK version.</p>\n\n<p>It is not a good idea (sometimes annoying) to change the registry key every time I want to run an app build from a different version.</p>\n\n<p>So in my situation it is impossible to just double click the <code>.jar</code> file to execute it. But instead I found a work around solution myself. </p>\n\n<p><strong>Scenario:</strong></p>\n\n<p>Multiple JDKs (1.7, 1.8, 9.0, 10.0, 11.0, and 12.0)are installed in the PC, so the latest installed was 12.0.</p>\n\n<p><strong>Problem</strong></p>\n\n<p>Want to double click an executable <code>.jar</code> developed using JDK 1.8 and didnâ€™t work</p>\n\n<p><strong>This is my work around solution:</strong></p>\n\n<ol>\n<li>Create a shortcut for the <code>.jar</code> file that you want to open.  </li>\n<li>Right click the shortcut icon and select properties -> Shortcut tab </li>\n<li><p>Change the text in the target (for example <code>\"D:\\Dev\\JavaApp1.8.jar\"</code>) \nTo </p>\n\n<p>\"<code>C:\\Program Files\\Java\\jdk1.8.0\\bin\\javaw.exe</code>\" <code>-jar</code>\n    \"<code>D:\\Dev\\JavaApp1.8.jar</code>\" </p></li>\n<li><p>Then click ok Double click the shortcut.</p></li>\n</ol>\n\n<p>It should now open the app.</p>\n"},{"answer_id":57481070,"body":"<p>I had the same issue: \n<em>if I doubleclick on a jar executable file, and my Java application does not start.</em></p>\n\n<p>So  tried to change manually also registry key, but it didn't help me. Tried to reinstall JDK newer/older without any result. (I have several versions of Java) </p>\n\n<p>And I've solved it only using jarfix program. Jarfix automatically fixed .jar association problem on Windows system. (check regedit: <code>PC\\HKEY_CLASSES_ROOT\\jarfile\\shell\\open\\command</code>) </p>\n\n<p>What says Johann Nepomuk LÃ¶fflmann:</p>\n\n<blockquote>\n  <p>The root cause for the problem above is, that a program has stolen the\n  .jar association. If you have installed the Java Runtime Environment\n  the first time, the file type called \"jar\" is assigned to javaw.exe\n  correctly. \"jar\" is an abbreviation for \"java archive\" and javaw.exe\n  is the correct program to execute a .jar. However, on Windows any\n  program can steal a file type at any time even if it is already\n  associated with a program. Many zip/unzip programs prefer to do this,\n  because a jar is stored in the .zip format.  If you doubleclick on a\n  .jar, your pack program opens the file, rather than javaw runs the\n  program, because your pack program ignores the meta information which\n  are also stored in a .jar. In the Oracle bug database there is the\n  low-priority report 4912211 \"add mechanism to restore hijacked .jar\n  and .jnlp file extensions\", but it has been closed as \"Closed, Will\n  Not Fix\".</p>\n  \n  <p>You may also miss the file connection with .jar if you are using a\n  free OpenJDK without an installer.</p>\n</blockquote>\n\n<p><em>Notice:</em>\nmy OS is Windows 10, but logic is the same for 7, 8 and so on.</p>\n\n<p>Helpful links:<br>\n<a href=\"https://windowsreport.com/jar-files-not-opening-windows-10/\" rel=\"nofollow noreferrer\">https://windowsreport.com/jar-files-not-opening-windows-10/</a>\n<a href=\"https://johann.loefflmann.net/en/software/jarfix/index.html\" rel=\"nofollow noreferrer\">https://johann.loefflmann.net/en/software/jarfix/index.html</a> </p>\n"},{"answer_id":76279559,"body":"<p>To run jar file by double click (in windows): Open cmd and write:</p>\n<pre><code>assoc .jar\n</code></pre>\n<p>you should get:</p>\n<pre><code>.jar=jarfile\n</code></pre>\n<p>then write:</p>\n<pre><code>ftype jarfile\n</code></pre>\n<p>you should get something like this:</p>\n<pre><code>jarfile=&quot;C:\\Program Files\\Java\\jdk-20\\bin\\javaw.exe&quot; -jar &quot;%1&quot; &quot;%*&quot;\n</code></pre>\n<p>then write this:</p>\n<pre><code>ftype JARFile=&quot;C:\\Program Files\\Java\\jdk-20\\bin\\javaw.exe&quot; -jar --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-20\\lib&quot; --add-modules javafx.controls,javafx.fxml &quot;%%1&quot; &quot;%%*&quot;\n</code></pre>\n<p>Replace JARFile path with your path to javaw.exe, and modul-path with your path to javafx lib. If you are using NetBeans, Eclipse or IntelliJ, after -jar those are VM arguments/options you had to write to run it from application. You can write/copy it to notepad and save it with extension .bat (anyName.bat) right click and run it as administrator. Now if you write again:</p>\n<pre><code>ftype jarfile\n</code></pre>\n<p>you should get:</p>\n<pre><code>jarfile=&quot;C:\\Program Files\\Java\\jdk-20\\bin\\javaw.exe&quot; -jar --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-20\\lib&quot; --add-modules javafx.controls,javafx.fxml &quot;%1&quot; &quot;%*&quot;\n</code></pre>\n<p>and it should work, on your computer. Notice double % and then single. The percent signs are doubled to escape them, because a single percent has a special meaning within a batch file. More about it here: <a href=\"https://ss64.com/nt/ftype.html\" rel=\"nofollow noreferrer\">https://ss64.com/nt/ftype.html</a></p>\n"}],"last_activity_date":1684403030,"question_id":8511063,"body":"<p>Running a .jar file in a command line works fine, but i am not able to run any .jar file by double clicking on my Windows 7 (64). It seems nothing happens after the double click.</p>\n\n<p>I tried the <code>ftype</code> hint, no success:</p>\n\n<pre><code>ftype jarfile=\"C:\\Program Files\\Java\\jre7\\bin\\javaw.exe\" -jar \"%1\" %*\n</code></pre>\n\n<p>I reinstalled the JDK 7 64-bit, no success.</p>\n\n<p>Any idea?</p>\n"},{"comments":[{"comment_id":134513659,"body":"The exception means that <code>getClass().getResource(&quot;FXMLDocument.fxml&quot;)</code> is returning <code>null</code>, which means the resource could not be found (i.e., either the resource does not exist, is not being included in the project output, or <code>&quot;FXMLDocument.fxml&quot;</code> is the wrong name/path). See the duplicate for more help."},{"comment_id":134513979,"body":"I checked the link and it didn&#39;t help at all for me because I have the FXML file and path is totally correct as I see"},{"comment_id":134514119,"body":"Then it&#39;s time to try some of the debugging techniques described in the duplicate, because if you had the correct configurations, had FXML file in the right place, and used the right path then your code would be working."},{"comment_id":134514548,"body":"Could it be that my JavaFX isn&#39;t configured correctly or not recognized by the program? Does working on another IDE fix the problem or it&#39;ll be the same?"},{"comment_id":134516779,"body":"<i>&quot;Could it be that my JavaFX isn&#39;t configured correctly or not recognized by the program?&quot;</i>. No. Please actually read the error message you posted and see what it says. You&#39;ve already been told this. Work through the &quot;Troubleshooting&quot; section of the duplicate. If that really doesn&#39;t solve your problem (it does), then edit the question to show how it is different (including the results of your troubleshooting)."}],"last_activity_date":1684402995,"question_id":76279326,"body":"<p>I'm new to JavaFX, I downloaded the required programs (Netbeans 16, JDK 17, Scene Builder)\nI only created a new project, didn't change anything with the basic template, and I have this error, I tried looking for similar problems here but I didn't find what fixes my error.</p>\n<p>This is the error I'm Getting</p>\n<pre><code>Exception in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1082)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:893)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Location is required.\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3369)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3332)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3300)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3272)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3248)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3241)\n    at javafxapplication2.JavaFXApplication2.start(JavaFXApplication2.java:13)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:839)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    ... 1 more\nException running application javafxapplication2.JavaFXApplication2\nC:\\Users\\ahmed\\OneDrive\\Documents\\NetBeansProjects\\JavaFXApplication2\\nbproject\\build-impl.xml:1367: The following error occurred while executing this line:\nC:\\Users\\ahmed\\OneDrive\\Documents\\NetBeansProjects\\JavaFXApplication2\\nbproject\\build-impl.xml:962: Java returned: 1\nBUILD FAILED (total time: 1 second)\n</code></pre>\n<p>This is the basic code</p>\n<ol>\n<li>JavaFXApplication2.java</li>\n</ol>\n<pre><code>package javafxapplication2;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class JavaFXApplication2 extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\n        Scene scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>FXMLDocument.fxml</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;200&quot; prefWidth=&quot;320&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;javafxapplication2.FXMLDocumentController&quot;&gt;\n    &lt;children&gt;\n        &lt;Button layoutX=&quot;126&quot; layoutY=&quot;90&quot; text=&quot;Click Me!&quot; onAction=&quot;#handleButtonAction&quot; fx:id=&quot;button&quot; /&gt;\n        &lt;Label layoutX=&quot;126&quot; layoutY=&quot;120&quot; minHeight=&quot;16&quot; minWidth=&quot;69&quot; fx:id=&quot;label&quot; /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<ol start=\"3\">\n<li>FXMLDocumentController.java</li>\n</ol>\n<pre><code>package javafxapplication2;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Label;\n\npublic class FXMLDocumentController implements Initializable {\n    \n    @FXML\n    private Label label;\n    \n    @FXML\n    private void handleButtonAction(ActionEvent event) {\n        System.out.println(&quot;You clicked me!&quot;);\n        label.setText(&quot;Hello World!&quot;);\n    }\n    \n    @Override\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n    }    \n    \n}\n\n</code></pre>\n<p>I only tried to create a new project with basic Hello World\nWhat would be the cause of this error?\nI've seen many talking about adding the required JavaFX modules to fix a similar problem but I didn't find the right place to add that and I'm not totally sure it fixes the error.</p>\n<p>My problem is not about the source of FXML file</p>\n<p>I get this when I clean &amp; build project\n([loadresource] module-info.java doesn't exist)</p>\n<p>Thanks in advance.</p>\n"},{"answers":[{"answer_id":76279530,"body":"<p>After continuing my research trough the migration guides of Springboot and Hibernate, I found the solution here:</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html#query-criteria-copy\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.0/migration-guide/migration-guide.html#query-criteria-copy</a></p>\n<p>where it is said:</p>\n<hr />\n<p><em>The same is true for the left and right hand side types of a comparison predicate. Queries like</em></p>\n<pre><code>Root&lt;Participation&gt; root = criteria.from( Participation.class );\nRoot&lt;Submission&gt; rootSubQuery = subQuery.from( Submission.class );\nsubQuery.select( rootSubQuery.join( &quot;submitters&quot; ) );\n\n// left hand side of type Submission.id and right hand side of Submissions types\ncriteria.where( root.get( &quot;id&quot; ).in( subQuery ) );\n</code></pre>\n<p><em>will be considered invalid and should be changed into</em></p>\n<pre><code>Root&lt;Participation&gt; root = criteria.from( Participation.class );\nRoot&lt;Submission&gt; rootSubQuery = subQuery.from( Submission.class );\nsubQuery.select( rootSubQuery.join( &quot;submitters&quot; ) );\n\n// left hand side of type Submission.id and right hand side of Submissions types\ncriteria.where( root.in( subQuery ) );\n</code></pre>\n<hr />\n<p>So in my case the line:</p>\n<pre><code>builder.in(equip.get(&quot;id&quot;)).value(subqueryEquip),\n</code></pre>\n<p>has to be replaced for:</p>\n<pre><code>equip.in(subqueryEquip),\n</code></pre>\n"}],"last_activity_date":1684402798,"question_id":76278688,"body":"<p>I have a complex query written with a QueryBuilder to create a Specification that will be passed to the <code>repository.findAll(Specification&lt;...&gt;)</code> function to filter results.</p>\n<p>The query worked fine in Spring 2.7, but after the migration it stopped to work. I have been experimenting with the code and I have found that if I comment the line                             <code>builder.in(equip.get(&quot;id&quot;)).value(subqueryEquip),</code> the query works (of course, I need this line of code for filtering).</p>\n<p>The error that throws in console is:</p>\n<blockquote>\n<p>class org.hibernate.metamodel.mapping.internal.BasicAttributeMapping\ncannot be cast to class\norg.hibernate.metamodel.mapping.EntityValuedModelPart\n(org.hibernate.metamodel.mapping.internal.BasicAttributeMapping and\norg.hibernate.metamodel.mapping.EntityValuedModelPart are in unnamed\nmodule of loader 'app')</p>\n</blockquote>\n<p>I suspect that the in with a Subquery is now giving errors.</p>\n<p>So the function in question (the one that returns the predicate) is:</p>\n<pre><code>public static Specification&lt;Usuari&gt; filterByLaboratorisAndEquipsAssignatsToUser(UsuariFilterParams usuariFilterParams, UsuariLogat usuariLogat) {\n        return (root, query, builder) -&gt; {\n            List&lt;Predicate&gt; predicates = buildListOfPredicates(root, builder, usuariFilterParams);\n\n            query.select(root.get(&quot;id&quot;)).distinct(true);\n\n            Subquery&lt;Equip&gt; subqueryEquip = buildSubqueryEquip(query, builder, usuariLogat.getId());\n\n            Join&lt;Usuari, Equip&gt; equip = root.join(&quot;equips&quot;, JoinType.LEFT);\n            Join&lt;Usuari, Rol&gt; rol = root.join(&quot;rol&quot;);\n\n            predicates.add(builder.and(\n                    builder.notEqual(root.get(&quot;id&quot;), usuariLogat.getId()),\n                    builder.or(\n                            builder.in(equip.get(&quot;id&quot;)).value(subqueryEquip),\n                            builder.equal(rol.get(&quot;id&quot;), (RolsEnum.ROLE_USUARI_LABORATORI.getId()))\n                    ),\n                    builder.greaterThan(rol.get(&quot;id&quot;), usuariLogat.getFirstRole().getId())));\n\n            query.where(builder.and(predicates.toArray(new Predicate[0])));\n            return query.getRestriction();\n        };\n    }\n</code></pre>\n<p>And this generate the subquery used in previous function:</p>\n<pre><code>    private static Subquery&lt;Equip&gt; buildSubqueryEquip(CriteriaQuery&lt;?&gt; query, CriteriaBuilder criteriaBuilder, long usuariLogatId) {\n        Subquery&lt;Equip&gt; subqueryEquip = query.subquery(Equip.class);\n        Root&lt;Equip&gt; subEquip = subqueryEquip.from(Equip.class);\n\n        Join&lt;Equip, Usuari&gt; subUsuariEquip = subEquip.join(&quot;usuaris&quot;);\n        return subqueryEquip.select(subEquip).where(criteriaBuilder.equal(subUsuariEquip.get(&quot;id&quot;), usuariLogatId));\n    }\n</code></pre>\n<p>Did you experiment this error while migrating to 3.0.6? How did you solve?</p>\n"},{"comments":[{"comment_id":134511647,"body":"As far as I can see, the way you have generated a presigned URL is correct. <code>generatePresignedUrl</code> is an S3 API. Is there any problem with the currently generated URL? OR you just want to generate it differently?"},{"comment_id":134511841,"body":"yeah its working for generating url from s3. but i have created cloudfront distribution  of this s3 bucket .so how we can generate from cloudfront network"},{"comment_id":134512480,"body":"As far as I know, CloudFront does not have any API to generate a presigned URL, only S3 has that API."},{"comment_id":134513742,"body":"Thankyou but i have some few question like we have a s3 bucket where all media is stored . we need to implement CDN system here, and we have multiple users from multiple regions. So they can download the media from nearest region."},{"comment_id":134514101,"body":"So your S3 buckets will also be multiple, different for different regions, right? Not just cloudfront. If not, and if you have a single S3, then the actual content will still be far from the user, no? If you have multple S3 buckets, then you can use the region-specific S3 bucket to create pre-signed URL and give to the user near to that region."},{"comment_id":134514171,"body":"If the files are already there in the distributed edge-locations (synced from S3 to edge-locations by cloud-front itself), there is no need to create presigned URLs for the files in the S3 bucket. The nearest edge-location to the user will serve the content."},{"comment_id":134515287,"body":"I have only one s3 bucket at the moment. So if i created cloudFront for this s3 bucket then how we can get the url or download the image through rest api is the same way as mentioned in the above code?"},{"comment_id":134515335,"body":"The code you have provided in the question is for generating a pre-signed URL - i.e. if some content is private (not accessible to anyone without log in to the AWS console), and you want to create a temporary URL with your token so that anyone can access it, then your code is useful. For cloud-front, to access normal website images, CSS, JS, etc. (i.e. static content) you don&#39;t need to do that - check this - <a href=\"https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/LinkFormat.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/&hellip;</a>&zwnj;&#8203;. Either a route can be configured in your domain to load content from cloud-front OR direct CF urls."},{"comment_id":134515397,"body":"You will need to study how cloud-front works and configure it, and it should be done. No pre-signed URL is needed to have website&#39;s static content nearer to the users."},{"comment_id":134515409,"body":"Start from here - <a href=\"https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/GettingStarted.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/&hellip;</a>"}],"last_activity_date":1684402406,"question_id":76277857,"body":"<p>How can we get the media files from a CDN server (CloudFront) using Java Spring Boot?</p>\n<p>I am using an S3 bucket for storing all the media.</p>\n<p>Here is my code for generating signedUrl from an S3 bucket. And we have  created a CloudFront distribution for this S3 bucket. So how can we generate signedUrl from CloudFront?</p>\n<pre><code>@Service\npublic class FileServiceImpl implements FileService{\n\n    @Autowired\n    private AmazonS3 amazonS3;\n\n    @Value(&quot;${aws.s3.bucket-name}&quot;)\n    private String bucketName;\n\n    @Override\n    public String generatePreSignedUrlForFileDownload(String fileKey) {\n        if (fileKey == null || fileKey.isEmpty()) {\n            throw new AppException(AppConstants.ErrorType.PATH_NULL_FOR_FILE,\n                    AppConstants.ErrorCodes.PATH_NULL_FOR_FILE_ERROR_CODE,\n                    AppConstants.ErrorMessage.PATH_NULL_FOR_FILE_ERROR_MESSAGE);\n        }\n        GeneratePresignedUrlRequest presignedUrlRequest = new GeneratePresignedUrlRequest(bucketName, fileKey)\n                .withMethod(HttpMethod.GET);\n        URL presignedUrl = amazonS3.generatePresignedUrl(presignedUrlRequest);\n        return presignedUrl.toString();\n    }\n</code></pre>\n"},{"comments":[{"comment_id":134513764,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/26058854/case-insensitive-json-to-pojo-mapping-without-changing-the-pojo\">Case insensitive JSON to POJO mapping without changing the POJO</a>"}],"answers":[{"answer_id":76279487,"body":"<p>i suggest putting the json to some kind of pre-processing-step to normalize property Names before Jackons does its json to object mapping</p>\n<pre><code>public class CustomDeserializer extends JsonDeserializer&lt;MyObject&gt; {\n   @Override\n   public MyObject deserialize(JsonParser jsonParser, DeserializationContext context) throws IOException {\n       ObjectCodec codec = jsonParser.getCodec();\n       JsonNode node = codec.readTree(jsonParser);\n       ObjectNode normalizedNode = JsonNodeFactory.instance.objectNode();\n\n       // Normalize property names\n       Iterator&lt;String&gt; fieldNames = node.fieldNames();\n       while (fieldNames.hasNext()) {\n           String originalPropertyName = fieldNames.next();\n           String normalizedPropertyName = normalizePropertyName(originalPropertyName);\n           normalizedNode.set(normalizedPropertyName, node.get(originalPropertyName));\n       }\n\n       ObjectMapper mapper = (ObjectMapper) codec;\n       JsonParser modifiedJsonParser = mapper.treeAsTokens(normalizedNode);\n       return mapper.readValue(modifiedJsonParser, MyObject.class);\n   }\n\n   private String normalizePropertyName(String propertyName) {\n       // Perform your normalization logic here\n       // For example, convert to lowercase or replace spaces with underscores\n       return propertyName.toLowerCase().replaceAll(&quot; &quot;, &quot;_&quot;);\n   }\n}\n</code></pre>\n<p>and then wire up the deserializer as you see fit, for example by annotating the target Class</p>\n<pre><code>@JsonDeserialize(using = CustomDeserializer.class)\npublic class MyObject {\n    // ...\n}\n</code></pre>\n"}],"last_activity_date":1684402393,"question_id":76279388,"body":"<p><em>What I am trying to achieve:</em></p>\n<p>Parse a json using Jackson and JsonProperty, however, the key, while always the same, comes in all flavor of upper lower cases.</p>\n<p><em>What I tried:</em></p>\n<p>The input json has a field <code>{&quot;field&quot;: &quot;value&quot;}</code></p>\n<p>Therefore, in my POJO, I do this:</p>\n<p><code>public record MyPojo(@JsonProperty(&quot;field&quot;) String field</code></p>\n<p>This works, but then, the key comes in different flavor of cases.</p>\n<p>i.e. <code>{&quot;fieLd&quot;: &quot;value&quot;}</code> <code>{&quot;Field&quot;: &quot;value&quot;}</code> <code>{&quot;fIEld&quot;: &quot;value&quot;}</code> etc</p>\n<p>For now, I use the <code>@JsonAlias(&quot;fieLd&quot;)</code> etc...</p>\n<p>But this is not scalable, since there are many permutations of cases.</p>\n<p><em>Question:</em></p>\n<p>How to tell Jackson and the JsonProperty to simply ignore the case?</p>\n"},{"comments":[{"comment_id":134513748,"body":"Use below solution for empty button and for space issue, you can use percentage constraint using ConstraintLayout for responsiveness like widthpercent"}],"answers":[{"answer_id":76279399,"body":"<ol>\n<li>The empty button (where the backslash should be) is because backslashes are escaped. You should have either the unicode: <code>\\u005c</code> or have it like this <code>\\\\</code>.</li>\n<li>Spacing differences could be because your emulator is different than the selected device:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/FlZnM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FlZnM.png\" alt=\"enter image description here\" /></a></p>\n<p>Also make sure to have <code>Show System UI</code> checked:</p>\n<p><a href=\"https://i.stack.imgur.com/ek3jW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ek3jW.png\" alt=\"enter image description here\" /></a></p>\n"}],"last_activity_date":1684402270,"question_id":76279131,"body":"<p>I am currently developing a basic calculator app using Android Studio. However, I have noticed an inconsistency between the UI displayed on the Design window and the one shown in the emulator. Specifically, the spacing between buttons and textViews appears to be different. This has raised some concerns, as I am worried that I may have overlooked something. I would greatly appreciate it if someone could explain this behavior to me. Thank you.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;syntax.org.il.screenonoffexample.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button0&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;0&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/button1&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/button1&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buttonPlus&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;+&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/buttonEqual&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/buttonEqual&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buttonDecimal&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;.&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button0&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button0&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;3&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button2&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button2&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buttonmulti&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;*&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button6&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button6&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button6&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;6&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button5&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button5&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button9&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;9&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button8&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button8&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;2&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button1&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button1&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button8&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;8&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button7&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button7&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buttonEqual&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;=&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/buttonDecimal&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/buttonDecimal&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buttonMinus&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;-&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button3&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button3&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button5&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;5&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button4&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button4&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button7&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_marginStart=&quot;4dp&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;7&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/newNumber&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/newNumber&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;4&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/button7&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/button7&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buttonDivide&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;\\&quot;\n        app:layout_constraintBaseline_toBaselineOf=&quot;@+id/button9&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/button9&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/button1&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;8dp&quot;\n        android:minWidth=&quot;48dp&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:text=&quot;1&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/button4&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/button4&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/result&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;8dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;8dp&quot;\n        android:ems=&quot;10&quot;\n        android:focusable=&quot;false&quot;\n        android:focusableInTouchMode=&quot;false&quot;\n        android:inputType=&quot;numberSigned|numberDecimal&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.93&quot;\n        app:layout_constraintStart_toEndOf=&quot;@+id/newNumber&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/operation&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;88dp&quot;\n        android:text=&quot;TextView&quot;\n        android:focusable=&quot;false&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/button7&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.871&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/newNumber&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:ems=&quot;10&quot;\n        android:focusable=&quot;false&quot;\n        android:inputType=&quot;numberSigned|numberDecimal&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.412&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n\n</code></pre>\n<p>Emulator View:\n(<a href=\"https://i.stack.imgur.com/varKQ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/varKQ.png</a>)</p>\n<p>Design:\n<a href=\"https://i.stack.imgur.com/MAu6F.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I experimented with adjusting the constraints, but unfortunately, it didn't resolve the issue for me.</p>\n"},{"last_activity_date":1684401127,"question_id":75626825,"body":"<p>I am building a Calendar app, in my event class I put some reminders and I want them to show up and cancel dynamically when the user is in this activity. When the user want to update an event then I have to show the existed reminders and dynamically some more if he want to add or to delete. To do that I figured out a way through TimerTask but, some days later through research I found out that there is ScheduledExecutorService that is doing almost the same task. So my question is, if I want to handle dynamically to show the existed reminders through myDatabaseHelper, which is better<br />\n<strong>TimerTask or ScheduledExecutorService.</strong>?</p>\n<p>I don't provide any code, because still I have many errors. I am new in Java programming and furthermore in Mobile Dev.</p>\n"},{"comments":[{"comment_id":134505759,"body":"Please show the code for your backend that is receiving the post."},{"comment_id":134505910,"body":"@grekier Thanks for notice me, i edit the post with Controller and Service for Ordinazione."}],"answers":[{"answer_id":76279294,"body":"<p>It seems that the Map object (infoPiatto) is not converted correctly when it is sent through Unirest <code>.field()</code>.</p>\n<p>I believe that it probably is sent using toString on the Map which cannot be mapped to a converter on the server side.</p>\n<p>I think that using the DTO object directly is probably the best solution for you</p>\n<pre><code>HttpResponse&lt;JsonNode&gt; response = Unirest.post(&quot;http://localhost:8080/api/v1/ordinazione/postOrdinazione&quot;)\n                    .header(&quot;accept&quot;, &quot;application/json&quot;)\n                    .body(ordinazione)\n                    .asJson();\n</code></pre>\n<p>after adding one of the mapper. See <a href=\"http://kong.github.io/unirest-java/#object-mappers\" rel=\"nofollow noreferrer\">http://kong.github.io/unirest-java/#object-mappers</a></p>\n"}],"last_activity_date":1684400883,"question_id":76274492,"body":"<p>I'm developing a management software for resturant. I'm using Java Spring Boot for back end and JavaFX for the front end. I'm using Unirest library for the API REST.\nI have an Ordination class (in my project called &quot;Ordinazione&quot;).</p>\n<p>This is the version in Front End:</p>\n<pre><code>package com.example.ratatouille23.Model;\n\nimport com.example.ratatouille23.Model.DTO.OrdinazioneDTO;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Ordinazione {\n\n    private String idTavolo;\n\n    private boolean evasa;\n\n    private Map&lt;Piatto, InfoOrdine&gt; infoPiatto;\n\n    public Ordinazione(String idTavolo){\n        this.idTavolo = idTavolo;\n        this.infoPiatto = new HashMap&lt;&gt;();\n        this.evasa = false;\n    }\n\n    public Ordinazione(){\n        infoPiatto = new HashMap&lt;&gt;();\n    }\n\n    public void incrementaQuantitaPiatto(Piatto piatto) {\n        if (infoPiatto.containsKey(piatto)){\n            InfoOrdine info = infoPiatto.get(piatto);\n            int quantity = info.getQuantity();\n            info.setQuantity(quantity+1);\n            infoPiatto.put(piatto, info);\n        } else {\n            InfoOrdine info = new InfoOrdine(1, StatoOrdine.DA_PREPARARE);\n            infoPiatto.put(piatto, info);\n        }\n    }\n\n    public void decrementaQuantitaPiatto(Piatto piatto) {\n        if (infoPiatto.containsKey(piatto)) {\n            InfoOrdine info = infoPiatto.get(piatto);\n            int quantity = info.getQuantity();\n            if (quantity&gt;1){\n                info.setQuantity(quantity-1);\n                infoPiatto.put(piatto, info);\n            } else {\n                infoPiatto.remove(piatto);\n            }\n\n        }\n    }\n\n    public void aggiungiPiatto(Piatto piatto, int quantita) {\n        InfoOrdine info = new InfoOrdine(quantita, StatoOrdine.DA_PREPARARE);\n        infoPiatto.put(piatto, info);\n    }\n\n    public void setStatoInPreparazione(Piatto piatto){\n        InfoOrdine info = this.infoPiatto.get(piatto);\n        info.setStato(StatoOrdine.IN_PREPARAZIONE);\n        this.infoPiatto.put(piatto, info);\n    }\n\n    public void setStatoCompletato(Piatto piatto){\n        InfoOrdine info = this.infoPiatto.get(piatto);\n        info.setStato(StatoOrdine.COMPLETATO);\n        this.infoPiatto.put(piatto, info);\n    }\n\n    //\n\n    public String getIdTavolo() {\n        return idTavolo;\n    }\n\n    public void setIdTavolo(String idTavolo) {\n        this.idTavolo = idTavolo;\n    }\n\n    public Map&lt;Piatto, InfoOrdine&gt; getPiattiOrdinazione() {\n        return infoPiatto;\n    }\n\n    public boolean getStato() {\n        return evasa;\n    }\n\n    public boolean isEvasa() {\n        return evasa;\n    }\n\n    public void setEvasa(boolean evasa) {\n        this.evasa = evasa;\n    }\n\n    public Map&lt;Piatto, InfoOrdine&gt; getInfoPiatto() {\n        return infoPiatto;\n    }\n\n    public void setInfoPiatto(Map&lt;Piatto, InfoOrdine&gt; infoPiatto) {\n        this.infoPiatto = infoPiatto;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Tavolo: &quot; + idTavolo +\n                &quot;\\n\\n&quot; + infoPiatto;\n    }\n\n    // Inner classes\n\n    public class InfoOrdine{\n\n        private int quantity;\n        private StatoOrdine stato;\n\n        public InfoOrdine(int quantity, StatoOrdine stato) {\n            this.quantity = quantity;\n            this.stato = stato;\n        }\n\n        public InfoOrdine(int quantity){\n            this.quantity = quantity;\n            this.stato = StatoOrdine.DA_PREPARARE;\n        }\n\n        public int getQuantity() {\n            return quantity;\n        }\n\n        public void setQuantity(int quantity) {\n            this.quantity = quantity;\n        }\n\n        public StatoOrdine getStato() {\n            return stato;\n        }\n\n        public void setStato(StatoOrdine stato) {\n            this.stato = stato;\n        }\n\n        @Override\n        public String toString() {\n            return  &quot; x&quot; + quantity + &quot;\\n&quot;;\n\n        }\n\n    }\n\n    public enum StatoOrdine{\n        DA_PREPARARE,\n        IN_PREPARAZIONE,\n        COMPLETATO;\n    }\n}\n\n\n\n</code></pre>\n<p>This is OrdinazioneDTO:</p>\n<pre><code>\npackage com.example.ratatouille23.Model.DTO;\n\nimport com.example.ratatouille23.Model.Ordinazione;\nimport com.example.ratatouille23.Model.Piatto;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class OrdinazioneDTO {\n\n   private String idTavolo;\n//    private boolean evasa;\n   private Map&lt;Piatto, Ordinazione.InfoOrdine&gt; infoPiatto;\n\n   public OrdinazioneDTO(String idTavolo){\n       this.idTavolo = idTavolo;\n       this.infoPiatto = new HashMap&lt;&gt;();\n//        this.evasa = false;\n   }\n\n   public OrdinazioneDTO(){\n       infoPiatto = new HashMap&lt;&gt;();\n   }\n\n   // Getter and Setter here\n\n   @Override\n   public String toString() {\n       return &quot;Tavolo: &quot; + idTavolo +\n               &quot;\\n\\n&quot; + infoPiatto;\n   }\n\n\n}\n\n\n</code></pre>\n<p>This is the Ordinazione's class in back end:</p>\n<pre><code>\npackage com.springone3.demo.Entity;\n\nimport com.springone3.demo.Controller.PiattoController;\nimport jakarta.persistence.*;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n\n@Entity\n@Table\npublic class Ordinazione {\n\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;ordinazione_sequence&quot;,\n            sequenceName = &quot;ordinazione_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;ordinazione_sequence&quot;\n    )\n    private Long idOrdinazione;\n\n    private String idTavolo;\n\n    @OneToMany\n    Map&lt;Piatto, InfoOrdine&gt; infoPiatto;\n\n    private boolean evasa = false;\n\n    public Ordinazione(Long idOrdinazione, String idTavolo) {\n        this.idOrdinazione = idOrdinazione;\n        this.idTavolo = idTavolo;\n        this.infoPiatto = new HashMap&lt;&gt;();\n    }\n\n    public String getidTavolo() {\n        return idTavolo;\n    }\n\n    public void setidTavolo(String idTavolo) {\n        this.idTavolo = idTavolo;\n    }\n\n    public boolean isEvasa() {\n        return evasa;\n    }\n\n    public void setEvasa(boolean evasa) {\n        this.evasa = evasa;\n    }\n\n    public Ordinazione() {\n    }\n\n    public Long getIdOrdinazione() {\n        return idOrdinazione;\n    }\n\n    public void setIdOrdinazione(Long idOrdinazione) {\n        this.idOrdinazione = idOrdinazione;\n    }\n\n    public Map&lt;Piatto, InfoOrdine&gt; getInfoPiatto() {\n        return infoPiatto;\n    }\n\n    public void setInfoPiatto(Map&lt;Piatto, InfoOrdine&gt; infoPiatto) {\n        this.infoPiatto = infoPiatto;\n    }\n\n    public void aggiungiPiatto(Piatto piatto, Integer quantity) {\n        InfoOrdine info = new InfoOrdine(quantity, InfoOrdine.StatoOrdine.DA_PREPARARE);\n        infoPiatto.put(piatto, info);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;idTavolo: &quot; + idTavolo +\n                &quot;\\n\\n&quot; + infoPiatto;\n    }\n\n    @Entity\n    @Table\n    public static class InfoOrdine {\n\n        @Id\n        private Long id;\n\n        @ManyToOne\n        @MapsId(&quot;idOrdinazione&quot;)\n        @JoinColumn(name = &quot;id_ordinazione&quot;)\n        private Ordinazione ordinazione;\n\n        @ManyToOne\n        @MapsId(&quot;idPiatto&quot;)\n        @JoinColumn(name = &quot;id_piatto&quot;)\n        private Piatto piatto;\n        private int quantity;\n        private InfoOrdine.StatoOrdine stato;\n\n        public InfoOrdine(int quantity, InfoOrdine.StatoOrdine stato) {\n            this.quantity = quantity;\n            this.stato = stato;\n        }\n\n        public InfoOrdine() {\n        }\n\n       // Getter and Setter here \n\n        @Override\n        public String toString() {\n            return  &quot; x&quot; + quantity + &quot;\\n&quot;;\n\n        }\n\n        public enum StatoOrdine {\n            DA_PREPARARE,\n            IN_PREPARAZIONE,\n            COMPLETATO;\n        }\n\n    }\n}\n\n\n</code></pre>\n<p>The DTO's version in back end is equal to front end.</p>\n<p>When i call the confirm button in the front end, i call this method:</p>\n<pre><code>\n public void onBtnConfermaOrdinazioneClicked() {\n        \n       // other code\n            \n            OrdinazioneDTO ordinazioneDTO = new OrdinazioneDTO();\n            ordinazioneDTO.setIdTavolo(ordinazione.getIdTavolo());\n            ordinazioneDTO.setInfoPiatto(ordinazione.getInfoPiatto());\n            ordinazioneDAO.sendOrdinazione(ordinazioneDTO);\n            resetOrdinazione();\n        }\n    }\n</code></pre>\n<p>In front end i have this implementation of DAO'is interface for Ordinazione:</p>\n<pre><code>\npackage com.example.ratatouille23.Model.DAO.DAOImplUnirest;\n\nimport com.example.ratatouille23.Model.DAO.DAOInterface.OrdinazioneDAO;\nimport com.example.ratatouille23.Model.DTO.OrdinazioneDTO;\nimport com.example.ratatouille23.Model.Ordinazione;\nimport com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\nimport com.mashape.unirest.http.HttpResponse;\nimport com.mashape.unirest.http.JsonNode;\nimport com.mashape.unirest.http.Unirest;\nimport com.mashape.unirest.http.exceptions.UnirestException;\n\nimport java.lang.reflect.Type;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\npublic class OrdinazioneDAOImplUnirest implements OrdinazioneDAO {\n\n    // other code for methods \n\n    @Override\n    public void sendOrdinazione(OrdinazioneDTO ordinazione) {\n\n        try {\n            HttpResponse&lt;JsonNode&gt; response = Unirest.post(&quot;http://localhost:8080/api/v1/ordinazione/postOrdinazione&quot;)\n                    .header(&quot;accept&quot;, &quot;application/json&quot;)\n                    .field(&quot;idTavolo&quot;, ordinazione.getIdTavolo())\n                    .field(&quot;infoPiatto&quot;, ordinazione.getInfoPiatto())\n                    .asJson();\n            System.out.println(&quot;InfoPiatto: &quot; + ordinazione.getInfoPiatto());\n        } catch (UnirestException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n<p>This is the OrdinazioneController's backend:</p>\n<pre><code>\npackage com.springone3.demo.Controller;\n\nimport com.springone3.demo.Entity.Categoria;\nimport com.springone3.demo.Entity.DTO.OrdinazioneDTO;\nimport com.springone3.demo.Entity.Ordinazione;\nimport com.springone3.demo.Service.OrdinazioneService;\nimport org.modelmapper.ModelMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(path = &quot;api/v1/ordinazione&quot;)\n\npublic class OrdinazioneController {\n\n    @Autowired\n    private final OrdinazioneService ordinazioneService;\n\n    @Autowired\n    private ModelMapper modelMapper;\n\n    public OrdinazioneController(OrdinazioneService ordinazioneService) {\n        this.ordinazioneService = ordinazioneService;\n    }\n\n    // other GET methods\n\n    @PostMapping(path = &quot;/postOrdinazione&quot;)\n    public void sendOrdinazione(OrdinazioneDTO ordinazioneDaSalvare){\n        System.out.println(&quot;Il DTO Ã¨ cosÃ¬: &quot; + ordinazioneDaSalvare.getInfoPiatto());\n        Ordinazione ordinazione = modelMapper.map(ordinazioneDaSalvare, Ordinazione.class);\n        ordinazione.setEvasa(false);\n        System.out.println(&quot;L'entity Ã¨ cosÃ¬: &quot; + ordinazione.getInfoPiatto());\n        ordinazioneService.sendOrdinazione(ordinazione);\n    }\n\n\n}\n\n</code></pre>\n<p>This is the Serice:</p>\n<pre><code>\n@Service\npublic class OrdinazioneService {\n\n    @Autowired\n    private final OrdinazioneRepository ordinazioneRepository;\n\n    @Autowired\n    private final InfoOrdineRepository infoOrdineRepository;\n\n    public OrdinazioneService(OrdinazioneRepository ordinazioneRepository, InfoOrdineRepository infoOrdineRepository) {\n        this.ordinazioneRepository = ordinazioneRepository;\n        this.infoOrdineRepository = infoOrdineRepository;\n    }\n\n\n    public void sendOrdinazione(Ordinazione ordinazione) {\n        ordinazioneRepository.save(ordinazione);\n        ArrayList&lt;Piatto&gt; listaPiatti = (ArrayList&lt;Piatto&gt;) ordinazione.getInfoPiatto().keySet();\n\n        ArrayList&lt;Ordinazione.InfoOrdine&gt; listaInfo = new ArrayList&lt;&gt;();\n\n        for(Piatto piatto: listaPiatti){\n            Ordinazione.InfoOrdine io = new Ordinazione.InfoOrdine();\n            io.setOrdinazione(ordinazione);\n            io.setPiatto(piatto);\n            io.setQuantity(io.getQuantity());\n            io.setStato(io.getStato());\n            listaInfo.add(io);\n        }\n\n        infoOrdineRepository.saveAll(listaInfo);\n\n    }\n\n</code></pre>\n<p>When i try to execute a post request in my GUI, this is the error that i obtain on back end side:</p>\n<pre><code>\nWARN 9248 --- [nio-8080-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public void com.springone3.demo.Controller.OrdinazioneController.sendOrdinazione(com.springone3.demo.Entity.DTO.OrdinazioneDTO): [Field error in object 'ordinazioneDTO' on field 'infoPiatto': rejected value [{Salmone= x1&lt;EOL&gt;}]; codes [typeMismatch.ordinazioneDTO.infoPiatto,typeMismatch.infoPiatto,typeMismatch.java.util.Map,typeMismatch]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [ordinazioneDTO.infoPiatto,infoPiatto]; arguments []; default message [infoPiatto]]; default message [Failed to convert property value of type 'java.lang.String' to required type 'java.util.Map' for property 'infoPiatto'; Cannot convert value of type 'java.lang.String' to required type 'java.util.Map' for property 'infoPiatto': no matching editors or conversion strategy found]] ]\n\n</code></pre>\n<p>}</p>\n<p>I really don't know how to resolve this. Any helps?</p>\n"},{"last_activity_date":1684400878,"question_id":76279292,"body":"<p>im migrating a java (jersey) api application from SAP cloud NEO to sap cloud CF (cloud foundry).\nin CF you need to use the connectivity service to get a jwt token and use it to authentication against the cloud connector which you then use to open a connection to the on-premise server.\nthe are several way i know that i can achieve that.</p>\n<ol>\n<li>use the destination service to populate the properties for ldap connection</li>\n<li>use TCP type connection with SOCK5 protocol.</li>\n<li>some custom SocketFactory that might use one of the other option i wrote.</li>\n</ol>\n<p>i read all king of documentations (provided below) but none of them works or demonstrate a complete code example.</p>\n<p>in CF Destination there is an LDAP type configuration but i'm not sure on how to consume it and make it work in my code.</p>\n<p>i will appreciate any help from someone who already establish a working connection to on-premise Domain server using Java and Jersey. (not Spring).\nthanks in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/rsPDa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rsPDa.png\" alt=\"enter image description here\" /></a></p>\n<p>Below are some reference to resource i used:</p>\n<p><a href=\"https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/connectivityconfiguration-api\" rel=\"nofollow noreferrer\">https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/connectivityconfiguration-api</a></p>\n<p><a href=\"https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/using-tcp-protocol-for-cloud-applications\" rel=\"nofollow noreferrer\">https://help.sap.com/docs/connectivity/sap-btp-connectivity-cf/using-tcp-protocol-for-cloud-applications</a></p>\n"},{"comments":[{"comment_id":134513568,"body":"Google Calendar is using ViewPager for horizontal scroll month change"},{"comment_id":134513597,"body":"Thank you for the reply, do you recommend to use this ViewPager or do you believe that I can modify my code for the question I made?"},{"comment_id":134513658,"body":"You can use nested recyclerview for this purpose, Top RV for months with Horizontal layout and nested recyclerview for month days with gridlayout"},{"comment_id":134513814,"body":"If i understand your recommendation, you mean to keep my RV with the days of month as it is and above of this, to put small RV horizontally so when i scroll it update my daysinMonthRecyclerView by the month in the top RV?"},{"comment_id":134513859,"body":"Parent RecyclerView( Horizontal -&gt; Month1(Child RecyclerView(GridLayout -&gt; days, week)), month2(Child RecyclerView(GridLayout -&gt; days, week)) +)"},{"comment_id":134513938,"body":"I think I understand what you are saying, I will see how can I modify my code to this, and I will update the question,"},{"comment_id":134515686,"body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253715/discussion-between-chris-damianidis-and-abdullah-javed\">continue this discussion in chat</a>."}],"last_activity_date":1684400869,"question_id":76279290,"body":"<p>I am making an Calendar app and i am using a RecyclerView to show the monthDays. I am beginner so i could't make the recycler view to scroll Horizontally and in every scroll change month like Google Calendar for example. So I made my Recycler View with my adaptor and I use a GridLayout with span:7 that scrolls Vertically and to change month I added two button (next month,previous month). My question is: Is there any way to keep my layout as it is and my Recycler view handle gestures from the user, so if the user trying to scroll to left change to previous month and if the user trying to scroll right change to next month. Some kind of Gesture handler to put my methods in there. I searched a lot and I didn't find anything suitable for my problem.</p>\n<p><strong>My xml code for the RecyclerView, the monthListView doesn't matter, it is visibility:gone when in MonthView.</strong></p>\n<pre><code> &lt;RelativeLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/daysOfWeek&quot;\n                &gt;\n\n                &lt;ScrollView\n                    android:id=&quot;@+id/scrolTest&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    &gt;\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;androidx.recyclerview.widget.RecyclerView\n                            android:id=&quot;@+id/calendarRecyclerView&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;match_parent&quot;\n                            android:clipToPadding=&quot;true&quot;\n                            android:nestedScrollingEnabled=&quot;true&quot;\n                            android:scrollbars=&quot;none&quot;/&gt;\n\n                    &lt;/LinearLayout&gt;\n                &lt;/ScrollView&gt;\n\n\n\n\n\n                        &lt;ListView\n                            android:id=&quot;@+id/monthListView&quot;\n                            android:layout_width=&quot;@dimen/hour_cell_Lin_width&quot;\n                            android:layout_height=&quot;match_parent&quot;\n                            android:layout_gravity=&quot;bottom&quot;\n                            android:dividerHeight=&quot;10dp&quot;\n                            android:scrollbars=&quot;vertical&quot;\n                            android:visibility=&quot;gone&quot;\n                            android:layout_marginTop=&quot;30dp&quot;\n\n                            android:layout_below=&quot;@id/scrolTest&quot;/&gt;\n\n\n            &lt;/RelativeLayout&gt;\n</code></pre>\n<p><strong>The way I set my RecyclerView.</strong></p>\n<pre><code>ArrayList&lt;LocalDate&gt; daysInMonth = daysInMonthArray();\n  CalendarAdapter calendarAdapter = new CalendarAdapter(daysInMonth, this, getApplicationContext());\n        RecyclerView.LayoutManager layoutManager = new GridLayoutManager(getApplicationContext(), 7);\n\n\n        calendarRecyclerView.setLayoutManager(layoutManager);\n\n        calendarRecyclerView.setAdapter(calendarAdapter);\n</code></pre>\n<p><strong>The way i set up my CalendarMonthArray</strong></p>\n<pre><code>public static ArrayList&lt;LocalDate&gt; daysInMonthArray() //The arraylist that month will be stored\n    {\n        ArrayList&lt;LocalDate&gt; daysInMonthArray = new ArrayList&lt;&gt;();\n\n        YearMonth yearMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            yearMonth = YearMonth.from(selectedDate);\n        }\n        int daysInMonth = 0; //get how many days are in month\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            daysInMonth = yearMonth.lengthOfMonth();\n        }\n\n        LocalDate prevMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            prevMonth = selectedDate.minusMonths(1);\n        }\n        LocalDate nextMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            nextMonth = selectedDate.plusMonths(1);\n        }\n\n        YearMonth prevYearMonth = null;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            prevYearMonth = YearMonth.from(prevMonth);\n        }\n        int prevDaysInMonth = 0;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            prevDaysInMonth = prevYearMonth.lengthOfMonth();\n        }\n\n        LocalDate firstOfMonth = null; //get first day of month\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            firstOfMonth = CalendarUtils.selectedDate.withDayOfMonth(1);\n        }\n        int dayOfWeek = 0; // return int between 0-7 which is the day of the week\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            dayOfWeek = firstOfMonth.getDayOfWeek().getValue();\n        }\n\n        for (int i = 1; i &lt;= 42; i++) {\n            if (i &lt;= dayOfWeek) {\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    daysInMonthArray.add(LocalDate.of(prevMonth.getYear(), prevMonth.getMonth(), prevDaysInMonth + i - dayOfWeek));\n                }\n                if (dayOfWeek == 7 &amp;&amp; daysInMonthArray.size() &gt;= 7) {\n\n                    daysInMonthArray.clear();\n                }\n\n\n            } else if (i &gt; daysInMonth + dayOfWeek) {\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    daysInMonthArray.add(LocalDate.of(nextMonth.getYear(), nextMonth.getMonth(), i - dayOfWeek - daysInMonth));\n                }\n\n\n            }\n            else {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                    daysInMonthArray.add(LocalDate.of(selectedDate.getYear(), selectedDate.getMonth(), i - dayOfWeek));\n                }\n\n            }\n\n        }\n\n\n        return daysInMonthArray;\n\n\n    }\n</code></pre>\n"},{"comments":[{"comment_id":132299342,"body":"See the <a href=\"https://stackoverflow.com/tags/javafx/info\">packaging section of the JavaFX tag</a>."},{"comment_id":132301883,"body":"@jewelsea Wow, that is the most useful Tag page Iâ€™ve seen."}],"answers":[{"answer_id":74970422,"body":"<p>JavaFX (the last I checked) needs a starter class. It's literally just a class that calls your main class.</p>\n<p>Something like:</p>\n<pre><code>package MainApp;\n\npublic class Starter {\n    public static void main(String[] args) {\n        Main.main(args);\n    }\n}\n</code></pre>\n<p>Then in your IDE, when you compile your jar, you have to select the Starter class.\nDepending on the JDK you have, you may also have to add the JavaFX library into  the artifacts (IntelliJ: File &gt; Project Structure &gt; Artifacts ).</p>\n<p><a href=\"https://www.youtube.com/watch?v=F8ahBtXkQzU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=F8ahBtXkQzU</a></p>\n"},{"answer_id":74981012,"body":"<p>I got it solved thanks to @jewelsea and BoostMyTool <a href=\"https://www.youtube.com/watch?v=lwOFg-W7OSM\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=lwOFg-W7OSM</a> (in youtube).</p>\n<p>The Issue seems to be, that Eclipse does not export the Arguments in the Project Properties therefor the JAR does not recognise the JavaFX Library.</p>\n<p>The page linked by Jewelsea includes all options. <a href=\"https://stackoverflow.com/tags/javafx/info\">https://stackoverflow.com/tags/javafx/info</a></p>\n<p>In my case the prof is fine to run the Jar by including the JavaFX Library in the CLI. Solution here is:</p>\n<ul>\n<li>Open the Terminal and move into the Directory of your JAR File.</li>\n<li>Type <code>java --module-path /HERE_IS_MY_JAVAFX_LIBRARY/lib --add-modules=javafx.controls,javafx.fxml -jar MyApp.jar</code></li>\n<li>Its exactly the same Argument that you have in your &quot;Arguments&quot; in Eclipse/ in vmArgs in VSCode.</li>\n</ul>\n"},{"answer_id":76279218,"body":"<p>To run jar file by double click (in windows):\nOpen cmd and write:</p>\n<pre><code>assoc .jar\n</code></pre>\n<p>you should get:</p>\n<pre><code>.jar=jarfile\n</code></pre>\n<p>then write:</p>\n<pre><code>ftype jarfile\n</code></pre>\n<p>you should get something like this:</p>\n<pre><code>jarfile=&quot;C:\\Program Files\\Java\\jdk-20\\bin\\javaw.exe&quot; -jar &quot;%1&quot; &quot;%*&quot;\n</code></pre>\n<p>then write this:</p>\n<pre><code>ftype JARFile=&quot;C:\\Program Files\\Java\\jdk-20\\bin\\javaw.exe&quot; -jar --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-20\\lib&quot; --add-modules javafx.controls,javafx.fxml &quot;%%1&quot; &quot;%%*&quot;\n</code></pre>\n<p>Replace JARFile path with your path to javaw.exe, and modul-path with your path to javafx lib.\nIf you are using NetBeans, Eclipse or IntelliJ, after -jar those are VM arguments/options you had to write to run it from application.\nYou can write/copy it to notepad and save it with extension .bat (anyName.bat) right click and run it as administrator.\nNow if you write again:</p>\n<pre><code>ftype jarfile\n</code></pre>\n<p>you should get:</p>\n<pre><code>jarfile=&quot;C:\\Program Files\\Java\\jdk-20\\bin\\javaw.exe&quot; -jar --module-path &quot;C:\\Program Files\\Java\\javafx-sdk-20\\lib&quot; --add-modules javafx.controls,javafx.fxml &quot;%1&quot; &quot;%*&quot;\n</code></pre>\n<p>and it should work, on your computer.\nNotice double % and then single. The percent signs are doubled to escape them, because a single percent has a special meaning within a batch file.\nMore about it here: <a href=\"https://ss64.com/nt/ftype.html\" rel=\"nofollow noreferrer\">https://ss64.com/nt/ftype.html</a></p>\n"}],"last_activity_date":1684400670,"question_id":74970280,"body":"<p>i'm trying to export my JavaFX Project from Eclipse as a runnable Jar file so I can send it to my Prof however, when I try to open the Jar file via Terminal (java -jar filename.jar) i'm getting following error **Error: JavaFX runtime components are missing, and are required to run this application. **</p>\n<p>Running the Project and exporting works without issues.</p>\n<p><strong>How I tried to export:</strong> File-&gt;Export-&gt;Java(Runnable JAR file)-&gt;Launch Config: Main; Library handling: Extract required Library into generated JAR.</p>\n<p><strong>System:</strong> Mac, Eclipse, Java 18.0, JavaFXSDK19(included as User Library)</p>\n<p><strong>Project Structure</strong>:</p>\n<pre><code>1. src\n1.1 src.main\n1.1.1 src.main.MainApp.java (my main class)\n1.2 src.addtionaldata\n1.3 src.formatdata\n   \n</code></pre>\n<p>Has anyone any idea ? I've read through a lot of articles here but can't find the solution. I also tried to use another IDE, same result.</p>\n"},{"comments":[{"comment_id":134513102,"body":"You are not doing anything in <code>change-password</code> endpoint, you are just getting username that&#39;s it."},{"comment_id":134513124,"body":"It will return one message to postman but i didn&#39;t see any message"},{"comment_id":134513136,"body":"Show us what you are getting."},{"comment_id":134513365,"body":"Hibernate: select u1_0.id,u1_0.code,u1_0.password,u1_0.role,u1_0.user_name from users u1_0 where u1_0.user_name=?  It only show hibernate running process"},{"comment_id":134513451,"body":"sorry guy I use the wrong requestMatcher in spring security sorry very much  .requestMatchers(&quot;/api/user/r/change-password&quot;).permitAll()  My post request should be <a href=\"http://localhost:9000/api/user/r/change-password\" rel=\"nofollow noreferrer\">localhost:9000/api/user/r/change-password</a>"},{"comment_id":134513572,"body":"Show your request and your response with headers. Show your Spring Security TRACE logs."}],"last_activity_date":1684400632,"question_id":76279012,"body":"<p>Currently I am working to develop app for flower shop which applys spring boot version 3.0.6 and spring security. But when I use FilterRegistrationBean for authentication and authority, I meet some difficulty.</p>\n<p>WebSecurityConfig:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig{\n    @Resource\n    private JwtAuthenticationFilter jwtAuthenticationFilter;\n\n    @Bean\n    public PasswordEncoder encoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Resource\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity http, PasswordEncoder passwordEncoder, UserDetailsService userDetailsService) throws Exception {\n        return http.getSharedObject(AuthenticationManagerBuilder.class)\n                    .userDetailsService(this.userDetailsService)\n                    .passwordEncoder(encoder())\n                    .and().build();\n    }\n\n @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        http.cors().and()\n                .csrf().disable()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                .requestMatchers(&quot;/api/user/r/change-password&quot;).permitAll()\n                .and()\n                .httpBasic()\n                .and()\n                .exceptionHandling().accessDeniedHandler(new AccessDeniedHandlerImpl())\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\nreturn http.build();\n}\n</code></pre>\n<p>My filter config:</p>\n<pre><code>@Configuration\npublic class FilterConfig {\n    @Bean\n    public JwtAuthenticationFilter jwtAuthenticationFilter(){\n        return new JwtAuthenticationFilter();\n    }\n    \n    @Bean\n    public FilterRegistrationBean&lt;JwtAuthenticationFilter&gt; jwtFilterRegistration(){\n        FilterRegistrationBean&lt;JwtAuthenticationFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\n        registration.setFilter(jwtAuthenticationFilter());\n        registration.addUrlPatterns(&quot;/api/user/r/*&quot;);\n        registration.setOrder(Ordered.HIGHEST_PRECEDENCE);\n        registration.setName(&quot;Jwt Filter&quot;);\n        registration.setDispatcherTypes(EnumSet.allOf(DispatcherType.class));\n        registration.setMatchAfter(false);\n        registration.setEnabled(true);\n        return registration;\n    }\n}\n</code></pre>\n<p>JwtAutheticationFilter:</p>\n<pre><code>public class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    @Resource\n    private JwtTokenUtil jwtTokenUtil;\n\n    @Resource\n    private JwtUserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        String jwt = getJwtFromRequest(request);\n\n        if(StringUtils.isEmpty(jwt)){\n            throw new InvalidInformationException(&quot;Your request doesn't have jwt&quot;);\n        }\n        jwtTokenUtil.validateToken(jwt);\n        String userName = jwtTokenUtil.getUserNameFromToken(jwt);\n        UserDetails userDetails = userDetailsService.loadUserByUsername(userName);\n\n        if(userDetails != null &amp;&amp; userDetails instanceof CustomUserDetails ){\n            UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n            authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n        }\n\n        filterChain.doFilter(request, response);\n    }\n\n    private String getJwtFromRequest(HttpServletRequest request){\n        String bearerToken = request.getHeader(&quot;Authorization&quot;);\n        if(bearerToken == null){\n            return null;\n        }\n        if(bearerToken.startsWith(&quot;Bearer &quot;)){\n            return bearerToken.substring(7);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>User Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/user&quot;)\npublic class UserController {\n\n    @Resource\n    private UserFacades userFacades;\n\n    @Resource\n    private AuthenticationManager authenticationManager;\n\n    @Resource\n    private JwtTokenUtil jwtTokenUtil;\n\n@PostMapping(value = &quot;/n/change-password&quot;)\n    public GlobalMessage changePassword(@RequestBody ChangePasswordRequest request){\n        try {\n            String userName = getUserName();\n            return new GlobalMessage(MessageType.SUCCESS, &quot;Success change password&quot;, LocalDateTime.now());\n        }catch (Exception exception){\n            exception.printStackTrace();\n        }\n        return new GlobalMessage(MessageType.ERROR, &quot;Fail to change password&quot;, LocalDateTime.now());\n    }\n\nprivate String getUserName(){\n        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        CustomUserDetails user =  (CustomUserDetails) authentication.getPrincipal();\n        return user.getUsername();\n    }\n</code></pre>\n<p>Authentication Controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/api/auth&quot;)\npublic class AuthenticationController {\n\n    @Resource\n    private AuthenticationManager authenticationManager;\n\n    @Resource\n    private JwtTokenUtil jwtTokenUtil;\n\n    @Resource\n    private UserFacades userFacades;\n\n    @Resource\n    private SignInValidation signInValidation;\n\n    @PostMapping(value = &quot;/n/create-user&quot;)\n    @ResponseBody\n    public GlobalMessage createNewCustomer(@RequestBody CreateNewUserRequest request){\n        UserValidation.validateRegisterInfo(request.getUserName(), request.getPassword());\n        UserValidation.validateEmail(request.getEmail());\n        return userFacades.createNewCustomer(request);\n    }\n\n    @PostMapping(value = &quot;/n/login&quot;)\n    public JWTRespond signIn(@RequestBody SignInRequest request){\n        UserValidation.validateRegisterInfo(request.getUserName(), request.getPassword());\n\n        signInValidation.validateSignInInfo(request.getUserName(), request.getPassword());\n\n        Authentication authentication = authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(request.getUserName(), request.getPassword()));\n\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        String jwt = jwtTokenUtil.generateToken((CustomUserDetails) authentication.getPrincipal());\n        Date expirationDate = jwtTokenUtil.getExpirationDateFromToken(jwt);\n        return new JWTRespond(jwt,expirationDate);\n    }\n</code></pre>\n<p>I can sign up successfully and login will return JWT and its expiration time. But when I use postman and that JWT to change password with url: http://localhost:9000/api/user/n/change-password ( I change tomcat port to 9000) no thing happens, No Message was throw back to me.</p>\n"},{"last_activity_date":1684400497,"question_id":76279239,"body":"<p>Java Spring project. We need to add authorization to endpoints imported from another package.</p>\n<p>Trying to add authorization using the hasPermission() method from our extension of PermissionEvaluator to API endpoints that we are importing from another package.</p>\n<p>Because they're coming from another package, we can't @PreAuthorize them. I see we can make a config file with an advisor with a JdkRegexMethodPointcut for the matching package, but I don't know how to check that the person accessing the method hasPermission() through the PermissionEvaluator.</p>\n<pre><code>    JdkRegexMethodPointcut pattern = new JdkRegexMethodPointcut();\n    pattern.setPattern(&quot;package.name&quot;);\n   AuthorizationManager&lt;MethodInvocation&gt; rule = //don't know what to put here but something like CustomPermissionEvaluator.hasPermission(&quot;APP.READ&quot;)\nAuthorizationManagerBefofeMethodInterceptor interceptor = new AuthorizationManagerBefofeMethodInterceptor(pattern, rule);\ninterceptor.setOrder(AuthorizationInterceptorsOrder.PRE_AUTHORIZE.getOrder() + 1);\n</code></pre>\n<p>I suspect this won't work for a few reasons, one of which is adding the interceptor to run after the Pre-authorization means it won't even run for the imported endpoints since they don't have @PreAuthorize annotations</p>\n<p>So how do I best approach this please? I've been in circles checking Spring docs for authentication and authorization ðŸ’–</p>\n"},{"comments":[{"comment_id":84493847,"body":"Isn&#39;t all of AWT semi-deprecated? As for X ID, what if you&#39;re on wayland, Windows or mac?"},{"comment_id":84494425,"body":"This is for a program that I know for certain will be used on Linux - but I could just as easily get the peer and then check if I could cast it to each of the various types of backings."},{"comment_id":122626857,"body":"Early on it was generally agreed that Swing, emulating the local platforms look-and-feel, was superior to the predecessor AWT, using platform dependant peer classes. Platform independant behaviour and synchrone development needed much less effort. IBM&#39;s eclipse based SWT was another attempt to native platform peers."},{"comment_id":122626901,"body":"For AWT under Windows it might be worth using it might be worth developing under MS VC++, if you need to tinker with things."}],"answers":[{"answer_id":48747700,"body":"<p>The javadoc states:</p>\n<blockquote>\n<p>As of JDK version 1.1, <strong>programs should not directly manipulate peers</strong>; replaced by <code>boolean isDisplayable()</code>.</p>\n</blockquote>\n<p>It is a design issue rather than a security issue.</p>\n<p>The issue being addressed is that the peer implementations can behave rather differently from one platform to another, and indeed (at least in theory) from one version of Java to another.  So, if your application accesses the peers directly, then it is liable to be non-portable.</p>\n<p>At any rate, direct access to peers has been strongly discourage for a long time.  The <code>java.awt.peer</code> package and classes have not been documented in the standard javadoc (at least) as far back as Java 1.4.2.  The source code for the peer classes say this: (Java 6 version)</p>\n<pre><code> * The peer interfaces are intended only for use in porting\n * the AWT. They are not intended for use by application\n * developers, and developers should not implement peers\n * nor invoke any of the peer methods directly on the peer\n * instances.\n</code></pre>\n<p>In fact, as of Java 9 the previously deprecated <code>getPeer()</code> method has been removed.  So if you want a strong reason why you should not use <code>getPeer()</code> it is because your code won't work on Java 9 if you use it!</p>\n<p>Now, if you really, really needed to access the AWT peers in Java 9, you could still use reflection to access the package-private <code>peer</code> variable.  However, the risk of using reflection to dive into the AWT implementation is that your code may break (again) in a future release.  Indeed, the Java maintainers are progressively locking down reflective access to the Java internals.  (I have not checked, but I suspect that this access will have been blocked in Java 16 by &quot;<a href=\"https://openjdk.java.net/jeps/396\" rel=\"nofollow noreferrer\">JEP 396</a>: Strongly Encapsulate JDK Internals by Default (<a href=\"https://bugs.openjdk.java.net/browse/JDK-8256299\" rel=\"nofollow noreferrer\">JDK-8256299</a>)&quot;)</p>\n"},{"answer_id":76279234,"body":"<p>I made a native JNI wrapper for MacOS and needed the AWTWindow pointer in java 17 which is the NSWindow basically.</p>\n<p>You can still get the AWTWindow pointer by a little bit of hackery.</p>\n<p>Add the following jvm args to the target:</p>\n<pre><code>--add-exports java.desktop/sun.lwawt=ALL-UNNAMED --add-exports java.desktop/sun.lwawt.macosx=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED\n</code></pre>\n<p>The java code is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    JFrame jf = new JFrame();\n    Component jfComponent = ((Component) jf);\n    \n    try {\n        Field field =  Component.class.getDeclaredField(&quot;peer&quot;);\n        field.setAccessible(true);\n        CPlatformWindow platformWindow = (CPlatformWindow)((LWWindowPeer)field.get(jfComponent)).getPlatformWindow();\n    \n        AtomicLong awtWindowPointer = new AtomicLong();\n        platformWindow.execute(l -&gt; {\n            awtWindowPointer.set(l);\n        });\n        System.out.println(&quot;AWT window pointer: &quot;+String.format(&quot;0x%08X&quot;, awtWindowPointer.get()));\n    } catch (Exception ex) {\n        ex.printStackTrace();\n    }\n</code></pre>\n<p>By the way, obviously this may breaks future compatibility and also this code is platform specific, so kinda defeat the java purpose.</p>\n"}],"last_activity_date":1684400437,"question_id":48746970,"body":"<p>I'm attempting to find the best way of obtaining the X ID code of the backing windows of heavyweight AWT panels. Why is the java.awt.Component.getPeer command listed as deprecated? Is there a security issue involved?</p>\n"},{"comments":[{"comment_id":134513475,"body":"Looks like the tests simply don&#39;t support Windows paths. Try building on a Linux machine, or if you don&#39;t have one available in WSL2."},{"comment_id":134513514,"body":"Regarding the signing, you can use credentials from Jenkins by simply using a <code>withCredentials</code> block. Inside the block you can make the credentials available as environment variables. Just make sure to not use these credentials outside the <code>withCredentials</code> block, because Jenkins will only obfuscate credentials inside the block, not outside it."},{"comment_id":134515275,"body":"@RobSpoor I don&#39;t have a Linux machine, I will try it on WSL or on a MacBook, but anyway, the Jenkins server is hosted on a windows machine, would that cause the same paths problem?   Will I be able to sign the android app using the <code>withCredentials</code> block? if yea then this way I can actually get rid of the plugin, right?"},{"comment_id":134517227,"body":"At work we use <code>withCredentials</code> with a file credential (the GPG private key) and a secret text (the GPG passphrase). The GPG private key is imported into a new GPG store (using <code>--homedir</code>), then the necessary settings (key id, key ring file, passphrase) are passed to Gradle for the actual build, where the signing plugin uses these. See <a href=\"https://docs.gradle.org/current/userguide/signing_plugin.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/signing_plugin.html</a>"}],"last_activity_date":1684399994,"question_id":76279189,"body":"<p>I am facing a couple of problems when I try to deploy a plugin to Jenkins, (<a href=\"https://plugins.jenkins.io/android-signing/\" rel=\"nofollow noreferrer\">android-signing</a>), the plugin is old, but it was used back then for the project I am working on to sign android APKs, the keystore password is nowhere to be found.</p>\n<p>The keystore certificate is saved in the credentials plugin on Jenkins, and I was able to retrieve the password on the server through the plugin's &quot;credentials.xml&quot; but it is decrypted, I don't know how to decrypt it, even though, I prefer to retrieve to keystore password instead of using the plugin because it is not being maintained anymore and has <a href=\"https://www.jenkins.io/security/advisory/2022-07-27/#SECURITY-2404\" rel=\"nofollow noreferrer\">security vulnerabilities</a>. I didn't want to enable the plugin because of this, but when I went to their <a href=\"https://github.com/jenkinsci/android-signing-plugin\" rel=\"nofollow noreferrer\">GitHub page</a> I saw that the owner of plugin decided not to devote any more time to work on it but if there are issues, people should create PRs, and he will check them, approve, and merge the code.</p>\n<p>anyway, someone created a <a href=\"https://github.com/jenkinsci/android-signing-plugin/pull/3\" rel=\"nofollow noreferrer\">pull request</a> that supposedly is going to fix this vulnerability, the owner approved, but didn't create a release, so I think at this point I am supposed to clone the project, build the project, and then deploy it manually on Jenkins, since there was no provided <code>.jar</code> or <code>.hpi</code> file for the latest update on the plugin.</p>\n<p>When running <code>mvn clean install</code> or <code>mvn package</code> in console, the installing works fine, but when it comes to the <code>Tests</code> part, I always get the same error even after trying to fix it, which has to do back-slashes/forward-slashes, and different file locations like this</p>\n<p><code> unexpected char: '\\' @ line 6, column 23. androidHome: 'C:\\Development\\android-signing-plugin\\target\\test-classes\\win-android'</code></p>\n<p>and this</p>\n<p><code>Expected: a string starting with &quot;C:/Development/android-signing-plugin/target/test-classes/android&quot; but: was &quot;C:\\Development\\android-signing-plugin\\target\\test-classes\\android\\build-tools\\1.0\\zipalign&quot;</code></p>\n<p>If someone could try running <code>mvn clean install</code> and come up with a solution to this problem, that would be great.\nBut anyway, I decided to skip the testing part using this command <code>mvn clean install -DskipTests</code> then it was built successfully, afterwards, I went to <code>Manage Jenkins &gt; Manage Plugins &gt; Advanced settings</code>, I chose the <code>.hpi</code> file that was generated by the build and deployed it. It worked fine, because when I checked the version installed it was the newer one which is the 2.2.6, however, the security vulnerability still showed on Jenkins I'm not sure why, but I think it is due to the fact that on <a href=\"https://updates.jenkins.io/current/update-center.json\" rel=\"nofollow noreferrer\">Jenkins update center</a> (search for android-signing) the last updated version of the plugin was 2.2.5 and the new 2.2.6 is still not hosted by Jenkins update center, so it still shows the security issue, please correct me if I'm wrong here.</p>\n<p>Now to my actual main concerns that made me write this post, in my case, what is the best way to keep signing the release APK? is there a way to decrypt the encrypted keystore password?\nif not, is it safe to enable the plugin on Jenkins (after the update) even if it still shows the security issue?\nIf i want to revert back to 2.2.5, (knowing that I backed up the server, and copied the plugin folder from the Jenkins server, before deploying the plugin), would I lose any configurations? or since it depends on Credentials plugin, it would be fine?\nAlso, regarding the security issue that still shows after updating, is it because of what is specified in the Jenkins update center?</p>\n<p>Any help would be appreciated, thanks.</p>\n"},{"answers":[{"answer_id":76277128,"body":"<p><code>io.helidon.config.Config</code> and <code>org.eclipse.microprofile.config.Config</code> are different APIs.</p>\n<p>Helidon provides an implementation of MicroProfile Config with the following Maven dependency <code>io.helidon.config:helidon-config-mp</code>.</p>\n<p>You can create an instance like this:</p>\n<pre><code>org.eclipse.microprofile.config.ConfigProvider.getConfig()\n</code></pre>\n<p>Helidon also provides a few SPIs along its implementation of MicroProfile Config, one of which is <code>io.helidon.config.mp.spi.MpMetaConfigProvider</code>.</p>\n<p>When creating an instance of MicroProfile using the above, implementations of <code>MpMetaConfigProvider</code> are used.</p>\n<hr />\n<p>Helidon also provides a bridge to create instances of MicroProfile Config backed by <code>io.helidon.config.Config</code>.</p>\n<pre><code>// create an instance of &quot;Helidon Config&quot;\nio.helidon.config.Config config0 = io.helidon.config.Config.create();\n        \n// create an instance of &quot;MicroProfile Config&quot; backed by &quot;Helidon Config&quot;\norg.eclipse.microprofile.config.Config config =\n        ConfigProviderResolver.instance()\n                              .getBuilder()\n                              .withSources(MpConfigSources.create(config0))\n                              .build();\n</code></pre>\n<p>The code above will NOT use implementations of <code>MpMetaConfigProvider</code>.</p>\n<hr />\n<p>In order for your code to pickup your implementation of <code>MpMetaConfigProvider</code> you can either:</p>\n<ul>\n<li>Use the built-in main class</li>\n<li>Use <code>Server.Builder(org.eclipse.microprofile.config.Config)</code> instead of <code>Server.Builder(io.helidon.config.Config)</code> with an instance created using <code>ConfigProvider.getConfig()</code></li>\n</ul>\n"}],"last_activity_date":1684399987,"question_id":76270210,"body":"<p>I have made the changes as suggested in the doc : <a href=\"https://helidon.io/docs/v2/#/mp/config/02_MP_config_sources\" rel=\"nofollow noreferrer\">https://helidon.io/docs/v2/#/mp/config/02_MP_config_sources</a>\nBut it is not able to identify the new config source and gives the following error :\nConfig source of type test-config-provider is not supported`</p>\n<p>Here are the changes that I have done to add the new Custom Config Source :</p>\n<ol>\n<li>Created a MyConfigProvider class which implements  MpMetaConfigProvider</li>\n<li>Created class MyConfigSource which implements ConfigSource</li>\n<li>MyConfigProvider::create() and supportedTypes()</li>\n</ol>\n<pre><code>public static final String TYPE = &quot;test-config-provider&quot;;\n\n@Override\npublic List&lt;? extends ConfigSource&gt; create(String s, Config config, String s1) {\n    Map&lt;String, String&gt; result = new HashMap&lt;String, String&gt;();\n    ConfigSource configSource = new MyConfigSource(result);\n    return Collections.singletonList(configSource);\n}\n\n  @Override\n    public Set&lt;String&gt; supportedTypes() {\n        return Set.of(TYPE);\n    }\n</code></pre>\n<ol start=\"4\">\n<li>Inside resources/META-INF, added services/io.helidon.config.mp.spi.MpMetaConfigProvider file. In the file added the file package path for MyConfigProvider i.e &lt;package_name&gt;.MyConfigProvider</li>\n<li>File :  'mp-meta-config.yaml' contents\nadd-discovered-sources: true\nadd-discovered-converters: false\nadd-default-sources: true</li>\n</ol>\n<p>sources:</p>\n<ul>\n<li>type: &quot;environment-variables&quot;</li>\n<li>type: &quot;system-properties&quot;</li>\n<li>type: &quot;test-config-provider&quot;</li>\n</ul>\n<ol start=\"6\">\n<li>In my main() function we are creating the Config instance and passing it to the Server builder()</li>\n</ol>\n<pre><code>\npublic class Main {\nprivate static final String DEFAULT_CONFIG_FILE = &quot;mp-meta-config.yaml&quot;;\npublic static void main(final String\\[\\] args) {\n\n       Config config = buildHelidonConfig();\n       Server server = startServer1(config);\n        //Server server = startServer2();\n    }\n    \n    private static Config buildHelidonConfig() {\n        return MetaConfig.config(Config.create(getSources()));\n    }private static Supplier&lt;? extends ConfigSource&gt;[] getSources() {\n        return new Supplier[] {\n                classpath(DEFAULT_CONFIG_FILE).build()\n        };\n    }\n    public static Server startServer1(Config config) {\n        return Server\n                .builder()\n                .config(config)\n                .build()\n                .start();\n    \n    }\n\n}\n</code></pre>\n<p>But it is not able to identify the new config source and gives the following error :</p>\n<p>Config source of type test-config-provider is not supported</p>\n"},{"comments":[{"comment_id":60449967,"body":"Your app needs timezone information?"},{"comment_id":72224864,"body":"Regarding your &quot;Edit&quot; section, know that politicians <i>love</i> to redefine time zones, offsets, Daylight Saving Time (DST), etc. So never go <i>too</i> far into the future with UTC values. If you mean dental hygiene appointments made far in advance, ex. â€œ3 PM on December 5th, 2017 later this yearâ€, then you may indeed want to use a <code>LocalDateTime</code> to store that fact. The intent there is 3 PM however politicians may have redefined that moment by then. For a schedule you might temporarily apply time zone to to the potential <code>LocalDateTime</code> to generate an actual moment as a <code>ZonedDateTime</code>/<code>Instant</code>."}],"answers":[{"comments":[{"comment_id":60563014,"body":"Thank you very much for the excellent answer.  I had read many posts and articles on the best approach for handling timezones in a web app.  I have the luxury of knowing that all times used are for a specific location, regardless of where the user system clock says they are at.  I do have a follow up question on my question, if you don&#39;t mind.   Again, thank you for such a detailed and helpful answer."},{"comment_id":114064841,"body":"I must read this again when I&#39;ll have the time. Very nice explanation. So a LocalTime for example indicates the pure &quot;TIME&quot; value, like a sign on a shop door indicating &quot;We are open from 8:00 to 19:00&quot; â† this doesn&#39;t care about daylight savings for example, 8 is 8 in every day of the year for shop owner and customers. While when we need to store a reference to an event, we must send it&#39;s time with time zone to PostgresSQL - it will save it in UTC. Finally when us or another user would need to see this time, it will be taken in UTC, and adapted to the final user time zone..is it right?"},{"comment_id":114068050,"body":"@funder7 (A) Yes, <code>LocalTime</code> represents a time-of-day, nothing more, nothing less. (B) Booking an event or appointment in the future is a bit complicated, to account for possible changes in zone rules. If you mean &quot;dentist appt next January 21, 2021 at 3 PM&quot; you store the date &amp; time in Postgres type <code>TIMESTAMP WITHOUT TIME ZONE</code>. Separately in a second column of text type, you store the ID of the intended time zone, such as <code>America&#47;Chicago</code>. When building a calendar for presentation to user, at runtime extract the 1st as <code>LocalDateTime</code> &amp; 2nd as <code>ZoneId</code>, combine to form <code>ZonedDateTime</code>."},{"comment_id":114075325,"body":"@BasilBourque thanks for the info. I&#39;m trying to understand this topic at 110%. I read that the best practice to store an appointment for example, is to always save UTC timestamps (and I suppose that an <code>Instant</code> whould do the job). We are talking about <code>TIMESTAMP WIT TIME ZONE</code> used on the db for this information. Finally an user, in any part of the world, should be able to understand when an event occours: it&#39;s up to the scope of the application to convert the UTC into the appointment location timezone, or the user current location timezone."},{"comment_id":114075425,"body":"Let&#39;s say that we have an appointment in Milan(Italy) happening on 01/01/2021 21:00 &quot;Europe/Rome&quot;, it&#39;s saved on the db in UTC, as all the other data. Now a user living in NYC needs to understand when this appointment will take place: we can show him the datetime converted to &quot;America/New_York&quot; TZ, or instead, in &quot;Europe/Rome&quot; TZ. Once the user will fly from NYC to Milan, he will find both info useful.  The point is to store everything converted into the same TZ reference (UTC), and the manipulate the datetime depending on the goal you have. Makes sense or there is something wrong/missing?"},{"comment_id":114077281,"body":"@funder7 No, <b>never save future appointments in UTC</b>. You would be saving a specific moment, a specific point on the timeline. Appointments are a date with a specific time-of-day, <b>not a specific moment</b>. That time-of-day in the future will become another different moment if the politicians change the time zone rules. And politicians around the world do change the rules with surprising frequency. After extracting your <code>TIMESTAMP WITHOUT TIME ZONE</code> as a <code>LocalDateTime</code>, and applying the originally intended  time zone <code>ZoneId</code> to get a <code>ZonedDateTime</code>, you can adjust into a second time zone."},{"comment_id":114077440,"body":"@funder7 Whoever told you to save future appointments in UTC is incorrect; that is a worst practice, not a best practice. Store in database using a type akin to the SQL-standard <code>TIMESTAMP WITHOUT TIME ZONE</code>, not <code>TIMESTAMP WITH TIME ZONE</code>. Use a second column to record the intended time zone identifier. If, after the event, you want to record the moment when the activity actually began, or ended, or was paid for, you have a known specific moment, so for that you would use a single column of type <code>TIMESTAMP WITH TIME ZONE</code> for UTC rather than <code>TIMESTAMP WITHOUT TIME ZONE</code>."},{"comment_id":114077626,"body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/223557/discussion-between-basil-bourque-and-funder7\">continue this discussion in chat</a>."},{"comment_id":114077764,"body":"@funder7 Suppose you book your next dental appointment For October 15 of the following year. When you booked the appointment, your country observed Daylight Saving Time (DST) beginning on last day of September. And then your country decides to change the rule so DST begins on the last day of October. At what time of day of day should you appear at the dentist office? An appointment recorded in UTC would be wrong, off by the hour of DST offset."},{"comment_id":114130249,"body":"@funder7 I posted <a href=\"https://stackoverflow.com/q/64545555/642706\">a Question</a> and <a href=\"https://stackoverflow.com/a/64545556/642706\">an Answer</a> on Stack Overflow with your specific example problem."}],"answer_id":36417996,"body":"<p>Postgres has no such data type as <code>TIMESTAMP</code>. Postgres has <a href=\"http://www.postgresql.org/docs/current/static/datatype-datetime.html\" rel=\"noreferrer\">two types</a> for date plus time-of-day: <code>TIMESTAMP WITH TIME ZONE</code> and <code>TIMESTAMP WITHOUT TIME ZONE</code>. These types have very different behavior with regard to time zone information.</p>\n<ul>\n<li>The <strong><code>WITH</code> type</strong> uses any offset or time zone information to adjust the date-time to <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>, then disposes of that offset or time zone; Postgres never saves the offset/zone info.\n<ul>\n<li>This type represents a moment, a specific point on the timeline.</li>\n</ul>\n</li>\n<li>The <strong><code>WITHOUT</code> type</strong> ignores any offset or zone info that may be present.\n<ul>\n<li>This type does <em>not</em> represent a moment. It represents a vague idea of <em>potential</em> moments along a range of about 26-27 hours (the range of time zones around the globe).</li>\n</ul>\n</li>\n</ul>\n<p>You virtually always want the <code>WITH</code> type, as <a href=\"http://justatheory.com/computers/databases/postgresql/use-timestamptz.html\" rel=\"noreferrer\">explained here</a> by expert David E. Wheeler. The <code>WITHOUT</code> only makes sense when you have the vague idea of a date-time rather than a fixed point on the timeline. For example, &quot;Christmas this year starts at 2016-12-25T00:00:00&quot; would be stored in the <code>WITHOUT</code> as it applies to <em>any</em> time zone, not yet having been applied to any one single time zone to get an actual moment on the timeline. If Santaâ€™s elves were tracking the start time for Eugene Oregon US, then they would use the <code>WITH</code> type and an input that included an offset or time zone such as <code>2016-12-25T00:00:00-08:00</code> which gets saved into Postgres as <code>2016-12-25T08:00.00Z</code> (where the <code>Z</code> means Zulu or UTC).</p>\n<p>The equivalent of Postgresâ€™ <code>TIMESTAMP WITHOUT TIME ZONE</code> in java.time is <code>java.time.LocalDateTime</code>. As your intention was to work in UTC (a good thing), you should <em>not</em> be using <code>LocalDateTime</code> (a bad thing). That may be the main point of confusion and trouble for you. You keep thinking about using <code>LocalDateTime</code> or <code>ZonedDateTime</code> but you should be using neither; instead you should be using <code>Instant</code> (discussed below).</p>\n<blockquote>\n<p>I also wonder if because I am going from LocalDateTime to ZonedDateTime and vice versa, I might be losing any timezone info.</p>\n</blockquote>\n<p>Indeed you are. <strong>The entire point to <code>LocalDateTime</code> is to <em>lose</em> time zone info.</strong> So we rarely use this class in most apps. Again, the Christmas example. Or another example, &quot;Company policy: All our factories around the world take lunch at 12:30 PM&quot;. That would be <code>LocalTime</code>, and for a particular date, <code>LocalDateTime</code>. But that has no real meaning, not an actual point on the timeline, until you apply a time zone to get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#ofLocal-java.time.LocalDateTime-java.time.ZoneId-java.time.ZoneOffset-\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>. That lunch break will be at different points on the timeline in the Delhi factory than the DÃ¼sseldorf factory and different again at the Detroit factory.</p>\n<p>The word &quot;Local&quot; in <code>LocalDateTime</code> may be counter-intuitive as it means <em>no particular</em> locality. When you read â€œLocalâ€ in a class name, think â€œNot a momentâ€¦ not on the timelineâ€¦ just a fuzzy idea about a kinda-sorta date-timeâ€.</p>\n<p>Your servers should almost always be set to UTC in their operating system time zone. But your programming should never depend on this externality as it is all too easy for a sysadmin to change it or for any other Java app to change the current default time zone within the JVM. So always specify your desired/expected time zone. (Same goes for <code>Locale</code>, by the way.)</p>\n<p>Upshot:</p>\n<ul>\n<li>You are working way too hard.</li>\n<li>Programmers/sysadmins must learn to &quot;Think global, Present local&quot;.</li>\n</ul>\n<p>During the work day while wearing your geek hard-hat, think in UTC. Only at the end of the day when switching to your laypersonâ€™s had should you go back to thinking of the local time of your town.</p>\n<p>Your business logic should focus on UTC. Your database storage, business logic, data exchange, serialization, logging, and your own thinking should all be done in UTC time zone (and 24-hour clock, by the way). When presenting data to users, only then apply a particular time zone. Think of zoned date-times as an external thing, not a working part of your appâ€™ internals.</p>\n<p>On the Java side, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>java.time.Instant</code></a> (a moment on the timeline in UTC) in much of your business logic.</p>\n<pre><code>Instant now = Instant.now();\n</code></pre>\n<p>Hopefully <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"noreferrer\">JDBC</a> drivers will eventually be updated to deal with java.time types like <code>Instant</code> directly. Until then we must use java.sql types. The old java.sql class have new methods for conversion to/from java.time.</p>\n<pre><code>java.sql.TimeStamp ts = java.sql.TimeStamp.valueOf( instant );\n</code></pre>\n<p>Now pass that <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"noreferrer\"><code>java.sql.TimeStamp</code></a> object via <code>setTimestamp</code> on a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\" rel=\"noreferrer\"><code>PreparedStatement</code></a> to be saved to a column defined as <code>TIMESTAMP WITH TIME ZONE</code> in Postgres.</p>\n<p>To go the other direction:</p>\n<pre><code>Instant instant = ts.toInstant();\n</code></pre>\n<p>So that is easy, going from <code>Instant</code> to <code>java.sql.Timestamp</code> to <code>TIMESTAMP WITH TIME ZONE</code>, all in UTC. <strong>No time zones involved.</strong> The current default time zone of your server OS, your JVM, and your clients, is all irrelevant.</p>\n<p>To present to user, apply a time zone. Use <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">proper time zone names</a>, never the 3-4 letter codes such as <code>EST</code> or <code>IST</code>.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\n</code></pre>\n<p>You can adjust into a different zone as needed.</p>\n<pre><code>ZonedDateTime zdtKolkata = zdt.withZoneSameInstant( ZoneId.of( &quot;Asia/Kolkata&quot; ) );\n</code></pre>\n<p>To get back to an <code>Instant</code>, a moment on the timeline in UTC, you can extract from the <code>ZonedDateTime</code>.</p>\n<pre><code>Instant instant = zdt.toInstant();\n</code></pre>\n<p>No where in there did we use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>.</p>\n<p>If you do get a piece of data without any offset-from-UTC or time zone, such as <code>2016-04-04T08:00</code>, that data is entirely useless to you (assuming we are not talking about the Christmas or Company Lunch type scenarios discussed above). A date-time without offset/zone info is like a monetary amount without indicating currency: <code>142.70</code> or even <code>$142.70</code> -- useless. But <code>USD 142.70</code>, or <code>CAD 142.70</code>, or <code>MXN 142.70</code>â€¦ those are useful.</p>\n<p>If you do get that <code>2016-04-04T08:00</code> value, and you are <em>absolutely certain</em> of the intended offset/zone context, then:</p>\n<ol>\n<li>Parse that string as a <code>LocalDateTime</code>.</li>\n<li>Apply an offset-from-UTC to get a <code>OffsetDateTime</code>, or (better) apply a time zone to get a <code>ZonedDateTime</code>.</li>\n</ol>\n<p>Like this code.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2016-04-04T08:00&quot; );\nZoneId zoneId = ZoneId.of( &quot;Asia/Kolkata&quot; ); // Or &quot;America/Montreal&quot; etc.\nZonedDateTime zdt = ldt.atZone( zoneId ); // Or atOffset( myZoneOffset ) if only an offset is known rather than a full time zone.\n</code></pre>\n<p>Your Question really is a duplicate of many others. These issues have been discussed many times in other Questions and Answers. I urge you to search and study Stack Overflow to learn more on this topic.</p>\n<h1>JDBC 4.2</h1>\n<p>As of JDBC 4.2 we can directly exchange <em>java.time</em> objects with the database. No need to ever use <code>java.sql.Timestamp</code> again, nor its related classes.</p>\n<p>Storing, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a> as defined in the JDBC spec.</p>\n<pre><code>myPreparedStatement.setObject( â€¦ , instant.atOffset( ZoneOffset.UTC ) ) ;  // The JDBC spec requires support for `OffsetDateTime`. \n</code></pre>\n<p>â€¦or possibly use <code>Instant</code> directly, if supported by your JDBC driver.</p>\n<pre><code>myPreparedStatement.setObject( â€¦ , instant ) ;  // Your JDBC driver may or may not support `Instant` directly, as it is not required by the JDBC spec. \n</code></pre>\n<p>Retrieving.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( â€¦ , OffsetDateTime.class ) ;\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/G32JN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/G32JN.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in standard SQL\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABPâ€¦</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Sksw9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Sksw9.png\" alt=\"Table of which java.time library to use with which version of Java or Android\" /></a></p>\n"},{"answer_id":63853058,"body":"<p>TLDR:</p>\n<p>To convert from LocalDateTime to ZonedDateTime the following code. You can use <code>.atZone( zoneId )</code>, a comprehensive list of zoneIDs are found in the column <code>TZ database name</code> <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">on Wikipedia.</a></p>\n<pre><code>LocalDateTime localDateTime = LocalDateTime.parse( &quot;2016-04-04T08:00&quot; );\nZoneId zoneId = ZoneId.of( &quot;UTC&quot; ); // Or &quot;Asia/Kolkata&quot; etc.\nZonedDateTime zdt = localDateTime.atZone( zoneId );\n</code></pre>\n"},{"answer_id":76279158,"body":"<pre><code>public ZonedDateTime transformToZonedDateTime(String Date, String timeZone) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n    LocalDate localDate = LocalDate.parse(Date, formatter);\n    LocalDateTime localDateTime = localDate.atTime(LocalTime.now());\n    ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneOffset.UTC);\n    ZoneId zoneId = ZoneId.of(timeZone);\n    return zonedDateTime.withZoneSameInstant(zoneId);\n}\n</code></pre>\n<p>INPUT:    <strong>deliveryDate = &quot;18-05-2023&quot; and timeZone = &quot;Asia/Hong_Kong&quot;</strong></p>\n<p>RETURNS: <strong>&quot;2023-05-19T20:43Z&quot;</strong></p>\n"}],"last_activity_date":1684399725,"question_id":36417317,"body":"<p>I have Java 8 Spring web app that will support multiple regions.  I need to make calendar events for a customer location.  So lets say my web and Postgres server is hosted in MST timezone (but I guess it could be anywhere if we go cloud).  But the customer is in EST.  So, following some best practices I read, I thought I would store all date times in UTC format.  All date time fields in the database are declared as TIMESTAMP.</p>\n\n<p>So here is how I take a LocalDateTime and convert to UTC:</p>\n\n<pre><code>ZonedDateTime startZonedDT = ZonedDateTime.ofLocal(dto.getStartDateTime(), ZoneOffset.UTC, null);\n//appointment startDateTime is a LocalDateTime\nappointment.setStartDateTime( startZonedDT.toLocalDateTime() );\n</code></pre>\n\n<p>Now , for example, when a search for a date comes in, I have to convert from the requested date time to UTC, get the results and convert to the user timezone (stored in the db):</p>\n\n<pre><code>ZoneId  userTimeZone = ZoneId.of(timeZone.getID());\nZonedDateTime startZonedDT = ZonedDateTime.ofLocal(appointment.getStartDateTime(), userTimeZone, null);\ndto.setStartDateTime( startZonedDT.toLocalDateTime() );\n</code></pre>\n\n<p>Now, I am not sure this is the correct approach.  I also wonder if because I am going from LocalDateTime to ZonedDateTime and vice versa, I might be losing any timezone info.</p>\n\n<p>Here is what I am seeing and it doesn't seem correct to me.  When I receive the LocalDateTime from the UI, I get this:</p>\n\n<pre><code>2016-04-04T08:00\n</code></pre>\n\n<p>The ZonedDateTime =</p>\n\n<pre><code>dateTime=2016-04-04T08:00\noffset=\"Z\"\nzone=\"Z\"\n</code></pre>\n\n<p>And then when I assign that converted value to my appointment LocalDateTime I store:</p>\n\n<pre><code>2016-04-04T08:00\n</code></pre>\n\n<p>I feel like because I am storing in LocalDateTime I am losing the timezone that I converted into ZonedDateTime.</p>\n\n<p>Should I make my entity (appointment) use ZonedDateTime instead of LocalDateTime so that Postgres doesn't loose that information?</p>\n\n<p>---------------- <strong>Edit</strong> ---------------- </p>\n\n<p>After Basils excellent answer, I realized that I have the luxury of not caring of the users timezone - all appointments are against a specific location so I can store all date times as UTC and then convert them to the location timezone when retrieved.  I made the following followup <a href=\"https://stackoverflow.com/questions/36563191/postgres-utc-to-java-zoneddatetime\">question</a></p>\n"},{"answers":[{"answer_id":76279143,"body":"<p>You can add compileOnly statements to the build.gradle of the subproject that reference the cascaded dependency, this fixed this issue for me, eg:</p>\n<pre><code>compileOnly('org.apache.commons:commons-collections4:4.4')\n</code></pre>\n"}],"last_activity_date":1684399613,"question_id":72867118,"body":"<p>I have a 2 module Gradle project, structure as below:</p>\n<p><a href=\"https://i.stack.imgur.com/rnkuV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rnkuV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>In my <em>DemoApplication</em> I would like to use class <em>CircularFifoQueue</em> which is in <em>org.apache.commons:commons-collections4:4.4</em> dependency declared in <em>library</em> project. However, I cannot do that (<em>error: cannot find symbol CircularFifoQueue...</em>) , even that <em>MyService</em> is visible in my <em>DemoApplication</em> class.\nIt seems that in Gradle 7 dependencies are not transisioned from subprojects, but I couldn't find that info in gradle docks.\nI'm using java 17 temurin and Gradle 7.4.</p>\n<p>Here are sources:</p>\n<p>DemoApplication:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = &quot;com.example.multimodule&quot;)\n@RestController\npublic class DemoApplication {\n\n    private final MyService myService;\n\n    public DemoApplication(MyService myService) {\n        this.myService = myService;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String home() {\n        CircularFifoQueue&lt;String&gt; result = new CircularFifoQueue&lt;&gt;();\n        return myService.message();\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>Application build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation project(':library')\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>Application serttings.gradle:</p>\n<pre><code>includeFlat 'library'\nrootProject.name = 'application'\n</code></pre>\n<p>Library build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1' apply false\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencyManagement {\n    imports {\n        mavenBom org.springframework.boot.gradle.plugin.SpringBootPlugin.BOM_COORDINATES\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter'\n    implementation 'org.apache.commons:commons-collections4:4.4'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n"},{"comments":[{"comment_id":134513980,"body":"Please provide enough code so others can better understand or reproduce the problem."},{"comment_id":134515473,"body":"The full stack trace is needed in order to correctly understand the root cause of the problem. It&#39;s for example very possible that the server is actually trying to render an error page because of a bug in your code but this error page in turn needs the writer."},{"comment_id":134528233,"body":"You need to provide code as this <code>OutputStream already obtained</code> suggests that you already created writer, eg you are calling that from jsp page, or filter etc."},{"comment_id":134529222,"body":"No. Code is not needed at all. Just the full stack trace. The answer is over there."}],"last_activity_date":1684399250,"question_id":76279103,"body":"<p>I am getting the below error while trying to download pdf</p>\n<p>java.lang.IllegalStateException: SRVE0199E: OutputStream already obtained\nat com.ibm.ws.webcontainer.srt.SRTServletResponse.getWriter(SRTServletResponse.java.858)\n~[com.ibm.ws.webcontainer.jar:?]</p>\n<p>I am using getoutstream() in my Java class, which i cannnot change to getwriter () as it comes as binary data and in the error logs i see it's internally calling getwriter().</p>\n<p>I know it should not call both these methods for same response,\nPlease help how can I fix this error.</p>\n"},{"comments":[{"comment_id":19576652,"body":"so how can I change my code to get an ArithmeticException? (I dont want to change the type of an array to int)?"},{"comment_id":19576675,"body":"This is duplicated    <a href=\"http://stackoverflow.com/questions/5291606/why-does-1-0-give-error-but-1-0-0-returns-inf\" title=\"why does 1 0 give error but 1 0 0 returns inf\">stackoverflow.com/questions/5291606/&hellip;</a>"},{"comment_id":19576684,"body":"<code>if (tab[i] == 0) throw new ArithmeticException();</code>."},{"comment_id":19576724,"body":"@assylias: Im not so sure about that, I read somewhere that we shouldnt throw an ArithmerticException"},{"comment_id":19576789,"body":"Katie, you are overthinking. :) assylias solution is just fine. If, for some reason, you don&#39;t want to throw ArithmeticException, just throw the exception you want."},{"comment_id":19576976,"body":"@gd1: ok, if you say so ;)"},{"comment_id":29777084,"body":"Checking floating value using <code>==</code> is potentially error prone. You should always check against sufficiently small number, to rule out rounding errors."},{"comment_id":32162943,"body":"I think jnovacho is referring to assylias&#39;s comment. When comparing int values, you can use the <code>==</code> operator for comparison perfectly fine. But with floats, <code>0 == 0.0</code> will return false. You should use the Double Object: <code>if (Double.valueOf(0.0).compareTo(tab[i]) == 0)</code>"},{"comment_id":98032093,"body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/5291606/why-does-integer-division-by-zero-1-0-give-error-but-floating-point-1-0-0-return\">Why does integer division by zero 1/0 give error but floating point 1/0.0 returns &quot;Inf&quot;?</a>"}],"answers":[{"comments":[{"comment_id":23905791,"body":"No, 0.0 really is 0 and the IEEE floating point spec defines the result as a special value &quot;positive infinity&quot;, not merely a very large value."}],"answer_id":14138001,"body":"<p>0.0 is a double literal and this is not considered as absolute zero! No exception because it is considered that the double variable large enough to hold the values representing near infinity!</p>\n"},{"answer_id":14138002,"body":"<p>That's because you are dealing with floating point numbers. Division by zero returns <code>Infinity</code>, which is similar to <code>NaN</code> (not a number).</p>\n\n<p>If you want to prevent this, you have to test <code>tab[i]</code> before using it. Then you can throw your own exception, if you really need it.</p>\n"},{"comments":[{"comment_id":19576638,"body":"PeterLawrey: so how can I change my code to get an ArithmeticException? (I dont want to change the type of an array to int)"},{"comment_id":19576866,"body":"@Katie you can check <code>if(tab[i] == 0.0){throw new ArithmeticException();}</code> before <code>tab[i] = 1.0 &#47; tab[i];</code>"},{"comment_id":19578236,"body":"BTW <code>0.0 == -0.0</code> so you don&#39;t have to check for two values."},{"comment_id":112989350,"body":"Suggested edit queue is full, so here a not broken link to the IEEE 754 <a href=\"https://ieeexplore.ieee.org/document/30711\" rel=\"nofollow noreferrer\">ieeexplore.ieee.org/document/30711</a>"},{"comment_id":119309143,"body":"To check for all special values (i.e. NaN, Infinity, -Infinity), use <code>if (! Double.isFinite(d))</code>"}],"answer_id":14138032,"body":"<p><a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"noreferrer\">IEEE 754</a> defines <code>1.0 / 0.0</code> as Infinity and <code>-1.0 / 0.0</code> as -Infinity and <code>0.0 / 0.0</code> as NaN.</p>\n<p>By the way, floating point values also have <code>-0.0</code> and so <code>1.0/ -0.0</code> is <code>-Infinity</code>.</p>\n<p>Integer arithmetic doesn't have any of these values and throws an Exception instead.</p>\n<p>To check for all possible values (e.g. NaN, 0.0, -0.0) which could produce a non finite number you can do the following.</p>\n<pre><code>if (Math.abs(tab[i] = 1 / tab[i]) &lt; Double.POSITIVE_INFINITY)\n   throw new ArithmeticException(&quot;Not finite&quot;);\n</code></pre>\n"},{"comments":[{"comment_id":19578341,"body":"You need to check for Double.isNaN() as well."},{"comment_id":111610004,"body":"This doesn&#39;t answer the question."},{"comment_id":118672628,"body":"The man asked why he didn&#39;t get an error, he didn&#39;t ask how do I do it."}],"answer_id":14138165,"body":"<p>Why can't you just check it yourself and throw an exception if that is what you want.</p>\n\n<pre><code>    try {\n        for (int i = 0; i &lt; tab.length; i++) {\n            tab[i] = 1.0 / tab[i];\n\n            if (tab[i] == Double.POSITIVE_INFINITY ||\n                    tab[i] == Double.NEGATIVE_INFINITY)\n                throw new ArithmeticException();\n        }\n    } catch (ArithmeticException ae) {\n        System.out.println(\"ArithmeticException occured!\");\n    }\n</code></pre>\n"},{"answer_id":33798761,"body":"<p>Java will not throw an exception if you divide by float zero. It will detect a run-time error only if you divide by <strong>integer</strong> zero not double zero.</p>\n\n<p>If you divide by 0.0, the result will be INFINITY.</p>\n"},{"comments":[{"comment_id":114847676,"body":"NaN not Infinity :)"},{"comment_id":121406152,"body":"@San4musa That&#39;s only for <code>0&#47;0</code>."}],"answer_id":46511699,"body":"<p><strong>When divided by zero</strong></p>\n\n<ol>\n<li><p>If you divide double by 0, JVM will show <strong>Infinity</strong>.</p>\n\n<pre><code>public static void main(String [] args){ double a=10.00; System.out.println(a/0); }\n</code></pre>\n\n<p>Console:\n<code>Infinity</code></p></li>\n<li><p>If you divide int by 0, then JVM will throw <strong>Arithmetic Exception</strong>.</p>\n\n<pre><code>public static void main(String [] args){\n    int a=10;\n    System.out.println(a/0);\n}\n</code></pre>\n\n<p>Console: <code>Exception in thread \"main\" java.lang.ArithmeticException: / by zero</code></p></li>\n</ol>\n"},{"answer_id":53325649,"body":"<p>There is a trick, Arithmetic exceptions only happen when you are playing around with integers and only during / or % operation.</p>\n\n<p>If there is any floating point number in an arithmetic operation, internally all integers will get converted into floating point. This may help you to remember things easily.</p>\n"},{"answer_id":59026384,"body":"<p>This is behaviour of floating point arithmetic is by specification. Excerpt from the specification, <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.17.2\" rel=\"nofollow noreferrer\">Â§ 15.17.2. Division Operator /</a>:</p>\n\n<blockquote>\n  <p>Division of a nonzero finite value by a zero results in a signed infinity. The sign is determined by the rule stated above. </p>\n</blockquote>\n"}],"last_activity_date":1684398844,"question_id":14137989,"body":"<p>Why doesn't this code throw an <code>ArithmeticException</code>? Take a look:</p>\n<pre><code>public class NewClass {\n\n    public static void main(String[] args) {\n        // TODO code application logic here\n        double tab[] = {1.2, 3.4, 0.0, 5.6};\n\n        try {\n            for (int i = 0; i &lt; tab.length; i++) {\n                tab[i] = 1.0 / tab[i];\n            }\n        } catch (ArithmeticException ae) {\n            System.out.println(&quot;ArithmeticException occured!&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134491417,"body":"you need to post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can compile. Read <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\" title=\"what is a debugger and how can it help me diagnose problems\">stackoverflow.com/questions/25385173/&hellip;</a>"},{"comment_id":134491474,"body":"Notwithstanding that you are assigning the result to a variable of type <code>double</code>, the constants <code>5</code>, <code>100</code>, and <code>12</code> are <code>int</code>s, and therefore the expression <code>5 &#47; 100 &#47; 12</code> is computed with integer division, resulting in 0.  Similarly with <code>scan.nextInt() &#47; 100 &#47; 12</code>."},{"comment_id":134491490,"body":"Compute as <code>5.0 &#47; 100 &#47; 12</code> or <code>(double) scan.nextInt() &#47; 100 &#47; 12</code> or <code>scan.nextInt() &#47; 1200.0</code> to get floating-point division."},{"comment_id":134491525,"body":"The <code>interestRate</code> variable is in the right state (it is a non-zero double). However, the poster needs to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Scanner.html#nextDouble--\" rel=\"nofollow noreferrer\">learn more about <code>Scanner</code> class</a>"},{"comment_id":134513156,"body":"@MikeWarren The interest rate is zero, because the code uses <code>double interestRate = 5 &#47; 100 &#47; 12;</code> and <code>5 &#47; 100 &#47; 12</code> results in 0."},{"comment_id":134515863,"body":"I stand corrected. When I was trying it, I was trying it in <a href=\"https://www.tutorialspoint.com/execute_groovy_online.php\" rel=\"nofollow noreferrer\">this Groovy playground</a>. I found and switched to a Java one, and faced the issue..."}],"last_activity_date":1684398823,"question_id":76265908,"body":"<p>I am trying to create a simple mortgage calculator for a class. A few weeks ago I was able to do this project with a YouTube tutorial and it worked fine. I think there is something wrong with the way I set up the formula and I have been staring at it for half a day now and I don't know what is wrong.</p>\n<p>I after reading other posts it seemed like I should change the variable to doubles to avoid dividing by zero but I am still getting <code>NaN</code>. I have noticed that when I set the interest rate to <code>.005</code> or something similar to <code>5/100/12</code>, it will work. However when I set interest rate to <code>5/100/12</code> I get NaN. I commented out the scanner inputs only for troubleshooting reasons. My code:</p>\n<pre><code>public static void main(String[] args) {\n       Scanner scan = new Scanner(System.in);\n       System.out.println(&quot;Welcome to the mortgage calculator. What is your annual gross income?&quot;);\n       double income = 100000; //scan.nextInt();\n       System.out.println(&quot;What is the price of the property?&quot;);\n       double price = 200000;//scan.nextInt();\n       System.out.println(&quot;How much is your down payment?&quot;);\n       double downPayment = 0; //scan.nextInt();\n       System.out.println(&quot;What is the interest rate?&quot;);\n       double interestRate = 5 / 100 / 12;//scan.nextInt() / 100 / 12;\n       double loanAmount = price - downPayment;\n       double parentheses = 1 + interestRate;\n       double power = Math.pow(parentheses, 360);\n       double numerator = interestRate * power;\n       double denominator = power - 1;\n       double together = numerator / denominator;\n       double payment = together * loanAmount;\n       System.out.println(payment);\n</code></pre>\n<p>What am I doing wrong?</p>\n"},{"comments":[{"comment_id":134481327,"body":"What exactly is your question? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. In order to help you, you have to ask a question thas is answerable. So as a suggestion, <a href=\"https://stackoverflow.com/posts/76260018/edit\">edit</a> and post your latest code (ideally as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>) to show what you tried, explain what&#39;s happening and what doesn&#39;t work."},{"comment_id":134481434,"body":"How did <a href=\"https://duckduckgo.com/?q=java+swing+background+image+site%3Astackoverflow.com&amp;t=osx&amp;ia=web\" rel=\"nofollow noreferrer\">the many existing Questions</a> on Java Swing background image not address your issue?"}],"last_activity_date":1684398769,"question_id":76260018,"body":"<p>I want to make a main menu screen with java swing. I want to have an image as background and 3 buttons on top of it. Through the internet I managed to find 4-5 different suggestions, non of them worked, either the image is not shown at all or it covers the buttons. I even tried with the eclipse window builder, same results.</p>\n<p>Thanks in advance</p>\n<p><strong>Edit:</strong>\n<br>\nThe one I have implemented now is what is shown <a href=\"https://stackoverflow.com/a/1466278/12690890\">here</a>. I then add the 3 buttons to the panel and set it as the content pane of the frame. The image is shown fine, but the buttons do not.<br>\nI have also used the BackgroundPanel class given <a href=\"https://tips4java.wordpress.com/2008/10/12/background-panel/\" rel=\"nofollow noreferrer\">here</a>, added the 3 buttons and set it as the content pane again. Same result if I remember correctly.<br>\nI remember seeing somewhere to make a label and add the image there, then add the label to a panel with the other elements and then set that panel as the content pane. Did that, same result again.<br>\nDid the same with the class <a href=\"https://stackoverflow.com/a/299555/12690890\">here</a>. Same result.\n<br><br>\nThis is the code that I have in my own class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    JPanelWithBackground bgPanel = new JPanelWithBackground(&quot;image.jpg&quot;);\n\n    JButton btnNewButton = new JButton(&quot;New button&quot;);\n    bgPanel.add(btnNewButton);\n    JButton btnNewButton_1 = new JButton(&quot;New button&quot;);\n    bgPanel.add(btnNewButton_1);\n    JButton btnNewButton_2 = new JButton(&quot;New button&quot;);\n    bgPanel.add(btnNewButton_2);\n\n    frame.setContentPane(bgPanel);\n    bgPanel.setLayout(new BorderLayout(0, 0));\n} catch (IOException ex) {\n    System.out.println(ex.getMessage());\n}\n</code></pre>\n"},{"comments":[{"comment_id":134525084,"body":"Try printing out the contents of the string your <code>jar_path</code> variable points to..."},{"comment_id":134525631,"body":"It prints <code>-Djava.class.path=.;.\\MyTest.jar</code>.  If I make <code>const char* jar_path = &quot;-Djava.class.path=.;MyTest.jar&quot;;</code>, it has the same problem."}],"last_activity_date":1684398712,"question_id":76279045,"body":"<p>When I use JNI interface to find class from jar file, it returns nullptr, but if I find class directly from .class file, it will success.\nThe following code will output <code>Failed</code>.</p>\n<pre><code>#include &lt;jni.h&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main(int argc, char** argv) {\n    JavaVM* jvm = nullptr;\n    JNIEnv* env = nullptr;\n\n    JavaVMInitArgs vm_args;\n    JavaVMOption* options = new JavaVMOption[1];\n    const char* jar_path = R&quot;(-Djava.class.path=.;.\\MyTest.jar)&quot;;\n    options[0].optionString = new char[strlen(jar_path) + 1];\n    memset(options[0].optionString, sizeof(options[0].optionString), 0);\n    memcpy(options[0].optionString, jar_path, strlen(jar_path));\n    vm_args.version = JNI_VERSION_1_8;\n    vm_args.nOptions = 0;\n    vm_args.options = options;\n    vm_args.ignoreUnrecognized = false;\n\n    jint rc = JNI_CreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n    delete[] options;\n    if (rc != JNI_OK) {\n        cout &lt;&lt; &quot;Error code : &quot; &lt;&lt; rc;\n        cin.get();\n        exit(EXIT_FAILURE);\n    }\n\n    cout &lt;&lt; &quot;JVM load succeeded: Version &quot;;\n    jint ver = env-&gt;GetVersion();\n    cout &lt;&lt; ((ver &gt;&gt; 16) &amp; 0x0f) &lt;&lt; &quot;.&quot; &lt;&lt; (ver &amp; 0x0f) &lt;&lt; endl;\n\n    jclass cls = env-&gt;FindClass(&quot;MyTest&quot;);\n    if (cls != 0) {\n        cout &lt;&lt; &quot;Success&quot;;\n    }\n    else {\n        cout &lt;&lt; &quot;Failed&quot;;\n    }\n\n    jvm-&gt;DestroyJavaVM();\n    cin.get();\n}\n\n</code></pre>\n<p><code>MyTest.jar</code> was in the runtime directory. <code>jar tf MyTest.jar</code> outputs:</p>\n<pre><code>META-INF/\nMETA-INF/MANIFEST.MF\nMyTest.class\n</code></pre>\n<p>MyTest.java codes as follow:</p>\n<pre><code>public class MyTest {\n    private static int magic_counter=777;\n\n    public static void mymain() { \n       System.out.println(&quot;Hello, World in java from mymain&quot;);\n       System.out.println(magic_counter);\n    }\n}\n</code></pre>\n<p>If I replace MyTest.jar to MyTest.class. The <code>env-&gt;FindClass(&quot;MyTest&quot;)</code> will return a valid pointer.\nHow should I find class from jar file? Does anybody have any ideas?</p>\n<p>I have tried the solutions from <a href=\"https://stackoverflow.com/questions/18212286/find-java-class-in-jar-using-jni\">find-java-class-in-jar-using-jni</a> and <a href=\"https://stackoverflow.com/questions/17972438/jni-findclass-cant-find-class-which-uses-jar\">jni-findclass-cant-find-class-which-uses-jar</a>, but there is no help.</p>\n"},{"last_activity_date":1684398712,"question_id":76279017,"body":"<p>Not sure what is wrong but I can't access /dashboard page when I login in with my admin credentials. Page displays a Forbidden.</p>\n<p><strong>Roles are predefined in an enum class RoleName</strong></p>\n<p>SecurityConfig - redirect user to /dashboard after login</p>\n<pre><code>package com.movie.configuration;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.session.HttpSessionEventPublisher;\nimport org.springframework.boot.web.servlet.ServletListenerRegistrationBean;\nimport org.springframework.security.web.session.HttpSessionEventPublisher;\n\nimport com.movie.models.RoleName;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private UserDetailsService userDetailsService; \n    \n    @Bean(name = &quot;passwordEncorder&quot;)\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder(); \n    }\n    \n    @Autowired\n    public void configAuthentication(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder()); \n    }\n    \n    @Override \n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                        .authorizeRequests()\n                        .antMatchers(&quot;/&quot;).permitAll()\n                        .antMatchers(&quot;/dashboard/**&quot;).hasAuthority(RoleName.ADMIN.name())\n                        .anyRequest().authenticated()\n                .and()\n                        .formLogin().loginPage(&quot;/&quot;)\n                        .usernameParameter(&quot;uname&quot;)\n                        .passwordParameter(&quot;pwd&quot;)\n                        .defaultSuccessUrl(&quot;/dashboard&quot;)\n                        .permitAll()\n                        \n                .and()\n                        .logout().logoutSuccessUrl(&quot;/&quot;)\n                .and()\n                        .csrf().disable();\n                \n        http.sessionManagement()\n                        .maximumSessions(1)\n                        .maxSessionsPreventsLogin(true)\n                        .expiredUrl(&quot;/login?error=You are already logged in from somewhere&quot;);\n                \n    }\n    \n    \n    \n    @Bean\n    public ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; httpSessionEventPublisher() {\n        \n        return new ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt;(new HttpSessionEventPublisher());\n    }\n\n}\n\n</code></pre>\n<p>LoginController - Handle login requests</p>\n<pre><code>package com.movie.controllers;\n\n\nimport javax.servlet.ServletContext;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport com.movie.models.RoleName;\nimport com.movie.models.User;\nimport com.movie.services.CustomerService;\nimport com.movie.services.MovieService;\nimport com.movie.services.ShowsService;\nimport com.movie.services.TheatreService;\nimport com.movie.services.UserService;\nimport org.springframework.security.core.Authentication;\n\n@Controller\npublic class LoginController {\n\n    @Autowired HttpSession session;\n    @Autowired UserService uservice;\n    @Autowired MovieService mservice;\n    @Autowired CustomerService cservice;\n    @Autowired TheatreService tservice;\n    @Autowired ShowsService sservice;\n\n    @Autowired ServletContext ctx;\n\n    @GetMapping(&quot;/login&quot;)\n    public String loginpage() {\n        return &quot;login&quot;;\n    }\n\n    \n    \n    @PostMapping(&quot;/login&quot;)\n    public String validate(String uname,String pwd) {\n        User user=uservice.validate(uname, pwd);\n        if(user!=null) {\n            session.setAttribute(&quot;user&quot;, user);\n            switch(user.getRoleName()) {\n                case ADMIN:\n                    return &quot;redirect:/dashboard&quot;;\n                case CINEMA_MANAGER:\n                    return &quot;redirect:/cinema-dashboard&quot;;\n                case CUSTOMER:\n                    return &quot;redirect:/&quot;;\n                case CINEMA_OWNER:\n                    break;\n                default:\n                    break;\n            }\n        }\n        return &quot;redirect:/login&quot;;\n    } \n    \n}\n\n</code></pre>\n<p>AdminController - to display /dashboard contents</p>\n<pre><code>package com.movie.controllers;\n\nimport javax.servlet.http.HttpSession;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport com.movie.services.BookingService;\nimport com.movie.services.CustomerService;\nimport com.movie.services.MovieService;\nimport com.movie.services.ShowsService;\nimport com.movie.services.TheatreService;\nimport com.movie.services.UserService;\n\n@Controller\n@RequestMapping(&quot;/dashboard&quot;)\npublic class AdminController {\n    \n    @Autowired HttpSession session;\n    @Autowired UserService uservice;\n    @Autowired MovieService mservice;\n    @Autowired TheatreService tservice;\n    @Autowired ShowsService sservice;\n    @Autowired BookingService bservice;\n    @Autowired CustomerService cservice;\n\n    @GetMapping(&quot;/&quot;)\n    public String dashboard(Model model) {\n        model.addAttribute(&quot;users&quot;, uservice.allUsers().size());\n        model.addAttribute(&quot;movies&quot;, mservice.allMovies().size());\n        model.addAttribute(&quot;theatres&quot;, tservice.allTheatres().size());\n        model.addAttribute(&quot;bookings&quot;, bservice.allBookings().size());\n        model.addAttribute(&quot;customers&quot;, cservice.allCustomers().size());\n        \n        return &quot;dashboard&quot;;\n    }\n    \n    @GetMapping(&quot;/users&quot;)\n    public String userslist(Model model) {\n        model.addAttribute(&quot;list&quot;, uservice.allUsers());\n        return &quot;users&quot;;\n    }\n    \n    @GetMapping(&quot;/movies&quot;)\n    public String movielist(Model model) {\n        model.addAttribute(&quot;list&quot;, mservice.allMovies());\n        return &quot;movies&quot;;\n    }\n    \n    @GetMapping(&quot;/atrailer/{id}&quot;)\n    public String movietrailer(@PathVariable(&quot;id&quot;)int mid, Model model) {\n        model.addAttribute(&quot;movie&quot;, mservice.findMovieDetails(mid));\n        return &quot;atrailer&quot;;\n    }\n    \n    \n    @GetMapping(&quot;/bookings&quot;)\n    public String bookingslist(Model model) {\n        model.addAttribute(&quot;list&quot;, bservice.allBookings());\n        return &quot;bookings&quot;;\n    }\n    \n    @GetMapping(&quot;/madetails/{mid}&quot;)\n    public String moviedetails(@PathVariable(&quot;mid&quot;) int mid,Model model) {\n        model.addAttribute(&quot;movie&quot;, mservice.findMovieDetails(mid));\n        return &quot;madetails&quot;;\n    }\n    \n    @GetMapping(&quot;/customers&quot;)\n    public String customerslist(Model model) {\n        model.addAttribute(&quot;list&quot;, cservice.allCustomers());\n        return &quot;customers&quot;;\n    }\n    \n    @GetMapping(&quot;/changepwd&quot;)\n    public String changepassword() {\n        return &quot;changepwd&quot;;\n    }\n}\n\n</code></pre>\n"},{"comments":[{"comment_id":134513361,"body":"btw I have another mistake here, I imported a wrong Connection package when mocking it, not java.sql.Connection. But the answer is also valid here"}],"answers":[{"answer_id":76279039,"body":"<p>You can use use <code>thenAnswer</code> instead of <code>thenReturn</code> and just return lambda expression like:</p>\n<pre><code>@Test\npublic void testConnectionIsOk() {\n    Connection mockedConnection = Mockito.mock(Connection.class);\n    try (MockedStatic&lt;DriverManager&gt; driverManagerMockedStatic = Mockito.mockStatic(DriverManager.class)) {\n        driverManagerMockedStatic.when(() -&gt; DriverManager.getConnection(Mockito.anyString(), Mockito.anyString(), Mockito.anyString()))\n                .thenAnswer(invocation -&gt; mockedConnection);\n\n        boolean isConnectionOK = sut.testMethod();\n\n        Assertions.assertTrue(isConnectionOK);\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684398673,"question_id":76276291,"body":"<p>I'm migrating from PowerMockito&amp;MockitoV2 to Mockito V3+ and trying to rewrite my tests</p>\n<p>Previously I had a test which mocker java.sql.DriverManager class static method getConnection(...) to return a plain Mockito.mock(java.sql.Connection.class), now I'm trying to do somethins similar with MockedStatic but can't make static mock return another plain mock, have such error:</p>\n<blockquote>\n<p>org.mockito.exceptions.misusing.WrongTypeOfReturnValue:\nConnection$MockitoMock$sLucRb7f cannot be returned by getConnection()\ngetConnection() should return Connection\n*** If you're unsure why you're getting above error read on. Due to the nature of the syntax above problem might occur because:</p>\n<ol>\n<li>This exception <em>might</em> occur in wrongly written multi-threaded tests.    Please refer to Mockito FAQ on limitations of concurrency\ntesting.</li>\n<li>A spy is stubbed using when(spy.foo()).then() syntax. It is safer to stub spies -\n<ul>\n<li>with doReturn|Throw() family of methods. More in javadocs for Mockito.spy() method.</li>\n</ul>\n</li>\n</ol>\n</blockquote>\n<p>My test code looks like that:</p>\n<pre><code>    @Test\n    public void testConnectionIsOk() {\n        Connection mockedConnection = Mockito.mock(Connection.class);\n        try (MockedStatic&lt;DriverManager&gt; driverManagerMockedStatic = Mockito.mockStatic(DriverManager.class)) {\n            driverManagerMockedStatic.when(\n                    () -&gt; DriverManager.getConnection(Mockito.anyString(), Mockito.anyString(), Mockito.anyString()))\n                    .thenReturn(mockedConnection);\n            boolean isConnectionOK = sut.testMethod();\n\n            Assertions.assertTrue(isConnectionOK);\n        }\n    }\n</code></pre>\n<p>I understand the error is asking me to use a <code>Mockito.doReturn(mockedConnection).when(...)</code> but I can't pass a static method call in that <code>.when(...)</code> block</p>\n<p>Is there any workaround for this use case or am I missing anything?</p>\n"},{"last_activity_date":1684398291,"question_id":76278994,"body":"<p>I have requirement to scan the jar file using fortify. I am using Fortify version 22.2. I added below properties as mentioned in the fortify documentation.</p>\n<pre><code>com.fortify.sca.fileextensions.class=BYTECODE\ncom.fortify.sca.fileextensions.jar=ARCHIVE\ncom.fortify.sca.DecompileBytecode=true\n</code></pre>\n<p>I tried to use some commands using source code analyzer which i found on stackoverflow but it did not work.</p>\n<p>Would it be possible to scan individual jar file ? or does the jar file need to be part of a Java Project ?</p>\n<p>Can ayone please advise ?</p>\n"},{"comments":[{"comment_id":134513034,"body":"<code>case VALUE1:</code>, <code>case VALUE2:</code> etc."}],"answers":[{"comments":[{"comment_id":134513336,"body":"In contrast, <code>case (42):</code> and <code>case (&quot;SomeString&quot;):</code> and <code>case (MyClass.someStaticFinalValue):</code> all work: <a href=\"https://ideone.com/rIr8oS\" rel=\"nofollow noreferrer\">ideone.com/rIr8oS</a> It&#39;s specifically the enum case that&#39;s tripped up by the pointless <code>()</code>. Why? Because the others are <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">constant expressions</a>, but not <code>(VALUE1)</code>, since an enum isn&#39;t a <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\">constant variable</a>. So the compiler doesn&#39;t evaluate the expr to a constant at compile-time, so you try to feed an expr to <code>case</code>, which isn&#39;t allowed."}],"answer_id":76278974,"body":"<p>The issue is that you used parenthesis in the case statements, if you'll change <code>case (VALUE1):</code> to <code>case VALUE1:</code> etc it should work. The reason is that because of the <code>()</code> java thinks you're using runtime evaluation of an expression for the switch-case, instead of the constant value of the enum.\nSo, this will compile:</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n        switch (myEnum) {\n            case VALUE1: \n                break;\n            case VALUE2:\n                break;\n            case VALUE3:\n                break;\n            default:\n                break;\n        }\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684398116,"question_id":76278973,"body":"<p>I'm trying to have a switch statement upon an enum however I can't compile due to <code>Constant expression required</code>. This is not expected since enums in java are constants.</p>\n<p>Example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum MyEnum {\n    VALUE1,\n    VALUE2,\n    VALUE3\n}\n\npublic class MyClass {\n    public static void main(String[] args) {\n        MyEnum myEnum = MyEnum.VALUE1;\n\n        switch (myEnum) {\n            case (VALUE1): \n                break;\n            case (VALUE2):\n                break;\n            case (VALUE3):\n                break;\n            default:\n                break;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":100664949,"body":"Just to clarify, are spaces allowed?"},{"comment_id":100665030,"body":"@MensurQulami Yes"},{"comment_id":100665264,"body":"Could it be that any of the folders that you want to create already exists as a normal file, not directory? I&#39;ve found this bug report: <a href=\"https://bugs.openjdk.java.net/browse/JDK-7030716\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-7030716</a>"},{"comment_id":100710008,"body":"from the code review I dont think that&#39;s the case.  Since this is a production env, there&#39;s no way I can verify this."},{"comment_id":111538182,"body":"Were you java application running in a Docker container?"},{"comment_id":111598644,"body":"Yes the java application is run inside a container."}],"answers":[{"answer_id":76278968,"body":"<p>This code throws <code>FileAlreadyExistsException</code> for <code>Files.createDirectories</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) throws IOException {\n    Files.createDirectories(Path.of(&quot;A/B&quot;));\n    Files.createFile(Path.of(&quot;A/B/C&quot;));\n\n    // throws FileAlreadyExistsException(&quot;A/B/C&quot;)\n    Files.createDirectories(Path.of(&quot;A/B/C&quot;));\n  }\n</code></pre>\n<p>Which is expected behaviour according to the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/Files.html#createDirectories(java.nio.file.Path,java.nio.file.attribute.FileAttribute...)\" rel=\"nofollow noreferrer\">javadoc</a>; it failed to create a directory because a file (<code>C</code>) with the same name already exists.</p>\n<p>You can handle it by deleting the file provided by <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/file/FileSystemException.html#getFile()\" rel=\"nofollow noreferrer\"><code>FileSystemException.getFile()</code></a> and trying <code>Files.createDirectories</code> again.</p>\n<hr />\n<p>However - this code throws <code>NoSuchFileException</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static void main(String[] args) throws IOException {\n    Files.createDirectories(Path.of(&quot;A/B&quot;));\n    Files.createFile(Path.of(&quot;A/B/C&quot;));\n\n    // throws NoSuchFileException(&quot;A/B/C/D&quot;)\n    Files.createDirectories(Path.of(&quot;A/B/C/D/E&quot;));\n  }\n</code></pre>\n<p>Because the parent of <code>D</code> is a file.</p>\n<p>You can handle it similarly by deleting the parent of the file provided by <code>getFile()</code> and trying <code>Files.createDirectories</code> again.</p>\n<p>It's strange because it's not explained in the javadoc. I would expect the same <code>FileAlreadyExistsException</code> as in the first example.</p>\n<hr />\n<p>Also there's an inconsistency between the exceptions; <code>FileAlreadyExistsException.getFile()</code> uses relative path while <code>NoSuchFileException.getFile()</code> uses absolute path. So take that into account when handling the exceptions.</p>\n"}],"last_activity_date":1684398088,"question_id":57070534,"body":"<p>On a production Linux env, Im getting <strong>NoSuchFileException</strong> for <strong>Files.createDirectories</strong> api.<br>\nI have checked the java docs for <strong>Files.createDirectories</strong> and it inherently does not throw this exception.<br>\nI need to know on what condition do we get this error for the <strong>Files.createDirectories</strong> API.</p>\n\n<pre><code>stackTrace\n-----------\njava.nio.file.NoSuchFileException: /folder1/folder2/folder abc/ABC-UVW XYZ\n    at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86)\n    at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\n    at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\n    at sun.nio.fs.UnixFileSystemProvider.createDirectory(UnixFileSystemProvider.java:384)\n    at java.nio.file.Files.createDirectory(Files.java:674)\n    at java.nio.file.Files.createAndCheckIsDirectory(Files.java:781)\n    at java.nio.file.Files.createDirectories(Files.java:767)\n</code></pre>\n\n<h2>Code</h2>\n\n<pre><code>if(!file.getParentFile().exists()) {\n    Files.createDirectories(Paths.get(file.getParent()));\n    //Files.createDirectories() should create all non existent parent directories but instead it throws NoSuchFileException.\n    //......other code\n}\n</code></pre>\n"},{"comments":[{"comment_id":134515077,"body":"What is the speed with your Java code? Why do you expect a buffer would help?"},{"comment_id":134528189,"body":"@aled I&#39;m running this code in the spring controller and writing it to the servlet response output stream to download it via the browser. If I don&#39;t use a buffer for large files, I might see out-of-memory exceptions. if I increase the buffer size the writing should become faster that is the reason why i thought it would help"}],"last_activity_date":1684397990,"question_id":76278957,"body":"<p>I'm trying to download large files from the S3 bucket. I'm getting the inputstream from S3 and writing it into the HttpServletResponse outputstream. I'm always getting less than\n2 Mbps speed while downloading on chrome. But when I try the same file download directly from the AWS console, I get a good speed of at least 5 mbps.</p>\n<p>I tried increasing the buffer size but with no results :</p>\n<pre><code>   private static void copyLarge(InputStream source, OutputStream target) throws IOException {\n    byte[] buf = new byte[1024 * 50];\n    int length;\n    while ((length = source.read(buf)) != -1) {\n      target.write(buf, 0, length);\n    }\n  }\n</code></pre>\n<p>How can we improve the performance?</p>\n"},{"last_activity_date":1684397960,"question_id":76278751,"body":"<p>We're trying to upload files to Firebase Storage when our App is in the Background.</p>\n<p>We work on Unity App that runs on Android.\nWe've created a plugin in Android Java, that works with custom service,\nconnects and sends requests to the Firebase storage. This works when the app is in the foreground.</p>\n<p>If we start the process (press a button) and put the App in the background, the process would start in the background but would stop when calling Firebase functionality. With all the prints shown on logcat till that point.</p>\n<p>Only when moving the app back to the foreground, the process will continue, and the call to the Firebase functionality will execute.\nIn other words - the scope of the OnSuccess handler would execute, and all the prints would show on the log.</p>\n<p>What might prevent the calls to Firebase from executing when the app is in the background?</p>\n<p>Here is the code called (On the android Service that is called and used by the plugin):</p>\n<pre><code>\nprivate void fbReadStorageTest(){\n        mHandler.postDelayed(() -&gt; {\n            Log.d(TAG, &quot;[SGA][BgUploadService][fbReadStorageTest]  - 10 -  Will be testing fb write here [2]... &quot;);\n\n            StorageReference storageReference = storeRef.child(&quot;/test&quot;);\n            Log.d(TAG, &quot;[SGA][BgUploadService][fbReadStorageTest] - 40 -About to read from: &quot;+storageReference.getPath());           \n\n            storageReference.listAll().addOnSuccessListener(new OnSuccessListener&lt;ListResult&gt;() {\n                @Override\n                public void onSuccess(ListResult listResult) {\n                    for (StorageReference item : listResult.getItems()) {\n                        // Process each item in the list\n                        // Here, you can access item properties like name, path, etc.\n                        Log.d(&quot;StorageExample&quot;, &quot;[SGA][BgUploadService][fbReadStorageTest] -  50.1 -  Item Name: &quot; + item.getName());\n                        Log.d(&quot;StorageExample&quot;, &quot;[SGA][BgUploadService][fbReadStorageTest] -  50.3 - Item Path: &quot; + item.getPath());\n                    }\n\n                    Log.d(TAG, &quot;[SGA][BgUploadService][fbReadStorageTest] - Got List&quot;);\n\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n\n                    Log.d(TAG, &quot;[SGA][BgUploadService][fbReadStorageTest] - 140.4 - ListFiles  Failed &quot;+e.getMessage());\n                }\n            });\n\n        }, 5000);\n    }\n</code></pre>\n<p>Thanks, Shefy</p>\n"},{"answers":[{"answer_id":74028008,"body":"<p>For &quot;Java Developer Kit installation not found &quot;, it was a pending update which wasn't completed for some reason.</p>\n<p>For &quot;Source option 5 is no longer supported&quot;:\nEdit (as an admin) C:\\Microsoft\\AndroidSDK\\25\\tools\\ant\\build.xml</p>\n<p>Change line 71, 72 from</p>\n<pre><code>&lt;property name=&quot;java.target&quot; value=&quot;1.5&quot; /&gt;\n&lt;property name=&quot;java.source&quot; value=&quot;1.5&quot; /&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;property name=&quot;java.target&quot; value=&quot;1.7&quot; /&gt;\n&lt;property name=&quot;java.source&quot; value=&quot;1.7&quot; /&gt;\n</code></pre>\n<p>Now it compiles and runs as it should.\nNote that I have not Xamarin installed as it is not needed.</p>\n"},{"answer_id":76278942,"body":"<p>Updating to Visual Studio 2022 17.6.0 I got this warning. It seems the warning is produced from the Visual Studio Extension called <a href=\"https://marketplace.visualstudio.com/items?itemName=VisualCPPTeam.JavaToolsForAndroidProjVS2022&amp;ssr=false#overview\" rel=\"nofollow noreferrer\">&quot;Java Tools for Android Projects (Visual Studio 2022)&quot;</a>, which is now deprecated.</p>\n<p>I haven't investigated further but uninstalling this extension lets this warning disappear. To uninstall it go to Visual Studio -&gt; Extensions -&gt; Manage Extensions -&gt; &quot;Installed&quot; section -&gt; Look for &quot;<strong>[Deprecated] Java Tools for Android Projects (Visual Studio 2022)</strong>&quot; -&gt; Uninstall</p>\n"}],"last_activity_date":1684397854,"question_id":74003528,"body":"<p>Visual Studio 2019, Windows 10.</p>\n<p>I can successfully compile a Native (C++) Android project and have it running on the phone with Visual Studio.</p>\n<p>Now, in order to add some Java I first created a minimal Hello World project in Visual Studio for Android/Java.\nHowever I get a note at the top:\n<em>&quot;Java Developer Kit installation not found (Status JDKRegKeyNotFound). Intellisense is not available&quot;</em>\nAlso the code won't compile:</p>\n<p><em>&quot;EXEC : [javac] error : Source option 5 is no longer supported. Use 7 or later.&quot;</em></p>\n<p><strong>Installed: <em>C:\\Program Files\\Java\\jdk-17.0.4.1</em></strong></p>\n<p><strong>JAVA_HOME set to <em>C:\\Program Files\\Java\\jdk-17.0.4.1</em></strong></p>\n<p><strong>Path includes <em>%JAVA_HOME%\\bin</em></strong></p>\n<p><strong>Java SE Development Kit set to <em>C:\\Program Files\\Java\\jdk-17.0.4.1</em> in <em>Options -&gt; Cross Platform -&gt; C++ -&gt; Android</em> in Visual Studio</strong></p>\n<p><a href=\"https://i.stack.imgur.com/w3lck.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w3lck.png\" alt=\"Android/Java\" /></a></p>\n<p>I've googled for <em>Source option 5 is no longer supported. Use 7 or later.</em> but found only solutions for Android Studio or Eclipse.</p>\n<p>Any suggestions how to fix these errors?</p>\n"},{"answers":[{"comments":[{"comment_id":134512599,"body":"I did what you told me to do. I removed the server-... from the file and added <code>env: GITHUB_TOKEN</code> as the docs you gave me said. But it still fails and returns the error code 401. Is it possible that maven does not use the correct credentials?"},{"comment_id":134512615,"body":"@MagaCraft202: Please <a href=\"https://stackoverflow.com/posts/76275911/edit\">edit</a> your question add your workflow that you just tried under an <b>UPDATE</b> section."},{"comment_id":134512956,"body":"Yeah sure, I forgot that. Sorry"},{"comment_id":134513045,"body":"@MagaCraft202: Have you verified if the URL has the correct value?"},{"comment_id":134513181,"body":"yes, I have. This is the URL I&#39;m using: <code>https:&#47;&#47;maven.pkg.github.com&#47;&lt;username&gt;&#47;&lt;repository&gt;&#47;&lt;groupI&zwnj;&#8203;d&gt;&#47;&lt;artifactId&gt;&#47;&lt;ver&zwnj;&#8203;sion&gt;&#47;&lt;jar&gt;</code>"},{"comment_id":134515864,"body":"@MagaCraft202: Does your <code>pom.xml</code> have <code>distributionManagement</code> and its nested <code>repository</code> configured for <code>github</code> as in the docs? I just tested a sample project and specifiied the required arguments for <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/deploy-file-mojo.html\" rel=\"nofollow noreferrer\">deploy-file</a> and it worked fine. See my <a href=\"https://github.com/iamazeem/test/actions/runs/5013948667/workflow\" rel=\"nofollow noreferrer\">workflow</a>, successful <a href=\"https://github.com/iamazeem/test/actions/runs/5013948667/jobs/8987640936\" rel=\"nofollow noreferrer\">run</a>, and the published <a href=\"https://github.com/iamazeem?ecosystem=maven&amp;tab=packages\" rel=\"nofollow noreferrer\">package</a>."},{"comment_id":134531217,"body":"yes, but I had to add -DpomFile=$file as an argument because it got the wrong pom file. It works now and thank you for your help! :)"}],"answer_id":76278527,"body":"<p>The correct term is &quot;publish&quot; here, not &quot;deploy&quot;.</p>\n<p><code>actions/setup.java</code> should be <a href=\"https://github.com/actions/setup-java\" rel=\"nofollow noreferrer\"><code>actions/setup-java</code></a> i.e. replace <code>.</code> with <code>-</code>.</p>\n<p>You need to follow <a href=\"https://docs.github.com/en/actions/publishing-packages/publishing-java-packages-with-maven#publishing-packages-to-github-packages\" rel=\"nofollow noreferrer\">Publishing packages to GitHub Packages</a>.</p>\n<p>Regarding <code>server-username</code> and <code>server-password</code>, you don't have to configure these for GitHub Packages as they already have the correct defaults i.e. <code>GITHUB_ACTOR</code> and <code>GITHUB_TOKEN</code> respectively, see <a href=\"https://github.com/actions/setup-java#maven-options\" rel=\"nofollow noreferrer\">Maven options</a>.</p>\n<p>Refer to the <a href=\"https://docs.github.com/en/actions/learn-github-actions/contexts#github-context\" rel=\"nofollow noreferrer\"><code>github</code></a> context to configure <code>OWNER</code> and <code>REPOSITORY</code> values.</p>\n"}],"last_activity_date":1684397760,"question_id":76275911,"body":"<p>So, I have a GitHub Repository with compiled Maven projects. I setup a GitHub Actions to deploy them to GitHub Packages. This is my current release-package.yml:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Maven Package\n\non: push\n\njobs:\n  publish-gpr:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      packages: write\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: '3.10'\n      - uses: actions/setup.java@v3\n        with:\n          java-version: '11'\n          distribution: 'adopt'\n          server-id: github\n          server-username: ...\n          server-password: ...\n      - name: Publish Package\n        run: |\n          chmod +x ./deploy.sh\n          ./deploy.sh\n        shell: bash\n</code></pre>\n<p>As one can see, 'server-username' and 'server-password' are still blank, which is my main problem. I read here: <a href=\"https://docs.github.com/en/actions/publishing-packages/publishing-java-packages-with-maven\" rel=\"nofollow noreferrer\">https://docs.github.com/en/actions/publishing-packages/publishing-java-packages-with-maven</a> that I have to add this but I don't know what username and password to use except my own. But I want to avoid that.\nThe deploy.sh has the following content:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/bin/bash\n\nOWNER=...\nREPOSITORY=...\n\nfilelist=$(find . -type f -path &quot;*.pom&quot;)\nfor file in $filelist\ndo\n    data=$(python getdata.py $file)\n    groupId=$(echo $data | cut -d' ' -f1)\n    artifactId=$(echo $data | cut -d' ' -f2)\n    version=$(echo $data | cut -d' ' -f3)\n\n    mvn deploy:deploy-file -DgroupId=$groupId -DartifactId=$artifactId -Dversion=$version -Dfile=$file -Durl=https://maven.pkg.github.com/$OWNER/$REPOSITORY\ndone\n</code></pre>\n<p>In this case 'OWNER' and 'REPOSITORY' are purposely empty.</p>\n<p>I already tried to use Actions secrets or Deploy keys but I don't really understand them and the documentation is not really explaining anything. When I tried these solution it failed with an 401 Unauthorized error code.</p>\n<p>The question is which credentials do I have to use? The documentation confuses me and I don't know if my approach is optimal. It would be really nice if someone could help me. Thanks in advance!</p>\n<h1>UPDATE</h1>\n<p>New workflow I tried:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>name: Maven Package\n\non: push\n\njobs:\n  publish-gpr:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      deployments: write\n      packages: write\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: '3.10'\n      - uses: actions/setup-java@v3\n        with:\n          java-version: '11'\n          distribution: 'adopt'\n      - name: Publish Package\n        run: |\n          chmod +x ./deploy.sh\n          ./deploy.sh\n        shell: bash\n        env:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n</code></pre>\n<p>And this is the error I always get:</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.7:deploy-file (default-cli) on project standalone-pom: Failed to deploy artifacts: Could not transfer artifact &lt;artifact&gt; from/to remote-repository (https://maven.pkg.github.com/&lt;repo-path&gt;): authentication failed for https://maven.pkg.github.com/&lt;repo-path&gt;/&lt;path-to-jar&gt;, status: 401 Unauthorized -&gt; [Help 1]\n</code></pre>\n"},{"comments":[{"comment_id":50154005,"body":"Why did you tag jdk1.6?"}],"last_activity_date":1684397751,"question_id":31066737,"body":"<p>we use openJDK 7 and it seems Oracle's tzupdater does not support it.</p>\n\n<pre><code>    # java -jar /tmp/tz/tzupdater.jar -u -v\n    java.home: /usr/lib/jvm/java-1.7.0-openjdk-1.7.0.9.x86_64/jre\n    java.vendor: Oracle Corporation\n    java.version: 1.7.0_09-icedtea\n    JRE time zone data version: tzdata2012c\n    Theres no tzdata available for this Java runtime.\n</code></pre>\n\n<p>from where can I download the tzupdater for openJDK?</p>\n"},{"comments":[{"comment_id":134442159,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"comment_id":134442970,"body":"Imagine a table which has 50 columns...i want to get data from 50 th column which is at extreme right... The problem is that 50 th column is NOT yet present in DOM....i will have to scroll to that column for it to appear in the DOM"}],"answers":[{"comments":[{"comment_id":134442548,"body":"Actually selenium first tries searching for the target element in DOM, and the script fails . The element appears in the DOM only after i scroll"},{"comment_id":134481582,"body":"Well what I sent you shouldn&#39;t fail if it is not in dome, because the <code>isPresent()</code> method returns a boolean value, for the condition check"},{"comment_id":134512818,"body":"finally i was able to achieve and run a successful code by using tab instead of scroll...."}],"answer_id":76236373,"body":"<pre><code>while ( !element(yourElement).isPresent()) {\n        js.executeScript(&quot;arguments[0].scrollLeft += 1000;&quot;, grid);\n    }\n</code></pre>\n<p>Before the code, you define the grid as a <code>WebElement</code> where to scroll</p>\n<p>You can experiment with the pixel (1000) number as well to see how much it scrolls. And yes, the command <code>arguments[0].scrollLeft</code> is to scroll right.</p>\n"},{"answer_id":76238978,"body":"<p>If &quot;selenium first tries searching for the target element in DOM, else script fails&quot; - Then Keep the java script executer in an 'IF' statement and not while.\nLike:\nIf (The element is not visible)\nperform java script executer</p>\n"}],"last_activity_date":1684397064,"question_id":76236078,"body":"<p>Using Java selenium....I have to scroll to an element which is present at extreme right side of the page,</p>\n<p>But the problem is this element appears in the DOM only after the scroll.</p>\n<p>Tried the below code...</p>\n<p>WebElement scrollElement = driver.findElement(By.xpath(&quot;some_xpath&quot;));\nList elements=driver.findElements(By.xpath(&quot;some_xpath&quot;));</p>\n<pre><code>for(WebElement el:elements)\n{\n    System.out.println(el.getText());                   \n    if(!el.getText().equalsIgnoreCase(&quot;element to be clicked&quot;) )\n    {\n        ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].scrollLeft += 1000;&quot;, scrollElement);\n        Thread.sleep(5000);\n        elements=driver.findElements(By.xpath(&quot;some xpath&quot;));\n        Thread.sleep(5000);\n    }\n    else\n    {\n        el.click();\n        Thread.sleep(5000);\n        break;\n    }\n\n}   \n</code></pre>\n<p>The problem with above code is.... it fetches all table headers in first loop, after scroll happens, the list of table headers gets updated (thats the reason why i assigned value to elements again) But still m getting stale element exception.</p>\n<p>scenario: imagine a table with 26 columns A to Z...</p>\n<p>I want to access &quot;T&quot; column,</p>\n<p>in first view...A to E columns are displayed and present in DOM</p>\n<p>then after scrolling E to J columns are displayed and present in DOM</p>\n<p>I have also reassigned elements again,</p>\n<p>so that it gets the list of elements after the scroll...</p>\n<p>but still m getting stale element exception...</p>\n<p><strong>Update:</strong>\nCode worked when I used TAB instead of scroll..</p>\n"},{"comments":[{"comment_id":92374034,"body":"What version of Apache Tomcat are you using? What other XML parsers are on your classpath?"},{"comment_id":92380891,"body":"This is likely caused by having an ancient XML parser on your classpath - eg <a href=\"https://www.eclipse.org/forums/index.php/t/781657/\" rel=\"nofollow noreferrer\">eclipse.org/forums/index.php/t/781657</a> - can you upgrade to xerces 2.12.0?"},{"comment_id":92392873,"body":"Thank you very much everyone! You are right, the problem was an XML parser (xalan) in my case, Tho, doesn&#39;t apache poi have its own xml parser?"},{"comment_id":92424320,"body":"Apache POI like most Java projects uses <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/xml/jaxp/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/xml/jaxp/&hellip;</a> - basically, it is up to the user to ensure they have their JVM set up correctly"},{"comment_id":95121471,"body":"see also: <a href=\"http://developerblogging.blogspot.com/2013/04/javalangabstractmethoderror.html\" rel=\"nofollow noreferrer\">developerblogging.blogspot.com/2013/04/&hellip;</a>"},{"comment_id":134030934,"body":"I resolved the same error exluding the xerces-impl library."}],"answers":[{"comments":[{"comment_id":103475427,"body":"All seems to be working now after reading this:<a href=\"http://developerblogging.blogspot.com/2013/04/javalangabstractmethoderror.html\" rel=\"nofollow noreferrer\">developerblogging.blogspot.com/2013/04/&hellip;</a>. If you will scroll down to the bottom.  So I added the above line to my eclipse.ini file.  Restarted and was finally able to run tomcat."}],"answer_id":58579705,"body":"<p>I ended up add this to the eclipse.ini file:\n-Djavax.xml.parsers.DocumentBuilderFactory=com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl</p>\n"},{"answer_id":76278864,"body":"<p>I was getting this abstract Method error due to Xerces Jar, it needed to be upgraded.\ni Excluded it from the dependency where it was a transitive dependency and added a latest version jar as a new dependency and it worked.</p>\n"}],"last_activity_date":1684397051,"question_id":52722815,"body":"<p>I have an application where I create excel files with <code>apache POI 3.17</code>\nI am having this error message from <code>apache POI</code> logs when I run the application in <code>Tomcat</code>. What does this mean and how can I resolve it?</p>\n"},{"last_activity_date":1684396840,"question_id":75922056,"body":"<p>I'm running a application in tomcat server. Users are reporting that the requests are taking too much time. But I tested all the APIs. They seems to be faster. Network may consume the time. How can I find the network latency of each requests in my application using java instrumentation.</p>\n<p>I am able to capture the http requests. In that is there an option to find the request initiated time from the user.</p>\n"},{"comments":[{"comment_id":110297289,"body":"The two predicates are the same. There second one will never match. You have to differentiate between them. Either by path or host or header or something"},{"comment_id":110297313,"body":"You have it in your rewrite filter. Change the paths to /auth/** and /api/**"},{"comment_id":110297597,"body":"@spencergibb could you make a comment in order for me to accept it as this solved my issue?"}],"answers":[{"answer_id":76278841,"body":"<p>Both the routes having same predicate path, while request delegation spring cloud gate way first looks at predicate path do the further steps. Change the predicate path.</p>\n"}],"last_activity_date":1684396779,"question_id":62364399,"body":"<p>I have an application in which I want to hide my auth server and my base api behind a gateway. Creating route to one or the other works just fine, but if I try to create two routes the second one does not work and I get error 404. This behavior is seen no matter which route is first and which is second. Rewriting it as a Bean in Java has the same effect.</p>\n\n<p>Here is my actual configuration:</p>\n\n<pre><code>spring:\n  application:\n    name: gateway-service\n  cloud:\n    gateway:\n      routes:\n        #  Authentication server\n        - id: auth-server\n          uri: lb://auth-server\n          predicates:\n            - Path=/**\n          filters:\n            - RewritePath=/auth(?&lt;segment&gt;.*), /$\\{segment}\n        #  Base API\n        - id: base-api\n          uri: lb://sharedtravel-api\n          predicates:\n            - Path=/**\n          filters:\n            - RewritePath=/api(?&lt;segment&gt;.*), /$\\{segment}\n</code></pre>\n"},{"comments":[{"comment_id":134546052,"body":"Thanks for the interesting question and the code you posted. Unfortunately, the information given does not enable me to reproduce your multi-module situation. An <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> on GitHub would be helpful. One general hint: If you want your aspect library to be effective in other modules, you need to add aspect weaving to those modules, too. Just adding a dependency will not be enough. An alternative would be load-time weaving."},{"comment_id":134568703,"body":"Thank you for your comment -- I&#39;ve tried adding the <code>post-compile-weaving</code> plugin to the other gradle modules in the project, however this does not seem to have made any difference. Perhaps I will play around with load time weaving and see if I can get that to work"}],"last_activity_date":1684396727,"question_id":76278831,"body":"<p>I have created an annotation and an aspect in a multi module gradle project. My annotation works if I apply it to a test that lives in the same module as the aspect and annotation, but the aspect is <em>not</em> invoked if I try to use it in a different module of the same project. It is also not invoked if I try to pull my module in as a dependency for a different project and use the annotation there.</p>\n<p>My annotation <code>@MyAnnotation</code> is a class level annotation that looks like this</p>\n<pre><code>@Target({ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n}\n</code></pre>\n<p>My aspect looks like this</p>\n<pre><code>@Aspect\npublic class MyAnnotationAspect {\n    @Before(value = &quot;@annotation(MyAnnotation)&quot;)\n    public void myPointCut(JoinPoint joinPoint) {\n        // ...\n    }\n}\n</code></pre>\n<p>My module's <code>build.gradle</code> looks like this</p>\n<pre><code>plugins {\n    id &quot;io.freefair.aspectj.post-compile-weaving&quot; version &quot;8.0.1&quot;\n}\n\ndependencies {\n    implementation 'org.aspectj:aspectjrt:1.9.19'\n    implementation 'org.aspectj:aspectjweaver:1.9.19'\n    implementation &quot;org.assertj:assertj-core:${assertJVersion}&quot;\n}\n\ncompileTestJava.ajc.options.aspectpath.from sourceSets.main.output\n</code></pre>\n<p>I suspect that aspectj's post compile weaving is not happening when I use the annotation outside this module, but it's not clear to me how I can enable this behaviour?</p>\n"},{"comments":[{"comment_id":134529419,"body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a>"}],"last_activity_date":1684396442,"question_id":76278745,"body":"<p>I used GridBagLayout to build a frame for my Swing Student form. This is my code:</p>\n<pre><code>package layout;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\n\npublic class Student extends JFrame implements ActionListener {\n    private JPanel panel;\n\n    private JLabel titleLabel, nameLabel, ageLabel, addressLabel, genderLabel, courseLabel, timeslotLabel;\n\n    private JTextField nameField, ageField;\n\n    private JTextArea addressArea;\n\n    private JRadioButton maleRadioButton, femaleRadioButton;\n\n    private JComboBox coursesComboBox;\n\n    public Student() {\n        setTitle(&quot;ÄÄƒng kÃ½&quot;);\n        setSize(500, 600);\n        setResizable(false);\n\n        titleLabel = new JLabel(&quot;ThÃ´ng tin sinh viÃªn&quot;);\n        titleLabel.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 18));\n        titleLabel.setHorizontalAlignment(SwingConstants.CENTER);\n\n        nameLabel = new JLabel(&quot;Há» vÃ  tÃªn&quot;);\n        nameField = new JTextField(30);\n\n        ageLabel = new JLabel(&quot;Tuá»•i&quot;);\n        ageField = new JTextField(30);\n\n        addressLabel = new JLabel(&quot;Äá»‹a chá»‰&quot;);\n        addressArea = new JTextArea(3, 20);\n        addressArea.setLineWrap(true);\n        addressArea.setWrapStyleWord(true);\n\n        JScrollPane scrollPane = new JScrollPane(addressArea);\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n\n        genderLabel = new JLabel(&quot;Giá»›i tÃ­nh&quot;);\n        maleRadioButton = new JRadioButton(&quot;Nam&quot;);\n        femaleRadioButton = new JRadioButton(&quot;Ná»¯&quot;);\n        ButtonGroup genderGroup = new ButtonGroup();\n        genderGroup.add(maleRadioButton);\n        genderGroup.add(femaleRadioButton);\n\n        courseLabel = new JLabel(&quot;KhÃ³a há»c&quot;);\n        String[] courses = {&quot;Web Application Developer&quot;, &quot;Database Administrator&quot;, &quot;Network Administrator&quot;, &quot;Windows Application Developer&quot;};\n        coursesComboBox = new JComboBox&lt;&gt;(courses);\n\n        panel = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.insets = new Insets(10, 10, 10, 10);\n\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.gridwidth = 3;\n        panel.add(titleLabel, gbc);\n\n        gbc.gridwidth = 1;\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        panel.add(nameLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 1;\n        gbc.gridwidth = 2;\n        panel.add(nameField, gbc);\n\n        gbc.gridwidth = 1;\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        panel.add(ageLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 2;\n        gbc.gridwidth = 2;\n        panel.add(ageField, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 3;\n        panel.add(addressLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 3;\n        gbc.gridwidth = 2;\n        panel.add(scrollPane, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 4;\n        panel.add(genderLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 4;\n        panel.add(maleRadioButton, gbc);\n\n        gbc.gridx = 2;\n        gbc.gridy = 4;\n        panel.add(femaleRadioButton, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy = 5;\n        gbc.gridwidth = 1;\n        panel.add(courseLabel, gbc);\n\n        gbc.gridx = 1;\n        gbc.gridy = 5;\n        gbc.gridwidth = 2;\n        panel.add(coursesComboBox, gbc);\n\n        add(panel);\n\n        setVisible(true);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n    }\n\n    public static void main(String[] args) {\n        new Student();\n    }\n}\n</code></pre>\n<p>And the result:</p>\n<p><img src=\"https://i.stack.imgur.com/mrEbW.png\" alt=\"enter image description here\" /></p>\n<p>I do not understand why the femaleRadioButton is lost.\nBut when I set <code>gbc.width = 1</code> instead of <code>gbc.width = 2</code> for scrollPane, the femaleRadioButton will appear.\nWhy is this?</p>\n"},{"comments":[{"comment_id":134512970,"body":"I found a solution on this pageï¼š <a href=\"https://stackoverflow.com/questions/54294843/plus-sign-not-encoded-with-resttemplate-using-string-url-but-interpreted\" title=\"plus sign not encoded with resttemplate using string url but interpreted\">stackoverflow.com/questions/54294843/&hellip;</a>"}],"last_activity_date":1684396221,"question_id":76278783,"body":"<p>I am currently using RestTemplate to make requests to the Twitter Web API. Here is the code (partial omission):</p>\n<pre><code>String url = &quot;https://twitter.com/i/api/graphql/WzJjibAcDa-oCjCcLOotcg/UserTweets&quot;;\nUriComponentsBuilder uriBuilder = UriComponentsBuilder.fromHttpUrl(url);\n\n                if (StringUtils.isNotBlank(cursor)) {\n                    uriBuilder.queryParam(&quot;variables&quot;, &quot;{\\&quot;userId\\&quot;:\\&quot;&quot; + userId + &quot;\\&quot;,\\&quot;count\\&quot;:40,\\&quot;cursor\\&quot;:\\&quot;&quot; + cursor + &quot;\\&quot;,\\&quot;includePromotedContent\\&quot;:true,\\&quot;withQuickPromoteEligibilityTweetFields\\&quot;:true,\\&quot;withVoice\\&quot;:true,\\&quot;withV2Timeline\\&quot;:true}&quot;);\n                } else {\n                    uriBuilder.queryParam(&quot;variables&quot;, &quot;{\\&quot;userId\\&quot;:\\&quot;&quot; + userId + &quot;\\&quot;,\\&quot;count\\&quot;:40,\\&quot;includePromotedContent\\&quot;:true,\\&quot;withQuickPromoteEligibilityTweetFields\\&quot;:true,\\&quot;withVoice\\&quot;:true,\\&quot;withV2Timeline\\&quot;:true}&quot;);\n                }\n                uriBuilder.queryParam(&quot;features&quot;, &quot;{\\&quot;rweb_lists_timeline_redesign_enabled\\&quot;:false,\\&quot;blue_business_profile_image_shape_enabled\\&quot;:true,\\&quot;responsive_web_graphql_exclude_directive_enabled\\&quot;:true,\\&quot;verified_phone_label_enabled\\&quot;:false,\\&quot;creator_subscriptions_tweet_preview_api_enabled\\&quot;:true,\\&quot;responsive_web_graphql_timeline_navigation_enabled\\&quot;:true,\\&quot;responsive_web_graphql_skip_user_profile_image_extensions_enabled\\&quot;:false,\\&quot;tweetypie_unmention_optimization_enabled\\&quot;:true,\\&quot;vibe_api_enabled\\&quot;:true,\\&quot;responsive_web_edit_tweet_api_enabled\\&quot;:true,\\&quot;graphql_is_translatable_rweb_tweet_is_translatable_enabled\\&quot;:true,\\&quot;view_counts_everywhere_api_enabled\\&quot;:true,\\&quot;longform_notetweets_consumption_enabled\\&quot;:true,\\&quot;tweet_awards_web_tipping_enabled\\&quot;:false,\\&quot;freedom_of_speech_not_reach_fetch_enabled\\&quot;:true,\\&quot;standardized_nudges_misinfo\\&quot;:true,\\&quot;tweet_with_visibility_results_prefer_gql_limited_actions_policy_enabled\\&quot;:false,\\&quot;interactive_text_enabled\\&quot;:true,\\&quot;responsive_web_text_conversations_enabled\\&quot;:false,\\&quot;longform_notetweets_rich_text_read_enabled\\&quot;:true,\\&quot;longform_notetweets_inline_media_enabled\\&quot;:false,\\&quot;responsive_web_enhance_cards_enabled\\&quot;:false}&quot;);\n\nURI finalUrl = uriBuilder.build().encode().toUri();\nHttpEntity&lt;?&gt; requestEntity = new HttpEntity&lt;&gt;(headers);\n                ResponseEntity&lt;String&gt; finalResponse = restTemplate.exchange(finalUrl, HttpMethod.GET, requestEntity, String.class);\n</code></pre>\n<p>However, I found that when the cursor parameter contains the characters '+' or '/', my pagination requests fail, and it returns the content of the first page. I have tried encoding the '+' or '/' characters in advance, but it still doesn't work.</p>\n<p>The version of RestTemplate is spring-web:5.1.7.RELEASE</p>\n"},{"last_activity_date":1684396168,"question_id":76278776,"body":"<p><a href=\"https://i.stack.imgur.com/h5vGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h5vGG.png\" alt=\"enter image description here\" /></a></p>\n<p>Whenever I create a new project I always have the same problem with the version of the <code>Gradle JDK</code>.</p>\n<p>I would like to set for all new projects as <code>Gradle JDK</code> version <code>jbr-17</code>.</p>\n<p>Can you give me a hand?</p>\n"},{"last_activity_date":1684395686,"question_id":76225714,"body":"<p>I am using pushy for sending notification in my android app but there is a problem with that, if the mobile is in battery optimization mode, pushy will not be able to send the notifications.\nBut using firebase you can still receive notifications even if your phone is on battery optimization (As far as I tested),</p>\n<p>But the problem here is, that firebase uses play services in order to send notifications, and I don't wanna use play services, Is there any other solution that can be used to push notifications without play services that also handles the battery optimization problem.</p>\n<p>I have tried using hivemq that uses MQtt to send messages but wasn't able to work around with this cuz we still have to create a service to keep the connection alive but on battery optimization mode services are killed, hope you guys can suggest better solutions.</p>\n"},{"answers":[{"answer_id":76278661,"body":"<p>With the below <strong>java</strong> code, I am able to get the number of messages on an Azure service bus queue in <strong>Java 8</strong>.</p>\n<p>I created a new <strong>java, maven</strong> project with <strong>java 8</strong> in my environment as below:-</p>\n<p><img src=\"https://i.imgur.com/Di58yPm.png\" alt=\"enter image description here\" /></p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.microsoft.azure.AzureEnvironment;\nimport com.microsoft.azure.credentials.ApplicationTokenCredentials;\nimport com.microsoft.azure.management.Azure;\nimport com.microsoft.azure.management.servicebus.Queue;\nimport com.microsoft.azure.management.servicebus.ServiceBusNamespace;\nimport com.microsoft.rest.LogLevel;\n\npublic class ServiceBusQueueExample {\n    public static void main(String[] args) throws Exception {\n        String clientId = &quot;&lt;your_client_id&gt;&quot;;\n        String domain = &quot;&lt;your-tenant_id&gt;&quot;;\n        String secret = &quot;&lt;&gt;your_client_secret&gt;&quot;;\n        String subscriptionId = &quot;&lt;your_subscription_id&gt;&quot;;\n        String resourceGroupName = &quot;your_resource_group_name&quot;;\n        String namespaceName = &quot;&lt;your_servicebus_name&gt;&quot;;\n        String queueName = &quot;&lt;your_queue_name&gt;&quot;;\n\n        ApplicationTokenCredentials credentials = new ApplicationTokenCredentials(clientId, domain, secret, AzureEnvironment.AZURE);\n        Azure azure = Azure.configure().withLogLevel(LogLevel.NONE).authenticate(credentials).withSubscription(subscriptionId);\n\n        ServiceBusNamespace serviceBusNamespace = azure.serviceBusNamespaces().getByResourceGroup(resourceGroupName, namespaceName);\n        Queue queue = serviceBusNamespace.queues().getByName(queueName);\n        long messageCount = queue.inner().messageCount();\n\n        System.out.println(&quot;Message count: &quot; + messageCount);\n    }\n}\n</code></pre>\n<p><strong>Dependencies:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;dependencies&gt;\n     &lt;dependency&gt;\n          &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n          &lt;artifactId&gt;azure&lt;/artifactId&gt;\n          &lt;version&gt;1.41.4&lt;/version&gt;\n     &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Make sure to assign <strong>role assignment</strong> for the <strong>client application</strong> as <strong>owner</strong> ,</p>\n<p><img src=\"https://i.imgur.com/Bhz1ccR.png\" alt=\"enter image description here\" /></p>\n<p>In the Azure portal, <strong>I have 10 messages in my ServiceBus Queue</strong> as below:-</p>\n<p><img src=\"https://i.imgur.com/G6ziycr.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>It ran successfully and gave the number of messages count on an Azure service bus queue. Refer below:-</strong></em></p>\n<p><strong>Output:</strong><br />\n<img src=\"https://i.imgur.com/Z23n9r9.png\" alt=\"enter image description here\" /></p>\n<p><strong>Reference:</strong><br />\nCheck this <a href=\"https://learn.microsoft.com/en-us/azure/service-bus-messaging/service-bus-java-how-to-use-queues?tabs=passwordless\" rel=\"nofollow noreferrer\">MS Doc</a> to know more about sending messages to Azure Service Bus.</p>\n"}],"last_activity_date":1684395190,"question_id":76273015,"body":"<p>I want to get the number of messages on an Azure servicebus queue in Java 8. I tried a couple of things but when I want to import these libraries, my Maven can't find the right libarys(jar) like it seems:</p>\n<pre><code>import com.microsoft.azure.credentials.ApplicationTokenCredentials;\nimport com.microsoft.azure.management.Azure;\nimport com.microsoft.azure.management.servicebus.Queue;\nimport com.microsoft.azure.management.servicebus.ServiceBusNamespace;\nimport com.microsoft.rest.LogLevel;\n</code></pre>\n<p>What library I need and do you have a helloWorld example to get the number of messages on a queue with Java ?</p>\n<p>Untill now I have this, but my import all gives errors:</p>\n<pre><code>ApplicationTokenCredentials credentials = new ApplicationTokenCredentials(clientId, domain, secret, AzureEnvironment.AZURE);\nAzure azure = Azure.configure().withLogLevel(LogLevel.NONE).authenticate(credentials).withSubscription(subscriptionId);\n\nServiceBusNamespace serviceBusNamespace = azure.serviceBusNamespaces().getByResourceGroup(resourceGroupName, namespaceName);\nQueue queue = serviceBusNamespace.queues().getByName(queueName);\nint messageCount = queue.inner().messageCount();\n\nSystem.out.println(&quot;Message count: &quot; + messageCount);\n</code></pre>\n<p>Anyway is this code ok ?</p>\n"},{"comments":[{"comment_id":134512619,"body":"It does: <a href=\"https://github.com/openjdk/jdk/blob/3c9ec26370dfae5d1230b6b69ae26122fe42e51d/src/java.base/share/classes/java/util/ArrayDeque.java#L416\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>. Looks like it just doesn&#39;t directly show up in the Javadoc because those methods have no Javadoc comments in the source code. That typically means the documentation from the superclass/interface sufficiently documents the behavior (you can see the methods exist under &quot;Methods declared in interface java.util.Deque&quot;)."},{"comment_id":134516490,"body":"Thanks for educating me,just confirmed the same through my Eclipse IDE."}],"last_activity_date":1684395187,"question_id":76278660,"body":"<p>Why Does ArrayDeque class doesnot provide implementation of the following abstract methods declared in deque Interface? - descendingIterator, peekFirst, peekLast, pollFirst, pollLast .</p>\n<p>As per the best of my knowledge if a class implements an Interface it has to provide implementation of all the abstract methods of that Interface otherwise the class is declared as abstract class.</p>\n<p>Reference(Link) : <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayDeque.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayDeque.html</a></p>\n"},{"answers":[{"answer_id":76278591,"body":"<p>Please use the code block below.</p>\n<pre><code>static {\n    System.setProperty(&quot;com.sun.org.apache.xml.internal.security.ignoreLineBreaks&quot;, &quot;true&quot;);\n}\n</code></pre>\n"}],"last_activity_date":1684395178,"question_id":76261128,"body":"<p>I created digital signature using java with</p>\n<pre><code>XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\n</code></pre>\n<p>When whole process completed output xml include <code>&amp;#13;</code> in signature\nWhen checking this issue, it happened for line breaks. I removed it using the replace method. But when It check it gives error <code>Verifying the digest value for the 1. Reference failed</code></p>\n<p>I tried created signature create using below code</p>\n<pre><code>private String generateEbXml() throws Exception {\n        // Create a DOM XMLSignatureFactory that will be used to generate the enveloped signature.\n        XMLSignatureFactory xmlSignatureFactory = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\n\n        List&lt;Reference&gt; references = new ArrayList&lt;&gt;();\n\n        DigestMethod digestMethod = xmlSignatureFactory.newDigestMethod(DigestMethod.SHA1, null);\n\n        List&lt;Transform&gt; transforms = new LinkedList&lt;&gt;();\n        Transform envelopedTransform = xmlSignatureFactory.newTransform(CanonicalizationMethod.ENVELOPED,\n                                                                        (TransformParameterSpec) null);\n        transforms.add(envelopedTransform);\n\n        String xpathExpr = &quot;not(ancestor-or-self::eb:TraceHeaderList or ancestor-or-self::eb:Via)&quot;;\n\n        XPathFilterParameterSpec xpathSpec = new XPathFilterParameterSpec(xpathExpr);\n\n        Transform xpathTransform = xmlSignatureFactory.newTransform(CanonicalizationMethod.XPATH, xpathSpec);\n        transforms.add(xpathTransform);\n\n        Transform inclusiveTransform = xmlSignatureFactory.newTransform(CanonicalizationMethod.INCLUSIVE,\n                                                                        (TransformParameterSpec) null);\n        transforms.add(inclusiveTransform);\n\n        Reference wholeDocumentReference = xmlSignatureFactory\n            .newReference(&quot;&quot;, digestMethod, transforms, null, null);\n\n        String content = new String(Files.readAllBytes(Paths.get(resourceFileLocation.concat(&quot;ase2.xml&quot;))));\n\n        MessageDigest sha1 = MessageDigest.getInstance(&quot;SHA-1&quot;);\n        byte[] hash = sha1.digest(content.getBytes());\n\n        Reference aseXmlreference = xmlSignatureFactory\n            .newReference(&quot;cid:aseXML&quot;, digestMethod, null, null, null, hash);\n\n        references.add(wholeDocumentReference);\n        references.add(aseXmlreference);\n\n        // Create the SignedInfo\n        SignedInfo signedInfo = xmlSignatureFactory\n            .newSignedInfo(xmlSignatureFactory\n                               .newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE,\n                                                          (C14NMethodParameterSpec) null),\n                           xmlSignatureFactory\n                               .newSignatureMethod(SignatureMethod.RSA_SHA1, null), references);\n\n        // Load the KeyStore and get the signing key and certificate.\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        //keyStore.load(new FileInputStream(&quot;keyStore.p12&quot;), &quot;123456&quot;.toCharArray());\n        keyStore.load(keyStoreFile.getInputStream(), keyStorePassword.toCharArray());\n\n        KeyStore.PrivateKeyEntry keyEntry =\n            (KeyStore.PrivateKeyEntry) keyStore.getEntry\n                (keyStoreAlias, new KeyStore.PasswordProtection(keyStorePassword.toCharArray()));\n\n        X509Certificate x509Certificate = (X509Certificate) keyEntry.getCertificate();\n\n        // Create the KeyInfo containing the X509Data.\n        KeyInfoFactory keyInfoFactory = xmlSignatureFactory.getKeyInfoFactory();\n        List x509Content = new ArrayList();\n        x509Content.add(x509Certificate.getSubjectX500Principal().getName());\n        x509Content.add(x509Certificate);\n        X509Data x509Data = keyInfoFactory.newX509Data(x509Content);\n\n        List&lt;XMLStructure&gt; keyInfoList = new ArrayList&lt;&gt;();\n        PublicKey publicKey = keyEntry.getCertificate().getPublicKey();\n\n        KeyValue keyValue = keyInfoFactory.newKeyValue(publicKey);\n        keyInfoList.add(keyValue);\n        keyInfoList.add(x509Data);\n\n        KeyInfo keyInfo = keyInfoFactory.newKeyInfo(keyInfoList);\n\n        // Instantiate the document to be signed.\n        DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\n        // process XML securely, avoid attacks like XML External Entities (XXE)\n        documentBuilderFactory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n        documentBuilderFactory.setNamespaceAware(true);\n\n        Resource resource = new FileSystemResource(resourceFileLocation.concat(&quot;ebxml_without_sign_new.xml&quot;));\n        Document document = documentBuilderFactory.newDocumentBuilder().parse(resource.getFile());\n\n        // Create a DOMSignContext and specify the RSA PrivateKey and\n        // location of the resulting XMLSignature's header element.\n        DOMSignContext domSignContext = new DOMSignContext(keyEntry.getPrivateKey(), document.getDocumentElement().getFirstChild());\n\n        // Create the XMLSignature, but don't sign it yet.\n        XMLSignature xmlSignature = xmlSignatureFactory.newXMLSignature(signedInfo, keyInfo, null, &quot;WmEbXML-Signature-54cl6h00gi08isbf003ient2&quot;, null);\n\n        domSignContext.setURIDereferencer(new EmptyURIDereferencer(document));\n\n        // Marshal, generate, and sign the enveloped signature.\n        xmlSignature.sign(domSignContext);\n\n        DOMImplementationLS domImplementationLS = (DOMImplementationLS) document.getImplementation();\n\n        LSSerializer lsSerializer = domImplementationLS.createLSSerializer();\n        LSOutput lsOutput = domImplementationLS.createLSOutput();\n        lsOutput.setEncoding(&quot;UTF-8&quot;);\n\n        Writer stringWriter = new StringWriter();\n        lsOutput.setCharacterStream(stringWriter);\n        lsSerializer.write(document, lsOutput);\n        String ebxmlContent = stringWriter.toString();\n\n        return ebxmlContent;\n    }\n</code></pre>\n<p>I tried below code for remove above menction <code>&amp;#13;</code></p>\n<pre><code>        Field f = XMLUtils.class.getDeclaredField(&quot;ignoreLineBreaks&quot;);\n        f.setAccessible(true);\n        f.set(null, Boolean.TRUE);\n</code></pre>\n<p>But nothing helped me.</p>\n<p>output xml like below</p>\n<pre><code>&lt;Signature\n                xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;WmEbXML-Signature-54cl6h00gi08isbf003ient2&quot;&gt;\n                &lt;SignedInfo&gt;\n                    &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;\n                    &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;\n                    &lt;Reference URI=&quot;&quot;&gt;\n                        &lt;Transforms&gt;\n                            &lt;Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\n                            &lt;Transform Algorithm=&quot;http://www.w3.org/TR/1999/REC-xpath-19991116&quot;&gt;\n                                &lt;XPath&gt;not(ancestor-or-self::eb:TraceHeaderList or ancestor-or-self::eb:Via)&lt;/XPath&gt;\n                            &lt;/Transform&gt;\n                            &lt;Transform Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;\n                        &lt;/Transforms&gt;\n                        &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\n                        &lt;DigestValue&gt;2jmj7l5rSw0yVb/vlWAYkK/YBwk=&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                    &lt;Reference URI=&quot;cid:aseXML&quot;&gt;\n                        &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\n                        &lt;DigestValue&gt;+VwuE6JsSHeCXWC+DPxgjVeJW3s=&lt;/DigestValue&gt;\n                    &lt;/Reference&gt;\n                &lt;/SignedInfo&gt;\n                &lt;SignatureValue&gt;aC8ktJUPln/upPXzh1bKOwixJR7MzCPR/fti/Y51hHBGXTH+9YYbfjDYPDoujUwBMPFYiYvW8mwy&amp;#13;\nSK8hw033Jo2FsG5MzTnLkDWL/iLA48RBADeP0RLh5a4w2bm/6afxBejKPyZsMQI6xZVjYfYhHN66&amp;#13;\no873Ut66NA67QYrO3bQ3Pmf6OQZYrghDfYdDcR+UMkBclzUnl7hLe2zk2FUg8ciUghe+mAQTrodr&amp;#13;\nqfZkGRUuZuk4ApoYuHfTuCVVPuFumnK0cxGpZ+t8F+veuRi8fDmDuj00xtekos0RvveHkXDJV86f&amp;#13;\n5e3qbF5dFoCT2wAPrI176yZmM2Tj3kU1zxqnDQ==&lt;/SignatureValue&gt;\n                &lt;KeyInfo&gt;\n                    &lt;KeyValue&gt;\n                        &lt;RSAKeyValue&gt;\n                            &lt;Modulus&gt;tEwpS7E66OGOtjRmxF/n2WhRtSG4fX1plZWOMC6muIQKRmNeZ4R1rIhWN9/ApIvnU2s3ydV6EuYx&amp;#13;\nXwgg6Dj+rFqLyD4ad5kpe4iValJw6+iUgNsdPXeX4nyzSyjrYwqXBWcJ1PySuVjN4fGI20M/9UBN&amp;#13;\n6p35N/7SQhkrx9Hrj+y/sIZj33SDLrqw79HeoTbah1aL8V4Ah02tYQi20qRAsyM1dz3czuzCdvA2&amp;#13;\nflQFlWJsX0NEFFyDfbOEQk6ZbeWYdbSHxYvEjWy0A0EQ2bfBog0A/ulVCMY8VFHVohcVi6+jwmHq&amp;#13;\n6rFezTKnDeCaY9fL9/1n07CjEOzDvYJp5FlfSw==&lt;/Modulus&gt;\n                            &lt;Exponent&gt;AQAB&lt;/Exponent&gt;\n                        &lt;/RSAKeyValue&gt;\n                    &lt;/KeyValue&gt;\n                    &lt;X509Data&gt;\n                        &lt;X509SubjectName&gt;XXX&lt;/X509SubjectName&gt;\n                        &lt;X509Certificate&gt;MIIFAzCCA+ugAwIBAgIQD8BrY2+s1N8STrkTMhU63zANBgkqhkiG9w0BAQsFADBcMQswCQYDVQQG&amp;#13;\nEwJBVTEyMDAGA1UEChMpQXVzdHJhbGlhbiBFbmVyZ3kgTWFya2V0IE9wZXJhdG9yIExpbWl0ZWQx&amp;#13;\nGTAXBgNVBAMTEEFFTU8tSUNBLVRFU1QgRzEwHhcNMjMwMjE3MDAwMDAwWhcNMjYwMjE1MjM1OTU5&amp;#13;\nWjBbMQswCQYDVQQGEwJBVTERMA8GA1UECBMIVmljdG9yaWExEjAQBgNVBAcTCU1lbGJvdXJuZTEN&amp;#13;\nMAsGA1UEChMEQUVNTzEWMBQGA1UEAxMNU1VNTzItUHJlUHJvZDCCASIwDQYJKoZIhvcNAQEBBQAD&amp;#13;\nggEPADCCAQoCggEBALRMKUuxOujhjrY0ZsRf59loUbUhuH19aZWVjjAupriECkZjXmeEdayIVjff&amp;#13;\nwKSL51NrN8nVehLmMV8IIOg4/qxai8g+GneZKXuIlWpScOvolIDbHT13l+J8s0so62MKlwVnCdT8&amp;#13;\nkrlYzeHxiNtDP/VATeqd+Tf+0kIZK8fR64/sv7CGY990gy66sO/R3qE22odWi/FeAIdNrWEIttKk&amp;#13;\nQLMjNXc93M7swnbwNn5UBZVibF9DRBRcg32zhEJOmW3lmHW0h8WLxI1stANBENm3waINAP7pVQjG&amp;#13;\nPFRR1aIXFYuvo8Jh6uqxXs0ypw3gmmPXy/f9Z9OwoxDsw72CaeRZX0sCAwEAAaOCAcAwggG8MB8G&amp;#13;\nA1UdIwQYMBaAFLObeJREzHBITOulhDEDmNo2+ssEMB0GA1UdDgQWBBTYcw2iSBrmnKmkVG6hk2Jv&amp;#13;\nCVaOUzAYBgNVHREEETAPgg1TVU1PMi1QcmVQcm9kMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAU&amp;#13;\nBggrBgEFBQcDAQYIKwYBBQUHAwIwbQYDVR0fBGYwZDAwoC6gLIYqaHR0cDovL2NybDMuZGlnaWNl&amp;#13;\ncnQuY29tL0FFTU9JQ0FURVNURzEuY3JsMDCgLqAshipodHRwOi8vY3JsNC5kaWdpY2VydC5jb20v&amp;#13;\nQUVNT0lDQVRFU1RHMS5jcmwwQQYDVR0gBDowODA2BglghkgBhv1sAQEwKTAnBggrBgEFBQcCARYb&amp;#13;\naHR0cDovL3d3dy5kaWdpY2VydC5jb20vQ1BTMHEGCCsGAQUFBwEBBGUwYzAkBggrBgEFBQcwAYYY&amp;#13;\naHR0cDovL29jc3AuZGlnaWNlcnQuY29tMDsGCCsGAQUFBzAChi9odHRwOi8vY2FjZXJ0cy5kaWdp&amp;#13;\nY2VydC5jb20vQUVNTy1JQ0EtVEVTVEcxLmNydDAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBCwUA&amp;#13;\nA4IBAQCrrec8+7laWuMzxvmws/80dtdVKmwTTF/qXFy3k3ONDNqcfQteXjKxH83VFxi9rgKSt07H&amp;#13;\nG2HWzUnOzK4WSJ4Lwr/Af01Ycxy5zblSzfl/9A0yjgyX9rxFnRYtLYr8EqMXt18N1jdd+YH9L0P8&amp;#13;\nj+SKfdzm5C1tLTlWV2fKppaE2xjmYw3Bj4g8xG+bhaNR/sFXzp2NApovBjdsfh2BjBw1gXDdSKjh&amp;#13;\n8OE2/zEW7RcilwjDw8+8vJAEs1XQnc9zU1OiheWSdAjPXhxTtlGmcwKBqo8Gi75rTd2wxk747oIi&amp;#13;\nSKBjCVsLgdKu12RZGDmvH4vr3a/9P6VkyrHVuM5DGaFC&lt;/X509Certificate&gt;\n                    &lt;/X509Data&gt;\n                &lt;/KeyInfo&gt;\n            &lt;/Signature&gt;\n</code></pre>\n"},{"last_activity_date":1684395117,"question_id":76214144,"body":"<p>I'm currently working on a project where I need to generate an HL7 RSP^K11^RSP_K11 message using the HAPI HL7 2.3 Library in Java. I've been trying to figure out how to do this, but I'm having trouble due to the lack of PID segment or PATIENT group in the RSP_K11_ROW_DEFINITION group of the RSP_K11 message structure as per the JavaDoc.</p>\n<p>Here's what I understand about the RSP_K11 message structure:</p>\n<p>The RSP_K11_ROW_DEFINITION group contains RDF (Table Row Definition) and RDT (Table Row Data) segments.\nThere doesn't seem to be a place to include patient demographic data in this message structure, like there is in other message types (using the PID segment or PATIENT group).</p>\n<p>So, I'm a bit stuck on how to represent the patient data in this message type. One idea I had was to use the RDT segments to return the patient data, with each RDT representing one patient. But I'm not sure if that's a good approach, or even if it's feasible.</p>\n<p>How do I include patient demographic data in the RSP^K11^RSP_K11 message type in HAPI HL7 2.3?</p>\n"},{"comments":[{"comment_id":115494299,"body":"can you set the following property in your application.yml? It will show you more details when you hit the <code>&#47;health</code> which might make it easier to understand why it is returning &quot;UNKNOWN&quot;.   <code>management.endpoint.health.show-details: &quot;ALWAYS&quot;</code>"},{"comment_id":115510154,"body":"Great idea! Let me try right away"},{"comment_id":115510168,"body":"Still &quot;UNKNOWN&quot;, even with management.endpoint.health.show-details: &quot;ALWAYS&quot; :&#39;("}],"answers":[{"answer_id":73483725,"body":"<p>In order to use actuator along with resilience 4j please use the configuration mentioned below.</p>\n<p>Make sure to add your service name and it works perfectly.</p>\n<pre><code>resilience4j.retry.instances.customerService.max-attempts: 3\nresilience4j.retry.instances.customerService.wait-duration: 5s\nmanagement.endpoint.health.show-details: &quot;ALWAYS&quot;        \nmanagement.health.circuitbreakers.enabled: false \nmanagement.health.ratelimiters.enabled: true\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator: true\n</code></pre>\n"},{"answer_id":73483945,"body":"<p>Circuit breaker showing status unknown because you are missing one of the required properties in application.properties file.</p>\n<p>You should add below property:</p>\n<pre><code>resilience4j.circuitbreaker.instances.{App Name}.registerHealthIndicator = true\n</code></pre>\n<p>Also check below properties:</p>\n<pre><code>management.endpoint.health.show-details: &quot;ALWAYS&quot;        \nmanagement.health.circuitbreakers.enabled: false \nmanagement.health.ratelimiters.enabled: true\nresilience4j.circuitbreaker.configs.default.registerHealthIndicator: true\n</code></pre>\n"},{"answer_id":76278638,"body":"<p>UNKNOW is also a kind of state of CircuitBreaker, which means half-open state. A closed CircuitBreaker state is mapped to UP, an open state to DOWN and a half-open state to UNKNOWN. You can see explain <a href=\"https://resilience4j.readme.io/docs/getting-started-3#health-endpoint\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"last_activity_date":1684394932,"question_id":65323185,"body":"<p>I have a Spring Boot 2.6.0-M1 project with Jubilee (But issue can be reproduced since 2.4).\nIn my project, I am using Actuator, Spring cloud Kubernetes, and Resilience4J (not Spring Cloud Circuit breaker)</p>\n<p>Very happy about this combination. Resilience4J is working fine, the circuit breaker goes into open states etc. Kubernetes detect the config maps, etc... Very happy.</p>\n<p>However, on a actuator health endpoint, I am seeing this :</p>\n<p><code>&quot;circuitBreakers&quot;:{&quot;status&quot;:&quot;UNKNOWN&quot;}</code></p>\n<p>And checked my configuration, <code>management.health.circuitbreakers.enabled: true</code></p>\n<p>How do I get the correct status, and not this &quot;UNKNOWN&quot; please?</p>\n<p>Thank you</p>\n"},{"comments":[{"comment_id":134377851,"body":"What does this question have to do with C#? Why the <a href=\"https://stackoverflow.com/questions/tagged/c%23\">c#</a> tag?"}],"answers":[{"comments":[{"comment_id":134378332,"body":"It work for regular expression"}],"answer_id":76200114,"body":"<p>Your searchList contains regular expressions; <code>indexOf</code> does a raw search, it does not interpret its argument as a regular expression. You presumably want something like:</p>\n<pre><code>Pattern p = Pattern.compile(searchList.get(i));\nMatcher m = p.matcher(line);\n... and so on ...\n</code></pre>\n"},{"answer_id":76278521,"body":"<p>First, you're attempting to open a <code>FileWriter</code> on <code>inputFile</code>, when you currently have a <code>FileReader</code> object open.</p>\n<p>Around lines 30 and 31.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader br = new BufferedReader(new FileReader(inputFile));\n    FileWriter fw = new FileWriter(inputFile))\n</code></pre>\n<p>I believe you want to change the <code>FileWriter</code> arguement to <code>outputFile</code>.</p>\n<p>Secondly, the parameters are not defined, in terms of when and where to place a <code>PMt</code> element within the <code>File1.txt</code> text.<br />\nFor example.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Test&gt;\n&lt;Test&gt;56596&lt;/Test&gt;\n&lt;PMt&gt;1&lt;/PMt&gt;\n&lt;/H&gt;\n&lt;Test&gt;5659556&lt;/Test&gt; &lt;-- does not have a PMt element\n&lt;H&gt;\n&lt;Test&gt;56556&lt;/Test&gt;\n&lt;PMt&gt;2&lt;/PMt&gt;\n&lt;/H&gt;\n&lt;Test&gt;5659556&lt;/Test&gt; &lt;-- does have a PMt element\n&lt;PMt&gt;3&lt;/PMt&gt;\n&lt;/Test&gt;\n</code></pre>\n"}],"last_activity_date":1684394542,"question_id":76199973,"body":"<p>I have two files. I want to replace first file content with other file content</p>\n<p>one contains</p>\n<pre><code>&lt;Test&gt;\n&lt;Test&gt;56596&lt;/Test&gt;\n&lt;PMt&gt;851&lt;/PMt&gt;\n&lt;/H&gt;\n&lt;Test&gt;5659556&lt;/Test&gt;\n&lt;H&gt;\n&lt;Test&gt;56556&lt;/Test&gt;\n&lt;PMt&gt;781&lt;/PMt&gt;\n&lt;/H&gt;\n&lt;Test&gt;5659556&lt;/Test&gt;\n&lt;/Test&gt;\n</code></pre>\n<p>Second Contains:</p>\n<pre><code>&lt;PMt&gt;1&lt;/PMt&gt;\n&lt;PMt&gt;2&lt;/PMt&gt;\n&lt;PMt&gt;3&lt;/PMt&gt;\n</code></pre>\n<p>Output File:</p>\n<pre><code>&lt;Test&gt;\n&lt;Test&gt;56596&lt;/Test&gt;\n&lt;PMt&gt;1&lt;/PMt&gt;\n&lt;/H&gt;\n&lt;Test&gt;5659556&lt;/Test&gt;\n&lt;H&gt;\n&lt;Test&gt;56556&lt;/Test&gt;\n&lt;PMt&gt;2&lt;/PMt&gt;\n&lt;/H&gt;\n&lt;Test&gt;5659556&lt;/Test&gt;\n&lt;PMt&gt;3&lt;/PMt&gt;\n&lt;/Test&gt;\n</code></pre>\n<p>I am trying following code:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ReplaceText {\n    public static void main(String[] args) {\n        String inputFile = &quot;C:\\\\Files\\\\File1.txt&quot;;\n        //String outputFile = &quot;C:\\\\Files\\\\output.txt&quot;;\n        List&lt;String&gt; searchList = new ArrayList&lt;&gt;();\n        searchList.add(&quot;&lt;PMt&gt;(.+?)&lt;/PMt&gt;&quot;);\n        searchList.add(&quot;&lt;PMt&gt;(.+?)&lt;/PMt&gt;&quot;);\n        List&lt;String&gt; replaceList = new ArrayList&lt;&gt;();\n        boolean[] replaced = new boolean[searchList.size()];\n\n        // Read text to replace with from another file\n        try (BufferedReader br = new BufferedReader(new FileReader(&quot;C:\\\\Files\\\\File2.txt&quot;))) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                replaceList.add(line);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        // Read input file and replace text\n        try (BufferedReader br = new BufferedReader(new FileReader(inputFile));\n             FileWriter fw = new FileWriter(inputFile)) {\n            String line;\n            while ((line = br.readLine()) != null) {\n                for (int i = 0; i &lt; searchList.size(); i++) {\n                    if (!replaced[i]) {\n                        String search = searchList.get(i);\n                        int index = line.indexOf(search);\n                        if (index != -1) {\n                            line = line.substring(0, index) + replaceList.get(i) + line.substring(index + search.length());\n                            replaced[i] = true;\n                        }\n                    }\n                }\n                fw.write(line + System.lineSeparator());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>I tried this but it giving me same file again in output</p>\n"},{"comments":[{"comment_id":39785334,"body":"Clarify your question. Show code."},{"comment_id":39786551,"body":"Maybe with an <code>ArgumentCaptor</code> when verifying the call."},{"comment_id":39789926,"body":"Since <code>o</code> is declared to be an <code>Object</code>, it won&#39;t have access to the method <code>setField()</code>, which I presume lives in <code>ObjectX</code>."},{"comment_id":39791153,"body":"I agree with @Brice. <a href=\"http://stackoverflow.com/questions/12295891/how-to-use-argumentcaptor-for-stubbing\">Use an ArgumentCaptor as explained in this post</a>. No point posting a duplicate answer here."}],"answers":[{"comments":[{"comment_id":39787873,"body":"Of course it&#39;s possible. What needs to be mocked and injected is someDao."},{"comment_id":39821812,"body":"This works because ObjectX is passed as parameter. In my case it is not a parameter"}],"answer_id":25491300,"body":"<p><strong>Updated</strong>\nthis is what JB in my comments is suggesting.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class BarTest\n{\n    @Mock\n    private SomeDao someDao;\n    @InjectMocks\n    private Bar     bar;\n\n    @Before\n    public void initMocks()\n    {\n        MockitoAnnotations.initMocks(this);\n    }\n\n    @Test\n    public void testFoo()\n    {\n        Mockito.doAnswer(new Answer&lt;Object&gt;()\n        {\n            @Override\n            public Object answer(InvocationOnMock invocation) throws Throwable\n            {\n                ObjectX x = (ObjectX) invocation.getArguments()[0];\n                Assert.assertEquals(\"hi\", x.getField());\n                return null;\n            }\n        }).when(someDao).boo(Mockito.any(ObjectX.class));\n        Assert.assertEquals(\"response\", bar.foo());\n    }\n}\n</code></pre>\n\n<p><strong>This below is my first answer and correct in its own way.</strong>\nNo it's not possible with Mockito, since ObjectX is a new Object within the void method, to accomplish this with Mockito then you would have to pass ObjectX in as an argument to the method <code>foo()</code>. You might want to look into Powermock if your code can't be changed.</p>\n\n<pre><code>public String foo(ObjectX objectX) {\n    Object o = objectX;\n    o.setField(\"hi\");\n    someDao.boo(o);\n    return \"response\";\n}\n</code></pre>\n\n<p>Test case</p>\n\n<pre><code>@Test\npublic void testFoo()\n{\n    ObjectX mock = Mockito.mock(ObjectX.class);\n    Assert.assertEquals(\"response\", foo(mock));\n    Mockito.verify(mock, Mockito.times(1)).setField(Mockito.eq(\"hi\"));\n}\n</code></pre>\n"},{"answer_id":68970979,"body":"<p>Perhaps you would want to use <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#doNothing()\" rel=\"nofollow noreferrer\">doNothing</a> method.</p>\n<pre><code>@Mock\nSomeDao someDao;\n\n@Captor\nArgumentCaptor&lt;ObjectX&gt; captor;\n\n@Test\nvoid test() {\n    doNothing().when(someDao).boo(captor.capture());\n    foo();\n    assertEquals(&quot;hi&quot;, captor.getValue().getField());\n}\n</code></pre>\n"}],"last_activity_date":1684394358,"question_id":25490375,"body":"<p>Is it possible to test the values of an instance passed as an argument to a method that is void using Mockito?</p>\n\n<pre><code>public String foo() {\n    Object o = new ObjectX();\n    o.setField(\"hi\");\n    someDao.boo(o);\n    return \"response\";\n}\n</code></pre>\n\n<p>boo is void and I want to test that foo sets the field to \"hi\"</p>\n"},{"answers":[{"answer_id":76267365,"body":"<pre><code>12:36:11.892 [main] DEBUG \n</code></pre>\n<p>That's a <em>debug</em>-level log message. Why are you worried about it?</p>\n<h3>UPDATE</h3>\n<p>The other response on this thread is wildly wrong, so let me clarify the <em>actual situation</em>.</p>\n<ol>\n<li>Does Hibernate, as claimed, use field access by default. <strong>No, it does not.</strong> Hibernate uses field access when the mapping annotations are placed on fields, <em>as required by the JPA spec</em>. If the mapping annotations are placed on getters, it uses property access.</li>\n<li>Should Hibernate use getters and setters here, as claimed, instead of accessing fields directly. <strong>No, it most definitely should not.</strong> That would not comply with the JPA spec.</li>\n<li>Is this a problem? Does it result in &quot;suboptimal&quot; performance as claimed? <strong>No it is not, and no it does not.</strong> The &quot;reflection optimizer&quot; has at most an extremely marginal impact on performance, unmeasurable in most circumstances.</li>\n<li>Should one, in general, get upset and worried when Hibernate or any other library logs something at <code>DEBUG</code> level? <strong>No one should not.</strong> If it was actually something to be concerned about we would, at minimum, log a <code>WARN</code>. We assume that everyone has the log level set to <code>INFO</code> by default, so when we log something at <code>DEBUG</code> it's because <em>it's usually not worth paying attention to</em>.</li>\n<li>Should the user, to mitigate this non-problem, scatter <code>@Access(AccessType.PROPERTY)</code> annotations all over their entity classes? <strong>PLEASE NO.</strong> Don't do that. That's awful. That's not the way JPA is intended to be used.</li>\n</ol>\n<p>If you do for some reason prefer property access to field access, you can place the mapping annotations on the getters. But that's not our recommendation anymore, and it's no longer common practice in the Hibernate community.</p>\n<p>I hope that helps, and I hope it corrects the FUD in the other answer on this thread.</p>\n<p><strong>For the record:</strong> I'm the creator of Hibernate, the person who originally added the &quot;reflection optimizer&quot; to Hibernate, and one of the people who actually wrote the JPA spec, including the relevant part of the spec.</p>\n"},{"answer_id":76269174,"body":"<p><strong>Short story</strong></p>\n<p>Place <code>@Access(AccessType.PROPERTY)</code> annotation over your entity class.</p>\n<p><strong>Long story</strong></p>\n<p>When Hibernate is reading data from DB it needs somehow instantiate entity object and populate it's field values, there are a couple of options to do that:</p>\n<ol>\n<li>use reflection access</li>\n<li>generate some helper class which will do that in more optimal way (yep, reflection access is still slow)</li>\n</ol>\n<p>Exception you are observing</p>\n<pre><code>PrivateAccessorException: private accessor [createdTime]\n</code></pre>\n<p>means following: Hibernate was trying to generate helper class, but figured out the particular <code>createdTime</code> field has private access, which in turn prevents helper class generation. However the actual root cause is Hibernate was not even considering getter and setter methods (POJO &quot;properties&quot;) present in entity class, just because by default Hibernate prefers using field access to property access (please check <a href=\"https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/access-strategies-in-jpa-and-hibernate/</a>). So, in general, you are right: such exception is not benign - it reveals you are getting suboptimal behaviour of Hibernate.</p>\n"}],"last_activity_date":1684394052,"question_id":76255225,"body":"<p>Recently upgraded from Hibernate 5 to 6 and I see the following error in debug level.</p>\n<pre><code>12:36:11.892 [main] DEBUG org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl - HHH000513: Unable to create the ReflectionOptimizer for [abc.def.ghi.OrderEventEntity]\norg.hibernate.bytecode.internal.bytebuddy.PrivateAccessorException: private accessor [createdTime]\n    at org.hibernate.bytecode.internal.bytebuddy.BytecodeProviderImpl.findAccessors(BytecodeProviderImpl.java:1250) ~[hibernate-core-6.2.2.Final.jar:6.2.2.Final]\n</code></pre>\n<p>OrderEntity.java</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;OMS_ORDER_EVENTS&quot;)\npublic class OrderEventEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;oms_order_events_seq&quot;)\n    @SequenceGenerator(name = &quot;oms_order_events_seq&quot;, sequenceName = &quot;OMS_ORDER_EVENTS_SEQ&quot;, allocationSize = 1)\n    @Column(name = &quot;ID&quot;)\n    private Long id;\n\n    @Column(name = &quot;ORDER_ID&quot;)\n    private Long orderId;\n\n    @Column(name = &quot;VERSION_NUMBER&quot;)\n    private Integer versionNumber;\n\n    @Column(name = &quot;GENERATED_BY&quot;)\n    @Enumerated(value = EnumType.STRING)\n    private EventGenerator generatedBy;\n\n    @Column(name = &quot;USER_CONTACT_ID&quot;)\n    private String userContactId;\n\n    @Column(name = &quot;EVENT_TYPE&quot;)\n    @Enumerated(value = EnumType.STRING)\n    private EventType eventType;\n\n    @Column(name = &quot;CREATED_TIME&quot;)\n    private Date createdTime;\n}\n</code></pre>\n<p>There is no trace of anything related to this over the internet whatsoever. Currently my Spring web app is not coming up and I was guessing if this could be the issue.</p>\n<p>EDIT:</p>\n<p>I figured there was a <code>ClassDefNotFoundException</code> from some other external library and it was not printed in the logs. This is the reason why my application was not coming up.</p>\n"},{"comments":[{"comment_id":73953308,"body":"It might not be related to header. Could you (a) share the controller and request example and (b) try without header?"},{"comment_id":74066828,"body":"Does this help: <a href=\"http://stackoverflow.com/questions/21410317/using-gzip-compression-with-spring-boot-mvc-javaconfig-with-restful\" title=\"using gzip compression with spring boot mvc javaconfig with restful\">stackoverflow.com/questions/21410317/&hellip;</a>"},{"comment_id":74080056,"body":"Yeah I have tried with that but didn&#39;t get the solution."},{"comment_id":74080108,"body":"But I got solution from <a href=\"http://stackoverflow.com/questions/34415144/cannot-parse-gzip-encoded-response-with-resttemplate-from-spring-web\" title=\"cannot parse gzip encoded response with resttemplate from spring web\">stackoverflow.com/questions/34415144/&hellip;</a>"}],"answers":[{"answer_id":76278494,"body":"<p>I wanted to solve the same issue without using additional libraries.\nWhat helped me was to</p>\n<ol>\n<li>change the responseType from the entity type (GenericResponseDto) to byte[].class</li>\n<li>unzipping response myself</li>\n<li>mapping the entity myself by ObjectMapper mapper.</li>\n</ol>\n<p>It is not the most elegant solution but it works.</p>\n<pre><code>    ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(url, HttpMethod.GET, new HttpEntity&lt;byte[]&gt;(new HttpHeaders()), byte[].class);\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    try (GZIPInputStream gzipInputStream = new GZIPInputStream(new ByteArrayInputStream(response.getBody()))) {\n        gzipInputStream.transferTo(byteArrayOutputStream);\n    }\n    byte[] content = byteArrayOutputStream.toByteArray();\n    GenericResponseDto question = mapper.readValue(content, GenericResponseDto .class);  \n    log.info(&quot;Response :&quot; + question.toString());\n</code></pre>\n"}],"last_activity_date":1684394010,"question_id":43448807,"body":"<p>I'm trying to send </p>\n\n<pre><code>headers.add(\"Accept-Encoding\", \"gzip\"); \n</code></pre>\n\n<p>in my Spring boot application.</p>\n\n<p>I'm getting this Exception</p>\n\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Illegal character ((CTRL-CHAR, code 31)): only regular white space (\\r, \\n, \\t) is allowed between tokens\n</code></pre>\n\n<p>But I need to send gzip as request header. </p>\n\n<p>My Spring boot Version is '1.3.5.RELEASE'</p>\n\n<p>Please help me out.</p>\n\n<p>My Request Example:</p>\n\n<pre><code>url = apiUrl + apiMethod + \"?api_key=\" + apiKey;\n\nRestTemplate restTemplate = new RestTemplate();\nHttpHeaders headers = new HttpHeaders();\nheaders.add(\"api_key\", apiKey);\nheaders.add(\"Content-Type\", \"application/json\");\nheaders.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\nheaders.set(\"Accept-Encoding\", \"x-gzip\");\nHttpEntity &lt; String &gt; entity = new HttpEntity &lt; String &gt; (\"parameters\", headers);\nResponseEntity &lt; GenericResponseDto &gt; response = null;\ntry {\n    response = restTemplate.exchange(url, HttpMethod.GET, entity,\n        GenericResponseDto.class);\n    log.info(\"Response :\" + response.toString());\n\n} catch (Exception e) {\n    throw new CustomException(e, aPIAuditTrail);\n}\n</code></pre>\n"},{"comments":[{"comment_id":134507364,"body":"Please use text instead of images. See <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\" title=\"why not upload images of code errors when asking a question\">meta.stackoverflow.com/questions/285551/&hellip;</a> for more details on the reason."},{"comment_id":134507795,"body":"Please review the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, <a href=\"https://stackoverflow.com/tour\">tour</a> and <a href=\"https://stackoverflow.com/help\">help center</a> links and then <a href=\"https://stackoverflow.com/posts/76275349/edit\">edit</a> and improve your question so that it and its answers meets site standards and is helpful to others, not just you."},{"comment_id":134507908,"body":"Also, please look at <a href=\"http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo\">Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods</a>"}],"answers":[{"comments":[{"comment_id":134507786,"body":"If you answer before the OP improves their question, they lose incentive to do so, almost guaranteeing that their question and your answer will be deleted, and increasing the risk of the OP being question-banned. Not a good outcome. Best to encourage them to first improve the question so that it is site-appropriate."},{"comment_id":134507879,"body":"How do I know when the question is improved?"},{"comment_id":134507897,"body":"You follow it. You can click on the &quot;save this question&quot; link"},{"comment_id":134507899,"body":"Also, this is probably not the best and most robust solution to the OP&#39;s problem. Much better solutions can be found here: <a href=\"http://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-nextint-or-other-nextfoo\">Scanner is skipping nextLine() after using next(), nextInt() or other nextFoo() methods</a>. The link explains the details of the problem that the OP is facing and ways to solve it."},{"comment_id":134507950,"body":"I provided the correct solution to the problem, though.  I&#39;m misunderstanding how that&#39;s a downvote.  Typically, these are just closed."},{"comment_id":134508119,"body":"It is a judgement call. While the answer may be technically correct, it is not the best quality as it doesn&#39;t explain the problem or why you are suggesting the code solution that you are posting. The explanations are more important than the code because this site isn&#39;t and never has been a &quot;help&quot; site but rather a &quot;question and answer&quot; site where Q&amp;A&#39;s should stand on their own and be helpful to future visitors with similar problems. Neither the original question nor your answer fulfill these criteria. Please read the <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> link."},{"comment_id":134508176,"body":"Right, because of the determent it creates from an illogically formed question, lol, nice work, very thorough.  I&#39;m sure all the new posters will now stear clear from this well defined example."},{"comment_id":134508205,"body":"It&#39;s OK to disagree with me, but for my money, you, the site and future visitors would all be better off if you instead improved the answer. Your call."}],"answer_id":76275668,"body":"<p>Try changing your <code>r2</code> assignment to the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>r2 = Integer.parseInt(scan.nextLine());\n</code></pre>\n<p>And, then remove the <code>temp1 = scan.nextLine()</code> statement.</p>\n<p>This should allow for the code to execute beyond the 3rd question.</p>\n"}],"last_activity_date":1684393735,"question_id":76275349,"body":"<p><code>setBoard</code> method:</p>\n<p><a href=\"https://i.stack.imgur.com/sZNi7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sZNi7.png\" alt=\"enter image description here\" /></a></p>\n<p><code>placeShip</code> method:</p>\n<p><a href=\"https://i.stack.imgur.com/Uybeg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uybeg.png\" alt=\"enter image description here\" /></a></p>\n<p>The game class is the class that runs the main. This <code>setBoard</code> method is run in the main but the code output ends after the 3rd question. This is when the code scans the final answer and goes into the <code>placeShip</code> method in the Player class. It prints out the question, the user can enter an answer but after that nothing else happens.</p>\n<p>At first it was skipping the response for the 3rd question but I figured out how to make it wait. Now I have this problem. After it records the Yes or No answer, it should run the rest of the code and set the ship on the board String 2D array in the Player class.</p>\n"},{"last_activity_date":1684393613,"question_id":76278452,"body":"<p>I am having an issue with spring jdbcTemplate. It used to work fine, but now it doesn't return any value neither error message it gets stuck saying <code>&quot;DEBUG | \\[main\\] | org.springframework.jdbc.core.JdbcTemplate:query(711) | Executing prepared SQL query&quot;</code>,</p>\n<p>I tried using namedParameterJDBCTemplate and JDBCTemplate</p>\n<p>Please find below my Hikari configuration  :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;HikariConfig&quot; class=&quot;com.zaxxer.hikari.HikariConfig&quot;&gt;\n    &lt;property name=&quot;connectionTestQuery&quot; value=&quot;select 1 from dual&quot; /&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.OracleDriver&quot; /&gt;\n    &lt;property name=&quot;jdbcUrl&quot; value=&quot;jdbc:oracle:thin:@${some_db_name}&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;${some_db_username}&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;${some_db_password}&quot; /&gt;\n    &lt;property name=&quot;maximumPoolSize&quot; value=&quot;50&quot;/&gt;\n    &lt;property name=&quot;minimumIdle&quot; value=&quot;2&quot; /&gt;\n    &lt;property name=&quot;connectionTimeout&quot; value=&quot;600000&quot;/&gt;\n    &lt;property name=&quot;dataSourceProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;v$session.program&quot;&gt;some_program&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;undefined&lt;/beans&gt;\n</code></pre>\n<p>Please find below the JDBC template configuration :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=&quot;transactionTemplate&quot; class=&quot;org.springframework.transaction.support.TransactionTemplate&quot;&gt;\n    &lt;property name=&quot;transactionManager&quot;&gt;\n        &lt;ref bean=&quot;TransactionManager&quot; /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;TransactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt;\n    &lt;property name=&quot;dataSource&quot;&gt;\n        &lt;ref bean=&quot;OracleDataSource&quot; /&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;oraJdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\n    &lt;constructor-arg index=&quot;0&quot;&gt;\n        &lt;ref bean=&quot;OracleDataSource&quot; /&gt;\n    &lt;/constructor-arg&gt;\n    &lt;property name=&quot;fetchSize&quot; value=&quot;10000&quot; /&gt;\n    &lt;property name=&quot;queryTimeout&quot; value=&quot;300&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;NamedJdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate&quot;&gt;\n    &lt;constructor-arg index=&quot;0&quot; ref=&quot;oraJdbcTemplate&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;OracleDataSource&quot; class=&quot;com.zaxxer.hikari.HikariDataSource&quot; destroy-method=&quot;close&quot;&gt;\n    &lt;constructor-arg ref=&quot;HikariConfig&quot; /&gt;\n&lt;/bean&gt;\n&lt;bean id=&quot;OracleDatasource&quot; class=&quot;com.zaxxer.hikari.HikariDataSource&quot; destroy-method=&quot;close&quot;&gt;\n    &lt;constructor-arg ref=&quot;HikariConfig&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>I tried multiple ways to solve this problem but could not resolve it.\nAlso, note that when I run this locally, it is working, but when the application runs in UAT (Linux) it gets stuck and when I run the query in SQL, I am getting results (There are only 4 results in the database for the query). ojdbc10 is being used.</p>\n<p>Please find logs below :</p>\n<p><code>2023-05-17 15:20:16,341 | DEBUG | [main] | org.springframework.jdbc.datasource.DataSourceUtils:doGetConnection(116) | Fetching JDBC Connection from DataSource 2023-05-17 15:20:17,344 | DEBUG | [main] | somePackage.someClass:someMethod(99) | [someMethod] deleteMakerQuery ::</code></p>\n<pre><code>            --some query---\n</code></pre>\n<p><code>2023-05-17 15:20:17,344 | DEBUG | [main] | somePackage.someClass:someMethod(100) | [someMethod] paramMap :: {someParms=134975, someParms=1, someParms=134975} 2023-05-17 15:20:17,344 | DEBUG | [main] | org.springframework.jdbc.core.JdbcTemplate:query(711) | Executing prepared SQL query</code></p>\n"},{"answers":[{"comments":[{"comment_id":134524944,"body":"I don&#39;t haver any Spring aspects dependencies, but I&#39;m aware that some parte of Spring are aspects dependent. Could you share which AOP depencies you have in your project?"}],"answer_id":76278475,"body":"<p>We had similar behaviour in our project as we have aop configuration which will close the transaction in case of runtime exception, which leads to this issue as there is no open transaction to do the further activity.</p>\n<p>Please check if you have such a configuration in your project.</p>\n"}],"last_activity_date":1684393422,"question_id":76275898,"body":"<p>I have a unique constraint in the database, everytime that constraint is violated I get the following exception:</p>\n<pre><code>java.lang.IllegalStateException: Session/EntityManager is closed\n    at org.hibernate.internal.AbstractSharedSessionContract.checkOpen(AbstractSharedSessionContract.java:409) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.engine.spi.SharedSessionContractImplementor.checkOpen(SharedSessionContractImplementor.java:164) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.internal.SessionImpl.clear(SessionImpl.java:352) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.8.jar:6.0.8]\n    at jdk.proxy2/jdk.proxy2.$Proxy142.clear(Unknown Source) ~[na:na]\n    at org.springframework.orm.jpa.JpaTransactionManager.doRollback(JpaTransactionManager.java:598) ~[spring-orm-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.doRollbackOnCommitException(AbstractPlatformTransactionManager.java:892) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:775) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:660) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:410) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702) ~[spring-aop-6.0.8.jar:6.0.8]\n    at br.com.viahub.vendedor.api.dataprovider.gateway.VendedorGatewayImpl$$SpringCGLIB$$0.salvarVendedor(&lt;generated&gt;) ~[classes/:na]\n    at br.com.viahub.vendedor.api.usecase.SalvarVendedorInteractor.execute(SalvarVendedorInteractor.java:77) ~[classes/:na]\n    at br.com.viahub.vendedor.api.delivery.rest.VendedorRestController.save(VendedorRestController.java:96) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:141) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:702) ~[spring-aop-6.0.8.jar:6.0.8]\n    at br.com.viahub.vendedor.api.delivery.rest.VendedorRestController$$SpringCGLIB$$0.save(&lt;generated&gt;) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My code:</p>\n<pre><code>@Override\n@Transactional\npublic VendedorSummaryDTO salvarVendedor(final VendedorSummaryDTO vendedor, final FilialDTO filialDTO) {\n    return this.vendedorMapper.fromVendedorToVendedorSummaryDTO(this.vendedorRepository\n            .save(this.vendedorMapper.fromVendedorSummaryDTOAndFilialDTOToVendedor(vendedor, filialDTO)));\n}\n\npublic interface VendedorRepository extends JpaRepository&lt;Vendedor, String&gt; {\n}\n</code></pre>\n<p>By reading the stack trace, I've guessed that this problem only occurs when this constraint is violated because the exception happens when Hibernate tries to rollback the transaction. I tested by submitting another request with a different payload that does not violate the unique constraint and it worked. Does anybody have a clue about what this problem is?</p>\n<p>I'm using spring-boot 3.0.6 and hibernate-core 6.1.7.</p>\n"},{"comments":[{"comment_id":134261933,"body":"Was this <code>when tesst=â€˜â€œIId&quot;</code> a typo ?"},{"comment_id":134266215,"body":"Yea ignore this, itâ€™s a typo. Everything worked if I downgrade mybatis to 3.0"},{"comment_id":134272084,"body":"By the looks of the error alone it looks like there is an issue with the type handler used for a parameter mapping in your MyBatis configuration that was either default on the previous version and needs to be explicit on the newer (mainly because you updated Jackson? Not entirely sure about this), so try configuring a type handler for it it is something like: <code>&lt;typeHandlers&gt;&lt;typeHandler javaType=&quot;com.fasterxml.jackson.databind.node.ArrayNode&quot; handler=&quot;what.ever.package.ArrayNodeHandler&quot;&#47;&gt;&lt;&#47;typeHandlers&zwnj;&#8203;&gt;&quot;</code> or whatever version of this for the new Jackson."},{"comment_id":134272105,"body":"Also check that the version you are using for myBatis is compatible with the version you are using for Jackson library. It might be another source of the problem"},{"comment_id":134319960,"body":"Thanks @JorgeCampos for looking into this. However Iâ€™m unable to find any  ArrayNodeHandler implementation. Iâ€™m also unsure about it, I doubt if it really exists?"},{"comment_id":134320630,"body":"Hmm that might be the problem them. can you check whether the previous version of jackson or mybatis has it ?"},{"comment_id":134512201,"body":"@JorgeCampos   However I tried to create new type handler for jsonArrayNode.    Like mentioned on post- but this time Iâ€™m not getting any error but Iâ€™m getting wrong results. Seems like itâ€™s is not generating correct prepared statement"},{"comment_id":134544567,"body":"@Inked The XML syntax is clearly invalid. It&#39;s hard to help without accurate info, but it seems that the element type of the collection <code>item.value</code> was changed during the upgrade (possibly because of some change made in Jackson?). If you could provide a test case that reproduces the same issue (i.e. the test passes with version 3.0.x, but fails with 3.5.11), I would take a look when I have time. Here are some project <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">templates and examples</a>. Please try to make the project as simple as possible."}],"last_activity_date":1684393183,"question_id":76131385,"body":"<p>I was trying to upgrade my spring version from 4 to 5.3.23\nAlso updated Jackson databind to 2.13.5\nWhile doing so I needed to upgrade mybatis from 3.0 to 3.5.11\nAlso mybatis-spring from 1.0 to 2.1.0</p>\n<p>While upgrading, i found strange behaviour happening to mybatis requests.</p>\n<p>Iâ€™m getting an error -</p>\n<pre><code>java.lang.IllegalStateException: Type handler was null on parameter mapping for property '__frch_token_1'. It was either not specified and/or could not be found for the javaType\n\n(com.fasterxml.jackson.databind.node.ArrayNode): jdbcType (null) combination. ### Cause:\n\njava.lang.IllegalStateException: Type handler was null on parameter mapping for property __frch_token_1'. It was either not specified and/or could not be found for the javaType\n\n(com.fasterxml.jackson.databind.node.ArrayNode):\n\njdbcType (null) combination.\n\n</code></pre>\n<p>With earlier version of mybatis, it was working fine.</p>\n<p>Iâ€™m passing multiple or single parameter from drop down from front end on iName column</p>\n<p>Itâ€™s breaking at for each loop, it seems.</p>\n<pre><code>\n&lt;select id=&quot;getByCriteria&quot; resultMap=&quot;xyzResultMap&quot;&gt;\n\n&lt;![CDATA[SELECT ]]&gt;\n\n&lt;include refid=&quot;columns&quot; /&gt;\n\n&lt;![CDATA[ FROM Table ]]&gt; != null&quot;&gt;\n\n&lt;if test=&quot;criteria &lt;where&gt;\n\n&lt;foreach collection &quot;criteria&quot; item=&quot;item&quot; separator=&quot;AND&quot;&gt;\n &lt;!-- column name --&gt;\n\n&lt;choose&gt;\n\n&lt;when test=â€˜â€œId&quot;.equals (item.fieldName)â€™&gt;Eid&lt;/when&gt; \n&lt;when test=â€˜&quot;Name&quot;.equals(item.fieldName)â€™&gt; iName&lt;/when&gt; \n\n\n&lt;otherwise&gt;/* unknown field name ${item.fieldName} */&lt;/otherwise&gt;\n\n&lt;/choose&gt; \n&lt;!-- operator and search value --&gt;\n\n&lt;choose&gt;\n\n&lt;when test=â€™&quot;equals&quot;.equals(item.operator)'&gt;= #{item.value}&lt;/when&gt;\n\n&lt;when test=â€™&quot;iCaptains&quot;.equals(item.operator)'&gt; like UPPER('%${item.value}%')&lt;/wh\n\n&lt;when test=â€™&quot;inSet&quot;.equals(item. operator)'&gt;&lt;![CDATA[ IN (]]&gt;\n\n&lt;foreach collection=&quot;item.value&quot; item- &quot;token&quot; separator=&quot;, &quot;&gt;\n\n&lt;![CDATA[ #{token}]]&gt;\n\n&lt;/foreach&gt;&lt;![CDATA[)]]&gt;\n\n/when&gt;\n\n&lt;otherwise&gt;/* unknown field name ${item.operator} */&lt;/otherwise&gt;\n\n&lt;/choose&gt; &lt;/foreach&gt;\n\n&lt;/where&gt;\n&lt;/if&gt;\n\n</code></pre>\n<p>Can somebody give me insights about this issue .</p>\n<p>After implementing arraynodetype handler I was able to remove that error but Iâ€™m not getting correct results.</p>\n<p>Seems like prepared statement is not generated correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/9iCQi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9iCQi.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":88500360,"body":"I never used this or pre-commit hooks before but I assume <code>path to java executable</code> means the path to your <code>java.exe</code> file. It is optional because usually it is on the classpath. This <code>perl</code> program should already be an executable. I am not sure if the git utility knows how to execute it on windows or if you need another utility that knows how to."},{"comment_id":88501331,"body":"I assumed the same. I added the path to the java.exe but it still doesnt work. Yeah since it&#39;s obviously a script i thought that it is an executable too. But it doesnt work so i wondered if its not.."}],"answers":[{"comments":[{"comment_id":105783413,"body":"Thank you for the fix, but by using this fix for me it just fails every time, even when no check failed."}],"answer_id":50748292,"body":"<p>Okay seems as i found a solution finally. I added some comments to the instructions how i made it work.</p>\n\n<pre><code> 1. checkstyle's jar file somewhere\n 2. a checkstyle XML check file somewhere\n 3. To configure git:\n   * git config --add checkstyle.jar &lt;location of jar&gt;\n   * git config --add checkstyle.checkfile &lt;location of checkfile&gt;\n   * git config --add java.command &lt;path to java executale&gt; [optional\n    defaults to assuming it's in your path]\n</code></pre>\n\n<p><strong>I checked my config (can be found in the .git directory of your git reposirtory) and it looked like this:</strong>     </p>\n\n<pre><code> ...    \n [checkstyle]   \n checkfile = C:\\\\Users\\\\schuster\\\\Desktop\\\\checkstyle\n jar = C:\\\\Users\\\\schuster\\\\Desktop\\\\checkstyle    \n  ...   \n</code></pre>\n\n<p><strong>So since im Working on Windows i changed it to:</strong></p>\n\n<pre><code>...\n[checkstyle]\n    checkfile = C:/Users/schuster/Desktop/checkstyle/google_checks.xml\n    jar = C:/Users/schuster/Desktop/checkstyle/checkstyle.jar\n...\n</code></pre>\n\n<p>.</p>\n\n<pre><code> 4. Put this in your .git/hooks directory as pre-commit\n</code></pre>\n\n<p><strong>'This' is the file i linked when i stated my problem. So this file needs to be in the /hooks directory. But it has to be renamed as one of the existing samples which are already in there. Since my hook is a pre-commit hook i took the \"pre-commit\" filename. Next this file has to become an executable. To do that type in <code>chmod +x pre-commit</code> in the /hooks directory of your git repository. If you work with Windows do that using the Git Bash.</strong></p>\n\n<h2><strong>EDIT :</strong></h2>\n\n<p>In case someone want to use this script and is wondering why it doesnt abort even if checks fail - here is how to fix it.\nin line 58<br>\n         <code>if (&amp;run_and_log_system ($command))</code><br>\n          has to be chanted to<br>\n         <code>if (!&amp;run_and_log_system ($command))</code></p>\n"},{"answer_id":61790062,"body":"<p>After configure checkstyle.jar and checkstyle.checkfile. If it does not abort on checks fail here is the fix.</p>\n\n<p>At line 58</p>\n\n<p><code>if (&amp;run_and_log_system ($command))</code></p>\n\n<p>Replace with below</p>\n\n<pre><code>$command .= \" | grep WARN \";\nif (!&amp;run_and_log_system ($command))\n</code></pre>\n"},{"answer_id":73847793,"body":"<p>I've open sourced and released Commit Controls, a ZIP package that aims to natively make connecting Checkstyle in a project much easier in Javaland.</p>\n<p><a href=\"https://gitlab.com/another15y/commit-controls/\" rel=\"nofollow noreferrer\">The project homepage with documentation</a>. Hope this project eases most use cases.</p>\n"}],"last_activity_date":1684393141,"question_id":50741967,"body":"<p>I am trying to add this: <a href=\"https://gist.github.com/davetron5000/37350\" rel=\"noreferrer\">https://gist.github.com/davetron5000/37350</a> checkstyle code format check as pre-commit git hook. </p>\n\n<p>I followed the instructions below but it doesn't work.</p>\n\n<p>Steps I've tried:</p>\n\n<blockquote>\n  <ol>\n  <li>Checkstyle's jar file somewhere</li>\n  <li>Checkstyle XML check file somewhere</li>\n  <li>To configure git:\n  \n  <ul>\n  <li><code>git config --add checkstyle.jar &lt;location of jar&gt;</code></li>\n  <li><code>git config --add checkstyle.checkfile &lt;location of checkfile&gt;</code></li>\n  <li><code>git config --add java.command &lt;path to java executable&gt; [optional, defaults to assuming it's in your path]</code></li>\n  </ul></li>\n  <li>Put this in your .git/hooks directory as pre-commit</li>\n  </ol>\n</blockquote>\n\n<p>Maybe it doesn't work because I dont understand what <code>git config --add java.command &lt;path to java executable&gt;</code> means. But it says it's optional  If that's not the problem maybe I need to make the script-file an executable somehow?</p>\n\n<p>ps: OS is Windows</p>\n"},{"comments":[{"comment_id":123719662,"body":"did your problem solve ?? I have same config in gateway but I&#39;m still getting CORS error"}],"answers":[{"comments":[{"comment_id":120070868,"body":"Thanks. But I already had that. no change.  I even have this in my Gateway Security Config: http.csrf().disable().cors().and().build();  Any other idea please ?"}],"answer_id":67916341,"body":"<p>Can you add add-to-simple-url-handler-mapping property to your application.yml like below and try again</p>\n<pre><code>cloud:\ngateway:\n  globalcors:\n    cors-configurations:\n      '[/**]':\n        allowedOrigins: &quot;*&quot;\n        allowedMethods: &quot;*&quot;\n    add-to-simple-url-handler-mapping: true\n</code></pre>\n"},{"answer_id":68348395,"body":"<p>In your <code>CorsConfiguration</code> you are setting the CORS headers only when it's a CORS request and don't if its a preflight request. The preflight request is the one which fails. So you need to remove the <code>if (CorsUtils.isCorsRequest(request))</code> condition.</p>\n"},{"answer_id":69184425,"body":"<p>for the maven users, try add the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Fix for me</p>\n"},{"answer_id":76278431,"body":"<p>Use option &quot;allowed-origin-patterns: '*'&quot;. All CORS requests permitted.</p>\n<pre><code>spring:\n  cloud:\n    gateway:\n      globalcors:\n        cors-configurations:\n          '[/**]' :\n            allowed-origin-patterns: '*'\n</code></pre>\n"}],"last_activity_date":1684392948,"question_id":67914461,"body":"<p>Please Help. I am using Spring Cloud Gateway\nI keep getting this Cors error:</p>\n<p><strong>Access to XMLHttpRequest at 'http://localhost:8084/users/files' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</strong></p>\n<p>Here is my application.yml file</p>\n<pre><code>  cloud:\n    gateway:\n      globalcors:\n        cors-configurations:\n          '[/**]':\n            allowedOrigins: &quot;*&quot;\n            allowedMethods: &quot;*&quot;\n</code></pre>\n<p>Here is my Route Config:</p>\n<pre><code>    public RouteLocator myRoutes(RouteLocatorBuilder builder) {\n        \n        return builder.routes()\n                .route(r -&gt; r.path(&quot;/users/**&quot;)\n                        .filters(f -&gt; f.filter(authFilter))\n                        .uri(&quot;http://localhost:8080/&quot;))\n \n                .build();\n    }\n</code></pre>\n<p>Here is my CorsConfiguration File.</p>\n<pre><code>public class CorsConfiguration {\n\n  private static final String ALLOWED_HEADERS = &quot;x-requested-with, authorization, Content-Type, Content-Length, Authorization, credential, X-XSRF-TOKEN&quot;;\n  private static final String ALLOWED_METHODS = &quot;GET, PUT, POST, DELETE, OPTIONS, PATCH&quot;;\n  private static final String ALLOWED_ORIGIN = &quot;*&quot;;\n  private static final String MAX_AGE = &quot;7200&quot;; //2 hours (2 * 60 * 60) \n\n  @Bean\n  public WebFilter corsFilter() {\n    return (ServerWebExchange ctx, WebFilterChain chain) -&gt; {\n      ServerHttpRequest request = ctx.getRequest();\n      if (CorsUtils.isCorsRequest(request)) {\n        ServerHttpResponse response = ctx.getResponse();\n        HttpHeaders headers = response.getHeaders();\n        headers.add(&quot;Access-Control-Allow-Origin&quot;, ALLOWED_ORIGIN);\n        headers.add(&quot;Access-Control-Allow-Methods&quot;, ALLOWED_METHODS);\n        headers.add(&quot;Access-Control-Max-Age&quot;, MAX_AGE); //OPTION how long the results of a preflight request (that is the information contained in the Access-Control-Allow-Methods and Access-Control-Allow-Headers headers) can be cached. \n        headers.add(&quot;Access-Control-Allow-Headers&quot;,ALLOWED_HEADERS);\n        if (request.getMethod() == HttpMethod.OPTIONS) {\n          response.setStatusCode(HttpStatus.OK);\n          return Mono.empty();\n        }\n      }\n      return chain.filter(ctx);\n    };\n  }\n\n}\n</code></pre>\n"},{"last_activity_date":1684392639,"question_id":76278401,"body":"<p>The main idea is to have an App that can read an mp3 with looping option in this way:\nFor example, my mp3 of 3min have 3 parts, I want to iterate this mp3 like:\nPart 1: 3 times, Part 2: 3 times, Part 1 &amp; 2: 3 times and so one so forth...</p>\n<p>My need is to know how can I add landmarks? should I use metadata and set tags like : [PART_1: 00:30:00, PART_2: .....] ?\nHow can I loop from those landmarks?</p>\n<p>Thank you,</p>\n"},{"last_activity_date":1684392434,"question_id":76278381,"body":"<p>I have below annotation for method:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(Element.Method))\npublic @interface Memcacheable {\n    int expiresAfterSeconds() default -1;\n    String cacheKey();\n    String cacheType() default &quot;MemCache&quot;;\n}\n</code></pre>\n<p>and I have below annotation for parameter:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(Element.Parameter))\npublic @interface CacheKey {\n}\n</code></pre>\n<p>And I have below method with annotates @Memcacheable:</p>\n<pre><code>@Memcacheable(cacheKey = &quot;abc&quot;)\n    public static String getDefaultShopShareSettings( Integer userId) {\n}\n</code></pre>\n<p>I want to show compilation error or force to above method to use annotation @cacheKey for parameter(userId)</p>\n"},{"last_activity_date":1684392223,"question_id":76278361,"body":"<p>I am adding integration test for a sub module that is also under a different package name of the main class where the <code>@SpringBootApplication</code> is. So easily I have some missing beans that are required in my @Autowired members. I am confused with the various options to resolve this:</p>\n<ol>\n<li><p>Define my own implementation with <code>@Bean</code> - this can be useful if I want a different behaviour, but not if I want to use the real one</p>\n</li>\n<li><p>Add <code>@SpringBootTest(classes = ...)</code></p>\n</li>\n<li><p>Add <code>@ContextConfiguration(classes = ...)</code></p>\n</li>\n<li><p>Add <code>@Import</code></p>\n</li>\n<li><p>Add <code>@ComponentScan(basePackages = ...)</code></p>\n</li>\n</ol>\n<p>Very confused. Please explain the suggested way to properly configure integration test in sub module outside of the <code>@SpringBootApplication</code> to configure with real implementations from other sub modules for those <code>@Autowired</code> members.</p>\n"},{"comments":[{"comment_id":134502724,"body":"I think you are passing file inside the JSON body instead of passing it in the multipart section."}],"last_activity_date":1684392181,"question_id":76272358,"body":"<p>I have created java service endpoint</p>\n<pre><code>   @RequestMapping(path = &quot;/create&quot;, method = POST,   \n           consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.MULTIPART_FORM_DATA_VALUE},   \n           produces = MediaType.APPLICATION_JSON_VALUE)  \n    public ResponseEntity&lt;RecordData&gt; createRecord(Authentication auth, Locale locale,  \n           @RequestPart(&quot;data&quot;) @Valid CreateRecordRequest dataBody,  \n           @RequestPart(&quot;file&quot;) List&lt;MultipartFile&gt; multipartFiles) throws ParseException {\n</code></pre>\n<p>or</p>\n<pre><code>    @PostMapping(value = &quot;/create&quot;, \n           consumes = MediaType.MULTIPART_FORM_DATA_VALUE, \n           produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;RecordData&gt; createRecord(Authentication auth, Locale locale,\n           @RequestPart(value = &quot;data&quot;) @Valid CreateDraftRecordRequest dataBody,\n           @RequestPart(value = &quot;file&quot;) List&lt;MultipartFile&gt; multipartFiles) throws ParseException {\n</code></pre>\n<p>Invoking service using SoapUI a got just 400 and code is not executed = no log entry, no breakpoint activated\n<a href=\"https://i.stack.imgur.com/2QU8p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2QU8p.png\" alt=\"SoapUI request\" /></a></p>\n<p>or using curl</p>\n<pre><code>$ curl -v --location &quot;http://localhost:8080/api/v1/create&quot; --header &quot;Cookie: &quot; \n--form &quot;data=\\&quot;{\\&quot;files\\&quot;: {\\&quot;enabled\\&quot;: true},\\&quot;metadata\\&quot;: {}}\\&quot;;type=application/json&quot; \n--form 'file=@&quot;_test.txt&quot;'\n</code></pre>\n<p>with response</p>\n<pre><code>&gt; POST /api/v1/create HTTP/1.1\n&gt; Host: localhost:8080\n&gt; User-Agent: curl/7.81.0\n&gt; Accept: */*\n&gt; Content-Length: 339\n&gt; Content-Type: multipart/form-data; boundary=------------------------63b3d3729b33a350\n&gt;\n} [339 bytes data]\n* We are completely uploaded and fine\n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 400\n&lt; Vary: Origin\n&lt; Vary: Access-Control-Request-Method\n&lt; Vary: Access-Control-Request-Headers\n&lt; X-Content-Type-Options: nosniff\n&lt; X-XSS-Protection: 1; mode=block\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; X-Content-Security-Policy: frame-src: 'none'\n&lt; Content-Length: 0\n&lt; Date: Thu, 18 May 2023 06:39:55 GMT\n&lt; Connection: close\n&lt;\n100   339    0     0  100   339      0    650 --:--:-- --:--:-- --:--:--   651\n* Closing connection 0\n</code></pre>\n<p>What should I change to send data/files correctly</p>\n"},{"comments":[{"comment_id":134512373,"body":"Those <code>http.proxy</code> settings are for, err, HTTP. They have no effect on a <code>Socket</code> or <code>SSLSocket</code>. Try it with an <code>HttpsURLConnection</code>, which is what you should be using anyway for a website."},{"comment_id":134513001,"body":"Yes HttpsURLConnection works. Dived a bit deeper to see why SSLSocket does not work but it seems beyond my expertise.."},{"comment_id":134524114,"body":"It doesn&#39;t work because it doesn&#39;t use those properties. <code>HttpsURLConnection</code> does not ignore them .Pretty simple. There&#39;s no reason why a socket should care about HTTP proxy settings. It doesn&#39;t know what protocol it is going to speak."}],"last_activity_date":1684392085,"question_id":76278344,"body":"<p>I'm trying to make an https connection:</p>\n<pre><code>public static void main(String[] args) throws UnknownHostException, IOException {\n    \n    /*None of these worked:\n    System.setProperty(&quot;http.proxyHost&quot;, &quot;prxgm.aknet.akb&quot;);\n    System.setProperty(&quot;http.proxyPort&quot;, &quot;8080&quot;);\n    System.setProperty(&quot;https.proxyHost&quot;, &quot;prxgm.aknet.akb&quot;);\n    System.setProperty(&quot;https.proxyPort&quot;, &quot;8080&quot;);\n    System.setProperty(&quot;java.net.useSystemProxies&quot;, &quot;true&quot;);\n    */\n    \n    /*neither this helped:\n    ProxySearch proxySearch = new ProxySearch();\n    proxySearch.addStrategy(Strategy.OS_DEFAULT); \n    ProxySelector proxySelector = proxySearch.getProxySelector(); \n    ProxySelector.setDefault(proxySelector); \n    */\n\n    String host = //&quot;services.gradle.org&quot;\n            &quot;www.yapikredi.com.tr&quot;\n            ;\n    Integer port = 443;\n    SSLSocketFactory sslsocketfactory = (SSLSocketFactory) SSLSocketFactory.getDefault();\n    SSLSocket sslsocket = (SSLSocket) sslsocketfactory\n      .createSocket(host, port);\n    InputStream in = sslsocket.getInputStream();\n    OutputStream out = sslsocket.getOutputStream();\n\n    out.write(1);\n    while (in.available() &gt; 0) {\n        System.out.print(in.read());\n    }\n\n    System.out.println(&quot;Secured connection performed successfully&quot;);\n}\n</code></pre>\n<p>I get this exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.net.ConnectException: Connection timed out: connect\nat java.base/sun.nio.ch.Net.connect0(Native Method)\nat java.base/sun.nio.ch.Net.connect(Net.java:579)\nat java.base/sun.nio.ch.Net.connect(Net.java:568)\nat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:576)\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\nat java.base/java.net.Socket.connect(Socket.java:666)\nat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:304)\nat java.base/sun.security.ssl.SSLSocketImpl.&lt;init&gt;(SSLSocketImpl.java:163)\nat java.base/sun.security.ssl.SSLSocketFactoryImpl.createSocket(SSLSocketFactoryImpl.java:88)\nat SSLDeneme.main(SSLDeneme.java:25)\n</code></pre>\n<p>I can open <a href=\"https://www.yapikredi.com.tr\" rel=\"nofollow noreferrer\">https://www.yapikredi.com.tr</a> in my browser, so I think Java proxy settings are not correct.</p>\n<p>This I've tried these without luck so far:</p>\n<ol>\n<li>Set proxy settings using Run Configuration in eclipse: -Dhttp.proxyHost=prxgm.aknet.akb -Dhttp.proxyPort=8080 -Dhttps.proxyHost=prxgm.aknet.akb -Dhttps.proxyPort=8080</li>\n<li>Set proxy settings from the Java code as commented out in the code above.</li>\n<li></li>\n</ol>\n<p>tracert <a href=\"http://www.yapikredi.com.tr\" rel=\"nofollow noreferrer\">www.yapikredi.com.tr</a> prints:</p>\n<pre><code>Tracing route to www.yapikredi.com.tr [193.254.228.224] over a maximum of 30 hops:\n  1    &lt;1 ms    &lt;1 ms    &lt;1 ms  10.215.144.1\n  2     1 ms    &lt;1 ms    &lt;1 ms  10.215.252.3\n  3     1 ms    &lt;1 ms    &lt;1 ms  10.243.226.61\n  4     *        *        *     Request timed out.\n  5     *        *        *     Request timed out.\n  6     *        *        *     Request timed out.\n  7     *        *        *     Request timed out.\n  8     *        *        *     Request timed out.\n  9     *        *        *     Request timed out.\n 10     *        *        *     Request timed out.\n 11     *        *        *     Request timed out.\n 12     *        *        *     Request timed out.\n 13     *        *        *     Request timed out.\n 14     *        *        *     Request timed out.\n 15     *        *        *     Request timed out.\n 16     *        *        *     Request timed out.\n 17     *        *        *     Request timed out.\n 18     *        *        *     Request timed out.\n 19     *        *        *     Request timed out.\n 20     *        *        *     Request timed out.\n 21     *        *        *     Request timed out.\n 22     *        *        *     Request timed out.\n 23     *        *        *     Request timed out.\n 24     *        *        *     Request timed out.\n 25     *        *        *     Request timed out.\n 26     *        *        *     Request timed out.\n 27     *        *        *     Request timed out.\n 28     *        *        *     Request timed out.\n 29     *        *        *     Request timed out.\n 30     *        *        *     Request timed out.\n\nTrace complete.\n</code></pre>\n<ol start=\"4\">\n<li></li>\n</ol>\n<p>ping to destination time outs (ping may be disabled in our system):</p>\n<pre><code>ping www.yapikredi.com.tr\nPinging www.yapikredi.com.tr [193.254.228.224] with 32 bytes of data:\nRequest timed out.\nRequest timed out.\nRequest timed out.\nRequest timed out.\nPing statistics for 193.254.228.224:\n    Packets: Sent = 4, Received = 0, Lost = 4 (100% loss),\n</code></pre>\n<ol start=\"5\">\n<li>telnet <a href=\"http://www.yapikredi.com.tr\" rel=\"nofollow noreferrer\">www.yapikredi.com.tr</a> times out.</li>\n<li>The code above, and all telnet tracert etc checks work ok for an address that by-passes proxy (a.k.a. <a href=\"https://www.akbank.com\" rel=\"nofollow noreferrer\">https://www.akbank.com</a>)</li>\n<li><a href=\"http://code.google.com/p/proxy-vole/\" rel=\"nofollow noreferrer\">Proxy-Vole</a> library <a href=\"https://stackoverflow.com/a/10325919/1728856\">suggested here</a> didn't help either.</li>\n</ol>\n<p>What else can I check?</p>\n"},{"answers":[{"comments":[{"comment_id":134525435,"body":"Hey Ð”Ð°Ñ€Ñ…Ð°Ð½. Have you tried my solution above, does it work for you?"}],"answer_id":76278286,"body":"<p>The problem lies in the following line of code:</p>\n<pre><code>RootRef.child(&quot;Users&quot;).child(phone).updateChildren(userDataMap).addOnCompleteListener(/*.../*);\n</code></pre>\n<p>The <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/database/DatabaseReference#updateChildren(java.util.Map%3Cjava.lang.String,java.lang.Object%3E)\" rel=\"nofollow noreferrer\">DatabaseReference#updateChildren(@NonNull Map&lt;String, Object&gt; update)</a> takes an argument of type <code>Map&lt;String, Object&gt;</code>. The <code>userDataMap</code> object is defined as:</p>\n<pre><code>HashMap&lt;String, Object&gt; userDataMap = new HashMap&lt;&gt;();\n//ðŸ‘†\n</code></pre>\n<p>Which is HashMap, not a Map, hence the error. To solve this, you need to simply change the type of the object like this:</p>\n<pre><code>Map&lt;String, Object&gt; userDataMap = new HashMap&lt;&gt;();\n//ðŸ‘†\n</code></pre>\n<p>And your error will be gone.</p>\n"}],"last_activity_date":1684391519,"question_id":76275503,"body":"<p>My English is bad. I can't solve this problem. I do not know how to change the code to make everything work:</p>\n<p><a href=\"https://i.stack.imgur.com/01CEE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/01CEE.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>RootRef.child(&quot;Users&quot;).child(phone).updateChildren(userDataMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n</code></pre>\n<pre><code>  required: Map&lt;String,Object&gt;,CompletionListener\n  found:    HashMap&lt;String,Object&gt;\n  reason: actual and formal argument lists differ in length\n</code></pre>\n<p>My code:</p>\n<pre><code>typpackage com.example.remont_okon;\n\nimport static java.util.Collections.*;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.service.autofill.UserData;\nimport android.text.TextUtils;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Objects;\n\npublic class RegisterActivity extends AppCompatActivity {\n\n    private Button registerbutton;\n    private EditText usernameinput,phoneinput,passwordinput;\n    private ProgressDialog loandingbar;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n        registerbutton = (Button) findViewById(R.id.register_button);\n        usernameinput = (EditText) findViewById(R.id.register_username_input);\n        phoneinput = (EditText) findViewById(R.id.register_phone_input);\n        passwordinput = (EditText) findViewById(R.id.register_password_input);\n        loandingbar = new ProgressDialog(this);\n        registerbutton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                CreateAccount();\n            }\n        });\n\n\n    }\n\n    private void CreateAccount() {\n        String username = usernameinput.getText().toString();\n        String phone = phoneinput.getText().toString();\n        String passsword = passwordinput.getText().toString();\n\n        if(TextUtils.isEmpty(username)){\n            Toast.makeText(this, &quot;Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð˜Ð¼Ñ&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else if(TextUtils.isEmpty(phone)){\n            Toast.makeText(this, &quot;Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else if(TextUtils.isEmpty(passsword)){\n            Toast.makeText(this, &quot;Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else\n        {\n            loandingbar.setTitle(&quot;Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°&quot;);\n            loandingbar.setMessage(&quot;ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð° Ð¿Ð¾Ð´Ð¾Ð¶Ð´Ð¸Ñ‚Ðµ&quot;);\n            loandingbar.setCanceledOnTouchOutside(false);\n            loandingbar.show();\n\n            ValidatePhone(username,phone,passsword);\n        }\n\n    }\n\n    private void ValidatePhone(final String username, final String phone, final String passsword) {\n        final DatabaseReference RootRef;\n        RootRef = FirebaseDatabase.getInstance().getReference();\n\n\n        RootRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                if(!(dataSnapshot.child(&quot;Users&quot;).child(phone).exists()))\n                {\n                    HashMap&lt;String, Object&gt; userDataMap = new HashMap&lt;&gt;();\n                    userDataMap.put(&quot;phone&quot;, phone );\n                    userDataMap.put(&quot;name&quot;, username );\n                    userDataMap.put(&quot;password&quot;, passsword );\n\n                    RootRef.child(&quot;Users&quot;).child(phone).updateChildren(userDataMap).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                            if (task.isSuccessful()) {\n                                loandingbar.dismiss();\n                                Toast.makeText(RegisterActivity.this, &quot;Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¾ÑˆÐ»Ð° ÑƒÑÐ¿ÐµÑˆÐ½Ð¾&quot;, Toast.LENGTH_SHORT).show();\n                                Intent loginIntent = new Intent(RegisterActivity.this, LoginActivity.class);\n                                startActivity(loginIntent);\n\n                            } else {\n                                loandingbar.dismiss();\n                                Toast.makeText(RegisterActivity.this, &quot;Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð½Ðµ Ð¿Ñ€Ð¾ÑˆÐ»Ð° ÑƒÑÐ¿ÐµÑˆÐ½Ð¾&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    });\n                }\n                else {\n                    Toast.makeText(RegisterActivity.this, &quot;ÐÐ¾Ð¼Ñ€Ðµ&quot; + phone + &quot;Ð£Ð¶Ðµ Ð·Ð°Ñ€ÐµÐ³ÐµÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½&quot;, Toast.LENGTH_SHORT).show();\n                    loandingbar.dismiss();\n                    Intent loginIntent = new Intent(RegisterActivity.this, LoginActivity.class);\n                    startActivity(loginIntent);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>I have already installed updates and downgraded versions of packages. At the moment, my gradle file looks like this.</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    // Add the Google services Gradle plugin\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    namespace 'com.example.remont_okon'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.remont_okon&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation ('com.ibm.watson:ibm-watson:7.0.0'){\n        exclude group: 'com.google.code.findbugs', module: 'annotations'\n    }\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.3.0'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-analytics:17.2.1'\n    implementation 'com.google.firebase:firebase-database:16.0.4'\n    implementation 'com.google.firebase:firebase-admin:9.1.1'\n    implementation platform('com.google.firebase:firebase-bom:32.0.0')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.github.rey5137:material:1.2.5'\n    implementation 'com.google.firebase:firebase-firestore:24.1.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n"},{"comments":[{"comment_id":134514198,"body":"You have not given the details of the design; however, you need to refactor the current design such that any class that both service A and B depend on is floated up as part of a common library. How it can be done is dependent on your current standing design, by general principal that&#39;s what need to be done"}],"last_activity_date":1684391496,"question_id":76278023,"body":"<p>I have a service A which has a major dependency on service B. Now I have imported that service in my POM but the thing is I need to use an object of service A in service B. But I don't how I would be able to do that I don't wan to create dependency of service A in service B and neither want to make rest calls.\nAny suggestion?</p>\n<p>I have tried to refactor that object from service A to service B but that doesn't seem to work because that object has some dependencies on service A classes.</p>\n"}]}