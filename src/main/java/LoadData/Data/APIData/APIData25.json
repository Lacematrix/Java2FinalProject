{"items":[{"comments":[{"comment_id":134528653,"body":"provide your code and the error please"}],"last_activity_date":1684224802,"question_id":76260726,"body":"<p>I have an enormous data to be inserted to mongoDB via springboot microservice. The microservice using bulkOperitions to perform bulk insert.</p>\n<p>But I'm having trouble the find the optimal size of the data which will be inserted as bulk insert.</p>\n<p>How can I find the optimal size to perform bulk insert.</p>\n<p>I'm using mongoDB 4.4, and I tried with 50k as bulkLimit. With this limit service makes a lot of inserts nearly 500 times each contains 50k document.</p>\n"},{"comments":[{"comment_id":134398470,"body":"I think you should use addClassName(..) instead."},{"comment_id":134399730,"body":"Instead of labelFirmaGruppoValue.setStyleName(&quot;elementiStiliTipo18&quot;)?"},{"comment_id":134404938,"body":"Yes, look here <a href=\"https://vaadin.com/docs/v23/styling/getting-started/#styling.get-started.selective-styling-light-dom\" rel=\"nofollow noreferrer\">vaadin.com/docs/v23/styling/getting-started/&hellip;</a>"},{"comment_id":134406212,"body":"no I cannot, I should resolve the issue with vaadin 7; and it seems I haven&#39;t addClassName in vaadin 7"},{"comment_id":134406351,"body":"Your &quot;esercizio.css&quot; file is probably in a wrong place. But you do not actually need it, you can copy your CSS into your theme, see picture here to find it <a href=\"https://vaadin.com/docs/v7/framework/themes/themes-overview\" rel=\"nofollow noreferrer\">vaadin.com/docs/v7/framework/themes/themes-overview</a>"},{"comment_id":134407595,"body":"You right, in the network panel I saw, it does not find esercizio.css; But the themes is contain in the jar file vaadin-themes.jar, should I have to compile it in order to see my modification? I&#39;ve also created a folder under src/main/webapp/mythema and put esercizio.css under it, but still not find"},{"comment_id":134412801,"body":"@ollitietavainen,@Tatu Lund yes it is releated to vaadin7; but is a problem of my code or something wrong with the framework? I really appreciate if could you give me some clue to solve it"},{"comment_id":134420689,"body":"Did you read the piece of documentation I linked?"},{"comment_id":134421469,"body":"Sure @Tatu Lund, and I saw the thema is inside a jar file vaadin-themes.jar, now I&#39;m asking to apply my modification should I modify the jar file?"},{"comment_id":134421507,"body":"Just copy your styles to theme scss file and remove <code>@Stylesheet</code> annotation."},{"comment_id":134421922,"body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253600/discussion-between-fraaanz-and-tatu-lund\">continue this discussion in chat</a>."}],"answers":[{"answer_id":76260724,"body":"<p>the place where the file esercizio.css was posted was wrong, just put it on classpath and everything works as expected.</p>\n"}],"last_activity_date":1684224783,"question_id":76211336,"body":"<p>I can't figure out why if I set a particular style, it doesn't saw in the render page:\nThis is my code:</p>\n<pre><code>@SuppressWarnings(&quot;serial&quot;)\n\n@StyleSheet(&quot;esercizio.css&quot;)\n\npublic class ExercisesUI extends UI {\n\n    private Navigator navigator;\n    private VerticalLayout layout;\n    private Label labelFirmaGruppoValue = new Label();\n    HorizontalLayout soloFirmaLayout = new HorizontalLayout();\n\n    @Override\n    protected void init(VaadinRequest request) {\n        layout = new VerticalLayout();\n        layout.setMargin(true);\n        \n        String firmaGruppoValue= &quot;nel mezzo di cammin di nostra vita&quot;;\n        \n        labelFirmaGruppoValue.setValue(firmaGruppoValue);\n        \n        labelFirmaGruppoValue.setStyleName(&quot;elementiStiliTipo18&quot;);\n        soloFirmaLayout.addComponent(labelFirmaGruppoValue);\n        soloFirmaLayout.setSpacing(true);\n        \n        layout.addComponent(soloFirmaLayout);\n        \n        setContent(layout);\n        \n    }\n\n    @WebServlet(urlPatterns = &quot;/*&quot;, name = &quot;MyUIServlet&quot;, asyncSupported = true)\n    @VaadinServletConfiguration(ui = ExercisesUI.class, productionMode = false)\n    public static class MyUIServlet extends VaadinServlet {\n    }\n}\n</code></pre>\n<p>and this one is esercizio.css:</p>\n<pre><code>.elementiStiliTipo18{\n    font-weight: 700;\n    font-size: 16pt;\n    color: #C97000 !important;  \n}\n</code></pre>\n<p>now when I run it, I will get:</p>\n<p><a href=\"https://i.stack.imgur.com/Sjl7B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sjl7B.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see elementiStiliTipo18 is added in the class, but the text is white and not brown (#C97000);</p>\n<p>I cannot understand why, can be a bug on vaadin setStyle method?</p>\n"},{"last_activity_date":1684224729,"question_id":76253521,"body":"<p>In the java code for forecasting the availability of a prospective line item , the below piece of code is used for Custom Targeting and the forecasted availability is not matching with the GAM UI forecast when the same set of targeting is used.</p>\n<pre><code>  CustomCriteria customCriteria = new CustomCriteria();\n   long customTargetingKeyId = 11975183;\n   customCriteria.setKeyId(customTargetingKeyId);\n   long [] customTargetingValueIds = {448353925185L};\n   customCriteria.setValueIds(customTargetingValueIds);\n   \n   CustomCriteriaSet customCriteriaSet = new CustomCriteriaSet();\n  \n   customCriteriaSet.setLogicalOperator(CustomCriteriaSetLogicalOperator.AND);\n   customCriteriaSet.setChildren(new CustomCriteria[] {customCriteria});\n   \n   targeting.setCustomTargeting(customCriteriaSet);\n</code></pre>\n<p>How can I make this work and get the same forecast as in GAM UI ?</p>\n"},{"comments":[{"comment_id":134481454,"body":"What exact functionality do you need? Things in different programming languages almost never have one-to-one equivalents."},{"comment_id":134481487,"body":"What do you mean by “to access ascii characters”?"},{"comment_id":134481497,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/16458564/convert-character-to-ascii-numeric-value-in-java\">Convert character to ASCII numeric value in java</a>"},{"comment_id":134481506,"body":"Java, by default, supports all of the over 140,000 characters defined in Unicode. This includes the 127 characters defined in ASCII, with Unicode being a superset of US-ASCII."},{"comment_id":134481547,"body":"@Sweeper hi sorry just edited the post for the python code example"},{"comment_id":134481643,"body":"There is no such constants like <code>asci_letters</code> defined in the Java standard library. Write out the characters you want yourself."},{"comment_id":134482499,"body":"You will need to find a third party library for this (and recommendations are off-topic), or write it yourself."}],"last_activity_date":1684224631,"question_id":76260087,"body":"<p>I am a beginner in Java and I am working on a password generator program. I want to generate a random string using all possible letters + numbers + valid symbols.</p>\n<p>I made this project before in Python where I used <code>import string</code> to access ASCII characters. Is there any similar package in Java?</p>\n<p>For example</p>\n<pre class=\"lang-py prettyprint-override\"><code>import random\nimport string\n\ndef generate_random_password(length):\n    characters = string.ascii_letters + string.digits + string.punctuation\n    password = ''.join(random.choice(characters) for _ in range(length))\nreturn password\n\npassword_length = 10\npassword = generate_random_password(password_length)\nprint(&quot;Generated Password:&quot;, password)\n</code></pre>\n<p>In this Python code, I do not need to individually types the letters, numbers and symbols due to import string. Is there anything similar to this in Java?</p>\n"},{"last_activity_date":1684224558,"question_id":76260360,"body":"<p>Used below dependancy for create digitial signature</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.santuario&lt;/groupId&gt;\n    &lt;artifactId&gt;xmlsec&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I try to create digital signature using</p>\n<pre><code>DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n</code></pre>\n<p>But after the digital signature creating process it output not i'm expected xml referance\nHere's the output</p>\n<pre><code>&lt;ds:Reference Id=&quot;cid:aseXML&quot; URI=&quot;#cid:aseXML&quot;&gt;\n</code></pre>\n<p>Here the whole output xml when create the signature</p>\n<pre><code>------=_Part_0_728269496.1684211247325\nContent-Type: text/xml; charset=utf-8\nContent-Id: \n&lt;soappart&gt;\nContent-Transfer-Encoding: binary\n\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;SOAP-ENV:Envelope\n        xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n        xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot;\n        xmlns:eb=&quot;http://www.ebxml.org/namespaces/messageHeader&quot;\n        xmlns:ns0=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;\n        xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://schemas.xmlsoap.org/soap/envelope/ file:packages/WmebXML/config/init/schemas/msg_1_0/envelope.xsd http://www.ebxml.org/namespaces/messageHeader file:packages/WmebXML/config/init/schemas/msg_1_0/messageHeaderv0_99.xsd&quot;&gt;\n        &lt;SOAP-ENV:Header&gt;\n            &lt;eb:MessageHeader eb:version=&quot;1.0&quot; soapenv:mustUnderstand=&quot;1&quot;&gt;\n                &lt;eb:From&gt;\n                    &lt;eb:PartyId eb:type=&quot;urn:frchub.net&quot;&gt;XXX&lt;/eb:PartyId&gt;\n                &lt;/eb:From&gt;\n                &lt;eb:To&gt;\n                    &lt;eb:PartyId eb:type=&quot;urn:frchub.net&quot;&gt;XXX&lt;/eb:PartyId&gt;\n                &lt;/eb:To&gt;\n                &lt;eb:CPAId&gt;XXX&lt;/eb:CPAId&gt;\n                &lt;eb:ConversationId&gt;XXX XXX 781181f1-549f-43ac-b069-cff842120197&lt;/eb:ConversationId&gt;\n                &lt;eb:Service eb:type=&quot;fbs&quot;&gt;MediumPriorityAseXMLDocument&lt;/eb:Service&gt;\n                &lt;eb:Action&gt;MDMT&lt;/eb:Action&gt;\n                &lt;eb:MessageData&gt;\n                    &lt;eb:MessageId&gt;XXX 781181f1-549f-43ac-b069-cff842120197&lt;/eb:MessageId&gt;\n                    &lt;eb:Timestamp&gt;2023-05-16T14:27:27+10:00&lt;/eb:Timestamp&gt;\n                    &lt;eb:TimeToLive&gt;2023-05-16T17:27:27+10:00&lt;/eb:TimeToLive&gt;\n                &lt;/eb:MessageData&gt;\n                &lt;eb:QualityOfServiceInfo eb:deliverySemantics=&quot;OnceAndOnlyOnce&quot;/&gt;\n            &lt;/eb:MessageHeader&gt;\n            &lt;eb:TraceHeaderList eb:version=&quot;1.0&quot; soapenv:actor=&quot;http://schemas.xmlsoap.org/soap/actor/next&quot; soapenv:mustUnderstand=&quot;1&quot;&gt;\n                &lt;eb:TraceHeader&gt;\n                    &lt;eb:Sender&gt;\n                        &lt;eb:PartyId eb:type=&quot;urn:frchub.net&quot;&gt;XXX&lt;/eb:PartyId&gt;\n                        &lt;eb:Location&gt;https://gashub-prod.sumo.com.au:5326/invoke/wm.ip.ebxml.MSH/receive&lt;/eb:Location&gt;\n                    &lt;/eb:Sender&gt;\n                    &lt;eb:Receiver&gt;\n                        &lt;eb:PartyId eb:type=&quot;urn:frchub.net&quot;&gt;RELAY&lt;/eb:PartyId&gt;\n                        &lt;eb:Location&gt;https://preprod.frchub.net:5319/invoke/relay/inbound&lt;/eb:Location&gt;\n                    &lt;/eb:Receiver&gt;\n                    &lt;eb:Timestamp&gt;2023-05-16T14:27:27+10:00&lt;/eb:Timestamp&gt;\n                &lt;/eb:TraceHeader&gt;\n            &lt;/eb:TraceHeaderList&gt;\n            &lt;eb:Via eb:ackRequested=&quot;Signed&quot; eb:version=&quot;1.0&quot; soapenv:actor=&quot;http://schemas.xmlsoap.org/soap/actor/next&quot; soapenv:mustUnderstand=&quot;1&quot;/&gt;\n            &lt;ds:Signature Id=&quot;WmEbXML-Signature-54cl6h00gi08isbf003ient2&quot;&gt;\n                &lt;ds:SignedInfo&gt;\n                    &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;\n                    &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#rsa-sha1&quot;/&gt;\n                    &lt;ds:Reference URI=&quot;&quot;&gt;\n                        &lt;ds:Transforms&gt;\n                            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped-signature&quot;/&gt;\n                            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/TR/1999/REC-xpath-19991116&quot;&gt;\n                                &lt;ds:XPath&gt;not(ancestor-or-self::eb:TraceHeaderList or ancestor-or-self::eb:Via)&lt;/ds:XPath&gt;\n                            &lt;/ds:Transform&gt;\n                            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/TR/2001/REC-xml-c14n-20010315&quot;/&gt;\n                        &lt;/ds:Transforms&gt;\n                        &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\n                        &lt;ds:DigestValue&gt;L1NiK7K8gy44ubM1WagOkAfyXuI=&lt;/ds:DigestValue&gt;\n                    &lt;/ds:Reference&gt;\n                    **&lt;ds:Reference Id=&quot;cid:aseXML&quot; URI=&quot;#cid:aseXML&quot;&gt;**\n                        &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#sha1&quot;/&gt;\n                        &lt;ds:DigestValue&gt;49kdKnmdhzC0wBF8L9sKMX32G1o=&lt;/ds:DigestValue&gt;\n                    &lt;/ds:Reference&gt;\n                &lt;/ds:SignedInfo&gt;\n                &lt;ds:SignatureValue&gt;XzyXevY00aJlo+sSj2wNpbO9mFQp7ML136b0guGSmyt/8nZRff/cB5MrAHDAU7hOnqwmNd8XBNwz7/djrgVumFvbPROSEgX2b6izXkc2f6mqlslWYtjMPb/vv6PGvok0ugu3ajRdcpuK1awHD0rp4zyKEpPLDxA4z0EMclLL9nKEtGV09VRoQoFpefkYA3t8pgdSdXdQGoZLXwTvamDMQLmi0KUfryRVKshk9P4S3jZFSZbiiexjIE1asm2nR0xP/F1J4U8b3/Ef+5G2BuAW758MVbJi78LFjrsRB2VDIueQzih3BTi/+CfJ8p7Eg1IjrUUk9/8X2qUtedbygP1FSw==&lt;/ds:SignatureValue&gt;\n                &lt;ds:KeyInfo&gt;\n                    &lt;ds:KeyValue&gt;\n                        &lt;ds:RSAKeyValue&gt;\n                            &lt;ds:Modulus&gt;tEwpS7E66OGOtjRmxF/n2WhRtSG4fX1plZWOMC6muIQKRmNeZ4R1rIhWN9/ApIvnU2s3ydV6EuYxXwgg6Dj+rFqLyD4ad5kpe4iValJw6+iUgNsdPXeX4nyzSyjrYwqXBWcJ1PySuVjN4fGI20M/9UBN6p35N/7SQhkrx9Hrj+y/sIZj33SDLrqw79HeoTbah1aL8V4Ah02tYQi20qRAsyM1dz3czuzCdvA2flQFlWJsX0NEFFyDfbOEQk6ZbeWYdbSHxYvEjWy0A0EQ2bfBog0A/ulVCMY8VFHVohcVi6+jwmHq6rFezTKnDeCaY9fL9/1n07CjEOzDvYJp5FlfSw==&lt;/ds:Modulus&gt;\n                            &lt;ds:Exponent&gt;AQAB&lt;/ds:Exponent&gt;\n                        &lt;/ds:RSAKeyValue&gt;\n                    &lt;/ds:KeyValue&gt;\n                    &lt;ds:X509Data&gt;\n                        &lt;ds:X509SubjectName&gt;XXX&lt;/ds:X509SubjectName&gt;\n                        &lt;ds:X509Certificate&gt;MIIFAzCCA+ugAwIBAgIQD8BrY2+s1N8STrkTMhU63zANBgkqhkiG9w0BAQsFADBcMQswCQYDVQQGEwJBVTEyMDAGA1UEChMpQXVzdHJhbGlhbiBFbmVyZ3kgTWFya2V0IE9wZXJhdG9yIExpbWl0ZWQxGTAXBgNVBAMTEEFFTU8tSUNBLVRFU1QgRzEwHhcNMjMwMjE3MDAwMDAwWhcNMjYwMjE1MjM1OTU5WjBbMQswCQYDVQQGEwJBVTERMA8GA1UECBMIVmljdG9yaWExEjAQBgNVBAcTCU1lbGJvdXJuZTENMAsGA1UEChMEQUVNTzEWMBQGA1UEAxMNU1VNTzItUHJlUHJvZDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALRMKUuxOujhjrY0ZsRf59loUbUhuH19aZWVjjAupriECkZjXmeEdayIVjffwKSL51NrN8nVehLmMV8IIOg4/qxai8g+GneZKXuIlWpScOvolIDbHT13l+J8s0so62MKlwVnCdT8krlYzeHxiNtDP/VATeqd+Tf+0kIZK8fR64/sv7CGY990gy66sO/R3qE22odWi/FeAIdNrWEIttKkQLMjNXc93M7swnbwNn5UBZVibF9DRBRcg32zhEJOmW3lmHW0h8WLxI1stANBENm3waINAP7pVQjGPFRR1aIXFYuvo8Jh6uqxXs0ypw3gmmPXy/f9Z9OwoxDsw72CaeRZX0sCAwEAAaOCAcAwggG8MB8GA1UdIwQYMBaAFLObeJREzHBITOulhDEDmNo2+ssEMB0GA1UdDgQWBBTYcw2iSBrmnKmkVG6hk2JvCVaOUzAYBgNVHREEETAPgg1TVU1PMi1QcmVQcm9kMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwbQYDVR0fBGYwZDAwoC6gLIYqaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0FFTU9JQ0FURVNURzEuY3JsMDCgLqAshipodHRwOi8vY3JsNC5kaWdpY2VydC5jb20vQUVNT0lDQVRFU1RHMS5jcmwwQQYDVR0gBDowODA2BglghkgBhv1sAQEwKTAnBggrBgEFBQcCARYbaHR0cDovL3d3dy5kaWdpY2VydC5jb20vQ1BTMHEGCCsGAQUFBwEBBGUwYzAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuZGlnaWNlcnQuY29tMDsGCCsGAQUFBzAChi9odHRwOi8vY2FjZXJ0cy5kaWdpY2VydC5jb20vQUVNTy1JQ0EtVEVTVEcxLmNydDAMBgNVHRMBAf8EAjAAMA0GCSqGSIb3DQEBCwUAA4IBAQCrrec8+7laWuMzxvmws/80dtdVKmwTTF/qXFy3k3ONDNqcfQteXjKxH83VFxi9rgKSt07HG2HWzUnOzK4WSJ4Lwr/Af01Ycxy5zblSzfl/9A0yjgyX9rxFnRYtLYr8EqMXt18N1jdd+YH9L0P8j+SKfdzm5C1tLTlWV2fKppaE2xjmYw3Bj4g8xG+bhaNR/sFXzp2NApovBjdsfh2BjBw1gXDdSKjh8OE2/zEW7RcilwjDw8+8vJAEs1XQnc9zU1OiheWSdAjPXhxTtlGmcwKBqo8Gi75rTd2wxk747oIiSKBjCVsLgdKu12RZGDmvH4vr3a/9P6VkyrHVuM5DGaFC&lt;/ds:X509Certificate&gt;\n                    &lt;/ds:X509Data&gt;\n                &lt;/ds:KeyInfo&gt;\n            &lt;/ds:Signature&gt;\n        &lt;/SOAP-ENV:Header&gt;\n        &lt;SOAP-ENV:Body&gt;\n            &lt;eb:Manifest eb:version=&quot;1.0&quot;&gt;\n                &lt;eb:Reference eb:id=&quot;aseXML&quot; xlink:href=&quot;cid:aseXML&quot; xlink:type=&quot;simple&quot;&gt;\n                    &lt;eb:Schema eb:location=&quot;urn:aseXML:r40 http://www.nemmco.com.au/aseXML/schemas/r40/aseXML_r40.xsd&quot; eb:version=&quot;r40&quot;/&gt;\n                &lt;/eb:Reference&gt;\n            &lt;/eb:Manifest&gt;\n        &lt;/SOAP-ENV:Body&gt;\n    &lt;/SOAP-ENV:Envelope&gt;\n------=_Part_0_728269496.1684211247325\nContent-Type: application/xml\nContent-ID: \n    &lt;aseXML&gt;\nContent-Transfer-Encoding: binary\n\n\n        &lt;ase:aseXML xsi:schemaLocation=&quot;urn:aseXML:r40 http://www.nemmco.com.au/aseXML/schemas/r40/aseXML_r40.xsd&quot;\n            xmlns:ase=&quot;urn:aseXML:r40&quot;\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n            &lt;Header&gt;\n                &lt;From&gt;XXX&lt;/From&gt;\n                &lt;To&gt;XXX&lt;/To&gt;\n                &lt;MessageID&gt;XXX&lt;/MessageID&gt;\n                &lt;MessageDate&gt;2023-04-26T11:59:10+10:00&lt;/MessageDate&gt;\n                &lt;TransactionGroup&gt;XXX&lt;/TransactionGroup&gt;\n                &lt;Priority&gt;Medium&lt;/Priority&gt;\n                &lt;Market&gt;XXX&lt;/Market&gt;\n            &lt;/Header&gt;\n            &lt;Transactions&gt;\n                &lt;Transaction transactionID=&quot;KHG-TNS-20230426115829915118&quot; transactionDate=&quot;2023-04-26T11:58:29+10:00&quot;&gt;\n                    &lt;NMIDiscoveryRequest version=&quot;r17&quot;&gt;\n                        &lt;JurisdictionCode&gt;WGI&lt;/JurisdictionCode&gt;\n                        &lt;Address&gt;\n                            &lt;StructuredAddress&gt;\n                                &lt;House&gt;\n                                    &lt;HouseNumber&gt;7&lt;/HouseNumber&gt;\n                                &lt;/House&gt;\n                                &lt;Street&gt;\n                                    &lt;StreetName&gt;XXX&lt;/StreetName&gt;\n                                    &lt;StreetType&gt;XXX&lt;/StreetType&gt;\n                                &lt;/Street&gt;\n                            &lt;/StructuredAddress&gt;\n                            &lt;SuburbOrPlaceOrLocality&gt;XXX&lt;/SuburbOrPlaceOrLocality&gt;\n                            &lt;StateOrTerritory&gt;NSW&lt;/StateOrTerritory&gt;\n                            &lt;PostCode&gt;6112&lt;/PostCode&gt;\n                        &lt;/Address&gt;\n                    &lt;/NMIDiscoveryRequest&gt;\n                &lt;/Transaction&gt;\n            &lt;/Transactions&gt;\n        &lt;/ase:aseXML&gt;\n------=_Part_0_728269496.1684211247325--\n</code></pre>\n<p>Check this part in above xml</p>\n<p><strong>&lt;ds:Reference Id=&quot;cid:aseXML&quot; URI=&quot;#cid:aseXML&quot;&gt;</strong></p>\n<p>I expected this xml line like below</p>\n<p><strong>&lt;ds:Reference URI=&quot;cid:aseXML&quot;&gt;</strong></p>\n<pre><code>public SOAPMessage addSignature(Resource keyStoreFile, String keyStorePassword, String keyStoreAlias, SOAPMessage soapMessage) throws Exception {\n\n        Field f = XMLUtils.class.getDeclaredField(&quot;ignoreLineBreaks&quot;);\n        f.setAccessible(true);\n        f.set(null, Boolean.TRUE);\n\n        //create basic structure of signature\n        DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n        dbFactory.setNamespaceAware(true);\n        DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n\n        File attachedFile = new File(&quot;C:\\\\Resources\\\\ase2.xml&quot;);\n        Element element = null;\n        Document doc = dBuilder.parse(new InputSource(new StringReader(printSOAPResponse(soapMessage))));\n\n        Init.init();\n        org.apache.xml.security.signature.XMLSignature sig =\n            new org.apache.xml.security.signature.XMLSignature(doc, null, SignatureMethod.RSA_SHA1);\n\n        element = doc.getDocumentElement();\n        element.normalize();\n        element.getElementsByTagName(&quot;SOAP-ENV:Header&quot;).item(0).appendChild(sig.getElement());\n\n        Transforms transforms = new Transforms(doc);\n        transforms.addTransform(CanonicalizationMethod.ENVELOPED);\n\n        String xpathExpr = &quot;not(ancestor-or-self::eb:TraceHeaderList or ancestor-or-self::eb:Via)&quot;;\n\n        XPathContainer xpathContainer = new XPathContainer(doc);\n        xpathContainer.setXPath(xpathExpr);\n\n        // Add the XPath transform to the Transforms object\n        transforms.addTransform(Transforms.TRANSFORM_XPATH, xpathContainer.getElement());\n\n        transforms.addTransform(CanonicalizationMethod.INCLUSIVE);\n\n        ResolverLocalFilesystem fileResolver = new ResolverLocalFilesystem();\n        ResourceResolver.register(fileResolver, false);\n\n        //Sign the content of SOAP Envelope\n        sig.addDocument(&quot;&quot;, transforms, Constants.ALGO_ID_DIGEST_SHA1);\n\n        //Adding the attachment to be signed\n        //sig.addDocument(attachedFile.toURI().toURL().toString(), null, Constants.ALGO_ID_DIGEST_SHA1);\n        **sig.getSignedInfo().addDocument(attachedFile.getPath(), &quot;#cid:aseXML&quot;, null, Constants.ALGO_ID_DIGEST_SHA1, &quot;cid:aseXML&quot;, null);**\n\n        // Load the KeyStore and get the signing key and certificate.\n        KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n        keyStore.load(keyStoreFile.getInputStream(), keyStorePassword.toCharArray());\n\n        KeyStore.PrivateKeyEntry keyEntry =\n            (KeyStore.PrivateKeyEntry) keyStore.getEntry\n                (keyStoreAlias, new KeyStore.PasswordProtection(keyStorePassword.toCharArray()));\n\n        X509Certificate x509Certificate = (X509Certificate) keyEntry.getCertificate();\n        sig.setId(&quot;WmEbXML-Signature-54cl6h00gi08isbf003ient2&quot;);\n        PublicKey publicKey = keyEntry.getCertificate().getPublicKey();\n        sig.addKeyInfo(publicKey);\n\n        org.apache.xml.security.keys.content.X509Data x509Data = new org.apache.xml.security.keys.content.X509Data(doc);\n\n        // create an XMLX509SubjectName object and set the subject name\n        XMLX509SubjectName subjectName = new XMLX509SubjectName(doc, x509Certificate.getSubjectX500Principal().getName());\n        x509Data.add(subjectName);\n        x509Data.addCertificate(x509Certificate);\n\n        org.apache.xml.security.keys.KeyInfo keyInfo = sig.getKeyInfo();\n        keyInfo.add(x509Data);\n\n        sig.sign(keyEntry.getPrivateKey());\n        \n        DOMImplementationLS domImplementationLS = (DOMImplementationLS) doc.getImplementation();\n\n        LSSerializer lsSerializer = domImplementationLS.createLSSerializer();\n        LSOutput lsOutput = domImplementationLS.createLSOutput();\n        lsOutput.setEncoding(&quot;UTF-8&quot;);\n\n        Writer stringWriter = new StringWriter();\n        lsOutput.setCharacterStream(stringWriter);\n        lsSerializer.write(doc, lsOutput);\n        String content = stringWriter.toString();\n\n        SOAPMessage message = toSOAPMessage(content);\n\n        return message;\n    }\n</code></pre>\n<p>I change this method so many ways\n<strong>sig.getSignedInfo().addDocument(attachedFile.getPath(), &quot;#cid:aseXML&quot;, null, Constants.ALGO_ID_DIGEST_SHA1, &quot;cid:aseXML&quot;, null);</strong></p>\n<p>But no luck.</p>\n<p>Please give any suggestion for this kind of issue</p>\n"},{"comments":[{"comment_id":134481801,"body":"you really should refrain from mixing java and html code like that. it makes it pretty hard to read/maintain. What actual error do you get? what do you assume that &#39;check()&#39; function will return?"},{"comment_id":134481807,"body":"There&#39;s nothing dynamic about your code, why generate it this way?"},{"comment_id":134482002,"body":"Also please use the submit event and preventDefault instead of submit button click"},{"comment_id":134482017,"body":"You use name=&quot;discount&quot; but getElementById. Add the id or change to <code>document.querySelector(&quot;name=discount&quot;)</code> - also it is type=&quot;text&quot;, not &quot;String&quot;"}],"answers":[{"answer_id":76260321,"body":"<p>You are using <code>document.getElementById(&quot;discount&quot;)</code> but you did not create an element with that ID.</p>\n<p>Change</p>\n<pre><code>&lt;input type=&quot;String&quot; name=&quot;discount&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;input type=&quot;text&quot; name=&quot;discount&quot; id=&quot;discount&quot;&gt;\n</code></pre>\n"},{"answer_id":76260527,"body":"<p>There are so many things that are questionable in your code.</p>\n<ol>\n<li>Do not use out.println to write html that is not dynamic</li>\n<li>Do not use click event handler in a form for validation, instead use the submit event</li>\n<li>it is type=&quot;text&quot;, not type=&quot;String&quot;</li>\n<li>use the &quot;reserved&quot; attribute to make sure it is filled.</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;%@ page language=\"java\" contentType=\"text/html; charset=utf-8\" pageEncoding=\"utf-8\"%&gt;\n  &lt;!doctype html&gt;\n  &lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\" /&gt;\n    &lt;title&gt;Discount form&lt;/title&gt;\n    &lt;script&gt;\n      window.addEventListener(\"DOMContentLoaded\", () =&gt; { // when page has loaded\n        document.getElementById(\"discountForm\").addEventListener(\"submit\", (e) =&gt; {\n          const discountField = document.getElementById(\"discount\");\n          let inputDiscountValue = discountField.value;\n          if (inputDiscountValue !== 'code10') {\n            alert('Code not valid');\n            discountField.focus();\n            e.preventDefault(); // stop submission\n          }\n        });\n      });\n    &lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;form id=\"discountForm\" action=\"Servlet2\" method=\"post\"&gt;\n      &lt;input type=\"text\" name=\"discount\" id=\"discount\" required /&gt;\n      &lt;input type=\"submit\" value=\"Go\" /&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n\n  &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"last_activity_date":1684224518,"question_id":76260293,"body":"<p>I want to check in a Java Servlet if the user entered code10 in a input field, after they pressed the submit button. If that's the case, the form should just go to the next page, if something else than code10 there should just be an alert, and the user should stay on the same page to enter a new code, or leave the input field blank.</p>\n<p>These are the important snippets out of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>out.println(&quot;&lt;head&gt;&lt;script type=\\&quot;text/javascript\\&quot;&gt;&quot;);\nout.println(&quot;function check() {&quot;);\nout.println(&quot;var inputDiscountValue = document.getElementById(\\&quot;discount\\&quot;).value;&quot;);\nout.println(&quot;if (inputDiscountValue == 'code10' OR inputDiscountValue == '') {&quot;);\nout.println(&quot;return true;&quot;);\nout.println(&quot;} else {&quot;);\nout.println(&quot;alert('Code not valid');&quot;);\nout.println(&quot;return false;&quot;);\nout.println(&quot;}&quot;);\nout.println(&quot;}&quot;);\nout.println(&quot;&lt;/script&gt;&quot;);\nout.println(&quot;&lt;/head&gt;&quot;);\n...\nout.println(&quot;&lt;form action=\\&quot;Servlet2\\&quot; method=\\&quot;post\\&quot;&gt;&quot;);\nout.println(&quot;&lt;input type=\\&quot;String\\&quot; name=\\&quot;discount\\&quot;&gt;&quot;);\nout.println(&quot;&lt;input type=\\&quot;submit\\&quot; onclick='return check()' value=\\&quot;Go\\&quot; /&gt; &lt;/form&gt;&quot;);\n</code></pre>\n<p>Why isn't this working?</p>\n"},{"comments":[{"comment_id":108124018,"body":"Please, copy and paste the code as text, do not use the screenshot."},{"comment_id":108136151,"body":"Edited the question, thank you:)"}],"answers":[{"answer_id":61224518,"body":"<p>it seems that you don't have the <code>mssql-jdbc_auth-8.2.1.x64</code> file in your classpath. </p>\n\n<p>As far as I know that file is included in the Microsoft SQL JDBC driver (<code>enu/auth/x64</code> folder): <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15</a></p>\n\n<p>You can add that file to your classpath (for example copy it to: <code>C:\\Program Files\\Java\\jdk-13.0.2\\bin</code>) and fix the error.</p>\n"},{"answer_id":61809021,"body":"<p>I had this same problem, and it took me hours to figure out.</p>\n\n<ol>\n<li><p>Make sure that you're copying the <code>mssql-jdbc_auth-8.2.1.x64</code> file and not the <code>sqljdbc_xa.dll</code> file into the <code>C:\\Program Files\\Java\\jdk-13.0.2\\bin folder</code>. According to the screenshot of your bin folder, I don't think this is the issue.</p></li>\n<li><p>Restart Eclipse and run it again. I was copying the file into the bin folder with eclipse running and I had no success. Only after I restarted eclipse did the driver begin to work correctly.</p></li>\n</ol>\n"},{"comments":[{"comment_id":133533956,"body":"This should be the correct and accepted answer"}],"answer_id":62969292,"body":"<p>Just follow below steps and it will surely turn out to fix &quot;no mssql-jdbc_auth-8.2.1.x64 in java.library.path&quot; as well as &quot;JDBC SQLServerException: “This driver is not configured for integrated authentication&quot; issue.</p>\n<ol>\n<li><p>Download <code>sqljdbc_&lt;version&gt;_enu.zip</code> from <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15</a> as per you Java version.</p>\n</li>\n<li><p>Unzip it, read install.txt and do as it says</p>\n</li>\n<li><p>Paste <code>mssql-jdbc_auth-8.2.2.x64.dll</code> (present inside path -&gt; C:/Program Files/Microsoft JDBC DRIVER 8.2 for SQL Server/sqljdbc_/enu/auth/x64 to\nJava/jre8/bin and to Java/jre8/lib</p>\n</li>\n</ol>\n"},{"comments":[{"comment_id":122975985,"body":"This answer seems very similar to other answer posted before. Please make sure your answers are unique. I suggest you read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>"}],"answer_id":69572556,"body":"<p>I also had the same issue, and i also went through the posts that you mentioned, i resolved it by adding the mssql-jdbc_auth-8.2.2.x64.dll in \\java\\jre\\bin\\ instead of \\java\\bin. I was using a JDK and not a JRE.</p>\n"},{"answer_id":69889987,"body":"<p>You should delete maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then:\nadd dependency JDBC driver jar manually <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15\" rel=\"nofollow noreferrer\">download here</a></p>\n<p>This is worked for me.</p>\n"},{"answer_id":72171349,"body":"<p>In order to be able to connect with the JDBC, you need to define the connection as follows:</p>\n<pre><code>  &quot;jdbc:sqlserver://*******;authenticationScheme=NTLM;integratedSecurity=true;domain=******;databasename=**********;encrypt=true;trustServerCertificate=true;user=*******;password=*******;&quot;\n</code></pre>\n<p>Use the following dependency:</p>\n<pre><code>   &lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;10.2.0.jre8&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"},{"answer_id":76260676,"body":"<p>The suggestions in other answers will do the trick, but for me they were bit misleading.</p>\n<p>Actually all you need to do is put the required version of <code>mssql-jdbc_auth-&lt;version&gt;.x64.dll</code> on system path -&gt; add it to the <strong>Path environment variable</strong> to be able to find this dll.</p>\n<p>You can obtain <code>mssql-jdbc_auth-&lt;version&gt;.x64.dll</code> by downloading the same version of mssql jdbc driver from\n<a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-ver15#java-and-jdbc-specification-support\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-ver15#java-and-jdbc-specification-support</a>\nand extracting the mssql-jdbc_auth dll from <code>enu\\auth\\x64\\</code> folder</p>\n"}],"last_activity_date":1684224462,"question_id":61117080,"body":"<p>I'm trying to connect to SQL DB in my Maven project, but keep getting following exception: </p>\n\n<p>\"com.microsoft.sqlserver.jdbc.SQLServerException: This driver is not configured for integrated authentication. ...\", \"..Caused by: java.lang.UnsatisfiedLinkError: no mssql-jdbc_auth-8.2.1.x64 in java.library.path....\".</p>\n\n<p>I've tried out suggestions from <a href=\"https://stackoverflow.com/questions/11707056/no-sqljdbc-auth-in-java-library-path\">no sqljdbc_auth in java.library.path</a> and <a href=\"https://stackoverflow.com/questions/56953643/unsatisfiedlinkerror-no-sqljdbc-auth-in-java-library-path\">UnsatisfiedLinkError: no sqljdbc_auth in java.library.path</a> but it didn't work for me.</p>\n\n<p>I've put the path to sqljdbc_auth.dll in:</p>\n\n<ol>\n<li><p>Global PATH variable <a href=\"https://i.stack.imgur.com/aSJNL.png\" rel=\"nofollow noreferrer\">Global PATH variable screenshot</a></p></li>\n<li><p>C:\\Program Files\\Java\\jdk-13.0.2\\bin <a href=\"https://i.stack.imgur.com/uleGn.png\" rel=\"nofollow noreferrer\">C:\\Program Files\\Java\\jdk-13.0.2\\bin screenshot</a></p></li>\n<li><p>pom.xml (as a configuration in surefire plugin dependency)\n<a href=\"https://i.stack.imgur.com/vFy0l.png\" rel=\"nofollow noreferrer\">pom.xml screenshot</a></p></li>\n</ol>\n\n<p>And here is my code:</p>\n\n<pre><code>public class JDBC {\n\n    @Test\n    public  void test() throws SQLException, ClassNotFoundException {\n\n        String UserName=\"sa\";\n        String Password=\"Error911\";\n        Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n        String DB_URL =\"jdbc:sqlserver://localhost:1433;databaseName=QADB;integratedSecurity=true;\";\n        //OR by using ip\n        //DB_URL =\"jdbc:sqlserver://192.168.0.104;databaseName=QADB;integratedSecurity=true;\";\n        Connection con = DriverManager.getConnection(DB_URL, UserName, Password);\n    }\n}\n</code></pre>\n\n<p>And the exception in console output:</p>\n\n<blockquote>\n  <p>com.microsoft.sqlserver.jdbc.SQLServerException: This driver is not\n  configured for integrated authentication...........................</p>\n  \n  <p>...Caused by: java.lang.UnsatisfiedLinkError: no mssql-jdbc_auth-8.2.1.x64 in java.library.path:\n  [C:\\Users\\Automation\\Microsoft JDBC Driver 6.0 for SQL\n  Server\\sqljdbc_6.0\\enu\\auth\\x64]..\n  ....</p>\n</blockquote>\n"},{"answers":[{"answer_id":76260667,"body":"<p>What you typically do when a static portlet (which, AFAIK navigation_menu is) is embedded in a theme: You'll need to come up with a <em>random</em> instance ID - because this is used to create a unique key to store the portlet's configuration. Especially as a page might contain multiple navigation menus, and you'd like them to show different parts, depths, variations of the navigation.</p>\n<p>The way to come up with such a <em>random</em> value surprised me when I learned about it: You just make it up. &quot;1234&quot; is fine, &quot;fwo39DvAR2&quot; is fine as well - just make sure you don't make up the same value over and over if you embed two navigation menus on the page: Otherwise they share their configuration.</p>\n<p>Speaking of configuration: Configuration of an embedded portlet/widget in a page is a bit clunky and often is done over and over (e.g. whenever a page is displayed again) when done in code. As you didn't identify this as a problem, I'm just pointing to <a href=\"https://liferay.dev/blogs/-/blogs/embedding-portlets-and-setting-preferences-in-a-liferay-7-2-theme\" rel=\"nofollow noreferrer\">some additional reading</a> that you might want to see. And if I look at <a href=\"https://github.com/liferay/liferay-portal/blob/master/modules/apps/frontend-theme/frontend-theme-classic/src/templates/navigation.ftl#L7\" rel=\"nofollow noreferrer\">Liferay's own source code</a>, I don't see the instance_id configured.</p>\n<p>However: You're on Liferay 7.4, and the Best Practices have changed: The general recommendation to solve the same problems is to create a MasterPage (or more) and use it throughout all pages (create only the default ContentPages, no more WidgetPages). Those can be configured at runtime through the UI. For the theme/look&amp;feel part, you'd use a stylebook - this enables you to go completely without any custom module and make runtime changes to the look&amp;feel without redeployment of any module. Liferay's classic theme already is quite configurable in terms of stylebooks, but the (also delivered in standard) Dialect theme offers a lot more. Check how much flexibility (and complexity) you need.</p>\n"}],"last_activity_date":1684224421,"question_id":76259360,"body":"<p>I'm trying to insert custom menu with template in theme, but I don't have enough information. I have this code <code>&lt;@liferay.navigation_menu instance_id=&quot;XXX&quot; /&gt;</code>, but I don't know how can I get menu instance_id, same issue appear when I try to insert breadbrumbs. I'm using liferay 7.4.</p>\n<p>I try this</p>\n<pre><code>&lt;@liferay.navigation_menu instance_id=&quot;MainMenu&quot; /&gt;\n&lt;@liferay.navigation_menu instance_id=&quot;MainMenu_randomString&quot; /&gt;\n&lt;@liferay.navigation_menu instance_id=&quot;MainMenu_siteNavigationMenuId like 1234&quot; /&gt;\n&lt;@liferay.navigation_menu instance_id=&quot;siteNavigationMenuId like 1234&quot; /&gt;\n\n</code></pre>\n"},{"comments":[{"comment_id":134481426,"body":"Hi Prajwal, this is your first question. Please keep in mind that Stack Overflow has content guidelines. It&#39;s better to include the code directly in the question instead of using external pictures."},{"comment_id":134487399,"body":"Please don&#39;t post screenshots of your code, or other textual content. Instead post the actual text, and use the formatting tools of Stack Overflow to mark it up. Also see: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"}],"answers":[{"answer_id":76260662,"body":"<p>I am using Firebase, Firestore, and Functions Emulator in Quarkus application, and it is functioning properly. The setup should be similar in Spring Boot.</p>\n<p>Here is the code to initialize the Firebase App. The section with the owner token is crucial, and it was challenging to locate. Without it, authentication with emulator tokens is not possible.</p>\n<pre><code>  private static FirebaseApp getEmulatorFirebaseApp() {\n    var credentials = GoogleCredentials.create(new AccessToken(\n        &quot;owner&quot;,\n        Date.from(LocalDateTime.now().plusYears(1).atZone(ZoneId.systemDefault()).toInstant())));\n    var options = FirebaseOptions.builder()\n        .setCredentials(credentials)\n        .build();\n    return FirebaseApp.initializeApp(options,\n        &quot;app_&quot; + UUID.randomUUID().toString());\n  }\n</code></pre>\n<ul>\n<li>Start the emulator from the command line</li>\n</ul>\n<pre><code>firebase emulators:start 2&gt;&amp;1 \\\n        --project &quot;$firebase_project_id&quot; \\\n        --only auth,database,firestore,functions \\\n        --import /data\n</code></pre>\n<ul>\n<li>Set emulator variables.</li>\n</ul>\n<p>To start the Spring Boot applications with the required environment variables, please ensure that the ports are correct.</p>\n<pre><code>FIRESTORE_EMULATOR_HOST=localhost:18084\nGCLOUD_PROJECT=my-project\nFIREBASE_AUTH_EMULATOR_HOST=localhost:19199\n</code></pre>\n"}],"last_activity_date":1684224390,"question_id":76259754,"body":"<p>i tried to connect firestore emulator to spring boot application. but it is not working.</p>\n<p>firestore emulator implementation <a href=\"https://i.stack.imgur.com/XqVBw.png\" rel=\"nofollow noreferrer\">firestore implementation</a>.</p>\n<p>firestore start. <a href=\"https://i.stack.imgur.com/u7aFf.png\" rel=\"nofollow noreferrer\">firestore start</a></p>\n"},{"comments":[{"comment_id":134482015,"body":"the variable promptEn isn&#39;t final or effectively final, that&#39;s the issue. it&#39;s not about the datatype, but about the variable"},{"comment_id":134482019,"body":"You&#39;re assigning a new value to promptEn in line 2."},{"comment_id":134482033,"body":"A String is immutable. That is not the same as it being <code>final</code>."},{"comment_id":134482048,"body":"&quot;but isn&#39;t String final ?&quot; Says who? In what context?"},{"comment_id":134482441,"body":"String is declared as a final class, and that means you cannot create a class that extends String. That is a different concept of final than what your IDE is warning you about. <code>promptEn</code> cannot be re-assigned. You could make a final variable instead."}],"answers":[{"comments":[{"comment_id":134482394,"body":"The class String is also final, meaning you cannot extend it."}],"answer_id":76260510,"body":"<p>String variables have two parts:</p>\n<ul>\n<li>the <strong>value</strong>: <code>String</code> is an <strong>immutable</strong> type, meaning you cannot change it.</li>\n<li>the <strong>variable</strong>: when it is <strong>final</strong>, the value has to be <strong>assigned once</strong> and cannot be changed later. The value itself may be mutable: when you have a <code>final List&lt;String&gt; list = new LinkedList&lt;&gt;()</code>, you can add and remove elements, but not assign a different list.</li>\n</ul>\n<p><strong>Effectively final</strong> means that the assigned value is not changed, but the variable is not final (not enforced by language).</p>\n"}],"last_activity_date":1684224357,"question_id":76260398,"body":"<p>IDEA shows:</p>\n<blockquote>\n<p>Variable used in lambda expression should be final or effectively final</p>\n</blockquote>\n<p>but isn't String final?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean isBanned(String promptEn) {\n    promptEn = promptEn.toLowerCase(Locale.ENGLISH);\n    return BANNED_WORDS.stream().anyMatch(bannedWord -&gt; Pattern.compile(&quot;\\\\b&quot; + bannedWord + &quot;\\\\b&quot;).matcher(promptEn).find());\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/6V01v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6V01v.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":112001093,"body":"I’m voting to close this question because it is not a question about programming."}],"answers":[{"answer_id":63319683,"body":"<p>Saga is not an abbreviation. The term “saga” was first defined in a 1987 <a href=\"https://www.cs.cornell.edu/andru/cs711/2002fa/reading/sagas.pdf\" rel=\"nofollow noreferrer\">publication</a>. It also mentions that it was proposed by Bruce Lindsay.</p>\n<p>In their original version, the term saga refers to Long Lived Transactions(LLT).</p>\n<blockquote>\n<p>A LLT is a saga if it can be written as a sequence of transactions that can be interleaved\nwith other transactions.</p>\n</blockquote>\n<p>The reason for choosing the word itself is not disclosed.\nPerhaps one of the <a href=\"https://dictionary.cambridge.org/dictionary/english/saga\" rel=\"nofollow noreferrer\">literary</a> meanings of the word saga was meant:</p>\n<blockquote>\n<p>a long, detailed story of connected events</p>\n</blockquote>\n"},{"comments":[{"comment_id":130499904,"body":"Long live SAGA!"}],"answer_id":68145584,"body":"<p>The term saga refers to Long Lived Transactions (LLT). Let's assume it as abbreviation (which is not preferable in some way). So, in terms of microservices, you can think of <strong>S</strong>egregated <strong>A</strong>ccess of <strong>G</strong>lobal <strong>A</strong>tomicity</p>\n"}],"last_activity_date":1684224329,"question_id":63319018,"body":"<p>I have gone through various <strong>SAGA patterns</strong>(<em>Orchestration,Choreography</em>), suggested for maintaining database consistency in microservices during distributed transactions.</p>\n<p>But I am not able to relate the literal word <strong>SAGA</strong> in the context.</p>\n<p><em>Why is it named as <strong>SAGA</strong></em> ?</p>\n"},{"answers":[{"answer_id":76260461,"body":"<p>Your issue is this. In your POM file, you are referencing the AWS SDK for Java V2., See:</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;bom&lt;/artifactId&gt;\n        &lt;version&gt;2.20.66&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n</code></pre>\n<p>And other places in your POM - you use V1 dependencies. You are mixing V1 and V2 - which is bad practice and leads to errors you are seeing.</p>\n<p>In your code, you are attemping to use AWS SDK for Java V1. This is a V1 Java class:</p>\n<pre><code>com.amazonaws.services.lambda.AWSLambda\n</code></pre>\n<p>V2 is</p>\n<pre><code>software.amazon.awssdk.services.lambda.LambdaClient \n</code></pre>\n<p>To invoke a Lambda function using the V2 Client, you would use this Java code.</p>\n<pre><code>// snippet-start:[lambda.java2.LambdaInvoke.complete]\npackage com.example.lambda;\n\n// snippet-start:[lambda.java2.invoke.import]\nimport org.json.JSONObject;\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.services.lambda.LambdaClient;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.lambda.model.InvokeRequest;\nimport software.amazon.awssdk.core.SdkBytes;\nimport software.amazon.awssdk.services.lambda.model.InvokeResponse;\nimport software.amazon.awssdk.services.lambda.model.LambdaException;\n// snippet-end:[lambda.java2.invoke.import]\n\npublic class LambdaInvoke {\n\n   /*\n   *  Function names appear as arn:aws:lambda:us-west-2:335556666777:function:HelloFunction\n   *  you can retrieve the value by looking at the function in the AWS Console\n   *\n   * Also, set up your development environment, including your credentials.\n   *\n   * For information, see this documentation topic:\n   *\n   * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n   */\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;functionName&gt; \\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    functionName - The name of the Lambda function \\n&quot;;\n\n        if (args.length != 1) {\n            System.out.println(usage);\n            System.exit(1);\n        }\n\n        String functionName = args[0];\n        Region region = Region.US_WEST_2;\n        LambdaClient awsLambda = LambdaClient.builder()\n            .region(region)\n            .credentialsProvider(ProfileCredentialsProvider.create())\n            .build();\n\n        invokeFunction(awsLambda, functionName);\n        awsLambda.close();\n    }\n\n    // snippet-start:[lambda.java2.invoke.main]\n    public static void invokeFunction(LambdaClient awsLambda, String functionName) {\n\n        InvokeResponse res = null ;\n        try {\n            // Need a SdkBytes instance for the payload.\n            JSONObject jsonObj = new JSONObject();\n            jsonObj.put(&quot;inputValue&quot;, &quot;2000&quot;);\n            String json = jsonObj.toString();\n            SdkBytes payload = SdkBytes.fromUtf8String(json) ;\n\n            // Setup an InvokeRequest.\n            InvokeRequest request = InvokeRequest.builder()\n                .functionName(functionName)\n                .payload(payload)\n                .build();\n\n            res = awsLambda.invoke(request);\n            String value = res.payload().asUtf8String() ;\n            System.out.println(value);\n\n        } catch(LambdaException e) {\n            System.err.println(e.getMessage());\n            System.exit(1);\n        }\n    }\n    // snippet-end:[lambda.java2.invoke.main]\n}\n// snippet-end:[lambda.java2.LambdaInvoke.complete]\n</code></pre>\n<p>You can find this example and other Lambda V2 code examples in the AWS Example Github here:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/lambda\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/lambda</a></p>\n<p>You can also look at the POM file used for V2.</p>\n<p>To fix your issue, replace the V1 code in your Lambda handler with the V2 code. Make sure your POM file has only V2 depedencies and not a mix of V1 and V2.</p>\n<p>Also - you should upgrade to Java 1.8 from 1.7 that you have in your POM.</p>\n"}],"last_activity_date":1684224257,"question_id":76260373,"body":"<p>I have a java lambda function to invoke another lambda function. The code is as below,</p>\n<pre><code> package com.example;\n\nimport com.amazonaws.services.lambda.AWSLambda;\nimport com.amazonaws.services.lambda.AWSLambdaClientBuilder;\nimport com.amazonaws.services.lambda.model.InvokeRequest;\nimport com.amazonaws.services.lambda.model.InvokeResult;\n\npublic class InvokeLambda {\n    public String myHandler(String input){\n        AWSLambda lambdaClient = AWSLambdaClientBuilder.defaultClient();\n\n        InvokeRequest invokeRequest = new InvokeRequest()\n                .withFunctionName(&quot;testLambdaFunction&quot;)\n                .withPayload(&quot;{ \\&quot;key1\\&quot;: \\&quot;value1\\&quot;, \\&quot;key2\\&quot;: \\&quot;value2\\&quot; }&quot;);\n\n        InvokeResult invokeResult = lambdaClient.invoke(invokeRequest);\n\n        String functionOutput = new String(invokeResult.getPayload().array());\n        System.out.println(functionOutput);\n        return input;\n    }\n}\n</code></pre>\n<p>My pom.xml code is as below,</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;invokelambda&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n  &lt;name&gt;invokelambda&lt;/name&gt;\n  &lt;!-- FIXME change it to the project's website --&gt;\n  &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;bom&lt;/artifactId&gt;\n        &lt;version&gt;2.20.66&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n      &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-events&lt;/artifactId&gt;\n      &lt;version&gt;3.11.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-lambda-java-log4j2&lt;/artifactId&gt;\n      &lt;version&gt;1.5.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-lambda&lt;/artifactId&gt;\n      &lt;version&gt;1.11.76&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n      &lt;plugins&gt;\n        &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.7.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.2&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I'm locally building the jar file using <code>mvn package</code> command and create the jar file and upload it to the lambda function in aws. I am getting the below error,</p>\n<pre><code>&quot;errorMessage&quot;: &quot;com/amazonaws/services/lambda/AWSLambdaClientBuilder&quot;,\n  &quot;errorType&quot;: &quot;java.lang.NoClassDefFoundError&quot;,\n  &quot;stackTrace&quot;: [\n    &quot;com.example.InvokeLambda.myHandler(InvokeLambda.java:10)&quot;,\n    &quot;java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&quot;,\n    &quot;java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&quot;,\n    &quot;java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&quot;,\n    &quot;java.base/java.lang.reflect.Method.invoke(Unknown Source)&quot;\n  ],\n</code></pre>\n<p>I have tried removing and reinstalling the packages and yet this is giving the same error without a change. How can I resole this issue?</p>\n"},{"comments":[{"comment_id":134355608,"body":"To try avoid asking questions that have a &quot;Yes&quot; or &quot;No&quot; answer. <a href=\"https://stackoverflow.com/help/dont-ask\">stackoverflow.com/help/dont-ask</a>"}],"answers":[{"answer_id":76217239,"body":"<p>I found in winrm4j project test classes this class : <a href=\"https://github.com/cloudsoft/winrm4j/blob/806a943a3d68f3a6ad23385375c61a53c7fbec43/winrm4j/src/test/java/io/cloudsoft/winrm4j/winrm/AbstractWinRmToolLiveTest.java#L193\" rel=\"nofollow noreferrer\">https://github.com/cloudsoft/winrm4j/blob/806a943a3d68f3a6ad23385375c61a53c7fbec43/winrm4j/src/test/java/io/cloudsoft/winrm4j/winrm/AbstractWinRmToolLiveTest.java#L193</a>.</p>\n<p>It implements a method called &quot;copyTo&quot;, which is pretty closed of what I want to do. It seems that the devs think about adding this method to the WinRmTool class. However, the methodology used is pretty dirty, and execution time also very long. I am a little disapointed to do not find another way to accomplish this.</p>\n<p>I was inspired by this method to make download and upload methods using winrm4j :</p>\n<pre><code>import java.io.BufferedWriter;\nimport java.io.FileInputStream;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Arrays;\nimport java.util.Base64;\n\nimport org.apache.http.client.config.AuthSchemes;\n\nimport io.cloudsoft.winrm4j.client.WinRmClientContext;\nimport io.cloudsoft.winrm4j.winrm.WinRmTool;\nimport io.cloudsoft.winrm4j.winrm.WinRmToolResponse;\n\npublic class CWinrmTest {\n    private static final Charset ENCODING = StandardCharsets.UTF_8;\n\n    public static void main(String[] args) throws Exception {\n        WinRmClientContext context = WinRmClientContext.newInstance();\n\n        WinRmTool tool = WinRmTool.Builder.builder(&quot;192.168.70.1&quot;, &quot;User&quot;, &quot;Password&quot;)\n                .authenticationScheme(AuthSchemes.NTLM)\n                .port(5985)\n                .useHttps(false)\n                .context(context)\n                .build();\n\n        InputStream inputStream = new FileInputStream(&quot;path/to/local/uploadFile.txt&quot;);\n        uploadTo(inputStream, &quot;path/to/remote/uploadFile.txt&quot;, tool);\n\n        downloadFrom(&quot;path/to/remote/downloadFile.txt&quot;, &quot;path/to/local/downloadFile.txt&quot;, tool);\n\n        context.shutdown();\n    }\n\n    protected static void uploadTo(InputStream source, String destination, WinRmTool tool) throws IOException {\n        int chunkSize = 1024;\n\n        byte[] inputData = new byte[chunkSize];\n        int bytesRead;\n        int expectedFileSize = 0;\n        while ((bytesRead = source.read(inputData)) &gt; 0) {\n            byte[] chunk;\n            if (bytesRead == chunkSize) {\n                chunk = inputData;\n            } else {\n                chunk = Arrays.copyOf(inputData, bytesRead);\n            }\n            tool.executePs(&quot;If ((!(Test-Path &quot; + destination + &quot;)) -or ((Get-Item '&quot; + destination + &quot;').length -eq &quot; +\n                    expectedFileSize + &quot;)) {Add-Content -Encoding Byte -path &quot; + destination +\n                    &quot; -value ([System.Convert]::FromBase64String(\\&quot;&quot; + new String(Base64.getEncoder().encode(chunk))\n                    + &quot;\\&quot;))}&quot;);\n            expectedFileSize += bytesRead;\n        }\n    }\n\n    protected static void downloadFrom(String remoteFilePath, String destination, WinRmTool tool) throws IOException {\n\n        String cmd = &quot;If ((Test-Path '&quot; + remoteFilePath\n                + &quot;')) { [System.Convert]::ToBase64String([System.IO.File]::ReadAllBytes('&quot; + remoteFilePath + &quot;'))}&quot;;\n        WinRmToolResponse response = tool.executePs(cmd);\n\n        String content64 = response.getStdOut().replace(&quot;\\r\\n&quot;, &quot;&quot;);\n        String content = new String(Base64.getDecoder().decode(content64), ENCODING);\n\n        FileWriter fileWriter = new FileWriter(destination);\n        BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\n        try {\n            bufferedWriter.write(content);\n        } finally {\n            bufferedWriter.close();\n        }\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684224117,"question_id":76183046,"body":"<p>I am using winrm4j java library and it works great to run powershell or native windows commands. But I was wondering if winrm4j can upload/download files. For instance, with powershell, we can upload a file from local computer to remote computer by running:</p>\n<pre><code>$session = New-PSSession -ComputerName &lt;remoteComputerName&gt; -Credential $creds\nCopy-Item -Path '&lt;localFileLocation&gt;' -Destination '&lt;futurRemoteFileLocation&gt;' -ToSession $session\nRemove-PSSession $session\n</code></pre>\n<p>How can I upload/download files with winrm4j ?</p>\n"},{"comments":[{"comment_id":134399287,"body":"Would you consider using Python instead of Java? If so, I may have a solution that requires just a few line of code."},{"comment_id":134407908,"body":"Please specify &#39;isn&#39;t working&#39;. Update your question with output/exception."},{"comment_id":134482144,"body":"@JakobBagterp may i know solution for that using python? at least i know the flow and can read the flow what actual happen in angular web."},{"comment_id":134482161,"body":"@pburgr ok i will add for output"}],"last_activity_date":1684223843,"question_id":76209675,"body":"<p>I am really struggling with the automation of angular web app.</p>\n<p>I tried with simple code but still code isn't working. For example, my code is like this:</p>\n<pre><code>@BeforeClass\n    public void setUp() {\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;start-maximized&quot;);\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Driver/chromedriver.exe&quot;);\n        driver = new ChromeDriver(options);\n        ngDriver = new NgWebDriver((JavascriptExecutor) driver);\n        driver.get(&quot;https://acn-sit.dev.azlife.allianz.co.id/en/#/portal/login&quot;);\n    }\n\n    public void testInput() throws InterruptedException{\n//        WebElement input = driver.findElement(By.name(&quot;username&quot;));\n//        WebElement input = driver.findElement(By.tagName(&quot;input&quot;));\n//        Thread.sleep(3000);\n        WebElement element = driver.findElement(By.xpath(&quot;//input[contains(@test-id,'username')]&quot;));\n        jsdriver.executeScript(&quot;arguments[0].click();&quot;, element);\n        WebElement input   = driver.findElement(By.xpath(&quot;//input[contains(@test-id,'username')]&quot;));\n//        WebElement input = driver.findElement(ByAngular.model(&quot;acn-input-login-username&quot;));\n//        WebElement input = driver.findElement(ByAngular.cssContainingText(&quot;input[id='acn-input-login-username']&quot;, &quot;Username&quot;));\n        input.sendKeys(&quot;testuser&quot;);\n    }\n\n    @AfterClass\n    public void tearDown() {\n        driver.quit();\n    }\n</code></pre>\n<p>For this element like this, using <code>NgWebDriver</code> still didn't work.</p>\n<pre><code>&lt;input _ngcontent-qqo-c316=&quot;&quot; required=&quot;&quot; nxinput=&quot;&quot; id=&quot;acn-input-login-username&quot; test-id=&quot;acn-username&quot; name=&quot;username&quot; autocomplete=&quot;off&quot; class=&quot;is-filled cdk-text-field-autofill-monitored c-input nx-input ng-dirty ng-valid ng-touched&quot; ng-reflect-required=&quot;&quot; ng-reflect-id=&quot;acn-input-login-username&quot; ng-reflect-form=&quot;[object Object]&quot; aria-invalid=&quot;false&quot; aria-required=&quot;true&quot;&gt;\n</code></pre>\n<p>and output like this if no use ByAngular</p>\n<pre><code> Build info: version: '4.8.2', revision: '826dbfc730'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [ca2370ae09d6d29667363691d837a822, findElement {using=xpath, value=//input[contains(@test-id,'username')]}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 113.0.5672.93, chrome: {chromedriverVersion: 113.0.5672.63 (0e1a4471d5ae..., userDataDir: C:\\Users\\ACHMAD~1\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:61346}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:61346/devtoo..., se:cdpVersion: 113.0.5672.93, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: ca2370ae09d6d29667363691d837a822\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\n</code></pre>\n<p>and this output if i using byAngular model etc.</p>\n<pre><code>Build info: version: '4.8.2', revision: '826dbfc730'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '19.0.2'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [ae3677a507c8aaf53657b78c56447e54, executeScript {script=var cssSelector = 'input[id='acn-input-login-username']';\nvar searchText = 'Username';\nvar using = arguments[0] || document;\n\n\n  using = using || document;\n\n  if (searchText.indexOf('__REGEXP__') === 0) {\n    var match = searchText.split('__REGEXP__')[1].match(/\\/(.*)\\/(.*)?/);\n    searchText = new RegExp(match[1], match[2] || '');\n  }\n  var elements = using.querySelectorAll(cssSelector);\n  var matches = [];\n  for (var i = 0; i &lt; elements.length; ++i) {\n    var element = elements[i];\n    var elementText = element.textContent || element.innerText || '';\n    var elementMatches = searchText instanceof RegExp ?\n        searchText.test(elementText) :\n        elementText.indexOf(searchText) &gt; -1;\n</code></pre>\n"},{"last_activity_date":1684223829,"question_id":76260596,"body":"<p>I am utilizing <code>Pentaho BI server 6.1</code> and have established several scheduled subscriptions that run automatically at specified times.</p>\n<p>My objective is to retrieve the precise start and end times of each job's execution.</p>\n<p>To achieve this, I am currently developing a Java plugin that will log the start and end times of every schedule run in Pentaho. This involves implementing a custom listener that integrates with the Pentaho scheduling framework and captures the necessary information.</p>\n<p>I have successfully completed the following steps:</p>\n<ol>\n<li><p>Set up the development environment using Eclipse.</p>\n</li>\n<li><p>Created a new Java project to contain the custom plugin code.</p>\n</li>\n<li><p>Added the necessary Pentaho dependencies to the project's classpath for Pentaho v6.1.</p>\n</li>\n<li><p>Packaged the plugin into a JAR file.</p>\n</li>\n<li><p>Deployed the JAR file, containing the custom plugin, to the directory &quot;/pentaho-server/pentaho-solutions/system/quartz&quot;.</p>\n</li>\n<li><p>Configured the Pentaho Server to utilize a custom listener by updating the appropriate configuration files, namely &quot;quartz.properties&quot; and &quot;/pentaho-server/pentaho-solutions/system/pentaho.xml&quot;.</p>\n</li>\n</ol>\n<p>Here's the skeleton of the listener class I've implemented:</p>\n<pre><code>import java.util.Date;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.quartz.JobListener;\nimport org.quartz.JobExecutionContext;\nimport org.quartz.JobExecutionException;\n\npublic class SubscriptionExecutionListener implements JobListener {\n    private static final Log logger = LogFactory.getLog(SubscriptionExecutionListener.class);\n\n    public void jobToBeExecuted(JobExecutionContext context) {\n        logger.info(&quot;Job execution started at &quot; + new Date());\n    }\n\n    public void jobWasExecuted(JobExecutionContext context, JobExecutionException jobException) {\n        logger.info(&quot;Job execution finished at &quot; + new Date());\n    }\n\n    public String getName() {\n        return null;\n    }\n\n    public void jobExecutionVetoed(JobExecutionContext arg0) {\n    }\n}\n</code></pre>\n<p>However, I am encountering an issue where my custom plugin class is not being called during the execution of schedules, resulting in no output in the log files. I suspect that I may have overlooked something or might need to modify the code to override methods of the actual JobListener class. Could you please provide guidance on how to resolve this issue or suggest any necessary code modifications?</p>\n"},{"answers":[{"comments":[{"comment_id":134505724,"body":"I&#39;m at a loss for words to express my gratitude. You&#39;ve been incredibly helpful to me."},{"comment_id":134506695,"body":"Please upvote useful answers, helps others with similar problems in the future, see <a href=\"https://stackoverflow.com/help/why-vote\">stackoverflow.com/help/why-vote</a>"},{"comment_id":134506876,"body":"I cant. 15 reputation is needed :)"}],"answer_id":76260571,"body":"<p>You need to call <code>toggle()</code> on the <code>Fluid Select Output</code> block from upstream <em>before</em> a new batch flows through.</p>\n<p>Test it by creating a button next to it calling <code>myFluidSelectOutput.toggle()</code> to see it in action.</p>\n<p>Then, from an upstream block in that block's &quot;on new batch&quot; code, call <code>myFluidSelectOutput.toggle()</code> in 50% of the cases.</p>\n<p>You can read on how the block works in the <a href=\"https://anylogic.help/library-reference-guides/fluid-library/fluidselectoutput.html#fluidselectoutput\" rel=\"nofollow noreferrer\">help</a>, as usual.</p>\n"}],"last_activity_date":1684223689,"question_id":76260106,"body":"<p>How can we randomly select a path for fluids each time in AniLogic software? For instance, in 50% of cases, the fluid passes through path 1 and in the remaining 50%, it passes through path 2.</p>\n<p>How can I fix the issue where only one output is always selected when using the randomTrue(0.5) function in the condition of &quot;fluid select output&quot; block? I have used this function to expect the desired output to be in 50% of cases on path 1 (output 1) and 50% on path 2 (output 2), but it seems that only one output is always selected.</p>\n"},{"answers":[{"comments":[{"comment_id":4640248,"body":"I want the debug messages to show up in my console (stdout / stderr). Using eclipse here. Also, as stated in the question, I’d prefer to set this at compile- or runtime instead of a static file which applies to all projects and all run-configurations. Is this possible?"},{"comment_id":4640303,"body":"did you try -Djava.util.logging.config.file=logging.properties?"},{"comment_id":4640578,"body":"Ok, I’ll try that. Thanks. (Better than nothing, although I’d still prefer var-/par-/env-setting instead of using a file.)"},{"comment_id":4640738,"body":"well, what you could do is one configuration file for all your projects and then point that -Djava.util.logging.config.file setting to that file. This way you could avoid creating a separate file for each project. And, if you do not want to specify anything on command line, I guess you could define an environment variable with name &quot;java.util.logging.config.file&quot; - if I remember correctly, JRE imports all environment variables as if they were specified on command line."},{"comment_id":60470067,"body":"Hey Naeeme, just a heads up, your &quot;Java Logging API and How To Use It&quot; link is dead"},{"comment_id":60503811,"body":"Thanks CubeJockey, I linked another tutorial."}],"answer_id":4278893,"body":"<p>Why do you think it does not log DEBUG messages?</p>\n\n<p>If you mean that your <code>log.debug(String)</code> logging calls do not end up in <code>java.util.logging</code> log files, then I guess you have to configure the <code>logging.properties</code> configuration file to allow log messages at <code>FINE</code> level.</p>\n\n<p>If you do not want to mess with the global <code>%JRE_HOME%/lib/logging.properties</code>, then you can just pass in <code>-Djava.util.logging.config.file=logging.properties</code> on the command line - this will force the logging system to look for that configuration file in the current directory.</p>\n\n<p>Or use some other (programmatic) way to configure <code>java.util.logging</code>, see below for tutorial.</p>\n\n<p>This has nothing to do with configuring SLF4J; in fact, SLF4J does not have any configuration, everything is <em>configured</em> by simply swapping JAR files.</p>\n\n<hr>\n\n<p>For your reference: </p>\n\n<ul>\n<li><a href=\"http://slf4j.org/api/org/slf4j/impl/JDK14LoggerAdapter.html\" rel=\"noreferrer\">JDK14LoggerAdapter</a></li>\n<li><a href=\"http://www.vogella.com/tutorials/Logging/article.html\" rel=\"noreferrer\">Java Logging API tutorial</a></li>\n</ul>\n"},{"comments":[{"comment_id":76736862,"body":"Plus one for this! Didn&#39;t realize I had to set the level for both the handler and the logger."}],"answer_id":30697124,"body":"<p>I just put my logging.properties file in my applications WEB-INF/classes file (or use the command line argument identified by Neeme Praks if you're not deploying in a war), and have the properties file open in eclipse so I can fine tune it to log the packages and at the level I'm interested in. </p>\n\n<p>In the logging.properties file, you need to make sure that both the logger level and the handler level are set to the level you want. For example, if you want your output to go to the console, you need to have at least the following:</p>\n\n<pre><code>#logging.properties file contents\n\n#Define handlers\nhandlers=java.util.logging.ConsoleHandler\n\n#Set handler log level\njava.util.logging.ConsoleHandler.level=FINE\n\n#Define your logger level\ncom.company.application.package.package.level=FINE\n\n#Assign your handler to your logger\ncom.company.application.package.package.handlers=java.util.logging.ConsoleHandler\n</code></pre>\n\n<p>You mentioned the <code>slf4j-jdk14-1.6.1.jar</code>. This provides the slf4j binding to java.util.logging. You need to have that in your classpath, but make sure you also have the slf4j api (<code>slf4j-api-1.7.12.jar</code>) in your classpath as well.</p>\n\n<p>I find <a href=\"https://tomcat.apache.org/tomcat-6.0-doc/logging.html#Using_java.util.logging_(default)\" rel=\"nofollow\">the example logging.properties file in this link</a> useful for creating a variety of loggers and handlers, to give you fine-grained control over what logs go to the console, and what logs go to a file:.</p>\n\n<p>And <a href=\"http://www.slf4j.org/manual.html\" rel=\"nofollow\">here's the slf4j manual</a>.</p>\n"},{"comments":[{"comment_id":108650663,"body":"Just make sure you call it before <code>logger = LoggerFactory.getLogger(MyClass.class);</code>"}],"answer_id":32232151,"body":"<p><a href=\"http://www.slf4j.org/apidocs/org/slf4j/impl/SimpleLogger.html\" rel=\"noreferrer\">If you are using slf4j SimpleLogger implementation read this</a>.</p>\n\n<p>There you can see that <code>simpleLogger</code> use <code>INFO</code> as default log level. You can change it by using a system property. This is usefull for non-production evironments: </p>\n\n<pre><code>static {\n\n    System.setProperty(\"org.slf4j.simpleLogger.defaultLogLevel\", \"trace\");\n}\n</code></pre>\n"},{"answer_id":57139304,"body":"<p>if you are using lombok Slf4j</p>\n\n<pre><code> package com.space.slf4j;\n\n    import lombok.extern.slf4j.Slf4j;\n    import org.springframework.web.bind.annotation.RequestMapping;\n    import org.springframework.web.bind.annotation.RestController;\n\n    /**\n     * @author anson\n     * @date 2019/6/18 16:17\n     */\n    @Slf4j\n    @RestController\n    public class TestController {\n\n        @RequestMapping(\"/log\")\n        public String testLog(){\n            log.info(\"#########  info  #########\");\n            log.debug(\"#########  debug  #########\");\n            log.error(\"#########  error  #########\");\n            return null;\n        }\n    }\n</code></pre>\n\n<p>application.yml</p>\n\n<pre><code>logging:\n   level:\n      root: debug\n</code></pre>\n"},{"answer_id":60578093,"body":"<p>You can add <code>-Dorg.slf4j.simpleLogger.defaultLogLevel=debug</code> to the VM options.</p>\n"},{"answer_id":72455277,"body":"<p>In runtime with the default configuration you can enable it with this code:</p>\n<pre><code>public class MyTest {\n\nstatic {\n    Logger rootLogger = Logger.getLogger(&quot;&quot;);\n    rootLogger.setLevel(Level.ALL);\n    rootLogger.getHandlers()[0].setLevel(Level.ALL);\n\n}\n</code></pre>\n<p>I'm using this code inside <code>TestNG</code> Unit.</p>\n"}],"last_activity_date":1684223635,"question_id":4278438,"body":"<p>By default slf4j, when using with jdk (<em>slf4j-jdk14-1.6.1.jar</em>), does not log debug messages.\nHow do I enable them?</p>\n\n<p>I can’t find info neither in the official docs, the web or here on how to enable it.</p>\n\n<p>I found some info on (failed though) creating a file in %JDK_HOME%/lib and defining the level there, in a config file.\nHowever, I would like to define the level at compile-/run-time so I can both run and debug my app from my IDE with different logging levels.</p>\n\n<p>Isn’t there some environment variable I can set, or VM arg?</p>\n"},{"comments":[{"comment_id":134482097,"body":"It&#39;s not about the fact that you pass the variable to a method. You have a typo/mistake here: <code>System.out.println(&quot;str2_before: &quot; + str);</code> where <code>str</code> should be <code>str2</code>. Then you will see, that <code>str2</code> returned by the <code>Scanner</code> instance is already &quot;<i>incorrect</i>&quot;, not only the last output returned by the method."},{"comment_id":134482106,"body":"The shell you are running from is probably not unicode"},{"comment_id":134482315,"body":"Thanks to &quot;maloomeister&quot; and &quot;Just another Java programmer&quot; for their answers. The problem should be exactly what you have pointed out."}],"last_activity_date":1684223616,"question_id":76260448,"body":"<p>Why is the string &quot;🍷Hello&quot; entered by Scanner(System.in) printed incorrectly after calling func(str2)?</p>\n<p>The java code is as follows：</p>\n<pre><code>package test;\nimport java.util.Scanner;\n\npublic class TestCodePoint\n{\n    private static void func(String str)\n    {\n        System.out.println(&quot;after: &quot; + str);\n    }\n\n    public static void main(String[] args)\n    {\n        String str = &quot;🍷Hello&quot;;\n        System.out.println(&quot;before: &quot; + str);\n        func(str);\n        System.out.print(&quot;Please input a string: &quot;);\n        Scanner sc = new Scanner(System.in);\n        String str2 = sc.next();\n        System.out.println(&quot;str2_before: &quot; + str);\n        func(str2);\n    }\n}\n</code></pre>\n<p>The result of the implementation is:</p>\n<pre><code>before: 🍷Hello\nafter: 🍷Hello\nPlease input a string: 🍷Hello   (Here is the paste input)\nstr2_before: 🍷Hello\nafter: ��Hello\n</code></pre>\n<p>Why is the output of the last one &quot;��Hello&quot; instead of &quot;🍷Hello&quot;?</p>\n"},{"answers":[{"comments":[{"comment_id":120554304,"body":"In case anyone is wondering where this is documented: <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/tools/java.html</a>"}],"answer_id":10230391,"body":"<p>I guess your best bet is to do the following:</p>\n\n<ul>\n<li>Output some fixed text once your <code>main</code> method starts and right before it ends.</li>\n<li>Pipe the <em>verbose</em> output into a file</li>\n<li>Use things like <em>less</em> or <em>grep</em> to find the classes loaded between the two tags from the main method.</li>\n</ul>\n\n<p>There's a similar question and some answers here: <a href=\"https://stackoverflow.com/questions/1432180/is-there-a-way-to-get-which-classes-a-classloader-has-loaded\">Is there a way to get which classes a ClassLoader has loaded?</a></p>\n\n<p>Did you try <code>-verbose:class</code>?</p>\n"},{"answer_id":43010450,"body":"<p>Here's a sed expression that will parse the output of java -verbose:class to produce pairs of loaded class name and its jar file. You can further pipe through a sort to get unique jar files. For example,</p>\n\n<pre><code>java -verbose:class -version 2&gt;/dev/null |\n  sed -ne 's/\\[Loaded \\(.\\+\\) from \\(.\\+\\)\\]/\\2/p' | \n  sort -u\n</code></pre>\n\n<p>outputs</p>\n\n<pre><code>/usr/local/jdk1.7.0_67/jre/lib/rt.jar\n</code></pre>\n"},{"answer_id":76260556,"body":"<p>For Java 9+ you can do it with <code>-Xlog:class+init</code>. E.g. this command prints the order of class loading when you start JVM:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -Xlog:class+init -version\n</code></pre>\n<p>The command prints something like</p>\n<pre><code>[0.018s][info][class,init] 0 Initializing 'java/lang/Object'(no method) (0x0000000800000e60)\n[0.018s][info][class,init] 1 Initializing 'java/lang/CharSequence'(no method) (0x0000000800009210)\n[0.018s][info][class,init] 2 Initializing 'java/lang/String' (0x00000008000089b8)\n[0.018s][info][class,init] 3 Initializing 'java/util/Comparator'(no method) (0x00000008000eb588)\n[0.018s][info][class,init] 4 Initializing 'java/lang/String$CaseInsensitiveComparator'(no method) (0x000000080010dff8)\n[0.018s][info][class,init] 5 Initializing 'java/lang/System' (0x0000000800002b68)\n[0.019s][info][class,init] 6 Initializing 'java/lang/reflect/AnnotatedElement'(no method) (0x0000000800013cd0)\n[0.019s][info][class,init] 7 Initializing 'java/lang/reflect/Type'(no method) (0x0000000800015210)\n[0.019s][info][class,init] 8 Initializing 'java/lang/Class' (0x00000008000139e0)\n</code></pre>\n"}],"last_activity_date":1684223581,"question_id":10230279,"body":"<p>I am trying to list the order in which the Java class loader is loading my classes. if I use <code>-verbose</code> parameter it will list every single interface/class it loads, including tons of interfaces such as Serializable, exceptions etc. Is there a way to tweak this output so it only shows which classes are loaded in the class my main method is defined?</p>\n"},{"answers":[{"comments":[{"comment_id":134472064,"body":"If I use JOOQ for creating dynamic table during the run time, then is it possible to use these constraints while inserting values to that table by using the above method or any other method."},{"comment_id":134473505,"body":"If you have a class with properties in it, and you know what the property names are, then -- sure using programmatic definition should work. I don&#39;t think that Jooq is integrated with Bean Validation - so you&#39;d need to do that part either manually as in the example above or in your original example. Or since you&#39;ve mentioned spring in your tags -- you might leverage the method parameter validation and validate the input parameters...But that would be a different question now ;)"},{"comment_id":134481090,"body":"Here we are passing the class name and the field to which the constraint have to be checked. I&#39;m looking for a method to which we can pass the value and constraint so that the value can be checked for that validation(without providing the class name). For example, if I use validator.validate(&quot;email&quot;, Email.class); or validator.validate(&quot;email&quot;); then the email validation can be checked on the provided value. Is there any way to achieve this?"},{"comment_id":134482184,"body":"updated the answer since that wouldn&#39;t fit the comment ;)"}],"answer_id":76254743,"body":"<p>You'd need to pass the information on constraints one way or the other. If you are looking for an alternative method of defining constraints (not annotations), you might want to take a look at the <a href=\"https://docs.jboss.org/hibernate/stable/validator/reference/en-US/html_single/#section-programmatic-api\" rel=\"nofollow noreferrer\">programmatic constraint definition here</a>.\nIn your example, you'd have your <code>Student</code> class without constraints.</p>\n<pre><code>class Student {\n    private Long id;\n    private String fullName;\n    private String email;\n    private Integer newAge;\n}\n</code></pre>\n<p>and then you programmatically define them like:</p>\n<pre><code>// get an instance of a HibernateValidatorConfiguration \nHibernateValidatorConfiguration config = Validation.byProvider( HibernateValidator.class ).configure();\n\n// create a new mapping which to configure constraints \nConstraintMapping newMapping = config.createConstraintMapping();\n// configure Student constraints through the DSL:\nnewMapping\n        .type( Student.class )\n        .field( &quot;email&quot; )\n        .constraint( new EmailDef() );\n\n// add the constraints configuration back to the validator configuration:\nconfig.addMapping( newMapping );\n// create an instance of a validator based on the configured mapping:\nValidator validator = config.buildValidatorFactory().getValidator();\n\n// do the validation \nSet&lt;ConstraintViolation&lt;Student&gt;&gt; violations = validator.validate( new Student( 1L, &quot;name&quot;, &quot;email&quot;, 1 ) );\n</code></pre>\n<p>alternatively if you don't want to use a programmatic approach -- you could do the same <a href=\"https://jakarta.ee/specifications/bean-validation/3.0/jakarta-bean-validation-spec-3.0.html#xml-mapping-constraintdeclarationinxml\" rel=\"nofollow noreferrer\">through XML</a></p>\n<hr />\n<p><strong>UPDATE:</strong>\nFrom additional questions asked under this answer -- Bean Validation has a way to validate values, but it still requires a bean class with constraints applied to it:</p>\n<pre><code>Set&lt;ConstraintViolation&lt;T&gt;&gt; validateValue(Class&lt;T&gt; beanType,\n                                              String propertyName,\n                                              Object value,\n                                              Class&lt;?&gt;... groups);\n</code></pre>\n<p>So to get something close to what you've been asking you'd still need to have a class with defined constraints:</p>\n<pre><code>public class Constraints {\n        @Email\n        String email;\n        \n        // ... other properties with constraints \n}\n</code></pre>\n<p>and then using a validator instance you'd call:</p>\n<pre><code>Set&lt;ConstraintViolation&lt;Constraints&gt;&gt; constraintViolations = validator.validateValue(\n        Constraints.class, // class that contains constraint definitions\n        &quot;email&quot;,           // property from that class to &quot;chose&quot; which constraints will be checked \n        &quot;some@email&quot;       // value to check\n);\n</code></pre>\n<p>Since bean validation is about validating beans you'd need to have a bean with constrains one way or the other...</p>\n"}],"last_activity_date":1684223354,"question_id":76254546,"body":"<p>I've a class Student</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;full_name&quot;)\n    private String fullName;\n\n    @Column(name = &quot;email&quot;)\n    @Email\n    private String email;\n\n    @Column(name = &quot;new_age&quot;)\n    private Integer newAge;\n}\n</code></pre>\n<p>and when I use</p>\n<pre><code>ValidatorFactory validatorFactory = Validation.byProvider(HibernateValidator.class)\n                .configure()\n                .buildValidatorFactory();\nValidator validator = validatorFactory.getValidator();\nStudent student = new Student(1L,&quot;wec&quot;,&quot;D23d&quot;,15);\nvalidator.validate(student);\n</code></pre>\n<p>I get the expected result like</p>\n<p>ConstraintViolationImpl{interpolatedMessage='must be a well-formed email address', propertyPath=email, rootBeanClass=class com.example.SomeMainClass.model.Student, messageTemplate='{jakarta.validation.constraints.Email.message}'}</p>\n<p>Is there any way to achieve this without using @Email in Student class?</p>\n"},{"comments":[{"comment_id":16319150,"body":"Direct buffers try to allocate the memory contiguously rather than allocating Java arrays locally. You want to do this because it reduces the amount of work to be done during I/O since a native buffer is ready as-is to be passed to the kernel, while using non-native buffers requires an additional pass."},{"comment_id":16319184,"body":"@veer That&#39;s the &quot;by-the-book&quot; explanation. I am looking more for a rule. Eventually you have to read the direct buffer into Java space, so the kernel boundary will have to be crossed sooner or later."},{"comment_id":16325405,"body":"@veer direct and heap ByteBuffers are continuous in memory."},{"comment_id":65432018,"body":"As others have said, when reading (large) files into buffers, direct buffers should be better, as heap buffers do not have an absolute address so the may need to be cached somewhere else first. Using direct buffers may additionally have the benefit of allowing a completely native IO operation (potentially even asynchronous) without the vm having to do anything."}],"answers":[{"comments":[{"comment_id":16319483,"body":"I heard something like if you copy byte-by-byte one is better than the other. Eventually you have to look at the data, yes, that was my point and doubt. What do you think?"},{"comment_id":16322410,"body":"@JohnPristine Copying bytes one by one from a direct buffer would certainly be painful but then copying anything to or from a direct buffer is painful, that&#39;s why I said to avoid it unless you are just copying between channels, where you can using the same buffer and never have to get the data out at all."},{"comment_id":16325438,"body":"Whether JNI is used or not is implementation specific. AFAIK Android uses native JNI calls and the direct ByteBuffer is slower. HotSpot and OpenJDK treat it as an intrinsic so no JNI is involved making direct ByteBuffers faster."},{"comment_id":16328823,"body":"@PeterLawrey I keep reading this from you but I don&#39;t see how it is possible to meet the contract of &#39;direct&#39; buffers without them existing in the JNI space rather than the Java space."}],"answer_id":12188143,"body":"<p>A direct buffer is best when you are just copying the data, say from a socket to a file or <em>vice versa,</em> as the data doesn't have to traverse the JNI/Java boundary, it just stays in JNI land. If you are planning to look at the data yourself there's no point in a direct buffer.</p>\n"},{"comments":[{"comment_id":16339737,"body":"What do you mean by &quot;busy waiting NIO&quot;? You have to at least perform a selectNow inside an infinite (busy spinning) loop, right? I even tried to read from the channels without doing a selet but eventually data stops coming."},{"comment_id":16340290,"body":"You can do <code>while((len = socketChannel.read(byteBuffer)) &lt; 1);</code> or poll an array of socketChannels. You don&#39;t need a Selector. ;)"},{"comment_id":16340563,"body":"I am trying to do exactly this, but interestingly enough my channels STOP receiving data after some time. I have to select again. :( Ohhhh, I am checking isReadable()... let me try again..."},{"comment_id":16341097,"body":"Holy cow !!! 2 microseconds gain !!!! You are the best, Peter! One day I will work for you. :)"},{"comment_id":16341164,"body":"The gain is more than that because you are not giving up the CPU.  That means the cache for your code, branch prediction and data is still warm. i.e. it will also run up to 2-3x faster."},{"comment_id":16341430,"body":"Have you tested that with UDP? It works with SocketChannels but not with DatagramChannels. channel.receive just returns null somehow. :("},{"comment_id":16341690,"body":"The Javadoc says <code>Returns:     The datagram&#39;s source address, or null if this channel is in non-blocking mode and no datagram was immediately available</code> So I imagine that is the reason. ;)"},{"comment_id":134459845,"body":"how do you use blocking NIO when you are polling an array of channels (datagram/socket etc)? or are you suggesting to use one thread per channel alongside blocking NIO?"},{"comment_id":134461130,"body":"If you are polling an array of channels, wont there be some time wasted polling channels that are not ready? Would this time wasted eventually cause packets to be lost if there is high throughput (ie financial data streaming)"},{"comment_id":134480769,"body":"@experimentunit1998X If you are using many blocking NIO connections it is probably better to use a Selector however that limit is around 10 to 100. Selector is the most scalable solution, however has a few issues such that in my case I rarely use it as I generally have very first connections. Here is a library I wrote using blocking NIO with a thread per connection, note: I assume less than 100 connections. <a href=\"https://github.com/OpenHFT/Chronicle-Wire/tree/ea/src/main/java/net/openhft/chronicle/wire/channel\" rel=\"nofollow noreferrer\">github.com/OpenHFT/Chronicle-Wire/tree/ea/src/main/java/net/&zwnj;&#8203;&hellip;</a>"},{"comment_id":134481754,"body":"Let me summarize you suggested: 1) <i>selector that multiplexes connections</i> (<i>10-100 connections per selector</i>) 2) <i>thread per connection with blocking NIO</i> 3) <i>polling an array of channels</i> (i assume with non blocking NIO). For small amount of connections up to 100(?), I assume that option 2 might be better, but when trying to scale option 1 would be the option to go for? and if cpu usage is not a problem, busy spin on option 3?"},{"comment_id":134482115,"body":"@experimentunit1998X I would say the other way around. Use selectors for large numbers of connections and a thread pool for a more scalable solution e.g. 100+; however, if you want to keep things simple, use blocking NIO and a thread per connection."},{"comment_id":134482222,"body":"alright. I think i understand now. Very much appreciated, Peter :)"}],"answer_id":12192090,"body":"<blockquote>\n<p>To acquire the best performance when should I use direct ByteBuffers versus regular ByteBuffers when doing network I/O with Java NIO?</p>\n</blockquote>\n<p>Direct buffers have a number of advantages</p>\n<ul>\n<li>The avoid an extra copy of data passed between Java and native memory.</li>\n<li>If they are re-used, only the page used are turning into real memory.  This means you can make them much larger than they need to be and they only waste virtual memory.</li>\n<li>You can access multi-byte primitives in native byte order efficiently. (Basically one machine code instruction)</li>\n</ul>\n<blockquote>\n<p>Should I read into a heap buffer and parse it from there, doing many get() (byte by byte) OR should I read it into a direct buffer and parse from the direct buffer?</p>\n</blockquote>\n<p>If you are reading a byte at a time, you may not get much advantage.  However, with a direct byte buffer you can read 2 or 4 bytes at a time and effectively parse multiple bytes at once.</p>\n<blockquote>\n<p>[real time] [selectors]</p>\n</blockquote>\n<p>If you are parsing real time data, I would avoid using selectors.  I have found using blocking NIO or busy waiting NIO can give you the lowest latency performance (assuming you have a relatively small number of connections e.g. up to 20)</p>\n<p>EDIT: Here is a high performance library that is relatively easy to use that uses blocking NIO you can draw on <a href=\"https://github.com/OpenHFT/Chronicle-Wire/tree/ea/src/main/java/net/openhft/chronicle/wire/channel\" rel=\"nofollow noreferrer\">https://github.com/OpenHFT/Chronicle-Wire/tree/ea/src/main/java/net/openhft/chronicle/wire/channel</a></p>\n"}],"last_activity_date":1684223101,"question_id":12187996,"body":"<p>Can someone with the natural gift to explain complex things in an easy and straightforward way address this question? To acquire the best performance when should I use direct ByteBuffers versus regular ByteBuffers when doing network I/O with Java NIO?</p>\n\n<hr>\n\n<p>For example: Should I read into a heap buffer and parse it from there, doing many get() (byte by byte) OR should I read it into a direct buffer and parse from the direct buffer?</p>\n"},{"comments":[{"comment_id":134482308,"body":"What is the relation between the arguments passed at build time vs what&#39;s available to the Java agent at runtime? I&#39;m no SBT expert, but usually, stuff in the build file is only relevant if you use the task to start the application. Is that what you&#39;re doing?"},{"comment_id":134482472,"body":"In my case, I am starting the application using the SBT build script. The javaAgents setting in the SBT build script is expected to apply the Java agent to the JVM at runtime, along with its arguments.  However, I am seeing a discrepancy. Despite specifying a non-local IP in the agent&#39;s arguments, it&#39;s trying to connect to localhost when started via SBT. Conversely, when I manually start the Java agent from the command line, it correctly connects to the provided IP. This inconsistency is the crux of my question. @AbhijitSarkar"},{"comment_id":134482929,"body":"Are you seeing the correct attributes being passed? If not, you may want to try by inlining the values instead of defining outside the <code>JavaAgent</code> block."},{"comment_id":134482949,"body":"I see the right string is generated but I can&#39;t see these values from within the agent. I tried also to inline the values, passing just one value, without any help. @AbhijitSarkar"},{"comment_id":134483011,"body":"I’m gonna guess that your problem is caused by eager evaluation of the JavaAgent block. If you looked into their source code, you’d most likely see that the values being passed are the default ones. If they have a GitHub repo, you may have better luck opening a ticket there."},{"comment_id":134483070,"body":"@AbhijitSarkar Thanks for your input. I understand your point about eager evaluation of the JavaAgent block, but I&#39;m expecting the javaAgents setting to be evaluated at run time. That&#39;s why I&#39;m puzzled as the arguments work when starting the agent from the command line.  Your suggestion to open an issue on their GitHub repo is noted. Meanwhile, if there&#39;s something I could be missing in the SBT configuration or application startup process, I&#39;d appreciate any further insights."},{"comment_id":134558754,"body":"There&#39;s an excellent blog post on this topic (not by me): <a href=\"https://ivan-kurchenko.medium.com/telemetry-with-scala-part-1-opentelemetry-758c72a136e7\" rel=\"nofollow noreferrer\">ivan-kurchenko.medium.com/&hellip;</a>  It seems you should add the JVM args like this: <code>javaOptions += &quot;-Dotel.javaagent.debug=true&quot;</code>  Here&#39;s the <a href=\"https://gist.github.com/IvannKurchenko/536f326913e3ef821e7d19bee14645dd#file-blog-telemetry-code-4-scala\" rel=\"nofollow noreferrer\">gist</a>"},{"comment_id":134562592,"body":"<a href=\"https://github.com/sbt/sbt-javaagent\" rel=\"nofollow noreferrer\">github.com/sbt/sbt-javaagent</a> <code>arguments</code> are &quot;Java agent arguments&quot;, which get appended to the java agent like this: <code>-javaagent:opentelemetry-javaagent.jar=arguments</code>"}],"last_activity_date":1684223046,"question_id":76260478,"body":"<p>I'm currently facing an issue with the OpenTelemetry Java Agent not receiving the arguments I pass to it in my SBT build file. Here's a snippet from my build file:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val buildOpenTelemtryJavaAgent: JavaAgent.AgentModule = {\n  val attributes = &quot;service.name=MY_SERVICE,environment=development&quot;\n  val argsStr = s&quot;&quot;&quot;otel.exporter=otlp otel.exporter.otlp.endpoint=http://198.51.100.1:4317 otel.resource.attributes=&quot;$attributes&quot;&quot;&quot;&quot;\n\n  print(argsStr)\n  JavaAgent(\n    module = openTelemetryAgentPrefix % openTelemetryAgentModuleName % openTelemetryAgentVersion % &quot;runtime&quot;,\n    name = openTelemetryAgentName,\n    scope = JavaAgent.AgentScope(true, true, true, true),\n    arguments = argsStr\n  )\n}\n</code></pre>\n<p>I'm using the JavaAgent case class from the com.lightbend.sbt.javaagent (<a href=\"https://github.com/sbt/sbt-javaagent\" rel=\"nofollow noreferrer\">https://github.com/sbt/sbt-javaagent</a>) package to attach the OpenTelemetry Java Agent to my application. I pass a string of arguments to the agent, but when I run my application, I get the following error:</p>\n<pre><code>[otel.javaagent 2023-05-16 06:45:58:127 +0000] [OkHttp http://localhost:4317/...] ERROR io.opentelemetry.exporter.internal.grpc.OkHttpGrpcExporter - Failed to export spans. The request could not be executed. Full error message: Failed to connect to localhost/127.0.0.1:4317\n</code></pre>\n<p>This error message suggests that the agent isn't receiving the correct endpoint from my arguments and is instead trying to connect to localhost:4317. This occurs regardless of what IP address I set in my SBT build file.</p>\n<p>However, when I manually run the agent using the following command, it works correctly:</p>\n<pre><code>-javaagent:/Users/[MY_USER]/dev/git/[MY_PROJECT]/target/scala-2.12/opentelemetry-javaagent.jar -Dotel.exporter=otlp -Dotel.exporter.otlp.endpoint=http://198.51.100.1:4317 -Dotel.resource.attributes=&quot;service.name=MY_SERVICE,environment=development&quot;\n</code></pre>\n<p>I would appreciate any insights into what might be going wrong here. Is it a problem with how I'm passing the arguments in my SBT build file, or is it an issue with how the agent is interpreting them?</p>\n<p>Thank you in advance for your help.</p>\n"},{"comments":[{"comment_id":134484620,"body":"If Android even <i>has</i> a <code>hosts</code> file, it will not be editable by ordinary apps, for security reasons."},{"comment_id":134484621,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"last_activity_date":1684222668,"question_id":76260421,"body":"<p>I'm trying to modify the hosts file in Java Android to dynamically add new hosts. Is there any way to do this ?</p>\n<p>I tried to follow chatgpt response but it doesn't work</p>\n"},{"comments":[{"comment_id":134481132,"body":"Similar: <a href=\"https://stackoverflow.com/q/62560495/642706\"><i>using UUID as id in JPA / Hibernate on Oracle</i></a> and <a href=\"https://stackoverflow.com/q/73659002/642706\"><i>UUID data type in Oracle</i></a>."},{"comment_id":134487663,"body":"You have not stated the version of Hibernate."}],"answers":[{"answer_id":76260407,"body":"<p>in oracle field type must be RAW(16).\nIf you use liquibase, you can set type as UUID and it will be created as RAW(16) in oracle</p>\n"}],"last_activity_date":1684222538,"question_id":76258972,"body":"<p>I am storing a value in the oracle db table\nTable column</p>\n<pre><code>id VARCHAR2(50 BYTE) NOT NULL \n</code></pre>\n<p>Java code</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;TABLE_TEST_1&quot;, schema = &quot;QA&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class TestUuid implements Serializable {\n    @Id\n    @NotNull\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    @Column(name = &quot;ID&quot;, nullable = false)\n    private java.util.UUID id;\n</code></pre>\n<p>To save i use a repository interface and do a save</p>\n<p>When the saved entity is passed i get the uuid as <code>61adf93b-b76d-4b38-a43a-ffc033ad4cea</code>\nbut it is stored in the db as <code>61ADF93BB76D4B38A43AFFC033AD4CEA</code> and when i do a find using JPA it gives totally another value <code>36314144-4639-3342-4237-364434423338</code></p>\n<p>It retrieves the value correctly using native query though</p>\n<p>Can you let me know why i notice the anomaly</p>\n<p>Thanks</p>\n"},{"comments":[{"comment_id":134468480,"body":"The User class need a default no-arg constructor for the mapping to be possible via the setters"}],"answers":[{"answer_id":76254140,"body":"<ol>\n<li>In setBody you set XML but then you use unmarshal Data Format JSON. T make it work you need to transform XML to JSON first.</li>\n<li>In XML closing tag is not  but </li>\n<li>Unmarshal requires default constructor in Java class</li>\n<li>Karavan uses plain folder structure so no package required in the class</li>\n</ol>\n<p>Try\nUser.java</p>\n<pre><code>public class User {\nprivate String name;\nprivate String surname;\n\npublic User() {\n \n}\n\npublic User(String name, String surname) {\n    this.name = name;\n    this.surname = surname;\n}\n\npublic String getSurname() {\n    return surname;\n}\n\npublic void setSurname(String surname) {\n    this.surname = surname;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n</code></pre>\n<p>}</p>\n<p>route.camel.yaml:</p>\n<pre><code>- route:\nid: route-6819\nfrom:\n  uri: timer:timer\n  id: from-ee72\n  steps:\n    - setBody:\n        id: setBody-5057\n        expression:\n          simple:\n            expression: |-\n              &lt;user&gt;\n              &lt;name&gt;John&lt;/name&gt;\n              &lt;surname&gt;Smith&lt;/surname&gt;\n              &lt;/user&gt;\n            id: simple-e9cc\n    - to:\n        uri: kamelet:xj-identity-action\n        id: to-1e55\n        parameters:\n          direction: XML2JSON\n    - unmarshal:\n        id: unmarshal-a939\n        json:\n          id: json-9671\n          unmarshalType: User\n</code></pre>\n"}],"last_activity_date":1684222278,"question_id":76234573,"body":"<p>I am new in programming in Apache Karavan and i am encountering a problem with unmarshalling. I created User.java class and I would like to map the attributes from ${body} context to a java class I created.</p>\n<p>User.java</p>\n<pre><code>package com.dhls.camel;\n\npublic class User {\n    private String name;\n    private String surname;\n\n    public User(String name, String surname) {\n        this.name = name;\n        this.surname = surname;\n    }\n\n    public String getSurname() {\n        return surname;\n    }\n\n    public void setSurname(String surname) {\n        this.surname = surname;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>My yaml file</p>\n<pre><code>- route:\n    id: route-6819\n    from:\n      uri: timer:timer\n      id: from-ee72\n      steps:\n        - setBody:\n            id: setBody-5057\n            expression:\n              simple:\n                expression: |-\n                  &lt;user&gt;\n                  &lt;name&gt;John&lt;/name&gt;\n                  &lt;surname&gt;Smith&lt;/surname&gt;\n                  &lt;/user&gt;\n                id: simple-e9cc\n        - unmarshal:\n            id: unmarshal-a939\n            json:\n              id: json-9671\n              unmarshalType: User\n</code></pre>\n<p>And this is an error i am getting.</p>\n<pre><code>Caused by: org.apache.camel.RuntimeCamelException: org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.lang.String to the required type: java.lang.Class\n        at org.apache.camel.RuntimeCamelException.wrapRuntimeCamelException(RuntimeCamelException.java:51)\n        at org.apache.camel.support.component.PropertyConfigurerSupport.property(PropertyConfigurerSupport.java:97)\nlass\n        at org.apache.camel.impl.converter.CoreTypeConverterRegistry.mandatoryConvertTo(CoreTypeConverterRegistry.java:206)\n        at org.apache.camel.support.component.PropertyConfigurerSupport.property(PropertyConfigurerSupport.java:95)\n        ... 41 more\n</code></pre>\n<p>Is there any easy way to map the attributes to class using unmarshal component and then use whole class in the following components?</p>\n"},{"answers":[{"comments":[{"comment_id":134469652,"body":"i already told you that i tried this, and already downloaded the sdk tools, you can see the screenshots"}],"answer_id":76253537,"body":"<ol>\n<li><code>~/Library/Android/sdk/tools/bin/sdkmanager --install &quot;cmdline-tools;latest&quot; </code></li>\n</ol>\n<pre><code>    at com.android.repository.api.SchemaModule$SchemaModuleVersion.&lt;init&gt;(SchemaModule.java:156)\n    at com.android.repository.api.SchemaModule.&lt;init&gt;(SchemaModule.java:75)\n    at com.android.sdklib.repository.AndroidSdkHandler.&lt;clinit&gt;(AndroidSdkHandler.java:81)\n    at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:73)\n    at com.android.sdklib.tool.sdkmanager.SdkManagerCli.main(SdkManagerCli.java:48)\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.annotation.XmlSchema\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    ... 5 more\n</code></pre>\n<ol start=\"2\">\n<li>Install Android SDK Command-line Tools in Android Studio:</li>\n</ol>\n<p>Preferences → Appearance &amp; Behavior → System Settings → Android SDK → SDK Tools → Android SDK Command-line Tools (latest)</p>\n"},{"comments":[{"comment_id":134470117,"body":"i already did that, i updated my question . still not working"},{"comment_id":134470145,"body":"can you share <b>flutter doctor</b>  log"},{"comment_id":134470176,"body":"i edited and updated"},{"comment_id":134470712,"body":"run &#39;flutter config --android-sdk YOUR_PATH_FOR_SDK&#39;  YOUR_PATH_FOR_SDK can be found in  tools-&gt;SDK manager-&gt;android sdk-&gt;Android sdk location.  then run &#39;flutter doctor --android-licenses&#39; and accept all by typing &quot;Y&quot;"},{"comment_id":134481900,"body":"you are welcome @mishalhaneef updated my answer . in case any one face this issue"}],"answer_id":76253626,"body":"<p>Open <code>android studio</code>, open any existing project or create one. open it</p>\n<p>then <code>tools</code>-&gt;<code>SDK manager</code>,</p>\n<p><a href=\"https://i.stack.imgur.com/izrHI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/izrHI.png\" alt=\"like this\" /></a>\nin side bar select <code>android sdk</code> -&gt; in tab bar select <code>sdk tools</code> -&gt; in the list <code>select Android SDK Command-line Tools</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/9qgQU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9qgQU.png\" alt=\"like this\" /></a></p>\n<p>then apply and click ok it will download.</p>\n<p>then try flutter doctor.</p>\n<p>if problem still exist try</p>\n<pre><code>flutter config --android-sdk YOUR_PATH_FOR_SDK\n</code></pre>\n<p>YOUR_PATH_FOR_SDK can be found <code>tools-&gt;SDK manager-&gt;android sdk-&gt;Android sdk location</code></p>\n"}],"last_activity_date":1684222010,"question_id":76253510,"body":"<p>I'm encountering an issue with the Android command-line tools, specifically the error message</p>\n<pre><code>&quot;cmdline-tools component is missing.&quot;\n</code></pre>\n<p>I'm trying to install the necessary components for Android development using the command</p>\n<pre><code>path/to/sdkmanager --install &quot;cmdline-tools;latest&quot;\n</code></pre>\n<p>as mentioned in the official documentation.</p>\n<p>However, when I run the command, I receive the following error message:</p>\n<pre><code>&quot;zsh: no such file or directory: path/to/sdkmanager.&quot;\n</code></pre>\n<p>I have verified that the path to the sdkmanager executable is correct and have tried various approaches, but the error persists.</p>\n<p>Here are the steps I've taken:</p>\n<ol>\n<li>Checked the correct path to the sdkmanager executable.</li>\n<li>Verified the existence of the cmdline-tools component in the Android SDK installation directory.</li>\n<li>Ensured that the path to the sdkmanager executable is properly formatted without any typographical errors.</li>\n<li>Tried running the command from the correct directory but still encountered the same error.</li>\n<li>I'm using [provide your operating system details], and I have already installed Java [provide your Java version details] for Android development.</li>\n</ol>\n<p>i installed cmd-line tools.</p>\n<p><a href=\"https://i.stack.imgur.com/V9SG0m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V9SG0m.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/g8kJ9m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g8kJ9m.png\" alt=\"enter image description here\" /></a></p>\n<p>and also when i tried <code>./sdkmanager --install &quot;cmdline-tools;latest&quot;</code>\nit says\n<a href=\"https://i.stack.imgur.com/r3ccK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r3ccK.png\" alt=\"enter image description here\" /></a></p>\n<p>here is the flutter doctor result</p>\n<pre><code>[✓] Flutter (Channel stable, 3.10.0, on macOS 13.3.1 22E772610a darwin-arm64, locale en-IN)\n    • Flutter version 3.10.0 on channel stable at /Users/mishalhaneef/flutter\n    • Upstream repository https://github.com/flutter/flutter.git\n    • Framework revision 84a1e904f4 (6 days ago), 2023-05-09 07:41:44 -0700\n    • Engine revision d44b5a94c9\n    • Dart version 3.0.0\n    • DevTools version 2.23.1\n\n[✗] Android toolchain - develop for Android devices\n    • Android SDK at /Users/mishalhaneef/homebrew/Caskroom/android-platform-tools/34.0.1\n    ✗ cmdline-tools component is missing\n      Run `path/to/sdkmanager --install &quot;cmdline-tools;latest&quot;`\n      See https://developer.android.com/studio/command-line for more details.\n\n[✓] Xcode - develop for iOS and macOS (Xcode 14.2)\n    • Xcode at /Applications/Xcode.app/Contents/Developer\n    • Build 14C18\n    • CocoaPods version 1.12.0\n\n[✓] Chrome - develop for the web\n    • Chrome at /Applications/Google Chrome.app/Contents/MacOS/Google Chrome\n\n[✓] Android Studio (version 2022.2)\n    • Android Studio at /Applications/Android Studio.app/Contents\n    • Flutter plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/9212-flutter\n    • Dart plugin can be installed from:\n      🔨 https://plugins.jetbrains.com/plugin/6351-dart\n    • Java version OpenJDK Runtime Environment (build 17.0.6+0-17.0.6b802.4-9586694)\n\n[✓] VS Code (version 1.78.2)\n    • VS Code at /Applications/Visual Studio Code.app/Contents\n    • Flutter extension version 3.64.0\n\n[✓] Connected device (2 available)\n    • macOS (desktop) • macos  • darwin-arm64   • macOS 13.3.1 22E772610a darwin-arm64\n    • Chrome (web)    • chrome • web-javascript • Google Chrome 113.0.5672.92\n\n[✓] Network resources\n    • All expected network resources are available.\n\n! Doctor found issues in 1 category.\n\n</code></pre>\n<p>Any suggestions or insights on resolving this issue and successfully installing the Android command-line tools would be greatly appreciated. Thank you!</p>\n"},{"comments":[{"comment_id":91694233,"body":"Not an answer to the question, but for general stream advice: This may not be the best example, because with Streams it makes more sense to do something like <code>List&lt;Integer&gt; newList = list.stream().filter(...).collect(...);</code> then use the result of the stream (<code>newList</code>) from there on. Streams are much easier to grasp if you think about them as functions that return a result (whether it is modified or created new) that you may further operate on, not the original source. Then you shouldn&#39;t (in most cases) have to worry about implementation details like this."}],"answers":[{"comments":[{"comment_id":91494776,"body":"@Nikolas well, that blog is focusing on observed behavior and looking at the code, where it should have referred to the specification instead. But at least the conclusion is basically correct: “<i>we can only suggest that you never actually do modify a backing collection while consuming a stream</i>”."}],"answer_id":52272725,"body":"<p>The API documentation makes no such guarantee “that subsequent operations no longer operate on the backing collection”, hence, you should never rely on such a behavior of a particular implementation.</p>\n\n<p>Your example happens to do the desired thing by accident; there’s not even a guarantee that the <code>List</code> created by <code>collect(Collectors.toList())</code> supports the <code>remove</code> operation.</p>\n\n<p>To show a counter-example</p>\n\n<pre><code>Set&lt;Integer&gt; set = IntStream.range(0, 10).boxed()\n    .collect(Collectors.toCollection(TreeSet::new));\nset.stream()\n    .filter(i -&gt; i &gt; 5)\n    .sorted()\n    .forEach(set::remove);\n</code></pre>\n\n<p>throws a <code>ConcurrentModificationException</code>. The reason is that the implementation optimizes this scenario, as the source is already sorted. In principle, it could do the same optimization to your original example, as <code>forEach</code> is explicitly performing the action in no specified order, hence, the sorting is unnecessary.</p>\n\n<p>There are other optimizations imaginable, e.g. <code>sorted().findFirst()</code> could get converted to a “find the minimum” operation, without the need to copy the element into a new storage for sorting.</p>\n\n<p>So the bottom line is, when relying on unspecified behavior, what may happen to work today, may break tomorrow, when new optimizations are added.</p>\n"},{"answer_id":52272767,"body":"<p>Well <code>sorted</code> has to be a full <em>copying</em> barrier for the stream pipeline, after all your source could be <em>not sorted</em>; but this is not documented as such, thus do not rely on it.</p>\n\n<p>This is not <em>just</em> about <code>sorted</code> per-se, but what other optimization can be done to the stream pipeline, so that <code>sorted</code> could be entirely skipped. For example:</p>\n\n<pre><code>List&lt;Integer&gt; sortedList = IntStream.range(0, 10)\n            .boxed()\n            .collect(Collectors.toList());\n\n    StreamSupport.stream(() -&gt; sortedList.spliterator(), Spliterator.SORTED, false)\n            .sorted()\n            .forEach(sortedList::remove); // fails with CME, thus no copying occurred \n</code></pre>\n\n<p>Of course, <code>sorted</code> needs to be a full barrier and stop to do an entire sort, unless, of course, it can be skipped, thus the documentation makes no such promises, so that we don't run in weird surprises. </p>\n\n<p><code>distinct</code> on the other hand does not <em>have to be a full barrier</em>, all distinct does is check one element at a time, if it is unique; so after a single element is checked (and it is unique) it is passed to the next stage, thus without being a full barrier. Either way, this is not documented also... </p>\n"},{"comments":[{"comment_id":91495631,"body":"I am aware the first paragraph of your answer well, Andrew. Here I’d use Iterator or collect to a List to remove it all from the source. The second paragraph makes sence."},{"comment_id":91496008,"body":"@Nikolas no one pointed that <code>list::remove</code> is inappropriate here. I wanted to highlight it."}],"answer_id":52274148,"body":"<p>You shouldn't have brought up the cases with a terminal operation <code>forEach(list::remove)</code> because <code>list::remove</code> is an interfering function and it violates the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#NonInterference\" rel=\"nofollow noreferrer\">\"non-interference\"</a> principle for terminal actions.</p>\n\n<p>It's vital to follow the rules before wondering why an incorrect code snippet causes unexpected (or undocumented) behaviour.</p>\n\n<p>I believe that <code>list::remove</code> is the root of the problem here. You wouldn't have noticed the difference between the operations for this scenario if you'd written a proper action for <code>forEach</code>.</p>\n"}],"last_activity_date":1684221653,"question_id":52272533,"body":"<p>Is the following statement true?</p>\n<blockquote>\n<p>The <code>sorted()</code> operation is a “stateful intermediate operation”, which means that subsequent operations no longer operate on the backing collection, but on an internal state.</p>\n</blockquote>\n<p><sup>(<a href=\"https://www.toptal.com/java/top-10-most-common-java-development-mistakes\" rel=\"nofollow noreferrer\">Source</a> and <a href=\"https://dzone.com/articles/java-8-friday-10-subtle\" rel=\"nofollow noreferrer\">source</a> - they seem to copy from each other or come from the same source.)</sup></p>\n<p><strong>Disclaimer:</strong> I am aware the following snippets are not legit usages of Java Stream API. Don't use in the production code.</p>\n<p>I have tested <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--\" rel=\"nofollow noreferrer\"><code>Stream::sorted</code></a> as a snippet from sources above:</p>\n<pre><code>final List&lt;Integer&gt; list = IntStream.range(0, 10).boxed().collect(Collectors.toList());\n    \nlist.stream()\n    .filter(i -&gt; i &gt; 5)\n    .sorted()\n    .forEach(list::remove);\n\nSystem.out.println(list);            // Prints [0, 1, 2, 3, 4, 5]\n</code></pre>\n<p>It works. I replaced <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--\" rel=\"nofollow noreferrer\"><code>Stream::sorted</code></a> with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--\" rel=\"nofollow noreferrer\"><code>Stream::distinct</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-\" rel=\"nofollow noreferrer\"><code>Stream::limit</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#skip-long-\" rel=\"nofollow noreferrer\"><code>Stream::skip</code></a>:</p>\n<pre><code>final List&lt;Integer&gt; list = IntStream.range(0, 10).boxed().collect(Collectors.toList());\n    \nlist.stream()\n    .filter(i -&gt; i &gt; 5)\n    .distinct()\n    .forEach(list::remove);          // Throws NullPointerException\n</code></pre>\n<p>To my surprise, the <code>NullPointerException</code> is thrown.</p>\n<p>All the tested methods follow the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">stateful intermediate operation</a> characteristics. Yet, this unique behavior of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted--\" rel=\"nofollow noreferrer\"><code>Stream::sorted</code></a> is not documented nor the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">Stream operations and pipelines</a> part explains whether the <em>stateful intermediate operations</em> really guarantee a new source collection.</p>\n<p>Where my confusion comes from and what is the explanation of the behavior above?</p>\n"},{"comments":[{"comment_id":134471416,"body":"Is <code>@AftesTest</code> supposed to be <code>@AfterTest</code>?"},{"comment_id":134471471,"body":"@khelwood yes exactly sorry typo"}],"last_activity_date":1684221493,"question_id":76254517,"body":"<p><strong>Context -</strong> When Soft Asserts are used within @Test method and once we put softAssert.assertAll() within a @AfterTest or @AfterMethod it shows test passed even though there are failures , Im using a custom listener class to capture screenshots on Test Failure it works fine if assertAll() done within the same @Test method but not working with @AfterTest to @AfterMethod , listener class pickups as if Test Was Passed and mark it as Passed.</p>\n<pre><code>@Listener(MyCustomListener.class)\npublic class GoogleTest {\nWebDriver driver;\nSoftAssert softAssert;\n\n@BeforeMethod\npublic void setup() {\n    // Set the path to the chromedriver executable\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;path/to/chromedriver&quot;);\n\n    // Create a new instance of ChromeDriver\n    driver = new ChromeDriver();\n\n    // Initialize SoftAssert\n    softAssert = new SoftAssert();\n}\n\n@Test(description=&quot;Testing Soft Asserts&quot;)\npublic void verifyGoogleTitle() {\n    // Navigate to Google\n    driver.get(&quot;https://www.google.com&quot;);\n\n    // Verify the title using SoftAsserts\n    softAssert.assertEquals( driver.getTitle() , &quot;Invalid Title&quot;);\n}\n\n@AfterMethod\npublic void tearDown() {\n    // Perform assertions\n    softAssert.assertAll();\n\n    // Quit the driver\n    driver.quit();\n}}\n</code></pre>\n"},{"answers":[{"answer_id":76254670,"body":"<p>You can try the below way. I extracted the locator from your given <code>html</code> make sure its unique.</p>\n<pre><code>WebElement element = driver.findElement(By.cssSelector(&quot;div.ant-select-selection__rendered&quot;));\nJavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n"}],"last_activity_date":1684221481,"question_id":76254513,"body":"<p>This what I have tried</p>\n<pre><code>Thread.sleep(3000);\nJavascriptExecutor js3 = (JavascriptExecutor) driver;\njs3.executeScript(&quot;window.scrollBy(0,500)&quot;, &quot;&quot;);\n</code></pre>\n<p>But the page does not scroll down, is there perhaps another way of scroll down on a form, because when I am trying the above the form won't scroll so I am not able to get to the below element.</p>\n<p>I want to scroll down to this element on the form.</p>\n<pre><code>'&lt;div class=&quot;ant-select-selection__rendered&quot; style=&quot;&quot;&gt;&lt;div unselectable=&quot;on&quot; class=&quot;ant-select-selection__placeholder&quot; style=&quot;display: none; user-select: none;&quot;&gt;Select...&lt;/div&gt;&lt;div title=&quot;&quot; class=&quot;ant-select-selection-selected-value&quot; style=&quot;display: block; opacity: 1;&quot;&gt;&lt;/div&gt;&lt;/div&gt;'\n</code></pre>\n"},{"answers":[{"answer_id":58411130,"body":"<p>You can make use of <code>UriBuilder</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>webTestClient.get()\n            .uri(uriBuilder -&gt;\n                    uriBuilder\n                            .path(\"/v3/callback\")\n                            .queryParam(\"state\", \"cGF5bWVudGlkPTRiMmZlMG\")\n                            .build())\n            .exchange()\n            .expectStatus()\n            .isOk();\n</code></pre>\n\n<p>This should work.</p>\n"},{"answer_id":75583684,"body":"<p>If your query parameter value contains curly braces, for example like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webTestClient.get()\n    .uri(uriBuilder -&gt; uriBuilder\n        .path(&quot;/v3/callback&quot;)\n        .queryParam(&quot;query&quot;, &quot;{ some { GraphQL { query } } }&quot;)\n        .build())\n    .exchange()\n    .expectStatus()\n    .isOk();\n</code></pre>\n<p>Then <code>UriBuilder</code> will attempt to do variable substitution on the contents of the curly braces and you will likely get an exception on the <code>build()</code> call. In order to avoid it, place your request parameters in a separate <code>requestParams</code> map and use controlled variable substitution by calling <code>build(requestParams)</code> when building the <code>URI</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var requestParams = Map.of(\n    &quot;query&quot;, &quot;{ some { GraphQL { query } } }&quot;\n);\n\nwebTestClient.get()\n    .uri(uriBuilder -&gt; uriBuilder\n        .path(&quot;/v3/callback&quot;)\n        .queryParam(&quot;query&quot;, &quot;{query}&quot;)\n        .build(requestParams))\n    .exchange()\n    .expectStatus()\n    .isOk();\n</code></pre>\n<p>Another tip. If you find <code>.uri(uriBuilder -&gt; ...)</code> syntax a bit complex, you can prepare the <code>URI</code> explicitly before the request:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var requestParams = Map.of(\n    &quot;query&quot;, &quot;{ some { GraphQL { query } } }&quot;\n);\n\nURI uri = new DefaultUriBuilderFactory(&quot;/v3/callback&quot;)\n    .builder()\n    .queryParam(&quot;query&quot;, &quot;{query}&quot;)\n    .build(requestParams);\n\nwebTestClient.get()\n    .uri(uri)\n    .exchange()\n    .expectStatus()\n    .isOk();\n</code></pre>\n<p>If the <code>URI</code> is prepared beforehand - it is easier to check the generated <code>URI</code> in the debugger or log it.</p>\n"},{"answer_id":76260267,"body":"<p>Below is the Kotlin Sample for the above</p>\n<pre><code>val requestParams = LinkedMultiValueMap&lt;String, String&gt;()\nrequestParams.add(&quot;A&quot;, &quot;abc&quot;)      \nrequestParams.add(&quot;B&quot;, &quot;def&quot;)       \nrequestParams.add(&quot;C&quot;, &quot;ghi&quot;)\n \nval uri = UriComponentsBuilder.fromPath(&quot;/v3/callback&quot;).queryParams(requestParams).build().toUri()   \n\nwebTestClient.get().uri{uri}.exchange().expectStatus().isOk\n</code></pre>\n"}],"last_activity_date":1684221361,"question_id":58409743,"body":"<p>In my webflux application, i have this <code>GET</code> endpoint </p>\n\n<pre><code>v3/callback?state=cGF5bWVudGlkPTRiMmZlMG\n</code></pre>\n\n<p>I am trying to write  an integration test using <code>WebTestClient</code> </p>\n\n<pre><code>@Test\npublic void happyScenario() {\n    webTestClient.get().uri(\"/v3/callback?state=cGF5bWVudGlkPTRiMmZlMG\")\n            .exchange()\n            .expectStatus()\n            .isOk();\n}\n</code></pre>\n\n<p>This test case return <code>404 notFound</code>, if i removed the query parameter it will be called but the <code>state</code> parameter it will be missing</p>\n\n<p>I tried to use <code>attribute</code> </p>\n\n<pre><code>  webTestClient.get().uri(\"/v3/callback\")\n            .attribute(\"state\",\"cGF5bWVudGlkPTRiMmZlMG\")\n            .exchange()\n            .expectStatus()\n            .isOk();\n</code></pre>\n\n<p>but still the <code>state</code> parameter is missing, How can i include a query parameter with request when using <code>webTestClient</code> ?</p>\n"},{"comments":[{"comment_id":134481542,"body":"&quot;<i>...as soon as I close scanner object...</i>&quot; - Don&#39;t close a <code>Scanner</code> wrapping <code>System.in</code>, as it will <a href=\"https://stackoverflow.com/questions/14142853/close-a-scanner-linked-to-system-in\">close the underlying stream aswell</a>."},{"comment_id":134481564,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14142853/close-a-scanner-linked-to-system-in\">Close a Scanner linked to System.in</a>"},{"comment_id":134481748,"body":"This code sample seems irrelevant to your Question. You are not closing your Scanner anywhere in that code."}],"answers":[{"comments":[{"comment_id":134481624,"body":"but opening it and closing inside the same method, shouldn&#39;t it be normally reopened at each new method call? I don&#39;t understand why the stream doesn&#39;t reopen"},{"comment_id":134481707,"body":"@rainbow You cannot re-open <code>System.in</code>."},{"comment_id":134481951,"body":"not sure if closing is the only problem here as in this code snippet I don&#39;t close, but as soon as I remove the userInput.next(); line it gets stuck in the loop again."},{"comment_id":134482060,"body":"@rainbow Your Question says that you closed it in other code, which you confusingly chose not to show us."},{"comment_id":134482561,"body":"my question says what are the ways to avoid the error as my current way out was to take out the scanner object outside the loop and use next method, which I am not sure is the best way to solve the problem"},{"comment_id":134486065,"body":"@rainbow if you remove the <code>userInput.next()</code>, then the scanner will not progress if the next input is not an integer or &#39;q&#39;, and therefore gets stuck in an infinite loop. Your problem description does not match the code you are showing, and does not match the real problem you are having."}],"answer_id":76260172,"body":"<h1>Closing the <code>Scanner</code> closes its underlying <code>System.in</code></h1>\n<p>To quote the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#close()\" rel=\"nofollow noreferrer\"><code>Scanner#close</code></a>:</p>\n<blockquote>\n<p>If this scanner has not yet been closed then if its underlying readable also implements the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Closeable.html\" rel=\"nofollow noreferrer\"><code>Closeable</code></a> interface then the readable's close method will be invoked.</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/System.html#in\" rel=\"nofollow noreferrer\"><code>System.in</code></a> object is an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/InputStream.html\" rel=\"nofollow noreferrer\"><code>InputStream</code></a>. And <code>InputStream</code> does indeed implement <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/io/Closeable.html\" rel=\"nofollow noreferrer\"><code>Closeable</code></a>. So that transitive closing does apply.</p>\n<p>So… Closing a <code>Scanner</code> object based on the <code>System.in</code> object closes both.</p>\n<h1><code>System.in</code> cannot be reopened</h1>\n<p>Do not do that, do not close <code>System.in</code>. You cannot reopen <code>System.in</code>.</p>\n<p>Generally, you <em>should</em> close resource such as <code>Scanner</code>. The <code>Scanner</code> class is even <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> to make such closing easy with try-with-resources syntax.</p>\n<p>But if your scanner is based on <code>System.in</code>, then we have an exception to the <em>always-close-your-resources</em> rule.</p>\n<p>For more info, see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/14142853/642706\"><em>Close a Scanner linked to System.in</em></a></li>\n<li><a href=\"https://stackoverflow.com/q/27286690/642706\"><em>In Java is it possible to re-open System.in after closing it</em></a></li>\n</ul>\n"}],"last_activity_date":1684221300,"question_id":76260134,"body":"<p>I have a problem with Scanner in a while loop.</p>\n<p>Whenever I have a while (true) loop reading from scanner, as soon as I close scanner object, the while loop starts to iterate eternally thinking I closed stream. But I open and close stream in a separate method, that as I imagine should be opening and closing it each time the method is called, but it doesn’t.\nWhat currently helps is creating Scanner object outside the loop and sending it as a parameter to the method, plus adding scannerObject.next() method.</p>\n<p>I don’t want to change loop conditions. Are there normal ways to avoid this error?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        //testing how to have a while loop that only stops if q is entered\n        Scanner userInput = new Scanner(System.in);\n        \n        while(true) {               \n            int number = input(userInput);\n            \n            switch(number) {\n                \n            case 0: // returns 0 for Invalid input\n                System.out.println(\"Invalid input. Enter an integer or q to Quit\");\n                break;\n                \n            case -1: // returns 1 to quit the program\n                //\n                System.out.println(\"You chose to quit. Good-bye\");\n                System.exit(0);\n                break;\n                \n            default: // default is done when the input returns an integer, so valid input\n                System.out.println(\"You entered \" + number);\n                break;\n            }                   \n            //System.out.println(\"I am now after the while loop\");\n        }// end of while(true) loop for userinput\n        \n    }\n\n    private static int input(Scanner userInput) {\n        System.out.println(\"Enter an integer or q to Quit the program: \");                  \n        int result = 0;         \n        if(userInput.hasNextInt()) {\n            result = userInput.nextInt();               \n        }           \n        else {              \n            if(userInput.hasNext(\"q\")) {                    \n                result = -1;\n            }\n            else {\n                \n                userInput.next();\n//              result = 0;\n            }\n        }           \n        return result;          \n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"comments":[{"comment_id":134481682,"body":"You can set the enabled cipher suites explicitly on each <code>SSLSocket</code>."},{"comment_id":134481722,"body":"Thanks @user207421 . Actually, I am not trying to set the cipher suites. I want to restrict the signature algorithms for TLS 1.3."}],"last_activity_date":1684221156,"question_id":76259901,"body":"<p>By default for <code>TLS 1.3</code>, the offered signature algorithms prefer ECDSA followed by RSA.\nHowever, for my java code, I want my client to offer only RSA signature algorithms as part of client hello. How can that be achieved ?</p>\n<p>I tried using <code>jdk.tls.client.SignatureSchemes=&quot;RSAWITHSHA256,RSAWITHSHA384,RSAWITHSHA512&quot;</code>, but the client still presents the following algorithms as part of client hello</p>\n<pre><code> ECDSA+SHA256:ECDSA+SHA384:ECDSA+SHA512:RSA-PSS+SHA256:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA-PSS+SHA256:RSA-PSS+SHA384:RSA-PSS+SHA512:RSA+SHA256:RSA+SHA384:RSA+SHA512:ECDSA+SHA1:RSA+SHA1.\n</code></pre>\n<p>How can we achieve restricting ECDSA signature algorithms explicitly in Java client code ?</p>\n<p>Tried setting <code>jdk.tls.client.SignatureSchemes=&quot;RSAWITHSHA256,RSAWITHSHA384,RSAWITHSHA512&quot;</code> as system property and at runtime, it didnt work for me.</p>\n"},{"comments":[{"comment_id":134479355,"body":"More stack trace please? There might be another one above if that class failed to initialize repeatedly."}],"answers":[{"answer_id":76260245,"body":"<p>The issue was resolved by using an older version of OKHTTP3 when it was implemented using java not kotlin.</p>\n"}],"last_activity_date":1684221144,"question_id":76254069,"body":"<pre><code>RequestBody body = new FormBody.Builder().add(&quot;LicenseType&quot;, &quot;&quot;).add(&quot;Password&quot;, password).add(&quot;RedirectToMyselfInCaseOfError&quot;, redirectToMyselfInCaseOfError ? &quot;true&quot; : &quot;false&quot;).add(&quot;RememberMe&quot;, rememberMe ? &quot;true&quot; : &quot;false&quot;).add(&quot;UserName&quot;, userName).build();\n</code></pre>\n<pre><code>Exception\njava.lang.NoClassDefFoundError: Could not initialize class okhttp3.internal.Util\n    at okhttp3.FormBody.&lt;init&gt;(FormBody.kt:32)\n    at okhttp3.FormBody$Builder.build(FormBody.kt:120)\n</code></pre>\n<p>Application deployed on Glassfish 5.1<br />\nJDK 8</p>\n<p>It is working when using Test Client in java.</p>\n"},{"answers":[{"answer_id":40890105,"body":"<p>you have to reset j like this:</p>\n\n<pre><code>public class test {\n    public static void main(String[] args) {\n        int rows = 5, i = 1, j = 1;\n\n        while (i &lt;= rows) {\n            while (j &lt;= i) {\n                System.out.print(\"*\");\n                j++;\n\n            }\n            System.out.print(\"\\n\");\n            i++;\n            j = 1;\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":40890123,"body":"<p>You have forgotten to assign 1 to j at the end of the outer while loop.</p>\n\n<pre><code>public class WhileNest {\n\n    public static void main(String[] args) {\n        int rows = 5, i = 1, j = 1;\n\n        while (i &lt;= rows) {\n            while (j &lt;= i) {\n                System.out.print(\"*\");\n                j++;\n            }\n            System.out.print(\"\\n\");\n            i++;\n            j = 1;\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":45960888,"body":"<pre><code>public static void main(String[] args) {\n    \n    for(int i=0;i&lt;10;i++){\n        for(int k=0;k&lt;i;k++){\n            System.out.print(&quot;*&quot;);\n        }\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"answer_id":48900931,"body":"<p>Pyramid using two for loops:</p>\n<pre><code>String STAR = &quot;*&quot;;\n    String SPACE = &quot; &quot;;\n    int SIZE = 10;\n    for(int i=0;i&lt;SIZE;i++) {\n        int start = SIZE-i;\n        int end = (SIZE*2) - SIZE + i;\n        for(int j = 0; j&lt;SIZE*2; j++) {\n            if(j&gt;=start &amp;&amp; j&lt;=end &amp;&amp; j%2 == i%2) {\n                System.out.print(STAR);\n            } else {\n                System.out.print(SPACE);\n            }\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>output:</p>\n<pre><code>          *         \n         * *        \n        * * *       \n       * * * *      \n      * * * * *     \n     * * * * * *    \n    * * * * * * *   \n   * * * * * * * *  \n  * * * * * * * * * \n * * * * * * * * * *\n</code></pre>\n"},{"answer_id":53134219,"body":"<p>*Instead of initializing &quot;j&quot; at the beginning, include it in the first while loop that'll do the work.( * will be printed at the beginning of each row)</p>\n<pre><code>public class WhileNest\n{\n    public static void main(String[]args)\n    {\n        int rows = 5, i = 1;\n\n        while(i &lt;= rows)\n        {\n            int j = 1;\n            while(j &lt;= i)\n            {\n                System.out.print(&quot;*&quot;);\n                j++;\n            }\n            System.out.print(&quot;\\n&quot;);\n            i++;\n\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":70509118,"body":"<pre><code>int rows = 5, i = 1, j = 1;\n\n    while(i &lt;= rows)\n    {\n        while(j &lt;= i)\n        {\n            System.out.print(&quot;*&quot;);\n            j++;\n        }\n        j=1;\n        System.out.println();\n        i++;\n    }\n</code></pre>\n<p>You are not reassigning <code>j</code> to start from beginning. Your <code>i</code> and <code>j</code> were always staying same. Re-initialize <code>j</code> to 1 after the inner while loop as shown. It will work</p>\n"}],"last_activity_date":1684221141,"question_id":40890013,"body":"<p>I'm trying to print a pyramid of stars using nested while loops. I know I am able to achieve this using for loops but I want to do it with while loop instead. This is my code so far: </p>\n\n<pre><code>public class WhileNest\n{\n    public static void main(String[]args)\n    {\n        int rows = 5, i = 1, j = 1;\n\n        while(i &lt;= rows)\n        {\n            while(j &lt;= i)\n            {\n                System.out.print(\"*\");\n                j++;\n\n            }\n            System.out.print(\"\\n\");\n            i++;\n\n        }\n    }\n}\n</code></pre>\n\n<p>The output has to be like this: </p>\n\n<pre><code>*\n**\n***\n****\n*****\n</code></pre>\n\n<p>But my output is this:</p>\n\n<pre><code>*\n*\n*\n*\n*\n</code></pre>\n\n<p>Any help is appreciated, thanks. </p>\n"},{"comments":[{"comment_id":134468290,"body":"If those statements are must, why not take them out of switch case"},{"comment_id":134468304,"body":"good point... not supposed to refactor that much though."},{"comment_id":134468379,"body":"@ChetanAhirrao also, not all the peculiar cases need those &quot;default&quot; lines"},{"comment_id":134468403,"body":"@knittl yeah just extract a method and call it from the default case. seems right thanks"},{"comment_id":134468426,"body":"It wouldn&#39;t be good refactoring at all if something like this is achieved. Default is only supposed to run if none of other cases occur."}],"answers":[{"answer_id":76252752,"body":"<p>If things must be executed unconditionally, they should be moved out of the condition:</p>\n<pre><code>switch(someVar) {\n    case &quot;a&quot;:\n        ....\n        //do something peculiar for a \n        break;\n    case &quot;b&quot;:\n        ...\n        //do something peculiar for b\n        break;\n}\n\n//common things that all cases should do\n</code></pre>\n<p>Alternatively, extract a method:</p>\n<pre><code>switch(someVar) {\n    case &quot;a&quot;:\n        ....\n        //do something peculiar for a \n        doCommonThings();\n        break;\n    case &quot;b&quot;:\n        ...\n        //do something peculiar for b\n        doCommonThings();\n        break;\n}\n</code></pre>\n"},{"answer_id":76252776,"body":"<p>If a thing is common for all cases it should ring a warning that it is not supposed to be in a switch-case at all, but be moved outside.</p>\n<pre><code>switch(someVar) {\n    case &quot;a&quot;:\n        ....\n        //do something peculiar for a \n        break;\n    case &quot;b&quot;:\n        ...\n        //do something peculiar for b\n        break;\n}\n\n//common things that all cases should do\n</code></pre>\n<p>Similar to as if you would do for an if else</p>\n<pre><code>if(isSpecial) {\n    do X\n}\nelse {\n    do Y\n}\ndo for both\n</code></pre>\n<p>Not</p>\n<pre><code>if(isSpecial) {\n    do X\n    do for both\n}\nelse {\n    do Y\n    do for both\n}\n</code></pre>\n"},{"answer_id":76260113,"body":"<p>If something you want should be executed at all conditions, the best choice would be to put that just outside the switch case.</p>\n<pre><code>   switch(someVar) {\n    case &quot;a&quot;:\n        ....\n        break;\n    case &quot;b&quot;:\n        ...\n        break;\n    default: \n        ...\n    }\n{commmon things to be executed}\n</code></pre>\n<p>Ideally, <strong>default</strong> statement is to just execute when none of your cases match.</p>\n"}],"last_activity_date":1684220098,"question_id":76252647,"body":"<p>I have a switch where for particular cases I need to do some peculiar things but I still want them to pass through the default case of the switch statement because in there I have functionality that is common to all cases. How can I force the passage to the default case after I've handled the peculiar one?</p>\n<p>Example:</p>\n<pre><code>    switch(someVar) {\n        case &quot;a&quot;:\n            ....\n            //do something peculiar for a \n            break;\n        case &quot;b&quot;:\n            ...\n            //do something peculiar for b\n            break;\n        default: \n            ...\n            //common things that all cases should do\n    }\n</code></pre>\n<p>At the moment I've just copy-pasted the lines inside the default at the bottom of each peculiar case but that's ugly.</p>\n"},{"comments":[{"comment_id":29806487,"body":"I am sure you know how to write a java program , but you might have missed to note somehow that you are trying to nest another function in main()"}],"answers":[{"comments":[{"comment_id":29806523,"body":"Yeah, I&#39;m just experimenting with Java and want to create a function which let me <code>newSword(nameSword, damageSword)</code>, just for the heck of it xD So when i create like a textbased rpg to easily create more than one sword...  EDIT: I just tried your code, I still get the same errors, could it be something with settings or something? I&#39;m running Eclipse on Linux Mint... Maybe that can help."},{"comment_id":29806621,"body":"I just tried your code, I still get the same errors, could it be something with settings or something? I&#39;m running Eclipse on Linux Mint... Maybe that can help."}],"answer_id":20016959,"body":"<p>Im not sure what you want, something like this?</p>\n\n<pre><code>package swords;\n\npublic class Sword {\n\n    public static int numberOfSwords = 0;\n\n    public static void main(String[] args) {\n        newSword(\"Overpowered Sword\", 1000000);\n    }\n\n    public static void newSword(String nameSword, int damageSword) {\n        numberOfSwords++;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":29806612,"body":"I just keep getting errors, also with your code... I think it&#39;s something with my system, I&#39;m running Linux, so maybe there is something with a path??"},{"comment_id":29806708,"body":"Try out a simple hello world program"},{"comment_id":29806746,"body":"@user2998976 - no, there&#39;s a syntax error in his code (<code>numberOfSwords</code> needs the <code>static</code> modifier)."},{"comment_id":29806803,"body":"Lol. Thanks for the heads up. Sort of forgot about that. My bad."},{"comment_id":29806963,"body":"Well that fixed one error ^ ^ But why does it need to be static, and what does that mean?"},{"comment_id":29806996,"body":"Static methods can only access static variables"},{"comment_id":29807041,"body":"Fixed another possible error. You are calling the function, <code>newSword</code> with a long, where as the function declaration uses int."}],"answer_id":20017013,"body":"<p>Perhaps this would help.</p>\n\n<pre><code>package swords;\n\nclass Sword {\n    private static int numberOfSwords = 0;\n\n    public static void main(String[] args) {\n        newSword(\"Overpowered Sword\", 100);\n    }\n\n    public static void newSword(String nameSword, int damageSword) {\n        numberOfSwords++;\n    }\n}\n</code></pre>\n\n<p><strong>Note:</strong></p>\n\n<p>It is a good practice to keep variables private and functions public. So that the public functions are the only possible way to access the variables, ensuring security.</p>\n\n<p>Ensure that you save the code as Sword.java in a folder swords</p>\n"},{"answer_id":20017158,"body":"<p>There are mainly 2 problems with your code:</p>\n\n<p>Firstly, you are trying to pass a long value to an integer parameter of your function. </p>\n\n<p>Next, numberOfSwords is declared and initialized in main() method, so it's a local variable. You need to make it global in order to access it from your newSword() method.</p>\n\n<p>The following code snippet works perfectly in my NetBeans IDE 7.3. I think this is going to work for you.</p>\n\n<p>Happy coding!!! :) :)</p>\n\n<pre><code>/*\n* To change this template, choose Tools | Templates\n* and open the template in the editor.\n*/\npackage sword;\n\n/**\n*\n* @author Jack Sparrow\n*/\npublic class Sword {\n\n/**\n * @param args the command line arguments\n * \n */\n\npublic static void main(String[] args) {\n    // TODO code application logic here\n     newSword(\"Overpowered Sword\",1000000); \n\n}\n\npublic static void newSword(String nameSword, long damageSword)\n    {\n        int numberOfSwords = 0;\n        if ((nameSword == (\"Overpowered Sword\")) &amp;&amp; (damageSword == 1000000))\n        {\n            numberOfSwords++;\n            System.out.println(numberOfSwords);\n        }\n        else\n        {\n            System.out.println(\"Error!\");\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":29807976,"body":"Don&#39;t name variable with &quot;_&quot;, use this.name = name!"},{"comment_id":29808487,"body":"@ThomasUhrig changed to match official style guidelines from sun. That said, there are plenty of style guidelines that suggest otherwise."},{"comment_id":29810434,"body":"I don&#39;t know any style guide for Java that suggests &quot;_&quot; ;), however, +1."}],"answer_id":20017453,"body":"<p>Try this</p>\n<p>in Sword.Java</p>\n<pre><code>public class Sword{\n    public Sword(string name, int damage){\n        this.name = name;\n        this.damage = damage;\n        ++swordsCreated;\n    }\n    public string getName(){ return name; }\n    public int getDamage(){ return damage; }\n    \n    private string name;\n    private int damage;\n    \n    public static int getCountOfSwordsCreated(){ return countOfSwordsCreated; }\n    private static int countOfSwordsCreated;\n}\n</code></pre>\n<p>in Game.java</p>\n<pre><code>public class Game{\n    public static void main(string [] args)\n    {\n        Sword mySword = new Sword(&quot;Overpowered Sword&quot;, 1000000);\n\n        System.out.println(mySword.getName());\n    }\n}\n</code></pre>\n"},{"answer_id":20092812,"body":"<p>Make sure your JAVA_HOME/JDK refers to valid path. When valid java not found than it gives java.lang related errors.</p>\n"}],"last_activity_date":1684219997,"question_id":20016932,"body":"<p>I have created a class which should create Swords, but I just get a bunch of errors...</p>\n\n<pre><code>package swords;\n\npublic class Sword {\n\npublic static void main(String [ ] args){\n\n    public int numberOfSwords=0;\n\n    public static void newSword(String nameSword, int damageSword){\n        numberOfSwords++;\n\n    }\n  }\n}\n</code></pre>\n\n<p>I want to, when I type <code>newSword(Overpowered Sword, 1000000)</code>, increase the int <code>numberOfSwords</code> by one, the actual creation of the sword will come later :D</p>\n\n<p>But I get a lot of errors:</p>\n\n<p>At <code>package swords;</code>   - The type java.lang.Object cannot be resolved. It is indirectly referenced from required .class files.</p>\n\n<p>At <code>public class Sword {</code>   - Implicit super constructor Object() is undefined for default constructor. Must define an explicit constructor</p>\n\n<p>At <code>public static void main(String [ ] args){</code>   - String cannot be resolved to a type</p>\n\n<p>At <code>public int numberOfSwords=0;</code>   - Illegal modifier for parameter numberOfSwords; only final is permitted</p>\n\n<p>And the final error at <code>public static void newSword(String nameSword, int damageSword){</code>   - Multiple markers at this line\n    - Syntax error on token \",\", ; expected\n    - Syntax error on token \"(\", ; expected\n    - void is an invalid type for the variable newSword\n    - String cannot be resolved to a type\n    - Syntax error on token \")\", ; expected</p>\n\n<p>I hope you can help me!</p>\n\n<p>EDIT: I'm running Linux Mint, so I dont know if it could be something with my system, since I tried the given code, but get the same errors! I'm investigating now ^ ^</p>\n\n<p>EDIT 2: I just ran a command which told me I didn't have a JDK installed, I think I found the problem :P I'll pay more attention to requirements in the future, sorry...</p>\n\n<p>EDIT 3: Apparently I do have a JDK installed, so I dont know anymore what the problem is... Suggestions are highly appreciated!</p>\n"},{"comments":[{"comment_id":4782846,"body":"can you give an example when you need to execute this code and in what context?"},{"comment_id":4782877,"body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/935175/convert-string-to-code-in-java\">Convert String to code in Java</a>"},{"comment_id":4783081,"body":"Ok, here is my complete method that is executed from main method of the java class -"},{"comment_id":4783101,"body":"private void getResolution(int polishScreenHeight, int polishScreenWidth){  \t\tif(polishScreenHeight &gt;= 200 &amp;&amp; polishScreenHeight &lt;= 235 &amp;&amp; polishScreenWidth &gt;= 220) {   System.out.println(&quot;&lt;root dir=resources/base/design/220w200h&quot;); } \t\telse { \t\t\tSystem.out.println(&quot;ROOT dir not found&quot;); \t\t} \t}"},{"comment_id":4783109,"body":"Hope this helps, can I still use Beanshell?"},{"comment_id":4783453,"body":"Put the code in the body of the question please and can you post what you want the stringCode to actually do."}],"answers":[{"answer_id":4389262,"body":"<p>As far as I know there is no simple way to do this. </p>\n\n<p>However, in Java 6 onwards, you <em>can</em> compile source code for complete classes using javax.tools.Compiler. The compiled classes can then be loaded and executed. But I don't think this will achieve what you want.</p>\n"},{"comments":[{"comment_id":4782787,"body":"+1 this is a good solution. One note thought: initializing the BSH interpreter takes some time."},{"comment_id":4783740,"body":"You can initialise it once and share, although I don&#39;t know if it&#39;s threadsafe."}],"answer_id":4389279,"body":"<p>Use BeanShell. There's a page on <a href=\"http://www.beanshell.org/manual/quickstart.html#Calling_BeanShell_From_Your_Application\" rel=\"noreferrer\">how to use it from Java</a>.</p>\n"},{"comments":[{"comment_id":15969150,"body":"Beanshell has a fork that may be actively developed: <a href=\"http://code.google.com/p/beanshell2/\" rel=\"nofollow noreferrer\">code.google.com/p/beanshell2</a>"}],"answer_id":4389290,"body":"<p>As has already been suggested you can compile, save and run code on the fly using the <a href=\"https://javabeat.net/the-java-6-0-compiler-api/\" rel=\"noreferrer\">Compiler API</a>.</p>\n\n<p>Another neat alternative would be to use <a href=\"http://www.beanshell.org/\" rel=\"noreferrer\">beanshell</a>. Beanshell is no longer actively developed, but I can vouch for it's reliability, I've used it successfully in multiple production projects.</p>\n"},{"answer_id":4389316,"body":"<p>Try the <a href=\"http://java.sun.com/javase/6/docs/api/javax/tools/JavaCompiler.html\" rel=\"nofollow noreferrer\">JavaCompiler</a> API.</p>\n\n<p>Someone else answered this way better than I could, though:\n<a href=\"https://stackoverflow.com/questions/935175/convert-string-to-code-in-java\">Convert String to Code</a></p>\n\n<p>Be careful before actually using something like this...</p>\n"},{"comments":[{"comment_id":4783757,"body":"Beanshell can interact with compiled classes, so long as you bind them to the beanshell environment."}],"answer_id":4389344,"body":"<p>Beanshell (as Boris suggested) is a way to \"execute\" java source code. But it looks like, you want to \"execute\" fragments that can interact with the compiled classes. Your example contains variabe names.</p>\n\n<p>Reflection will definitly not help, because reflection targets classes (\"classfiles\").</p>\n\n<p>You <em>could</em> try to define a complete class (\"valid java source file\"), compile it and load it (url classloader). Then you should be able to use the methods from that \"live generated class\". But once a class is loaded, you can't get rid of it (unload), so this will work only once (AFAIK).</p>\n"},{"answer_id":4389688,"body":"<p>Another way would be to execute your code as Groovy code, see <a href=\"http://groovy.codehaus.org/Embedding+Groovy\" rel=\"nofollow\">this</a> for an example.</p>\n"},{"comments":[{"comment_id":44056349,"body":"If you provide some code please also give some code description to make it better understandable for others."},{"comment_id":83962206,"body":"The <code>Statement</code> class represents a call to a single method.  The code in the <code>String</code> that OP wants to run is not just a single method.  Therefore, this can&#39;t possibly help them."}],"answer_id":27824333,"body":"<p>you can use this code to run method from using this code\n<code>new Statement(Object target, String methodName, Object[] arguments).execute();</code></p>\n\n<pre><code>import java.beans.Statement;\n\npublic class HelloWorld {\n\n  public void method_name(String name) {\n      System.out.println(name);\n  }\n\n  public static void main(String[] args) throws Exception {\n      HelloWorld h = new HelloWorld();\n      new Statement(h, \"method_name\", new Object[]{\"Hello world\"}).execute();\n  }\n }\n</code></pre>\n"},{"answer_id":52051622,"body":"<p>It is not Java, but as <a href=\"https://stackoverflow.com/users/12719/pgras\">pgras</a> has already suggested you could use GrooyScript like so :</p>\n\n<pre><code>    Binding binding = new Binding();\n    GroovyShell shell = new GroovyShell(binding);\n\n    String[] strings = new String[]{\"World\", \"Groovy\"};\n    shell.setVariable(\"args\", strings);\n\n    String script = \"return \\\"Hello \\\" + args[1]\";\n    String value = (String) shell.evaluate(script);\n    System.out.println(value); // Hello Groovy\n</code></pre>\n"},{"comments":[{"comment_id":114642155,"body":"This wouldn&#39;t actually help him as he includes Java defined code in the string, which the javascript eval cannot access. I know as I myself tried."}],"answer_id":60896380,"body":"<ol>\n<li>Please reevaluate your design and this should be your last alternative.</li>\n<li>You should validate the sanity of the String which will be executed to avoid future injection attack.</li>\n</ol>\n\n<p>Now If you can have the String as <strong>JavaScript</strong> then below code should help,  </p>\n\n<pre><code>public class EvalScript {\n\n        public static void main(String[] args) throws Exception {\n            // create a script engine manager\n            ScriptEngineManager factory = new ScriptEngineManager();\n            // create a JavaScript engine\n            ScriptEngine engine = factory.getEngineByName(\"JavaScript\");\n\n            // below JS function is executed.\n            /*\n             * student object value will be provided by the program as the JSON String.\n            function checkStudentElgibility(student){\n              if(student.age &gt;= 10 &amp;&amp; student.currentGrade &gt;= 5){\n                return true;\n              }\n            }\n            // student object value will be provided by the program as the JSON String\n\n            checkStudentElgibility(student);\n            */\n\n            String studentJsonString = \"{\\n\" + \n                    \"  \\\"age\\\" : 10,\\n\" + \n                    \"  \\\"currentGrade\\\" : 5\\n\" + \n                    \"}\";\n            String javaScriptFunctionString = \"function checkStudentElgibility(student){\\n\" + \n                    \"  if(student.age &gt;= 10 &amp;&amp; student.currentGrade &gt;= 5){\\n\" + \n                    \"    return true;\\n\" + \n                    \"  }\\n\" + \n                    \"}\\n\" + \n                    \"checkStudentElgibility(student);\";\n\n            StringBuilder javaScriptString = new StringBuilder();\n            javaScriptString.append(\"student=\");\n                javaScriptString.append(studentJsonString);\n            javaScriptString.append(\"\\n\");\n            javaScriptString.append(javaScriptFunctionString);\n\n           Object object = engine.eval(javaScriptString.toString());\n\n           System.out.println(object);\n\n           // You can also pass the object as follows,\n\n           // evaluate JavaScript code that defines an object with one method\n            engine.eval(\"var obj = new Object()\");\n            engine.eval(\"obj.hello = function(name) { print('Hello, ' + name) \n              }\");\n\n           // expose object defined in the script to the Java application\n             Object obj = engine.get(\"obj\");\n\n         // create an Invocable object by casting the script engine object\n            Invocable inv = (Invocable) engine;\n\n      // invoke the method named \"hello\" on the object defined in the\n     // in js Object with \"Script Method\" as parameter \n\n               inv.invokeMethod(obj, \"hello\", \"Script Method!\");\n\n\n\n\n\n    // You can also use Java Objects as Java script object and you can also pass Objects as reference inside Java script function\n\n\n                            String jsString = \"    var obj = new Object()\\n\" + \n                        \"    var ArrayList = Java.type(\\\"java.util.ArrayList\\\");\\n\" +\n                        \"    var customSizeArrayList = new ArrayList(16);\\n\" + \n                        \"    obj.hello = function(name) { \\n\" + \n                        \"       customSizeArrayList(name);  \\n\" + \n                        \"       print('Hello, ' + name) \\n\" + \n                        \"    }\";\n            }\n\n\n}\n</code></pre>\n\n<p>Reference :\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/prog_guide/javascript.html#A1147187\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/scripting/prog_guide/javascript.html#A1147187</a></p>\n"},{"answer_id":76260044,"body":"<p>You could try <code>SimpleJavaSource</code> class of JVx framework. There's a test case in the project repository which contains something like this.</p>\n<pre><code>SimpleJavaSource js = new SimpleJavaSource();\n\njs.executeScript(&quot;import java.lang.String;&quot; +\n        &quot;strT = new String(\\&quot;true\\&quot;);&quot; +\n        &quot;strF = new String(\\&quot;false\\&quot;);&quot; +\n        &quot;System.out.println(1 == 1 ? strT : strF);&quot; +\n        &quot;System.out.println(1 == 2 ? strT : strF);&quot; +\n        &quot;if (1 == 2)&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;equal\\&quot;);&quot; +\n        &quot;}&quot; +\n        &quot;else&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;different\\&quot;);&quot; +\n        &quot;}&quot; +\n        &quot;if (1 == 1)&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;equal\\&quot;);&quot; +\n        &quot;}&quot; +\n        &quot;else&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;different\\&quot;);&quot; +\n        &quot;}&quot; +\n        &quot;i = 0;&quot; +\n        &quot;while (i &lt; 10)&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;i=\\&quot; + i);&quot; +\n        &quot;  i++;&quot; +\n        &quot;}&quot; +\n        &quot;i = 0;&quot; +\n        &quot;do&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;i=\\&quot; + i);&quot; +\n        &quot;  i++;&quot; +\n        &quot;}&quot; +\n        &quot;while (i &lt; 10);&quot; +\n        &quot;for (int i = 0, size = 10; i &lt; size; i++)&quot; +\n        &quot;{&quot; +\n        &quot;  System.out.println(\\&quot;i=\\&quot; + i);&quot; +\n        &quot;}&quot; +\n        &quot;System.out.println(\\&quot;END\\&quot;);&quot;\n        );\n</code></pre>\n"}],"last_activity_date":1684219453,"question_id":4389232,"body":"<p>I have a piece of Java code in a String. </p>\n\n<pre><code>String javaCode = \"if(polishScreenHeight &gt;= 200 &amp;&amp; \" +\n    \"polishScreenHeight &lt;= 235 &amp;&amp; polishScreenWidth &gt;= 220) { }\";\n</code></pre>\n\n<p>Is it possible to convert this Java String to a Java statement and run it?  Possibly using Java reflection?</p>\n"},{"last_activity_date":1684219036,"question_id":76259370,"body":"<p>This error message is come from when running a jasper report more than around 15 minute will show.\nI am using :</p>\n<pre><code>Glassfish 5.0\nJAVA 8\nOracle Database\n</code></pre>\n<pre><code>net.sf.jasperreports.engine.JRException: Unable to get next record from result set.\nCaused by: java.sql.SQLRecoverableException: IO Error: Socket read timed out\nCaused by: java.net.SocketTimeoutException: Socket read timed out\n</code></pre>\n<p>Anybody can to resolve either set in glassfish or change in java code.\nI have apllied <code>conn.setNetworkTimeout(executor, 3600000)</code> in code but not seem to work</p>\n"},{"answers":[{"answer_id":76259846,"body":"<ol>\n<li>Yes, you can have almost as many <code>OidcClient</code>s as you want. These clients are gathered in the <code>Clients</code> component which has been designed to support a lot of clients.</li>\n<li>You should not create an <code>OidcClient</code> on the fly, but at the startup if this is possible. You'll get better performance.</li>\n<li>You should not create a <code>ForceLoginFilter</code>, but re-use the existing <code>SecurityFilter</code> and set a custom <code>ClientFinder</code> to replace the <code>DefaultSecurityClientFinder</code>: this <code>CustomSecurityClientFinder</code> would return the client based on the <code>X-TENANT-ID</code> HTTP header.</li>\n</ol>\n"}],"last_activity_date":1684217375,"question_id":76258140,"body":"<p>I am currently working on implementing a multi-tenant application in JavaEE, where I am using <a href=\"https://www.pac4j.org/index.html\" rel=\"nofollow noreferrer\">Pac4J</a> as the authentication framework and an OpenID Connect Identity provider. Each tenant in my application is identified by a unique identifier provided in the HTTP Header <code>X-TENANT-ID</code>. My goal is to authenticate users based on this tenant ID using Pac4J.</p>\n<p>After doing some research, I believe I have come up with a possible approach, but I would like to gather some feedback and suggestions from the community. My plan is to generate a separate <a href=\"https://github.com/pac4j/pac4j/blob/master/pac4j-oidc/src/main/java/org/pac4j/oidc/client/OidcClient.java\" rel=\"nofollow noreferrer\">OidcClient</a> for each tenant and then dynamically select the appropriate client based on the tenant ID extracted from the HTTP Header. However, this approach would result in loading around 100 to 200 clients.\nThe corresponding ForceLoginFilter would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.servlet.FilterChain;\nimport jakarta.servlet.FilterConfig;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.pac4j.core.client.Client;\nimport org.pac4j.core.context.CallContext;\nimport org.pac4j.core.exception.TechnicalException;\nimport org.pac4j.core.exception.http.HttpAction;\nimport org.pac4j.jee.config.AbstractConfigFilter;\nimport org.pac4j.jee.context.JEEContext;\nimport org.pac4j.jee.context.session.JEESessionStore;\nimport org.pac4j.jee.http.adapter.JEEHttpActionAdapter;\n\nimport java.io.IOException;\n\npublic class ForceLoginFilter extends AbstractConfigFilter {\n\n    @Override\n    public void init(final FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    protected void internalFilter(final HttpServletRequest request, final HttpServletResponse response,\n                                  final FilterChain chain) throws IOException, ServletException {\n\n        final JEEContext context = new JEEContext(request, response);\n        HttpAction action;\n        try {\n            final String tenantId = context.getRequestHeader(&quot;X-TENANT-ID&quot;).orElseThrow(() -&gt; new TechnicalException(&quot;No tenant provided&quot;));\n            final Client client = getSharedConfig().getClients().findClient(tenantId).orElseThrow(() -&gt; new TechnicalException(&quot;No client found&quot;));\n            action = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\n        } catch (final HttpAction e) {\n            action = e;\n        }\n        JEEHttpActionAdapter.INSTANCE.adapt(action, context);\n    }\n}\n</code></pre>\n<p>Another option would be to generate such an OidcClient on the fly. Like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ForceLoginFilter extends AbstractConfigFilter {\n\n    /**\n     * The OIDC configuration would be placed in an external file, but for the sake of simplicity, it is hardcoded here.\n     */\n    final KeycloakOidcConfiguration configuration;\n    public ModiefiedForceLoginFilter() {\n        configuration = new KeycloakOidcConfiguration();\n        configuration.setClientId(&quot;client&quot;);\n        configuration.setBaseUri(&quot;http://localhost:8080&quot;);\n        configuration.setSecret(&quot;secret&quot;);\n    }\n\n\n    @Override\n    public void init(final FilterConfig filterConfig) throws ServletException {\n    }\n\n    @Override\n    protected void internalFilter(final HttpServletRequest request, final HttpServletResponse response,\n                                  final FilterChain chain) throws IOException, ServletException {\n\n        final JEEContext context = new JEEContext(request, response);\n        HttpAction action;\n        try {\n            final String tenantId = context.getRequestHeader(&quot;X-TENANT-ID&quot;).orElseThrow(() -&gt; new TechnicalException(&quot;No tenant provided&quot;));\n            final Client client = new OidcClient(configuration.withRealm(tenantId));\n            action = client.getRedirectionAction(new CallContext(context, JEESessionStore.INSTANCE)).get();\n        } catch (final HttpAction e) {\n            action = e;\n        }\n        JEEHttpActionAdapter.INSTANCE.adapt(action, context);\n    }\n}\n</code></pre>\n<p>Here are my specific questions:</p>\n<ol>\n<li>Is generating a separate OpenIDConnectClient for each tenant a feasible approach in terms of performance and scalability?</li>\n<li>Are there any best practices or alternative solutions for implementing multi-tenant authentication with Pac4J and OpenID Connect in JavaEE?</li>\n<li>Is there a better way to handle the tenant identification process, such as using a different Pac4J feature or a custom implementation? I would appreciate any insights or examples related to this aspect.</li>\n</ol>\n"},{"answers":[{"comments":[{"comment_id":71693906,"body":"I&#39;m still not seeing any changes in the target collection, if i don&#39;t create the target collection before, i don&#39;t even see an empty collection with that name in the command line, and <code>client.getDatabase(&quot;db&quot;).getCollection(&quot;target&quot;).count()</code> returns 0.   <b>could this be a configuration issue?, is there something you need to do to enable aggregation ops?</b>"},{"comment_id":71694174,"body":"No configuration is needed. Aggregation works out of the box. Just check if the connection and db collection are correct by running a find query and printing the output. It works on my machine as is."},{"comment_id":71696934,"body":"thanks for the quick response :). For some reason, if i run <code>source.aggregate(Arrays.asList(out(&quot;target&quot;))).foreach(noOp)&zwnj;&#8203;;</code> where <code>noOP</code> is a <code>Block&lt;Document&gt;</code> that does nothing, similar to the printBlock <a href=\"http://mongodb.github.io/mongo-java-driver/3.4/driver/tutorials/aggregation/\" rel=\"nofollow noreferrer\">found in the documentaton</a>, then it works fine, but if i leave it as is, then it does nothing."}],"answer_id":42250646,"body":"<p>You can try this:</p>\n\n<pre><code>MongoClient client = new MongoClient(\"host\");\nMongoCollection source = client.getDatabase(\"db\").getCollection(\"source\");    \nsource.aggregate(Arrays.asList(out(\"&lt;OutputcollectionName&gt;\")));\n</code></pre>\n\n<p>use the following import statement:</p>\n\n<pre><code> import static com.mongodb.client.model.Aggregates.*;\n</code></pre>\n"},{"answer_id":61809010,"body":"<p>Add .toCollection() .. that should work without noOps block</p>\n"},{"answer_id":76259831,"body":"<pre><code>source.aggregate(Arrays.asList(out(&quot;&lt;OutputcollectionName&gt;&quot;))).toCollection();\n</code></pre>\n"}],"last_activity_date":1684217221,"question_id":42250215,"body":"<p>I'm trying to copy an existing collection to a new collection within the same database, emulating the behavior of running <code>db.source.aggregate({\"$out\":\"target\"});</code> in the shell.</p>\n\n<p>On older versions of mongodb and the java driver, it was possible to do (as seen <a href=\"https://stackoverflow.com/questions/16164413/mongodb-copy-collection-in-java-without-looping-all-items\">here</a>):</p>\n\n<pre><code>// set up pipeline\nList&lt;DBObject&gt; ops = new ArrayList&lt;DBObject&gt;();\nops.add(new BasicDBObject(\"$out\", \"target\")); // writes to collection \"target\"\n\n// run it\nMongoClient client = new MongoClient(\"host\");\nDBCollection source = client.getDB(\"db\").getCollection(\"source\")\nsource.aggregate(ops);\n</code></pre>\n\n<p>but since mongo 3.0.0, <a href=\"https://stackoverflow.com/questions/29364787/mongocollection-versus-dbcollection-java\">the writers are moving away from</a> <code>DBCollection</code> and onto <code>MongoCollection</code> and others that don't have the same functionalities, specifically for <code>.aggregate(List&lt;DBObject&gt;)</code>.</p>\n\n<p>I've tried the following options, none of which had any effect:</p>\n\n<pre><code>List&lt;Bson&gt; ops = new ArrayList&lt;&gt;();\nops.add(new BasicDBObject(\"$out\", \"target\"));\n//OR\nops.add(new Document(\"$out\", \"target\")); //not at the same time as above\n\nMongoClient client = new MongoClient(\"host\");\nMongoCollection source = client.getDatabase(\"db\").getCollection(\"source\");\nsource.aggregate(ops);\n</code></pre>\n\n<p>Sadly, I don't understand aggregate operations well enough to figure this out.</p>\n\n<p>Is there any similar way to do this with the java driver and mongo 3.4?<br>\nAre there any other ways that'll cause the copy serverside?</p>\n\n<p>Thanks</p>\n"},{"comments":[{"comment_id":134481014,"body":"One is using a constructor, the other a builder to build an object. I strongly suggest to look into different patterns and strategies to construct objects."},{"comment_id":134481024,"body":"Have you written those functions? Do you have access to the author? They might have the answer for the reasoning of their interface design."}],"last_activity_date":1684217185,"question_id":76259832,"body":"<p>I have two functions one is return new and the other one is just return, i just want to know why?</p>\n<pre><code>@Bean\npublic TopicExchange exchange()\n{\n    return new TopicExchange(exchange);\n}\n@Bean\npublic Binding binding()\n{\n    return BindingBuilder.bind(queue()).to(exchange()).with(rkey);\n}\n</code></pre>\n"},{"comments":[{"comment_id":134364663,"body":"That&#39;s one of the hardest problems with microservices. Do some research on transactions and transaction management. Other than that - easiest you can do - capture run id for user request and have user poll for the result of this run id and return result once it&#39;s ready."}],"answers":[{"answer_id":76259827,"body":"<p>On a high-level, let's segregate the API calls in two major types</p>\n<ol>\n<li>Synchronous</li>\n<li>Asynchronous</li>\n</ol>\n<p><strong>Synchronous</strong></p>\n<p>This is an ideal situation implemented using <code>RestTemplate</code>, <code>WebClient</code> , <code>FeignClient</code> etc where in your Microservice A would wait for response from Microservice B.</p>\n<p>Ideal for quick operations and covers majority use case</p>\n<p><strong>Asynchronous</strong></p>\n<p>As @taleodor mentioned, the other way would be to implement an <code>async</code> call to other Microservice, which would only return a <code>Run id</code> or <code>Acknowledgement id</code> to indicate the long running process started. To get status of that process, you may think of implementing it through a <code>Message queue</code> such as <code>ActiveMQ</code> or <code>Apache Kafka</code> which works on the concept of producer/consumer or <code>Publisher/subscriber (pub/sub)</code> where in your long running microservice will publish the event once completed, and Microservice A or B will subscribe to that event and read the response !</p>\n<p>Apart of message queues, your Microservice A can also implement a <code>scheduled task</code> to check for progress completion or resource updation based on how to implement it !</p>\n"}],"last_activity_date":1684217162,"question_id":76189515,"body":"<p>I've a question related to microservices world. Let's assume I've two microservices, microservice A does a request to microservice B. Microservice B perform some &quot;long&quot; operations and makes a request to another microservice C. In result microservice A waits for result from microservice B. How to handle such a long operation if the microservice A is &quot;connected&quot; to front end service, where user initiates the operation and waits for the result of that operation.</p>\n<p>Is there any good way to handle long-running tasks in those microservices? What would you suggest to me with that case to be the most efficient and scalable in Spring boot? Thank you in advance.</p>\n"},{"comments":[{"comment_id":134480960,"body":"Just create two JVMs? <code>java Class1 &amp;&amp; java Class2</code>. Do they need to be run in the same JVM?"},{"comment_id":134481037,"body":"Which OS? And why, precisely?"},{"comment_id":134481112,"body":"please rephrase &quot;in single cmd dual&quot; - does it mean that they have to run in parallel, or in series? Which operating system are you using? (i.e. does it have to be a <code>.bat</code> or a <code>.sh</code> script"}],"last_activity_date":1684216925,"question_id":76259808,"body":"<p>I have 2 file .java, I have main in both file and compiler it to .class\nSo how can I running the both file in single cmd dual\nthe problem need to help various developers</p>\n"},{"comments":[{"comment_id":134488140,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"answer_id":76259785,"body":"<p>What you can do is to check the last character in the <code>displayedText</code> in the <code>onClick</code>, and if it is a math operator, then you remove it from the text, here is some code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onClick(View view) {\n\n    //set view to button\n    Button button = (Button) view;\n\n    //get buttonText\n    String buttonText = button.getText().toString();\n\n    //get DisplayedText\n    String displayedText = displayTv.getText().toString();\n\n    // check if last character in displayedText is a math operator\n    if (displayedText.length() &gt; 0) {\n        char lastChar = displayedText.charAt(displayedText.length() - 1);\n        if (isMathOperator(lastChar) &amp;&amp; isMathOperator(buttonText.charAt(0))) {\n            // remove last character\n            displayedText = displayedText.substring(0, displayedText.length() - 1);\n        }\n    }\n    //displayed text plus button text\n    displayedText = displayedText + buttonText;\n\n    displayTv.setText(displayedText);\n\n    String finalResult = getResult(displayedText);\n\n    switch (view.getId()) {\n\n        case R.id.clear:\n            displayTv.setText(&quot;&quot;);\n            result.setText(&quot;0&quot;);\n            break;\n\n        case R.id.button_equal:\n            if (!finalResult.equals(&quot;ERR&quot;)) {\n                result.setText(finalResult);\n            }\n    }\n}\n</code></pre>\n<p>And the isMathOperator is just a method to check if the character is a one of the 4 math operators:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isMathOperator(char c) {\n    return c == '+' || c == '-' || c == '*' || c == '/';\n}\n</code></pre>\n"}],"last_activity_date":1684216621,"question_id":76256416,"body":"<p>I wanted to know how can I prevent the math operators from repeating.</p>\n<p>for example this is what I get <code>9+++++****----////</code></p>\n<p>Is there something that can be done to prevent the operations from being able to repeat?\nYour help is much appreciated thank you.</p>\n<p>// Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyActivity extends AppCompatActivity implements View.OnClickListener {\n\n    Button button_clear, button_addition, button_dot, button_multiply,button_divide,button_subtract,\n    button_one,button_two,button_three,button_four,button_five,button_six,button_seven,button_eight,\n            button_nine,\n    button_zero,button_equal;\n\n    TextView displayTv, result;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_my);\n\n        displayTv=findViewById(R.id.displayTV);\n        result=findViewById(R.id.answerCalculated);\n\n        asignId(button_clear, R.id.clear);\n        asignId(button_addition, R.id.addition);\n        asignId(button_subtract, R.id.subtract);\n        asignId(button_multiply, R.id.multiplication);\n        asignId(button_divide, R.id.divide);\n        asignId(button_dot, R.id.dot);\n        asignId(button_one, R.id.button_one);\n        asignId(button_two, R.id.button_two);\n        asignId(button_three, R.id.button_three);\n        asignId(button_four, R.id.button_four);\n        asignId(button_five, R.id.button_five);\n        asignId(button_six, R.id.button_six);\n        asignId(button_seven, R.id.button_seven);\n        asignId(button_eight, R.id.button_eight);\n        asignId(button_nine, R.id.button_nine);\n        asignId(button_zero, R.id.button_zero);\n        asignId(button_equal,R.id.button_equal);\n    }\n\n    private void asignId(Button btn, int id) {\n        btn=findViewById(id);\n        btn.setOnClickListener(this);\n    }\n\n    @Override\n    public void onClick(View view) {\n\n        //set view to button\n\n        Button button=(Button)view;\n\n        //get buttonText\n        String buttonText=button.getText().toString();\n\n        //get DisplayedText\n        String displayedText=displayTv.getText().toString();\n\n        //displayed text plus button text\n        displayedText=displayedText+buttonText;\n\n        displayTv.setText(displayedText);\n\n        String finalResult=getResult(displayedText);\n\n\n        switch (view.getId()){\n\n            case R.id.clear:\n                displayTv.setText(&quot;&quot;);\n                result.setText(&quot;0&quot;);\n                break;\n\n            case R.id.button_equal:\n                if(!finalResult.equals(&quot;ERR&quot;)){\n                    result.setText(finalResult);\n\n                }\n        }\n\n\n\n        //\n\n\n    }\n\n    private String getResult(String data) {\n        try{\n            Context context  = Context.enter();\n            context.setOptimizationLevel(-1);\n            Scriptable scriptable = context.initStandardObjects();\n            String finalResult =  context.evaluateString(scriptable,data,&quot;Javascript&quot;,1,null).toString();\n            if(finalResult.endsWith(&quot;.0&quot;)){\n                finalResult = finalResult.replace(&quot;.0&quot;,&quot;&quot;);\n            }\n            return finalResult;\n        }catch (Exception e){\n            return &quot;Err&quot;;\n        }\n\n\n    }\n}\n</code></pre>\n<p>I have found this answer thats similar to mine <a href=\"https://stackoverflow.com/questions/63997492/how-not-to-repeat-math-operations-two-times-in-calculator-app\"></a> but the difference is that they are using Kotlin and I'm using java.</p>\n"},{"answers":[{"comments":[{"comment_id":134480496,"body":"Thanks a lot. It solved my problem. Please edit this alone in your post for that to be accurate. <code>Mockito.when(properties.get(&quot;QUEUE_MESSAGE_COUNT&quot;)).thenRetu&zwnj;&#8203;rn(0);</code>"}],"answer_id":76256346,"body":"<p>Let me break down your mock call into pieces</p>\n<pre><code>Mockito.when(\n    rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)\n        .get(&quot;QUEUE_MESSAGE_COUNT&quot;)\n).thenReturn(0);\n</code></pre>\n<p>In the middle part, you have the following:</p>\n<pre><code>rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)\n</code></pre>\n<p><code>rabbitAdmin</code> itself is a mock object, that means every method has default behaviour to return <code>null</code>. If you have not specified any behavior for <code>rabbitAdmin.getQueueProperties(anyString())</code> or <code>rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)</code>, then this call will return <code>null</code>.</p>\n<p>Then you have the next part:</p>\n<pre><code>rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)\n    .get(&quot;QUEUE_MESSAGE_COUNT&quot;)\n</code></pre>\n<p>If you don't have any behaviour specified, then you are calling partically <code>null.get(&quot;QUEUE_MESSAGE_COUNT&quot;)</code> which will get you your <code>NullPointerException</code>.</p>\n<p>To avoid this null pointer, you could do something</p>\n<pre><code>// creating a properties mock\n// this could also be a normal constructor call\nProperties properties = Mockito.mock(Properties.class);\n// returning 0 when QUEUE_MESSAGE_COUNT is called\nMockito.when(properties.get(&quot;QUEUE_MESSAGE_COUNT&quot;)).thenReturn(0);\n\n// returning properties when responseQueueName is called\nMockito.when(rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;)).thenReturn(properties);\n</code></pre>\n"}],"last_activity_date":1684216569,"question_id":76256214,"body":"<p>I'm trying to create a mock object for RabbitAdmin class in JUnit.</p>\n<p><code>@Mock RabbitAdmin rabbitAdmin; @InjectMocks MyOriginalClass classObj;</code></p>\n<p>The above is what I have declared.</p>\n<p><code>Mockito.when(rabbitAdmin.getQueueProperties(&quot;responseQueueName&quot;).get(&quot;QUEUE_MESSAGE_COUNT&quot;)).thenReturn(0);</code></p>\n<p>When executing the above line in my test method I'm getting a NullPointerException.</p>\n"},{"answers":[{"answer_id":76259768,"body":"<p><a href=\"https://projectreactor.io/docs/core/release/reference/index.html#mono\" rel=\"nofollow noreferrer\"><code>Mono</code></a> is <em>an Asynchronous 0-1 Result</em> (i.e. either a result or no result, but it cannot represent multiple results - for that you would need a <a href=\"https://projectreactor.io/docs/core/release/reference/index.html#flux\" rel=\"nofollow noreferrer\"><code>Flux</code></a>).</p>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#create-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>MonoSink</code></a> is used to bridge between multithreaded code and reactive code (a <code>Mono</code>).</p>\n<p>A similar pattern exists for <code>Flux</code> and <code>FluxSink</code>.</p>\n"}],"last_activity_date":1684216453,"question_id":76259467,"body":"<p>both <code>Mono</code> and <code>MonoSink</code> comes under <strong>reactor.core.publisher</strong></p>\n<p>I am new to reactive programming and I recently found</p>\n<p><code>private final MonoSink&lt;MyModel1&gt; sink;</code>\n<code>private final Mono&lt;MyModel2&gt; mono;</code></p>\n<p>I am confused about their difference.</p>\n<p>Thanks in advance</p>\n"},{"comments":[{"comment_id":89100603,"body":"Please provide detailed information on what you mean by <i>&quot;Unsuccessful connection&quot;</i>.  Include all error messages and stack traces.  Show how you confirmed that the debug port is listening.  Did you run <code>sudo netstat -natp</code> on both servers and confirm that the port is LISTENING and owned by the expected JVM process?"},{"comment_id":89108350,"body":"Thanks @JimGarrison. I did telnet to confirm that port is open. I am not sure how to enable debug for jconsole in windows."}],"answers":[{"comments":[{"comment_id":89108877,"body":"Thanks @ShanuGupta. However this is not the case since I was able to telnet."}],"answer_id":51055138,"body":"<p>One highly probable reason is your <em>dns</em> is not properly configured in <code>/etc/hosts</code> file.</p>\n<p>Java bug <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6209663\" rel=\"nofollow noreferrer\">6209663</a> was also reported after which below article was updated to include its case.</p>\n<p>Please see <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/management/faq.html#linux1\" rel=\"nofollow noreferrer\">this oracle's FAQ#5</a>.</p>\n<p>For quick reference I'd quote a part of this below:</p>\n<blockquote>\n<p>Run &quot;<code>hostname -i</code>&quot; command. If it reports 127.0.0.1, JConsole would not\nbe able to connect to the JVM running on that Linux machine. To fix\nthis issue, edit /etc/hosts so that the hostname resolves to the host\naddress.</p>\n</blockquote>\n"}],"last_activity_date":1684215129,"question_id":51054936,"body":"<p>There are 2 servers running same java application.</p>\n\n<p>Successful connection to server is running process with java version as below</p>\n\n<pre><code>java version \"1.8.0_161\"\nJava(TM) SE Runtime Environment (build 1.8.0_161-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)\n\n-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=xxxxx -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false\n</code></pre>\n\n<p>Unsuccessful connection to server is running process with java version as below</p>\n\n<pre><code>java version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n\n-Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=xxxxx -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false \n</code></pre>\n\n<p>Network is open for ports which i confirmed with telnet.</p>\n\n<p>jconsole on my desktop i used to test is of below version</p>\n\n<pre><code>JConsole version: 1.8.0_121-b13\nJava VM version: Java HotSpot(TM) 64-Bit Server VM, 25.121-b13\n</code></pre>\n\n<p>Errors - </p>\n\n<pre><code>Secure Connection Failed. Retry insecurely ?\n</code></pre>\n\n<p>After retry another repetitive error as below</p>\n\n<pre><code>Connection Failed. Retry?\n</code></pre>\n"},{"answers":[{"answer_id":76259453,"body":"<p>You can disable button view and click event after button click. <code>button.isClickable = false</code> This will disable the click event and <code>button.isEnabled = false</code> this will disable button view.</p>\n<pre><code>override fun onClick(v: View) {\n    when (v.id) {\n        R.id.button_id -&gt; {\n            button.isClickable = false\n            button.isEnabled = false\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":76259474,"body":"<p>You can disable that button in the onClick event of that button after you change its value.</p>\n<pre><code>btn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            // write your code for changing the value of the button\n            // ...\n            // then disable it\n            btn.setEnabled(false);\n            btn.setClickable(false);\n        }\n    });\n</code></pre>\n"},{"answer_id":76259606,"body":"<p>You can solve your problem by disabling the button when it is clicked once. To do that, you can use the following code:</p>\n<pre><code>YOUR_BUTTON.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            //Your other code\n\n            //Disable the button\n            btn.setClickable(false);\n            btn.setEnabled(false);\n        }\n    });\n</code></pre>\n<p>To re-enable the button, you can set the .setClickable() and .setEnabled() functions to true.</p>\n<p>To do it in Kotlin:</p>\n<pre><code>YOUR_BUTTON.setOnClickListener {\n    //Your other code\n \n    YOUR_BUTTON.isEnabled = false\n    YOUR_BUTTON.isClickable = false\n}\n</code></pre>\n<p>To re-enable, you can set both parameters to true.</p>\n"}],"last_activity_date":1684214869,"question_id":76259420,"body":"<p>I created a game called tic tac toe to submit in collage, the app runs successfully but the main problem is that after clicking a button the value of that button is not locked on click.</p>\n<p>In example if i click on button1 the value in button1 is stored X but when i click second time on that button1 the value is changing,</p>\n<p>so the problem is how to lock the button value on click.</p>\n<p>Thank you</p>\n<p>Nothing Particularly tried but I want to solve this problem as fast as possible</p>\n"},{"comments":[{"comment_id":595756,"body":"Do you actually need this functionality ? Why do you need the precise value ?"},{"comment_id":595758,"body":"@Brian: I&#39;m trying to understand the contract of String.hashCode()."},{"comment_id":595780,"body":"@Knorv Its not ncessary to understand exactly how it works - its more important to understand the contract and its ulterior meaning."},{"comment_id":595852,"body":"@mP: Thanks for your input, but I guess that&#39;s up to me to decide."},{"comment_id":29880321,"body":"why did they give the first character the largest power? when you want to optimize it for speed in order to preserve extra calculations, you would store the power of the previous one, yet the previous one would be from the last character to the first one. this mean there would also be cache misses. isn&#39;t it more efficient to have an algorithm of: s[0] + s[1]*31 + s[2]*31^2 + ... + s[n-1]*31^[n-1] ?"}],"answers":[{"comments":[{"comment_id":595636,"body":"Your answer is valid, but does not address the specific question asked."},{"comment_id":595684,"body":"That&#39;s the <i>general</i> hash code contract - but the <i>specific</i> contract for String gives details of the algorithm, and effectively overrides this general contract IMO."}],"answer_id":785114,"body":"<p>You should not rely on a hash code being equal to a specific value. Just that it will return consistent results within the same execution. \nThe API docs say the following :</p>\n\n<blockquote>\n  <p>The general contract of hashCode is:</p>\n  \n  <ul>\n  <li>Whenever it is invoked on the same object more than once during an execution of a Java application, the hashCode method must consistently return the same integer, provided no information used in equals comparisons on the object is modified. This integer need not remain consistent from one execution of an application to another execution of the same application.</li>\n  </ul>\n</blockquote>\n\n<p><strong>EDIT</strong>\nSince the javadoc for String.hashCode() specifies how a String's hash code is computed, any violation of this would violate the public API specification.</p>\n"},{"comments":[{"comment_id":595641,"body":"Thanks for your answer. Can you give a concrete examples of when &quot;This is a Java string&quot;.hashCode() != 586653468?"},{"comment_id":595653,"body":"No. Sorry. My point is that everything you test on may work the way you want. But that&#39;s still no guarantee. So if youre&#39; working on a (say) short term project where you have control of the VM etc., then the above may work for you. But you can&#39;t rely on it in the wider world."},{"comment_id":595826,"body":"&quot;an upgrade to a future Java version could cause problems&quot;. An upgrade to a future Java version could remove the hashCode method entirely. Or make it always return 0 for strings. That&#39;s incompatible changes for ya. The question is whether Sun^HOracle^HThe JCP would consider it a breaking change and therefore worth avoiding. Since the algorithm is in the contract, one hopes they would."},{"comment_id":90318556,"body":"@SteveJessop well, since <code>switch</code> statements over strings compile to code relying on a particular fixed hash code, changes to <code>String</code>’s hash code algorithm would definitely break existing code…"}],"answer_id":785115,"body":"<p>Another (!) issue to worry about is the possible change of implementation between early/late versions of Java. I don't believe the implementation details are set in stone, and so potentially an upgrade to a <em>future</em> Java version could cause problems.</p>\n\n<p>Bottom line is, I wouldn't rely on the implementation of <code>hashCode()</code>.</p>\n\n<p>Perhaps you can highlight what problem you're actually trying to solve by using this mechanism, and that will highlight a more suitable approach.</p>\n"},{"comments":[{"comment_id":595668,"body":"But was the algorithm specified in the docs before JDK 1.2? If not, it&#39;s a different situation. The algorithm is now laid down in the docs, so changing it would be a breaking change to a public contract."},{"comment_id":595752,"body":"(I remember it as 1.1.) The original (poorer) algorithm was documented. Incorrectly. The documented algorithm actually threw an ArrayIndexOutOfBoundsException."},{"comment_id":603866,"body":"@Jon Skeet: Ah, didn&#39;t know that the algorithm of String.hashCode() is documented. Of course that changes things. Updated my comment."}],"answer_id":785142,"body":"<p>As said above, in general you should not rely on the hash code of a class remaining the same. Note that even subsequent runs of the <em>same application</em> on the <em>same VM</em> may produce different hash values. AFAIK the Sun JVM's hash function calculates the same hash on every run, but that's not guaranteed.</p>\n<p>Note that this is not theoretical. The hash function for <code>java.lang.String</code> <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=4045622\" rel=\"nofollow noreferrer\">was changed</a> in JDK1.2 (the old hash had problems with hierarchical strings like URLs or file names, as it tended to produce the same hash for strings which only differed at the end).</p>\n<p><code>java.lang.String</code> is a special case, as the algorithm of its <code>hashCode()</code> is (now) documented, so you can probably rely on that. I'd still consider it bad practice. If you need a hash algorithm with special, documented properties, just write one :-).</p>\n"},{"comments":[{"comment_id":595976,"body":"The documented behaviour of String has been specified since Java 1.2  In v1.1 of the API, the hash code computation is not specified for the String class."},{"comment_id":24853256,"body":"In this case we better write our own hashing codes &#39;ight matey?"},{"comment_id":24855011,"body":"@Felype: I really don&#39;t know what you&#39;re trying to say here, I&#39;m afraid."},{"comment_id":24905637,"body":"@JonSkeet I mean, in this case we may perhaps write our own code to generate our own hash, to grant portability. Is it?"},{"comment_id":24905779,"body":"@Felype: It&#39;s not at all clear what kind of portability you&#39;re talking about, nor indeed what you mean by &quot;in this case&quot; - in what specific scenario? I suspect you should ask a new question."},{"comment_id":29472046,"body":"Hard to believe java specifies a fixed algorithm for String#hash when it can lead to security concerns like this: <a href=\"http://stackoverflow.com/questions/8669946/application-vulnerability-due-to-non-random-hash-functions\" title=\"application vulnerability due to non random hash functions\">stackoverflow.com/questions/8669946/&hellip;</a> but I guess they won&#39;t change it now, to respect backward compatibility..."},{"comment_id":42828865,"body":"most java code simply don&#39;t run in pre-1.4. it is safe to assume it is consistent."}],"answer_id":785150,"body":"<p>I can see that documentation as far back as Java 1.2.</p>\n\n<p>While it's true that <em>in general</em> you shouldn't rely on a hash code implementation remaining the same, it's now documented behaviour for <code>java.lang.String</code>, so changing it would count as breaking existing contracts.</p>\n\n<p>Wherever possible, you shouldn't rely on hash codes staying the same across versions etc - but in my mind <code>java.lang.String</code> is a special case simply because the algorithm <em>has</em> been specified... so long as you're willing to abandon compatibility with releases before the algorithm was specified, of course.</p>\n"},{"comments":[{"comment_id":595971,"body":"I think they&#39;re just being cool and optimizing it. :) &quot;(multiplier &lt;&lt; 5) - multiplier&quot; is just 31 * multiplier, after all ..."},{"comment_id":596104,"body":"Ok, was too lazy to check that. Thanks!"},{"comment_id":596106,"body":"But to make it clear from my side... Never rely on the hashcode because the hashcode is something internal."},{"comment_id":29879989,"body":"what are the variables of &quot;offset&quot;, &quot;count&quot; and &quot;hashCode&quot; mean? i suppose &quot;hashcode&quot; is used as a cached value, to avoid future calculations, and that &quot;count&quot; is the number of characters, but what is the &quot;offset&quot; ? suppose I wish to use this code so that it will be consistent, given a string, what should i do to it?"},{"comment_id":69449263,"body":"@androiddeveloper See here: <a href=\"http://stackoverflow.com/questions/38546623/what-are-variables-offset-hash-in-string-hashcode\" title=\"what are variables offset hash in string hashcode\">stackoverflow.com/questions/38546623/&hellip;</a>"},{"comment_id":69477655,"body":"@KartikChughヅ Interesting. Thanks. So what should I do to get a consistent behavior?"},{"comment_id":69508543,"body":"@androiddeveloper What do you mean? You don&#39;t need to use this code, they are both the same, and are implemented in String.hashCode(). Since the docs have now specified the implementation, you&#39;re pretty much guaranteed to get consistent results for a long time."},{"comment_id":69516641,"body":"@KartikChughヅ If I use the built in API of Android for hashCode, will it return the same result for each Android version?"},{"comment_id":69571878,"body":"@androiddeveloper Now THAT&#39;S an interesting question -- although I should have guessed it, based on your username. From the <a href=\"https://developer.android.com/reference/java/lang/String.html#hashCode()\" rel=\"nofollow noreferrer\">Android docs</a> it looks like the contract is the same: <code>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]</code> Unless I am mistaken, this is because Android uses Sun&#39;s implementation of the String object with no changes."},{"comment_id":80591881,"body":"The harmony one processes the characters in reverse order, are the results the same for &quot;forward&quot; and &quot;drawrof&quot; ???  that would mean net and ten and stop and pots etc would have the same hash codes ?"},{"comment_id":90318495,"body":"@peterk, no the hash codes for <code>&quot;net&quot;</code> and <code>&quot;ten&quot;</code> are not the same. These are just different algorithms. The algorithm of Harmony is designed to iterate backwards and produce the same value as Sun’s algorithm when iterating forward. Sun’s algorithm uses a constant multiplier, but multiplies the hashcode of all previous characters with it, whereas Harmony’s algorithms uses a changing multiplier for the current character, but just sums the product to the hashcode of subsequent characters."}],"answer_id":785447,"body":"<p>Just to answer your question and not to continue any discussions. The Apache Harmony JDK implementation seems to use a different algorithm, at least it looks totally different:</p>\n\n<p><strong>Sun JDK</strong></p>\n\n<pre><code>public int hashCode() {\n    int h = hash;\n    if (h == 0) {\n        int off = offset;\n        char val[] = value;\n        int len = count;\n\n        for (int i = 0; i &lt; len; i++) {\n            h = 31*h + val[off++];\n        }\n        hash = h;\n    }\n    return h;\n}\n</code></pre>\n\n<p><strong>Apache Harmony</strong></p>\n\n<pre><code>public int hashCode() {\n    if (hashCode == 0) {\n        int hash = 0, multiplier = 1;\n        for (int i = offset + count - 1; i &gt;= offset; i--) {\n            hash += value[i] * multiplier;\n            int shifted = multiplier &lt;&lt; 5;\n            multiplier = shifted - multiplier;\n        }\n        hashCode = hash;\n    }\n    return hashCode;\n}\n</code></pre>\n\n<p>Feel free to check it yourself...</p>\n"},{"answer_id":785609,"body":"<p>I found something about JDK 1.0 and 1.1 and >= 1.2:</p>\n\n<blockquote>\n  <p>In JDK 1.0.x and 1.1.x the hashCode\n  function for long Strings worked by\n  sampling every nth character. This\n  pretty well guaranteed you would have\n  many Strings hashing to the same\n  value, thus slowing down Hashtable\n  lookup. In JDK 1.2 the function has\n  been improved to multiply the result\n  so far by 31 then add the next\n  character in sequence. This is a\n  little slower, but is much better at\n  avoiding collisions.\n  Source: <a href=\"http://mindprod.com/jgloss/hashcode.html\" rel=\"noreferrer\">http://mindprod.com/jgloss/hashcode.html</a></p>\n</blockquote>\n\n<p>Something different, because you seem to need a number: How about using CRC32 or MD5 instead of hashcode and you are good to go - no discussions and no worries at all...</p>\n"},{"comments":[{"comment_id":6328529,"body":"I was going to say this. While the other answers do answer the question, writing a separate hashCode function is probably the appropriate solution to knorv&#39;s problem."}],"answer_id":786345,"body":"<p>If you're worried about changes and possibly incompatibly VMs, just copy the existing hashcode implementation into your own utility class, and use that to generate your hashcodes .</p>\n"},{"answer_id":56863857,"body":"<p>The hashcode will be calculated based on the ASCII values of the characters in the String.</p>\n\n<p>This is the implementation in the String Class is as follows</p>\n\n<pre><code>public int hashCode() {\n    int h = hash;\n    if (h == 0 &amp;&amp; value.length &gt; 0) {\n        hash = h = isLatin1() ? StringLatin1.hashCode(value)\n                              : StringUTF16.hashCode(value);\n    }\n    return h;\n}\n</code></pre>\n\n<p>Collisions in hashcode are unavoidable. For example, the strings \"Ea\" and \"FB\" give the same hashcode as 2236</p>\n"}],"last_activity_date":1684214411,"question_id":785091,"body":"<p>The hashCode value of a Java String is computed as (<a href=\"http://java.sun.com/javase/6/docs/api/java/lang/String.html#hashCode()\" rel=\"noreferrer\">String.hashCode()</a>):</p>\n\n<pre><code>s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]\n</code></pre>\n\n<p>Are there any circumstances (say JVM version, vendor, etc.) under which the following expression will evaluate to false?</p>\n\n<pre><code>boolean expression = \"This is a Java string\".hashCode() == 586653468\n</code></pre>\n\n<p><b>Update #1:</b> If you claim that the answer is \"yes, there are such circumstances\" - then please give a concrete example of when \"This is a Java string\".hashCode() != 586653468. Try to be as specific/concrete as possible.</p>\n\n<p><b>Update #2:</b> We all know that relying on the implementation details of hashCode() is bad in general. However, I'm talking specifically about String.hashCode() - so please keep the answer focused to String.hashCode(). Object.hashCode() is totally irrelevant in the context of this question.</p>\n"},{"answers":[{"answer_id":62640013,"body":"<p>In the above code, I was adding security configurations for Username, password, and Signature together, instead, I have to keep them in separate arrays as follows.</p>\n<pre><code>@Bean\npublic ExecuteStrategy executeStrategy(Jaxb2Marshaller jaxb2Marshaller) throws Exception {\n    ExecuteStrategy soapClient = new ExecuteStrategy();\n    soapClient.setDefaultUri(&quot;https://demo-servicesesb.datacredito.com.co/wss/DecisorWS/services/dummyService/MotorService&quot;);\n    soapClient.setMarshaller(jaxb2Marshaller);\n    soapClient.setUnmarshaller(jaxb2Marshaller);\n\n    ClientInterceptor[] interceptors = wss4jSecurityInterceptor();\n    soapClient.setInterceptors(interceptors);\n\n    return soapClient;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Bean\npublic Wss4jSecurityInterceptor[] wss4jSecurityInterceptor() throws Exception {\n    // org.apache.xml.security.Init.init();\n\n    Wss4jSecurityInterceptor wss4jSecurityInterceptor = new Wss4jSecurityInterceptor();\n    wss4jSecurityInterceptor.setSecurementActions(&quot;UsernameToken&quot;);\n\n    // Sign in the request\n\n    wss4jSecurityInterceptor.setSecurementUsername(&quot;dummyUser&quot;);\n    wss4jSecurityInterceptor.setSecurementPassword(&quot;dummyPassword&quot;);\n    // wss4jSecurityInterceptor.setSecurementPassword(&quot;123456&quot;);\n    wss4jSecurityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\n    wss4jSecurityInterceptor.setSecurementUsernameTokenNonce(true);\n    wss4jSecurityInterceptor.setSecurementUsernameTokenCreated(true);\n    wss4jSecurityInterceptor.afterPropertiesSet();\n\n    Wss4jSecurityInterceptor wss4jSecurityInterceptor1 = new Wss4jSecurityInterceptor();\n    wss4jSecurityInterceptor1.setSecurementActions(&quot;Signature&quot;);\n\n    wss4jSecurityInterceptor1.setSecurementSignatureUser(&quot;1&quot;);\n    wss4jSecurityInterceptor1.setSecurementPassword(&quot;123456&quot;);\n    wss4jSecurityInterceptor1.setSecurementSignatureKeyIdentifier(&quot;DirectReference&quot;);\n    wss4jSecurityInterceptor1.setSecurementSignatureAlgorithm(WSConstants.RSA_SHA1);\n    wss4jSecurityInterceptor1.setSecurementSignatureDigestAlgorithm(WSConstants.SHA1);\n    wss4jSecurityInterceptor1.setSecurementTimeToLive(60);\n    wss4jSecurityInterceptor1.setTimestampPrecisionInMilliseconds(true);\n    \n    wss4jSecurityInterceptor1.setSecurementSignatureCrypto(cryptoFactoryBean().getObject());\n    \n\n    wss4jSecurityInterceptor1.afterPropertiesSet();\n\n    Wss4jSecurityInterceptor[] wss4jSecurityInterceptorArray = new Wss4jSecurityInterceptor[2];\n    wss4jSecurityInterceptorArray[0] = wss4jSecurityInterceptor;\n    wss4jSecurityInterceptorArray[1] = wss4jSecurityInterceptor1;\n\n    return wss4jSecurityInterceptorArray;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Bean\npublic CryptoFactoryBean cryptoFactoryBean() throws IOException {\n    \n    CryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\n    Properties properties = new Properties();\n    properties.setProperty(&quot;org.apache.ws.security.crypto.provider&quot;, &quot;org.apache.wss4j.common.crypto.Merlin&quot;);\n    properties.setProperty(&quot;org.apache.wss4j.crypto.merlin.keystore.alias&quot;, &quot;1&quot;);\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.type&quot;, &quot;PKCS12&quot;);\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.password&quot;, &quot;123456&quot;);\n    properties.setProperty(&quot;org.apache.ws.security.crypto.merlin.keystore.file&quot;,\n            &quot;C:\\\\abc.p12&quot;);\n    cryptoFactoryBean.setConfiguration(properties);\n\n    try {\n        cryptoFactoryBean.afterPropertiesSet();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return cryptoFactoryBean;\n}\n</code></pre>\n<p>Keeping the <code>wss4jSecurityInterceptor</code> as an array for username/password as separate and Signature as separate array, worked for me.</p>\n"}],"last_activity_date":1684214018,"question_id":61320311,"body":"<p>I am implementing a SOAP client using Spring Boot for the below configuration to connect with third party web server. Below is my WS-security outgoing configuration used with SOAPUI Client.\n<a href=\"https://i.stack.imgur.com/PaJRb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PaJRb.png\" alt=\"enter image description here\"></a></p>\n\n<p>and timestamp and username configuration is as follows</p>\n\n<p><a href=\"https://i.stack.imgur.com/n0mOQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n0mOQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have written Wss4jSecurityInterceptor for the above configuration which is as follows.</p>\n\n<pre><code>@Configuration\npublic class Config {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(Config.class);\n\n    @Bean\n    public Jaxb2Marshaller marshaller() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        // this is the package name specified in the &lt;generatePackage&gt; specified in\n        // pom.xml\n        marshaller.setContextPath(\"co.yabx.bureau.wsdl\");\n        return marshaller;\n    }\n\n    @Bean\n    public ExecuteStrategy executeStrategy(Jaxb2Marshaller jaxb2Marshaller) throws Exception {\n        ExecuteStrategy soapClient = new ExecuteStrategy();\n        soapClient.setDefaultUri(\"https://demo-abc/dummy/url\");\n        soapClient.setMarshaller(jaxb2Marshaller);\n        soapClient.setUnmarshaller(jaxb2Marshaller);\n        ClientInterceptor[] interceptors = new ClientInterceptor[] { wss4jSecurityInterceptor() };\n        soapClient.setInterceptors(interceptors);\n\n        return soapClient;\n    }\n\n    @Bean\n    public CryptoFactoryBean cryptoFactoryBean() throws IOException {\n        CryptoFactoryBean cryptoFactoryBean = new CryptoFactoryBean();\n\n        cryptoFactoryBean.setKeyStoreType(\"PKCS12\");\n        cryptoFactoryBean.setKeyStorePassword(\"123456\");\n        cryptoFactoryBean.setDefaultX509Alias(\"1\");\n\n        ClassPathResource classPathResource = new ClassPathResource(\"\\\\jks\\\\exdemo.p12\"); //\n        // System.out.println(classPathResource.getURL());\n        cryptoFactoryBean.setKeyStoreLocation(classPathResource);\n\n        return cryptoFactoryBean;\n    }\n\n    @Bean\n    public Wss4jSecurityInterceptor wss4jSecurityInterceptor() throws Exception {\n\n        Wss4jSecurityInterceptor wss4jSecurityInterceptor = new Wss4jSecurityInterceptor();\n        wss4jSecurityInterceptor.setSecurementActions(\"UsernameToken Timestamp Signature\");\n\n        // Sign the request\n\n    wss4jSecurityInterceptor.setSecurementSignatureUser(\"alias\"); // alias vale used in above screenshot\n        wss4jSecurityInterceptor.setSecurementUsername(\"pqr\");\n        wss4jSecurityInterceptor.setSecurementTimeToLive(60);\n        wss4jSecurityInterceptor.setSecurementPassword(\"lmn*\");\n        wss4jSecurityInterceptor.setSecurementPasswordType(WSConstants.PW_TEXT);\n        wss4jSecurityInterceptor.setSecurementUsernameTokenNonce(true);\n        wss4jSecurityInterceptor.setSecurementUsernameTokenCreated(true);\n        wss4jSecurityInterceptor.setSecurementSignatureCrypto(cryptoFactoryBean().getObject());\n\n        // Encrypt the request\n\n        // wss4jSecurityInterceptor.setSecurementEncryptionUser(\"server-public\");\n        wss4jSecurityInterceptor.setSecurementSignatureKeyIdentifier(\"DirectReference\");\n        wss4jSecurityInterceptor.setSecurementSignatureAlgorithm(WSConstants.RSA_SHA1);\n        wss4jSecurityInterceptor.setSecurementSignatureDigestAlgorithm(WSConstants.SHA1);\n        wss4jSecurityInterceptor.setSecurementMustUnderstand(true);\n        // wss4jSecurityInterceptor.setSecurementEncryptionUser(securementEncryptionUser);\n\n        wss4jSecurityInterceptor.setRemoveSecurityHeader(true);\n        wss4jSecurityInterceptor.setSecurementEncryptionCrypto(cryptoFactoryBean().getObject());\n\n        return wss4jSecurityInterceptor;\n    }\n\n}\n</code></pre>\n\n<p>After setting the whole configuration and running the application it is throwing error, which is as follows.</p>\n\n<pre><code>2020-04-20 15:45:21.826 ERROR 1172 --- [           main] o.a.wss4j.dom.message.WSSecSignature     : No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\n\norg.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\n    at org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:722) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:558) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.action.SignatureAction.execute(SignatureAction.java:166) [wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.handler.WSHandler.doSenderAction(WSHandler.java:238) [wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.springframework.ws.soap.security.wss4j2.Wss4jHandler.doSenderAction(Wss4jHandler.java:63) [spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:574) [spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.soap.security.AbstractWsSecurityInterceptor.handleRequest(AbstractWsSecurityInterceptor.java:210) [spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:597) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:383) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:373) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at co.yabx.bureau.client.ExecuteStrategy.executeStrategy(ExecuteStrategy.java:18) [classes/:na]\n    at co.yabx.bureau.BureauSoapServiceApplication.main(BureauSoapServiceApplication.java:34) [classes/:na]\nCaused by: java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at sun.security.pkcs12.PKCS12KeyStore.engineGetKey(Unknown Source) ~[na:1.8.0_171]\n    at java.security.KeyStore.getKey(Unknown Source) ~[na:1.8.0_171]\n    at org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:710) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\n    ... 13 common frames omitted\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:991) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:399) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:431) ~[sunjce_provider.jar:1.8.0_171]\n    at javax.crypto.Cipher.doFinal(Cipher.java:2164) ~[na:1.8.0_171]\n    ... 16 common frames omitted\n\n2020-04-20 15:45:21.827 ERROR 1172 --- [           main] o.s.w.s.s.w.Wss4jSecurityInterceptor     : Could not secure response: Error during Signature: ; nested exception is org.apache.wss4j.common.ext.WSSecurityException: Error during Signature: \nOriginal Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\nOriginal Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\nOriginal Exception was java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n\norg.springframework.ws.soap.security.wss4j2.Wss4jSecuritySecurementException: Error during Signature: ; nested exception is org.apache.wss4j.common.ext.WSSecurityException: Error during Signature: \nOriginal Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\nOriginal Exception was org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\nOriginal Exception was java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:577) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.soap.security.AbstractWsSecurityInterceptor.handleRequest(AbstractWsSecurityInterceptor.java:210) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:597) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:555) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:390) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:383) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:373) [spring-ws-core-3.0.8.RELEASE.jar:na]\n    at co.yabx.bureau.client.ExecuteStrategy.executeStrategy(ExecuteStrategy.java:18) [classes/:na]\n    at co.yabx.bureau.BureauSoapServiceApplication.main(BureauSoapServiceApplication.java:34) [classes/:na]\nCaused by: org.apache.wss4j.common.ext.WSSecurityException: Error during Signature: \n    at org.apache.wss4j.dom.action.SignatureAction.execute(SignatureAction.java:174) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.handler.WSHandler.doSenderAction(WSHandler.java:238) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.springframework.ws.soap.security.wss4j2.Wss4jHandler.doSenderAction(Wss4jHandler.java:63) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\n    at org.springframework.ws.soap.security.wss4j2.Wss4jSecurityInterceptor.secureMessage(Wss4jSecurityInterceptor.java:574) ~[spring-ws-security-3.0.8.RELEASE.jar:na]\n    ... 8 common frames omitted\nCaused by: org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\n    at org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:615) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.action.SignatureAction.execute(SignatureAction.java:166) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    ... 11 common frames omitted\nCaused by: org.apache.wss4j.common.ext.WSSecurityException: No message with ID \"noPrivateKey\" found in resource bundle \"org/apache/xml/security/resource/xmlsecurity\"\n    at org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:722) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\n    at org.apache.wss4j.dom.message.WSSecSignature.computeSignature(WSSecSignature.java:558) ~[wss4j-ws-security-dom-2.2.3.jar:2.2.3]\n    ... 12 common frames omitted\nCaused by: java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at sun.security.pkcs12.PKCS12KeyStore.engineGetKey(Unknown Source) ~[na:1.8.0_171]\n    at java.security.KeyStore.getKey(Unknown Source) ~[na:1.8.0_171]\n    at org.apache.wss4j.common.crypto.Merlin.getPrivateKey(Merlin.java:710) ~[wss4j-ws-security-common-2.2.3.jar:2.2.3]\n    ... 13 common frames omitted\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:991) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:847) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.PKCS12PBECipherCore.implDoFinal(PKCS12PBECipherCore.java:399) ~[sunjce_provider.jar:1.8.0_171]\n    at com.sun.crypto.provider.PKCS12PBECipherCore$PBEWithSHA1AndDESede.engineDoFinal(PKCS12PBECipherCore.java:431) ~[sunjce_provider.jar:1.8.0_171]\n    at javax.crypto.Cipher.doFinal(Cipher.java:2164) ~[na:1.8.0_171]\n    ... 16 common frames omitted\n</code></pre>\n\n<p>I also tried creating CrytpoFactoryBean using properties but still getting the same issue. Below is the property configuration I tried</p>\n\n<pre><code>        Properties properties = new Properties();\n        properties.setProperty(\"org.apache.ws.security.crypto.provider\", \"org.apache.wss4j.common.crypto.Merlin\");\n        properties.setProperty(\"org.apache.wss4j.crypto.merlin.keystore.alias\", \"alias\");\n        properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.type\", \"PKCS12\");\n        properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.password\", \"123456\");\n        properties.setProperty(\"org.apache.ws.security.crypto.merlin.keystore.file\",\n                \"\\\\jks\\\\exdemo.p12\");\n        cryptoFactoryBean.setConfiguration(properties);\n\n        try {\n            cryptoFactoryBean.afterPropertiesSet();\n        } catch (Exception e) { // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n\n<p>I don't understand what mistakes am I doing. Anyhelp will be appreciated.</p>\n"},{"last_activity_date":1684213534,"question_id":76254809,"body":"<p>My interface code;</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Documented\n@Inherited\npublic @interface JwtTokenRequired {\n}\n</code></pre>\n<p>My aspect code</p>\n<pre><code>@Pointcut(&quot;execution(* com.compamy..*(..))&quot;)\npublic void controllerMethods() {}\n\n   @Around(&quot;@annotation(com.company.aspect.JwtTokenRequired)&quot;)\n    public Object validateJwtToken(ProceedingJoinPoint joinPoint) throws Throwable {\n        HttpServletRequest request = getRequest(joinPoint.getArgs());\n\n}\n</code></pre>\n<p>My controller class, if I set\n@JwtTokenRequired - on the method create, its going inside Around validate  token\nbut if I add it to the class level it wont, what could be the issue ?</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/content&quot;)\n@JwtTokenRequired\npublic class Content extends AbstractController{\n\n\n    @PostMapping(&quot;/create&quot;)\n    public boolean create() {\n        return true;\n    }\n</code></pre>\n"},{"answers":[{"answer_id":76259534,"body":"<p>Handle network state changes When the network state changes, such as when the Wi-Fi network changes, your app should react accordingly. If the network is available, you can continue fetching data or updating the RecyclerView. If the network is unavailable, you can display cached data or show a message indicating that the app is offline.</p>\n<ul>\n<li><p>You can try like this</p>\n<pre><code>// Register the network change receiver\n private void registerNetworkChangeReceiver(Activity activity) {\n     networkChangeReceiver = new NetworkChangeReceiver();\n     activity.registerReceiver(networkChangeReceiver, new IntentFilter(ConnectivityManager.CONNECTIVITY_ACTION));\n }\n\n // Unregister the network change receiver\n private void unregisterNetworkChangeReceiver(Activity activity) {\n     if (networkChangeReceiver != null) {\n         try {\n             activity.unregisterReceiver(networkChangeReceiver);\n         } catch (IllegalArgumentException e) {\n             Log.e(&quot;MesaAdapter&quot;, &quot;Exception while unregistering NetworkChangeReceiver: &quot; + e.getMessage());\n         }\n     }\n }\n\n // Network state change receiver\n private class NetworkChangeReceiver extends BroadcastReceiver {\n     @Override\n     public void onReceive(Context context, Intent intent) {\n         if (intent.getAction().equals(ConnectivityManager.CONNECTIVITY_ACTION)) {\n             ConnectivityManager connectivityManager = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n             NetworkInfo activeNetworkInfo = connectivityManager.getActiveNetworkInfo();\n             boolean isNetworkConnected = activeNetworkInfo != null &amp;&amp; activeNetworkInfo.isConnected();\n\n             if (isNetworkConnected &amp;&amp; !isNetworkAvailable) {\n                 // Network connection is restored\n                 isNetworkAvailable = true;\n                 // Handle data refresh or retrieval here\n                 // ...\n             } else if (!isNetworkConnected &amp;&amp; isNetworkAvailable) {\n                 // Network connection is lost\n                 isNetworkAvailable = false;\n                 // Display offline data or show a message indicating no network\n                 // ...\n             }\n         }\n     }\n }\n\n // Clean up resources\n public void onDestroy(Activity activity) {\n     unregisterNetworkChangeReceiver(activity);\n }\n }\n</code></pre>\n</li>\n</ul>\n<p>I just hope it's work for you</p>\n"}],"last_activity_date":1684213440,"question_id":76258363,"body":"<p>When the device change network the list data retrieved fro sql server disappears, if I close application and login again the data appear.</p>\n<pre><code>public class MesaAdapter extends Adapter&lt;MesaViewHolder&gt; implements OnClickListener, OnLongClickListener {\n    //region Variáveis\n    private int posicaoSelecionada = -1;\n    private WeakReference&lt;Activity&gt; activityWeakReference;\n    private WeakReference&lt;OnSelectedMesaListener&gt; listenerWeakReference;\n    private List&lt;Mesa&gt; mesas;\n    //endregion\n\n    //region Construtor\n    public MesaAdapter(List&lt;Mesa&gt; mesas, Activity activity, OnSelectedMesaListener listener) {\n        this.mesas = mesas;\n        this.activityWeakReference = new WeakReference&lt;&gt;(activity);\n        this.listenerWeakReference = new WeakReference&lt;&gt;(listener);\n    }\n    //endregion\n\n    //region Adapter\n    @NonNull\n    @Override\n    public MesaViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        Context context = parent.getContext();\n        View itemView = LayoutInflater.from(context).inflate(R.layout.item_mesa, parent, false);\n        itemView.setOnClickListener(this);\n        itemView.setOnLongClickListener(this);\n        Activity activity = activityWeakReference.get();\n        if (activity != null) {\n            activity.registerForContextMenu(itemView);\n        }\n        return new MesaViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MesaViewHolder holder, int position) {\n        holder.itemView.setTag(position);\n        Mesa mesa = mesas.get(position);\n        holder.configurarMesa(mesa);\n    }\n</code></pre>\n"},{"comments":[{"comment_id":134499998,"body":"You need to implement this using Graph API only. You can use the activity feed notification APIs in Microsoft Graph to extend this functionality to your apps. Ref sample-<a href=\"https://github.com/OfficeDev/Microsoft-Teams-Samples/tree/main/samples/graph-activity-feed/csharp\" rel=\"nofollow noreferrer\">github.com/OfficeDev/Microsoft-Teams-Samples/tree/mai&zwnj;&#8203;n/samples/&hellip;</a>"}],"last_activity_date":1684213215,"question_id":76254990,"body":"<p>I am working on a MS teams notification bot. I am able to send notification, I am getting a card banner as soon as notification is received. I have used adaptive cards for content. I want to show that notification in Activity feed too, so that the user still has a reminder to which he should respond.\nI am not able to find any reference information on how to achieve that.</p>\n<p>I am using</p>\n<pre><code>context.sendActivity(notification); \n</code></pre>\n<p>to send notification.</p>\n<p>How can I show the same notification in Activity feed ?</p>\n<p><a href=\"https://i.stack.imgur.com/JT9pq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JT9pq.png\" alt=\"enter image description here\" /></a></p>\n<p>I have researched, but most of the articles point to microsoft Graph API. Which I am not using. I am looking for some way to implement this without using graph api</p>\n"},{"answers":[{"answer_id":76259463,"body":"<p>You're going to have to either implement your own copy method, or convince BeanUtils to skip the copy on one side or the other. Something like this, possibly:</p>\n<p><a href=\"https://stackoverflow.com/questions/17417345/beanutils-copyproperties-api-to-ignore-null-and-specific-propertie\">BeanUtils copyProperties API to ignore null and specific propertie</a></p>\n<p>EDIT: Also, without seeing the stack trace, I assume the problem is in the copy, not on the save, but I could be wrong.</p>\n"}],"last_activity_date":1684212216,"question_id":76258519,"body":"<p>I have two entities, one is Meal and one is Category. Each category (essentially types of meals, breakfast, dinner etc).</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\n\nimport java.io.Serial;\nimport java.io.Serializable;\nimport java.math.BigDecimal;\nimport java.time.LocalDateTime;\n\n@Data\n@Entity\n@Table(name = &quot;meal_table&quot;)\n@EqualsAndHashCode(exclude = {&quot;category&quot;})\npublic class Meal implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 888L;\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;id_sequence&quot;,\n            sequenceName = &quot;id_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,generator = &quot;id_sequence&quot;)\n    private Long id;\n\n    private String name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;categoryId&quot;, referencedColumnName = &quot;id&quot;)\n    @JsonIgnoreProperties(&quot;meals&quot;)\n    private Category category;\n\n    private BigDecimal price;\n    //item code\n    private String code;\n\n    private String imgUrl;\n    private String description;\n\n    // 0 unavailable 1 available\n    private Integer status;\n\n//    private LocalDateTime createTime;\n//    private LocalDateTime updateTime;\n\n}\n\n</code></pre>\n<pre><code>\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport jakarta.persistence.*;\nimport lombok.Data;\nimport lombok.EqualsAndHashCode;\nimport lombok.ToString;\n\nimport java.io.Serial;\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Data\n@Entity\n@Table(name = &quot;category_table&quot;)\n@EqualsAndHashCode(exclude = &quot;meals&quot;)\npublic class Category implements Serializable {\n    @Serial\n    private static final long serialVersionUID = 888L;\n    @Id\n    @SequenceGenerator(\n            name = &quot;id_sequence&quot;,\n            sequenceName = &quot;id_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(strategy = GenerationType.SEQUENCE,generator = &quot;id_sequence&quot;)\n    private Long id;\n\n    @Column(unique = true)\n    private String name;\n\n\n    @OneToMany(mappedBy = &quot;category&quot;,cascade = CascadeType.ALL)\n    @ToString.Exclude\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;, &quot;category&quot;})\n    Set&lt;Meal&gt; meals = new HashSet&lt;&gt;();\n\n    public void addMeal(Meal meal){\n        meals.add(meal);\n    }\n}\n\n</code></pre>\n<p>I also have a simple DTO class</p>\n<pre><code>@Data\npublic class MealDto extends Meal {\n    private String categoryName;\n    private Integer copies;\n}\n</code></pre>\n<p>This is the method I used to save the newly added meal</p>\n<pre><code>@PostMapping(&quot;/&quot;)\n    public CommonResult saveMeal(@RequestBody MealDto mealDto){\n        log.info(mealDto.toString());\n        Category c = categoryService.findByName(mealDto.getCategoryName());\n// it alwyas prints the desired Category instance.\n        log.info(c.toString());\n\n        Meal meal = new Meal();\n        BeanUtils.copyProperties(mealDto, meal);\n        log.info(meal.toString());\n        c.addMeal(meal);\n        //https://stackoverflow.com/a/44263632/13062745\n        meal.setCategory(c);\n        mealService.save(meal);\n        return CommonResult.success();\n    }\n</code></pre>\n<br>\n<br>\nHowever, when I ran the post method in debug mode, I can see that there is an infinite nested dependency of 'Category' and 'Meal' after calling ```meal.setCategory(c)```. I've tried several ways but still not working.\n<p><a href=\"https://i.stack.imgur.com/6eE4O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6eE4O.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":134483170,"body":"What makes you think that the problem is to do with the pie chart? Your stack trace is arising from a button click. In fact it is ultimately undesirable to use gui builders as they produce unmaintainable black box code which is also fragile. Better to learn to use layout managers"},{"comment_id":134484673,"body":"I am not sure if this is related with button click. What I know is that after I added the chart panel  ( chartPanel) to a panel (pieChartPanel) created in GUI got this error. I am sure I am missing some configuration  before adding it, but I don&#39;t know what."},{"comment_id":134495836,"body":"Issue solved by using and adding maven dependency:  ```     &lt;dependency&gt;                      &lt;groupId&gt;com.intellij&lt;/groupId&gt;                      &lt;artifactId&gt;forms_rt&lt;/artifactId&gt;                      &lt;version&gt;7.0.3&lt;/version&gt;              &lt;/dependency&gt;  ``` And changing this code line:   <code>pieChartPanel.add(chartPanel,new GridConstraints());</code>"}],"last_activity_date":1684211761,"question_id":76259375,"body":"<p>I have created frame with panels in IntelliJ IDEA UI designer, but when I wanted to add a Pie chart it returned an error.</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NullPointerException: Cannot invoke &quot;com.intellij.uiDesigner.core.GridConstraints.getRow()&quot; because &quot;c&quot; is null\n    at com.intellij.uiDesigner.core.GridLayoutManager.addLayoutComponent(GridLayoutManager.java:134)\n    at java.desktop/java.awt.Container.addImpl(Container.java:1156)\n    at java.desktop/java.awt.Container.add(Container.java:493)\n    at org.homemade.stockmanager.GuiStockLogic.initGeneralShareInfo(GuiStockLogic.java:447)\n    at org.homemade.stockmanager.GuiStockLogic.updateStockTable(GuiStockLogic.java:257)\n    at org.homemade.stockmanager.GuiStockLogic.showStockTable(GuiStockLogic.java:166)\n    at org.homemade.stockmanager.GuiStockLogic.init(GuiStockLogic.java:264)\n    at org.homemade.main.MainGuiLogic.lambda$init$1(MainGuiLogic.java:50)\n    at java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\n    at java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\n    at java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\n    at java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\n</code></pre>\n<p>Here is my implementation:</p>\n<pre><code>    DefaultPieDataset dataset = new DefaultPieDataset();\n    dataset.setValue(&quot;Category 1&quot;, 20);\n    dataset.setValue(&quot;Category 2&quot;, 30);\n    dataset.setValue(&quot;Category 3&quot;, 50);\n    JFreeChart chart = ChartFactory.createPieChart(&quot;Pie Chart&quot;, dataset, true, true, false);\n    ChartPanel chartPanel = new ChartPanel(chart);\n    chartPanel.setPreferredSize(new java.awt.Dimension(400, 300));\n    pieChartPanel.add(chartPanel,0);\n</code></pre>\n"},{"comments":[{"comment_id":134480375,"body":"Why do you need to &quot;find all positions&quot;? I recommend keeping track of where each element ends up."},{"comment_id":134493811,"body":"Note that you could simplify your &#39;multimap&#39; code to remove the if statement with <code>results.computeIfAbsent(sortedInput.get(i), v-&gt; new ArrayList&lt;&gt;()).add(i)</code>"}],"answers":[{"comments":[{"comment_id":134480663,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76259175/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76259175,"body":"<p>Modify according to your code</p>\n<pre><code>  public static List&lt;Integer&gt; findAllPositions(List&lt;Integer&gt; input) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; result = new HashMap&lt;&gt;();\n    List&lt;Integer&gt; sortedInput = new ArrayList&lt;&gt;(input);\n\n    Collections.sort(sortedInput);\n\n    for (int i = 0; i &lt; sortedInput.size(); i++) {\n      int num = sortedInput.get(i);\n      if (!result.containsKey(num)) {\n        result.put(num, new ArrayList&lt;&gt;());\n      }\n      result.get(num).add(i);\n    }\n\n    List&lt;Integer&gt; result2 = new ArrayList&lt;&gt;();\n    for (int j = 0; j &lt; input.size(); j++) {\n      List&lt;Integer&gt; tmp =result.get(input.get(j));\n      if (tmp != null &amp;&amp; tmp.size() &gt; 0) {\n        result2.add(tmp.get(0));\n        tmp.remove(0);\n      }\n    }\n    return result2;\n  }\n\n  public static void main(String[] args) {\n    List&lt;Integer&gt; input = Arrays.asList(33, 44, 33, 11, 22);\n    System.out.println(findAllPositions(input));\n  }\n</code></pre>\n"},{"answer_id":76259400,"body":"<p>Instead of using a map you could create index, value records and sort those. The results could then be used to generate the result:</p>\n<pre><code>record Pair(int index, int value) {}\n\nList&lt;Integer&gt; sorted = IntStream.range(0, input.length)\n    .mapToObj(i -&gt; new Pair(i, input[i]))\n    .sorted(Comparator.comparingInt(Pair::value))\n    .map(Pair::index).toList();\nint[] output = IntStream.range(0, input.length)\n    .map(sorted::indexOf).toArray();\n</code></pre>\n"}],"last_activity_date":1684211286,"question_id":76258979,"body":"<p>I'm currently preping for coding interviews and I want to know what other have for this question.</p>\n<p>Map every element to its position in the array as\nif it was sorted. Now we need to return a new array where every element is mapped to its\nposition in the sorted array.</p>\n<ul>\n<li>Input: <code>[33, 44, 33, 11, 22]</code></li>\n<li>Output: <code>[2, 4, 3, 0, 1]</code></li>\n</ul>\n<p><code>[11, 22, 33, 33, 44]</code> (how it would look like if it was sorted)</p>\n<p>What would be your approach and solution to the time and space complexities?</p>\n<p>The farthest I got was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;Integer, List&lt;Integer&gt;&gt; findAllPositions(List&lt;Integer&gt; input) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; result = new HashMap&lt;&gt;();\n    List&lt;Integer&gt; sortedInput = new ArrayList&lt;&gt;(input);\n    Collections.sort(sortedInput);\n\n    for (int i = 0; i &lt; sortedInput.size(); i++) {\n        int num = sortedInput.get(i);\n        if (!result.containsKey(num)) {\n            result.put(num, new ArrayList&lt;&gt;());\n        }\n        result.get(num).add(i);\n    }\n    return result;\n}\n\npublic static void main(String[] args) {\n    List&lt;Integer&gt; input = Arrays.asList(33, 44, 33, 11, 22);\n    Map&lt;Integer, List&lt;Integer&gt;&gt; positions = findAllPositions(input);\n    System.out.println(positions); // {1=[0, 1], 2=[2], 3=[3], 4=[4]}\n}\n</code></pre>\n"},{"comments":[{"comment_id":134479105,"body":"You can it without Spring with the Java Date and Files API."},{"comment_id":134481274,"body":"If your target is to store log files you could also utilize slf4j/logback"}],"answers":[{"answer_id":76259398,"body":"<p>Task like this is not in the focus of Spring Boot framework, so the direct answer to your question is: No, there is nothing particular in spring boot that can help you.\nHaving said that, Java has enough APIs to achieve this task:</p>\n<ul>\n<li>Use java time API to get the current day, month, year</li>\n<li>Use File API to create files, folders, etc.</li>\n</ul>\n"}],"last_activity_date":1684211277,"question_id":76258616,"body":"<p>I would like to know if there is any method or function in Spring Boot that allows you to create folders with names of year, month and day, and that they are subsequently created with the current system date?</p>\n<p><strong>Like this example:</strong></p>\n<pre><code>Year: 2023 --\n|           |\n|           Month: 05 --\n|           |          |\n|           |          Day: 15\n|           |               16\n|           |               17\n|           Month: 06 --\n|                      |\n|                      Day: 01\n|                           02\n|                           03\nYear: 2024 --\n            |\n            Month: 01 --\n            |          |\n            |          Day: 03\n            |               04\n            |               05\n            Month: 02 --\n                       |\n                       Day: 01\n                            02\n                            03\n</code></pre>\n<p>I would appreciate any comments and support that gives me the solution.</p>\n"},{"comments":[{"comment_id":3254003,"body":"Does it hang? What happens? Are you reading from the stream?"},{"comment_id":3254029,"body":"No it doesn&#39;t hang and no exceptions. After parsing my variables are simply empty."},{"comment_id":3254098,"body":"Let&#39;s see more code then, please."},{"comment_id":6476992,"body":"Have you solved the question? I experience the same problem.."},{"comment_id":95763714,"body":"That&#39;s not how it works. A read timeout affects individual reads, not the total read time. Where&#39;s the rest of your code?"}],"answers":[{"comments":[{"comment_id":45835780,"body":"with Java 7 (+) it works like expected: <code>conn.setReadTimeout(1000*10*1);  conn.setConnectTimeout(1000*10*1); &#47;&#47; 10 seks to wait for connection</code> waits exactly 10 secs for a connect and for data."},{"comment_id":95763744,"body":"This only affects the connect timeout, not the read timeout. Doesn&#39;t answer the question in any way."}],"answer_id":4632014,"body":"<p>Try this:</p>\n\n<pre><code>       import java.net.HttpURLConnection;\n\n       URL url = new URL(\"http://www.myurl.com/sample.xml\");\n\n       HttpURLConnection huc = (HttpURLConnection) url.openConnection();\n       HttpURLConnection.setFollowRedirects(false);\n       huc.setConnectTimeout(15 * 1000);\n       huc.setRequestMethod(\"GET\");\n       huc.setRequestProperty(\"User-Agent\", \"Mozilla/5.0 (Windows; U; Windows NT 6.0; en-US; rv:1.9.1.2) Gecko/20090729 Firefox/3.5.2 (.NET CLR 3.5.30729)\");\n       huc.connect();\n       InputStream input = huc.getInputStream();\n</code></pre>\n\n<h2>OR</h2>\n\n<pre><code>       import org.jsoup.nodes.Document;\n\n       Document doc = null;\n       try {\n           doc = Jsoup.connect(\"http://www.myurl.com/sample.xml\").get();\n       } catch (Exception e) {\n           //log error\n       }\n</code></pre>\n\n<p>And take look on how to use Jsoup: <a href=\"http://jsoup.org/cookbook/input/load-document-from-url\" rel=\"noreferrer\">http://jsoup.org/cookbook/input/load-document-from-url</a></p>\n"},{"comments":[{"comment_id":11136318,"body":"While this may be true depending on the Java version, the Java 6.0 API states: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/net/URLConnection.html#setReadTimeout(int)\" rel=\"nofollow noreferrer\">Some non-standard implementation of this method ignores the specified timeout. To see the read timeout set, please call getReadTimeout().</a>"},{"comment_id":95763783,"body":"Both these attributes have worked for me for over 20 years."}],"answer_id":7611294,"body":"<p>I have used similar code for downloading logs from servers. I debug my code and discovered that implementation of URLConnection which is returned is sun.net.www.protocol.http.HttpURLConnection. </p>\n\n<p>Abstract class java.net.URLConnection have two attributes connectTimeout and readTimeout and setters are in abstract class. Believe or not implementation sun.net.www.protocol.http.HttpURLConnection have same attributes connectTimeout and readTimeout without setters and attributes from implementation class are used in getInputStream method. So there is no use of setting connectTimeout and readTimeout because they are never used in getInputStream method. In my opinion this is bug in sun.net.www.protocol.http.HttpURLConnection implementation. </p>\n\n<p>My solution for this was to use HttpClient and Get request.</p>\n"},{"comments":[{"comment_id":95763800,"body":"Never seen this since about 1992. No evidence provided either here or in your link."}],"answer_id":8240069,"body":"<p>Are you on Windows? The underlying socket implementation on Windows seems not to support the SO_TIMEOUT option very well.  See also this answer: <a href=\"https://stackoverflow.com/questions/1306119/setsotimeout-on-a-client-socket-doesnt-affect-the-socket\">setSoTimeout on a client socket doesn&#39;t affect the socket</a></p>\n"},{"comments":[{"comment_id":49138346,"body":"From documentation: void java.net.HttpURLConnection.disconnect()  Indicates that other requests to the server are unlikely in the near future. Calling disconnect() should not imply that this HttpURLConnection instance can be reused for other requests. --&gt; So the socket is not necessarily closed when disconnect() is called."},{"comment_id":80562663,"body":"Beware that this code will try to disconnect in 5 seconds anyway, even if you connected successfully and want to continue using that connection."}],"answer_id":19181874,"body":"<p>You can manually force disconnection by a Thread sleep. This is an example:</p>\n\n<pre><code>URLConnection con = url.openConnection();\ncon.setConnectTimeout(5000);\ncon.setReadTimeout(5000);\nnew Thread(new InterruptThread(con)).start();\n</code></pre>\n\n<p>then</p>\n\n<pre><code>public class InterruptThread implements Runnable {\n\n    HttpURLConnection con;\n    public InterruptThread(HttpURLConnection con) {\n        this.con = con;\n    }\n\n    public void run() {\n        try {\n            Thread.sleep(5000); // or Thread.sleep(con.getConnectTimeout())\n        } catch (InterruptedException e) {\n\n        }\n        con.disconnect();\n        System.out.println(\"Timer thread forcing to quit connection\");\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":94218883,"body":"This is what I needed to get it working on both Windows and OSX"},{"comment_id":95763676,"body":"Only for HTTP. <code>java.net.Socket</code> doesn&#39;t use these."}],"answer_id":29930515,"body":"<p>You can set timeouts for all connections made from the jvm by changing the following System-properties:</p>\n\n<pre><code>System.setProperty(\"sun.net.client.defaultConnectTimeout\", \"10000\");\nSystem.setProperty(\"sun.net.client.defaultReadTimeout\", \"10000\");\n</code></pre>\n\n<p>Every connection will time out after 10 seconds. </p>\n\n<p>Setting 'defaultReadTimeout' is not needed, but shown as an example if you need to control reading.</p>\n"}],"last_activity_date":1684208770,"question_id":3163693,"body":"<p>I am trying to parse an XML file from an HTTP URL. I want to configure a timeout of 15 seconds if the XML fetch takes longer than that, I want to report a timeout. For some reason, the setConnectTimeout and setReadTimeout do not work. Here's the code:</p>\n\n<pre><code>          URL url = new URL(\"http://www.myurl.com/sample.xml\");\n          URLConnection urlConn = url.openConnection();\n          urlConn.setConnectTimeout(15000);\n          urlConn.setReadTimeout(15000);\n          urlConn.setAllowUserInteraction(false);         \n          urlConn.setDoOutput(true);\n\n          InputStream inStream = urlConn.getInputStream();\n          InputSource input = new InputSource(inStream);\n</code></pre>\n\n<p>And I am catching the SocketTimeoutException.</p>\n\n<p>Thanks\nChris</p>\n"},{"comments":[{"comment_id":134480061,"body":"Hi there, could you consider adding more detail to your question please? I&#39;m not familiar with Java or ansible, but I think a bit more info could help others answer the question better. Have you tried looking at the other related questions, too?"},{"comment_id":134480116,"body":"For example, what does &quot;not reflected in the server&quot; mean here? What are you expecting, what error messages are you getting, what log messages are you not getting?"},{"comment_id":134480495,"body":"The approach using <code>shell</code> module in order to start a background, server process, a Java application daemon, etc. is not the correct one. I like to recommend to create a service file and use <code>systemd</code>. There are already plenty of answers here on SO regarding your use case."},{"comment_id":134480946,"body":"Does <a href=\"https://stackoverflow.com/questions/29806673/\">Daemonizing an executable in Ansible</a> or <a href=\"https://stackoverflow.com/a/39355842/6771046\">Ansible: Run command on Remote Host in background</a> or <a href=\"https://stackoverflow.com/a/41676978/6771046\">Ansible terminates my app</a>, etc.,  answer your question?"},{"comment_id":134481223,"body":"Or <a href=\"https://stackoverflow.com/questions/12102270/run-java-jar-file-on-a-server-as-background-process\">Run java jar file on a server as background process</a>?"}],"last_activity_date":1684208413,"question_id":76259167,"body":"<p>I am running my Ansible code through my local terminal... I have used shell module to start the service.. here it's showing executed but not reflected in the server.</p>\n<pre><code>name: start the service\nshell: &quot;/stop_start.sh start&quot;\n</code></pre>\n<p>please help on this ....</p>\n<pre><code>java \n    -Dspring.profiles.active=dev,dev-sm,dev-tb    \n    -Dspring.config.location=/ngs/app/redebsd/TRIRIGA_integrations/config/\n    -Djdk.tls.ephemeralDHKeySize=2048\n    -jar /ngs/app/redebsd/TRIRIGA_integrations/tririga-integrations.jar \nc8900509 32210  0.0  0.0 117932  1648 pts/0    S+   03:06   0:00 /bin/sh -c ps aux | grep java\n</code></pre>\n"},{"answers":[{"answer_id":35000567,"body":"<p>Well the answer was pretty simple although in my opinion should be in the framework. But a simple non signed JWT still has the 2 required periods in it but there is nothing after the last one, so i split my JWT on the periods and combined the first and second one with periods and put a period at the end.</p>\n\n<pre><code>String[] splitToken = result.Value.Content.AuthorizationJWTToken.split(\"\\\\.\");\nJwt parsedToken = Jwts.parser().parse(splitToken[0] + \".\" + splitToken[1] + \".\");\n</code></pre>\n\n<p>This was usings the <a href=\"https://github.com/jwtk/jjwt\" rel=\"nofollow\">https://github.com/jwtk/jjwt</a> library.</p>\n"},{"answer_id":35014952,"body":"<p>You can use <a href=\"https://bitbucket.org/b_c/jose4j/wiki/JWT%20Examples\" rel=\"nofollow\">jose4j's JWT consumer</a> to do parsing only and not check the claims or signature. Something like the following will parse the token and compare the expiration time to the current time to see if it's expired.    </p>\n\n<pre><code>String jwt = \"eyJhbGciOiJIUzI1NiJ9\" +\n        \".eyJzdWIiOiIxMjM0NTY3ODkwIiwiZXhwIjoxNDUzODE0NjA0LCJuYW1lIjoiSm9obiBEb2UifQ\" +\n        \".IXcDDLXEpGN9Po5C-Mz88jUCNYrHxu6TVJLavf0NgT8\";\n\nJwtConsumer consumer = new JwtConsumerBuilder()\n        .setSkipAllValidators()\n        .setDisableRequireSignature()\n        .setSkipSignatureVerification()\n        .build();\nJwtClaims claims = consumer.processToClaims(jwt);\nNumericDate expirationTime = claims.getExpirationTime();\n\nif (NumericDate.now().isAfter(expirationTime))\n{\n    System.out.println(\"Token expired at \" + expirationTime);\n}\nelse\n{\n    System.out.println(\"Token is still good until \" + expirationTime);\n}\n</code></pre>\n"},{"comments":[{"comment_id":98853173,"body":"yes this works. but instead of                                           Jwt&lt;Header,Claims&gt; untrusted = Jwts.parser().parseClaimsJwt(withoutSignature);     we can use Claims untrusted = Jwts.parser().parseClaimsJwt(withoutSignature).getBody();"}],"answer_id":41782048,"body":"<p>If you wanna parse signatured text without using signature :</p>\n\n<p>1- add below dependency :</p>\n\n<pre><code>//JWT\ncompile 'io.jsonwebtoken:jjwt:0.7.0'\n</code></pre>\n\n<p>2 - Add below imports :</p>\n\n<pre><code>import io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Header;\nimport io.jsonwebtoken.Jwt;\nimport io.jsonwebtoken.Jwts;\n</code></pre>\n\n<p>3- Use below code block :</p>\n\n<pre><code>//ref : https://github.com/jwtk/jjwt/issues/135\n//you can put your signatured text instead of jws variable.\nString jws = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\";\nint i = jws.lastIndexOf('.')\nString withoutSignature = jws.substring(0, i+1);\nJwt&lt;Header,Claims&gt; untrusted = Jwts.parser().parseClaimsJwt(withoutSignature);\n/*untrusted.getBody().getSubject();\n  untrusted.getBody().getExpiration();\n  etc.\n*/\n</code></pre>\n"},{"answer_id":59973659,"body":"<p><strong><em>parseClaimsJwt()</em></strong> method of Jwt will require a signature. So, right way to do it is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String jws = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\";\nint i = jws.lastIndexOf('.')\nString withoutSignature = jws.substring(0, i+1);\n\nClaims claims = (Claims) = Jwts.parser().parse(withoutSignature).getBody();\n</code></pre>\n"}],"last_activity_date":1684208380,"question_id":34998859,"body":"<p>I have a signed JWT String that i get from the server. I do not know the key or rather I don't want to put the key on the client/device.</p>\n\n<p>When using this site with my token: <a href=\"https://jwt.io/\" rel=\"noreferrer\">https://jwt.io/</a> I get the desired result it tells me the Header and payload information.</p>\n\n<p>I cannot find a library on android that does what this website does and i have tried all of them that i could find. The most recognized one to use is: <a href=\"https://github.com/jwtk/jjwt\" rel=\"noreferrer\">https://github.com/jwtk/jjwt</a> </p>\n\n<p>But this gives me an exception that i cannot parse a signed token which as proven by the other website above is false. another resource i have used is: <a href=\"https://bitbucket.org/b_c/jose4j/wiki/Home\" rel=\"noreferrer\">https://bitbucket.org/b_c/jose4j/wiki/Home</a></p>\n\n<p>This one at least gave me the header information which is the furthest i have been able to get. </p>\n\n<p>To give context why it is the way it is, the payload contains an expiration time and on the device when the token is about to expire i should prompt the user to re enter their credentials to get a new token. Now this might seem like a security threat because a hacker could manipulate the token on the device, but the server checks the token to make sure it is authentic which is why i do not want the key on the device because this can be mined by a hacker, and make the entire application vulnerable.</p>\n"},{"comments":[{"comment_id":134479925,"body":"Calling &quot;users&quot; with &quot;patient&quot; data sounds leaky with PII. That&#39;s a no no."},{"comment_id":134479957,"body":"@elliott-frisch there is no calling users with patients data. calling user with information that user service manages and calling patients with information that patient manages"},{"comment_id":134481072,"body":"In my opinion a system like this shouldn&#39;t use microservices at all."}],"last_activity_date":1684208015,"question_id":76259116,"body":"<p>I'm developing a doctor-patient system that consists of two microservices, namely the &quot;doctor&quot; and &quot;patient&quot; microservices. Both doctors and patients share some common attributes, so I introduced a third microservice called &quot;users&quot; to manage these shared attributes. However, I'm unsure about the most suitable approach for messaging between these microservices.</p>\n<p>I have considered two valid scenarios, and I would appreciate guidance on choosing the most appropriate one:</p>\n<p>Scenario 1: In this scenario, the client directly calls both the &quot;users&quot; and &quot;doctor&quot; microservices, providing the relevant information that each microservice manages. The client would make separate API calls to both microservices. Client can be a composite service within the same kubernetes claster</p>\n<p>Scenario 2: In this scenario, the client only calls the &quot;doctor&quot; microservice, providing all the required information. Then, the &quot;doctor&quot; microservice internally calls the &quot;users&quot; microservice to process some additional information while handling the rest of the information itself.</p>\n<p>I would appreciate advice on choosing the most suitable scenario for my system, along with the reasoning behind the recommendation.</p>\n<p>Thank you!</p>\n"},{"answers":[{"comments":[{"comment_id":120775574,"body":"In Mac BigSur, that would be Preferences -&gt;  Keyboard -&gt; Input Sources. There, unselect the &quot;use the Caps Lock key...&quot; option at the bottom"}],"answer_id":67770643,"body":"<p>Change your keyboard Hotkey at Preference/Keyboard/HotKey/input method\nIf your first key is CapLock, the error will show.\nChange the input method HotKey will solve.</p>\n"}],"last_activity_date":1684206886,"question_id":67613071,"body":"<p>I am trying to use <code>KeyListener</code> to input information, such as using the arrow keys to move an object in a plane, but as soon as I press my first key, the error below is thrown:</p>\n<p><code>2021-05-20 09:55:35.400 java[36269:3330310] TSM AdjustCapsLockLEDForKeyTransitionHandling - _ISSetPhysicalKeyboardCapsLockLED Inhibit</code></p>\n<p>My code is like this:</p>\n<pre><code>    KeyListener listener = new KeyAdapter() {\n        public void keyTyped(KeyEvent e) {\n            int key = e.getKeyCode();\n            if (key == KeyEvent.VK_KP_UP) {\n                if (x != 5) {\n                    x -= 10;\n                    repaint();\n                }\n            }\n            if (key == KeyEvent.VK_KP_RIGHT){\n                if (x != 495) {\n                    x += 10;\n                    repaint();\n                }\n            }\n            if (key == KeyEvent.VK_KP_DOWN) {\n                if (y != 375) {\n                    y += 10;\n                    repaint();\n                }\n            }\n            if (key == KeyEvent.VK_KP_UP) {\n                if (y != 5) {\n                    y -= 10;\n                    repaint();\n                }\n            }\n        }\n    };\n</code></pre>\n<p>Everything in this code works properly. I am using a 2019 MacBook 16-inch. I am implementing codes on Eclipse. Is there any way that this problem can be solved?</p>\n"},{"comments":[{"comment_id":134446814,"body":"How is that type used in your project? Add the gradle configuration to your post."},{"comment_id":134446843,"body":"I am building using the code that I listed via the repository link under the <code>bootiful</code> sub-project (see above). Can you try doing a <code>git clone</code> and building using <code>gradle build</code>?"},{"comment_id":134446881,"body":"That&#39;s not a minimal reproducible example appropriate for SO, as explained in the help center page: <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>. Also the warning is not an error. Does it fail without <code>--warning-mode=all</code>?"},{"comment_id":134447045,"body":"Yes, it does fail without <code>--warning-mode=all</code> but the cause was ambiguous... This is why I used the warning mode, to begin with. Just edited my post to reflect this (see above)."},{"comment_id":134447642,"body":"It looks like maybe a problem with Docker.  Is that the full stacktrace?"},{"comment_id":134447677,"body":"@JamesWard - yes, but I don&#39;t have Docker daemon running, just cloned the repo and <code>cd&#39;d</code> into <code>bootiful</code> dir and did a <code>gradle build</code>..."},{"comment_id":134447710,"body":"Testcontainers uses the docker daemon directly.  So you definitely need a working docker daemon for that part to work."},{"comment_id":134447768,"body":"<code>.&#47;gradlew build</code> runs the tests and that uses Testcontainers."},{"comment_id":134447842,"body":"<code>.&#47;gradlew build</code> didn&#39;t work, I already tried that as well and reported that in my post. Does the database or any other prerequisites need to be setup first?"},{"comment_id":134448730,"body":"<code>.&#47;gradlew build</code> will not work without a docker daemon as it sets up a postgres db via docker using Testcontainers."},{"comment_id":134470373,"body":"Can you run <code>.&#47;gradlew build --info</code> ?"}],"answers":[{"answer_id":76255159,"body":"<p>According to your stacktrace, the issue you are experiencing is related to Docker:</p>\n<pre><code>Caused by: java.lang.IllegalStateException at DockerClientProviderStrategy.java:256\n</code></pre>\n<p>The line 256 in <code>DockerClientProviderStrategy</code> has the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>log.error(\n    &quot;Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\\n&quot; +\n        configurationFailures.stream().map(it -&gt; &quot;\\t&quot; + it).collect(Collectors.joining(&quot;\\n&quot;)) +\n        &quot;As no valid configuration was found, execution cannot continue.\\n&quot; +\n        &quot;See https://www.testcontainers.org/on_failure.html for more details.&quot;\n);\n\nFAIL_FAST_ALWAYS.set(true);\nreturn new IllegalStateException(\n    &quot;Could not find a valid Docker environment. Please see logs and check configuration&quot;\n);\n</code></pre>\n<p>Did you have the opportunity to try the instructions provided here? <a href=\"https://www.testcontainers.org/on_failure.html\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/on_failure.html</a>\n<a href=\"https://www.testcontainers.org/supported_docker_environment/\" rel=\"nofollow noreferrer\">https://www.testcontainers.org/supported_docker_environment/</a></p>\n<p>My suggestion would be to try updating or reinstalling Docker. This could potentially solve the issue.</p>\n"},{"answer_id":76259166,"body":"<p>After running <code>./gradlew build --info</code>, the output was something similar to:</p>\n<pre><code>Caused by: java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$3(DockerClientProviderStrategy.java:158)\nat java.util.Optional.orElseThrow(Optional.java:290)\nat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:150)\nat org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:111)\n</code></pre>\n<p>Fixed this by running this from the command line:</p>\n<p><code>sudo ln -s $HOME/.docker/run/docker.sock /var/run/docker.sock</code></p>\n<p>Courtesy of a comment someone answered to this SO post:</p>\n<p><a href=\"https://stackoverflow.com/questions/61108655/test-container-test-cases-are-failing-due-to-could-not-find-a-valid-docker-envi\">Test Container test cases are failing due to &quot;Could not find a valid Docker environment&quot;</a></p>\n<p>Now, when I run <code>./gradlew build</code>:</p>\n<pre><code>2023-05-15T20:07:54.290-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [testcontainers/ryuk:0.3.4]           : Creating container for image: testcontainers/ryuk:0.3.4\n    2023-05-15T20:07:55.675-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 is starting: bc9d6884bf1fe1cc80d8df0754814059953607456dff07dcde380f128fcf00bd\n    2023-05-15T20:07:57.176-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [testcontainers/ryuk:0.3.4]           : Container testcontainers/ryuk:0.3.4 started in PT3.00059S\n    2023-05-15T20:07:57.202-07:00  INFO 7818 --- [tainers-r2dbc-0] o.t.utility.RyukResourceReaper           : Ryuk started - will monitor and terminate Testcontainers containers on JVM exit\n    2023-05-15T20:07:57.203-07:00  INFO 7818 --- [tainers-r2dbc-0] org.testcontainers.DockerClientFactory   : Checking the system...\n    2023-05-15T20:07:57.205-07:00  INFO 7818 --- [tainers-r2dbc-0] org.testcontainers.DockerClientFactory   : ✔︎ Docker server version should be at least 1.6.0\n    2023-05-15T20:07:57.207-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [postgres:13.3]                       : Creating container for image: postgres:13.3\n    2023-05-15T20:07:57.389-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [postgres:13.3]                       : Container postgres:13.3 is starting: a7af084644cc8f800f51b23ea0e3fab8ea83168f7697c009593262eff34f915c\n    2023-05-15T20:08:02.544-07:00  INFO 7818 --- [tainers-r2dbc-0] 🐳 [postgres:13.3]                       : Container postgres:13.3 started in PT5.337754S\n    2023-05-15T20:08:03.664-07:00  INFO 7818 --- [    Test worker] bootiful.kotlin.KotlinApplicationTests   : Started KotlinApplicationTests in 18.086 seconds (process running for 22.064)\n    Customer(id=1, name=James)\n    Customer(id=2, name=Josh)\n</code></pre>\n"}],"last_activity_date":1684206849,"question_id":76239764,"body":"<p>Was following along with <a href=\"https://www.youtube.com/watch?v=pXtTp4Uxuhk\" rel=\"nofollow noreferrer\">Spring + Kotlin = Modern + Reactive + Productive</a> presentation on YouTube! by creating a Kotlin-based Spring Web Flux Reactive app using <a href=\"https://start.spring.io/..\" rel=\"nofollow noreferrer\">https://start.spring.io/..</a>.</p>\n<p>Generated the project using these dependencies (please note the Spring Boot and Java versions, as well):</p>\n<p><a href=\"https://i.stack.imgur.com/YEPAR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YEPAR.png\" alt=\"enter image description here\" /></a></p>\n<p>This generated the <code>build.gradle.kts</code> file:</p>\n<pre><code>plugins {\n        java\n        id(&quot;org.springframework.boot&quot;) version &quot;3.0.6&quot;\n        id(&quot;io.spring.dependency-management&quot;) version &quot;1.1.0&quot;\n        id(&quot;org.graalvm.buildtools.native&quot;) version &quot;0.9.20&quot;\n}\n\ngroup = &quot;bootiful&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\nrepositories {\n        mavenCentral()\n}\n\nextra[&quot;testcontainersVersion&quot;] = &quot;1.18.1&quot;\n\ndependencies {\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\n        implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\n        runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n        runtimeOnly(&quot;org.postgresql:r2dbc-postgresql&quot;)\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n        testImplementation(&quot;io.projectreactor:reactor-test&quot;)\n        testImplementation(&quot;org.testcontainers:junit-jupiter&quot;)\n        testImplementation(&quot;org.testcontainers:postgresql&quot;)\n        testImplementation(&quot;org.testcontainers:r2dbc&quot;)\n}\n\ndependencyManagement {\n        imports {\n                mavenBom(&quot;org.testcontainers:testcontainers-bom:${property(&quot;testcontainersVersion&quot;)}&quot;)\n        }\n}\n\ntasks.withType&lt;Test&gt; {\n        useJUnitPlatform()\n}\n</code></pre>\n<p>Was getting an error when I tried to build it initially (after downloading &amp; extracting the zip file) using <code>gradle build</code> &amp; <code>./gradlew build</code> on macOS (both using IntelliJ &amp; command line).</p>\n<p>When I cloned the GitHub <a href=\"https://github.com/jamesward/nks\" rel=\"nofollow noreferrer\">project</a> that this presentation was based on, I got the same exact error:</p>\n<p>Using <code>gradle build</code> (also fails when using the wrapper e.g. <code>./gradlew build</code>):</p>\n<pre><code>KotlinApplicationTests &gt; contextLoads() FAILED\n    org.junit.jupiter.api.extension.ParameterResolutionException at ParameterResolutionUtils.java:159\n        Caused by: java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\n            Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1770\n                Caused by: org.springframework.r2dbc.connection.init.UncategorizedScriptException at DatabasePopulator.java:65\n                    Caused by: org.springframework.dao.DataAccessResourceFailureException at ConnectionFactoryUtils.java:90\n                        Caused by: java.util.concurrent.CompletionException at CompletableFuture.java:315\n                            Caused by: java.lang.IllegalStateException at DockerClientProviderStrategy.java:256\n</code></pre>\n<p>Using <code>gradle build --warning-mode=all</code>:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-05-12T13:12:54.326-07:00  INFO 50318 --- [           main] bootiful.kotlin.KotlinApplicationTests   : Starting KotlinApplicationTests using Java 20.0.1 with PID 50318 (/Users/pnwlover/nks/bootiful/build/classes/kotlin/test started by pnwlover/ in /Users/pnwlover/nks/bootiful)\n2023-05-12T13:12:54.328-07:00  INFO 50318 --- [           main] bootiful.kotlin.KotlinApplicationTests   : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-12T13:12:55.184-07:00  INFO 50318 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data R2DBC repositories in DEFAULT mode.\n2023-05-12T13:12:55.378-07:00  INFO 50318 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 1 R2DBC repository interfaces.\n\n&gt; Task :compileAotTestJava\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n\n&gt; Task :test\nThe org.gradle.util.GFileUtils type has been deprecated. This is scheduled to be removed in Gradle 9.0. Consult the upgrading guide for further information: https://docs.gradle.org/8.1.1/userguide/upgrading_version_7.html#org_gradle_util_reports_deprecations\n\nKotlinApplicationTests &gt; contextLoads() FAILED\n    org.junit.jupiter.api.extension.ParameterResolutionException at ParameterResolutionUtils.java:159\n        Caused by: java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:142\n            Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1770\n                Caused by: org.springframework.r2dbc.connection.init.UncategorizedScriptException at DatabasePopulator.java:65\n                    Caused by: org.springframework.dao.DataAccessResourceFailureException at ConnectionFactoryUtils.java:90\n                        Caused by: java.util.concurrent.CompletionException at CompletableFuture.java:315\n                            Caused by: java.lang.IllegalStateException at DockerClientProviderStrategy.java:256\n\n</code></pre>\n<p>Gradle, Java &amp; Kotlin versions set in my local system:</p>\n<pre><code> gradle -v\n\n------------------------------------------------------------\nGradle 8.1.1\n------------------------------------------------------------\n\nBuild time:   2023-04-21 12:31:26 UTC\nRevision:     1cf537a851c635c364a4214885f8b9798051175b\n\nKotlin:       1.8.10\nGroovy:       3.0.15\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          20.0.1 (Oracle Corporation 20.0.1+9-29)\nOS:           Mac OS X 12.6.5 x86_64\n</code></pre>\n<pre><code>java -version\njava version &quot;17.0.6&quot; 2023-01-17 LTS\nJava(TM) SE Runtime Environment (build 17.0.6+9-LTS-190)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.6+9-LTS-190, mixed mode, sharing)\n</code></pre>\n<pre><code>❯ kotlinc -version\ninfo: kotlinc-jvm 1.8.21 (JRE 20.0.1+9-29)\n</code></pre>\n<p>Why can't I build this when I do a fresh <code>git clone</code> from the repository?</p>\n<p>This is the project I am trying to build:</p>\n<p><a href=\"https://github.com/jamesward/nks/tree/main/bootiful\" rel=\"nofollow noreferrer\">https://github.com/jamesward/nks/tree/main/bootiful</a></p>\n<p>docker daemon was running, I ran the following command (before I tried building with <code>gradle build</code> and/or <code>./gradlew build</code>)</p>\n<p><code>docker ps</code>:</p>\n<p>output:</p>\n<pre><code>CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES\n</code></pre>\n<p>Like, I said this also happened when I created a new project from within <a href=\"http://start.spring.io\" rel=\"nofollow noreferrer\">http://start.spring.io</a>. Is this due to TestContainers? Is there any steps/prerequisites required for TestContainers or any other config to be set?</p>\n<p>After running the Unix shell script located here:</p>\n<p><a href=\"https://github.com/jamesward/nks/blob/main/postgres.sh\" rel=\"nofollow noreferrer\">https://github.com/jamesward/nks/blob/main/postgres.sh</a></p>\n<p>And then checking the docker daemon:</p>\n<pre><code>CONTAINER ID   IMAGE           COMMAND                  CREATED          STATUS          PORTS                    NAMES\nd12e7449a853   postgres:13.3   &quot;docker-entrypoint.s…&quot;   36 seconds ago   Up 33 seconds   0.0.0.0:5432-&gt;5432/tcp   my-postgres\n</code></pre>\n<p>The Unix shell script's tail end:</p>\n<pre><code>PostgreSQL init process complete; ready for start up.\n\n2023-05-15 07:45:20.258 UTC [1] LOG:  starting PostgreSQL 13.3 (Debian 13.3-1.pgdg100+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 8.3.0-6) 8.3.0, 64-bit\n2023-05-15 07:45:20.258 UTC [1] LOG:  listening on IPv4 address &quot;0.0.0.0&quot;, port 5432\n2023-05-15 07:45:20.259 UTC [1] LOG:  listening on IPv6 address &quot;::&quot;, port 5432\n2023-05-15 07:45:20.264 UTC [1] LOG:  listening on Unix socket &quot;/var/run/postgresql/.s.PGSQL.5432&quot;\n2023-05-15 07:45:20.272 UTC [66] LOG:  database system was shut down at 2023-05-15 07:45:20 UTC\n2023-05-15 07:45:20.285 UTC [1] LOG:  database system is ready to accept connections\n^C2023-05-15 08:00:13.887 UTC [1] LOG:  received fast shutdown request\n2023-05-15 08:00:13.890 UTC [1] LOG:  aborting any active transactions\n2023-05-15 08:00:13.894 UTC [1] LOG:  background worker &quot;logical replication launcher&quot; (PID 72) exited with exit code 1\n2023-05-15 08:00:13.894 UTC [67] LOG:  shutting down\n2023-05-15 08:00:13.919 UTC [1] LOG:  database system is shut down\n</code></pre>\n<p>When I look inside: <code>../build/reports/tests/test/index.html</code>:</p>\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'r2dbcScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/R2dbcInitializationConfiguration.class]: Failed to execute database script\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)\n    at app//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)\n</code></pre>\n<p>Would appreciate it if someone else could try to replicate this issue...</p>\n<p>Remember, this doesn't work when I created a project via <a href=\"http://start.spring.io\" rel=\"nofollow noreferrer\">http://start.spring.io</a> using the same dependencies (see screenshot above) that the presenters in the YouTube presentation video used nor did the author's <a href=\"https://github.com/jamesward/nks/tree/main/bootiful\" rel=\"nofollow noreferrer\">code</a> work when I did a fresh <code>git clone</code>...</p>\n"},{"comments":[{"comment_id":134441740,"body":"Can you share the implementation of CustomCatalog? It looks like something is off there."}],"last_activity_date":1684206604,"question_id":76225484,"body":"<p>I am doing a POC on Apache Iceberg. While writing I am writing twice using 2 datafiles that create 2 snapshots. In my example, each file contains 4 rows. The last file is marked as current snapshot which is right. While reading the data, I want to read the data of the latest snapshot only. However, the reader prints the data of all the snapshots (8 rows) even though I set the snapshot of TableScan as current snapshot.</p>\n<p>Below is the sample code</p>\n<pre><code>package org.example2;\n\nimport com.google.common.collect.ImmutableList;\nimport com.google.common.collect.ImmutableMap;\nimport org.apache.iceberg.DataFile;\nimport org.apache.iceberg.PartitionSpec;\nimport org.apache.iceberg.Schema;\nimport org.apache.iceberg.Table;\nimport org.apache.iceberg.catalog.Namespace;\nimport org.apache.iceberg.catalog.TableIdentifier;\nimport org.apache.iceberg.data.GenericRecord;\nimport org.apache.iceberg.data.IcebergGenerics;\nimport org.apache.iceberg.data.Record;\nimport org.apache.iceberg.data.parquet.GenericParquetWriter;\nimport org.apache.iceberg.io.CloseableIterable;\nimport org.apache.iceberg.io.DataWriter;\nimport org.apache.iceberg.io.OutputFile;\nimport org.apache.iceberg.parquet.Parquet;\nimport org.apache.iceberg.types.Types;\nimport org.customCatalog.CustomCatalog;\n\nimport java.util.UUID;\n\npublic class Example2 {\n\n    public static String dataPath = &quot;C:\\\\data\\\\iceberg&quot;;\n\n    public static void main(String[] args) throws Exception {\n        CustomCatalog catalog = new CustomCatalog(dataPath);\n        Schema schema = new Schema(\n                Types.NestedField.optional(1, &quot;event_id&quot;, Types.StringType.get()),\n                Types.NestedField.optional(2, &quot;username&quot;, Types.StringType.get()),\n                Types.NestedField.optional(3, &quot;userid&quot;, Types.IntegerType.get()),\n                Types.NestedField.optional(4, &quot;api_version&quot;, Types.StringType.get()),\n                Types.NestedField.optional(5, &quot;command&quot;, Types.StringType.get())\n        );\n\n        Namespace webapp = Namespace.of(&quot;webapp&quot;);\n        TableIdentifier name = TableIdentifier.of(webapp, &quot;user_events&quot;);\n        System.out.println(catalog.tableExists(name));\n        Table table;\n        if (!catalog.tableExists(name)) {\n            table = catalog.createTable(name, schema, PartitionSpec.unpartitioned());\n        } else {\n            table = catalog.loadTable(name);\n        }\n\n        for (int i = 0; i &lt; 2; i++) {\n            GenericRecord record = GenericRecord.create(schema);\n            ImmutableList.Builder&lt;GenericRecord&gt; builder = ImmutableList.builder();\n            builder.add(record.copy(ImmutableMap\n                    .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Bruce&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;1.0&quot;,\n                            &quot;command&quot;, &quot;grapple&quot;)));\n            builder.add(record.copy(ImmutableMap\n                    .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Wayne&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;1.0&quot;,\n                            &quot;command&quot;, &quot;glide&quot;)));\n            builder.add(record.copy(ImmutableMap\n                    .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Clark&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;2.0&quot;,\n                            &quot;command&quot;, &quot;fly&quot;)));\n            builder.add(record.copy(ImmutableMap\n                    .of(&quot;event_id&quot;, UUID.randomUUID().toString(), &quot;username&quot;, &quot;Kent&quot;, &quot;userid&quot;, 1, &quot;api_version&quot;, &quot;1.0&quot;,\n                            &quot;command&quot;, &quot;land&quot;)));\n            ImmutableList&lt;GenericRecord&gt; records = builder.build();\n\n            String filepath = table.location() + &quot;/&quot; + UUID.randomUUID().toString();\n            OutputFile file = table.io().newOutputFile(filepath);\n            DataWriter&lt;GenericRecord&gt; dataWriter =\n                    Parquet.writeData(file)\n                            .schema(schema)\n                            .createWriterFunc(GenericParquetWriter::buildWriter)\n                            .overwrite()\n                            .withSpec(PartitionSpec.unpartitioned())\n                            .build();\n            try {\n                for (GenericRecord record1 : records) {\n                    dataWriter.write(record1);\n                }\n            } finally {\n                dataWriter.close();\n            }\n\n            DataFile dataFile = dataWriter.toDataFile();\n            System.out.println(&quot;Writing file &quot; + dataFile.toString());\n            table.newAppend().appendFile(dataFile).commit();\n            System.out.println(&quot;Records written &quot; + records.size());\n\n        }\n\n\n        table = catalog.loadTable(name);\n        System.out.println(&quot;Snapshots &quot; + table.snapshots());\n        System.out.println(&quot;current snapshot &quot; + table.currentSnapshot().snapshotId());\n\n\n        CloseableIterable&lt;Record&gt; result = IcebergGenerics.read(table).useSnapshot(table.currentSnapshot().snapshotId()).build(); // the useSnapshot method should force to use only the current snapshot??\n        for (Record r : result) {\n            System.out.println(r);\n        }\n    }\n}\n</code></pre>\n<p>Adding the custom catalog implementation as asked.</p>\n<pre><code>package org.customCatalog;\n\nimport org.apache.iceberg.BaseMetastoreCatalog;\nimport org.apache.iceberg.TableOperations;\nimport org.apache.iceberg.catalog.Namespace;\nimport org.apache.iceberg.catalog.TableIdentifier;\nimport org.apache.parquet.Preconditions;\n\nimport java.io.File;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n/**\n * Extend BaseMetastoreCatalog to provide default warehouse locations and instantiate CustomTableOperations\n */\npublic class CustomCatalog extends BaseMetastoreCatalog {\n\n    private String warehousePath = &quot;C:\\\\data\\\\iceberg&quot;;\n    private String name;\n    public CustomCatalog() {\n        initialize(&quot;custom&quot;, new HashMap&lt;&gt;());\n    }\n\n    public CustomCatalog(String warehousePath) {\n        this.warehousePath = warehousePath;\n        initialize(&quot;custom&quot;, new HashMap&lt;&gt;());\n    }\n\n    @Override\n    protected TableOperations newTableOps(TableIdentifier tableIdentifier) {\n        String dbName = tableIdentifier.namespace().level(0);\n        String tableName = tableIdentifier.name();\n        // instantiate the CustomTableOperations\n        return new CustomTableOperations(warehousePath, dbName, tableName);\n    }\n\n    @Override\n    protected String defaultWarehouseLocation(TableIdentifier tableIdentifier) {\n\n        // Can choose to use any other configuration name\n        String tableLocation = warehousePath;\n\n        // Can be an s3 or hdfs path\n//      if (tableLocation == null) {\n//          throw new RuntimeException(&quot;custom.iceberg.warehouse.location configuration not set!&quot;);\n//      }\n\n        return String.format(\n                &quot;%s/%s/%s&quot;, tableLocation,\n                tableIdentifier.namespace().levels()[0],\n                tableIdentifier.name());\n    }\n\n    @Override\n    public List&lt;TableIdentifier&gt; listTables(Namespace namespace) {\n        List&lt;TableIdentifier&gt; tableIdentifiers = new ArrayList&lt;&gt;();\n        File f = new File(warehousePath + '/' +namespace);\n        if(f.exists()) {\n            for(String s : f.list()) {\n                File f2 = new File(warehousePath + '/' + namespace.levels()[0] +'/'+ s);\n                if(f2.exists() &amp;&amp; f2.isDirectory()) {\n                    tableIdentifiers.add(TableIdentifier.of(namespace, s));\n                }\n            }\n        } else {\n            System.out.println(&quot;Namespace `&quot;+namespace.levels()[0]+&quot;` doesn't exist.&quot;);\n        }\n        return tableIdentifiers;\n    }\n\n    @Override\n    public boolean dropTable(TableIdentifier identifier, boolean purge) {\n        // will implement later\n        String namespace = identifier.namespace().level(0);\n        String tableName = identifier.name();\n\n        return true;\n    }\n\n    @Override\n    public void renameTable(TableIdentifier from, TableIdentifier to) {\n        // will implement later\n        return;\n    }\n\n    // implement this method to read catalog name and properties during initialization\n    public void initialize(String name, Map&lt;String, String&gt; properties) {\n        this.name = name;\n    }\n\n    @Override public String name() {\n        return name;\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134479819,"body":"Welcome, what you&#39;re looking for could be <a href=\"https://ffmpeg.org/\" rel=\"nofollow noreferrer\">FFmpeg</a>, but this is not a suitable question for Stack Overflow. Please review <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>."},{"comment_id":134479833,"body":"And in fact, this question is <i>far</i> off-topic for this site, and suggests  that you&#39;re probably coming here too early in your code creation stage."}],"last_activity_date":1684206575,"question_id":76259065,"body":"<p>i want to use a program to automate cutting my videos into different shots with random lengths, scales/positions, and compositing effects and filters in order to replicate the editing process I go through to make music videos on Tiktok.</p>\n<p>tried using blender with python but API seemed too limited. I am new to coding but its pretty interesting to me so I want to find a free and accessible way to achieve this idea.</p>\n"},{"last_activity_date":1684206112,"question_id":76243424,"body":"<p>I want to announce during a call that can be heard on both sides caller and attending person as well in Android Kotlin/Java.</p>\n<pre><code>// Playing from assets\nval assetsFile = &quot;record2.mp3&quot;\nval descriptor: AssetFileDescriptor = context.assets.openFd(assetsFile)\n\nif (playFromAssets) {\n    mediaPlayer.setDataSource(\n        descriptor.fileDescriptor,\n        descriptor.startOffset,\n        descriptor.length\n    )\n} else {\n    mediaPlayer.setDataSource(filePath)\n}\n\ndescriptor.close()\n\nmediaPlayer.prepare()\nmediaPlayer.setVolume(1.0f, 1.0f)\nmediaPlayer.start()\n</code></pre>\n<p>I tried this but when telephonemanager state is hookOff but issue is that it just hear on caller side not attender side.</p>\n"},{"comments":[{"comment_id":134480024,"body":"Which part of the code above does not work for you? Do you get any errors? Does it yield unexpected results?"},{"comment_id":134512610,"body":"I got this error:&quot;FULL_GEO cannot be resolved or is not a field&quot;,I also want some document about how to use GeoShapeQuery."}],"last_activity_date":1684206088,"question_id":76259104,"body":"<p>Can someone give me some guide about how to use GeoShapeQuery in java?</p>\n<p>I want some code like this:</p>\n<pre><code>Query geoShape = GeoShapeQuery.of(f-&gt;f.field(ConvertUtils.FULL_GEO)\n                        .shape(s-&gt;s.relation(GeoShapeRelation.Contains).shape(shape)))._toQuery();\nQuery bool = BoolQuery.of(b-&gt;b\n                        .filter(geoShape)\n                        .should(rankFeature)\n                        )._toQuery();\n</code></pre>\n<p>the above code is from <a href=\"https://stackoverflow.com/questions/74703974/elasticsearch-8-x-java-migrating-from-querybuilders-geoshapequery-to-geoshapeque\">here</a></p>\n<p>but I want to know how to use it.</p>\n<p>I am using ElasticSearch 8.7 vesion, and I have google for couple of hours,and still can't get the tutorial about using  GeoShapeQuery in java</p>\n<p>I am tying the use GeoShapeQuery to find out whether a spot is in the area or not</p>\n"},{"comments":[{"comment_id":134479880,"body":"could you show how you are rendering that jsp page? based on the message, sounds like <code>deviceType</code> is not set"}],"answers":[{"comments":[{"comment_id":134480534,"body":"Thanks for yr heilp. But when i type this: LocalDateTime stopTime = ((DeviceType) pageContext.getAttribute(&quot;deviceType&quot;)).getStopTime(); its warning DeviceType cannot be resolved to a type"},{"comment_id":134480805,"body":"i have not import DeviceType yet. So it worked. Thanks u so much for ur help"}],"answer_id":76259095,"body":"<p>You can get the variable from the <code>pageContext</code>.</p>\n<pre><code>LocalDateTime stopTime = ((DeviceType) pageContext.getAttribute(&quot;deviceType&quot;)).getStopTime();\n// replace DeviceType with the type of the variable deviceType\n</code></pre>\n"}],"last_activity_date":1684205833,"question_id":76259023,"body":"<p>i have a problem to format time in Localdatetime pass from servlet to jsp.\nHere its my code:</p>\n<pre><code>&lt;c:forEach items=&quot;${listDeviceType}&quot; var=&quot;deviceType&quot;&gt; \n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${deviceType.ID}&lt;/td&gt;\n            &lt;td&gt;${deviceType.name}&lt;/td&gt;\n            &lt;td&gt;\n                &lt;%\n                LocalDateTime stopTime = deviceType.getStopTime();\n                DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;HH:mm&quot;);\n                String formattedStopTime = stopTime.format(formatter);\n                %&gt;\n            &lt;/td&gt;\n            &lt;td&gt;${deviceType.startTime}&lt;/td&gt;\n            &lt;td&gt;${deviceType.resetTime}&lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=&quot;admin-devicetypeedit?dTID=${deviceType.ID}&quot; class=&quot;badge rounded-pill bg-primary&quot;&gt;\n                    &lt;i class=&quot;fa fa-edit&quot;&gt;&lt;/i&gt;\n                    Edit\n                &lt;/a&gt;\n                &lt;form action=&quot;admin-devicetypedelete&quot; method=&quot;POST&quot; onsubmit=&quot;return confirm('Are you sure you want to delete this item?');&quot;&gt;\n                    &lt;input type=&quot;hidden&quot; name=&quot;dTID&quot; value=&quot;${deviceType.ID}&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;badge rounded-pill bg-danger&quot;&gt;\n                        &lt;i class=&quot;fa fa-trash-o&quot;&gt;Delete&lt;/i&gt;\n                    &lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/c:forEach&gt;\n\n</code></pre>\n<p>But i show &quot;deviceType cannot be resolved&quot;</p>\n<p>Can you help me/Thanks for all</p>\n"},{"comments":[{"comment_id":15677682,"body":"what are you exactly want to accomplish with s? can you show me a short example (pseudo code doesn&#39;t matter)"},{"comment_id":15677726,"body":"With generics you could do something like public void foo&lt;T extends Object&gt; T&gt; (List&lt;T&gt; s), if that&#39;s what you want"}],"answers":[{"comments":[{"comment_id":15677453,"body":"But you can still do the same thing on the field, so the info is stored somewhere..."},{"comment_id":15677560,"body":"Fields are different because their exact generic type is stored in the class file statically.  Johan is correct: you <i>cannot</i> do this."}],"answer_id":11798979,"body":"<p><strong>No</strong>. Due to Java's <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow\">Type Erasure</a>, all generics are stripped during the compile process. </p>\n\n<p>You can however use <code>instanceOf</code> or <code>getClass</code> on elements in the list to see if they match a specific type.</p>\n"},{"answer_id":11799141,"body":"<p><a href=\"http://tutorials.jenkov.com/java-reflection/generics.html\" rel=\"nofollow\">Here</a> is nice tutorial that shows how and when you can read generic types using reflection. For example to get String from your firs <code>foo</code> method </p>\n\n<pre><code>public void foo(List&lt;String&gt; s) {\n    // ..\n}\n</code></pre>\n\n<p>you can use this code</p>\n\n<pre><code>class MyClass {\n\n    public static void foo(List&lt;String&gt; s) {\n        // ..\n    }\n\n    public static void main(String[] args) throws Exception {\n        Method method = MyClass.class.getMethod(\"foo\", List.class);\n\n        Type[] genericParameterTypes = method.getGenericParameterTypes();\n\n        for (Type genericParameterType : genericParameterTypes) {\n            if (genericParameterType instanceof ParameterizedType) {\n                ParameterizedType aType = (ParameterizedType) genericParameterType;\n                Type[] parameterArgTypes = aType.getActualTypeArguments();\n                for (Type parameterArgType : parameterArgTypes) {\n                    Class parameterArgClass = (Class) parameterArgType;\n                    System.out.println(\"parameterArgClass = \"\n                            + parameterArgClass);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Output: <strong>parameterArgClass = class java.lang.String</strong></p>\n\n<p>It was possible because your explicitly declared in source code that List can contains only Strings. However in case </p>\n\n<pre><code>public &lt;T&gt; void foo2(List&lt;T&gt; s){\n      //reflect s somehow to get T\n}\n</code></pre>\n\n<p>T can be anything so because of type erasure it is impossible to retrieve info about precise T class.</p>\n"}],"last_activity_date":1684205619,"question_id":11798951,"body":"<p>Is there a way in Java to reflect a generic type of a local variable? I know you can do that with a field - <a href=\"https://stackoverflow.com/questions/1942644/get-generic-type-of-java-util-list\">Get generic type of java.util.List</a>. Any idea how to solve, for instance:</p>\n<pre><code>public void foo(List&lt;String&gt; s){\n  //reflect s somehow to get String\n}\n</code></pre>\n<p>Or even more general:</p>\n<pre><code>public void foo&lt;T&gt;(List&lt;T&gt; s){\n  //reflect s somehow to get T\n}\n</code></pre>\n"},{"comments":[{"comment_id":134464513,"body":"What version of Wildfly are you using?"},{"comment_id":134470706,"body":"I&#39;m using Wildfly 21"}],"last_activity_date":1684204695,"question_id":76250349,"body":"<p>I'm trying to create a SSE using JAX-RS with the following code:</p>\n<pre><code>import java.util.List;\nimport java.util.Random;\nimport java.util.concurrent.Executor;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.TimeUnit;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.sse.OutboundSseEvent;\nimport javax.ws.rs.sse.Sse;\nimport javax.ws.rs.sse.SseEventSink;\n\n@Path(&quot;events&quot;)\npublic class EventsHandler {\n\n    \n    Executor executorService = Executors.newSingleThreadExecutor();\n    @GET\n    @Produces(MediaType.SERVER_SENT_EVENTS)\n    public void sendEvents(@Context SseEventSink sseEventSink, @Context Sse sse) {\n        Random rnd = new Random();\n        IntStream rndStream = IntStream.generate(() -&gt; rnd.nextInt(90));\n        List&lt;Integer&gt; lottery = rndStream.limit(5).boxed().collect(Collectors.toList());\n        executorService.execute(() -&gt; {\n            lottery.forEach(value -&gt; {\n                try {\n                    TimeUnit.SECONDS.sleep(5);\n                    System.out.println(&quot;Sending the following value: &quot; + value);\n                    final OutboundSseEvent outboundSseEvent = sse.newEventBuilder().name(&quot;lottery&quot;)\n                            .data(Integer.class, value).build();\n                    sseEventSink.send(outboundSseEvent);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            });\n            sseEventSink.close();\n        });\n    }\n}\n</code></pre>\n<p>However, every attempt to run it on my Wildfly Server throws the message <code>Failed to set servlet request into asynchronous mode, server sent events may not work</code> with no further details.</p>\n<p>I tried to change the asyncSupport in the servlet config to true, but it had no effect.</p>\n<p><strong>EDIT 05/15/2023</strong> <br>\nThe problem was the others filters used in the web.xml, all involved filters on the servlet must enable the async support.</p>\n"},{"last_activity_date":1684203681,"question_id":76258932,"body":"<p>I am new to spring reactive framework</p>\n<p>I also understand how to handle  from <a href=\"https://www.youtube.com/watch?v=_PEPaWFs064\" rel=\"nofollow noreferrer\">this video</a>.</p>\n<p>code like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;Resource&gt; getVideo(String videoId) {\n        log.info(videoId);\n        return Mono.fromSupplier(() -&gt; resourceLoader.getResource(&quot;classpath:video/123.mp4&quot;));\n    }\n\n</code></pre>\n<p>But now my resouces is like (<a href=\"http://xxxx.com/video/123.mp4\" rel=\"nofollow noreferrer\">http://xxxx.com/video/123.mp4</a>) not like (classpath:videos/123.mp4, /usr/videos/123.mp4). For security reasons, I cannot directly provide the the URL to the front-end (if I do this, it can run normally).</p>\n<p>So my question is How to use my webflux service as a proxy for this URL, or can I even use servlet instead of reactive?</p>\n<p>Thanks for the help!</p>\n"},{"comments":[{"comment_id":134310699,"body":"The question is missing some code that’s needed to answer. What calls <code>firstProgram</code>, <code>setStartTime</code>, and <code>sendStatusMail</code>?"},{"comment_id":134342530,"body":"Since you haven&#39;t responded with details, I voted to close. Here are a few misconceptions to clear up: Variables and methods don&#39;t belong directly to packages, they belong to classes, and classes belong to packages. The fact that these classes are in different packages has no bearing on this specific problem. One of these must be true: 1) <code>setStartTime</code> was never called on the instance of <code>EndClass</code> that <code>sendStatusMail</code> was called on, or 2) it was called with an instance of <code>StartClass</code> that has not had its <code>firstProgram</code> method called, or 3) missing code sets one of the variables to null."},{"comment_id":134356721,"body":"Hi @TimMoore This code link Please read in Readme.md   <a href=\"https://github.com/lokeshparihar100/VariablePass\" rel=\"nofollow noreferrer\">github.com/lokeshparihar100/VariablePass</a>"},{"comment_id":134356809,"body":"It does not call startTime on p1 here <a href=\"https://github.com/lokeshparihar100/VariablePass/blob/fe5eab32ae926eb516c0b6e15fb14973ad0f5729/VariablePass/src/com/package3/ClassP3.java#L22\" rel=\"nofollow noreferrer\">github.com/lokeshparihar100/VariablePass/blob/&hellip;</a>"},{"comment_id":134356814,"body":"Your program is creating two different instances of <code>ClassComP1</code> and only calls startTime on one of them."},{"comment_id":134436325,"body":"In method <code>program</code>, of class <code>ClassP3</code>, you create a new <code>ClassP1</code> instance. This instance has nothing to do with the instance that you created in method <code>main</code> of class <code>MainPackage</code>. Hence variable <code>startTime</code>, of <code>ClassP1</code> instance that you created in method <code>program</code>, is null. There are several ways to solve the problem. One way is to call method <code>startTime</code> on the <code>ClassP1</code> instance that you create in method <code>program</code>."}],"answers":[{"answer_id":76258968,"body":"<p><strong>Static</strong> keyword has resolved my issue.\nIn package1 (P1.java) change as below:</p>\n<pre><code>private static startTime;\n</code></pre>\n<p>Static keyword will store the value in 1st call and save it for next use.</p>\n"}],"last_activity_date":1684203500,"question_id":76160156,"body":"<p>I have created a <code>package1</code> with a variable <code>startTime</code> and some other code. I have directly called a method (<code>firstProgram</code>) of this package from <code>JobScheduler</code> at the beginning of Project execution. Now I want this same value to <code>package3</code> at the end of Project, but I'm getting null value.</p>\n<p>P1.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.package1;\n\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class ClassP1 {\n    private String startTime;\n\n    public String getStartTime() {\n        return startTime;\n    }\n\n    public void setStartTime(String startTime) {\n        this.startTime = startTime;\n    }\n\n    public void startTime() {\n        DateFormat dF = new SimpleDateFormat(&quot;dd-MM-yyy HH:mm:ss&quot;);\n        setStartTime(dF.format(new Date()));\n        System.out.println(&quot;Desired Start Time: &quot; + getStartTime());\n    }\n}\n</code></pre>\n<p>There are many other packages called in between.</p>\n<p>P3.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.package3;\n\nimport java.text.DateFormat;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport com.package1.ClassP1;\n\npublic class ClassP3 {\n    private String endTime;\n\n    public String getEndTime() {\n        return endTime;\n    }\n\n    public void setEndTime(String endTime) {\n        this.endTime = endTime;\n    }\n\n    public void program() {\n        ClassP1 p1 = new ClassP1();\n        System.out.println(&quot;Start Time: &quot; + p1.getStartTime()); // I want this Start Time when exact job start\n        DateFormat dF = new SimpleDateFormat(&quot;dd-MM-yyy HH:mm:ss&quot;);\n        setEndTime(dF.format(new Date()));\n        System.out.println(&quot;End Time: &quot; + getEndTime());\n    }\n}\n</code></pre>\n<p>MainPackage.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package mainpackage;\n\nimport com.package3.*;\nimport com.package1.*;\n\npublic class MainPackage {\n\n    public static void main(String[] args) {\n        ClassP1 p1 = new ClassP1();\n        p1.startTime();\n\n        ClassP3 p3 = new ClassP3();\n        p3.program();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Desired Start Time: 11-05-2023 00:14:00\nStart Time: null\nEnd Time: 11-05-2023 00:14:01\n</code></pre>\n<p>Basically I want Job start time and Job End Time but I'm getting:</p>\n<pre><code>Job Start Time as **null** \n</code></pre>\n<p>How to get Job start time from call of very first method?</p>\n"},{"comments":[{"comment_id":78914073,"body":"at which point is the exception thrown? in RestTemplate or before entering the method?"},{"comment_id":78914124,"body":"At &#39;restTemplate.exchange&#39;"}],"answers":[{"comments":[{"comment_id":78921549,"body":"It is Microsoft Flow&#39;s REST URL and is https, also authorization have base64 encoded value in it., Still same problem..."},{"comment_id":78950981,"body":"Now I am getting this error, I am not aware of any SSL operations or tricks, PLEASE HELP!  <code>SEVERE: Servlet.service() for servlet [webhooks] in context with path [&#47;inventoryhooks] threw exception [Request processing failed; nested exception is org.springframework.web.client.ResourceAccessException: I&#47;O error on POST request for &quot;https:&#47;&#47;prod-03.centralindia.logic.azure.com&#47;workflows&#47;a&lt;UR&zwnj;&#8203;L&gt;&quot;: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code>"}],"answer_id":45978765,"body":"<p>Two points for you to check for this problem:</p>\n\n<ol>\n<li>if the target server is a http server, then you shouldn't use https in the url.</li>\n<li>make sure the <code>authorization</code> value is <code>base64</code> encoded.</li>\n</ol>\n\n<p><strong>Update:</strong></p>\n\n<p>Since the target server is a https server, the problem is that you haven't configured <code>ssl</code> info into the <code>RestTempalte</code>. You can refer to the following code snippet to get a ssl restTemplate:</p>\n\n<pre><code>@Configuration\npublic class RestClientConfig {\n    @Bean\n    public RestOperations restOperations(ClientHttpRequestFactory clientHttpRequestFactory) throws Exception {\n        return new RestTemplate(clientHttpRequestFactory);\n    }\n\n    @Bean\n    public HttpComponentsClientHttpRequestFactory clientHttpRequestFactory(HttpClient httpClient) {\n        return new HttpComponentsClientHttpRequestFactory(httpClient);\n    }\n\n    @Bean\n    public HttpClient httpClient(@Value(\"${keystore.file}\") String file, @Value(\"${keystore.pass}\") String password) throws Exception {\n        KeyStore trustStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        FileInputStream inStream = new FileInputStream(file);\n        try {\n            trustStore.load(inStream, password.toCharArray());\n        } finally {\n            inStream.close();\n        }\n\n        SSLContext sslcontext =\n                SSLContexts.custom().loadTrustMaterial(trustStore, new TrustSelfSignedStrategy()).build();\n        SSLConnectionSocketFactory sslsf =\n                new SSLConnectionSocketFactory(sslcontext, new String[]{\"TLSv1.2\"}, null,\n                                               null);\n        return HttpClients.custom().setSSLSocketFactory(sslsf).build();\n    }\n\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n}\n</code></pre>\n\n<p>The test case:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@ContextConfiguration(classes = RestClientConfig.class)\npublic class RestClientTest {\n\n    @Autowired\n    private RestOperations rest;\n\n    private HttpHeaders getHeaders(){\n        String plainCredentials=\"admin:admin\";\n        String base64Credentials = Base64.getEncoder().encodeToString(plainCredentials.getBytes());\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(\"Authorization\", \"Basic \" + base64Credentials);\n        return headers;\n    }\n\n    @Test\n    public void test() {\n        HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(getHeaders());\n        ResponseEntity&lt;String&gt; response = rest.exchange(url, HttpMethod.GET, request, String.class);\n        System.out.println(response.getBody());\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684202805,"question_id":45977634,"body":"<p>I am trying to hit one Microsoft Flow POST URL in my Spring Rest application using following code but it is giving me 401 error.\nMy Code:</p>\n\n<pre><code>    @RequestMapping(value = \"/hookslistner\", method = RequestMethod.POST)\n    public ResponseEntity&lt;Void&gt; recieveWebhook(@RequestBody InventorySystemModel inventory,\n            @RequestHeader(\"event\") String event,\n            @RequestHeader(\"Authorization\") String authorization) {\n// authorization = \"Basic &lt;Base64 encoded value of username:pwd&gt;\"\n\n        RestTemplate restTemplate = new RestTemplate();\n\n        org.springframework.http.HttpHeaders httpHeaders = new org.springframework.http.HttpHeaders();\n\n        String url = \"https://prod-01.centralindia.logic.azure.com/workflows/835348&lt;hiding rest of part&gt;\";        \n        String headerName = \"Authorization\";\n        httpHeaders.add(headerName, authorization);\n        httpHeaders.add(\"Content-Type\", \"application/json\");\n        HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(\"Headers\", httpHeaders);\n        System.out.println(\"&gt;&gt;&gt;&gt;&gt;&gt;&gt;\" + restTemplate.exchange(url, HttpMethod.POST, requestEntity, String.class).getBody());\n    }\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>SEVERE: Servlet.service() for servlet [webhooks] in context with path [/inventoryhooks] threw exception [Request processing failed; nested exception is org.springframework.web.client.HttpClientErrorException: 401 Unauthorized] with root cause\norg.springframework.web.client.HttpClientErrorException: 401 Unauthorized\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:91)\n.\n.\n.\n</code></pre>\n\n<p>Is it because my target url is https and my localhost is http?</p>\n\n<p>Can anyone point me what is going wrong?</p>\n"},{"last_activity_date":1684202303,"question_id":76227840,"body":"<p>I'm using springboot version 2.7.11</p>\n<h2>IndexController.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.system.controller;\n\nimport cn.hutool.core.map.MapUtil;\nimport com.google.code.kaptcha.Producer;\nimport com.system.common.Result;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport sun.misc.BASE64Encoder;\n\nimport javax.imageio.ImageIO;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.util.UUID;\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class IndexController {\n    @Autowired\n    private Producer producer;\n\n    @GetMapping(&quot;/captcha&quot;)\n    public Result captcha() throws IOException {\n        //generate captcha characters\n        String code = producer.createText();\n        //generate a uuid (a string of random characters) as the key, b7af2ad9-4be8-49dc-b0fa9b4707ddd7b3.\n        //generate a captcha, store it in the redis database, uuid as the storage key, and the captcha is the value corresponding to the storage key\n        String key = UUID.randomUUID().toString();\n        //convert the generated captcha to an image, image is an image object in memory\n        BufferedImage image = producer.createImage(code);\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        ImageIO.write(image, &quot;jpg&quot;, out);\n        //Base64 encoding\n        BASE64Encoder encoder = new BASE64Encoder();\n        String str = &quot;data:image/jpeg;base64,&quot;;\n        String base64Image = str + encoder.encode(out.toByteArray());\n        //Output the log on the server side, what is the captcha and the random code of the storage redis key\n        log.info(&quot;captcha--{}--{}&quot;, key, code);\n        //The location where the exception was thrown, which is the correct code:\n        //MapUtil.builder().put(&quot;key&quot;, key).put(&quot;captchaImg&quot;, base64Image).build());\n        // The builder() method is missing 👇👇                       \n        return Result.success(\n                MapUtil.builder().put(&quot;key&quot;, key).put(&quot;captchaImg&quot;, base64Image));\n        //return Result.success(MakeMistake());\n    }\n\n    private String MakeMistake() {\n        throw new NullPointerException(&quot;Array null&quot;);\n       //return &quot;mistake&quot;;\n    }\n}\n</code></pre>\n<h2>KaptchConfig.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.system.config;\n\nimport com.google.code.kaptcha.Constants;\nimport com.google.code.kaptcha.impl.DefaultKaptcha;\nimport com.google.code.kaptcha.util.Config;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.Properties;\n@Configuration\npublic class KaptchConfig {\n    @Bean\n    public DefaultKaptcha producer() {\n        Properties properties = new Properties();\n        //If there is a border, the default is true,  can set yes, no\n        properties.setProperty(Constants.KAPTCHA_BORDER, &quot;no&quot;);\n        // The default Color for CAPTCHA text characters is color.black\n        properties.setProperty(Constants.KAPTCHA_TEXTPRODUCER_FONT_COLOR,\n                &quot;blue&quot;);\n        // The default spacing for CAPTCHA text characters is 2\n        properties.setProperty(Constants.KAPTCHA_TEXTPRODUCER_CHAR_SPACE,\n                &quot;4&quot;);\n        // By default, the height of the CAPTCHA image is 50\n        properties.setProperty(Constants.KAPTCHA_IMAGE_HEIGHT, &quot;40&quot;);\n        // By default, the CAPTCHA image width is 200\n        properties.setProperty(Constants.KAPTCHA_IMAGE_WIDTH, &quot;120&quot;);\n        // The default CAPTCHA text character size is 40\n        properties.setProperty(Constants.KAPTCHA_TEXTPRODUCER_FONT_SIZE,\n                &quot;30&quot;);\n        Config config = new Config(properties);\n        DefaultKaptcha defaultKaptcha = new DefaultKaptcha();\n        defaultKaptcha.setConfig(config);\n        return defaultKaptcha;\n    }\n}\n</code></pre>\n<h2>GlobalException.java</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.system.common.exception;\n\nimport com.system.common.Result;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.security.access.AccessDeniedException;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.RestControllerAdvice;\n\n@Slf4j\n@RestControllerAdvice\npublic class GlobalException {\n//    AccessDeniedException accessDeniedException;\n    @ExceptionHandler(value = AccessDeniedException.class)\n    public Result handler(AccessDeniedException e){\n        log.info(&quot;spring security permission denied---{}&quot;,e.getMessage());\n        return Result.fail(&quot;permission denied&quot;);\n    }\n    @ExceptionHandler(value = IllegalArgumentException.class)\n    public Result handler(IllegalArgumentException e){\n        log.info(&quot;spring security Argument error---{}&quot;,e.getMessage());\n        return Result.fail(&quot;Argument error&quot;);\n    }\n\n    @ExceptionHandler(value = RuntimeException.class)\n    public Result handler(RuntimeException e){\n        log.info(&quot;RuntimeException---{}&quot;,e.getMessage());\n        return Result.fail(&quot;RuntimeException&quot;+e.getMessage());\n    }\n}\n\n</code></pre>\n<p>When I remove the.build() method from the IndexController.java file, I write it directly into the parameters and then return two json data. What is the cause of this problem and how can I avoid it? demoted to 2.3.12.RELEASE and the error disappears.\n<a href=\"https://i.stack.imgur.com/MZOAy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZOAy.png\" alt=\"enter image description here\" /></a>\nHelp is greatly appreciated</p>\n<p>This is the code where the problem occurs：\n<a href=\"https://github.com/HanHan666666/why-i-get-double-json\" rel=\"nofollow noreferrer\">why-i-get-double-json</a></p>\n"},{"comments":[{"comment_id":8797356,"body":"You could use an observer pattern so it&#39;s only repainted when something has changed."}],"answers":[{"comments":[{"comment_id":8797427,"body":"Thanks, but basically: I have implemented a fully functional internet relay chat system which involves paint to see what you and other people are saying. So I just need it to update continuously to show what people are saying."},{"comment_id":8797504,"body":"Yes so what you need to do is when you get a new message from the network you know that you need to repaint(). The standard approach is to have the part handling the chat messages notify some object which also has a reference to the JPanel, which calls repaint() when there is a new message. This is known as the observer pattern (as indicated by Marcus above) which just means an object registers interest in events of another object to be notified each time something happens to it (such as a new message)."},{"comment_id":8797607,"body":"But wouldn&#39;t it be a LOT simpler to just have it AUTOMATICALLY repaint? Isn&#39;t there a way to do that?"},{"comment_id":8841721,"body":"Yes, but how can it know &#39;automatically&#39; that something changed and thus it should repaint? Only you know it (in terms of your messaging protocol you are using for chatting). You are expecting a JPanel component to know what the rest of the program is doing."},{"comment_id":8841784,"body":"You might want to have a look at the Model View Controller (MVC) design pattern to understand a bit more the typical approach used. This pattern simply states that the Model (i.e. the data, in your case the messages exchanged in chat) should be separate from the View (i.e. what is being presented as a UI, in your case your JPanel), and a Controller handles events (in your case messages) and updates the data model and triggers UI updates. That is the standard approach. <a href=\"http://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller</a>"}],"answer_id":7301256,"body":"<p>What you need to do is to inform the swing component whenever you know that part of the image on your panel changed. The normal way to do this is to, as you said, call <code>repaint()</code> and if you know the rectangle that was 'invalidated' you can also indicated that.</p>\n\n<p>Depending on the events that cause the contents of the <code>JPanel</code>, you need to change your application design so that the presentation part of your application 'listens' to changes in the data underneath and repaints when these changes occur.</p>\n\n<p>There is another method called <code>paintImmediately()</code> which might do for certain situations, but you have to describe a little more your scenario and in which cases are you needing to repaint continuously.</p>\n"},{"comments":[{"comment_id":8798266,"body":"Thanks, I guess. But how would I &quot;push&quot; the updates to the client?"},{"comment_id":8799598,"body":"The example is the tutorial. For a more complex example see my edit."},{"comment_id":8800090,"body":"A couple things: 1. Thank you SO much for helping me! 2. Is there a way to delete servers? 3. In the DocumentServer.java, there is a part that says: Enumeration enum = attributes.getAttributeNames(); This code results in an error. Do you know how I could fix this?"},{"comment_id":8800237,"body":"As I mentioned this is old code. I believe &quot;enum&quot; is a reserved word in newer JDK versions. Just rename the variable. Not sure what you mean be delete servers. YOu don&#39;t delete a server because is has all the information about the connected clients. YOu connect and disconnect clients from a server. Don&#39;t remember if my code does this or not."},{"comment_id":8800498,"body":"Well, it is sweet. How can I make this code work for clients on many different computers?"},{"comment_id":8800577,"body":"First of all you need a web hosting site that will allow you to run Java applications as a server or you need to run the application on your computer which means you need a permanent IP address to other clients can connect with you.Then you need to change the way the client connects to the server. You need to use the website name (www.yourdomain.com) or the IP address of your host server. Those are the basics but I haven&#39;t done it in 7 years so I don&#39;t remember the details. Good luck."},{"comment_id":8806306,"body":"Ug. Thanks though! I will try my best!"}],"answer_id":7301731,"body":"<blockquote>\n<p>I have implemented a fully functional internet relay chat system which involves paint to see what you and other people are saying</p>\n</blockquote>\n<p>It sounds like you are trying to &quot;pull&quot; updates from the server, then you can use a SwingWorker to query the server for updates and then pulish the updates to the GUI. You would want the SwingWorker to sleep so it doesn't continuously poll the server.</p>\n<p>Read the section from the Swing tutorial on <a href=\"http://download.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Worker Threads and SwingWorker</a> for more information.</p>\n<p>Maybe a better design is for the server should &quot;push&quot; updates to the client and the client should listen for changes and then repaint itself. Maybe the <a href=\"http://download.oracle.com/javase/tutorial/networking/TOC.html\" rel=\"nofollow noreferrer\">All About Sockets</a> section will help you out.</p>\n<p>Edit:</p>\n<p>Here is some old code I havent looked at in over 5 years. The &quot;client&quot; is a simple text pane which sends each character typed to the &quot;server&quot;. The server then sends each character to any other client that is connected to the server. The idea it that the server has the most up to date Document. As one client sends a change all other clients are notified of the change. This way all clients always contain the same data. Your code should be simpler since you will only send complete messages to the server. To run the code open a dos window and type:</p>\n<blockquote>\n<p>java DocumentServer 1234</p>\n</blockquote>\n<p>This will start a server that listens to port 1234</p>\n<p>Then open another window and type</p>\n<blockquote>\n<p>java DocumentClient 1234 3</p>\n</blockquote>\n<p>This will create 3 client frames that connect to the server. Typing in either of the frames will update the server.</p>\n<p>You can get the zip file here:</p>\n<p><a href=\"https://www.camick.com/java/source/echo.zip\" rel=\"nofollow noreferrer\">https://www.camick.com/java/source/echo.zip</a></p>\n"}],"last_activity_date":1684201213,"question_id":7301205,"body":"<p>Currently, I have a <code>JFrame</code> that contains a <code>JPanel</code>. The <code>JPanel</code> is the paint for my program. Paint meaning all of my <code>Graphics g</code>.drawString things.\nRight now, it only updates the display whenever the user interacts with the <code>JFrame</code>, but I want it to continuously update (<code>repaint()</code>) itself WITHOUT using a while loop (too much CPU usage).</p>\n\n<p>Anyone know how I could do this?</p>\n"},{"answers":[{"answer_id":36564462,"body":"<p>I'm afraid you can't.</p>\n\n<p>From the <a href=\"https://projectlombok.org/features/experimental/Accessors.html\" rel=\"noreferrer\">doc</a> (emphasis is mine):</p>\n\n<blockquote>\n  <p>The <code>@Accessors</code> annotation is used <strong>to configure</strong> how lombok generates and looks for getters and setters.</p>\n</blockquote>\n\n<p>So <code>@Accessors</code> doesn't generate anything, it's just a way to configure <code>@Getter</code> and <code>@Setter</code>.</p>\n\n<hr>\n\n<p>If you really want fluent <strong>and</strong> regular getter/setter, you can add (manually) the regular one and make them delegate to the fluent ones.</p>\n"},{"comments":[{"comment_id":101625383,"body":"A bit late to the party. Found that using the Lombok annotations in the following combination that there is not need to add setters and getters. So in the above example the getId() and setId(...) can just be left out. <code>@Data @Accessors(fluent = true)</code>"},{"comment_id":101712335,"body":"@mornejvr I tried what you suggest but got the error &quot;cannot find symbol setFirstName(java.lang.String)&quot; using Lombok version 1.6.12, which version did you use?"},{"comment_id":101966135,"body":"@Bruno, I am using 1.18.8. It might be that it only works with newer versions of Lombok"},{"comment_id":104167911,"body":"I would prefer to use @Data instead of both getter and setter, though note you get more than just getter and setter with it. At least in my years of use of the library I always benefited from what Data provides."}],"answer_id":36569389,"body":"<p>Unfortunately this is impossible. You need to implement own getters and setters, and add @Getter @Setter and @Accessors(fluent = true) annotaions to achieve this. </p>\n\n<pre><code>@Getter\n@Setter\n@Accessors(fluent = true)\npublic class SampleClass {\n    private int id;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n}\n</code></pre>\n\n<p>In result you will have class like:</p>\n\n<pre><code>public class SampleClass {\n    private int id;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int id(){\n        return id;\n    }\n\n    public SampleClass id(int id){\n        this.id=id;\n        return this;\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":113217931,"body":"the question was how to get both normal getter\\setter and fluent versions."}],"answer_id":63421550,"body":"<pre><code>@Accessors(chain = true)\n@Setter @Getter\npublic class Person {\n    private String firstName;\n    private String lastName;\n    private int height;\n}\n\n....\n\n@Test\npublic void testAccessors() {\n    Person person = new Person();\n\n    person.setFirstName(&quot;Jack&quot;)\n        .setLastName(&quot;Bauer&quot;)\n        .setHeight(100);\n\n    assertEquals(&quot;Jack&quot;, person.getFirstName());\n    assertEquals(&quot;Bauer&quot;, person.getLastName());\n    assertEquals(100, person.getHeight());\n}\n</code></pre>\n"}],"last_activity_date":1684201155,"question_id":36564153,"body":"<p>I tried this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@lombok.Getter\n@lombok.Setter\n@lombok.Accessors(chain = true, fluent = true)\nprivate String prop;\n</code></pre>\n<p>And <code>@Accessor</code> took precedence and <code>getProp</code> and <code>setProp</code> are not generated.</p>\n<p>How can I make it generate this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String getProp() {\n    return prop;\n}\n\npublic String prop() {\n    //return prop;\n    return getProp(); // wow factor\n}\n\npublic void setProp(String prop) {\n    this.prop = prop;\n}\n\npublic Some prop(String prop) {\n    //this.prop = prop;\n    setProp(prop); // wow factor, again\n    return this;\n}\n</code></pre>\n"},{"last_activity_date":1684199006,"question_id":76258699,"body":"<p>I want to cache the List in redis. Below is the service method for the same:-</p>\n<pre><code>@Autowired\nprivate RedisTemplate&lt;String, Object&gt; redisTemplate;\n\n@Cacheable(value = &quot;notes&quot;, key = &quot;#userId&quot;)\npublic ResponseEntity&lt;?&gt; getAllNotes(Integer userId) {\n\n        HashOperations&lt;String, String, Object&gt; hashOperations = redisTemplate.opsForHash();\n        //Check if the cacheKey contains this userId\n        if (hashOperations.hasKey(cacheKey, userIdAsKey)) {\n            List&lt;NoteResponse&gt; noteResponses = (List&lt;NoteResponse&gt;) hashOperations.get(cacheKey, userIdAsKey);\n            return ResponseEntity.ok(noteResponses);\n        }\n\n        List&lt;Note&gt; notes = noteRepository.findAllByUserId(userId);\n        List&lt;NoteResponse&gt; noteResponses = Helper.getNoteResponse(notes);\n        hashOperations.put(cacheKey, userIdAsKey, noteResponses);\n        return ResponseEntity.ok(noteResponses);\n}\n</code></pre>\n<p>but i am getting this exception: java.lang.IllegalArgumentException: DefaultSerializer requires a Serializable payload but received an object of type [org.springframework.http.ResponseEntity]</p>\n"},{"comments":[{"comment_id":134479546,"body":"Receiver type must be the subclass, in this case <code>Cat</code>. <code>Cat</code> can&#39;t call <code>.eat()</code> on a <code>Dog</code>."}],"last_activity_date":1684198263,"question_id":76249027,"body":"<p>Let's say I have a class <code>Animal</code> which have a protected function <code>eat()</code>. I want to access <code>eat()</code> function in <code>Cat</code> class that extends Animal class in different package.\nThere are 4 ways out of which 2 are working and 2 are not, I am looking for some explanation of this behaviour.</p>\n<pre><code>package package1;\n\npublic class Animal {\n    protected void eat(){\n        System.out.println(&quot;Animal is eating&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>package package2;\n\nimport package1.Animal;\n\npublic class Cat extends Animal {\n    public void provideFood(){\n        Animal cat = new Animal();\n        System.out.println(&quot;food provided&quot;);\n        cat.eat(); //---&gt; it doesn't compile\n\n        Animal cat1 = new Cat();\n        System.out.println(&quot;food provided&quot;);\n        cat1.eat(); //--&gt; it doesn't compile\n\n        Cat cat2 = new Cat();\n        System.out.println(&quot;food provided&quot;);\n        cat2.eat();   //--&gt; it compiles\n\n        System.out.println(&quot;food provided&quot;);\n        super.eat();   //--&gt; it compiles\n    }\n}\n</code></pre>\n<p>I tried the code in local to see which one works but I am looking for explanation</p>\n"},{"comments":[{"comment_id":112591995,"body":"I assume that <code>checkEntityName()</code> throws an exception if the parameter is not all valid identifier characters? If so, then your code is safe, but Veracode doesn&#39;t know what <code>checkEntityName()</code> does, so it doesn&#39;t know you already guarded against SQL injection. --- Do a web search for <a href=\"https://www.google.com/search?q=Veracode+ignore\" rel=\"nofollow noreferrer\"><code>Veracode ignore</code></a> to find options for suppressing the issue for that particular code."},{"comment_id":118959309,"body":"I would love to know if you made any progress on this."}],"answers":[{"answer_id":76251115,"body":"<p>If it still gives an exception even using <code>PrepareStatement</code> try to sanitize the native SQL query string by using the below code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String sanitizeQuery(String query) {\n    return query\n        .chars()\n        .mapToObj(i -&gt; (char) i)\n        .map(String::valueOf)\n        .collect(Collectors.joining());\n}\n</code></pre>\n"}],"last_activity_date":1684196845,"question_id":63671132,"body":"<p>I have this SQL query written in JDBC which contains dynamic table and fields names:</p>\n<pre><code>    private String checkDimension(String tenantId, String prefix, Long schemaMetaId, Long transactionalMetaId,\n                                  String dimension, String dimensionValue) {\n        DataSource tenantDataSource = tenantDataSourceProvider.getTenantDataSource(checkEntityName(tenantId));\n        try (Connection connection = tenantDataSource.getConnection()) {\n\n            String sql = String.format(&quot;select * from \\&quot;%s_%s\\&quot; input_file join \\&quot;DIMENSION_VALUES_%s\\&quot; dv on &quot; +\n                            &quot;(dv.\\&quot;DIMENSION\\&quot; = ? and dv.\\&quot;DIMENSION_VALUE\\&quot; = input_file.\\&quot;%s\\&quot;) limit 1&quot;,\n                    checkEntityName(prefix), checkEntityName(schemaMetaId.toString()),\n                    checkEntityName(transactionalMetaId.toString()), checkEntityName(dimensionValue));\n            try (PreparedStatement statement = connection.prepareStatement(sql)) {\n                statement.setString(1, dimension);\n                try (ResultSet resultSet = statement.executeQuery()) {\n                    if (resultSet.next()) {\n                        return &quot;OK&quot;;\n                    } else {\n                        return &quot;Values do not match&quot;;\n                    }\n                }\n            }\n        } catch (SQLException exception) {\n            throw new IllegalStateException(exception);\n        }\n    }\n\n</code></pre>\n<p>For mitigation flaws I am using function <code>checkEntityName</code> which should silent them (make them false positive during Veracode scan)</p>\n<pre><code>    @SQLQueryCleanser\n    static String checkEntityName(String entityName) {\n        if (!entityName.matches(&quot;^[-a-zA-Z0-9_]*$&quot;)) {\n            throw new SecurityException(String.format(&quot;Invalid name for entity: %s&quot;, entityName));\n        }\n        return entityName;\n    }\n</code></pre>\n<p>But Veracode is still reporting this issue:</p>\n<p>Flaw Id: 1433</p>\n<p>Description: This database query contains a SQL injection flaw. The call to java.sql.Statement.executeQuery() constructs a dynamic SQL query using a variable derived from untrusted input. An attacker could exploit this flaw to execute arbitrary SQL queries against the database. The first argument to executeQuery() contains tainted data from the variable format(). The tainted data originated from an earlier call to java.sql.Statement.executeQuery.</p>\n<p>Remediation: Avoid dynamically constructing SQL queries. Instead, use parameterized prepared statements to prevent the database from interpreting the contents of bind variables as part of the query. Always validate untrusted input to ensure that it conforms to the expected format, using centralized data validation routines when possible.</p>\n<p>Can you please give me advice how to solve this? Thank you :)</p>\n"},{"answers":[{"comments":[{"comment_id":134481860,"body":"The writing of the two buttons does not change, maybe it will be another property?  Is there any way to know what the default colors are? For example I would like to keep the same colors as the background, but if I take it off it doesn&#39;t work well."},{"comment_id":134486316,"body":"Your customThemeAlertDialog is inheriting <code>Theme.MaterialComponents.DayNight.Dialog.Alert</code>?"},{"comment_id":134487170,"body":"<a href=\"https://i.stack.imgur.com/QkHsJ.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/QkHsJ.png</a>"},{"comment_id":134488080,"body":"Strange. Did you create for the two theme versions, Night and Day? Here it works normally, I tested it.  <a href=\"https://i.stack.imgur.com/rryBE.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/rryBE.png</a>"},{"comment_id":134488171,"body":"Tried both, same thing.  The only thing that changes is that in the Day version there is <code>&lt;style name=&quot;Theme.Test&quot; parent=&quot;Base.Theme.Test&quot; &#47;&gt;</code>"},{"comment_id":134488250,"body":"Try to put all the items that are in the image in the answer I&#39;ll try if they work."},{"comment_id":134488512,"body":"just the modification <a href=\"https://i.stack.imgur.com/C1jV5.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/C1jV5.png</a>"},{"comment_id":134488554,"body":"Can you pass me your AndroidManifest file?"},{"comment_id":134488820,"body":"<a href=\"https://pastebin.com/sg7uk5DN\" rel=\"nofollow noreferrer\">pastebin.com/sg7uk5DN</a>"},{"comment_id":134489879,"body":"I haven&#39;t identified any reason for errors, I&#39;ve posted the full version of the App I&#39;m using, hope it helps <a href=\"https://github.com/kllysmman/stackoverflow\" rel=\"nofollow noreferrer\">github.com/kllysmman/stackoverflow</a>"},{"comment_id":134492217,"body":"Tried the two issues first it was <code>&lt;item name=&quot;android:alertDialogTheme&quot;&gt;</code> instead it had to be<code>&lt;item name=&quot;alertDialogTheme&quot;&gt;</code>."},{"comment_id":134492231,"body":"I had to use the following libraries: <code>import androidx.appcompat.app.AppCompatActivity import androidx.appcompat.app.AlertDialog</code>"}],"answer_id":76258570,"body":"<p>How you limited this a only xml files, you can stared with you theme. You're gonna need create a new theme that inherits the desired characteristics, let's use <code>Theme.MaterialComponents.DayNight.Dialog.Alert</code> that will serve for you.  Then override the theme defaut properts of AlertDialog. You can make this it.</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Base.Theme.Test&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n    &lt;!-- Customize your light theme here. --&gt;\n    &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_light_primary&lt;/item&gt; --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=&quot;alertDialogTheme&quot;&gt;@style/Theme.CustomThemeAlertDialog&lt;/item&gt;\n&lt;/style&gt;\n&lt;style name=&quot;Theme.CustomThemeAlertDialog&quot; parent=&quot;Theme.MaterialComponents.DayNight.Dialog.Alert&quot;&gt;\n    &lt;!--Background color--&gt;\n    &lt;item name=&quot;android:background&quot;&gt;#0000ff&lt;/item&gt;\n\n    &lt;!--tittle color--&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;#000000&lt;/item&gt;\n\n    &lt;!--text color of message--&gt;\n    &lt;item name=&quot;android:textColorPrimary&quot;&gt;#ff0000&lt;/item&gt;\n\n    &lt;!--text color of buttons--&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;#FFFF00&lt;/item&gt;\n&lt;/style&gt;\n&lt;style name=&quot;Theme.Test&quot; parent=&quot;Base.Theme.Test&quot; /&gt;\n</code></pre>\n\n<p>The default result of an simple AlertDialog is this it (without your custom View)<a href=\"https://i.stack.imgur.com/Nf4Jt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nf4Jt.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And to finish add the properts <code>android:textColor=&quot;@color/color_text_url&quot;</code> (for Url text color) and <code>android:backgroundTint=&quot;@color/color_line_input_url&quot;</code> (for Line color of textInput when focused) in your <code>AutoCompleteTextView</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:padding=&quot;4dp&quot;&gt;\n\n&lt;AutoCompleteTextView\n    android:id=&quot;@+id/input&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:hint=&quot;Text&quot;\n    android:imeOptions=&quot;actionDone&quot;\n    android:inputType=&quot;text&quot;\n    android:textColor=&quot;@color/color_text_url&quot;\n    android:backgroundTint=&quot;@color/color_line_input_url&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>And is that</p>\n"}],"last_activity_date":1684196776,"question_id":76257896,"body":"<p>I would like to change the colors of the AlertDialog elements using only xml.</p>\n<p>The elements I want to change using xml are:</p>\n<ol>\n<li>Background color of the AlertDialog</li>\n<li>Url text color</li>\n<li>Line color of textInput when focused</li>\n<li>Color of the text on the two AlertDialog buttons</li>\n</ol>\n<p>I would like the size of the AlertDialog to remain unchanged.</p>\n<p>I tried using the styles: <a href=\"https://stackoverflow.com/questions/27965662/how-can-i-change-default-dialog-button-text-color-in-android-5\">How can I change default dialog button text color in android 5</a></p>\n<p>But they don't work and the size of the AlertDialog changes, it shrinks.</p>\n<p>Can you give me a hand?</p>\n<p><a href=\"https://i.stack.imgur.com/TxbGA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TxbGA.png\" alt=\"enter image description here\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void AlertDialog() {\n        View viewInflated = LayoutInflater.from(MainActivity.this).inflate(R.layout.text_input, null);\n        final EditText input = (EditText) viewInflated.findViewById(R.id.input);\n        AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.this);\n        builder.setTitle(&quot;Url&quot;);\n        builder.setView(viewInflated);\n        builder.setPositiveButton(android.R.string.ok, (dialog, which) -&gt; {\n            dialog.dismiss();\n            String text = input.getText().toString();\n            if (!text.equals(&quot;&quot;)) pinAppWidget(text);\n        });\n        builder.setNegativeButton(android.R.string.cancel, (dialog, which) -&gt; dialog.cancel());\n        builder.show();\n    }\n</code></pre>\n<p>text_input.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:padding=&quot;4dp&quot;&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/input&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text&quot;\n        android:imeOptions=&quot;actionDone&quot;\n        android:inputType=&quot;text&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>values/themes.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Base.Theme.Test&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Customize your light theme here. --&gt;\n        &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_light_primary&lt;/item&gt; --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=&quot;Theme.Test&quot; parent=&quot;Base.Theme.Test&quot; /&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>values-night/themes.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Base.Theme.Test&quot; parent=&quot;Theme.Material3.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Customize your dark theme here. --&gt;\n        &lt;!-- &lt;item name=&quot;colorPrimary&quot;&gt;@color/my_dark_primary&lt;/item&gt; --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134479545,"body":"See: <a href=\"https://source.android.com/docs/devices/automotive/voice/voice_interaction_guide/app_development\" rel=\"nofollow noreferrer\">source.android.com/docs/devices/automotive/voice/&hellip;</a> and <a href=\"https://source.android.com/docs/devices/automotive/voice/voice_interaction_guide/app_development#hotwords\" rel=\"nofollow noreferrer\">source.android.com/docs/devices/automotive/voice/&hellip;</a> but the permissions for true &quot;wake word&quot; are system level so probably with a custom ROM."}],"last_activity_date":1684196341,"question_id":76258663,"body":"<p>Im building a personal app to use in my car, I want to control some apps from this service/app using only voice like Google does with &quot;Ok google&quot; to trigger the service. So far I was able to use the android built in speechRecognizer to start creating my app, but I still nned to use a button to start listen for a task, and then on the onResults use the 'if (match.toLowerCase().contains(&quot;What was said&quot;))' to do something. Can I implement the &quot;Ok google&quot; to trigger my app voice recognition with a custom keyword?</p>\n<p>I tried to use pocketsphinx demo from github but I think its a little to old, had a lot of issues with version wasted hours testing to see if I could make it work but I gave up.</p>\n"},{"comments":[{"comment_id":134478349,"body":"Remove the <code>new</code> before it. And regenerate your token."},{"comment_id":134478498,"body":"Duplicate of <a href=\"https://stackoverflow.com/q/64002664/642706\"><i>cannot resolve symbol &#39;createDefault&#39; in JDABuilder</i></a>"}],"answers":[{"answer_id":76258420,"body":"<h1>Delete the <code>new</code></h1>\n<p>The method <code>JDABuilder.createDefault</code> is a static <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">factory method</a>. Calling a method returns an object.</p>\n<p>So eliminate <code>new</code>. Use <code>new</code> only to access <a href=\"https://en.wikipedia.org/wiki/Constructor_(object-oriented_programming)\" rel=\"nofollow noreferrer\">constructor</a>.</p>\n<p>Change this:</p>\n<pre><code>JDABuilder jdaBuilder = new JDABuilder.createDefault(Token_Api);\n</code></pre>\n<p>… to this:</p>\n<pre><code>JDABuilder jdaBuilder = JDABuilder.createDefault(Token_Api);\n</code></pre>\n<hr />\n<p>You will find other examples of static factory methods in the <em>java.time</em> classes. For example, to capture today’s date:</p>\n<pre><code> LocalDate today = LocalDate.now() ;  // Capture the current date as seen in the JVM’s current default time zone.\n</code></pre>\n<p>Or represent a specific date:</p>\n<pre><code>LocalDate localDate = LocalDate.of( 2024 , Month.JANUARY , 23 ) ;\n</code></pre>\n<hr />\n<p>By the way, <code>static</code> is <em>not</em> object-oriented.</p>\n<p>A static factory method is some code (a method) attached arbitrarily to a class itself (<code>static</code>) rather than to instances (objects) of that class. You can think of this as a hack, but a handy hack, for when we want to make available some behavior without the state and other methods contained in an object.</p>\n<p>This distinction may not be clear when starting out learning <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented programming</a>. Do not worry about it now, but revisit the idea when you have more experience.</p>\n"}],"last_activity_date":1684195496,"question_id":76258248,"body":"<p>Working on a bot for discord in Java (JDA of course), there was a similar problem of compilation, I’m a beginner, in half a day thinking, tell me the solution, please. IDE - Intellij IDEA (Maven)</p>\n<p>main code:</p>\n<pre><code>package me.n1ghtsoul;\n\n\nimport net.dv8tion.jda.api.JDA;\nimport net.dv8tion.jda.api.JDABuilder;\nimport net.dv8tion.jda.api.entities.Activity;\n\npublic class Bot {\n    private static JDA jda;\n    private static final String Token_Api = &quot;MTEwNzcxMzEzNDUxMDIzMTYxNQ.G7NnYJ.Zcy_Ij80ey0oLivIKZ4pam6pP6A8MwG3pp4Ndk&quot;;\n\n    public static void main(String[] args) {\n        botInit();\n    }\n\n    private static void botInit(){\n        JDABuilder jdaBuilder = new JDABuilder.createDefault(Token_Api);\n\n        jda = jdaBuilder.setActivity(Activity.listening(&quot;крутая музыка&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;me.n1ghtsoul&lt;/groupId&gt;\n    &lt;artifactId&gt;NullifierReworked&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\n            &lt;artifactId&gt;JDA&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0-beta.9&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;club.minnced&lt;/groupId&gt;\n                    &lt;artifactId&gt;opus-java&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>17:47\njava: cannot find symbol\n  symbol:   class createDefault\n  location: class net.dv8tion.jda.api.JDABuilder\n</code></pre>\n<p>Looking for answers on the forums, found a couple of tips:</p>\n<ol>\n<li>Create jar and somehow do something with the plugin that one of the conversation participants</li>\n<li>Reinstall IDE</li>\n<li>Import packages and classes incorrectly</li>\n</ol>\n<hr />\n<p>Actually, that’s all I’ve tried so far.  It’s all in vain.</p>\n"},{"last_activity_date":1684194999,"question_id":76258595,"body":"<p>I currently am trying to make a program that accesses a s3 bucket with a different IAM role depending on the users role and am in the testing stages. I have the following code</p>\n<pre><code>@Bean\n    public AmazonS3 s3client() {\n\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        if (auth != null &amp;&amp; auth.getAuthorities().stream().anyMatch(a -&gt; a.getAuthority().equals(&quot;ROLE_ADMIN&quot;))) {\n            awsId = &quot;aws id&quot;;\n            awsKey = &quot;secret id&quot;;\n            region = &quot;us-east-2&quot;;\n        }\n        else {\n            awsKey = &quot;fake&quot;;\n            awsId = &quot;fake&quot;;\n            region = &quot;us-east-2&quot;;\n        }\n\n        BasicAWSCredentials awsCredentials = new BasicAWSCredentials(awsId, awsKey);\n        AmazonS3 amazonS3Client = AmazonS3ClientBuilder.standard()\n                .withRegion(Regions.fromName(region))\n                .withCredentials(new AWSStaticCredentialsProvider(awsCredentials))\n                .build();\n\n        return amazonS3Client;\n    }\n</code></pre>\n<p>which in theory should assign the real id and key when using an account with the admin role and a fake id if the account doesnt have it. Regardless of the account I use, it always enters the else block. Ive tried changing the role to &quot;ADMIN&quot; instead and it doesnt make a difference. I have some extra code in my service to print out the roles of the user and it returns [ROLE_ADMIN, ROLE_USER] which should mean that the account should have the right permissions.</p>\n"},{"comments":[{"comment_id":134479012,"body":"Sorry, I forgot my crystal ball in the office, you may have to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"last_activity_date":1684194936,"question_id":76258589,"body":"<p>I am running a Kotlin Ktor project with Gretty. After I ran <code>./gradlew appRun</code>, console gave me <code>java.lang.IllegalStateException: Not file or doesn't exist: /build/classes/java/main</code>.</p>\n<p><code>/build/classes/java/main</code> is definitely not existing because the project is a kotlin project. Can any one please help me with this? and tell me how I can config this on build.gradle to fix this issue?</p>\n<p><code>Kotlin Version 1.8.21</code>\n<code>Gretty Version 3.0.9</code>\n<code>Ktor Version 2.3.0</code></p>\n<p>tried to modify classpath on gretty, but console is still showing the same issue</p>\n"},{"answers":[{"comments":[{"comment_id":134479358,"body":"Note 1000!!! Spectacular, sensational. Thank you very much!!!"},{"comment_id":134479389,"body":"I just adapted it like this now: int btnHour = Interger.parseInt(resultBtn[0]+resultBtn[1]; The sams with hHour.... And only If (btnHour &lt;= hHour){}"}],"answer_id":76258569,"body":"<p>It's just my logic:\nFirst you need to try to separate the string from button.\nYou can do it using the split function, example:</p>\n<pre><code>String btnString= btn.getText();\nString[] resultBtn = btnString.split(&quot;:&quot;);\nString hour = &quot;10:15&quot;;\nString[] resultHour = hour.split(&quot;:&quot;);\n</code></pre>\n<p>With this you have two parts, resultBtn[0] is hours and resultBtn[1] minutes.\nIt's the same with resultHour.\nNow I guess we are ready to do your logic, with some diferences:</p>\n<pre><code>// To make easier\n   int btnHour = Integer.parseInt(resultBtn[0]);\n   int btnMinutes = Integer.parseInt(resultBtn[1]); \n   int hHour = Integer.parseInt(resultHour[0]);\n   int hMinutes = Integer.parseInt(resultHour[1]);\n\n   if (btnHour &lt;= hHour &amp;&amp; btnMinutes &lt;= hMinutes) { \n       btn.setBackgroundColor(...); \n    }\n</code></pre>\n"}],"last_activity_date":1684194373,"question_id":76258213,"body":"<p>I want to change the color of the button if the value it contains is less than X. Example:</p>\n<pre><code>String hour = &quot;10:15&quot;;\nButton btn = new Button();\nbtn.setText(&quot;10:10&quot;); \n</code></pre>\n<p>10:10 is the hours:minutes value\nIf 10:10 is less than hour (10:15) = btn.setBackgroundColor(...).</p>\n<p>Theo logic:</p>\n<pre><code>if (btn.getText &lt;= hour) { \nbtn.setBackgroundColor(...); \n}\n</code></pre>\n<p>Help me PLS, Thank you!!!</p>\n<p>I've tried several things, something ate the logic above using several methods, but it didn't work</p>\n"},{"comments":[{"comment_id":134476713,"body":"&quot;would like to know if I am actually adversely affecting runtime or memory usage performance&quot; - did you <b>try using it</b>, and profiling the memory usage and timing results?"},{"comment_id":134476815,"body":"@Karl Not in an isolated environment there are a lot of other changes in the current test batch we are doing so it would take sometime to isolate and profile just the lambda changes."},{"comment_id":134478792,"body":"Short answer: lambdas are just as fast to capture and execute as inner classes, sometimes faster.  Don&#39;t worry about it; write clear maintainable code."},{"comment_id":134479532,"body":"@BrianGoetz do you think there is any chance that my lambda usage might trigger runtime compilation of the bytecode? It looks like the advantage of non lambda inline is that it&#39;s guaranteed that type bytecode is generated at compile time. Greatly appreciate your feedback."},{"comment_id":134479682,"body":"And? Generating bytecode is cheap. And only has to be done once. Otoh, if you do that during compile time, you have to read the bytes from disk, which might be slower. Related quote from Donald Knuth: &quot;We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of all evil. Yet we should not pass up our opportunities in that critical 3%&quot;."},{"comment_id":134486815,"body":"Letting aside <a href=\"https://stackoverflow.com/q/34585444/2711488\">the very first lambda expression of the entire runtime</a>, generating bytecode will be faster than loading the precompiled bytecode from the external storage, in most cases. And that’s <i>today</i>; future versions might not need to generate bytecode to construct the binding. Since this is done by the runtime, you will get such improvements for free."}],"last_activity_date":1684194093,"question_id":76257173,"body":"<p>I have been using java lambdas in place of normal inline declarations in our java ui code thinking that it is just shorter and more concise syntax. But have not seen any specs indicating this and the aws lambda service seems to dominate the search results.</p>\n<p>I came across this <a href=\"https://blogs.oracle.com/javamagazine/post/behind-the-scenes-how-do-lambda-expressions-really-work-in-java\" rel=\"nofollow noreferrer\">site</a> which shows how much underlying provision javac puts into a lambda declaration and would like to know if I am actually adversely affecting runtime or memory usage performance in anyway for using java lambda syntax over the pre-lambda approach when doing inline calls.</p>\n<p>Our implementation uses jre 8.</p>\n<p>For example using:</p>\n<pre><code>final ActionListener cancelButtonListener = (final ActionEvent ae) -&gt; {\n    // implementation w references to static or parent class member. ae argument is not referenced.\n};\n</code></pre>\n<p>instead of</p>\n<pre><code>final ActionListener cancelButtonListener = new ActionListener() {\n    @Override\n    public void actionPerformed(final ActionEvent e) {\n        // implementation w references to static or parent class member.  ae argument is not referenced.\n    }\n};\n</code></pre>\n<p>and</p>\n<pre><code>SwingUtilities.invokeLater(() -&gt; {\n    // implementation w references to static or parent class member.\n});\n</code></pre>\n<p>instead of</p>\n<pre><code>StringUtilities.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        // implementation w references to static or parent class member.\n    }\n});\n</code></pre>\n<p>Found a related <a href=\"https://is-lambda-expression-in-java-8-reduce-execution-time\" rel=\"nofollow noreferrer\">post here</a>. Also have found indicators that some lambdas will be compiled into byte code at runtime. I feel like my inline to lambda conversion should not affect performance would like to know what this community thinks.</p>\n"},{"answers":[{"comments":[{"comment_id":132093406,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74824150/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":74824150,"body":"<p>I figured out one way is using MDC.\nPlease check out this link for more information:\n<a href=\"https://stackoverflow.com/questions/46563316/how-to-use-mdc-of-logback-and-slf4j-with-spring-boot-to-capture-unique-tracking\">How to use MDC of logback and SLF4J with spring boot to capture unique tracking in the POST request json?</a></p>\n"},{"answer_id":76258471,"body":"<p>This is how I implemented this using Spring Boot v2.7.</p>\n<p>First define a custom filter that will add the user data to MDC:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.slf4j.MDC\nimport org.springframework.security.core.AuthenticatedPrincipal\nimport org.springframework.security.core.context.SecurityContextHolder\nimport org.springframework.stereotype.Component\nimport org.springframework.web.filter.OncePerRequestFilter\nimport javax.servlet.FilterChain\nimport javax.servlet.http.HttpServletRequest\nimport javax.servlet.http.HttpServletResponse\n\n@Component\nclass UserMdcFilter : OncePerRequestFilter() {\n\n    companion object {\n        private const val USER_MDC_KEY = &quot;user&quot;\n    }\n\n    override fun doFilterInternal(\n        request: HttpServletRequest,\n        response: HttpServletResponse,\n        filterChain: FilterChain\n    ) {\n        val principal = SecurityContextHolder.getContext().authentication?.principal as? AuthenticatedPrincipal\n        if (principal != null) {\n            val user = principal.name\n            MDC.put(USER_MDC_KEY, user)\n        }\n\n        try {\n            filterChain.doFilter(request, response)\n        } finally {\n            MDC.remove(USER_MDC_KEY)\n        }\n    }\n}\n</code></pre>\n<p>Then, add the filter in your Spring Security configuration.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// I do it after FilterSecurityInterceptor, otherwise authenticated context is not set\nhttp.addFilterAfter(userMdcFilter, FilterSecurityInterceptor::class.java)\n</code></pre>\n<p>You can view the data by modifying your log pattern to include MDC:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;Pattern&gt;\n            %clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd HH:mm:ss.SSS}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr([%mdc]){yellow} %clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}\n        &lt;/Pattern&gt;\n        &lt;charset&gt;utf8&lt;/charset&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>This is the default Spring console log pattern, except <code>%clr([%mdc]){yellow}</code> is added.</p>\n<p>End result:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-05-16 01:23:14.346 DEBUG [,06bfe7e72b5007e0,06bfe7e72b5007e0] 77570 --- [nio-8080-exec-7] [user=bf11c59b-eaca-47cd-a9d4-77cd62181e55] o.s.jdbc.core.JdbcTemplate               : Executing prepared SQL query\n</code></pre>\n"}],"last_activity_date":1684194064,"question_id":74054123,"body":"<p>How can I add current user's details(user email ,...) in every logger.info() method?</p>\n<p>it seems</p>\n<pre><code>private final Logger logger = LoggerFactory.getLogger(sth.class)\n</code></pre>\n<p>instantiates\n<code>ch.qos.logback.classic.Logger</code>type by default.</p>\n<p>as far as <code>ch.qos.logback.classic.Logger</code> is a final class so I can't extend to add my functionality.</p>\n<p>what is the solution?</p>\n"},{"comments":[{"comment_id":134511062,"body":"Welcome to Stack Overflow! Can you please provide a [minimal reproducible example]() that demonstrates the issue? The easiest way to do this might be to fork the Google Maps Android API Samples Repository and modify one of the existing demo activities:  <a href=\"https://github.com/googlemaps/android-samples\" rel=\"nofollow noreferrer\">github.com/googlemaps/android-samples</a>"}],"last_activity_date":1684193993,"question_id":76254813,"body":"<p>I am building an Android Application which shows nearby hospitals and medical buildings. I send a request to the server through the Google API and I expect a URL of nearby hospitals and medical buildings from my current location but I don't get any. I don't know what happened. Please I request you all to help me.</p>\n<p>MapActivity.java</p>\n<pre><code>package com.example.findnearbyfinder;\n\nimport androidx.annotation.NonNull;\nimport androidx.core.app.ActivityCompat;\nimport androidx.fragment.app.FragmentActivity;\nimport android.Manifest;\n\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageButton;\nimport android.widget.Toast;\n\nimport com.google.android.gms.location.FusedLocationProviderClient;\nimport com.google.android.gms.location.LocationCallback;\nimport com.google.android.gms.location.LocationRequest;\nimport com.google.android.gms.location.LocationResult;\nimport com.google.android.gms.location.LocationServices;\nimport com.google.android.gms.location.Priority;\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.OnMapReadyCallback;\nimport com.google.android.gms.maps.SupportMapFragment;\nimport com.google.android.gms.maps.model.LatLng;\n//import com.google.android.gms.maps.model;\nimport com.google.android.gms.maps.model.MarkerOptions;\nimport com.example.findnearbyfinder.databinding.ActivityMapsBinding;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\n\npublic class MapsActivity extends FragmentActivity implements\n        OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    private ActivityMapsBinding binding;\n    private FusedLocationProviderClient fusedLocationProviderClient;\n    private static final int Request_code = 181;\n    private double lat, lng;\n    ImageButton hospital,medical;\n   // String google_map_api = &quot;AIzaSyAjZbKQ8PhQeCxYb8RhcH0uk-6CfvwOs5I&quot;;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMapsBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        hospital = findViewById(R.id.hospital);\n        medical = findViewById(R.id.medical);\n\n        fusedLocationProviderClient =\n                LocationServices.getFusedLocationProviderClient(this.getApplicationContext());\n\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                .findFragmentById(R.id.map);\n        mapFragment.getMapAsync(this);\n\n        hospital.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                StringBuilder stringBuilder = new StringBuilder\n                        (&quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json?&quot;);\n                stringBuilder.append(&quot;location&quot; + lat +&quot; , &quot;+ lng);\n                stringBuilder.append(&quot;&amp;radius = 1000000&quot;);\n                stringBuilder.append(&quot;&amp;type=hospital&quot;);\n                stringBuilder.append(&quot;&amp;sensor = true&quot;);\n                stringBuilder.append(&quot;&amp;key=&quot;+getResources().getString(R.string.google_maps_key));\n\n\n                String url = stringBuilder.toString();\n                Object dataFatch[]=new Object[2];\n                dataFatch[0] = mMap;\n                // url;\n               // Object url;\n                dataFatch[1] = url;\n\n                FetchData fetchData = new FetchData();\n                fetchData.execute(dataFatch);\n\n            }\n        });\n\n        medical.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                StringBuilder stringBuilder = new StringBuilder\n                        (&quot;https://maps.googleapis.com/maps/api/place/nearbysearch/json?&quot;);\n                stringBuilder.append(&quot;location&quot; +lat+&quot;,&quot;+lng);\n                stringBuilder.append(&quot;&amp;radius = 1000000&quot;);\n                stringBuilder.append(&quot;&amp;type=medical&quot;);\n                stringBuilder.append(&quot;&amp;sensor = true&quot;);\n                stringBuilder.append(&quot;&amp;key=&quot;+getResources().getString(R.string.google_maps_key));\n\n\n                String url = stringBuilder.toString();\n                Object dataFetch[]=new Object[2];\n                dataFetch[0] = mMap;\n                // url;\n                dataFetch[1] = url;\n\n                FetchData fetchData = new FetchData();\n                fetchData.execute(dataFetch);\n\n            }\n        });\n    }\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\n     * we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device, the user will be prompted to install\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\n     * installed Google Play services and returned to the app.\n     */\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n\n        // Add a marker in Sydney and move the camera\n       getCurrentLocation();\n    }\n\n    private void getCurrentLocation()\n    {\n        if(ActivityCompat.checkSelfPermission(this , Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED\n                &amp;&amp; ActivityCompat.checkSelfPermission\n                (this , Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED)\n        {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION},Request_code);\n            return;\n        }\n\n        long locationInterval = 60000;\n        long locationFastestInterval = 5000;\n        long locationMaxWaitTime = 5000;\n        LocationRequest locationRequest = new LocationRequest.Builder(Priority.PRIORITY_HIGH_ACCURACY, locationInterval)\n                .setWaitForAccurateLocation(false)\n                .setMinUpdateIntervalMillis(locationFastestInterval)\n                .setMaxUpdateDelayMillis(locationMaxWaitTime)\n                .build();\n        LocationCallback locationCallback=new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                Toast.makeText(getApplicationContext(), &quot;Location result is=&quot;+locationRequest, Toast.LENGTH_SHORT).show();\n\n                if(locationRequest==null)\n                {\n                    Toast.makeText(MapsActivity.this, &quot;Current Location is Null&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n               // for (Location location:locationRequest.getLocation()) {\n                 //  if (location == null) {\n                   //     Toast.makeText(MapsActivity.this, &quot;Current location is&quot; + location.getLongitude(), Toast.LENGTH_SHORT).show();\n                    //}\n                //}\n\n            }\n\n         /*   @Override\n            public void onLocationAvailability(@NonNull LocationAvailability locationAvailability) {\n                Toast.makeText(getApplicationContext(), &quot;Location result is=&quot;+locationRequest, Toast.LENGTH_SHORT).show();\n\n                if(locationRequest==null)\n                {\n                    Toast.makeText(MapsActivity.this, &quot;Current Location is Null&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n                //Location location;\n\n               for (Location location:locationRequest.getGranularity(1)){\n                  if(location==null){\n                        Toast.makeText(MapsActivity.this, &quot;Current location is&quot;+location.getLongitude(), Toast.LENGTH_SHORT).show();\n                    }\n               }\n            }\n\n          */\n        };\n        fusedLocationProviderClient.requestLocationUpdates(locationRequest,locationCallback,null);\n        Task&lt;Location&gt; task = fusedLocationProviderClient.getLastLocation();\n        task.addOnSuccessListener(new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n\n                if(location != null){\n                    lat = location.getLatitude();\n                    lng = location.getLongitude();\n\n                    LatLng latLng = new LatLng(lat , lng);\n                    mMap.addMarker(new MarkerOptions().position(latLng).title(&quot;Current Location&quot;));\n                    mMap.moveCamera(CameraUpdateFactory.newLatLng(latLng));\n                    mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng,15));\n                }\n            }\n        });\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n        switch (Request_code){\n            case Request_code:\n                if (grantResults.length &gt;0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED){\n                    getCurrentLocation();\n                }\n        }\n\n    }\n}\n</code></pre>\n<p>DownloadUrl.java</p>\n<pre><code>package com.example.findnearbyfinder;\n\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class DownloadUrl {\n\n    public String retireveUrl(String url)throws IOException{\n        String urlData = &quot;&quot;;\n        HttpURLConnection httpURLConnection = null;\n        InputStream inputStream = null;\n\n        try{\n            URL getUrl = new URL(url);\n            httpURLConnection = (HttpURLConnection)getUrl.openConnection();\n            httpURLConnection.connect();\n\n            inputStream = httpURLConnection.getInputStream();\n\n            BufferedReader bufferedReader = new BufferedReader((new InputStreamReader(inputStream)));\n            StringBuffer sb = new StringBuffer();\n\n            String line = &quot;&quot;;\n\n            while ((line = bufferedReader.readLine())!=null){\n                sb.append(line);\n\n            }\n            urlData = sb.toString();\n            bufferedReader.close();\n\n        }catch (Exception e){\n            Log.d(&quot;Exception&quot;, e.toString());\n\n        }finally {\n            //if (inputStream != null) {\n                inputStream.close();\n\n          //  }\n            httpURLConnection.disconnect();\n        }\n        return  urlData;\n    }\n\n}\n</code></pre>\n<p>FetchData.java</p>\n<pre><code>package com.example.findnearbyfinder;\n\nimport android.os.AsyncTask;\nimport android.util.Log;\n\nimport com.google.android.gms.maps.CameraUpdateFactory;\nimport com.google.android.gms.maps.GoogleMap;\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory;\nimport com.google.android.gms.maps.model.LatLng;\nimport com.google.android.gms.maps.model.MarkerOptions;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\n\npublic class FetchData extends AsyncTask&lt;Object,String,String&gt; {\n\n    String googleNearbyPlaceData ;\n    GoogleMap googleMap;\n    String url;\n\n    @Override\n    protected void onPostExecute(String result) {\n        try{\n            JSONObject jsonObject = new JSONObject(result);\n            JSONArray jsonArray= jsonObject.getJSONArray(&quot;results&quot;);\n\n\n\n\n          //  Log.d(&quot;JSON Response&quot;, s);\n\n           // if (jsonObject.has(&quot;result&quot;)) {\n             //   String value = jsonObject.getString(&quot;result&quot;);\n            //}\n\n            for (int i=0 ; i&lt;jsonArray.length(); i++) {\n                JSONObject jsonObject1 = jsonArray.getJSONObject(i);\n                JSONObject getLocation = jsonObject1.getJSONObject(&quot;geometry&quot;)\n                        .getJSONObject(&quot;location&quot;);\n\n\n                String lat = getLocation.getString(&quot;lat&quot;);\n                String lng = getLocation.getString(&quot;lng&quot;);\n\n                JSONObject getName = jsonArray.getJSONObject(i);\n                String name = getName.getString(&quot;name&quot;);\n\n                LatLng latLng = new LatLng(Double.parseDouble(lat), Double.parseDouble(lng));\n                MarkerOptions markerOptions = new MarkerOptions();\n                markerOptions.title(name);\n                markerOptions.position(latLng);\n                googleMap.addMarker(markerOptions);\n                googleMap.moveCamera(CameraUpdateFactory.newLatLngZoom(latLng, 15));\n                markerOptions.icon(BitmapDescriptorFactory.defaultMarker(BitmapDescriptorFactory.HUE_BLUE));\n\n\n\n\n\n            }\n        } catch (JSONException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    protected String doInBackground(Object... objects) {\n\n        try{\n            googleMap = (GoogleMap) objects[0];\n            url = (String) objects[1];\n            DownloadUrl downloadUrl = new DownloadUrl();\n            googleNearbyPlaceData = downloadUrl.retireveUrl(url);\n\n        }catch(IOException e){\n            e.printStackTrace();\n        }\n        return  googleNearbyPlaceData;\n\n    }\n}\n</code></pre>\n<p>I am trying to get the URL of my nearby hospital and medical building and mark it but it doesn't show any place.</p>\n"},{"comments":[{"comment_id":134488499,"body":"<a href=\"https://stackoverflow.com/questions/66184698/how-can-i-deserialize-a-nested-wrapped-string-in-jackson\">This</a> can help."}],"last_activity_date":1684193942,"question_id":76258544,"body":"<p>I'm trying to figure out how to map a nested JSON string within a JSON string using jackson in a dynamic way as this is a library. So I have this method that handles mapping of results to objects</p>\n<pre><code>public &lt;T&gt; Flux&lt;T&gt; doStuff(Query query, Class&lt;T&gt; entityClass) throws DataAccessException {\n    ... run query get row \n    Flux.just(objectMapper.readValue(row.asObject().toJsonString(), entityClass));\n}\n</code></pre>\n<p>Unfortunately this is the structure of one of our users data:</p>\n<pre><code>{&quot;abc&quot;:19220,&quot;xyz&quot;:&quot;{\\&quot;bla\\&quot;: 123456}&quot;}\n</code></pre>\n<p>The problem here is that the value for &quot;xyz&quot; is a json string. Is there any way or existing annotation for the users entityClass model to let jackson know that it should also deserialize the specific field &quot;xyz&quot;?</p>\n<p>Here is the users model:</p>\n<pre><code>public class Something {\n   @Id\n   @JsonProperty(&quot;abc&quot;)\n   public Abc abc;\n   @JsonProperty(&quot;xyz&quot;)\n   public Xyz xyz; // String would work here but we want to deserialize the value\n}\n</code></pre>\n<p>The user does not have any way to modify the json to be correct so im wondering if there is anything we can do at the library level or anything the user can add to their entity class for jackson to work as we'd like it to?</p>\n"},{"last_activity_date":1684193837,"question_id":76258539,"body":"<p>I'm working on Android native module, and I'm trying to add padding to the view from Java code, what is happening is that the child view is not pushed when I'm using <code>setPadding</code> method, any idea why?</p>\n<pre><code>public class TestView extends ReactViewGroup {\n  public TestView(Context context) {\n    super(context);\n\n    this.setPadding(100,100,100,100);\n}\n\n}\n</code></pre>\n<p>When I'm passing it from JS like below, all is good, the only issue is with setting it from Java code</p>\n<pre><code>&lt;TestView style={{padding:100}}&gt;&lt;View style={{flex:1}}/&gt;&lt;/TestView&gt; \n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134478879,"body":"Thank you my friend. Your code is working fine. You are the best."}],"answer_id":76258521,"body":"<p>You cannot create <code>instance</code> of <code>Activity</code>, you could either pass the reference to the view, but the better approach would be pass a <code>interface</code> which would be called from <code>adapter</code> on click</p>\n<pre><code>interface ClickDelegate {\n    void onClick(String text);\n}    \n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n    Context context;\n    List&lt;yiyecek&gt; yiyecekler;\n    ClickDelegate delegate;\n\n    public MyAdapter(Context context, List&lt;yiyecek&gt; yiyecekler, ClickDelegate delegate) {\n        this.context = context;\n        this.yiyecekler = yiyecekler;\n        this.delegate = delegate;\n    }\n\n    // rest of the code\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        public TextView text,textkalori,textadet;\n        public Button ekle;\n\n        public MyViewHolder(@NonNull View itemView, ClickDelegate delegate) {\n            super(itemView);\n\n            textadet=itemView.findViewById(R.id.adet);\n            text = itemView.findViewById(R.id.textViewad);\n            textkalori = itemView.findViewById(R.id.textViewKalori);\n            ekle=itemView.findViewById(R.id.butonekle);\n\n\n            itemView.findViewById(R.id.butonekle).setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    String ilkadet=textadet.getText().toString();\n                    delegate.onClick(ilkadet);\n                }\n            });\n        }\n    }\n}\n\n\n//in activity\nrv.setAdapter(new MyAdapter(this, yiyecekList, new ClickDelegate(){ \n@Override\npublic void onClick(String text){\n    kalori.setText(ilkadet);\n}\n}));\n</code></pre>\n"}],"last_activity_date":1684193494,"question_id":76258325,"body":"<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n\n\n    public TextView kalori;\n    RecyclerView rv;\n\n    List&lt;yiyecek&gt; yiyecekList;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        rv=findViewById(R.id.myrecycler);\n\n\n        kalori=findViewById(R.id.kalori);\n\n        yiyecekList= new ArrayList&lt;&gt;();\n\n        yiyecekList.add(new yiyecek(&quot;Egg&quot;,&quot;50&quot;));\n        yiyecekList.add(new yiyecek(&quot;Cheese&quot;,&quot;150&quot;));\n\n        rv.setLayoutManager(new LinearLayoutManager(this));\n        rv.setAdapter(new MyAdapter(this,yiyecekList));\n\n\n    }\n}\n</code></pre>\n<p>MyAdapter</p>\n<pre><code>\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.CheckBox;\nimport android.widget.Spinner;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt; {\n\n    Context context;\n    List&lt;yiyecek&gt; yiyecekler;\n\n    public MyAdapter(Context context, List&lt;yiyecek&gt; yiyecekler ) {\n        this.context = context;\n        this.yiyecekler = yiyecekler;\n\n    }\n\n    @NonNull\n    @Override\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        return new MyAdapter.MyViewHolder(LayoutInflater.from(context).inflate(R.layout.yiyecekrowitem,parent,false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MyViewHolder holder, int position) {\n        \n\n        yiyecek ymk=yiyecekler.get(position);\n\n        String name=ymk.getAd();\n        String kalori=ymk.getKalori();\n\n        holder.text.setText(name);\n        holder.textkalori.setText(kalori);\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return yiyecekler.size();\n    }\n\n    public class MyViewHolder extends RecyclerView.ViewHolder {\n\n        public TextView text,textkalori,textadet;\n        public Button ekle;\n\n        public MyViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            textadet=itemView.findViewById(R.id.adet);\n            text = itemView.findViewById(R.id.textViewad);\n            textkalori = itemView.findViewById(R.id.textViewKalori);\n            ekle=itemView.findViewById(R.id.butonekle);\n\n\n            itemView.findViewById(R.id.butonekle).setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    String ilkadet=textadet.getText().toString();  \n                    MainActivity mm=new MainActivity();\n                    mm.kalori.setText(ilkadet);\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>RecyclerView xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;97dp&quot;\n    android:layout_margin=&quot;8dp&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewad&quot;\n        android:layout_width=&quot;103dp&quot;\n        android:layout_height=&quot;48dp&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginLeft=&quot;11dp&quot;\n        android:layout_marginTop=&quot;11dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;TextView&quot;\n        android:textAlignment=&quot;center&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textViewKalori&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginLeft=&quot;22dp&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;100&quot;\n        android:textAlignment=&quot;center&quot;\n\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/butonekle&quot;\n        android:layout_width=&quot;150dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginLeft=&quot;284dp&quot;\n        android:layout_marginTop=&quot;24dp&quot;\n        android:text=&quot;EKLE&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/adet&quot;\n        android:layout_width=&quot;70dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_alignParentTop=&quot;true&quot;\n        android:layout_marginLeft=&quot;191dp&quot;\n        android:layout_marginTop=&quot;25dp&quot;\n        android:textColor=&quot;#282828&quot;\n        android:text=&quot;0&quot;\n        android:textSize=&quot;29sp&quot;\n        android:textAlignment=&quot;center&quot;\n        android:gravity=&quot;center&quot;/&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Exception</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.kalorirecyclerdeneme, PID: 30408\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n        at com.example.kalorirecyclerdeneme.MyAdapter$MyViewHolder$1.onClick(MyAdapter.java:91)\n        at android.view.View.performClick(View.java:7448)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\n        at android.view.View.performClickInternal(View.java:7425)\n        at android.view.View.access$3600(View.java:810)\n        at android.view.View$PerformClick.run(View.java:28305)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\nI/Process: Sending signal. PID: 30408 SIG: 9\n</code></pre>\n<p>Sorry if my coding is bad. I just started. My project is about calorie calculation. I'm sorting the food with RecyclerView. When I press the button on the RecyclerView, the TextView value that says number there increases by one. I'm trying to print it into the TextView in the MainActivity, but it gives a null error.</p>\n<p>I am getting null error:</p>\n<p><code>mm.kalori.setText(ilkadet);</code></p>\n<p>I have a button in RecyclerView and ı am trying change value of TextView in MainActivity with this button.</p>\n"},{"comments":[{"comment_id":60043060,"body":"The beginning of the stacktrace is more insteresting than the end."},{"comment_id":60043629,"body":"My Apologies. I have amended the title now."},{"comment_id":60044519,"body":"You should have something before <code>AccessLogValve.invoke(AccessLogValve.java:950)</code>, the thrown exception."},{"comment_id":60045492,"body":"Hi, Thanks for the comment. Unfortunately, there&#39;s nothing before that. I have edited the question with the whole output now."},{"comment_id":60052383,"body":"What about <code>journalctl -x -u tomcat</code> ?"},{"comment_id":60066226,"body":"Awesome! Thank you very much. Turns out that it was a permission issue to a log file maintained by the application. I have fixed the ownership of the file and restarted Tomcat. All works fine with no errors now."},{"comment_id":60066253,"body":"@rkosegi, How do I mark your comment as the answer? I can&#39;t seem to find that option."},{"comment_id":60066269,"body":"@hos______ : I can post it as an answer, if it helps you."},{"comment_id":60066361,"body":"@hos______ : Posted as answer"},{"comment_id":114217753,"body":"Of which while did you changes the ownership?"}],"answers":[{"comments":[{"comment_id":60066431,"body":"Thanks very much! That helped in diagnosing the issue."},{"comment_id":114613330,"body":"Hi @Alfran. Sorry, this is over 4 years ago, so I don&#39;t remember specifics. Have you tried {journalctl -x -u tomcat} as suggested in the answer. That should give you the log entries from the previous log rotation."}],"answer_id":36217277,"body":"<p>Problem with <code>systemctl status tomcat</code> is that it will show only most recent log entries from service</p>\n\n<p>Where <code>journalctl -x -u tomcat</code> will show log entries from last journal rotation.</p>\n\n<p>More info about <a href=\"https://www.freedesktop.org/software/systemd/man/systemctl.html\" rel=\"nofollow\">systemctl</a> and <a href=\"https://www.freedesktop.org/software/systemd/man/journalctl.html\" rel=\"nofollow\">journalctl</a></p>\n"},{"answer_id":76258493,"body":"<p>Hello I fixed this problem using to file configuration try i first tomcat.service and if not work try another tomcat.service and vis versa</p>\n<p><strong>First tomcat.service</strong></p>\n<pre><code>[Unit]\nDescription=Tomcat 9 servlet container\nAfter=network.target\n\n[Service]\nType=forking\n\n\nEnvironment=JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64\nEnvironment=CATALINA_PID=/opt/tomcat9/temp/tomcat.pid\nEnvironment=CATALINA_HOME=/opt/tomcat9\nEnvironment=CATALINA_BASE=/opt/tomcat9\nEnvironment=&quot;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC&quot;\nEnvironment=&quot;JAVA_OPTS=-Djava.security.egd=file:///dev/urandom -Djava.awt.headless=true&quot;\n\nExecStart=/opt/tomcat9/bin/startup.sh\nExecStop=/opt/tomcat9/bin/shutdown.sh\n\nUser=tomcat\nGroup=tomcat\nUMask=0007\nRestartSec=10\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p><strong>Second tomcat.service</strong></p>\n<pre><code>[Unit]\nDescription=Tomcat\nAfter=network.target\n\n[Service]\nType=forking\n\nUser=tomcat\nGroup=tomcat\n\nEnvironment=&quot;JAVA_HOME=/usr/lib/jvm/java-1.11.0-openjdk-amd64&quot;\nEnvironment=&quot;JAVA_OPTS=-Djava.security.egd=file:///dev/urandom&quot;\nEnvironment=&quot;CATALINA_BASE=/opt/tomcat&quot;\nEnvironment=&quot;CATALINA_HOME=/opt/tomcat&quot;\nEnvironment=&quot;CATALINA_PID=/opt/tomcat/temp/tomcat.pid&quot;\nEnvironment=&quot;CATALINA_OPTS=-Xms512M -Xmx1024M -server -XX:+UseParallelGC&quot;\n\nExecStart=/opt/tomcat/bin/startup.sh\nExecStop=/opt/tomcat/bin/shutdown.sh\n\nRestartSec=10\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>If the fist not work replace with the second and vis versa don't forgeo to use\nsudo systemctl reload-daemon\nsudo systemctl start tomcat\nsudo systemctl enable tomcat\nsudo systemctl status tomcat</p>\n"}],"last_activity_date":1684192985,"question_id":36204889,"body":"<p>I have installed an Apache Httpd 2.4.6 and Tomcat 7.0.54 on RHEL 7.2 server with AJP connector and SSL configured and SELinux enabled.\nWhen I start the Tomcat Server everything starts fine and the web application works fine too. However after a while if you run <code># service tomcat status</code> or <code>systemctl status tomcat</code> , I get the following output.</p>\n\n<pre><code>[root@ip-xxx-xxx-xxx-xxx logs]# service tomcat status\nRedirecting to /bin/systemctl status  tomcat.service\n● tomcat.service - Apache Tomcat Web Application Container\n   Loaded: loaded (/usr/lib/systemd/system/tomcat.service; enabled; vendor preset: disabled)\n   Active: active (running) since Thu 2016-03-24 15:34:30 UTC; 1h 38min ago\n  Process: 5929 ExecStop=/usr/libexec/tomcat/server stop (code=exited, status=0/SUCCESS)\n Main PID: 5973 (java)\n   CGroup: /system.slice/tomcat.service\n           └─5973 /usr/lib/jvm/jre/bin/java -Xms512m -Xmx3072m -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcata...\n\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nMar 24 16:44:09 ip-xxx-xxx-xxx-xxx.eu-west-1.compute.internal server[5973]: at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>I don't see any errors on Tomcat logs. Setting SELinux to permissive doesn't solve the issue.\nHow can I diagnose what the issue is and fix it?</p>\n"},{"last_activity_date":1684192350,"question_id":76258451,"body":"<p>I have a service with Spring Boot 3, OpenAPI 3 and Spring Webflux.</p>\n<p>Everything was working untill now, but suddenly when I added a <code>@Pattern</code> annotation I started getting a NullPointerException when I try to access my OpenAPI endpoint.</p>\n<p>Here's my endpoint:</p>\n<pre><code>@Operation(summary = &quot;Busca no banco de dados de filial através de um identificador numérico.&quot;, description = &quot;Recebe um identificador numérico de filial e busca no banco de dados.&quot;)\n@ApiResponses(value = {\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_200, description = &quot;Vendedor encontrada e dados retornados com sucesso.&quot;, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = VendedorResponseModel.class))),\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_400, description = ConstantsPresentation.RESPONSE_DESCRIPTION_STATUS_CODE_400, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))),\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_404, description = &quot;Vendedor não encontrada.&quot;, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))),\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_422, description = ConstantsPresentation.RESPONSE_DESCRIPTION_STATUS_CODE_422, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))),\n        @ApiResponse(responseCode = ConstantsPresentation.RESPONSE_STATUS_CODE_500, description = ConstantsPresentation.RESPONSE_DESCRIPTION_STATUS_CODE_500, content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, schema = @Schema(implementation = ErrorAttributes.class))) })\nMono&lt;VendedorResponseModel&gt; findByID(\n        @NotNull(message = &quot;Não pode passar um id nulo para esta busca.&quot;) @Pattern(regexp = &quot;^\\\\d+-(OUT|CLT|PJ)$&quot;, message = &quot;A matrícula deve seguir um padrão numérico, seguido de um hífen e terminando com as letras OUT, CLT ou PJ. Exemplo: 98767367-OUT.&quot;) @Parameter(description = &quot;O identificador numérico de uma filial.&quot;, example = &quot;98767367-OUT&quot;, name = &quot;matricula&quot;, content = @Content(mediaType = MediaType.TEXT_PLAIN_VALUE, schema = @Schema(implementation = String.class, pattern = &quot;^\\\\d+-(OUT|CLT|PJ)$&quot;))) String matricula);\n</code></pre>\n<p>The console log:</p>\n<pre><code>2023-05-15T19:58:39.939-03:00[0;39m [31mERROR[0;39m [35m3616[0;39m [2m---[0;39m [2m[ctor-http-nio-6][0;39m [36ma.w.r.e.AbstractErrorWebExceptionHandler[0;39m [2m:[0;39m [48b429d2-9]  500 Server Error for HTTP GET &quot;/v3/api-docs&quot;\n\njava.lang.NullPointerException: Cannot invoke &quot;io.swagger.v3.oas.models.media.Schema.setPattern(String)&quot; because &quot;schema&quot; is null\n    at org.springdoc.core.service.AbstractRequestService.applyValidationsToSchema(AbstractRequestService.java:709) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ org.springframework.web.filter.reactive.ServerHttpObservationFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ HTTP GET &quot;/v3/api-docs&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at org.springdoc.core.service.AbstractRequestService.applyValidationsToSchema(AbstractRequestService.java:709) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.core.service.AbstractRequestService.applyBeanValidatorAnnotations(AbstractRequestService.java:587) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:338) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:474) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:654) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.webflux.api.OpenApiResource.lambda$calculatePath$5(OpenApiResource.java:191) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n        at org.springdoc.webflux.api.OpenApiResource.calculatePath(OpenApiResource.java:173) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at org.springdoc.webflux.api.OpenApiResource.lambda$getPaths$0(OpenApiResource.java:157) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n        at org.springdoc.webflux.api.OpenApiResource.getPaths(OpenApiResource.java:149) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:334) ~[springdoc-openapi-starter-common-2.1.0.jar:2.1.0]\n        at org.springdoc.webflux.api.OpenApiResource.openapiJson(OpenApiResource.java:119) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at org.springdoc.webflux.api.OpenApiWebfluxResource.openapiJson(OpenApiWebfluxResource.java:114) ~[springdoc-openapi-starter-webflux-api-2.1.0.jar:2.1.0]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:145) ~[spring-webflux-6.0.8.jar:6.0.8]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:293) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:474) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip$ZipInner.onSubscribe(MonoZip.java:466) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onSubscribe(MonoPeekTerminal.java:152) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:216) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onSubscribe(MonoIgnoreThen.java:134) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:125) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:240) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:203) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators.complete(Operators.java:137) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2545) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2305) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2341) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2215) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.Mono.subscribe(Mono.java:4485) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55) ~[reactor-core-3.5.5.jar:3.5.5]\n        at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1006) ~[reactor-netty-http-1.1.6.jar:1.1.6]\n        at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710) ~[reactor-netty-core-1.1.6.jar:1.1.6]\n        at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:481) ~[reactor-netty-core-1.1.6.jar:1.1.6]\n        at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:633) ~[reactor-netty-http-1.1.6.jar:1.1.6]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.1.6.jar:1.1.6]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:228) ~[reactor-netty-http-1.1.6.jar:1.1.6]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346) ~[netty-codec-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318) ~[netty-codec-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562) ~[netty-transport-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.91.Final.jar:4.1.91.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.91.Final.jar:4.1.91.Final]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>I tried to set the pattern attibute of the Schema value, but still not working. When I remove the <code>@Pattern</code> annotation the OpenAPI starts, but the service does not trigger the validation.</p>\n<p>My dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webflux-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>And my parent POM:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Am I using the annotation in the incorrect place? All other validation annotations seem to work.</p>\n"},{"answers":[{"comments":[{"comment_id":54402981,"body":"The example there are good and they avoid using reflection. But maybe you can copy them here - in case the link gets broken?"},{"comment_id":60547675,"body":"It is great that this avoids reflection but it comes at a price: You are not adding a path to your process classpath but creating a new class loader which includes the new path and use it within a concrete thread, in this case, your current thread. That means that any path added this way will be only noted on those thread with explicitly modified class loaders."},{"comment_id":79138561,"body":"@PabloFranciscoP&#233;rezHidalgo which is, of course, the way it should be used - you&#39;re meant to nest your classloaders so they have a defined scope (what you do in application servers, osgi etc), not mutate your system classloader."},{"comment_id":79141046,"body":"@eis Sure, but the OP was curious as to whether it was possible to add paths to the current process classpath."},{"comment_id":98797339,"body":"@PabloFranciscoP&#233;rezHidalgo I don&#39;t think that&#39;s what OP intended. Anyway, I don&#39;t quite agree with the brut force method of reflection especially when it&#39;s not needed because Java folks provided ways to do it."}],"answer_id":7884402,"body":"<p>Yes, you can use <code>URLClassLoader</code>.. see example <a href=\"http://download.oracle.com/javase/jndi/tutorial/beyond/misc/classloader.html\" rel=\"nofollow noreferrer\">here</a>. Doesn't use reflection.</p>\n<p>-- edit --</p>\n<p>Copying example from the link as suggested.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.util.Hashtable;\nimport javax.naming.*;\n\npublic class ChangeLoader {\n  public static void main(String[] args) throws MalformedURLException {\n    if (args.length != 1) {\n      System.err.println(&quot;usage: java ChangeLoader extra_classpath_url&quot;);\n      System.exit(-1);\n    }\n\n    String url = args[0];\n    // Save class loader so that we can restore later\n    ClassLoader prevCl = Thread.currentThread().getContextClassLoader();\n\n    // Use prevCl as parent, so we extend instead of replace\n    ClassLoader urlCl = \n          URLClassLoader.newInstance(new URL[] {new URL(url)}, prevCl);\n\n    try {\n      Thread.currentThread().setContextClassLoader(urlCl);\n      Context ctx = new InitialContext();\n      System.out.println(ctx.lookup(&quot;tutorial/report.txt&quot;));\n      ctx.close();\n    } catch (NamingException e) {\n      e.printStackTrace();\n    } finally {\n      // Restore old loader\n      Thread.currentThread().setContextClassLoader(prevCl);\n    }\n  } // main()\n}\n</code></pre>\n"},{"comments":[{"comment_id":74134037,"body":"this is not working form me.. i am not able to load class after this using Class.forName(&quot;com.mysql.jdbc.Driver&quot;);"},{"comment_id":98797196,"body":"There is a reason why <code>addURL</code> is not public OR private. This is a unnecessary brutal force method that shouldn&#39;t be used in production code. Java designers provided more than one way of doing what&#39;s needed."},{"comment_id":107271183,"body":"seems like the cast to URLClassLoader is broken in Java 9 (<a href=\"https://community.oracle.com/thread/4011800\" rel=\"nofollow noreferrer\">community.oracle.com/thread/4011800</a> and others)"}],"answer_id":7884406,"body":"<p>You can use the following method:</p>\n\n<pre><code>URLClassLoader.addURL(URL url)\n</code></pre>\n\n<p>But you'll need to do this with reflection since the method is <code>protected</code>:</p>\n\n<pre><code>public static void addPath(String s) throws Exception {\n    File f = new File(s);\n    URL u = f.toURL();\n    URLClassLoader urlClassLoader = (URLClassLoader) ClassLoader.getSystemClassLoader();\n    Class urlClass = URLClassLoader.class;\n    Method method = urlClass.getDeclaredMethod(\"addURL\", new Class[]{URL.class});\n    method.setAccessible(true);\n    method.invoke(urlClassLoader, new Object[]{u});\n}\n</code></pre>\n\n<p>See the Java Trail on <a href=\"http://download.oracle.com/javase/tutorial/reflect/\" rel=\"noreferrer\">Reflection</a>.  Especially the section <em>Drawbacks of Reflection</em></p>\n"},{"comments":[{"comment_id":55833799,"body":"It would have been more stackoverflowish to edit the accepted answer, I think. No more duplicate answers, that&#39;s what we like at this site."},{"comment_id":55843320,"body":"@Zeemee I hardly remember, maybe I thought this was an edge case. I simply decided to avoid the accepted answer too much; I did not want to go beyond author&#39;s intention."}],"answer_id":21931044,"body":"<p>Update 2014: this is the code from the accepted answer, by Jonathan Spooner from 2011, slightly rewritten to have Eclipse's validators no longer create warnings (deprecation, rawtypes)</p>\n\n<pre><code>//need to do add path to Classpath with reflection since the URLClassLoader.addURL(URL url) method is protected:\npublic static void addPath(String s) throws Exception {\n    File f = new File(s);\n    URI u = f.toURI();\n    URLClassLoader urlClassLoader = (URLClassLoader) ClassLoader.getSystemClassLoader();\n    Class&lt;URLClassLoader&gt; urlClass = URLClassLoader.class;\n    Method method = urlClass.getDeclaredMethod(\"addURL\", new Class[]{URL.class});\n    method.setAccessible(true);\n    method.invoke(urlClassLoader, new Object[]{u.toURL()});\n}\n</code></pre>\n"}],"last_activity_date":1684191880,"question_id":7884393,"body":"<p>In order to better understand how things works in Java, I'd like to know if I can dynamically add, at runtime, a directory to the class path.</p>\n\n<p>For example, if I launch a <em>.jar</em> using <em>\"java -jar mycp.jar\"</em> and output the <em>java.class.path</em> property, I may get:</p>\n\n<pre><code>java.class.path: '.:/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java'\n</code></pre>\n\n<p>Now can I modify this class path at runtime to add another directory? (for example before making the first call to a class using a <em>.jar</em> located in that directory I want to add).</p>\n"},{"comments":[{"comment_id":113190797,"body":"Remove the <code>new</code> its a static method not a constructor."},{"comment_id":113191334,"body":"Wow thanks i feel stupid now haha! I guess I got mixed up with all the older version of tutorials and all!"},{"comment_id":134478675,"body":"FWIW, the expression <code>new JDABuilder.createDefault(...)</code> is being interpreted as an attempt to create an instance of a nested class called <code>JDABuilder.createDefault</code>.  Which doesn&#39;t exist."}],"last_activity_date":1684191670,"question_id":64002664,"body":"<p>I am trying to set up a discord bot using intelliJ, Gradles and the JDA v4.2.0_204. I followed the instruction on: <a href=\"https://github.com/DV8FromTheWorld/JDA/wiki/2%29-IntelliJ-IDEA-Setup\" rel=\"nofollow noreferrer\">https://github.com/DV8FromTheWorld/JDA/wiki/2%29-IntelliJ-IDEA-Setup</a></p>\n<p>I wanna use the JDABuilder and I've written exactly how they wrote it in the documentation to initialize the JDABuilder Object. Here is my current sample of code including the imports (I also have auto-import enabled):</p>\n<pre><code>import net.dv8tion.jda.api.JDA;\nimport net.dv8tion.jda.api.JDABuilder;\n\n\npublic class bot {\n\n\n    public static void main(String[] args) {\n        JDA api = new JDABuilder.createDefault(&quot;token&quot;).build();\n\n    }\n}\n</code></pre>\n<p>The problem is that it always shows an error: Cannot resolve symbol 'createDefault'</p>\n<p>I can't find any way around this and I don't see the problem here.</p>\n"},{"answers":[{"comments":[{"comment_id":44035322,"body":"Now suppose if I am not rethrowing the exception at controller level, then in that case the class I will get will be manager layer class as the exception is thrown from there, is there a way that I can get the controller name?"},{"comment_id":105895130,"body":"How can I get the request Param?"}],"answer_id":27780030,"body":"<p>You can call the <code>getStackTrace</code> against your exception, first entry will give you the originating class</p>\n\n<pre><code> handleException(YourException ex) {\n    String exceptionController = ex.getStackTrace()[0].getClassName();\n    ...\n }\n</code></pre>\n"}],"last_activity_date":1684191496,"question_id":27779797,"body":"<p>Is there a way to get the class from where the <code>@ControllerAdvice</code> got its control.</p>\n<p><strong>I.e.:</strong> If and execution of PersonController is going on and I get some error due to which the control transferred to the <code>@ControllerAdvice</code> class's method <code>handleException(...)</code>.</p>\n<p>Is there a way to get the <code>PersonController</code> class name inside the <code>handleException</code> method with Spring 3.2.3.</p>\n<p>Any other way to achieve this?</p>\n<p>Thank you for reading.</p>\n"},{"answers":[{"comments":[{"comment_id":69482160,"body":"so basically you have timestamp in variable second?"},{"comment_id":71704504,"body":"what about months &amp; years?"}],"answer_id":11358115,"body":"<p>It should be like</p>\n\n<pre><code> int day = (int)TimeUnit.SECONDS.toDays(seconds);        \n long hours = TimeUnit.SECONDS.toHours(seconds) - (day *24);\n long minute = TimeUnit.SECONDS.toMinutes(seconds) - (TimeUnit.SECONDS.toHours(seconds)* 60);\n long second = TimeUnit.SECONDS.toSeconds(seconds) - (TimeUnit.SECONDS.toMinutes(seconds) *60);\n</code></pre>\n\n<p><strong>EDIT</strong>\nExplanation: </p>\n\n<ol>\n<li>Day calculation is correct, it does not require explanation.</li>\n<li>TimeUnit.SECONDS.toHours(seconds) will give you direct conversion from seconds to hours without consideration for days you have already calculated. Minus the hours for days you already got i.e, day*24. You now got remaining hours.</li>\n<li>Same for minute and second. You need to minus the already got hour and minutes respectively.</li>\n</ol>\n"},{"comments":[{"comment_id":14961807,"body":"Nice attempt. But I am using TimeUnit class, and not getting desired answer."},{"comment_id":75812268,"body":"This is a great answer actually. A great use-case is when calculating time remaining between the present and some future target date.  Just create a new method using the code above. Calculate <code>long duration = endDate.getTime() - startDate.getTime();</code> and <code>long diffInSeconds = TimeUnit.MILLISECONDS.toSeconds(duration);</code>. Then pass <code>diffInSeconds</code> as a parameter to this new method.  Remove <code>fsec</code> from the list of integer variables. Then delete the line <code>fsec=3600;</code>. Either replace all instances of <code>fsec</code> with <code>diffInSeconds</code> or name the input parameter <code>long fsec</code>.  Cheers."}],"answer_id":11358379,"body":"<p>Here is a code i created : (For 3600 seconds it shows \"Days:0 Hours:1 Minutes:0 Seconds:0\")</p>\n\n<pre><code>public class TimeConvert \n{\n    public static void main(String[] args) \n    {\n        int fsec,d,h,m,s,temp=0,i;\n        fsec=3600;\n        //For Days\n        if(fsec&gt;=86400)\n        {\n            temp=fsec/86400;\n            d=temp;\n            for(i=1;i&lt;=temp;i++)\n            {\n                fsec-=86400;\n            }\n        }\n        else\n        {\n            d=0;\n        }\n        //For Hours\n        if(fsec&gt;=3600)\n        {\n            temp=fsec/3600;\n            h=temp;\n            for(i=1;i&lt;=temp;i++)\n            {\n                fsec-=3600;\n            }            \n        }\n        else\n        {\n            h=0;\n        }\n        //For Minutes\n        if(fsec&gt;=60)\n        {\n            temp=fsec/60;\n            m=temp;\n            for(i=1;i&lt;=temp;i++)\n            {\n                fsec-=60;\n            }            \n        }\n        else\n        {\n            m=0;\n        }\n        //For Seconds\n        if(fsec&gt;=1)\n        {\n            s=fsec;            \n        }\n        else\n        {\n            s=0;\n        }\n        System.out.println(\"Days:\"+d+\" Hours:\"+h+\" Minutes:\"+m+\" Seconds:\"+s);\n    }\n}\n</code></pre>\n\n<p>Hope it answers your question.</p>\n"},{"answer_id":11358423,"body":"<p>Try this </p>\n\n<pre><code>public static void calculateTime(long seconds) {\n\nint day = (int)TimeUnit.SECONDS.toDays(seconds);        \nlong hours = TimeUnit.SECONDS.toHours(seconds) ;\n\nlong tempSec = seconds - (TimeUnit.HOURS.toSeconds(hours) );\nSystem.out.println(\"after hours calculation \"+ tempSec);\n\nlong minute = TimeUnit.SECONDS.toMinutes(tempSec); \n\nif(tempSec &gt; TimeUnit.MINUTES.toSeconds(minute)){\n    tempSec = tempSec - (TimeUnit.MINUTES.toSeconds(minute) );          \n}else{\n    tempSec = TimeUnit.MINUTES.toSeconds(minute) - tempSec;\n}\nSystem.out.println(\"after min calculation \"+ tempSec);\n\n\nlong second = TimeUnit.SECONDS.toSeconds(tempSec) ;\n\nSystem.out.println(\"Day \" + day + \" Hour \" + hours + \" Minute \" + minute + \" Seconds \" + second);\n}\n</code></pre>\n"},{"comments":[{"comment_id":14963022,"body":"+1 Thank you for this nice answer. Sorry I have a singleoption to select right answer."},{"comment_id":14963176,"body":"You&#39;re welcome! Adding +1 to the useful answers and selecting the one you like the best as the correct one seems like the perfect behaviour."}],"answer_id":11358616,"body":"<p>You can do like this to only use <code>TimeUnit</code>:</p>\n\n<pre><code>public static void calculateTime(long seconds) {\n    int day = (int) TimeUnit.SECONDS.toDays(seconds);\n    long hours = TimeUnit.SECONDS.toHours(seconds) -\n                 TimeUnit.DAYS.toHours(day);\n    long minute = TimeUnit.SECONDS.toMinutes(seconds) - \n                  TimeUnit.DAYS.toMinutes(day) -\n                  TimeUnit.HOURS.toMinutes(hours);\n    long second = TimeUnit.SECONDS.toSeconds(seconds) -\n                  TimeUnit.DAYS.toSeconds(day) -\n                  TimeUnit.HOURS.toSeconds(hours) - \n                  TimeUnit.MINUTES.toSeconds(minute);\n    System.out.println(\"Day \" + day + \" Hour \" + hours + \" Minute \" + minute + \" Seconds \" + second);\n}\n</code></pre>\n\n<p>or the slightly shorter but maybe not as intuitive</p>\n\n<pre><code>public static void calculateTime(long seconds) {\n    int day = (int) TimeUnit.SECONDS.toDays(seconds);\n    long hours = TimeUnit.SECONDS.toHours(seconds) -\n                 TimeUnit.DAYS.toHours(day);\n    long minute = TimeUnit.SECONDS.toMinutes(seconds) -\n                  TimeUnit.HOURS.toMinutes(TimeUnit.SECONDS.toHours(seconds));\n    long second = TimeUnit.SECONDS.toSeconds(seconds) -\n                  TimeUnit.MINUTES.toSeconds(TimeUnit.SECONDS.toMinutes(seconds));\n    System.out.println(\"Day \" + day + \" Hour \" + hours + \" Minute \" + minute + \" Seconds \" + second);\n}\n</code></pre>\n"},{"answer_id":37855691,"body":"<p>Simple method:</p>\n\n<pre><code>public static void calculateTime(long seconds) {\n    long sec = seconds % 60;\n    long minutes = seconds % 3600 / 60;\n    long hours = seconds % 86400 / 3600;\n    long days = seconds / 86400;\n\n    System.out.println(\"Day \" + days + \" Hour \" + hours + \" Minute \" + minutes + \" Seconds \" + sec);\n}\n</code></pre>\n"},{"comments":[{"comment_id":78881843,"body":"Code only answers are discouraged. And the question asks about using <b>TimeUnit</b>. Which you aren&#39;t using at all."}],"answer_id":45961337,"body":"<pre><code>public static void timeCalculator(){\n\n\n      Scanner input = new Scanner(System.in);\n      System.out.print(\"Enter length of time in seconds: \");\n      int n = input.nextInt();\n      int nDay = n/86400;\n      int nHours = (n%86400)/3600;\n      int nMin = ((n%86400)%3600) /60;\n      int nSec =(((n%86400)%3600)%60);\n      System.out.println();\n      System.out.print(\"That is \"+ nDay+ \" day(s),\"+nHours+\"  hour(s), \"+nMin+\"  minute(s), and \"+nSec+\" second(s). \");\n}\n</code></pre>\n"},{"answer_id":52984516,"body":"<p><strong>Late but helpful</strong></p>\n\n<blockquote>\n  <p>get time in the format 00:00:00</p>\n</blockquote>\n\n<pre><code>/**\n     * The time in format.\n     *\n     * in The Format of 00:00:00\n     */\n\npublic String getTimeInFormat(long _SECONDS)\n{\n    if(TimeUnit.SECONDS.toHours(_SECONDS)&gt;0)\n    {\n        return  String.format(\"%02d:%02d:%02d\",\n                TimeUnit.SECONDS.toHours(_SECONDS),\n                TimeUnit.SECONDS.toMinutes(_SECONDS) -\n                        TimeUnit.HOURS.toMinutes(TimeUnit.SECONDS.toHours(_SECONDS)),\n                TimeUnit.SECONDS.toSeconds(_SECONDS) -\n                        TimeUnit.MINUTES.toSeconds(TimeUnit.SECONDS.toMinutes(_SECONDS)));\n    }\n    else {\n        return  String.format(\"%02d:%02d\",\n                TimeUnit.SECONDS.toMinutes(_SECONDS) -\n                        TimeUnit.HOURS.toMinutes(TimeUnit.SECONDS.toHours(_SECONDS)),\n                TimeUnit.SECONDS.toSeconds(_SECONDS) -\n                        TimeUnit.MINUTES.toSeconds(TimeUnit.SECONDS.toMinutes(_SECONDS)));\n    }\n\n}\n</code></pre>\n"},{"answer_id":55364795,"body":"<p>This is my code:</p>\n\n<pre><code>public static String secondsToString(TimeUnit greatestUnit, long sourceDuration, TimeUnit sourceUnit) {\n\n    int ordinal = greatestUnit.ordinal();\n    if(ordinal&lt;=sourceUnit.ordinal())\n        return String.format(\"%02d\", sourceDuration);\n\n    final long greatestDuration = greatestUnit.convert(sourceDuration, sourceUnit);\n    final long rest = sourceDuration - sourceUnit.convert(greatestDuration, greatestUnit);\n\n    return String.format(\"%02d:\", greatestDuration) + secondsToString(TimeUnit.values()[--ordinal], rest, sourceUnit);\n}\n</code></pre>\n\n<p>or by loop</p>\n\n<pre><code>public static String secondsToStringByLoop(TimeUnit greatestUnit, long sourceDuration, TimeUnit sourceUnit) {\n\n    final StringBuffer sb = new StringBuffer();\n    int ordinal = greatestUnit.ordinal();\n\n    while(true){\n        if(ordinal&lt;=sourceUnit.ordinal()) {\n            sb.append(String.format(\"%02d\", sourceDuration));\n            break;\n        }\n\n        final long greatestDuration = greatestUnit.convert(sourceDuration, sourceUnit);\n//          if(greatestDuration&gt;0 || sb.length()&gt;0)\n        sb.append(String.format(\"%02d:\", greatestDuration));\n\n        sourceDuration -= sourceUnit.convert(greatestDuration, greatestUnit);\n        greatestUnit = TimeUnit.values()[--ordinal];\n    };\n\n    return sb.toString();\n}\n</code></pre>\n\n<p>usage example:</p>\n\n<pre><code>String str = secondsToString(TimeUnit.DAYS, 1000, TimeUnit.SECONDS);\n</code></pre>\n\n<p>function returns: \"00:00:16:40\" (days:hours:minutes:seconds)</p>\n\n<pre><code>str = UnitsConverter.secondsToString(TimeUnit.DAYS, 1000, TimeUnit.MINUTES);\n</code></pre>\n\n<p>returns: \"00:16:40\" (days:hours:minutes)</p>\n\n<pre><code>str = UnitsConverter.secondsToString(TimeUnit.MINUTES, 1000, TimeUnit.SECONDS);\n</code></pre>\n\n<p>returns: \"16:40\" (minutes:seconds)</p>\n"},{"answer_id":76258395,"body":"<p>Similar to <a href=\"https://stackoverflow.com/a/55364795/5082991\">Oleksandr's answer</a> using TimeUnit without each specific toDays,toHours,etc. methods. But using the <code>java.time.Duration</code> class and not coupled to the TimeUnit Enum ordinal.</p>\n<p>My use case only needed Days, Hours, Minutes, Seconds with format like: &quot;13d 2h 45m 10s&quot;; Using just the first char of the TimeUnit name, so if use TimeUnits smaller than Seconds, might not be desirable. And I didn't want to show units that were 0 unless total duration was 0 seconds.</p>\n<pre><code>public static String toDaysHoursMinutesSeconds(Duration d) {\n    final var sb = new StringBuilder();\n    // Must be descending\n    for (var timeUnit : List.of(TimeUnit.DAYS, TimeUnit.HOURS, TimeUnit.MINUTES, TimeUnit.SECONDS)) {\n        final long v = timeUnit.convert(d);\n        if (v != 0 || (sb.isEmpty() &amp;&amp; timeUnit == TimeUnit.SECONDS))\n            sb.append(sb.isEmpty() ? &quot;&quot; : &quot; &quot;).append(v).append(Character.toLowerCase(timeUnit.name().charAt(0)));\n        d = d.minus(v, timeUnit.toChronoUnit());\n    }\n    return sb.toString();\n}\n</code></pre>\n<p>Example:</p>\n<pre><code>import static java.time.Duration.*;\n// ...\nassert &quot;13d 2h 45m 10s&quot;.equals(toDaysHoursMinutesSeconds(ofDays(13).plus(ofHours(2)).plus(ofMinutes(45)).plus(ofSeconds(10))));\n</code></pre>\n"}],"last_activity_date":1684191386,"question_id":11357945,"body":"<p>I am using TimeStamp class to convert seconds into Day,Hours,Minutes,Seconds. I used following code</p>\n\n<pre><code>public static void calculateTime(long seconds) {\n        int day = (int)TimeUnit.SECONDS.toDays(seconds);        \n        long hours = TimeUnit.SECONDS.toHours(seconds) - TimeUnit.SECONDS.toHours(TimeUnit.SECONDS.toDays(seconds));\n        long minute = TimeUnit.SECONDS.toMinutes(seconds) - TimeUnit.SECONDS.toMinutes(TimeUnit.SECONDS.toHours(seconds));\n        long second = TimeUnit.SECONDS.toSeconds(seconds) - TimeUnit.SECONDS.toSeconds(TimeUnit.SECONDS.toMinutes(seconds));\n\n        System.out.println(\"Day \" + day + \" Hour \" + hours + \" Minute \" + minute + \" Seconds \" + second);\n\n    }\n</code></pre>\n\n<p>But I am not getting right result. \nFor example when I called this method as <code>calculateTime(3600)</code> it gives me the result as <code>Day 0 Hour 1 Minute 60 Seconds 3540</code> instead of <code>Day 0 Hour 1 Minute 0 Seconds 0</code>. </p>\n\n<p><em>What is the wrong with my logic? Please help me.</em> </p>\n"},{"answers":[{"comments":[{"comment_id":66048879,"body":"This is fantastic, ended up using it.  I added a check before the setPreferredColumnModel call that looks like &quot;if(width &gt; 300)width=300;&quot; which fixes some cases where I&#39;m displaying really long data fields.  I&#39;d suggest adding that to the answer--and you might also extract out min/max width (Would make fantastic optional parameters--in fact I&#39;m going to go do that in my codebase now.)  (I wish I knew when it was cool to edit something like that into someone else&#39;s answer...  Since it&#39;s not CW I hate to change content without permission.)"},{"comment_id":66049158,"body":"Hi, @BillK Feel free to edit/add the code... and if you have, a screenshot. ;)"},{"comment_id":77133890,"body":"can I also somehow evaluate the header too so that its text won&#39;t get cut off?"},{"comment_id":105238231,"body":"@Xerus Add <code>width = Math.max(width, table.getColumnModel().getColumn(column).getPreferredWidth()&zwnj;&#8203;);</code> after line 9 in the above code to evaluate the headers."},{"comment_id":114597548,"body":"Worked perfectly, as expected!"}],"answer_id":17627497,"body":"<p>You can try the next:</p>\n\n<pre><code>public void resizeColumnWidth(JTable table) {\n    final TableColumnModel columnModel = table.getColumnModel();\n    for (int column = 0; column &lt; table.getColumnCount(); column++) {\n        int width = 15; // Min width\n        for (int row = 0; row &lt; table.getRowCount(); row++) {\n            TableCellRenderer renderer = table.getCellRenderer(row, column);\n            Component comp = table.prepareRenderer(renderer, row, column);\n            width = Math.max(comp.getPreferredSize().width +1 , width);\n        }\n        if(width &gt; 300)\n            width=300;\n        columnModel.getColumn(column).setPreferredWidth(width);\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/uGOeo.png\" alt=\"JTable\"></p>\n\n<p><em>This needs to be executed before the resize method.</em><br>\nIf you have:</p>\n\n<pre><code>table.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/7XNmQ.png\" alt=\"JTable\"></p>\n"},{"comments":[{"comment_id":124681747,"body":"This is the opposite of what was asked. &quot;table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);&quot; resizes all columns evenly without considering the content length."}],"answer_id":17631676,"body":"<p>There is no option to automatically resize one column larger than the other.</p>\n\n<p>Maybe you can to something like:</p>\n\n<pre><code>tca = new TableColumnAdjuster( table, 0 );\ntca.adjustColumns();\nTableColumnModel tcm = table.getColumnModel();  \nTableColumn tc = tcm.getColumn(1);\ntc.setWidth(tc.getWidth() + 25);\n</code></pre>\n\n<p>This would allow you to add extra space to column 1. This extra space would only be added the first time the table is displayed.</p>\n\n<p>Another option is to use:</p>\n\n<pre><code>table.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS);\n</code></pre>\n\n<p>This would allocate extra space proportionally to each column.</p>\n"},{"answer_id":25909358,"body":"<p>You can do this:</p>\n\n<pre><code>JPanel jp = new JPanel();\njp.add(table);\n\njp.setLayout(new GridLayout(1,1)); /* little trick ;) and believe me that this step is important to the automatic all columns resize! A import is also needed for using GridLayout*/\ntable.setAutoResizeMode(JTable.AUTO_RESIZE_ALL_COLUMNS); // this is obvius part\n</code></pre>\n"},{"answer_id":43301100,"body":"<p><strong>setAutoResizeMode()</strong> will tell your table how to resize you should give it a try will all different options available to see the differences, in My case I wanted to specifically resize two columns and let it decide how to adjust all the other ones.</p>\n\n<pre><code>jTable1.setAutoResizeMode(JTable.AUTO_RESIZE_NEXT_COLUMN);\nTableColumnModel colModel=jTable1.getColumnModel();\ncolModel.getColumn(1).setPreferredWidth(25);    \ncolModel.getColumn(2).setPreferredWidth(400);\n</code></pre>\n"},{"answer_id":73748381,"body":"<p>With a slight modification to <a href=\"https://stackoverflow.com/a/17627497/5645656\">Paul Vargas's answer</a>, you can also take into account the column header size:</p>\n<pre><code>public static void resizeColumnWidth(JTable table) {\n    final TableColumnModel columnModel = table.getColumnModel();\n    for (int column = 0; column &lt; table.getColumnCount(); column++) {\n        // Account for header size\n        double width = table.getTableHeader().getHeaderRect(column).getWidth();\n        for (int row = 0; row &lt; table.getRowCount(); row++) {\n            TableCellRenderer renderer = table.getCellRenderer(row, column);\n            Component comp = table.prepareRenderer(renderer, row, column);\n            width = Math.max(comp.getPreferredSize().width + 1, width);\n        }\n        if (width &gt; 300)\n            width = 300;\n        columnModel.getColumn(column).setPreferredWidth((int) width);\n    }\n}\n</code></pre>\n"},{"answer_id":76258381,"body":"<p>With a slight modification to <a href=\"https://stackoverflow.com/a/73748381/294317\">Paul Vargas's answer</a>, you can also take into account the column header's content:</p>\n<pre><code>public static void resizeColumnWidth(JTable table)\n{\n      TableCellRenderer renderer;\n      TableColumn column;\n      Component component;\n      Object header;\n      int rowIndex, minWidth, width;\n\n      column = table.\n         getColumnModel().\n         getColumn(colIndex);\n\n      renderer = table.\n         getTableHeader().\n         getDefaultRenderer();\n\n      header    = column.getHeaderValue();\n      component = renderer.getTableCellRendererComponent(table, header, false, false, -1, colIndex);\n      width     = component.getPreferredSize().width;\n      minWidth  = Math.max(width, 0);\n\n      for (rowIndex = table.getRowCount(); --rowIndex &gt;= 0; )\n      {\n         renderer  = table.getCellRenderer(rowIndex, colIndex);\n         component = table.prepareRenderer(renderer, rowIndex, colIndex);\n         width     = component.getPreferredSize().width;\n         minWidth  = Math.max(minWidth, width);\n      }\n\n      column.setPreferredWidth(minWidth);\n    }\n</code></pre>\n<p>Note: This is different from <a href=\"https://stackoverflow.com/a/73748381/294317\">Cardinal System's answer</a> in that this code takes into account the header's content and Cardinal System's answer just takes into account the header's size.</p>\n"}],"last_activity_date":1684191237,"question_id":17627431,"body":"<p>I need my JTable to automatically re-size its column widths to fit the content. I found the <a href=\"http://tips4java.wordpress.com/2008/11/10/table-column-adjuster/\" rel=\"noreferrer\"><code>TableColumnAdjuster</code></a> class very useful. But there's a small problem. Say i have 5 columns, and their content is very short. In that case, if i use the auto adjuster, it sets the first four columns widths according to their content and gives all the rest of space to the last column. Please see the example.</p>\n\n<p><img src=\"https://i.stack.imgur.com/eWTz7.png\" alt=\"enter image description here\"></p>\n\n<p>Here the last column, <code>Balance</code> is given all the excess space. But what if i need to give that space to one of the middle columns. In the above case, i need to assign that space to the third column, <code>name</code>. I tried modifying the <code>TableColumnAdjuster</code> class's <code>adjustColumns()</code> method. But I couldn't get it working.</p>\n\n<p>I tried both <code>column.setPreferredWidth()</code> and <code>column.setWidth()</code> for changing column sizes. But seems it doesn't change anything. How can I effectively change the column sizes of a <code>JTable</code>. If there's some other alternative or a direct answer to my main problem, that's better. Thanks!</p>\n"},{"comments":[{"comment_id":134478254,"body":"Might be better asked on sister site <a href=\"https://dba.stackexchange.com/\">dba.stackexchange.com</a>"}],"answers":[{"answer_id":76258285,"body":"<p>I solved doing this:</p>\n<pre><code>alter table the_table\n   add content text;\n\nupdate the_table\n  set content = convert_from(lo_get(the_oid_column), 'UTF-8');\n\nselect lo_unlink(the_oid_column)\nfrom the_table; \n\nalter table the_table\n   drop the_oid_column;\n</code></pre>\n"}],"last_activity_date":1684189704,"question_id":76257779,"body":"<p>We have a postgres database with a table with about 20K rows.</p>\n<p>The software is written in java/spring using jpa and developers used large object (@Lob) to store some long strings without worry to the lenght but now, especially with quite large row selects, the queries take a lot of time to execute.</p>\n<p>First question is why with large object queries are so slow? It it because every large object require a sort of join with postgres table for large object?</p>\n<p>Second question is: how can we migrate await from large objects and move to standard columns? At the end we need about 2000-3000 character at maximum.</p>\n<p>I wrote a small java program to to this but the query is so slow that really take lot of time to execute.</p>\n"},{"last_activity_date":1684189253,"question_id":76258246,"body":"<p>I'm facing an issue with GWT-RPC which I'm currently struggling to find a solution to. I have this RPC call:</p>\n<pre><code>public abstract class MyAppOverviewController extends MyAppBaseController {\n\n    protected void onDelete(final AppEvent event) {\n        ClientSession.showDeleting();\n        \n        commonWebClientServiceAsync.delete(getCommonRequestModel(event, getRequiredDefaultValues()), new AsyncCallback&lt;CommonResponseModel&gt;() {\n            @Override\n            public void onSuccess(CommonResponseModel result) {\n                forwardToView(view, new AppEvent(event.getType(), result));\n                event.setData(null);\n                        \n                if (getReloadEvent() != null) {\n                    Dispatcher.forwardEvent(getReloadEvent());\n                }\n            }\n\n            @Override\n            public void onFailure(Throwable caught) {\n                Dispatcher.forwardEvent(CommonEvents.Error, caught);\n            }\n        });\n    }\n}\n</code></pre>\n<p>When I run this code, I end up in the onFailure() method and I can see in the browser network tab, that the payload is missing entirely:</p>\n<p><a href=\"https://i.stack.imgur.com/N6lm4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N6lm4.png\" alt=\"enter image description here\" /></a></p>\n<p>The error message int he caught Throwable is not very telling to me:</p>\n<pre><code>Error: com.google.gwt.user.client.rpc.StatusCodeException: 0  \n    at UPn_g$.A5b_g$ [as createError_0_g$] (myappWebGui-0.js:44938:10)\n    at UPn_g$.L5b_g$ [as initializeBackingError_0_g$] (myappWebGui-0.js:45001:44)\n    at UPn_g$.u5b_g$ (myappWebGui-0.js:44854:8)\n    at UPn_g$.a6b_g$ (myappWebGui-0.js:45119:10)\n    at UPn_g$.e6k_g$ (myappWebGui-0.js:287308:10)\n    at UPn_g$.WNn_g$ (myappWebGui-0.js:316166:10)\n    at new UPn_g$ (myappWebGui-0.js:316719:10)\n    at _ao_g$.cbo_g$ [as onResponseReceived_0_g$] (myappWebGui-0.js:323154:21)\n    at NSm_g$.QSm_g$ [as fireOnResponseReceived_0_g$] (myappWebGui-0.js:300875:17)\n    at CTm_g$.DTm_g$ [as onReadyStateChange_0_g$] (myappWebGui-0.js:301183:28)\n    at XMLHttpRequest.&lt;anonymous&gt; (myappWebGui-0.js:332669:18)\n    at Lel_g$ (myappWebGui-0.js:288705:28)\n    at Oel_g$ (myappWebGui-0.js:288761:16)\n    at XMLHttpRequest.&lt;anonymous&gt; (myappWebGui-0.js:288741:14)\n    at XMLHttpRequest.qe (http://localhost:8080/eWorld/logstar.js:2:11440)\n    at T.invokeTask (http://localhost:8080/eWorld/logstar.js:2:7159)\n    at I.runTask (http://localhost:8080/eWorld/logstar.js:2:2554)\n    at m.invokeTask [as invoke] (http://localhost:8080/eWorld/logstar.js:2:8210)\n    at S (http://localhost:8080/eWorld/logstar.js:2:20109)\n    at XMLHttpRequest.D (http://localhost:8080/eWorld/logstar.js:2:20353)\n</code></pre>\n<p>I'm not very proficient when it come to GWT-RPC debugging. how can I find out what goes wrong here during serialization?</p>\n"}]}