{"items":[{"comments":[{"comment_id":134572257,"body":"Search for Jackson JavaTimeModule."},{"comment_id":134572790,"body":"Yeah thank you very much, I&#39;m trying that way. But with JavaTimeModule, how can I convert the above mentioned dateTime into a string?"}],"answers":[{"comments":[{"comment_id":134572620,"body":"I am neither of those. I am using an API and receive these data. Then I&#39;m processing them and send them in a different format. My problem is that I can&#39;t convert the above json into a datetime string (as I mention)."},{"comment_id":134572965,"body":"If you&#39;re using API, process somethins, and then send, then it means you&#39;re consuming others api and produce your own api. Solutions at the provided link and provided code should help you"}],"answer_id":76313849,"body":"<p>Seems there're already <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">answer</a> for your question.</p>\n<p>It's not clear whether you're consumer or producer of those values, but on case of both, you can handle it by specifiyng getter and setter with appropriate annotations on it:</p>\n<pre><code>public class DtoObject {\n  private ZonedDateTime dateTimeField;\n\n  // Used during serialization\n  @JsonProperty(&quot;startTime&quot;)\n  @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\n  public ZonedDateTime getStartTime() {\n    return dateTimeField;\n  }\n\n  // Used during deserialization\n  // eg. @JsonFormat(pattern = &quot;yyyy-MM-dd&quot;) \n  public void setDateTimeField(ZonedDateTime dateTimeField) {\n    this.dateTimeField = dateTimeField;\n  }\n}\n</code></pre>\n"}],"last_activity_date":1684838510,"question_id":76313495,"body":"<p>First of all I'm not a Java developer, and so this may seem very easy for you, but I find it difficult :(\nI was handed a Java Spring Boot application and I only need to change one thing.\nAmong other data in the json data I handle, I have the following:</p>\n<pre><code>&quot;valueSetAt&quot;:{\n   &quot;dateTime&quot;:{\n      &quot;date&quot;:{\n         &quot;year&quot;:2023,\n         &quot;month&quot;:5,\n         &quot;day&quot;:2\n      },\n      &quot;time&quot;:{\n         &quot;hour&quot;:13,\n         &quot;minute&quot;:1,\n         &quot;second&quot;:36,\n         &quot;nano&quot;:335000000\n      }\n   },\n   &quot;offset&quot;:{\n      &quot;totalSeconds&quot;:0\n   },\n   &quot;zone&quot;:{\n      &quot;id&quot;:&quot;UTC&quot;\n   }\n}\n</code></pre>\n<p>I need to convert this form of date and time to datetime of the format</p>\n<pre><code>&quot;startTime&quot;:\n   &quot;2023-03-31T13:00:00.000Z&quot;\n</code></pre>\n<p>The problem is, I can't do anything before the transformation because this wrong format is coming from an API to which I can't see or change anything. The developers from the API said that the transfomation occured when they processed the data to json.\nEssentialy I think that what I need is to above date and time to convert from ZonedDateTime to a String?\nApologies if my description is confusing, I'm trying to clear everything in my head.</p>\n<p>Thank you in advance :)</p>\n"},{"answers":[{"comments":[{"comment_id":134572469,"body":"Tried this. It gives an error to add &lt;identifier&gt;"}],"answer_id":76313818,"body":"<p>in onitemselectedview() function the if-else conditions are not working properly because of the  position variable that you used</p>\n<p>I recommend to declare the variable globally and declare the views globally you will not get any Error</p>\n"}],"last_activity_date":1684838277,"question_id":76312970,"body":"<p>I am making a temperature converter app that has two spinners, Fahrenheit and Celsius. I am trying to put a logic such that the app calculates the correct temperature based on if the user wants to convert Fahrenheit into Celsius or vice versa, only upon clicking the button to convert. I have tried every possible way I could figure out but nothing works.</p>\n<pre><code>package com.example.lab02;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Spinner;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private EditText tValue;\n    private TextView result;\n    private Button convert;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        //Populating the Spinners\n        Spinner spinner = (Spinner) findViewById(R.id.spinner);\n        ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(this,\n                R.array.temperature_array, android.R.layout.simple_spinner_item);\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(adapter);\n\n        Spinner spinner2 = (Spinner) findViewById(R.id.spinner2);\n        ArrayAdapter&lt;CharSequence&gt; adapter1 = ArrayAdapter.createFromResource(this,\n                R.array.temperature_array, android.R.layout.simple_spinner_item);\n        adapter1.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner2.setAdapter(adapter1);\n\n\n        //Making the conversion work correctly\n        tValue = (EditText) findViewById(R.id.editTextNumberDecimal);\n            result = (TextView) findViewById(R.id.textView14);\n            convert = (Button) findViewById(R.id.button2);\n            convert.setOnClickListener(new View.OnClickListener(){\n                @Override\n                public void onClick(View view) {\n                    Spinner firstSpinner = (Spinner) findViewById(R.id.spinner);\n                    Spinner secondSpinner = (Spinner) findViewById(R.id.spinner2);\n\n                    String text1 = firstSpinner.getSelectedItem().toString();\n                    String text2 = secondSpinner.getSelectedItem().toString();\n\n\n                            double temp_double = Double.valueOf(tValue.getText().toString());\n                            NumberFormat formatter = new DecimalFormat(&quot;#0.00&quot;);\n\n                            spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n                                @Override\n                                public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int  position, long id) {\n\n                                    if(position == 0){\n                                        double fahrenheit = (temp_double - 32) * 5 / 9;\n                                        result.setText(String.valueOf(formatter.format(fahrenheit)));\n                                    }\n                                    else if(position == 1) {\n                                        double celsius = (temp_double * 9 / 5) + 32;\n                                        result.setText(String.valueOf(formatter.format(celsius)));\n                                    }\n                                    }\n                                @Override\n                                public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n                                }\n\n                            });\n                    }\n                };\n    });\n\n}\n}\n</code></pre>\n<p>[Screenshot:] (<a href=\"https://i.stack.imgur.com/CugaY.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/CugaY.png</a>)</p>\n<p>I also tried using text1 and text2 for if and else if conditions to match the string with &quot;Fahrenheit&quot; and &quot;Celsius&quot;, but the Result textview doesn't shows the result in that case.</p>\n<p>Basically in every case, the Result textView doesn't show the calculations or it only calculates only one formula whatever the spinners selections are in both the spinners.</p>\n"},{"last_activity_date":1684837968,"question_id":76313766,"body":"<p>The question is should you write native sql query to update just one field of an entity or maybe you can use simple <code>r2dbc.save(entity)</code> method and spring will know that you only need to updated one field here?</p>\n<p>If you actually have to write your own query maybe there is a way to describe it using method naming like this, but to update one field:</p>\n<pre><code>interface EntityR2dbcRepository : R2dbcRepository&lt;Entity, Long&gt; {\n    fun existsBySomeId(someId: Long): Mono&lt;Boolean&gt;\n}\n</code></pre>\n<p>Or maybe there is other, more efficient way to update just one field?</p>\n"},{"answers":[{"answer_id":76313483,"body":"<p>Lombok author here: You don't.</p>\n<p>You don't write test code to test that the inner workings of hibernate work correctly either; it's hibernate's job to test that. You don't test whether java's <code>switch</code> statement does what the spec says it does; it's team OpenJDK (the authors of <code>javac</code>)'s job to test that.</p>\n<p>If you're chasing 100% code coverage by your tests, configure your code coverage tool to exclude lombok-generated code.</p>\n"},{"answer_id":76313757,"body":"<p>You are testing only all args constructor. You can add test for no args constructor like:</p>\n<pre><code>    @Test\n    public void testABC() {\n        ABC abc = new ABC();\n        assertNotNull(abc); \n    }\n</code></pre>\n"}],"last_activity_date":1684837912,"question_id":76313443,"body":"<p><strong>How can I write the test cases for Lombok annotation?</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ABC{\n    \n    private String status;\n    private String errorCode;\n    private String message;\n    private String id;\n    private Long orderNumber;\n    private Long lineId;\n}\n//writing testcases for above class \n@Test\n    public void testupdate_1()throws Exception{\n        \n    \n    ABC result=new ABC();\n    result.setStatus(&quot;&quot;);\n    result.setErrorCode(&quot;&quot;);\n    result.setMessage(&quot;&quot;);\n    result.setId(&quot;&quot;);\n    result.setOrderNumber(123l);\n    result.setLineId(12l);;\n    assertNotNull(result);\n    assertEquals(&quot;&quot;, result.getStatus());\n    assertEquals(&quot;&quot;, result.getErrorCode());\n    assertEquals(&quot;&quot;, result.getMessage());\n    assertEquals(&quot;&quot;, result.getId());\n    assertEquals(Long.valueOf(123l), result.getOrderNumber());\n    assertEquals(Long.valueOf(12l), result.getLineId());\n    \n    }\n</code></pre>\n<p>even I tried this but code coverage is showing very less. Please, anyone can help me to find correct answer for this.</p>\n"},{"comments":[{"comment_id":70049166,"body":"Integer.toString(n).chars().map(a-&gt;a-&#39;0&#39;).toArray();"},{"comment_id":111880163,"body":"Added support for negative values check my answer below ( For new developers since it&#39;s been 8 years )"}],"answers":[{"answer_id":8033574,"body":"<p><code>temp2 = temp.substring(i);</code> will always return the empty string \"\".</p>\n\n<p>Instead, your loop should have the condition <code>i&lt;temp.length()</code>. And <code>temp2</code> should always be <code>temp.substring(i, i+1);</code>.</p>\n\n<p>Similarly when you're printing out <code>newGuess</code>, you should loop up to <code>newGuess.length</code> but not including. So your condition should be <code>i&lt;newGuess.length</code>.</p>\n"},{"comments":[{"comment_id":74450071,"body":"Or you can do array.add(0, temp %10) to avoid reversing the list."},{"comment_id":101782195,"body":"Even Jon Skeet&#39;s solution won&#39;t work for negative integers."}],"answer_id":8033588,"body":"<p>You don't need to convert <code>int</code> to <code>String</code>. Just use <code>% 10</code> to get the last digit and then divide your int by 10 to get to the next one.</p>\n<pre><code>int temp = test;\nArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\ndo{\n    array.add(temp % 10);\n    temp /= 10;\n} while  (temp &gt; 0);\n</code></pre>\n<p>This will leave you with ArrayList containing your digits in reverse order. You can easily revert it if it's required and convert it to int[].</p>\n"},{"answer_id":8033590,"body":"<p>It would be much simpler to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-int-\" rel=\"nofollow noreferrer\">String.split</a> method:</p>\n<pre><code>public static void fn(int guess) {\n    String[] sNums = Integer.toString(guess).split(&quot;&quot;);\n    for (String s : nums) {\n    ...\n</code></pre>\n"},{"comments":[{"comment_id":9873675,"body":"your functions can&#39;t store value 0"},{"comment_id":9874752,"body":"@hkinterview: They can store a <i>single</i> 0, but not leading zeroes. That&#39;s a problem with your design rather than my implementation though. Either you need to specify the length in the method call, or move away from <code>int</code> as a representation - because <code>00001</code> is the same <code>int</code> value as <code>1</code>."},{"comment_id":63020587,"body":"@JonSkeet Can you explain me why you have put <code>-&#39;0&#39;</code> in the line <code>newGuess[i] = temp.charAt(i) - &#39;0&#39;;</code>"},{"comment_id":63020603,"body":"@KasunSiyambalapitiya: Because that&#39;s the simplest way to get from <code>&#39;0&#39;, &#39;1&#39;, &#39;2&#39;</code> etc to the integer representations of those digits."},{"comment_id":63020902,"body":"@JonSkeet Pardon me. I still didn&#39;t got it, in the above example String <code>temp</code> will become =&quot;1234&quot;. so when we get <code>temp.charAt(0)</code> it is <code>1</code> ,<code>temp.charAt(1)</code> it is <code>2</code>  and so on. but why is that value not assign to the <code>int array</code> as <code>newGuess[0]=1</code>,<code>newGuess[1]=2</code> and so on"},{"comment_id":63021021,"body":"@KasunSiyambalapitiya, no, <code>temp.charAt(0)</code> isn&#39;t <code>1</code>, it&#39;s <code>&#39;1&#39;</code> - the <i>character</i> &#39;1&#39;. That has an integer value of 49, because the Unicode character 49 is the digit 1. It&#39;s important to differentiate between the <i>character</i> value and the integer value that it represents as a digit."},{"comment_id":101515501,"body":"<code>newGuess[i] = Character.getNumericValue(temp.charAt(i))</code> can also be used in place of <code>newGuess[i] = temp.charAt(i) - &#39;0&#39;</code>"},{"comment_id":111879469,"body":"What about negative numbers this is an incomplete answer"},{"comment_id":111879673,"body":"@Phil: I&#39;m not sure the question really makes sense for a negative number, and it doesn&#39;t look like the OP needed that (and certainly their original code didn&#39;t try to handle it)."},{"comment_id":111879790,"body":"@JonSkeet i know but i just had a use case for a negative number :( this was my reference and the time ran out so :(("}],"answer_id":8033593,"body":"<p>The immediate problem is due to you using <code>&lt;= temp.length()</code> instead of <code>&lt; temp.length()</code>. However, you can achieve this a lot more simply. Even if you use the string approach, you can use:</p>\n\n<pre><code>String temp = Integer.toString(guess);\nint[] newGuess = new int[temp.length()];\nfor (int i = 0; i &lt; temp.length(); i++)\n{\n    newGuess[i] = temp.charAt(i) - '0';\n}\n</code></pre>\n\n<p>You need to make the same change to use <code>&lt; newGuess.length()</code> when printing out the content too - otherwise for an array of length 4 (which has valid indexes 0, 1, 2, 3) you'll try to use <code>newGuess[4]</code>. The vast majority of <code>for</code> loops I write use <code>&lt;</code> in the condition, rather than <code>&lt;=</code>.</p>\n"},{"answer_id":8033595,"body":"<p>The <code>&lt;=</code> in the for statement should be a <code>&lt;</code>.</p>\n<p>BTW, it is possible to do this much more efficiently without using strings, but instead using <code>/10</code> and <code>%10</code> of integers.</p>\n"},{"answer_id":8033611,"body":"<p>You don't have to use <code>substring(...)</code>.  Use <code>temp.charAt(i)</code> to get a digit and use the following code to convert <code>char</code> to <code>int</code>.</p>\n\n<pre><code>char c = '7';\nint i = c - '0';\nSystem.out.println(i);\n</code></pre>\n"},{"comments":[{"comment_id":41076163,"body":"The question refers to converting an int not a String"}],"answer_id":25278643,"body":"<pre><code>public static void main(String k[])\n{  \n    System.out.println (\"NUMBER OF VALUES =\"+k.length);\n    int arrymy[]=new int[k.length];\n    for (int i = 0; i &lt; k.length; i++)\n    {\n        int newGues = Integer.parseInt(k[i]);\n        arrymy[i] = newGues;\n    }\n}\n</code></pre>\n"},{"answer_id":30022561,"body":"<p>Use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n{\n    int num = 1234567;\n    int[] digits = Integer.toString(num).chars().map(c -&gt; c-'0').toArray();\n    for(int d : digits)\n        System.out.print(d);\n}\n</code></pre>\n<p>The main idea is</p>\n<ol>\n<li><p>Convert the int to its String value</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.toString(num);\n</code></pre>\n</li>\n<li><p>Get a stream of int that represents the ASCII value of each char(~digit) composing the String version of our integer</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.toString(num).chars();\n</code></pre>\n</li>\n<li><p>Convert the ASCII value of each character to its value.\nTo get the actual int value of a character, we have to subtract the ASCII code value of the character '0' from the ASCII code of the actual character.\nTo get all the digits of our number, this operation has to be applied on each character (corresponding to the digit) composing the string equivalent of our number which is done by applying the map function below to our IntStream.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer.toString(num).chars().map(c -&gt; c-'0');\n</code></pre>\n</li>\n<li><p>Convert the stream of int to an array of int using toArray()</p>\n <pre class=\"lang-java prettyprint-override\"><code> Integer.toString(num).chars().map(c -&gt; c-'0').toArray();\n</code></pre>\n</li>\n</ol>\n"},{"answer_id":31674057,"body":"<p>Call this function:</p>\n<pre><code>  public int[] convertToArray(int number) {\n    int i = 0;\n    int length = (int) Math.log10(number);\n    int divisor = (int) Math.pow(10, length);\n    int temp[] = new int[length + 1];\n\n    while (number != 0) {\n        temp[i] = number / divisor;\n        if (i &lt; length) {\n            ++i;\n        }\n        number = number % divisor;\n        if (i != 0) {\n            divisor = divisor / 10;\n        }\n    }\n    return temp;\n}\n</code></pre>\n"},{"answer_id":36343369,"body":"<p>I can suggest the following method:</p>\n<blockquote>\n<p>Convert the number to a string → convert the string into an array of characters → convert the array of characters into an array of integers</p>\n</blockquote>\n<p>Here comes my code:</p>\n<pre><code>public class test {\n\n    public static void main(String[] args) {\n\n        int num1 = 123456; // Example 1\n        int num2 = 89786775; // Example 2\n\n        String str1 = Integer.toString(num1); // Converts num1 into String\n        String str2 = Integer.toString(num2); // Converts num2 into String\n\n        char[] ch1 = str1.toCharArray(); // Gets str1 into an array of char\n        char[] ch2 = str2.toCharArray(); // Gets str2 into an array of char\n\n        int[] t1 = new int[ch1.length]; // Defines t1 for bringing ch1 into it\n        int[] t2 = new int[ch2.length]; // Defines t2 for bringing ch2 into it\n\n        for(int i=0;i&lt;ch1.length;i++) // Watch the ASCII table\n            t1[i]= (int) ch1[i]-48; // ch1[i] is 48 units more than what we want\n\n        for(int i=0;i&lt;ch2.length;i++) // Watch the ASCII table\n            t2[i]= (int) ch2[i]-48; // ch2[i] is 48 units more than what we want\n        }\n    }\n</code></pre>\n"},{"comments":[{"comment_id":114450258,"body":"But the question is tagged with Java(?)."}],"answer_id":39190450,"body":"<p>In Scala, you can do it like:</p>\n<pre><code>def convert(a: Int, acc: List[Int] = Nil): List[Int] =\n  if (a &gt; 0) convert(a / 10, a % 10 +: acc) else acc\n</code></pre>\n<p>In one line and without reversing the order.</p>\n"},{"comments":[{"comment_id":76983665,"body":"When you&#39;re answering questions, try to include a full working code sample. In some cases the person asking the question isn&#39;t clear on how a possible solution might work, so providing a code example that they may have to troubleshoot before they can apply it can be frustrating and more confusing. In this case, the original question is almost 6 years old, and already has an answer that&#39;s been accepted. If you can, try reviewing unanswered questions, and see if there are any there that you could help with."}],"answer_id":45004581,"body":"<p>Use:</p>\n<pre><code>int count = 0;\nString newString = n + &quot;&quot;;\nchar [] stringArray = newString.toCharArray();\nint [] intArray = new int[stringArray.length];\nfor (char i : stringArray) {\n  int m = Character.getNumericValue(i);\n  intArray[count] = m;\n  count += 1;\n}\nreturn intArray;\n</code></pre>\n<p>You'll have to put this into a method.</p>\n"},{"comments":[{"comment_id":122156372,"body":"Why revert? Just do array.add(0, temp % 10)"}],"answer_id":45487438,"body":"<p>I can't add comments to <a href=\"https://stackoverflow.com/questions/8033550/convert-an-integer-to-an-array-of-digits/8033588#8033588\">Vladimir's solution</a>, but I think that this is more efficient also when your initial numbers could be also below 10.</p>\n<p>This is my proposal:</p>\n<pre><code>int temp = test;\nArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\ndo{\n  array.add(temp % 10);\n  temp /= 10;\n} while  (temp &gt; 1);\n</code></pre>\n<p>Remember to reverse the array.</p>\n"},{"answer_id":46275573,"body":"<p>You can use:</p>\n<pre><code>private int[] createArrayFromNumber(int number) {\n    String str = (new Integer(number)).toString();\n    char[] chArr = str.toCharArray();\n    int[] arr = new int[chArr.length];\n    for (int i = 0; i&lt; chArr.length; i++) {\n        arr[i] = Character.getNumericValue(chArr[i]);\n    }\n    return arr;\n}\n</code></pre>\n"},{"answer_id":47643402,"body":"<p>You can just do:</p>\n<p><code>char[] digits = string.toCharArray();</code></p>\n<p>And then you can evaluate the chars as integers.</p>\n<p>For example:</p>\n<pre><code>char[] digits = &quot;12345&quot;.toCharArray();\nint digit = Character.getNumericValue(digits[0]);\nSystem.out.println(digit); // Prints 1\n</code></pre>\n"},{"answer_id":49378811,"body":"<p>Here is the function that takes an integer and return an array of digits.</p>\n<pre><code>static int[] Int_to_array(int n)\n{\n    int j = 0;\n    int len = Integer.toString(n).length();\n    int[] arr = new int[len];\n    while(n!=0)\n    {\n        arr[len-j-1] = n % 10;\n        n = n / 10;\n        j++;\n    }\n    return arr;\n}\n</code></pre>\n"},{"answer_id":50655509,"body":"<p>First take input from the user as int, convert it into <code>String</code>, and make a character array of size of <code>str.length()</code>. Now populate a character array with a <em>for</em> loop using <code>charAt()</code>.</p>\n<pre><code>Scanner sc = new Scanner(System.in);\nint num = sc.nextInt();\nString str = Integer.toString(num);\nchar [] ch = new char [str.length()];\n\nfor(int i=0; i&lt;str.length(); i++)\n{\n    ch[i] = str.charAt(i);\n}\n\nfor(char c: ch)\n{\n    System.out.print(c +&quot; &quot;);\n}\n</code></pre>\n"},{"answer_id":53156980,"body":"<p>You can do something like this:</p>\n<pre><code>public int[] convertDigitsToArray(int n) {\n\n    int [] temp = new int[String.valueOf(n).length()]; // Calculate the length of digits\n    int i = String.valueOf(n).length()-1 ;  // Initialize the value to the last index\n\n    do {\n        temp[i] = n % 10;\n        n = n / 10;\n        i--;\n    } while(n&gt;0);\n\n    return temp;\n}\n</code></pre>\n<p>This will also maintain the order.</p>\n"},{"answer_id":54074104,"body":"<p>I can not add comments to <a href=\"https://stackoverflow.com/questions/8033550/convert-an-integer-to-an-array-of-digits/8033588#8033588\">the decision of Vladimir</a>, but you can immediately make an array deployed in the right direction. Here is my solution:</p>\n<pre><code>public static int[] splitAnIntegerIntoAnArrayOfNumbers (int a) {\n    int temp = a;\n    ArrayList&lt;Integer&gt; array = new ArrayList&lt;Integer&gt;();\n    do{\n        array.add(temp % 10);\n        temp /= 10;\n    } while  (temp &gt; 0);\n\n    int[] arrayOfNumbers = new int[array.size()];\n    for(int i = 0, j = array.size()-1; i &lt; array.size(); i++,j--) \n        arrayOfNumbers [j] = array.get(i);\n    return arrayOfNumbers;\n}\n</code></pre>\n<p>Important: This solution will not work for negative integers.</p>\n"},{"answer_id":56647582,"body":"<p>Try this!</p>\n\n<pre><code>\nint num = 1234; \n\nString s = Integer.toString(num); \n\nint[] intArray = new int[s.length()]; \n\n\nfor(int i=0; i&lt;s.length(); i++){\n    intArray[i] = Character.getNumericValue(s.charAt(i));\n}\n\n</code></pre>\n"},{"answer_id":56797548,"body":"<p>Let's solve that using recursion...</p>\n<pre><code>ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\n\nvoid intToArray(int num){\n    if( num != 0){\n        int temp = num %10;\n        num /= 10;\n        intToArray(num);\n        al.add(temp);\n    }\n}\n</code></pre>\n<p>Explanation:</p>\n<p>Suppose the value of <code>num</code> is 12345.</p>\n<p>During the first call of the function, <code>temp</code> holds the value 5 and a value of <code>num</code> = 1234. It is again passed to the function, and now <code>temp</code> holds the value 4 and the value of <code>num</code> is 123... This function calls itself till the value of <code>num</code> is not equal to 0.</p>\n<p>Stack trace:</p>\n<pre><code> temp - 5 | num - 1234\n temp - 4 | num - 123\n temp - 3 | num - 12\n temp - 2 | num - 1\n temp - 1 | num - 0\n</code></pre>\n<p>And then it calls the <em>add</em> method of ArrayList and the value of <code>temp</code> is added to it, so the value of list is:</p>\n<pre><code> ArrayList - 1\n ArrayList - 1,2\n ArrayList - 1,2,3\n ArrayList - 1,2,3,4\n ArrayList - 1,2,3,4,5\n</code></pre>\n"},{"answer_id":63269324,"body":"<p>I modified <a href=\"https://stackoverflow.com/questions/8033550/convert-an-integer-to-an-array-of-digits/8033593#8033593\">Jon Skeet's accepted answer</a> as it does not accept negative values.</p>\n<p>This now accepts and converts the number appropriately:</p>\n<pre><code>public static void main(String[] args) {\n    int number = -1203;\n    boolean isNegative = false;\n    String temp = Integer.toString(number);\n\n    if(temp.charAt(0)== '-') {\n        isNegative = true;\n    }\n    int len = temp.length();\n    if(isNegative) {\n        len = len - 1;\n    }\n    int[] myArr = new int[len];\n\n    for (int i = 0; i &lt; len; i++) {\n        if (isNegative) {\n            myArr[i] = temp.charAt(i + 1) - '0';\n        }\n        if(!isNegative) {\n            myArr[i] = temp.charAt(i) - '0';\n        }\n    }\n\n    if (isNegative) {\n        for (int i = 0; i &lt; len; i++) {\n            myArr[i] = myArr[i] * (-1);\n        }\n    }\n\n    for (int k : myArr) {\n        System.out.println(k);\n    }\n}\n</code></pre>\n<h3>Output</h3>\n<pre><code>-1\n-2\n0\n-3\n</code></pre>\n"},{"comments":[{"comment_id":117592420,"body":"That is JS the question is tagged as Java"}],"answer_id":65764334,"body":"<p>In Javascript, this single line will do the trick:</p>\n<pre><code>Array.from(String(12345), Number);\n</code></pre>\n<h2>Example</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const numToSeparate = 12345;\n\nconst arrayOfDigits = Array.from(String(numToSeparate), Number);\n\nconsole.log(arrayOfDigits);   //[1,2,3,4,5]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>Explanation</h2>\n<p>1- <code>String(numToSeparate)</code> will convert the number 12345 into a string, returning '12345'</p>\n<p>2- The <code>Array.from()</code> method creates a new Array instance from an array-like or iterable object, the string '12345' is an iterable object, so it will create an Array from it.</p>\n<p>3- But, in the process of automatically creating this new array, the <code>Array.from()</code> method will first pass any iterable element (every character in this case eg: '1', '2')  to the function we set to him as a second parameter, which is the <code>Number</code> function in this case</p>\n<p>4- The <code>Number</code> function will take any string character and will convert it into a number eg: <code>Number('1')</code>; will return <code>1</code>.</p>\n<p>5- These numbers will be added one by one to a new array and finally this array of numbers will be returned.</p>\n<p><strong>Summary</strong></p>\n<p>The code line <code>Array.from(String(numToSeparate), Number);</code> will convert the number into a string, take each character of that string, convert it into a number and put in a new array. Finally, this new array of numbers will be returned.</p>\n"},{"answer_id":66423642,"body":"<p>Without using String, Integer, ArrayList, Math:</p>\n<pre><code>// Actual number\nint n = 56715380;\n            \n            // Copy of the number\n            int m = n;\n            \n            // Find no. of digits as length\n            int ln = 0;\n            while (m &gt; 0) {\n                m = m / 10;\n                ln++;\n            }\n            \n            // Copy of the length\n            int len = ln;\n    \n            // Reverse the number\n            int revNum = 0;\n            ln--;\n            int base;\n            while (n &gt; 0) {\n                base = 1;\n                for (int i = 0; i &lt; ln; i++) {\n                    base = base * 10;\n                }\n                revNum = revNum + base * (n % 10);\n                n = n / 10;\n                ln--;\n            }\n    \n            // Store the reverse number in the array\n            int arr[] = new int[len];\n            for (int i = 0; revNum &gt; 0; i++) {\n                arr[i] = revNum % 10;\n                revNum = revNum / 10;\n            }\n            \n            // Print the array\n            for (int i = 0; i &lt; arr.length; i++) {\n                System.out.print(arr[i]);\n            }\n</code></pre>\n"},{"answer_id":76313697,"body":"<p>This approach will maintain the same order of the digits in the given number in the resultant array and also won't be using any collection APIs.</p>\n<ol>\n<li><p>Starting with the basic approach of reversing a number say <code>1234</code>. Get the last digit by modular division (<code>%</code>) by <code>10</code> and then divide the number by <code>10</code> to get the last digit. Do this until the number is greater than <code>0</code>.</p>\n</li>\n<li><p>So while getting each last digit you can store it in the array, so you need to initialize an array with the same number of digits in the number, you need to use a <code>String</code> functionality there. But with the above step, the resulting array will be in the reverse order of the digits in your number.</p>\n</li>\n<li><p>So start adding the number from the last index of the array to the first index.</p>\n<pre><code>int num = 1234;\nint[] ar = new int[String.valueOf(num).length()];\nint index = ar.length-1;\n\nwhile(num &gt; 0) {\n\n    ar[index--] = num % 10;\n    num = num/10;\n}\n\nSystem.out.println(java.util.Arrays.toString(ar));\n</code></pre>\n</li>\n</ol>\n"}],"last_activity_date":1684837600,"question_id":8033550,"body":"<p>I try to convert an integer to an array. For example, 1234 to <code>int[] arr = {1,2,3,4};</code>.</p>\n<p>I've written a function:</p>\n<pre><code>public static void convertInt2Array(int guess)  {\n    String temp = Integer.toString(guess);\n    String temp2;\n    int temp3;\n    int [] newGuess = new int[temp.length()];\n    for(int i=0; i&lt;=temp.length(); i++) {\n        if (i!=temp.length()) {\n            temp2 = temp.substring(i, i+1);\n        } else {\n            temp2 = temp.substring(i);\n            //System.out.println(i);\n        }\n        temp3 =  Integer.parseInt(temp2);\n        newGuess[i] = temp3;\n    }\n\n    for(int i=0; i&lt;=newGuess.length; i++) {\n        System.out.println(newGuess[i]);\n    }\n}\n</code></pre>\n<p>But an exception is thrown:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot; <br/>\nat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) <br/>\n<br/>\nat java.lang.Integer.parseInt(Integer.java:504) <br/>\nat java.lang.Integer.parseInt(Integer.java:527) <br/>\nat q4.test.convertInt2Array(test.java:28) <br/>\nat q4.test.main(test.java:14) <br/>\nJava Result: 1 <br/></p>\n</blockquote>\n<p>How can I fix this?</p>\n"},{"comments":[{"comment_id":134572079,"body":"I edited the question"},{"comment_id":134572101,"body":"&quot;what should I do to get output?&quot; -- implementing code that prints something would be a good start. &quot;Write it for me&quot; is not a popular question format around here."},{"comment_id":134572568,"body":"for better understanding take a look at this pdf  it has the question 1 <a href=\"https://lms.tedu.edu.tr/pluginfile.php/180667/mod_resource/content/2/Homework%203.pdf\" rel=\"nofollow noreferrer\">lms.tedu.edu.tr/pluginfile.php/180667/mod_resource/content/2&zwnj;&#8203;/&hellip;</a>"},{"comment_id":134572589,"body":"And for your better understanding: <a href=\"https://meta.stackoverflow.com/q/334822\">How do I ask and answer homework questions?</a> and <a href=\"https://softwareengineering.meta.stackexchange.com/q/6166\">Open letter to students with homework problems</a>"},{"comment_id":134575823,"body":"thank you and sorry this is my first time asking questions here on stack overflow, here is a document that explains the question 1 which I am stuck on, any help will be really appreciated, thank you. <a href=\"https://docs.google.com/document/d/1f0IqoDOBJKJFbMsz8wvFn3DJjm4_1fr5kqEU7A7vgNM/edit?usp=sharing\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"}],"last_activity_date":1684837592,"question_id":76313572,"body":"<p>In Esenboğa airport, there is a parking facility represented as a graph with N nodes and M edges. Each node represents a parking slot with a capacity. The edges have weights indicating the cost to travel between slots. All slots have the same parking fee F per vehicle. K identical vehicles enter the facility in sequential order. For each vehicle, print the minimum total cost, including the path cost and parking fee. Each vehicle enters from parking slot 1. Output -1 if a vehicle cannot enter a slot.</p>\n<p>Input: N, M, F (number of nodes, number of edges, parking fee), capacities of slots, connections between slots, K (number of vehicles)\nOutput: K space-separated integers representing the total cost for each vehicle\nwhere is the problem in my code\nThis code calculates the minimum cost for vehicles entering a parking facility.\nIt uses Dijkstra's algorithm to find the shortest path from the starting slot to all other slots, considering both the path cost and parking fee.\nThe output displays the total cost for each vehicle.\ninput\n5 4 20\n1 2 1 1 2\n1 2 2\n4 5 1\n3 4 2\n1 3 1\n5\nouput\n20 22 -1 -1 -1\nExpected output\n20 21 22 22 23</p>\n<pre><code>`class Node implements Comparable&lt;Node&gt; {\nint id;\nint cost;\n\nNode(int id, int cost) {\n    this.id = id;\n    this.cost = cost;\n}\n\npublic int compareTo(Node other) {\n    return Integer.compare(cost, other.cost);\n}\n}\n\nclass Edge {\nint to;\nint weight;\n\nEdge(int to, int weight) {\n    this.to = to;\n    this.weight = weight;\n}\n}\npublic class ParkingFacility {\npublic static void main(String[] args) {\n    // Step 1: Parse the input values\n\n\n    // Step 3: Initialize variables\n    int[] minCost = new int[N];\n    Arrays.fill(minCost, Integer.MAX_VALUE);\n    minCost[0] = 0; // Starting node (parking slot 1)\n    int[] totalCosts = new int[K];\n\n    // Step 4: Dijkstra's algorithm\n    PriorityQueue&lt;Node&gt; pq = new PriorityQueue&lt;&gt;();\n    pq.offer(new Node(0, 0));\n\n    while (!pq.isEmpty()) {\n        Node curr = pq.poll();\n        int node = curr.id;\n        int cost = curr.cost;\n\n        if (cost &gt; minCost[node]) {\n            continue;\n        }\n\n        for (Edge edge : graph.get(node)) {\n            int neighbor = edge.to;\n            int newCost = cost + edge.weight;\n\n            if (newCost &lt; minCost[neighbor]) {\n                minCost[neighbor] = newCost;\n                pq.offer(new Node(neighbor, newCost));\n            }\n        }\n    }\n\n    // Step 5: Calculate total cost for each vehicle\n    for (int vehicleNum = 1; vehicleNum &lt;= K; vehicleNum++) {\n        int destinationSlot = vehicleNum - 1;\n\n        if (vehicleNum &gt; capacities[destinationSlot]) {\n            totalCosts[vehicleNum - 1] = -1;\n        } else {\n            int totalCost = minCost[destinationSlot] + F;\n            totalCosts[vehicleNum - 1] = totalCost;\n        }\n    }\n\n    // Print the total cost for each vehicle\n   \n }\n }\n</code></pre>\n<p>`</p>\n"},{"comments":[{"comment_id":134571066,"body":"Your question is moot.  The spec of <code>read</code> does not say that the method will fill the supplied buffer (if possible) so your code shouldn&#39;t rely on that happening.  Your expectation (last paragraph) is INCORRECT."},{"comment_id":134571105,"body":"And the answer to &quot;when&quot; it will return less than the number of bytes that you expect is - that will depend on the implementation ... and it might change from one version to the next."},{"comment_id":134571367,"body":"@StephenC, I&#39;m not expecting my byte array to be filled, but I&#39;m expecting return value = supplied len value. i.e; the method reads said no. of bytes"},{"comment_id":134571565,"body":"That&#39;s what I mean.  The javadoc does not say that you will get <code>len</code> bytes.  Or even that you will get <code>len</code> bytes if there are <code>len</code> bytes left in the (inflated) stream.  All it guarantees is that you won&#39;t get zero bytes!  Read the javadocs carefully."},{"comment_id":134571676,"body":"Furthermore, why do you care? A properly written copy loop doesn&#39;t care how many actual bytes were read on each iteration. <code>while ((count = in.read(buffer)) &gt; 0) { out.write(buffer, 0, count); }</code>. Same for any other read loop: take account of the actual value returned by <code>read()</code>, and don&#39;t make any assumptions about it."},{"comment_id":134571742,"body":"@user207421 Because, I&#39;m not decompressing the file. I&#39;m just trying to read it and the format is in such a way that each line is prefixed by a header which contains size of the line. Is this the wrong way? Should I be decompressing the file first?"},{"comment_id":134571769,"body":"@StephenC I see. Sounds like I&#39;m using this stream for the wrong use case here."},{"comment_id":134571798,"body":"You <i>are</i> decompressing the file, because you&#39;re using <code>GZIPInputStream</code>., and you can&#39;t possibly get to see your line headers <i>unless</i> you decompress the file. Make up your mind. In any case it is immaterial. Take proper account of the value returned by <code>read()</code> and you should not have a problem."},{"comment_id":134571919,"body":"@user207421 Sure. By &quot;not decompressing&quot;, I mean, I&#39;m not looking to create a separate file which is the decompressed version of the .gz file I have."},{"comment_id":134571950,"body":"Irrelevant, <i>Whatever</i> you do with the buffer you provided to <code>read()</code>, it is invalid to process it beyond the count returned by <code>read()</code>. There is no basis anywhere for your expectation."},{"comment_id":134572094,"body":"@user207421 I see that &quot;len&quot; is &quot;the maximum number of bytes read&quot; and there is no guarantee as to how many bytes will be read. I&#39;ll change my code to deal with this. Thanks!"},{"comment_id":134572103,"body":"Correct.  That&#39;s what it means."}],"answers":[{"comments":[{"comment_id":134572035,"body":"Thanks for the elaboration. I see that &quot;len&quot; is &quot;the maximum number of bytes read&quot; and there is no guarantee as to how many bytes will be read. I&#39;ll change my code to deal with this. Thanks!"},{"comment_id":134572112,"body":"Correct.  That&#39;s what it means."}],"answer_id":76313542,"body":"<p>I'm going to answer this question in the reverse order that you asked it.</p>\n<blockquote>\n<p>I'm expecting the <code>GZIPInputStream.read(...)</code> method also to read all 490 bytes properly.</p>\n</blockquote>\n<p>While you may expect this, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/GZIPInputStream.html#read-byte:A-int-int-\" rel=\"nofollow noreferrer\">javadoc</a> for <code>read(buf, off, len)</code> does not state that that will happen.  What it actually says is this:</p>\n<blockquote>\n<p><em>&quot;Reads uncompressed data into an array of bytes. If <code>len</code> is not zero, the method will block until some input can be decompressed; otherwise, no bytes are read and 0 is returned.</em></p>\n<p><em>Returns: the actual number of bytes read, or -1 if the end of the compressed input stream is reached.&quot;</em></p>\n</blockquote>\n<p>It does NOT state ANYWHERE that <code>read</code> will return as many (available) bytes as will fit.</p>\n<p>So, basically, it is your <em>expectation</em> that is wrong.  You shouldn't write code that assumes that <code>read</code> will &quot;properly&quot; read all 490 bytes in one call.</p>\n<hr />\n<blockquote>\n<p>I'm wondering in which cases will the return value of the method be less than the supplied length parameter.</p>\n</blockquote>\n<p>The code is complicated.  It will be reading from the underlying stream in blocks.  Then, when it inflates a stream, it may turn turning a small number of compressed bytes into a large number of uncompressed bytes.  So, the <code>InflaterInputStream</code> layer has to deal with cases where advancing the input by one byte results in ... more bytes that will fit in the remainder of the user's buffer.</p>\n<p>So (to my mind) it is unsurprising that they would take the simple (and efficient) approach of not entirely fill up the buffer, leaving the unconsumed (compressed) bytes for the next <code>read</code> call<sup>1</sup>.</p>\n<p>And then there are mysterious &quot;GZIP trailer members&quot; which are dealt with at the <code>GZIPInputStream</code> layer.</p>\n<p>Like I said ... it is complicated.</p>\n<p>In short, there could be a number of cases where you may not get a number of bytes equal to <code>len</code>.  But it won't <em>help</em> you to know all of the details.  Especially since they <em>could</em> depend on what version of Java you use!</p>\n<p>What you need to know is that is it incorrect for your code to <em>assume</em> that it will get all of the bytes available in a single <code>read</code> call.  Even if the byte buffer that you provide is big enough.  You already have evidence that that assumption is incorrect.</p>\n<p><sup>1 - Though it does have to deal with that scenario in the pathological case where you call <code>read</code> with <code>len == 1</code>.</sup></p>\n<hr />\n<blockquote>\n<p>Sounds like I'm using this stream for the wrong use case here.</p>\n</blockquote>\n<p>No.  The use-case is fine.  The problem is that your code is using the <code>GZIPInputStream.read</code> method incorrectly.</p>\n<p>For what it is worth, this <code>read</code> method is behaving roughly the same way as a <code>read</code> on a <code>SocketInputStream</code> would behave if the &quot;other end&quot; of the socket was writing sporadically.  It gives you what is available <em>now</em>.</p>\n"}],"last_activity_date":1684837546,"question_id":76312946,"body":"<p>I have a .gz file which I'm trying to read using <code>GZIPInputStream</code>, fixed number of bytes at a time.\nI am using <code>GZIPInputStream.read(byte[] buf, int off, int len)</code> (ref: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/GZIPInputStream.html#read-byte:A-int-int-\" rel=\"nofollow noreferrer\">doc</a>) to do this.\nBut the method is reading only 397 bytes(return value of the above method) when the length supplied is 490.</p>\n<p>It didn't throw any exception.</p>\n<p>I'm wondering in which cases will the return value of the method be less than the supplied length parameter.</p>\n<p>What I understood from <a href=\"https://stackoverflow.com/questions/9551685/java-gzipinputstream-read-function\">this</a> question is that some of bytes we want to read might be in the next chunk(which is not uncompressed yet) and we might want to read again (not sure whether this is correct interpretation though).\nBut the documentation of the GZIPInputStream.read(...) doesn't talk about any such chunking.</p>\n<p>I uncompressed the .gz file manually and tried reading the uncompressed file using <code>RandomAccessFile.readFully(byte[] b)</code> (ref: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/RandomAccessFile.html#readFully-byte:A-\" rel=\"nofollow noreferrer\">doc</a>), which reads all 490 bytes properly.</p>\n<p>I'm expecting the GZIPInputStream.read(...) method also to read all 490 bytes properly.</p>\n"},{"comments":[{"comment_id":134572430,"body":"Not really sure what you are looking for - after the upload the lastModified will be the current date because that is exactly when you just last modified it."},{"comment_id":134573326,"body":"Also, the 2nd parameter of the <code>PutObjectRequest</code> constructor would be the key, so you should not give just <code>dir1</code>, if you want <code>dir1</code> to become a directory, use <code>&quot;dir1&#47;test.txt&quot;</code> as the 2nd parameter. And that file&#39;s LMT won&#39;t be transferred to the Object in S3. LastModifiedTime of the object in S3 will be exactly when the upload ended."},{"comment_id":134573462,"body":"If you want to retain your file&#39;s last modified time, you have to add it in the ObjectMetadata as a custom metadata parameter"}],"last_activity_date":1684837422,"question_id":76313676,"body":"<p>I am trying to fetch the lastmodified date from metadata after the file is uploaded to S3 at a path or prefix. Say you uploaded a file at yourbucketname/dir1/test.txt</p>\n<p>I am trying with Kotlin</p>\n<pre><code>val response = client.putObject(PutObjectRequest(&quot;yourbucketname&quot;, &quot;dir1&quot;, inputstream, objectmetaData))\n</code></pre>\n<p>and to fetch using <code>Date.from(response.metadata.lastModified.toInstant())</code> but obviously it is picking up the dir1's lastmodified date which is always null. How can I get the objects (test.txt) lastmodified date. Checked the AWS documentation <a href=\"https://docs.aws.amazon.com/sdk-for-kotlin/latest/developer-guide/kotlin_s3_code_examples.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html#API_PutObject_ResponseSyntax\" rel=\"nofollow noreferrer\">here</a> but could not find any. Does anyone know or point me to the documentation on this.</p>\n"},{"answers":[{"comments":[{"comment_id":24858578,"body":"Arg, why did I think it was an issue with the copyOption... Totally ignored the first two parameter types, thank you. Seems like I&#39;ve been coding for too long in the heat. ;-)"},{"comment_id":24932988,"body":"Uff, after copying the exported jar to a PC with Java 1.6 (that&#39;s why I mentioned that I need to be 1.6 compatible although I develop with Java 7 and compile for 1.6), it moans  &quot;Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: java.io.File.toPath()Lja va/nio/file/Path;&quot;  according to the documentations it&#39;s right, this method is only available since Java 7. (I wonder why this was not critized during development/design-time like other things I tried to use from Java 7 before, now I have to check everything by hand...)"},{"comment_id":128408291,"body":"I have one query about this :  if two persons are uploading a image which <b>name and type</b> is same but image is different then who will upload in last with same type then previous image will replace with new image which has same type. what should i do for this <b>problem</b> because type and name is same but image is different so I don&#39;t want to replace it."},{"comment_id":128458153,"body":"@VikasRoy I suggest you ask a separate question explaining your specific issue."}],"answer_id":17169576,"body":"<p>You need to pass <code>Path</code> arguments as explained by the error message:</p>\n\n<pre><code>Path from = cfgFilePath.toPath(); //convert from File to Path\nPath to = Paths.get(strTarget); //convert from String to Path\nFiles.copy(from, to, StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n\n<p>That assumes your <code>strTarget</code> is a valid path.</p>\n"},{"answer_id":17169599,"body":"<p>strTarget is a \"String\" object and not a \"Path\" object</p>\n"},{"comments":[{"comment_id":24862625,"body":"I wonder if this will work when I compile with compliance level for Java 1.6 as mentioned, but in any case thanks for the note, will keep it in mind for the future."},{"comment_id":24864336,"body":"@commander_keen do you mean the code you will deploy to runs 1.6 JVMs?"},{"comment_id":24933627,"body":"That is correct. As now recognized in the comments above, the whole Path thing and copy methods won&#39;t work. :-( Have to figure out how to copy files with Java 1.6 methods only and implement it again. Hints on best practice for 1.6 are welcome, though."},{"comment_id":62817118,"body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">File<b>s</b></a> != <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">File</a>. File<b>s</b> is part of nio. Please don&#39;t write 60 lines of boilerplate to avoid using Files.copy."},{"comment_id":62829848,"body":"@suriv the OP says he has to use Java 6... And yes, I know JSR 203. Quite well in fact."}],"answer_id":17169700,"body":"<p>As a complement to @assylias' answer:</p>\n\n<p>If you use Java 7, drop <code>File</code> entirely. What you want is <code>Path</code> instead.</p>\n\n<p>And to get a <code>Path</code> object matching a path on your filesystem, you do:</p>\n\n<pre><code>Paths.get(\"path/to/file\"); // argument may also be absolute\n</code></pre>\n\n<p>Get used to it real fast. Note that if you still use APIs which require <code>File</code>, <code>Path</code> has a <code>.toFile()</code> method.</p>\n\n<p>Note that if you are in the unfortunate case where you use an API which returns <code>File</code> objects, you can always do:</p>\n\n<pre><code>theFileObject.toPath()\n</code></pre>\n\n<p>But in code of yours, use <code>Path</code>. Systematically. Without a second thought.</p>\n\n<p><strong>EDIT</strong> Copying a file to another using 1.6 using NIO can be done as such; note that the <code>Closer</code> class is inspited by <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Closer.html\" rel=\"noreferrer\">Guava</a>:</p>\n\n<pre><code>public final class Closer\n    implements Closeable\n{\n    private final List&lt;Closeable&gt; closeables = new ArrayList&lt;Closeable&gt;();\n\n    // @Nullable is a JSR 305 annotation\n    public &lt;T extends Closeable&gt; T add(@Nullable final T closeable)\n    {\n        closeables.add(closeable);\n        return closeable;\n    }\n\n    public void closeQuietly()\n    {\n        try {\n            close();\n        } catch (IOException ignored) {\n        }\n    }\n\n    @Override\n    public void close()\n        throws IOException\n    {\n        IOException toThrow = null;\n        final List&lt;Closeable&gt; l = new ArrayList&lt;Closeable&gt;(closeables);\n        Collections.reverse(l);\n\n        for (final Closeable closeable: l) {\n            if (closeable == null)\n                continue;\n            try {\n                closeable.close();\n            } catch (IOException e) {\n                if (toThrow == null)\n                    toThrow = e;\n            }\n        }\n\n        if (toThrow != null)\n            throw toThrow;\n    }\n}\n\n// Copy one file to another using NIO\npublic static void doCopy(final File source, final File destination)\n    throws IOException\n{\n    final Closer closer = new Closer();\n    final RandomAccessFile src, dst;\n    final FileChannel in, out;\n\n    try {\n        src = closer.add(new RandomAccessFile(source.getCanonicalFile(), \"r\");\n        dst = closer.add(new RandomAccessFile(destination.getCanonicalFile(), \"rw\");\n        in = closer.add(src.getChannel());\n        out = closer.add(dst.getChannel());\n        in.transferTo(0L, in.size(), out);\n        out.force(false);\n    } finally {\n        closer.close();\n    }\n}\n</code></pre>\n"},{"answer_id":54767775,"body":"<pre><code>package main.java;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardCopyOption;\n\npublic class CopyFileOnExist {\n\n    public static void main(String[] args)  {\n\n        Path sourceDirectory = Paths.get(\"C:/Users/abc/Downloads/FileNotFoundExceptionExample/append.txt\");\n        Path targetDirectory = Paths.get(\"C:/Users/abc/Downloads/FileNotFoundExceptionExample/append5.txt\");\n\n        //copy source to target using Files Class\n        try {\n            Files.copy(sourceDirectory, targetDirectory,StandardCopyOption.REPLACE_EXISTING);\n        } catch (IOException e) {\n            System.out.println(e.toString());\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":134572614,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76313660/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76313660,"body":"<p>your statement Files.copy(path,Stringor address,StandardCopyOption) is this While you are giving a String where you have to set path of where you want to save file.\nSo simple Use this statement below:-</p>\n<p>Files.copy(path,Paths.get(String or address),StandardCopyOption) by using Paths.get converts String into File location or path source path where you have to save file.</p>\n"}],"last_activity_date":1684837326,"question_id":17169541,"body":"<p>I'm trying to copy a file with java.nio.file.Files like this:</p>\n\n<pre><code>Files.copy(cfgFilePath, strTarget, StandardCopyOption.REPLACE_EXISTING);\n</code></pre>\n\n<p>The problem is that Eclipse says \"The method copy(Path, Path, CopyOption...) in the type Files is not applicable for the arguments (File, String, StandardCopyOption)\"</p>\n\n<p>I'm using Eclipse and Java 7 on Win7 x64. My project is set up to use Java 1.6 compatibility.</p>\n\n<p>Is there a solution to this or do I have to create something like this as a workaround:</p>\n\n<pre><code>File temp = new File(target);\n\nif(temp.exists())\n  temp.delete();\n</code></pre>\n\n<p>Thanks.</p>\n"},{"comments":[{"comment_id":134557941,"body":"Can you <code>docker run</code> your image normally?  (As it is constructed, I&#39;d be surprised if <code>docker run ... bash</code> gave you an interactive shell.)  If the problem is specifically in Minikube, can you <a href=\"https://stackoverflow.com/posts/76301618/edit\">edit</a> the question to include your Kubernetes Deployment YAML file?"},{"comment_id":134562049,"body":"@DavidMaze Just added my deployment config. I had a typo, I didn&#39;t use <code>bash</code> but used <code>docker run maxrybalkin91&#47;revise-words-ws:1.0</code> and saw the app logs in console, which means that the <code>jar</code> was found in the image and was executed"},{"comment_id":134571854,"body":"I just tried a <code>docker run maxrybalkin91&#47;revise-words-ws:1.0</code>, and it seems the application starts up but complains about missing configuration. Have not tried the environment you specified. But: The title of the question states the jar is not found - and that is not true. What are we searching here?"},{"comment_id":134572381,"body":"@Queeg it doesn&#39;t find the configuration because it&#39;s taken from vault, which is run in my minikube"},{"comment_id":134572400,"body":"@Queeg We&#39;re searching for a reason why the image is starting in docker, even with an error; but isn&#39;t starting in Kubernetes"}],"answers":[{"comments":[{"comment_id":134565276,"body":"I added <code>RUN ls ..&#47;app&#47;</code> to my Dockerfile, and here is the build log <code>---&gt; Running in fc6abc20b853 ws.jar</code>"}],"answer_id":76301979,"body":"<p>As ENTRYPOINT you specify Java to run <code>./ws.jar</code>, assuming it would resolve from within work directory <code>/app</code>.\nAt runtime you get the error message that <code>/ws.jar</code> is not accessible, which looks like an absolute path.</p>\n<p>When running your container with /bin/bash, please check out where your jar file exists and which mode it has. Then decide who is right and who is broken: Your docker file or your error message. Fix the broken one.</p>\n"},{"comments":[{"comment_id":134562208,"body":"I&#39;ve tried that. Didn&#39;t help. Interesting thing that running docker image using <code>docker run</code> finds the jar and starts the app"},{"comment_id":134565334,"body":"Just tried this <code>ENTRYPOINT java $JAVA_OPTS -jar ..&#47;app&#47;ws.jar  $JAVA_ARGS</code>, ant it neither helped"},{"comment_id":134568813,"body":"Making <code>docker run ...</code> successful is the whole point. If you reached that, what else do you need?"},{"comment_id":134569496,"body":"It doesn&#39;t work in kubernetes, my pod fails with the main error"},{"comment_id":134571978,"body":"So what is the &#39;main error&#39;? Maybe add that to your question. What I perceived is not related to missing jars."}],"answer_id":76307710,"body":"<p>If, as you say the jar file is in the right location (and I assume that is /app), how about using the absolute path for execution?</p>\n<pre><code>ENTRYPOINT java $JAVA_OPTS -jar $APP_HOME/ws.jar $JAVA_ARGS\n</code></pre>\n"},{"comments":[{"comment_id":134572447,"body":"It helped! Thanks a lot! Seems like it didn&#39;t use a new image, even it was rebuilt and pushed to my hub!"}],"answer_id":76313634,"body":"<p>As it seems a <code>docker run maxrybalkin91/revise-words-ws:1.0</code> brings up the application which complains about missing configuration data - but nowhere a jar file that is not found.</p>\n<p>Since in minikube you see a completely different error, is it possible you are running some outdated image?</p>\n<p>Try changing <code>imagePullPolilcy=Always</code> and see what you get.</p>\n<p><a href=\"https://kubernetes.io/docs/concepts/containers/images/\" rel=\"nofollow noreferrer\">https://kubernetes.io/docs/concepts/containers/images/</a></p>\n"}],"last_activity_date":1684837058,"question_id":76301618,"body":"<p>I'm using this <code>Dockerfile</code> configuration</p>\n<pre><code>FROM openjdk:17-alpine\n\nARG APP_HOME=/app\n\nWORKDIR $APP_HOME\n\nCOPY ./target/ws-exec.jar ws.jar\n\nENV JAVA_OPTS=&quot;-Dspring.profiles.active=prod -Dspring.application.name=words&quot;\n\nENTRYPOINT java $JAVA_OPTS -jar ./ws.jar $JAVA_ARGS\n</code></pre>\n<p>After deploying it to minikube, I see the only log:\n<code>Error: Unable to access jarfile /ws.jar</code>.</p>\n<p>I've tried to run <code>docker run -it &lt;image&gt;</code> with my image's name, and it successfuly started with docker. Running <code>docker exec -it &lt;container&gt;</code> shew me that the <code>jar</code> is present in the right folder. I tried to make the jar executable adding a <code>CMD</code> or <code>RUN</code> layer into my <code>Dockerfile</code>, but nothing helped.\nWhere is my mistake, or what I don't understand?</p>\n<p>UPD here is my deployment.yaml</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  labels:\n    app: revise-words-ws\n  name: revise-words-ws\n  namespace: default\nspec:\n  replicas: 1\n  minReadySeconds: 45\n  selector:\n    matchLabels:\n      app: revise-words-ws\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: revise-words-ws\n    spec:\n      containers:\n        - image: maxrybalkin91/revise-words-ws:1.0\n          imagePullPolicy: IfNotPresent\n          name: revise-words-ws\n          env:\n            - name: VAULT_TOKEN\n              valueFrom:\n                secretKeyRef:\n                  name: words\n                  key: vault_token\n            - name: VAULT_HOST\n              valueFrom:\n                secretKeyRef:\n                  name: words\n                  key: vault_host\n            - name: VAULT_PORT\n              valueFrom:\n                secretKeyRef:\n                  name: words\n                  key: vault_port\n          ports:\n            - name: liveness-port\n              containerPort: 8089\n          resources:\n            requests:\n              cpu: 100m\n              memory: 256Mi\n            limits:\n              cpu: 300m\n              memory: 512Mi\n          readinessProbe:\n            httpGet:\n              path: /\n              port: liveness-port\n            failureThreshold: 5\n            periodSeconds: 10\n            initialDelaySeconds: 60\n          livenessProbe:\n            httpGet:\n              path: /\n              port: liveness-port\n            failureThreshold: 5\n            periodSeconds: 10\n            initialDelaySeconds: 60\n            terminationGracePeriodSeconds: 30\n      restartPolicy: Always\n</code></pre>\n"},{"comments":[{"comment_id":134481997,"body":"It&#39;s unclear what you are asking. You have no asked a single question in your body. What is your goal here?"},{"comment_id":134482492,"body":"upd: What part of the standard describes this behavior?"},{"comment_id":134555982,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8497660/how-do-you-disable-lazy-class-loading-initialization-in-suns-jvm\">How do you disable lazy class loading/initialization in Sun&#39;s JVM?</a>"}],"answers":[{"comments":[{"comment_id":134482799,"body":"don&#39;t you see that getName() succeeds?"},{"comment_id":134554858,"body":"@basin I&#39;ve updated my answer. I think I&#39;m still missing something"}],"answer_id":76260817,"body":"<p>I've run your code on Java 11 with <code>-Xlog:class+init</code> and got this output:</p>\n<pre><code>loading: com.olympus.trade.util.TestLoading$ObjectReturner...\n[0.434s][info][class,init] Start class verification for: com.olympus.trade.util.TestLoading$ObjectReturner\n[0.434s][info][class,init] 737 Initializing 'java/util/AbstractSequentialList'(no method) (0x000000080009a570)\n[0.434s][info][class,init] End class verification for: com.olympus.trade.util.TestLoading$ObjectReturner\n[0.434s][info][class,init] 738 Initializing 'java/util/LinkedList'(no method) (0x000000080009aa40)\n[0.434s][info][class,init] 739 Initializing 'com/olympus/trade/util/TestLoading$ObjectReturner' (0x0000000800067450)\nloaded: com.olympus.trade.util.TestLoading$ObjectReturner\n[0.434s][info][class,init] 740 Initializing 'java/util/LinkedList$Node'(no method) (0x000000080009b1b0)\n[0.435s][info][class,init] 741 Initializing 'sun/util/locale/provider/LocaleProviderAdapter' (0x000000080009b3c0)\n[0.435s][info][class,init] 742 Initializing 'sun/util/locale/provider/LocaleProviderAdapter$Type' (0x000000080009b658)\n[0.435s][info][class,init] 743 Initializing 'java/util/Collections$UnmodifiableList'(no method) (0x000000080009ba80)\nloading: com.olympus.trade.util.TestLoading$BaseClassReturner...[0.435s][info][class,init] 744 Initializing 'java/util/Collections$UnmodifiableRandomAccessList'(no method) (0x000000080009bf50)\n\n[0.435s][info][class,init] Start class verification for: com.olympus.trade.util.TestLoading$BaseClassReturner\n[0.436s][info][class,init] 745 Initializing 'sun/util/locale/provider/JRELocaleProviderAdapter'(no method) (0x000000080009c620)\n[0.436s][info][class,init] 746 Initializing 'java/lang/ReflectiveOperationException'(no method) (0x0000000800004028)\n[0.436s][info][class,init] 747 Initializing 'sun/util/locale/provider/FallbackLocaleProviderAdapter' (0x000000080009c900)\n[0.436s][info][class,init] 748 Initializing 'java/lang/ClassNotFoundException'(no method) (0x0000000800004288)\n[0.436s][info][class,init] 749 Initializing 'java/lang/LinkageError'(no method) (0x00000008000044f8)\n[0.436s][info][class,init] 750 Initializing 'java/lang/NoClassDefFoundError'(no method) (0x0000000800004758)\n[0.436s][info][class,init] Verification for com.olympus.trade.util.TestLoading$BaseClassReturner has exception pending 'java.lang.NoClassDefFoundError com/olympus/trade/util/TestLoading$ChildClass'\n[0.436s][info][class,init] End class verification for: com.olympus.trade.util.TestLoading$BaseClassReturner\n[0.436s][info][class,init] 751 Initializing 'java/lang/Throwable$PrintStreamOrWriter'(no method) (0x000000080009cec0)\n[0.436s][info][class,init] 752 Initializing 'java/lang/Throwable$WrappedPrintStream'(no method) (0x000000080009d0d8)\n[0.436s][info][class,init] 753 Initializing 'sun/util/locale/LanguageTag' (0x000000080009d308)\njava.lang.NoClassDefFoundError: com/olympus/trade/util/TestLoading$ChildClass[0.436s][info][class,init] 754 Initializing 'java/util/Collections$EmptyIterator' (0x000000080009d550)\n</code></pre>\n<ol>\n<li>JVM starts validation of the class and it obviously fails, because <code>BaseClass</code> is sub-classed by <code>ChildClass</code> which has already been deleted by your code at this point. If you remove the code deleting the class file class loading succeeds.</li>\n</ol>\n<p>Why does JVM validates inheritors of <code>BaseClass</code>? Mainly because of <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.4.1\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.4.1</a></p>\n<blockquote>\n<p>Verification may cause additional classes and interfaces to be loaded (§5.3) but need not cause them to be verified or prepared.</p>\n</blockquote>\n<p>Apparently the reason is polymorphism: when your return type is Object anything can be returned from the method. And when the type is user-defined then only that type and subtypes can be returned, so for security reasons JVM must ensure that all the subtypes are there.</p>\n<ol start=\"2\">\n<li>Another explanation is the <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.10\" rel=\"nofollow noreferrer\">Chapter 4.10</a> of JVM Specification:</li>\n</ol>\n<blockquote>\n<p>Because of these potential problems, the Java Virtual Machine needs to verify for itself that the desired constraints are satisfied by the class files it attempts to incorporate. A Java Virtual Machine implementation verifies that each class file satisfies the necessary constraints at linking time (§5.4).</p>\n</blockquote>\n<p>As you see it references <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html#jvms-5.4\" rel=\"nofollow noreferrer\">Chapter 5.4</a> where we read:</p>\n<blockquote>\n<p>For example, a Java Virtual Machine implementation may choose a &quot;lazy&quot; linkage strategy, where each symbolic reference in a class or interface (other than the symbolic references above) is resolved individually when it is used. Alternatively, an implementation may choose an &quot;eager&quot; linkage strategy, where all symbolic references are resolved at once when the class or interface is being verified. This means that the resolution process may continue, in some implementations, after a class or interface has been initialized. Whichever strategy is followed, any error detected during resolution must be thrown at a point in the program that (directly or indirectly) uses a symbolic reference to the class or interface.</p>\n</blockquote>\n<p>I think this complies with security concern above: in the case when return type is <code>Object</code> (a trusted <code>java.base</code> subject) there's no need for &quot;eager&quot; linking so symbolic reference at <code>NEW com/olympus/trade/util/TestLoading$ChildClass</code> and JVM chooses &quot;lazy&quot; strategy. But as soon as the <code>Object</code> is replaced with <code>BaseClass</code> JVM chooses the &quot;eager&quot; one.</p>\n<p>Finally, the reason why <code>BaseClassReturner.class.getName()</code> survives is that <code>BaseClassReturner.class</code> is evaluated statically. See this article for details: <a href=\"https://www.baeldung.com/java-getclass-vs-class\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-getclass-vs-class</a></p>\n"},{"comments":[{"comment_id":134557310,"body":"&quot;the exception is thrown when your code first creates a ChildClass instance to return&quot; but Class.forName() doesn&#39;t create any instance, it just returns Class object"},{"comment_id":134557862,"body":"@SergeyTsypanov You&#39;re right, I wasn&#39;t reading the stack trace right. It seems to be due to some transitive class loading because <code>BaseClassReturner</code> has a reference to <code>ChildClass</code> - that&#39;s not covered by the post I linked.  But that was only something I came across while looking for what might be going on; the main point is &quot;the JLS doesn&#39;t define this specific behavior&quot;."},{"comment_id":134561210,"body":"Yep, I&#39;ve specified in my answer that JVM spec is not clear about it"}],"answer_id":76304311,"body":"<p>As for &quot;what part of the standard describes this behavior&quot;, I don't think the JLS needs to. In fact, it states that &quot;<a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html\" rel=\"nofollow noreferrer\">A full discussion of class loaders and type safety is beyond the scope of this specification. For a more comprehensive discussion, readers are referred to Dynamic Class Loading in the Java Virtual Machine by Sheng Liang and Gilad Bracha</a>&quot; (although that is in the somewhat different context of loading constraints rather than the loading process itself).</p>\n<p>It also states that &quot;The Java Virtual Machine starts up by creating an initial class, which is specified in an implementation-dependent manner, using the bootstrap class loader (§5.3.1). The Java Virtual Machine then links the initial class, initializes it, and invokes the public class method void main(String[]). The invocation of this method drives all further execution.&quot; So the only guarantee that is given is that the &quot;initial&quot; (ie the class containing <code>main()</code> is loaded.</p>\n<p>I found <a href=\"https://coderanch.com/t/380578/java/jvm-lazy-loading\" rel=\"nofollow noreferrer\">this post</a> that describes what actually triggers the loading of a class; however it's hardly an authoritative source and doesn't state its own source:</p>\n<blockquote>\n<p>Lazy class loaders wait until the first active use of a class before loading and linking its class file.\nThe first active use of a class occurs when one of the following occurs:</p>\n<ul>\n<li>An instance of that class is created</li>\n<li>An instance of one of its subclasses is initialized</li>\n<li>One of its static fields is initialized</li>\n</ul>\n</blockquote>\n<p>In your case, it's &quot;an instance of that class is created&quot; (the exception is thrown when your code first creates a <code>ChildClass</code> instance to return).</p>\n"}],"last_activity_date":1684836910,"question_id":76260269,"body":"<p>I'm making an API wrapper library that supports multiple versions of the API. A public class was added in the recent API version. I'm trying to compile the wrapper against the latest API version and make it check in run time if the new class exists. And I'm trying to avoid reflection and instead catch <code>NoClassDefFoundError</code> and set a flag accordingly.</p>\n<p>It works until I add a method that returns the class which the non-existent class <em>extends</em>. Then my library fails to load. I mean:</p>\n<p><code>BaseClass</code> exists; <code>ChildClass</code> does not exist; the method uses <code>ChildClass</code> internally. If the method returns <code>BaseClass</code> the library fails to load. If the method returns <code>Object</code> the library loads and the error is deferred and can be caught.</p>\n<p><strong>What part of the standard describes this behavior?</strong></p>\n<p>Here's a minimal example:</p>\n<pre><code>public class TestLoading {\n\n    public static void main(String[] args) throws Exception {\n        Class.forName(BaseClass.class.getName());\n        // Class.forName(B.class.getName())\n        URL classFileB =\n            TestLoading.class.getResource(TestLoading.class.getSimpleName() + &quot;$ChildClass.class&quot;);\n        if (classFileB != null) {\n            if (!&quot;file&quot;.equals(classFileB.getProtocol())) {\n                throw new UnsupportedOperationException();\n            }\n            Path path = new File(classFileB.getPath()).toPath();\n            System.out.println(&quot;deleting: &quot; + path);\n            Files.delete(path);\n        }\n\n        loadMyClass(ObjectReturner.class.getName());\n        loadMyClass(BaseClassReturner.class.getName());\n    }\n\n    private static void loadMyClass(String name) throws ClassNotFoundException {\n        System.out.println(&quot;loading: &quot; + name + &quot;...&quot;);\n        try {\n            Class.forName(name);\n        } catch (Throwable e) {\n            e.printStackTrace(System.out);\n        }\n    }\n\n    public static class BaseClass {\n\n        static {\n            System.out.println(&quot;loaded: &quot; + BaseClass.class.getName());\n        }\n    }\n\n    public static class ChildClass extends BaseClass {\n\n        static {\n            System.out.println(&quot;loaded: &quot; + ChildClass.class.getName());\n        }\n    }\n\n    public static class ObjectReturner {\n\n        static {\n            System.out.println(&quot;loaded: &quot; + ObjectReturner.class.getName());\n        }\n\n        public Object getObject() {\n            return new ChildClass();\n        }\n    }\n\n    public static class BaseClassReturner {\n\n        static {\n            System.out.println(&quot;loaded: &quot; + BaseClassReturner.class.getName());\n        }\n\n        public BaseClass getObject() {\n            if (&quot;&quot;.length() == 10) {\n                return new ChildClass();\n            } else {\n                return null;\n            }\n        }\n    }\n}\n</code></pre>\n<p>program output</p>\n<pre><code>loaded: snippet.TestLoading$BaseClass\ndeleting: C:\\keep\\eclipse\\formendix\\_pasted_code_\\target\\classes\\snippet\\TestLoading$ChildClass.class\nloading: snippet.TestLoading$ObjectReturner...\nloaded: snippet.TestLoading$ObjectReturner\nloading: snippet.TestLoading$BaseClassReturner...\njava.lang.NoClassDefFoundError: snippet/TestLoading$ChildClass\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:377)\n    at snippet.TestLoading.loadMyClass(TestLoading.java:31)\n    at snippet.TestLoading.main(TestLoading.java:25)\nCaused by: java.lang.ClassNotFoundException: snippet.TestLoading$ChildClass\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 4 more\n</code></pre>\n"},{"comments":[{"comment_id":134572107,"body":"<code>&lt;exclusion&gt;&lt;groupId&gt;org.glassfish.jersey.core&lt;&#47;groupId&gt;&lt;arti&zwnj;&#8203;factId&gt;jersey-server&zwnj;&#8203;&lt;&#47;artifactId&gt;&lt;&#47;exclu&zwnj;&#8203;sion&gt;</code> might have something to do with not loading the class <code>org.glassfish.jersey.server.spi.Container</code>"},{"comment_id":134572161,"body":"@Bohemian I tried omitting that exclusion but I still get the same error."}],"last_activity_date":1684836782,"question_id":76313391,"body":"<p>I am trying to read a CSV file from a database using apache spark and then print each line in the console (just to test). The csv file in encoded to utf8 when I upload it to the database then decoded when I try print it. I am getting the following error:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/glassfish/jersey/server/spi/Container\n    at org.apache.spark.status.api.v1.ApiRootResource$.getServletHandler(ApiRootResource.scala:63) ~[spark-core_2.12-2.4.8.jar:2.4.8]\n    at org.apache.spark.ui.SparkUI.initialize(SparkUI.scala:70) ~[spark-core_2.12-2.4.8.jar:2.4.8]\n    at org.apache.spark.ui.SparkUI.&lt;init&gt;(SparkUI.scala:80) ~[spark-core_2.12-2.4.8.jar:2.4.8]\n    at org.apache.spark.ui.SparkUI$.create(SparkUI.scala:178) ~[spark-core_2.12-2.4.8.jar:2.4.8]\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:444) ~[spark-core_2.12-2.4.8.jar:2.4.8]\n    at org.apache.spark.SparkContext$.getOrCreate(SparkContext.scala:2526) ~[spark-core_2.12-2.4.8.jar:2.4.8]\n    at org.apache.spark.sql.SparkSession$Builder.$anonfun$getOrCreate$1(SparkSession.scala:930) ~[spark-sql_2.12-2.4.8.jar:2.4.8]\n    at scala.Option.getOrElse(Option.scala:189) ~[scala-library-2.12.10.jar:na]\n    at org.apache.spark.sql.SparkSession$Builder.getOrCreate(SparkSession.scala:921) ~[spark-sql_2.12-2.4.8.jar:2.4.8]\n    at com.example.dbtest.model.Job$1.run(Job.java:90) ~[classes/:na]\n    at com.example.dbtest.components.JobScheduler.lambda$updateJobList$0(JobScheduler.java:49) ~[classes/:na]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.7.jar:6.0.7]\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96) ~[spring-context-6.0.7.jar:6.0.7]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\nCaused by: java.lang.ClassNotFoundException: org.glassfish.jersey.server.spi.Container\n</code></pre>\n<p>This is the code I am trying to execute:</p>\n<pre><code>SparkConf sparkConf = new SparkConf()\n    .setAppName(&quot;dbtest&quot;)\n    .setMaster(&quot;local[*]&quot;); // Set the master URL for local testing\n\n// Create a SparkSession using the SparkConf object\nSparkSession spark = SparkSession.builder()\n    .config(sparkConf)\n    .getOrCreate();\n\nString jdbcUrl = &quot;jdbc:postgresql://localhost:5432/mydatabase&quot;;\nString username = &quot;postgres&quot;;\n\n// Read the file data from the database table, selecting the &quot;body&quot; column\nDataset&lt;Row&gt; pdfData = spark.read()\n    .format(&quot;jdbc&quot;)\n    .option(&quot;url&quot;, jdbcUrl)\n    .option(&quot;dbtable&quot;, &quot;configurations&quot;)\n    .option(&quot;user&quot;, username)\n    .load()\n    .select(&quot;body&quot;);\n\n// Convert the fileData DataFrame to an RDD of Strings\nDataset&lt;String&gt; pdfContent = pdfData\n    .withColumn(&quot;body&quot;, functions.col(&quot;body&quot;)\n    .cast(&quot;string&quot;))\n    .select(&quot;body&quot;)\n    .as(Encoders.STRING());\n// Perform further processing or analysis on the fileLinesRDD\nSystem.out.println(pdfContent);\n</code></pre>\n<p>And this is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;dbtest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;dbtest&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;!-- Add more exclusions if needed --&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n            &lt;version&gt;2.4.8&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                    &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n                    &lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n\n\n\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.ws.rs&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.ws.rs-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n            &lt;artifactId&gt;hadoop-yarn-client&lt;/artifactId&gt;\n            &lt;version&gt;3.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n            &lt;version&gt;2.4.8&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.2.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\n            &lt;version&gt;2.4.8&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-reload4j&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.32&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n            &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n            &lt;version&gt;2.0.26&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"comments":[{"comment_id":134565946,"body":"You have to update JDA."},{"comment_id":134570470,"body":"Thank you. It helped, but apparently there is another problem in the code. I have edited the question."}],"answers":[{"answer_id":76313606,"body":"<p>After I upgraded to the latest version of JDA, the problem was due to incorrect program logic. Remove the else block in the question code:</p>\n<p>Instead of:</p>\n<pre><code>    public void queue(AudioTrack track) {\n        if(!player.startTrack(track, true)) {\n            System.out.println(&quot;1&quot;);\n            queue.offer(track);\n            System.out.println(&quot;2&quot;);\n        } else {\n            System.out.println(&quot;3&quot;);\n            StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();\n            for (StackTraceElement element:stackTraceElements) {\n                System.out.println(element.getMethodName());\n            }\n            player.startTrack(track, false);\n            System.out.println(&quot;4&quot;);\n        }\n    }\n</code></pre>\n<p>This:</p>\n<pre><code>    public void queue(AudioTrack track) {\n        if(!player.startTrack(track, true)) {\n            queue.offer(track);\n        }\n    }\n</code></pre>\n"}],"last_activity_date":1684836742,"question_id":76308638,"body":"<p>I am writing a music bot for discord. The program successfully finds and downloads music, but does not play it. No code works, even completely copied from a manual, whose author has similar versions, and his code performs its function. Further study of the problem led to the fact that the program hangs on the line (after stacktrace):\n<code>player.startTrack(track, false);</code>\nHanging also happens if you replace the line above with:\n<code>player.playTrack(track);</code></p>\n<p>I found information published a few years ago that some platforms restricted access to downloads from them for bots. The guide I tested the code for was released in February of this year. I think the problem is on my side.</p>\n<p>Also, when using /play, I tried to enter links to different platforms and tracks on them, but nothing helps.\nMaybe i should specify some intentions in the code?</p>\n<p>Code:</p>\n<ul>\n<li>Main</li>\n</ul>\n<pre><code>public static void main(String[] args) throws Exception {\n        JDA jda = JDABuilder.createDefault(TOKEN).setChunkingFilter(ChunkingFilter.ALL)\n                .setMemberCachePolicy(MemberCachePolicy.ALL).enableIntents(GatewayIntent.GUILD_MEMBERS,\n                        GatewayIntent.GUILD_MESSAGES,\n                        GatewayIntent.GUILD_VOICE_STATES).build();\n        jda.addEventListener(new checker()); \n    }  \n</code></pre>\n<ul>\n<li>AudioSendHandler</li>\n</ul>\n<pre><code>public class AudioForwarder implements AudioSendHandler {\n\n   private final AudioPlayer player;\n   private final Guild guild;\n   private final ByteBuffer buffer = ByteBuffer.allocate(1024);\n   private final MutableAudioFrame frame = new MutableAudioFrame();\n   private int time;\n\n   public AudioForwarder(AudioPlayer player, Guild guild) {\n       this.player = player;\n       this.guild = guild;\n       frame.setBuffer(buffer);\n   }\n\n   @Override\n   public boolean canProvide() {\n       boolean canProvide = player.provide(frame);\n       if(!canProvide) {\n           time += 20;\n           if (time &gt;= 300000) {\n               time = 0;\n               System.out.println(&quot;timeout&quot;);\n               guild.getAudioManager().closeAudioConnection();\n           }\n       } else {\n           time = 0;\n       }\n       return canProvide;\n   }\n\n   @Nullable\n   @Override\n   public ByteBuffer provide20MsAudio() {\n       final Buffer tmp = ((Buffer) buffer).flip();\n\n       return (ByteBuffer) tmp;\n   }\n\n   @Override\n   public boolean isOpus() {\n       return true;\n   }\n}\n</code></pre>\n<ul>\n<li>TrackScheduler</li>\n</ul>\n<pre><code>public class TrackScheduler extends AudioEventAdapter {\n\n    private final AudioPlayer player;\n    private final BlockingQueue&lt;AudioTrack&gt; queue = new LinkedBlockingQueue&lt;&gt;();\n    private boolean isRepeat = false;\n\n    public TrackScheduler(AudioPlayer player) {\n        this.player = player;\n    }\n\n    @Override\n    public void onTrackEnd(AudioPlayer player, AudioTrack track, AudioTrackEndReason endReason) {\n        if(isRepeat) {\n            System.out.println(&quot;6&quot;);\n            player.startTrack(track.makeClone(), false);\n            System.out.println(&quot;7&quot;);\n        } else {\n            System.out.println(&quot;8&quot;);\n            player.startTrack(queue.poll(), false);\n            System.out.println(&quot;9&quot;);\n        }\n    }\n\n    public void queue(AudioTrack track) {\n        if(!player.startTrack(track, true)) {\n            System.out.println(&quot;1&quot;);\n            queue.offer(track);\n            System.out.println(&quot;2&quot;);\n        } else {\n            System.out.println(&quot;3&quot;);\n            StackTraceElement[] stackTraceElements = Thread.currentThread().getStackTrace();\n            for (StackTraceElement element:stackTraceElements) {\n                System.out.println(element.getMethodName());\n            }\n            player.startTrack(track, false);\n            System.out.println(&quot;4&quot;);\n        }\n    }\n\n    public AudioPlayer getPlayer() {\n        return player;\n    }\n\n    public BlockingQueue&lt;AudioTrack&gt; getQueue() {\n        return queue;\n    }\n\n    public boolean isRepeat() {\n        return isRepeat;\n    }\n\n    public void setRepeat(boolean repeat) {\n        isRepeat = repeat;\n    }\n}\n</code></pre>\n<ul>\n<li>GuildMusicManager</li>\n</ul>\n<pre><code>public class GuildMusicManager {\n\n    private TrackScheduler trackScheduler;\n    private AudioForwarder audioForwarder;\n\n    public GuildMusicManager(AudioPlayerManager manager, Guild guild) {\n        AudioPlayer player = manager.createPlayer();\n        trackScheduler = new TrackScheduler(player);\n        player.addListener(trackScheduler);\n        audioForwarder = new AudioForwarder(player, guild);\n    }\n\n    public TrackScheduler getTrackScheduler() {\n        return trackScheduler;\n    }\n\n    public AudioForwarder getAudioForwarder() {\n        return audioForwarder;\n    }\n}\n</code></pre>\n<ul>\n<li>PlayerManager</li>\n</ul>\n<pre><code>public class PlayerManager {\n\n    private static PlayerManager INSTANCE;\n    private final Map&lt;Long, GuildMusicManager&gt; guildMusicManagers = new HashMap&lt;&gt;();\n    private final AudioPlayerManager audioPlayerManager = new DefaultAudioPlayerManager();\n\n    private PlayerManager() {\n        AudioSourceManagers.registerRemoteSources(audioPlayerManager);\n        AudioSourceManagers.registerLocalSource(audioPlayerManager);\n    }\n\n    public static PlayerManager get() {\n        if(INSTANCE == null) {\n            INSTANCE = new PlayerManager();\n        }\n        return INSTANCE;\n    }\n\n    public GuildMusicManager getGuildMusicManager(Guild guild) {\n        return guildMusicManagers.computeIfAbsent(guild.getIdLong(), (guildId) -&gt; {\n            GuildMusicManager musicManager = new GuildMusicManager(audioPlayerManager, guild);\n\n            guild.getAudioManager().setSendingHandler(musicManager.getAudioForwarder());\n\n            return musicManager;\n        });\n    }\n\n    public void play(Guild guild, String trackURL) {\n        GuildMusicManager guildMusicManager = getGuildMusicManager(guild);\n        audioPlayerManager.loadItemOrdered(guildMusicManager, trackURL, new AudioLoadResultHandler() {\n            @Override\n            public void trackLoaded(AudioTrack track) {\n                System.out.println(&quot;0&quot;);\n                guildMusicManager.getTrackScheduler().queue(track);\n                System.out.println(&quot;5&quot;);\n            }\n\n            @Override\n            public void playlistLoaded(AudioPlaylist playlist) {\n                System.out.println(&quot;0.1&quot;);\n                guildMusicManager.getTrackScheduler().queue(playlist.getTracks().get(0));\n                System.out.println(&quot;5.1&quot;);\n            }\n\n            @Override\n            public void noMatches() {\n                System.out.println(&quot;no_matches&quot;);\n            }\n\n            @Override\n            public void loadFailed(FriendlyException exception) {\n                System.out.println(&quot;failed&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n<ul>\n<li>/play</li>\n</ul>\n<pre><code>public void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\n     if (event.getName().equals(&quot;play&quot;)) {\n                event.getGuild().getAudioManager().openAudioConnection(event.getMember().getVoiceState().getChannel());\n\n                String name = event.getOption(&quot;name&quot;).getAsString();\n                try {\n                    new URI(name);\n                } catch (URISyntaxException e) {\n                    name = name + &quot;ytsearch:&quot;;\n                }\n                PlayerManager playerManager = PlayerManager.get();\n                event.reply(&quot;Playing&quot;).setEphemeral(true).submit();\n                playerManager.play(event.getGuild(), name);\n        }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/S5AkP.png\" rel=\"nofollow noreferrer\">Console output</a></p>\n<p>After using /play, the bot successfully connects to the voice channel, but immediately starts reconnecting to it every few seconds without playing music.</p>\n<p>On the discord developer portal, all intents are enabled, on the test server the bot has administrator rights, the role of the bot is prioritized above all others.</p>\n<p>My versions:</p>\n<p>JDA 5.0.0-alpha.11</p>\n<p>lavaplayer 1.3.77</p>\n<p>P.S. updated:\nMoved to version of JDA 5.0.0-beta.9. The hanging is gone, but the program still doesn't play sound, and this time I don't understand what's going on there. Updated code above and screenshot of console output.</p>\n<p>If you move the stacktrace to the place where the code reaches during /play:</p>\n<p><a href=\"https://i.stack.imgur.com/8RG81.png\" rel=\"nofollow noreferrer\">Console output 2</a></p>\n"},{"last_activity_date":1684836568,"question_id":76313589,"body":"<p>We are trying to monitor the idle objects count in JedisPool ( internally uses Apache Generic-Pool API supporting JMX).</p>\n<p>We added appropriate configuration in extension newrelic file based on <a href=\"https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/\" rel=\"nofollow noreferrer\">https://docs.newrelic.com/docs/apm/agents/java-agent/custom-instrumentation/java-agent-custom-jmx-instrumentation-yaml/</a> .</p>\n<p>We are able to get appropriate JMX Metric log in newrelic_agent.log present in our server as follows:</p>\n<pre><code>2023-05-22T09:09:10,940+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Reading custom extension file /usr/local/tomcat/newrelic/extensions/GenericObjectPool.yml&amp;amp;nbsp;\n2023-05-22T09:09:10,943+0000 [1 1] com.newrelic.agent.extension.ExtensionService FINER: Adding extension with name GenericObjectPool and version 1.0 2023-05-22T09:09:10,950+0000 [1 1] com.newrelic FINER: Adding JMX config: object_name: org.apache.commons.pool2:type=GenericObjectPool,name=* attributes: [MinIdle type: simple, MaxIdle type: simple, MaxTotal type: simple, NumActive type: simple, NumIdle type: simple, NumWaiters type: simple]&amp;amp;nbsp;\n2023-05-22T09:10:36,982+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=ClassLoading, matches 1 2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric LoadedClassCount : 26,825&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric UnloadedClassCount : 1&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Loaded Value: 26,825&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Classes/Unloaded Value: 1&amp;amp;nbsp;\n2023-05-22T09:10:36,987+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query java.lang:type=Threading, matches 1&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric ThreadCount : 95&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric TotalStartedThreadCount : 578&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/Thread Count Value: 95&amp;amp;nbsp;\n2023-05-22T09:10:36,988+0000 [1 146] com.newrelic FINER: JMX Metric: JmxBuiltIn/Threads/TotalStartedCount Value: 578&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: JMX Service : MBeans query org.apache.commons.pool2:type=GenericObjectPool,name=*, matches 12 2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MinIdle : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxIdle : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric MaxTotal : 5&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumActive : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumWaiters : 0&amp;amp;nbsp;\n2023-05-22T09:10:36,989+0000 [1 146] com.newrelic.agent.jmx.JmxService FINER: Recording JMX metric NumIdle : 5&amp;amp;nbsp;\n</code></pre>\n<p>But we are unable to find same JMX Metric data anywhere in newrelic dashboard or tables.</p>\n<p>Can you please help in knowing how can we see JMX Metric data in new relic.</p>\n<p>I asked same question at <a href=\"https://forum.newrelic.com/s/hubtopic/aAX8W0000015AasWAE/unable-to-get-jmx-monitoring-data-in-new-relic?t=1684835773973\" rel=\"nofollow noreferrer\">https://forum.newrelic.com/s/hubtopic/aAX8W0000015AasWAE/unable-to-get-jmx-monitoring-data-in-new-relic?t=1684835773973</a> .</p>\n"},{"answers":[{"answer_id":76304551,"body":"<p>client-java version:13.0.1</p>\n<p>I met the same question several times, and recently find it happends when the machine which has apiserver is down.\nThe java client use okhttp: http1.1、long connection.When the server is down, client don't know. It depends on tcp keep alive to notice,but I don't know why the client don' receive.So I add caltimeout to finish the conenction.</p>\n<pre><code>  ApiClient apiClient = Config.fromToken(xxx, xxx,false);\n\n        apiClient.setHttpClient(\n                apiClient\n                        .getHttpClient()\n                        .newBuilder()\n                        .callTimeout(Duration.ofMinutes(10))\n                        .build());\n</code></pre>\n<p>I make the machine down,and find it works.</p>\n<p>This is the func of caltimeout:</p>\n<pre><code>/**\n * Sets the default timeout for complete calls. A value of 0 means no timeout, otherwise values\n * must be between 1 and {@link Integer#MAX_VALUE} when converted to milliseconds.\n *\n * &lt;p&gt;The call timeout spans the entire call: resolving DNS, connecting, writing the request\n * body, server processing, and reading the response body. If the call requires redirects or\n * retries all must complete within one timeout period.\n *\n * &lt;p&gt;The default value is 0 which imposes no timeout.\n */\n@IgnoreJRERequirement\npublic Builder callTimeout(Duration duration) {\n  callTimeout = checkDuration(&quot;timeout&quot;, duration.toMillis(), TimeUnit.MILLISECONDS);\n  return this;\n}\n</code></pre>\n<p>set 10 minute just because watch last less than 10 minutes:</p>\n<pre><code>      Watchable&lt;ApiType&gt; newWatch =\n          listerWatcher.watch(\n              new CallGeneratorParams(\n                  Boolean.TRUE,\n                  lastSyncResourceVersion,\n                  Long.valueOf(jitteredWatchTimeoutSeconds).intValue()));\n</code></pre>\n<p>long jitteredWatchTimeoutSeconds =\nDouble.valueOf(REFLECTOR_WATCH_CLIENTSIDE_TIMEOUT.getSeconds() * (1 + Math.random()))\n.longValue();</p>\n"}],"last_activity_date":1684836446,"question_id":74487916,"body":"<p><strong>Background</strong></p>\n<p>I made a PoC of a Java application using the following library:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.kubernetes&lt;/groupId&gt;\n  &lt;artifactId&gt;client-java-spring-integration&lt;/artifactId&gt;\n  &lt;version&gt;11.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The application is creating new k8s Jobs and watch for their events using SharedIndexInformer:</p>\n<pre><code>BatchV1Api batchV1Api = k8sApiClientService.getK8sBatchV1Api();\nreturn sharedInformerFactory.sharedIndexInformerFor(\n    (CallGeneratorParams params) -&gt; {\n        return batchV1Api.listJobForAllNamespacesCall(\n                null,\n                null,\n                null,\n                null,\n                null,\n                null,\n                params.resourceVersion,\n                null,\n                params.timeoutSeconds,\n                params.watch,\n                null);\n    },\n    V1Job.class,\n    V1JobList.class,\n    30000);\n\n</code></pre>\n<p>I starts all informers this way:</p>\n<pre><code>sharedInformerFactory.startAllRegisteredInformers();\n</code></pre>\n<p>And initialize the k8s API this way:</p>\n<pre><code>apiClient = new ClientBuilder()\n        .setCertificateAuthority(Base64.decodeBase64(kubernetesCertificateAuthData))\n        .setAuthentication(authentication)\n        .setVerifyingSsl(true)\n        .setBasePath(kubernetesAPI)\n        .build();\nOkHttpClient httpClient =\n        apiClient.getHttpClient().newBuilder().readTimeout(0, TimeUnit.SECONDS).build();\napiClient.setHttpClient(httpClient);\nio.kubernetes.client.openapi.Configuration.setDefaultApiClient(apiClient);\n</code></pre>\n<p><strong>What is the problem?</strong>\nThe informer works great, I succeed to create new Jobs and get informed about completion/error/running events.\nBut, after a while the inform stopped working and I don't know why.\nI see that creation of new Job still works, so this is not a problem of communication.\nI thought to upgrade the library to the latest version v16.0.2, but I'm not sure if this will fix the issue.</p>\n<p>Can you please assist?</p>\n<p>I have tried different resync duration of 30sec to 10min, the resync seems to work, but it seems that specific Jobs are not getting informed, even in the resync events it is missing.</p>\n"},{"comments":[{"comment_id":73804238,"body":"<code>if (userInputNumber &lt; 0)</code>? Also i might check how the native implementation of a <code>LinkedList</code> does work. there no chance for you to iterate through it,"},{"comment_id":73804365,"body":"Can you give me the code for this and linking the numbers? It will be very helpful for me."},{"comment_id":73804416,"body":"Your class MyList isn&#39;t implementation of Linked List structure. Now you have list of lists of lists..."},{"comment_id":73804562,"body":"here I want to make linked list of input numbers given by user. for example a use wants to make a singly linked list of 10  positive number. but if he gives any negative number it will warn the user to input positive number. I am unable to create linking between numbers or making the linked list."},{"comment_id":73804692,"body":"can you give me proper solution @VladimirParfenov"},{"comment_id":73805155,"body":"@Prem First, you need to learn linked lists as data structures in theory. You can read Sedgewick&#39;s or Lafore&#39;s books about data structures and algorithms in java."}],"answers":[{"answer_id":43388118,"body":"<p>This could help you understand Linked Lists:\n<a href=\"https://en.wikipedia.org/wiki/Linked_list\" rel=\"nofollow noreferrer\">LinkedList in wikipedia</a></p>\n\n<p>A LinkedList consists of Nodes. A node could look like this:</p>\n\n<pre><code>class Node {\n  Node previousNode, nextNode;\n  int value;\n\n  public Node getLastNode() {\n    // traverse nextNode till it is null.. return the Node before.\n  }\n}\n</code></pre>\n\n<p>Make a method for reading the user input, which returns the number entered.</p>\n\n<pre><code>private int getUserInput() {\n  int result = -1;\n  Scanner userInput= new Scanner(System.in);\n  while ( result &lt; 0) {\n    result = userInput.nextInt();\n  }\n  return result;\n}\n</code></pre>\n\n<p>After that you can create your LinkedList by creating Nodes as much as needed.</p>\n\n<pre><code>Node myLinkedList = new Node();\nmyLinkedList.value = 0;\nfor (int i = 1; i &lt; getUserInputResult; i++) {\n  var newNode = new Node();\n  newNode.value = i;\n  // concat new Node to last Node in List;\n  var lastNodeInList = myLinkedList.getLastNode();\n  lastNodeInList .NextNode = newNode;\n  newNode.previousNode = lastNodeInList;\n}\n</code></pre>\n"}],"last_activity_date":1684836395,"question_id":43371172,"body":"<p>I am trying to make a linked list which will take input from user that how many number he wants to make the linked list not using the built in LinkedList function. but if the user input a negative number it will give message the user to input a positive number. I have done the code for user input but finding very difficulty for other parts-negative input and linking the numbers.can anyone please give me these parts of codes. </p>\n\n<pre><code> import java.io.*;\nimport java.util.Scanner;\n\n    class MyList{\n    public MyList firstLink,lastLink;\n    int info,size;\n    MyList link;\n    private MyList next;\n\n    MyList(){\n        this.link=null;\n        firstLink = null;\n        lastLink=null;\n    }\n    public boolean isEmpty(){\n         return(firstLink == null);\n     }\n\n     public void showMyList() {\n         MyList currentLink = firstLink;\n            System.out.print(\"List: \");\n            while(currentLink != null) {\n                currentLink.showMyList();\n                currentLink = currentLink.lastLink;\n            }\n            System.out.println(\"\");\n        }\n}\n\n    public class MyLinkedList {\n\n    public static void main(String[] args){\n\n        MyList newMyList=new MyList();\n        Scanner userInput= new Scanner(System.in);\n\n        int userInputNumber;\n        System.out.println(\"Enter Total Data\");\n        userInputNumber = userInput.nextInt();\n            int i=1;\n            while(i&lt;=userInputNumber){\n            System.out.println(\"Enter Data \"+ i +\":\");\n            i++; \n            newMyList.info=userInput.nextInt();\n            }\n            if(newMyList.firstLink!=null){\n                newMyList=newMyList.firstLink;\n                newMyList=newMyList.lastLink;\n                newMyList.firstLink=newMyList.firstLink.link;\n        }\n    }\n}\n</code></pre>\n"},{"last_activity_date":1684836340,"question_id":76313514,"body":"<p>One of the problems I'm facing in the 3d graphics application I'm working on (Client written in Javascript &amp; WebGL 1.*, Server that sends geometry data for each object through web socket written in Java) is the initial model loading efficiency. It is because if the set of geometry objects are too big, we first have to serialize that data from the server, deserialize that on the client, and then process it to create different VBOs for each of them finding suitable space in the client memory pool (to eventually send the graphics data to the GPU). My question is, is there a way I can create VBOs on the server itself and transmit them in their 'raw' binary form so that I can just bind them to the GPU buffer data and be done without doing all of it? If I can't create, can I do something like when I create WebGL Buffers on the client side for the first time I send them back and store them on the server for future use?</p>\n<p>It will take additional processing on the server to create such buffers but overall it might be time saving if I don't need to serialize/deserialize and then create webgl buffers every time on the client side.</p>\n<p>Thanks!</p>\n"},{"comments":[{"comment_id":123261154,"body":"Could you provide the <code>pom.xml</code> code to see dependencies you are used?"},{"comment_id":123285067,"body":"There is no pom.xml, this is old application."},{"comment_id":123313367,"body":"I finally got this. <code>java.lang.LinkageError: Package versions: jackson-annotations=2.9.9, jackson-core=2.9.9, jackson-databind=2.9.9, jackson-dataformat-xml=2.12.5, jackson-datatype-jsr310=2.12.5, azure-core=1.21.0</code>"},{"comment_id":123313873,"body":"In the Question You mentioned azure Core 1.20 and in the error it is azure-core 1.21.0. Did you updated? And, what all are the dependencies you installed for that, in the project?"},{"comment_id":123330800,"body":"Yes, I did. I also tried Ivy. code is included above."},{"comment_id":123337774,"body":"Try update to this <a href=\"https://azuresdkartifacts.blob.core.windows.net/azure-sdk-for-java/staging/sdk/identity/azure-identity/dependencies.html\" rel=\"nofollow noreferrer\">dependencies compatibility version</a> package installations."},{"comment_id":123419509,"body":"lol. finally. azure-core 1.4.0 works. Thank you for the help."}],"answers":[{"answer_id":69821535,"body":"<p>Try update to this <a href=\"https://azuresdkartifacts.blob.core.windows.net/azure-sdk-for-java/staging/sdk/identity/azure-identity/dependencies.html\" rel=\"nofollow noreferrer\">dependencies compatibility version</a> package installations</p>\n"},{"answer_id":76312682,"body":"<p>I had the exact same conflict when using azure-storage-file-datalake-12.15.1 where azure-core is requesting jackson versions 2.13.5.</p>\n<p>I forced the jackson libs to use 2.15.1 version and that resolved the problem for me.\nJackson libs for me was annotations, core, databind and datatype-jsr310</p>\n<p>I couldn't reproduce this in Eclipse but happened when running the Java app in prod, so it was quite tricky to resolve.</p>\n<p>Still using IVY as well.</p>\n<p>Edit:\nUseful link:\n<a href=\"https://learn.microsoft.com/en-us/azure/developer/java/sdk/troubleshooting-dependency-version-conflict\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/sdk/troubleshooting-dependency-version-conflict</a></p>\n"}],"last_activity_date":1684836244,"question_id":69666622,"body":"<p>I am using azure-core-1.20 to connect to Azure KeyVault.\nIt is failing on line 35.</p>\n<p>Could anyone see a cause of this conflict?\nThank you</p>\n<p>Failing call:</p>\n<p><a href=\"https://i.stack.imgur.com/Pq33I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pq33I.png\" alt=\"Failing function\" /></a></p>\n<pre><code>java.lang.VerifyError: Bad return type\nException Details:\n  Location:\n    com/fasterxml/jackson/databind/cfg/MapperBuilder.streamFactory()Lcom/fasterxml/jackson/core/TokenStreamFactory; @7: areturn\n  Reason:\n    Type 'com/fasterxml/jackson/core/JsonFactory' (current frame, stack[0]) is not assignable to 'com/fasterxml/jackson/core/TokenStreamFactory' (from method signature)\n  Current Frame:\n    bci: @7\n    flags: { }\n    locals: { 'com/fasterxml/jackson/databind/cfg/MapperBuilder' }\n    stack: { 'com/fasterxml/jackson/core/JsonFactory' }\n  Bytecode:\n    0x0000000: 2ab4 0002 b600 08b0                    \n\n    at com.fasterxml.jackson.databind.json.JsonMapper.builder(JsonMapper.java:114)\n    at com.azure.core.util.serializer.JacksonAdapter.(JacksonAdapter.java:133)\n    at com.azure.core.util.serializer.JacksonAdapter.createDefaultSerializerAdapter(JacksonAdapter.java:192)\n    at com.azure.identity.implementation.IdentityClient.(IdentityClient.java:96)\n    at com.azure.identity.implementation.IdentityClientBuilder.build(IdentityClientBuilder.java:113)\n    at com.azure.identity.ManagedIdentityCredential.(ManagedIdentityCredential.java:39)\n    at com.azure.identity.DefaultAzureCredentialBuilder.getCredentialsChain(DefaultAzureCredentialBuilder.java:129)\n    at com.azure.identity.DefaultAzureCredentialBuilder.build(DefaultAzureCredentialBuilder.java:123)\n</code></pre>\n<p>Current Lib for the app:\n<a href=\"https://i.stack.imgur.com/UF3VK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UF3VK.png\" alt=\"azure lib\" /></a>\n<a href=\"https://i.stack.imgur.com/juSi4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/juSi4.png\" alt=\"web app libs\" /></a></p>\n<p>Try Ivy, but now jackson 2.9.9 is conflicting with 2.12.5 .\nDont know where jackson 2.9.9 is coming from. The Ivy report show no version 2.9.9</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency org=&quot;com.azure&quot; name=&quot;azure-core&quot; rev=&quot;1.21.0&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;com.novell.ldap&quot; name=&quot;jldap&quot; rev=&quot;2009-10-07&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.springframework&quot; name=&quot;spring-jdbc&quot; rev=&quot;5.3.11&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.tomcat&quot; name=&quot;tomcat-jdbc&quot; rev=&quot;9.0.52&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;com.azure&quot; name=&quot;azure-security-keyvault-secrets&quot; rev=&quot;4.3.3&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;com.azure&quot; name=&quot;azure-identity&quot; rev=&quot;1.3.6&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;javax.resource&quot; name=&quot;javax.resource-api&quot; rev=&quot;1.7.1&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.springframework&quot; name=&quot;spring-webmvc&quot; rev=&quot;5.3.12&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.springframework&quot; name=&quot;spring-context&quot; rev=&quot;5.3.12&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;!-- &lt;dependency org=&quot;org.springframework&quot; name=&quot;spring-jca&quot; rev=&quot;2.0.8&quot; conf=&quot;binaries-&gt;default&quot; &gt;\n            &lt;exclude module=&quot;spring-bean&quot;&gt;&lt;/exclude&gt;\n            &lt;exclude module=&quot;spring-core&quot;&gt;&lt;/exclude&gt;\n            &lt;exclude module=&quot;spring-dao&quot;&gt;&lt;/exclude&gt;\n        &lt;/dependency&gt;  --&gt;\n        &lt;dependency org=&quot;commons-configuration&quot; name=&quot;commons-configuration&quot; rev=&quot;1.10&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;commons-collections&quot; name=&quot;commons-collections&quot; rev=&quot;3.2.2&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;displaytag&quot; name=&quot;displaytag&quot; rev=&quot;1.2&quot; conf=&quot;binaries-&gt;default&quot; &gt;\n            &lt;exclude  module=&quot;jcl104-over-slf4j&quot;&gt;&lt;/exclude&gt;\n            &lt;exclude module=&quot;slf4j-log4j12&quot;&gt;&lt;/exclude&gt;\n        &lt;/dependency&gt; \n        &lt;dependency org=&quot;com.google.code.gson&quot; name=&quot;gson&quot; rev=&quot;2.8.8&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.struts&quot; name=&quot;struts-core&quot; rev=&quot;1.3.10&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.struts&quot; name=&quot;struts-taglib&quot; rev=&quot;1.3.10&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.struts&quot; name=&quot;struts-extras&quot; rev=&quot;1.3.10&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.struts&quot; name=&quot;struts-tiles&quot; rev=&quot;1.3.10&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.struts&quot; name=&quot;struts-el&quot; rev=&quot;1.3.10&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.struts&quot; name=&quot;struts-faces&quot; rev=&quot;1.3.10&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.logging.log4j&quot; name=&quot;log4j-core&quot; rev=&quot;2.14.1&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.logging.log4j&quot; name=&quot;log4j-api&quot; rev=&quot;2.14.1&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.apache.logging.log4j&quot; name=&quot;log4j-slf4j-impl&quot; rev=&quot;2.14.1&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-api&quot; rev=&quot;1.7.32&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-log4j12&quot; rev=&quot;1.7.32&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.slf4j&quot; name=&quot;slf4j-simple&quot; rev=&quot;1.7.32&quot; conf=&quot;binaries-&gt;default&quot; /&gt;\n        &lt;dependency org=&quot;org.slf4j&quot; name=&quot;jcl-over-slf4j&quot; rev=&quot;1.7.32&quot; conf=&quot;binaries-&gt;default&quot;  /&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"last_activity_date":1684836010,"question_id":76313509,"body":"<p>Unfortunaly we can not use the keycloak interface directly so we had to build a proxy communicating with the keycloak over the java-admin-client in our application. Currently you are able to login and change your password with our proxy.</p>\n<p>Now we want to detect if a password is expired or temporary to force the user to choose and set a new password. To reach this we catch the possible HttpResponseException due to the authClient.obtainAccessToken(String,String) method. If the StatusCode is 400 we check if the users password is expired.\nTo check this we first check if the UserRepresentation contains the required action “UPDATE_PASSWORD”. Additionally we try to validate if the given password is correct.\nAs now we remove the UPDATE_PASSWORD action and try to login again. If this works correctly we assume the password may be correct and the user is able to change its password.\nThis worked for us when using a temporary password or setting the UPDATE_PASSWORD action manually.</p>\n<p>Now we activated a password policy with an expiration date. but now our approach to detect if a password is valid does not work anymore. The UPDATE_PASSWORD action is set but if we remove it login is still not possible (probably because of the password policy and the reached expiration?).</p>\n<p>I know this is veeeeeeery hacky and we are not happy with this approach. Is there any way to check if a password is valid even if its expired or temprorary?</p>\n<p>We use the keycloak admin and auth client maven dependency in version 18.0.2 and a keycloak in version 18.0.0</p>\n<p>Greetings from Germany!</p>\n"},{"last_activity_date":1684835933,"question_id":76313500,"body":"<p>I am currently using SAP JCo to pull iDocs out of SAP's ALE layer. For this purpose, a SAP server mechanism is implemented according to the standards of the JCo API. The following code is executed periodically.</p>\n<pre><code>if (sapConnector.isServerOk() &amp;&amp; sapConnector.connected()) {\n    sapConnector.server.release();\n}\n</code></pre>\n<p>My question is also related to handleRequest:</p>\n<pre><code>@Override\npublic void handleRequest(JCoServerContext serverCtx, IDocDocumentList idocList)\n{\n    final IDocXMLProcessor xmlProcessor = JCoIDoc.getIDocFactory().getIDocXMLProcessor();\n    final String tid = serverCtx.getTID();\n    final int iDocNumDocuments = idocList.getNumDocuments();\n\n    try {\n        for (int i = 0; i &lt; iDocNumDocuments; i++) {\n                final IDocDocument iDoc = idocList.get(i);\n                ...\n        }\n    } catch (final Exception e) {\n        ...\n    }\n}\n</code></pre>\n<p>Why is only a single iDoc ever processed and what can I do to establish batch processing and process multiple iDocs (iDoc list)?</p>\n"},{"comments":[{"comment_id":134574122,"body":"<a href=\"https://stackoverflow.com/questions/75259180/how-to-implement-the-hanging-indent-in-word-document-with-apache-poi/75259685#75259685\" title=\"how to implement the hanging indent in word document with apache poi\">stackoverflow.com/questions/75259180/&hellip;</a> -&gt; <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xwpf/usermodel/XWPFParagraph.html#setIndentFromLeft-int-\" rel=\"nofollow noreferrer\">XWPFParagraph.setIndentFromLeft</a> without <code>XWPFParagraph.setIndentationHanging</code>."},{"comment_id":134574802,"body":"You are adding a Tab character in Word, similar to pressing the Tab key when in text. What you want to do is change the paragraph formatting to set a left indent."}],"last_activity_date":1684835894,"question_id":76313496,"body":"<p>I am trying to add indentation(of 3 tabs) to the whole paragraph using Apache poi. Here is the code that i have used to create indentation.</p>\n<pre><code>    import org.apache.poi.xwpf.usermodel.*;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n\n    public class ApachePOIExample {\n        public static void main(String[] args) {\n            // Create a new Word document\n            XWPFDocument document = new XWPFDocument();\n\n            // Create a paragraph\n            XWPFParagraph paragraph = document.createParagraph();\n\n            // Create a run and add text to it\n            XWPFRun run = paragraph.createRun();\n            run.addTab();\n            run.addTab();\n            run.addTab();\n            run.setText(&quot;A paragraph is a series of sentences that are organized and \n    coherent, and are all related to a single topic. Almost every piece of writing you do \n    that is longer than a few sentences should be organized into paragraphs. This is because \n    paragraphs show a reader where the subdivisions of an essay begin and end, and thus help \n    the reader see the organization of the essay and grasp its main points.&quot;);\n\n        // Save the document to a file\n            try (FileOutputStream fileOutputStream = new FileOutputStream(&quot;example.docx&quot;)) {\n                document.write(fileOutputStream);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n</code></pre>\n<p>And this is the output that i got from the above code. The run.addTab() function is indenting only the first line of the paragraph as shown below.\n<a href=\"https://i.stack.imgur.com/PvTAx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PvTAx.png\" alt=\"code output\" /></a></p>\n<p>Is there any way in apache poi that i could have format like this?\n<a href=\"https://i.stack.imgur.com/mPWOP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPWOP.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help or insights would be much appreciated.</p>\n"},{"comments":[{"comment_id":79800626,"body":"Have you noticed that you have no break in your cases, and that your while loop is inside the switch statement?"},{"comment_id":79800757,"body":"@MauricePerry i had it as default: but it wasn&#39;t reading certain values. Also breaks don&#39;t seem to impact my result(?)"},{"comment_id":79800841,"body":"Are you sure you&#39;ve posted the real code? When I copy and paste it I&#39;m not seeing the results you say you&#39;re seeing. In particular, my stack looks like: <code>[^, 2.0, -, *, &#47;, ^, 3.0, &#47;, ^, 2.0, 6.0, *, &#47;, ^, 8.0, +, -, *, &#47;, ^, 2.5, 3.0]</code>, which is consistent with @MauricePerry&#39;s observation that you are missing <code>break</code> statements."},{"comment_id":79801466,"body":"@DaveyDaveDave oh I totally realize what I was doing wrong-- wasn&#39;t reading the stack correctly.. Thanks for your help"}],"answers":[{"answer_id":46421963,"body":"<p>Copying your code and modifying slightly to use a <code>Stack&lt;String&gt;</code> rather than implementing your <code>operationNode</code> and <code>numberNode</code> classes, I find that the following works as (I think) you expect:</p>\n\n<pre><code>public static void main(String... args) {\n    Scanner stackScanner = new Scanner(\"^ 2 - 3 / 2 6 * 8 + 2.5 3\");\n\n    Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n\n    while (stackScanner.hasNextLine()) {\n\n        switch (stackScanner.next()) {\n            case \"+\": {\n                stack.push(\"+\");\n                break;\n            }\n\n            case \"-\": {\n                stack.push(\"-\");\n                break;\n            }\n\n            case \"*\": {\n                stack.push(\"*\");\n                break;\n            }\n\n            case \"/\": {\n                stack.push(\"/\");\n                break;\n            }\n\n            case \"^\": {\n                stack.push(\"^\");\n                break;\n            }\n        }\n\n        while (stackScanner.hasNextDouble()) {\n            stack.push(Double.toString(stackScanner.nextDouble()));\n        }\n    }\n\n    System.out.println(stack);\n}\n</code></pre>\n\n<p>That is, I've added the <code>break;</code> statements, which you seem to not need (perhaps some sort of JVM difference?) and moved the <code>while</code> loop outside of the <code>switch</code>.</p>\n"},{"comments":[{"comment_id":79808686,"body":"Sorry - I don&#39;t think this is actually correct. This will only process a single token per line. If the input is a single line - &quot;^ 2 - 3 / 2 6 * 8 + 2.5 3&quot;, it will process the &quot;^&quot; and then stop."}],"answer_id":46422070,"body":"<p>You need to wrap <code>switch</code> into <code>while</code> and move the handling of <code>double</code> into <code>default</code> block, e.g.:</p>\n\n<pre><code>while (stackScanner.hasNextLine()) {\n    String nextToken = stackScanner.next();\n    switch(nextToken) { \n\n    case\"+\": {\n        System.out.println(\"+\");\n        break;\n        }\n\n    case\"-\":{\n        System.out.println(\"-\");\n        break;\n    }\n\n    case\"*\":{\n        System.out.println(\"*\");\n        break;\n    }\n\n    case\"/\":{\n        System.out.println(\"/\");\n        break;\n    }\n\n    case\"^\":{\n        System.out.println(\"^\");\n        break;\n    }\n\n    default:\n        if(isDouble(nextToken)){\n            //Do something\n        }\n        break;\n    }\n}\n</code></pre>\n\n<p>You also need to write a method to check for <code>double</code>. It would look something like this:</p>\n\n<pre><code>private boolean isDouble(String number){\n    try{\n        Double.parseDouble(number);\n        return true;\n    }Catch(Exception e){\n        return false;\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684835848,"question_id":46421569,"body":"<p>I'm scanning an argument file with a switch case into a <code>Stack</code> and it's skipping over values with a <code>.nextDouble</code> command?</p>\n\n<p>Here is my code fragment:</p>\n\n<pre><code>while (stackScanner.hasNextLine()) {        \n\n    switch(stackScanner.next()) { \n\n    case\"+\": {\n        operator= new operationNode(\"+\");\n        stack.push(operator);}\n\n    case\"-\":{\n        operator= new operationNode(\"-\");\n        stack.push(operator);}\n\n    case\"*\":{\n        operator= new operationNode(\"*\");\n        stack.push(operator);}\n\n    case\"/\":{\n        operator= new operationNode(\"/\");\n        stack.push(operator);}\n\n    case\"^\":{\n        operator= new operationNode(\"^\");\n        stack.push(operator);}\n\n    while(stackScanner.hasNextDouble()) {\n        stack.push(new numberNode(stackScanner.nextDouble()));\n    }\n}\n</code></pre>\n\n<p>The problem is in this last line here, where the argument file contains the following: <code>^ 2 - 3 / 2 6 * 8 + 2.5 3</code></p>\n\n<p>Yet, the scanner only collects: <code>^ 2 - 3 / 6 * 8 + 3</code>.</p>\n\n<p>So it's skipping over the first numbers that come in a pair here (2 and 2.5).</p>\n\n<p>Thing is, when I add <code>stackScanner.next();</code> at the end of the while loop, the only numbers that it saves are those values 2 and 2.5?</p>\n"},{"comments":[{"comment_id":95473608,"body":"<code>cmdScanner.nextLine().split(&quot; &quot;);</code>"},{"comment_id":95473693,"body":"Yeah, but then I need to use an array. I want to assign the &quot;argument&quot; to a String."},{"comment_id":95473715,"body":"What exactly are you trying to do? Please provide a sample input with expected output. <i>That could be helpful because later on I want to get the &quot;next&quot; BigDecimal in a proper way</i> -- This is highly unclear."},{"comment_id":95474108,"body":"I want to let the user enter a command like this: <i>transact fromWallet toWallet 12.00</i>. And then a method should be called, for example: <i>transact(fromWallet, toWallet, new BigDecimal(12.00));</i> and the last argument will be a <i>BigDecimal</i> That is how I implemented <i>Money</i> in my code. With my implementation of getting <i>arguments</i> for my methods I wouldn&#39;t be able to get the <i>BigDecimal</i> in a good way I think."}],"answers":[{"comments":[{"comment_id":95473916,"body":"Thanks for this quick solution. It &quot;almost&quot; works. It fails, if there is no whitespace. That means if I only enter one argument."},{"comment_id":95474019,"body":"Same. The problem only appears if I enter a singe &quot;argument&quot;. Means without whitespaces. I try to understand how &quot;Pattern&quot; and &quot;Matcher&quot; works. Your solution looks much better. The only question I have is: How can I reuse the &quot;arguments&quot;? My final goal is to put them as arguments into methods, which the user will define with another input."},{"comment_id":95474347,"body":"Yes. So it seems that you could use <code>str.split()</code> instead"},{"comment_id":95476006,"body":"Changed the line after the <i>do{</i> to <i>String arguments[] = whiteSpace.split(scan.nextLine().trim());</i> and now it works perfectly. Thanks a lot!"}],"answer_id":54327891,"body":"<pre><code>public static void main(String... obj) {\n    try (Scanner scan = new Scanner(System.in)) {\n        final Pattern whiteSpace = Pattern.compile(\"\\\\s+\");\n        System.out.println(\"Type your command!\");\n\n        do {\n            String[] args = whiteSpace.split(scan.nextLine().trim());\n\n            if (args.length == 1 &amp;&amp; \"exit\".equalsIgnoreCase(args[0]))\n                return;\n\n            for (int i = 0; i &lt; args.length; i++)\n                System.out.println(\"arg\" + (i + 1) + \" = \" + args[i]);\n\n            System.out.println(\"Type your command!\");\n        } while (scan.hasNext());\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684835818,"question_id":54327660,"body":"<p>I wanted to make the user type a command (For ex.: <code>transact fromWallet toWallet 12.00</code> ) and then get the arguments without whitespaces out of the <code>Scanner</code> and pass them to variables to call specific methods with them. I'm still working on it but I managed to extract the arguments from the inputString without the methods that the Scanner provides. The <code>Scanner</code> was too problematic. It asked me to make 5 inputs, where I just needed 4 and so on. What is the \"better way\"? Is my solution okay? I ended up doing it this way (please tell me about \"bad practices\" in my code):</p>\n\n<p>HELP METHODS IN THE CLASS:</p>\n\n<pre><code>public static String getNextArg(String s) {\n    // get last char\n    int cut = s.indexOf(\" \");\n    if (cut == -1)\n        cut = s.length();\n\n    // split arg\n    String arg = s.substring(0, cut);\n\n    return arg;\n}\n\npublic static String getLeftOver(String s) {\n    int cut = s.indexOf(\" \");\n    if (cut == -1)\n        cut = s.length() - 1;\n\n    s = s.substring(cut + 1);\n    return s;\n}\n</code></pre>\n\n<p>COMMAND PART IN THE MAIN:</p>\n\n<pre><code>  String cmd = \"\";\n    String arg1, arg2, arg3, arg4;\n\n    System.out.println(\"Type your command!\");\n    Scanner cmdScanner = new Scanner(System.in);\n    do {\n        cmd = cmdScanner.nextLine();\n\n        // Check for \"exit\"\n        if (cmd.length() &gt;= 4)\n            if(cmd.substring(0, 4).equalsIgnoreCase(\"exit\"))\n                System.exit(0); // Is this a good way to exit a program?\n\n        System.out.println(\"The args passed to cmd are: \");\n        if (!cmd.trim().isEmpty()) {\n            arg1 = getNextArg(cmd);\n            cmd = getLeftOver(cmd);\n            System.out.println(\"arg1 = \" + arg1);\n        }\n        if (!cmd.trim().isEmpty()) {\n            arg2 = getNextArg(cmd);\n            cmd = getLeftOver(cmd);\n            System.out.println(\"arg2 = \" + arg2);\n        }\n        if (!cmd.trim().isEmpty()) {\n            arg3 = getNextArg(cmd);\n            cmd = getLeftOver(cmd);\n            System.out.println(\"arg3 = \" + arg3);\n        }\n        if (!cmd.trim().isEmpty()) {\n            arg4 = getNextArg(cmd);\n            cmd = getLeftOver(cmd);\n            System.out.println(\"arg4 = \" + arg4);\n        }\n        System.out.println(\"Type your command!\");\n    } while (cmdScanner.hasNext());\n}\n</code></pre>\n\n<p>The result fits my expectations. I just want to know how I could do this with the <code>Scanner</code>'s <code>next()</code> methods. That could be helpful because later on I want to get the \"next\" <code>BigDecimal</code> in a proper way, and implementing own methods for everything would be a little bit to much for a noob like me.</p>\n"},{"last_activity_date":1684835621,"question_id":76313317,"body":"<p>im currently doing a program that utilizes a qr code as an input. i made a qr code generator and generated a qr code with my desired string value. when I then built my scanner, It does not scan my generated qr code, however it scans qr codes that are from the internet. Initially, I thought that there was probably an error in my qr generated codes however my built in qr scanner in my phone scanns my generated qr's just fine. When i tried manually searching for the error in the program, its always &quot;com.google.zxing.NotFoundException&quot;. Tried to chat gpt it but none that was suggested worked.</p>\n<p>Tried to chat gpt it but none that was suggested worked. Tried reinstalling ZXing libraries and none worked as well.</p>\n<p>Here is the snippet of my scanner</p>\n<pre><code>Webcam webcam = Webcam.getDefault();   \n    webcam.setViewSize(new Dimension(320, 240));\n    WebcamPanel webcamPanel = new WebcamPanel(webcam);\n    webcamPanel.setMirrored(false);\n    JFrame jFrame = new JFrame();\n    jFrame.add(webcamPanel);\n    jFrame.pack();\n    jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    jFrame.setLocationRelativeTo(null);\n    jFrame.setVisible(true);\n    \n   String qr_val = &quot;&quot;;\n    do {\n        try {\n            BufferedImage image = webcam.getImage();\n            LuminanceSource source = new BufferedImageLuminanceSource(image);\n            BinaryBitmap bitmap = new BinaryBitmap(new HybridBinarizer(source));\n            MultiFormatReader reader = new MultiFormatReader();\n            Result result = reader.decode(bitmap);\n            qr_val = result.getText(); \n\n            if (result != null) {\n                JOptionPane.showMessageDialog(null, qr_val, &quot;INFORMATION&quot;, JOptionPane.INFORMATION_MESSAGE);\n                jFrame.setVisible(false);\n                jFrame.dispose();\n                webcam.close();\n                break;\n            }\n            } catch (NotFoundException e) {           \n                JOptionPane.showMessageDialog(null, &quot;No QR code or barcode found.&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\n                StringWriter sw = new StringWriter();\n                PrintWriter pw = new PrintWriter(sw);\n                e.printStackTrace(pw);\n                String stackTrace = sw.toString();\n                JOptionPane.showMessageDialog(null, stackTrace, &quot;Error Details&quot;, JOptionPane.ERROR_MESSAGE);\n      } catch (Exception e) {\n                JOptionPane.showMessageDialog(null, e.toString(), &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\n      }\n    } while (true); \n    \n  try {\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost/reservation&quot;,&quot;root&quot;,&quot;&quot;);  \n            Statement stm= connection.createStatement();           \n        String sql = &quot;Select * from tickets where Seat Value ='&quot;+ qr_val + &quot;'&quot;;         \n        ResultSet rs = stm.executeQuery(sql);\n        \n        if(rs.next()) {\n            dispose();\n            JOptionPane.showMessageDialog(null, &quot;Accepted, Come on in!&quot;, &quot;INFORMATION&quot;, JOptionPane.INFORMATION_MESSAGE);\n            \n            \n        } else {\n            JOptionPane.showMessageDialog(null, &quot;Error!&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\n        } \n            \n        } catch (ClassNotFoundException | SQLException ex) {\n            Logger.getLogger(inventory.class.getName()).log(Level.SEVERE, null, ex);\n            JOptionPane.showMessageDialog(null, &quot;Error! No matching data!&quot;, &quot;ERROR&quot;, JOptionPane.ERROR_MESSAGE);\n        }\n</code></pre>\n<p>as well as the qr generator</p>\n<pre><code>\nimport com.google.zxing.BarcodeFormat;\nimport com.google.zxing.EncodeHintType;\nimport com.google.zxing.MultiFormatWriter;\nimport com.google.zxing.WriterException;\nimport com.google.zxing.client.j2se.MatrixToImageWriter;\nimport com.google.zxing.common.BitMatrix;\nimport com.google.zxing.qrcode.decoder.ErrorCorrectionLevel;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Map;\nimport javax.swing.ImageIcon;\nimport java.util.EnumMap;\npublic class NewJFrame1 extends javax.swing.JFrame {\n\n    public NewJFrame1() {\n        initComponents();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jLabel1 = new javax.swing.JLabel();\n        jTextField1 = new javax.swing.JTextField();\n        jButton1 = new javax.swing.JButton();\n        jLabel2 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jLabel1.setText(&quot;Seat Number&quot;);\n\n        jButton1.setText(&quot;Generate QR Code&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jLabel2.setText(&quot;QR Code:&quot;);\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(61, 61, 61)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addComponent(jLabel1)\n                            .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE))\n                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n                    .addGroup(layout.createSequentialGroup()\n                        .addComponent(jLabel2)\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 119, Short.MAX_VALUE)\n                        .addComponent(jButton1)\n                        .addGap(61, 61, 61))))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(24, 24, 24)\n                .addComponent(jLabel1)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(layout.createSequentialGroup()\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                        .addComponent(jLabel2))\n                    .addGroup(layout.createSequentialGroup()\n                        .addGap(20, 20, 20)\n                        .addComponent(jButton1)))\n                .addContainerGap(181, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n    ImageIcon img;\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        // TODO add your handling code here:\n    try {\n        String str = jTextField1.getText().trim();\n        String path = System.getProperty(&quot;user.dir&quot;)+&quot;/&quot;;\n        String charset = &quot;UTF-8&quot;;\n        Map&lt;EncodeHintType, ErrorCorrectionLevel&gt; hashMap = new EnumMap&lt;&gt;(EncodeHintType.class);\n        hashMap.put(EncodeHintType.ERROR_CORRECTION, ErrorCorrectionLevel.H);\n        generateQRcode(str, path+str+&quot;.png&quot;, charset, hashMap, 200, 200);\n        img = new ImageIcon(str+&quot;.png&quot;);\n        jLabel2.setText(&quot;&quot;);\n        jLabel2.setIcon(img);\n    } catch (WriterException | IOException e) {\n    }    \n    }                                        \npublic class Testing {\n\npublic static void main(String... str) {\n    System.out.println(1);\n    System.exit(0);\n    System.out.println(2);\n }\n}\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new NewJFrame1().setVisible(true);\n            }\n        });\n    }\n     public void generateQRcode(String data, String path, String charset, Map map, int h, int w) throws WriterException, IOException {\n        \n        BitMatrix matrix = new MultiFormatWriter().encode(new String(data.getBytes(charset), charset), BarcodeFormat.QR_CODE, w, h);\n        MatrixToImageWriter.writeToFile(matrix, path.substring(path.lastIndexOf('.') + 1), new File(path));\n    } \n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":128321451,"body":"I am aware of this. What I am trying to achieve is to show all the other dependencies on which this project depends on , in the /actuator/info endpoint.  Also I need to modify the values present in the custom properties file a bit before they can be directly used."},{"comment_id":128321486,"body":"@Sam In that case you may want to check the last paragraph I added. You could read your properties-file programmatically, do your modifications, put it in a <code>Map&lt;String, String&gt;</code> and call the <code>Info.Builder.withDetails()</code> method."}],"answer_id":72645122,"body":"<p>In addition to a git contributor, Spring boot also comes with a <a href=\"https://github.com/spring-projects/spring-boot/blob/d370d19e7a26623f0076765e257230f28e152ade/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/EnvironmentInfoContributor.java\" rel=\"nofollow noreferrer\"><code>EnvironmentInfoContributor</code></a>. This contributor automatically includes all application properties starting with <code>info.*</code>.</p>\n<p>So the easiest solution is to make sure your custom properties all start with <code>info.*</code> and to treat your custom properties file as an additional application properties file. This can be done by providing the <code>spring.config.additional-location</code> VM argument. For example:</p>\n<pre><code>java -jar -Dspring.config.additional-location=classpath:custom-properties myApp.jar \n</code></pre>\n<p>Now you only have to enable the environment info contributor by setting:</p>\n<pre><code>management.info.env.enabled=true\n</code></pre>\n<p>If this isn't possible, you can indeed write your own contributor. One way of doing so is by <a href=\"https://stackoverflow.com/q/1771166/1915448\">programmatically reading your properties</a> and <a href=\"https://stackoverflow.com/questions/17209260/converting-java-util-properties-to-hashmapstring-string\">converting it to a <code>Map&lt;String, String&gt;</code></a>. Once that's done, you can call the <code>Info.Builder.withDetails(..)</code> method with your <code>Map</code> (see the source code of <code>EnvironmentInfoContributor</code>).</p>\n"}],"last_activity_date":1684835083,"question_id":72644265,"body":"<p>I am writing a custom Info Contributor. I have a properties file that is generated during the build process in target/classes folder.\nHow Can I use this generated file in the custom info contributor.</p>\n<p>I checked the below code for <a href=\"https://github.com/spring-projects/spring-boot/blob/v2.1.7.RELEASE/spring-boot-project/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/info/GitInfoContributor.java\" rel=\"nofollow noreferrer\">GitInfoContributor</a></p>\n<pre><code>public class GitInfoContributor extends InfoPropertiesInfoContributor&lt;GitProperties&gt; {\n\n    public GitInfoContributor(GitProperties properties) {\n        this(properties, Mode.SIMPLE);\n    }\n\n    public GitInfoContributor(GitProperties properties, Mode mode) {\n        super(properties, mode);\n    }\n\n    @Override\n    public void contribute(Info.Builder builder) {\n        builder.withDetail(&quot;git&quot;, generateContent());\n    }\n\n    @Override\n    protected PropertySource&lt;?&gt; toSimplePropertySource() {\n        Properties props = new Properties();\n        copyIfSet(props, &quot;branch&quot;);\n        String commitId = getProperties().getShortCommitId();\n        if (commitId != null) {\n            props.put(&quot;commit.id&quot;, commitId);\n        }\n        copyIfSet(props, &quot;commit.time&quot;);\n        return new PropertiesPropertySource(&quot;git&quot;, props);\n    }\n\n    /**\n     * Post-process the content to expose. By default, well known keys representing dates\n     * are converted to {@link Instant} instances.\n     * @param content the content to expose\n     */\n    @Override\n    protected void postProcessContent(Map&lt;String, Object&gt; content) {\n        replaceValue(getNestedMap(content, &quot;commit&quot;), &quot;time&quot;, getProperties().getCommitTime());\n        replaceValue(getNestedMap(content, &quot;build&quot;), &quot;time&quot;, getProperties().getInstant(&quot;build.time&quot;));\n    }\n\n}\n</code></pre>\n<p>I am not able to figure out how the git properties are being injected to GitProperties class here ?\nI need to do the same for my custom info contributor using my properties file.</p>\n"},{"comments":[{"comment_id":6601039,"body":"After switching to in-memory mode you got to create the table <code>Person</code> again. H2 doesn&#39;t know anything about the database you created on disk before."},{"comment_id":6605864,"body":"The rest of the program didn&#39;t change - I did create the table again."},{"comment_id":94177805,"body":"See: <a href=\"https://dba.stackexchange.com/q/224338/19079\"><i>Keep H2 in-memory database between connections</i></a>"},{"comment_id":133210882,"body":"How do you connect? I suspect you are connecting to different database, as you don&#39;t specify anything(hint: it cannot be created in server mode just by changing URL). In-memory database needs to be created in server mode to allow more than 1 connection; without server mode, it&#39;s private to the same JVM and cannot be connected from other processes. That&#39;s why I think you are recreating the db and you don&#39;t see the data of application db. So, or you create a file and use server mode, or you create in-memory db but also in server mode. And you need to connect with TCP. See my answer."},{"comment_id":133213715,"body":"@WesternGun Thanks for the input but this question has already been answered correctly over 10 years ago."},{"comment_id":133218950,"body":"Actually just found that if I use the accepted answer, next launch of app will see &quot;Address already in use&quot; because the previous session occupies the same port, so there&#39;s some side effect and the correct answer may not be the real solution here."}],"answers":[{"comments":[{"comment_id":6605911,"body":"I&#39;ll try this tomorrow, thanks. The H2 version is the one I got off the site today: 1.3.154"},{"comment_id":6610159,"body":"I think I found the problem. When I close the connection the table was created with, then open a new one, the db is gone. When I open a new connection before I close the previous one, the data remains. When I use a file, the data (obviously) always remains."}],"answer_id":5764011,"body":"<p>Hard to tell. I created a program to test this: </p>\n\n<pre><code>package com.gigaspaces.compass;\n\nimport org.testng.annotations.Test;\n\nimport java.sql.*;\n\npublic class H2Test {\n@Test\npublic void testDatabaseNoMem() throws SQLException {\n    testDatabase(\"jdbc:h2:test\");\n}\n@Test\npublic void testDatabaseMem() throws SQLException {\n    testDatabase(\"jdbc:h2:mem:test\");\n}\n\nprivate void testDatabase(String url) throws SQLException {\n    Connection connection= DriverManager.getConnection(url);\n    Statement s=connection.createStatement();\n    try {\n    s.execute(\"DROP TABLE PERSON\");\n    } catch(SQLException sqle) {\n        System.out.println(\"Table not found, not dropping\");\n    }\n    s.execute(\"CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))\");\n    PreparedStatement ps=connection.prepareStatement(\"select * from PERSON\");\n    ResultSet r=ps.executeQuery();\n    if(r.next()) {\n        System.out.println(\"data?\");\n    }\n    r.close();\n    ps.close();\n    s.close();\n    connection.close();\n}\n}\n</code></pre>\n\n<p>The test ran to completion, with no failures and no unexpected output. Which version of h2 are you running?</p>\n"},{"comments":[{"comment_id":6601455,"body":"Please note that the <code>registerDriver()</code> call is unnecessary: First of: a simple Class.forName() does the same for most JDBC drivers <b>and</b> (more importantly) it&#39;s completely unnecessary for Java 6 und up, which auto-detects (compatible) JDBC drivers on the classpath."},{"comment_id":6605893,"body":"An in memory db exists only as long as the program that owns the memory is running? Wow, I had no idea &gt;_&lt; But really, I know what I&#39;m trying to do. Reading your answer, I&#39;m not sure you do."},{"comment_id":6608714,"body":"@Jorn: I might not know what you&#39;re trying to do, I&#39;m guessing based on what information you provided.  It may have been more helpful to provide an SSCCE (<a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce.org</a>) demonstrating your problem - I wouldn&#39;t call your question &#39;complete&#39; in that respect.   I provided the above answer because there are people on SO (newcomers to programming, mainly) that might think that an &#39;in-memory&#39; database stores the data in the computer&#39;s memory somewhere where it could survive between program invocations.  Your question wasn&#39;t complete enough to convince me you weren&#39;t one of these people."}],"answer_id":5764068,"body":"<p>The H2 in-memory database stores data in memory inside the JVM.  When the JVM exits, this data is lost.  </p>\n\n<p>I suspect that what you are doing is similar to the two Java classes below.  One of these classes creates a table and the other tries to insert into it:</p>\n\n<pre><code>import java.sql.*;\n\npublic class CreateTable {\n    public static void main(String[] args) throws Exception {\n        DriverManager.registerDriver(new org.h2.Driver());\n        Connection c = DriverManager.getConnection(\"jdbc:h2:mem:test\");\n        PreparedStatement stmt = c.prepareStatement(\"CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64))\");\n        stmt.execute();\n        stmt.close();\n        c.close();\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>import java.sql.*;\n\npublic class InsertIntoTable {\n    public static void main(String[] args) throws Exception {\n        DriverManager.registerDriver(new org.h2.Driver());\n        Connection c = DriverManager.getConnection(\"jdbc:h2:mem:test\");\n        PreparedStatement stmt = c.prepareStatement(\"INSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, 'John', 'Doe')\");\n        stmt.execute();\n        stmt.close();\n        c.close();\n    }\n}\n</code></pre>\n\n<p>When I ran these classes one after the other, I got the following output:</p>\n\n<pre>\nC:\\Users\\Luke\\stuff>java CreateTable\n\nC:\\Users\\Luke\\stuff>java InsertIntoTable\nException in thread \"main\" org.h2.jdbc.JdbcSQLException: Table \"PERSON\" not found; SQL statement:\nINSERT INTO PERSON (ID, FIRSTNAME, LASTNAME) VALUES (1, 'John', 'Doe') [42102-154]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:327)\n        at org.h2.message.DbException.get(DbException.java:167)\n        at org.h2.message.DbException.get(DbException.java:144)\n        ...\n</pre>\n\n<p>As soon as the first <code>java</code> process exits, the table created by <code>CreateTable</code> no longer exists.  So, when the InsertIntoTable class comes along, there's no table for it to insert into.</p>\n\n<p>When I changed the connection strings to <code>jdbc:h2:test</code>, I found that there was no such error.  I also found that a file <code>test.h2.db</code> had appeared.  This was where H2 had put the table, and since it had been stored on disk, the table was still there for the InsertIntoTable class to find.</p>\n"},{"comments":[{"comment_id":6845882,"body":"I found the problem myself in the mean time, but yeah, this is completely correct. Thanks!"},{"comment_id":37929826,"body":"And it has to be a named in-memory database, i.e. <code>jdbc:h2:mem:;DB_CLOSE_DELAY=-1</code> does not work."},{"comment_id":57208567,"body":"how can we store data in the file instead of memory ?"},{"comment_id":74889701,"body":"if you use lower case for naming your tables in a code you should know that H2  uppercase everything by default  use DATABASE_TO_UPPER=false to avoid it  e.g. jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false;"},{"comment_id":83898150,"body":"@OleksandrPetrenko - that trailing &#39;;&#39; seems to cause problems. I think you need to leave that out."},{"comment_id":85315490,"body":"This behaviour of H2 is documented here: <a href=\"http://www.h2database.com/html/features.html#in_memory_databases\" rel=\"nofollow noreferrer\">h2database.com/html/features.html#in_memory_databases</a>"},{"comment_id":99344810,"body":"@Oleksandr Petrenko exactly solved my problem, thanks very much :)"}],"answer_id":5936988,"body":"<h1><code>DB_CLOSE_DELAY=-1</code></h1>\n<p>hbm2ddl closes the connection after creating the table, so h2 discards it.</p>\n<p>If you have your connection-url configured like this</p>\n<pre><code>jdbc:h2:mem:test\n</code></pre>\n<p>the content of the database is lost at the moment the last connection is closed.</p>\n<p>If you want to keep your content you have to configure the url like this</p>\n<pre><code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n</code></pre>\n<p>If doing so, <strong>h2</strong> will keep its content as long as the <strong>vm</strong> lives.</p>\n<p>Notice the semicolon (<code>;</code>) rather than colon (<code>:</code>).</p>\n<p>See the <a href=\"http://h2database.com/html/features.html#in_memory_databases\" rel=\"noreferrer\"><em>In-Memory Databases</em></a> section of the <em>Features</em> page. To quote:</p>\n<blockquote>\n<p>By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add <code>;DB_CLOSE_DELAY=-1</code> to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use <code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1</code>.</p>\n</blockquote>\n"},{"comments":[{"comment_id":29717714,"body":"Wow - I&#39;m very glad you shared this one! never would have thought of that."},{"comment_id":44553659,"body":"Not the solution to the question that was asked, but the solution to the problem I was having when searching with the same question!"},{"comment_id":54820835,"body":"Is it possible to set this <code>DATABASE_TO_UPPER=false</code> thing as an SQL statement in an init script? (Similarly as a statement like <code>SET MODE PostgreSQL;</code>) If so, what is the exact syntax?"},{"comment_id":73665207,"body":"How can I upvote this multiple times? Thanks a lot! This should be part of the first answer."}],"answer_id":17925668,"body":"<p>I know this was not your case but I had the same problem because H2 was creating the tables with UPPERCASE names then behaving case-sensitive, even though in all scripts (including in the creation ones) i used lowercase. </p>\n\n<p>Solved by adding <code>;DATABASE_TO_UPPER=false</code> to the connection URL. </p>\n"},{"answer_id":27628322,"body":"<p>I came to this post because I had the same error.</p>\n\n<p>In my case the database evolutions weren't been executed, so the table wasn't there at all.</p>\n\n<p>My problem was that the folder structure for the evolution scripts was wrong.</p>\n\n<p>from: <a href=\"https://www.playframework.com/documentation/2.0/Evolutions\" rel=\"nofollow\">https://www.playframework.com/documentation/2.0/Evolutions</a></p>\n\n<blockquote>\n  <p>Play tracks your database evolutions using several evolutions script. These scripts are written in plain old SQL and should be located in the conf/evolutions/{database name} directory of your application. If the evolutions apply to your default database, this path is conf/evolutions/default.</p>\n</blockquote>\n\n<p>I had a folder called <strong>conf/evolutions.default</strong> created by eclipse. The issue disappeared after I corrected the folder structure to <strong>conf/evolutions/default</strong></p>\n"},{"comments":[{"comment_id":75653233,"body":"thanks, &quot;testdb&quot; was a fix for me too (in addition to &quot;DB_CLOSE_DELAY=-1&quot;) !"}],"answer_id":41320865,"body":"<p>I have tried to add</p>\n\n<pre><code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n</code></pre>\n\n<p>However, that didn't helped. On the <a href=\"http://www.h2database.com/html/features.html\" rel=\"noreferrer\">H2 site</a>, I have found following, which indeed could help in some cases.</p>\n\n<blockquote>\n  <p>By default, closing the last connection to a database closes the database. For an in-memory database, this means the content is lost. To keep the database open, add ;DB_CLOSE_DELAY=-1 to the database URL. To keep the content of an in-memory database as long as the virtual machine is alive, use jdbc:h2:mem:test;DB_CLOSE_DELAY=-1.</p>\n</blockquote>\n\n<p><strong>However</strong>, my issue was that just the schema supposed to be different than default one. So insted of using </p>\n\n<pre><code>JDBC URL: jdbc:h2:mem:test\n</code></pre>\n\n<p>I had to use:</p>\n\n<pre><code>JDBC URL: jdbc:h2:mem:testdb\n</code></pre>\n\n<p>Then the tables were visible</p>\n"},{"answer_id":41410838,"body":"<pre><code>&lt;bean id=\"benchmarkDataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"org.h2.Driver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\" /&gt;\n    &lt;property name=\"username\" value=\"sa\" /&gt;\n    &lt;property name=\"password\" value=\"\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"answer_id":54019782,"body":"<p>Solved by creating a new src/test/resources folder + insert application.properties file, explicitly specifying to create a test dbase :</p>\n\n<pre><code>spring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=create\n</code></pre>\n"},{"answer_id":55513792,"body":"<p>I had the same problem and changed my configuration in application-test.properties to this:</p>\n\n<pre><code>#Test Properties\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1\nspring.datasource.username=sa\nspring.datasource.password=\nspring.jpa.hibernate.ddl-auto=create-drop\n</code></pre>\n\n<p>And my dependencies:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/com.h2database/h2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.198&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>And the annotations used on test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest\n@ActiveProfiles(\"test\")\npublic class CommentServicesIntegrationTests {\n...\n}\n</code></pre>\n"},{"comments":[{"comment_id":98412953,"body":"This doesn&#39;t add anything not covered by <a href=\"https://stackoverflow.com/a/17925668/1364007\">this</a> answer. <a href=\"https://stackoverflow.com/review/low-quality-posts/22862428\">From Review</a>."}],"answer_id":55873378,"body":"<p>I was trying to fetch table meta data, but had the following error:</p>\n\n<p>Using:</p>\n\n<pre><code>String JDBC_URL = \"jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\";\n\nDatabaseMetaData metaData = connection.getMetaData();\n...\nmetaData.getColumns(...);\n</code></pre>\n\n<p>returned an empty ResultSet.</p>\n\n<p>But using the following URL instead it worked properly:</p>\n\n<pre><code>String JDBC_URL = \"jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DATABASE_TO_UPPER=false\";\n</code></pre>\n\n<p>There was a need to specify: <strong>DATABASE_TO_UPPER=false</strong></p>\n"},{"comments":[{"comment_id":118200318,"body":"thanks on an interview assignment due in next few hours and lost a couple of valuable hours till I saw this comment , which was the issue !"}],"answer_id":57720965,"body":"<p>When opening the h2-console, the JDBC URL must match the one specified in the properties:</p>\n\n<pre><code>spring.datasource.driverClassName=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:testdb\n\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\n\nspring.h2.console.enabled=true\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wEEze.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/wEEze.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which seems obvious, but I spent hours figuring this out..</p>\n"},{"answer_id":60948345,"body":"<p>Had the exact same issue, tried all the above, but without success.\nThe rather funny cause of the error was that <strong>the JVM started too fast, before the DB table was created</strong> (using a data.sql file in src.main.resources). So I've put a Thread.sleep(1000) timer to wait for just a second before calling \"select * from person\".\nWorking flawlessly now.</p>\n\n<p>application.properties:</p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n</code></pre>\n\n<p>data.sql:</p>\n\n<pre><code>create table person\n(\nid integer not null,\nname varchar(255) not null,\nlocation varchar(255),\nbirth_date timestamp,\nprimary key(id)\n);\n\ninsert into person values (\n10001, 'Tofu', 'home', sysdate()\n);\n</code></pre>\n\n<p>PersonJdbcDAO.java:</p>\n\n<pre><code>    public List&lt;Person&gt; findAllPersons(){\n    return jdbcTemplate.query(\"select * from person\", \n        new BeanPropertyRowMapper&lt;Person&gt;(Person.class));\n}\n</code></pre>\n\n<p>main class:</p>\n\n<pre><code>Thread.sleep(1000);\nlogger.info(\"All users -&gt; {}\", dao.findAllPersons());\n</code></pre>\n"},{"comments":[{"comment_id":115860370,"body":"Question has nothing to do with spring, and solving simple problems bu throwing in frameworks is crude"}],"answer_id":61570850,"body":"<p>I found it working after adding the dependency of <em><strong>Spring Data JPA</strong></em> -</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Add H2 DB configuration in application.yml -</p>\n<pre><code>spring:\n  datasource:\n    driverClassName: org.h2.Driver\n    initialization-mode: always\n    username: sa\n    password: ''\n    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\n  h2:\n    console:\n      enabled: true\n      path: /h2\n  jpa:\n    database-platform: org.hibernate.dialect.H2Dialect\n    hibernate:\n      ddl-auto: none\n</code></pre>\n"},{"answer_id":63031143,"body":"<p>I have tried the above solution,but in my case as suggested in the console added the property <strong>DB_CLOSE_ON_EXIT=FALSE</strong>, it fixed the issue.</p>\n<pre><code> spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_ON_EXIT=FALSE\n</code></pre>\n"},{"comments":[{"comment_id":119384091,"body":"I upgraded Spring Boot from 1.3.3.RELEASE to 2.4.4 and adding <code>;CASE_INSENSITIVE_IDENTIFIERS=TRUE</code> also did the trick for me."}],"answer_id":65339874,"body":"<p>I have tried adding <code>;DATABASE_TO_UPPER=false</code> parameter, which it did work in a single test, but what did the trick for me was <code>;CASE_INSENSITIVE_IDENTIFIERS=TRUE</code>.</p>\n<p>At the end I had: <code>jdbc:h2:mem:testdb;CASE_INSENSITIVE_IDENTIFIERS=TRUE</code></p>\n<p>Moreover, the problem for me was when I upgraded to <code>Spring Boot 2.4.1</code>.</p>\n"},{"answer_id":67524137,"body":"<p>In my case missing table error was happening during jpa test, table was created by schem.sql file, problem was fixed after puting @org.springframework.transaction.annotation.Transactional on test</p>\n"},{"comments":[{"comment_id":121086508,"body":"Spot on :) Solved my issue. Thanks!"},{"comment_id":123321766,"body":"This one is indeed beautiful solution. Can you please explain what does this statement do?"},{"comment_id":124077249,"body":"Thanks brother.."},{"comment_id":126007885,"body":"This is the best solution by far, works like a charm"},{"comment_id":126688822,"body":"This is what fixed it for me. Can you explain what that command does?"},{"comment_id":126745849,"body":"@AlGrant it defers data source initialization until after any EntityManagerFactory beans have been created and initialized. (<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>)"},{"comment_id":133026478,"body":"I was still getting h2 data.sql Table &quot;TABLE_NAME&quot; not found (this database is empty) but after adding &quot;spring.jpa.defer-datasource-initialization=true&quot; my issue got resolved. Pls note that I had already added &quot;;DB_CLOSE_DELAY=-1&quot; and still was getting Table not found."}],"answer_id":68086707,"body":"<p>For Spring Boot 2.4+\nuse\n<strong>spring.jpa.defer-datasource-initialization=true</strong>\nin application.properties</p>\n"},{"comments":[{"comment_id":129196380,"body":"The rename to import.sql is what worked for me.  I feel like the &quot;defer=true&quot; is a workaround...while the rename is the &quot;actually fix it for Spring 2.5+&quot;.  Thank you."}],"answer_id":68571114,"body":"<p>I might be a little late to the party, but I faced exactly the same error and I tried pretty much every solution mentioned here and on other websites such as DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1; DB_CLOSE_ON_EXIT=FALSE; IGNORECASE=TRUE</p>\n<p>But nothing worked for me.\nWhat worked for me was <strong>renaming data.sql to import.sql</strong></p>\n<p>I found it here - <a href=\"https://stackoverflow.com/a/53179547/8219358\">https://stackoverflow.com/a/53179547/8219358</a></p>\n<p><strong>Or</strong></p>\n<p>For Spring Boot 2.4+ use <strong>spring.jpa.defer-datasource-initialization=true</strong> in application.properties (mentioned here - <a href=\"https://stackoverflow.com/a/68086707/8219358\">https://stackoverflow.com/a/68086707/8219358</a>)</p>\n<p>I realize other solutions are more logical but none of them worked for me and this did.</p>\n"},{"answer_id":69279622,"body":"<p>In my case, I had used the special keywords for my column-names in the table, H2 Database. If you're using different databases avoid those special keywords across different databases. Spring &amp; Hibernate isn't smart enough to tell you exactly which column names are prohibited or where the exact error is in the table-creation.\nKeywords such as;</p>\n<blockquote>\n<p>desc, interval, metric</p>\n</blockquote>\n<p>To resolve the issues I was experiencing, I renamed those fields to:</p>\n<blockquote>\n<p>descr, time_interval, time_metric</p>\n</blockquote>\n<p><a href=\"http://www.h2database.com/html/advanced.html\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/advanced.html</a></p>\n"},{"answer_id":69519153,"body":"<pre><code>   Use the same in applications.properties file\n   \n   spring.jpa.show-sql=true\n   spring.datasource.url=jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false\n   DB_CLOSE_ON_EXIT=FALSE\n   spring.data.jpa.repositories.bootstrap-mode=default\n   spring.h2.console.enabled=true spring.jpa.generate-ddl=true\n   spring.jpa.hibernate.ddl-auto=create\n   spring.datasource.driverClassName=org.h2.Driver\n   spring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"answer_id":70525879,"body":"<p>One reason can be that jpa tries to insert data before creating table structure, in order to solve this problem , insert this line in application.properties :</p>\n<pre><code>spring.jpa.defer-datasource-initialization=true\n</code></pre>\n"},{"answer_id":72404714,"body":"<p>The issue can also happen if there was error while generating the table.</p>\n<p>If the entities use any features which are not supported by H2 (for example, specifying a non-standard columnDefinition), the schema generation will fail and test will continue without the database generated.</p>\n<p>In this case, somewhere in the logs you will find this:</p>\n<pre><code>WARN ExceptionHandlerLoggedImpl: GenerationTarget encountered exception accepting command :\n Error executing DDL &quot;create table ...&quot; via JDBC Statement\n</code></pre>\n"},{"comments":[{"comment_id":132408117,"body":"This works and makes perfect sense if you are creating the table with JDBC."}],"answer_id":73523577,"body":"<p>Had similar problem\nSolution was to add the following to application.properties</p>\n<p><strong>spring.jpa.defer-datasource-initialization=true</strong></p>\n"},{"answer_id":73949784,"body":"<pre class=\"lang-java prettyprint-override\"><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;user&quot; not found; SQL statement:\n</code></pre>\n<p>in my case, my table name was <code>user</code> but from H2 2.1.212 user is reserved so couldn't make the table</p>\n<p>changed table name users by @Table(name=&quot;users&quot;) and</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>datasource:\n  url: jdbc:h2:mem:testdb;DATABASE_TO_UPPER=false;DB_CLOSE_DELAY=-1;\n</code></pre>\n<p>and it works now</p>\n"},{"answer_id":75501825,"body":"<p>I suspect the database you opened is <strong>a brand new db</strong>, not your application db. This is because:</p>\n<ul>\n<li>H2 in-memory database by default is <strong>private to the JVM and the classloader</strong>. It cannot be connected from another process/with TCP from same machine/from another machine; that's why all the guides suggest using H2 console, because that's within the same JVM of your application so it can access the database(however, my H2 console shipped with Spring 2.6 is not working, I need to find another way)</li>\n<li>H2 database can be launched in server mode, but &quot;;AUTO_SERVER=true&quot; does not work with in-memory db; it only can be added to the URL when you use a file based db; and to visit it you need to use <strong>absolute path</strong> to the db file, which is not portable and is ugly; additionally, auto-generation of tables are not done when you use a file so you need to create an init.sql to create tables. <strong>AND</strong>, when you connect H2 still tells you that you need server mode, because there is already one connection to the db(your app) and to allow 1+ connection, you need server mode</li>\n</ul>\n<p>So in both cases you need server mode. How?</p>\n<p>In Spring you need to create the DB as a bean(thanks to <a href=\"https://stackoverflow.com/questions/55830010/how-to-enable-h2-database-server-mode-in-spring-boot/55847035#55847035\">How to enable H2 Database Server Mode in Spring Boot</a>); put this into a <code>@Configuration</code> and you are done:</p>\n<pre><code>@Bean(initMethod = &quot;start&quot;, destroyMethod = &quot;stop&quot;)\npublic Server h2Server() throws SQLException {\n    return Server.createTcpServer(&quot;-tcp&quot;, &quot;-tcpAllowOthers&quot;, &quot;-tcpPort&quot;, &quot;1234&quot;); // or any other port\n}\n</code></pre>\n<p>Your db url:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  datasource:\n    url: jdbc:h2:mem:test\n    driver-class-name: org.h2.Driver\n    port: 1234\n    username: sa\n    password: sa\n</code></pre>\n<p>That's all. You can connect with H2 console, or DB Navigator, or other tools along with your app right now. The connection string is:</p>\n<pre><code>jdbc:h2:tcp://localhost:1234/mem:test\n</code></pre>\n"},{"answer_id":76313347,"body":"<p>This might be a beginners mistake but the error in my case was that, when I wanted to switch my DB to H2, I omitted a property that needed changing.</p>\n<p>Namely: <code>spring.jpa.properties.hibernate.dialect: org.hibernate.dialect.H2Dialect</code></p>\n<p>Other usual suspects could be:</p>\n<ul>\n<li><code>spring.datasource.driver-class-name: org.h2.Driver</code></li>\n<li><code>spring.datasource.url: jdbc:h2:file:./your/path</code></li>\n<li><code>spring.jpa.hibernate.ddl-auto: </code> where you might have set a wrong value</li>\n</ul>\n<p>I'm not sure whether those would result in different error messages. However, they are still worth a quick check.</p>\n"}],"last_activity_date":1684834982,"question_id":5763747,"body":"<p>I've got a H2 database with URL <code>\"jdbc:h2:test\"</code>. I create a table using <code>CREATE TABLE PERSON (ID INT PRIMARY KEY, FIRSTNAME VARCHAR(64), LASTNAME VARCHAR(64));</code>. I then select everything from this (empty) table using <code>SELECT * FROM PERSON</code>. So far, so good.</p>\n\n<p>However, if I change the URL to <code>\"jdbc:h2:mem:test\"</code>, the only difference being the database is now in memory only, this gives me an <code>org.h2.jdbc.JdbcSQLException: Table \"PERSON\" not found; SQL statement: SELECT * FROM PERSON [42102-154]</code>. I'm probably missing something simple here, but any help would be appreciated.</p>\n"},{"answers":[{"comments":[{"comment_id":134571439,"body":"how ? There are so many options ? Can u specify which one plz?"},{"comment_id":134571910,"body":"Give screenshots / names or path for the options"},{"comment_id":134571912,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76313109/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76313109,"body":"<p>It also depends upon the mobile setting in developers option you should change them.</p>\n"}],"last_activity_date":1684834847,"question_id":76313003,"body":"<pre><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n\n        super.onViewCreated(view, savedInstanceState);\n        String[] themeStrings = {&quot;Light&quot;,&quot;Dark&quot;,&quot;System Default&quot;};\n        ListView lv = requireView().findViewById(R.id.themeChangeLV);\n        ArrayAdapter&lt;String&gt; ad = new ArrayAdapter&lt;String&gt;(requireContext(), android.R.layout.simple_list_item_1,themeStrings);\n        lv.setAdapter(ad);\n        \n\n        sharedPreferences = requireContext().getSharedPreferences(&quot;MODE&quot;, Context.MODE_PRIVATE);\n        nightMODE = sharedPreferences.getBoolean(&quot;night&quot;,false);\n\n        lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                editor = sharedPreferences.edit();\n                switch (i){\n                    case 0:\n                        new Thread(new Runnable() {\n                            @Override\n                            public void run() {\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n                                editor.putBoolean(getString(R.string.night),false);\n                                editor.putBoolean(getString(R.string.sdt),false);\n                                editor.apply();\n                            }\n                        }).start();\n                        break;\n                    case 1:\n                        new Thread(new Runnable() {\n                            @Override\n                            public void run() {\n                                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n                                editor.putBoolean(getString(R.string.night),true);\n                                editor.putBoolean(getString(R.string.sdt),false);\n                                editor.apply();\n                            }\n                        }).start();\n                        break;\n                    case 2:\n                        editor.putBoolean(getString(R.string.sdt),true);\n                        editor.apply();\n                        break;\n                }\n            }\n        });\n    }\n</code></pre>\n<p>The code above me uses a new thread to change <strong>APP THEME</strong> so that my app doesn't go BLACK for around half a second.</p>\n<p>And it works in an emulator (Android 8.0), but in my phone (Android 11), what happens is on click, the app stops working?</p>\n<p>Can anyone help me this?</p>\n"},{"answers":[{"comments":[{"comment_id":134571490,"body":"I&#39;ve updated the question with a problem, I think I&#39;m halfway through"}],"answer_id":76311237,"body":"<p>You don't need to go looking for any external libraries or frameworks because Jenkins has an inbuilt <code>retry</code> keyword (<a href=\"https://www.jenkins.io/doc/pipeline/steps/workflow-basic-steps/#retry-retry-the-body-up-to-n-times\" rel=\"nofollow noreferrer\">doc</a>).</p>\n<pre><code>stage ('selenium-tests') {\n    retry(3) {\n        &lt;tests&gt;\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684834591,"question_id":76310731,"body":"<p>I have a set of Selenium Java tests that I run on Jenkins, and I'm experiencing intermittent failures on the Jenkins environment, even though the same tests pass consistently when executed locally. I suspect these failures are caused by factors such as slow remote machines or random timeouts.</p>\n<p>I'll get reports on an element not appearing, simply due to the website not loading on time, so timeouts are frequent. They don't happen too often though.</p>\n<p>To address this issue, I would like to implement a retry mechanism for these tests in order to increase their reliability on Jenkins. Ideally, I would like the tests to automatically retry until they pass, or at most, retry a maximum of three times. It seems that a simple retry often results in a successful execution on the subsequent attempt. Important thing to note that about 80% of the tests pass all the time, but the remaining 20% will fail, randomly, no specific tests.</p>\n<p>Is there a recommended approach or best practice for implementing such a retry mechanism in Selenium Java tests on Jenkins? Are there any libraries, frameworks, or specific techniques that can be leveraged to achieve this goal?</p>\n<p>I would appreciate any insights, suggestions, or code examples that can help me address this intermittent test failure issue on Jenkins. Thank you in advance for your assistance.</p>\n<p>I'm using TestNG.</p>\n<p>Edit:</p>\n<p>I created a new pipeline item that goes as follows:</p>\n<pre><code>pipeline {\n    agent any\n    \n    stages {\n        stage('Build') {\n            steps {\n                sh 'ant compile'\n            }\n        }\n        \n        stage('Run Tests') {\n            steps {\n                retry(3) {\n                    sh 'ant runTests'\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>However, when I run it, it finishes in 2 seconds, successfully, without actually doing anything. I'm assuming I'm missing some stuff related to the actual repository of my tests, basically, the pipeline has no idea what to run. So, how do I connect my pipeline to the build that's running my tests?</p>\n"},{"comments":[{"comment_id":134571523,"body":"&#39;Help urgently needed&#39;: that may be so, but your time management problems are your own. Nobody else is concerned."}],"last_activity_date":1684834560,"question_id":76311649,"body":"<p><a href=\"https://i.stack.imgur.com/iNtuD.png\" rel=\"nofollow noreferrer\">enter image description here</a>Process: com.example.my_rezume, PID: 22659\njava.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.database.DatabaseReference com.google.firebase.database.DatabaseReference.child(java.lang.String)' on a null object reference\nat com.example.my_rezume.CardRezumeFragment.onCreateView</p>\n<p>Trying to find db photo data discovery data: Name, profession....\nand I'm trying to put it in TextView\nI'm using the Fragments app</p>\n<pre><code>\n\nimport android.annotation.SuppressLint;\nimport android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;[enter image description here](https://i.stack.imgur.com/HCV4t.png)\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\n\nimport android.util.Log;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.TextView;\n\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.ChildEventListener;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.GenericTypeIndicator;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class CardRezumeFragment extends Fragment {\n\n    FirebaseAuth mAuth;\n    private TextView TextFullName, TextProfession, workExperience, Nationality, Skills, Edducation;\n    private String RezumeID;\n    private List &lt;String&gt; listData;\n    private DatabaseReference myDatabase;\n    DataSnapshot dataSnapshot;\n    private String USER_REZUME_KEY = &quot;user_rezume&quot;;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_card_rezume, container, false);\n\n        TextFullName = (TextView) view.findViewById(R.id.TextFullName);\n        TextProfession = (TextView) view.findViewById(R.id.TextProfession);\n        workExperience = (TextView) view.findViewById(R.id.workExperience);\n        Nationality = (TextView) view.findViewById(R.id.Nationality);\n        Skills = (TextView) view.findViewById(R.id.Skills);\n        Edducation = (TextView) view.findViewById(R.id.Edducation);\n\n        SharedPreferences businessID1 = getActivity().getSharedPreferences(&quot;BUSINESS_ID&quot;, Context.MODE_PRIVATE);\n        RezumeID = businessID1.getString(&quot;businessID&quot;, &quot;businessIDNotFound&quot;);\n        Log.i(&quot;BUSINESS KEY IS: &quot;, RezumeID);\n\n        mAuth = FirebaseAuth.getInstance();\n        myDatabase.child(&quot;user_rezume&quot;).child(RezumeID).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                showData(dataSnapshot);\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n\n\n\n   return view;\n    }\n\n    private void showData(DataSnapshot dataSnapshot) {\n        DataSnapshot snapshot;\n        snapshot = null;\n        if (snapshot.exists()) {\n            User_rezume resInfo = snapshot.getValue(User_rezume.class);\n\n            TextFullName.setText(resInfo.getName());\n            TextProfession.setText(resInfo.getProfession());\n            workExperience.setText(resInfo.getWorkExperience());\n            Nationality.setText(resInfo.getNationality());\n            Skills.setText(resInfo.getSkills());\n            Edducation.setText(resInfo.getEdducation());\n        } else {\n            TextFullName.setText(&quot;name&quot;);\n            TextProfession.setText(&quot;professoin&quot;);\n            workExperience.setText(&quot;WorkExperience&quot;);\n            Nationality.setText(&quot;Nationality&quot;);\n            Skills.setText(&quot;Skills&quot;);\n            Edducation.setText(&quot;Edducation&quot;);\n        }\n\n    }\n\n\n\n\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":134554166,"body":"Confirm your current role is admin , code 403 is  indicate that your operation <code>delete</code>  is illegal and not allowed  . Besides these, it seems like modify  in which permission for specify uri is not your major issue it is unnecessary that spend time on it    , and more important is check it out  your current role and confirm login operation is established. Do more debug;"},{"comment_id":134555565,"body":"Show your request and reponse with headers. Show your Spring Security TRACE logs."},{"comment_id":134568241,"body":"Hi, I have updated the log. Thank you"}],"last_activity_date":1684834556,"question_id":76302726,"body":"<p>How to fix <strong>Access to localhost was denied You don't have authorization to view this page.\nHTTP ERROR 403</strong> Java Security</p>\n<p>I wanted to create an admin page that allow the admin to delete the user account from mySQL database.</p>\n<p>This is my SecurityConfig class, all the functions work well except for the <em>/users/delete/</em>**, which returns me an error 403.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurity {\n\n    @Autowired\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public static PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable()\n                .authorizeHttpRequests((authorize) -&gt;\n                        authorize.requestMatchers(&quot;/register/**&quot;).permitAll()\n                                .requestMatchers(&quot;/&quot;).permitAll()\n                                .requestMatchers(&quot;/users&quot;).hasRole(&quot;ADMIN&quot;)\n                                .requestMatchers(&quot;/users/delete/**&quot;).hasRole(&quot;ADMIN&quot;)\n                ).formLogin(\n                        form -&gt; form\n                                .loginPage(&quot;/login&quot;)\n                                .loginProcessingUrl(&quot;/login&quot;)\n                                .defaultSuccessUrl(&quot;/users&quot;)\n                                .permitAll()\n                ).logout(\n                        logout -&gt; logout\n                                .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n                                .permitAll()\n                );\n        return http.build();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth\n                .userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n}\n</code></pre>\n<p>My Controller:</p>\n<pre><code>@DeleteMapping(&quot;/users/delete/{id}&quot;)\n    public String deleteUser(@PathVariable Long id) {\n        userService.deleteUser(id);\n        return &quot;redirect:/users&quot;;\n    }\n</code></pre>\n<p>My UserService:</p>\n<pre><code>@Override\n    public void deleteUser(Long id) {\n        userRepository.deleteById(id);\n    }\n\n}\n</code></pre>\n<p>I have change</p>\n<p><code>.requestMatchers(&quot;/users/delete/**&quot;).hasRole(&quot;ADMIN&quot;)</code></p>\n<p>to</p>\n<p><code>.requestMatchers(&quot;/users/delete/**&quot;).permitAll()</code></p>\n<p>but still doesnt work.</p>\n<p>This is the log i got, the Granted Authorities is ROLE_ADMIN also</p>\n<pre><code>2023-05-23T12:45:57.425+08:00 DEBUG 11808 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /users/delete/\n\n2023-05-23T12:45:57.427+08:00 DEBUG 11808 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin123@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=58E83603C0D05C4F4D71E5C79CF56F29], Granted Authorities=[ROLE_ADMIN]]]\n\n2023-05-23T12:45:57.427+08:00 DEBUG 11808 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /users/delete/\n\n2023-05-23T12:45:57.435+08:00 DEBUG 11808 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /error\n\n2023-05-23T12:45:57.436+08:00 DEBUG 11808 --- [nio-8080-exec-4] w.c.HttpSessionSecurityContextRepository : Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin123@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=58E83603C0D05C4F4D71E5C79CF56F29], Granted Authorities=[ROLE_ADMIN]]]\n\n2023-05-23T12:45:57.436+08:00 DEBUG 11808 --- [nio-8080-exec-4] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code\n</code></pre>\n<p>Pls help me to fix this error 403</p>\n"},{"last_activity_date":1684834290,"question_id":76313249,"body":"<p>I'm working with spring boot actuator - 2.6.6 and spring-boot-starter-data-redis - 2.6.6 along with  jedis client - 3.6.3 and I want to enable JMX monitoring so that the metrics of cache hit and misses can be populated in datadog client. I'm creating connection beans in the following way:</p>\n<pre><code>    @Bean\n    public JedisClientConfiguration getJedisClientConfiguration() {\n        JedisClientConfiguration.JedisClientConfigurationBuilder builder = JedisClientConfiguration.builder();\n        JedisPoolConfig poolConfig = new JedisPoolConfig();\n        poolConfig.setJmxEnabled(true);\n        poolConfig.setJmxNameBase(&quot;com.example:type=Pools,name=&quot;);\n        poolConfig.setJmxNamePrefix(&quot;Redis Connection Pool&quot;);\n        poolConfig.setMaxTotal(redisPoolSize);\n        return builder.usePooling().poolConfig(poolConfig).build();\n    }\n\n    @Bean(&quot;redisTemplate&quot;)\n    public RedisTemplate&lt;?, ?&gt; redisTemplate(RedisConnectionFactory redisConnectionFactory) {\n        RedisTemplate&lt;byte[], byte[]&gt; template = new RedisTemplate&lt;byte[], byte[]&gt;();\n        template.setConnectionFactory(redisConnectionFactory);\n        template.setDefaultSerializer(new GenericJackson2JsonRedisSerializer());\n        return template;\n    }\n    @Bean(&quot;redisCacheManager&quot;)\n    public RedisCacheManager cacheManager(RedisConnectionFactory connectionFactory) {\n        return RedisCacheManager.builder(connectionFactory)\n                .cacheDefaults(RedisCacheConfiguration\n                        .defaultCacheConfig()\n                        .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer())))\n                .enableStatistics()\n                .build();\n    }\n</code></pre>\n<p>but when I open localhost:8080/actuator/metrics, I don't see any metrics available for Redis connection. Can anyone please help here?</p>\n<p>I tried adding @ManagedAttribute on the bean but it doesn't work.\nI tried adding the following in my application.properties</p>\n<pre><code>management.endpoints.jmx.domain=example-application-domain\nspring.jmx.unique-names=true\nspring.jmx.enabled=true\nmanagement.metrics.export.jmx.enabled=true\nmanagement.endpoints.jmx.exposure.include=*\nmanagement.endpoints.web.exposure.include=*\nmanagement.endpoints.enabled-by-default=true\nspring.redis.cache.enable-statistics=true\n</code></pre>\n<p>But this too didn't help.</p>\n"},{"comments":[{"comment_id":120978862,"body":"Do you have a custom AuthenticationProvider? SO that way you can Override public Authentication authenticate(Authentication authentication) and would be able to get username by String userName = authentication.getName(); and password by String password = authentication.getCredentials().toString();"},{"comment_id":120978925,"body":"Please be aware that storing the passwords in that way is no longer secure. You can learn more about why, as well as a better approach in the Spring Security <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#authentication-password-storage-history\" rel=\"nofollow noreferrer\">reference documentation</a>."}],"answers":[{"answer_id":73591828,"body":"<p>A clever trick to solve this is to load the user first in your <code>/authenticate</code> method</p>\n<p>encrypt the password into the form it was stored in the database and then use a <code>NoOpPasswordEncoder</code> to compare.</p>\n<hr />\n<p>Ensure you include the salt with your own <code>CustomUserDetails</code> impl</p>\n<hr />\n<p>Within your <code>/authenticate</code> method\nCall</p>\n<p><code>final  CustomUserDetails userDetails = (CustomUserDetails) userDetailsService.loadUserByUsername(auth.getUsername());</code></p>\n<hr />\n<p>Extract your salt and then create an encoded password from the normal password the user provided</p>\n<p><code>String encodedPassword = encode(auth.getPassword, userDetails.getSalt());</code></p>\n<hr />\n<p>then pass the encodedPassword to the authenticate method</p>\n<p><code>authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, encodedPassword ));</code></p>\n"},{"answer_id":76309599,"body":"<p>I had a similar requirement and solved this problem by using Java thread local variables. Probably it looks ugly but I did not have much time back then and it worked for me. This is my thread local declaration</p>\n<pre><code>    public class MySecurityContext {\n    private static final ThreadLocal&lt;String&gt; usernameTL = new ThreadLocal&lt;&gt;();\n\n    public static void setUsername(String username) {\n        usernameTL.set(username);\n    }\n\n    public static String getUsername() {\n        return usernameTL.get();\n    }\n\n    public static void clear() {\n        usernameTL.remove();\n    }\n</code></pre>\n<p>}</p>\n<p>Then I define my UserDetailsService bean where I have the username and can place it in the thread local variable</p>\n<pre><code>    @Bean\npublic UserDetailsService userDetailsService(UserRepository userRepository){\n    return username -&gt; {\n        User user = userRepository.findUserByUsername(username);\n        if (user != null) {\n            MySecurityContext.setUsername(user.getUsername());\n            return user;\n        }\n        throw new UsernameNotFoundException(&quot;User '&quot; + username + &quot;' not found&quot;);\n    };\n}\n</code></pre>\n<p>And finally I have my custom password encoder where I extract the thread variable value</p>\n<pre><code>public class DatabasePasswordEncoder implements PasswordEncoder {\nprivate JdbcTemplate jdbcTemplate;\nprivate String salt;\n\npublic DatabasePasswordEncoder(JdbcTemplate jdbcTemplate, String salt){\n    this.jdbcTemplate = jdbcTemplate;\n    this.salt = salt;\n}\n\n@Override\npublic String encode(CharSequence rawPassword) {\n    String username = MySecurityContext.getUsername();\n    String passwordString = username + salt + rawPassword.toString();\n    MySecurityContext.clear();\n</code></pre>\n"}],"last_activity_date":1684834197,"question_id":68453338,"body":"<p>When adding a new user, I save his password in the database, in the form of SHA256 (cleartext_password + salt). The salt value  I save next to it in a separate column for each user. Accordingly, the password check should be performed as follows: we extract the password cleartext from the BasicAuth header, get the salt value for this user from the database, execute SHA256 (cleartext_password + salt) and check that the resulting string and the passwored stored in the database matches. In order to implement this, I to create a custom PasswordEncoder which will perform verification, but I can't access username from PasswordEncoder. I need username to get salt for this user and execute verifcation. How can I get out of this situation?</p>\n<p>Here's the current implementation of Security:</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final UserDetailsService customUserDetailsService;\n\n    public SecurityConfig(UserDetailsService customUserDetailsService) {\n        this.customUserDetailsService = customUserDetailsService;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable()\n                .authorizeRequests()\n                .requestMatchers(EndpointRequest.toAnyEndpoint()).permitAll()\n                .anyRequest().authenticated()\n                .and().httpBasic();\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(customUserDetailsService)\n        .passwordEncoder(new CustomPasswordEncoder());\n    }\n\n}\n\n@Component\npublic class CustomUserDetailsService implements UserDetailsService {\n    private final UserRepository userRepository;\n\n    public CustomUserDetailsService(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findByUserName(username);\n        if (user != null) {\n            return org.springframework.security.core.userdetails.\n                    User.withUsername(username)\n                    .password(new CustomPasswordEncoder().encode(user.getPassword()))\n                    .roles(&quot;USER&quot;)\n                    .build();\n        }\n        throw new IllegalArgumentException();\n    }\n}\n\npublic class CustomPasswordEncoder implements PasswordEncoder {\n\n    @Override\n    public String encode(CharSequence rawPassword) {\n        return rawPassword.toString();\n    }\n\n    @Override\n    public boolean matches(CharSequence rawPassword, String encodedPassword) {\n        String sha256hex = DigestUtils.sha256Hex(rawPassword.toString()); // Here should be DigestUtils.sha256Hex(rawPassword.toString() + salt)\n        return sha256hex.equals(encodedPassword);\n    }\n\n}\n</code></pre>\n"},{"answers":[{"answer_id":6142935,"body":"<p>You need to ensure that the parent directories exist before writing. You can do this by <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html#mkdirs%28%29\" rel=\"noreferrer\"><code>File#mkdirs()</code></a>.</p>\n\n<pre><code>File f = new File(\"C:/a/b/test.txt\");\nf.getParentFile().mkdirs();\n// ...\n</code></pre>\n"},{"comments":[{"comment_id":7132241,"body":"On Windows, both \\\\ and / are valid. The <code>createNewFile()</code> is by the way unnecessary when you write to it with <code>FileOutputStream</code> anyway."},{"comment_id":7132259,"body":"@Eric Noted and Corrected, Thank you."},{"comment_id":92644187,"body":"This created a directory called test.txt instead of file."}],"answer_id":6142996,"body":"<p>Use:</p>\n\n<pre><code>File f = new File(\"C:\\\\a\\\\b\\\\test.txt\");\nf.mkdirs();\nf.createNewFile();\n</code></pre>\n\n<p>Notice I changed the forward slashes to double back slashes for paths in Windows File System. This will create an empty file on the given path.</p>\n"},{"comments":[{"comment_id":7132278,"body":"Won&#39;t work for Linux because there is no such thing as &quot;C:&quot; in unix systems."},{"comment_id":7132323,"body":"Using <code>new File(&quot;&#47;a&#47;b&#47;test.txt&quot;)</code> works for both systems. On Windows, it will be written to the same disk as where JVM runs."},{"comment_id":34334735,"body":"<code>f.getParentFile().mkdirs(); f.createNewFile();</code>"},{"comment_id":51294434,"body":"Don&#39;t forget to check the called method (mkdirs and createNewFile) calls for errors"},{"comment_id":81409342,"body":"if(!file.exists()) f.createNewFile();"}],"answer_id":6143076,"body":"<p>The best way to do it is:</p>\n\n<pre><code>String path = \"C:\" + File.separator + \"hello\" + File.separator + \"hi.txt\";\n// Use relative path for Unix systems\nFile f = new File(path);\n\nf.getParentFile().mkdirs(); \nf.createNewFile();\n</code></pre>\n"},{"answer_id":15782652,"body":"<pre><code>String path = \"C:\"+File.separator+\"hello\";\nString fname= path+File.separator+\"abc.txt\";\n    File f = new File(path);\n    File f1 = new File(fname);\n\n    f.mkdirs() ;\n    try {\n        f1.createNewFile();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>This should create a new file inside a directory</p>\n"},{"answer_id":16714929,"body":"<p>With <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/package-summary.html\">Java 7</a>, you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\"><code>Path</code></a>, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html\"><code>Paths</code></a>, and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\"><code>Files</code></a>:</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.file.FileAlreadyExistsException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class CreateFile {\n\n    public static void main(String[] args) throws IOException {\n        Path path = Paths.get(\"/tmp/foo/bar.txt\");\n\n        Files.createDirectories(path.getParent());\n\n        try {\n            Files.createFile(path);\n        } catch (FileAlreadyExistsException e) {\n            System.err.println(\"already exists: \" + e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"answer_id":37521412,"body":"<p><strong>Create New File in Specified Path</strong></p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\npublic class CreateNewFile {\n\n    public static void main(String[] args) {\n        try {\n            File file = new File(\"d:/sampleFile.txt\");\n            if(file.createNewFile())\n                System.out.println(\"File creation successfull\");\n            else\n                System.out.println(\"Error while creating File, file already exists in specified path\");\n        }\n        catch(IOException io) {\n            io.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p><strong>Program Output:</strong></p>\n\n<p>File creation successfull </p>\n"},{"answer_id":47229482,"body":"<p>A better and simpler way to do that :</p>\n\n<pre><code>File f = new File(\"C:/a/b/test.txt\");\nif(!f.exists()){\n   f.createNewFile();\n}\n</code></pre>\n\n<p><a href=\"http://tutoref.com/how-to-create-directories-in-java/\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"answer_id":52865033,"body":"<p>Surprisingly, many of the answers don't give complete working code. Here it is:</p>\n\n<pre><code>public static void createFile(String fullPath) throws IOException {\n    File file = new File(fullPath);\n    file.getParentFile().mkdirs();\n    file.createNewFile();\n}\n\npublic static void main(String [] args) throws Exception {\n    String path = \"C:/donkey/bray.txt\";\n    createFile(path);\n}\n</code></pre>\n"},{"answer_id":59138457,"body":"<p>To create a file and write some string there:</p>\n\n<pre><code>BufferedWriter bufferedWriter = Files.newBufferedWriter(Paths.get(\"Path to your file\"));\nbufferedWriter.write(\"Some string\"); // to write some data\n// bufferedWriter.write(\"\");         // for empty file\nbufferedWriter.close();\n</code></pre>\n\n<p>This works for Mac and PC.</p>\n"},{"answer_id":59313684,"body":"<p>For using the FileOutputStream try this : </p>\n\n<pre><code>public class Main01{\n    public static void main(String[] args) throws FileNotFoundException{\n        FileOutputStream f = new FileOutputStream(\"file.txt\");\n        PrintStream p = new PrintStream(f);\n        p.println(\"George.........\");\n        p.println(\"Alain..........\");\n        p.println(\"Gerard.........\");\n        p.close();\n        f.close();\n    }\n}\n</code></pre>\n"},{"answer_id":63852596,"body":"<p>When you write to the file via file output stream, the file will be created automatically. but make sure all necessary directories ( folders) are created.</p>\n<pre><code>    String absolutePath = ...\n    try{\n       File file = new File(absolutePath);\n       file.mkdirs() ;\n       //all parent folders are created\n       //now the file will be created when you start writing to it via FileOutputStream.\n      }catch (Exception e){\n        System.out.println(&quot;Error : &quot;+ e.getmessage());\n       }\n</code></pre>\n"},{"answer_id":76261799,"body":"<p>I was here tackling this same problem and I finally solved it.</p>\n<p>The goal is to create a file (example a .txt file) within a folder.</p>\n<p>Things you'll need:</p>\n<ol>\n<li>Folder name</li>\n<li></li>\n</ol>\n<p>Instead of this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>File f = new File(&quot;C:/a/b/test.txt&quot;);\n</code></pre>\n<p>Try</p>\n<pre class=\"lang-java prettyprint-override\"><code>//get the file's absolute path. You could input it yourself\n// but I think it is better to have a function to handle\n// system rules on how to format the path string\n\nString myFolder = &quot;b&quot;;\nString myFile = &quot;test.txt&quot;;\nString folderPath = myFolder.getAbsolutePath(); //will get the entire path for you\n\nString pathToFile = folderPath + File.separator + myFile;\n\n// this will probably throw a exception, you want to make sure you handle it\ntry {\n    File newFile = new File(pathToFile);\n    if (newFile.createNewFile()) {    \n         System.out.println(&quot;bwahahah success&quot;);\n    }\n    else {\n        System.out.println(&quot;file creation failed&quot;);\n    }\n}catch(IOException e) {\n    System.out.println(e.getMessage());   // you will need to print the message in order to get some insight on what the problem is.\n}\n\n// you can also add a throw if within the if statement with other checks in order to know where the error is coming from, but to keep it short this is the gist of it.\n\n// Really hope this will assist anyone that stumbles upon this same issue.\n\n</code></pre>\n<p>Other resources for further reading: <a href=\"https://www.happycoders.eu/java/how-to-construct-file-and-directory-names-with-file-path-paths/\" rel=\"nofollow noreferrer\">everything on java paths &amp; files</a></p>\n<p>Please comment if there is anything I might also overlook, lemme absorb some of that knowledge</p>\n"},{"answer_id":76313208,"body":"<p>Just joining some answers together.</p>\n<pre><code>import java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\nclass Scratch {\n    public static void main(String[] args) {\n\n        String fileTargetLocation = &quot;C:\\\\testing\\\\&quot;;\n        String fileNameAndExtension = &quot;test.txt&quot;;\n\n        boolean fileCreated = createFile(fileTargetLocation, fileNameAndExtension);\n        if (fileCreated) {\n            String stringForFile = &quot;This is some test text to write into the file.&quot;;\n            writeIntoFile(fileTargetLocation, fileNameAndExtension, stringForFile);\n        }\n    }\n\n    /**\n     * Attempts to create a file at the given location, with the given file name and desired extension.\n     *\n     * @param fullPath             full path to folder in which the file needs to be created, example: C:\\testing\\\n     *                             (ending with a foreword slash)\n     * @param fileNameAndExtension file name and desired extension. Example: environment.properties, test.txt\n     * @return successful file creation boolean\n     */\n    public static boolean createFile(String fullPath, String fileNameAndExtension) {\n        try {\n            return new File(fullPath + fileNameAndExtension).createNewFile();\n        } catch (IOException io) {\n            io.printStackTrace();\n        }\n        return false;\n    }\n\n    /**\n     * Attempt to write into the given file.\n     *\n     * @param fullPath             full path to folder in which the file needs to be created, example: C:\\testing\\\n     *                             (ending with a foreword slash)\n     * @param fileNameAndExtension file name and extension. Example: environment.properties, test.txt\n     * @param whatToWriteToFile    string to write to the file\n     */\n    public static void writeIntoFile(String fullPath, String fileNameAndExtension, String whatToWriteToFile) {\n        try (BufferedWriter bufferedWriter = Files.newBufferedWriter(Paths.get(fullPath + fileNameAndExtension))) {\n            bufferedWriter.write(whatToWriteToFile);\n        } catch (IOException io) {\n            io.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684834069,"question_id":6142901,"body":"<p>If I want to create a file in <code>C:/a/b/test.txt</code>, can I do something like:</p>\n\n<pre><code>File f = new File(\"C:/a/b/test.txt\");\n</code></pre>\n\n<p>Also, I want to use <code>FileOutputStream</code> to create the file. So how would I do it? For some reason the file doesn't get created in the right directory.</p>\n"},{"answers":[{"comments":[{"comment_id":134572211,"body":"I did everything you said, now I have this error: FAILURE: Build failed with an exception.  * What went wrong: The supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-19\\bin\\java.exe  * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.  * Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">help.gradle.org</a> Running Gradle task &#39;assembleRelease&#39;...                         1,117ms Gradle task assembleRelease failed with exit code 1"}],"answer_id":76313160,"body":"<blockquote>\n<p>Step 1: (Setup your environment with)</p>\n</blockquote>\n<pre><code>Dart SDK: 2.18.5\nFlutter SDK: 3.3.9\n</code></pre>\n<blockquote>\n<p>Step 2: (replace the buildscript in android/build.gradle)</p>\n</blockquote>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.6.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.3'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.15'\n    }\n}\n</code></pre>\n<blockquote>\n<p>Step 3: (replace the mainActivity file content in android/app/src/main/kotlin/com/example/social_media_app/MainActivity.kt)</p>\n</blockquote>\n<pre><code>package com.example.social_media_app\n\nimport androidx.annotation.NonNull\nimport io.flutter.embedding.android.FlutterFragmentActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugins.GeneratedPluginRegistrant\nimport io.flutter.plugin.common.MethodChannel\n\nclass MainActivity : FlutterFragmentActivity() {\n    companion object {\n        private const val CHANNEL = &quot;your_channel_name&quot;\n    }\n\n    override fun configureFlutterEngine(@NonNull flutterEngine: FlutterEngine) {\n        GeneratedPluginRegistrant.registerWith(flutterEngine)\n        MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler { call, result -&gt;\n            // Method channel handler logic goes here\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>Step 4: (run this command in your project terminal)</p>\n</blockquote>\n<pre><code>flutter clean\nflutter pub get\nflutter run\n</code></pre>\n<p><strong>Here is the result:</strong>\n<a href=\"https://i.stack.imgur.com/d7sgOl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d7sgOl.png\" alt=\"Homepage\" /></a></p>\n"}],"last_activity_date":1684834055,"question_id":76312650,"body":"<p>when I try to run the <a href=\"https://github.com/CharlyKeleb/SocialMedia-App\" rel=\"nofollow noreferrer\">flutter software</a>, I encounter the following error:\n`FAILURE: Build failed with an exception.</p>\n<p>What went wrong:\nCould not open settings generic class cache for settings file 'F:\\mahdi-barati-repo\\Flutter\\SocialMedia-App\\android\\settings.gradle' (C:\\Users\\WEBFLAX-THREE.gradle\\caches\\7.1\\scripts\\el377zxjtiubuolyxhieyiuv6).\nBUG! exception in phase 'semantic analysis' in source unit 'BuildScript' Unsupported class file major version 61</p>\n<p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n<p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n<p>BUILD FAILED in 4m 36s\nRunning Gradle task 'assembleDebug'... 277.3s</p>\n<p>┌─ Flutter Fix ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project's Gradle version is incompatible with the Java version that Flutter is using for Gradle. │\n│ │\n│ To fix this issue, first, check the Java version used by Flutter by running flutter doctor --verbose. │\n│ │\n│ Then, update the Gradle version specified in F:\\mahdi-barati-repo\\Flutter\\SocialMedia-App\\android\\gradle\\wrapper\\gradle-wrapper.properties to be compatible with that Java version. See the link below for more information on │\n│ compatible Java/Gradle versions: │\n│ <a href=\"https://docs.gradle.org/current/userguide/compatibility.html#java\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/compatibility.html#java</a> │\n│ │\n│ │\n└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘\n`\nPlease give me the appropriate version of Java and Flutter and Dart that are suitable for <a href=\"https://github.com/CharlyKeleb/SocialMedia-App\" rel=\"nofollow noreferrer\">this </a>project.</p>\n<p>I just want to run this project, but I don't know which version of Java is compatible with this project's Gradle</p>\n"},{"comments":[{"comment_id":134558185,"body":"Show your code. Tell what not works. It can work on SDK 33 too using the right public directory."},{"comment_id":134567326,"body":"@blackapps I followed to this source code <a href=\"https://github.com/Truiton/ScreenCapture\" rel=\"nofollow noreferrer\">github.com/Truiton/ScreenCapture</a>"},{"comment_id":134568017,"body":"Much too much code. All irrelevant. To demonstrate that you cannot create a file five code lines would be enough."},{"comment_id":134568183,"body":"@blackapps I mean, I&#39;m in need of screen recording. And I did exactly the same code in this repository <a href=\"https://github.com/Truiton/ScreenCapture\" rel=\"nofollow noreferrer\">github.com/Truiton/ScreenCapture</a>. And currently it only works on API 29 and below. As for API 29 and above, it doesn&#39;t work."},{"comment_id":134568206,"body":"It does not work becouse you cannot store a file. So only five code lines please to demonstrate that you cannot create a file. Come to the point."},{"comment_id":134568219,"body":"I checked and found that WRITE_EXTERNAL_STORAGE was not granted. So I&#39;m looking forward to getting people to come up with a solution. Or the steps to solve my above problem. @blackapps"},{"comment_id":134571336,"body":"On an Android sdk 33 device you will not ask for write exteral storage permission to begin with."}],"answers":[{"comments":[{"comment_id":134558215,"body":"<code>I am guessing that you have added the storage permissions in manifest and also requested them at the runtime.</code> Unclear. All is not needed using ACTION_CREATE_DOCUMENT."},{"comment_id":134567395,"body":"Sorry, after checked, my this src just active on api 29 and below. On api 29 and above not working. I followed to <a href=\"https://github.com/Truiton/ScreenCapture\" rel=\"nofollow noreferrer\">github.com/Truiton/ScreenCapture</a>. Please help me complete this function."}],"answer_id":76305455,"body":"<p>From Api level 29 accessing external storage has been restricted in order to improve user privacy and security so if your app is working with api level 32 then I am guessing that you have added the storage permissions in manifest and also requested them at the runtime.</p>\n<p>I have code snippet in my app that does the same function that you want .</p>\n<pre><code>val intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {\n    addCategory(Intent.CATEGORY_OPENABLE)\n    type = &quot;video/mp4&quot;\n    putExtra(Intent.EXTRA_TITLE, &quot;my_video.mp4&quot;)\n}\n\nstartActivityForResult(intent, CREATE_DOCUMENT_REQUEST_CODE)\n</code></pre>\n<p>intent with the action ACTION_CREATE_DOCUMENT to create a new document.Specify the category CATEGORY_OPENABLE to allow the user to choose a location. The type specifies the MIME type of the file. In this case, we use &quot;video/mp4&quot;. The putExtra method is used to specify the default file name.</p>\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == CREATE_DOCUMENT_REQUEST_CODE &amp;&amp; resultCode == Activity.RESULT_OK) {\n        val uri: Uri? = data?.data\n        if (uri != null) {\n            // Save the video file to the chosen location\n            saveVideoToUri(uri)\n        }\n    }\n}\n</code></pre>\n<p>The result is RESULT_OK. If so, we retrieve the Uri of the chosen location and pass it to the saveVideoToUri function.</p>\n<pre><code>fun saveVideoToUri(uri: Uri,context:Context) {\n    try {\n        context.contentResolver.openOutputStream(uri)?.use { outputStream -&gt;\n            // Write the video data to the output stream\n            outputStream.write(videoData)\n        }\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n}\n</code></pre>\n"},{"answer_id":76305457,"body":"<ol>\n<li><p>You need these two permissions in your manifest and ask the user for permissions programmatically</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_VIDEO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_MEDIA_IMAGES&quot; /&gt;\n</code></pre>\n</li>\n<li><p>In Android R+ you can not access storage without <code>MANAGE_EXTERNAL_STORAGE</code> <a href=\"https://developer.android.com/training/data-storage/manage-all-files\" rel=\"nofollow noreferrer\">see documentation here</a> but you can access <strong>shared storage</strong> Like <code>Downloads</code> and your app folder.</p>\n</li>\n<li><p>now you can create your folder directory using the below code</p>\n<pre><code> fun createAppDirectoryInDownloads(context: Context): File? {\n     val downloadsDirectory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n     val appDirectory = File(downloadsDirectory, &quot;YourAppDirectoryName&quot;)\n\n     if (!appDirectory.exists()) {\n         val directoryCreated = appDirectory.mkdir()\n         if (!directoryCreated) {\n             // Failed to create the directory\n             return null\n         }\n     }\n\n     return appDirectory\n }\n</code></pre>\n</li>\n<li><p>now create your video file in your directory using below code</p>\n<pre><code> companion object {\n @JvmStatic\n fun createFileInAppDirectory(context: Context, fileName: String): File? {\n     val appDirectory = createAppDirectoryInDownloads(context)\n     if (appDirectory != null) {\n         val file = File(appDirectory, fileName)\n         try {\n             if (!file.exists()) {\n                 val fileCreated = file.createNewFile()\n                 if (!fileCreated) {\n                     // Failed to create the file\n                     return null\n                 }\n             }\n             return file\n         } catch (e: IOException) {\n             e.printStackTrace()\n         }\n     }\n     return null\n }\n</code></pre>\n</li>\n</ol>\n<p>It's Working For me,I just hope your problem solve with this.</p>\n"},{"answer_id":76313191,"body":"<p>On an Android sdk 33 device you will not ask for write exteral storage permission to begin with.</p>\n<p>You have write permission by default to all public directories on external storage.</p>\n"}],"last_activity_date":1684833929,"question_id":76305189,"body":"<p>I'm doing screen recording function for my app. So, I need save video mp4 files to external storage. My function active on API 29 and below, but not working on API 32 and above. Please show me steps to resolve this problem.</p>\n<p>I followed to this source code: <a href=\"https://github.com/Truiton/ScreenCapture\" rel=\"nofollow noreferrer\">https://github.com/Truiton/ScreenCapture</a></p>\n<p>MainActivity.kt</p>\n<pre><code>class MainActivity : AppCompatActivity() {\nprivate var mScreenDensity = 0\nprivate var mProjectionManager: MediaProjectionManager? = null\nprivate var mMediaProjection: MediaProjection? = null\nprivate var mVirtualDisplay: VirtualDisplay? = null\nprivate var mMediaProjectionCallback: MediaProjectionCallback? = null\nprivate var mMediaRecorder: MediaRecorder? = null\nprivate lateinit var binding: ActivityMainBinding\npublic override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    binding = ActivityMainBinding.inflate(layoutInflater)\n    setContentView(binding.root)\n    val metrics = DisplayMetrics()\n    windowManager.defaultDisplay.getMetrics(metrics)\n    mScreenDensity = metrics.densityDpi\n    mMediaRecorder = MediaRecorder()\n    mProjectionManager = getSystemService(MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\n    binding.toggle.setOnClickListener { v: View? -&gt;\n        if ((ContextCompat.checkSelfPermission(\n                this@MainActivity,\n                Manifest.permission.WRITE_EXTERNAL_STORAGE\n            ) + ContextCompat\n                .checkSelfPermission(\n                    this@MainActivity,\n                    Manifest.permission.RECORD_AUDIO\n                ) + ContextCompat.checkSelfPermission(\n                this@MainActivity,\n                MANAGE_EXTERNAL_STORAGE\n            ))\n            != PackageManager.PERMISSION_GRANTED\n        ) {\n            if (ActivityCompat.shouldShowRequestPermissionRationale(\n                    this@MainActivity,\n                    Manifest.permission.WRITE_EXTERNAL_STORAGE\n                ) ||\n                ActivityCompat.shouldShowRequestPermissionRationale(\n                    this@MainActivity,\n                    Manifest.permission.RECORD_AUDIO\n                ) || ActivityCompat.shouldShowRequestPermissionRationale(\n                    this@MainActivity,\n                    MANAGE_EXTERNAL_STORAGE\n                )\n            ) {\n                binding.toggle.isChecked = false\n                Snackbar.make(\n                    findViewById(android.R.id.content), R.string.label_permissions,\n                    Snackbar.LENGTH_INDEFINITE\n                ).setAction(&quot;ENABLE&quot;,\n                    View.OnClickListener { v1: View? -&gt;\n                        ActivityCompat.requestPermissions(\n                            this@MainActivity,\n                            arrayOf(\n                                Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                                Manifest.permission.RECORD_AUDIO,\n                                MANAGE_EXTERNAL_STORAGE\n                            ),\n                            REQUEST_PERMISSIONS\n                        )\n                    }).show()\n            } else {\n                ActivityCompat.requestPermissions(\n                    this@MainActivity,\n                    arrayOf(\n                        Manifest.permission.WRITE_EXTERNAL_STORAGE,\n                        Manifest.permission.RECORD_AUDIO,\n                        MANAGE_EXTERNAL_STORAGE\n                    ),\n                    REQUEST_PERMISSIONS\n                )\n            }\n        } else {\n            onToggleScreenShare(v)\n        }\n    }\n}\n\npublic override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (requestCode != REQUEST_CODE) {\n        Log.e(TAG, &quot;Unknown request code: $requestCode&quot;)\n        return\n    }\n    if (resultCode != RESULT_OK) {\n        Toast.makeText(\n            this,\n            &quot;Screen Cast Permission Denied&quot;, Toast.LENGTH_SHORT\n        ).show()\n        binding.toggle.isChecked = false\n        return\n    }\n    mMediaProjectionCallback = MediaProjectionCallback()\n    mMediaProjection = mProjectionManager!!.getMediaProjection(resultCode, data!!)\n    mMediaProjection?.registerCallback(mMediaProjectionCallback, null)\n    mVirtualDisplay = createVirtualDisplay()\n    mMediaRecorder!!.start()\n}\n\nfun onToggleScreenShare(view: View?) {\n    if ((view as ToggleButton?)!!.isChecked) {\n        initRecorder()\n        shareScreen()\n    } else {\n        mMediaRecorder!!.stop()\n        mMediaRecorder!!.reset()\n        Log.v(TAG, &quot;Stopping Recording&quot;)\n        stopScreenSharing()\n    }\n}\n\nprivate fun shareScreen() {\n    if (mMediaProjection == null) {\n        startActivityForResult(mProjectionManager!!.createScreenCaptureIntent(), REQUEST_CODE)\n        return\n    }\n    mVirtualDisplay = createVirtualDisplay()\n    mMediaRecorder!!.start()\n}\n\nprivate fun createVirtualDisplay(): VirtualDisplay {\n    return mMediaProjection!!.createVirtualDisplay(\n        &quot;MainActivity&quot;,\n        DISPLAY_WIDTH, DISPLAY_HEIGHT, mScreenDensity,\n        DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\n        mMediaRecorder!!.surface, null /*Callbacks*/, null /*Handler*/\n    )\n}\n\n@SuppressLint(&quot;SimpleDateFormat&quot;)\nprivate fun initRecorder() {\n    try {\n        mMediaRecorder!!.setAudioSource(MediaRecorder.AudioSource.MIC)\n        mMediaRecorder!!.setVideoSource(MediaRecorder.VideoSource.SURFACE)\n        mMediaRecorder!!.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP)\n        mMediaRecorder!!.setOutputFile(\n            Environment\n                .getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n                .toString() + &quot;/&quot; + &quot;Prank_Record_&quot; + SimpleDateFormat(&quot;dd-MM-yyyy-hh_mm_ss&quot;).format(\n                Date()\n            ) + &quot;.mp4&quot;\n        )\n        mMediaRecorder!!.setVideoSize(DISPLAY_WIDTH, DISPLAY_HEIGHT)\n        mMediaRecorder!!.setVideoEncoder(MediaRecorder.VideoEncoder.H264)\n        mMediaRecorder!!.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB)\n        mMediaRecorder!!.setVideoEncodingBitRate(512 * 1000)\n        mMediaRecorder!!.setVideoFrameRate(30)\n        val rotation = windowManager.defaultDisplay.rotation\n        val orientation = ORIENTATIONS[rotation + 90]\n        mMediaRecorder!!.setOrientationHint(orientation)\n        mMediaRecorder!!.prepare()\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n}\n\nprivate inner class MediaProjectionCallback : MediaProjection.Callback() {\n    override fun onStop() {\n        if (binding.toggle.isChecked) {\n            binding.toggle.isChecked = false\n            mMediaRecorder!!.stop()\n            mMediaRecorder!!.reset()\n            Log.v(TAG, &quot;Recording Stopped&quot;)\n        }\n        mMediaProjection = null\n        stopScreenSharing()\n    }\n}\n\nprivate fun stopScreenSharing() {\n    if (mVirtualDisplay == null) {\n        return\n    }\n    mVirtualDisplay!!.release()\n    //mMediaRecorder.release(); //If used: mMediaRecorder object cannot\n    // be reused again\n    destroyMediaProjection()\n}\n\npublic override fun onDestroy() {\n    super.onDestroy()\n    destroyMediaProjection()\n}\n\nprivate fun destroyMediaProjection() {\n    if (mMediaProjection != null) {\n        mMediaProjection!!.unregisterCallback(mMediaProjectionCallback)\n        mMediaProjection!!.stop()\n        mMediaProjection = null\n    }\n    Log.i(TAG, &quot;MediaProjection Stopped&quot;)\n}\n\n@RequiresApi(Build.VERSION_CODES.R)\noverride fun onRequestPermissionsResult(\n    requestCode: Int,\n    permissions: Array&lt;String&gt;,\n    grantResults: IntArray\n) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    when (requestCode) {\n        REQUEST_PERMISSIONS -&gt; {\n            if (true) {\n                onToggleScreenShare(binding.toggle)\n            } else {\n                binding.toggle.isChecked = false\n                Snackbar.make(\n                    findViewById(android.R.id.content), R.string.label_permissions,\n                    Snackbar.LENGTH_INDEFINITE\n                ).setAction(&quot;ENABLE&quot;,\n                    View.OnClickListener {\n                        val intent = Intent()\n                        intent.action = Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION\n                        intent.addCategory(Intent.CATEGORY_DEFAULT)\n                        intent.data = Uri.parse(&quot;package:$packageName&quot;)\n                        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK)\n                        intent.addFlags(Intent.FLAG_ACTIVITY_NO_HISTORY)\n                        intent.addFlags(Intent.FLAG_ACTIVITY_EXCLUDE_FROM_RECENTS)\n                        startActivity(intent)\n                    }).show()\n            }\n            return\n        }\n    }\n}\n\ncompanion object {\n    private const val TAG = &quot;MainActivity&quot;\n    private const val REQUEST_CODE = 1000\n    private const val DISPLAY_WIDTH = 720\n    private const val DISPLAY_HEIGHT = 1280\n    private val ORIENTATIONS = SparseIntArray()\n    private const val REQUEST_PERMISSIONS = 10\n\n    init {\n        ORIENTATIONS.append(Surface.ROTATION_0, 90)\n        ORIENTATIONS.append(Surface.ROTATION_90, 0)\n        ORIENTATIONS.append(Surface.ROTATION_180, 270)\n        ORIENTATIONS.append(Surface.ROTATION_270, 180)\n    }\n}\n</code></pre>\n<p>}</p>\n<p>AndroidManifest.xml</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n</code></pre>\n"},{"answers":[{"answer_id":76313151,"body":"<h2>Debugging</h2>\n<p>After debugging jsonPath code using breakpoints in intellij IDE, Realised we need to pass Configuration in each instance of DocumentContext.</p>\n<p>For e.g.</p>\n<h4>Configuration</h4>\n<pre><code>    private static final Configuration suppressExceptionConfiguration = Configuration\n            .defaultConfiguration()\n            .addOptions(Option.DEFAULT_PATH_LEAF_TO_NULL)\n            .addOptions(Option.SUPPRESS_EXCEPTIONS);\n</code></pre>\n<h4>Example</h4>\n<p>Pass above configuration in each instance of DocumentContext to make sure configuration is always applied and not missed.</p>\n<pre><code>        DocumentContext jsonContext = JsonPath.using(suppressExceptionConfiguration).parse(json);\n        DocumentContext name = JsonPath.parse((String) jsonContext.read(&quot;$.abc.name&quot;), suppressExceptionConfiguration);\n\n</code></pre>\n"}],"last_activity_date":1684833664,"question_id":76313004,"body":"<h2>JSON</h2>\n<pre><code>{\n&quot;abc&quot;: {\n    &quot;country&quot;: [\n      {\n        &quot;city&quot;: &quot;JODHPUR&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<h2>JSONPath Configuration</h2>\n<pre><code>    private static final Configuration suppressExceptionConfiguration = Configuration\n            .defaultConfiguration()\n            .addOptions(Option.DEFAULT_PATH_LEAF_TO_NULL)\n            .addOptions(Option.SUPPRESS_EXCEPTIONS);\n</code></pre>\n<h2>Accessing fields</h2>\n<p>I am trying to access a field which can exist in some of my sample json and also may not exist.</p>\n<p>for e.g.</p>\n<pre><code>        DocumentContext jsonContext = JsonPath.using(suppressExceptionConfiguration).parse(json);\n\n        String name = jsonContext.read(&quot;$.abc.name&quot;);\n</code></pre>\n<h2>Error</h2>\n<p>It is giving me error and exiting.</p>\n<pre><code>com.jayway.jsonpath.PathNotFoundException: No results for path: $['abc']['name']\n\n</code></pre>\n<h3>Issue</h3>\n<p>I would like the program to continue and return <code>null</code> for this element and this is why I used option like <code>Option.DEFAULT_PATH_LEAF_TO_NULL</code> but it is not working.</p>\n<h2>My environment</h2>\n<h4>Java 17</h4>\n<h4>JSONPath version</h4>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134570696,"body":"Show the view, show the controller, show your configuration. Also stating &quot;this doesn&#39;t work&quot; isn&#39;t really helpful, what doesn&#39;t work?"}],"last_activity_date":1684833451,"question_id":76312573,"body":"<p>I have some problems with validations in Spring Boot 3.\nI have 21 fields in 6 Entities that have validations with import jakarta.validation but of these, only 2 with @NotBlank work and return in the Thymeleaf view the message I set.</p>\n<p>All 6 fields of type LocalDateTime with @Future trigger the error in the view but do not print the message I set in the annotation.\nAll other fields do not throw any error in the view.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;it.la7.travel&lt;/groupId&gt;\n    &lt;artifactId&gt;la7-travel&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;la7-travel&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Validator spring-boot-starter --&gt;\n        &lt;dependency&gt; \n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \n        &lt;/dependency&gt;\n        \n        &lt;!-- Hibernate Validator --&gt;\n&lt;!--        &lt;dependency&gt; --&gt;\n&lt;!--            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;6.0.13.Final&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt; --&gt;\n        \n        &lt;!-- bootstrap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- font-awesome --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;font-awesome&lt;/artifactId&gt;\n            &lt;version&gt;6.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- Vue.js --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars.npm&lt;/groupId&gt;\n            &lt;artifactId&gt;vue&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0-alpha.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>This throws the error and prints the error-message I set in the annotation</p>\n<pre><code>import jakarta.validation.constraints.Future;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.Size;\n\n@Entity\npublic class Ticket{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Size(max = 100, message = &quot;Max 100 characters&quot;)\n    @NotBlank(message = &quot;Field required&quot;)\n    @Column(nullable=false, length=100)\n    private String placeDeparture;\n\n</code></pre>\n<p>This throws the error in the view but do not print the error-message I set in the annotation</p>\n<pre><code>import jakarta.validation.constraints.Future;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport jakarta.validation.constraints.Size;\n\n@Entity\npublic class CarRental{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Future(message=&quot;Future Date required&quot;)\n    @Column(nullable=false, columnDefinition = &quot;DATETIME&quot;)\n    private LocalDateTime dateTimeRedelivery;\n</code></pre>\n<p>This doesn't throws any error in the view</p>\n<pre><code>import jakarta.validation.constraints.Future;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotNull;\nimport jakarta.validation.constraints.Size;\n\n@Entity\npublic class CarRental{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @Size(max = 100, message = &quot;Max 100 characters&quot;)\n    @NotBlank(message = &quot;Field required&quot;)\n    @Column(nullable=false, length=100)\n    private String placePickup;\n</code></pre>\n"},{"comments":[{"comment_id":134571373,"body":"i suppose you can list the files, split it to x sets. And create x number of threads using Future to download the sets of files. You need to try it out to see which concurrency level works the best."}],"last_activity_date":1684832606,"question_id":76312993,"body":"<p>I am using the Java AWS SDK to try and pull down all files in multiple sub-folders of my buckets. I know that Amazon S3 is flat storage and has no concept of them, but it’s easier for me to explain it.</p>\n<p>I have my buckets separated like so:</p>\n<p><code>BucketName/year/month/day/hour</code></p>\n<p>I want to be able to get all files between two given dates, but unsure how to do it in a parallel way.</p>\n<p>How the system works is a user makes a request, and then server side the data is collected and displayed to the user, so a basic api. However I have thousands of files in each hourly bucket. What is the best way to get all of this data the fastest? (Sorry for the low level talk I’m quite new)</p>\n<p>I looked into Quarkus concurrently executing requests but can’t figure it out. I am using parallel streams currently, but just need help with the actual getting of the data in a parallel way. My initial thoughts we’re to get the common prefix and the file names for each requested using ListV2Objects, but how would I then execute all of these requests in parallel?</p>\n"},{"comments":[{"comment_id":134570355,"body":"I havre honestly no idea what you think that screenshot is supposed to tell us. Also it really isn&#39;t surprising that code that works in c++ or python wouldn&#39;t work in java. They are different programming languages."},{"comment_id":134570931,"body":"if you don&#39;t show the snippet (not as image) and where you store it we have no clue"},{"comment_id":134571777,"body":"Please have a look at <a href=\"https://stackoverflow.com/tour\">TOUR</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}],"last_activity_date":1684832336,"question_id":76312541,"body":"<p>Vscode java snippet problem. The java snipet in vscode is not working properly but it works for python and c++.</p>\n<p><img src=\"https://i.stack.imgur.com/OZSYV.jpg\" alt=\"Picture\" /></p>\n"},{"comments":[{"comment_id":49575541,"body":"Is this class in the correct package and thus can be found ? I made this mistake some months ago ... Would it be sufficient to set the password to a known value (I assume not ...) ?"},{"comment_id":49575602,"body":"Perhaps you have a similar problem like I had. I was lucky and Mr. Syer gave me the answer ;-) <a href=\"http://stackoverflow.com/questions/27981681/which-annotation-shall-i-use-to-keep-spring-boot-from-securing-my-controller-whe\" title=\"which annotation shall i use to keep spring boot from securing my controller whe\">stackoverflow.com/questions/27981681/&hellip;</a>"},{"comment_id":49578173,"body":"There&#39;s another config class which import this security config @Import({  CustomSecurityConfig .class }). This class is scanned by Spring Boot, what I noticed in another case related to CAS security, Spring Boot only removed this message when I did   @Inject     public void configureGlobal(final AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {"},{"comment_id":49578276,"body":"I tried adding security.basic.enabled=false and nothing has changed."},{"comment_id":49579782,"body":"Did you check- <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"comment_id":49580221,"body":"Yes, read but I did not found a solution for my issue.. do you have any idea what I missing?"},{"comment_id":114942520,"body":"Right answer is: wrong package. This bug raise when you copy folder and paste to you project. You can refactor folder to right package and done."}],"answers":[{"comments":[{"comment_id":49587297,"body":"I have overwritten my configure method as you said, and Spring message stills shows. What&#39;s funny in one simple Spring MVC application not using Boot it works fine. The problem is related to Spring Boot, take a look at code added to my CustomSecurityConfig  to override the method: @Override     public void configure(AuthenticationManagerBuilder auth) throws Exception {}"}],"answer_id":30763890,"body":"<p>Look up: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html\" rel=\"nofollow\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-security.html</a></p>\n\n<p>From <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.java\" rel=\"nofollow\">AuthenticationManagerConfiguration.java</a> looking at code, I see below. Also the in-memory configuration is a fallback if no authentication manager is provided as per <a href=\"http://docs.spring.io/autorepo/docs/spring-boot/1.3.0.BUILD-SNAPSHOT/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html\" rel=\"nofollow\">Javadoc</a>. Your earlier attempt of Injecting the Authentication Manager would work because you will no longer be using the In-memory authentication and this class will be out of picture.</p>\n\n<pre><code>@Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        if (auth.isConfigured()) {\n            return;\n        }\n        User user = this.securityProperties.getUser();\n        if (user.isDefaultPassword()) {\n            logger.info(\"\\n\\nUsing default security password: \" + user.getPassword()\n                    + \"\\n\");\n        }\n        Set&lt;String&gt; roles = new LinkedHashSet&lt;String&gt;(user.getRole());\n        withUser(user.getName()).password(user.getPassword()).roles(\n                roles.toArray(new String[roles.size()]));\n        setField(auth, \"defaultUserDetailsService\", getUserDetailsService());\n        super.configure(auth);\n    }\n</code></pre>\n\n<p>If you use inmemory authentication which is default, customize your logger configuration for org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration and remove this message.</p>\n"},{"comments":[{"comment_id":49593228,"body":"The only inconvenient with this solution it disables the ability to read security properties from application.properties, so you must control yourself after it."},{"comment_id":60668802,"body":"I wonder: What&#39;s the point of adding Spring Security to Boot which actually has a good auto configuration and than disabling everything? Even considering just turning off logging? Do you want security? I think so. Do you want a default generated password? Maybe no… So why don&#39;t you specify one? Just use those properties:  security.user.name=user # Default user name. security.user.password= # Password for the default user name. A random password is logged on startup by default.  Or run your own UserDetailsService…"},{"comment_id":101236758,"body":"@MichaelSimons  For example in my ongoing project we only use 3rd party user pool - AWS Cognito. So we don&#39;t need Spring&#39;s autoconfigured user service at all. We only use tokens provided by Cognito.  So I just excluded the ReactiveUserDetailsServiceAutoConfiguration.class from Application (as we use webflux)"},{"comment_id":114981598,"body":"A great example of a completely wrong answer which has millions of score points"},{"comment_id":125980258,"body":"This is opening a peanut with a hammer.  Removing SecurityAutoConfig eliminates ALL security auto configuration, more than what was requested in the original question.  See the other responses about providing your own InMemoryAuthentication provider, adding properties for user/password, or explicitly creating the AuthenticationManager  bean, all of which focus on the default user."}],"answer_id":30768011,"body":"<p>I found out a solution about excluding <strong>SecurityAutoConfiguration</strong> class.</p>\n\n<p>Example:</p>\n\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\npublic class ReportApplication {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(MyApplication.class, args);\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":77575420,"body":"just share my workaround here, <code>management.security.enabled=false</code>, and i am using spring 1.5.4 RELEASE."},{"comment_id":85806458,"body":"As of (at least) Spring Boot 2, this no longer works."},{"comment_id":89800219,"body":"@mor222 I added another option that worked for me in the answers. <a href=\"https://stackoverflow.com/a/51414492/1195507\">stackoverflow.com/a/51414492/1195507</a> I&#39;m using Spring Boot 2.0"},{"comment_id":106966948,"body":"but deprecated :("}],"answer_id":39424761,"body":"<p>Adding following in <code>application.properties</code> worked for me,</p>\n\n<pre><code>security.basic.enabled=false\n</code></pre>\n\n<p>Remember to restart the application and check in the console.</p>\n"},{"comments":[{"comment_id":83623332,"body":"<code>@EnableWebSecurity</code> is not required to make it work"},{"comment_id":120956512,"body":"Works for me using Spring Boot 2.5.2 by adding that <code>authenticationManagerBean()</code> method override. There was no need to use <code>@EnableWebSecurity</code>."},{"comment_id":131398993,"body":"In current versions of spring <code>WebSecurityConfigurerAdapter</code> is deprecated. Could you please suggest solution having that in mind? :)"},{"comment_id":132416075,"body":"You could just setup the bean in any configuration class (without the need to extend the adapter) and return the authenticationManager from the authenticationConfiguration or any other authentificationManager  <code>@Bean     public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {         return authenticationConfiguration.getAuthenticationManager();     }</code>"}],"answer_id":41856630,"body":"<p>Although it works, the current solution is a little overkill as noted in some comments. So here is an alternative that works for me, using the latest Spring Boot (1.4.3).</p>\n\n<p>The default security password is configured inside Spring Boot's <a href=\"https://docs.spring.io/spring-boot/docs/1.5.x/api/org/springframework/boot/autoconfigure/security/AuthenticationManagerConfiguration.html\" rel=\"noreferrer\">AuthenticationManagerConfiguration</a> class. This class has a conditional annotation to prevent from loading if a AuthenticationManager Bean is already defined.</p>\n\n<p>The folllowing code works to prevent execution of the code inside AuthenticationManagerConfiguration because we define our current  AuthenticationManager as a bean.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyCustomSecurityConfig extends WebSecurityConfigurerAdapter{\n\n[...]\n\n@Override\nprotected void configure(AuthenticationManagerBuilder authManager) throws Exception {\n    // This is the code you usually have to configure your authentication manager.\n    // This configuration will be used by authenticationManagerBean() below.\n}\n\n@Bean\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    // ALTHOUGH THIS SEEMS LIKE USELESS CODE,\n    // IT'S REQUIRED TO PREVENT SPRING BOOT AUTO-CONFIGURATION\n    return super.authenticationManagerBean();\n}\n\n}\n</code></pre>\n"},{"answer_id":44264584,"body":"<p>When spring boot is used we should exclude the SecurityAutoConfiguration.class both in application class and  where exactly you are configuring the security like below.</p>\n\n<p>Then only we can avoid the default security password.</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\n\n@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n@EnableJpaRepositories\n@EnableResourceServer\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\n\n    @Configuration\n    @EnableWebSecurity\n    @EnableAutoConfiguration(exclude = { \n            org.springframework.boot.autoconfigure.security.SecurityAutoConfiguration.class \n        })\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n        @Override\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\n            httpSecurity.authorizeRequests().anyRequest().authenticated();\n            httpSecurity.headers().cacheControl();\n        }\n    }\n</code></pre>\n"},{"answer_id":49507924,"body":"<p>Check documentation for <em>org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration</em> there are conditions when autoconfig will be halt.</p>\n\n<p>In my case I forgot to define my custom <em>AuthenticationProvider</em> as <strong>bean</strong>.</p>\n\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(getAuthenticationProvider());\n    }\n\n    @Bean\n    AuthenticationProvider getAuthenticationProvider() {\n        return new CustomAuthenticationProvider(adminService, onlyCorporateEmail);\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":125978742,"body":"worked for me with Spring Boot 1.5.2 version"}],"answer_id":49695759,"body":"<p>It didn't work for me when I excluded SecurityAutoConfiguration using @SpringBootApplication annotation, but did work when I excluded it in @EnableAutoConfiguration:</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })\n</code></pre>\n"},{"answer_id":51414492,"body":"<p>If you are using Spring Boot version >= 2.0 try setting this bean in your configuration:</p>\n\n<pre><code>@Bean\npublic SecurityWebFilterChain springSecurityFilterChain(ServerHttpSecurity http) {\n    http.authorizeExchange().anyExchange().permitAll();\n    return http.build();\n}\n</code></pre>\n\n<p>Reference: <a href=\"https://stackoverflow.com/a/47292134/1195507\">https://stackoverflow.com/a/47292134/1195507</a></p>\n"},{"comments":[{"comment_id":99553728,"body":"Can you explain where to write this code please? and what you mean by &quot;works fine with @EnableResourceServer and JWT&quot; (Im new to spring boot and jwt) Thanks!"},{"comment_id":111683664,"body":"To me it worked with this exclusion in @EnableAutoConfiguration instead of @SpringBootApplication (SpringBoot 2.3.0):  <code>@SpringBootApplication @EnableAutoConfiguration(exclude={UserDetailsServiceAutoConf&zwnj;&#8203;iguration.class}) public class MainAppClassName { ... }</code>"},{"comment_id":112321319,"body":"<code>@EnableAutoConfiguration</code> is part of <code>@SpringBootApplication</code>."},{"comment_id":132960115,"body":"solve the problem"}],"answer_id":51948296,"body":"<p>Using Spring Boot 2.0.4 I came across the same issue.</p>\n\n<p>Excluding <code>SecurityAutoConfiguration.class</code> did destroy my application.</p>\n\n<p>Now I'm using <code>@SpringBootApplication(exclude= {UserDetailsServiceAutoConfiguration.class})</code></p>\n\n<p>Works fine with <code>@EnableResourceServer</code> and JWT <code>:)</code> </p>\n"},{"answer_id":54488801,"body":"<p>If you are declaring your configs in a separate package,\nmake sure you add component scan like this :      </p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(\"com.mycompany.MY_OTHER_PACKAGE.account.config\")\n\n    public class MyApplication {\n\n        public static void main(String[] args) {\n            SpringApplication.run(MyApplication.class, args);\n        }\n\n\n\n    }\n</code></pre>\n\n<p>You may also need to add  @component annotation in the config class like so :</p>\n\n<pre><code>  @Component\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n\n.....\n</code></pre>\n\n<ol start=\"2\">\n<li>Also clear browser cache and run spring boot app in incognito mode</li>\n</ol>\n"},{"answer_id":54765062,"body":"<p>On spring boot 2 with webflux you need to define a <strong><em>ReactiveAuthenticationManager</em></strong></p>\n"},{"answer_id":56463921,"body":"<p>It is also possible to just turn off logging for that specific class in properties : </p>\n\n<p><code>logging.level.org.springframework.boot.autoconfigure.security.AuthenticationManagerConfiguration=WARN</code></p>\n"},{"answer_id":57199686,"body":"<p>Just use the rows below:</p>\n\n<pre><code>spring.security.user.name=XXX\nspring.security.user.password=XXX\n</code></pre>\n\n<p>to set the default security user name and password\nat your <code>application.properties</code> (name might differ) within the context of the Spring Application.</p>\n\n<p>To avoid default configuration (as a part of autoconfiguration of the SpringBoot) at all - use the approach mentioned in Answers earlier:</p>\n\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = { SecurityAutoConfiguration.class })\n</code></pre>\n"},{"answer_id":57365595,"body":"<p>For Reactive Stack (Spring Webflux, Netty) you either need to exclude ReactiveUserDetailsServiceAutoConfiguration.class</p>\n\n<pre><code>@SpringBootApplication(exclude = {ReactiveUserDetailsServiceAutoConfiguration.class})\n</code></pre>\n\n<p>Or define ReactiveAuthenticationManager bean (there are different implementations, here is the JWT one example)</p>\n\n<pre><code>@Bean\npublic ReactiveJwtDecoder jwtDecoder() {\n    return new NimbusReactiveJwtDecoder(keySourceUrl);\n}\n@Bean\npublic ReactiveAuthenticationManager authenticationManager() {\n    return new JwtReactiveAuthenticationManager(jwtDecoder());\n}\n</code></pre>\n"},{"answer_id":60089310,"body":"<p>I came across the same problem and adding this line to my application.properties solved the issue.</p>\n\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\n</code></pre>\n\n<p>It's one of the Spring's Automatic stuffs which you exclude it like excluding other stuffs such as actuators. I recommend looking at this <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"comments":[{"comment_id":130491975,"body":"It will work for in-memory auth, as it <i>overwrites</i> the <code>InMemoryUserDetailsManager</code>, but for other auth, such as ldap, that does not work."}],"answer_id":60316114,"body":"<p>To remove the default user you need to configure authentication manager with no users for example:</p>\n<pre><code>@configuration\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication();\n    }\n}\n</code></pre>\n<p>this will remove default password message and default user because in that case you are configuring InMemoryAuthentication and you will not specify any user in next steps</p>\n"},{"answer_id":63486321,"body":"<p>In a Spring Boot 2 application you can either exclude the service configuration from autoconfiguration:</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\n</code></pre>\n<p>or if you just want to hide the message in the logs you can simply change the log level:</p>\n<pre><code>logging.level.org.springframework.boot.autoconfigure.security=WARN\n</code></pre>\n<p>Further information can be found here: <a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-security.html\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-security.html</a></p>\n"},{"answer_id":64087688,"body":"<p>If you have enabled <strong>actuator</strong> feature (spring-boot-starter-actuator), additional exclude should be added in application.yml:</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration,org.springframework.boot.actuate.autoconfigure.security.servlet.ManagementWebSecurityAutoConfiguration\n</code></pre>\n<p>Tested in Spring Boot version 2.3.4.RELEASE.</p>\n"},{"answer_id":66111770,"body":"<p>You only need to exclude UserDetailsServiceAutoConfiguration.</p>\n<pre><code>spring:\n  autoconfigure:\n    exclude: org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration\n</code></pre>\n"},{"answer_id":66405965,"body":"<p>Just Adding below property to application.properties</p>\n<pre><code>spring.security.user.name=xyz\nspring.security.user.password=xxxxxxx\n</code></pre>\n"},{"answer_id":68821510,"body":"<p>If you use Spring Security with spring cloud gateway, you can exclude the <code>ReactiveUserDetailsServiceAutoConfiguration.class</code>.</p>\n<p>Like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication(exclude = ReactiveUserDetailsServiceAutoConfiguration.class)\npublic class SpringClientApplication {\n\n</code></pre>\n"},{"answer_id":71688133,"body":"<p>Password generation is done by</p>\n<pre><code>@Configuration(\n    proxyBeanMethods = false\n)\n@ConditionalOnClass({AuthenticationManager.class})\n@ConditionalOnBean({ObjectPostProcessor.class})\n@ConditionalOnMissingBean(\n    value = {AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class},\n    type = {&quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;, &quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;, &quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot;}\n)\npublic class UserDetailsServiceAutoConfiguration {\n</code></pre>\n<p>if following beans are missing(JwtDecoder,OpaqueTokenIntrospector,ClientRegistrationRepository) - then we see password generation been invoked</p>\n<p>so in our case also we came across this issue then we</p>\n<pre><code>@SpringBootApplication(exclude = {FlywayAutoConfiguration.class, UserDetailsServiceAutoConfiguration.class})\n</code></pre>\n<p>Added UserDetailsServiceAutoConfiguration.class to exclusion then we did not see the password generation in logs</p>\n"},{"answer_id":72305018,"body":"<p>We should exclude UserDetailsServiceAutoConfiguration.class from spring boot autoconfiguration to fix this</p>\n<p>example:</p>\n<pre><code>@SpringBootApplication(exclude = {UserDetailsServiceAutoConfiguration.class })\npublic class MyClass {\n\npublic static void main(String[] args) {\n    SpringApplication.run(MyClass.class, args);\n}\n</code></pre>\n"},{"answer_id":72460696,"body":"<p>So most of the answers to this question recommend either:</p>\n<ul>\n<li>excluding some auto-configuration</li>\n<li>setting up a user and/or password</li>\n</ul>\n<p>However excluding auto-configuration is hardly ever the answer. And if your application does not have any users the second solution is not great either.</p>\n<p>Instead we should work with Spring Boot.</p>\n<p>The log message is generated by <code>UserDetailsServiceAutoConfiguration</code> to let us know Spring Boot put in a sensible default. And looking at the source and documentation for <code>UserDetailsServiceAutoConfiguration</code> we see:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * {@link EnableAutoConfiguration Auto-configuration} for a Spring Security in-memory\n * {@link AuthenticationManager}. Adds an {@link InMemoryUserDetailsManager} with a\n * default user and generated password. This can be disabled by providing a bean of type\n * {@link AuthenticationManager}, {@link AuthenticationProvider} or\n * {@link UserDetailsService}.\n *\n * @author Dave Syer\n * @author Rob Winch\n * @author Madhura Bhave\n * @since 2.0.0\n */\n@Configuration(proxyBeanMethods = false)\n@ConditionalOnClass(AuthenticationManager.class)\n@ConditionalOnBean(ObjectPostProcessor.class)\n@ConditionalOnMissingBean(\n        value = { AuthenticationManager.class, AuthenticationProvider.class, UserDetailsService.class,\n                AuthenticationManagerResolver.class },\n        type = { &quot;org.springframework.security.oauth2.jwt.JwtDecoder&quot;,\n                &quot;org.springframework.security.oauth2.server.resource.introspection.OpaqueTokenIntrospector&quot;,\n                &quot;org.springframework.security.oauth2.client.registration.ClientRegistrationRepository&quot; })\npublic class UserDetailsServiceAutoConfiguration {\n</code></pre>\n<p>We can see that the <code>UserDetailsServiceAutoConfiguration</code> is disabled when any of these beans are provided: <code>AuthenticationManager</code>, <code>AuthenticationProvider</code>, <code>UserDetailsService</code>, or <code> AuthenticationManagerResolver</code>.</p>\n<p>This means that when tell Spring Boot how we want to authenticate our users, Spring Boot will not auto-configure a sensible default. Since we don't want to authenticate any users we can provide:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ApplicationConfiguration {\n\n    @Bean\n    public AuthenticationManager noopAuthenticationManager() {\n        return authentication -&gt; {\n            throw new AuthenticationServiceException(&quot;Authentication is disabled&quot;);\n        };\n    }\n}\n</code></pre>\n"},{"answer_id":75957153,"body":"<p>A lot of answers here are actually trying to work against Spring Boot instead of working <em>with</em> the framework.</p>\n<p>If you don't have any local users - because for example authentication is managed exclusively with JWT tokens - just tell Spring Boot so.</p>\n<p>Declare an empty <code>UserDetailsService</code> as part of your <code>SecurityConfiguration</code> instead of trying to exclude parts of the auto configuration, or setting an unnecessary default user/password in <code>application.properties</code>:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\nclass SecurityConfiguration {\n\n   @Bean\n   UserDetailsService emptyDetailsService() {\n       return username -&gt; { throw new UsernameNotFoundException(&quot;no local users, only JWT tokens allowed&quot;); };\n   }\n\n   // rest of your security config\n\n}\n</code></pre>\n"},{"answer_id":76312935,"body":"<p>If you did not implement UserDetailsService interface, you need to exclude SecurityAutoConfiguration</p>\n<p>Implement UserDetailsService interface</p>\n<pre><code>@Component\npublic class UserDetailsServiceImpl implements UserDetailsService{\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    // TODO Auto-generated method stub\n    return null;\n}\n</code></pre>\n<p>Exclude SecurityAutoConfiguration</p>\n<pre><code>@SpringBootApplication(exclude = {SecurityAutoConfiguration.class })\n</code></pre>\n"}],"last_activity_date":1684832233,"question_id":30761253,"body":"<p>I added one custom Security Config in my application on Spring Boot, but the message about \"Using default security password\" is still there in LOG file.</p>\n\n<p>Is there any to remove it? I do not need this default password. It seems Spring Boot is not recognizing my security policy.</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class CustomSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final String uri = \"/custom/*\";\n\n    @Override\n    public void configure(final HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.headers().httpStrictTransportSecurity().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Authorize sub-folders permissions\n        http.antMatcher(uri).authorizeRequests().anyRequest().permitAll();\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":112051913,"body":"IntelliJ is pretty good at broadcasting and documenting their feature releases. All it would have needed is to search it over the net. Besides the current question, doesn&#39;t have any debugging details."}],"answers":[{"comments":[{"comment_id":134570511,"body":"Given records were a preview feature in Java 14 (the feature was finalized with Java 16), and IntelliJ only supports preview features of actively supported Java versions, this will no longer work. And even when it did work, this answer is missing the step to set the language level to <i>&quot;14 (preview)&quot;</i> (which, again, is no longer possible in current IntelliJ versions)."}],"answer_id":63366300,"body":"<ol>\n<li>Make sure you have an updated version of the IntelliJ IDEA (2020.1 or later);</li>\n<li>Go to the Project Structure and set your <em>Project Language Level</em> to <code>Java 14</code> (remember, as well, to set <code>Java 14</code> as your <em>Project SDK</em>, if not done yet).</li>\n</ol>\n<p>See more <a href=\"https://blog.jetbrains.com/idea/2020/03/java-14-and-intellij-idea/#:%7E:text=Configure%20IntelliJ%20IDEA%202020.1%20to,IntelliJ%20IDEA%20and%20configure%20it.\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"last_activity_date":1684831968,"question_id":63366167,"body":"<p>I cannot create Java record class in IntelliJ, and I could not find the option to enable it.</p>\n<p>Is there a way to enable it?</p>\n"},{"comments":[{"comment_id":134559380,"body":"&quot;localDateTime.getDayOfMonth returns --&gt; 28 instead of 2.&quot; &lt;- Yes, Because your date is the 28th day of the month. What exactly is the problem here?"},{"comment_id":134559414,"body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#getDayOfMonth--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/time/&hellip;</a>"},{"comment_id":134559565,"body":"<a href=\"https://stackoverflow.com/questions/32823368/java-8-localdatetime-is-parsing-invalid-date\">Java 8 LocalDateTime is parsing invalid date</a>"},{"comment_id":134570662,"body":"This had better and more helpfully been closed as a duplicate of <a href=\"https://stackoverflow.com/questions/32823368/java-8-localdatetime-is-parsing-invalid-date\">the question that @OHGODSPIDERS links to</a>. I have voted to reopen in order that we may close as a duplicate instead."},{"comment_id":134570848,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32823368/java-8-localdatetime-is-parsing-invalid-date\">Java 8 LocalDateTime is parsing invalid date</a>"}],"last_activity_date":1684831819,"question_id":76306416,"body":"<p>I have</p>\n<pre><code>String date = &quot;02-30-2023 12:15:59&quot;\n</code></pre>\n<p>It’s not a valid date; there were only 28 days in February 2023.\nWhen I try converting to <code>LocaldateTime</code> using parse. Using</p>\n<pre><code>LocalDateTime localDateTime = LocalDateTime.parse(\n        date,\n        DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy HH:mm:ss&quot;));\n</code></pre>\n<p><code>localDateTime.getDayOfMonth()</code> returns --&gt; 29 instead of Error.\nHow do I take care of the exception?</p>\n<p>I tried the code in the question, I'm getting date in place of month.</p>\n"},{"answers":[{"answer_id":76312857,"body":"<p>TomEE 9.0.0 is compatible with Jakarta EE 9.1, which includes JPA 3.0.</p>\n<p>Hibernate 6.2.x implements JPA 3.1 which includes <a href=\"https://projects.eclipse.org/projects/ee4j.jpa/releases/3.1\" rel=\"nofollow noreferrer\">API changes such as introducing UUID generators</a>.</p>\n<p>These spec changes aren't included in the API shade, which is used in TomEE 9. To fix your issue, you need to downgrade Hibernate to it's 6.1 series, which complies with JPA 3.0.</p>\n"}],"last_activity_date":1684831779,"question_id":76296222,"body":"<p>I'm trying to start a TomEE server in version 9.0.0 and deploy a simple webapp.</p>\n<p>I'm using Hibernate 6.2.2 as the provider for jpa and postgres</p>\n<p>When i deploy the .war it gives me these errors (the stack is long i just put the severe):</p>\n<pre><code> SEVERE [http-nio-8080-exec-3] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Error destroying child org.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_destroy]) for component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/servlet-jsp-jdbc-jpa]] in state [STARTING_PREP]\n---------------------\nSEVERE [http-nio-8080-exec-3] org.apache.openejb.assembler.classic.Assembler.destroyApplication undeployException original cause java.lang.Exception: deployment not found: servlet-jsp-jdbc-jpa.Comp669096535\n-------------------------\nSEVERE [http-nio-8080-exec-3] org.apache.openejb.assembler.classic.Assembler.destroyApplication undeployException original cause java.lang.Exception: persistence-unit: pu 1912458056localhost: Name &quot;openejb/PersistenceUnit/pu 1912458056localhost&quot; not found. \n.... \nCaused by: javax.naming.NameNotFoundException: Name &quot;openejb/PersistenceUnit/pu 1912458056localhost&quot; not found.\n---------------------------\nSEVERE [http-nio-8080-exec-3] org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal Unable to deploy collapsed ear in war StandardEngine[Catalina].StandardHost[localhost].StandardContext[/servlet-jsp-jdbc-jpa] org.apache.openejb.OpenEJBException: Creating application failed: C:\\apache-tomee-microprofile-9.0.0\\webapps\\servlet-jsp-jdbc-jpa: UUID \n.......... \nCaused by: java.lang.NoSuchFieldError: UUID\n----------------------------\nSEVERE [http-nio-8080-exec-3] jdk.internal.reflect.NativeMethodAccessorImpl.invoke Error deploying web application archive [C:\\apache-tomee-microprofile-9.0.0\\webapps\\servlet-jsp-jdbc-jpa.war] java.lang.IllegalStateException: Error starting child \n........ \nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/servlet-jsp-jdbc-jpa]] .............. \nCaused by: org.apache.tomee.catalina.TomEERuntimeException: org.apache.openejb.OpenEJBException: Creating application failed: C:\\apache-tomee-microprofile-9.0.0\\webapps\\servlet-jsp-jdbc-jpa: UUID \n.........\n Caused by: org.apache.openejb.OpenEJBException: Creating application failed: C:\\apache-tomee-microprofile-9.0.0\\webapps\\servlet-jsp-jdbc-jpa: UUID \n.......... \nCaused by: java.lang.NoSuchFieldError: UUID \n.........\n</code></pre>\n<p>The structure is:</p>\n<ul>\n<li><p>webapp</p>\n<ul>\n<li><p>META-INF</p>\n<ul>\n<li><p>persistence.xml</p>\n</li>\n<li><p>context.xml</p>\n</li>\n</ul>\n</li>\n<li><p>WEB-INF</p>\n<ul>\n<li>web.xml</li>\n</ul>\n<p>classes (where i put all the compiled classes)</p>\n<ul>\n<li><p>lib</p>\n<ul>\n<li>hibernate-core-6.2.2.Final.jar</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>index.html</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>persistence.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.2&quot;\n             xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence\n                                 http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n\n    &lt;!-- NO JNDI --&gt;\n    &lt;persistence-unit name=&quot;pu&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost/MVC?currentSchema=public&amp;amp;ssl=false&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;******&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;********&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n\n&lt;/persistence&gt;\n</code></pre>\n<p>context.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Context path=&quot;/servlet-jsp-jdbc-jpa&quot; &gt;\n&lt;/Context&gt;\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app&gt;\n    &lt;display-name&gt;servlet_jsp_jdbc_jpa&lt;/display-name&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>These are the classes that are using the persistence-unit</p>\n<pre><code>package jpa;\n\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\nimport jakarta.persistence.PersistenceUnit;\n\npublic class PersistenceManager {\n\n    //@PersistenceUnit(unitName=&quot;JTA-pu&quot;)\n    private static final EntityManagerFactory emf;\n\n    static {\n        emf = Persistence.createEntityManagerFactory(&quot;pu&quot;);\n    }\n\n    private PersistenceManager() {\n    }\n\n    public static EntityManagerFactory getEmf() {\n        return emf;\n    }\n}\n</code></pre>\n<pre><code>package filters;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.PersistenceContext;\nimport jakarta.persistence.PersistenceUnit;\nimport jakarta.servlet.*;\nimport jakarta.servlet.annotation.WebFilter;\nimport jakarta.servlet.http.HttpFilter;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport jpa.PersistenceManager;\n\nimport java.io.IOException;\n\n@WebFilter(value=&quot;/*&quot;)\npublic class SessionBinderFilter extends HttpFilter {\n\n    // @PersistenceUnit(unitName=&quot;JTA-pu&quot;)\n    private EntityManagerFactory emf = PersistenceManager.getEmf();\n\n    // @PersistenceContext(unitName=&quot;JTA-pu&quot;)\n    private EntityManager em = emf.createEntityManager();\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain filterChain) throws IOException, ServletException {\n\n        if (!(request instanceof HttpServletRequest) || !(response instanceof HttpServletResponse)) {\n            throw new ServletException(&quot;non-HTTP request or response&quot;);\n        }\n\n        request.setAttribute(&quot;EntityManager&quot;, em);\n\n        filterChain.doFilter(request, response);\n\n        if (em.isOpen()) {\n            em.close();\n        }\n    }\n}\n</code></pre>\n<p>I can t understand the problem because i'm quite new on jpa and i searched a lot but i didn t find anything.</p>\n<p>I tried also with JTA and RESOURCE_LOCAL with JNDI but nothing works, the problem is the same.</p>\n<p>Any suggest or information is appreciated</p>\n"},{"comments":[{"comment_id":134566983,"body":"Yes it is possible. See the JSSE Reference Guide."},{"comment_id":134570861,"body":"Can you point me to an example. As per my research it was not possible with JDK8."},{"comment_id":134571576,"body":"I have already pointed you to a reference. Look It Up. I am not aware of any &#39;research&#39; you could possibly have done that could lead you to that conclusion."}],"last_activity_date":1684831708,"question_id":76285773,"body":"<p>Is it possible to read the private key of the certificate stored in Windows-MY certificate store for JDK 8.</p>\n"},{"comments":[{"comment_id":133445280,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"last_activity_date":1684831479,"question_id":75591000,"body":"<p>The error is showing:</p>\n<blockquote>\n<p>failed to respond due to okhttp3.internal.http.RealResponseBody@9fce4c6</p>\n</blockquote>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n    if(response.isSuccessful()){\n        JSONObject jsonObject = null;\n        try {\n            jsonObject = new JSONObject(response.body().string());\n            JSONArray jsonArray = jsonObject.getJSONArray(&quot;choices&quot;);\n            String result = jsonArray.getJSONObject(0).getString(&quot;text&quot;);\n            addResponse(result.trim());\n\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n    }else{\n        addResponse(&quot;Failed to response due to &quot;+response.body().toString());\n    }\n}\n</code></pre>\n"},{"answers":[{"answer_id":58463895,"body":"<p>Problem solved, needed to add this property to application.yml:</p>\n\n<pre><code>management:\n  endpoints:\n    web:\n      path-mapping:\n        my-actuator-endpoint: api/v1/my-service/my-actuator-endpoint\n</code></pre>\n"},{"answer_id":58463904,"body":"<p>you can expose actuator endpoints by setting configuration in property file like this</p>\n\n<pre><code>management.context-path=/manage\n</code></pre>\n"}],"last_activity_date":1684831302,"question_id":58463744,"body":"<p>I have a microservice application with Spring Boot 2, which used my own library to propagate new endpoint to itself by using actuator functionality - my own actuator implemented an MvcEndpoint interface, and contained 'path' variable which got real API mapping from application.yml of microservice that used this library.</p>\n\n<p>But after I recoded my library to spring boot 2, I have an issue - <strong>id</strong> property on <strong>@Endpoint</strong> annotation contains only constant value (as every annotation properties), and I haven't found way to change API path of my actuator endpoint to something like '<strong>/api/v1/my-service/my-actuator-endpoint</strong>'.</p>\n\n<p>I tried to write this in my application.yml of microservice:</p>\n\n<pre><code>endpoints:\n  my-actuator-endpoint:\n    path: /api/v1/my-service/my-actuator-endpoint\n</code></pre>\n\n<p>But this endpoint still accessible only from /my-actuator-endpoint , which means only by its id.</p>\n\n<p>How can I make this be accessible by custom path like /api/v1/my-service/my-actuator-endpoint, which will be configured in application.yml? </p>\n"},{"comments":[{"comment_id":112118568,"body":"What&#39;s wrong with making a normal request to <code>B</code> and getting an error response back?"},{"comment_id":112118609,"body":"Because A-&gt;B is replicated in 100 scenarios, and there isn&#39;t a clear view of all those relationships. For the person responsible for keeping these up and available, we need a clear view of what downstream outage has what effect upstream."}],"answers":[{"answer_id":63407575,"body":"<p>Spring boot provides a lot of Health Indicators out of the box. However, you can add your own custom health indicator by implementing <code>HealthIndicator</code> interface (<code>ReactiveHealthIndicator</code> for reactive apps):</p>\n<pre><code>@Component\npublic class ServiceBHealthIndicator implements HealthIndicator {\n    \n    private final String message_key = &quot;Service B&quot;;\n\n    @Override\n    public Health health() {\n        if (!isRunningServiceB()) {\n            return Health.down().withDetail(message_key, &quot;Not Available&quot;).build();\n        }\n        return Health.up().withDetail(message_key, &quot;Available&quot;).build();\n    }\n    private Boolean isRunningServiceB() {\n        Boolean isRunning = true;\n        // Your logic here\n        return isRunning;\n    }\n}\n</code></pre>\n<p>If you combine it with other health indicators like the one before, you can get a health endpoint response in a way like this:</p>\n<pre><code>{\n   &quot;status&quot;:&quot;DOWN&quot;,\n   &quot;details&quot;:{\n      &quot;serviceB&quot;:{\n         &quot;status&quot;:&quot;UP&quot;,\n         &quot;details&quot;:{\n            &quot;Service B&quot;:&quot;Available&quot;\n         }\n      },\n      &quot;serviceC&quot;:{\n         &quot;status&quot;:&quot;DOWN&quot;,\n         &quot;details&quot;:{\n            &quot;Service C&quot;:&quot;Not Available&quot;\n         }\n      }\n   }\n}\n</code></pre>\n<p>You can find more information about <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#writing-custom-healthindicators\" rel=\"nofollow noreferrer\">custom health checks</a> and <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-endpoints\" rel=\"nofollow noreferrer\">endpoints</a> in the spring boot documentation.</p>\n"}],"last_activity_date":1684831264,"question_id":63406277,"body":"<p>Suppose I have Spring Boot service A which depends on (calls) Spring Boot service B.</p>\n<pre><code>A -&gt; B\n</code></pre>\n<p>Spring Boot <a href=\"https://spring.io/guides/gs/actuator-service/\" rel=\"nofollow noreferrer\">Actuators</a> can tell me if A is up.</p>\n<p>https://A/health</p>\n<p>What I want to know is if B is up, by calling A.</p>\n<p>https://A/integratedhealth</p>\n<p>My question is: <strong>Is there a standard way in Spring Boot Actuators of checking the health of child services?</strong>\n(or do I just have to build a custom actuator service?)</p>\n"},{"comments":[{"comment_id":134567416,"body":"I believe spring supports openapi yaml generation out of the box based on your implementation. Why do you want to override that? Does not that defeat the purpose of generating docs based on your current implementaiton?"},{"comment_id":134568139,"body":"Unfortunately you are correct but architects insist on having a defined file, not just that I think there are more plans in the future for it. I tried arguing that the generated one is probably better but oh well. There must be a reason they are moving away from the auto-generated implementation."}],"last_activity_date":1684831170,"question_id":76310842,"body":"<p>I am trying to generate my swagger UI with a openapi.yaml file I created but it simply isn't working. <strong>is there additional configuration needed for this to work?</strong></p>\n<p>What I have so far</p>\n<ol>\n<li>My file is in <code>myProject/src/main/resources/static/openapi.yaml</code></li>\n<li>In application.properties the following is set...\n<code>springdoc.swagger-ui.url=/openapi.yaml</code> and\n<code>springdoc.api-docs.enabled=false</code></li>\n<li><code>pom.xml</code> contains the below</li>\n</ol>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.6.12&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-data-rest&lt;/artifactId&gt;\n            &lt;version&gt;1.6.12&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have tried a few different configurations and they result in a whitelabel error page for <code>http://localhost:8082/v3/api-docs</code> or it shows the swagger page but gives <code>response status is 401 /openapi.yaml</code> when I set <code>springdoc.api-docs.enabled=true</code></p>\n<p>I have looked at plenty of tutorials and stack overflow post stating that this should work but it just isn't can anyone shed some light on anything I might be missing?</p>\n"},{"last_activity_date":1684831132,"question_id":76307461,"body":"<p>I am currently working on a Java project using Maven.\nEclipse signals a problem on the <code>&lt;parent&gt;</code> section of the <code>pom.xml</code> file.\nI am not yet trying to build the project (though I reckon that Maven/eclipse kind of constantly checks for compile-time errors), but this problem renders impossible importing from the dependencies.</p>\n<p>Here's the error I get:</p>\n<pre><code>Failed to execute mojo org.apache.maven.plugins:maven-enforcer-plugin:3.0.0:enforce {execution: enforce-rules} (org.apache.maven.plugins:maven-enforcer-plugin:3.0.0:enforce:enforce-rules:validate)\n\norg.eclipse.core.runtime.CoreException: Failed to execute mojo org.apache.maven.plugins:maven-enforcer-plugin:3.0.0:enforce {execution: enforce-rules}\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeMojo(MavenExecutionContext.java:340)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.lambda$0(MavenExecutionContext.java:291)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:394)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:275)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:290)\n    at org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:57)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.lambda$1(MavenBuilderImpl.java:139)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:122)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:164)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.lambda$1(MavenBuilder.java:109)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:394)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:228)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.lambda$0(MavenBuilder.java:100)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:394)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:275)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:214)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:83)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:192)\n    at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:1020)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:247)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:303)\n    at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:392)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:395)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:506)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:454)\n    at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:536)\n    at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:196)\n    at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:289)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution enforce-rules of goal org.apache.maven.plugins:maven-enforcer-plugin:3.0.0:enforce failed: Cannot invoke &quot;Object.getClass()&quot; because &quot;object&quot; is null\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:148)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeMojo(MavenExecutionContext.java:338)\n    ... 32 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;object&quot; is null\n    at org.apache.maven.shared.dependency.graph.internal.Invoker.invoke(Invoker.java:39)\n    at org.apache.maven.shared.dependency.graph.internal.Maven31DependencyGraphBuilder.buildDependencyGraph(Maven31DependencyGraphBuilder.java:99)\n    at org.apache.maven.shared.dependency.graph.internal.DefaultDependencyGraphBuilder.buildDependencyGraph(DefaultDependencyGraphBuilder.java:91)\n    at org.apache.maven.shared.dependency.graph.internal.DefaultDependencyGraphBuilder.buildDependencyGraph(DefaultDependencyGraphBuilder.java:66)\n    at org.apache.maven.plugins.enforcer.BanCircularDependencies.getDependenciesToCheck(BanCircularDependencies.java:137)\n    at org.apache.maven.plugins.enforcer.BanCircularDependencies.execute(BanCircularDependencies.java:83)\n    at org.apache.maven.plugins.enforcer.EnforceMojo.execute(EnforceMojo.java:200)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    ... 33 more\n\n</code></pre>\n<p>My pom.xml is most basic:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; \n\n    &lt;parent&gt;  &lt;!-- This line gets the error --&gt;\n        &lt;groupId&gt;org.scijava&lt;/groupId&gt;\n        &lt;artifactId&gt;pom-scijava&lt;/artifactId&gt;\n        &lt;version&gt;31.1.0&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;scijava.public&lt;/id&gt;\n            &lt;url&gt;https://maven.scijava.org/content/groups/public&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    \n    &lt;dependencies&gt;\n        &lt;!-- imglib2 and scifio--&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I've tried &quot;cleaning&quot; the project, updating eclipse, with and without forced snapshots, adding the maven War plugin to the <code>pom.xml</code>, closing/reopening, but none seemed to help.</p>\n<p>EDIT: Also have to mention that I tried with <a href=\"https://github.com/imglib/imglib2-tutorials/blob/master/pom.xml\" rel=\"nofollow noreferrer\">this</a> pom.xml (from the imglib2 tutorials), which uses the same dependencies as me, and still had the same error.\nI don't think that this error has been there all along, but it now appears on all my projects. I can't remember when it first popped up... I think it might have occurred when I created my second project (this one) using a pom.xml.</p>\n<p>I am quite close to completely clueless as to what is happening here so any ideas are appreciated!</p>\n<p>Thanks!</p>\n"},{"comments":[{"comment_id":32423254,"body":"<a href=\"http://logging.apache.org/log4j/2.0/log4j-core/apidocs/org/apache/logging/log4j/core/appender/AbstractAppender.html\" rel=\"nofollow noreferrer\">AbstractAppender</a> looks like the equivalent of <a href=\"http://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/AppenderSkeleton.html\" rel=\"nofollow noreferrer\">AppenderSkeleton</a>"}],"answers":[{"answer_id":21493232,"body":"<p>It looks like you are trying to do something similar to this: <a href=\"https://issues.apache.org/jira/browse/LOG4J2-303\" rel=\"nofollow\">https://issues.apache.org/jira/browse/LOG4J2-303</a></p>\n\n<p>That Jira ticket has a partial solution. You can look at the code for ConsoleAppender to see how to create a custom appender. </p>\n\n<p>You can configure your custom appender in your log4j2.xml just like the built-in appenders, but you need to specify the package of your plugin in the <em>packages</em> attribute of the Configuration element (so that the log4j2 PluginManager can find your plugin.) </p>\n"},{"answer_id":29103454,"body":"<p>A late answer but i finally found a solution for the problem.\nTo append a log4j2 console stream to a JavaFX TextArea, ListView oder similar control or even a swing control is possible. My solution also appends standard System.out to the logger view. See yourself.</p>\n\n<p>At first i show you my current result by screenshot (sorry i cannot include it here directly because i have not enough reputation with my user account at stackoverflow...):\n<a href=\"http://s23.postimg.org/ut5vkh72j/Zwischenablage01.jpg\">View the screenshot</a></p>\n\n<p><strong>Step 1: Edit your log4j2.xml file and add the attribute follow=\"true\":</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\"&gt;\n&lt;Appenders&gt;\n    &lt;Console name=\"STDOUT\" target=\"SYSTEM_OUT\" follow=\"true\"&gt;\n        &lt;PatternLayout pattern=\"%d %-5p (%F:%L) - %m%n\" /&gt;\n    &lt;/Console&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Root level=\"DEBUG\"&gt;\n        &lt;AppenderRef ref=\"STDOUT\" /&gt;\n    &lt;/Root&gt;\n&lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p><strong>Step 2: Write a class which use is to append the SYSTEM_OUT to the desired visual control</strong></p>\n\n<p>For my example i made up a small ui control composition like shown in screenshot. Therefore you need a fxml, a controller for the fxml and additionally a LogStringCell, which provides color formatting (this is not needed nut nice gimmick)</p>\n\n<p><strong>LoggerConsole.fxml</strong>\n    </p>\n\n<pre><code>&lt;?import java.lang.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;VBox prefHeight=\"200.0\" prefWidth=\"800.0\" xmlns=\"http://javafx.com/javafx/8\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"tuc.plentyfx.configurator.views.LoggerConsoleController\"&gt;\n   &lt;children&gt;\n      &lt;ListView fx:id=\"listViewLog\" /&gt;\n      &lt;ToolBar prefHeight=\"40.0\" prefWidth=\"200.0\"&gt;\n        &lt;items&gt;\n            &lt;Button mnemonicParsing=\"false\" onAction=\"#handleRemoveSelected\" text=\"Selektierte löschen\" /&gt;\n            &lt;Button fx:id=\"buttonClearLog\" mnemonicParsing=\"false\" onAction=\"#handleClearLog\" text=\"Leeren\" /&gt;\n            &lt;ToggleButton fx:id=\"toggleButtonAutoScroll\" mnemonicParsing=\"false\" text=\"Auto-Scroll\" /&gt;\n            &lt;ChoiceBox fx:id=\"choiceBoxLogLevel\" prefWidth=\"150.0\" /&gt;\n        &lt;/items&gt;\n      &lt;/ToolBar&gt;\n   &lt;/children&gt;\n&lt;/VBox&gt;\n</code></pre>\n\n<p>The controller class <strong>LoggerConsoleController.java</strong>\n    </p>\n\n<pre><code>package tuc.plentyfx.configurator.views;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.PipedInputStream;\nimport java.io.PipedOutputStream;\nimport java.io.PrintStream;\n\nimport javafx.application.Platform;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Task;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.ChoiceBox;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.SelectionMode;\nimport javafx.scene.control.ToggleButton;\nimport javafx.util.Callback;\n\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.apache.logging.log4j.core.LoggerContext;\nimport org.apache.logging.log4j.core.config.Configuration;\nimport org.apache.logging.log4j.core.config.LoggerConfig;\n\nimport tuc.plentyfx.common.LogStringCell;\n\npublic class LoggerConsoleController {\n    static final Logger logger = LogManager.getLogger(LoggerConsoleController.class.getName());\n\n    @FXML\n    private ListView&lt;String&gt; listViewLog;\n\n    @FXML\n    private ToggleButton toggleButtonAutoScroll;\n\n    @FXML\n    private ChoiceBox&lt;Level&gt; choiceBoxLogLevel;\n\n    @FXML\n    void handleRemoveSelected() {\n        listViewLog.getItems().removeAll(listViewLog.getSelectionModel().getSelectedItems());\n    }\n\n    @FXML\n    void handleClearLog() {\n        listViewLog.getItems().clear();\n    }\n\n    @FXML\n    void initialize() {\n        listViewLog.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n        LoggerContext loggerContext = (LoggerContext) LogManager.getContext(false);\n        Configuration loggerConfiguration = loggerContext.getConfiguration();\n        LoggerConfig loggerConfig = loggerConfiguration.getLoggerConfig(LogManager.ROOT_LOGGER_NAME);\n        /* ChoiceBox füllen */\n        for (Level level : Level.values()) {\n            choiceBoxLogLevel.getItems().add(level);\n        }\n        /* Aktuellen LogLevel in der ChoiceBox als Auswahl setzen */\n        choiceBoxLogLevel.getSelectionModel().select(loggerConfig.getLevel());\n        choiceBoxLogLevel.getSelectionModel().selectedItemProperty().addListener(new ChangeListener&lt;Level&gt;() {\n            @Override\n            public void changed(ObservableValue&lt;? extends Level&gt; arg0, Level oldLevel, Level newLevel) {\n                loggerConfig.setLevel(newLevel);\n                loggerContext.updateLoggers(); // übernehme aktuellen LogLevel\n            }\n        });\n\n        listViewLog.setCellFactory(new Callback&lt;ListView&lt;String&gt;, ListCell&lt;String&gt;&gt;() {\n            @Override\n            public ListCell&lt;String&gt; call(ListView&lt;String&gt; listView) {\n                return new LogStringCell();\n            }\n        });\n\n        /* den Origial System.out Stream in die ListView umleiten */\n        PipedOutputStream pOut = new PipedOutputStream();\n        System.setOut(new PrintStream(pOut));\n        PipedInputStream pIn = null;\n        try {\n            pIn = new PipedInputStream(pOut);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n        BufferedReader reader = new BufferedReader(new InputStreamReader(pIn));\n\n        Task&lt;Void&gt; task = new Task&lt;Void&gt;() {\n            @Override\n            protected Void call() throws Exception {\n                while (!isCancelled()) {\n                    try {\n                        String line = reader.readLine();\n                        if (line != null) {\n                            Platform.runLater(new Runnable() {\n                                @Override\n                                public void run() {\n                                    listViewLog.getItems().add(line);\n\n                                    /* Auto-Scroll + Select */\n                                    if (toggleButtonAutoScroll.selectedProperty().get()) {\n                                        listViewLog.scrollTo(listViewLog.getItems().size() - 1);\n                                        listViewLog.getSelectionModel().select(listViewLog.getItems().size() - 1);\n                                    }\n                                }\n                            });\n                        }\n                    }\n                    catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n                return null;\n            }\n        };\n        Thread thread = new Thread(task);\n        thread.setDaemon(true);\n        thread.start();\n    }\n}\n</code></pre>\n\n<p>The <strong>LogStringCell.class</strong>\n    </p>\n\n<pre><code>package tuc.plentyfx.common;\n\nimport javafx.scene.control.ListCell;\nimport javafx.scene.layout.FlowPane;\nimport javafx.scene.text.Text;\n\npublic class LogStringCell extends ListCell&lt;String&gt; {\n\n    @Override\n    protected void updateItem(String string, boolean empty) {\n        super.updateItem(string, empty);\n        if (string != null &amp;&amp; !isEmpty()) {\n            setGraphic(createAssembledFlowPane(string));\n        }\n        else {\n            setGraphic(null);\n            setText(null);\n        }\n    }\n\n    /* Erzeuge ein FlowPane mit gefüllten Textbausteien */\n    private FlowPane createAssembledFlowPane(String... messageTokens) {\n        FlowPane flow = new FlowPane();\n        for (String token : messageTokens) {\n            Text text = new Text(token);\n\n            if (text.toString().contains(\" TRACE \")) {\n                text.setStyle(\"-fx-fill: #0000FF\");\n            }\n            if (text.toString().contains(\" ALL \")) {\n                text.setStyle(\"-fx-fill: #FF00FF\");\n            }\n            if (text.toString().contains(\" ERROR \")) {\n                text.setStyle(\"-fx-fill: #FF8080\");\n            }\n            if (text.toString().contains(\" INFO \")) {\n                text.setStyle(\"-fx-fill: #000000\");\n            }\n            if (text.toString().contains(\" FATAL \")) {\n                text.setStyle(\"-fx-fill: #FF0000\");\n            }\n            if (text.toString().contains(\" DEBUG \")) {\n                text.setStyle(\"-fx-fill: #808080\");\n            }\n            if (text.toString().contains(\" OFF \")) {\n                text.setStyle(\"-fx-fill: #8040FF\");\n            }\n            if (text.toString().contains(\" WARN \")) {\n                text.setStyle(\"-fx-fill: #FF8000\");\n            }\n\n            flow.getChildren().add(text);\n        }\n        return flow;\n    }\n}\n</code></pre>\n\n<p><strong>Step 3: Use it in your application. Done...!</strong></p>\n\n<p><strong>Problems/Ideas/Limitations:</strong>\nThere are currently some issues with my code when using it with threads: creating a log statement from another thread will break the piped stream and throw an error. maybe there is needed a sync pipe. i found code for that with google but didnt try it yet (look also here: <a href=\"http://www.certpal.com/blogs/2010/11/using-a-pipedinputstream-and-pipedoutputstream/\">http://www.certpal.com/blogs/2010/11/using-a-pipedinputstream-and-pipedoutputstream/</a>\n):</p>\n\n<pre><code>package application.common;\n\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class SyncPipe implements Runnable {\n\n    private final OutputStream outputStream;\n    private final InputStream inputStream;\n\n    public SyncPipe(InputStream inputStream, OutputStream outputStream) {\n        this.inputStream = inputStream;\n        this.outputStream = outputStream;\n    }\n\n    @Override\n    public void run() {\n        try {\n            final byte[] buffer = new byte[1024];\n            for (int length = 0; (length = inputStream.read(buffer)) != -1;) {\n                outputStream.write(buffer, 0, length);\n            }\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n\n<p>Another problem: The colored string formatting should be recoded with some better detection for the logging message type (info, debug, trace, etc.). Filtering with things like \"text.toString().contains(\" TRACE \"))\" is really ugly.</p>\n\n<p><strong><em>Let me know if you have any questions to this. This thread is really old but if you write here i will receive an email. Then i can answer you directly</em></strong></p>\n"}],"last_activity_date":1684831130,"question_id":21475576,"body":"<p>I'm searching for a simple method in log4j2 to append logs to a textArea. </p>\n\n<p>In log4j, this would be possible by extending the AppenderSkeleton class, but I can't find a similar mechanism in log4j2. </p>\n\n<p>Furthermore, rerouting the System output with </p>\n\n<pre><code>System.setOut(myPrintStream);\n</code></pre>\n\n<p>doesn't work either. </p>\n\n<p>Is there a possiblity to get this to work with log4j2?</p>\n"},{"comments":[{"comment_id":122516862,"body":"Note that if you don&#39;t have any Java sources (only Kotlin sources) this message actually should not appear at all, also see <a href=\"https://youtrack.jetbrains.com/issue/KT-48745\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-48745</a>."},{"comment_id":127279924,"body":"I believe that the &quot;android&quot; block not resolving is because you don&#39;t have either &quot;com.android.application&quot; or &quot;com.android.library&quot; plugin applied"}],"answers":[{"comments":[{"comment_id":125777624,"body":"Note: when I use your <code>tasks.withType&lt;&gt;</code> as is, I get <code>Could not get unknown property &#39;withType&#39; for task set of type org.gradle.api.internal.tasks.DefaultTaskContainer</code> . Error goes away when using  <code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompi&zwnj;&#8203;le) {</code>; so brackets instead of &lt; &gt;. But unfortunately, that still results in the same warning the questioner asked about ;-("},{"comment_id":127930119,"body":"@GhostCat I just ran into this using a old build file that <i>used</i> to work properly (with &lt;&gt; not  ()), after I updated the <code>kotlin(&quot;jvm&quot;)</code> version.  I presumed it was a gradle API change but could not find a correct way to do this.... then at some point I put this back in (it was just commented out) and go figure, it works.  :\\ The only significant thing in between was an &quot;invalidate caches and restart&quot;, because a newer version of a dependent jar was not being indexed properly.   You and your two ticks imply I&#39;m not crazy, although I presume this problem isn&#39;t easily reproduced..."},{"comment_id":128098865,"body":"Maybe it depends on Kotlin plugin versions. There are various moving parts here."},{"comment_id":129585613,"body":"The question was for <code>build.gradle.kts</code>, <code>tasks.withType&lt;T&gt; { ... }</code> is Kotlin Gradle DSL syntax, <code>tasks.withType(T) {</code> is Gradle Groovy syntax."},{"comment_id":133614173,"body":"<code>java.toolchain.languageVersion.set(JavaLanguageVersion.of(17&zwnj;&#8203;))</code>"}],"answer_id":69084853,"body":"<p>You can set java version for java with</p>\n<pre><code>java {\n    sourceCompatibility = JavaVersion.VERSION_11\n    targetCompatibility = JavaVersion.VERSION_11\n}\n</code></pre>\n<p>or alternatively:</p>\n<pre><code>java {\n    toolchain.languageVersion.set(JavaLanguageVersion.of(11))\n}\n</code></pre>\n<p>and for kotlin with:</p>\n<pre><code>tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n}\n</code></pre>\n<p>All samples are in gradle kotlin dsl.</p>\n"},{"comments":[{"comment_id":127280002,"body":"Did this really work for you?  I thought android was restricted to jvm 1.8!"},{"comment_id":127280455,"body":"Since Android Gradle Plugin 7.0, Java 11 is required.  And the above works for me."},{"comment_id":127285874,"body":"Yes, I did know that the Android gradle plugin required Java 11.  That&#39;s the minimum JVM level needed for your builds.  Android/compileOption/sourceCompatibiity is the jvm level that you want your android code compiled to, and that&#39;s what I understand is limited to version 1.8.  I think if you use some java 11 features in your android code, I think it&#39;ll break."},{"comment_id":127629397,"body":"The highest version was already 11 in 2020. See: <a href=\"https://www.mobileit.cz/Blog/Pages/android-java-release-train.aspx\" rel=\"nofollow noreferrer\">mobileit.cz/Blog/Pages/android-java-release-train.aspx</a>"},{"comment_id":132608261,"body":"This doesn&#39;t work with Gradle 7.6 and AGP 7.4.0. It shows in KAPT: &#39;compileDebugJavaWithJavac&#39; task (current target is 11) and &#39;kaptGenerateStubsDebugKotlin&#39; task (current target is 1.8) jvm target compatibility should be set to the same Java version. By default will become an error since Gradle 8.0+! Read more: <a href=\"https://kotl.in/gradle/jvm/target-validation\" rel=\"nofollow noreferrer\">kotl.in/gradle/jvm/target-validation</a> Consider using JVM toolchain: <a href=\"https://kotl.in/gradle/jvm/toolchain\" rel=\"nofollow noreferrer\">kotl.in/gradle/jvm/toolchain</a>"},{"comment_id":133437895,"body":"@Arcao I don&#39;t understand what to do there. What should I change/add/delete?"},{"comment_id":134289199,"body":"it should be <code>jvmTarget = &quot;11&quot;</code>"}],"answer_id":71194804,"body":"<p>@Marian's answer didn't quite help me.</p>\n<p>I end up setting the following in the app build.gradle</p>\n<pre><code>android {\n...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n    kotlinOptions {\n        jvmTarget=11\n    }\n...\n}\n</code></pre>\n"},{"answer_id":72721423,"body":"<p>If anyone keeps getting warnings about a java compilation task being set to java 1.8 you can add this to the gradle script:</p>\n<pre><code>afterEvaluate {\n    tasks.withType&lt;JavaCompile&gt;().configureEach {\n        sourceCompatibility = JavaVersion.VERSION_11.toString()\n        targetCompatibility = JavaVersion.VERSION_11.toString()\n    }\n}\n</code></pre>\n<p>I was getting warnings on some java compile tasks on AS and this solved it for me.</p>\n"},{"comments":[{"comment_id":129585725,"body":"This was added in <a href=\"https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/\" rel=\"nofollow noreferrer\">Kotlin 1.5.30</a> and only compatible with Gradle 7.2+"},{"comment_id":130195698,"body":"Where do I need to put it? inside of each module or in the root?"},{"comment_id":130197364,"body":"or maybe in the buildSrc/build.gradle.kts?"},{"comment_id":131202510,"body":"This worked for me, though I needed to cast the <code>languageVersion</code> like this: <code>(this as JavaToolchainSpec).languageVersion</code>"},{"comment_id":133988446,"body":"@AkbolatSSS I put mine in the build.gradle.kts in the root of the file (not in any sub-hierarchy). I put the suggested answer in its own block. I am using a Ktor project, but the idea is similar for Android projects (im an Android dev too)"}],"answer_id":72752682,"body":"<p>This worked nicely for me:</p>\n<pre><code>kotlin {\n  jvmToolchain {\n    languageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\n  }\n}\n</code></pre>\n<p>That way I only need to set it once.</p>\n"},{"answer_id":73219434,"body":"<p><strong>This solution worked for me:</strong></p>\n<p>Just replace the statement (or similar to this):</p>\n<pre><code>kotlinOptions {\n    jvmTarget = JavaVersion.VERSION_1_8.toString() \n}\n</code></pre>\n<p>with</p>\n<pre><code>kotlinOptions {\n    jvmTarget = &quot;1.8&quot;\n}\n</code></pre>\n<p>in all the module level <code>build.gradle</code> files and then sync gradle.</p>\n<p><em>Hope this works. Happy Coding...!</em></p>\n"},{"answer_id":74985503,"body":"<p>Surprisingly the culprit is very simple. You need to declare your <code>KotlinCompile</code> task before <code>JavaCompile</code>. Like this</p>\n<pre><code>tasks {\n\n    withType&lt;KotlinCompile&gt; {\n    \n        kotlinOptions {\n            freeCompilerArgs = listOf(\n                &quot;-Xextended-compiler-checks&quot;,\n                &quot;-Xinline-classes&quot;,\n                &quot;-Xjsr305=strict&quot;,\n                &quot;-Xjvm-default=all&quot;,\n                &quot;-Xskip-prerelease-check&quot;,\n            )\n            apiVersion = &quot;1.8&quot;\n            languageVersion = &quot;1.8&quot;\n            jvmTarget = &quot;11&quot;\n        }\n    }\n    \n    withType&lt;JavaCompile&gt; {\n        sourceCompatibility = &quot;11&quot;\n        targetCompatibility = &quot;11&quot;\n    }\n}\n</code></pre>\n"},{"answer_id":75252936,"body":"<p>Marian's solution (see above) needs to be applied, but you may still see the same message as a warning especially if you run &quot;gradle build&quot; from a command line. I think if you &quot;synch&quot; with gradle from Android Studio, you might not see the warning message.  If you still see the message after properly applying Marian's solution, it's apparently a bogus warning message.  My understanding is that the bogus warning message goes away once you upgrade to using kotlin 1.6+.  You can disable this bogus warning by adding the following to your gradle.properties file.</p>\n<pre><code>kotlin.jvm.target.validation.mode = IGNORE\n</code></pre>\n<p>I'm not recommending the use of the above, but I it certainly solves the issue of seeing the bogus warning message. If you do use it, remember to remove it when it's no longer needed.</p>\n<p>The problem for most of us is that we can't upgrade to kotlin 1.6.21 at this time.  In order to upgrade to kotlin 1.6.21 you need to upgrade to android gradle 7.4.  To upgrade to android gradle 7.4 you need an Android Studio version greater than Dolphin | 2021.3.1, so you would have to use one of the preview versions of Android Studio to do that at this time.</p>\n<p>for compatibility information, see\n<a href=\"https://developer.android.com/studio/releases/gradle-plugin\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases/gradle-plugin</a> and\n<a href=\"https://developer.android.com/studio/releases#android_gradle_plugin_and_android_studio_compatibility\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/releases#android_gradle_plugin_and_android_studio_compatibility</a></p>\n"},{"comments":[{"comment_id":133118524,"body":"Actually, <code>kotlinOptions {         jvmTarget = &quot;11&quot;     }</code> would work as well; note that the value is a string. re: <a href=\"https://kotlinlang.org/docs/whatsnew18.html#exposing-kotlin-compiler-options-as-gradle-lazy-properties\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a> But yes, the 1.8 gradle plugin suggests: &quot;Consider using JVM toolchain&quot; (<a href=\"https://kotlinlang.org/docs/gradle-configure-project.html#gradle-java-toolchains-support\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>), as &quot;the kotlinOptions task input and the kotlinOptions{...} task DSL are in support mode and will be deprecated in upcoming releases.&quot;"},{"comment_id":133442063,"body":"You could just pass the 11 as a parameter like this as well: <code>jvmToolchain(11)</code>"}],"answer_id":75395975,"body":"<p>In order to have the <em><strong>'same version of Java'</strong></em> in both <em><strong>'Java and Kotlin'</strong></em>,<br/>just modify your <strong>build.gradle</strong> file like this (example given for Java 11):</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n...\nandroid {\n    ...\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n\n    // New syntax (credit goes to ʍѳђઽ૯ท in comment)\n    kotlin {\n        jvmToolchain(11)\n    }\n/*\n    FYI: Old syntax:\n    kotlin {\n        jvmToolchain {\n            languageVersion.set(JavaLanguageVersion.of(&quot;11&quot;))\n        }\n    }\n    FYI: Deprecated syntax:\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n*/\n    ...\n}\n</code></pre>\n<p><strong>My configuration:</strong><BR/></p>\n<p>Gradle:</p>\n<ul>\n<li>Android Gradle Plugin: com.android.tools.build:gradle:7.4.1</li>\n<li>Gradle: 7.5 (as of ./gradle/wrapper/gradle-wrapper.properties)</li>\n</ul>\n<p>Kotlin:</p>\n<ul>\n<li>Android Kotlin Plugin: 221 ( 221-1.8.0-release-for-android-studio-AS5591.52 )<BR/>\n(see <a href=\"https://kotlinlang.org/docs/whatsnew18.html#install-kotlin-1-8-0\" rel=\"noreferrer\">https://kotlinlang.org/docs/whatsnew18.html#install-kotlin-1-8-0</a> )</li>\n<li>Kotlin Gradle Plugin: org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0</li>\n</ul>\n<p><strong>About new syntax</strong>:<BR/>\nSee <a href=\"https://kotlinlang.org/docs/whatsnew1720.html#new-method-for-jvm-toolchain-configuration\" rel=\"noreferrer\">New method for JVM toolchain configuration</a><BR/></p>\n<p><strong>NB:</strong><BR/>\nMore information about Kotlin configuration regarding that matter is available here:\n<a href=\"https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/\" rel=\"noreferrer\">https://blog.jetbrains.com/kotlin/2021/11/gradle-jvm-toolchain-support-in-the-kotlin-plugin/</a></p>\n"},{"answer_id":76005200,"body":"<pre><code>allprojects {\n    tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\n        kotlinOptions {\n            jvmTarget = JavaVersion.VERSION_1_8.toString()\n        }\n    }\n}\n</code></pre>\n<p>by including this task in your build.gradle , tells the compiler to use the JavaVersion = 1.8 in your project.</p>\n"},{"answer_id":76060790,"body":"<p>We also need to <strong>pay attention to the version that the error is showing</strong>. In my case it was :</p>\n<p>Caused by: org.gradle.api.GradleException: 'compileDebugJavaWithJavac' task (<strong>current target is 1.8</strong>) and 'compileDebugKotlin' task (<strong>current target is 17</strong>) jvm target compatibility should be set to the same Java version.</p>\n<p>Which means,the Android Studio IDE is using 17 (You can find it in File Menu-&gt;Project Structure-&gt;SDK Location-&gt;JDK location)</p>\n<p>And You are using 1.8 in your gradle files.</p>\n<p>So you need to change</p>\n<pre><code> compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n</code></pre>\n<p>and</p>\n<pre><code> kotlinOptions {\n        jvmTarget = '1.8'\n    }\n</code></pre>\n<p>to</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n</code></pre>\n<p>and</p>\n<pre><code>kotlinOptions {\n        jvmTarget = '17'\n    }\n</code></pre>\n<p>Note that</p>\n<blockquote>\n<p>since the error showed 17, I have also switched to 17.</p>\n</blockquote>\n<p>This happened when I upgraded gradle to 8.0.</p>\n<blockquote>\n<p>Beware of release issues. Kindly take a backup before doing the\nprocedure. May face issues in release aab.</p>\n</blockquote>\n<p>Make sure to check the release apk after this procedure is done, because R8 expects things like <a href=\"https://stackoverflow.com/a/72520577/14784590\">this</a></p>\n"},{"answer_id":76076810,"body":"<p>I had the same problem after update the Android Studio to Flamingo version, this is my new configs in the build.gradle</p>\n<pre><code> compileOptions {\n    sourceCompatibility JavaVersion.VERSION_17\n    targetCompatibility JavaVersion.VERSION_17\n}\nkotlinOptions {\n    jvmTarget = '17'\n}\n</code></pre>\n"},{"answer_id":76101745,"body":"<p>I solved this problem by updating the configuration in the gradle.properties file.</p>\n<p>change</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-8.0-bin.zip</code></p>\n<p>to</p>\n<p><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-7.5-bin.zip</code></p>\n"},{"comments":[{"comment_id":134340733,"body":"ALSO remove packages from buildgradle of all plugins as a temporary Solution.   -    Recommendation: remove package=&quot;io.github.zeshuaro.google_api_headers&quot; from the source AndroidManifest.xml: C:\\Users\\DBS-05\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\googl&zwnj;&#8203;e_api_headers-1.5.0+&zwnj;&#8203;1\\android\\src\\main\\A&zwnj;&#8203;ndroidManifest.xml.    -   Thanks for the Update in gradle.properties"}],"answer_id":76159929,"body":"<p>I tried with the following code first for all modules</p>\n<pre><code>compileOptions {\n    sourceCompatibility = '1.8'\n    targetCompatibility = '1.8'\n}\nkotlinOptions {\n    jvmTarget = '1.8'\n}\n</code></pre>\n<p>And after adding the following line into gradle.properties solved the issue.</p>\n<pre><code>kotlin.jvm.target.validation.mode = IGNORE\n</code></pre>\n"}],"last_activity_date":1684831097,"question_id":69079963,"body":"<p>Build.gradle.kts</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n    dependencies {\n        classpath (&quot;com.android.tools.build:gradle:7.0.2&quot;)\n        classpath (&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.5.30&quot;)\n        classpath(&quot;gradle.plugin.com.github.spotbugs.snom:spotbugs-gradle-plugin:${Versions.spotbugsGradlePluginVersion}&quot;)\n        classpath(&quot;se.bjurr.violations:violations-gradle-plugin:${Versions.violationsVersion}&quot;)\n\n    }\n}\n//android {\n//    compileOptions {\n//        sourceCompatibility = JavaVersion.VERSION_11\n//                targetCompatibility = JavaVersion.VERSION_11\n//    }\n//\n//    kotlinOptions {\n//        jvmTarget = JavaVersion.VERSION_11.toString()\n//    }\n//}\nplugins {\n    `maven-publish`\n    `java-gradle-plugin`\n    `kotlin-dsl`\n    id (&quot;io.gitlab.arturbosch.detekt&quot;) version (&quot;1.18.1&quot;)\n}\nrepositories {\n    google()\n    mavenCentral()\n    gradlePluginPortal()\n}\n\ndependencies {\n    compileOnly(gradleApi())\n    testImplementation(gradleTestKit())\n    testImplementation(&quot;junit:junit:${Versions.jUnitVersion}&quot;)\n}\nval generatedSources = tasks.register&lt;GenerateVersionsFileTask&gt;(&quot;generateSources&quot;)\n</code></pre>\n<p>ERROR :\n'compileJava' task (current target is 11) and 'compileKotlin' task (current target is 1.8) jvm target compatibility should be set to the same Java version.</p>\n<p>When I uncomment android {}\nError :\nScript compilation errors:</p>\n<pre><code> Line 15: android {\n           ^ Unresolved reference: android\n</code></pre>\n<p>Thanks for your time and effort :)\nJitendra</p>\n"},{"answers":[{"answer_id":45280148,"body":"<p>The Solution was:</p>\n\n<blockquote>\n  <p>remove the the Wildfly 11 Runtime\n  from the Classpath.</p>\n</blockquote>\n\n<ol>\n<li>Right Click on the Project </li>\n<li>Build Path </li>\n<li>Configure Build Path </li>\n<li>Libraries (Tab)</li>\n<li>remove Wildfly 11 Runtime (or Wildfly 10 Runtime)</li>\n</ol>\n\n<p>Why is this necessary? Comments welcome...</p>\n"},{"answer_id":59233398,"body":"<p>I also had the same issue. I tried the below solution and it worked for me like a charm.\nThe Solution was:</p>\n\n<p>Adding the TestNG Library into the project.\nSteps are:</p>\n\n<ol>\n<li>Right Click on the Project</li>\n<li>Build Path</li>\n<li>Configure Build Path</li>\n<li>Libraries (Tab)</li>\n<li>Go to \"Add Library\" and click the button.</li>\n<li>Add the 'TestNG' Library and click Ok/Next.</li>\n<li>TestNG Library will be added to your project.</li>\n</ol>\n\n<p>Try Running again, it will work.</p>\n\n<p>Note: I was using Java1.8 Library (had to update it from java1.5 as my eclipse create the project with default 1.5).</p>\n"},{"comments":[{"comment_id":109365204,"body":"Downgrading the testNg version has also helped me. Thanks :)"}],"answer_id":59712187,"body":"<p>Even I have faced the same issue when I was about to use the latest version of TestNG, but downgrading to a lower version of TestNG resolved the problem.</p>\n"},{"comments":[{"comment_id":111118956,"body":"Please give some examples if possible. Please check <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a> for some guidance."}],"answer_id":62835881,"body":"<p>adding testng library to the project worked for me!</p>\n"},{"answer_id":69611180,"body":"<p>if you are working on a maven project, upgrade your testng version to 7.1.0\nand its scope to test.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"answer_id":76299131,"body":"<p>I also faced a similar issue when I added <code>TestNg</code> dependency version <strong>7.8.0</strong> in <code>pom.xml</code>.<br />\nI changed the dependency to <strong>7.7.1</strong> and it started working.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;7.7.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"last_activity_date":1684830943,"question_id":45280055,"body":"<p>I am getting the Exception</p>\n\n<pre><code>FAILED CONFIGURATION: @BeforeSuite arquillianBeforeSuite \njava.lang.NoSuchMethodError: org.jboss.remoting3.Endpoint.builder()Lorg/jboss/remoting3/EndpointBuilder;\nat org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:117)\nat org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:59)\nat org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:147)\nat org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:122)\n</code></pre>\n\n<p>Running Arquillian Tests in Eclipse Oxygen with TestNG and wildfly11.\nMy Maven configuration is as follows:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.arquillian.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;arquillian-testng-container&lt;/artifactId&gt;\n        &lt;version&gt;1.1.13.Final&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.wildfly.arquillian&lt;/groupId&gt;\n        &lt;artifactId&gt;wildfly-arquillian-container-managed&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"comment_id":119428992,"body":"You don&#39;t close the BufferedReader for file1, this is the problem. Insert <code>br.close();</code> before <code>br = new BufferedReader(new FileReader(resultPath+&quot;file2.txt&quot;)); </code>"},{"comment_id":119429135,"body":"No, he needs to close the anonymous <code>FileReader</code> -&gt; <code>new FileReader(resultPath+&quot;...&quot;);</code>. Better create a <code>FileReader</code> object, like <code>FileReader fr = new FileReader(resultPath+&quot;...&quot;);</code>, use this object for your <code>BufferedReader</code>, like <code>BufferedReader br = new BufferedReader(fr);</code>, so you are able to close the <code>FileReader</code> independently from the <code>BufferedReader</code>, using <code>fr.close();</code>."},{"comment_id":119429141,"body":"@Rocco you are right. I thought i have used same br for both files so one close statement is enough. Thankyou :)"}],"answers":[{"comments":[{"comment_id":119430026,"body":"Its a very clean way to merge two files and delete the old ones."},{"comment_id":119431040,"body":"If you do this a lot, or need to include more files you could simplify / shorten further as a method <code>merge(List&lt;Path&gt; infiles, Path outfile)</code> and use a for loop through each file."}],"answer_id":67568300,"body":"<p>Closing the streams as suggested in the comments will fix. However you are writing a lot of code which is hard to debug / fix later. Instead simplify to NIO calls and add try with resources handling to auto-close everything on the way:</p>\n<pre><code>    String tmp  = System.getProperty(&quot;java.io.tmpdir&quot;);\n    Path result = Path.of(tmp, &quot;NewFolder&quot;, &quot;file3.txt&quot;);\n    Path file1  = Path.of(tmp,&quot;file1.txt&quot;);\n    Path file2  = Path.of(tmp,&quot;file2.txt&quot;);\n\n    try(OutputStream output = Files.newOutputStream(result)) {\n        try(InputStream input = Files.newInputStream(file1))  {\n            input.transferTo(output);\n        }\n        try(InputStream input = Files.newInputStream(file2))  {\n            input.transferTo(output);\n        }\n    }\n    Files.deleteIfExists(file1);\n    Files.deleteIfExists(file2);\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>The above works fine though I am unsure as to why I didn't suggest using <code>Files.copy(Path, OutputStream)</code> which does exactly what is shown above, simplifying the copying as:</p>\n<pre><code>try(OutputStream output = Files.newOutputStream(result)) {\n    // use a loop over the files to copy or:\n    Files.copy(file1, output);\n    Files.copy(file2, output);\n}\n</code></pre>\n<p>Viewing source of JDK20 <code>Files.copy(Path, OutputStream)</code> shows this implementation:</p>\n<pre><code>public static long copy(Path source, OutputStream out) throws IOException {\n    // ensure not null before opening file\n    Objects.requireNonNull(out);\n\n    try (InputStream in = newInputStream(source)) {\n        return in.transferTo(out);\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684830931,"question_id":67568025,"body":"<p>I have been trying to merge two files into new file and below code does it job. But after the merge i want to delete the old files. The code I am using to delete files just delete 1 file (file2) not the both of them.</p>\n<pre><code>public static void Filemerger() throws IOException  \n    { \n        \n       String resultPath = System.getProperty(&quot;java.io.tmpdir&quot;);\n       File result = new File(resultPath+&quot;//NewFolder&quot;, &quot;//file3.txt&quot;); \n        \n        // PrintWriter object for file3.txt \n        PrintWriter pw = new PrintWriter(result); \n          \n        // BufferedReader object for file1.txt \n        BufferedReader br = new BufferedReader(new FileReader(resultPath+&quot;file1.txt&quot;)); \n          \n        String line = br.readLine(); \n          \n        // loop to copy each line of  \n        // file1.txt to  file3.txt \n        while (line != null) \n        { \n            pw.println(line); \n            line = br.readLine(); \n        } \n        \n        pw.flush();\n          \n        br = new BufferedReader(new FileReader(resultPath+&quot;file2.txt&quot;)); \n          \n        line = br.readLine(); \n          \n        // loop to copy each line of  \n        // file2.txt to  file3.txt \n        while(line != null) \n        { \n            pw.println(line); \n            line = br.readLine(); \n        } \n          \n        pw.flush(); \n          \n        // closing resources \n        br.close(); \n         \n        pw.close(); \n        \n        File dir = new File(resultPath);\n        \n        FileFilter fileFilter1 = new WildcardFileFilter(new String[] {&quot;file1.txt&quot;, &quot;file2.txt&quot;}, IOCase.SENSITIVE); \n        File[] fileList1 = dir.listFiles(fileFilter1);\n            \n        for (int i = 0; i &lt; fileList1.length; i++) {\n              if (fileList1[i].isFile()) {\n                  \n                File file1 = fileList1[i].getAbsoluteFile();\n                file1.delete();\n              }\n        }\n        \n    }\n</code></pre>\n<p>I also try this code to delete the file1 as above code delete the file2:</p>\n<pre><code>Path fileToDeletePath = Paths.get(resultPath+&quot;file1.txt&quot;);\n       Files.delete(fileToDeletePath);\n</code></pre>\n<p>but it throws an exception that <strong>Exception in thread &quot;main&quot; java.nio.file.FileSystemException: C:\\Users\\haya\\AppData\\Local\\Temp\\file1: The process cannot access the file because it is being used by another process.</strong></p>\n"},{"comments":[{"comment_id":118597606,"body":"Please check &quot;Settings/Preferences | Build, Execution, Deployment | Application Servers&quot;. As for &quot;launch configuration&quot; - you could configure options in run configuration."}],"answers":[{"comments":[{"comment_id":128808438,"body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/32188744\">From Review</a>"},{"comment_id":132983551,"body":"The 2 links provided do, in fact, <i>not</i> answer the question.  I&#39;ve looked over them closely and as a 20+ year user of Eclipse and various server connectors, there does not appear to be any equivalent functionality as asked by the OP from what I&#39;ve seen.  I&#39;ll keep looking and adjust this answer as appropriate."},{"comment_id":133049699,"body":"IntelliJ Ultimate does provide server run configurations for JBoss EAP. The links provided show you how to do this. I have added  more details. Note: the free community edition I believe does not provide JBoss EAP support. Also Ultimate comes with free support so take advantage of that"}],"answer_id":72888038,"body":"<p>There are instructions from IntelliJ site:</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/application-servers-settings.html\" rel=\"nofollow noreferrer\">Application Servers</a></p>\n<p><a href=\"https://www.jetbrains.com/help/idea/creating-run-debug-configuration-for-application-server.html\" rel=\"nofollow noreferrer\">Application server run configurations</a></p>\n<p>Update:\nBasically you add your JBoss server</p>\n<p>Settings-&gt;Application Servers- click + icon to add server</p>\n<p><img src=\"https://i.stack.imgur.com/AWKqp.png\" alt=\"screenshot here\" /></p>\n<p>Then in run configurations you add and config  your JBoss server\n<img src=\"https://i.stack.imgur.com/I0nOL.png\" alt=\"screenshot here\" /></p>\n"}],"last_activity_date":1684830872,"question_id":67092037,"body":"<p>I'm trying to switch from Eclipse to IntelliJ Ultimate. But I have trouble configuring an application server.</p>\n<p><strong>What I have:</strong></p>\n<ul>\n<li>IntelliJ IDEA Ultimate 2020.3</li>\n<li>a JavaEE application running on JBoss EAP 7.1</li>\n</ul>\n<p><strong>What I already achieved:</strong></p>\n<ul>\n<li>Adding an application server in Settings -&gt; Build, Execution, Deployment -&gt; Application Servers: I added a JBoss Server and specified the JBoss home directory</li>\n<li>Adding a Run/Debug Configuration where I chose the JBoss server, added the artifacts which should be deployed, added some VM options, specified the JRE</li>\n</ul>\n<p><strong>Where I am stuck:</strong>\nHere are the things I miss from the Eclipse configuration, and I can't find any documentation or help about that:</p>\n<ul>\n<li>In Eclipse, there is a &quot;server runtime environment&quot; which specifies a &quot;server base directory&quot; and a &quot;configuration file&quot; (settings.xml) in addition to the server home directory and JRE. Where can I find these settings in IntelliJ?</li>\n<li>Alternatively, there is the &quot;launch configuration&quot; in Eclipse, where you can define &quot;program arguments&quot; in addition to VM arguments. These also seem to set the server config and base dir.</li>\n</ul>\n<p>Any help is highly appreciated. Thanks a lot!</p>\n"},{"comments":[{"comment_id":134565546,"body":"The error suggests it’s expecting a date in the format <code>19 Jun 2024</code> whereas you’ve provided <code>19-06-2024</code>."},{"comment_id":134565672,"body":"@fubar I tried it INSERT_UPDATE Rental;pk[unique=true];rentalId;startDate;endDate &quot;,,,,cannot parse date &#39;19 Jun 2014 00:00:00&#39; with specified pattern &#39;d MMM yyyy HH:mm:ss&#39; due to Unparseable date: &quot;&quot;19 Jun 2014 00:00:00&quot;&quot;&quot;;8796093296691;11002;19 Jun 2014 00:00:00;20 Jun 2014 00:00:00 , it didn&#39;t work"}],"answers":[{"comments":[{"comment_id":134570945,"body":"As an important side note no one should use <code>SimpleDateFormat</code> and <code>Date</code>. They are notoriously troublesome and long outdated. In Java use <code>LocalDate</code>, <code>DateTimeFormatter</code> and <code>LocalDateTime</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answer_id":76310031,"body":"<p>The error message states the following.</p>\n<pre class=\"lang-none prettyprint-override\"><code>cannot parse date '19-06-2014' with specified pattern 'd MMM yyyy HH:mm:ss'\n</code></pre>\n<p>It appears that you need to supply a timestamp in the format they are requiring.</p>\n<p>You are providing <code>dd-MM-yyyy</code>.</p>\n<p>You can convert your date to the format required using the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String format(String string) throws ParseException {\n    SimpleDateFormat format = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n    Date date = format.parse(string);\n    format = new SimpleDateFormat(&quot;d MMM yyyy HH:mm:ss&quot;);\n    return format.format(date);\n}\n</code></pre>\n<p>Usage</p>\n<pre class=\"lang-none prettyprint-override\"><code>format(&quot;19-06-2014&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>19 Jun 2014 00:00:00\n</code></pre>\n"}],"last_activity_date":1684830750,"question_id":76309864,"body":"<p>&quot;I am working with SAP Hybris, and I want to import this query</p>\n<pre><code>INSERT_UPDATE Rental;pk\\[unique=true\\];rentalId;startDate;endDate\n;8796093296691;11002;19-06-2014 00:00:00;20-06-2014 00:00:00\n</code></pre>\n<p>and I'm getting the following error</p>\n<blockquote>\n<p>Rental;pk[unique=true];rentalId;startDate;endDate\n&quot;,,,,cannot parse date '19-06-2014' with specified pattern 'd MMM yyyy HH:mm:ss' due to Unparseable date: &quot;&quot;19-06-2014&quot;&quot;&quot;;8796093296691;11002;19-06-2014;20-06-2014&quot;.</p>\n</blockquote>\n<p>I couldn't find the solution in any of SAP Hybris documentation.</p>\n<p>I tried every several thing and followed the error generated.</p>\n"},{"answers":[{"answer_id":54419761,"body":"<p>You can inject properties which are exposed through actuator endpoints (like <code>/health</code>) by injecting instance of endpoint class  using actuator API.</p>\n\n<p>This stackoverflow answer explains about it in detail: \n<a href=\"https://stackoverflow.com/questions/50996603/does-spring-boot-actuator-have-a-java-api\">Does Spring Boot Actuator have a Java API?</a></p>\n"},{"answer_id":66242569,"body":"<p>Take a look on this example</p>\n<pre><code>package ru.formatko;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport io.prometheus.client.Collector;\nimport io.prometheus.client.exporter.common.TextFormat;\nimport java.io.IOException;\nimport java.io.StringWriter;\nimport java.io.Writer;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport lombok.Data;\nimport lombok.SneakyThrows;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.actuate.endpoint.annotation.Endpoint;\nimport org.springframework.boot.actuate.endpoint.annotation.ReadOperation;\nimport org.springframework.boot.actuate.endpoint.web.WebEndpointResponse;\nimport org.springframework.boot.actuate.health.HealthEndpoint;\nimport org.springframework.boot.actuate.health.HttpCodeStatusMapper;\nimport org.springframework.boot.actuate.health.Status;\nimport org.springframework.stereotype.Component;\n\n/**\n * Example:\n * # HELP health_status HealthCheck result in prometheus's response format\n * # TYPE health_status gauge\n * health_status{application=&quot;java-service&quot;,type=&quot;main&quot;,} 1.0\n * health_status{application=&quot;java-service&quot;,type=&quot;db&quot;,database=&quot;PostgreSQL&quot;,validationQuery=&quot;isValid()&quot;,} 1.0\n * health_status{application=&quot;java-service&quot;,type=&quot;diskSpace&quot;,total=&quot;506332180480&quot;,exists=&quot;true&quot;,threshold=&quot;10485760&quot;,free=&quot;412188921856&quot;,} 1.0\n * health_status{application=&quot;java-service&quot;,type=&quot;ping&quot;,} 1.0\n*/\n@Component\n@Endpoint(id = &quot;health-check&quot;)\npublic class HeathPrometheusEndpoint {\n\n    private static final String APPLICATION = &quot;application&quot;;\n    private static final String TYPE = &quot;type&quot;;\n    public static final String SAMPLE_HEALTH_STATUS = &quot;health_status&quot;;\n\n    private final HealthEndpoint healthEndpoint;\n    private final String appName;\n    private final ObjectMapper mapper;\n    private final HttpCodeStatusMapper httpCodeStatusMapper;\n\n    public HeathPrometheusEndpoint(HealthEndpoint healthEndpoint,\n                                   ObjectMapper mapper,\n                                   @Value(&quot;${spring.application.name:}&quot;) String appName,\n                                   HttpCodeStatusMapper httpCodeStatusMapper) {\n        this.healthEndpoint = healthEndpoint;\n        this.mapper = mapper;\n        this.appName = appName;\n        this.httpCodeStatusMapper = httpCodeStatusMapper;\n    }\n\n    @ReadOperation(produces = TextFormat.CONTENT_TYPE_004)\n    public WebEndpointResponse&lt;String&gt; healthPrometheus() {\n        StatusDto status = createStatusDto();\n        List&lt;Collector.MetricFamilySamples.Sample&gt; samples = new ArrayList&lt;&gt;();\n        samples.add(createMainSample(status));\n        samples.addAll(createComponentSamples(status));\n        return createStringWebEndpointResponse(status, createMetricFamily(samples));\n    }\n\n    @SneakyThrows\n    private StatusDto createStatusDto() {\n        return mapper.readValue(mapper.writeValueAsString(healthEndpoint.health()), StatusDto.class);\n    }\n\n\n    private Collector.MetricFamilySamples.Sample createMainSample(StatusDto status) {\n        Labels labels = new Labels();\n        labels.add(APPLICATION, appName);\n        labels.add(TYPE, &quot;main&quot;);\n\n        return createSample(SAMPLE_HEALTH_STATUS, labels, status.getStatus());\n    }\n\n    private List&lt;Collector.MetricFamilySamples.Sample&gt; createComponentSamples(StatusDto status) {\n        List&lt;Collector.MetricFamilySamples.Sample&gt; list = new ArrayList&lt;&gt;();\n        for (Map.Entry&lt;String, StatusDto&gt; entry : status.components.entrySet()) {\n            Labels labels = new Labels();\n            labels.add(APPLICATION, appName);\n            labels.add(TYPE, entry.getKey());\n\n            StatusDto statusDto = entry.getValue();\n            Map&lt;String, Object&gt; details = statusDto.getDetails();\n            if (details != null &amp;&amp; !details.isEmpty()) {\n                details.forEach((k, v) -&gt; labels.add(k, String.valueOf(v)));\n            }\n            list.add(createSample(SAMPLE_HEALTH_STATUS, labels, statusDto.getStatus()));\n        }\n        return list;\n    }\n\n    private Collector.MetricFamilySamples.Sample createSample(String name, Labels labels, Status status) {\n        double v = Status.UP.equals(status) ? 1 : 0;\n        return new Collector.MetricFamilySamples.Sample(name, labels.getLabels(), labels.getValues(), v);\n    }\n\n    private Collector.MetricFamilySamples createMetricFamily(List&lt;Collector.MetricFamilySamples.Sample&gt; s) {\n        return new Collector.MetricFamilySamples(\n            &quot;health_status&quot;, Collector.Type.GAUGE,\n            &quot;HealthCheck result in prometheus's response format&quot;, s);\n    }\n\n    private WebEndpointResponse&lt;String&gt; createStringWebEndpointResponse(\n        StatusDto status, Collector.MetricFamilySamples metricFamilySamples\n    ) {\n        try {\n            Writer writer = new StringWriter();\n            TextFormat.write004(writer,\n                Collections.enumeration(Collections.singletonList(metricFamilySamples)));\n\n            return wrapResponse(writer.toString(), status);\n        } catch (IOException ex) {\n            // This actually never happens since StringWriter::write() doesn't throw any\n            // IOException\n            throw new RuntimeException(&quot;Writing metrics failed&quot;, ex);\n        }\n    }\n\n    private WebEndpointResponse&lt;String&gt; wrapResponse(String body, StatusDto status) {\n        if (body == null || body.isEmpty()) {\n            return new WebEndpointResponse&lt;&gt;(&quot;&quot;, 500);\n        } else {\n            int statusCode = httpCodeStatusMapper.getStatusCode(status.getStatus());\n            return new WebEndpointResponse&lt;&gt;(body, statusCode);\n        }\n    }\n\n    public static class Labels {\n        private final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\n        public void add(String label, String value) {\n            if (value != null &amp;&amp; !value.isEmpty()) {\n                map.put(label, value);\n            }\n        }\n\n        public List&lt;String&gt; getLabels() {\n            return new ArrayList&lt;&gt;(map.keySet());\n        }\n\n        public List&lt;String&gt; getValues() {\n            return new ArrayList&lt;&gt;(map.values());\n        }\n    }\n\n    @Data\n    public static class StatusDto {\n        private Status status;\n        private Map&lt;String, StatusDto&gt; components;\n        private Map&lt;String, Object&gt; details;\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684830690,"question_id":54419431,"body":"<p>How to obtain Spring actuator <code>/health</code> metrics that already working? \nFor example, to push them to Grafana. Thus I need them as objects, not text.</p>\n"},{"comments":[{"comment_id":134570132,"body":"<a href=\"https://stackoverflow.com/questions/50642308/webdriverexception-unknown-error-devtoolsactiveport-file-doesnt-exist-while-t\" title=\"webdriverexception unknown error devtoolsactiveport file doesnt exist while t\">stackoverflow.com/questions/50642308/&hellip;</a>"},{"comment_id":134571304,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50642308/webdriverexception-unknown-error-devtoolsactiveport-file-doesnt-exist-while-t\">WebDriverException: unknown error: DevToolsActivePort file doesn&#39;t exist while trying to initiate Chrome Browser</a>"}],"last_activity_date":1684830615,"question_id":76312354,"body":"<p>I want to use selenium-java to implement a crawler program.</p>\n<p>Below is the error I get:</p>\n<pre><code>java-app:org.openqa.selenium.WebDriverException: unknown error: DevToolsActivePort file doesn't exist\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: host: 'hecs-135272', ip: '127.0.0.1', os.name: 'Linux', os.arch: 'amd64', os.version: '3.10.0-1160.53.1.el7.x86_64', java.version: '1.8.0_362'\nDriver info: driver.version: ChromeDriver\n</code></pre>\n"},{"last_activity_date":1684830541,"question_id":76312703,"body":"<p>java.lang.ClassCastException: class com.mysql.cj.jdbc.ConnectionImpl cannot be cast to class connection.Connection (com.mysql.cj.jdbc.ConnectionImpl and connection.Connection are in unnamed module of loader 'app')\nnot connected.\nI'm facing this problem while creating the databases.</p>\n<p>I'm expecting my connection to be take place. Actually i'm doing the each step carefully.but connection is failed</p>\n"},{"last_activity_date":1684830535,"question_id":76312699,"body":"<p>I have created a table in the oracle database from a dataframe using the following code:</p>\n<pre><code>drv_oracle &lt;- JDBC(oracle_driver, oracle_jdbc_jar)  #creating DBI driver\nconn_oracle &lt;- dbConnect(drv_oracle, oracle_url,&quot;username&quot;,&quot;password&quot;)  #creating DBIConnection Object\n\ndbWriteTable(conn_oracle,&quot;DECILE_ANALYSIS_BASE_TABLE&quot;,DECILE_ANALYSIS_FINAL) #DECILE_ANALYSIS_FINAL is dataframe\n</code></pre>\n<p>Using the above code, the table is created in the database.</p>\n<p>But now I have refreshed the DECILE_ANALYSIS_FINAL dataframe with new data. I want to append this data into my created table.</p>\n<p>This I try to do using following code:</p>\n<pre><code>conn_oracle &lt;- dbConnect(drv_oracle, oracle_url,&quot;username&quot;,&quot;password&quot;) \ndbAppendTable(conn_oracle,&quot;DECILE_ANALYSIS_BASE_TABLE&quot;,DECILE_ANALYSIS_FINAL)\n</code></pre>\n<p>But now I am getting following error:</p>\n<pre><code>Error in dbSendQuery(conn, statement, ...) : \n  Unable to retrieve JDBC result set\n  JDBC ERROR: Missing IN or OUT parameter at index:: 1\n  Statement: INSERT INTO &quot;DECILE_ANALYSIS_BASE_TABLE&quot;\n  (&quot;FISCAL_YEAR&quot;, &quot;MONTH&quot;, &quot;GEO_LEVEL&quot;, &quot;GEO_CODE&quot;, &quot;PRODUCT_LEVEL&quot;, &quot;PRODUCT_CODE&quot;, &quot;CHANNEL_TYPE&quot;, &quot;DECILE&quot;, &quot;UOB&quot;, &quot;TULC&quot;, &quot;TTLC&quot;, &quot;TOTAL_SALES&quot;, &quot;PDO&quot;, &quot;UNIQUE_ID&quot;, &quot;AVG_PDO_DROP&quot;)\nVALUES\n  (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\n</code></pre>\n<p>Please help me understand how I can resolve this issue.</p>\n<p>I tried the code mentioned above</p>\n"},{"comments":[{"comment_id":134570297,"body":"Does injecting/autowiring a <code>MockMvc</code> bean normally work (Can you inject a <code>MockMvc</code> instance in your test) or does that result in an exception as well? What happens when removing the <code>@ContextConfiguration</code>?"}],"answers":[{"comments":[{"comment_id":134571627,"body":"Indeed this was the issue, we were actually misusing <code>@AutoConfigureAfter</code> and <code>@AutoConfigureBefore</code> in our codebase, which led me to think it would work in nested classes. Thank you very much for the quick answer, Andy."}],"answer_id":76312684,"body":"<p><code>@AutoConfigureAfter</code> only works on a top-level class that is listed in <code>spring.factories</code>. You haven't shown your <code>spring.factories</code> file, but assuming that it lists <code>MyAutoConfiguration</code>, that's the class on which <code>@AutoConfigureAfter</code> should be placed.</p>\n"}],"last_activity_date":1684830404,"question_id":76312467,"body":"<p>I have the following AutoConfiguration class:</p>\n<pre><code>@Configuration\npublic class MyAutoConfiguration {\n  @AutoConfigureAfter(MockMvcAutoConfiguration.class)\n  class MyNestedAutoConfiguration {\n    @ConditionalOnBean(MockMvc.class)\n    @Bean\n    AugmentedMockMvc augmentedMockMvc(MockMvc mockMvc) {\n      return new AugmentedMockMvc(mockMvc);\n    }\n  }\n}\n</code></pre>\n<p>The class is properly registered in spring.factories, and it is imported as a maven dependency in my Spring Boot application. My Spring Boot application looks like the following:</p>\n<pre><code>@SpringBootApplication\npublic class MySpringBootApp {\n  public static void main(String[] args) {\n    SpringApplication.run(MySpringBootApp.class, args);\n  }\n}\n</code></pre>\n<p>Finally, I have an integration test that is defined like this:</p>\n<pre><code>@SpringBootTest(classes = {MySpringBootApp.class})\n@AutoConfigureMockMvc\n@ContextConfiguration(initializers = {MyInitializer.class})\nclass MyTest {\n  @Autowired\n  private AugmentedMockMvc augmentedMockMvc;\n}\n</code></pre>\n<p><code>MyInitializer</code> can be ignored, it doesn't do anything meaningful here, but it is needed and therefore I need to use both <code>@SpringBootTest</code> and <code>@ContextConfiguration</code>.</p>\n<p><strong>The issue is the following</strong>: With this setup, the augmentedMockMvc Bean is not created because it does not match the <code>@ConditionalOnBean(MockMvc.class)</code> condition.</p>\n<p>I tried two things:</p>\n<ul>\n<li>Adding <code>classes = {MockMvcAutoConfiguration.class}</code> to <code>@ContextConfiguration</code>. This works fine and fixes the issue, the augmentedMockMvc Bean is now properly registered</li>\n<li>Removing the <code>@ConditionalOnBean(MockMvc.class)</code> annotation from the Bean creation. Weirdly enough, this also works! The MockMvc Bean is actually there, but it is not discovered by Spring when evaluating the <code>@ConditionalOnBean</code> annotation.</li>\n</ul>\n<p>I don't understand why the MockMvc Bean is not found by the <code>@ConditionalOnBean(MockMvc.class)</code> even though the Bean exists unless I specifically put the class in the <code>@ContextConfiguration</code>, I would think that having <code>@AutoConfigureMockMvc</code> on <code>MyTest</code> should be enough for the <code>MockMvcAutoConfiguration.class</code> class to be in the context</p>\n"},{"answers":[{"comments":[{"comment_id":123084110,"body":"The first version works well. The second doesn&#39;t. This produces a java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0"},{"comment_id":123084237,"body":"Thanks for the feedback. I will remove the second option ;)"}],"answer_id":69623653,"body":"<p>Try the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties(value = AdapterHealthCheckConfig.class)\n@TestPropertySource(&quot;classpath:application-test.properties&quot;)\nclass AppHealthCheckConfigTest {\n\n    @Autowired\n    private AdapterHealthCheckConfig config;\n\n    @Test\n    void healthCheckBeansAreInitialized() {\n//        config.init();\n        System.out.println(config.getApps().get(0));\n\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684830396,"question_id":69620134,"body":"<p>After creating multiple beans of a specific class using @PostConstruct according to <a href=\"https://stackoverflow.com/questions/69571749/multiple-instances-of-a-bean-of-one-class-filled-with-values-from-application-pr/69574978?noredirect=1#comment123021394_69574978\">Multiple instances of a bean of one class filled with values from application.properties</a></p>\n<p>I wonder how I could test the creation of those bean instances.</p>\n<p>I tried it this way:</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\n@RequiredArgsConstructor\n@ExtendWith({SpringExtension.class, MockitoExtension.class})\n@SpringBootTest(classes = {AppHealthCheckContributor.class, AppHealthCheckProperties.class})\n@ConfigurationProperties(prefix = &quot;healthcheck&quot;)\n@ContextConfiguration(classes = { AppHealthCheckConfig.class })\n//@TestPropertySource(properties = &quot;healthcheck.app[0].name=testHealthIndicator, healthcheck.app[0].baseUrl=http://localhost, healthcheck.app[0].basePath=/test&quot;)\n@TestPropertySource(locations = {&quot;/application-test.properties&quot;})\nclass AppHealthCheckConfigTest {\n\n    @Autowired\n    private AdapterHealthCheckConfig config;\n\n    @Test\n    void healthCheckBeansAreInitialized() {\n//        config.init();\n        System.out.println(config.getApps().get(0));\n\n    }\n}\n</code></pre>\n<p>but this results in: <code>AppHealthCheckProperties(baseUrl=null, basePath=null, name=null)</code></p>\n"},{"comments":[{"comment_id":134422077,"body":"VM options aren’t env variables. There’s a separate place for those in IntelliJ. Are you saying you can export it to Splunk from local?"},{"comment_id":134423039,"body":"in <code>logback.xml</code> both are checked (env variables at the end if I recall, JVM options before). Yes, when I put into configuration in IntelliJ into <code>VM options</code> <code>env</code> and <code>hostname</code> then it&#39;s exported to SPLUNK and I can see it there."}],"answers":[{"answer_id":76312658,"body":"<pre><code>&lt;source&gt;${env}&lt;/source&gt;\n</code></pre>\n<p>is perfectly fine, there was discrepancy between start scripts which I was using.</p>\n<p>To conclude:\nIf you use <code>${variable}</code> and in start script you use <code>-Dvariable = something</code> then it works.</p>\n"}],"last_activity_date":1684830208,"question_id":76120674,"body":"<p>I am trying to read env variable in <code>logback.xml</code> file.\nI can do:</p>\n<pre><code>&lt;variable name=&quot;JAVA&quot; value=&quot;${JAVA_HOME}&quot; /&gt;\n</code></pre>\n<p>and the use it later:</p>\n<pre><code>&lt;source&gt;MY APP ${JAVA}&lt;/source&gt;\n</code></pre>\n<p>and it works however when I created new variable by <code>setenv ENV TEST</code> (it's Red Hat) and I check if it's in environment variables by <code>printenv</code> then I can see it <code>ENV=TEST</code>. When I try to define it in <code>logback.xml</code> the same way as <code>JAVA_HOME</code> so: <code>&lt;variable name=&quot;ENVIRONMENT&quot; value=&quot;${ENV}&quot; /&gt;</code> and use here:</p>\n<pre><code>&lt;source&gt;MY APP ${ENVIRONMENT}&lt;/source&gt;\n</code></pre>\n<p>then I can see in SPLUNK: <code>source = MY APP ENV_IS_UNDEFINED</code></p>\n<p>Or is there another way to put <code>ENVIRONMENT</code> value somewhere and then read <code>ENVIRONMENT</code> in <code>logback.xml</code>?</p>\n<p>I found: <a href=\"https://stackoverflow.com/questions/41715211/if-condition-in-logback-print-log-messages-in-two-different-folders\">if condition in logback - print log messages in two different folders</a> but my problem is different</p>\n<p>@Edit</p>\n<p>Even though I am starting process with:</p>\n<pre><code>$JAVA_HOME/bin/java \\\n    -Duser.timezone=GMT \\\n    -Denv=&quot;test&quot; \\\n    -Dhost=&quot;127.0.0.1&quot; \\\n    ...\n</code></pre>\n<p>and trying to send it to SPLUNK by <code>&lt;source&gt;MY APP ${env}&lt;/source&gt;</code> I can see in SPLNUK UI <code>source = MY APP env_IS_UNDEFINED</code></p>\n<p>When I run service locally with: <a href=\"https://i.stack.imgur.com/cOJgn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cOJgn.png\" alt=\"VM options\" /></a> then it works locally</p>\n"},{"comments":[{"comment_id":102831173,"body":"Use the % sign. i.e. n % 2, n % 3, and n % 5"},{"comment_id":134570437,"body":"find the pointers at <a href=\"https://stackoverflow.com/questions/tagged/hamming-numbers\">stackoverflow.com/questions/tagged/hamming-numbers</a>."}],"answers":[{"answer_id":58229444,"body":"<p>Not sure why the use of PriorityQueue, but a pretty ugly brute force way to solve the question would be something like this.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.PriorityQueue;\nimport java.util.stream.Collectors;\n\npublic class Driver {\n\n    public static void main(String[] args) {\n        Driver driver = new Driver();\n        System.out.println(driver.getRegularNumber(30)\n                .toString());\n    }\n\n    public PriorityQueue&lt;Integer&gt; getRegularNumber(int n) {\n        PriorityQueue&lt;Integer&gt; regularNumbers = new PriorityQueue&lt;&gt;();\n        int count = 0;\n        int current = 1;\n        List&lt;Integer&gt; pf;\n        List&lt;Integer&gt; apf = Arrays.asList(2, 3, 5);\n        while (count &lt; n) {\n            // Get the prime factors of the current number.\n            // If it is a subset of the allowed prime factors then add it to the Queue.\n            pf = primeFactors(current);\n            if (apf.containsAll(pf)) {\n                regularNumbers.add(current);\n                count++;\n            }\n            current++;\n        }\n        return regularNumbers;\n    }\n\n    public static List&lt;Integer&gt; primeFactors(int n) {\n        List&lt;Integer&gt; factors = new ArrayList&lt;&gt;();\n        for (int i = 2; i &lt; n; i++) {\n            while (n % i == 0) {\n                factors.add(i);\n                n = n / i;\n            }\n        }\n        if (n &gt; 2) {\n            factors.add(n);\n        }\n\n        factors = factors.stream()\n                .distinct()\n                .collect(Collectors.toList());\n        return factors;\n    }\n}   \n</code></pre>\n\n<p>This produces <code>[1, 2, 3, 4, 5, 6, 8, 9, 10, 12, 15, 16, 18, 20, 24, 25, 27, 30, 32, 36, 40, 45, 48, 50, 54, 60, 64, 72, 75, 80]</code> as output.</p>\n"}],"last_activity_date":1684830092,"question_id":58227806,"body":"<p>Problem:</p>\n<blockquote>\n<p>&quot;Babylonians use regular numbers to keep time.</p>\n<p>A <em>&quot;regular number&quot;</em> in math is defined to be a number that is a factor of some power of 60 (60, 3600, etc). Equivalently we can say that a regular number is one whose ONLY prime divisors are 2, 3 and 5. The first 10 regular numbers are:</p>\n<p>1, 2, 3, 4, 5, 6, 8, 9, 10, 12.</p>\n<p>Your task is to find the <em>n</em>-th regular number.&quot;</p>\n</blockquote>\n<p>My professor asked us to specifically use priority queue to solve this problem, and the largest number we'll test is no more than <em><code>n = 300</code></em>. I'm clueless.</p>\n<p>edit: I'm obviously not asking for the complete code, I just need pointers to get me started.</p>\n"},{"comments":[{"comment_id":134558740,"body":"This is nothing to do with permissions, the <code>out.renameTo(dir[i])</code> will fail and returns false if the target exists already so you should delete first <code>if (dirs[i].isFile() &amp;&amp; !dirs[i].delete()) { &#47;&#47; error </code>, and it doesn&#39;t work for directory targets - perhaps you mean <code>out.renameTo(new File(dir[i], out.getName())</code> instead."},{"comment_id":134559392,"body":"dir[i] is deleted and checked for deletion a couple lines up. As I said, the code works as long as the files are directly in the project folder. You suggest it shouldn&#39;t work at all. Also dir[] contains the paths to all files I iterate over"},{"comment_id":134560406,"body":"Don&#39;t use <code>renameTo</code> as it does not report errors, changing to <code>Files.move(out.toPath(),dirs[i].toPath())</code> will tell you why it failed. Neither accepts a directory as the target, nor if the parent doesn&#39;t exist. You might get this re-opened if you added much more details showing examples of the files you cannot rename."},{"comment_id":134560448,"body":"@DuncG what do the file contents have to do with the permission to write to them? there literally is not that much more details. I went into the decompiled class, checked for the causes of not beeing able to rename. Causes are missing write permissions. Write permissions are checked agains security manager, and it seems to be not providing the permission. Also it is not related to the files, but the location. But thanks for the tip with move, will try it out and change if I get any details."},{"comment_id":134560518,"body":"Paths not contents - there is no information in the question that gives any context."}],"last_activity_date":1684829773,"question_id":76305877,"body":"<p>I have a problem with a program I am trying to get to working. I want to bulk-change a single cell in a lot of Excel files and I basically got it working, but now I decided to take it up a notch and make the program a little more user friendly.</p>\n<p>I am on Java 17 Corretto using Maven as my build environment on Windows 10/11 (different machines, same issue). The problem, as stated in the title is, that I cannot make files writable, except for ones directly in the project folder. Not even subfolders are working, no other folders. Those are not folders like program or anything, just directly on my desktop for example.</p>\n<p>This basically is the code I am trying to execute. It works if the file is in the project folder, but not otherwise.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JFileChooser j = new JFileChooser(&quot;.&quot;);\nj.setFileSelectionMode(JFileChooser.FILES_ONLY);\nj.setMultiSelectionEnabled(true);\nj.showSaveDialog(new Container());\nFile[] dir = j.getSelectedFiles();\nif (!dir[i].delete()){\n    JOptionPane.showMessageDialog(new Frame(&quot;File operation error&quot;), &quot;Error deleting old file. Please clean up files manually.&quot;);\n}\nFile out = new File(dir[i].getParent() + &quot;\\\\&quot; + &quot;temp.xlsm&quot;);\nSystem.out.println(out.setWritable(true));\nSystem.out.println(dir[i].setWritable(true));\nif (!out.renameTo(dir[i])){\n    JOptionPane.showMessageDialog(new Frame(&quot;File operation error&quot;), &quot;Error renaming file. Please clean up files manually. Not continuing.&quot;);\n    System.exit(1);\n}\n</code></pre>\n<p>As I have pointed out, the program works as intended, if the files are directly in the project folder: &quot;C:\\Users\\my Name\\IdeaProjects\\ExcelSpeed\\example.xlsm&quot;, but not in any other folder, even subfolders of my project &quot;C:\\Users\\my Name\\IdeaProjects\\ExcelSpeed\\FilesToProcess&quot; or &quot;C:\\Users\\my Name\\Desktop\\files&quot;.</p>\n<p>I don't really know how to fix this. One explanation I am kind of thinking about is, that I am using absolute paths for most files. Could this be an issue as the system thinks I am doing something at &quot;root&quot;? Although this shouldn't really work if I choose files in my project folder, right?</p>\n"},{"answers":[{"comments":[{"comment_id":128270812,"body":"mine is already 1.5.4 but keep getting this error. i updated to 1.6.1 it worked!"}],"answer_id":63578224,"body":"<p>I solved my problem by updating <code>micrometer-registry-prometheus</code> from 1.5.1 to 1.5.4</p>\n<p>With this update the error message was more speakable:</p>\n<pre><code>Prometheus requires that all meters with the same name have the same set of tag keys. There is already an existing meter named 'jvm_gc_pause_seconds' containing tag keys [username, endpoint]. The meter you are attempting to register has keys [username, endpoint, service].\n</code></pre>\n<p>So I found the problem. I added a common tag to all metrics. After removing the common tag, the error was solved.</p>\n"}],"last_activity_date":1684829513,"question_id":63575808,"body":"<p>I enabled and configured Spring Actuator with Prometheus endpoint in my spring boot application. But I receive an error, that Prometheus requires that all meters with the same name have the same set of tag keys. But unfortunately Spring Actuator won't do that for <code>jvm_gc_pause_seconds</code>.</p>\n<p>I'm using:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n....\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-core&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n    &lt;version&gt;1.5.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my error message:</p>\n<pre><code>java.lang.IllegalArgumentException: Prometheus requires that all meters with the same name have the same set of tag keys. There is already an existing meter named 'jvm_gc_pause_seconds'  │\n│     at io.micrometer.prometheus.PrometheusMeterRegistry.lambda$applyToCollector$17(PrometheusMeterRegistry.java:429)                                                                       │\n│     at java.base/java.util.concurrent.ConcurrentHashMap.compute(Unknown Source)                                                                                                            │\n│     at io.micrometer.prometheus.PrometheusMeterRegistry.applyToCollector(PrometheusMeterRegistry.java:413)                                                                                 │\n│     at io.micrometer.prometheus.PrometheusMeterRegistry.newTimer(PrometheusMeterRegistry.java:196)                                                                                         │\n│     at io.micrometer.core.instrument.MeterRegistry.lambda$timer$2(MeterRegistry.java:308)                                                                                                  │\n│     at io.micrometer.core.instrument.MeterRegistry.getOrCreateMeter(MeterRegistry.java:612)                                                                                                │\n│     at io.micrometer.core.instrument.MeterRegistry.registerMeterIfNecessary(MeterRegistry.java:566)                                                                                        │\n│     at io.micrometer.core.instrument.MeterRegistry.timer(MeterRegistry.java:306)                                                                                                           │\n│     at io.micrometer.core.instrument.Timer$Builder.register(Timer.java:539)                                                                                                                │\n│     at io.micrometer.core.instrument.binder.jvm.JvmGcMetrics.lambda$bindTo$1(JvmGcMetrics.java:151)                                                                                        │\n│     at java.management/sun.management.NotificationEmitterSupport.sendNotification(Unknown Source)                                                                                          │\n│     at jdk.management/com.sun.management.internal.GarbageCollectorExtImpl.createGCNotification(Unknown Source)\n</code></pre>\n<p>Any idea?!\nI don't have this error when I remove the Prometheus endpoint configuration (<code>micrometer-registry-prometheus</code> dependency).</p>\n"},{"answers":[{"answer_id":76312565,"body":"<p>Just get rid of the below line, you don't need to set property and provide the location of <code>driver.exe</code> if you are using Selenium <code>v4.6.0</code> or above.</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,\n                           &quot;D:\\\\Selenium\\\\BrowserJars\\\\geckodriver113.exe&quot;);\n</code></pre>\n<p>References: <a href=\"https://www.selenium.dev/blog/2022/introducing-selenium-manager/\" rel=\"nofollow noreferrer\">Introducing Selenium Manager</a></p>\n"}],"last_activity_date":1684829508,"question_id":76312266,"body":"<p>Unable to launch Firefox browser using Selenium.</p>\n<p>Below is the code that I executed:</p>\n<pre><code>public class BrowserTest {\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.gecko.driver&quot;,\n                           &quot;D:\\\\Selenium\\\\BrowserJars\\\\geckodriver113.exe&quot;);\n        WebDriver driver = new FirefoxDriver();\n    }\n}\n</code></pre>\n<p>Error that I am getting:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: Expected browser binary location, but unable to find binary in default location, no 'moz:firefoxOptions.binary' capability provided, and no binary flag set on the command line \nHost info: host: 'XXXXXXXXX', ip: 'XXX.XXX.XXX.XXX'\nBuild info: version: '4.9.1', revision: 'eb2032df7f'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_172'\nDriver info: org.openqa.selenium.firefox.FirefoxDriver\nCommand: [null, newSession {capabilities=[Capabilities {acceptInsecureCerts: true, browserName: firefox, moz:debuggerAddress: true, moz:firefoxOptions: {}}]}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:136)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:94)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:150)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:146)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:131)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:127)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:112)\n    at org.openqa.selenium.firefox.FirefoxDriver.&lt;init&gt;(FirefoxDriver.java:102)\n    at BrowserTest.main(BrowserTest.java:12)\n</code></pre>\n<p>More details:</p>\n<ul>\n<li>Firefox Version: 113</li>\n<li>Gecko Driver Version: geckodriver-v0.33.0-win32 (<a href=\"https://github.com/mozilla/geckodriver/releases\" rel=\"nofollow noreferrer\">https://github.com/mozilla/geckodriver/releases</a>)</li>\n<li>Eclipse Version: 2019-06 (4.12.0)|Build id: 20190614-1200</li>\n</ul>\n"},{"answers":[{"comments":[{"comment_id":114057042,"body":"i already did that for the info actuator, but what i need is to customise health actuator wich serve for monitoring the application"},{"comment_id":114057086,"body":"@NasSim <a href=\"https://www.baeldung.com/spring-boot-actuators\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-actuators</a>"}],"answer_id":64503710,"body":"<pre><code>info:\n    app:\n        name: @project.name@\n        version: @project.version@\n    external-resources:\n        services:\n            '[service.util]': ${service.util.url}\n            another_service: ${service.host}\n        database:\n            url: ${spring.datasource.url}\n            username: ${spring.datasource.username}\n    build:\n        date: @timestamp@\n        commit-sha: ${COMMIT_SHORT_SHA:xxx}\n    deployment:\n        date: ${DEPLOYMENT_TIME:xxx}\n</code></pre>\n<p>Just put all you need under <code>info</code> section of the <code>application.yml</code></p>\n"}],"last_activity_date":1684829498,"question_id":64503501,"body":"<p>I'm working in java <strong>springBoot</strong> application <strong>v 1.5.3</strong>\ni added <strong>health actuator</strong> and is working fine.\nwhat i need to do is costomise status properties and put an other <strong>properties name</strong> like in the picture.\nSo i put for example globalStatus in place of status\nDoes any one have an idea how it should be done</p>\n<p>thanks!</p>\n<p><a href=\"https://i.stack.imgur.com/N84y3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N84y3.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":134551380,"body":"This code shouldn&#39;t compile since you are using variables that are undeclared and not visible for the scope where they are being used. Most of your key variables are declared <i>within</i> methods and so are only visible within the same methods, and this is not good. You should declare and use variables declared in the class scope, &quot;fields&quot;."},{"comment_id":134551392,"body":"For example, the userNum variable is declared and initialized within the takeUserInput() method and so should only be visible within that same method, and yet you use it in the isCorrectNum() method. Again, this shouldn&#39;t compile, and if the code does in fact compile and run, then this suggests that the code you&#39;re showing us is not the compilete code that you are running."},{"comment_id":134551626,"body":"@HovercraftFullOfEels Thank you so much. That makes so much sense. So I should declare the variables once under a class &amp; the use them in methods. Here I am redeclaring the variables in the methods which is a wrong practice."},{"comment_id":134551706,"body":"First of all <b><i>are you showing us the complete program</i></b>?  And if so, <b><i>how can it compile</i></b>?"},{"comment_id":134551971,"body":"Don&#39;t create an instance of Random each time. Create it when first used or use Math.random."},{"comment_id":134557075,"body":"@HovercraftFullOfEels Yes this is my complete program. All I did was removed the &quot;int&quot; from first 2 methods and declared the two variables &quot;compNum&quot; &amp; &quot;userNum&quot; as int in the class itself and it worked just fine. I am still yet to complete this project but for now my main concern was just to take user input &amp; random computer input using methods &amp; then compare them."},{"comment_id":134557123,"body":"@WJS I am trying to make a method which will generate a random computer number for each user. So everytime a user enters a number, a new random number would be generated. Thus i created a method for that so I don&#39;t have to do that multiple times."}],"last_activity_date":1684829323,"question_id":76301686,"body":"<p>I am trying to make 3 functions/methods using OOP concepts in java</p>\n<ol>\n<li><p>To generate random number for a player</p>\n</li>\n<li><p>To take input from the user</p>\n</li>\n<li><p>To compare both and print the result</p>\n</li>\n</ol>\n<p>For some reason, the values returned are always &quot;0&quot;. For any user entered value, the random number i always equal to the user entered value. Which cannot be possible. Something is wrong.</p>\n<p>This is my code</p>\n<pre class=\"lang-java prettyprint-override\"><code>package company;\n\nimport java.util.Random;\nimport java.util.Scanner;\n\nclass Game\n{\n\n    public void generateRandomNumber(){\n        Random random = new Random();\n        int compNum = random.nextInt(100);\n        System.out.println(compNum);\n    }\n\n    public void takeUserInput(){\n        System.out.println(&quot;Enter user1 input&quot;);\n        Scanner sc = new Scanner(System.in);\n        int userNum = sc.nextInt();\n        System.out.println(userNum);\n    }\n\n    public void isCorrectNum(){\n        if(userNum==compNum){\n            System.out.println(&quot;Correct guess&quot;);\n        }\n        else if(userNum&lt;compNum){\n            System.out.println(&quot;Entered number is less than correct num&quot;);\n        }\n        else if(userNum&gt;compNum) {\n            System.out.println(&quot;Entered number is greater than correct num&quot;);\n        }\n    }\n}\n\npublic class Program{\n\n    public static void main(String[] args) {\n        Game player1 = new Game();\n        player1.generateRandomNumber();\n        player1.takeUserInput();\n        player1.isCorrectNum();\n    }\n\n}\n</code></pre>\n<p>This is my output</p>\n<p>45 //This is the Random number generated</p>\n<p>Enter user1 input</p>\n<p>34</p>\n<p>34</p>\n<p>Correct guess</p>\n<p><img src=\"https://i.stack.imgur.com/ybORy.png\" alt=\"enter image description here\" /></p>\n<p>I tried using print functions at each step to see whats wrong. for some reason when the values enter the &quot;isCorrectNum&quot; function, the variables &quot;userNum&quot; and &quot;compNum&quot; are reset to &quot;0&quot;. I am a new to Java.</p>\n"},{"comments":[{"comment_id":98757295,"body":"Ordering of rules is important, your <code>.anyRequest().authenticated()</code> is before the more specific rule for the actuator. Hence the first one matches and renders your <code>actuator</code> maping useless. Switch the order and make sure the ` <code>.anyRequest().authenticated()</code> is the last one."},{"comment_id":98757611,"body":"God damnit it worked . I have no idea why since i had the admin and actuator endpoint at first totally at the top and the .anyRequest().authenticated() was set afterwards, Now i listened to you and put it into totally last place (that anyRequest().authenticated()) and it works. Please do post it as answer so i can accept it and you get rep :)."}],"answers":[{"comments":[{"comment_id":132796122,"body":"Hope this is well documented in Spring Security docs. Thank you Tomas for raising this and M.Deinum for answering."}],"answer_id":56073706,"body":"<blockquote>\n  <p>This question was answered in the comment, unfortunately commenter\n  didnt post answer so i do it. All credit to  M. Deinum.</p>\n</blockquote>\n\n<p>Correct solution is to move </p>\n\n<pre><code>.anyRequest().authenticated()\n</code></pre>\n\n<p>Into last position of httpsecurity configuration. Ordering in this case matters.</p>\n"}],"last_activity_date":1684829125,"question_id":56057707,"body":"<p>I have spring actuator and administration endpoint for my web application.</p>\n\n<p>In configure of my spring security I have following code :</p>\n\n<pre><code> .and()\n .authorizeRequests()\n .antMatchers(\"/actuator/**\", \"/administration/**\")\n .hasAuthority(Authority.ADMIN.name())\n</code></pre>\n\n<p>This does not seem to work, <strong>desired outcome is that only User with a  authority of admin</strong>, can access these endpoints, right now, any authenticated user can do it. I did it with user that has authority of USER and not admin and it works.</p>\n\n<p>This is too dangerous for me And i dont want to put password protection in place when this can be managed by Authorities.</p>\n\n<blockquote>\n  <p><strong>So how can i make sure that only users with Authority of ADMIN can access the following endpoints ?</strong></p>\n</blockquote>\n\n<p>I have posted only this small snipped of code , tell me if anything else is required in order for you to be able to help :).</p>\n\n<p>And yes I have debugged this and authorities in my process are set correctly, admin has auth admin and it works for both basic auth and oauth2. Anyone knows what could be happening?</p>\n\n<p>Only person that is not logged in at all cant access these endpoints at the moment, Here is my full security config :</p>\n\n<pre><code>        // @formatter:off\n    httpSecurity\n            .authorizeRequests()\n            .antMatchers(\n                    Utils.MAPPING_INDEX,\n                    Utils.MAPPING_ARTICLE,\n                    Utils.MAPPING_IMAGE,\n                    Utils.MAPPING_ERROR,\n                    Utils.MAPPING_VERIFY_MAIL,\n                    Utils.MAPPING_REGISTER,\n                    Utils.MAPPING_LOGIN,\n                    Utils.MAPPING_LOGIN_ERROR,\n                    Utils.MAPPING_LOGIN_VERIFIED,\n                    Utils.MAPPING_LOGIN_VERIFICATION_ERROR,\n                    Utils.MAPPING_RESET_PASSWORD,\n                    Utils.MAPPING_LOGIN_PASSWORD_RESET_SUCCESS,\n                    Utils.MAPPING_LOGIN_PASSWORD_RESET_LOCKED,\n                    Utils.MAPPING_RESET_PASSWORD_RESET_MAIL_SEND,\n                    Utils.MAPPING_LOGIN_PASSWORD_RESET_FAILURE,\n                    Utils.MAPPING_INDEX_LOGOUT_SUCCESS,\n                    Utils.MAPPING_REGISTER_SUCCESS,\n                    Utils.MAPPING_REGISTER,\n                    Utils.MAPPING_RESET_PASSWORD,\n                    Utils.MAPPING_RESET_PASSWORD_NEW_PASSWORD,\n                    Utils.MAPPING_AUTHOR,\n                    Utils.MAPPING_CONTACT,\n                    Utils.MAPPING_CONTACT_SUCCESS,\n                    Utils.MAPPING_CONTACT_FAILURE,\n                    Utils.MAPPING_REPORT_WORKAROUND,\n                    \"/test\",\n                    \"/test1\",\n                    \"/frag1\",\n                    \"/frag2\",\n                    \"/css/**\",\n                    \"/js/**\",\n                    \"/img/**\",\n                    \"/fonts/**\",\n                    \"/external/**\",\n                    \"/favicon.ico\",\n                    \"/favicon_32.ico\",\n                    \"/favicon.svg\"\n            ).permitAll()\n            .anyRequest().authenticated()\n\n            .and()\n            .authorizeRequests()\n            .antMatchers(\"/actuator/**\", \"/administration/**\")\n            .hasAuthority(Authority.ADMIN.name())\n\n\n            .and()\n\n            .formLogin()\n            .loginPage(Utils.MAPPING_LOGIN)\n            .loginProcessingUrl(Utils.MAPPING_LOGIN)\n            .usernameParameter(\"email\")\n            .passwordParameter(\"password\")\n            .successHandler(basicAuthenticationSuccessHandlerImpl)\n            .failureUrl(Utils.MAPPING_LOGIN_ERROR)\n\n            .and()\n\n            .logout()\n            .logoutUrl(Utils.MAPPING_INDEX)\n            .logoutSuccessUrl(Utils.MAPPING_INDEX_LOGOUT_SUCCESS)\n            .invalidateHttpSession(true)\n\n            .and()\n\n            .oauth2Login()\n            .loginPage(Utils.MAPPING_LOGIN)\n            .successHandler(oauth2AuthenticationSuccessHandler);\n\n    // @formatter:on\n}\n</code></pre>\n"},{"comments":[{"comment_id":88758414,"body":"Sanity check: component scan on?"},{"comment_id":88758751,"body":"Yeah, checked it. See the answer by me below. I&#39;m actually just stupid."}],"answers":[{"answer_id":50878256,"body":"<p>After posting the question I found the answer almost immediately. It was a combination of typos in the config and the fact that it's actually <strong>not exposed by default</strong>. Despite <a href=\"https://spring.io/blog/2017/08/22/introducing-actuator-endpoints-in-spring-boot-2-0#configuration\" rel=\"noreferrer\">the official post saying</a>: </p>\n\n<blockquote>\n  <p>To configure an endpoint, all that’s required really is to expose it as a @Bean</p>\n</blockquote>\n\n<p>These are the proper ways to define the property:</p>\n\n<pre><code>management.endpoints.web.exposure.include=*\nmanagement.endpoints.web.exposure.include='health,info,metrics,hello'\n</code></pre>\n\n<p>Or as a YAML:</p>\n\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: 'health,info,metrics,hello'\n</code></pre>\n\n<p>Here is the official reference: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-endpoints-exposing-endpoints\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-endpoints-exposing-endpoints</a></p>\n\n<p>Interesting, that you can't use underscores in endpoint names anymore. At least without additional changes.</p>\n"}],"last_activity_date":1684829048,"question_id":50877746,"body":"<p>I'm trying to add a custom actuator endpoint in Spring Boot 2.0.2.RELEASE application.\nI'm following <a href=\"https://spring.io/blog/2017/08/22/introducing-actuator-endpoints-in-spring-boot-2-0\" rel=\"nofollow noreferrer\">the official guidelines</a>, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Migrating-a-custom-Actuator-endpoint-to-Spring-Boot-2\" rel=\"nofollow noreferrer\">the official migration guide</a> and also <a href=\"http://www.baeldung.com/spring-boot-actuators\" rel=\"nofollow noreferrer\">this post</a>.</p>\n\n<p>I am able to configure everything via properties: hide/expose endpoints, change base path etc. Everything works, except my custom endpoint bean is not picked up by <code>WebMvcEndpointHandlerMapping</code>. It simply doesn't show up in these famous logging lines:</p>\n\n<pre><code>EndpointLinksResolver        : Exposing 2 endpoint(s) beneath base path '/actuator'\nWebMvcEndpointHandlerMapping : Mapped \"{[/actuator/health],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map&lt;java.lang.String, java.lang.String&gt;)\nWebMvcEndpointHandlerMapping : Mapped \"{[/actuator/info],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto public java.lang.Object org.springframework.boot.actuate.endpoint.web.servlet.AbstractWebMvcEndpointHandlerMapping$OperationHandler.handle(javax.servlet.http.HttpServletRequest,java.util.Map&lt;java.lang.String, java.lang.String&gt;)\nWebMvcEndpointHandlerMapping : Mapped \"{[/actuator],methods=[GET],produces=[application/vnd.spring-boot.actuator.v2+json || application/json]}\" onto protected java.util.Map&lt;java.lang.String, java.util.Map&lt;java.lang.String, org.springframework.boot.actuate.endpoint.web.Link&gt;&gt; org.springframework.boot.actuate.endpoint.web.servlet.WebMvcEndpointHandlerMapping.links(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)\n</code></pre>\n\n<p>These three lines is all I get. I can access <code>/actuator/health</code> and <code>/actuator/info</code> without any trouble, but not my custom endpoint. I get 404 obviously.</p>\n\n<p>What I tried so far:</p>\n\n<ul>\n<li>Checked that my endpoint class is registered in the context as a bean.</li>\n<li>Exposed it explicitly via yaml configuration.</li>\n<li>Exposed everything via <code>management.endpoints.web.exposure.include=*</code></li>\n<li>Removed all the management configuration completely, because it should be actually available by default.</li>\n<li>Triple checked the endpoint id.</li>\n<li>Renamed the endpoint id.</li>\n</ul>\n\n<p>Any ideas of what I can at least look into? All the questions I found so far end up in person not realizing they need <code>@Component</code> annotation too.</p>\n\n<p>Ah, here is my class by the way:</p>\n\n<pre><code>@Component\n@Endpoint(id = \"hello\")\npublic class HelloEndpoint {\n\n    @ReadOperation\n    public String sayHello() {\n        return \"Hello!\";\n    }\n}\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":85778019,"body":"Alas, adding &quot;/aname&quot;, &quot;?name=aname&quot; to the URL, or removing the @Selector reference entirely had no effect."},{"comment_id":85779706,"body":"I updated to answer your updated question with a reference to the documentation where it is stated that is should be a bean."}],"answer_id":49388154,"body":"<p>The initial partly problem was that the code did not add an endpoint with no \"selector\"</p>\n\n<p><a href=\"https://spring.io/blog/2017/08/22/introducing-actuator-endpoints-in-spring-boot-2-0\" rel=\"nofollow noreferrer\">Source</a></p>\n\n<pre><code>@Endpoint(id = \"loggers\")\n@Component\npublic class LoggersEndpoint {\n\n    @ReadOperation\n    public Map&lt;String, Object&gt; loggers() { ... }\n\n    @ReadOperation\n    public LoggerLevels loggerLevels(@Selector String name) { ... }\n\n    @WriteOperation\n    public void configureLogLevel(@Selector String name, LogLevel configuredLevel) { ... }\n\n}\n</code></pre>\n\n<blockquote>\n  <p>This endpoint exposes three operations:</p>\n  \n  <p>GET on /application/loggers: the configuration of all loggers (as it\n  has no \"selector\" parameter):</p>\n  \n  <p>GET on /application/loggers/{name}: the configuration of a named\n  logger (using the name @Selector).</p>\n  \n  <p>...</p>\n</blockquote>\n\n<p>The edited question led to the conclusion <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#production-ready-endpoints-custom\" rel=\"nofollow noreferrer\">that it should be a bean</a> </p>\n\n<blockquote>\n  <p>If you add a @Bean annotated with @Endpoint, any methods annotated\n  with @ReadOperation, @WriteOperation, or @DeleteOperation are\n  automatically exposed over JMX and, in a web application, over HTTP as\n  well. Endpoints can be exposed over HTTP using Jersey, Spring MVC, or\n  Spring WebFlux.</p>\n</blockquote>\n\n<p>Or see <a href=\"https://spring.io/blog/2017/08/22/introducing-actuator-endpoints-in-spring-boot-2-0#comment-3481606304\" rel=\"nofollow noreferrer\">comments in the announcement of the feature</a></p>\n"},{"answer_id":49388589,"body":"<p>OK, solved:</p>\n\n<pre><code>    @Endpoint(id=\"mypoint\")\n    @Component\n    public class myPointEndPoint {\n        @ReadOperation\n        public String mypoint(){\n            return \"Hello\" ;\n        }\n    }\n</code></pre>\n\n<p>What was missing was the \"@Component\" annotation. But, where is this in the docs?</p>\n"},{"answer_id":51269469,"body":"<p>Maybe this will help somebody.</p>\n\n<p>Looks like <code>@ReadOperation</code> doesn't support return type <code>Void</code>. You should return at least an empty string on your <code>invoke</code> method. </p>\n\n<p>spring-boot 2.0.3.RELEASE</p>\n\n<pre><code>@Component\n@Endpoint(id = \"heartbeat\")\npublic class HeartbeatEndpoint {\n\n    @ReadOperation\n    public String invoke() {\n        return \"\";\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684828976,"question_id":49387867,"body":"<p>Spring Noob: OK. I start with a STS Spring Starter Project / Maven / Java 8 / Spring Boot 2.0, and select the Web and Actuator dependencies. It builds and runs fine, and reponds to <a href=\"http://localhost:8080/actuator/health\" rel=\"noreferrer\">http://localhost:8080/actuator/health</a>. I add an \"Endpoint\" to the main application class, so that it looks like this.</p>\n\n<pre><code>package com.thumbsup;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.actuate.endpoint.annotation.Endpoint;\nimport org.springframework.boot.actuate.endpoint.annotation.ReadOperation;\nimport org.springframework.boot.actuate.endpoint.annotation.Selector;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class YourStash11Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(YourStash11Application.class, args);\n    }\n\n    @Endpoint(id=\"mypoint\")\n    public class CustomPoint {\n        @ReadOperation\n        public String getHello(){\n            return \"Hello\" ;\n        }\n    }\n\n}\n</code></pre>\n\n<p>I try to enable everything in application.properties:</p>\n\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoint.conditions.enabled=true\nmanagement.endpoint.mypoint.enabled=true\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n\n<p>But when it builds, there's no reference to mapping /actuator/mypoint, and<br>\n<a href=\"http://localhost:8080/actuator/mypoint\" rel=\"noreferrer\">http://localhost:8080/actuator/mypoint</a> and<br>\n<a href=\"http://localhost:8080/application/mypoint\" rel=\"noreferrer\">http://localhost:8080/application/mypoint</a><br>\nboth return 404 errors.</p>\n\n<p>What am I missing? Thanks!</p>\n"},{"comments":[{"comment_id":85348490,"body":"Auto configured health indicators check the database, jmx etc. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"},{"comment_id":85349206,"body":"So you cannot know when the application context has been fully initialized?"},{"comment_id":85349666,"body":"it is mainly for endpoints and databases. If you want to check for application context initialization, you can write the listener to check that."},{"comment_id":85394043,"body":"ok, thanks! there is a &quot;status&quot; attribut on the top level, though. This must be application wide - and I am wondering what it tells us?  {   &quot;status&quot; : &quot;UP&quot;, ....."}],"answers":[{"comments":[{"comment_id":85398610,"body":"Thanks! Please allow to ask what the top-level &quot;status:UP&quot; is for? Is it an aggregated status of all resources maybe? I could not find any documentation on this. Well, I will actually test if that&#39;s the case."},{"comment_id":85398671,"body":"Yes, it is the aggregated result."},{"comment_id":85399388,"body":"Thanks - very helpful! Still unsure how a Spring actuator can report things before the Spring application context is running. The application context should not be considered a resource itself probably. I was going to add a health indicator to my RestController, but since it is just a Spring bean, it can only be UP as long as the Spring application is running. Should one add a health check for a Spring bean after all?"},{"comment_id":85399508,"body":"Yes, I thought about it. In that case, actuator should run separately. You can use the properties to configure the server. management.server.port: 8080 management.server.address: localhost"}],"answer_id":49195646,"body":"<p>In order to test whether the application context is loaded, you can perform this custom implementation.</p>\n\n<p><code>@EventListener</code> - The method annotated with EventListener is triggered when the context is initialized.</p>\n\n<p>In the below code, I have incremented the counter on successful initialization. When you hit the actuator health endpoint, you will get the status as UP.</p>\n\n<p><strong>Sample implementation for context initialization health check:-</strong></p>\n\n<pre><code>@Component\npublic class ApplicationContextHealthIndicator implements HealthIndicator {\n\n    private final Logger LOG = Logger.getLogger(getClass().getName());\n\n    public static int counter;\n\n    @EventListener\n    public void onApplicationEvent(ContextRefreshedEvent event) {\n        LOG.info(\"Increment counter :\" + counter);\n        counter++;\n    }\n\n    @Override\n    public Health health() {\n        if (counter == 0) {\n            return Health.down().withDetail(\"Error Code\", 500).build();\n        }\n        return Health.up().build();\n    }\n}\n</code></pre>\n\n<p><strong>Endpoint Spring boot version 5:-</strong></p>\n\n<blockquote>\n  <p><a href=\"http://localhost:8080/actuator/health\" rel=\"nofollow noreferrer\">http://localhost:8080/actuator/health</a></p>\n</blockquote>\n\n<p>Spring actuator can check the database, web service endpoints, email server etc. It can provide the status for all these resources which are part of the application.</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html#_auto_configured_healthindicators\" rel=\"nofollow noreferrer\">Some default health indicators available</a></p>\n"}],"last_activity_date":1684828788,"question_id":49169614,"body":"<p>I cannot find any documentation on when Springs Health Actuator will return the UP status. Can you rely on all <em><code>@Components</code></em> being initialized? Will a <em><code>@Controller</code></em> be ready to serve requests?</p>\n"},{"comments":[{"comment_id":134568856,"body":"can you please provide complete stacktrace looking some permissions issue"},{"comment_id":134569365,"body":"Your jdbc url is for a docker service not for running locally. So it probably fails to connect to the database."}],"answers":[{"answer_id":76312471,"body":"<p>like M. Deinum suggest it you problably got this error due of a wrong jdbc url inside your application.properties. To solve that add mysql in your container (by adding an image of mysql inside your Dockerfile) or create an another container with mysql (with this second solution you have to modify jdbc url)</p>\n"}],"last_activity_date":1684828752,"question_id":76311639,"body":"<p>Spring boot build failure when using docker configurations of mysql databases</p>\n<p><strong>Application.properties</strong></p>\n<pre><code>`spring.datasource.url=jdbc:mysql://mysqldb:3306/employeedb?useSSL=false\n spring.datasource.username=sa\n spring.datasource.password=1234\n spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect\n spring.jpa.hibernate.ddl-auto=update\n spring.jpa.show-sql=true`\n</code></pre>\n<p><strong>Dockerfile</strong></p>\n<pre><code>`FROM openjdk:8\n ADD target/demo-0.0.1-SNAPSHOT.jar demo-0.0.1-SNAPSHOT.jar\n EXPOSE 8080\n ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;demo-0.0.1-SNAPSHOT.jar&quot;]`\n</code></pre>\n<p>I am very new to docker and I am trying to dockerize my spring boot application which is using Mysql database, I have been following a tutorial, but when i am running mvn clean install to build the jar file, it is giving this error</p>\n<p><strong>Error</strong></p>\n<pre><code>```Error starting ApplicationContext. To display the conditions \n report re-run your application with 'debug' enabled.\n 2023-05-22 16:33:55.304 ERROR 6245 --- [           main] \n o.s.boot.SpringApplication               : Application run \n failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.26.jar:5.3.26]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.26.jar:5.3.26]\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.26.jar:5.3.26]\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.26.jar:5.3.26]\n</code></pre>\n"},{"answers":[{"answer_id":61745055,"body":"<p>Have a look at <a href=\"https://docs.spring.io/spring-boot/docs/current/actuator-api/html/#http-trace\" rel=\"nofollow noreferrer\">Spring Boot Actuator - HttpTrace</a></p>\n\n<p>It's not enabled in the latest versions by default but you can do so by implementing <code>HttpTraceRepository</code>.</p>\n\n<p>In this repository you can use a counter to measure the number of requests, then add it to the MetricRegistry. Another option would be to use a filter and then use a counter there.</p>\n"},{"answer_id":61745067,"body":"<p>A <code>spring-actuator</code> example:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>//add pom\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n\n<p>using the actuator</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityWebFilterChain securityWebFilterChain(\n  ServerHttpSecurity http) {\n    return http.authorizeExchange()\n      .pathMatchers(\"/actuator/**\").permitAll()\n      .anyExchange().authenticated()\n      .and().build();\n}\n</code></pre>\n\n<p>Then you can get the data from <a href=\"http://localhost:8080/metrics\" rel=\"nofollow noreferrer\">http://localhost:8080/metrics</a> </p>\n\n<p>check more from the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-features.html#production-ready-enabling\" rel=\"nofollow noreferrer\">official documentation</a></p>\n"}],"last_activity_date":1684828678,"question_id":61744960,"body":"<p>I have a spring boot application whose metrics I want to later send to gcp. But for now I just need to find a way to count the total number of requests my application is handling either with <code>actuator</code> or with <code>micrometer</code>. Does anybody know how I could do something like this? Thanks In advance </p>\n"},{"answers":[{"answer_id":65579506,"body":"<p>I suppose you are talking about <code>/actuator/httptrace</code>.  Spring boot doesn't publish request and response payload by default. Also you need to provide implementation of &quot;InMemoryHttpTraceRepository&quot; bean to expose custom information for tracing. <a href=\"https://developer.okta.com/blog/2019/07/17/monitoring-with-actuator\" rel=\"nofollow noreferrer\">This</a> blog could be helpful.</p>\n"}],"last_activity_date":1684828620,"question_id":65349051,"body":"<p>I'd like to view the response body in Spring Boot Actuator. I have tried couple of tutorials I found but none is working. The most concrete answer I found was using WebRequestTraceFilter which is no longer supported in Spring Boot 2.X.</p>\n<p>Alternatively, if there's any tool like Laravel Telescope for Spring Boot would be great. I'm already using Spring Boot Admin and it's great except for the response body part.</p>\n"},{"comments":[{"comment_id":134568569,"body":"vintage-store is still using quarkus 2.x branch as opposite as other projects using Quarkus 3. Mistery solved."},{"comment_id":134568811,"body":"@LucaBassoRicci why not add that as an answer? That way future readers can know immediately what the fix is instead of reading through comments."},{"comment_id":134569925,"body":"@geoand you&#39;re right, done :)"}],"answers":[{"answer_id":76312312,"body":"<p>As @geoand pointed out of me I'm moving my comment as answer for future readers.</p>\n<p><code>vintage-store</code> is still using Quarkus 2.x branch as opposite as other projects are using Quarkus 3.</p>\n"}],"last_activity_date":1684828618,"question_id":76309856,"body":"<p>This is my Publisher object:</p>\n<pre><code>\nimport io.quarkus.hibernate.orm.panache.PanacheEntity;\n\nimport jakarta.persistence.Entity;\nimport java.time.Instant;\n\n@Entity\npublic class Publisher extends PanacheEntity {\n\n    // ======================================\n    // =             Attributes             =\n    // ======================================\n\n    public String name;\n\n    public Instant createdDate = Instant.now();\n\n    // ======================================\n    // =           Constructors             =\n    // ======================================\n\n    public Publisher(String name) {\n        this.name = name;\n    }\n\n    public Publisher() {\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Publisher{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, createdDate=&quot; + createdDate +\n                &quot;, id=&quot; + id +\n                '}';\n    }\n}\n</code></pre>\n<p>This is my test:</p>\n<pre><code>\nimport io.quarkus.test.TestTransaction;\nimport io.quarkus.test.junit.QuarkusTest;\nimport org.agoncal.quarkus.panache.model.Publisher;\nimport org.junit.jupiter.api.Test;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\n@QuarkusTest\npublic class PublisherRepositoryTest {\n    @Test\n    @TestTransaction\n    public void shouldCreateAndFindPublisher() {\n        Publisher publisher = new Publisher(&quot;name&quot;);\n\n        publisher.persist(publisher);\n        assertNotNull(publisher.id);\n\n        publisher = publisher.findById(publisher.id);\n        assertEquals(&quot;name&quot;, publisher.name);\n\n    }\n\n}\n</code></pre>\n<p>This is the error when doing a <code>mvn clean install</code>:</p>\n<pre><code>-------------------------------------------------------------------------------\nTest set: org.agoncal.quarkus.panache.repository.PublisherRepositoryTest\n-------------------------------------------------------------------------------\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 3.755 s &lt;&lt;&lt; FAILURE! - in org.agoncal.quarkus.panache.repository.PublisherRepositoryTest\norg.agoncal.quarkus.panache.repository.PublisherRepositoryTest.shouldCreateAndFindPublisher  Time elapsed: 0.002 s  &lt;&lt;&lt; ERROR!\njava.lang.RuntimeException: java.lang.NoClassDefFoundError: javax/inject/Provider\nCaused by: java.lang.NoClassDefFoundError: javax/inject/Provider\nCaused by: java.lang.ClassNotFoundException: javax.inject.Provider\n</code></pre>\n<p>I think the error is quite weird, because I do not use javax in my code...</p>\n"},{"comments":[{"comment_id":116768040,"body":"I have no idea what you&#39;re trying to ask here. subject talks about logs but I see no logs in this question whatsoever."},{"comment_id":116773274,"body":"Thanks for you comment. Spring Boot Actuator is recording the request within it&#39;s metrics."},{"comment_id":116774989,"body":"yes, but that&#39;s not related to logging. So you&#39;re worried about naming in metrics? also, are you sure if <a href=\"https://github.com/prometheus/client_java\" rel=\"nofollow noreferrer\">simpleclient_spring_boot</a> is recording the metrics and not spring? and what does your options controller look like?"},{"comment_id":116775097,"body":"if your OPTIONS requests go to unmapped metrics, are they even mapped to any controller..."},{"comment_id":116803903,"body":"The OPTIONS requests are not mapped by me. I&#39;m using the default Spring Mapping for this request."}],"answers":[{"answer_id":66043022,"body":"<p>Seems that updating Spring Boot to 1.5.22.RELEASE</p>\n<p>results in an output for OPTIONS requests like this:</p>\n<pre><code># HELP counter_status_200_unmapped counter_status_200_unmapped\n# TYPE counter_status_200_unmapped gauge\ncounter_status_200_unmapped 5.0\n</code></pre>\n<p>It's not perfect but alle OPTIONS requests are collected into one metric and not each one in a seperate one.</p>\n"}],"last_activity_date":1684828604,"question_id":66025939,"body":"<p>we are unsing Spring Boot 1.5.9 and we do provide metrics for Prometheus.</p>\n<p>When we do receive OPTIONS requests the path parameter is not replaced. For GET Requests the parameter is replaced. The controller looks like this:</p>\n<pre><code>@Slf4j\n@RequestMapping(method = { RequestMethod.GET }, path = &quot;/claims/{token}&quot;)\n@RestController\npublic class ClaimDetailController {\n\n    @GetMapping(value = &quot;&quot;, produces = MediaType.APPLICATION_JSON_UTF8_VALUE, params = &quot;token&quot;)\n    public ResponseEntity getDetail(@PathVariable(value = &quot;token&quot;) final String token) {\n      ...\n    }\n}\n\n</code></pre>\n<p>When calling actuator with endpoint &quot;/prometheus&quot; we get:</p>\n<pre><code># HELP gauge_response_claims_clgrRFhIRlNDV3pJTXhXRG40dWlPWURrVTJnMU1nPT0 gauge_response_claims_clgrRFhIRlNDV3pJTXhXRG40dWlPWURrVTJnMU1nPT0\n# TYPE gauge_response_claims_clgrRFhIRlNDV3pJTXhXRG40dWlPWURrVTJnMU1nPT0 gauge\ngauge_response_claims_clgrRFhIRlNDV3pJTXhXRG40dWlPWURrVTJnMU1nPT0 5.0\n# HELP gauge_response_claims_token gauge_response_claims_token\n# TYPE gauge_response_claims_token gauge\ngauge_response_claims_token 1502.0\n</code></pre>\n<p>The first one is from the OPTIONS request. The second one from the GET request.</p>\n<p>So why is the token from the OPTIONS request not replaced? Can this be achived?\nIf not - is it possible to remove OPTIONS requests from the metrics?</p>\n<p>And this is the /metrics output:</p>\n<blockquote>\n<p>counter.status.200.claims.clgrRFhIRlNDV3pJTXhXRG40dWlPWURrVTJnMU1nPT0  2\ncounter.status.200.cloudfoundryapplication 4</p>\n</blockquote>\n<p>Here are some dependencies used by us:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-cloudfoundry-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-spring-legacy&lt;/artifactId&gt;\n    &lt;version&gt;1.3.16&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n    &lt;artifactId&gt;simpleclient_spring_boot&lt;/artifactId&gt;\n    &lt;version&gt;0.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n    &lt;artifactId&gt;simpleclient_servlet&lt;/artifactId&gt;\n    &lt;version&gt;0.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n    &lt;artifactId&gt;simpleclient_hotspot&lt;/artifactId&gt;\n    &lt;version&gt;0.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"comment_id":117194785,"body":"Please check next few points: 1. if there is <code>management.server.port</code> configuration value in properties? It will change the port where actuator is accessible 2. Logs of application upon call - to see if there are no errors 3. On startup of application please check log line <code>Exposing 14 endpoint(s) beneath base path &#39;&#47;actuator&#39;</code> - to double-check that such endpoints are actually exposed. Hope this helps to identify the root cause"},{"comment_id":117195032,"body":"@Daniel Thanks for your prompt response, on startup I could not see Exposing 14 endpoint(s) beneath base path &#39;/actuator&#39;. I just edited the post and added logs as well."},{"comment_id":117197261,"body":"Can you see the actuator in external libraries? Maybe somehow it isn&#39;t added correctly @VivekJain"},{"comment_id":117198293,"body":"<a href=\"https://stackoverflow.com/users/3079891/dextertron\">dextertron</a> I verified , it&#39;s available in class path."}],"answers":[{"answer_id":67152685,"body":"<p>Spring Boot Actuators endpoints could not be picked-up if running within IDE(IntelliJ or Eclipse).</p>\n<p>I tried to run jar using below command(outside of IDE) on cmd and it worked for me.</p>\n<p><code>c:\\workspace\\demo\\target\\java -jar demo-spring-boot-project.jar</code></p>\n<p>And I was able to access below URL</p>\n<p>http://localhost:8090/actuator/health</p>\n"},{"answer_id":69152038,"body":"<p>Encountered this too while running the app through InteliJ IDEA.\nIt turns out I added the spring-boot-starter-actuator dependency but did not tell Maven to reload the project.</p>\n<p>Right clicking on the pom.xml file and selecting Maven-&gt;Reload project, solved it.</p>\n<p>*In this case I see the jar file exists in your classpath, so your problem is different than mine.\nLeaving this comment so it might help someone else.</p>\n"},{"answer_id":69610031,"body":"<p>I have encountered the same issue while running the project through IntelliJ IDE.\nI resolved after doing <code>Invalidate Cache &amp; Restart</code> in IntelliJ IDE.</p>\n<p>Go to <code>File</code> -&gt; ``Invalidate Cache`.</p>\n<p>The Invalidate cache dialog box appears. One can select accordingly to their project.</p>\n"}],"last_activity_date":1684828568,"question_id":66289094,"body":"<p>Spring Boot <strong>Actuator</strong> is not working for rest-full application, getting Whitelabel Error Page on browser and below error in console log.</p>\n<pre><code>org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health\n</code></pre>\n<p>Added below maven dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I cross checked, jar file available in class path.<a href=\"https://i.stack.imgur.com/IHCDC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IHCDC.png\" alt=\"enter image description here\" /></a></p>\n<p>Spring boot application version</p>\n<pre><code>&lt;version&gt;2.4.1&lt;/version&gt;\n</code></pre>\n<p>Added properties in application.properties file</p>\n<pre><code>management.endpoints.enabled-by-default=true\nmanagement.endpoint.info.enabled=true\nmanagement.security.enabled=false\nmanagement.endpoints.web.exposure.include=*\nspring.mvc.throw-exception-if-no-handler-found=true\n</code></pre>\n<p>Unable to access Actuator with below URL's</p>\n<pre><code>http://localhost:8090/actuator/health\nhttp://localhost:8090/actuator/\nhttp://localhost:8090/health/\n</code></pre>\n<p>Logs</p>\n<pre><code>WARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No mapping for GET /actuator/health\nWARN IN-WKS-435 [nio-8090-exec-1] o.s.w.s.PageNotFound                     : No handler found for GET /actuator/health\nWARN IN-WKS-435 [nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /actuator/health]\n</code></pre>\n<p>Note: Apart from this, whole application is working fine.</p>\n<p>Kindly suggest if I need to add any additional configuration in our application.</p>\n"},{"comments":[{"comment_id":126926673,"body":"did you ever get this to work? have been asked to make reloadable configs happen with Springboot and have tried everything seemingly"}],"last_activity_date":1684828546,"question_id":67091134,"body":"<p>i am trying to refresh a refresh scope bean using actuator.The class that needs to be refreshed:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;push-sync&quot;)\n@RefreshScope\npublic class PushSyncProperties {\n\n    private boolean available = true;\n    private int maxSyncThreads = 5;\n    private int maxRequestsPerSecond = 5;\n    private int maxRetries = 10;\n    private long initialRetryDelay = 7 * 1000L;\n    private long maxRetryDelay = 8 * 60 * 60 * 1000L;\n    private int retryBackOffMultiplier = 3;\n    private long dbCheckInterval = 10 * 1000L;\n\n    @PostConstruct\n    public void refresh()\n    {\n        log.info(&quot;Application Refreshed!&quot;);\n        log.info(String.valueOf(maxSyncThreads));\n    } \n</code></pre>\n<p>part of the pom</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n<p>and the main class</p>\n<pre><code>@EnableConfigurationProperties({PushSyncProperties.class})\n@EnableScheduling\n@PropertySource(&quot;file:${push.sync.config}&quot;)\n@SpringBootApplication\npublic class Application extends SpringBootServletInitializer {\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        String pushSyncConfigPath = SystemProperties.get(&quot;push.sync.config&quot;);\n        return application.sources(Application.class)\n                .properties(\n                        &quot;spring.config.location:classpath:/application.yml, &quot; + pushSyncConfigPath\n                );\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>however, whenever changing a property from that specific file that maps my property class, the postConstruct function is called, but the value is never updated. Any idea why?</p>\n"},{"comments":[{"comment_id":119434339,"body":"We can&#39;t help without any knowledge on how &quot;Base Service Servlet&quot; disable the GET."},{"comment_id":119456619,"body":"Thanks, I have updated the description with these details."},{"comment_id":119467425,"body":"This is much better, and can you include more details for &quot;Base Service Servlet&quot;, how do you configure it with springboot, such that we can reproduce the problem."},{"comment_id":119468822,"body":"More details added to reproduce the problem"}],"answers":[{"answer_id":67596723,"body":"<p>We can register <code>DispatcherServlet</code> with health endpoint in mapping before the <code>ServiceServlet</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ServletInitializer extends SpringBootServletInitializer implements ServletContextInitializer {\n    @Autowired\n    private DispatcherServlet dispatcherServlet;\n\n    @Override\n    public void onStartup(ServletContext container) throws ServletException {\n        ServletRegistration.Dynamic dispatcher =\n                container.addServlet(&quot;dispatcher&quot;, dispatcherServlet);\n        dispatcher.setLoadOnStartup(1);\n        dispatcher.addMapping(&quot;/manage&quot;, &quot;/manage/health&quot;);\n\n        ServletRegistration.Dynamic application = container\n                .addServlet(&quot;ServiceServlet&quot;, new ServiceServlet());\n        application.setLoadOnStartup(2);\n        application.addMapping(&quot;/*&quot;);\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684828496,"question_id":67567665,"body":"<p>We are Attempting to Migrate Our Existing Spring WebServices App to SpringBoot and ran into an issue for which we seek your advice.</p>\n<p>We have a Base Service Servlet that disables the GET on the port that the App is deployed on for Security reasons this servlet returns 501 Unimplemented Response as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        log.warn(&quot;GET request received!&quot;);\n        response.setStatus(HttpServletResponse.SC_NOT_IMPLEMENTED);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseServiceServlet extends HttpServlet {\n ...\n } \n  \n public class ServiceServlet extends BaseServiceServlet {\n ...\n } \n  \n  \n  public class ServletInitializer extends SpringBootServletInitializer implements ServletContextInitializer { \n  @Override\n    public void onStartup(ServletContext container) throws ServletException {\n         \n      ServletRegistration.Dynamic application = container\n                .addServlet(&quot;ServiceServlet&quot;, new ServiceServlet()); \n      application.setLoadOnStartup(2);\n      application.addMapping(&quot;/*&quot;);\n        \n    }\n }\n</code></pre>\n<p>Previously we had an old-fashioned HealthCheck JSP that we implemented. With the move to SpringBoot we are now using the SpringBoot Actuator.</p>\n<p>But we find that if we set the Actuator health monitor port to the same one as the App when we try to monitor the health we get the 501 Unimplemented response.</p>\n<p>Config is as follows:</p>\n<pre><code># Spring-Boot Embedded Tomcat Config\nserver.port=8080\nserver.connection-timeout=10s\nserver.ssl.enabled=false\n## Springboot based health monitor\nmanagement.endpoints.enabled-by-default=true\nmanagement.endpoint.health.enabled=true\nmanagement.endpoint.loggers.enabled=true\nmanagement.endpoints.web.cors.allowed-methods=GET\nmanagement.endpoint.beans.cache.time-to-live=20s\nmanagement.endpoints.web.base-path=/manage\nmanagement.server.port=8080\nmanagement.security.enabled=false \n</code></pre>\n<p>One way we could get around this problem is if we changed the actuator health check port to something else that Works.</p>\n<p>Question:\nHow can we set the Actuator port to be the same as the App and make the actuator health check url which is something like http://localhost:8080/manage/health not return 501 Unimplemented from the Base Service Servlet ?</p>\n"},{"comments":[{"comment_id":92712583,"body":"I feel your pain."}],"answers":[{"comments":[{"comment_id":98860494,"body":"There&#39;s no need to copy the entire implementation, because you can use composition. Just check for the <code>null</code> string first and then delegate to <code>StringDeserializer.instance.deserialize(...);</code>."}],"answer_id":17041542,"body":"<p>Ok, it worked by overriding the standard String deserializer. Unfortunately I had to copy the complete implementation over because <code>org/codehaus/jackson/map/deser/std/StringDeserializer.java</code> is final and cannot be extended.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class FixesModule extends SimpleModule {\n\n    public FixesModule() {\n        super();\n        addDeserializer(String.class, new CustomStringDeserializer());\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomStringDeserializer extends StdScalarDeserializer&lt;String&gt; {\n\n    private static final String NULL_STRING = \"null\";\n\n    public CustomStringDeserializer() {\n        super(String.class);\n    }\n\n    @Override\n    public String deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException {\n        JsonToken curr = jp.getCurrentToken();\n        // Usually should just get string value:\n        if (curr == JsonToken.VALUE_STRING) {\n            // BEGIN NULL_STRING fix\n            if (NULL_STRING.equals(jp.getText())) {\n                return null;\n            }\n            // END NULL_STRING fix\n            return jp.getText();\n        }\n        // [JACKSON-330]: need to gracefully handle byte[] data, as base64\n        if (curr == JsonToken.VALUE_EMBEDDED_OBJECT) {\n            Object ob = jp.getEmbeddedObject();\n            if (ob == null) {\n                return null;\n            }\n            if (ob instanceof byte[]) {\n                return Base64Variants.getDefaultVariant().encode((byte[]) ob, false);\n            }\n            // otherwise, try conversion using toString()...\n            return ob.toString();\n        }\n        // Can deserialize any scalar value, but not markers\n        if (curr.isScalarValue()) {\n            return jp.getText();\n        }\n        throw ctxt.mappingException(_valueClass, curr);\n    }\n\n    // 1.6: since we can never have type info (\"natural type\"; String, Boolean,\n    // Integer, Double):\n    // (is it an error to even call this version?)\n    @Override\n    public String deserializeWithType(JsonParser jp, DeserializationContext ctxt, TypeDeserializer typeDeserializer)\n            throws IOException, JsonProcessingException {\n        return deserialize(jp, ctxt);\n    }\n}\n</code></pre>\n"},{"answer_id":76312432,"body":"<p>due to StringDeserializer is Final, we can use another way to process String</p>\n<p>use  <code>StringDeserializer.instance.deserialize()</code></p>\n<p>here the simple to override string deserializer, and parse null as empty string</p>\n<pre><code>public class NullStringDeserializer extends JsonDeserializer&lt;String&gt; {\n\n@Override\npublic String deserialize(final JsonParser jsonParser, final DeserializationContext deserializationContext) throws IOException, JsonProcessingException {\n    String s = StringDeserializer.instance.deserialize(jsonParser, deserializationContext);\n    return s == null ? &quot;&quot; : s;\n}\n</code></pre>\n<p>}</p>\n"}],"last_activity_date":1684828480,"question_id":17041249,"body":"<p>We need to process some broken JSON from a legacy server here that wrongly encodes <code>null</code> values as literal <code>\"null\"</code> strings in its output.</p>\n\n<p>I already found that I probably want to override <a href=\"https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/base/ParserMinimalBase.java#L368\" rel=\"noreferrer\">https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/base/ParserMinimalBase.java#L368</a> to \"fix\" this, but this seems to be so deep inside Jackson that I'd rather do it differently. Are there alternatives, for example by using the <code>ObjectMapper</code> to add a custom deserializer for the <code>String.class</code> or am I lost?</p>\n"},{"comments":[{"comment_id":122975957,"body":"Is the logic in <code>doHealthCheck</code> method of <code>App1HealthCheckContributor</code> and <code>MyHealthCheckContributor</code> exactly the same so that you can have a single class covering both use cases?"},{"comment_id":123006641,"body":"Yes, the logic is equal."}],"answers":[{"comments":[{"comment_id":123006661,"body":"Works like a charm, Jo&#227;o. How could I test that the contributors are generated and registered in the Spring Boot context?"},{"comment_id":123021394,"body":"You would need to add an <code>application-test.yml</code> configuration and use <code>test</code> profile in your <code>@SpringBootTest</code>."},{"comment_id":123036016,"body":"I already did but accessing the configuration always results in a NPE."},{"comment_id":123037753,"body":"Then I would suggest you create an additional question and include all your code and tests. Share the link in a comment. Thanks!"},{"comment_id":123057426,"body":"I did so. You can find the link at the end of my original question. Furthermore I found this article about avoiding @PostConstruct:<a href=\"https://levelup.gitconnected.com/stop-using-postconstruct-in-your-java-applications-2a66fb202cb8\" rel=\"nofollow noreferrer\">levelup.gitconnected.com/&hellip;</a>  What do you think about?"},{"comment_id":123059816,"body":"I get it and I agree if this is a regular Service or something similar. But this is a configuration class, you will never reuse it and most likely you will not test it directly. Nevertheless, you can always try the constructor approach."},{"comment_id":123137998,"body":"Instantiating the health check indicators this way prevent me from setting @ConditionalOnEnabledHealthIndicator annotation, right? I think I a allowed to put exactly only ONE indicator but not @ConditionalOnEnabledHealthIndicator(aaa,bbb,ccc). Hence, I can&#39;t dis-/enable the indicator in application.properties using management.endpoint.aaa.enabled=true/false ...or is there a possibility to do?"},{"comment_id":123139204,"body":"Maybe using @ConditionalOnEnabledHealthIndicator(&quot;app&quot;) with management.endpoint.app.enabled=true/false but this is an all or nothing approach and I can&#39;t disable selectively."},{"comment_id":123144525,"body":"I would say it should work with the name you configure in your <code>application.yml</code>, but not sure to be honest. Never tried that."},{"comment_id":123151152,"body":"But WHICH name? I defined it as an array. I tried it using @ConditionalOnEnabledHealthIndicator(aaa,bbb,ccc) but this din&#39;t work. Maybe you are able to find a solution!? ;-)"},{"comment_id":123154094,"body":"<code>@ConditionalOnEnabledHealthIndicator</code> does not support multiple names. At least reading the documentation seems that way: &quot;value - The name of the health indicator.&quot;. Maybe you can use multiple <code>@ConditionalOnEnabledHealthIndicator</code> but I am not really sure that Spring supports that."},{"comment_id":123154307,"body":"No, Spring complains about multiple usage of <code>@ConditionalOnEnabledHealthIndicator</code>. I tried already. Would be an improvement if Spring would support this. Seems as if this way of creating indicators was not considered or not wanted."}],"answer_id":69574978,"body":"<p>Assuming the code in <code>doHealthCheck</code> is exactly the same for all apps to be checked you could do the following.</p>\n<p>You would start by creating a single health check class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\npublic class AppHealthCheckContributor extends AbstractHealthIndicator {\n\n    private final AppProperties appProperties;\n\n    public App1HealthCheckContributor(final AppProperties appProperties) {\n        this.appProperties = appProperties;\n    }\n\n    @Override\n    protected void doHealthCheck(Health.Builder builder) {...}\n}\n</code></pre>\n<p>And the properties model as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Data\npublic class AppProperties {\n    private String baseUrl;\n    private String name;\n}\n</code></pre>\n<p>This means that the configuration would be something like the following (in <code>application.yml</code>):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>health-check:\n  apps:\n    - baseUrl: http://localhost:10000\n      name: app1\n    - baseUrl: http://localhost:10001\n      name: app2\n</code></pre>\n<p>Finally, you would need to create a bean for each app and register them in the application context:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Data\n@Configuration\n@ConfigurationProperties(prefix = &quot;health-check&quot;)\npublic class AllAppPropertiesConfiguration {\n    private List&lt;AppProperties&gt; apps;\n\n    @Autowired\n    private GenericApplicationContext applicationContext;\n\n    @PostConstruct\n    fun init() {\n        for (AppProperties app : apps) {\n            applicationContext.registerBean(app.getName(), AppHealthCheckContributor.class, app);\n        }\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684828423,"question_id":69571749,"body":"<p>I intend to write some <code>HealtCheckContributors</code> for a Spring Boot application using <em>spring-boot-actuator</em>. Hence, I implemented two of them. they are intended for checking the health of different apps, of course, but have a nearly identical structure, except the configuration properties, ...</p>\n<p>SonarQube complains about that and I wonder if it is possible to have a single health check class but instantiated as many times as defined in <code>application.properties</code>.\nAn example:</p>\n<p><code>application.properties</code>:</p>\n<pre><code># actuator\napp1.management.baseUrl=http://localhost:10000\napp1.management.name=app1HealthCheckContributor\napp2.management.basUrl=http://localhost:10001\napp2.management.name=app2HealthCheckContributor\n</code></pre>\n<p><code>HealthCheckContributor</code> for app1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component(&quot;xxx&quot;)\npublic class App1HealthCheckContributor extends AbstractHealthIndicator {\n\n    private final App1Properties app1Properties;\n\n    public App1HealthCheckContributor(final App1Properties app1Properties) {\n        this.app1Properties = app1Properties;\n    }\n\n    @Override\n    protected void doHealthCheck(Health.Builder builder) {...}\n}\n</code></pre>\n<p>...and this code for each <code>HealthCheckContributor</code> only distinct in its <em>appXProperties</em>.</p>\n<p>Isn't it possible to have some kind of base class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component()\npublic class MyHealthCheckContributor extends AbstractHealthIndicator {\n\n    private final MyProperties myProperties;\n\n    public MyHealthCheckContributor(final MyProperties myProperties) {\n        this.myProperties = myProperties;\n    }\n\n    @Override\n    protected void doHealthCheck(Health.Builder builder) {...}\n}\n</code></pre>\n<p>and let Spring Boot take care of instantiating two <code>HealthCheckContributors</code> (in our case <code>App1HealthCheckContributor</code> and <code>App2HealthCheckContributor</code>)?\nThis would eliminate code duplication.</p>\n<p>An example of the properties class file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Data\n@ConfigurationProperties(prefix = &quot;app1.management&quot;)\npublic class App1Properties {\n    private String baseUrl;\n    private String ...;\n}\n</code></pre>\n<p>How can I achieve this and how must an <code>application.properties</code> file looks like to achieve what I intend to do?</p>\n<p>The final question: <a href=\"https://stackoverflow.com/questions/69620134/how-to-test-multiple-instance-creation-of-a-bean-of-one-class-filled-with-values\">How to test multiple instance creation of a bean of one class filled with values from application.properties?</a></p>\n"},{"comments":[{"comment_id":134573539,"body":"Don&#39;t post code as images, those are unreadable. Post them as text with proper code tags around it."}],"last_activity_date":1684828408,"question_id":76312420,"body":"<p>Spring WebClient error 500</p>\n<p>When passing the FileRequest class in the get method, the second service controller for some reason catches the String class instead of FileRequest.</p>\n<p>If I don't mention @RequestParam name the result of catch is</p>\n<p><code>MissingServletRequestParameterException: Required request parameter 'request' for method parameter type FileRequest is not present]</code></p>\n<p>If I mention @RequestParam name as I put in webclient get method the result of catch is</p>\n<p><code>failed to convert value of type 'java.lang.String' to required type 'com.jirafik.driveapi.dto.FileRequest'</code></p>\n<p>First service Controller (FileController.class) input method\n<a href=\"https://i.stack.imgur.com/yyipu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyipu.png\" alt=\"enter image description here\" /></a></p>\n<p>///</p>\n<p>FileService.class method with webclient get request\n<a href=\"https://i.stack.imgur.com/dI77u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dI77u.png\" alt=\"enter image description here\" /></a></p>\n<p>///</p>\n<p>Second Controller (StoreController.class)\n<a href=\"https://i.stack.imgur.com/BKsqB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BKsqB.png\" alt=\"enter image description here\" /></a></p>\n<p>///</p>\n<p>Webclient.Builder Bean</p>\n<p><a href=\"https://i.stack.imgur.com/LF6Zo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LF6Zo.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":120683076,"body":"I don&#39;t know the answer, but a log level of DEBUG will always be spammy."}],"answers":[{"comments":[{"comment_id":120785657,"body":"Thanks a lot for your extensive answer including sample code!!! This seems to remove the log lines &quot;Before request&quot; and &quot;After request&quot;. However, a lot is logged when AbstractRequestLoggingFilter.doFilterInternal calls filterChain.doFilter. This part is still logged."},{"comment_id":120785788,"body":"(6 lines in trace mode, 4 lines in debug mode)."},{"comment_id":120858238,"body":"My answer is like example, you can define your own filter which will be not extended from AbstractRequestLoggingFilter or you can override methods for correct logging, but the main idea of logging requests should be based on filters."}],"answer_id":68309373,"body":"<p>I recommend to use Spring Built-In request logging filter <code>CommonsRequestLoggingFilter</code>.</p>\n<p>To enable the logging filter, you need to set the property:</p>\n<pre><code>logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=DEBUG\n</code></pre>\n<p>But when you need specify custom rules for enabling logging, you can create custom implementation in following way:</p>\n<pre><code>@Component\npublic class RequestLoggingFilter extends AbstractRequestLoggingFilter {\n\n    private Set&lt;String&gt; excludedUrls = Set.of(&quot;/health&quot;);\n\n    @Override\n    protected boolean shouldLog(HttpServletRequest request) {\n        if(excludedUrls.contains(request.getRequestURI())) {\n            return false;\n        }\n        return logger.isDebugEnabled();\n    }\n\n    @Override\n    protected void beforeRequest(HttpServletRequest request, String message) {\n        logger.debug(message);\n    }\n\n    @Override\n    protected void afterRequest(HttpServletRequest request, String message) {\n        logger.debug(message);\n    }\n}\n</code></pre>\n<p>and to enable the filter add the following config property to <code>application.properties</code>:</p>\n<pre><code>logging.level.&lt;package_name&gt;.RequestLoggingFilter=DEBUG\n</code></pre>\n"},{"comments":[{"comment_id":134027877,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75956983/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":75956983,"body":"<p>What if i get this error?</p>\n<blockquote>\n<p>2023-04-07 11:57:05.227 INFO\norg.springframework.aop.framework.CglibAopProxy.doValidateClass():263</p>\n<ul>\n<li>Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain)\nthrows javax.servlet.ServletException,java.io.IOException] because it\nis marked as final: Consider using interface-based JDK proxies\ninstead! 2023-04-07 11:57:05.228 INFO\norg.springframework.aop.framework.CglibAopProxy.doValidateClass():263</li>\n<li>Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig)\nthrows javax.servlet.ServletException] because it is marked as final:\nConsider using interface-based JDK proxies instead! 2023-04-07\n11:57:05.343 ERROR org.apache.juli.logging.DirectJDKLog.log():175 -\nException starting filter [requestLoggingFilter]\njava.lang.NullPointerException: Cannot invoke\n&quot;org.apache.commons.logging.Log.isDebugEnabled()&quot; because\n&quot;this.logger&quot; is null</li>\n</ul>\n</blockquote>\n<pre><code>@Component\n\npublic class RequestLoggingFilter extends AbstractRequestLoggingFilter {\n\n@Override\nprotected boolean shouldLog(HttpServletRequest request) {\n    return !request.getServletPath().contains(&quot;actuator/health&quot;);\n}\n\n@Override\nprotected void beforeRequest(HttpServletRequest request, String message) {\n    logger.debug(message);\n}\n\n@Override\nprotected void afterRequest(HttpServletRequest request, String message) {\n    logger.debug(message);\n}\n}\n</code></pre>\n"}],"last_activity_date":1684828390,"question_id":68284273,"body":"<p>In my Spring boot application the following setting:</p>\n<pre><code>logging.org.springframework.web: DEBUG\n</code></pre>\n<p>causes all HTTP requests to be logged, which is cool!</p>\n<p>However, as the /health endpoint is continuously polled, this spams the logfile.\nHow can I disable request logging just for this endpoint?</p>\n"},{"comments":[{"comment_id":95823866,"body":"<code>&lt;class name&gt;.&lt;instance variable&gt;</code> is static variable?"},{"comment_id":95823873,"body":"No. These are instance variables"},{"comment_id":95823877,"body":"@Sara That makes no sense. Instance variables are associated <i>with instances</i>, not the class themselves"},{"comment_id":95823879,"body":"@BingLi224 no. These are instance variables."},{"comment_id":95823896,"body":"Its better if you post some code??"},{"comment_id":95823917,"body":"Sure it&#39;s not <code>&lt;class name&gt;.this.&lt;instance variable&gt;</code>?"},{"comment_id":95823999,"body":"<i>no. These are instance variables.</i> If you are so adamant, please show your code"},{"comment_id":95824012,"body":"your variable might be static."}],"answers":[{"answer_id":54510522,"body":"<p>You have to make that variable or method static then you can use through class name.</p>\n<pre><code>public static int a=5;\n/*declaring static variable*/\n\n\n\n  System.out.println(classname.a);\n  /*calling static variable*/\n</code></pre>\n"}],"last_activity_date":1684828049,"question_id":54510263,"body":"<p>Usually when there is getter/setter in a POJO class, the general convention I have seen until now was to use <code>return this.&lt;instance variable&gt;</code> / <code>this.&lt;instance variable&gt; = something</code></p>\n\n<p>But, the current project I am working on uses a strange convention of <code>return &lt;class name&gt;.&lt;instance variable&gt;</code></p>\n\n<p>I understand that this works, but was wondering if this is the right approach at all? </p>\n"},{"comments":[{"comment_id":18794862,"body":"Why not create a new iterator?"},{"comment_id":18794902,"body":"well you&#39;ve missed something, if you need to do more than next and maybe previous, iterator is not the best choice. Why do you need to reset?"},{"comment_id":18795717,"body":"I trying to understand the idea of dynamic list in java. A few weeks ago I have a problem with session variable on jsp oage. From EL and taglibs I can use a method of iterator but I cant redefine it (I still have poor knowledge about jsp but I still improving it :)) What do You mind when You wrote &quot;iterator is not the best choice&quot; ? Could You explain it to me? :)"}],"answers":[{"comments":[{"comment_id":42422974,"body":"awesome. it&#39;s not immediately obvious that this call doesn&#39;t just return the same reference to the iterator that you&#39;re already using. But I guess looking into the source would&#39;ve solved that answer as well. Here&#39;s a link for anyone curious as this is a habit I&#39;m trying to be better about: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/6-b14/java/util/ArrayList.java#ArrayList.listIterator%28%29\" rel=\"nofollow noreferrer\">grepcode.com/file/repository.grepcode.com/java/root/jdk/open&zwnj;&#8203;jdk/&hellip;</a>"}],"answer_id":13689311,"body":"<p>You can call <code>listIterator</code> method again to get an instance of iterator pointing at beginning of list:</p>\n\n<pre><code>iter = list.listIterator();\n</code></pre>\n"},{"comments":[{"comment_id":20732203,"body":"when deleting and inserting mainly to front then LinkedList is faster."},{"comment_id":63035633,"body":"Even removing items from the middle is faster in case of LinkedList. That is if you are iterating through and removing items with iterator.remove(). ArrayList would necessitate shifting of the remaining items."},{"comment_id":63051355,"body":"@Sohaib, yes mainly it depends on the size of the list. Up to a specific number of elements System.arraycopy, which internal uses C - memcopy  , which is used to shift the array is faster. Advanced implementation switch the underlying implementation depoending on element size."}],"answer_id":13689355,"body":"<p>Best would be not using <code>LinkedList</code> at all, usually it is slower in all disciplines, and less handy. (When mainly inserting/deleting to the front, especially for big arrays LinkedList is faster)</p>\n\n<p>Use <code>ArrayList</code>, and iterate with </p>\n\n<pre><code>int len = list.size();\nfor (int i = 0; i &lt; len; i++) {\n  Element ele = list.get(i);\n}\n</code></pre>\n\n<p>Reset is trivial, just loop again.<br>\nIf you insist on using an iterator,  then you have to use a new iterator:</p>\n\n<pre><code>iter = list.listIterator();\n</code></pre>\n\n<p>(I saw only once in my life an advantage of LinkedList: i could loop through whith a while loop and remove the first element)</p>\n"},{"comments":[{"comment_id":87073963,"body":"Hmm @ryenus...I like your idea to iterate backwards from the last element using <b>hasPrevious()</b> and <b>previous()</b> after the &#39;forward&#39; iteration has occurred. That seems like a perfect solution if you need to use the same iterator instance (not sure why you&#39;d actually need need to use the same instance over and over though). I am curious if looping back to the start of the iteration is less expensive than creating a new iterator instance, but I guess that would also be somewhat dependent on the size of the list."}],"answer_id":27981306,"body":"<p>If the order doesn't matter, we can re-iterate <strong>backward</strong> with the same iterator using the <code>hasPrevious()</code> and <code>previous()</code> methods:</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>ListIterator&lt;T&gt; lit = myList.listIterator(); // create just one iterator\n</code></pre>\n\n<p>Initially the iterator sits at the beginning, we do <em>forward</em> iteration:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>while (lit.hasNext()) process(lit.next()); // begin -&gt; end\n</code></pre>\n\n<p>Then the iterator sits at the end, we can do <strong>backward</strong> iteration:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>while (lit.hasPrevious()) process2(lit.previous()); // end -&gt; begin\n</code></pre>\n"},{"comments":[{"comment_id":124840715,"body":"That sounds like a quirk you discovered rather than something guaranteed by the interface."},{"comment_id":131480658,"body":"&quot;Returns an iterable whose iterators cycle indefinitely over the elements of iterable&quot; <a href=\"https://guava.dev/releases/20.0-rc1/api/docs/com/google/common/collect/Iterables.html#cycle-java.lang.Iterable-\" rel=\"nofollow noreferrer\">guava.dev/releases/20.0-rc1/api/docs/com/google/common/colle&zwnj;&#8203;ct/&hellip;</a>"}],"answer_id":28777539,"body":"<p>This is an alternative solution, but one could argue it doesn't add enough value to make it worth it:</p>\n\n<pre><code>import com.google.common.collect.Iterables;\n...\nIterator&lt;String&gt; iter = Iterables.cycle(list).iterator();\nif(iter.hasNext()) {\n    str = iter.next();\n}\n</code></pre>\n\n<p>Calling hasNext() will reset the iterator cursor to the beginning if it's a the end.</p>\n"},{"answer_id":53976170,"body":"<p>Calling <code>iterator()</code> on a Collection impl, probably would get a new Iterator on each call.</p>\n\n<p>Thus, you can simply call <code>iterator()</code> again to get a new one.</p>\n\n<hr>\n\n<h2>Code</h2>\n\n<p><strong>IteratorLearn.java</strong></p>\n\n<pre><code>import org.testng.Assert;\nimport org.testng.annotations.Test;\n\nimport java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Iterator;\n\n/**\n * Iterator learn.\n *\n * @author eric\n * @date 12/30/18 4:03 PM\n */\npublic class IteratorLearn {\n    @Test\n    public void test() {\n        Collection&lt;Integer&gt; c = new HashSet&lt;&gt;();\n        for (int i = 0; i &lt; 10; i++) {\n            c.add(i);\n        }\n\n        Iterator it;\n\n        // iterate,\n        it = c.iterator();\n        System.out.println(\"\\niterate:\");\n        while (it.hasNext()) {\n            System.out.printf(\"\\t%d\\n\", it.next());\n        }\n        Assert.assertFalse(it.hasNext());\n\n        // consume,\n        it = c.iterator();\n        System.out.println(\"\\nconsume elements:\");\n        it.forEachRemaining(ele -&gt; System.out.printf(\"\\t%d\\n\", ele));\n        Assert.assertFalse(it.hasNext());\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>iterate:\n    0\n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n\nconsume elements:\n    0\n    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n</code></pre>\n"},{"answer_id":56852039,"body":"<p>What you may actually want to use is an <code>Iterable</code> that can return a fresh <code>Iterator</code> multiple times by calling <code>iterator()</code>.</p>\n\n<pre><code>//A function that needs to iterate multiple times can be given one Iterable:\npublic void func(Iterable&lt;Type&gt; ible) {\n    Iterator&lt;Type&gt; it = ible.iterator(); //Gets an iterator\n    while (it.hasNext()) {\n        it.next();\n    }\n    it = ible.iterator(); //Gets a NEW iterator, also from the beginning\n    while (it.hasNext()) {\n        it.next();\n    }\n}\n</code></pre>\n\n<p>You must define what the <code>iterator()</code> method does just once beforehand:</p>\n\n<pre><code>void main() {\n    LinkedList&lt;String&gt; list; //This could be any type of object that has an iterator\n    //Define an Iterable that knows how to retrieve a fresh iterator\n    Iterable&lt;Type&gt; ible = new Iterable&lt;Type&gt;() {\n        @Override\n        public Iterator&lt;Type&gt; iterator() {\n            return list.listIterator(); //Define how to get a fresh iterator from any object\n        }\n    };\n    //Now with a single instance of an Iterable,\n    func(ible); //you can iterate through it multiple times.\n}\n</code></pre>\n"},{"answer_id":68537581,"body":"<p>What you can do is, set the iterator to the first position mannualy with a while loop.</p>\n<pre><code>while(iter.hasPrevious())\n{\n    iter.previous();\n}\n</code></pre>\n<p>when you get out of the loop you will have your iterator at the position 0</p>\n<h6 id=\"sorry-any-grammar-mistakes-ydm0\">sorry any grammar mistakes</h6>\n"},{"answer_id":75458265,"body":"<p>Well some of the version of java does not have a reset method for the iterator, so we are required to use the multiple iterator for number of use cases, which ultimately increases the memory consumption.</p>\n<p>so it's simple way to use the same iterator again if needed by declaring a global function and pass the collection as argument.</p>\n<p>for eg.\n<a href=\"https://i.stack.imgur.com/459UL.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>for eg (Written program)\npackage com.javalearn;</p>\n<p>import java.util.ArrayList;\nimport java.util.Iterator;</p>\n<p>public class Java_Learn {</p>\n<pre><code>    public static void main(String[] args) {\n            ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n            list.add(&quot;Hello&quot;);\n            list.add(&quot;World&quot;);\n            list.add(&quot;It's&quot;);\n            list.add(&quot;me.&quot;);\n\n            iter(list);\n\n            System.out.println(list.size());\n            System.out.println(list.indexOf(&quot;me.&quot;));\n            System.out.println(list.remove(3));\n\n            iter(list);\n    }\n    static void iter(ArrayList&lt;String&gt; arr){\n            Iterator itr = arr.iterator();\n            while(itr.hasNext()){\n                    System.out.println(itr.next());\n            }\n    }\n</code></pre>\n<p>}</p>\n"}],"last_activity_date":1684827818,"question_id":13689288,"body":"<p>I need to know how to &quot;reset&quot; LinkedList iterator to its first element.</p>\n<p>For example:</p>\n<pre><code>LinkedList&lt;String&gt; list;\nIterator iter=list.listIterator;\niter.next();\niter.next();\n</code></pre>\n<p>Over and over again and after many moves of the iterator, I need to &quot;reset&quot; the position of the iterator.</p>\n<p>I want to ask how I can &quot;reset&quot; my iterator to the first element.</p>\n<p>I know that I can get list iterator of the first element in this way:</p>\n<pre><code>iter= list.listIterator(1);\n</code></pre>\n<p>Is this the best solution? Or maybe I missed something in Oracle docs?</p>\n"},{"comments":[{"comment_id":134563305,"body":"By the way: both methods you list are instance methods - <code>&quot;abca&quot;.lastIndexOf(&#39;a&#39;)</code> is 3. Perhaps base your checks on something like &quot;String.format()&quot; which is static."}],"last_activity_date":1684827748,"question_id":76307975,"body":"<p>I'm currently using YourKit Java Profiler to gather information about the total number of invoked methods during profiling. However, I'm facing difficulty in distinguishing between static methods and instance methods.</p>\n<p>When I perform <a href=\"https://www.yourkit.com/docs/java/help/tracing.jsp\" rel=\"nofollow noreferrer\">CPU profiling (tracing)</a>, I obtain a list of methods, but there seems to be no apparent way to identify whether a method is static or instance-based. For instance, here are two sample entries from the method list:</p>\n<ul>\n<li>Instance <code>java.lang.String.charAt(int) String.java</code></li>\n<li>Static <code>java.lang.String.lastIndexOf(byte[], byte, int, String, int) String.java</code></li>\n</ul>\n<p>Both methods appear identical and lack any indication of their type (static or instance). I have extensively searched through the official documentation provided by YourKit, but have been unable to find any relevant information on this matter.</p>\n<p>Is it possible to differentiate between static and instance methods during profiling using YourKit? If so, what approach or feature should I utilize to achieve this? I would greatly appreciate any insights or guidance regarding this issue.</p>\n"},{"answers":[{"comments":[{"comment_id":87189754,"body":"And how to get user id from User Name ?"},{"comment_id":87189901,"body":"Easily Get USER ID and User Details using this:   <code>https:&#47;&#47;api.instagram.com&#47;v1&#47;users&#47;search?q=[ USER NAME ]&amp;client_id=[ YOU APP Client ID ]</code> for an example :    <code>https:&#47;&#47;api.instagram.com&#47;v1&#47;users&#47;search?q=isharamadhawa&amp;cl&zwnj;&#8203;ient_id=[enter your id]</code>"},{"comment_id":87190943,"body":"Do you have a client_id?"},{"comment_id":87190976,"body":"Yes I have Client ID and Access Tocken"},{"comment_id":87191007,"body":"&quot;error_message&quot;: &quot;The access_token provided is invalid.&quot;"},{"comment_id":87191120,"body":"Check <a href=\"https://stackoverflow.com/questions/37609974/instagram-api-the-access-token-provided-is-invalid\">this</a>"},{"comment_id":87191202,"body":"I have added public content scope while getting token and its in Sandbox mode"},{"comment_id":87191280,"body":"You should post another Question regarding your specific issue. I think you have received an answer for what you have posted here."},{"comment_id":121658277,"body":"Blocked by cors"},{"comment_id":122195402,"body":"@IsharaMadhawa This answer is no longer accurate since this API no longer provides <code>full_name</code> or <code>profile_picture</code> fields as per <a href=\"https://developers.facebook.com/docs/instagram-basic-display-api/reference/user\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/instagram-basic-display-api/&hellip;</a>. The link to the API in the answer is also dead."}],"answer_id":50087005,"body":"<p>Using the <a href=\"https://instagram.com/developer/endpoints/users/#get_users\" rel=\"nofollow noreferrer\">Instagram API users endpoint</a> (<code>https://api.instagram.com/v1/users/{user-id}/?access_token=ACCESS-TOKEN</code> ) you will receive a response like this one:</p>\n\n<pre><code>{\n    \"data\": {\n        \"id\": \"1574083\",\n        \"username\": \"snoopdogg\",\n        \"full_name\": \"Snoop Dogg\",\n        \"profile_picture\": \"http://distillery.s3.amazonaws.com/profiles/profile_1574083_75sq_1295469061.jpg\",\n        \"bio\": \"This is my bio\",\n        \"website\": \"http://snoopdogg.com\",\n        \"counts\": {\n            \"media\": 1320,\n            \"follows\": 420,\n            \"followed_by\": 3410\n        }\n}\n</code></pre>\n\n<p>Using this you can get the profile picture.</p>\n"},{"comments":[{"comment_id":119592414,"body":"It is not giving me data if I am not logged into Instagram"},{"comment_id":119593347,"body":"@ShrijanRegmi sometimes you need to specify some headers like User-Agent. Eg. <code>curl -s -H &#39;User-Agent: Mozilla&#47;5.0 (iPhone; CPU iPhone OS 12_3_1 like Mac OS X) AppleWebKit&#47;605.1.15 (KHTML, like Gecko) Mobile&#47;15E148 Instagram 105.0.0.11.118 (iPhone11,8; iOS 12_3_1; en_US; en-US; scale=2.00; 828x1792; 165586599)&#39; &#39;https:&#47;&#47;www.instagram.com&#47;USERNAME&#47;?__a=1&#39;</code>"},{"comment_id":122195309,"body":"Neither of these appear to work anymore as of Sep 10, 2021. Perhaps instructions are missing from the answer but more likely instagram has disallowed these APIs"},{"comment_id":127221964,"body":"<a href=\"https://www.instagram.com/USERNAME/?__a=1\" rel=\"nofollow noreferrer\">instagram.com/USERNAME/?__a=1</a>  This is not working in my app. This link returns as error HTML code,"},{"comment_id":128091608,"body":"as of recently instagram doesn&#39;t allow the use of the public API, I&#39;ve tried it for multiple times all it returns is a redirect to the actual profile"},{"comment_id":133946019,"body":"use <a href=\"https://www.instagram.com/&lt;insta-username&gt;/?__a=1&amp;__d=1\" rel=\"nofollow noreferrer\">instagram.com/&lt;insta-username&gt;/?__a=1&amp;__d=1</a>, it should work."}],"answer_id":57329107,"body":"<p>By May 2023, to get Instagram profile URL via API, use this:</p>\n<p><a href=\"https://www.instagram.com/USERNAME/?__a=1&amp;__d=1\" rel=\"nofollow noreferrer\">https://www.instagram.com/USERNAME/?__a=1&amp;__d=1</a></p>\n"},{"comments":[{"comment_id":104726016,"body":"Question was tagged with Java and Android, this is HTML and Javascript"},{"comment_id":118925287,"body":"This won&#39;t work because of CORS issue."},{"comment_id":119592432,"body":"It is not giving me data if I am not logged into Instagram"}],"answer_id":57668576,"body":"<p>To get profile photo, use the function bellow:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getPhoto(a) {\r\n  \r\n  // validation for instagram usernames\r\n  var regex = new RegExp(/^(?!.*\\.\\.)(?!.*\\.$)[^\\W][\\w.]{0,29}$/);\r\n  var validation = regex.test(a);\r\n\r\n  if(validation) {\r\n  \r\n    $.get(\"https://www.instagram.com/\"+a+\"/?__a=1\")\r\n    .done(function(data) { \r\n\r\n      // getting the url\r\n      var photoURL = data[\"graphql\"][\"user\"][\"profile_pic_url_hd\"];\r\n\r\n      // update img element\r\n      $(\"#photoReturn\").attr(\"src\",photoURL)\r\n     \r\n     })\r\n    .fail(function() { \r\n      // code for 404 error \r\n      alert('Username was not found!')\r\n    })\r\n  \r\n  } else {\r\n  \r\n    alert('The username is invalid!')\r\n  }\r\n\r\n}\r\n\r\n    </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;img src=\"\" id=\"photoReturn\"&gt;\r\n\r\n&lt;br&gt;&lt;br&gt;\r\n\r\n&lt;input type=\"text\" id=\"usernameInput\"&gt;\r\n\r\n&lt;button onclick=\"getPhoto($('#usernameInput').val().trim())\"&gt;Get profile photo&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"last_activity_date":1684827391,"question_id":50086945,"body":"<p>How to extract Instagram Profile picture using instagram API in android ?\nOr any other Method To extract Insta Profile Picture?</p>\n"},{"comments":[{"comment_id":134569952,"body":"What do you mean by locked? Locks are a way to isolate transactions from one another, so you should be able to read from the table even if it is locked, you just need to set the right isolation level on the connection. Let&#39;s put Spring Batch on the side for a moment. Are you able to read data from that table using JDBC?"},{"comment_id":134571980,"body":"When the batch is finished, I can read data. But when the batch is running, I am not able to read data or use the database client."},{"comment_id":134572488,"body":"I am not sure I understand the case .Please share more details about your code and database configuration. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"last_activity_date":1684826385,"question_id":76312181,"body":"<p>I have a projet based on Spring batch used to copy data (string and xml values) from one database to a new one. My problem is the target tables seem to be locked when I try to read data from a Rest controller or a database client.</p>\n<p>How can I do to disable this lock if it is a lock?</p>\n<p>The batch project uses <code>RepositoryItemWriter</code> with a chunk of 2000 records.</p>\n<p>Thanks.</p>\n"},{"last_activity_date":1684826328,"question_id":76312172,"body":"<p>Test skill error, error message as follows\nExpected state to include: {&quot;thermostatTemperatureSetpoint&quot;:20}, actual state: {}: expected false to be true\nThe data returned by action.devices.EXECUTE is {&quot;payload&quot;:{&quot;commands&quot;:[{&quot;ids&quot;:[&quot;2-3ff7c353d55cfa6fa6d5a8e8facad017-32dcfe7c1&quot;],&quot;status&quot;:&quot;SUCCESS&quot;,&quot;states&quot;:{&quot;online&quot;:tr ue,&quot;thermostatMode&quot;:&quot;on&quot;}}]},&quot;requestId&quot;:&quot;17484325286169092632&quot;}</p>\n<p>Attempts to modify the return structure did not work</p>\n"},{"comments":[{"comment_id":134569504,"body":"How an object is written is totally depending on it&#39;s <code>toString</code> implementation in your code, so in your case on the implementation of whatever <code>Object</code> is returned from your <code>GremlinResultSet</code>. As we don&#39;t see any implementation of parsing here, I can&#39;t tell if it&#39;s from the parsing part or from the output part."}],"answers":[{"answer_id":76312171,"body":"<p>Properties of type double, when written to a file after parsing, will become scientific notation.\nThe problem of this scientific notation is that java will automatically convert the data that is too big or too small to scientific notation.It can be solved by BigDecimal class of java.</p>\n<pre><code>String str=new BigDecimal(num+&quot;&quot;).toString().\n</code></pre>\n<p>For your case, it can be optimized as follows:</p>\n<pre><code>            while (result.hasNext()) {\n                Object[] values = result.next();\n                for (int i = 0; i &lt; values.length; i++) {\n                    Object value = values[i];\n                    if (value instanceof Double) {\n                        String str = new BigDecimal(Double.toString((Double)value)).toString();\n                        fw.write(str);\n                    } else {\n                        fw.write(value.toString());\n                    }\n                    if (i &lt; values.length - 1) {\n                        fw.write(&quot;,&quot;);\n                    }\n                }\n                fw.write(&quot;\\n&quot;);\n            }\n</code></pre>\n"}],"last_activity_date":1684826312,"question_id":76311950,"body":"<p>Why do property values appear in scientific notation when parsing and writing the results returned to the client after executing algorithm queries in Java on Galaxybase?</p>\n<p>Here is the code I wrote：</p>\n<pre><code>public class Test {\n    public static void main(String[] args) throws IOException {\n        GalaxyBaseClient client = new GalaxyBaseClient(&quot;localhost&quot;, 8180);\n\n        String query = &quot;g.V().hasLabel('person').has('age', gt(20)).values('name', 'age')&quot;;\n        GremlinResultSet result = client.submit(query);\n\n        FileWriter fw = null;\n        try {\n            fw = new FileWriter(&quot;test.csv&quot;);\n\n            String[] columnNames = {&quot;name&quot;, &quot;age&quot;};\n            for (int i = 0; i &lt; columnNames.length; i++) {\n                fw.write(columnNames[i]);\n                if (i &lt; columnNames.length - 1) {\n                    fw.write(&quot;,&quot;);\n                }\n            }\n            fw.write(&quot;\\n&quot;);\n\n            while (result.hasNext()) {\n                Object[] values = result.next();\n                for (int i = 0; i &lt; values.length; i++) {\n                    Object value = values[i];\n                    fw.write(value.toString());\n                    if (i &lt; values.length - 1) {\n                        fw.write(&quot;,&quot;);\n                    }\n                }\n                fw.write(&quot;\\n&quot;);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            if (fw != null) {\n                fw.close();\n            }\n            result.close();\n            client.close();\n        }\n    }\n}\n</code></pre>\n"},{"answers":[{"answer_id":76312165,"body":"<p>In Java, you can execute the three functions in parallel using threads or the Executor framework.  Here is an example of ExecutorService</p>\n<pre><code> // Create an ExecutorService with a fixed number of threads\n ExecutorService executorService = Executors.newFixedThreadPool(3);\n\n       // Create the tasks\n        Callable&lt;List&lt;Integer&gt;&gt; task1 = () -&gt; function1();\n        Callable&lt;List&lt;Integer&gt;&gt; task2 = () -&gt; function2();\n        Callable&lt;List&lt;Integer&gt;&gt; task3 = () -&gt; function3();\n\n        // Submit the tasks to the executor\n        Future&lt;List&lt;Integer&gt;&gt; result1 = executorService.submit(task1);\n        Future&lt;List&lt;Integer&gt;&gt; result2 = executorService.submit(task2);\n        Future&lt;List&lt;Integer&gt;&gt; result3 = executorService.submit(task3);\n\n\n           // Retrieve the results asynchronously\n        executorService.execute(() -&gt; {\n            try {\n                List&lt;Integer&gt; resultList1 = result1.get();\n                // Process the result of function1\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n\n        executorService.execute(() -&gt; {\n            try {\n                List&lt;Integer&gt; resultList2 = result2.get();\n                // Process the result of function2\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n\n        executorService.execute(() -&gt; {\n            try {\n                List&lt;Integer&gt; resultList3 = result3.get();\n                // Process the result of function3\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        });\n\n        // Shutdown the executor when you're done\n        executorService.shutdown();\n}\n</code></pre>\n"}],"last_activity_date":1684826241,"question_id":76309952,"body":"<p>I'm new to Android app programming.</p>\n<p>I'm making a native Android app in Java. Inside an Activity, I have some ArrayLists and 3 different functions receiving 2 ArrayLists as parameters and returning an ArrayList based on the content of the 2 parameters. Each function makes different operations and receives different lists as input. Since these 3 functions are independent of each other and since if the 2 ArrayLists are big the execution of these functions can take a while, I would like to execute them in parallel so I don't wait for the first function to complete in order to launch the second function, etc.</p>\n<p>Which is the best way to run these functions in parallel and receive their result back in my ViewModel in order to show it in the Activity?</p>\n"},{"comments":[{"comment_id":134569596,"body":"please provide all information in your question itself, not as a link to an external source"},{"comment_id":134569634,"body":"Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of you code and the error message as formatted text, not a screenshot. And please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"comment_id":134569666,"body":"Step 1, read the error. Step 2, look at your <code>User</code> entity and carefully read the method names and the implementation... Step 3, fix. Additional hint, the method names have <code>non</code> in the name, <code>isAccountNonLocked</code>, you return <code>false</code>, which basically is the same as returning <code>true</code> from a method called <code>isAccountLocked</code> (now check the other methods as well). Additionally don&#39;t use <code>@Data</code> with entities, that is a very bad idea (see <a href=\"https://deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities/\" rel=\"nofollow noreferrer\">deinum.biz/2019-02-13-Lombok-Data-Ojects-Arent-Entities</a>)"},{"comment_id":134570210,"body":"org.springframework.security.access.AccessDeniedException   now i get this error"},{"comment_id":134570342,"body":"i succesfully  get jwt token and i send this token i get 400 error org.springframework.security.access.AccessDeniedException"}],"last_activity_date":1684825423,"question_id":76312067,"body":"<p>What is problem?Someone help me ?\n<a href=\"https://github.com/Resid-Huseynov/Blablabla.git\" rel=\"nofollow noreferrer\">Project Link</a>\n<a href=\"https://i.stack.imgur.com/fofav.png\" rel=\"nofollow noreferrer\">İ have this error</a></p>\n<p>Please help me İ think problem Jwt security\nI am junior in Java programming thats why this project very basic and you very easily understand my project\nThanks</p>\n"},{"comments":[{"comment_id":134551155,"body":"What exactly is this type: <code>Number(10)</code>.  I&#39;m not an expert in JPA but I don&#39;t see where this comes from.  I see <code>numeric(p,s)</code> in the SQL docs but nothing is <code>Number</code>.  Being more clear what this is would help here."},{"comment_id":134554405,"body":"rev is the column autogenerated in revinfo table from spring data envers, which of type Number(10)"},{"comment_id":134554678,"body":"did you check in google what Number(10) data type represents in java? You might end up writing converter"},{"comment_id":134555032,"body":"at oracle.jdbc.driver.NumberCommonAccessor.throwOverflow(Number&zwnj;&#8203;CommonAccessor.java:&zwnj;&#8203;4139)     at oracle.jdbc.driver.NumberCommonAccessor.getInt(NumberCommonA&zwnj;&#8203;ccessor.java:125) Integer value is being picked up from Oracle by getInt method, Im not sure which class to extend so that I write the rs.getLong() or rs.getBigInteger()."}],"answers":[{"comments":[{"comment_id":134557926,"body":"Im not defining the audit class, is it auto generated using spring data envers which has the identifer (REV) which it is taking it as int when it should have been long."},{"comment_id":134558551,"body":"Hibernate should map Oracle NUMBERs to Java BigDecimal by default. Try to switch the query to <code>findRevisions(BigDecimal immigrationFileId)</code>"},{"comment_id":134559071,"body":"I just tried with BigDecimal and it failed with the same exception :("}],"answer_id":76304950,"body":"<p>Do not use <code>int</code> or <code>long</code> for identifiers and numbers retrieved from database. Most likely you do not perform any mathematical operations with them anyway.</p>\n<p>Oracle stores numbers in decimal format, the corresponding type in Java is <code>BigDecimal</code>.</p>\n<p>Your stack trace shows it:</p>\n<pre><code>at oracle.jdbc.driver.GeneratedResultSet.getInt(GeneratedResultSet.java:556)\nat com.ibm.ws.rsadapter.jdbc.WSJdbcResultSet.getInt(WSJdbcResultSet.java:1089)\n</code></pre>\n<p>You're calling <code>getInt()</code> on ResultSet, you should call <code>getBigDecimal()</code></p>\n"},{"comments":[{"comment_id":134569300,"body":"Thanks for the detailed explanation, I will try this and update you :)"}],"answer_id":76311886,"body":"<p>A revision number(<code>REV</code>) value should always be increasing and never overflows.</p>\n<p>The default implementations provided by Envers use an <code>int</code> data type that has an upper bound of <code>Integer.MAX_VALUE</code>.</p>\n<p>Since you have already mentioned that your <code>REV</code> number has the value of <code>4686710314</code> and it exceeds this limit, that's why you are getting a Numeric Overflow exception.</p>\n<p>To resolve this issue, you can modify the data type of the <code>REV</code> column in the <code>REVINFO</code> table to accommodate larger values. But this is not possible in your case as the <code>REVINFO</code> is auto-generated.</p>\n<p>So you should consider using a custom revision entity mapping using a <code>long</code> data type.</p>\n<p>Below is the implementation</p>\n<pre><code>@Entity\n@Table(name = &quot;REV_INFO&quot;)\n@RevisionEntity\npublic  class CustomRevisionEntity implements Serializable {\n\n    private static final long serialVersionUID = 8530213963961662300L;\n\n    @Id\n    @GeneratedValue\n    @RevisionNumber\n    @Column(name = &quot;REV&quot;)\n    private long id;\n\n    @RevisionTimestamp\n    @Column(name = &quot;REVTSTMP&quot;)\n    private long timestamp;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    @Transient\n    public Date getRevisionDate() {\n        return new Date( timestamp );\n    }\n\n    public long getTimestamp() {\n        return timestamp;\n    }\n\n    public void setTimestamp(long timestamp) {\n        this.timestamp = timestamp;\n    }\n}\n</code></pre>\n<p>And then <code>RevisionRepository&lt;ImmigrationFile, Long, Long&gt;</code></p>\n<p>Note: Verify the autogenerated <code>REVINFO</code> table <code>REV</code> column datatype length in Oracle.</p>\n"}],"last_activity_date":1684825162,"question_id":76301369,"body":"<p>I'm struggling with exception since the past 4 days and being completely frustrated with it that I'm asking this question, I have referred various answers already on StackoverOverflow but they dont seem to have the issue as mine, so please don't mark it as duplicate.</p>\n<p><a href=\"https://stackoverflow.com/questions/58570032/hibernate-could-not-fetch-the-sequenceinformation-from-the-database\">Hibernate could not fetch the SequenceInformation from the database</a></p>\n<p>I have spring data jpa 2.4.4 version and I'm using spring data envers with spring boot on oracle database, I have ojdbc 7 as a dependency.</p>\n<p>All my tables are audited using envers and generated automatically by confirguration, so Im facing Numeric overflow exception when Im trying to fetch records whose rev is Number(10), my rev table has 2 columns where rev is a Number(10) digits precision.</p>\n<p>REVINFO table is auto generated by spring data envers and i have not customised it in my code.</p>\n<pre><code>REVINFO table columns :\nREV            NUMBER(10)\nREVTIMESTAMP   TIMESTAMP\n</code></pre>\n<p>Main Table - Immigration_file</p>\n<pre><code>@Entity\n@Audited\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ImmigrationFile extends BaseEntity implements ImmigrationFileAware&lt;ImmigrationFile&gt;,Serializable, Cloneable {\n\n    @Id\n    @SequenceGenerator(name = &quot;IMMIGRATION_FILE_ID_GENERATOR&quot;,\n            sequenceName = &quot;SEQ_IMMIGRATION_FILE_ID&quot;,\n            allocationSize = 1)\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;IMMIGRATION_FILE_ID_GENERATOR&quot;)\n    @Column(name = &quot;ID&quot;, unique = true, nullable = false)\n    private Long immigrationFileId;\n\n...other columns\n}\n</code></pre>\n<p>Audit table - Immigration_file_hist, having all columns of main table along with REV and REVTYPE, so the error is being thrown when the value of REV is &quot;4686710314&quot;.</p>\n<p>I have tried both the approached of using RevisionRepository and custom Audit Query and I get the same exception with both of them\ncode to fetch the revisions of immigration_file_hist repository</p>\n<pre><code>@Repository\npublic interface ImmigrationFileDaoRepository extends RevisionRepository&lt;ImmigrationFile, Long, BigInteger&gt;, JpaRepository&lt;ImmigrationFile, Long&gt; {\n\n        Page&lt;Revision&lt;BigInteger, ImmigrationFile&gt;&gt; revisions = immigrationFileDaoRepository.findRevisions(immigrationFile.getImmigrationFileId(), PageRequest.of(Integer.valueOf(startPageIndex), Integer.valueOf(endPageIndex), RevisionSort.desc()));\n</code></pre>\n<p>I was using Long earlier and i have changed it to BigInteger and i still face the same issue.</p>\n<p>Custom Audit Query</p>\n<pre><code>public List&lt;ImmigrationFile&gt; findRevisions(Long immigrationFileId) {\n        AuditReader reader = AuditReaderFactory.get(entityManager);\n        List&lt;ImmigrationFile&gt; results = reader\n                .createQuery()\n                .forRevisionsOfEntity(ImmigrationFile.class, true, false)\n                .add(AuditEntity.id().eq(immigrationFileId))\n                .addOrder(AuditEntity.property(&quot;version&quot;).desc())\n                .setMaxResults(maxResult)\n                .getResultList();\n        return results;\n</code></pre>\n<p>Im getting the below exception :</p>\n<pre><code> Caused by: org.springframework.orm.jpa.JpaSystemException: could not execute query; nested exception is org.hibernate.exception.GenericJDBCException: could not execute query\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:331)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:548)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at com.sun.proxy.$Proxy252.findRevisions(Unknown Source)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:687)\n    ... 82 common frames omitted\nCaused by: org.hibernate.exception.GenericJDBCException: could not execute query\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:47)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.loader.Loader.doList(Loader.java:2853)\n    at org.hibernate.loader.Loader.doList(Loader.java:2832)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2664)\n    at org.hibernate.loader.Loader.list(Loader.java:2659)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1414)/\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1565)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1533)\n    at org.hibernate.envers.query.internal.impl.AbstractAuditQuery.buildAndExecuteQuery(AbstractAuditQuery.java:106)\n    at org.hibernate.envers.query.internal.impl.RevisionsOfEntityQuery.getQueryResults(RevisionsOfEntityQuery.java:173)\n    at org.hibernate.envers.query.internal.impl.RevisionsOfEntityQuery.list(RevisionsOfEntityQuery.java:136)\n    at org.hibernate.envers.query.internal.impl.AbstractAuditQuery.getResultList(AbstractAuditQuery.java:112)\n    at org.springframework.data.envers.repository.support.EnversRevisionRepositoryImpl.findRevisions(EnversRevisionRepositoryImpl.java:155)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524)\n    at org.springframework.data.repository.core.support.Reposito.ryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:371)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:134)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 97 common frames omitted\nCaused by: java.sql.SQLException: Numeric Overflow\n    at oracle.jdbc.driver.NumberCommonAccessor.throwOverflow(NumberCommonAccessor.java:4139)\n    at oracle.jdbc.driver.NumberCommonAccessor.getInt(NumberCommonAccessor.java:125)\n    at oracle.jdbc.driver.GeneratedStatement.getInt(GeneratedStatement.java:199)\n    at oracle.jdbc.driver.GeneratedScrollableResultSet.getInt(GeneratedScrollableResultSet.java:246)\n    at oracle.jdbc.driver.GeneratedResultSet.getInt(GeneratedResultSet.java:556)\n    at com.ibm.ws.rsadapter.jdbc.WSJdbcResultSet.getInt(WSJdbcResultSet.java:1089)\n    at org.hibernate.type.descriptor.sql.IntegerTypeDescriptor$2.doExtract(IntegerTypeDescriptor.java:62)\n    at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\n    at org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:329)\n    at org.hibernate.type.ManyToOneType.hydrate(ManyToOneType.java:184)\n    at org.hibernate.type.ComponentType.hydrate(ComponentType.java:670)\n    at org.hibernate.loader.Loader.extractKeysFromResultSet(Loader.java:803)\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:727)\n    at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1039)\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:990)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:959)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:349)\n    at org.hibernate.loader.Loader.doList(Loader.java:2850)\n    ... 131 common frames omitted\n</code></pre>\n"},{"comments":[{"comment_id":77112948,"body":"You can discuss/buy premier or extended support from Oracle, and see if that includes fixing this bug. Jdk7 has been end-of-public-updates for more than 2 years. It&#39;s probably a better idea to migrate to jdk8. <a href=\"http://www.oracle.com/technetwork/java/eol-135779.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/eol-135779.html</a>"}],"answers":[{"answer_id":45069703,"body":"<p>My answer is probably useless, but I post.<br />\nAccording to Bugzilla tickets <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=7107490\" rel=\"nofollow noreferrer\">JDK-7107490</a> and <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=7199196\" rel=\"nofollow noreferrer\">JDK-7199196</a>, these bugs are fixed from jdk8. So, it's better recommending to migrate to java 8.</p>\n<p>I'm not so familiar with JDK's updating schedule, but I think JDK7 is no more maintained (EOL: <a href=\"https://www.infoq.com/news/2015/05/Oracle-Ends-Java-7Public-Updates\" rel=\"nofollow noreferrer\">Java 7 Reaches End of Life</a>). If you created any patches for this bug, it would not be merged.</p>\n"}],"last_activity_date":1684824951,"question_id":45069475,"body":"<p>When copying an image from the clipboard into my application, I get :</p>\n\n<pre><code>java.io.IOException: Owner failed to convert data\n    at sun.awt.X11.XSelection.validateDataGetter(XSelection.java:444)\n    at sun.awt.X11.XSelection.getData(XSelection.java:305)\n    at sun.awt.X11.XClipboard.getClipboardData(XClipboard.java:120)\n    at sun.awt.datatransfer.SunClipboard.getData(SunClipboard.java:225)\n</code></pre>\n\n<p>According to <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=7107490\" rel=\"nofollow noreferrer\">this</a>, it appears that the issues is from jdk 1.7.0. Great. But what can I do for my users that are currently using Java 7 (except asking them to migrate to java 8 ?)</p>\n\n<p>Or maybe I didn't understand the issue ?</p>\n"},{"comments":[{"comment_id":134568083,"body":"yes, it&#39;s multithreaded check this example <a href=\"https://www.baeldung.com/java-when-to-use-parallel-stream#2-parallel-streams\" rel=\"nofollow noreferrer\">baeldung.com/&hellip;</a>"},{"comment_id":134572269,"body":"Why do you think it would not be &quot;truly multithreaded&quot;? This seems like an odd question. There isn&#39;t a guarantee that the actions will be done in parallel, but in practice they will be depending on hardware limitations."}],"answers":[{"answer_id":76311246,"body":"<p>The execution will be truly multithreaded if the application is run in a multi-processor environment. The order of execution is not predictable. I have observed that the stream gets partitioned into no more than 32 parts and is executed on as many threads as there are processors (this is a JRE implementation detail that may be different in your environment).</p>\n<p>After that, the next thing that affects the order of execution is the way the Spliterator partitions the data. Most obvious way would be to split it into four equal sized parts, but we cannot know that unless we have access to the source code.</p>\n<p>Then the way the split streams are assigned to the threads is also implementation dependant.</p>\n<p>Then there are almost always other processes or threads running in the environment that might require processor time and delay the execution of any of the split streams.</p>\n<p>In parallel computing, if you need to guarantee the order of execution, you need to implement flow control structures like semaphors.</p>\n"}],"last_activity_date":1684824783,"question_id":76311193,"body":"<p>I am trying to use parallelStream in Java for the first time and I have a doubt.\nSo lets say I have an array of ids- [2, 5, 1, 7, 8]</p>\n<p>Now, I have a function f to execute for all these.\nlets say time taken for each id is different.\neg - f(2) = 10ms, f(5) = 100ms, f(1) = 90ms and so on.</p>\n<p>So, If I use parallelStream like this:</p>\n<pre><code>ids.parallelStream().map(f)\n</code></pre>\n<p>Will it truly be multithreaded? I mean as soon as f(2) finishes, will f(1) be picked up while f(5) is still being executed?</p>\n"},{"comments":[{"comment_id":134145184,"body":"Please also select correct gradle java version"}],"answers":[{"answer_id":41979920,"body":"<p>As the error tells you <code>Nome o servizio sconosciuto</code>, <code>repo1.maven.org</code> cannot be resolved via DNS. So you have some networking problem or you need to use a proxy server which you did not configure for Gradle. Ask your IT support as to why you cannot resolve the hostname.</p>\n"},{"comments":[{"comment_id":75107424,"body":"Are your sure? Because my build.gradle contains org.springframework.boot:spring-boot-gradle-plugin and the problem was solved fixing my internet connection (dns resolution)."}],"answer_id":43978852,"body":"<p>Your build file does not have the spring boot plugin. </p>\n\n<p>apply plugin:</p>\n\n<pre><code>'org.springframework.boot'\n</code></pre>\n\n<p>Without this the dependency management system is broken for Spring boot</p>\n"},{"comments":[{"comment_id":81047385,"body":"I read the entire error, but answered for one of the possible scenarios. If dependency is not downloading there can be lot of reasons. I couldn&#39;t comment on the above answer so I answered separately . Anyways thanks"}],"answer_id":46993763,"body":"<p>I was getting spring-boot-starter dependency cant be resolved issue when i tried to run gradle first time on IntelliJ using gradle 3.5 using my laptop no proxy required.</p>\n\n<p>The issue was missing:</p>\n\n<pre><code>apply plugin: 'org.springframework.boot'\n</code></pre>\n\n<p>from the build.gradle file. Once included it downloaded all the dependencies in a flash. </p>\n"},{"answer_id":47589917,"body":"<p>This is might be a network issue. If not then please try below steps as it solved my issue.</p>\n\n<p>As I was also facing the same problem, I tried to solve it by changing the dependencies.</p>\n\n<p>This value gives me an error.</p>\n\n<pre><code>compile(\"org.springframework.boot:spring-boot-starter-ws\") \n</code></pre>\n\n<p>This is what works</p>\n\n<pre><code>compile group: 'org.springframework.boot', name: 'spring-boot-starter-ws', version: '1.4.7.RELEASE'\n</code></pre>\n\n<p>Ref:<a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-ws/1.1.8.RELEASE\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-ws/1.1.8.RELEASE</a></p>\n"},{"comments":[{"comment_id":103160158,"body":"You have always to watch last error messages (from up to bottom). In this case is ` repo1.maven.org: Nome o servizio sconosciuto` (or in english <code>Name or service not known error?</code>) that causes a <code>Could not resolve dependecy</code> error."}],"answer_id":53765650,"body":"<p>I experienced this issue as well but for a different reason than the currently accepted answer.</p>\n\n<p>In my case, it was that the server housing the dependencies was not being passed the credentials properly.</p>\n\n<p>The credentials were set in environment variables on a host container but not present in a child container making the call, so the connection worked fine on the host container, but failed with the <code>Could not resolve...</code> errors listed in the question on the child container.</p>\n\n<p>This was resolved by passing <code>MAVEN_USERNAME</code> and <code>MAVEN_PASSWORD</code> to gradle using <a href=\"https://docs.gradle.org/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">-D options</a>:</p>\n\n<pre><code>$ gradle -DMAVEN_USERNAME=foo -DMAVEN_PASSWORD=bar\n</code></pre>\n"},{"answer_id":64062418,"body":"<p>This might occur due to network problem. If you are behind the proxy, then in eclipse go to\nStep 1) window -&gt; Preferences -&gt;  Network Connections,\nhere give the  proxy details (proxy,port Number) and\nStep 2) check the AUTH box then enter userId and Password.\nStep 3) Then click the gradle refresh</p>\n<p>In my case this was the issue when I checked the Auth box and entered user and password it worked immediately.</p>\n"},{"comments":[{"comment_id":130567161,"body":"You are a savior. I tried multiple ways &amp; tired. Finally your answer helped me in resolving the issue."},{"comment_id":133187323,"body":"Can we get a more detailed explanation? &quot;Add maven repositories public certificates to your local java.&quot; - What does that even mean? What&#39;s my &quot;local java&quot;? And in general, how do I add &quot;maven repositories public certificates&quot; to it? Like call me stupid, but you&#39;ve explained nothing."},{"comment_id":133200697,"body":"To understand this answer, you must have basic knowledge of java and certificate issue. you can download any public certificate from tjhe domain as mentioned in following points. to add any public certificate to java, you have to use keytool. may be my formatting cause understanding issue"}],"answer_id":66351229,"body":"<p>This is routine with me whenever I tried to do a clean build first time into a different system or system have multiple java installed.</p>\n<p>You may face repository could not found issue or trust origin issue.\nSo for both the issue following solution should work.</p>\n<p>By review this issue, I figured it out that it is due to Java could not communicate with the given repository server properly.</p>\n<p>Follow the below steps to resolve this issue.</p>\n<ul>\n<li><p>Add library server's public certificates to local java for which issue is faced.</p>\n</li>\n<li><p>To get a public certificate of any URL, click on lock icon in browser address bar and go to the certificate (valid) link.</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/1S4fL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1S4fL.png\" alt=\"public certificate\" /></a></p>\n<ul>\n<li><p>Copy downloaded file to your local folder with proper name and extension as .cer</p>\n</li>\n<li><p>After download, Add this file to Java trusted certificate keytool. to import certificate, check below command.</p>\n<pre><code>keytool -import -trustcacerts -keystore {java_path}/jre/lib/security/cacerts -storepass changeit -noprompt -alias my_alias -file {certificate_path}\\certificates.cer\n</code></pre>\n</li>\n<li><p>After successfully adding a certificate to java, go to repository.</p>\n</li>\n<li><p>Run the following command to clean and build Gradle project.</p>\n<pre><code>gradlew build -x test --refresh-dependencies --stacktrace -Djavax.net.ssl.trustStore={your_java_path}\\jre\\lib\\security/cacerts -Djavax.net.ssl.trustStorePassword=changeit  \n</code></pre>\n</li>\n<li><p>Here, in the above command, we are explicitly providing the java certificate path and its password. above clean build should work properly now.</p>\n</li>\n</ul>\n<p>Hope this answer will help other.</p>\n"},{"answer_id":74619617,"body":"<p>Just had the same problem with <code>Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.0</code> and the old <code>eclipse 2021-09</code>. For me upgrading to version <code>2022-09</code> fixed the issue.</p>\n<p>(also tried some messing around with the dns settings of Windows and CloudFlare WARP first, but that didn't do anything)</p>\n"},{"answer_id":76311996,"body":"<p>adding apply plugin: 'org.springframework.boot' in build.gradle</p>\n<p>fixed my problem with gradle build.</p>\n"}],"last_activity_date":1684824766,"question_id":41979802,"body":"<p>I have a problem running a gradle build on Jenkins:\nGradle version is <em><a href=\"https://services.gradle.org/distributions/gradle-2.14.1-bin.zip\" rel=\"noreferrer\">https://services.gradle.org/distributions/gradle-2.14.1-bin.zip</a></em></p>\n\n<pre>\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'myApp'.\n> Could not resolve all dependencies for configuration ':classpath'.\n   > Could not resolve org.springframework.boot:spring-boot-gradle-plugin:1.4.2.RELEASE.\n     Required by:\n         :myApp:unspecified\n      > Could not resolve org.springframework.boot:spring-boot-gradle-plugin:1.4.2.RELEASE.\n         > Could not get resource 'https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-gradle-plugin/1.4.2.RELEASE/spring-boot-gradle-plugin-1.4.2.RELEASE.pom'.\n            > Could not HEAD 'https://repo1.maven.org/maven2/org/springframework/boot/spring-boot-gradle-plugin/1.4.2.RELEASE/spring-boot-gradle-plugin-1.4.2.RELEASE.pom'.\n               > repo1.maven.org: Nome o servizio sconosciuto\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</pre>\n\n<p>This is my <em>build.gradle</em> file:</p>\n\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '1.4.2.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse-wtp'\napply plugin: 'org.springframework.boot'\napply plugin: 'war'\n\n\nwar {\n    baseName = 'myApp'\n    version = '1.0.5'\n}\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations {\n    providedRuntime\n}\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-thymeleaf')\n    providedRuntime('org.springframework.boot:spring-boot-starter-tomcat')\n    compile('org.springframework.boot:spring-boot-starter-security')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile('com.fasterxml.jackson.core:jackson-core:2.7.3')\n    compile(\"org.springframework:spring-jdbc\")\n    compile('com.fasterxml.jackson.core:jackson-databind:2.7.3')\n    compile('com.fasterxml.jackson.core:jackson-annotations:2.7.3')\n    compile files('src/main/resources/static/lib/ojdbc7.jar')\n    // https://mvnrepository.com/artifact/org.json/json\n    compile group: 'org.json', name: 'json', version: '20080701'\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":79355637,"body":"try this : <code>databaseReference.child(user.getUid()).push(userInformations&zwnj;&#8203;);</code>"}],"answers":[{"comments":[{"comment_id":79355643,"body":"Users node is not created yet! this code will create it if its not available?"},{"comment_id":79355945,"body":"Does it work? Are now all the user objects hosted under <code>Users</code> node?"}],"answer_id":46196667,"body":"<p>You need to use the following code:</p>\n\n<pre><code>databaseReference.child(\"Users\").child(user.getUid()).setValue(userInformations);\n</code></pre>\n\n<p>This means that all those objects will be hosted within the <code>Users</code> node. Please the new <code>child(\"Users\")</code> added. In the same way you need to use for the posts.</p>\n"},{"answer_id":76311972,"body":"<pre><code> {\n    assigned: true,\n    groupId: pir.groupId\n }     \n</code></pre>\n<p>the object above is added to the object in firebase db as update</p>\n<pre><code>const refff = admin.database().ref(`pirs/${pir.pirId}`);\n        return refff.update({\n            assigned: true,\n            groupId: pir.groupId\n        })\n            .then(() =&gt; {\n                return { pir }\n            })\n            .catch((error) =&gt; {\n                console.error(&quot;Error updating data:&quot;, error);\n                return { errror: error }\n            });\n</code></pre>\n"}],"last_activity_date":1684824590,"question_id":46196632,"body":"<p><img src=\"https://i.stack.imgur.com/8vdlN.png\" alt=\"Capture of my database\"></p>\n\n<p>How to put these nodes inside a users node and make another one to store posts.\nMy database reference:</p>\n\n<pre><code>databaseReference.child(user.getUid()).setValue(userInformations);\n</code></pre>\n"},{"comments":[{"comment_id":134569264,"body":"<a href=\"https://www.jetbrains.com/help/idea/updating-applications-on-application-servers.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a>"},{"comment_id":134569483,"body":"@RobbyCornelissen: I choosen Update classes and resources but it is not working. Even restarting the server do not help, I have to clean install on parent porject"}],"last_activity_date":1684824235,"question_id":76311932,"body":"<p>I am using Intellij with wildfly/jboss server and I have webapp consists of parent project and submodules. I would like to be able to see code changes in my java code in one of the submodules without having to clean install and restart. For that I have configured Remote JVM Debug as you can see in the screenshot. When I start the debugger, it stops at break points and I can debug step by step which is fine.\n<a href=\"https://i.stack.imgur.com/34iiO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/34iiO.png\" alt=\"enter image description here\" /></a>\nProblem: When I change the code like I change string variable value from a to b, this change has no affect. I have first to clean install the whole parent project and restart wildfly. Is it possible to get changes reflected without having to clean install and restart wilfly server like it is in eclipse? In eclipse I got this problem, when I forget to tick project-&gt; automatically build but I dont know how to fix this in intellij</p>\n"},{"last_activity_date":1684824077,"question_id":76311726,"body":"<p>I want to run selenium script (Java, Maven &amp; Selenium) in bitbucket pipeline. For this I want to use a image <a href=\"https://hub.docker.com/r/selenium/standalone-chrome\" rel=\"nofollow noreferrer\">selenium/standalone-chrome</a> from docker hub. But I dont know how to configure my bitbucket-pipelines.yml for this. Currently I am using below yml file in my project and I am getting below error on bitbucket pipeline -</p>\n<p><strong>Error</strong></p>\n<p>Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.</p>\n<p>Build info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'</p>\n<p>System info: host: '2469e757-cd7e-46a6-815f-e4e651a95a17-5cdxg', ip: '10.36.149.209', os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.0-1035-aws', java.version: '11.0.3'</p>\n<p><strong>Bitbucket YAML file</strong>\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>image: maven:3.6.0\n\npipelines:\n  default:\n    - parallel:\n        - step:\n            name: Build and Test\n            caches:\n              - maven\n            script:\n            #  - mvn -B verify\n              - ls -l /opt/atlassian/pipelines/agent/build/chromedriver_win32/\n              - mvn test\n            after-script:\n              # Collect checkstyle results, if any, and convert to Bitbucket Code Insights.\n              - pipe: atlassian/checkstyle-report:0.3.0\n        - step:\n            name: Security Scan\n            script:\n              # Run a security scan for sensitive data.\n              # See more security tools at https://bitbucket.org/product/features/pipelines/integrations?&amp;category=security\n              - pipe: atlassian/git-secrets-scan:0.5.1\n                definitions:\n                  services:\n                    chrome:\n                      image: selenium/standalone-chrome</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>Note</strong></p>\n<p>I am using selenium hub server(http://localhost:4444/wd/hub) to host the selenium/standalone-chrome container and its working fine when I am launching from my local. But giving above error when pipeline is running on bitbucket.</p>\n"}]}