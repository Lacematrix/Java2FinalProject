{"items":[{"last_activity_date":1684694374,"question_id":76299657,"body":"<p>I am trying to create a bean that is using the DataObject to collect value from a document.</p>\n<p>code is inspired by this <a href=\"https://stackoverflow.com/questions/23082652/example-of-how-to-use-a-managed-bean-to-read-write-to-a-configuration-notes-do\">post</a></p>\n<pre><code>package com.consili;\nimport lotus.domino.*;\n\nimport java.util.*;\nimport com.ibm.xsp.extlib.util.ExtLibUtil;\nimport java.io.*;\nimport com.ibm.xsp.model.DataObject;\n\npublic class ConfigBean implements DataObject, Serializable { \n\n    private static final long serialVersionUID = 1L;\n    private static HashMap&lt;Object,Object&gt; config = null; \n\n    public ConfigBean() throws NotesException, IOException, ClassNotFoundException{ \n        config = new java.util.HashMap&lt;Object,Object&gt;(); \n        readFromDocument(); \n    }\n\n    public void readFromDocument() throws NotesException, IOException, ClassNotFoundException{ \n        Database db = ExtLibUtil.getCurrentSession().getCurrentDatabase(); \n        View view = db.getView(&quot;Settings&quot;); \n        Document doc = view.getFirstDocument();\n        if(doc==null) throw new IllegalArgumentException(&quot;doc cannot be null.&quot;);\n        \n        if(doc!=null){\n            Iterator&lt;Item&gt; items = doc.getItems().iterator(); \n            while(items.hasNext()){\n                Item item =  items.next(); \n                setValue(item.getName(), item.getValueCustomData()); \n            }                 \n            doc.recycle(); \n            view.recycle(); \n            db.recycle(); \n        }\n    }\n\n    public void saveToDocument(){ \n        //.. write the HashMap back to your document. \n    }\n\n    @Override\n    public Object getValue(Object key) {\n        if (key == null) {\n            throw new IllegalArgumentException(&quot;Key cannot be null.&quot;);\n        } \n        return config.get(key); \n    }\n\n    @Override\n    public boolean isReadOnly(Object arg0) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public void setValue(Object key, Object value) {\n        \n        if (key == null  || value == null) {\n               throw new IllegalArgumentException(&quot;Key or value cannot be null.&quot;);\n        } \n        config.put(key.toString(), value); \n    }\n\n    @Override\n    public Class&lt;ConfigBean&gt; getType(Object id) {\n          return ConfigBean.class;\n    }\n }\n</code></pre>\n<p>faces-config:</p>\n<pre><code> &lt;managed-bean&gt;\n    &lt;managed-bean-name&gt;Config&lt;/managed-bean-name&gt;\n    &lt;managed-bean-class&gt;com.consili.ConfigBean&lt;/managed-bean-class&gt;\n    &lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;\n  &lt;/managed-bean&gt;\n</code></pre>\n<p>the form in the settings doc contain two fields Title and WebUrl\nif I add one inputbox to the xpage it throws a class not found exception</p>\n<p>javax.faces.FacesException: javax.faces.FacesException: can't create an instanse of the class: 'com.consili.ConfigBean'.. null</p>\n<pre><code> &lt;xp:inputText id=&quot;inputText1&quot; value=&quot;#{Config.Title}&quot;&gt;&lt;/xp:inputText&gt;\n</code></pre>\n<p>I noticed that if I comment out this line</p>\n<pre><code> setValue(item.getName(), item.getValueCustomData()); \n</code></pre>\n<p>the page works and displays the input box, but then the map values would not be be set.</p>\n<p>what can be wrong?</p>\n<p>a side note, If I show the webpage as preview in webbrowser instead of the server the client crash with the following error</p>\n<p><a href=\"https://i.stack.imgur.com/MyW7c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MyW7c.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"comment_id":134551166,"body":"If anyone else in the future encounters with this problem again, one possible way out is property JAVA_OPTS.HD=-XX:OnOutOfMemoryError. Which gets either path to executable bash file, or a command. This worked for me JAVA_OPTS.HD=&quot;-XX:OnOutOfMemoryError=&#39;exit 4&#39;&quot;"}],"last_activity_date":1684694368,"question_id":76301397,"body":"<p>I am trying to have exit code 4 if app crashes for out of memory issues, but I am having trouble. I am using Amazon corretto JVM, but seems like it does not have all the java properties that oracle does. I wanted to use <code>-XX:+ExitOnOutOfMemoryErrorExitCode=4 </code> , but seems like its not supported by corretto.\nIn project properties I have a properties:</p>\n<pre><code>-XX:+HeapDumpOnOutOfMemoryError \n-XX:+ExitOnOutOfMemoryError\n</code></pre>\n<p>For this reason, when application has memory errors, it exits straight away. First, I tried to set</p>\n<p><code>-XX:+CrashOnOutOfMemoryError</code> in application specific properties file, but it gives me strange exit code 134.\nThan I tried to add <code>-XX:-ExitOnOutOfMemoryError</code> property in application specific properties, to override the one from general project properties, but this did not help either, I got exit code 1.\nIs there any other ways to force corretto jvm to have exit code 4? I am running out of ideas, would appreciate your help</p>\n<p>JVM OOM exit code problem</p>\n"},{"comments":[{"comment_id":134548973,"body":"Duplicate words or duplicate characters?"},{"comment_id":134548978,"body":"We can&#39;t run debugger on code which <i>doesn&#39;t compile</i>. Note that there is no <i>declaration of <code>i</code></i> variable in your example. There is <code>idx</code>."},{"comment_id":134549010,"body":"Anyway as already mentioned in previous (now deleted) comment, at <code>DeDupe(s,idx++,s1);</code> the <code>idx++</code> returns original value of <code>idx</code>, not incremented one. You need <code>idx+1</code> or <code>++idx</code> instead."},{"comment_id":134549023,"body":"Assuming you want to deduplicate characters: The base case is that a single character is a deduplicated string. In case of 2 or more characters, deduplicate substring 0 to n-2 then check that if character n is contained in the deduplicated substring"}],"answers":[{"answer_id":76300461,"body":"<p>You are use the &quot;postfix&quot; unary operator on your recursive call to <code>DeDupe</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>DeDupe(s,i++,s1);\n</code></pre>\n<p>So, essentially, <code>i</code> stays at <code>0</code>, and loops indefinitely.</p>\n<p>Change it to a &quot;prefix&quot; operator, or just <code>i + 1</code>, to get a result.</p>\n"},{"comments":[{"comment_id":134550756,"body":"I am not sure if i got the point correctly but i am not trying to return any value to main"}],"answer_id":76300610,"body":"<p>I see that &quot;DeDupe&quot; method of yours is void,<br>\nbut even the String is an object in java,<br>\nit is not passed by a reference but as a value,<br>\nbecause String is immutable.<br>\nAnd after all the processing, no result is produced anyway.</p>\n"}],"last_activity_date":1684693906,"question_id":76300384,"body":"<pre><code>import java.util.Scanner;\n\npublic class RemoveDuplicates {\n    public static boolean ar[]=new boolean[26];\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc=new Scanner(System.in);\n        String s=sc.nextLine();\n        DeDupe(s,0,&quot;&quot;);\n\n    }\n    public static void DeDupe(String s,int idx,String s1)\n    {\n        if(idx==s.length())\n        {\n            System.out.println(s1);\n            return;\n        }\n        if(ar[s.charAt(idx)-'a']==false)\n        {\n            s1+=s.charAt(idx);\n            //System.out.print(s1);\n            ar[s.charAt(idx)-'a']=true;\n        }\n        DeDupe(s,idx++,s1);\n    }\n\n}\n</code></pre>\n<p>Trying to solve remove duplicates from string question using recursion... i am getting stack overflow error ..added the base condition not sure what am i missing</p>\n"},{"last_activity_date":1684693070,"question_id":76301311,"body":"<p>I am trying to execute an append, delete and update query in my java code. I use mc access database and I have the queries prepeared in my database and they work just fine when I execute them from access directly.\nAlso, I have a few Select queries that work just fine from the code. The problem occurs only with the update/delete/etc.</p>\n<p>The following is my Consts class that establishes the connection to the database and the consts that have the queries saved in them:</p>\n<pre><code>package entity;\n\nimport java.net.URLDecoder;\n\n///**\n //* http://www.javapractices.com/topic/TopicAction.do?Id=2\n //*/\npublic final class Consts {\n    private Consts() {\n        throw new AssertionError();\n    }\n\n    protected static final String DB_FILEPATH = getDBPath();\n    public static final String CONN_STR = &quot;jdbc:ucanaccess://&quot; + DB_FILEPATH + &quot;;COLUMNORDER=DISPLAY&quot;;\n    \n    \n    //----------------------------------------- PARTICIPANT LIST QUERIES -----------------------------------------/\n    public static final String SQL_SEL_APPROVED_PARTICIPANT = &quot;{ call qryFindApprovedFriends(?) }&quot;;\n    public static final String SQL_SEL_WAITING_PARTICIPANT = &quot;{ call qryFindWaitingFriends(?) }&quot;;\n    public static final String SQL_UPD_TO_APPROVED_PARTICIPANT = &quot;{ call qryUpdParticipantToApproved(?,?) }&quot;;// think how to find the friend and add to friendList maybe add find qry\n    public static final String SQL_UPD_TO_DENIED_PARTICIPANT = &quot;{ call qryUpdParticipantToDenied(?,?) }&quot;;\n    public static final String SQL_DEL_FRIEND = &quot;{ call qryDelFriend(?,?) }&quot;;\n    public static final String SQL_INS_NEW_FRIEND_REQUEST = &quot;{ call qryInsNewFriend(?,?) }&quot;;\n    \n\n    /**\n     * find the correct path of the DB file\n     * @return the path of the DB file (from eclipse or with runnable file)\n     */\n    private static String getDBPath() {\n        try {\n            String path = Consts.class.getProtectionDomain().getCodeSource().getLocation().getPath();\n            String decoded = URLDecoder.decode(path, &quot;UTF-8&quot;);\n            // System.out.println(decoded) - Can help to check the returned path\n            if (decoded.contains(&quot;.jar&quot;)) {\n                decoded = decoded.substring(0, decoded.lastIndexOf('/'));\n                return decoded + &quot;/database/HW1_Database_211923158_207975632.accdb&quot;;\n            } else {\n                decoded = decoded.substring(0, decoded.lastIndexOf(&quot;bin/&quot;));\n                System.out.println(decoded);\n                return decoded + &quot;//HW1_Database_211923158_207975632.accdb&quot;;\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n</code></pre>\n<p>Next, I have ParticipantLogic class that actually handels all the callings to the queries. The problem occurs in removeFriend, addFriend methods inside the try block, when the code tries to connect to the related queries in my database and throws this exception: UCAExc:::3.0.7 user lacks privilege or object not found: QRYINSNEWFRIEND.</p>\n<pre><code>package control;\nimport entity.Participant;\nimport java.sql.CallableStatement;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport entity.Consts;\n\npublic class ParticipantLogic {\n    private static ParticipantLogic _instance;\n\n    private ParticipantLogic() {\n    }\n\n    public static ParticipantLogic getInstance() {\n        if (_instance == null)\n            _instance = new ParticipantLogic();\n        return _instance;\n    }\n    // select all approved participant\n    \n    public ArrayList&lt;Participant&gt; getApprovedParticipant(long firstPhone) {\n        ArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\n        try {\n            Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n            try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                    PreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_APPROVED_PARTICIPANT))\n                            {\n                    stmt.setLong(1, firstPhone);\n                    \n                    \n                    ResultSet rs = stmt.executeQuery();\n                while (rs.next()) {\n                    int i = 1;\n                    results.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\n                }\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        } catch (ClassNotFoundException e) {\n            e.printStackTrace();\n        }\n        return results;\n    }\n    \n    // select all waiting participant\n    \n    public ArrayList&lt;Participant&gt; getWaitingParticipant(Long phone) {\n            ArrayList&lt;Participant&gt; results = new ArrayList&lt;Participant&gt;();\n            try {\n                Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                        PreparedStatement stmt = conn.prepareStatement(Consts.SQL_SEL_WAITING_PARTICIPANT))\n                                {                       \n                        stmt.setLong(1, phone);\n                        ResultSet rs = stmt.executeQuery(); \n                    while (rs.next()) {\n                        int i = 1;\n                        results.add(new Participant(rs.getLong(i++), rs.getString(i++), rs.getString(i++)));\n                    }\n                } catch (SQLException e) {\n                    e.printStackTrace();\n                }\n            } catch (ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            return results;\n        }\n        //delete friend \n        \n        public boolean removeFriend(long firstPhone,long secondphone) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_DEL_FRIEND)) {\n                            \n                            stmt.setLong(1, firstPhone);\n                            stmt.setLong(2, secondphone);\n                        \n                            stmt.executeUpdate();\n                            return true;\n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n        // new friend request\n        public boolean addFriend(long firstPhone,long secondphone) {\n                    try {\n                        System.out.println(&quot;test1&quot;);\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_INS_NEW_FRIEND_REQUEST)) {\n                            System.out.println(&quot;test2&quot;);\n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.executeUpdate();\n                            System.out.println(&quot;test3&quot;);\n                            return true;\n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n                \n                \n                \n        //accept friend \n        public boolean acceptFriend(long firstPhone,long secondphone ) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts.SQL_UPD_TO_APPROVED_PARTICIPANT)) {\n                            \n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.setString(i++, &quot;APPROVED&quot;);\n                            stmt.executeUpdate();\n                            return true;\n                            \n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }\n        //decline friend \n        public boolean declineFriend(long firstPhone,long secondphone ) {\n                    try {\n                        Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n                        try (Connection conn = DriverManager.getConnection(Consts.CONN_STR);\n                                CallableStatement stmt = conn.prepareCall(Consts. SQL_UPD_TO_DENIED_PARTICIPANT)) {\n                            \n                            int i = 1;\n                            stmt.setLong(i++, firstPhone); // can't be null\n                            stmt.setLong(i++, secondphone); // can't be null\n                            stmt.setString(i++, &quot;DENIED&quot;);\n                            stmt.executeUpdate();\n                            return true;\n                            \n                            \n                        } catch (SQLException e) {\n                            e.printStackTrace();\n                        }\n                    } catch (ClassNotFoundException e) {\n                        e.printStackTrace();\n                    }\n                    return false;\n                }   \n\n}\n</code></pre>\n<p>Also, I don't know if this helps but here are the SQL for the queries:\nqryInsNewFriend:</p>\n<pre><code>INSERT INTO TblFriends ( ParticipantPhone, FriendPhone, Status )\nSELECT [1] AS Expr1, [2] AS Expr2, &quot;WAITING&quot; AS Expr3;\n\n</code></pre>\n<p>qryDelFriend:</p>\n<pre><code>DELETE TblFriends.ParticipantPhone, TblFriends.FriendPhone\nFROM TblFriends\nWHERE (((TblFriends.ParticipantPhone)=[1]) AND ((TblFriends.FriendPhone)=[2]));\n\n</code></pre>\n<p>I tried to check my security options and everything is fine. I tried to repair my database, also I created a new database with the same entries and connected that database to the code to see if the problem occurs again and it did. I tested this on a different computer and this happend again. I tried to change Callable to PrepearedStatement and it didn't work. Moreover, this code snnipet inside ParticipantLogic was given to us by our instructors in uni and other students used this same code with minor changes to variable names and everything worked fine for them. I can't find a reason for this code to not work.\nAlso, I didn't test the other two update queries but I assume they have the same problem as it seems it has something to do with the query type.</p>\n<p>Thanks from advance.</p>\n"},{"comments":[{"comment_id":134554010,"body":"This is the important bit: <code>org.spongepowered.asm.mixin.injection.throwables.InvalidInje&zwnj;&#8203;ctionException: Critical injection failure: @Inject annotation on handleLightning could not find any targets matching &#39;Lnet&#47;minecraft&#47;world&#47;entity&#47;LightningBolt;m_8119_()V&#39; in net.minecraft.world.entity.LightningBolt. Using refmap architectury-common-refmap.json [PREINJECT Applicator Phase -&gt; architectury-common.mixins.json:MixinLightningBolt -&gt; Prepare Injections -&gt;  -&gt; handler$zzc000$handleLightning(Lorg&#47;spongepowered&#47;asm&#47;mixin&#47;&zwnj;&#8203;injection&#47;callback&#47;C&zwnj;&#8203;allbackInfo;Ljava&#47;ut&zwnj;&#8203;il&#47;List;)V -&gt; Parse]</code>"},{"comment_id":134560390,"body":"Sorry i&#39;m a big beginner for minecraft mod Java is not a language that I am used to using so i don&#39;t understand the error well... What should I do ?"}],"last_activity_date":1684693004,"question_id":76300453,"body":"<p>I'm trying to create a server-side mode on minecraft <code>1.19.2</code> with forge.</p>\n<p>for that i downloaded forge mdk <code>43.2.0</code>.\nSo far all is fine, the server normally launches locally and I can access it.</p>\n<p>The mode i try to create is destinated to be used on a server that contains several other mods, So to reproduce the production conditions, i try to add in my local server all mods will be use on my server.</p>\n<p>But the mods called <code>Architectury API</code> make my server crash caused by : java.lang.reflect.InvocationTargetException</p>\n<p>my current forge version : <code>43.2.0</code>\nmy current architectury version : <code>6.5.82</code></p>\n<p>The log :</p>\n<pre><code>    at net.minecraft.data.worldgen.Carvers.&lt;clinit&gt;(Carvers.java:21) ~[forge-1.19.2-43.2.0_mapped_official_1.19.2-recomp.jar%23190!/:?] {re:classloading}\n    at net.minecraft.data.BuiltinRegistries.lambda$static$0(BuiltinRegistries.java:53) ~[forge-1.19.2-43.2.0_mapped_official_1.19.2-recomp.jar%23190!/:?] {re:classloading}\n    at net.minecraft.data.BuiltinRegistries.lambda$internalRegister$2(BuiltinRegistries.java:87) ~[forge-1.19.2-43.2.0_mapped_official_1.19.2-recomp.jar%23190!/:?] {re:classloading}\n    at net.minecraft.data.BuiltinRegistries.lambda$static$3(BuiltinRegistries.java:114) ~[forge-1.19.2-43.2.0_mapped_official_1.19.2-recomp.jar%23190!/:?] {re:classloading}\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?] {}\n    at net.minecraft.data.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:113) ~[forge-1.19.2-43.2.0_mapped_official_1.19.2-recomp.jar%23190!/:?] {re:classloading}\n    at net.minecraft.core.Registry.&lt;clinit&gt;(Registry.java:665) ~[forge-1.19.2-43.2.0_mapped_official_1.19.2-recomp.jar%23190!/:?] {re:classloading}\n    at net.minecraft.server.Bootstrap.bootStrap(Bootstrap.java:43) ~[forge-1.19.2-43.2.0_mapped_official_1.19.2-recomp.jar%23190!/:?] {re:classloading}\n    at net.minecraft.server.Main.main(Main.java:110) ~[forge-1.19.2-43.2.0_mapped_official_1.19.2-recomp.jar%23190!/:?] {re:classloading}\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\n    at net.minecraftforge.fml.loading.targets.ForgeServerUserdevLaunchHandler.lambda$launchService$0(ForgeServerUserdevLaunchHandler.java:22) ~[fmlloader-1.19.2-43.2.0.jar%23101!/:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:30) [modlauncher-10.0.8.jar%23114!/:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) [modlauncher-10.0.8.jar%23114!/:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) [modlauncher-10.0.8.jar%23114!/:?] {}\n    at cpw.mods.modlauncher.Launcher.run(Launcher.java:106) [modlauncher-10.0.8.jar%23114!/:?] {}\n    at cpw.mods.modlauncher.Launcher.main(Launcher.java:77) [modlauncher-10.0.8.jar%23114!/:?] {}\n    at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) [modlauncher-10.0.8.jar%23114!/:?] {}\n    at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) [modlauncher-10.0.8.jar%23114!/:?] {}\n    at cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:141) [bootstraplauncher-1.1.2.jar:?] {}\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:32)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.Launcher.run(Launcher.java:106)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.Launcher.main(Launcher.java:77)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23)\n    at cpw.mods.bootstraplauncher@1.1.2/cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:141)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at MC-BOOTSTRAP/fmlloader@1.19.2-43.2.0/net.minecraftforge.fml.loading.targets.ForgeServerUserdevLaunchHandler.lambda$launchService$0(ForgeServerUserdevLaunchHandler.java:22)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:30)\n    ... 7 more\nCaused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:250)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.service.modlauncher.MixinTransformationHandler.processClass(MixinTransformationHandler.java:131)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.launch.MixinLaunchPluginLegacy.processClass(MixinLaunchPluginLegacy.java:131)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.serviceapi.ILaunchPluginService.processClassWithFlags(ILaunchPluginService.java:156)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.LaunchPluginHandler.offerClassNodeToPlugins(LaunchPluginHandler.java:88)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.ClassTransformer.transform(ClassTransformer.java:120)\n    at MC-BOOTSTRAP/cpw.mods.modlauncher@10.0.8/cpw.mods.modlauncher.TransformingClassLoader.maybeTransformClassBytes(TransformingClassLoader.java:50)\n    at cpw.mods.securejarhandler/cpw.mods.cl.ModuleClassLoader.readerToClass(ModuleClassLoader.java:113)\n    at cpw.mods.securejarhandler/cpw.mods.cl.ModuleClassLoader.lambda$findClass$15(ModuleClassLoader.java:219)\n    at cpw.mods.securejarhandler/cpw.mods.cl.ModuleClassLoader.loadFromModule(ModuleClassLoader.java:229)\n    at cpw.mods.securejarhandler/cpw.mods.cl.ModuleClassLoader.findClass(ModuleClassLoader.java:219)\n    at cpw.mods.securejarhandler/cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:135)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.world.level.block.Blocks.&lt;clinit&gt;(Blocks.java:1024)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.world.level.levelgen.carver.CarverDebugSettings.&lt;clinit&gt;(CarverDebugSettings.java:9)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.world.level.levelgen.carver.CarverConfiguration.lambda$static$6(CarverConfiguration.java:23)\n    at MC-BOOTSTRAP/datafixerupper@5.0.28/com.mojang.serialization.codecs.RecordCodecBuilder.mapCodec(RecordCodecBuilder.java:76)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.world.level.levelgen.carver.CarverConfiguration.&lt;clinit&gt;(CarverConfiguration.java:16)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.world.level.levelgen.carver.WorldCarver.&lt;clinit&gt;(WorldCarver.java:29)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.data.worldgen.Carvers.&lt;clinit&gt;(Carvers.java:21)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.data.BuiltinRegistries.lambda$static$0(BuiltinRegistries.java:53)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.data.BuiltinRegistries.lambda$internalRegister$2(BuiltinRegistries.java:87)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.data.BuiltinRegistries.lambda$static$3(BuiltinRegistries.java:114)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.data.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:113)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.core.Registry.&lt;clinit&gt;(Registry.java:665)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.server.Bootstrap.bootStrap(Bootstrap.java:43)\n    at TRANSFORMER/minecraft@1.19.2/net.minecraft.server.Main.main(Main.java:110)\n    ... 13 more\nCaused by: org.spongepowered.asm.mixin.throwables.MixinApplyError: Mixin [architectury-common.mixins.json:MixinLightningBolt] from phase [DEFAULT] in config [architectury-common.mixins.json] FAILED during APPLY\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinError(MixinProcessor.java:636)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.handleMixinApplyError(MixinProcessor.java:588)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:379)\n    ... 41 more\nCaused by: org.spongepowered.asm.mixin.injection.throwables.InvalidInjectionException: Critical injection failure: @Inject annotation on handleLightning could not find any targets matching 'Lnet/minecraft/world/entity/LightningBolt;m_8119_()V' in net.minecraft.world.entity.LightningBolt. Using refmap architectury-common-refmap.json [PREINJECT Applicator Phase -&gt; architectury-common.mixins.json:MixinLightningBolt -&gt; Prepare Injections -&gt;  -&gt; handler$zzc000$handleLightning(Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;Ljava/util/List;)V -&gt; Parse]\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.injection.struct.InjectionInfo.validateTargets(InjectionInfo.java:656)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.injection.struct.InjectionInfo.findTargets(InjectionInfo.java:587)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.injection.struct.InjectionInfo.readAnnotation(InjectionInfo.java:330)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:316)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.injection.struct.InjectionInfo.&lt;init&gt;(InjectionInfo.java:308)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.injection.struct.CallbackInjectionInfo.&lt;init&gt;(CallbackInjectionInfo.java:46)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.injection.struct.InjectionInfo$InjectorEntry.create(InjectionInfo.java:149)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.injection.struct.InjectionInfo.parse(InjectionInfo.java:708)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinTargetContext.prepareInjections(MixinTargetContext.java:1311)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.prepareInjections(MixinApplicatorStandard.java:1042)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:393)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:325)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:383)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:365)\n    at MC-BOOTSTRAP/org.spongepowered.mixin/org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\n    ... 41 more\n\n&gt; Task :runServer FAILED\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nSee https://docs.gradle.org/7.5.1/userguide/command_line_interface.html#sec:command_line_warnings\n10 actionable tasks: 3 executed, 7 up-to-date\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':runServer'.\n&gt; Process 'command 'C:\\Program Files\\Java\\jdk-17\\bin\\java.exe'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 8s\n16:25:26: Execution finished 'runServer'.\n\n</code></pre>\n<p>I tried all the mods one by one, so I'm sure the problem comes from architectury-api, even if I don't put any other mods than this one, the problem always occurs.</p>\n<p>I tried to fin help on the github of architectury-api but all i found about my error is this post : <a href=\"https://github.com/architectury/architectury-api/issues/218\" rel=\"nofollow noreferrer\">https://github.com/architectury/architectury-api/issues/218</a>\nHe corrected it by update the mode but i already have the latest version of the mods for <code>1.19.2</code> and the latest version of forge for <code>1.19.2</code>.</p>\n<p>running the mode on client-side with the same version of forge and artchitectury work fine. so the crash is only on server-side.</p>\n<p>my current forge version : <code>43.2.0</code>\nmy current architectury version : <code>6.5.82</code></p>\n"},{"comments":[{"comment_id":134550418,"body":"<i>&quot;and wow it sure takes a lot of text to be able to post something on StckOverflow. I have nothing more to add but it still won&#39;t let me post this question...&quot;</i> -- Stack Overflow forces you to post more text when posting a lot of code so that you <i>fully explain the code and the problem</i>, not to post nonsense. Surely you can more fully explain the code in fair detail as this information would actually help others to understand the code better. Please fix this issue."},{"comment_id":134550447,"body":"Have a look at <a href=\"https://technojeeves.com/index.php/aliasjava1/64-java-login-with-cardlayout\" rel=\"nofollow noreferrer\">this</a>"},{"comment_id":134550470,"body":"Give the JTextField a column width, say of 10, <code>new JTextField(10)</code> as per <a href=\"https://stackoverflow.com/a/59887722/\">camickr&#39;s answer to this question</a>.  Also, don&#39;t set the dialog&#39;s size but rather call <code>pack()</code> on it after adding components and before displaying. Also, don&#39;t forget the weightx and weighty constraints which should be non-0."},{"comment_id":134550616,"body":"Also, your gridx and gridy values are not correct, but this is likely just a careless error since the correct usage should be fairly obvious with some experimentation. It&#39;s x and y, as in a cartesian plane, with increasing y going down. For example, the first JLabel should have x and y of 0, 0, no? Then the corresponding JTextField of 1, 0."},{"comment_id":134551324,"body":"Your gridx and gridy constraints in fact are all over the place, meaning that you&#39;re likely making wild guesses at how to use GridBagLayout. Best to avoid this and instead go to the source: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">GridBagLayout Tutorial</a>. In the future, best to do this first before asking here since this site is really not good as a substitute for these easy to find resources."}],"last_activity_date":1684692928,"question_id":76301183,"body":"<p>I need to make something like this image in swing:</p>\n<p><a href=\"https://i.stack.imgur.com/2ayAw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ayAw.png\" alt=\"enter image description here\" /></a></p>\n<p>This is what I have but it doesn't work at all. It doesn't align properly and my textFields are tiny and ChatGPT couldn't help.</p>\n<pre><code>public class ConnexionDialog extends JDialog {\n    private JTextField userField;\n    private JTextField hostAddr;\n    private JTextField hostPort;\n\n    public ConnexionDialog(JFrame parent) {\n        super(parent, &quot;Connexion&quot;, ModalityType.DOCUMENT_MODAL);\n        this.setSize(300, 200);\n\n        JPanel panel = new JPanel();\n        panel.setLayout(new GridBagLayout());\n\n        JLabel labelUsername = new JLabel(&quot;Username:&quot;);\n        GridBagConstraints gbcLabelUsername = new GridBagConstraints();\n        gbcLabelUsername.gridx = 0;\n        gbcLabelUsername.gridy = 1;\n        panel.add(labelUsername, gbcLabelUsername);\n\n        userField = new JTextField();\n        GridBagConstraints gbcUserfield = new GridBagConstraints();\n        gbcUserfield.fill = GridBagConstraints.HORIZONTAL;\n        gbcUserfield.gridx = 1;\n        gbcUserfield.gridy = 0;\n        panel.add(userField, gbcUserfield);\n\n        JLabel labelServeur = new JLabel(&quot;Serveur:&quot;);\n        GridBagConstraints gbcLabelServeur = new GridBagConstraints();\n        gbcLabelServeur.gridx = 0;\n        gbcLabelServeur.gridy = 4;\n        panel.add(labelServeur, gbcLabelServeur);\n\n        hostAddr = new JTextField();\n        GridBagConstraints gbcHostAddr = new GridBagConstraints();\n        gbcHostAddr.fill = GridBagConstraints.HORIZONTAL;\n        gbcHostAddr.gridx = 1;\n        gbcHostAddr.gridy = 3;\n        panel.add(hostAddr, gbcHostAddr);\n\n        JLabel labelPort = new JLabel(&quot;Port:&quot;);\n        GridBagConstraints gbcLabelPort = new GridBagConstraints();\n        gbcLabelPort.gridx = 0;\n        gbcLabelPort.gridy = 7;\n        panel.add(labelPort, gbcLabelPort);\n\n        hostPort = new JTextField();\n        GridBagConstraints gbcHostPort = new GridBagConstraints();\n        gbcHostPort.fill = GridBagConstraints.HORIZONTAL;\n        gbcHostPort.gridx = 1;\n        gbcHostPort.gridy = 6;\n        panel.add(hostPort, gbcHostPort);\n\n        panel.add(Box.createVerticalGlue());\n\n        JButton connectButton = new JButton(&quot;Rejoindre&quot;);\n        connectButton.addActionListener(e -&gt; {\n            this.setVisible(false);\n            String userName = userField.getText();\n            String serverAddress = hostAddr.getText();\n            int serverPort = Integer.parseInt(hostPort.getText());\n            connecter(serverAddress, serverPort);\n        });\n\n        this.add(panel, BorderLayout.NORTH);\n        this.add(connectButton, BorderLayout.SOUTH);\n        this.getRootPane().setDefaultButton(connectButton);\n    }\n\n    private void connecter(String serverAddress, int serverPort) {\n        // Logique de connexion à implémenter\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":8877149,"body":"&quot;what options do we have in querying and displaying tens of thousands of rows of data in Android?&quot; --&gt; eh? I can&#39;t even think why you might want to do that."},{"comment_id":8885308,"body":"@SK9 This was for porting a medical reference app from iPhone to Android. They literally had tens of thousands of records in these SQLite databases. Any sane person would start entering a search term to narrow down the list but the iPhone app supported manually scrolling through all of the data perfectly fine too. Thus they expected the Android app to behave the same way."},{"comment_id":38305170,"body":"I have a similar requirement.  One would be amazed at how many organizations use specialized apps in this manner."}],"answers":[{"comments":[{"comment_id":1250437,"body":"Unfortunately, it works like a charm on the iPhone and the client is expecting comparable performance. In this instance, it&#39;s just flat out breaking and that&#39;s all bad. We&#39;re breaking the query out to load a few rows at a time. The issue is when they &quot;fling&quot; to the bottom and expect to get to the bottom of the list."},{"comment_id":1250636,"body":"<i>shrug</i> Find some way to keep your query results under 1MB. Request fewer columns. Pack your data better (e.g., don&#39;t use 8 INTEGER columns each for a boolean value -- use one INTEGER column and bitmasks). Come up with a UX that allows the user to consistently filter better, so you won&#39;t run into a 20K row result set. You can try to work around SQLiteCursor/SQLiteQuery using a CursorWindow, but I suspect your performance will be nasty."},{"comment_id":1254058,"body":"I guess I wonder then what is the best way to scroll through a list smoothly when you have a table with 42,000 items and you&#39;re loading 30-40 at a time. It works for smaller tables but using LIMIT and OFFSET in the query for this particular database still causes ANR&#39;s and hiccups in the scrolling."},{"comment_id":1280761,"body":"Have you thought about adjusting your UI MattC? For instance if, rather than a scrollbar, you could use up and down arrows to move the cursor position. This forces the user to make more device interaction, but makes them more forgiving of delay. It&#39;s not the best solution, but it would get rid of the unresponsiveness."},{"comment_id":1280765,"body":"Another hack you could do: measure the rate of scrolling you can handle without uncomfortable pauses and artificially limit the users rate of scrolling to that."},{"comment_id":6986906,"body":"It simple first get 100 rows using limit and when user scrolls down see at which number of row is currently and you can use re-query to load more data. If you are puting data in listview you can use managed cursor. Kindly see endless listview in android."}],"answer_id":1408132,"body":"<blockquote>\n  <p>what options do we have in querying\n  and displaying tens of thousands of\n  rows of data in Android?</p>\n</blockquote>\n\n<p>You mean besides telling you that reading 20,000+ rows on a 3.5\" LCD is bat-guano crazy? ;-)</p>\n\n<p>It looks like <code>CursorWindow</code>, which is used somewhere under the covers, is having issues managing >17,000 rows. That could be one of two things:</p>\n\n<ol>\n<li>You are out of heap space. With a 16MB non-compacting heap, and the fact that a <code>Cursor</code> holds the entire result set in the heap, that is not out of the question.</li>\n<li><code>CursorWindow</code> only supports 1MB of data, which is what the error message suggests more directly.</li>\n</ol>\n\n<p>If there is a logical way to divide your queries into discrete chunks, you could do incremental queries and use <code>CursorJoiner</code> to stitch them together, and see if that helps.</p>\n\n<p>But, in all seriousness, 20,000+ rows in a 3.5\" screen, on a device that most closely resembles a 12-year-old PC in horsepower, is really asking a lot.</p>\n"},{"answer_id":9884965,"body":"<p>If you really need that you can also split your data and read chunks like this:</p>\n\n<pre><code>   int limit = 0;\n   while (limit + 100 &lt; numberOfRows) {\n       //Compose the statement\n       String statement = \"SELECT * FROM Table ORDER someField LIMIT '\"+ limit+\"', 100\";\n       //Execute the query\n       Cursor cursor = myDataBase.rawQuery(statement, null);\n       while (cursor.moveToNext()) {\n           Product product = new Product();\n           product.setAllValuesFromCursor(cursor);\n           productsArrayList.add(product);\n      }\n      cursor.close();\n      limit += 100;\n }\n\n //Compose the statement\n String statement = \"SELECT * FROM Table ORDER someField LIMIT '\"+  (numberOfRows - limit)+\"', 100\";\n //Execute the query\n Cursor cursor = myDataBase.rawQuery(statement, null);\n\n while (cursor.moveToNext()) {\n     Product product = new Product();\n     product.setAllValuesFromCursor(cursor);\n     productsArrayList.add(product);\n }\n cursor.close();\n</code></pre>\n\n<p>It's working under 2 s for 5k rows if you have indexed table.</p>\n\n<p>Thanks,\nArkde</p>\n"},{"answer_id":17712265,"body":"<p>In my experience, limiting queries makes it take a lot longer to get results because starting new cursors is expensive for low limits. I tried doing 62k rows with 1k and even 10k limit just now and it is very slow and unusable since I have to start more than 6 cursors. I'll just stick with not supporting 2.3.3.... It is the latest build that I get CursorWindow ERROR instead of WARN.</p>\n\n<p>Here is what I did though. This is probably the best algorithm I think. Don't have to do queries twice etc. However, it can get pretty slow with big queries and small limits so you have to test out what works best a lot. In my case, it's not fast enough for my purposes since it doesn't handle 62k rows well.</p>\n\n<pre><code>int cursorCount = 0;\nint limit = 1000; //whatever you want\nwhile (true)\n{\n    Cursor cursor = builder.query(mDatabaseHelper.getReadableDatabase(), columns, selection, selectionArgs, null, null, null, Integer.toString(limit));\n    if (cursor == null) {\n        return null;\n    } else if (!cursor.moveToFirst()) { //if it is empty, return null\n        return null;\n    }\n    cursorCount = cursor.getCount();\n    if (cursorCount % limit != 0)\n    {\n        return cursor;\n    }\n    limit+=1000; //same amount as the one above\n} \n</code></pre>\n"},{"answer_id":76301279,"body":"<p>When cursor.getCount(); is an empty cursor, it will return 0 and the modulus operation <code>cursorCount % limit</code> will throw a <code>java.lang.ArithmeticException: divide by zero</code> error. Here are the updated codes:</p>\n<pre><code>    int cursorCount = 0;\n    int limit = 1000; //whatever you want\n\n    while (true) {\n\n        //add codes for executing database query\n\n        cursorCount = cursor.getCount();\n        if (cursorCount &gt; 0 &amp;&amp; cursorCount % limit != 0) {\n            return cursor;\n        }\n        limit += 1000; //same amount as the one above\n\n        if (cursorCount == 0) {\n            cursor.close(); // close the cursor if it's empty\n            return null; // return null to indicate no suggestion found\n        }\n    }\n</code></pre>\n"}],"last_activity_date":1684692638,"question_id":1407442,"body":"<p>We are creating an app for a client that has hundreds of megabytes of HTML in SQLite databases. We have implemented a way to query this data and scroll through it all in a reasonably fast manner. The issue is that some of the databases have very large queries (20,000+ rows) and we are seeing errors when we are growing the queries as the user is scrolling. So I guess the question is, what options do we have in querying and displaying tens of thousands of rows of data in Android?</p>\n\n<p>Here is the stacktrace we're seeing:</p>\n\n<pre><code>09-10 19:19:12.575: WARN/IInputConnectionWrapper(640): showStatusIcon on inactive InputConnection\n09-10 19:19:18.226: DEBUG/dalvikvm(640): GC freed 446 objects / 16784 bytes in 330ms\n09-10 19:19:32.886: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 36, freeSpace() = 30, numRows = 17717\n09-10 19:19:32.896: ERROR/CursorWindow(19416): not growing since there are already 17717 row(s), max size 1048576\n09-10 19:19:32.916: ERROR/CursorWindow(19416): The row failed, so back out the new row accounting from allocRowSlot 17716\n09-10 19:19:33.005: ERROR/Cursor(19416): Failed allocating fieldDir at startPos 0 row 17716\n09-10 19:19:35.596: DEBUG/Cursor(19416): finish_program_and_get_row_count row 24315\n09-10 19:19:41.545: DEBUG/dalvikvm(698): GC freed 2288 objects / 126080 bytes in 260ms\n09-10 19:19:43.705: WARN/KeyCharacterMap(19416): No keyboard for id 0\n09-10 19:19:43.717: WARN/KeyCharacterMap(19416): Using default keymap: /system/usr/keychars/qwerty.kcm.bin\n09-10 19:20:04.705: ERROR/CursorWindow(19416): need to grow: mSize = 1048576, size = 17, freeSpace() = 3, numRows = 17094\n09-10 19:20:04.716: ERROR/CursorWindow(19416): not growing since there are already 17094 row(s), max size 1048576\n09-10 19:20:04.726: ERROR/Cursor(19416): Failed allocating 17 bytes for text/blob at 17093,2\n09-10 19:20:05.656: DEBUG/Cursor(19416): finish_program_and_get_row_count row 5257\n09-10 19:24:54.685: DEBUG/dalvikvm(637): GC freed 9297 objects / 524176 bytes in 247ms\n09-10 19:32:07.656: DEBUG/dalvikvm(19416): GC freed 9035 objects / 495840 bytes in 199ms\n</code></pre>\n\n<p>Here is our CursorAdapter code:</p>\n\n<pre><code>    private class MyAdapter extends ResourceCursorAdapter {\n\n    public MyAdapter(Context context, Cursor cursor) {\n        super(context, R.layout.my_row, cursor);        \n    }\n\n    public void bindView(View view, Context context, Cursor cursor) {                \n        RowData data = new RowData();\n        data.setName(cursor.getInt(cursor.getColumnIndex(\"name\")));\n\n        TextView tvItemText = (TextView)view.findViewById(R.id.tvItemText);\n        tvItemText.setText(data.getName());\n\n        view.setTag(data);\n    }\n\n    @Override\n    public Cursor runQueryOnBackgroundThread(CharSequence constraint) {\n        /* Display the progress indicator */\n        updateHandler.post(onFilterStart);\n\n        /* Run the actual query */               \n        if (constraint == null) {\n            return myDbObject.getData(null);                     \n        }\n\n        return myDbObject.getData(constraint.toString());                \n    }            \n}\n</code></pre>\n"},{"comments":[{"comment_id":72587022,"body":"<code>inTry()</code> always throws an exception. Does that make any sense?"},{"comment_id":72587294,"body":"It&#39;s just for example. I have real project, where it needed. In case when some external resource is unavailable need to implement &#39;retry&#39; functionality."}],"answers":[{"comments":[{"comment_id":72587393,"body":"So, you thing, that problem in the missing aspectj-maven-plugin?"},{"comment_id":72587783,"body":"If I add aspectj-maven-plugin it work. Many thanks for your answer, but it&#39;s compile time weaving, I try to implement pure spring-aop - runtime weaving. <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/aop.html#aop-introduction-defn\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/current/spring-framework-referenc&zwnj;&#8203;e/&hellip;</a>"},{"comment_id":72588276,"body":"No, that is not the solution. AspectJ Maven Plugin is for full-blown AspectJ compile-time or subsequent load-time weaving. It is absolutely not necessary for proxy-based Spring AOP. If it helped in your case then just because you implicitly switched from Spring AOP to AspectJ, not solving but just avoiding your real problem."},{"comment_id":72588524,"body":"You could also try to write out the annotation&#39;s name with package in your pointcut: @Around(&quot;execution(* *(..)) &amp;&amp; @annotation(com.my.package.RetryOnFailure)&quot;)"},{"comment_id":72591406,"body":"@MatthiasDanetzky, thank you so much. I decided, that I&#39;ll switch to compile time weaving due to application design. Thanks!"}],"answer_id":42734123,"body":"<p>I've had a similar problem and I managed to solve it using AspectJ:</p>\n\n<p><a href=\"https://github.com/mdanetzky/tour-of-heroes-java\" rel=\"nofollow noreferrer\">https://github.com/mdanetzky/tour-of-heroes-java</a></p>\n\n<p>Also - it took me some time to find out, that my IDEA didn't rebuild aspects properly, so it might be worth trying to clean/rebuild the project before you try some more drastic measures.</p>\n"},{"comments":[{"comment_id":72591344,"body":"Thanks so much for explanation. Yes, you&#39;re right. The question&#39;s point was &#39;WHY?!?&#39;, and you described it well. Cheers!"}],"answer_id":42735463,"body":"<p>You made a typical Spring AOP beginners' mistake: You forgot that proxy-based AOP only works if proxy methods are called from outside, not via <code>this</code> (avoiding the proxy). But the internal call <code>inTry()</code> is the same as <code>this.inTry()</code>. Thus, the aspect never triggers for <code>inTry</code> and you have to rearrange your code like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package spring.aop;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.concurrent.TimeUnit;\n\n@RestController(\"/\")\npublic class HomeController {\n\n    static int counter = 0;\n\n    @RequestMapping\n    @RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\n    public String index() {\n        throw new RuntimeException(\"Exception in try \" + ++counter);\n    }\n}\n</code></pre>\n\n<p>I also changed the aspect a little bit so as to</p>\n\n<ul>\n<li>avoid reflection and bind the annotation to an advice parameter directly via <code>@annotation()</code>,</li>\n<li>log the joinpoint when the advice is triggered and</li>\n<li>return \"OK\" on try #3 (just for fun, not necessary).</li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>package spring.aop;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic final class MethodRepeater {\n\n    @Around(\"execution(* spring.aop..*(..)) &amp;&amp; @annotation(retryOnFailure)\")\n    public Object wrap(final ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\n        System.out.println(joinPoint);\n        return proceed(joinPoint, retryOnFailure);\n    }\n\n    private Object proceed(ProceedingJoinPoint joinPoint, RetryOnFailure retryOnFailure) throws Throwable {\n        int attempt = 1;\n        while (true) {\n            try {\n                return joinPoint.proceed();\n            } catch (final Throwable ex) {\n                System.out.println(\"Try #\" + attempt + \" failed: \" + ex);\n                if (++attempt &gt;= retryOnFailure.attempts())\n                    return \"OK\";\n                if (retryOnFailure.delay() &gt; 0L)\n                    retryOnFailure.unit().sleep(retryOnFailure.delay());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Now it works and the console log says:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>execution(String spring.aop.HomeController.index())\nTry #1 failed: java.lang.RuntimeException: Exception in try 1\nTry #2 failed: java.lang.RuntimeException: Exception in try 2\n</code></pre>\n"},{"answer_id":76301195,"body":"<p><strong>5/2023</strong> <code>for AspectJ</code></p>\n<p>MyApplication.java</p>\n<pre><code>@SpringBootApplication\npublic class AopjApplication {\n  public static void main(String[] args) {\n    ConfigurableApplicationContext cntx = SpringApplication.run(AopjApplication.class, args);\n    A a=cntx.getBean(A.class);\n    a.chirp();      \n  }\n}\n</code></pre>\n<p>adding AspectJ to <em>build.gradle</em></p>\n<pre><code>dependencies {\n  implementation 'org.springframework.boot:spring-boot-starter'\n  implementation 'org.aspectj:aspectjweaver:1.9.19'  //currently last version\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n<p>A.java :</p>\n<pre><code>public class A {\n  public void chirp() {\n    System.out.print(11111);\n  }\n}\n</code></pre>\n<p>MyConfig.java</p>\n<pre><code>@Configuration\n@EnableAspectJAutoProxy\npublic class MyConfig {\n  @Bean\n  public A a() {\n    return new A();\n  }\n  @Bean\n  public B b() {\n    return new B();\n  }\n. . .\n  @Bean\n  public MyAspect myAspect() {\n    return new MyAspect();\n  }\n}\n</code></pre>\n<p>MyAspect.java</p>\n<pre><code>@Aspect\npublic class MyAspect {\n  @Before(&quot;execution(* mypackage.A.chirp())&quot;)\n  public void aa() {\n    System.out.print(2222);\n    }   \n}\n</code></pre>\n<p>I ve run that and now  console shows :</p>\n<pre><code>2023-05-21T22:47:34.035+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Starting AopjApplication using Java 17.0.6 with PID 9332 (C:\\Users\\erics\\eclipse-workspace\\aopj\\bin\\main started by erics in C:\\Users\\erics\\eclipse-workspace\\aopj)\n2023-05-21T22:47:34.045+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-21T22:47:35.566+05:00  INFO 9332 --- [           main] mypackage.AopjApplication                    : Started AopjApplication in 2.33 seconds (process running for 3.303)\n2222\n11111\n</code></pre>\n"}],"last_activity_date":1684691408,"question_id":42733826,"body":"<p>I've made a simple web application using Spring Boot and Spring Initializr and tried to write <strong>@Aspect</strong> with <strong>@Around</strong> advice.</p>\n\n<p>When I add my custom annotation <strong>@RetryOnFailure</strong> to the controllers' endpoint method - it works, but when I add this annotation to the controllers' method, that executed by controllers endpoint - it doesn't work. I spend a lot of time for understanding the reason for such behavior, but without any result. So please help.</p>\n\n<p>Project located here: <a href=\"https://github.com/zalizko/spring-aop-playground\" rel=\"nofollow noreferrer\">https://github.com/zalizko/spring-aop-playground</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic final class MethodRepeater {\n\n    @Around(\"execution(* *(..)) &amp;&amp; @annotation(RetryOnFailure)\")\n    public Object wrap(final ProceedingJoinPoint joinPoint) throws Throwable {\n        // code is here\n    }\n}\n</code></pre>\n\n<p>So, my goal is that:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping\npublic String index() {\n    inTry();\n    return \"OK\";\n}\n\n\n@RetryOnFailure(attempts = 3, delay = 2, unit = TimeUnit.SECONDS)\npublic void inTry() {\n    throw new RuntimeException(\"Exception in try \" + ++counter);\n}\n</code></pre>\n"},{"comments":[{"comment_id":105146428,"body":"Can you add sample input with the corresponding expected output? It&#39;s hard to understand your description."},{"comment_id":105146773,"body":"@Eran added a sample i/p -&gt; o/p. right now this code only returns the first teamId for each employee. including the manager ID is optional. But is the filter and map combo format is correct? I am having issues with that. Filtering based on one column and taking a different column into the array."},{"comment_id":105146836,"body":"What should the type of the output be?"},{"comment_id":105147095,"body":"@Eran need it as <code>String[]</code>"},{"comment_id":105147130,"body":"How can you store in a single String array the list of team IDs for each employee ID? It sounds like you need a <code>Map&lt;String,List&lt;String&gt;&gt;</code> or <code>Map&lt;String,String[]&gt;</code>."},{"comment_id":105147359,"body":"@Eran each employeeid has a seperate <code>String[]</code>. So for a table with two distinct employees there would be three string arrays. One for list of employees and then two array of team member Ids for each employee Id."},{"comment_id":105147388,"body":"need to invoke a different function by passing a <code>String[]</code> as argument. for each employee I would invoke the function with their <code>team member Id</code> array"}],"answers":[{"comments":[{"comment_id":105147980,"body":"did the <code>teamIds.length-1</code> after getting a <code>outofbounds</code> exception. but the proper value isn&#39;t being filtered and mapped in either of the <code>list.streams.filter.map</code>  <code>.filter(obj -&gt; obj.getId().equals(id)).map(ViewData::getManagerId)</code> is what I was using but this is storing the first matching value into the string[] over and over. So applying distinct returns a array of size 1. So <code>alex</code> gets <code>1101</code> and <code>bran</code> gets <code>1301</code>. That is why I thought it was a logic issue with <code>map</code> part."},{"comment_id":105148053,"body":"@BharathYes Are you sure that your input contains multiple distinct team Ids for the same emp Ids? If so, it shouldn&#39;t return a single value. What happens if you remove the <code>distinct()</code>?"},{"comment_id":105148197,"body":"Yes. without distinct it returns the first value repeated the right amount of time. So <code>alex</code> gets <code>1101</code> four times and <code>bran</code> gets <code>1301</code> five times. I am trying to split this into two. Filter and create a <code>List</code> and then map the values of of that new <code>List</code>"},{"comment_id":105148258,"body":"@BharathYes it doesn&#39;t make sense. Perhaps your input list (returned by <code>getDataList()</code>) doesn&#39;t contain what you think it does. Did you try to print that <code>List</code> (assuming <code>ViewData</code> overrides <code>toString()</code>)?"},{"comment_id":105153018,"body":"You are right. Sorry. My data after fetching is incorrect"}],"answer_id":59486158,"body":"<p>Based on the question and comments, what you need is:</p>\n\n<pre><code>for (String id : allIds) {\n    String[] teamIds = list.parallelStream()\n                           .filter(row -&gt; row.getId().equals(id))\n                           .map(ViewData::getTeamId).distinct()\n                           .toArray(String[]::new);\n\n    teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\n    teamIds[teamIds.length - 1] = list.parallelStream()\n                                      .filter(obj -&gt; obj.getId().equals(id))\n                                      .map(ViewData::getManagerId)\n                                      .findFirst()\n                                      .orElse(null);\n\n    System.out.println(teamIds.length + \"\\n\");\n}\n</code></pre>\n"}],"last_activity_date":1684691303,"question_id":59483996,"body":"<p>A table about employees has following data: employee Id, employee name, their manager's Id and their team members' Id. Each employee would have multiple entries based on their team size. Say an employee with 5 other members in their team would have five rows with the employee and manager id repeated each with one team member's id.</p>\n<p>Sample table:</p>\n<pre><code>employeeId | employeeName | managerId | teamEmployeeId |\n-------------------------------------------------------\n1000       | Alex         | 4000      | 1101           |\n1200       | Bran         | 4100      | 1301           |\n1200       | Bran         | 4100      | 1302           |\n1000       | Alex         | 4000      | 1102           |\n1200       | Bran         | 4100      | 1303           |\n1000       | Alex         | 4000      | 1103           |\n1200       | Bran         | 4100      | 1304           |\n1200       | Bran         | 4100      | 1305           |\n1000       | Alex         | 4000      | 1104           |\n</code></pre>\n<p>The goal is to split each employees' team IDs (with the manager id too) into a separate array to be used later.</p>\n<p>Expected result:</p>\n<pre><code>allIds:\n1000\n1200\n\nteamIds for &quot;Alex&quot; :\n1101\n1102\n1103\n1104\n4000\n\nteamIds for &quot;Bran&quot; :\n1301\n1302\n1303\n1304\n1305\n4100\n</code></pre>\n<p>The first part of getting unique employee ids is working (based on this <a href=\"https://stackoverflow.com/questions/59470049/create-an-array-of-string-with-an-element-from-a-list/59470099\">answer</a>). But trying to split the team members by using the employee id returns the first value, but the correct number of times. Say: a team with 5 returns an array of five with the first member's id in all. Manager's id isn't being added.</p>\n<p>The code I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ViewData&gt; list = getDataList();\n        \nString[] allIds = list.parallelStream()\n    .map(ViewData::getId).distinct().toArray(String[]::new);\n        \nSystem.out.println(allIds.length + &quot;\\n&quot;);\n        \nfor (String id : allIds) {\n            \n    String[] teamIds = list.parallelStream()\n        .filter(row -&gt; row.getId().equals(id))\n        .map(ViewData::getTeamId).distinct()\n        .toArray(String[]::new);\n            \n    teamIds = Arrays.copyOf(teamIds, teamIds.length+1 );\n    teamIds[teamIds.length] = list.parallelStream()\n        .filter(obj -&gt; obj.getId().equals(id))\n        .map(ViewData::getManagerId).toString();\n    System.out.println(teamIds.length + &quot;\\n&quot;);\n}\n</code></pre>\n<p>I understand this is a logical error. All the docs I have referred for filter() shows the syntax is correct. My understanding is the filter() returns the entire row whose id matches with the one I am looping through and the map() takes out the team member's id from that row and finally everything is returned as a string array.</p>\n<p>Where have I gone wrong? Writing the code or understanding how these functions work?</p>\n<hr />\n<p>edit:</p>\n<blockquote>\n<p>if a table like this causes duplicates/repeat rows(particularly the exact number of time it is supposed to be present):</p>\n</blockquote>\n<p>a view without a primary key (i.e., no guaranteed unique column ) needs a composite primary key derived by combining two columns that would then be unique.</p>\n<ul>\n<li><p>Create a separate <code>@Embeddable</code> class for composite key combo</p>\n</li>\n<li><p>Add it to main model class:\n<code>@EmbeddedId private UniqueId uniqueId;</code></p>\n</li>\n<li><p>Proceed with the exisiting logic as in the answer:</p>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>for (String id : allIds) {\n    String[] teamIds = list.stream()\n        .filter(row -&gt; row.getUniqueId().getId().equals(id))\n        .map(obj -&gt; obj.getUniqueId().getTeamEmployeeId())\n        .toArray(String[]::new);\n\n    teamIds = Arrays.copyOf(teamIds, teamIds.length + 1);\n    teamIds[teamIds.length - 1] = list.stream()\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\n        .map(ViewData::getManagerId).findFirst().orElse(&quot;&quot;);            \n    \n    String empName = list.stream()\n        .filter(obj -&gt; obj.getUniqueId().getId().equals(id))\n        .map(ViewData::getName).findFirst().orElse(&quot;&quot;);\n}\n</code></pre>\n<hr />\n<p>Update:</p>\n<p>This was a terribly complicated solution from a limited understanding of data structures. A simpler (slightly redundant) solution using Set's auto de-duplication:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Set&lt;Integer&gt;&gt; res = new HashMap&lt;&gt;();\nemployeeDetails.forEach(o-&gt; {\n    Integer empId = o.empId;\n    if(!res.containsKey(empId)) res.put(empId, new HashSet&lt;&gt;());\n        res.get(empId).addAll(Set.of(o.teamMemberId, o.managerId));\n});\nreturn res;\n</code></pre>\n<p>Even this isn't a very optimal solution. It makes a lot of access and modification to the <code>res</code> map and its values. But in contrast to the previous approach this only goes through the list of records once. Some basic bench marking on both solutions shows the newer approach is 3-4 times faster for record of 1000 size and 10x for size in 100s.</p>\n<p>But going 5000+ brings both closer as they both get bogged down by the number of objects created to store the results and their access.</p>\n"},{"last_activity_date":1684690639,"question_id":76301151,"body":"<p>ich möchte gerne ein login Seite mit Spring Security und LDAP programmieren. Die html Seite habe ich schon ich weiß aber nicht wie ich die SecurityConfig.java programmieren soll. Ich will LDAP nutzen, aber ich will erstmal nur mit einem einfachen Username= admin und Passwort= admin mich einloggen.</p>\n<p>ich habe erstmal eine SecurityFilterChain Methode angelegt und weiter komme ich nicht</p>\n"},{"comments":[{"comment_id":134550313,"body":"There are many, many ways to go about this. You can look into: <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/data-binding</a> , but also look into UI callbacks: <a href=\"https://www.onespan.com/blog/callback-methods-overview\" rel=\"nofollow noreferrer\">onespan.com/blog/callback-methods-overview</a>"},{"comment_id":134555263,"body":"Thank you for pointing me in the right direction."}],"last_activity_date":1684690283,"question_id":76301125,"body":"<p>I have a class called APIManager.java which handles the API call and receives the response, I parse the JSON data there and I am able to extract the data in that class. Now I have a Gridlayout in my MainActivity.class where I need to pass the received data. But when I try to pass the data in the Gridlayout, after calling the APImanager.fetchData method, it throws a null reference error, since obviously it thinks the data is immediately available when it is not.</p>\n<p>I am new to Java development and cannot find a way to resolve this. Can anyone please point me in the right direction on how to do this?</p>\n"},{"comments":[{"comment_id":134550301,"body":"<code>private void PaintPanelDraw() {</code> is not how you draw on JPanels with Swing, nor should you call <code>getGraphics()</code> on a JPanel to obtain a Graphics object since the object thus obtained will not be stable and will not persist. . Instead, you should override the JPanel&#39;s <code>protected void paintComponent(Graphics g)</code> method and draw the rectangle there as per the <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Lesson: Performing Custom Painting</a> tutorial."},{"comment_id":134550310,"body":"As an aside, you will want to learn and use <a href=\"http://en.wikipedia.org/wiki/Naming_convention_(programming)#Java\" rel=\"nofollow noreferrer\">Java naming conventions</a>. Variable names should all begin with a lower letter while class names with an upper case letter. Learning this and following this will allow us to better understand your code, and would allow you to better understand the code of others."}],"last_activity_date":1684690084,"question_id":76301113,"body":"<p>I have problems to show graphic shapes in a panel when it opens, using java swing GUI application.</p>\n<p>The following code was generated by Netbeans 17 for a Swing application. It is just a tabbed frame with two tabs with their corresponding Jpanels. I want to paint a square in the panel &quot; jPanelDraw&quot;. That means, when this tab is selected and  corresponding panel shows, the figure must appear. Nevertheless, it does not happen. What is wrong?</p>\n<pre><code>\npackage my.simple;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\n\npublic class SimpleUI extends javax.swing.JFrame {\n    \n    Graphics gp;\n\n    public SimpleUI() {\n        initComponents();\n        PaintPanelDraw();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n\n    private void initComponents() {\n        jTabbedPane = new javax.swing.JTabbedPane();\n        jPanelDraw = new javax.swing.JPanel();\n        jPanelWrite = new javax.swing.JPanel();\n        [...]\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    public static void main(String args[]) {\n        [...]\n    }\n    \n    private void PaintPanelDraw() {\n        gp = jPanelDraw.getGraphics();\n        gp.setColor(Color.RED);\n        gp.fillRect(10, 100, 100, 100);\n    }  \n\n    private javax.swing.JPanel jPanelDraw;\n    private javax.swing.JPanel jPanelWrite;\n    private javax.swing.JTabbedPane jTabbedPane;\n}\n</code></pre>\n"},{"comments":[{"comment_id":134550148,"body":"Did you check in the default maven dependency download location? .m2 folder?"},{"comment_id":134550190,"body":"OMG you&#39;re right ! they are there ! We should probably search for a duplicate to close this question"},{"comment_id":134550212,"body":"I voted to close my question as a duplicate"},{"comment_id":134550604,"body":"Aside: If you want to copy a project&#39;s JARs to a specific directory (e.g. so they are all in one place), you can use Maven&#39;s <a href=\"https://stackoverflow.com/q/97640/12567365\">copy-dependencies</a>."}],"last_activity_date":1684689135,"question_id":76301050,"body":"<p>When I use <code>mvn install</code>, it hides my downloaded files ! <code>[[mystery music]]</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Main {\n\n  public static void main(String[] args) {\n    Logger logger = LoggerFactory.getLogger(Main.class);\n    logger.info(&quot;Example log from {}&quot;, Main.class.getSimpleName());\n  }\n}\n</code></pre>\n<p>I can manually download the relevant jars, and everything is fine:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-api/2.0.7/slf4j-api-2.0.7.jar\n$ wget https://repo1.maven.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\n$ java -cp slf4j-api-2.0.7.jar:slf4j-simple-2.0.7.jar Main.java\n[main] INFO Main - Example log from Main\n</code></pre>\n<p>When I try using <code>pom.xml</code>, it doesn't work:</p>\n<pre><code>&lt;project&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.mycompany.app&lt;/groupId&gt;\n  &lt;artifactId&gt;my-app&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n  &lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.7&lt;/version&gt;\n  &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I <em>do</em> see the <code>*.jar</code> files get downloaded, but I have no idea where they end up</p>\n<pre><code>$ mvn install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] ----------------------&lt; com.mycompany.app:my-app &gt;----------------------\n[INFO] Building my-app 1\n[INFO] --------------------------------[ jar ]---------------------------------\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.pom (1.1 kB at 2.4 kB/s)\nDownloading from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar\nDownloaded from central: https://repo.maven.apache.org/maven2/org/slf4j/slf4j-simple/2.0.7/slf4j-simple-2.0.7.jar (16 kB at 139 kB/s)\n</code></pre>\n"},{"comments":[{"comment_id":134549992,"body":"&quot;The debuger&quot;? Which debugger/IDE are you using?"},{"comment_id":134550016,"body":"add an &quot;empty line&quot; to input!(?) / hit &lt;kbd&gt;Enter&lt;/kbd&gt; (to signal <code>! scanner.hasNextLine()</code>)"},{"comment_id":134550036,"body":"The code works for me, I could set a break point on the line <code>System.out.println()</code> in the main method.  You&#39;ll have to provide more details if for us to give you an answer."},{"comment_id":134550045,"body":"After setting the breakpoints, did you run the program in debug mode? (It&#39;s a mistake I&#39;ve been known to make. I click on the &quot;run&quot; icon instead of the &quot;debug&quot; icon.)  A more likely possibility is the program flow never reaches the set breakpoints. Try setting breakpoints at earlier locations, and use one of the &quot;step-by-step&quot; tools to follow the flow of the program."},{"comment_id":134550097,"body":"After looking at Old Dog&#39;s comment and my own &quot;answer&quot; something that occurs to me is that <code>System.in</code> never actually closes.  Thus the <code>Scanner</code> never stops reading.  So you might never hit break points because you never reach the code which is after the part that reads input.  <code>StringReader</code> which I used below does close input for <code>Scanner</code>."}],"answers":[{"answer_id":76301027,"body":"<p>This is not an answer, but:</p>\n<p>(I'm going to take back the &quot;not an answer&quot; part, this might be an answer.  Repeating my comment:)</p>\n<p>(The <code>StringReader</code> that I used here to debug your code closes the input to <code>Scanner</code>.  <code>System.in</code> never actually closes.  Thus you never actually reach the code that is after the part that reads input.  You might try this version, it'll help you reach those statements.)</p>\n<p>Something that might help is your input might be in question.  Typing all of what you have there is pretty complicated and might be error prone.</p>\n<p>If you use a string inside the program as your input, it's reproducible for you and for us also.  Then we can all be assured that we are seeing the same issues with the code.</p>\n<p>For example, add some test vectors to your code:</p>\n<pre><code>class ProcessDeliveryOrders {\n   \n   static String testVectors = &quot;1|2021-09-03|112 Mammoth Street, Colorado Springs, CO 80911\\n&quot; +\n&quot;2|2021-09-05|369 Woodside Court, Troy, NY 12180\\n&quot; +\n&quot;3|2021-09-02|837 Bowman Street, Helena, MT 59601\\n&quot; +\n&quot;4|2021-09-03|112 Mammoth Street, Colorado Springs, CO 80911&quot;;\n</code></pre>\n<p>To do this I literally just copied the strings you have in your question and pasted them in between the quotes of a string literal <code>&quot;&quot;</code>.</p>\n<p>Then just use that string as &quot;input&quot; in your program:</p>\n<pre><code>public static void main(String[] args) {\n    final Scanner scanner = new Scanner( new StringReader( testVectors ) );\n\n    List&lt;DeliveryOrder&gt; orders = Stream.iterate(1, i -&gt; scanner.hasNextLine(), //... etc.\n</code></pre>\n<p>Now your code works exactly the same way for everyone, and we can all debug exactly the same problems.</p>\n"}],"last_activity_date":1684689031,"question_id":76300961,"body":"<pre><code>import java.time.LocalDate;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nclass ProcessDeliveryOrders {\n\n    public static DeliveryOrder findFirstOrder(List&lt;DeliveryOrder&gt; orders) {\n        return new DeliveryOrder();  // Breakpoint.\n        // write your code here\n    }\n\n    public static void printAddressesToDeliver(List&lt;DeliveryOrder&gt; orders) {\n        System.out.println(); // Breakpoint.\n        // write your code here\n    }\n\n    public static void main(String[] args) {\n        final Scanner scanner = new Scanner(System.in);\n\n        List&lt;DeliveryOrder&gt; orders = Stream.iterate(1, i -&gt; scanner.hasNextLine(), i -&gt; i + 1)\n                .map(i -&gt; scanner.nextLine().split(&quot;\\\\|&quot;))\n                .map(parts -&gt; new DeliveryOrder(\n                        Long.parseLong(parts[0]), parts[2], LocalDate.parse(parts[1])))\n                .collect(Collectors.toList());\n\n        System.out.println(findFirstOrder(orders));  // Breakpoint.\n\n        printAddressesToDeliver(orders);\n    }\n}\n\nclass DeliveryOrder {\n    private final long orderId;\n    private final String address;\n    private final LocalDate deliveryDate;\n    // there are even more fields: customer name, phone, products info, etc\n\n    public DeliveryOrder() {\n        this.orderId = -1;\n        this.address = &quot;No address&quot;;\n        this.deliveryDate = LocalDate.MIN;\n    }\n\n    public DeliveryOrder(long orderId, String address, LocalDate deliveryDate) {\n        this.orderId = orderId;\n        this.address = address;\n        this.deliveryDate = deliveryDate;\n    }\n\n    public static Comparator&lt;DeliveryOrder&gt; getComparatorByDeliveryDate() {\n        return Comparator.comparing(DeliveryOrder::getDeliveryDate);\n    }\n\n    public long getOrderId() {\n        return orderId;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public LocalDate getDeliveryDate() {\n        return deliveryDate;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n        DeliveryOrder that = (DeliveryOrder) o;\n        return address.equals(that.address) &amp;&amp;\n                deliveryDate.equals(that.deliveryDate);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(address, deliveryDate);\n    }\n\n    @Override\n    public String toString() {\n        return orderId + &quot;|&quot; + deliveryDate + &quot;|&quot; + address;\n    }\n}\n</code></pre>\n<p>This is a learning task.</p>\n<p>To run it I enter this into the console:</p>\n<p>Sample Input:</p>\n<pre><code>1|2021-09-03|112 Mammoth Street, Colorado Springs, CO 80911\n2|2021-09-05|369 Woodside Court, Troy, NY 12180\n3|2021-09-02|837 Bowman Street, Helena, MT 59601\n4|2021-09-03|112 Mammoth Street, Colorado Springs, CO 80911\n</code></pre>\n<p><strong>Problem</strong></p>\n<p>The debugger never reaches any of the three breakpoints marked in the code.\nWithout stopping on each of these breakpoints I can't understand the task and proceed.</p>\n<p>Could you help me understand:</p>\n<ol>\n<li>Why the debugger never reaches any of these breakpoints?</li>\n<li>How to cope with this problem?</li>\n</ol>\n"},{"last_activity_date":1684688350,"question_id":76301006,"body":"<p>I am trying to run <a href=\"https://haystack.deepset.ai/tutorials/03_scalable_qa_system\" rel=\"nofollow noreferrer\">this</a> google Colab example in a Jupyter notebook in visual code studio. (System: Ubuntu). When I try to Initialize the ElasticsearchDocumentStore, step 2 in the linked tutorial, I am getting the following error: <code>could not find java in bundled jdk at /home/user/Downloads/elasticsearch-7.9.2/jdk/bin/java</code>.</p>\n<p>I tried to implement the top (and accepted) reply on <a href=\"https://stackoverflow.com/questions/64069739/elasticsearch-could-not-find-java-in-bundled-jdk-at-jdk-bin-java\">this</a> question. Right now the <code>$JAVA_HOME</code> variable path is set correctly, <code>/usr/lib/jvm/java-11-openjdk-amd64</code>. When I am running a Java file with <code>/usr/lib/jvm/java-11-openjdk-amd64/bin/java</code> it runs perfectly.</p>\n<p><code>/usr/lib/jvm/java-11-openjdk-amd64/bin</code> is shown in <code>PATH</code> when I run <code>printenv</code> <strong>BUT</strong> when I run <code>echo $JAVA_PATH</code> I get nothing back.</p>\n<p>When I run <code>java -version</code> I am getting this:</p>\n<p><code>openjdk version &quot;11.0.19&quot; 2023-04-18 OpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1) OpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu122.04.1, mixed mode, sharing)</code></p>\n"},{"comments":[{"comment_id":128381618,"body":"What&#39;s the stack trace of that exception?"},{"comment_id":128382840,"body":"I edited my first post above with the stack trace (comment is limited in size)"}],"last_activity_date":1684687874,"question_id":72664378,"body":"<p><strong>.net Maui Shell navigation :</strong><br />\nIn a Content page I have the following code</p>\n<pre><code>private async void Button_Clicked(object sender, EventArgs e)\n    {\n       await Shell.Current.GoToAsync(&quot;..&quot;);\n    }\n</code></pre>\n<p>when I click the Button I receive -&gt; &quot;System.InvalidCastException: 'Specified cast is not valid.'&quot;<br />\nBut if I delete <strong>async</strong> and <strong>await</strong>, I get to the MainPage without problem !!!<br />\nWhat am I doing wrong here ?</p>\n<pre><code>0xFFFFFFFFFFFFFFFF in Android.Runtime.JNIEnv.monodroid_debugger_unhandled_exception C#\n0x14 in Android.Runtime.JNINativeWrapper._unhandled_exception at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:12,5 C#\n0x1D in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:23,26    C#\n0x17 in System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw    C#\n0x6 in System.Threading.Tasks.Task.&lt;&gt;c.&lt;ThrowAsync&gt;b__128_0 C#\n0xC in Android.App.SyncContext. at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.App/SyncContext.cs:36,19 C#\n0xE in Java.Lang.Thread.RunnableImplementor.Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Java.Lang/Thread.cs:36,6 C#\n0x8 in Java.Lang.IRunnableInvoker.n_Run at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/obj/Release/net6.0/android-32/mcw/Java.Lang.IRunnable.cs:84,4    C#\n0x8 in Android.Runtime.JNINativeWrapper.Wrap_JniMarshal_PP_V at /Users/runner/work/1/s/xamarin-android/src/Mono.Android/Android.Runtime/JNINativeWrapper.g.cs:22,5  C#\n</code></pre>\n"},{"answers":[{"answer_id":32888613,"body":"<p>Are you using Tomcat or Undertow as your application server?</p>\n\n<p>If it's Undertow, it may just be a benign exception informing you that the temporary file can't be deleted because it's already been deleted (source: <a href=\"https://github.com/spring-projects/spring-boot/issues/3966\" rel=\"nofollow\">https://github.com/spring-projects/spring-boot/issues/3966</a> which also mentions a bug ticket open <a href=\"https://issues.jboss.org/browse/UNDERTOW-542\" rel=\"nofollow\">UNDERTOW-542</a> ).</p>\n\n<p>I ran into this same issue when running a jHipster-based project using the <code>fast</code> profile, which uses Undertow. Everything worked as expected, but this error was thrown. If I used the <code>dev</code> profile, which uses Tomcat, no error was thrown.</p>\n"},{"answer_id":43657506,"body":"<p>I ran into the same issue when I started using <code>Spring 4.3.1.RELEASE</code> with <code>wildfly 9.x</code>.</p>\n\n<p>To fix the issue I just updated my Spring version from <code>4.2.2.RELEASE</code> to <code>4.2.3.RELEASE</code> which solved the issue.</p>\n"},{"comments":[{"comment_id":134516473,"body":"file is open but not closed for this reason there is exception generated so use   System.gc();  or      f.delete();"}],"answer_id":76281233,"body":"<p>This is my service class</p>\n<pre><code>@Override\npublic String uploadImage(String path, MultipartFile file) throws IOException {\n\n    // File Name\n    String name = file.getOriginalFilename();\n\n    //Random name generate of file\n      String randomID=UUID.randomUUID().toString();\n      String fileName1= randomID.concat(name.substring(name.lastIndexOf(&quot;.&quot;)));\n    \n    // Full Path\n    String filePath = path + File.separator + fileName1;\n\n    // Create folder if not create\n    File f = new File(path);\n    if (!f.exists()) {\n        f.mkdir();\n    }\n\n    \n    // file copy\n\n    Files.copy(file.getInputStream(), Paths.get(filePath));\n    //System.gc();  //or \n    f.delete();\n    /* I am resolve my exception using above System.gc(); or f.delete() method using both are working for me \n    */\n    return fileName1;\n}\n</code></pre>\n"}],"last_activity_date":1684687719,"question_id":32497657,"body":"<p>I am sending to controller multipartfile and when logic in controller is completed spring invokes error:</p>\n\n<pre><code>2015-09-10 10:41:05 WARN  (StandardServletMultipartResolver.java:91) - Failed to perform cleanup of multipart items\njava.io.IOException: UT010015: Could not delete file ....\\Path\\undertow6870903013120486522upload\n    at io.undertow.servlet.spec.PartImpl.delete(PartImpl.java:111)\n</code></pre>\n\n<p>My controller:</p>\n\n<pre><code>@RequestMapping(value = \"api/{name}/file\", method = RequestMethod.POST,consumes=\"multipart/form-data\")\n public ResponseEntity&lt;?&gt; receiveFile(@RequestParam(value = \"file\") MultipartFile multipartFile,\n@PathVariable(\"name\") String name) throws IOException {\n    logic here\n    return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n}\n</code></pre>\n\n<p>I am using AngularJS (ng-file-upload module) to send file:</p>\n\n<pre><code>file.upload = Upload.upload({\n                            url: sUrl,\n                            method: 'POST',\n                            headers: {'Content-Type': '\"multipart/form-data'},\n                            file: file,\n                            fileFormDataName: 'file'\n                        });\n</code></pre>\n"},{"comments":[{"comment_id":134550736,"body":"<a href=\"https://stackoverflow.com/questions/32342864/applying-mvc-with-javafx\" title=\"applying mvc with javafx\">stackoverflow.com/questions/32342864/applying-mvc-with-javaf&zwnj;&#8203;x</a>"},{"comment_id":134550752,"body":"Ideas from MVC used @ <a href=\"https://stackoverflow.com/questions/55668795/javafx-2-independent-windows-at-once/55671730#55671730\" title=\"javafx 2 independent windows at once\">stackoverflow.com/questions/55668795/&hellip;</a>"}],"last_activity_date":1684687347,"question_id":76300934,"body":"<p>I making a productivity app for school. So I basically got a Scene switcher and it is reloading the .fxml file each time. So whatever values were stored in <code>taskListView</code> are now gone. I am new to java fx, and can someone help me fix this?</p>\n<p>HelloApplication.java:</p>\n<pre><code>package com.example.newapp;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\n\nimport java.util.Objects;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;scene2.fxml&quot;));\n        Parent root = loader.load();\n\n        String cssFile = Objects.requireNonNull(getClass().getResource(&quot;style.css&quot;)).toExternalForm();\n        root.getStylesheets().add(cssFile);\n\n        Pane pane = new Pane(root);\n\n        // Create a circle\n        Circle circle = new Circle(8, Color.BLACK);\n        circle.setMouseTransparent(true);\n        pane.getChildren().add(circle);\n\n        // Update the circle's position based on mouse movement\n        pane.setOnMouseMoved(event -&gt; {\n            circle.setCenterX(event.getX());\n            circle.setCenterY(event.getY());\n        });\n\n        primaryStage.setTitle(&quot;To-Do List&quot;);\n        primaryStage.setScene(new Scene(pane));\n        primaryStage.setResizable(false);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>HelloController.java code:</p>\n<pre><code>package com.example.newapp;\n\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.Objects;\n\npublic class HelloController {\n\n    private Stage primaryStage;\n    private Scene scene;\n    private Parent scene1Root;\n    private Parent scene2Root;\n\n    @FXML\n    private ListView&lt;String&gt; taskListView;\n\n    @FXML\n    private TextField taskTextField;\n\n    @FXML\n    private void addTask() {\n        String task = taskTextField.getText();\n        if (!task.isEmpty()) {\n            taskListView.getItems().add(task);\n            taskTextField.clear();\n        }\n    }\n\n    @FXML\n    private void removeTask() {\n        ObservableList&lt;String&gt; selectedTasks = taskListView.getSelectionModel().getSelectedItems();\n        taskListView.getItems().removeAll(selectedTasks);\n    }\n\n    public void switchToScene1(ActionEvent event) throws IOException {\n        if (scene1Root == null) {\n            scene1Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene1.fxml&quot;)));\n        }\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(scene1Root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public void switchToScene2(ActionEvent event) throws IOException {\n        if (scene2Root == null) {\n            scene2Root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;scene2.fxml&quot;)));\n        }\n        primaryStage = (Stage) ((Node) event.getSource()).getScene().getWindow();\n        scene = new Scene(scene2Root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p>I have tried to load the .fxml separately, but it was not working for me it still kept clearing all the data in the <code>taskListView</code>.</p>\n"},{"comments":[{"comment_id":132838805,"body":"You can use <code>replaceAll()</code> instead of <code>replace()</code>."}],"answers":[{"comments":[{"comment_id":132839490,"body":"As long as you realize that it also replaces all non-alphanumerical characters (except white-space) like +, -, (, ), {, }, [, }, @, #, $, %, ^, &amp;, *, _, /, \\\\, |, etc."}],"answer_id":75280687,"body":"<p>Ok I find helpful and nice solution.</p>\n<pre><code>String line11 = line.replaceAll(&quot;[\\\\p{Punct}]&quot;, &quot;&quot;);\n</code></pre>\n"},{"answer_id":75280762,"body":"<p>use replaceAll, and reg <code>[]</code></p>\n<pre><code>String str = &quot;hellol,lol/,=o/l.o?ll\\no,llol&quot;;\nstr = str.replaceAll(&quot;[,=/\\\\n\\\\?\\\\.]&quot;, &quot;&quot;);\nSystem.out.println(str);\n</code></pre>\n"},{"answer_id":75281072,"body":"<p>If we want to replace every punctuation mark then we can use the replaceAll() method in java to achieve that. replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;)), This line makes a java compiler to understand every character other than alphabets(both lowercase and uppercase) to be replaced by &quot;&quot; i.e,empty. with this we can replace every punctuation marks in a particular string.</p>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        String line=&quot;Th@#is i*s a Ex()ample St!@ing!@&quot;;\n        System.out.println(line.replaceAll(&quot;[^a-zA-Z ]&quot;, &quot;&quot;));\n\n    }\n}\n</code></pre>\n"},{"answer_id":76300889,"body":"<p><code>String.replace</code> is a builder method, so you can chain those calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line1 = line.replace(&quot;.&quot;, &quot;&quot;).replace(&quot;?&quot;, &quot;&quot;).replace(&quot;!&quot;, &quot;&quot;).replace(&quot;\\n&quot;, &quot;&quot;);\n</code></pre>\n<p>Although, using the <code>String.replaceAll</code> method is a better approach, if you know regular-expressions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String line1 = line.replaceAll(Pattern.quote(&quot;.?!&quot;) + &quot;\\\\n&quot;, &quot;&quot;);\n</code></pre>\n"}],"last_activity_date":1684686480,"question_id":75280607,"body":"<p>I have question about String class in Java.</p>\n<p>I want remove every punctuation marks. To be exact I use replace() method and replace all marks for: &quot;&quot;;</p>\n<p>But my question is can I do it more smoothly? Becouse now I replace every sign separately</p>\n<pre><code>String line1 = line.replace(&quot;.&quot;, &quot;&quot;);\nString line2 = line1.replace(&quot;?&quot;, &quot;&quot;);\nString line3 = line2.replace(&quot;!&quot;, &quot;&quot;);\nString line4 = line3.replace(&quot;\\n&quot;, &quot;&quot;);\n</code></pre>\n"},{"comments":[{"comment_id":134549874,"body":"I found a good answer here: <a href=\"https://stackoverflow.com/a/41763613/2511298\">stackoverflow.com/a/41763613/2511298</a> I think thats enough to answer this question, I&#39;ll close it."}],"last_activity_date":1684685720,"question_id":76300831,"body":"<p>In spring boot you can use the <em>spring-boot-starter-validation</em> dependency to validate your method arguments with a <em>@NotNull</em> annotation.</p>\n<p>I also know a library that does something similar <em>Preconditions.checkNotNull()</em> from the guava jre library.</p>\n<p>Anyhow, for the spring boot way of doing it you need to make the POJO a spring managed component and add the proper annotations for it (...).</p>\n<p>I would like to ask how much of performance does this use in comparison to the simple null checks with simple boolean operators?</p>\n<blockquote>\n<p>general understanding question of spring boot and the spring managed components performance</p>\n</blockquote>\n"},{"comments":[{"comment_id":134546656,"body":"Can you share the complete method?"},{"comment_id":134546681,"body":"@Mureinik yup put it in just now."},{"comment_id":134546715,"body":"&quot;Ongoing&quot; /&quot;Completed&quot; would definitely be improved by making them <code>enum</code>s.  You need to check your expectations, and/or do <code>if (projectProvince.getStage().equalsIgnoreCase(&quot;Ongoing&quot;))</code>"},{"comment_id":134546750,"body":"@g00se I looked them up and they do look effective, but since we haven&#39;t covered them in our uni course just yet, we aren&#39;t allowed to use them for this assignment."},{"comment_id":134546848,"body":"@efx, if they are staying at <code>0</code>, then the <code>if</code> conditional-statements are not evaluating as <code>true</code>.  Are you positive the return value of either is that exact text; <code>equals</code> is case-sensative."},{"comment_id":134546862,"body":"@efx, I recommend placing a breakpoint on the first <code>if</code> statement, and using a debugging process to derive the value from the <code>getStage</code> method."},{"comment_id":134547124,"body":"btw I note the field <code>PROJECT_STAGE_EN</code> is missing even from one of the sample data lines you&#39;ve already posted in your other question"},{"comment_id":134549197,"body":"<a href=\"https://en.wikipedia.org/wiki/Debugger\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Debugger</a>"}],"answers":[{"answer_id":76300812,"body":"<p>There is nothing wrong with the increment of yours,<br>\nbut many other places can be improved.<br>\nYou can split a method into multiple ones,<br>\nand polish them, to decrease code complexity,<br>\nand improve maintainability. Like this way:</p>\n<pre><code>void printHelp() {\n  final var help = &quot;&quot;&quot;\n      1 &gt; Number of projects\n      2 &gt; Percentage of all projects located in this province/territory\n      3 &gt; Total number and percentage of ongoing projects\n      4 &gt; Total number and percentage of completed projects\n      5 &gt; All of the above statistics\n      0 &gt; Return to main menu\n      &quot;&quot;&quot;;\n  System.out.println(help);\n}\n\nvoid interactWithRegions(String projectRegion) {\n  Scanner input = new Scanner(System.in);\n  showProjectDetails(input);\n  input.close();\n}\n</code></pre>\n<p>And if you need to return two numbers from a method,<br>\nyou can either use List or an array: int[].<br>\nAnd don't hesitate to use whole names for your variables,<br>\n'userChoice' is better than 'userCh'.</p>\n"}],"last_activity_date":1684685484,"question_id":76299007,"body":"<p>In my dataset, I've got a mixture of ongoing and completed projects. I want to make it so that each time &quot;Ongoing&quot; is found, the variable &quot;ongoing&quot; increases by 1, and the same for &quot;Completed&quot;. However, I had to initialize these variables, so I made them 0. Now, they stay zero, even though they're supposed to increase by 1.</p>\n<pre><code>public static void regions(String pRegion) { // variable region is out of scope; passed into variable pRegion \n    \n    Scanner input = new Scanner(System.in);\n    int userCh;\n    Project projectProvince = new Project();\n    System.out.println(&quot;Please make a choice from the statistics below for &quot;+pRegion+&quot;.&quot;);\n    \n    System.out.println(&quot;1 &gt; Number of projects\\n2 &gt; Percentage of all projects located in this province/territory\\n3 &gt; Total number and percentage of ongoing projects\\n&quot;\n            + &quot;4 Total number and percentage of completed projects\\n5 &gt; All of the above statistics\\n00 &gt; Return to main menu\\n&quot;);\n    userCh = input.nextInt();\n    \n    int howManyProvince = countItemsForProvince(pRegion);\n    double percentageProvince = ((double)howManyProvince/(double)linesInFileCount)*100;\n    \n    int ongoing = 0;\n    int completed = 0;\n    if (projectProvince.getStage().equals(&quot;Ongoing&quot;)) {     \n        ongoing++;\n    }\n    else if (projectProvince.getStage().equals(&quot;Completed&quot;)) {\n        completed++;\n    }\n    \n    switch (userCh) {\n    case 1: \n        System.out.println(&quot;Number of projects: &quot;+howManyProvince);\n        break;\n    case 2:     \n        System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%&quot;);\n        break;\n    case 3:\n        System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince);\n        break;\n    case 4:\n        System.out.println(&quot;Number of ongoing projects: &quot;+completed);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince);\n        break;\n    case 5:\n        System.out.println(&quot;Number of projects: &quot;+howManyProvince+&quot;\\n&quot;);\n        System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%\\n&quot;);\n        System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince+&quot;\\n&quot;);\n        System.out.println(&quot;Number of ongoing projects: &quot;+completed);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince+&quot;\\n&quot;);\n        break;\n    }\n    \n    \n//  int ongoingCountForRegion = countItemsForProvinceAtStage(pRegion,&quot;Ongoing&quot;);\n//  \n//    int howManyProvince = countItemsForProvince(pRegion);\n//    System.out.println(howManyProvince);\n//    \n    input.close();\n}\n</code></pre>\n<p>I tried to 'return' the variables, but I couldn't, because the method is void. I also tried to place the initialized variables within the if-else block itself, but it didn't work, because I use these variables in a switch case immediately after</p>\n"},{"comments":[{"comment_id":14592086,"body":"See the <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/index.html\" rel=\"nofollow noreferrer\">Java Virtual Machine Specification</a> - it specifies the Java bytecode instructions."},{"comment_id":50521717,"body":"@Sergey I am looking for the book <code>Programming for Java Virtual Machine</code>, do you have a pdf? Thx."}],"answers":[{"comments":[{"comment_id":14624946,"body":"I don&#39;t recall the OP asking about the origin of the name, how the Java language is compiled is largely irrelevant to the question, and Java bytecode is <i>not</i> &quot;assembly language to the JVM&quot;."}],"answer_id":11132811,"body":"<p>Oolong is chinese tea and the name is not important.\nRemember that Java language is compiled by java compiler.\nJava Bytecode is not an assembly language but you can regard it as assembly language to (JVM)Java Virtual Machine.</p>\n"},{"answer_id":11132993,"body":"<p>Joshua Engel's Oolong<sup>1</sup> is an assembly language for the JVM.</p>\n<blockquote>\n<p>... why is it called assembly language?</p>\n</blockquote>\n<p>You are best off looking up what &quot;assembly language&quot; means in (for example) <a href=\"https://en.wikipedia.org/wiki/Assembly_language\" rel=\"nofollow noreferrer\">Wikipedia</a>.  It is essentially a language that has a direct one-to-one mapping<sup>2</sup> between &quot;statements&quot; and machine instructions for the target machine.  OOlong matches this description, if you view the JVM as the target machine.  (There is a one-to-one mapping between Oolong statements and JVM bytecode instructions.)</p>\n<blockquote>\n<p>The syntax of Jasmin files(which also have .j extension) looks like Oolong's syntax. Is it used there?</p>\n</blockquote>\n<p>I've seen sources that say that Oolong's syntax is &quot;based on Jasmin&quot;, but I can't find any stand-alone documents describing the syntax in any detail.</p>\n<p>If you are interested in looking at Oolong, this SO question has details on where to download it from:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4505808/where-is-the-source-code-for-oolong-and-gnoloo\">where is the source code for Oolong and Gnoloo?</a></li>\n</ul>\n<hr />\n<p><sup>1 - There is another unrelated Oolong programming language; see <a href=\"https://github.com/thesquaregroot/oolong\" rel=\"nofollow noreferrer\">https://github.com/thesquaregroot/oolong</a>.  And then there is Castegren\n&amp; Wrigstad's <a href=\"https://uu.diva-portal.org/smash/get/diva2:1161805/FULLTEXT01.pdf\" rel=\"nofollow noreferrer\">OOlong: An Extensible Concurrent Object Calculus</a>.<br>\n2 - I am oversimplifying.  Some assembly languages support &quot;macros&quot; where a single source statement can map to multiple target instructions.  Read the Wikipedia reference.</sup></p>\n"},{"answer_id":18625610,"body":"<p>It uses a stack, stack frame, and has bytecodes that  correspond to real assembly language.  It also has higher level instructions that will retrieve fields from memory, but not directly.  You have to use getfield, putfield, invokespecial etc. Since JVM does not run in a true hardware environment(like the Unix Kernel) it does not do any of the heavy lifting that a real OS does like crafting processes, worrying about time slices and servicing interrupts, communicating with device drivers and on and on.  I would have to say JVM is middleware between Java and the native OS.  It is exactly what they call it .... a Virtual machine.</p>\n"}],"last_activity_date":1684685398,"question_id":11132377,"body":"<p>I'm reading \"Programming for Java Virtual Machine\" by Joshua Engel book where the author offers \"an assembly language for JVM\" called Oolong.</p>\n\n<p>As far as I understand this is the language which is compiled into java bytecode and which is really similar to the original java bytecode(big number of bytecode opcodes are used there). If it's so then why is it called assembly language? Is that because it's low-level language and looks like a bytecode?</p>\n\n<p>Another question is about Jasmin. As Wikipedia says it's \"a free open source assembler to create class files from human readable assembler-like syntax using the Java Virtual Machine instruction sets\". The syntax of Jasmin files(which also have .j extension) looks like Oolong's syntax. Is it used there?</p>\n"},{"comments":[{"comment_id":132860970,"body":"I added this condition to the filter of pattern matching,seemed to be working can anyone verify if its accurate: Pattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}|S[a-zA-Z0-9]{4}&quot;);"},{"comment_id":132861231,"body":"that does look accurate."}],"answers":[{"comments":[{"comment_id":132860983,"body":"Yes you got it right,managed to add another pattern just like this  (&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}|S[a-zA-Z0-9]{4}&quot;);"}],"answer_id":75293753,"body":"<p>The way the question is phrased makes it hard to see what the requirements are. Are you just looking for help with creating another pattern which matches your second set of files? If so, you could use <code>Pattern.compile(&quot;S.{4}&quot;)</code>.</p>\n"},{"answer_id":76300784,"body":"<p>You can add the following pattern, to your current pattern using the <code>|</code> specifier.<br />\nThe <code>|</code> is equivalent to implying an &quot;or&quot; condition; e.g., <code>A|B</code> = A or B.</p>\n<pre><code>S.{4}\n</code></pre>\n<p>So the full pattern will be the following.</p>\n<pre><code>[12]PR[K-Z]\\d{5}|S.{4}\n</code></pre>\n<p>Furthermore, you can simplify your code to a <code>String.matches</code> call, which is equivalent to your current code, it does the same thing.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean matchFound = inputfield.matches(&quot;[12]PR[K-Z]\\\\d{5}|S.{4}&quot;);\n</code></pre>\n"}],"last_activity_date":1684685149,"question_id":75293489,"body":"<p>I am trying to specify a pattern matching criteria in java for 2 set of filenames.One that begins like 1PRW12345 or 2PRZ32145 and other  set with SCA1W or SB1FC or any variant that starts with S and has a 5 character limit size</p>\n<p>Essentially one of them has been handled like below,how do i open up for other set of files that starts with S alphabet and has 5 characters in them like mentioned above to the existing pattern matching string</p>\n<p>If the matchfound is true,i will perform a set of operations.But now i want to include S series with 5 characters limit to the existing pattern match,please advise</p>\n<pre><code>String inputfield=&quot;1PRW12345&quot;;  \nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\n                boolean matchFound = matcher.find();\n</code></pre>\n<pre><code>String inputfield=&quot;1PRW12345&quot;;  \nPattern pattern = Pattern.compile(&quot;[1-2]PR[K-Z]\\\\d{2}\\\\d{3}&quot;); \n   Matcher matcher = pattern.matcher(inputfield); //String inputfield is defined elsewhere in the program\n                boolean matchFound = matcher.find();\n</code></pre>\n"},{"comments":[{"comment_id":134548322,"body":"You have to call <code>http:&#47;&#47;localhost:8080&#47;api&#47;heroes&#47;buscar&#47;Pisicola</code> to hit the mentioned endpoint"}],"answers":[{"comments":[{"comment_id":134548518,"body":"I tried it before posting the problem, and none of both works :( The same error message appears"}],"answer_id":76300079,"body":"<p>In your controller you are mixing the URL syntax for <code>PathVariable</code> and <code>RequestParameter</code>.</p>\n<p>For <code>RequestParameter</code> should be:</p>\n<pre><code>@GetMapping(&quot;/buscar&quot;)\npublic ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n    List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n    return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n}\n</code></pre>\n<p>And URL:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar?name=Pisicola\n</code></pre>\n<p>For <code>PathVariable</code> should be:</p>\n<pre><code>@GetMapping(&quot;/buscar/{name}&quot;)\npublic ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@PathVariable String name) {\n    List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n    return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n}\n</code></pre>\n<p>And URL:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar/Pisicola\n</code></pre>\n<p>EDIT: the above examples are valid but won't fix the issue. You are using the <code>spring-boot-starter-data-rest</code> and your repository is annotated with <code>@RepositoryRestResource</code>. This cause some endpoints to be generated automatically by Spring. One of them is <code>/api/heroes/{id}</code> which takes a long as a path variable. This cause the issue when you are calling it with a string: <code>/api/heroes/buscar</code> You should avoid ambiguity when defining endpoints on top of the generated ones.</p>\n"},{"answer_id":76300690,"body":"<p>I actually solved the error.\nThe problem was that I was declaring that the RequestMapping was &quot;/api/heroes/&quot;, but I was declaring in the application.properties file that the context.path is &quot;api&quot;.</p>\n<pre><code>server.servlet.context-path=/api\n</code></pre>\n<p>So the change is from:</p>\n<pre><code>@RequestMapping(&quot;/api/heroes/&quot;)\n</code></pre>\n<p>to</p>\n<pre><code>@RequestMapping(&quot;/heroes/&quot;)\n</code></pre>\n"}],"last_activity_date":1684684494,"question_id":76299997,"body":"<p>I'm trying to get a hero by his name with the next method in the controller:</p>\n<pre><code>@GetMapping(&quot;/buscar/{name}&quot;)\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n    }\n</code></pre>\n<p>But when I use POSTMAN to get the information with the next line:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar?name=Pisicola\n</code></pre>\n<p>It shows me this:</p>\n<pre><code>{\n    &quot;cause&quot;: {\n        &quot;cause&quot;: null,\n        &quot;message&quot;: &quot;For input string: \\&quot;buscar\\&quot;&quot;\n    },\n    &quot;message&quot;: &quot;Failed to convert from type [java.lang.String] to type [java.lang.Long] for value [buscar]&quot;\n}\n</code></pre>\n<p>Instead of the information of the Hero.</p>\n<p>This is all the code I have related to the problem:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/heroes&quot;)\npublic class HeroController {\n\n    @Autowired\n    private HeroesRepository heroesRepository;\n\n    @PostMapping\n    public ResponseEntity&lt;Heroe&gt; createHeroe(@RequestBody Heroe heroe) {\n        Heroe savedHeroe = heroesRepository.save(heroe);\n        return new ResponseEntity&lt;&gt;(savedHeroe, HttpStatus.CREATED);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; getHeroeById(long id) {\n        Heroe heroe = heroesRepository.findById(id).orElseThrow();\n        return new ResponseEntity&lt;&gt;(heroe, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/buscar/{name}&quot;)\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; updateHeroe(long id, Heroe heroe) {\n        Heroe updatedHeroe = heroesRepository.save(heroe);\n        return new ResponseEntity&lt;&gt;(updatedHeroe, HttpStatus.OK);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; deleteHeroe(long id) {\n        heroesRepository.deleteById(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n}\n\n</code></pre>\n<pre><code>@RepositoryRestResource\npublic interface HeroesRepository extends JpaRepository&lt;Heroe, Long&gt; {\n\n    List&lt;Heroe&gt; findByName(String name);\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":132894171,"body":"Looks like a homework help question, but the quickest (not cleanest) way to modify your code is to move the new Person() inside your loop, and instead of incrementing the array by one each time, increment it by <code>i += 3</code>, i.e. create your entire Person in one loop."},{"comment_id":132894309,"body":"Since you are asking for best. Start with not using a Flat Array to store object data in memory."},{"comment_id":132894381,"body":"@Ralf there are other restrictions, can&#39;t change the array type here"},{"comment_id":132894403,"body":"@C.Helling thanks for your suggestion. Still not sure how to go on after creating the first object tho."},{"comment_id":132894413,"body":"@C.Helling Actually your suggestion is the <b>cleanest</b>, considering the input(i assume it can&#39;t be changed, since it looks like homework). Incrementing the index by one, as it is now, would require a very awkward initialization of each new person."}],"answers":[{"answer_id":75313910,"body":"<p>try below code this is worked you expected</p>\n<pre><code>for (int i = 0; i &lt;= myArray.Length; i++)\n{\nif (i == 0) p.ID = myArray[i];\nif (i == 1) p.Name = myArray[i];\nif (i == 2) p.Age = myArray[i];\nif (i!=0 &amp;&amp; i % 2 == 0)\n{\n    if (myArray.Length &gt; 0)\n    {\n        myArray = myArray.Skip(3).ToArray();\n    }\n    i = 0;\n}\n}\n</code></pre>\n"},{"answer_id":75343468,"body":"<p>You only take the first three values to create a Person object and then call <code>AddNewRecord</code> every 3rd iteration. Instead, every 3rd iteration you will need to set <code>p</code> to a new Person in order to prevent mutating the existing Person object already used to invoke <code>AddNewRecord</code>. To avoid only using the 3 first array elements, you want to % 3 on them too. 0 % 3 = 0, 1 % 3 = 1, 2 % 3 = 2, 3 % 3 = 0. Any number % 3 will tell you whether you're on the ID, Name or Age.</p>\n<p>I think it's worth asking why you have an array of strings containing object data. Why not create the Person before putting all of their info in an array to avoid this problem?</p>\n"},{"answer_id":76300741,"body":"<p>Here is a Java solution.</p>\n<p>You can use a <code>record</code> to hold the values.<br />\nThen, use a for-loop which increments by 3 on each iteration, to create a <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person(String id, String name, String age) { }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Person&gt; parse(String[] strings) {\n    List&lt;Person&gt; list = new ArrayList&lt;&gt;();\n    for (int index = 0; index &lt; strings.length; index += 3)\n        list.add(new Person(strings[index], strings[index + 1], strings[index + 2]));\n    return list;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-java prettyprint-override\"><code>[Person[id=1, name=Jack, age=18], Person[id=2, name=John, age=22], Person[id=3, name=Mark, age=29]]\n</code></pre>\n"}],"last_activity_date":1684684415,"question_id":75313631,"body":"<p>I have a String array in C# like below:</p>\n<pre><code>String[] myArray = {&quot;1&quot;,&quot;Jack&quot;,&quot;18&quot;,&quot;2&quot;,&quot;John&quot;,&quot;22&quot;,&quot;3&quot;,&quot;Mark&quot;,&quot;29&quot;}\n</code></pre>\n<p>Actually there are 3 objects in my array, first column is ID, second is Name and third is Age. So I need to insert 3 rows into my SQL table, each represents one person.</p>\n<p>What is the best way to handle it?</p>\n<p>I try:</p>\n<pre><code>Person p = new Person();\nfor (int i = 0; i &lt;= myArray.Length; i++)\n{\n    if (i==0) p.Id = myArray[i];\n    if (i==1) p.Name = myArray[i];\n    if (i==2) p.Age = myArray[i];\n    if (i%3==0) AddNewRecord(p);\n}\n</code></pre>\n<p>But then how can I remove the first object from my array and start from 0 again?</p>\n<p>Thanks.</p>\n<p>PS. Couldn't find a proper title for my issue, sorry, appreciate if you may edit.</p>\n<p>Edit: Java or C# answer, both fine by me</p>\n"},{"comments":[{"comment_id":118544680,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61702224/java-is-it-possible-to-use-a-pair-in-a-priority-queue-and-then-return-a-value-u\">Java. Is it possible to use a pair in a priority queue and then return a value using the key as a priority</a>"},{"comment_id":118544735,"body":"You can not use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">Priority Key</a> with a pair.  If you want so, will need to write some code."},{"comment_id":134548390,"body":"Note that answers suggesting PriorityQueue do not address your question since you are asking for a heap implementation. That behind the scenes this priority queue is implemented using a binary heap is just a technical detail."}],"answers":[{"comments":[{"comment_id":118544663,"body":"There is no method like <code>poll</code> in hash map. You will need to know the key in order to get an element."},{"comment_id":118551707,"body":"I am sorry, actually I have found this type of code but couldn&#39;t understand properly. It will be very grateful if you explain these as well!"},{"comment_id":134548852,"body":"Sorry, I couldn&#39;t understand. Is Pair a hashmap, it is different right? Please correct me if I am wrong here."}],"answer_id":67065381,"body":"<p>In <code>Java</code> you can use a <code>HashMap</code> for that:</p>\n<pre><code>import javafx.util.Pair;\nimport java.util.PriorityQueue;\n\npublic class YourClass{\n\n    public static void main (String[] args){\n\n        int n = 3;\n\nPriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq = new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\n\n  /*Adding elements to HashMap*/\n  pq.add(new Pair &lt;&gt; (10, 200));\n  pq.add(new Pair &lt;&gt; (20, 100));\n  pq.add(new Pair &lt;&gt; (15, 400));\n\n System.out.println(l.poll().getValue()); \n    }\n}\n \n</code></pre>\n"},{"answer_id":76299793,"body":"<p>There is a discussion with examples <a href=\"https://www.geeksforgeeks.org/priority-queue-of-pair-in-java-with-examples/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Briefly, you can set up the queue by providing key value pairs and specifying how pairs should be compared:</p>\n<pre><code>PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt; pq = \n    new PriorityQueue&lt;&gt;((a,b)-&gt; b.getValue() - a.getValue());\n</code></pre>\n"},{"answer_id":76300328,"body":"<p>The Pair can be used for this use case which is from the <code>javafx.util</code> package.</p>\n<p>If we need to sort it based on the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.util.Pair;\nimport java.util.*;\n\npublic class ExampleClass {\n    public static void main(String [] args) {\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getValue(), num1.getValue()));\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\n    }\n}\n</code></pre>\n<p>If we need to sort it based on the key.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.util.Pair;\nimport java.util.*;\n\npublic class ExampleClass {\n    public static void main(String [] args) {\n          PriorityQueue&lt;Pair&lt;Integer, Integer&gt;&gt; maxHeap = new PriorityQueue&lt;&gt;((num1, num2) -&gt; Integer.compare(num2.getKey(), num1.getKey()));\n          maxHeap.offer(new Pair&lt;&gt;(10, 200));\n          maxHeap.offer(new Pair&lt;&gt;(20, 100));\n          maxHeap.offer(new Pair&lt;&gt;(15, 400));\n    }\n}\n</code></pre>\n<p>Here we are creating an instance of the priority queue by passing a simple <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda</a> expression as a constructor parameter.</p>\n<p>We can print the result using a while loop to check whether the <code>maxHeap</code> is empty or non-empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (!maxHeap.isEmpty()) {\n     Pair&lt;Integer, Integer&gt; topOfHeap = maxHeap.poll();\n     System.out.println(topOfHeap.getValue());\n}\n</code></pre>\n"}],"last_activity_date":1684684093,"question_id":67058645,"body":"<p>I am trying to implement Max heap with key value pair in java. As we know in C++ we can do that in this way..</p>\n<pre><code>    priority_queue&lt;pair&lt;int, int&gt; &gt; pq;\n    pq.push(make_pair(10, 200));\n    pq.push(make_pair(20, 100));\n    pq.push(make_pair(15, 400));\n</code></pre>\n<p>But I am unable to do this in java, please help me to do so.</p>\n"},{"comments":[{"comment_id":134032206,"body":"Shouldn&#39;t those properties have <code>value=&quot;true&quot;</code>/<code>value=&quot;false&quot;</code> instead of <code>value=&quot;Boolean.TRUE&quot;</code>/<code>value=&quot;Boolean.FALSE&quot;</code>?"},{"comment_id":134054707,"body":"also tried like you said, and same result, anyway both should work, this format is used throughout our reports for other parameters in other report and seem to work with this format..."}],"answers":[{"answer_id":76055806,"body":"<p>I found this Jasper Reports spec :</p>\n<p><a href=\"https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/fill/TextMeasurer.html\" rel=\"nofollow noreferrer\">https://jasperreports.sourceforge.net/api/net/sf/jasperreports/engine/fill/TextMeasurer.html</a></p>\n<p>Talking about most ot the available parameters for wraping text , and added  the property :</p>\n<pre><code>&lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\n</code></pre>\n<p>based on what I could understand from the specs this tell jasper not to break at caracters, but only a words... And the issue is solved !</p>\n<p>full Text field is now like this :</p>\n<pre><code>&lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\n                &lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot; height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot; uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;false&quot;/&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;true&quot;/&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.export.pdf.force.linebreak.policy&quot; value=&quot;true&quot;/&gt;\n                    &lt;property name=&quot;net.sf.jasperreports.text.truncate.at.char&quot; value=&quot;false&quot;/&gt;\n                &lt;/reportElement&gt;\n                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\n                    &lt;font pdfFontName=&quot;Helvetica&quot; size=&quot;136&quot; isBold=&quot;true&quot; isPdfEmbedded=&quot;true&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\n    &lt;/textField&gt;\n</code></pre>\n<p>Hope this will help anyone with a similar issue !</p>\n<p>EDIT : This configuration solved the issue in some but not all situations, if the text fits on 2 lines by wrapping one carater of the first word Jasper will still prefer to do that than to slightly reduce the font, but now, at least, if the  one caracter wrapping was occuring on a second or third line the behaviour is now as expected and jasper will rather slighlty reduce font size than wrapping one single digit to a new line... I guess the &quot;ScaleFont&quot; algorithm and the &quot;Truncate&quot; policy are just having having  difficulties working together. So if anyone finds a better solution working always, I am still interested in a better answer than the one I found.</p>\n<p>EDIT 2 : Final Solution found, the issue was a font issue, adding : pdfFontName=&quot;Helvetica&quot; in the text element works so far. I think that without specifying a font Jasper sets the scaling required based on its default font, and then the if the pdf has the liberty to choose a slightly different font, the scaling defined by Jasper might not give the expected effect. Well just asuming this part...</p>\n"}],"last_activity_date":1684684061,"question_id":75988239,"body":"<p>I have a Java project that compiles a Jasper XML on the fly and then exports to PDF.</p>\n<p>In one of the text field I need JasperReports not to cut the words, and rather to adapt the font size. The font size change works fine, when text is large Jasper reduces the font and wraps the text, but the &quot;do not cut words&quot; part does not work, many times, the PDF will end up with the text over several lines, but the wrapping will cut words in very illogical part, even sometime just leaving one letter of a word on the next line. Can you tell me what I am doing wrong?</p>\n<p>I have added and tested all the parameters I found in the Jasper documentation and with Google about breaking words, but none, or any combination of them changes the results.</p>\n<p>The text field culprit is here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;textField textAdjust=&quot;ScaleFont&quot; isBlankWhenNull=&quot;true&quot;&gt;\n    &lt;reportElement stretchType=&quot;ElementGroupBottom&quot; x=&quot;10&quot; y=&quot;124&quot; width=&quot;771&quot;\n     height=&quot;396&quot; isPrintInFirstWholeBand=&quot;true&quot; isPrintWhenDetailOverflows=&quot;true&quot;\n     uuid=&quot;bb2d4ab6-fc46-4edd-87ad-18dc4d32d461&quot;&gt;\n        &lt;property name=&quot;net.sf.jasperreports.print.keep.full.text&quot; value=&quot;Boolean.TRUE&quot;/&gt;\n        &lt;property name=&quot;net.sf.jasperreports.print.html.wrap.break.word&quot; value=&quot;Boolean.FALSE&quot;/&gt;\n        &lt;property name=&quot;net.sf.jasperreports.text.save.line.breaks&quot; value=&quot;Boolean.FALSE&quot;/&gt;\n    &lt;/reportElement&gt;\n    &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot; markup=&quot;html&quot;&gt;\n        &lt;font size=&quot;140&quot; isBold=&quot;true&quot;/&gt;\n    &lt;/textElement&gt;\n    &lt;textFieldExpression&gt;&lt;![CDATA[$P{letrero}]]&gt;&lt;/textFieldExpression&gt;\n&lt;/textField&gt;\n</code></pre>\n<p>The Java part that generate the report is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    parameters.put(JRJpaQueryExecuterFactory.PARAMETER_JPA_ENTITY_MANAGER, entityManager);\n    JasperReport report = JasperCompileManager.compileReport(Util.getFileInClassPathAsInputStream(&quot;/web/report/name-sign.jrxml&quot;));\n    \n    JasperPrint print = JasperFillManager.fillReport(report, parameters, new JREmptyDataSource());\n    \n    return JasperExportManager.exportReportToPdf(print);\n} catch (JRException ex) {\n    ex.printStackTrace();\n    logger.error( ex.getMessage());\n}\nreturn null;\n</code></pre>\n"},{"comments":[{"comment_id":132902419,"body":"The <code>split</code> method creates and returns a <code>String[]</code> from a <code>String</code>."},{"comment_id":132902436,"body":"<i>&quot;Googling stdin for the last hour trying to find any documentation that helps me&quot;</i> - Try looking at the javadocs for the <code>String</code> class.  And look at what is says about <code>split</code>.   This is not a problem with &quot;stdin&quot; <i>per se</i> ... or even with <code>Scanner</code>.  It is about what you are doing with the line <b>after</b> you read it.  But if all you are doing is reading <code>size</code> strings separated by whitespace, you should be using <code>Scanner.next()</code> rather than <code>Scanner.nextLine()</code>.  (Again ... read the javadocs for <code>Scanner</code>.)"},{"comment_id":132903381,"body":"If each input is on its own line, you don&#39;t need <code>split</code>."}],"answers":[{"answer_id":75324194,"body":"<p>If you are using eclipse arguments separated by enter then your logic is wrong:</p>\n<p>according to your logic get 1st element from the eclipse argument like <strong>args[0]</strong></p>\n<p>another Input is taken from the console.</p>\n<p>if you need to take all elements from the eclipse argument follow the below code:</p>\n<pre><code>public class A2P1 {\n    public static void main(String[] args) {\n        int size = Integer.parseInt(args[0]);\n        String[] str = new String[size];\n        int length=0;\n        String loggestString=&quot;&quot;;\n        \n        for (int i=1; i &lt; size; i++) {\n            str[i] = args[i];      \n            int strLen = str[i].length();\n            if(strLen&gt;length) {\n                length=strLen;\n                loggestString=str[i];\n            }\n        }\n        System.out.println(loggestString);\n    } \n}\n</code></pre>\n"},{"answer_id":76300677,"body":"<p>Your assignment is incorrect, use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>str = sc.nextLine().split(&quot; &quot;);\n</code></pre>\n<p>You were attempting to place the <code>String[]</code> within the <code>i</code> index.</p>\n<ul>\n<li><code>str[i]</code> is a <code>String</code>.</li>\n<li><code>split</code> returns a <code>String[]</code></li>\n</ul>\n<p>I've refactored your code, for reference, have it look.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nString[] str = sc.nextLine().split(&quot; &quot;);\nint maximum = 0;\nfor (String string : str) {\n    if (string.length() &gt; maximum)\n        maximum = string.length();\n}\nSystem.out.println(&quot;The longest input strings are:&quot;);\nfor (String string : str) {\n    if (string.length() == maximum)\n        System.out.println(string);\n}\n</code></pre>\n<p>Output for &quot;3 a2 b3c 7&quot;.</p>\n<pre class=\"lang-none prettyprint-override\"><code>The longest input strings are:\nb3c\n</code></pre>\n"}],"last_activity_date":1684683948,"question_id":75318214,"body":"<p>I am doing a programming assignment that takes all of its input from stdin. The first input is an int n to tell you how many strings will follow, and the next n inputs are strings of varying lengths. The goal is to find the longest string(s) and print them.</p>\n<p>I thought this was easy, but for the life of me, I cannot get the stdin to work with me. The eclipse arguments entered are (separated by enter):</p>\n<ul>\n<li>3</li>\n<li>a2</li>\n<li>b3c</li>\n<li>7</li>\n</ul>\n<p>Yet I run the program, and it tells me it cannot convert from String[] to String. I do not understand how any of the above are String[]. The code is below:</p>\n<pre><code>import java.util.Scanner;\n\npublic class A2P1 {\n    public static void main(String[] args) {\n        int size = Integer.parseInt(args[0]);\n        \n        String[] str = new String[size];\n        Scanner sc = new Scanner(System.in);\n        \n\n        for (int i=0; i &lt; size; i++) {\n            str[i] = sc.nextLine().split(&quot; &quot;);              // The error\n            //str[i] = sc.next();                         This line and the line below throw\n            //str[i] = sc.nextLine();                    no errors, but also gives no output.\n        }\n        \n        String[] longest = new String[size];\n        String[] temp = new String[size];\n        longest[0] = str[0];\n        int numToBeat = str[0].length();\n        int k = 0;\n        for (int i=0; i &lt; size; i++) {\n            if (str[i].length() &gt; numToBeat) {\n                numToBeat = str[i].length();\n                k = 0;\n                longest = temp;\n                \n                longest[k] = str[i];\n                k++;\n            }\n            else if (str[i].length() == numToBeat) {\n                longest[k] = str[i];\n            }\n        }\n            \n        System.out.println(&quot;The longest input strings are:&quot;);\n        for (int i=0; i &lt; k; i++) {\n            System.out.println(longest[i]);\n        }\n        sc.close();\n    }\n}\n\n</code></pre>\n<p>Tried:</p>\n<ul>\n<li>Changing str[i] = sc.nextLine().split(&quot; &quot;); to its other variations in the code</li>\n<li>Changing input values</li>\n<li>Googling stdin for the last hour trying to find any documentation that helps me</li>\n</ul>\n"},{"comments":[{"comment_id":134551872,"body":"Can you show your entire class ? What event Listeners are you subscribed to ? Have you tried asking ChatGPT? It gave me a answer that did not look to bad."},{"comment_id":134566392,"body":"What is this onDroppedByPlayer function? is this inside the item class?"}],"last_activity_date":1684683302,"question_id":76300665,"body":"<p>I cannot figure out how to get the position of a dropped item in Minecraft forge 1.18.1.</p>\n<p>I would like to print the items position every time it is dropped by a player.</p>\n<pre><code>    public boolean onDroppedByPlayer(ItemStack item, Player player) {\n        BlockPos dropPosition = **HOW DO I GET THE ITEMS POSITION?!**;\n        player.sendMessage( new TextComponent(&quot;The Ban Hammer was dropped at&quot; + dropPosition) );\n        return super.onDroppedByPlayer(item, player);\n    }\n</code></pre>\n"},{"comments":[{"comment_id":134538437,"body":"Don’t forget to annotate your test class, depending On whether you are using Junit4 or 5 - see : <a href=\"https://stackoverflow.com/a/49655834/681444\">stackoverflow.com/a/49655834/681444</a>"},{"comment_id":134538720,"body":"@racraman I have added <code>@ExtendWith(MockitoExtension.class)</code> and also <code>@BeforeEach     public void setUp() {         MockitoAnnotations.initMocks(this);     }</code> still the actual function is getting called."},{"comment_id":134538758,"body":"Are you using JUnit 4 or JUnit 5?  You shouldn&#39;t need to do both of those things, since the MockitoExtension actually calls initMocks."},{"comment_id":134538787,"body":"And can you show us the <code>EncSercice</code> class?  There might be something about it that stops it from being stubbed, for example, if it&#39;s final."},{"comment_id":134539006,"body":"I have updated the question and provided <code>EncService</code>.  I use <code>spring-boot-starter-test</code>. I think it has <code>junit 5x</code>. Spring verion 2.7.8."},{"comment_id":134539458,"body":"How does this even work? you provide 2 parameters for the method callFn() in test, but this method needs only one"},{"comment_id":134539561,"body":"In addition to the above question about parameters, must also ask how <code>ServiceClass</code> is calling <code>EncSercice</code> - is it calling <code>callFn</code> directly, or only via <code>execute</code> ?  If the latter, then even if Mockito was set up correctly, then your <code>when</code> would never have any effect (since the mock object does not have the actual <code>execute</code> code), so you would need to add a<code>when</code> for the <code>execute</code> call."},{"comment_id":134545007,"body":"You still haven&#39;t shown the annotation you are using. Please edit your question with your actual code. Also, please add the code for ServiceClass. And answer the question @Feelfree asked."},{"comment_id":134546139,"body":"Feelfree, I have edited the question. I had to mask some code.  For service code, I&#39;m just using @Service annotation."},{"comment_id":134568382,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74027324/why-are-my-mocked-methods-not-called-when-executing-a-unit-test\">Why are my mocked methods not called when executing a unit test?</a> You create a <code>new</code> instance in your method → the Mockito mock is never used (definitely a dupe)"}],"answers":[{"answer_id":76299463,"body":"<p>The class being tested, ServiceClass, should have EncsService as a field, so that mockito could inject it as a dependency.</p>\n<pre><code>public class ServiceClass {\n   private EncSercice encService;\n   public SeviceClass(EncSercice enc) \n   {\n      this.encService = enc;\n   }\n\n   public void sendPayload(final ValidRequest  req) {\n\n    // some code imp...\n    String str = encService.call(req, keys);\n</code></pre>\n"}],"last_activity_date":1684683141,"question_id":76293872,"body":"<p>Below is my test code.</p>\n<pre><code>import org.junit.Test;\nimport org.mockito.Mockito;\n\npublic class classA {\n\n    @Mock\n    EncSercice encService;\n\n    @InjectMocks\n    ServiceClass service;\n    @BeforeEach\n    public void setUp() {\n      MockitoAnnotations.initMocks(this);\n    }\n\n\n    @Test\n    public void testEncryptRegisterTransactionPayload() {\n        \n        ValidRequest request = new ValidRequest();\n\n        try {\n            \n            Mockito.when(encService.callFn(Mockito.anyString(), Mockito.any(String[].class)))\n                    .thenReturn(&quot;Stubbed encrypted message&quot;);\n\n            service.sendPayload(request);\n            Mockito.verify(encService).callFn(Mockito.anyString(), Mockito.any(String[].class));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here I'm trying to mock/stub the <code>encService.callFn</code> method. But when i run it, It's actually calling method. I can see the logs which I have mentioned in <code>callFn</code> method. Even i have tried using <code>doReturn().when()</code>, Still it's calling the actual method. How can I solve this?</p>\n<p>EncService class:</p>\n<pre><code>class EncSercice implements EncSerciceImp {\n    public String callFn(final String req, final String[] keys) throws Exception {\n    byte[] output = // calling a private method and passing req and keys as args....\n    return new String(output);\n}\n}\n\n// ServiceClass  code \npublic void sendPayload(final ValidRequest  req) {\n\n    // some code imp..\n    EncSercice encService = new EncSercice();\n    String str = encService.callFn(req, keys);\n}\n</code></pre>\n<p>note: <code>callFn</code> will return a dynamic string.</p>\n"},{"answers":[{"answer_id":57841733,"body":"<p>If you can't run MAT on that server, then you might want to run a <code>jhat</code> utility.</p>\n\n<p>It will run the web server on a port (that you can override) and will provide a web console and query language called OQL (object query language) that you can use to analyze the heap dump. It looks somewhat like SQL.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>jhat -J-Xmx32g -port 7000 &lt;PATH_TO_HEAPDUMP&gt;\n</code></pre>\n\n<p>And then access in browser:</p>\n\n<pre><code>http://&lt;IP&gt;:7000\n</code></pre>\n\n<p>There are many tutorials about OQL, <a href=\"https://blogs.oracle.com/sundararajan/querying-java-heap-with-oql\" rel=\"nofollow noreferrer\">here</a> is one of them</p>\n"},{"answer_id":76300653,"body":"<p>you can use headless MAT analyzer script to check top component ( using org.eclipse.mat.api:top_components ), that may help.</p>\n<p>If Leak suspect doesn't tell enough then top components can give insight that which bean is occupying more space. So you can check the methods associated with that.</p>\n<p><a href=\"https://stackoverflow.com/a/76298700/5140851\">https://stackoverflow.com/a/76298700/5140851</a></p>\n"}],"last_activity_date":1684683085,"question_id":57841372,"body":"<p>I'm having Java heap dump with about 70 GB in remote Debian machine, I can't analyse it in my local machine using MAT, although I can get an overview and suspicious leak reports as HTML pages, but they are brief and there are href for the objects there that don't point to anything (maybe MAT doesn't mean to create actual links there but just for styling purposes).</p>\n\n<p>However, is there anyway to fully analyze a heap dump of that size? </p>\n"},{"comments":[{"comment_id":132925099,"body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>. Also, please make sure the question is self-contained; auxiliary links are welcome, but the question should be understandable even if the rest of the internet disappears."},{"comment_id":132925282,"body":"@Amadan Thanks!!. Just a Question: I dont know if put the entire question is correct or not because belongs to Codility.  I just add it but please confirme me if that ts ok or not to be tranquil with that."}],"answers":[{"comments":[{"comment_id":132925620,"body":"Thank u so much for your help, I didnt think that the issue was so easy, perhaps because i was thinking how to obtain a huge palindrome and never think to use an small one to do the debug. Very good explanation and sorry for do not voting but i need 15 of reputation."}],"answer_id":75331877,"body":"<p>You should reset <code>notAA</code>, <code>notBB</code> and <code>notCC</code> inside your loop.</p>\n<p>Consider, for example, <code>ABCCBA</code>.  In your first pass, <code>notAA</code> and <code>notBB</code> are set to true, leaving <code>ABBA</code>.  In the second pass, <code>notAA</code> and <code>notCC</code> are set to true, leaving <code>AA</code>.  Your program would then break out with an available pair because all three conditions are set to true.</p>\n"},{"comments":[{"comment_id":132925649,"body":"Thank u really so much for your explanation and for your improvement. I was thinking on that improvemt until i watch your message and its so cool!!!. I will add it right now . This helps me to inprove the way to see everything before coding so thank u so much for that too!!"}],"answer_id":75331885,"body":"<p>You have to set <code>notAA</code>, <code>notBB</code> and <code>notCC</code> to <code>false</code> inside the loop, not before it. The way you are doing it, you find all three, you end the loop.</p>\n<ul>\n<li>Say <code>S</code> is <code>ABCCBA</code>.</li>\n<li>You set <code>notAA</code> and <code>notBB</code> to <code>true</code>, because <code>AA</code> and <code>BB</code> cannot be found; then you replace <code>CC</code>, giving you <code>ABBA</code>.</li>\n<li>Next loop, you set <code>notAA</code> to <code>true</code> again, remove <code>BB</code>, producing <code>AA</code>, and set <code>notCC</code> to <code>true</code>. Now all three are <code>true</code> (since <code>notBB</code> remained <code>true</code> since the first iteration), and you break the loop.</li>\n<li>The result is <code>AA</code>, which should have reduced further; but because the program thought there was no <code>AA</code>, but it appeared after <code>notAA</code> was set, you get the wrong value.</li>\n</ul>\n<p>In fact, this can be simplified: you just need a single flag <code>changed</code>, which starts before the loop as <code>true</code>; then use <code>while (changed)</code>. At the top of the loop, set it to <code>false</code>, and set it to true every time you successfully replace a substring. You do not need three separate ones, since they all do effectively the same job.</p>\n"},{"answer_id":76300647,"body":"<p>You almost had it, great approach.</p>\n<p>The error was, setting the boolean values to <code>true</code>.<br />\nInstead, you want to set them to whatever the inverted result of <code>S.contains</code> is.</p>\n<p>A few things I would fix.</p>\n<p>First, your while-loop condition includes a <code>|| true</code>, which will negate any need for <code>S.length()==0</code>.</p>\n<p>Additionally, you can reduce the text of your control-flow by using an assignment and a conditional, as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>notAA = !S.contains(&quot;AA&quot;);\nif (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\n</code></pre>\n<p>Furthermore, since the final statement within the loop is a conditional-statement that will break the loop, you can, instead, use a do-while loop, and place the conditional there.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String solution(String S) {\n    boolean notAA, notBB, notCC;\n    do {\n        notAA = !S.contains(&quot;AA&quot;);\n        if (!notAA) S = S.replace(&quot;AA&quot;, &quot;&quot;);\n        notBB = !S.contains(&quot;BB&quot;);\n        if (!notBB) S = S.replace(&quot;BB&quot;, &quot;&quot;);\n        notCC = !S.contains(&quot;CC&quot;);\n        if (!notCC) S = S.replace(&quot;CC&quot;, &quot;&quot;);\n    } while (!notAA || !notBB || !notCC);\n    return S;\n}\n</code></pre>\n<p>If you're familiar with regular expressions, you can reduce your code even further.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String solution(String S) {\n    while (S.matches(&quot;.*?([ABC])\\\\1.*&quot;))\n        S = S.replaceAll(&quot;([ABC])\\\\1&quot;, &quot;&quot;);\n    return S;\n}\n</code></pre>\n"}],"last_activity_date":1684682983,"question_id":75331596,"body":"<p>I have been taking the test on Codility, and trying this exercise:</p>\n<p><a href=\"https://app.codility.com/programmers/trainings/4/disappearing_pairs/\" rel=\"nofollow noreferrer\">https://app.codility.com/programmers/trainings/4/disappearing_pairs/</a></p>\n<p>A string S containing only the letters &quot;A&quot;, &quot;B&quot; and &quot;C&quot; is given. The string can be transformed by removing one occurrence of &quot;AA&quot;, &quot;BB&quot; or &quot;CC&quot;.</p>\n<p>Transformation of the string is the process of removing letters from it, based on the rules described above. As long as at least one rule can be applied, the process should be repeated. If more than one rule can be used, any one of them could be chosen.</p>\n<p>Write a function:</p>\n<p>class Solution { public String solution(String S); }</p>\n<p>that, given a string S consisting of N characters, returns any string that can result from a sequence of transformations as described above.</p>\n<p>For example, given string S = &quot;ACCAABBC&quot; the function may return &quot;AC&quot;, because one of the possible sequences of transformations is as follows:</p>\n<p><a href=\"https://i.stack.imgur.com/VJz6E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VJz6E.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, given string S = &quot;ABCBBCBA&quot; the function may return &quot;&quot;, because one possible sequence of transformations is:</p>\n<p><a href=\"https://i.stack.imgur.com/NoKTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NoKTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>Finally, for string S = &quot;BABABA&quot; the function must return &quot;BABABA&quot;, because no rules can be applied to string S.</p>\n<p>Write an efficient algorithm for the following assumptions:</p>\n<p>the length of string S is within the range [0..50,000];\nstring S is made only of the following characters: &quot;A&quot;, &quot;B&quot; and/or &quot;C&quot;.</p>\n<p>Here is the code that I tried with a score of 83:</p>\n<pre><code>public String solution(String S) {\n    \n    boolean notAA = false;\n    boolean notBB = false;\n    boolean notCC = false;\n\n    while(S.length()==0 || true){\n        if (S.contains(&quot;AA&quot;)){\n            S = S.replace(&quot;AA&quot;, &quot;&quot;);\n        } else {\n           notAA = true;\n        }\n\n        if(S.contains(&quot;BB&quot;)){\n            S = S.replace(&quot;BB&quot;, &quot;&quot;);\n        } else {\n            notBB = true;\n        }\n\n        if(S.contains(&quot;CC&quot;)){\n            S = S.replace(&quot;CC&quot;, &quot;&quot;);\n        } else {\n            notCC = true;\n        }\n\n        if(notAA &amp;&amp; notBB &amp;&amp; notCC){\n            break;\n        }\n    }\n    return S;\n}\n</code></pre>\n<p>I could not obtain the 100% score because of this:</p>\n<p><a href=\"https://i.stack.imgur.com/xqOFk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqOFk.png\" alt=\"enter image description here\" /></a></p>\n<p>even_palindrome1   big palindrome of even length</p>\n<p>✘WRONG ANSWER got CACABACABABCBACBACBA.. expected &quot;&quot;</p>\n<p>Codility doesn't show me the string example or any other information.</p>\n<p>I was reading and reviewing but I still do not understand why I am not getting the right output. My assumption is when I delete the first combination of letters, the string needs to be in a specific state or a specific combination of letters to work correctly and the problem is the palindrome even string.</p>\n<p>But, if my assumption is correct, I don't really understand the real cause or root reason for this.</p>\n<p>Thanks in advance for your help.</p>\n"},{"comments":[{"comment_id":134546890,"body":"Just &quot;a static map&quot; isn&#39;t a bad practice, there is a lot of cases where this is useful and the gool solution."},{"comment_id":134546915,"body":"I see a caveat in your example, as this is static, do not put the initialization into a public constructor."},{"comment_id":134547098,"body":"@PeterMmm why ?"},{"comment_id":134547299,"body":"Without knowing the rest of your code, to use  _globals (with values), you must instantiate an object of MainClass. Can be fine in your case. But in general, constructor are for constructing objects and their members, statics are bind to the class."},{"comment_id":134548838,"body":"<b>Congratulations!</b> You have independently reinvented the little discussed <a href=\"https://en.wikipedia.org/wiki/Multiton_pattern\" rel=\"nofollow noreferrer\">multiton pattern</a>. Personally, I think it has its uses. But be careful. One major disadvantage of global state is debugging and testing become more difficult."},{"comment_id":134566389,"body":"This is clearly not a <i>multiton</i>: the Map holds only one instance per class. It is the <a href=\"https://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/\" rel=\"nofollow noreferrer\">Service Locator</a> anti-pattern... not because the field is static, but because of all the dependencies throughout a codebase that it hides. Dependency Injection is the modern solution to this problem."}],"answers":[{"comments":[{"comment_id":134547235,"body":"If I make sure the map is set on initialisation and remains the same always, it seems that all of the 5 points you made are solved, no? factory pattern might still be a better solution, though"},{"comment_id":134547371,"body":"I still would advise against utilizing static variables for achieving your goals"}],"answer_id":76299183,"body":"<p>Static variables, while not inherently problematic, can be classified as a code smell for a few significant reasons:</p>\n<p><strong>Global State:</strong> Static variables are essentially global state in disguise. Their state is preserved across the application's lifetime and can be accessed or mutated from any portion of the code, making it difficult to reason about behavior, leading to side effects and bugs.</p>\n<p><strong>Concurrency Issues:</strong> In multithreaded programming, static variables are shared among all threads. This can lead to race conditions and other synchronization problems unless handled carefully with locks, semaphores, etc.</p>\n<p><strong>Coupling:</strong> Static variables increase the coupling between components in your code. Changing the state of a static variable affects all the code that accesses it, making it harder to understand, maintain, and evolve the software.</p>\n<p><strong>Testing:</strong> Unit testing becomes more complicated when static variables are involved, as the shared state can persist between tests and cause tests to fail or pass unexpectedly. It can also make tests order-dependent.</p>\n<p><strong>OOP Principles:</strong> Static variables, particularly public ones, violate the principles of encapsulation and instantiation in Object-Oriented Programming (OOP). They contradict the idea of each object carrying its own state.</p>\n<p>As for</p>\n<blockquote>\n<p>The main purpose of _globals if to have it available for example in the class TextFieldController without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.</p>\n</blockquote>\n<p>It seems like you're intending to replace the IoC (Inversion of Control) container and establish singletons through the use of static variables. This approach, however, is not generally recommended as a best practice. If you're not interested in using IoC frameworks, I recommend exploring the factory pattern as a lightweight option.</p>\n"},{"answer_id":76300627,"body":"<p>IMO it would be totally ok, if this constant will provide immutability, e.g.\nI would use immutable map to avoid this constant modification after creation, for instance using Map.of() method since java 9.</p>\n"}],"last_activity_date":1684682657,"question_id":76299162,"body":"<p>I want to have some important classes available through out the app, like so:</p>\n<pre><code>private static final HashMap&lt;Class&lt;?&gt;, Object&gt; _globals = new HashMap&lt;&gt;();\n\npublic MainClass(){\n     _stateManager = new StateManager();\n     _inputManager = new InputManager();\n     _toolManager = new ToolManager();\n     _viewManager = new ViewManager();\n     _globals.put(StateManager.class, _stateManager);\n     _globals.put(InputManager.class, _inputManager);\n     _globals.put(ToolManager.class, _toolManager);\n     _globals.put(ViewManager.class, _viewManager);\n}\n</code></pre>\n<p>From what I've been researching, static vars are always discouraged, but I feel like this might be ok, because I'm not actually keeping any static state. The main purpose of _globals if to have it available for example in the class <code>TextFieldController</code> without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.</p>\n<p>Is this ok or is there any problems i'm not seeing ?</p>\n"},{"comments":[{"comment_id":134549418,"body":"It looks like this method was <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html#namedGroups()\" rel=\"nofollow noreferrer\">added in Java 20</a>. Is your project configured to use Java 20?"}],"last_activity_date":1684682526,"question_id":76300618,"body":"<p>I have a pattern with named groups.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.*;\n\nString regexp = &quot;(?&lt;test&gt;[a-z0-9]+)&quot;;\nPattern pattern = Pattern.compile(regexp);\nMatcher matcher = pattern.matcher(&quot;foobar&quot;);\nMap&lt;String, Integer&gt; groups = matcher.namedGroups();\n</code></pre>\n<p>But when I try to get the groups with matcher.namedGroups(), I get the following error.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java: cannot find symbol\n    symbol:   method namedGroups()\n    location: variable matcher of type java.util.regex.Matcher\n</code></pre>\n<p>If I remove the line with matcher.namedGroups() and check in Intellij with Evaluate, the function is available.</p>\n<p><a href=\"https://i.stack.imgur.com/nUbwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nUbwf.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone have an idea what the problem is?</p>\n"},{"comments":[{"comment_id":18237849,"body":"So what is your problem/question with that code?"},{"comment_id":25985936,"body":"hey. were you able to solve the problem. I am facing a similar problem"}],"answers":[{"comments":[{"comment_id":25986146,"body":"Hi , lenik can you tell me how to know if a user has clicked on a circle after drawing it."}],"answer_id":13360105,"body":"<p>you have to change this part:</p>\n<pre><code>  private int centerX;\n  private int centerY;\n  private int speedX = 50;\n  private int speedY = 40;\n</code></pre>\n<p>and convert it to the</p>\n<pre><code>class Circle {\n  private int centerX;\n  private int centerY;\n  private int speedX = 50;\n  private int speedY = 40;\n  // add constructor here and other things\n};\n</code></pre>\n<p>then make a collection of your circles: <code>ArrayList&lt;Circle&gt; circles</code>, and then instead of</p>\n<pre><code>centerX += speedX;\ncenterY += speedY;\nint rightLimit = w - RADIUS;\nint bottomLimit = h - RADIUS;\n\nif (centerX &gt;= rightLimit) {\n  centerX = rightLimit;\n  speedX *= -1;\n}\nif (centerX &lt;= RADIUS) {\n  centerX = RADIUS;\n  speedX *= -1;\n}\nif (centerY &gt;= bottomLimit) {\n  centerY = bottomLimit;\n  speedY *= -1;\n}\nif (centerY &lt;= RADIUS) {\n  centerY = RADIUS;\n  speedY *= -1;\n}\n</code></pre>\n<p>you have to do it for every circle, like</p>\n<pre><code>for( i=0; i&lt;circles.size(); i++) {\n    circles[i].centerX += circles[i].speedX;\n    circles[i].centerY += circles[i].speedY;\n\n    // и так далее...\n }\n</code></pre>\n"},{"answer_id":13360118,"body":"<p>You will need to call draw circle 5 times with different centerx ,centerY ,Radius and p</p>\n"}],"last_activity_date":1684681565,"question_id":13360021,"body":"<p>I have a task. It's to draw some (more than one) circles moving around the screen. They must start moving after click on them. I have the code only for one circle. Give me the way how to do this task, for example, 5 circles. Thanks in advance!</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(new MyView(this));\n    }\n\n    class MyView extends View {\n        //public    Paint c;\n        public  Paint p;\n\n        private static final int RADIUS = 46;\n\n        private int centerX;\n        private int centerY;\n        private int speedX = 50;\n        private int speedY = 40;\n        //private Paint paint; // Создай его где-нибудь там в конструкторе\n\n\n        public MyView(Context context) {\n            super(context);\n            p = new Paint();\n            p.setColor(Color.GREEN);\n        }\n\n        @Override\n        protected void onSizeChanged(int w, int h, int oldW, int oldH) {\n            centerX = w / 2;\n            centerY = h / 2;\n        }\n\n        protected void onDraw(Canvas c) {\n            int w = getWidth();\n            int h = getHeight();\n            centerX += speedX;\n            centerY += speedY;\n            int rightLimit = w - RADIUS;\n            int bottomLimit = h - RADIUS;\n\n            if (centerX &gt;= rightLimit) {\n                centerX = rightLimit;\n                speedX *= -1;\n            }\n            if (centerX &lt;= RADIUS) {\n                centerX = RADIUS;\n                speedX *= -1;\n            }\n            if (centerY &gt;= bottomLimit) {\n                centerY = bottomLimit;\n                speedY *= -1;\n            }\n            if (centerY &lt;= RADIUS) {\n                centerY = RADIUS;\n                speedY *= -1;\n            }\n\n            c.drawCircle(centerX, centerY, RADIUS, p);\n            postInvalidateDelayed(200);  \n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":133105055,"body":"I don&#39;t do much Java, but why can&#39;t you just iterate over the location of each space, checking whether the before and after are both valid? (Pseudocode: <code>while (matcher.find()) { if (is_ident(s.substring(0, matcher.start())) &amp;&amp; is_ident(s.substring(matcher.end())) {...} }</code>)"},{"comment_id":133105223,"body":"Although if the separators are always single space characters, using a regex to find them is overkill. You could just use String.indexOf."},{"comment_id":133110594,"body":"Would definitively be worth a SO answer :) Extension of the question: I have also further cases, where I have three (or more) identifiers to parse. Your approach definitively would work for two (so, it&#39;s a valid answer for the question here), but for three, it&#39;ll get more complicated."}],"answers":[{"comments":[{"comment_id":134549172,"body":"See <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a> and the repeated <code>Arrays.copyOfRange(...).join(&quot; &quot;)</code> should be a variable."}],"answer_id":75455972,"body":"<p>Why not <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\"><code>String.split(String)</code></a>?</p>\n<p>If you split your input, you can then scan through looking for which combinations of words is the identifier.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String stringin; // value from somewhere\nString theWord; // the starting identifier\n\nString[] words = stringin.split(&quot; &quot;);\n\nfor (int width = 1; width &lt; words.length; width++) {\n    for (int start = 0; start + width - 1 &lt; words.length; start++) {\n        if (Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;) == theWord)\n            return Arrays.copyOfRange(words, start, start + width - 1).join(&quot; &quot;);\n    }\n}\n</code></pre>\n"},{"answer_id":76300509,"body":"<p>There is no need for a <code>Pattern</code> object.</p>\n<p>You can use the following code to derive a list of ids for a specified <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; ids(String string) {\n    List&lt;String&gt; ids = new ArrayList&lt;&gt;();\n    int indexOf, offset = -1;\n    while ((indexOf = string.indexOf(' ', offset + 1)) != -1)\n        ids.add(string.substring(0, offset = indexOf));\n    return ids;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[abc, abc def, abc def uvw]\n</code></pre>\n<p>In response to your inquery of regular-expression greediness.<br />\nIt's one or the other, it will either consume all matches, or the least possible matches.</p>\n<p>The reason for this being that a regular-expression evaluation works at a minimum, simply reading left to right, attempting to match the parameters; there is no increment adjustment, or evaluation.</p>\n<p>I highly recommend reviewing the source code for <code>Matcher</code>.<br />\nIf you can't view it from your IDE, you can view it online, at GitHub.</p>\n<p>Here is the link.<br />\n<a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/regex/Matcher.java</a></p>\n"}],"last_activity_date":1684681456,"question_id":75429359,"body":"<p>In a Java application (running JVM version 17), I have a communication protocol where each line has the following structure:</p>\n<pre><code>&lt;identifier&gt; &lt;space&gt; &lt;identifer&gt;\n</code></pre>\n<p>The problem is that the identifiers themselves may contain (besides upper- and lowercase latin characters) (single) spaces so that it is unclear what purpose the space symbols have. Example:</p>\n<p>Let the communication on the wire be:</p>\n<pre><code>abc def uvw xyz\n</code></pre>\n<p>Now, the separating space could have three different positions:</p>\n<ol>\n<li>First identifier: <code>abc</code>, second identifier: <code>def uvw xyz</code>.</li>\n<li>First identifier: <code>abc def</code>, second identifer: <code>uvw xyz</code>.</li>\n<li>First identifier: <code>abc def uvw</code>, second identifier: <code>xyz</code>.</li>\n</ol>\n<p>In the given case, technically this is not a problem: <em>After parsing</em> it is possible to verify each identifier, if it is valid (note that the set of identifier values is both &quot;huge&quot; - and hence you would not want to put it into a regular expression - and partially also unknown, but verifiable after the fact).</p>\n<p>[Background for the ambiguous protocol: At the other end, a human being is sitting - and based on his/her role and situation, that person isn't able to think about ambiguity of what they are sending. Moreover, if a human mind reads the text, due to semantics and the meaning of the identifiers, it is obvious where to make the cut.]</p>\n<p>The challenge to solve is to create an algorithm which creates all these possible combinations based on an arbitrary input.</p>\n<p>For brevity, it may be assumed that there is no &quot;prefix/suffix problem&quot; between the identifiers, i.e. the identifiers are cut in such a way that a suffix of the first identifier isn't a prefix of the second identifier.</p>\n<p>I already tried to start with a Java Pattern Regular Expression like</p>\n<pre><code>([A-Za-z ]+) ([A-Za-z ]+)\n</code></pre>\n<p>but here greediness always returns you the &quot;last&quot; variant from above, e.g.</p>\n<pre><code>group 1: abc def uvw\ngroup 2: xyz\n</code></pre>\n<p>I also looked around at the various Regex modifiers, including also those not supported by Java (e. g. &quot;Ungreedy&quot;). So I played around with making the quantifier lazy or possessive, but no avail. I also looked at the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">JavaDoc API</a>, playing around with <code>.find()</code> and <code>.results()</code>, but apparently backtracking has terminated and I cannot reinitiate it.</p>\n<p>Due to some additional factors, it would be preferrable to have this parsing done using <code>java.util.regex.Pattern</code>, but this is not mandatory.</p>\n"},{"comments":[{"comment_id":41977304,"body":"please add the code for selecting the value from the drop-down and .//*[@id=&#39;minexpButton&#39;]/span --&gt; I dont see a span tag which is the child of tag with id = &#39;minexpButton&#39;"}],"answers":[{"answer_id":26690462,"body":"<p>You can use the following function to select values from your drop-down<br>\nThe below function will select 0 value from the drop-down, you can parameterize the following line \n(temp.equals(\"0\") and pass the value which you want to select</p>\n\n<pre><code> List&lt;WebElement&gt; element = driver.findElements(By.cssSelector(\".txt_black.heading_4\"));\n    for (int i = 0; i &lt; element.size(); i++) {\n        String temp = element.get(i).getText();\n        if (temp.equals(\"0\")) {\n            element.get(i).click();             \n            break;\n        }\n    }\n</code></pre>\n"},{"answer_id":26693833,"body":"<p>I believe the application you are automating is using YUI Library.</p>\n\n<p>Note in YUI Library clicking on every element with class containing 'yui-menu-button' will display the menu items of the dropdown. These menu items are wrapped in a DIV element containing class 'yui-menu-button-menu'.</p>\n\n<p>The architecture of the application in your case is implementing a suffix. I believe and correct me if I'm wrong, the ID of all dropdowns on the page are in the format:</p>\n\n<p><strong>[dropdownName]Button</strong>  &amp; <strong>[dropdownName]SelectionMenu</strong></p>\n\n<p>eg. </p>\n\n<pre><code>&lt;span id=\"countryButton\" class=\"...\"&gt;\n&lt;/span&gt;\n....\n&lt;div id=\"countrySelectionMenu\" class=\"\"&gt;\n....\n&lt;/div&gt;\n</code></pre>\n\n<p>So the actual name/id of the dropdown is 'country'. In the above case it is 'minexp'. (Minimum Experience I think. Therefore DropdownID is 'minexp' and not 'minexpButton' or 'minexpSelectionMenu'. It may apply similarly to other elements in your application. Please conduct an architectural review of the application to get a better understanding of the element IDs and YUI library.</p>\n\n<p>Here is how you can select from a YUI SelectMenu (dropdown):</p>\n\n<pre><code>// Remember dropdownID is the 'minexp' and not 'minexpButton' or 'minexpSelectionMenu'    \npublic void selectOption(String dropdownID, String optionText) {\n       // Get the dropdown button\n       WebElement dropdownButton = driver.findElement(By.id(dropdownID &amp; \"Button\"));\n\n       // Click on the dropdown button, this will make the selection menu visible\n       dropdownButton.click();\n\n       // Get the dropdown selection menu, since it is now visible you can select from it\n       WebElement dropdownMenu = driver.findElement(By.id(dropdownID &amp; \"SelectionMenu\"));\n\n       // Verify selection menu is visible\n       if(dropdownMenu.isDisplayed()) {\n             List&lt;WebElement&gt; menuItems = dropdownMenu.findElements(By.tagName(\"a\"));\n             for(WebElement menuItem : menuItems) {\n                if(menuItem.getText().trim().toLowerCase().equalsIgnoreCase(optionText.trim().toLowerCase())) {\n                       menuItem.click();\n                       break;\n                }\n            }  \n       }        \n}\n</code></pre>\n\n<p>Tried and tested on the <a href=\"http://yui.github.io/yui2/docs/yui_2.9.0/examples/button/btn_example07.html\" rel=\"nofollow\">YUI Library for Dropdown</a>.</p>\n\n<p>I hope this helped. :)</p>\n"},{"answer_id":67229527,"body":"<p>Please try the below code:</p>\n<pre><code>driver.findElement(By.id(“dropdownField”)).sendKeys(“mention text of required \n value from dropdown”); //send required option in dropdown field\ndriver.findElement(By.id(“option1”)).click();\n</code></pre>\n<p>Or try with the below code:</p>\n<pre><code>List&lt;WebElement&gt; options = driver.findElements(By.xpath(“”));\nfor(WebElement option : options) {\nif (option.getText().contains(“mention text of required value from dropdown”)) \n{\n option.click();\n break;\n}\n</code></pre>\n<p>Please refer to the <a href=\"https://biswasarpita.medium.com/selecting-dropdown-option-with-selenium-19ef06e1d5fa\" rel=\"nofollow noreferrer\">link</a> for more details- how to select a particular value in a dropdown without using the methods of Select class in Selenium.</p>\n"}],"last_activity_date":1684681255,"question_id":26689428,"body":"<p>how to select the value from \"Span Type dropdown\"  in Selenium webdriver</p>\n\n<p>I am able to click on dropdown by using XPath but not able to select the value from the dropdown.\nMy XPath for clicking on Dropdown is: </p>\n\n<pre><code>driver.findElement(By.xpath(\".//*[@id='minexpButton']/span\")).click();\n</code></pre>\n\n<p>When i use the above code in Selenium, dropdown is expanded but i am not able to select the value from the Dropdown</p>\n\n<p>MY HTML code is as below:</p>\n\n<pre><code>&lt;span id=\"minexpButton\" class=\"yui-button yui-menu-button yui-button-active yui-menu-button-active\" style=\"background-color: rgb(255, 255, 255); display: -moz-inline-box;\"&gt;\n\n&lt;div id=\"minexpSelectionMenu\" class=\"yui-module yui-overlay yui-button-menu yui-menu-button-menu\" style=\"z-index: 1003; visibility: visible; left: 367.683px; top: 1050.6px;\"&gt;\n\n&lt;div class=\"bd\"&gt;\n&lt;div class=\"selectionMenu\"&gt;\n&lt;div class=\"ulDiv\" style=\"overflow: auto; width: 64px; height: 210px;\"&gt;\n&lt;div class=\"liDiv selected\"&gt;\n\n&lt;a class=\"txt_black heading_4\" href=\"#\" tabindex=\"-1\" target=\"_self\"&gt;- Min -&lt;/a&gt;\n&lt;/div&gt;\n\n&lt;div class=\"liDiv\"&gt;\n&lt;a class=\"txt_black heading_4\" href=\"#\" tabindex=\"-1\" target=\"_self\"&gt;0&lt;/a&gt;\n&lt;/div&gt;\n\n&lt;div class=\"liDiv\"&gt;\n&lt;a class=\"txt_black heading_4\" href=\"#\" tabindex=\"-1\" target=\"_self\"&gt;1&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>How can I select the value from dropdown?</p>\n"},{"comments":[{"comment_id":134549112,"body":"Do you know the first-level ID (<code>krZF9...</code>)?"}],"answers":[{"answer_id":76300514,"body":"<p>If you know the first level ID (<code>krZF9...</code>), you can read all data under that node, and loop over the children with:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1&quot;);\nref.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        for (DataSnapshot secondSnapshot: dataSnapshot.getChildren()) {\n            String key = secondSnapshot.getKey(); // x0PTLSiX61MGNfkfVVnjsn9VsZy1\n            String status = secondSnapshot.child(&quot;status&quot;).getValue(String.clasS);\n            ...\n        }\n    }\n\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        throw databaseError.toException();\n    }\n});\n\n\n</code></pre>\n"}],"last_activity_date":1684681064,"question_id":76300476,"body":"<p>Getting data from FireBase RealTime Database</p>\n<p>How can I get the second id from the following path: <code>/Requests/krZF9AMNmwZO6cxuqZFaVJA8ZNg1/x0PTLSiX61MGNfkfVVnjsn9VsZy1</code>? if the first id is the user who sent the request and the second one should get it and output data from it. The first and second id were chosen as an example they may differ.</p>\n<p><img src=\"https://i.stack.imgur.com/kGUvl.png\" alt=\"How it looks in RealTime Database\" /></p>\n"},{"answers":[{"comments":[{"comment_id":127449565,"body":"Or use <i>less</i> than all cores, as the JVM, OS, utilities, monitoring apps, file system, etc. need cores for their execution."},{"comment_id":127449698,"body":"Ok, but which the best choice for IO tasks. fixedThreadPool or cachedThreadPool. My sugestion is:   fixedThreadPool - is preffer choice for large number of IO task. We neead to restrict our load.   cachedThreadPool - is preffer for apps where that IO tasks can apper rarely(but still nead get result as faster as we can). And we don&#39;t nead to keep many not used thread.  Am I right or am I mistaken somewhere?"},{"comment_id":127451261,"body":"cachedThreadPool is perfectly fine as long as you aware of behavior of your IO code."},{"comment_id":127451447,"body":"Sometimes system is more parallel in IO than in CPU. Like having a large DB and small java server in front. In those systems you can increase your throughput while being completely CPU limited. Like running one more query while server CPU is at 100%. The price you pay is prolonged latency at server. It is not going to be responsive, but the system overall will continue to increase throughput with additional queries. So the &quot;right&quot; option is mostly about what you got and what you want to achieve. Often parallelization of code is memory constrained. More tasks require more memory."},{"comment_id":127456438,"body":"Now I notice that your Answer focuses on CPU-bound tasks. But that is not the case in the Question. The Question clearly states that these tasks are <i>not</i> CPU-bound, they are making REST calls to web services."},{"comment_id":127458132,"body":"Post does not focuses on CPU bounded task. It focuses on bounded tasks. All unconstrained perfectly scaling IO (implied in question) will be eventually CPU bounded even if IO itself is perfectly scalable and instantaneous. As CPU overhead of parallelism is &quot;serial part&quot; of task and eventually ends up limiting you. And that is why you can&#39;t ignore it."}],"answer_id":72131633,"body":"<p>On completely CPU bound tasks you do not get additional performances by going with more threads than CPU cores. So in this scenario, 8 core / 8 thread CPU needs only 8 thread to maximize performances, and loses performance by going with more. IO tasks usually do gain performances by going with larger number of threads than CPU cores, as CPU time is available to do other stuff while waiting for IO. But even when CPU overhead of each thread is low there are limits to scaling as each thread eats into memory, and incurs caching/context switches..</p>\n<p>Given that your task is IO limited, and you didn't provide any other constraints, you should probably just run different thread for each of your IO tasks. You can achieve this by either using fixed or cached thread pool.</p>\n<p>If the number of your IO tasks is very large (thousands+), you should limit the maximum size of your thread pool, as you can have such thing as too many of threads.</p>\n<p>If your task are CPU bound, you should again limit thread pool to even smaller size. Number of cores can be dynamically fetched by using:</p>\n<pre><code>int cores = Runtime.getRuntime().availableProcessors();\n</code></pre>\n<p>Also, just as your CPU has scaling limit, your IO device usually has a scaling limit too. You should not exceed that limit, but without measuring it is hard to say where limit is.</p>\n"},{"answer_id":72131823,"body":"<p>If I understand your question properly, for above behaviour, irrespective of selection of  <code>executorService</code>, it is more important how you are calling your <code>executorService</code>.</p>\n<p>E.g.</p>\n<pre><code>ExecutorService executorService=Executors.newCachedThreadPool();\nexecutorService.invokeAll(..);\n</code></pre>\n<p>Now here, <code>invokeAll(..)</code> will block until all supplied tasks inside are completed.\nSo I feel selecting any ExecutorService &amp; calling <code>invokeAll(..)</code> will be suitable for your requirement.</p>\n<p>Also please have a look at this <a href=\"https://stackoverflow.com/questions/11872520/executorcompletionservice-why-do-need-one-if-we-have-invokeall\">SE Question</a> which discusses new Java 8 introduction of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorCompletionService.html\" rel=\"nofollow noreferrer\">ExecutorCompletionService</a> &amp; <code>invokeAll</code>.</p>\n"},{"answer_id":72132236,"body":"<h1>Project Loom</h1>\n<p>Your situation is suited to using the new features being proposed for future versions of Java: <a href=\"https://openjdk.java.net/jeps/425\" rel=\"nofollow noreferrer\">virtual threads</a> and <a href=\"https://openjdk.java.net/jeps/8277129\" rel=\"nofollow noreferrer\">structured concurrency</a>. These are part of <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\"><em>Project Loom</em></a>.</p>\n<p>Today’s Java threads are mapped one-to-one onto host operating system threads. When Java code blocks, the host thread blocks. The host OS threads sits idle, waiting for execution to resume. Host OS threads are heavyweight, costly in terms of both CPU and memory. So this idling is not optimal.</p>\n<p>In contrast, virtual threads in Project Loom are mapped many to one onto the host OS thread. When code in a virtual thread blocks, that task is “parked”, set aside to allow another virtual thread’s task some execution time. This parking of virtual threads is managed within the JVM, so it is highly optimized, very fast, very efficient both in CPU and in memory. As a result, Java apps running on common hardware can support thousands, even millions, of virtual threads at a time.</p>\n<p>The <code>ExecutorService</code> is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> in Loom. So we can use try-with-resources to contain your entire batch of tasks in a <code>try ( ExecutorService es = Executors.newVirtualThreadPerTaskExecutor() ) { … submit tasks … }</code>. Once completed, the flow of control exits from the try-with-resources block, and you know your tasks are done. Access the <code>Future</code> object returned for each task you submitted. No need for <code>CompletableFuture</code>.</p>\n<p>Loom features are now being previewed and incubated in Java 19 and 20. The virtual threads feature is <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">planned for release in Java 21</a>.</p>\n<p>For more info, see the several articles, presentations, and interviews with members of the Project Loom team. These include Ron Pressler and Alan Bateman. And see relevant episodes of <a href=\"https://m.youtube.com/playlist?list=PLX8CzqL3ArzV4BpOzLanxd4bZr46x5e87\" rel=\"nofollow noreferrer\">JEP Café</a>.</p>\n"},{"answer_id":76023298,"body":"<p>I found the optimal solution for this kind of task. All I nead to find the solution is to look at implementation of Executors.newCachedThreadPool() or Executors.newFixedThreadPool(30)</p>\n<pre><code>   public static ExecutorService newCachedThreadPool() {\n        return new ThreadPoolExecutor(0, Integer.MAX_VALUE,\n                                      60L, TimeUnit.SECONDS,\n                                      new SynchronousQueue&lt;Runnable&gt;());\n    }\n</code></pre>\n<p>My decision is to instantiate ThreadPoolExecutor directly and set upper bound of threads that can be created by thread pool. And set timeout after unused threads can be terminated</p>\n<pre class=\"lang-java prettyprint-override\"><code>int nThread = 90;\nlong timeoutSec = 120;\nThreadFactory threadFactory = new ThreadFactoryBuilder()\n                .setNameFormat(&quot;Executor-Worker-%d&quot;)\n                .setDaemon(true)\n                .build();\nExecutor delegate = new ThreadPoolExecutor(\n    0,  // min number of thread in pool\n    nThread, // max number of thread in pool\n    timeoutSec, // terminate idle thread after\n    TimeUnit.SECONDS,\n    new SynchronousQueue&lt;Runnable&gt;(),\n    threadFactory\n);\n</code></pre>\n"}],"last_activity_date":1684680658,"question_id":72131438,"body":"<p>Let's imagine that we have n independent blocking IO tasks e.g. tasks for rest-call to another server. Then all answer we need to combine. Every task can be processing over 10 second.</p>\n<ol>\n<li><p>We can process it sequentially and spent ~n*10 second at the end:</p>\n<pre><code>Task1Ans task1 = service1.doSomething();\nTask2Ans task2 = service2.doSomething()\n...\nreturn result;\n</code></pre>\n</li>\n<li><p>Another strategy is to process it in parallel manner using CompletableFuture and spent ~ 10 second on all task:</p>\n<pre><code>CompletableFuture&lt;Task1Ans&gt; task1Cs = CompletableFuture.supplyAsync(() -&gt; service1.doSomething(), bestExecutor);\nCompletableFuture&lt;Task2Ans&gt; task2Cs = CompletableFuture.supplyAsync(() -&gt; service2.doSomething(), bestExecutor);\nreturn CompletableFuture.allOf(task1Cs, task2Cs)\n   .thenApply(nothing -&gt; {\n       ...\n       // combine task1, task2 into result object\n       return result;\n   }).join();\n</code></pre>\n</li>\n</ol>\n<p>The second approach has benefits, but I can't understand which type of thread pool is the best for this kind of task:</p>\n<pre><code>ExecutorService bestExecutor = Executors.newFixedThreadPool(30)   /// or Executors.newCachedThreadPool() or Executors.newWorkStealingPool()\n</code></pre>\n<p>My question is which ExecutorService is best for process n-parallel blocking IO tasks.</p>\n"},{"answers":[{"comments":[{"comment_id":134572740,"body":"Wow! That&#39;s ingenious! Don&#39;t know why I haven&#39;t thought about it. I have locked my mind into thinking that it only accepts string as paramter.  But need to provide some confgs, to return connections back  to main soruce ASAP. I&#39;ll test it.  Thanks."}],"answer_id":76300435,"body":"<p>Based on SpringBoot and HikariCP, try the following:</p>\n<p>Create DataSourceConfig class to create two separate HikariDataSource instances, each representing sub-connection pool A &amp; B.</p>\n<p>Each data source below configured with their respective max connection limits (8 for the apps) and will use the main connection pool as their underlying source with its own max connection limit (10 in this case).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class DataSourceConfig {\n    \n    @Bean(&quot;mainDataPoolSource&quot;)\n    @Primary\n    public DataSource mainDataPoolSource() {\n        HikariConfig config = new HikariConfig();\n        config.setMaximumPoolSize(10);\n        // Configure other Main Connection Pool properties such as JDBC URL, username, password, etc.\n        return new HikariDataSource(config);\n    }\n    \n    @Bean(&quot;dataPoolSourceA&quot;)\n    public DataSource dataPoolSourceA(@Qualifier(&quot;mainDataPoolSource&quot;) DataSource mainDataPoolSource) {\n        HikariConfig config = new HikariConfig();\n        config.setMaximumPoolSize(8);\n        // Configure other properties for App Module A\n        config.setDataSource(mainDataPoolSource);\n        return new HikariDataSource(config);\n    }\n    \n    @Bean(&quot;dataPoolSourceB&quot;)\n    public DataSource dataPoolSourceB(@Qualifier(&quot;mainDataPoolSource&quot;) DataSource mainDataPoolSource) {\n        HikariConfig config = new HikariConfig();\n        config.setMaximumPoolSize(8);\n        // Configure other properties for App Module B\n        config.setDataSource(mainDataPoolSource);\n        return new HikariDataSource(config);\n    }\n}\n</code></pre>\n<p>To assign each module to a specific data source with Spring's dependency injection mechanism, the example below uses @Autowired and @Qualifier annotations for App Module A.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AppModuleAService {\n    private final DataSource dataPoolSourceA;\n\n    @Autowired\n    public AppModuleAService(@Qualifier(&quot;dataPoolSourceA&quot;) DataSource dataPoolSourceA) {\n        this.dataPoolSourceA = dataPoolSourceA;\n    }\n    // Use the dataPoolSourceA in your module A service methods\n}\n</code></pre>\n<p>Repeat for App Module B</p>\n"}],"last_activity_date":1684679914,"question_id":76168266,"body":"<p>I want to create two separate JDBC data-sources (aka. connection pools) that would re use connections similar to following diagram.</p>\n<pre><code>                .------.\n                '------'\n                | Data |\n                | base |\n                '------'\n                   ^\n                   |\n            +------+-------+\n            |              |\n            |  Connection  |\n       +---&gt;|  Pool Main   |&lt;----+\n       |    |              |     |\n       |    +--------------+     |\n+------+----------+   +----------+--------+\n|Connection Pool A|   | Connection Pool B |\n+-----------------+   +-------------------+\n         ^                       ^\n         |                       |\n +-------+------+       +--------+-----+\n | App Module A |       | App Module B |\n +--------------+       +--------------+\n</code></pre>\n<p>Idea is to have parent connection pool to have 10 connections limit, and each child source to have limit of 8.</p>\n<p>So even if App module A uses all 8 connections, module B won't starve and would have at least two connection.</p>\n<p>So to reword the question: I want to represent single connection pool in such way, that one part of application can have at least N connections of total M available. Reserving this N connections for each part of application.</p>\n<p>Is this possible with any existing library, for example <strong>HikariCP</strong>?</p>\n<p><strong>P.S.</strong> This is spring boot application, but this should not matter as JDBC datasources can exist outside of spring. But perhaps Spring has some tricks for this use-case.</p>\n"},{"comments":[{"comment_id":134550806,"body":"please try with the latest dependency plugin version <code>mvn dependency:3.5.0:analyze</code>"},{"comment_id":134564760,"body":"That was it, thanks!"}],"last_activity_date":1684679457,"question_id":76300401,"body":"<p><code>mvn dependency:analyze</code> on my project is unable to process files (see log below). I can't understand why, the compilation seems OK since I can run the application fine.</p>\n<p>The parent pom.xml configures <code>maven.compiler.plugin.version=3.10.0</code> with <code>release=17</code>, and <code>-Xlint:all</code> as compiler arguments.</p>\n<p>Repo is available <a href=\"https://github.com/jjazzboss/JJazzLabTemp\" rel=\"nofollow noreferrer\">here</a>. The log was used on project <code>modules/Phrase</code>, but all the modules have the same problem. Win10, cygwin, JDK17, and I'm a beginner in Maven...</p>\n<pre><code>$ mvn dependency:analyze -Dmaven.plugin.validation=VERBOSE\n[INFO] Scanning for projects...\n[INFO]\n[INFO] -------------------&lt; org.jjazzlab:org-jjazz-phrase &gt;--------------------\n[INFO] Building Phrase 1.0-SNAPSHOT\n[INFO]   from pom.xml\n[INFO] --------------------------------[ nbm ]---------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; dependency:2.8:analyze (default-cli) &gt; test-compile @ org-jjazz-phrase &gt;&gt;&gt;\n[INFO]\n[INFO] --- resources:3.3.1:resources (default-resources) @ org-jjazz-phrase ---\n[INFO] Copying 1 resource from src\\main\\resources to target\\classes\n[INFO]\n[INFO] --- compiler:3.10.0:compile (default-compile) @ org-jjazz-phrase ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- nbm:4.8:manifest (default-manifest) @ org-jjazz-phrase ---\n[INFO] NBM Plugin generates manifest\n[INFO]\n[INFO] --- resources:3.3.1:testResources (default-testResources) @ org-jjazz-phrase ---\n[INFO] skip non existing resourceDirectory D:\\JeromeDocs\\NetBeansProjects\\JJazzLab\\modules\\Phrase\\src\\test\\resources\n[INFO]\n[INFO] --- compiler:3.10.0:testCompile (default-testCompile) @ org-jjazz-phrase ---\n[INFO] No sources to compile\n[INFO]\n[INFO] &lt;&lt;&lt; dependency:2.8:analyze (default-cli) &lt; test-compile @ org-jjazz-phrase &lt;&lt;&lt;\n[INFO]\n[INFO]\n[INFO] --- dependency:2.8:analyze (default-cli) @ org-jjazz-phrase ---\nUnable to process: org.jjazz.phrase.api.CyclicPositions\nUnable to process: org.jjazz.phrase.api.Grid\nUnable to process: org.jjazz.phrase.api.NoteEvent$AsNoteKey\nUnable to process: org.jjazz.phrase.api.NoteEvent\nUnable to process: org.jjazz.phrase.api.Phrase$6\nUnable to process: org.jjazz.phrase.api.Phrase\nUnable to process: org.jjazz.phrase.api.Phrases\nUnable to process: org.jjazz.phrase.api.PhraseSamples\nUnable to process: org.jjazz.phrase.api.SizedPhrase\nUnable to process: org.jjazz.phrase.api.SourcePhrase\nUnable to process: org.jjazz.phrase.api.SourcePhraseSet\n[WARNING] Used undeclared dependencies found:\n[WARNING]    com.google.guava:guava:jar:23.6-jre:compile\n[WARNING] Unused declared dependencies found:\n[WARNING]    org.jjazzlab:org-jjazz-guava:jar:1.0-SNAPSHOT:compile\n[WARNING]    org.jjazzlab:org-jjazz-chordleadsheet:jar:1.0-SNAPSHOT:compile\n[WARNING]    org.jjazzlab:org-jjazz-midi:jar:1.0-SNAPSHOT:compile\n[WARNING]    org.netbeans.api:org-openide-dialogs:jar:RELEASE170:compile\n[WARNING]    org.netbeans.api:org-openide-util:jar:RELEASE170:compile\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.754 s\n[INFO] Finished at: 2023-05-21T16:24:36+02:00\n[INFO] ------------------------------------------------------------------------\n[WARNING]\n[WARNING] Plugin validation issues were detected in 4 plugin(s)\n[WARNING]\n[WARNING]  * org.apache.maven.plugins:maven-site-plugin:3.12.1\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\n[WARNING]\n[WARNING]  * org.apache.maven.plugins:maven-compiler-plugin:3.10.0\n[WARNING]   Declared at location(s):\n[WARNING]    * org.jjazzlab:jjazzlab-parent:1.0-SNAPSHOT (C:\\Users\\Jerome\\.m2\\repository\\org\\jjazzlab\\jjazzlab-parent\\1.0-SNAPSHOT\\jjazzlab-parent-1.0-SNAPSHOT.pom) @ line 35\n[WARNING]   Used in module(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin should declare these Maven artifacts in `provided` scope: [org.apache.maven:maven-plugin-api:3.2.5, org.apache.maven:maven-model:3.2.5, org.apache.maven:maven-core:3.2.5, org.apache.maven:\nmaven-settings:3.2.5, org.apache.maven:maven-model-builder:3.2.5, org.apache.maven:maven-repository-metadata:3.2.5, org.apache.maven:maven-aether-provider:3.2.5, org.apache.maven:maven-settings-builder:3.2.5, o\nrg.apache.maven:maven-artifact:3.2.5]\n[WARNING]\n[WARNING]  * org.apache.netbeans.utilities:nbm-maven-plugin:4.8\n[WARNING]   Declared at location(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml) @ line 16\n[WARNING]   Used in module(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin depends on the deprecated Maven 2.x compatibility layer, which may not be supported in Maven 4.x\n[WARNING]    * Plugin depends on plexus-container-default, which is EOL\n[WARNING]   Mojo issue(s):\n[WARNING]    * Mojo nbm:manifest (org.apache.netbeans.nbm.NetBeansManifestUpdateMojo)\n[WARNING]      - Parameter 'localRepository' uses deprecated parameter expression '${localRepository}': ArtifactRepository type is deprecated and its use in Mojos should be avoided.\n[WARNING]\n[WARNING]  * org.apache.maven.plugins:maven-dependency-plugin:2.8\n[WARNING]   Declared at location(s):\n[WARNING]    * unknown\n[WARNING]   Used in module(s):\n[WARNING]    * org.jjazzlab:org-jjazz-phrase:1.0-SNAPSHOT (pom.xml)\n[WARNING]   Plugin issue(s):\n[WARNING]    * Plugin is a Maven 2.x plugin, which will be not supported in Maven 4.x\n[WARNING]    * Plugin depends on plexus-container-default, which is EOL\n[WARNING]   Mojo issue(s):\n[WARNING]    * Mojo dependency:analyze (org.apache.maven.plugin.dependency.analyze.AnalyzeMojo)\n[WARNING]      - Implements `Contextualizable` interface from Plexus Container, which is EOL.\n[WARNING]\n[WARNING]\n[WARNING] Fix reported issues by adjusting plugin configuration or by upgrading above listed plugins. If no upgrade available, please notify plugin maintainers about reported issues.\n[WARNING] For more or less details, use 'maven.plugin.validation' property with one of the values (case insensitive): [BRIEF, DEFAULT, VERBOSE]\n[WARNING]\n</code></pre>\n"},{"comments":[{"comment_id":134547861,"body":"what does <code>here i tried use native entitymanager...</code> mean? it does not work either?"},{"comment_id":134548477,"body":"@AndreyB.Panfilov that’s means I injected EntityManager into service (I thought that’s bug of spring data jpa, and tried that with EM)"},{"comment_id":134548822,"body":"@AndreyB.Panfilov upd: and yes, does not work either"}],"answers":[{"comments":[{"comment_id":134548959,"body":"btw, in your case that would be better (faster) to mark <code>clicks_count</code> field/column and non-updatable (<code>@Column(... updatable = false ...)</code>) and update/increment it&#39;s value via direct update, i.e. <code>update link_info set clicks_count = clicks_count + :inc where id = :id</code>"}],"answer_id":76300385,"body":"<p>Fixed by changing version of hibernate. I had 6.2.1, migrated to 6.2.3.\nAnd now i have query:</p>\n<pre><code>    select\n        l1_0.id,\n        l1_0.clicks_count,\n        l1_0.created,\n        l1_0.owner_id,\n        l1_0.url\n    from\n        link_info.link l1_0\n    where\n        l1_0.id=? for no key update\n</code></pre>\n"}],"last_activity_date":1684679150,"question_id":76299652,"body":"<p>Situation: the database stores URLs, and information on how many times they were clicked. Correspondingly, if there is a large load (for example, 100 requests at the same time), there is a great chance for a race condition, and we will, in fact, record a non-actual number of &quot;clicks&quot;.\nThe solution was the following: pessimistic blocking:</p>\n<pre><code>// entity\n@NamedQuery(\n    name = &quot;Link.findByIdForIncressClicks&quot;,\n    query = &quot;SELECT l FROM Link l WHERE l.id = :id&quot;,\n    lockMode = LockModeType.PESSIMISTIC_WRITE\n)\n\n// spring data jpa repository\n@Query(name = &quot;Link.findByIdForIncressClicks&quot;)\nOptional&lt;Link&gt; findByIdForIncressClicks(@Param(&quot;id&quot;) Long id);\n\n// service layer\n@Override\n@Transactional\npublic Link getLinkByShortCutURL(String shortUrl) {\n    Long id = encoder.decode(shortUrl);\n    // here i tried use native entitymanager...\n    // Link link = em.find(Link.class, id, PESSIMISTIC_WRITE);\n    Link link = linkRepository.findByIdForIncressClicks(id).get();\n    link.incressClicks();\n    return linkRepository.save(link);\n}\n</code></pre>\n<p>Everything seems to be ok. READ_COMMITTED level. But the wrong value is still being written to the database (tests via JMeter: 40 clicks, 35 saved)\nThe select of hibernate in console:</p>\n<pre><code>Hibernate:\n    select\n        l1_0.id,\n        l1_0.clicks_count,\n        l1_0.created,\n        l1_0.owner_id,\n        l1_0.url\n    from\n        link_info.link l1_0\n    where\n        l1_0.id=?\nHibernate:\n    select\n        id\n    from\n        link_info.link\n    where\n        id=? for update\nHibernate:\n    update\n        link_info.link\n    set\n        clicks_count=?,\n        created=?,\n        owner_id=?\n    where\n        id=?\n</code></pre>\n<p>Idk, but hibernate doing first <code>select entity</code>,\ninstead of <code>select for update</code> on <code>id</code>.</p>\n<p>How i can fix that? Maybe i have wrong using pessimistic locks in JPA?</p>\n<p>UPD. some details: spring-boot v3.1 (hibernate - 6.2.1.Final)</p>\n"},{"comments":[{"comment_id":134522632,"body":"Please give your complete pom file. Also add your security config."},{"comment_id":134526830,"body":"@ch4mp Thanks for your comment. I added the requested files."},{"comment_id":134527693,"body":"why are you building your own JWT handling when spring security already has full support for handling JWTs? whats the point of using a security framework if you not intend to use its features?"}],"answers":[{"comments":[{"comment_id":134529133,"body":"I currently cannot change the security configuration itself. Can you elaborate on the second option. I also added some clarification in regards for it in the original post."},{"comment_id":134531815,"body":"It&#39;s already elaborated: remove <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code>, add <code>@WithMockUser</code>  next to <code>@Test</code>"},{"comment_id":134548178,"body":"I updated the post and added the <b>EDIT</b> section. As you said, I removed <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code> and added <code>@WithMockUser</code> as method annotation. When this didn&#39;t work I tried to add a user with <code>.with(user(&quot;user&quot;))</code> but it also did not work. I also posted the error message I get when added the annotation in the <b>EDIT</b> section. Is there another way to test the controller without simply skipping SpringSecurity with <code>@AutoConfigureMockMvc(addFilters = false)</code>? Thans for your input!"},{"comment_id":134548697,"body":"What is your <code>@Controller</code> code? It looks like the exception is not in security anymore."},{"comment_id":134548925,"body":"I added the controller I am testing. Also I don&#39;t think that the MyService-Class is an issue because I am mocking the method call. Normally I use a similar testing setup with <code>.with(user(&quot;user&quot;))</code> where the same service-method mocking works mostly flawlessly. (but it&#39;s not with a custom JWT-Token)"},{"comment_id":134550188,"body":"Would you also add the <code>authenticationManager</code> bean referenced in the security configuration?"}],"answer_id":76287904,"body":"<p>I designed the <code>jwt()</code> request post-processor for MockMvc that you are using in your test, to populate the test security context with a <code>JwtAuthenticationToken</code> instance.</p>\n<p>This adapted when configuring your web-security with <code>http.resourceServer().jwt()</code>, and requires to have <code>spring-security-oauth2-resource-server</code> as dependency (which is a transient dependency of <code>spring-boot-starter-oauth2-resource-server</code>, not <code>spring-boot-starter-security</code>).</p>\n<p>Two options for you:</p>\n<ul>\n<li>change your security configuration to use spring-security for resource servers to validate access-tokens and populate the security context with <code>JwtAuthenticationToken</code> instances: this will require to replace what you did arround <code>io.jsonwebtoken</code> with <code>spring-security-oauth2-reource-server</code> standard configuration</li>\n<li>use something else than the <code>jwt()</code> post-processor to populate your test security context. If the Authentication type at runtime is <code>UsernamePasswordAuthenticationToken</code>, maybe the <code>@WithMockUser</code> annotation?</li>\n</ul>\n<p>I would favor the first option.</p>\n"}],"last_activity_date":1684678782,"question_id":76284526,"body":"<p>I'm trying to write tests for controller methods. The application is secured with spring security and jwt-Token authentication. For the test I want to use requests to the controllers url and check if I get the responses I expect.</p>\n<p>This is my current setup:</p>\n<pre><code>@WebMvcTest(MyController.class)\n@Import({ MyWebSecurityConfig.class })\nclass MyControllerTest\n{\n    @Autowired\n    private MockMvc                 mockMvc;\n\n    // Autowired in JWTAuthorizationFilter\n    // Throws 'FailedToLoadContext' if its not mocked\n    @MockBean\n    JWTTokenUtils                   jwtTokenUtils;\n \n    // implementation of OncePerRequestFilter\n    @MockBean\n    JWTAuthorizationFilter          jwtAuthorizationFilter; \n\n    @MockBean\n    private MyService myService;\n\n    private final String            BASE_URL = &quot;/v1/endpoint&quot;;\n\n    @Test\n    void testGetByIdShouldReturnStatus200() throws Throwable\n    {\n\n        when(this.myService.getById(ArgumentMatchers.anyInt())).thenReturn(new TestBean());\n\n        ResultActions response = this.mockMvc.perform(\n             get(this.BASE_URL + &quot;/1&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .with(csrf())\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\n                    /* .authorities(List.of(new SimpleGrantedAuthority(&quot;test&quot;))) */\n                )\n             );\n\n        response.andExpect(status().is2xxSuccessful()).andDo(print());\n\n    }\n</code></pre>\n<p>My controller:</p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/v1/endpoint&quot;)\npublic class MyController\n{\n    @Autowired\n    MyService     myService;\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public BlumeResultBean getById(@PathVariable int id, HttpServletResponse response)\n    {\n\n        logger.info(&quot;MyController.getById started&quot;);\n        try\n        {\n            return this.myService.getById(id);\n        } catch (UnknownBlumeException e)\n        {\n            response.setStatus(HttpServletResponse.SC_NOT_FOUND);\n        } catch (Exception e)\n        {\n            response.setStatus(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);\n        } finally\n        {\n            logger.info(&quot;MyController.getById ended&quot;);\n            MDC.clear();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mkhbrn.blume&lt;/groupId&gt;\n    &lt;artifactId&gt;Blume&lt;/artifactId&gt;\n    &lt;version&gt;develop&lt;/version&gt;\n    &lt;name&gt;Blume&lt;/name&gt;\n    &lt;description&gt;Blume - Analyze the flower growthcycle&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-archiver&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My SecurityConfiguration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyWebSecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Bean\n    public JWTAuthorizationFilter authorizationJwtTokenFilter()\n    {\n        return new JWTAuthorizationFilter();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .authorizeRequests()\n                    .anyRequest().permitAll();\n        http.addFilter(new UsernamePasswordAuthenticationFilter(authenticationManager()));\n    }\n\n}\n</code></pre>\n<p>I also tried adding authorities to <code>jwt()</code> but I get the following error message in SpringToolSuite.</p>\n<blockquote>\n<p>The type org.springframework.security.oauth2.jwt.Jwt cannot be\nresolved.  It is indirectly referenced from required .class files</p>\n</blockquote>\n<p>With the same setup and the authorities I get the following in IntelliJ:</p>\n<blockquote>\n<p>java: cannot access org.springframework.security.oauth2.jwt.Jwt<br />\nclass file for org.springframework.security.oauth2.jwt.Jwt not found</p>\n</blockquote>\n<p><strong>EDIT</strong></p>\n<p>As per the first answer from @ch4amp I removed <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code> and tried adding <code>@WithMockUser</code> at class and method level but I did not work. I also tried to add a user to the request itself with <code>.with(user(&quot;user&quot;))</code> but that also did not work.\nEach time I get the following error:</p>\n<pre><code>java.lang.IllegalArgumentException: Attribute name must not be null\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at org.springframework.mock.web.MockHttpServletRequest.setAttribute(MockHttpServletRequest.java:762)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)\n    at com.mkhbrn.blume.controller.MyControllerTest.testGetByIdShouldReturnStatus200(MyControllerTest.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n\n\n</code></pre>\n"},{"comments":[{"comment_id":103532542,"body":"If you use spring(spring-boot), I propose to use the <code>SqlSessionFactoryBean</code> provided by mybatis-spring."},{"comment_id":108983886,"body":"@Chris did you got any solution?"}],"answers":[{"answer_id":58524622,"body":"<p>This is not provided out of the box in mybatis. The actual relation between mapper interface and mapper xml file is <a href=\"https://github.com/mybatis/mybatis-3/blob/master/src/main/java/org/apache/ibatis/builder/annotation/MapperAnnotationBuilder.java#L169\" rel=\"nofollow noreferrer\">hardcoded</a> in <code>MapperAnnotationBuilder</code> class:</p>\n\n<pre><code>String xmlResource = type.getName().replace('.', '/') + \".xml\";\n</code></pre>\n\n<p>And there is no built-in way to override this. In order to change this you need to implement your own equivalent of the <code>MapperAnnotationBuilder</code> (you can inherit most of its functionality but would need to override <code>parse</code> method in order to change call the method that would replace <code>loadXmlResource</code>):</p>\n\n<pre><code>class MyMapperAnnotationBuilder extends MapperAnnotationBuilder {\n  public void parse() {\n    String resource = type.toString();\n    if (!configuration.isResourceLoaded(resource)) {\n      loadXmlResourceFromCustomPlace();\n      // ... continue as MapperAnnotationBuilder.parse method\n    }\n  }\n  void private loadXmlResourceFromCustomPlace() {\n    // this should be similar to MapperAnnotationBuilder.loadXmlResource\n    // but load resource from some other place\n  }\n}\n</code></pre>\n\n<p>Now you need to make use of <code>MyMapperAnnotationBuilder</code> in your own implementation of the class similar to <code>org.apache.ibatis.binding.MapperRegistry</code> (let's say you call it <code>MyMapperRegister</code>). You need to inherit from it and override <code>addMapper(Class&lt;T&gt; type)</code> method to use <code>MyMapperAnnotationBuilder</code>.</p>\n\n<p>And the final step is to use your mapper registry implementation in the <code>Configuration</code>. There is no way to set it externally so you would need to inherit from <code>Configuration</code> and use you mapper registry:</p>\n\n<pre><code>class MyConfiguration extends Configuration {\n  public MyConfiguration{Environment environment) {\n    super(environment);\n    this.mapperRegistry = new MyMapperRegister(this);\n  }\n</code></pre>\n\n<p>After this you use <code>MyConfiguration</code> the same way you use <code>Configuration</code> to configure mybatis and it will load xml mappers from the place defined by the logic implemented in <code>MyMapperAnnotationBuilder.loadXmlResourceFromCustomPlace</code>.</p>\n"},{"answer_id":76300337,"body":"<p><a href=\"http://mybatis.org/spring/factorybean.html\" rel=\"nofollow noreferrer\">MyBatis-spring</a> supports mapper interface and mapper xml have different name. In this example, mapper interface <code>IMapper.java</code> is in package <code>com.example.myproject</code> and mapper xml is in <code>resources/mapper/mapper.xml</code>. An option is to use the <code>mapperLocations</code> property of the factory bean.</p>\n<pre><code>private DataSource dataSource(String driver, String url, String userName, String password) {\n    return new PooledDataSource(driver, url, userName, password);\n}\n\npublic SqlSessionFactory createSqlSessionFactory(String driver, String url, String userName, String password) throws Exception {\n    SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\n    factoryBean.setTransactionFactory(new JdbcTransactionFactory());\n    factoryBean.setDataSource(dataSource(driver, url, userName, password));\n    factoryBean.setMapperLocations(\n            new PathMatchingResourcePatternResolver().getResources(&quot;classpath*:mapper/*.xml&quot;)\n    );\n\n    return factoryBean.getObject();\n}\n</code></pre>\n<p>Notice the method <code>setMapperLocations</code> accepts <code>Resource</code> as a parameter, and here the path (using pattern) is <code>mapper/*.xml</code>.\nYou can using mapper interface like this:</p>\n<pre><code> try (SqlSession session = sqlSessionFactory.openSession()) {\n        IMapper mapper = session.getMapper(IMapper.class);\n        //execute query here\n    }\n</code></pre>\n"}],"last_activity_date":1684678533,"question_id":58522647,"body":"<p>I initialized my SqlSessionFactory in java code using an environment and datasource defined within the java code as below:</p>\n\n<pre><code>TransactionFactory trxFactory = new JdbcTransactionFactory();\nEnvironment env = new Environment(\"development\", trxFactory, dataSource);\nConfiguration config = new Configuration(env);\nconfig.setJdbcTypeForNull(JdbcType.NULL);\nTypeAliasRegistry aliases = config.getTypeAliasRegistry();\naliases.registerAlias(\"XXXAttempt\", XXXAttemptDao.class);\nconfig.addMapper(XXXAttemptMapper.class);\nSqlSessionFactory factory = new SqlSessionFactoryBuilder().build(config);\n</code></pre>\n\n<p>my problem is that I need to add my xml mappers here but I couldn't:\nI tried to use:</p>\n\n<pre><code>config.addMappers(\"config/mybatis/xxx/*.xml\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>config.addMappers(\"config/mybatis/xxx/*.xml\");\n</code></pre>\n\n<p>with no luck. note that config.addMapper accepts only java class</p>\n\n<p>The only way that worked is to move the xml file to the same package like the interface example to (<a href=\"https://stackoverflow.com/questions/25152281/mybatis-adding-mapper-xml-file-to-java-created-configuration\">REFERENCE</a>):</p>\n\n<pre><code>config/com/example/mappers/XXXAttemptMapper.xml\n</code></pre>\n\n<p>but what I need is to be consistent with other projects and put the xml file in the below path:</p>\n\n<pre><code>config/myBatis/myDb/XXXAttemptMapper.xml\n</code></pre>\n\n<p>how to add the path for my xml file in the above location?</p>\n"},{"answers":[{"answer_id":31483162,"body":"<p>If all you need is to select the item with the lowest weight, then why not have it loop through the options and compare the weight of an <code>object[i]</code> with the weight of an object at <code>[i + 1]</code> if it is lower then just compare it to the next one, otherwise, <code>object[i] = object[i + 1]</code>, and so on. Did I understand the question correctly? </p>\n"},{"comments":[{"comment_id":50943229,"body":"No, its not like i have to minimize weight all over.I have edited the question with problem statement. and if I remove items with same value with greater weight the DP won&#39;t maximize the value"},{"comment_id":50944646,"body":"@Ankita Did you see the complete Answer!! I have also answered the whole problem you mentioned as the other one was way more trivial! Morover this problem is same as Party Schedule on Spoj(Online Judge) and I have solved it using the same Logic as described in my answer! Please Do see and accept to promote the effort in case the answer is correct!"},{"comment_id":50949337,"body":"I am accepting this answer as it solves  maximise value with minimising Weight , however I followed a different approach now to first sort the items in their ascending order of weight."},{"comment_id":50949787,"body":"Sorting on the basis of weight would not ensure optimal cost that will have an issue!"},{"comment_id":71523022,"body":"@ShubhamSharma , do we need to use an additional array for weights? weight[][]"}],"answer_id":31488418,"body":"<p>If you mean to <strong>maximise value</strong> with minimising <strong>Weight</strong> . You can check that</p>\n\n<p>Let DP[i][j] be the maximal value that can be obtained! </p>\n\n<p>And W[i][j] the minimal weight that is to be used!!</p>\n\n<p>Then,</p>\n\n<pre><code>if(Current Weight &gt; Element's Weight)\n{\n      if(DP[i-1][j-Weight[i]]+Value[i]&gt;DP[i-1][j]){\n             DP[i][j]=DP[i-1][j-Weight[i]]+Value[i];\n             Weight[i][j]= Weight[i-1][j-Weight[i]]+Value[i]\n      }\n      else if(DP[i-1][j-Weight[i]]+Value[i] &lt;  DP[i-1][j] ){\n             DP[i][j]=DP[i-1][j];\n             Weight[i][j]=Weight[i-1][j];\n      } \n      else{                   //Note this is the tricky part elsewise the \n                              //Above conditions are simple Knapsack conditions\n\n             DP[i][j]=DP[i-1][j];   //Both of them are equal We will get same Value . Thus we cannot maximise it in any other way!!\n             Weight[i][j]=minimum ( Weight[i-1][j] ,Weight[i-1][j-Weight[i]]+A[i]);\n\n      }\n}\nelse\n{\n             DP[i][j]=DP[i-1][j];\n             Weight[i][j]=Weight[i-1][j];\n}\n</code></pre>\n\n<p><strong>Note</strong> the solution is trivial unless the third condition in first if!\nWe need to maximise the fun at any cost! So we aren't Messing with it !\nBut when the fun from both cases is same , We need to pick the  one with lesser weight elsewise We will end up having more weight for same value of knapsack!</p>\n\n<p>I have assumed you know knapsack 0/1 problem that is why I haven't explained first and second conditions !!</p>\n"},{"answer_id":76300334,"body":"<p>You can use <code>Branch and Bound Algorithm</code> for it.</p>\n<p>Sample code-</p>\n<p>Considering Item is your POJO with weight and price.\nIntroduce a method <code>byRatio()</code> as follows-</p>\n<pre><code> public static Comparator&lt;Item&gt; byRatio() {\n        return (i1, i2) -&gt; Double.compare(i2.calculateRatio(), i1.calculateRatio());\n    }\n\npublic double calculateRatio() {\n        return price / weight;\n    }\n</code></pre>\n<p>This will help in sorting the list of items by ratio.</p>\n<p>Let's write the core logic now -</p>\n<pre><code> public List&lt;Item&gt; buildOptimalPackageWithBBAlgo(List&lt;Item&gt; items, double maxWeight) {\n        items.sort(Item.byRatio());\n        Node optimal = fetchOptimalNode(items, maxWeight);\n        return optimal.items;\n    }\n\n /**\n     * This method used Branch and bound algorithm to search for the\n     * optimal node.\n     *\n     * @param  items  sorted items by ratio of price to weight\n     * @param  maxWeight maximum weight the package is allowed to hold\n     * @return optimal node\n     */\nprivate Node fetchOptimalNode(List&lt;Item&gt; items, double maxWeight) {\n    Node optimal = new Node();\n    Node root = new Node();\n    root.calculateBound(items, maxWeight);\n\n    PriorityQueue&lt;Node&gt; queue = new PriorityQueue&lt;&gt;();\n    queue.offer(root);\n\n    while (!queue.isEmpty()) {\n        Node node = queue.poll();\n\n        if (node.bound &gt; optimal.price &amp;&amp; node.height &lt; items.size() - 1) {\n\n            Node edgeNode = new Node(node);\n            Item item = items.get(node.height);\n            edgeNode.weight += item.getWeight();\n\n            if (edgeNode.weight &lt;= maxWeight) {\n\n                edgeNode.items.add(items.get(node.height));\n                edgeNode.price += item.getPrice();\n                edgeNode.calculateBound(items, maxWeight);\n\n                if (edgeNode.price &gt; optimal.price) {\n                    optimal = edgeNode;\n                }\n                if (edgeNode.bound &gt; optimal.price) {\n                    queue.offer(edgeNode);\n                }\n            }\n\n            Node leafNode = new Node(node);\n            leafNode.calculateBound(items, maxWeight);\n\n            if (leafNode.bound &gt; optimal.price) {\n                queue.offer(leafNode);\n            }\n        }\n    }\n    return optimal;\n}\n\nprivate class Node implements Comparable&lt;Node&gt; {\n\n    public int height;\n    List&lt;Item&gt; items;\n    public double bound;\n    public double price;\n    public double weight;\n\n    public Node() {\n        items = new ArrayList&lt;&gt;();\n    }\n\n    public Node(Node parent) {\n        height = parent.height + 1;\n        items = new ArrayList&lt;&gt;(parent.items);\n        bound = parent.bound;\n        price = parent.price;\n        weight = parent.weight;\n    }\n\n    public int compareTo(Node other) {\n        return (int) (other.bound - bound);\n    }\n\n    private void calculateBound(List&lt;Item&gt; items, double maxWeight) {\n        int i = height;\n        double w = weight;\n        bound = price;\n        Item item;\n        do {\n            item = items.get(i);\n            if (w + item.getWeight() &gt; maxWeight) break;\n            w += item.getWeight();\n            bound += item.getPrice();\n            i++;\n        } while (i &lt; items.size());\n        bound += (maxWeight - w) * (item.getPrice() / item.getWeight());\n    }\n}\n</code></pre>\n<p><strong>Limitations</strong> - This logic works only for items more than 2.\nFor less than 2 items, this is over engineering with respect to Time complexity.</p>\n<p>Just use greedy algorithm approach for it.</p>\n"}],"last_activity_date":1684678484,"question_id":31482546,"body":"<p>In 0/1 knapsack problem, how do I select items, if two items have same value. The value with the lesser weight should be selected , how do I check that condition? I have the following function using Dynamic programming.</p>\n\n<pre><code>static int[] knapsack(int maxWeight, double[] weight, double[] value, int n) {\n    //n = no. if items\n    int i, w;\n\n    double array[][] = new double[n + 1][maxWeight + 1];\n    for (i = 0; i &lt;= n; i++) {\n        for (w = 0; w &lt;= maxWeight; w++) {\n            if (i == 0 || w == 0)\n                array[i][w] = 0;\n            else if (weight[i - 1] &lt;= w)\n                array[i][w] = max(value[i - 1] + array[i - 1][(w -(int) weight[i - 1])], array[i - 1][w]);\n            else\n                array[i][w] = array[i - 1][w];\n            if (i != 0 || w != 0)\n                System.out.print(array[i][w] + \"\\t\");\n        }\n        System.out.println();\n    }\n\n    int[] selected = new int[n + 1];\n    for (int j = n, wt = maxWeight; j &gt; 0; j--) {   \n        if (array[j][wt] != array[j - 1][wt]) {\n            if (array[j][wt] == array[j][wt - 1]) {\n                selected[j] = 0;\n                break;\n            }\n            selected[j] = 1;\n            wt = wt - (int) weight[j - 1];\n        }\n        else\n            selected[j] = 0;\n    }\n    /** Print finally selected items **/\n    System.out.println(\"\\nItems selected : \");\n    for (int k = 1; k &lt; n + 1; k++)\n        if (selected[k] == 1)\n            System.out.print(k +\" \");\n        System.out.println();\n\n        return selected;\n}\n</code></pre>\n\n<p>For this type of case : (i,v): (4,45)(3,20)(5,30)(2,45) ,maxWeight = 5;\n where item 1 and 4 have same value, it should select the item with lesser weight that is 4th. how do I implement this condition in above code.\nProblem statement :</p>\n\n<blockquote>\n  <p>Your goal is to determine which things to put into the\n  package so that the total weight is less than or equal to the package\n  limit and the total cost is as large as possible. You would prefer to\n  send a package which weights less in case there is more than one\n  package with the same price.</p>\n</blockquote>\n"},{"comments":[{"comment_id":134548785,"body":"you probably would be better off with a <code>Map</code> where the key is the value in the original list and the value is it&#39;s frequency. Then you can loop over the <code>Map.entrySet()</code> and print each key and value from there."},{"comment_id":134550804,"body":"Oh yeah, I guess a map is better than a class whose the function is just the same. Thanks!"}],"answers":[{"comments":[{"comment_id":134550848,"body":"It worked like a charm, I don&#39;t understand all the method calls but I&#39;ll just read the documentation, thank you very much!"}],"answer_id":76300303,"body":"<p>Using a list to represent the result sounds a bit strange to be. The textbook solution would be to create a frequency map, where the key is the sample and the value is its frequency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\nMap&lt;Double, Long&gt; frequencies = \n    sampleList.stream()\n              .collect(Collectors.groupingBy(Function.identity(), Collectors.counting());\n</code></pre>\n"}],"last_activity_date":1684678079,"question_id":76300287,"body":"<p>I just started working on a project, its purpose is to be a tool for my statistics class, I'm currently working on a console based so once I'm done with it I can move on and use UI. But I'm stuck in this problem, I want to create a new list based on my existing list.</p>\n<pre><code>public class Main {\n\n    class ModifiedSample {\n        double item;\n        int frequency;\n\n        ModifiedSample(Double item, int frequency) {\n            this.item = item;\n            this.frequency = frequency;\n        }\n    }\n\n    public static void main(String[] args) {\n        LinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\n        LinkedList&lt;ModifiedSample&gt; modifiedSampleList = new LinkedList&lt;ModifiedSample&gt;();\n\n    }\n    \n}\n</code></pre>\n<p>This is my simplified version of the class, I do have scanners and all that jazz.</p>\n<p>If my sampleList = {2, 2, 3, 4, 5, 5, 5, 5, 6},\nhow can I make a modifiedSampleList = {sample1, sample2, sample3, sample4, sample5}\nso that if create a method like:</p>\n<pre><code>static void printSampleSpace(LinkedList&lt;ModifiedSample&gt; modifiedSampleList) {\n    for(ModifiedSample ms : modifiedSampleList) {\n        System.out.println(&quot;item: &quot; + ms.item);\n        System.out.println(&quot;frequency: &quot; + ms.frequency);\n    }\n}\n</code></pre>\n<p>I can get</p>\n<pre><code>item: 2                                                                          \nfrequency: 2                                                                     \nitem: 3                                                                   \nfrequency: 1                                                                          \nitem: 4                                                                               \nfrequency: 1                                                                          \nitem: 5                                                                       \nfrequency: 4                                                                          \nitem: 6                                                                               \nfrequency: 1  \n</code></pre>\n<p>So I'm stuck in finding a solution for this problem.</p>\n"},{"comments":[{"comment_id":134543565,"body":"Can you use a debugging process to &quot;Step Into&quot; the <code>EntityUtils.toString</code> method?  I would imagine it&#39;s blocking on line 140, during the <code>reader.read</code> method. <a href=\"https://android.googlesource.com/platform/external/apache-http/+/refs/heads/lollipop-mr1-dev/src/org/apache/http/util/EntityUtils.java#112\" rel=\"nofollow noreferrer\">Google Git - EntityUtils.java</a>"},{"comment_id":134544265,"body":"Yes its blocking on reader.read . What I am not able to understand is why ?"},{"comment_id":134548813,"body":"Please reopen the Question ."},{"comment_id":134549285,"body":"@MayankBhargava Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/76296975/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others."}],"last_activity_date":1684677902,"question_id":76296975,"body":"<p>I have 300 practices for which I need to get various data like address, client etc. In all making around 6-7 rest api calls one after another to get this data for each practice .\nEach practice is run in a separate thread using executor Service <code>Executors.newFixedThreadPool(10)</code> and for each restapi call within the practice thread I am reading the response using<code>EntityUtils.toString(response.getEntity()) ;</code></p>\n<p>However randomly one or two threads would just sits on the line<code> EntityUtils.toString(response.getEntity()) ;</code>  without any exception without anything. Its not on all practices or all rest calls . Its just random practices, random api calls  on which it gets stuck. Next run it would get stuck on some other practice for a different api call.</p>\n<p>It just Blocks on  reader.read ()</p>\n<p>Cant seem to figure out why this would be happening and what can be done to fix it</p>\n"},{"comments":[{"comment_id":134551838,"body":"Is there any reason why you don&#180;t try to get the lock for more than 15 Seconds? What is your eviction policy for a lock? Is it possible that a lock is still existing (from a different kubernetes instance maybe that was already killed)"},{"comment_id":134557509,"body":"How do you have <code>lock-acquire-limit</code> set ? Is there anything in the logs ?"}],"last_activity_date":1684677488,"question_id":76300260,"body":"<p>I have a difficult one.  I have a spring boot application, which uses hazelcast.  After a couple of days of a fresh deploy it starts failing.  The application is trying to make a service call and do a database check.  Where I see it failing is here:</p>\n<pre><code>private static HazelcastInstance HZ_INSTANCE;\n@Override\npublic void afterPropertiesSet() throws Exception {\n    HZ_INSTANCE = hazelCast;\n}]\n\npublic static Lock lockForUse(UUID companyId, String productId) throws GeneralServiceException {\n    String lockId = companyId.toString() + &quot;-&quot; + productId; \n    log.info(&quot;Acquiring product use lock: &quot; + lockId);\n    Lock lock = HZ_INSTANCE.getCPSubsystem().getLock(lockId);\n    try {\n        if (!lock.tryLock(15, TimeUnit.SECONDS))\n            throw new GeneralServiceException(&quot;Cannot acquire lock for &quot; + lockId + &quot;. Are there cluster performance problems?&quot;,null);\n    } catch (InterruptedException e) {\n        log.error(&quot;Cannot acquire lock for &quot; + lockId + &quot;. Lock waiting was interrupted: &quot; + e.getMessage(),e);\n        throw new GeneralServiceException(&quot;Error occurred acquiring required locking.&quot;,e);\n    }\n    return lock;\n}\n</code></pre>\n<p>Hazelcast properties are set to:</p>\n<pre><code>hazelcast.cp-group=3\nhazelcast.cp-members=3\nhazelcast.multicast-enabled=false\nhazelcast.kubernetes-enabled=true\n</code></pre>\n<p>It is unable to acquire the lock.  Any thought on causes of why this would work, then over time grind to a halt?</p>\n<p>I see this error:</p>\n<pre><code>com.ninegoldplatform.api.services.errors.GeneralServiceException: Cannot acquire lock for 6c4f2370-70d7-45e5-9e6d-b910d7d23921-restgen. Are there cluster performance problems?\n</code></pre>\n<p>If I reboot the application it all starts working again, then after a couple of days back to this.</p>\n"},{"comments":[{"comment_id":21161857,"body":"getX() should do the job..  did you try to move it and check ?"}],"answers":[{"comments":[{"comment_id":69326879,"body":"It&#39;s necessary to create Vector2 with zero coordinates (Vector2 coords = new Vector2(0, 0); )"}],"answer_id":15056534,"body":"<p>I believe <code>getX()</code> and <code>getY()</code> on an <code>Actor</code> are relative to their parent container, so you'll need to convert the coordinates to \"stage\" coordinates, and then from there to \"screen\" coordinates.  (I think there is an easier way to do this, so there may be a better answer out there).</p>\n\n<pre><code>Image myImage = ...;\nVector2 coords = new Vector2(myImage.getX(), myImage.getY());\nmyImage.localToStageCoordinates(/*in/out*/coords);\nmyImage.getStage().stageToScreenCoordinates(/*in/out*/coords);\n\nSystem.out.println(\"Image X \" +myImage.get()+ \" maps to screen \" +coords.x);\n</code></pre>\n"},{"answer_id":17189565,"body":"<p>Just a guess!!! - Moving the image &amp; checking for position but getX() returning 0.0 might be because its the camera which moves &amp; produces the movement effect, image may havenot been moved at all &amp; tsayed at the initial position of 0.0 (i think this might be the thing you are missing) </p>\n"},{"answer_id":76300254,"body":"<p>Now <code>Actor</code>s have <code>localToScreenCoordinates</code> to get what you need in one call:</p>\n<pre><code>Vector2 screenPosition = myImage.localToScreenCoordinates(new Vector2(0f, 0f))\n</code></pre>\n"}],"last_activity_date":1684677434,"question_id":15052238,"body":"<p>I have this piece of code:</p>\n\n<pre><code>Image myImage = new Image(new Texture(\"data/file.png\"));\n</code></pre>\n\n<p>How to get <code>myImage</code> position on a screen?  I tried <code>myImage.getX()</code> and <code>myImage.getImageX()</code> both always return 0.0. What's wrong?</p>\n"},{"comments":[{"comment_id":134548177,"body":"Please edit your question. You have described your attempted solution (using a request and response wrapper), not the actual problem you are trying to solve. You understand that you need wrappers of some sort. We don&#39;t. See also, <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">what is the XY problem?</a>"},{"comment_id":134548214,"body":"In the filter, I need to read and modify the request, and read and modify the response. I understand this cant be done in a filter without wrappers.  If filters can directly read and modyf request and response without wrappers, my bad!  I dont know how to create request and response wrappers.  I guess they should have some sort of io streams.  I guess I have to write or copy data betweeen the wrappers and and real requests, but I dont know and cant find example code"},{"comment_id":134548243,"body":"&quot;the request&quot; &quot;the filter&quot; imagine we know nothing about your problem (in fact, you don&#39;t have to imagine) and have no context. Are you talking about requests in a specific protocol? Maybe this would be clearer if you included some code."},{"comment_id":134548306,"body":"requests and responses use streams. If you try to read the body of the request, or response, using a stream reader in the filter  its not going to work when the servlet tires to do the same thing.  I everyeone says &quot;use wrappers&quot;, I just need an example and im good."},{"comment_id":134548377,"body":"You expect someone to provide an example <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequestWrapper.html\" rel=\"nofollow noreferrer\"><code>HttpServletRequestWrapper</code></a> <b>and</b> <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponseWrapper.html\" rel=\"nofollow noreferrer\"><code>HttpServletResponseWrapper</code></a> (both of which are part of the Jakarta EE framework now) without using any frameworks. Good luck with that."},{"comment_id":134548468,"body":"Great, thats a help, now I have to fiture out how to use  HttpServletRequestWrapper and HttpServletResponseWrapper.  Now I need to try to find some usable example of each, and put them together. If I mange it, ill post it here as a solution for others with the same question.  Thanks for banning my question also."}],"last_activity_date":1684677376,"question_id":76299915,"body":"<p>Im trying to write a servlet filter which reads and modifies the request, and reads and modifies the response.</p>\n<p>I understand that I need wrappers, because both request and response objects use streams, which can only be read once.</p>\n<p>Ive ready several articles, but cant find an example filter with both a request and response wrapper (which doesnt use any frameworks, just plain java)  I dont really know what a wrapper object should contain, or if I need to manually copy the content from one to the other.</p>\n<pre><code>@Override\npublic void doFilter(final ServletRequest request, final ServletResponse response,\n                     final FilterChain filterChain) throws IOException, ServletException {\n\n    // read the request body into a variable\n    // modify the request body\n    // send the updated request body to the next filter in the chain\n    \n    filterChain.doFilter(request, response);\n\n    // read the response body\n    // modify the response body\n    // send the modified response body back up the chain\n}\n</code></pre>\n"},{"answers":[{"answer_id":76297306,"body":"<p>As far as I can tell Delta standalone doesn't appear to support the actual creation of a Delta Table. From the documentation, we can see they state that:</p>\n<blockquote>\n<p>The Delta Standalone library is a single-node Java library that can be used to read from and write to Delta tables</p>\n</blockquote>\n<p>This is a real shame and rather limits the functionality of the standanlone library. For example, if we look at the supported Hive connector, we can see the following in the <a href=\"https://github.com/delta-io/connectors/blob/master/hive/README.md\" rel=\"nofollow noreferrer\">README file</a>:</p>\n<blockquote>\n<p>Right now the connector supports only EXTERNAL Hive tables. The Delta table must be created using Spark before an external Hive table can reference it.</p>\n</blockquote>\n<p>Having said that, you can still use <a href=\"https://docs.delta.io/latest/api/java/index.html\" rel=\"nofollow noreferrer\">DeltaTable</a> to create a table from existing Parquet files and then use Delta standalone to further interact with the table.</p>\n<p><code>delta-rs</code> the Rust implementation has full support for writing Delta Tables and interacting with them.</p>\n"}],"last_activity_date":1684676459,"question_id":76113226,"body":"<p>I am able to read delta table which is created in Amazon S3 using standalone api, but unable to create delta table and insert data to it. In below link for delta lake it is mentioned to use Zappy reader and writer which is fictitious and used as reference.</p>\n<p>I tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?</p>\n<p><a href=\"https://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage\" rel=\"nofollow noreferrer\">https://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage</a></p>\n<pre><code>ZappyDataFrame correctedSaleIdToTotalCost = ...;\nZappyDataFrame invalidSales = ZappyReader.readParquet(filteredFiles);\nZappyDataFrame correctedSales = invalidSales.join(correctedSaleIdToTotalCost, &quot;id&quot;)\n\nZappyWriteResult dataWriteResult = ZappyWritter.writeParquet(&quot;/data/sales&quot;, correctedSales);\n</code></pre>\n<p>&quot;Please note that this example uses a fictitious, non-Spark engine Zappy to write the actual parquet data, as Delta Standalone does not provide any data-writing APIs. Instead, Delta Standalone Writer lets you commit metadata to the Delta log after you’ve written your data&quot;</p>\n<p>Dependencies used - pom.xml</p>\n<pre><code>\n &lt;dependency&gt;\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n      &lt;version&gt;2.12.12&lt;/version&gt;\n  &lt;/dependency&gt;\n\n &lt;dependency&gt;\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-standalone_2.12&lt;/artifactId&gt;\n      &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n      &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n      &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?</p>\n"},{"comments":[{"comment_id":134548433,"body":"<i>&quot;Somehow the algorthm gets into an infinite loop and i can&#39;t figure out why.&quot;</i> -- this means it&#39;s time to do some debugging to first isolate the error. If you&#39;re not sure how to go about doing this, then please check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."},{"comment_id":134548792,"body":"I don&#39;t think the backtracking is implemented wrong, it just takes that long to try out all the combinations of 22 numbers preceding the conflict. Whether it is a good idea to do it this way is a different question."}],"last_activity_date":1684675841,"question_id":76300083,"body":"<p>I tried many things. At the end i followed / copied a guide that you can find here: <a href=\"https://www.geeksforgeeks.org/sudoku-backtracking-7/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/sudoku-backtracking-7/</a></p>\n<p>Somehow the algorthm gets into an infinite loop and i can't figure out why. I added some methods to check if the Sudoku field is a valid field.\nIn the Code below you can see the given field can't be solved because in the very centre of the two-dimensional field must be a 1 and at the same time a 2</p>\n<p>I think i forgot somewhere a return false; but tried it at every place possible and still it won't function</p>\n<p>It returns a possible solution for a solveable field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package oop.sudoku;\n\npublic class Sudoku\n\n{\n\n    public static boolean isSafe(int[][] board, int row, int col, int num)\n    {\n        // Row has the unique (row-clash)\n        for (int d = 0; d &lt; board.length; d++)\n        {\n\n            // Check if the number we are trying to\n            // place is already present in\n            // that row, return false;\n            if (board[row][d] == num)\n            {\n                return false;\n            }\n        }\n\n        // Column has the unique numbers (column-clash)\n        for (int r = 0; r &lt; board.length; r++)\n        {\n\n            // Check if the number\n            // we are trying to\n            // place is already present in\n            // that column, return false;\n            if (board[r][col] == num)\n            {\n                return false;\n            }\n        }\n\n        // Corresponding square has\n        // unique number (box-clash)\n        int sqrt = (int) Math.sqrt(board.length);\n        int boxRowStart = row - row % sqrt;\n        int boxColStart = col - col % sqrt;\n\n        for (int r = boxRowStart; r &lt; boxRowStart + sqrt; r++)\n        {\n            for (int d = boxColStart; d &lt; boxColStart + sqrt; d++)\n            {\n                if (board[r][d] == num)\n                {\n                    return false;\n                }\n            }\n        }\n\n        // if there is no clash, it's safe\n        return true;\n    }\n\n    private static boolean checkValidBoard(int[][] board)\n    {\n        boolean isValid = true;\n        int boardLenght = 9;\n        // überprüfe die Werte\n        if (board.length != boardLenght)\n        {\n            isValid = false;\n            ;\n        }\n        // überprüfe die Laengen des Boards\n        for (int i = 0; i &lt; boardLenght; i++)\n        {\n            if (board[i].length != boardLenght)\n            {\n                isValid = false;\n                break;\n            }\n            for (int j = 0; j &lt; 9; j++)\n            {\n                if (!(board[i][j] &lt; 10 &amp;&amp; board[i][j] &gt; -1))\n                {\n                    isValid = false;\n                    break;\n                }\n                // board[i][j] = board[i][j];\n            }\n        }\n        // überprüfe ob bereits gefüllte Felder legal sind\n        for (int i = 0; i &lt; board.length; i++)\n        {\n            if (!checkRow(board[i]))\n            {\n                isValid = false;\n            }\n            for (int j = 0; j &lt; board[i].length; j++)\n            {\n                if (!(checkColumn(board, j) &amp;&amp; checkSubSquare(i, j, board)))\n                {\n                    isValid = false;\n                }\n\n            }\n        }\n        return isValid;\n\n    }\n\n    private static boolean checkColumn(int[][] board, int column)\n    {\n        // int[] rowToCheck = board[row];\n        int[] columnToCheck = new int[board.length];\n\n        for (int i = 0; i &lt; board.length; i++)\n        {\n            for (int j = 0; j &lt; board.length; j++)\n            {\n                columnToCheck[i] = board[i][column];\n            }\n        }\n        int zero = 0;\n        int one = 0;\n        int two = 0;\n        int three = 0;\n        int four = 0;\n        int five = 0;\n        int six = 0;\n        int seven = 0;\n        int eight = 0;\n        int nine = 0;\n\n        for (int i = 0; i &lt; columnToCheck.length; i++)\n        {\n            switch (columnToCheck[i])\n            {\n                case 0:\n                    zero++;\n                    break;\n                case 1:\n                    one++;\n                    break;\n                case 2:\n                    two++;\n                    break;\n                case 3:\n                    three++;\n                    break;\n                case 4:\n                    four++;\n                    break;\n                case 5:\n                    five++;\n                    break;\n                case 6:\n                    six++;\n                    break;\n                case 7:\n                    seven++;\n                    break;\n                case 8:\n                    eight++;\n                    break;\n                case 9:\n                    nine++;\n                    break;\n                default:\n                    return false;\n            }\n\n        }\n        boolean bool = (one &lt;= 1 &amp;&amp; two &lt;= 1 &amp;&amp; three &lt;= 1 &amp;&amp; four &lt;= 1 &amp;&amp; five &lt;= 1 &amp;&amp; six &lt;= 1 &amp;&amp; seven &lt;= 1 &amp;&amp; eight &lt;= 1 &amp;&amp; nine &lt;= 1);\n        System.out.println(&quot;-------\\nCheckColumn --&gt; &quot; + bool + &quot; with &quot; + zero + &quot; Empty places&quot;);\n        return bool;\n    }\n\n    private static boolean checkRow(int[] row)\n    {\n        int zero = 0;\n        int one = 0;\n        int two = 0;\n        int three = 0;\n        int four = 0;\n        int five = 0;\n        int six = 0;\n        int seven = 0;\n        int eight = 0;\n        int nine = 0;\n\n        for (int i = 0; i &lt; row.length; i++)\n        {\n            switch (row[i])\n            {\n                case 0:\n                    zero++;\n                    break;\n                case 1:\n                    one++;\n                    break;\n                case 2:\n                    two++;\n                    break;\n                case 3:\n                    three++;\n                    break;\n                case 4:\n                    four++;\n                    break;\n                case 5:\n                    five++;\n                    break;\n                case 6:\n                    six++;\n                    break;\n                case 7:\n                    seven++;\n                    break;\n                case 8:\n                    eight++;\n                    break;\n                case 9:\n                    nine++;\n                    break;\n                default:\n                    return false;\n            }\n\n        }\n        boolean bool = (one &lt;= 1 &amp;&amp; two &lt;= 1 &amp;&amp; three &lt;= 1 &amp;&amp; four &lt;= 1 &amp;&amp; five &lt;= 1 &amp;&amp; six &lt;= 1 &amp;&amp; seven &lt;= 1 &amp;&amp; eight &lt;= 1 &amp;&amp; nine &lt;= 1);\n        System.out.println(&quot;-------\\nCheckRow --&gt; &quot; + bool + &quot; with &quot; + zero + &quot; Empty places&quot;);\n        return bool;\n    }\n\n    public static boolean checkSubSquare(int column, int row, int[][] board)\n    {\n        int zero = 0;\n        int one = 0;\n        int two = 0;\n        int three = 0;\n        int four = 0;\n        int five = 0;\n        int six = 0;\n        int seven = 0;\n        int eight = 0;\n        int nine = 0;\n\n        int rowBeginPointer = 0;\n        int rowEndPointer = 0;\n        int columnEndPointer = 0;\n        int columnBeginPointer = 0;\n\n        double rowDouble = row / 3.0;\n        double columnDouble = column / 3.0;\n\n        if (rowDouble &lt;= 1 &amp;&amp; rowDouble &gt;= 0)\n        {\n            rowBeginPointer = 0;\n            rowEndPointer = 2;\n        }\n        else if (rowDouble &lt;= 2 &amp;&amp; rowDouble &gt; 1)\n        {\n            rowBeginPointer = 3;\n            rowEndPointer = 5;\n        }\n        else\n        {\n            rowBeginPointer = 6;\n            rowEndPointer = 8;\n        }\n\n        if (columnDouble &lt;= 1 &amp;&amp; columnDouble &gt;= 0)\n        {\n            columnBeginPointer = 0;\n            columnEndPointer = 2;\n        }\n        else if (columnDouble &lt;= 2 &amp;&amp; columnDouble &gt; 1)\n        {\n            columnBeginPointer = 3;\n            columnEndPointer = 5;\n        }\n        else\n        {\n            columnBeginPointer = 6;\n            columnEndPointer = 8;\n        }\n\n        for (int i = columnBeginPointer; i &lt;= columnEndPointer; i++)\n        {\n            for (int j = rowBeginPointer; j &lt;= rowEndPointer; j++)\n            {\n                switch (board[i][j])\n                {\n                    case 0:\n                        zero++;\n                        break;\n                    case 1:\n                        one++;\n                        break;\n                    case 2:\n                        two++;\n                        break;\n                    case 3:\n                        three++;\n                        break;\n                    case 4:\n                        four++;\n                        break;\n                    case 5:\n                        five++;\n                        break;\n                    case 6:\n                        six++;\n                        break;\n                    case 7:\n                        seven++;\n                        break;\n                    case 8:\n                        eight++;\n                        break;\n                    case 9:\n                        nine++;\n                        break;\n                    default:\n                        return false;\n                }\n\n            }\n\n        }\n        boolean bool = (one &lt;= 1 &amp;&amp; two &lt;= 1 &amp;&amp; three &lt;= 1 &amp;&amp; four &lt;= 1 &amp;&amp; five &lt;= 1 &amp;&amp; six &lt;= 1 &amp;&amp; seven &lt;= 1 &amp;&amp; eight &lt;= 1 &amp;&amp; nine &lt;= 1);\n        System.out.println(&quot;CheckSquare --&gt; &quot; + bool + &quot; with &quot; + zero + &quot;empty places&quot;);\n        return bool;\n    }\n\n    public static boolean solve(int[][] board)\n    {\n        if (!checkValidBoard(board))\n        {\n            throw new IllegalArgumentException(&quot;Das Board ist nicht Valide!!!&quot;);\n        }\n        printBoard(board);\n        return solveSudoku(board);\n    }\n\n    private static boolean solveSudoku(int[][] board)\n    {\n        printBoard(board);\n        int boardLength = board.length;\n        int row = -1;\n        int col = -1;\n        boolean isEmpty = true;\n        for (int i = 0; i &lt; boardLength; i++)\n        {\n            for (int j = 0; j &lt; boardLength; j++)\n            {\n                if (board[i][j] == 0)\n                {\n                    row = i;\n                    col = j;\n\n                    // We still have some remaining\n                    // missing values in Sudoku\n                    isEmpty = false;\n                    break;\n                }\n            }\n            if (!isEmpty)\n            {\n                break;\n            }\n        }\n\n        // No empty space left\n        if (isEmpty)\n        {\n            return true;\n        }\n\n        // Else for each-row backtrack\n        for (int num = 1; num &lt;= boardLength; num++)\n        {\n            if (isSafe(board, row, col, num))\n            {\n                board[row][col] = num;\n                if (solveSudoku(board))\n                {\n                    // print(board, n);\n                    return true;\n                }\n                else\n                {\n                    // replace it\n                    board[row][col] = 0;\n                }\n            }\n        }\n        return false;\n    }\n\n    public static void print(int[][] board)\n    {\n\n        // We got the answer, just print it\n        int boardLength = board.length;\n        for (int r = 0; r &lt; boardLength; r++)\n        {\n            for (int d = 0; d &lt; boardLength; d++)\n            {\n                System.out.print(board[r][d]);\n                System.out.print(&quot; &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n\n            if ((r + 1) % (int) Math.sqrt(boardLength) == 0)\n            {\n                System.out.print(&quot;&quot;);\n            }\n        }\n    }\n\n    public static void main(String args[])\n    {\n\n        int[][] board = new int[][]\n        {\n//             { 3, 0, 6, 5, 0, 8, 4, 0, 0 },\n//             { 5, 2, 0, 0, 0, 0, 0, 0, 0 },\n//             { 0, 8, 7, 0, 0, 0, 0, 3, 1 },\n//             { 0, 0, 3, 0, 1, 0, 0, 8, 0 },\n//             { 9, 0, 0, 8, 6, 3, 0, 0, 5 },\n//             { 0, 5, 0, 0, 9, 0, 6, 0, 0 },\n//             { 1, 3, 0, 0, 0, 0, 2, 5, 0 },\n//             { 0, 0, 0, 0, 0, 0, 0, 7, 4 },\n//             { 0, 0, 5, 2, 0, 6, 3, 0, 0 } };\n\n            { 0, 0, 0, 1, 0, 0, 0, 0, 0 },\n            { 0, 0, 0, 2, 0, 0, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n            { 1, 2, 0, 0, 0, 0, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 0, 1, 2, 0 },\n            { 0, 0, 0, 0, 0, 1, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 2, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 0, 0, 0, 0 }, };\n//        int maxSize = board.length;\n\n        if (solve(board))\n        {\n            // print solution\n            System.out.println(&quot;found a Solution&quot;);\n            printBoard(board);\n        }\n        else\n        {\n            System.out.println(&quot;No solution&quot;);\n        }\n    }\n\n    private static void printBoard(int[][] board)\n    {\n        for (int row = 0; row &lt; 9; row++)\n        {\n            for (int column = 0; column &lt; 9; column++)\n            {\n                if ((column) % 3 == 0 &amp;&amp; column &gt; 1)\n                {\n                    // System.out.println(&quot;-----------------&quot;);\n                    System.out.print(&quot;| &quot;);\n                }\n                System.out.print(board[row][column] + &quot; &quot;);\n            }\n            if ((row + 1) % 3 == 0 &amp;&amp; row &lt; 8)\n            {\n                // System.out.println(&quot;-----------------&quot;);\n                System.out.print(&quot;\\n---------------------&quot;);\n            }\n            System.out.println();\n        }\n        System.out.print(&quot;---------------------&quot;);\n        System.out.print(&quot;\\n#####################&quot;);\n        System.out.println(&quot;\\n---------------------&quot;);\n    }\n}\n\n</code></pre>\n"},{"comments":[{"comment_id":134548440,"body":"Actually I found the error and the sollution is:   The problem is the dependencies using on plugin.xml.  You must add that code:      &lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt;     &lt;depends&gt;com.intellij.modules.lang&lt;/depends&gt;     &lt;depends&gt;com.intellij.modules.java&lt;/depends&gt;     &lt;depends&gt;com.intellij.modules.xdebugger&lt;/depends&gt;     &lt;depends&gt;com.intellij.java&lt;/depends&gt;"},{"comment_id":134549824,"body":"Please provide enough code so others can better understand or reproduce the problem."}],"last_activity_date":1684675297,"question_id":76300080,"body":"<p>Actually I'm retrieving that error when trying to create a new plugin on intellij platform.</p>\n<pre><code>PsiTreeUtil.findChildOfType(psiFile, PsiClass.class)\n</code></pre>\n<blockquote>\n<p>Caused by: java.lang.ClassNotFoundException:\ncom.intellij.psi.JavaPsiFacade when using\nPsiTreeUtil.findChildOfType(psiFile, PsiClass.class)</p>\n</blockquote>\n<p>I'm expecting to retrieve the PsiClass without any error.</p>\n"},{"comments":[{"comment_id":134548456,"body":"You can d both ways, But you has to put the Activity class as a parameter into the handler class and do not create a new Instance of the class"},{"comment_id":134548629,"body":"You should <b>never</b> create an activity class manually in Android with <code>new MyActivity</code>, that will create an invalid state where many variables are null"},{"comment_id":134549137,"body":"@Jens thanks for your answer, but can you explain how to pass the activity as a parameter?"},{"comment_id":134549357,"body":"@EJoshuaS-StandwithUkraine thanks for sharing this, but the object i created is not null. The problem is the view that I&#39;m trying to access through the object is null. So,   Tyler V&#39; s answer is 100% correct but i can&#39;t understand how to avoid creating the main activity object"},{"comment_id":134549709,"body":"@Marwan you need to inject your dependencies into the <code>MyHandler</code> class - basically, whatever objects it needs to use, you pass them in rather than constructing them inside <code>MyHandler</code>. You could either do it as a constructor parameter, or as a parameter on a function you&#39;re calling (e.g. you could write one that calls <code>sendEmptyMessage</code> internally). That way you can just pass in the <code>Activity</code> or whatever (in this case you should probably be passing in the <code>TextView</code> since that&#39;s specifically the thing you&#39;re interacting with). You&#39;ll see this pattern a lot with passing a <code>Context</code> parameter"},{"comment_id":134549762,"body":"@Marwan: <code>public class MyHandler extends Handler {      MainActivity mainActivity; public MyHandler(MainActivity mainactivity) { this.mainActivity = activity; }</code>"},{"comment_id":134549772,"body":"That said, a more typical way to do this is storing a <code>Handler</code> reference in the <code>Activity</code> (e.g. through <code>Handler handler = new Handler(Looper.getMainLooper())</code>) and then posting runnables to it, like with <code>handler.post(Runnable)</code>, or <code>postDelayed</code> etc. Then the code you need to run is just written in the <code>run</code> method. And you don&#39;t even need a <code>Handler</code> for this - <code>View</code>s implicitly have their own reference to one, so you can just call <code>tv.post(Runnable)</code> to run a thing on the UI thread"}],"last_activity_date":1684675105,"question_id":76300090,"body":"<p>I have a very simple question. In Android, the Handler class must be implemented inside the activity's class as an inner class? Or i can implement it in a separate file and create the object in the activity's class? When i try the second option, i can only access the view creating an object of the activity's class, and it's normal, but when I setText of the  mainActivity's textView using the handleMessage method in the Handle class, the app crashes with a &quot;NullPointerException&quot;\nMainActivity's code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView tv;\n    Button btn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        tv = (TextView) findViewById(R.id.tv);\n        btn = (Button) findViewById(R.id.btn);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                MyHandler handler = new MyHandler();\n                handler.sendEmptyMessage(7);\n            }\n        });\n}\n</code></pre>\n<p>Handler class code:</p>\n<pre><code>public class MyHandler extends Handler {\n\n    MainActivity mainActivity = new MainActivity();\n\n\n\n    @Override\n    public void handleMessage(@NonNull Message msg) {\n        super.handleMessage(msg);\n\n        mainActivity.tv.setText(msg.what + &quot; &quot;);\n\n\n\n    }\n}\n</code></pre>\n<p>I did't find any article or tutorial that answers to this question, but all of them implement it as inner class. I want to know if this is a best practice or the only way to do it.\nThanks in advance.</p>\n"},{"comments":[{"comment_id":134546777,"body":"PyCryptodome uses the OAEP digest as MGF1 digest by default. Since the Java code applies SHA56 for both digests and the Python code uses SHA256 as OAEP digest, the MGF1 digest is implicitly specified correctly (note: the MGF1 digest can also be specified explicitly, but this is not necessary here)."},{"comment_id":134546826,"body":"It is not clear from your question whether there are any problems at all. Are there any problems? If so, which ones? You should then also post sample data (non-productive key pair, plaintext, ciphertexts of both codes). Note: For a test, the ciphertexts cannot just be compared, since OAEP is not deterministic. Instead, it must be checked whether both ciphertexts can be decrypted with the <i>same</i> (Java) code."},{"comment_id":134548790,"body":"@Topaco thank you for your response. Actually, I don&#39;t have access to the decryption code. So I just wanted the Python code would be the same manner with Java code which is an SDK."},{"comment_id":134548800,"body":"@Topaco Also I am not sure about decode, encode, hex, stuff in the python code which are in the right place or not"},{"comment_id":134549177,"body":"At first glance I don&#39;t see any problems, but this should be verified by tests. My recommendation: get the decryption code, write it yourself (language doesn&#39;t matter) or use online tools (most are unreliable, a relatively good one that also supports RSA/OAEP/SHA256 is <a href=\"https://gchq.github.io/CyberChef/\" rel=\"nofollow noreferrer\">CyberChef</a>), and perform the necessary tests: Create an RSA test key pair, generate a ciphertext with both codes and decrypt both. In case of problems post the code or a link to the online tool and your (non-productive) test data. Currently it is not even clear if there is a problem at all."},{"comment_id":134549214,"body":"Regarding the encoding: the hex encoding of the data before encryption is actually unnecessary and only increases the amount of data to be encrypted. Encryption algorithms operate on bytes, so the binary data itself should be encrypted (and not its hex encoding). Unless the Java/Python code is fixed, this should be changed."},{"comment_id":134554677,"body":"@Topaco Eventually my problem has been resolved without any changes in this code as I found out the problem was somewhere else. Also that <code>.hex().encode()</code> was needed as in the Java code we did the same manner and without that I get the error. All in all thank you for your guidance and the information you gave."}],"last_activity_date":1684675074,"question_id":76298951,"body":"<p>I am new in cryptography stuff and I want to encrypt a random symmetric key using RSA-OAEP-SHA256 in Python. Actually, my exact desire is to convert the following code from Java to Python:</p>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String encryptSymmetricKey(String symmetricKeyJson, PublicKey publicKey)\n        throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n    OAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA256, PSource.PSpecified.DEFAULT);\n    Cipher encryptCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\n\n    encryptCipher.init(Cipher.ENCRYPT_MODE, publicKey, oaepParameterSpec);\n\n    byte[] secretMessageBytes = symmetricKeyJson.getBytes(StandardCharsets.UTF_8);\n    byte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\n\n    return Base64.getEncoder().encodeToString(encryptedMessageBytes);\n}\n\nSecretKey aesKey = generateAesSecretKey();\n\nString rsaEncryptSymmetricKey = encryptSymmetricKey(\n        hex(aesKey.getEncoded()),\n        taxOrgPublicKey); \n</code></pre>\n<p>Here's the code I've done so far in Python, but I couldn't find MGF1 in it:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def encrypt_symmetric_key(symmetric_key: bytes, public_key: str) -&gt; str:\n    &quot;&quot;&quot;encrypt symmetric key using public key\n    &quot;&quot;&quot;\n    keyDER = base64.b64decode(public_key)\n    public_key = RSA.import_key(keyDER)\n\n    # Use PKCS#1 OAEP for encryption with SHA256 hash function\n    cipher_rsa = PKCS1_OAEP.new(public_key, hashAlgo=SHA256.new())\n\n    # Encrypt the symmetric key\n    encrypted_symmetric_key = cipher_rsa.encrypt(symmetric_key.hex().encode())\n\n    # Return the encrypted key as a base64-encoded string\n    return base64.b64encode(encrypted_symmetric_key).decode()\n\nimport secrets\nsymmetric_key = secrets.token_bytes(32)\npublic_key = &quot;xxx&quot;\nencrypt_symmetric_key(symmetric_key, public_key)\n</code></pre>\n"},{"last_activity_date":1684674882,"question_id":76300050,"body":"<p>There is a <code>Map&lt;Pharmacy, List&lt;Medicine&gt;&gt;</code><br />\nHow to sort this map by value. The last element is the total price in the list. So I want to sort this map by this total Price value.</p>\n<pre><code>Map&lt;Pharmacy, List&lt;Medicine&gt;&gt; resultQuery = new HashMap&lt;&gt;();\n\nfor (Long id : pharmaciesID) {\n    Pharmacy pharmacy = pharmacyRepository.getReferenceById(id);\n    resultQuery\n        .computeIfAbsent(pharmacy, v -&gt; new ArrayList&lt;&gt;())\n        .addAll(findAllMedicinesFromPharmacy(pharmacy, medicinesList));\n}\n\nfor (Map.Entry&lt;Pharmacy, List&lt;Medicine&gt;&gt; entry : resultQuery.entrySet()) {\n    long id = entry.getKey().getId();\n    entry.getValue().add(new Medicine(&quot;Total price: &quot;, &quot;&quot;, 0, findTotalSumPrice(entry.getValue()), id));\n}\n</code></pre>\n"},{"last_activity_date":1684674681,"question_id":76299474,"body":"<p>I'm coding the Mancala game with Minimax in Java, it's all running perfectly, but the algorithm doesn't choose the right move and it returns the wrong score all the time. I don't know what the problem is even though I sat a lot of hours to figure it out and I would love for some help.</p>\n<pre><code>private Move minimax(State state, int depth, int maxDepth, boolean isMaxPlayer)\n{\n    Move bestMove = null;\n    \n    if(isGameOverMinimax(state) || maxDepth == depth)\n    {\n        //System.out.println(&quot;**** Game Over ****&quot;);\n        double evalScore = evaluate(state, isMaxPlayer);\n        //printBoard(board);\n        //System.out.println(&quot;evalScore = &quot; + evalScore);\n        //System.out.println(&quot;depth = &quot; + depth);\n        //System.out.println(&quot;********************&quot;);\n        \n       return new Move(null, evalScore,depth);\n    }\n    \n    ArrayList&lt;Move&gt; possibleMoves = getAllPossibleMoves(state, getMinimaxPlayer(isMaxPlayer));\n    // MAX play\n    if(isMaxPlayer == true)\n    {\n        bestMove = new Move(null, Integer.MIN_VALUE, -1);\n        \n        for(int i=0; i &lt; possibleMoves.size(); i++)\n        {\n            State copyBoard = applyMove(state, possibleMoves.get(i), getMinimaxPlayer(isMaxPlayer));\n            Move move;\n            if(copyBoard.isMoreTurn())\n                move = minimax(copyBoard, depth+1, maxDepth, true);\n            else\n                move = minimax(copyBoard, depth+1, maxDepth, false);\n            move.setLocation(possibleMoves.get(i).getLocation());\n            \n            if(depth==0)\n                System.out.println(&quot;#Move#&quot; + (i+1) + &quot;: &quot; + possibleMoves.get(i).getLocation() + &quot;, Score: &quot; + move.getScore()+&quot;, Depth: &quot; + move.getDepth());\n            \n            if(move.getScore() &gt; bestMove.getScore())\n            {\n                bestMove.setLocation(move.getLocation());\n                bestMove.setScore(move.getScore());\n                bestMove.setDepth(move.getDepth());\n            }\n            else if(move.getScore() == bestMove.getScore()){\n                if(move.getDepth()&lt;bestMove.getDepth()){\n                    bestMove.setLocation(move.getLocation());\n                    bestMove.setScore(move.getScore());\n                    bestMove.setDepth(move.getDepth());\n                }\n            }\n        }\n    }\n    else  // MIN player\n    {\n        bestMove = new Move(null, Integer.MAX_VALUE, -1);\n        \n        for(int i=0; i&lt;possibleMoves.size(); i++)\n        {\n            State copyBoard = applyMove(state, possibleMoves.get(i), getMinimaxPlayer(isMaxPlayer));\n            Move move;\n            if(copyBoard.isMoreTurn())\n                move = minimax(copyBoard, depth+1, maxDepth, false);\n            else\n                move = minimax(copyBoard, depth+1, maxDepth, true);\n            move.setLocation(possibleMoves.get(i).getLocation());\n            \n            if(move.getScore() &lt; bestMove.getScore())\n            {\n                bestMove.setLocation(move.getLocation());\n                bestMove.setScore(move.getScore());\n                bestMove.setDepth(move.getDepth());\n            }\n        }\n    }\n    \n    return bestMove;\n}\n\nprivate State applyMove(State state, Move move, int currentPlayer)\n{\n    State copy = state.duplicateState();\n    return move.makeMove(move, currentPlayer, copy);\n}\n\nprivate double evaluate(State state,boolean playerB)\n{\n    int player;\n    if(playerB==true){\n        player=controller.getCurrentPlayer();\n        if(state.checkCopyWin(state)==player)\n            return 100;\n    }\n    else{\n        player=controller.getOpponent(controller.getCurrentPlayer());\n        if(state.checkCopyWin(state)==player)\n            return -100;\n    }\n    if(checkTie())\n        return 0;\n    double sum=eval1(state,player)*0.5 + eval2(state,player)*0.5;\n    return sum;\n}\n\n\nprivate int eval1(State state, int player)\n{\n    int sumForPlayer;\n    int sumForOponnent;\n    if(player==PLAYER_ONE){\n        sumForPlayer = state.getOpponentSum();\n        sumForOponnent = state.getPlayerSum();\n    }\n    else{\n        sumForPlayer = state.getPlayerSum();\n        sumForOponnent = state.getOpponentSum();\n    }\n    return sumForPlayer-sumForOponnent;\n}\nprivate int eval2(State state, int player)\n{\n    int sumForPlayer = state.getSumOfRocksLeft(player);\n    int sumForOponnent = state.getSumOfRocksLeft(controller.getOpponent(player));\n    return sumForPlayer-sumForOponnent;\n}\n</code></pre>\n<p>I've tried to print all the returns from the evaluation functions and yet I still don't understand why it doesn't return the correct answer.\nBy the way, all the auxiliary functions that I used and did not write down their implementation here work well and return a correct answer.</p>\n"},{"comments":[{"comment_id":20254416,"body":"you need to specify which parameter e.g. if you have keyword in the body use String keyword = request.getParameter(&quot;keyword&quot;);"},{"comment_id":20254496,"body":"It&#39;d be interesting to see the JavaScript code sending the request. It&#39;s apparently composing the request parameters in a wrong way."},{"comment_id":20254578,"body":"@Razh well yes I know, I was just specifying which methods I was trying. BalusC I am using the resumable.js library to handle split file uploads"},{"comment_id":23352043,"body":"If I&#39;m not mistaking, it&#39;s important that you do NOT use request.getParameter() prior to reading from the input stream otherwise no data will be available (already read)."}],"answers":[{"comments":[{"comment_id":20255116,"body":"No problems, it&#39;s a bit hidden that one"},{"comment_id":38934436,"body":"This post may be useful if you&#39;ve just used this in a filter and then discovered nothing else can read the body again!  <a href=\"http://natch3z.blogspot.co.uk/2009/01/read-request-body-in-filter.html\" rel=\"nofollow noreferrer\">natch3z.blogspot.co.uk/2009/01/read-request-body-in-filter.h&zwnj;&#8203;tml</a>"},{"comment_id":98933756,"body":"@SgtPooki feel free to add some reasoning for that comment, my good sir!"},{"comment_id":98940927,"body":"@davidfrancis I&#39;m not trying to judge you personally here, but: you have provided no context.. no link to documentation, no example. Your reply to my comment seems to have required more effort than the answer itself."},{"comment_id":98944235,"body":"@SgtPooki Correct, as none of those things are needed. IMHO the name of the method needed is somewhat obscure, hence the method name is the answer to this question. Simple as that I thought. Feel free to submit a longer answer if you think it would be useful."},{"comment_id":98944594,"body":"@davidfrancis, you&#39;re missing the point. The actual question is &quot;How do I get data from the request&quot;. Now try, with your answer as it stands, to get data by writing req.getReader(). Does that give you the data in the request payload, or does it give you the reader, which facilitates getting the body of the request?"},{"comment_id":98981402,"body":"@sgtPooki Your answer is more detailed, but it has extraneous detail that may not be useful. Many people using this API will not be interested in reading the body line by line at all, they will be parsing the body using a library e.g. as JSON. IMHO you should really have submitted it as a new answer because it&#39;s no longer my text."},{"comment_id":99063618,"body":"Likewise, I hope if your day job you don&#39;t overwrite code without discussion first, if you don&#39;t like it - even if 93 previous people happened to like it. I read around about the etiquette of editing answers so am fully up to date with the various opinions 8=}. Thanks for your input to the answer."}],"answer_id":14526070,"body":"<p>Simple answer:<br>\nUse getReader() to read the body of the request</p>\n\n<p>More info:<br>\nThere are two methods for reading the data in the body:</p>\n\n<ol>\n<li><p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getReader--\" rel=\"noreferrer\"><code>getReader()</code></a> returns a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html?is-external=true\" rel=\"noreferrer\">BufferedReader</a> that will allow you to read the body of the request. </p></li>\n<li><p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getInputStream--\" rel=\"noreferrer\"><code>getInputStream()</code></a> returns a <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletInputStream.html\" rel=\"noreferrer\">ServletInputStream</a> if you need to read binary data. </p></li>\n</ol>\n\n<p>Note from the docs: \"[Either method] may be called to read the body, not both.\"</p>\n"},{"comments":[{"comment_id":35752728,"body":"Take into account that <code>request.getInputStream()</code> doesn&#39;t honor request character encoding as <code>request.getReader()</code> does. So this example uses default system charset."},{"comment_id":35752832,"body":"<code>new BufferedReader(new InputStreamReader(request.getInputStream()))</code> could be simplified to just <code>request.getReader()</code> that is already buffered and also preserves request encoding."},{"comment_id":77671961,"body":"I found this solution helpful as an exception was thrown: <code>javax.servlet.ServletException: java.lang.IllegalStateException: getInputStream() has already been called for this request</code> when I called getReader() as a result of the reader already being open."},{"comment_id":116142760,"body":"Thanks sir, this is a clean and concise solution!"},{"comment_id":120732626,"body":"why do you append empty string to the SB?"},{"comment_id":125990343,"body":"public static String getBody(HttpServletRequest request){     return new String(request.getInputStream().readAllBytes()); }"},{"comment_id":127441801,"body":"else {stringBuilder.append(&quot;&quot;);}  is redundant!"}],"answer_id":14885950,"body":"<pre><code>String payloadRequest = getBody(request);\n</code></pre>\n\n<p>Using this method </p>\n\n<pre><code>public static String getBody(HttpServletRequest request) throws IOException {\n\n    String body = null;\n    StringBuilder stringBuilder = new StringBuilder();\n    BufferedReader bufferedReader = null;\n\n    try {\n        InputStream inputStream = request.getInputStream();\n        if (inputStream != null) {\n            bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n            char[] charBuffer = new char[128];\n            int bytesRead = -1;\n            while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n                stringBuilder.append(charBuffer, 0, bytesRead);\n            }\n        } else {\n            stringBuilder.append(\"\");\n        }\n    } catch (IOException ex) {\n        throw ex;\n    } finally {\n        if (bufferedReader != null) {\n            try {\n                bufferedReader.close();\n            } catch (IOException ex) {\n                throw ex;\n            }\n        }\n    }\n\n    body = stringBuilder.toString();\n    return body;\n}\n</code></pre>\n"},{"answer_id":25617320,"body":"<p>You can use Buffer Reader from request to read</p>\n<pre><code>    // Read from request\n    StringBuilder buffer = new StringBuilder();\n    BufferedReader reader = request.getReader();\n    String line;\n    while ((line = reader.readLine()) != null) {\n        buffer.append(line);\n        buffer.append(System.lineSeparator());\n    }\n    String data = buffer.toString()\n</code></pre>\n"},{"comments":[{"comment_id":65270996,"body":"This is interesting, but looks quite inefficient in terms of string concatenation! Any way this can be improved?"},{"comment_id":65803399,"body":"String body = request.getReader().lines().collect(Collectors.joining());  may also work. Collectors.joining uses a StringBuilder under the hood apparently."},{"comment_id":71404868,"body":"I think it should request.getReader().lines().collect(joining(&quot;\\n&quot;)) to preserve the newlines."},{"comment_id":85092090,"body":"In java 8,stream will be processed parallely so need to add sequential method otherwise it will merge wrong portion of data - String body = request.getReader().lines().sequential().reduce(System.lineS&zwnj;&#8203;eparator(), (accumulator, actual) -&gt; accumulator + actual)"},{"comment_id":89168506,"body":"You can replace <code>(accumulator, actual) -&gt; accumulator + actual</code> with <code>String::concat</code>."}],"answer_id":28377010,"body":"<p>Java 8 streams</p>\n\n<pre><code>String body = request.getReader().lines()\n    .reduce(\"\", (accumulator, actual) -&gt; accumulator + actual);\n</code></pre>\n"},{"answer_id":39792253,"body":"<p>With <a href=\"https://commons.apache.org/proper/commons-io/\">Apache Commons IO</a> you can do this in one line.</p>\n\n<pre><code>IOUtils.toString(request.getReader())\n</code></pre>\n"},{"comments":[{"comment_id":80802570,"body":"Beware: The parameters are only available if you use the encoding <code>application&#47;x-www-form-urlencoded</code>; for <code>multipart&#47;form-data</code>, you apparently need to access the body part through <code>request.getReader()</code> and parse it manually."}],"answer_id":40587416,"body":"<p>You only need </p>\n\n<blockquote>\n  <p>request.getParameterMap()</p>\n</blockquote>\n\n<p>for getting the POST and GET - Parameters.</p>\n\n<p>The Method returns a <code>Map&lt;String,String[]&gt;</code>.</p>\n\n<p>You can read the parameters in the Map by</p>\n\n<pre><code>Map&lt;String, String[]&gt; map = request.getParameterMap();\n//Reading the Map\n//Works for GET &amp;&amp; POST Method\nfor(String paramName:map.keySet()) {\n    String[] paramValues = map.get(paramName);\n\n    //Get Values of Param Name\n    for(String valueOfParam:paramValues) {\n        //Output the Values\n        System.out.println(\"Value of Param with Name \"+paramName+\": \"+valueOfParam);\n    }\n}\n</code></pre>\n"},{"answer_id":45423137,"body":"<p>Using Java 8 try with resources:</p>\n\n<pre><code>    StringBuilder stringBuilder = new StringBuilder();\n    try(BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(request.getInputStream()))) {\n        char[] charBuffer = new char[1024];\n        int bytesRead;\n        while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n            stringBuilder.append(charBuffer, 0, bytesRead);\n        }\n    }\n</code></pre>\n"},{"answer_id":45635715,"body":"<p>If the contents of the body are a string in Java 8 you can do:</p>\n\n<p><code>String body = request.getReader().lines().collect(Collectors.joining());\n</code></p>\n"},{"comments":[{"comment_id":119159093,"body":"This worked in my case where I had to implement JWT authentication. I was sending JSON payload with username and password, then mapped that to my custom Auth Token class."}],"answer_id":48450880,"body":"<p>If you are able to send the payload in JSON, this is a most convenient way to read the playload:</p>\n\n<p>Example data class:</p>\n\n<pre><code>public class Person {\n    String firstName;\n    String lastName;\n    // Getters and setters ...\n}\n</code></pre>\n\n<p>Example payload (request body):</p>\n\n<pre><code>{ \"firstName\" : \"John\", \"lastName\" : \"Doe\" }\n</code></pre>\n\n<p>Code to read payload in servlet (requires com.google.gson.*):</p>\n\n<pre><code>Person person = new Gson().fromJson(request.getReader(), Person.class);\n</code></pre>\n\n<p>That's all. Nice, easy and clean. Don't forget to set the content-type header to application/json. </p>\n"}],"last_activity_date":1684674113,"question_id":14525982,"body":"<p>I have a javascript library that is sending a POST request to my Java servlet, but in the <code>doPost</code> method, I can't seem to get the contents of the request payload. In chrome Developer Tools, all the content is in the Request Payload section in the headers tab, and the content is there, and I know that the POST is being received by the doPost method, but it just comes up blank.</p>\n<p>For the <code>HttpServletRequest</code>\nobject, what way can I get the data in the request payload?</p>\n<p>public class TestFilter implements Filter {</p>\n"},{"comments":[{"comment_id":134543817,"body":"1) Use a <code>PreparedStatement</code> for the SQL. Read the <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">PresaredStatement tutorial</a> for some basics. 2) Test the PreparedStatement by hardcoding the value that you set. 3) Once that works, then try passing the data as parameters to the method."}],"last_activity_date":1684673708,"question_id":76297131,"body":"<p>NullPointerException when writing to sqlite even if hardcoded value in Java</p>\n<p>I'm working on a project that encompasses passing data between servlets and *.jsp files, and at the same time writes to a sqlite database. The variables passed to the db are area_id, x, y, r, g, and timestamp. When testing the entire project together, all of the area_id values are NULL. The DB class has a Main() to test the functionality, and hard codes an entry into the db.</p>\n<p>Here is the content of DBManager.java:</p>\n<pre><code>package com.dronerecon.ws;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\n\nimport java.util.ArrayList;\n\npublic class DBManager {\n\n    public String DBLocation = &quot;dronedata.sqlite&quot;; // For running from an IDE w/ DB located in local project folder.\n\n    // For running in IDE but accessing full path to DB in Tomcat website (NOTE: May need to adjust 8.5).\n    //public String DBLocation = &quot;C:\\\\Program Files\\\\Apache Software Foundation\\\\Tomcat 10.1\\\\webapps\\\\dronereconportal\\\\db\\\\dronedata.sqlite&quot;;\n\n    // Create connection with DB.\n    // This is called internally by each CRUD function as a first step.\n    private Connection connect() {\n\n        // SQLite connection string\n        String url = &quot;jdbc:sqlite:&quot; + DBLocation;\n        Connection conn = null;\n\n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n\n            // Connect to DB.\n            conn = DriverManager.getConnection(url);\n        } catch (Exception e) {\n            System.err.println(e.getMessage());\n        }\n        return conn;\n    }\n\n\n    // Insert DB record into AreaGridTiles table.\n    // This is the &quot;C&quot; in CRUD.\n    public void insertAreaGridTile(String sAreaID, int iX, int iY, int iR, int iG){\n\n        Connection c = connect();\n        Statement stmt = null;\n\n        try {\n            c.setAutoCommit(false);\n\n            stmt = c.createStatement();\n            String sql = &quot;INSERT INTO AreaGridTiles (area_id,x,y,r,g,timestamp) &quot; +\n                    &quot;VALUES ('&quot; + sAreaID + &quot;',&quot; + iX + &quot;,&quot; + iY + &quot;,&quot; + iR + &quot;,&quot; + iG + &quot;,datetime());&quot;;\n            stmt.executeUpdate(sql);\n            stmt.close();\n            c.commit();\n            c.close();\n        } catch ( Exception e ) {\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n            e.printStackTrace();\n        }\n    }\n\n\n    // Select DB records from AreaGridTiles table.\n    // This is the &quot;R&quot; in CRUD.\n    public ArrayList&lt;AreaGridTile&gt; readAreaGridTiles(String sAreaID){\n\n        Connection c = connect();\n        Statement stmt = null;\n\n        // Used to hold tiles retrieved from DB.\n        ArrayList&lt;AreaGridTile&gt; lstTiles = new ArrayList&lt;&gt;();\n\n        try {\n            c.setAutoCommit(false);\n\n            stmt = c.createStatement();\n            ResultSet rs = stmt.executeQuery( &quot;SELECT * FROM AreaGridTiles WHERE area_id = '&quot; + sAreaID + &quot;';&quot; );\n\n            while ( rs.next() ) {\n                sAreaID = rs.getString(&quot;area_id&quot;);\n                int iX = rs.getInt(&quot;x&quot;);\n                int iY = rs.getInt(&quot;y&quot;);\n                int iR = rs.getInt(&quot;r&quot;);\n                int iG = rs.getInt(&quot;g&quot;);\n                String sTimestamp = rs.getString(&quot;timestamp&quot;);\n\n                AreaGridTile oTile = new AreaGridTile();\n                oTile.areaID = sAreaID;\n                oTile.x = iX;\n                oTile.y = iY;\n                oTile.r = iR;\n                oTile.g = iG;\n                oTile.timestamp = sTimestamp;\n\n                lstTiles.add(oTile);\n\n                 /*Uncomment for debugging\n                System.out.println( &quot;Area ID : &quot; + sAreaID);\n                System.out.println( &quot;x : &quot; + iX);\n                System.out.println( &quot;y : &quot; + iY);\n                System.out.println( &quot;r : &quot; + iR);\n                System.out.println( &quot;g : &quot; + iG);\n                System.out.println( &quot;timestamp : &quot; + sTimestamp);\n\n                  */\n\n            }\n\n            rs.close();\n            stmt.close();\n            c.close();\n\n        } catch ( Exception e ) {\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n        }\n\n        return lstTiles;\n    }\n\n    // Only for testing in an IDE.\n    public static void main(String[] args){\n\n        DBManager oDBManager = new DBManager();\n        oDBManager.insertAreaGridTile(&quot;abc123&quot;,10,10,243,109);\n        System.out.println(&quot;Record inserted.&quot;);\n\n        ArrayList&lt;AreaGridTile&gt; oTiles = oDBManager.readAreaGridTiles(&quot;abc123&quot;);\n\n        for(AreaGridTile oTile: oTiles){\n            System.out.println(&quot;tile: &quot; + oTile.x + &quot;,&quot; + oTile.y);\n        }\n    }\n}\n</code></pre>\n<p>And here is supporting pictures to show the issue:\n<a href=\"https://i.stack.imgur.com/DAHVW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/evH5V.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Are these issues independent of each other? This seems to be an issue with connecting to the DB at all. I've been trying to resolve this for a while, with no luck. Thank you for your help!</p>\n"},{"comments":[{"comment_id":74350935,"body":"You should  follow @LukeJanyga&#39;s advice and make use of java.time framework. Stop using raw java.util.Date objects and start using LocalDateTime, LocalDate, LocalTime, and so on."},{"comment_id":74354465,"body":"could you tell me where is the mistake in my code why its not giving correct month difference and time difference?"},{"comment_id":74358020,"body":"I haven&#39;t got spare time to take a look to your code right now. The best approach for you is to switch to java time: as you&#39;ll get it working faster resulting in lesser quantity of lines of code."},{"comment_id":74358102,"body":"Take a look to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java time javadoc</a> and to <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"nofollow noreferrer\">this article</a>."}],"answers":[{"comments":[{"comment_id":134544430,"body":"Update: These terribly flawed date-time classes were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."}],"answer_id":43650573,"body":"<pre><code>String calculateTime(String strDate) throws ParseException {\n\n    String result = \"\";\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"ddMMHHmm\");\n    Date currDate = new Date();\n    String date = dateFormat.format(currDate);\n\n    currDate = dateFormat.parse(date);\n    Date postDate = dateFormat.parse(strDate);\n\n    //calculate day diff\n    long timeDiff = currDate.getTime() - postDate.getTime();\n    long daysDiff = TimeUnit.MILLISECONDS.toDays(timeDiff);\n    Calendar calendar = GregorianCalendar.getInstance();\n    calendar.setTime(postDate);\n\n    if (daysDiff == 1) {\n\n\n        result = \"yesterday\";\n        result = result + \" at \" + getHour(calendar.get(Calendar.HOUR)) + \":\"\n                + setPrefix(calendar.get(Calendar.MINUTE))+ \" \" + getAM_PM(calendar.get(Calendar.AM_PM));\n\n    } else if (daysDiff &gt; 1) {\n\n        result = calendar.get(Calendar.DATE) + \" \" + getMonthForInt(calendar.get(Calendar.MONTH));\n        result = result + \" at \" + getHour(calendar.get(Calendar.HOUR)) + \":\"\n                + setPrefix(calendar.get(Calendar.MINUTE)) + \" \" + getAM_PM(calendar.get(Calendar.AM_PM));\n\n    } else {\n\n         long minDiff = TimeUnit.MILLISECONDS.toMinutes(timeDiff);\n\n\n        if (minDiff == 0) {\n\n            result = \"just now\";\n        } else if (minDiff &lt; 60) {\n\n            if (minDiff == 1) {\n\n                result = minDiff + \" min ago\";\n            } else if(minDiff &gt; 1)  {\n                result = minDiff + \" mins ago\";\n            }\n\n        } else {\n\n            long hourDiff = TimeUnit.MILLISECONDS.toHours(timeDiff);\n\n            if (hourDiff == 1) {\n\n                result = hourDiff + \" hr ago\";\n            } else if(hourDiff &gt; 1){\n\n                result = hourDiff + \" hrs ago\";\n\n            }\n\n        }\n\n    }\n\n    return result;\n}\n</code></pre>\n"},{"answer_id":43651657,"body":"<p>Please use JSR-310 (known as ThreeTen) which is currently the standard for Java. It provides classes like <code>Duration</code> or <code>ChronoUnit</code> that contain all necessary tools.</p>\n\n<p>E.g. <code>ChronoUnit.MONTHS.between()</code> will calculate span between 2 dates in months</p>\n"},{"answer_id":76297551,"body":"<h1>tl;dr</h1>\n<pre><code>Duration.between(\n    ZonedDateTime.of( \n        LocalDate.parse( input , DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ) ,\n        LocalTime.of( 15 , 45 , 0 ) ,\n        ZoneId.of( &quot;Africa/Casablanca&quot; ) \n    ) ,\n    ZonedDateTime.now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )  \n)\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>You have posted way too much code for me to parse thoroughly. But if I get the gist of it, this might help you…</p>\n<p>Use only <em>java.time</em> classes, never the terribly flawed legacy classes such as <code>Date</code>, <code>Calendar</code>, and <code>SimpleDateFormat</code>.</p>\n<p>Use <code>DateTimeFormatter</code> to define a formatting pattern matching your input.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ;\n</code></pre>\n<p>Parse as a <code>LocalDate</code>.</p>\n<pre><code>LocalDate ld = LocalDate.parse( input , f ) ;\n</code></pre>\n<p>Generate text representing that value, in standard ISO 8601 format.</p>\n<pre><code>String output = ld.toString() ;\n</code></pre>\n<p>Generate text representing that value, in your custom format.</p>\n<pre><code>String output = ld.format( f ) ;\n</code></pre>\n<p>Add your time-of-day and a time zone to determine a moment, a specific point on the timeline.</p>\n<pre><code>LocalTime lt = LocalTime.of( 12 , 30 , 0 ) ;\nZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\n</code></pre>\n<p>Calculate elapsed time on a scale of hours-minutes-seconds.</p>\n<pre><code>Duration duration = Duration.between( zdt , ZonedDateTime.now( z ) ) ;\n</code></pre>\n"}],"last_activity_date":1684673652,"question_id":43650443,"body":"<p>i have this code for calculate month and time difference but this code is giving wrong output \nits calculating 3 month even actual month difference is 1 when i test this code and same in time case please help where is the issue in this code....</p>\n\n<pre><code>    public static void updateLinkDownTimeDate(ObjectId TimeDateId, TimeDatePojo TimeDatePojo) {\n            try {\n                List&lt;DBObject&gt; array = new ArrayList&lt;&gt;();\n                BasicDBObject match = new BasicDBObject();\n                match.put(\"_id\", TimeDateId);\n                DBCollection collection = new MongoSetup().getDBCollection(\"TimeDate\");\n                DBObject obj = TimeDatePojo.bsomFromPojo();\n                String newId = (String) obj.get(\"linkId\");\n                SimpleDateFormat dates = new SimpleDateFormat(\"dd-MM-yyyy\");\n                String startDate = dates.format(obj.get(\"startDate\"));\n                String endDate = dates.format(obj.get(\"endDate\"));\n                Date SD = dates.parse(startDate);\n                Date ED = dates.parse(endDate);\n                Calendar cal = Calendar.getInstance();\n                cal.setTime(SD);\n                int month = cal.get(Calendar.MONTH);\n                int year = cal.get(Calendar.YEAR);\n\n                String startTime = (String) obj.get(\"startTime\"); //present start time\n                SimpleDateFormat forms = new SimpleDateFormat(\"dd-MM-yyyy\");\n                SimpleDateFormat form = new SimpleDateFormat(\"HH:mm:ss\");\n                Calendar currentStartDateCalendar = Calendar.getInstance();\n                currentStartDateCalendar.setTime(SD);\n                int currentSDate = currentStartDateCalendar.get(Calendar.DATE);\n                int currentStartMonth = currentStartDateCalendar.get(Calendar.MONTH);\n                int currentStartYear = currentStartDateCalendar.get(Calendar.YEAR);\n                Date STs = form.parse(startTime);\n                Calendar presentStartTime = Calendar.getInstance();\n                presentStartTime.setTime(STs);\n                int currentHour = presentStartTime.get(Calendar.HOUR);\n                int currentMin = presentStartTime.get(Calendar.MINUTE);\n                int currentSec = presentStartTime.get(Calendar.SECOND);\n                currentStartDateCalendar.set(currentStartYear, currentStartMonth, currentSDate, currentHour, currentMin, currentSec);\n                Date PSDate = currentStartDateCalendar.getTime();\n\n                String endTime = (String) obj.get(\"endTime\");  //present end time\n                Date ETs = form.parse(endTime);\n                Calendar currentEndDateCalender = Calendar.getInstance();\n                currentEndDateCalender.setTime(ED);\n                int currentEDate = currentEndDateCalender.get(Calendar.DATE);\n                int currentEndMonth = currentEndDateCalender.get(Calendar.MONTH);\n                int currentEYear = currentEndDateCalender.get(Calendar.YEAR);\n                Calendar presentEndTime = Calendar.getInstance();\n                presentEndTime.setTime(ETs);\n                int currentEndHour = presentEndTime.get(Calendar.HOUR);\n                int currentEndMin = presentEndTime.get(Calendar.MINUTE);\n                int currentEndSec = presentEndTime.get(Calendar.SECOND);\n                currentEndDateCalender.set(currentEYear, currentEndMonth, currentEDate, currentEndHour, currentEndMin, currentEndSec);\n                Date PEDate = currentEndDateCalender.getTime();\n                BasicDBObject getSavedDate = new BasicDBObject();\n                getSavedDate.append(\"_id\", linkDownTimeDateId);\n                getSavedDate.append(\"linkId\", newId);\n                DBObject seeSaved = collection.findOne(getSavedDate);\n                Date savedSDate = (Date) seeSaved.get(\"startDate\");\n                Date savedEDate = (Date) seeSaved.get(\"endDate\");\n                String savedStartTime = (String) seeSaved.get(\"startTime\");\n                String savedEndTime = (String) seeSaved.get(\"endTime\");\n                Date SSD = null;\n                Date SED = null;\n                if (savedSDate.compareTo(SD) == 0 &amp;&amp; savedEDate.compareTo(ED) == 0) {\n                    Calendar saveStartTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(savedSDate);\n                    int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\n                    int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\n                    int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\n                    Date SSTs = form.parse(savedStartTime);\n                    Calendar savedStartTimeCal = Calendar.getInstance();\n                    savedStartTimeCal.setTime(SSTs);\n                    int hour = savedStartTimeCal.get(Calendar.HOUR);\n                    int mins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int secs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\n                    SSD = saveStartTimeCalendar.getTime();\n                    Calendar saveEndTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(savedEDate);\n                    int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\n                    int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\n                    int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\n                    Date ESTs = form.parse(savedEndTime);\n                    Calendar savedEndTimeCal = Calendar.getInstance();\n                    savedEndTimeCal.setTime(ESTs);\n                    int endhour = savedStartTimeCal.get(Calendar.HOUR);\n                    int endmins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int endsecs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\n                    SED = saveEndTimeCalendar.getTime();\n                } else if (savedSDate.compareTo(SD) == -1 || savedEDate.compareTo(ED) == -1) {\n                    Calendar saveStartTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(SD);\n                    int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\n                    int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\n                    int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\n                    Date SSTs = form.parse(savedStartTime);\n                    Calendar savedStartTimeCal = Calendar.getInstance();\n                    savedStartTimeCal.setTime(SSTs);\n                    int hour = savedStartTimeCal.get(Calendar.HOUR);\n                    int mins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int secs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\n                    SSD = saveStartTimeCalendar.getTime();\n                    Calendar saveEndTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(ED);\n                    int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\n                    int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\n                    int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\n                    Date ESTs = form.parse(savedEndTime);\n                    Calendar savedEndTimeCal = Calendar.getInstance();\n                    savedEndTimeCal.setTime(ESTs);\n                    int endhour = savedStartTimeCal.get(Calendar.HOUR);\n                    int endmins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int endsecs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\n                    SED = saveEndTimeCalendar.getTime();\n                }\n                List&lt;DBObject&gt; lists = (List&lt;DBObject&gt;) seeSaved.get(\"linkDownTime\");\n                int down = 0;\n                for (DBObject dating : lists) {\n                    down = (int) dating.get(\"downTime\"); //saved down time\n                }\n                String startHour = \"00:00:00\";\n                String endHour = \"24:00:00\";\n                long minutesInOneDay = 1440;\n                int numberOfDays = 0;\n                long dateDifference = 0l;\n                int totalCalculatedMins = 0;\n                try {\n                    dateDifference = ED.getTime() - SD.getTime();\n                    long days = dateDifference / (24 * 60 * 60 * 1000);\n                    numberOfDays = (int) days;\n                    if (numberOfDays == 0) {\n                        int min = (int) minutesInOneDay;\n                        SimpleDateFormat format2 = new SimpleDateFormat(\"HH:mm:ss\");\n                        Date parsedStartTime = format2.parse(startTime);\n                        Date parsedEndTime = format2.parse(endTime);\n                        Date parsedOriginalStartHour = format2.parse(startHour);\n                        Date parsedOriginalEndHour = format2.parse(endHour);\n                        long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\n                        long excludedStartMins = minutesInOneDay - (excludeStartTime / (60 * 1000));\n                        int excludedMins = (int) excludedStartMins;\n                        long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\n                        long excludeEndMins = 1440 - (excludeEndTime / (60 * 1000));\n                        int excludeMins2 = (int) excludeEndMins;\n                        long calculation = min - excludedMins - excludeMins2;\n                        totalCalculatedMins = (int) calculation;\n                    } else {\n                        long minuetes = (minutesInOneDay * numberOfDays);\n                        int min = (int) minuetes;\n                        SimpleDateFormat format2 = new SimpleDateFormat(\"HH:mm:ss\");\n                        Date parsedStartTime = format2.parse(startTime);\n                        Date parsedEndTime = format2.parse(endTime);\n                        Date parsedOriginalStartHour = format2.parse(startHour);\n                        Date parsedOriginalEndHour = format2.parse(endHour);\n                        long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\n                        long excludedStartMins = excludeStartTime / (60 * 1000);\n                        int excludedMins = (int) excludedStartMins;\n                        long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\n                        long excludeEndMins = 1440 + (-(excludeEndTime / (60 * 1000)));\n                        int excludeMins2 = (int) excludeEndMins;\n                        long calculation = min + excludedMins - excludeMins2;\n                        totalCalculatedMins = (int) calculation;\n                    }\n                } catch (Exception e) {\n                    System.out.println(\"Exception being :-\" + e);\n                }\n                DBObject sub = new BasicDBObject();\n                sub.put(\"linkId\", newId);\n                sub.put(\"year\", year);\n                sub.put(\"month\", month);\n                sub.put(\"downTime\", totalCalculatedMins);\n                array.add(sub);\n                obj.put(\"linkDownTime\", array);\n                BasicDBObject update = new BasicDBObject();\n                update.put(\"$set\", obj);\n                collection.update(match, update, true, false);\n                BasicDBObject newQuery = new BasicDBObject(\"linkId\", obj.get(\"linkId\"))\n                        .append(\"startDate\", obj.get(\"startDate\"))\n                        .append(\"endDate\", obj.get(\"endDate\"));\n                DBObject findNewQuery = collection.findOne(newQuery);\n                DBCollection collection2 = new MongoSetup().getDBCollection(\"linkTotalDownTime\");\n                List&lt;DBObject&gt; list = (List&lt;DBObject&gt;) findNewQuery.get(\"linkDownTime\");\n                for (DBObject data : list) {\n                    String linkId = (String) data.get(\"linkId\");\n                    int years = (int) data.get(\"year\");\n                    int months = (int) data.get(\"month\");\n                    int downTime = (int) data.get(\"downTime\"); // current downTime \n\n                    BasicDBObject look = new BasicDBObject();\n                    look.append(\"linkID\", linkId).append(\"Year\", year).append(\"month\", month);\n                    DBObject findData = collection2.findOne(look);\n                    int dataget = (int) findData.get(\"totaldownTime\"); //totaldowntime \n                    int finalValue = 0;\n                    int finalTotalValue = 0;\n                    if (collection2.count() == 1) {\n                        if (PSDate.compareTo(SSD) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        } else if (PSDate.compareTo(SSD) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        }\n                    } else if (collection2.count() &gt; 1) {\n                        if (PSDate.compareTo(SSD) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        } else if (PSDate.compareTo(SSD) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        }\n                    }\n                    BasicDBObject update_two = new BasicDBObject();\n                    update_two.put(\"linkID\", linkId);\n                    update_two.put(\"Year\", years);\n                    update_two.put(\"month\", months);\n                    update_two.put(\"totaldownTime\", finalTotalValue);\n                    collection2.update(findData, update_two, true, false);\n                }\n                System.out.println(\"Updated Successfully ...\");\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n</code></pre>\n"},{"comments":[{"comment_id":93362265,"body":"Just for the record: you understand that a prerequisite for binary search is that your array/list is already sorted? Is that the case here?"},{"comment_id":93362298,"body":"&quot;I was too lazy&quot; you are supremely lazy if you can&#39;t be bothered to do s/eihcle/ehicle/g."},{"comment_id":93362382,"body":"@AndyTurner yes :)"},{"comment_id":93362389,"body":"@GhostCat apologies, see the edited question."}],"answers":[{"answer_id":53238111,"body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Collections#binarySearch</code></a> searches a <code>List</code> for the same type of value that the list holds. Here, you're trying to search a list of vehicles with a string, and thus getting the error your shared.<br/>\nOne approach is to create a fake vehicle just so its model can be searched:</p>\n<pre><code>Vehicle modelDummy = new Vehicle();\nmodelDummy.setModel(search);\nint index = Collections.binarySearch(vehicles, modelDummy, comp);\n</code></pre>\n<p>Note that in order to use <code>binarySearch</code> like that the list must be sorted according to the <code>Comparator</code> you provide (i.e., sorted according to the model in this case). If this assumption is not true, you'll have to use an O(n) search. E.g.:</p>\n<pre><code>Vehicle vehicle = vehicles.stream().filter(v -&gt; v.getModel().eqauls(search)).findFirst();\n</code></pre>\n"},{"answer_id":53238223,"body":"<p>Create a view of the list:</p>\n\n<pre><code>List&lt;String&gt; view = new AbstractList&lt;String&gt;() {\n  @Override public int size() {\n    return vehicles.size();\n  }\n\n  @Override public String get(int i) {\n    return vehicles.get(i).getModel();\n  }\n};\n</code></pre>\n\n<p>Then apply binary search to the view.</p>\n\n<pre><code>int index = Collections.binarySearch(view, search);\n</code></pre>\n\n<p>Note that whilst it would work using an anonymous class, like this, it would be better to define a named class (e.g. a nested class, or even a local class), in order that it can both <code>extend AbstractList</code> and <code>implement RandomAccess</code>, so that the binary search knows it can access efficiently by index.</p>\n"},{"comments":[{"comment_id":134557853,"body":"OR one more - consider search value in sorting (output them always on top, for example),  without binarySearch()."}],"answer_id":76299961,"body":"<p>Since this branch contains both correct solutions and it is both forbidden to use in my task, I will write my own, at the same time I will ask people to evaluate whether it is correct (the decision was made, tests passed)?\nIf you looking for vehicles by model(String model):</p>\n<pre><code>int index = Collections.binarySearch(vehicles, model, new Comparator&lt;Object&gt;(){\n        @Override\n        public int compare(Object o1, Object o2) {\n            Vehicle veh = (Vehicle)o1;\n            String str = (String) o2;\n            return veh.getModel().compareTo(str);\n        }\n    });\n</code></pre>\n<p>What do you think?</p>\n"}],"last_activity_date":1684673205,"question_id":53238038,"body":"<p>I have tried all the answers from the related questions, like following:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40196002/implement-binary-search-using-the-collections-binarysearch-signature\">Implement binary search using the `Collections.binarySearch` signature</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30743531/cant-use-binary-search-with-object-arraylist\">Can&#39;t use binary search with Object Arraylist?</a></p>\n\n<p>But none of them have worked for me.</p>\n\n<p>The thing is that I want to do <code>binarySearch()</code> to find an object with a particular attribute in an <code>ArrayList</code>.</p>\n\n<p>I am using the following code for this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class SearchingThread extends Thread {\n\n    private String search;\n    private ArrayList&lt;Vehicle&gt; vehicles;\n\n    public SearchingThread(String search, ArrayList&lt;Vehicle&gt; vehicles) {\n        this.search = search;\n        this.vehicles = vehicles;\n    }\n\n    public void run() {\n\n        Comparator&lt;Vehicle&gt; comp = new Comparator&lt;Vehicle&gt;() {\n\n            @Override\n            public int compare(Vehicle o1, Vehicle o2) {\n                return o1.getModel().compareTo(o2.getModel());\n            }\n\n        };\n\n        int index = Collections.binarySearch(vehicles, search, comp);\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>Here <code>search</code> is the variable with the <code>model</code> that I want to search in the ArrayList <code>vehicles</code>.</p>\n\n<p>I am getting the following error for this:</p>\n\n<blockquote>\n  <p>The method binarySearch(List, T, Comparator) in the type Collections is not applicable for the arguments (ArrayList, String, Comparator)</p>\n</blockquote>\n\n<p>I am not able to use it, can anyone help me understand the cause and solution to the error.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Sorry for not posting this before, sorting is not an issue. I have sorted the array list accordingly beforehand.</p>\n"},{"comments":[{"comment_id":134514958,"body":"Is that the password for the gmail account?  or an apps password?  is there any more to the error message?"},{"comment_id":134517060,"body":"No it&#39;s not my password. I recovered the password from the gmail account from the &quot;Application passwords&quot; section. About the error, it just displays this warning in the console, no error"}],"answers":[{"comments":[{"comment_id":134532053,"body":"I tried this option and tested sending email with groovy in hac and it worked. but when I use the email process in hybris, there is always this warning."},{"comment_id":134537074,"body":"please share full stack trace of the logs."}],"answer_id":76289287,"body":"<p><strong>Cause</strong></p>\n<p>Sometimes, Google will disable access to less secure or other apps to protect your account from potential vulnerabilities. This setting can be turned off, or two factor authentication can be enabled for the account <code>(recommended)</code>.</p>\n<p><strong>Resolution</strong></p>\n<p><code>In most cases the issue can be resolved by setting up two-step verification on Google.</code></p>\n<p>Enable two-step verification for the account via this link : Google Two Steps Verification.</p>\n<p>Generate a specific password via this link : Google Specific Passwords.</p>\n<p>Use the generated specific password in configuration below:\nmail.smtp.password=&lt;&quot;generated specific password&quot;&gt;</p>\n<p>See Also</p>\n<p><a href=\"https://support.google.com/mail/answer/7126229?visit_id=636795778044562052-2774445042&amp;rd=2#cantsignin\" rel=\"nofollow noreferrer\">https://support.google.com/mail/answer/7126229?visit_id=636795778044562052-2774445042&amp;rd=2#cantsignin</a></p>\n<p>Alternate way to test email functionality locally:</p>\n<p><a href=\"https://groundlevelhybris.wordpress.com/2020/03/20/email-not-getting-triggered-in-hybris-local-environment/\" rel=\"nofollow noreferrer\">https://groundlevelhybris.wordpress.com/2020/03/20/email-not-getting-triggered-in-hybris-local-environment/</a></p>\n"}],"last_activity_date":1684673142,"question_id":76280002,"body":"<p>I am trying to send an email with sap commerce.\nI have well configured the <strong><code>local.properties</code></strong> of the config extension</p>\n<pre><code>mail.smtp.server=smtp.gmail.com\n\nmail.smtp.host=smtp.gmail.com\nmail.smtp.port=587\nmail.from=sapcommerce14@gmail.com\nmail.smtp.ssl.protocols=TLSv1.2\n\nmail.smtp.user=sapcommerce14@gmail.com\nmail.smtp.password=********\n\nmail.smtp.starttls.enable=true\nmail.smtp.auth=true\n</code></pre>\n<p>but after the execution of the job and when sending the email a warning is displayed</p>\n<blockquote>\n<p>e-mail is sent to sourour siala</p>\n<p>from email page : sapcommerce14@gmail.com</p>\n<p>DiscountNotificationEmailContext init</p>\n<p>INFO  [TaskExecutor-master-21338-ProcessTask [8796928541622]] [GenerateEmailAction] Email message generated</p>\n<p>INFO  [TaskExecutor-master-21341-ProcessTask [8796928574390]] [DefaultEmailService] Sending Email [8796294879296] To [[sourour.siala@enis.tn]] From [sapcommerce14@gmail.com] Subject [Exclusive Promotions on Our Products - Don't Miss Out!!  ]</p>\n<p>WARN  [TaskExecutor-master-21341-ProcessTask [8796928574390]] [DefaultEmailService] Could not send e-mail pk [8796294879296] subject [Exclusive Promotions on Our Products - Don't Miss Out!!\n] cause: Sending the email to the following server failed : smtp.gmail.com:587</p>\n</blockquote>\n<p>Here are the steps of my work</p>\n<ol>\n<li><p>I created a &quot;ListFavoritesProcess&quot; model  extends &quot;StoreFrontCustomerProcess&quot; with one attribute</p>\n<pre><code>&lt;attribute qualifier=&quot;products&quot; type=&quot;ProductList&quot;&gt;\n &lt;persistence type=&quot;property&quot; /&gt;\n &lt;description&gt;Attribute contains the products that will be used in the process&lt;/description&gt;\n&lt;/attribute&gt;\n</code></pre>\n</li>\n<li><p>then I created the process.xml file</p>\n</li>\n<li><p>then I created a class to start the process</p>\n<pre><code>public Boolean discountNotificationEmailprocess(final CustomerModel customer, final Set&lt;ProductModel&gt; products)\n{\nBoolean bool = false;\nif ((customer != null) &amp;&amp; CollectionUtils.isNotEmpty(products))\n{\n    final ListFavoritesProcessModel listFavoritesProcessModel = getBusinessProcessService()\n     .createProcess(&quot;listFavoritesProcessModel-&quot; + customer.getUid() + &quot;-&quot;System.currentTimeMillis() + &quot;-&quot;+ Thread.currentThread().getId(), &quot;DiscountNotificationEmailProcess&quot;);\nlistFavoritesProcessModel.setCustomer(customer);\n         listFavoritesProcessModel.setStore(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;));\n         listFavoritesProcessModel.setSite(getBaseSiteService().getBaseSiteForUID(&quot;electronics&quot;));\n         listFavoritesProcessModel.setLanguage(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;).getDefaultLanguage());\n         listFavoritesProcessModel.setCurrency(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;).getDefaultCurrency());\nlistFavoritesProcessModel.setProducts(new ArrayList&lt;ProductModel&gt;(products));\ngetModelService().save(listFavoritesProcessModel);\ngetBusinessProcessService().startProcess(listFavoritesProcessModel);\nbool = true;\n}\nreturn bool;\n}\n</code></pre>\n</li>\n<li><p>then I created the context which extends from AbstractEmailContext&lt;ListFavoritesProcessModel&gt;</p>\n<pre><code>@Override\npublic void init(final ListFavoritesProcessModel listFavoritesProcessModel, final EmailPageModel emailPageModel)\n{\nsuper.init(listFavoritesProcessModel, emailPageModel);\nproducts = new ArrayList&lt;&gt;();\nfinal List&lt;ProductModel&gt; productsModel = listFavoritesProcessModel.getProducts();\nproductsModel.forEach(productModel -&gt; {\nfinal ProductData productData = getProductFacade().getProductForOptions(productModel,\nArrays.asList(ProductOption.BASIC, ProductOption.PRICE, ProductOption.STOCK, ProductOption.PROMOTIONS));\nproducts.add(productData);\n});\nput(EMAIL, getCustomerEmailResolutionService().getEmailForCustomer(getCustomer(listFavoritesProcessModel)));\nput(DISPLAY_NAME, listFavoritesProcessModel.getCustomer().getName());\nput(FROM_EMAIL, Config.getParameter(&quot;mail.smtp.user&quot;));\nput(FROM_DISPLAY_NAME, &quot;sap&quot;);\nSystem.out.println(&quot;DiscountNotificationEmailContext init&quot;);\n}\n</code></pre>\n</li>\n</ol>\n"},{"answers":[{"answer_id":76299948,"body":"<p>Wrong spelling of of the entity field <code>userName</code>.</p>\n<pre><code>&lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p>Should be:</p>\n<pre><code>&lt;td th:text=&quot;${user.userName}&quot;&gt;&lt;/td&gt;\n</code></pre>\n"}],"last_activity_date":1684672810,"question_id":76299822,"body":"<p>I have the following controller</p>\n<pre><code>package com.website.school;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users&quot;)\n    public String index(Model model) {\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\n        return &quot;users&quot;;\n    }\n}\n\n</code></pre>\n<p>and a users.html file</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;h1&gt;ljkñafsñjafnjdfbhjñsdbfjñsdfvhjsdf&lt;/h1&gt;\n        &lt;table class=&quot;table&quot;&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;Email&lt;/th&gt;\n                    &lt;th&gt;Name&lt;/th&gt;\n                    &lt;th&gt;Username&lt;/th&gt;\n                    &lt;th&gt;Password&lt;/th&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\n                    &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<p>But whenever I run my application and navigate to /users I get the following error</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\n</code></pre>\n<p>If I comment out the tbody the page loads as expected\nI also know that I have a connection with my database because I made a test class that is a RestController and it returns the json I expected</p>\n<h3>My service class</h3>\n<pre><code>package com.website.school;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n    \n    @Autowired\n    private UserRepository userRepository;\n\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n}\n\n</code></pre>\n<h3>My Model class</h3>\n<pre><code>package com.website.school;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;user&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;isAdmin&quot;)\n    private boolean isAdmin;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n\n</code></pre>\n<h3>My repository</h3>\n<pre><code>package com.website.school;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":123509384,"body":"You got the right idea, the webdriver wasn&#39;t instantiated, but you missed the reason why."},{"comment_id":123528924,"body":"Thats great thank you so much."}],"answer_id":69870148,"body":"<p>The casting of the Webdriver interface with Chromedriver has only been declared in your @Before step (where it is not used), the other steps are unaware. Amend to the following:</p>\n<pre><code>public class hotelBookingFormPage {\n\n    public WebDriver driver = new ChromeDriver();\n\n    @Before\n    public void startBrowser() {\n        WebDriverManager.chromedriver().setup();\n    }\n\n    @After\n    public void closeBrowser() {\n        driver.close();\n        driver.quit();\n    }\n\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\n    public void iNavigateToTheHotelBookingFormPage() {\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\n    }\n</code></pre>\n"},{"comments":[{"comment_id":123528931,"body":"Thats great thank you so much."}],"answer_id":69871192,"body":"<pre><code>import org.junit.After;\nimport org.junit.Before;\n</code></pre>\n<p>With this you're importing the JUnit hook annotations, not the Cucumber ones. So Cucumber doesn't know you want to run the annotated methods before and after each scenario.</p>\n<p>Cucumbers annotations are in a different package:</p>\n<pre><code>import io.cucumber.java.en.Before;\nimport io.cucumber.java.en.After;\n</code></pre>\n"},{"comments":[{"comment_id":134551232,"body":"Please adjust code block, so it looks correctly (the first string and the end bracket)"}],"answer_id":76299942,"body":"<p>public class BaseClass {</p>\n<pre><code>//every time we need to open url and browser so we need to create variable for url an dbrowser \n//we have to read url and browser so in base class create object of ReadConfigue class\n\nReadConfigue readconfigue=new ReadConfigue();\n String url=readconfigue.getbaseurl();   //store getbaseurl and getbrowser in string \n String browser=readconfigue.getbrowser();\n public static WebDriver driver;\n public static Logger logger;\n \n \n //create method of launch broswer \n @BeforeClass\n public void setup() \n {\n     String  browser=&quot;Chrome&quot;;\n     switch(browser.toLowerCase())\n     {\n     case &quot;Chrome&quot;:\n         WebDriverManager.chromedriver().setup();\n         driver=new ChromeDriver();\n         break;\n         \n/*   case &quot;msedge&quot;:\n         WebDriverManager.edgedriver().setup();\n         driver=new EdgeDriver();\n         break;\n\n     case &quot;firefox&quot;:\n         WebDriverManager.firefoxdriver().setup();\n         driver=new FirefoxDriver();\n         break; */\n         default:\n         driver=null;\n         break;\n         \n     }\n     driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    \n     // for logging create object of logger\n     //create static varible of logger  outside class and intitize here\n     logger =LogManager.getLogger(&quot;AutomationFramework&quot;);\n     \n }\n\n @AfterClass\n public void tearDown() \n {\n     driver.close();\n     driver.quit();\n }\n</code></pre>\n"}],"last_activity_date":1684672729,"question_id":69868702,"body":"<p>I am getting the error below. I am new to Java and thus any help would be appreciated.</p>\n<p><code>Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null</code></p>\n<p>Please see the code below:</p>\n<pre><code>package steps;\n\nimport io.cucumber.java.en.Given;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class hotelBookingFormPage {\n\n    public WebDriver driver;\n\n    @Before\n    public void startBrowser() {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n    }\n\n    @After\n    public void closeBrowser() {\n        driver.close();\n        driver.quit();\n    }\n\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\n    public void iNavigateToTheHotelBookingFormPage() {\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\n    }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"comments":[{"comment_id":134548099,"body":"<a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+java+classnotfoundexception+com.mysql.jdbc.driver\" rel=\"nofollow noreferrer\">12,000+ similar questions</a>"},{"comment_id":134556547,"body":"The fact you can connect to MySQL from NetBeans itself doesn&#39;t say anything about the ability to connect from a program written in NetBeans. Your project doesn&#39;t have the MySQL Connector/J driver on its build path or classpath, so the driver isn&#39;t there when you run your application."}],"last_activity_date":1684672606,"question_id":76299904,"body":"<p>How to fix java.lang.classnotfoundexception com.mysql.jdbc.driver</p>\n<p>The database connection is successful, but the login page comes with an error when I run the login.java file. How to fix it.</p>\n<p><a href=\"https://i.stack.imgur.com/Oxg3P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oxg3P.png\" alt=\"Login.java\" /></a>\n<a href=\"https://i.stack.imgur.com/To3P8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/To3P8.png\" alt=\"Database connection java file\" /></a>\n<a href=\"https://i.stack.imgur.com/HUx5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HUx5x.png\" alt=\"Database connection successful\" /></a> I used java language, MySQL database and XAMPP server in localhost.</p>\n"},{"comments":[{"comment_id":39611104,"body":"No. You cannot access arbitrary memory in Java. But, you can share memory between two JVMs. Use JNI and ipcs. Or sockets over loopback."},{"comment_id":39611122,"body":"AFAIK, there&#39;s nothing built into the core API.  You could use <code>Socket</code>s to communicate between each other or even via a third party"},{"comment_id":39611123,"body":"who JVMs or two JVMs??? please correct the question title."},{"comment_id":39611136,"body":"No, even if this was one JVM you can not access a pre-defined memory location.  You can <code>share</code> memory space by using a multi-tenanted JVM like waratek"},{"comment_id":39611284,"body":"You can think of serializing the objects into a file and refer it from the other jvm"},{"comment_id":39611359,"body":"What is your purpose of doing. If you want to share info between two jvms , then you can go for a RMI."},{"comment_id":39611382,"body":"Depending on the use case, it may be possible to use memory mapped IO to achieve something roughly similar to shared memory. See <a href=\"http://www.javacodegeeks.com/2013/05/power-of-java-memorymapped-file.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2013/05/power-of-java-memorymapped-file.ht&zwnj;&#8203;ml</a>"},{"comment_id":39611723,"body":"Why do you want to do this? If it&#39;s so performance-critical that a Unix socket won&#39;t work, Java is probably the wrong choice."}],"answers":[{"comments":[{"comment_id":53317188,"body":"&quot;arbitrary memory locations&quot;, yes, <i>as long as you stay within the same process</i>. No OS will let any process read memory from another process! (except for some specific embedded OS). The paging is not the same: <code>0x3f7e</code> is not the same physical address for all processes."},{"comment_id":53508539,"body":"@Matthieu: completely untrue. You can read arbitrary memory locations completely unrestricted."},{"comment_id":53513712,"body":"Did you try your solution? There are ways to hack into another process memory (see <a href=\"http://stackoverflow.com/questions/6016156/accessing-memory-of-other-applications-c\">that other question</a>) but it is very OS specific and needs special privileges. In the end, as you note, it is highly unrecommended. Moreover, the JNI-side has a different memory mapping than the Java-side (arrays can be copied back and forth), which makes it even more difficult to compute the correct hacking address."},{"comment_id":53520189,"body":"@Matthieu: Hacking address? You&#39;d use JNI in both Java programs to call the implementation of the header I gave. One will write, one will read. Is this location what you call &quot;hacking address&quot;?"},{"comment_id":53524054,"body":"What I mean is the two JVM will use different virtual address spaces so data at address e.g. <code>0x3f7e</code> in JVM1 is not the same as data at address <code>0x3f7e</code> in JVM2. From JVM2, if you want to read data from the heap of JVM1, you should get JVM1 PID, copy its heap locally (if you get the permission) and read the data you want at an address that would probably be <code>0x3f7e</code> but maybe not. That&#39;s what I call &quot;hacking address&quot; (<code>0x3f7e</code> in JVM1 seen from JVM2 can be something different from <code>0x3f7e</code>)."},{"comment_id":53524136,"body":"Now that you mention it I&#39;m thinking about opening a new question on that specific topic, I think it is highly OS-dependent :)"},{"comment_id":70758337,"body":"@vach  Care to teach us here how to write to shared memory accessible to different <code>processes</code> via <code>pure java</code> ?  If not then lose the attitude."},{"comment_id":70764324,"body":"Basically the access to shared memory world comes with RandomAccessFile, which allows you to write randomly from process A, but for process B to see your write, it needs to have some sort of busy loop that checks the memory for changes... its up to you to decide how fast you want to see changes, fastest being no delay loop, that will be fastest possible way for 2 processes to communicate via shared memory. However if you dont want to spend some processing power on that, you can simply put some microsecond sleep delay in loop."},{"comment_id":70764338,"body":"Peter Lawrey did a lot in this area. I learned most of what i know from his videos. Note that this sort of speed is 90% not needed in most applications, but in HFT world its a necessity. I was very surprised when i found out that people are doing with java same stuff that was done with C++ before..."},{"comment_id":70764351,"body":"If you want to go down the rabbit hole here is where you start 1. <a href=\"https://www.youtube.com/watch?v=JMEVi_t38uc\" rel=\"nofollow noreferrer\">youtube.com/watch?v=JMEVi_t38uc</a> 2. <a href=\"https://www.youtube.com/watch?v=lWvZDZ-oRt0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=lWvZDZ-oRt0</a>"},{"comment_id":70764402,"body":"People who code in low level world fail to realize that nowadays most of their expert knowledge is applied automatically in JVM as it will optimize an amateur code to a very fast and efficient assembly. Something that really experienced low level engineer will do with significant effort, now is done by any average java developer without him knowing all the low level tricks. However java still has things to do to fully match with Cpp, like value types... This is why performance penalty for using high level language goes down over time."},{"comment_id":90100207,"body":"@Xabster the .dlls will have different addressing spaces (hence different data) and the only way to share memory through them is by using a memory-mapped file, which comes associated with synchronization and etc. I suppose through running a quick sample you might end up thinking you&#39;re reading data from other processes, but in reality all you&#39;re reading is junk left over from discarded page memories that are reused by the .dll. Also, global static variables in .dlls are copied into each process at startup."},{"comment_id":103439263,"body":"So basically the poster thinks that in C this code: <code>int address = 0x01234; int value = *address;</code> will read the value that is stored at physical address 0x01234? Basic security in modern OS (where modern here means &gt; 1990) is based on logical to physical address mapping, and no user-level application can access random physical address."},{"comment_id":108560771,"body":"No modern OS will allow one process to access the memory address space of another.  As the address space of a process is virtual, the actual memory which one process addresses as 0xABCD is different than what any other process addresses as 0xABCD.  The only way for two processes to communicate is with some mechanism explicitly provided by the OS for that purpose (pipes, memory mapped files, etc.).  Of those, java only supports memory mapped files."}],"answer_id":25396866,"body":"<p>Yes,</p>\n<p>with an intermediate program you can write to and read arbitrary memory locations. You cannot do it purely in Java.</p>\n<p>For example you can write a piece of C++ code that can read an arbitrary memory location and call that via JNI. The same is true in reverse to write to a memory address.</p>\n<p>Write a class definition first for the class that should handle this, for example:</p>\n<pre><code>public class MemTest {\n    public native byte[] readMemory(int address);\n    public native void writeMemory(int address, byte[] values);\n}\n</code></pre>\n<p>Then you compile it. Then you use javah.exe (or linux equivalent) to generate a header for it:</p>\n<pre><code>javah MemTest\n</code></pre>\n<p>Now you write a .cpp file that includes that header and defines the methods. Compile to DLL. To load the .dll you either use the <code>-Djava.library.path</code> JVM parameter with appropriate value, or <code>System.loadLibrary()</code>.</p>\n<p>Note of caution: I do not recommend doing this. There are almost certainly better ways to do what you want to do.</p>\n"},{"comments":[{"comment_id":76188404,"body":"Can you give an example C client to read the data of the Server?"},{"comment_id":76403045,"body":"@Qoros C would require OS specific APIs to deal with memory mapped files, such as mmap or VirtualAlloc. Otherwise the code would look fairly similar. Open the file, map it into the process, then read and write to the returned pointer."},{"comment_id":120972780,"body":"so is this creating a physical file? I don&#39;t want to kill people&#39;s hard drives by constantly streaming read/write onto a disk"},{"comment_id":127896405,"body":"@nullsector76 Exactly (yes, it is creating a physical file). This is keeping me from using this too. You could use a RAM disk, but I don&#39;t think there is a portable way to create a RAM disk in Java. Also, how do you signal something to the other process, e.g. when new data was written, and for synchronisation (if you need that)? There is no mechanism for that either, so you would need to use some sockets additionally."}],"answer_id":25397240,"body":"<h2><strong>Solution 1:</strong></h2>\n\n<p>The best solution in my opinion is to use memory mapped files. This allows you to share a region of memory between any number of process, including other non java programs. You can't place java objects into a memory mapped file, unless you serialize them. The following example shows that you can communicate between two different process, but you would need to make it much more sophisticated to allow better communication between the processes. I suggest you look at Java's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/package-summary.html\">NIO package</a>, specifically the classes and methods used in the below examples.</p>\n\n<p><strong>Server:</strong></p>\n\n<pre><code>public class Server {\n\n    public static void main( String[] args ) throws Throwable {\n        File f = new File( FILE_NAME );\n\n        FileChannel channel = FileChannel.open( f.toPath(), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE );\n\n        MappedByteBuffer b = channel.map( MapMode.READ_WRITE, 0, 4096 );\n        CharBuffer charBuf = b.asCharBuffer();\n\n        char[] string = \"Hello client\\0\".toCharArray();\n        charBuf.put( string );\n\n        System.out.println( \"Waiting for client.\" );\n        while( charBuf.get( 0 ) != '\\0' );\n        System.out.println( \"Finished waiting.\" );\n    }\n}\n</code></pre>\n\n<p><strong>Client:</strong></p>\n\n<pre><code>public class Client {\n\n    public static void main( String[] args ) throws Throwable {\n        File f = new File( FILE_NAME );\n        FileChannel channel = FileChannel.open( f.toPath(), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE );\n\n        MappedByteBuffer b = channel.map( MapMode.READ_WRITE, 0, 4096 );\n        CharBuffer charBuf = b.asCharBuffer();\n\n        // Prints 'Hello server'\n        char c;\n        while( ( c = charBuf.get() ) != 0 ) {\n            System.out.print( c );\n        }\n        System.out.println();\n\n        charBuf.put( 0, '\\0' );\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<h2><strong>Solution 2:</strong></h2>\n\n<p>Another solution is to use Java <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\">Sockets</a> to communicate back and forth between processes. This has the added benefit of allowing communication over a network very easily. It could be argued that this is slower than using memory mapped files, but I do not have any benchmarks to back that statement up. I won't post code to implementing this solution, as it can become very complicated to implement a reliable network protocol and is fairly application specific. There are many good networking sites that can be found with quick searches.</p>\n\n<hr>\n\n<p>Now the above examples are if you want to share memory between two different process. If you just want to read/write to arbitrary memory in the current process, there are some warnings you should know first. This goes against the entire principle of the JVM and you really really should not do this in production code. You violate all safety and can very easily crash the JVM if you are not very careful. </p>\n\n<p>That being said, it is quite fun to experiment with. To read/write to arbitrary memory in the current process you can use the <code>sun.misc.Unsafe</code> class. This is provided on all JVMs that I am aware of and have used. An example on how to use the class can be found <a href=\"http://mishadoff.github.io/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/\">here</a>.</p>\n"},{"answer_id":25397943,"body":"<p>Honestly, you don't want to share the same memory. You should send only the data that you need to the other JVM. That being said, in the case you <em>do</em> need the shared memory, other solutions exist.</p>\n\n<p><strong>Sending Data</strong>\nTwo JVMs do not share the same memory access points, so it is impossible to use a reference from one JVM to use in another. A new reference will simply be create because they don't know about each other. </p>\n\n<p>However, you may ship the data to the other JVM, and back in a variety of ways:</p>\n\n<p>1) Using <a href=\"http://docs.oracle.com/javase/tutorial/rmi/designing.html\" rel=\"nofollow noreferrer\">RMI</a>, you can setup a remote server to parse data. I found it a bit of a hassle to set up because it requires security changes and that the data be <code>Serializable</code>. You can find out more at the link.</p>\n\n<p>2) Using a server is the age-old method of sending data to different places. One way to implement this is using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\" rel=\"nofollow noreferrer\"><code>ServerSocket</code></a> and connecting with a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html\" rel=\"nofollow noreferrer\"><code>Socket</code></a> on <code>localhost</code>. Objects still need to be <code>Serializable</code> if you want to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html\" rel=\"nofollow noreferrer\"><code>ObjectOutputStream</code></a>.</p>\n\n<hr>\n\n<p><strong>Sharing Data</strong>\nThis is very dangerous and volatile, low-level, and, well, unsafe (literally).</p>\n\n<p>If you want to use Java code, you can take a look at using <a href=\"https://stackoverflow.com/a/25257911/3308999\"><code>s.m.Unsafe</code></a>, using the correct memory addresses, you will be able to retrieve Objects stored by the backing C/C++ arrays in the OS.</p>\n\n<p>Otherwise, you can use <code>native</code> methods to access the C/C++ arrays yourself, although I have no clue how this could be implemented.</p>\n"},{"answer_id":38290547,"body":"<p>There are some IPC libraries which facilitate use of shared memory via memory-mapped files in Java.</p>\n\n<h3><a href=\"https://github.com/OpenHFT/Chronicle-Queue\" rel=\"noreferrer\">Chronicle-Queue</a></h3>\n\n<p>Chronicle Queue is similar to a non-blocking Java <code>Queue</code>, except you could offer a message in one JVM and poll it in another JVM.</p>\n\n<p>In both JVMs you should create a <code>ChronicleQueue</code> instance in the same FS directory (locate this directory in a memory-mounted FS if you don't need message persistence):</p>\n\n<pre><code>ChronicleQueue ipc = ChronicleQueueBuilder.single(\"/dev/shm/queue-ipc\").build();\n</code></pre>\n\n<p>Write a message in one JVM:</p>\n\n<pre><code>ExcerptAppender appender = ipc.acquireAppender();\nappender.writeDocument(w -&gt; {\n    w.getValueOut().object(message);\n});\n</code></pre>\n\n<p>Read a message in another JVM:</p>\n\n<pre><code>ExcerptTailer tailer = ipc.createTailer();\n// If there is no message, the lambda, passed to the readDocument()\n// method is not called.\ntailer.readDocument(w -&gt; {\n    Message message = w.getValueIn().object(Message.class);\n    // process the message here\n});\n\n// or avoid using lambdas\ntry (DocumentContext dc = tailer.readingDocument()) {\n    if (dc.isPresent()) {\n        Message message = dc.wire().getValueIn().object(Message.class);\n        // process the message here\n    } else {\n        // no message\n    }\n}\n</code></pre>\n\n<h3><a href=\"https://github.com/real-logic/Aeron\" rel=\"noreferrer\">Aeron IPC</a></h3>\n\n<p>Aeron is more than just IPC queue (it is a network communication framework), but it provides an IPC functionality as well. It is similar to Chronicle Queue, one important difference is that it uses <a href=\"https://github.com/real-logic/simple-binary-encoding\" rel=\"noreferrer\">SBE</a> library for message marshalling/demarshalling, while Chronicle Queue uses <a href=\"https://github.com/OpenHFT/Chronicle-Wire\" rel=\"noreferrer\">Chronicle Wire</a>.</p>\n\n<h3><a href=\"https://github.com/OpenHFT/Chronicle-Map\" rel=\"noreferrer\">Chronicle Map</a></h3>\n\n<p>Chronicle Map allows IPC communication by some key. In both JVMs, you should create a map with identical configurations and persisted to the same file (the file should be localed in memory-mounted FS if you don't need actual disk persistence, e. g. in <code>/dev/shm/</code>):</p>\n\n<pre><code>Map&lt;Key, Message&gt; ipc = ChronicleMap\n    .of(Key.class, Message.class)\n    .averageKey(...).averageValue(...).entries(...)\n    .createPersistedTo(new File(\"/dev/shm/jvm-ipc.dat\"));\n</code></pre>\n\n<p>Then in one JVM you could write:</p>\n\n<pre><code>ipc.put(key, message); // publish a message\n</code></pre>\n\n<p>On the reciever JVM:</p>\n\n<pre><code>Message message = ipc.remove(key);\nif (message != null) {\n    // process the message here\n}\n</code></pre>\n"},{"answer_id":38290745,"body":"<p><a href=\"https://en.wikipedia.org/wiki/Distributed_cache\" rel=\"nofollow noreferrer\">Distributed_cache</a> is best solution to address your requirements.</p>\n<blockquote>\n<p>In computing, a distributed cache is an extension of the traditional concept of cache used in a single locale. A distributed cache may span multiple servers so that it can grow in size and in transnational capacity.</p>\n</blockquote>\n<p>Few options:</p>\n<p><a href=\"https://www.terracotta.org/\" rel=\"nofollow noreferrer\">Terracotta</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Oracle_Coherence\" rel=\"nofollow noreferrer\">Oracle_Coherence</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Ehcache\" rel=\"nofollow noreferrer\">Ehcache</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Redis\" rel=\"nofollow noreferrer\">Redis</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Couchbase_Server\" rel=\"nofollow noreferrer\">Couchbase_Server</a></p>\n<p>Useful posts:</p>\n<p><a href=\"https://stackoverflow.com/questions/2761168/what-is-terracotta\">What is Terracotta?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/2761177/is-terracotta-a-distributed-cache\">Is Terracotta a distributed cache?</a></p>\n<p>For my use case with concurrent heavy writes and reads, Terracotta shown best performance compared to other alternatives. But this result may vary based on your business use cases.</p>\n<ol>\n<li>How many writes?</li>\n<li>How may reads?</li>\n<li>Cache Size.</li>\n</ol>\n"},{"comments":[{"comment_id":81096440,"body":"Unfortunately, this won&#39;t work. The address space for each process is virtual. That is, process one&#39;s address 0x400000 will not map to the same physical address as process two&#39;s address 0x400000. So it is not possible to map addresses directly between two processes in the way you are suggesting. The way to do it is via memory-mapped files, as the accepted answer explains."},{"comment_id":108560524,"body":"Down vote for exactly the reason in @Vince&#39;s comment"}],"answer_id":45558112,"body":"<p><strong>Unsafe with pivot off-heap memory</strong></p>\n\n<p>What about using Unsafe to copy Object bytes to an off-head zone, then some how pass a cheap pointer and class name to the 2nd JVM that will use the pointer and class name to copy and cast the off-heap space to an in-heap object in 2nd JVM.\nIts not the same object instance but a fast copy, without serializing. </p>\n\n<pre><code>public static Unsafe getUnsafe() {\n    try {\n        Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n        f.setAccessible(true);\n        return (Unsafe)f.get(null);\n    } catch (Exception e) { /* ... */ }\n}\n\nMyStructure structure = new MyStructure(); // create a test object\nstructure.x = 777;\n\nlong size = sizeOf(structure);\nlong offheapPointer = getUnsafe().allocateMemory(size);\ngetUnsafe().copyMemory(\n            structure,      // source object\n            0,              // source offset is zero - copy an entire object\n            null,           // destination is specified by absolute address, so destination object is null\n            offheapPointer, // destination address\n            size\n    ); // test object was copied to off-heap\n\nPointer p = new Pointer(); // Pointer is just a handler that stores address of some object\nlong pointerOffset = getUnsafe().objectFieldOffset(Pointer.class.getDeclaredField(\"pointer\"));\ngetUnsafe().putLong(p, pointerOffset, offheapPointer); // set pointer to off-heap copy of the test object\n\nstructure.x = 222; // rewrite x value in the original object\nSystem.out.println(  ((MyStructure)p.pointer).x  ); // prints 777\n\n....\n\nclass Pointer {\n    Object pointer;\n}\n</code></pre>\n\n<p>so now you pass <code>MyStructure</code> and <code>p</code> from ((MyStructure)p.pointer).x to a 2nd JVM, and you should be able to:</p>\n\n<pre><code>MyStructure locallyImported = (MyStructure)p.pointer;\n</code></pre>\n\n<p>I can imagine a use case: suppose you have 2 Microservices that may or may not be running in same server, and a client strategy, maybe implemented in the container AppServer, that knows where the services are deployed, in case it detects the requested service is in local, it might use an Unsafe based service client to query the other service transparently. Nasty but interesting, I'd like to see performance implications of not using network, bypassing WebAPI (calling directly handling controller) and not serializing. Apart from the controller parameters in this case the controler itself should be provided. Didn't even think about Security.</p>\n\n<p>code snippets borrowed from <a href=\"https://highlyscalable.wordpress.com/2012/02/02/direct-memory-access-in-java/\" rel=\"nofollow noreferrer\">https://highlyscalable.wordpress.com/2012/02/02/direct-memory-access-in-java/</a></p>\n"},{"answer_id":49570142,"body":"<p><a href=\"https://github.com/pcdv/jocket\" rel=\"nofollow noreferrer\">Jocket</a>, an experimental project I made a few years ago does exactly this.</p>\n\n<p>It includes a drop-in replacement for <code>java.net.Socket</code> and <code>java.net.ServerSocket</code> if you want to use <code>Input/OutputStream</code>.</p>\n\n<p>Each directional channel uses a pair of circular buffers to post and get data (one for the \"packets\" and one for the address of packets). The buffers are obtained through a <code>RandomAccessFile</code>.</p>\n\n<p>It includes a small JNI layer (linux) to implement IPC synchronization (i.e. notify the other process of availability of data) but this is not mandatory if you want to poll for data.</p>\n"}],"last_activity_date":1684672603,"question_id":25396664,"body":"<p>Is there a way in Java, for two JVMs (running on same physical machine), to use/share the same memory address space? Suppose a producer in JVM-1 puts messages at a particular pre-defined memory location, can the consumer on JVM-2 retrieve the message if it knows which memory location to look at?</p>\n"},{"answers":[{"comments":[{"comment_id":134469678,"body":"I already have this dependency with 2.1.0.1111 version. Apart from this, I am using 9.4.0.54424 sonarqube version,  and 7.15.0.30507 sonarjava version in my pom.xml file."},{"comment_id":134470534,"body":"@RamGrg Did you declare this in the <a href=\"https://www.baeldung.com/maven-dependencymanagement-vs-dependencies-tags\" rel=\"nofollow noreferrer\"><code>&lt;dependencies&gt;</code> section or the <code>&lt;dependencyManagement&gt; section</code></a> of your <code>pom.xml</code>?"},{"comment_id":134472653,"body":"I have these inside &lt;dependencyManagement&gt;         &lt;dependencies&gt;....&lt;/dependencies&gt;&lt;/dependencyManagement&gt;."},{"comment_id":134475076,"body":"@RamGrg OK, that explains your error then. I have edited the answer to detail why."},{"comment_id":134477124,"body":"My project doesn&#39;t have multiple modules. So I tried by putting all dependencies inside &lt;dependencies&gt; .. &lt;/dependencies&gt;. But the issue persists."},{"comment_id":134477313,"body":"@RamGrg Can you edit your question with the content of your current pom.xml?"},{"comment_id":134501564,"body":"@RamGrg I have edited the answer to address your comment."}],"answer_id":76249080,"body":"<p><code>java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader</code></p>\n<p>That means the required class is not found in the classpath during runtime.</p>\n<p>In your case, your custom SonarQube plugin is missing a dependency on the <code>sonar-analyzer-commons</code> library.<br />\nTry and add the dependency (<a href=\"https://mvnrepository.com/artifact/org.sonarsource.analyzer-commons/sonar-analyzer-commons\" rel=\"nofollow noreferrer\"><code>org.sonarsource.analyzer-commons » sonar-analyzer-commons</code></a>) to your custom plugin's <code>pom.xml</code> file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0.1358&lt;/version&gt; &lt;!-- Use the appropriate version that matches your SonarQube version --&gt;\n    &lt;/dependency&gt;\n    ...\n&lt;/dependencies&gt;\n</code></pre>\n<p>That library does include <a href=\"https://github.com/SonarSource/sonar-analyzer-commons/blob/master/commons/src/main/java/org/sonarsource/analyzer/commons/RuleMetadataLoader.java\" rel=\"nofollow noreferrer\"><code>RuleMetadataLoader.java</code></a>.</p>\n<hr />\n<p>The <a href=\"https://stackoverflow.com/users/3202325/ramgrg\">OP RamGrg</a> confirms in <a href=\"https://stackoverflow.com/questions/76229040/an-issue-occurred-while-starting-sonarqube-with-custom-java-maven-plugin/76249080#comment134472653_76249080\">the comments</a>:</p>\n<blockquote>\n<p>I have these inside <code>&lt;dependencyManagement&gt; &lt;dependencies&gt;....&lt;/dependencies&gt;&lt;/dependencyManagement&gt;</code>.</p>\n</blockquote>\n<p>And that the root cause of your issue.<br />\nLet's clarify the differences between <code>&lt;dependencies&gt;</code> and <code>&lt;dependencyManagement&gt;</code>:</p>\n<ol>\n<li><p><code>&lt;dependencies&gt;</code>: This section is used to declare the dependencies that your project needs. The libraries specified here will be included in the classpath during the build process.</p>\n</li>\n<li><p><code>&lt;dependencyManagement&gt;</code>: This section is used to manage the versions of dependencies in a multimodule project. When you declare dependencies inside the <code>&lt;dependencyManagement&gt;</code> tag, <strong>you are not actually including them in your project</strong>. Instead, you're specifying the versions that should be used if the project or its submodules were to include those dependencies.<br />\nIt's a way to ensure that all submodules use the same version of a dependency, thereby avoiding potential conflicts.</p>\n</li>\n</ol>\n<p>The issue in your case is likely due to the fact that the <code>sonar-analyzer-commons</code> dependency is declared inside <code>&lt;dependencyManagement&gt;</code>, but not in <code>&lt;dependencies&gt;</code>. This means that the dependency isn't actually being included in your build, leading to the <code>NoClassDefFoundError</code> you're seeing.</p>\n<p>To resolve this, you should move the <code>sonar-analyzer-commons</code> dependency from <code>&lt;dependencyManagement&gt;</code> to <code>&lt;dependencies&gt;</code>.<br />\nHere's how you can do this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    ...\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- other dependencies can be managed here, for instance: --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\n                &lt;version&gt;9.4.0.54424&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- declare other managed dependencies here... --&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Here is where you should declare sonar-analyzer-commons dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0.1111&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- declare other direct dependencies here... --&gt;\n    &lt;/dependencies&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>In this <code>pom.xml</code>, the <code>sonar-analyzer-commons</code> dependency is declared outside the <code>&lt;dependencyManagement&gt;</code> section, meaning it will be included in the classpath during the build.</p>\n<p>In the <code>&lt;dependencyManagement&gt;</code> section, you're managing the version of <code>sonar-plugin-api</code> (and possibly other dependencies) to ensure that all submodules (if any) use the same version. But these dependencies won't be included in the classpath unless they're also declared in the <code>&lt;dependencies&gt;</code> section.</p>\n<hr />\n<p>Your <code>pom.xml</code> seems OK with respect to the <code>sonar-analyzer-commons</code> dependency. It is declared in the <code>&lt;dependencies&gt;</code> section, so it should be included in the classpath during the build. You might want to double-check your dependency versions to ensure compatibility, however.</p>\n<p>Here's an updated version of your <code>pom.xml</code>, with a potentially compatible <code>sonar-analyzer-commons</code> version. However, this is just a guess, since compatibility often involves more than one dependency. You might need to check the compatibility with other dependencies as well.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;!-- ... rest of your pom.xml ... --&gt;\n  &lt;dependencies&gt;\n    &lt;!-- ... rest of your dependencies ... --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n      &lt;version&gt;2.1.0.1111&lt;/version&gt; &lt;!-- Ensure this version is compatible with your SonarQube version --&gt;\n    &lt;/dependency&gt;\n    &lt;!-- ... rest of your dependencies ... --&gt;\n  &lt;/dependencies&gt;\n  &lt;!-- ... rest of your pom.xml ... --&gt;\n&lt;/project&gt;\n</code></pre>\n<p>In the updated version, I only changed the comment for the <code>sonar-analyzer-commons</code> dependency to highlight the need for compatibility with your SonarQube version.</p>\n<p>If you're still encountering the same issue, the problem might not be with the <code>pom.xml</code>. It could be related to the way your custom plugin is interacting with the SonarQube API, or it might be a problem with the SonarQube setup itself.</p>\n"},{"answer_id":76297607,"body":"<p>check $sonarqube_home/logs to get more info on this! I am sure you have tried common scenarios. Sometime I also delete contents of sonarqube/data in order to make sure any cached configuration is deleted (please take a backup before)--requires stopping of sq server. Hope this helps!</p>\n"},{"answer_id":76299912,"body":"<p>following both dependencies are not compatible:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.sonarsource.analyzer-commons&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0.1111&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-plugin-api-impl&lt;/artifactId&gt;\n    &lt;version&gt;9.7.1.62043&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I see when I import your pom that the class you are getting the NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\nthat this version of the artifact (2.1.0.1111) is not compatible with the org.sonarsource.sonarqube.sonar-plugin-api:sonar-plugin-api-9.4.0.54424.jar (version 9.4.0.54424)\nfor example one of the methods in RuleMetadataLoader (org.sonarsource.analyzer.commons.RuleMetadataLoader#addOwaspAsvs) use org.sonar.api.server.rule.RulesDefinition.NewRule (org.sonar.api.server.rule.RulesDefinition.NewRule is present in sonar-plugin-api-9.4.0.54424.jar but the method org.sonar.api.server.rule.RulesDefinition.NewRule.addOwaspAsvs is only present from version 9.9...).</p>\n<p>As RuleMetadataLoader use non-existing method of already loaded classes, the initialization of the class RuleMetadataLoader failed and you get this error.</p>\n<p>You must upgrade your sonar-plugin-api to at least 9.9 or downgrade your sonar-analyzer-commons to a lower version.</p>\n"}],"last_activity_date":1684672233,"question_id":76229040,"body":"<p>I am creating a custom sonarqube java plugin. After adding the plugin jar file inside ../extensions/plugins folder, I tried to start sonarqube in my device. But it is showing the following issues:</p>\n<pre><code>Background initialization failed. Stopping SonarQube\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27-org.sonar.server.rule.RegisterRules': Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:187)\n    at org.sonar.server.platform.platformlevel.PlatformLevel.start(PlatformLevel.java:80)\n    at org.sonar.server.platform.platformlevel.PlatformLevelStartup.access$001(PlatformLevelStartup.java:55)\n    at org.sonar.server.platform.platformlevel.PlatformLevelStartup$1.doPrivileged(PlatformLevelStartup.java:127)\n    at org.sonar.server.user.DoPrivileged.execute(DoPrivileged.java:45)\n    at org.sonar.server.platform.platformlevel.PlatformLevelStartup.start(PlatformLevelStartup.java:124)\n    at org.sonar.server.platform.PlatformImpl.executeStartupTasks(PlatformImpl.java:183)\n    at org.sonar.server.platform.PlatformImpl$AutoStarterRunnable.runIfNotAborted(PlatformImpl.java:344)\n    at org.sonar.server.platform.PlatformImpl$1.doRun(PlatformImpl.java:107)\n    at org.sonar.server.platform.PlatformImpl$AutoStarterRunnable.run(PlatformImpl.java:328)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\n    at com.plugins.sonar.java.SonarqubeJavaRulesDefinition.define(SonarqubeJavaRulesDefinition.java:44)\n    at org.sonar.server.rule.RuleDefinitionsLoader.load(RuleDefinitionsLoader.java:56)\n    at org.sonar.server.rule.RegisterRules.start(RegisterRules.java:125)\n    at org.sonar.core.platform.StartableBeanPostProcessor.postProcessBeforeInitialization(StartableBeanPostProcessor.java:33)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    ... 19 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.sonarsource.analyzer.commons.RuleMetadataLoader\n    at org.sonar.classloader.ParentFirstStrategy.loadClass(ParentFirstStrategy.java:39)\n    at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:87)\n    at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:76)\n</code></pre>\n<p>The line of code as mentioned in logs, (SonarqubeJavaRulesDefinition.java:44), is the following:\n<code>RuleMetadataLoader ruleMetadataLoader = new RuleMetadataLoader(RULES_BASE_PATH, runtime);</code></p>\n<p>The following is the pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.sonar.project&lt;/groupId&gt;\n  &lt;artifactId&gt;static-java-code-analysis&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;StaticJavaCodeAnalysis&lt;/name&gt;\n  \n  &lt;description&gt;It defines the rules that detect energy smells in different loop types in java&lt;/description&gt;\n  &lt;packaging&gt;sonar-plugin&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    \n    &lt;!-- &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt; --&gt;\n    &lt;sonarqube.version&gt;9.4.0.54424&lt;/sonarqube.version&gt;\n    &lt;sonar.organization&gt;ramgrg&lt;/sonar.organization&gt;\n    &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\n    &lt;sonarjava.version&gt;7.15.0.30507&lt;/sonarjava.version&gt; \n    &lt;sonar.skipDependenciesPackaging&gt;true&lt;/sonar.skipDependenciesPackaging&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.9.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n       &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n       &lt;version&gt;3.23.1&lt;/version&gt;\n     &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n         &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\n         &lt;version&gt;${sonarqube.version}&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.analyzer-commons&lt;/groupId&gt;\n       &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n       &lt;version&gt;2.1.0.1111&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n       &lt;artifactId&gt;sonar-plugin-api-impl&lt;/artifactId&gt;\n       &lt;version&gt;9.7.1.62043&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.java&lt;/groupId&gt;\n       &lt;artifactId&gt;sonar-java-plugin&lt;/artifactId&gt;\n       &lt;version&gt;${sonarjava.version}&lt;/version&gt;\n       &lt;type&gt;sonar-plugin&lt;/type&gt;\n       &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.java&lt;/groupId&gt;\n       &lt;artifactId&gt;java-checks-testkit&lt;/artifactId&gt;\n       &lt;version&gt;${sonarjava.version}&lt;/version&gt;\n       &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n   &lt;build&gt;\n      &lt;plugins&gt;\n          &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n             &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n             &lt;groupId&gt;org.sonarsource.sonar-packaging-maven-plugin&lt;/groupId&gt;\n             &lt;artifactId&gt;sonar-packaging-maven-plugin&lt;/artifactId&gt;\n             &lt;version&gt;1.21.0.505&lt;/version&gt;\n             &lt;extensions&gt;true&lt;/extensions&gt;\n             &lt;configuration&gt;\n                &lt;pluginKey&gt;staticjavacode&lt;/pluginKey&gt;\n                &lt;pluginName&gt;${project.name}&lt;/pluginName&gt;\n                &lt;pluginClass&gt;com.sonar.java.SonarqubeJavaplugin&lt;/pluginClass&gt;\n                &lt;sonarLintSupported&gt;true&lt;/sonarLintSupported&gt;\n             &lt;!--   &lt;skipDependenciesPackaging&gt;true&lt;/skipDependenciesPackaging&gt; --&gt;\n                &lt;sonarQubeMinVersion&gt;${sonarqube.version}&lt;/sonarQubeMinVersion&gt;\n                &lt;requirePlugins&gt;java:${sonarjava.version}&lt;/requirePlugins&gt;   \n             &lt;/configuration&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"answers":[{"comments":[{"comment_id":9283557,"body":"Exactly what I was looking for! And yeah, I meant adding the default maven2 &quot;Central&quot; repository element. But I can add that myself, no big deal."},{"comment_id":9283576,"body":"Cool. But you shouldn&#39;t have to add that; it&#39;s already the default."},{"comment_id":39148641,"body":"What happens if I don&#39;t have that option?"},{"comment_id":39151272,"body":"@LukeyBoylsXen Check your plugins. Should be there, though."},{"comment_id":71860501,"body":"which &quot;plugins&quot;?  I have 2 maven plugs (came default with IntelliJ).  Still no &quot;Maven&quot; option in Add Frameworks"},{"comment_id":71984566,"body":"@Nick\tIt&#39;s quite likely the IDE has changed a bit in the last five years."},{"comment_id":71985428,"body":"Re: no &quot;Maven&quot; option:  i believe it is due to working on an IntelliJ plugin for which there is no maven support.  @Dave Newton - you make a good point, always need to consider that for older questions and answers."},{"comment_id":81927351,"body":"sorry for reviving this old post but is there an automatic way to put the jsf dependencies into the pom ? The pom gets created but it&#39;s empty, i would like to have all the proper dependencies of a jsf project inside the pom."},{"comment_id":81928666,"body":"@MrSir There&#39;s probably an archetype for JSF projects, and using an archetype is one of the options IIRC."},{"comment_id":81928749,"body":"@DaveNewton that was my first idea, but i&#39;m having issues with that, i made a <a href=\"https://stackoverflow.com/questions/47478855/how-to-build-a-jsf-application-in-intellij-using-maven?noredirect=1#comment81926817_47478855\">question</a> about it."},{"comment_id":94986297,"body":"@Nick - Maven can be added as a framework to be selected, or made visible in the &quot;Add Framework Support&quot; by changing the intellij Settings: File -&gt; Settings-&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing: tick Import Maven projects automatically"}],"answer_id":7642607,"body":"<p>Right-click on the module, select &quot;Add framework support...&quot;, and check the &quot;Maven&quot; technology.</p>\n<p><a href=\"https://i.stack.imgur.com/sC2ix.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sC2ix.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/RK3xx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RK3xx.png\" alt=\"enter image description here\" /></a></p>\n<p><em>(This also creates a <code>pom.xml</code> for you to modify.)</em></p>\n<p>If you mean adding source repository elements, I think you need to do that manually–not sure.</p>\n<p>Pre-IntelliJ 13 this won't convert the project to the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"noreferrer\">Maven Standard Directory Layout</a>, 13+ it will.</p>\n"},{"comments":[{"comment_id":97333764,"body":"When I had a parent director git URL when many sub projects, the sub projects were not recognized as Maven. This answer helped. To make it clear, this functionality is available on the Maven Tool Window."},{"comment_id":109582116,"body":"This answer helped me to re-associate a Gradle project back to Maven.  Just needed to unlink it (use the minus sign) on the analogous Gradle menu."},{"comment_id":130766017,"body":"Great hint, I was moving projects under the parent and &quot;Add framework support&quot; was not available for me. Your solution works very nice."}],"answer_id":40743598,"body":"<ol>\n<li>Open 'Maven projects' (tab on the right side).  </li>\n<li>Use 'Add Maven Projects'  </li>\n<li>Find your pom.xml  </li>\n</ol>\n"},{"answer_id":43055660,"body":"<p>A visual for those that benefit from it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3GCAR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3GCAR.png\" alt=\"enter image description here\"></a></p>\n\n<p>After right-clicking the project name (\"test\" in this example), select \"Add framework support\" and check the \"Maven\" option. </p>\n"},{"answer_id":43272100,"body":"<p>I want to add the important hint that converting a project like this can have side effects which are noticeable when you have a larger project. This is due the fact that Intellij Idea (2017) takes some important settings only from the pom.xml then which can lead to some confusion, following sections are affected at least:</p>\n\n<ol>\n<li>Annotation settings are changed for the modules</li>\n<li>Compiler output path is changed for the modules</li>\n<li>Resources settings are ignored totally and only taken from pom.xml</li>\n<li>Module dependencies are messed up and have to checked</li>\n<li>Language/Encoding settings are changed for the modules</li>\n</ol>\n\n<p>All these points need review and adjusting but after this it works like charm.</p>\n\n<p>Further more unfortunately there is no sufficient pom.xml template created, I have added an example which might help to solve most problems.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;Name&lt;/groupId&gt;\n&lt;artifactId&gt;Artifact&lt;/artifactId&gt;\n&lt;version&gt;4.0&lt;/version&gt;\n&lt;properties&gt;\n    &lt;!-- Generic properties --&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!--All dependencies to put here, including module dependencies--&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\n    &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n    &lt;testOutputDirectory&gt;${project.build.directory}/test-classes&lt;/testOutputDirectory&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt; ${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\n\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/java&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessors/&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Edit 2019: </p>\n\n<ul>\n<li>Added recursive resource scan</li>\n<li>Added directory specification which might be important to avoid confusion of IDEA recarding the content root structure </li>\n</ul>\n"},{"answer_id":45751385,"body":"<p>This fixed it for me: Open maven projects tab on the right. Add the pom if not yet present, then click refresh on the top left of the tab.</p>\n"},{"answer_id":49127831,"body":"<p>I had a different scenario, but still landed on this answer.<br>\nI had imported my root project folder containing multiple Maven projects but also some other stuff used in this project.<br>\nIntelliJ recognised the Java files, but didn't resolve the Maven dependencies.</p>\n\n<p>I fixed this by performing a right-click on each pom and then \"Add as maven project\"</p>\n"},{"answer_id":55503052,"body":"<p>I have resolved this same issue by doing below steps:</p>\n\n<ol>\n<li><p>File > Close Project</p></li>\n<li><p>Import Project</p></li>\n<li><p>Select you project via the system file popup</p></li>\n<li><p>Check \"Import project from external model\" radio button and select Maven entry</p></li>\n<li><p>And some Next buttons (select JDK, ...)</p></li>\n</ol>\n\n<p>Then the project will be imported as Maven module.</p>\n"},{"answer_id":57090700,"body":"<p>The easiest way is to add the project as a Maven project directly. To do this, in the project explorer on the left, right-click on the POM file for the project, towards the bottom of the context menu, you will see an option called 'Add as Maven Project', click it. This will automatically convert the project to a Maven project</p>\n"},{"answer_id":63370753,"body":"<p>Just follow the steps:</p>\n<ol>\n<li>Right click to on any module pox.xml and then chose &quot;Add as Maven Project&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/PMMmb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PMMmb.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Next to varify it, go to the maven tab, you will see the project with all maven goal which you can use:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/MrjeF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MrjeF.png\" alt=\"enter image description here\" /></a></p>\n"},{"answer_id":68425452,"body":"<p>Update on version Intellij IDEA 2020.2.3</p>\n<p><code>Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing</code>\nand click &quot;<strong>create module groups for multi-module Maven projects</strong>&quot;.</p>\n<p>Then Apply and you can see that option in &quot;Add Framework Support...&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/4ye4x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ye4x.png\" alt=\"enter image description here\" /></a></p>\n"},{"answer_id":72012159,"body":"<ol>\n<li>Right-click on the module</li>\n<li>Select &quot;Add framework support&quot;</li>\n<li>Click the &quot;Maven&quot; option.</li>\n</ol>\n<p>Note: This will convert the current project into maven driven project create the pom.xml file automatically. The dependencies can be added then.</p>\n<p><strong>Enable Auto Import of Dependencies</strong></p>\n<p>(<code>InteliJ IDEA 14.1.1</code> on <code>Ubuntu</code>)</p>\n<pre><code>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; [X] Import Maven projects automatically\n</code></pre>\n<p><strong>Run as maven project</strong></p>\n<p>Creating a new Run/Debug Configuration of type maven and adding the command <code>clean install</code></p>\n<p>Finally clicking the green button to run that Run/Debug Configuration, this will run build the project using <code>apache maven</code>.</p>\n"},{"answer_id":76299911,"body":"<p>Using IntelliJ Idea 2022.3.3, here is the easiest way you can do it:</p>\n<ul>\n<li>Right click on root of your project in Explorer on the left side.</li>\n<li>Select &quot;Add framework support&quot; (3rd option from the last as shown in image)</li>\n<li>Choose Maven\n<a href=\"https://i.stack.imgur.com/QlaG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlaG7.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n"}],"last_activity_date":1684672180,"question_id":7642456,"body":"<p>I have a project on Bitbucket. Only the sources are committed. To retrieve the project onto a new machine, I used Version Control > Checkout from Version Control from within IntelliJ.</p>\n\n<p>It then asks whether I would like to create a new project from this source, to which I reply Yes. So far, so good. It creates a nice little Java project for me, consisting of a single module.</p>\n\n<p>However, my goal in pulling this project into IntelliJ was to turn it into a Maven project. I cannot find any option anywhere that will let me do this!</p>\n\n<p>Is there a way to have IntelliJ just generate a basic empty pom.xml for me, with a name and an artifactId and a repository? Or, is there a way to import the project as a Maven project in the first place? (Whenever I try to create a project from existing source, it only gives me the option of a Java project.)</p>\n"},{"comments":[{"comment_id":134509864,"body":"Because you upgraded Java. They are <i>required</i> in versions of Java &gt;9 to work with the module system. Java has changed significantly over the years. Why would you expect it to be constant?"},{"comment_id":134533944,"body":"Where is the <code>userLog()</code> method used? Am I wrong assumint that you: 1. use <code>ProcessBuilder</code> or similar to spawn a new JVM, 2. Call <code>userLog()</code> on each line that the new JVM outputs? BTW: <code>Configurator.initialize</code> does not replace the Log4j config if one already exists (i.e. you called a <code>LogManager</code> static method), use <code>Configurator.reconfigure</code> in this case."}],"answers":[{"answer_id":76297988,"body":"<p>I moved the logging function down into the Ant script that was being called.</p>\n<p>No problem now.</p>\n"}],"last_activity_date":1684671645,"question_id":76276595,"body":"<p>I have a servlet running in Tomcat on a server. One of the tasks the servlet does is transform documents using a translation library jar. Executing a java -jar &quot;...&quot; command.</p>\n<p>I use log4j to log the actions a sample below.</p>\n<pre><code>[echo] [init] Initialize build space \n[echo] build.web.dir= /home/scott/workspace/mbel-work/tei2html/build/web teiFile=A10007 docName=A10007.xml\n[echo] [tei-doc-to-html] Building html documents production=no\n[echo] &quot;/home/scott/workspace/mbel-work/tei2html/build/web/A10007/A10007.html is up to date!&quot;\n[echo] [tei-to-html] Build index.html, searchsite.html and solrsearch.html files\n</code></pre>\n<p>I upgraded java and now I see this.</p>\n<pre><code>[echo] [init] Initialize build space \n[echo] build.web.dir= /home/scott/workspace/mbel-work/tei2html/build/web teiFile=A10011\ndocName=A10011.xml\n[echo] [tei-doc-to-html] Building html documents production=yes\n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[echo] [tei-to-html] Build index.html, searchsite.html and solrsearch.html files \n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n</code></pre>\n<p>Why is this showing up in my custom log file?</p>\n<p>Here is the code to create the logger and the call to log the message, the &quot;Picked up...&quot; is not in the message.</p>\n<pre><code>// create the new logger\n    builder.add(builder.newLogger(&quot;BuildLogger&quot;, Level.OFF)\n            .add(builder.newAppenderRef(&quot;rolling&quot;))\n            .addAttribute(&quot;additivity&quot;, false));\n\n    /*builder.add(builder.newRootLogger(Level.DEBUG)\n            .add(builder.newAppenderRef(&quot;rolling&quot;)));\n    */\n    ctx = Configurator.initialize(builder.build());\n    LOGGER = LogManager.getLogger(&quot;BuildLogger&quot;);\n    setup = true;\n    //System.out.println(&quot;BuildLog.init: exit&quot;);\n}\n\npublic static void userLog(String message) {\n    if (setup == false) {\n        init();\n    }\n    LOGGER.info(message);\n}\n</code></pre>\n<p>Any way I can suppress this?</p>\n<p>I did notice the Tomcat is setting these in the run script</p>\n<pre><code># Add the JAVA 9 specific start-up parameters required by Tomcat\nJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.base/java.lang=ALL-UNNAMED&quot;\nJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.base/java.io=ALL-UNNAMED&quot;\nJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED&quot;\nexport JDK_JAVA_OPTIONS\n</code></pre>\n<p>I'm sure its no coincidence that these are the same options now showing up in my log file. Though it didn't happen until I upgraded Java.</p>\n"},{"comments":[{"comment_id":134546077,"body":"You overwrite various params immediately. That means you don&#39;t want those as parameters, just declare local variables. <code>double perc = a&#47;b*100;</code> where a and b are ints does not do what you want - that means perc will be 0 every time. Try <code>double perc = .01 * a &#47; b;</code> which works fine (<code>a &#47; b</code> is int division, i.e. rounded down to the nearest integer, which would be 0 here obviously). &quot;Does not work&quot; isn&#39;t useful. What <i>do</i> you see? Do you get any errors? Your paste isn&#39;t a full program. This isn&#39;t enough info; nothing in your paste explains specifically &#39;nothing happens&#39;. VTC: Not enough detail."}],"last_activity_date":1684671511,"question_id":76298528,"body":"<p>Been racking my brain on this for a while, code isn't returning any errors, but menu won't print.  Originally thought I was using scanner class incorrectly but nothing seems to work. Any help appreciated.</p>\n<pre><code>    public static void menu(Project[] projectArray, int lineCount, int totalCompleted, int totalOngoing, double percCompleted)\n    {\n        totalOngoing = lineCount - totalCompleted;\n        percCompleted = (totalCompleted/lineCount)*100;\n\n        int selection1 = 0;\n        int selection2 = 0;\n\n        Scanner input = new Scanner(System.in);\n\n        try\n        {\n            System.out.println(&quot;Investments in Indigeneous community infrastructre Program&quot;);\n            System.out.println(&quot;There are a total of 9037 projects throughout Canada&quot;);\n            System.out.println(&quot;Please make a selection from the menu below:&quot;);\n            System.out.println(&quot;(1) All of Canada&quot;);\n            System.out.println(&quot;(2) Alberta&quot;);\n            System.out.println(&quot;(3) British Columbia&quot;);\n            System.out.println(&quot;(4) Manitoba &quot;);\n            System.out.println(&quot;(5) New Brunswick &quot;);\n            System.out.println(&quot;(6) Newfoundland and Labrador &quot;);\n            System.out.println(&quot;(7) Nova Scotia&quot;);\n            System.out.println(&quot;(8) Ontario&quot;);\n            System.out.println(&quot;(9) Prince Edward Island&quot;);\n            System.out.println(&quot;(10) Quebec&quot;);\n            System.out.println(&quot;(11) Saskatchewan&quot;);\n            System.out.println(&quot;(12) Northwest Territories&quot;);\n            System.out.println(&quot;(13) Nunavut&quot;);\n            System.out.println(&quot;(14) Yukon&quot;);\n            System.out.println(&quot;(0) Exit Program&quot;);\n            System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\n            selection1 = input.nextInt();\n        }\n\n        catch (InputMismatchException exception)\n        {\n            System.out.println(&quot;Invalid input, please try again: &quot;);\n        }\n\n        input.close();\n</code></pre>\n"},{"comments":[{"comment_id":85042239,"body":"I think you need to check the value of the cell first thing. Ex: <code>if (a[i][j] == 0) return 0;</code>"},{"comment_id":85042293,"body":"&quot;It doesn&#39;t work&quot; doesn&#39;t help us.  What does the program do as it fails, and how does it differ from the expected behavior?"},{"comment_id":85042294,"body":"I agree with Johnny Mopp. If you are in a cell that has value 0 and is on the border, your code right now will proceed on that border instead of returning 0. How about creating a matrix that stores for which cell there are which amounts of ways from it and then print it as control?"},{"comment_id":85042363,"body":"This kind of issue is best approached using a debugger (see here: <a href=\"https://stackoverflow.com/q/25385173\">stackoverflow.com/q/25385173</a>)."},{"comment_id":85042404,"body":"@JohnnyMopp, Thank you, it worked now, is there a way to improve the performance of this program?"},{"comment_id":85042677,"body":"You can ask at <a href=\"https://codereview.stackexchange.com\">Code Review</a> for improvements."}],"answers":[{"comments":[{"comment_id":85042959,"body":"Can you give me a snippet how to do this with dynamic programming?"},{"comment_id":85043185,"body":"Something similar to your algorithm, but you don&#39;t use recursion. Create second array of the same size. Then you just loop through the array in correct order (for example <code>for(int i=rows-1;i&gt;=0;i--) for(int j=cols-1;j&gt;=0;j--)</code>) and calculate values as you do now, but instead of recursion you just take previously computed values from array."},{"comment_id":85043352,"body":"I tried the approach, but not able to get an answer, can you please provide a solution using dynamic programming"},{"comment_id":85044274,"body":"Nice answer, I have upvoted.  I had a DP solution much earlier which starts bottom right and goes to top left and answer is dp[0][0].  I am very interested in your optimizations.  My i,j loop has 4 if statements and can now see how you got rid of three of them (bottom/right cell, and each outer row/col) leaving just one if statement.   Very nice..."}],"answer_id":49018630,"body":"<p>First if should check value of <code>a[i][j]</code>. It it's 0, you should return 0.</p>\n\n<p>And about performance, algorithm written this way is very slow, as you calculate the same value many times. Use memorisation (create second array and save every value you return and at the beginning of function check first if you haven't calculated it before) or solve it with dynamic programming.</p>\n\n<p>EDIT: You forgot about your modulo 10^9+7.</p>\n\n<p>SECOND EDIT (responding to your comment):\nIt would be something like that. I divided it to three loops so that main (third) loop has less operations to do and function is quite faster for big data. I also changed direction of computing but it's not important at all.</p>\n\n<pre><code>static int count_dp(int a[][]){\n    int rows = a.length;\n    int cols = a[0].length;\n    int[][] dp = new int[rows][cols];\n\n    dp[0][0] = a[0][0];\n\n    for(int i=1;i&lt;rows;i++)\n        if(dp[i-1][0]==1 &amp;&amp; a[i][0]==1)\n            dp[i][0] = 1;\n\n    for(int i=1;i&lt;cols;i++)\n        if(dp[0][i-1]==1 &amp;&amp; a[0][i]==1)\n            dp[0][i] = 1;\n\n    for(int i=1;i&lt;rows;i++)\n        for(int j=1;j&lt;cols;j++)\n            if(a[i][j]==1)\n                dp[i][j] = (dp[i-1][j] + dp[i][j-1])%1000000007;\n\n    return dp[rows-1][cols-1];\n}\n</code></pre>\n"},{"answer_id":63542601,"body":"<pre><code>def path_finder(i,j,m,l,n):\n    if i==n-1 and j==n-1:\n        if m[i][j]==1:\n            l.append([i,j])\n            return 1\n        else:\n            return 0\n    if i==n or j==n:\n        return 0\n    if m[i][j]==0:\n        return 0\n    l.append([i,j])\n    fl=path_finder(i+1,j,m,l,n)   #vertical movement \n    fr=path_finder(i,j+1,m,l,n)   #horizontal movement \n    if not (fl or fr):\n        l.pop()\n        return 0\n    return 1\n\nif __name__=='__main__':\n    n=4   #size od matrix\n    i=0\n    j=0\n    m=[[1,1,1,0],\n       [1,0,1,1],\n       [1,1,0,1],\n       [1,1,0,1]]\n    l=[]  #empty list to store path indices\n    found=path_finder(i,j,m,l,n)\n    if found==1:\n        for i in l:\n            print('({0},{1})'.format(*i),end=' ')\n    else:\n        print(-1)\n# A recursive approach to the solution.\n# Works for all values of n if we can move only right and \ndown. Fails if we have to move up or left,Eg: for matrix \nshown below we have to move up in order to get to n, n\n[[1 1 1 1 1], \n [1 0 0 0 0], \n [1 0 1 1 1], \n [1 0 1 0 1], \n [1 1 1 0 1]] \n</code></pre>\n"},{"answer_id":76299868,"body":"<p>A little late to the party, but this problem can be easily solved using Dynamic Programming as follows -</p>\n<pre><code>static int mat[][] = new int[m][n]; //for e.g. m=3, n=3\n\npublic static int countPathUsingDp(int m, int n) {\n    for(int i=0;i&lt;m;i++)\n        mat[i][0] = 1;\n\n    for(int j=0;j&lt;n;j++)\n        mat[0][j] = 1;\n\n    for(int i=1;i&lt;m;i++)\n        for(int j=1;j&lt;n;j++)\n            mat[i][j] = mat[i-1][j] + mat[i][j-1];\n\n    return mat[m-1][n-1];\n}\n</code></pre>\n<p>The <strong>time complexity</strong>: <strong>O(m*n)</strong></p>\n<p><strong>Solution</strong>: You assign path to base[0,0] from every element, as you traverse.</p>\n"}],"last_activity_date":1684671460,"question_id":49018462,"body":"<p>I am working on a program which states that:</p>\n\n<p>You are given a 2-D matrix with M rows and N columns.You are initially positioned at (0,0) which is the top-left cell in the array. You are allowed to move either right or downwards. The array is filled with 1’s and 0’s. A 1 indicates that you can move through that cell, a 0 indicates that you cannot move through that cell. Return the number of paths from top-left cell to bottom-right cell.(i.e. (0,0)to(M-1,N-1)). Since answer can be large thus you have to return ans%(10^9+7).</p>\n\n<p>I tried to implement it and it is working for some scenarios but fails for some cases:</p>\n\n<pre><code>static int count(int a[][], int i, int j) {\n    int rows = a.length;\n    int cols = a[0].length;\n    if(a[i][j] == 0)  return 0;\n    if (i == rows - 1 &amp;&amp; j == cols - 1)\n        return a[i][j];\n    else if (i == rows - 1)\n        return a[i][j + 1];\n    else if (j == cols - 1)\n        return a[i + 1][j];\n    else if (a[i][j] == 1)\n        return count(a, i + 1, j) + count(a, i, j + 1);\n    else\n        return 0;\n}\n</code></pre>\n\n<p>It fails for below array:\n<code>{{1,1}, {0,1}}</code></p>\n\n<p>Can you please help me what is the issue in this program?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Thanks @Johnny Mopp, it solved the above test case. How can we improve the performance of this program?</p>\n"},{"comments":[{"comment_id":133953865,"body":"Feature request <a href=\"https://github.com/remkop/picocli/issues/1993\" rel=\"nofollow noreferrer\">github.com/remkop/picocli/issues/1993</a>"}],"answers":[{"answer_id":74275000,"body":"<p>I suspect this is a bug/inconvenience. In method <code>consumeArguments</code>, at <a href=\"https://github.com/remkop/picocli/blob/main/src/main/java/picocli/CommandLine.java\" rel=\"nofollow noreferrer\">https://github.com/remkop/picocli/blob/main/src/main/java/picocli/CommandLine.java</a></p>\n<pre><code>            // now process the varargs if any\n            String fallback = consumed == 0 &amp;&amp; argSpec.isOption() &amp;&amp; !OptionSpec.DEFAULT_FALLBACK_VALUE.equals(((OptionSpec) argSpec).fallbackValue())\n                    ? ((OptionSpec) argSpec).fallbackValue()\n                    : null;\n            if (fallback != null &amp;&amp; (args.isEmpty() || !varargCanConsumeNextValue(argSpec, args.peek()))) {\n                args.push(fallback);\n            }\n</code></pre>\n<p>Because <code>((OptionSpec) argSpec).fallbackValue()</code> returns <code>null</code>, it is understood as if there was no <code>fallbackValue</code>, and therefore the <code>if (fallback != null</code> does not push the fallback value to <code>args</code>.</p>\n<h2>Workaround</h2>\n<p>Define your own <code>fallbackValue</code> magic string and a <code>converter</code> that later converts it to <code>null</code>. The convertor runs after <code>consumeArguments</code> completes (with the <code>failbackValue</code>).</p>\n<pre><code>public static final String MY_NULL_VALUE = &quot;MY_&quot; + CommandLine.Option.NULL_VALUE;\n\npublic class MyNullValueConvertor implements CommandLine.ITypeConverter&lt;String&gt; {\n    @Override\n    public String convert(String value) throws Exception {\n        if (value.equals(MY_NULL_VALUE)) {\n            return null;\n        }\n        return value;\n    }\n}\n</code></pre>\n<pre><code>    @CommandLine.Option(\n        names = {&quot;--msg-content-list-item&quot;},\n        arity = &quot;0..1&quot;, fallbackValue = MY_NULL_VALUE,\n        converter = MyNullValueConvertor.class)\n    private List&lt;String&gt; msgContentListItem;\n</code></pre>\n"},{"answer_id":75958776,"body":"<p>There was a <a href=\"https://github.com/remkop/picocli/issues/1993\" rel=\"nofollow noreferrer\">bug</a> which is now fixed.</p>\n<p>Prior to version 4.7.2, use the workaround in my other answer.</p>\n<p>As of picocli 4.7.2, use the <code>fallbackValue</code> like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Option(names = {&quot;--list&quot;}, arity = &quot;0..1&quot;, fallbackValue = CommandLine.Option.NULL_VALUE)\nList&lt;String&gt; list;\n</code></pre>\n<p>from <a href=\"https://github.com/remkop/picocli/blob/2944addb8ba34d2ee6f97564bd43128bb62ec382/src/test/java/picocli/FallbackTest.java#L192-L193\" rel=\"nofollow noreferrer\">https://github.com/remkop/picocli/blob/2944addb8ba34d2ee6f97564bd43128bb62ec382/src/test/java/picocli/FallbackTest.java#L192-L193</a></p>\n"}],"last_activity_date":1684671440,"question_id":74273941,"body":"<p>I have a parameter named <code>--msg-content-list-item</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CliProtonJ2Sender implements Callable&lt;Integer&gt; {\n\n    @CommandLine.Option(\n        names = {&quot;--msg-content-list-item&quot;},\n        arity = &quot;0..1&quot;,\n        defaultValue = CommandLine.Option.NULL_VALUE)\n    private List&lt;String&gt; msgContentListItem;\n\n\n    // ...\n}\n</code></pre>\n<p>I wish for the following test to pass</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void test_msgContentListItem() {\n        CliProtonJ2Sender a = new CliProtonJ2Sender();\n        CommandLine b = new CommandLine(a);\n        CommandLine.ParseResult r = b.parseArgs(&quot;--msg-content-list-item&quot;, &quot;--msg-content-list-item&quot;, &quot;pepa&quot;);\n\n        // https://github.com/powermock/powermock/wiki/Bypass-Encapsulation\n        List&lt;String&gt; v = Whitebox.getInternalState(a, &quot;msgContentListItem&quot;, a.getClass());\n        assertThat(v).containsExactly(null, &quot;pepa&quot;);\n    }\n</code></pre>\n<p>But it doesn't and I get</p>\n<pre><code>missing (1): null\n---\nexpected   : [null, pepa]\nbut was    : [pepa]\n</code></pre>\n<p>How do I define <code>@CommandLine.Option</code> to behave the way I want?</p>\n"},{"comments":[{"comment_id":134548074,"body":"@Jens could you please check this question again? I think is more focused now."}],"last_activity_date":1684671308,"question_id":76291606,"body":"<p>Using Java, is there any option to convert/export an Excel Apache POI <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html\" rel=\"nofollow noreferrer\">XSSFWorkbook</a> object into an image?</p>\n"},{"answers":[{"comments":[{"comment_id":134541313,"body":"Thank you very much for your answers, and I apologize for my poor English and the question with few details. I will edit it. There have been significant changes in Spring Security 6. The reason I wanted to apply JWT only to my created endpoints is to have a custom handling of the 404 error. If creating a custom filter is considered a bad practice, how could I handle 404 errors with a personalized message? Thank you very much for everything."},{"comment_id":134542190,"body":"Hello @Darkvision, thank you so much for all your help. I truly appreciate it and I&#39;m grateful for taking the time to answer my question. Your solution helped me a lot to guide myself and achieve the expected result. However, now it returns a 403 error instead of an empty 403. I will read the documentation and learn more about the topic. Thank you very much."}],"answer_id":76293348,"body":"<p>You need ovveride spring security with <strong>WebSecurityConfigurerAdapter</strong> any request matching the <strong>/api/</strong>** pattern should be authenticated using JWT and anything that doesn't match would be allow to be call without JWT because of this <strong>anyRequest().permitAll()</strong> that the simple way</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/api/**&quot;).authenticated() \n            .anyRequest().permitAll()\n            .and()\n            .addFilterBefore(new JwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n}\n</code></pre>\n<p>Update sorry quick jumping on spring forgot was 3.0\nhere another way but didn't  test doing this you will have multi filter and define distinct security configurations also depend of version might have some function that is deprecate you might need look documentation\n. I left my others answer enjoy thumb dumb since they like validate they point without giving any solution to help.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n@Bean\npublic SecurityFilterChain apiSecurityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .securityMatchers((matchers) -&gt; matchers\n                    .requestMatchers(antMatcher(&quot;/api/**&quot;), antMatcher(&quot;/app/**&quot;))\n            ).addFilterBefore(new JwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n            \n    return http.build();\n}\n\n@Bean\npublic SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n            .anyRequest().permitAll();\n    \n    return http.build();\n}\n</code></pre>\n<p>}</p>\n"}],"last_activity_date":1684670883,"question_id":76293132,"body":"<p>I'm new to Spring Boot. I would like to handle authentication with JWT exclusively for my endpoints, and for all other requests that do not match my API, I want to use a 404 message. I have this configuration, but I am unable to handle the 403 errors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .csrf()\n        .disable()\n        .authorizeHttpRequests()\n          .requestMatchers(endpoints)).authenticated()\n          .anyRequest().permitAll()\n        .and()\n        .sessionManagement()\n          .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authenticationProvider(authenticationProvider)\n        .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n    return http.build();\n}\n</code></pre>\n<p>I have been reading the answers, and it seems that creating a custom filter is considered a bad practice. Is it possible to handle 404 and 403 errors with a message? If so, how can I achieve that?</p>\n"},{"comments":[{"comment_id":122454955,"body":"Do you provide and load a URL anywhere? Maybe the search context is <code>null</code> because no website has been loaded."},{"comment_id":122455293,"body":"That&#39;s not the case. The search context is WebElement or WebDriver. Why is it null? Where do you initialize the WebDriver instance? You&#39;re passing driver to initElements - is it initialized somewhere?"},{"comment_id":122458533,"body":"no, I have not initialized the WebDriver instance. Where do I need to initialize? My testbase code ``` public class TestBase  { \tWebDriver driver;  \t@BeforeTest \tpublic void setup() \t{ \t\tWebDriverManager.chromedriver().setup(); \t\tdriver = new ChromeDriver(); \t\tdriver.manage().window().maximize(); \t\tdriver.get(&quot;<a href=\"https://stage.aviationjobsearch.com/&quot;\" rel=\"nofollow noreferrer\">stage.aviationjobsearch.com/&quot;</a>); \t} } ```"},{"comment_id":122474408,"body":"Please check your xpath is properly finding the element, in your developer tools. driver is unable to identify the element that is why it is returning the Null value"}],"answers":[{"answer_id":70618080,"body":"<p>Please use the same WebDriver instance from your TestBase class throughout all the scripts.\nEx., in LoginTest class remove the WebDriver declaration and modify the line:</p>\n<pre><code>HomePage objHomePage = new HomePage(TestBase.driver);\n</code></pre>\n<p>Make the WebDriver instance as static in TestBase class.</p>\n"},{"comments":[{"comment_id":126848450,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71778917/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":71778917,"body":"<p>WebDriver driver; You are freshly declaring hence its null.</p>\n<p>public class LoginTest extends TestBase { //Comment this as you are already extending TestBase\n// WebDriver driver;</p>\n<p>//Also instead of mentioning driver //= new Chromedriver();\n// in before //method..write it here.</p>\n"},{"answer_id":76041386,"body":"<pre><code>public class LoginStep {\npublic static WebDriver driver = new ChromeDriver();\nLoginPom lp = new LoginPom(driver);\n\n@Given(&quot;user navigate the login page&quot;)\npublic void user_navigate_the_login_page() {\n    WebDriverManager.chromedriver().setup();\n    //driver = new ChromeDriver();\n    driver.get(&quot;https://letcode.in/&quot;);\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    lp.Loginbutton().click();\n</code></pre>\n<p>webdriver driver = new chromedriver();\nits working for me you have to initialize the browser first before entering into the steps</p>\n"}],"last_activity_date":1684670660,"question_id":69282479,"body":"<p>The below code is failing in <code>homeSignInLink.click();</code> and giving error</p>\n<pre><code>&quot;NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>public class LoginTest extends TestBase\n{\n    WebDriver driver;\n    HomePage objHomePage = new HomePage(driver);\n     \n    @Test\n    public void login_check()\n    {\n        objHomePage.clickHomeSignInLink();\n        objHomePage.clickRecruiterSignInLink();\n    }\n}\n\npublic class HomePage\n{\n    WebDriver driver;\n    \n    @FindBy(xpath=&quot;//a[@class='nav-link bold' and text()='Sign in']&quot;) WebElement homeSignInLink;   \n    @FindBy(xpath=&quot;//a[text()='Recruiter sign in']&quot;) WebElement recruiterSignInLink;  \n\n    public HomePage(WebDriver driver)\n    {\n        this.driver = driver;\n        //This initElements method will create all WebElements\n        PageFactory.initElements(driver, this);\n    } \n    public void clickHomeSignInLink()\n    {   \n        homeSignInLink.click();\n    }\n    public void clickRecruiterSignInLink()\n    {\n        recruiterSignInLink.click();\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134548008,"body":"Two things. Firstly, don&#39;t do Thread.sleep. Instead use  (WebDriverWait) wait.until(ExpectedConditions.presenceOfElementLocated(...). But the issue you are having could be that you need to click the textfield first before you can sendkeys."},{"comment_id":134548042,"body":"yes, as you can see at my code, i click the textfield first before i sendkeys"},{"comment_id":134548098,"body":"Ah, I see now. Then chances are you might be using the wrong webelement. I see you are finding it by id. But sometimes you have to drill down a div or two to find the &#39;input&#39; element."},{"comment_id":134553286,"body":"hmmm let me check it out then"}],"last_activity_date":1684670579,"question_id":76299816,"body":"<p>org.openqa.selenium.ElementNotInteractableException: element not interactable &quot;when interacting with VueSelect</p>\n<p>so guys, in my current project i was interacting with VueSelect since we are using Nuxt.js\ni got the error : org.openqa.selenium.ElementNotInteractableException: element not interactable when i execute my code like below :</p>\n<pre><code>\n        WebElement currency = driver.findElement(By.id(&quot;select_currency&quot;));\n        Assert.assertTrue(currency.isDisplayed());\n        currency.click();\n        \n        Thread.sleep(3000);\n        \n        currency.sendKeys(&quot;Indonesian Rupiah&quot;);\n        \n        Thread.sleep(3000);\n        \n        currency.sendKeys(Keys.ENTER);\n\n        // below the frontend code in case you guys need it\n\n                        &lt;label&gt;Currency&lt;/label&gt;\n                        &lt;VueSelect\n                          :class=&quot;\n                            validationContext.errors[0]\n                              ? 'vs__dropdown-toggle-invalid'\n                              : ''\n                          &quot;\n                          :options=&quot;listCurrency&quot;\n                          placeholder=&quot;Select Currency&quot;\n                          label=&quot;text&quot;\n                          v-model=&quot;selectCurrency&quot;\n                          id=&quot;select_currency&quot;\n                        &gt;&lt;/VueSelect&gt;\n                     \n</code></pre>\n<p>i use Thread.sleep so i could check the interface</p>\n<p>before the code failed this is the latest condition before it's shut down</p>\n<p><a href=\"https://i.stack.imgur.com/DMKYx.png\" rel=\"nofollow noreferrer\">before it shut down</a></p>\n<p>it seems like it got error at the code : currency.sendKeys(&quot;Indonesian Rupiah&quot;); anybody could give me insight about this?</p>\n<p>i hope i could get some help</p>\n"},{"comments":[{"comment_id":76641091,"body":"If you&#39;re using <code>-passin file:.kp</code> as the password, you might want to try to supply that password as well :-): Right now you&#39;re performing <code>-srcstorepass:file .kp</code>"},{"comment_id":76641330,"body":"I don&#39;t understand your comment :-("}],"answers":[{"comments":[{"comment_id":76642379,"body":"I created the cacerts keystore using openssl, which let me set the password when it asked Enter Export Password: That part worked"}],"answer_id":44830386,"body":"<p>I have got this sorted out. I was using my password that is 'password' to update cacerts keystore in JDK while default password for cacerts keystore is 'changeit'</p>\n"},{"comments":[{"comment_id":99570603,"body":"For what it&#39;s worth, I had only alpha numeric characters but I still got the error.  Exported a new one with only alpha characters and keytool worked?!"}],"answer_id":44831006,"body":"<p>Ok, so I have an answer.</p>\n\n<p>1: I had a non-ASCII character in the password.  openssl can handle that, keypass can't.</p>\n\n<p>2: Having created the private key with the non-ASCII password, I'm stuck with it, so I renamed that file .kpkey, and created a new .kp file with a pure ASCII password</p>\n\n<p>3: This required a change to 5:C:</p>\n\n<pre><code>openssl pkcs12 -export -in mike_ike_com.cer -inkey mike.privateKey.pass.pem -passin file:.kpkey -out mike_ike.p12 -name tomcat -caname root -chain -CAfile Comodo.root.crt \n</code></pre>\n\n<p>Note: when it asks \"Enter Export Password\" I give it the pw from .kp, NOT from .kpkey . The only change is <strong>-passin file:.kpkey</strong></p>\n\n<p>Everything else remains the same, and works</p>\n"},{"answer_id":71079543,"body":"<p>I would like to add another possible cause:</p>\n<p>This error message can be misleading because it also occurs when the keystore is in an unsupported format.</p>\n"},{"answer_id":74797128,"body":"<p>In our situation the Application Server was not opening the <code>Keystore.p12</code> that was supplied by the application, but the generated <code>KeyStore.p12</code> during startup. Both were in different (yet similar) paths but had different passwords.</p>\n"},{"answer_id":76299791,"body":"<p>you just delete old keystore in User/upload_keystore.jsk\nand then reuse\nOn mac:</p>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n</code></pre>\n<p>On Android:</p>\n<pre><code>keytool -genkey -v -keystore %userprofile%\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n</code></pre>\n"}],"last_activity_date":1684670200,"question_id":44830270,"body":"<p>Created a Certificate for Tomcat, trying to get it installed in new keystore, and getting error (Edit: ran it with -v option, now getting more info):</p>\n\n<pre><code>keytool error: java.io.IOException: keystore password was incorrect\njava.io.IOException: keystore password was incorrect\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2015)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n    at sun.security.tools.keytool.Main.loadSourceKeyStore(Main.java:1894)\n    at sun.security.tools.keytool.Main.doImportKeyStore(Main.java:1926)\n    at sun.security.tools.keytool.Main.doCommands(Main.java:1021)\n    at sun.security.tools.keytool.Main.run(Main.java:340)\n    at sun.security.tools.keytool.Main.main(Main.java:333)\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: java.io.IOException: getSecretKey failed: Password is not ASCII\n</code></pre>\n\n<p>Sadly, it's correct, the passphrase has two \"®\".  So, given what I've done (the private key has the non-ASCII password), how much of a pain will it be to recover from this?:</p>\n\n<pre><code>1: Create a passphrase file: vi .kp\n2: Make CSR:\nA: Generate a 2048 bit private key:\nopenssl genpkey -algorithm RSA -outform PEM -out mike.privateKey.pass.pem -pkeyopt rsa_keygen_bits:2048 -pass file:.kp\nB: Make the CSR:\nopenssl req -new -sha256 -key mike.privateKey.pass.pem -out mike.ike.com.cert.csr\nNote: CSR has different \"challenge password\" than in the passphrase file, if that matters\n3: Submit CSR to Comodo\n4: Get certificate file mike_ike_com.cer &amp; Comodo trust chain files: COMODORSAOrganizationValidationSecureServerCA.crt, COMODORSAAddTrustCA.crt, AddTrustExternalCARoot.crt\n5: Convert the Certificates:\nA: Convert to PEM:\nopenssl x509 -inform DER -in COMODORSAOrganizationValidationSecureServerCA.crt -out COMODORSAOrganizationValidationSecureServerCA.pem -outform PEM\nopenssl x509 -inform DER -in COMODORSAAddTrustCA.crt -out COMODORSAAddTrustCA.pem -outform PEM\nopenssl x509 -inform DER -in AddTrustExternalCARoot.crt -out AddTrustExternalCARoot.pem -outform PEM\nB: Concat into a single file:\ncat COMODORSAOrganizationValidationSecureServerCA.pem COMODORSAAddTrustCA.pem AddTrustExternalCARoot.pem &gt; Comodo.root.crt \nC: Use openssl to create a pkcs12 file:\nopenssl pkcs12 -export -in mike_ike_com.cer -inkey mike.privateKey.pass.pem -passin file:.kp -out mike_ike.p12 -name tomcat -caname root -chain -CAfile Comodo.root.crt \nNote: when it asks \"Enter Export Password\" I give it the pw from .kp\n6: Use keytool to create the keystore file:\n$JAVA_HOME/bin/keytool -importkeystore -deststorepass:file .kp -destkeypass:file .kp -destkeystore .keystore -srckeystore mike_ike.p12 -srcstoretype PKCS12 -srcstorepass:file .kp -alias tomcat\n</code></pre>\n\n<p>The file \".keystore\" does not exist.  I am assuming that keytool will create it</p>\n"},{"answers":[{"answer_id":74095386,"body":"<h1>Iterative implementation</h1>\n<p>Here's the algorithm for generating all non-empty subarrays of the given array iteratively:</p>\n<ul>\n<li><p>Maintain two nested lists: one for subarrays that are in progress and the resulting list for subarrays that are already built.</p>\n</li>\n<li><p>At each iteration step, create a <em>copy</em> of each subarray that is still in progress and add the next element to it. Whilst the <em>original subarray</em> goes into the resulting list intact.</p>\n</li>\n<li><p>At the very end of the iteration, add a singleton list containing the next element into the list containing subarrays with we will continue to work, so that on the next iteration step this list would serve as a blueprint for a new subarray and immediately will go into the resulting list.</p>\n</li>\n</ul>\n<p>That's how it can be implemetned:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; getSubArrays(int[] arr) {\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    List&lt;List&lt;Integer&gt;&gt; inProgress = new ArrayList&lt;&gt;();\n    \n    for (int next: arr) {\n        List&lt;List&lt;Integer&gt;&gt; proceedWith = new ArrayList&lt;&gt;();\n        \n        for (List&lt;Integer&gt; subArray: inProgress) {\n            result.add(subArray); // we are done with this subarray\n            \n            List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(subArray);\n            copy.add(next);\n            proceedWith.add(copy); // we should continue working with copy\n        }\n        \n        proceedWith.add(List.of(next)); // to avoid empty subarrays appear in the result\n        inProgress = proceedWith;\n    }\n    \n    result.addAll(inProgress);\n    \n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    int[] arr = {1, 2, 3};\n    \n    getSubArrays(arr).forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1]\n[1, 2]\n[2]\n[1, 2, 3]\n[2, 3]\n[3]\n</code></pre>\n<h1>Recursive implementation</h1>\n<p>The main logic remains the same:</p>\n<ul>\n<li><p>Every subarray serves as a blueprint for another subarray in case if there are some unused elements left.</p>\n</li>\n<li><p>Each single-element subarray produces a new branch of subarrays (if there are some unused elements left).</p>\n</li>\n</ul>\n<p><strong>Base case</strong> (the condition when recursion should terminate) - there are no elements to explore, i.e. current index is equal to array's length.</p>\n<p><strong>Recursive case:</strong></p>\n<ul>\n<li><p>Create a copy of the subarray received as an argument and add the next element to, original subarray should go into the resulting list.</p>\n</li>\n<li><p>Then perform two recursive calls: one with the subarray's copy, another with a single-element subarray (containing the next element).</p>\n</li>\n</ul>\n<p>That's how recursive implementation might look like:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; getSubArraysRecursively(int[] arr) {\n    \n    if (arr.length == 0) return Collections.emptyList();\n    \n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; subarray = List.of(arr[0]);\n    generateSubArrays(result, subarray, arr, 1);\n    \n    return result;\n}\n\nprivate static void generateSubArrays(List&lt;List&lt;Integer&gt;&gt; result,\n                                      List&lt;Integer&gt; subarray,\n                                      int[] arr, int i) {\n    \n    if (i == arr.length) { // base case\n        result.add(subarray);\n        return;\n    }\n    \n    // recursive case\n    result.add(subarray);\n\n    List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(subarray);\n    copy.add(arr[i]);\n    \n    generateSubArrays(result, copy, arr, i + 1); // proceed working with the copy\n    \n    generateSubArrays(result, List.of(arr[i]), arr, i + 1); // start a new branch of subarrays\n}\n</code></pre>\n"},{"comments":[{"comment_id":130823374,"body":"<code>[1]</code> repeats 7 times: that&#39;s no good."},{"comment_id":130824027,"body":"Thank you Arvind for the solution, learned a lot here! Unfortunately, the output is not what I was hoping for. Apologies for not being clear!"},{"comment_id":130831227,"body":"@Alex - That was an easy fix and you could do it. Feel free to edit posts to fix something like this. Anyway, thanks for pointing it out. I have fixed it now."},{"comment_id":130831269,"body":"@PatPatPat - Most welcome! I wrote the answer during a meeting break 😊. I had hardly 5 minutes to write the answer and after that, I have been in back-to-back meetings. Just got time to fix it./"}],"answer_id":74095399,"body":"<h2><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-\" rel=\"nofollow noreferrer\"><code>List#subList</code></a></h2>\n<p>You can do it with simple nested loops, a counter and some functions e.g. <code>Math#min</code>, <code>List#subList</code> etc. as shown below:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String args[]) {\n        int[] arr = { 1, 1, 1, 1 };\n        List&lt;Integer&gt; list = Arrays.stream(arr).boxed().toList();\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        int counter = 1;\n        for (int i = 0; i &lt; arr.length; i++) {\n            for (int j = 0; j &lt; arr.length; j++) {\n                List&lt;Integer&gt; sublist = list.subList(j, Math.min(j + counter, arr.length));\n                if (sublist.size() == counter)\n                    result.add(sublist);\n            }\n            counter++;\n        }\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>[[1], [1], [1], [1], [1, 1], [1, 1], [1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1, 1]]\n</code></pre>\n"},{"answer_id":76299770,"body":"<p>Using List and stream we can get all SubArrays from an array.</p>\n<pre><code>public static void listSubArrays() {\n    int[] array = new int[] {1, 2, 3};\n    List&lt;List&lt;Integer&gt;&gt; subArrays = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; list =\n            Arrays.stream(array).boxed().collect(Collectors.toList());\n    for (int i = 0; i &lt; array.length; i++) {\n        for (int j = i; j &lt; array.length; j++){\n            subArrays.add(list.subList(i, j+1));\n        }\n    }\n    subArrays.stream().forEach(System.out::println);\n}\n</code></pre>\n"}],"last_activity_date":1684669877,"question_id":74094646,"body":"<p>How to generate all subarrays from an initial array?</p>\n<p>Let's consider an array: <code>[1,1,1,1]</code>.</p>\n<p>I would like to generate all possible subarrays (in no particular order).</p>\n<p><em>Expected result:</em></p>\n<pre><code>[1], [1], [1], [1], \n[1, 1], [1, 1], [1, 1],\n[1, 1, 1], [1, 1, 1],\n[1, 1, 1, 1]\n</code></pre>\n<p><em>My attempt:</em></p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\ngenerateAllSubArrays(nums, list, 0, 0);\n</code></pre>\n<pre><code>private void generateAllSubArrays(int[] nums, List&lt;List&lt;Integer&gt;&gt; list, int start, int end) {\n    if (end == nums.length) {\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        for (int n : nums) {\n            l.add(n);\n        }\n        list.add(l);\n    } else if (start &gt; end) {\n        generateAllSubArrays(nums, list, 0, end + 1);\n    } else {\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        for (int i = start; i &lt; end; i++) {\n            l.add(nums[i]);\n        }\n        list.add(l);\n        generateAllSubArrays(nums, list, start + 1, end);\n    }\n}\n</code></pre>\n<p>I'm getting the following result:</p>\n<pre><code>[[], [1], [], [1, 1], [1], [], [1, 1, 1], [1, 1], [1], [], [1, 1, 1, 1]]\n</code></pre>\n<p><em>Issues:</em></p>\n<ul>\n<li><p>Some empty lists <code>[]</code> are present in the result (which is undesired). Unfortunately, I failed to understand why they are here.</p>\n</li>\n<li><p>Some of the expected values are absent, making the result incorrect.</p>\n</li>\n</ul>\n<p>What did I do wrong, and what should I do in order to get the correct computation?</p>\n<p>I believe what I tried is using some sort of recursion, increasing space and time complexity. What would be the algorithm with the best space and time complexity?</p>\n"},{"comments":[{"comment_id":134547726,"body":"So what exactly is the problem with the snippet below? How does its behavior differ from the expected behavior?"},{"comment_id":134547735,"body":"It is not clear what you mean by &quot;check the quantities of the inventory&quot;."},{"comment_id":134547784,"body":"Well , when I give the same question after I posted my this, my professor said check &quot;specific quantity of item&quot;."},{"comment_id":134547854,"body":"The question is still not fully clear, and you&#39;ll probably want to discuss this with your instructor. Note though that if this were my code, I&#39;d create a new class, one that holds a String field for the item and an int field for the batch. I&#39;d then create an array list of this class, and fill it with MyClass items. <code>ArrayList&lt;MyClass&gt;</code>"}],"last_activity_date":1684669799,"question_id":76299699,"body":"<p>So my problem here is that our professor want us to create a 2-Dim arraylist that adds an item and check it's respective quantity:</p>\n<p>Like this output:</p>\n<pre><code>Apple 10 \nBanana 20 \n</code></pre>\n<p>Both of these are supposedly a String data types, but because I used &quot;Integer.parseInt()&quot;, I turned the string values &quot;10&quot; and &quot;20&quot; into integer.</p>\n<p>After this I don't know now how to add these values in order for me to meet the 2nd requirement, which is to check the quantities of the inventory that I made. I attempted multiple times how to solve this but it always result in a error.</p>\n<p>How do I solve this?</p>\n<p>Btw this is my code in question:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class Inventory {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; myInventory = new ArrayList&lt;&gt;();\n        String item, batch, answer;\n        do {\n            ArrayList&lt;Object&gt; myRow = new ArrayList&lt;&gt;();\n            System.out.print(&quot;Enter a Item: &quot;);\n            item = input.nextLine();\n            myRow.add(item);\n            System.out.print(&quot;Enter a batch: &quot;);\n            batch = input.nextLine();\n            myRow.add(parseInput(batch));\n            System.out.print(&quot;\\n&quot;);\n            myInventory.add(myRow);\n            System.out.print(&quot;Do you want to continue?: &quot;);\n            answer = input.nextLine();\n        } while(answer.equalsIgnoreCase(&quot;yes&quot;));\n        for(ArrayList&lt;Object&gt; myRow : myInventory) {\n            for(Object toInv : myRow){\n                System.out.print(toInv + &quot; &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n        input.close();\n    }\n\n    public static Object parseInput(String batch) {\n        try {\n            return Integer.parseInt(batch);\n        } catch (NumberFormatException e) {\n            return batch;\n        }\n    }\n}\n</code></pre>\n<p>This is the current result when I input the values:</p>\n<pre><code>Enter a Item: Milk\nEnter a batch: 8\n\nDo you want to continue?: Yes\nEnter a Item: Chocolate\nEnter a batch: 7\n\nDo you want to continue?: Yes\nEnter a Item: Chips\nEnter a batch: 2\n\nDo you want to continue?: no\nMilk 8 \nChocolate 7\nChips 2\n</code></pre>\n"},{"comments":[{"comment_id":104009885,"body":"post your code!"},{"comment_id":104010111,"body":"Could you prepare some picture that so your idea? Maybe that could help."},{"comment_id":104010154,"body":"@TrầnĐứcT&#226;m I already posted an image"},{"comment_id":104010401,"body":"post your xml file too"},{"comment_id":104010490,"body":"I guest you problem is you set the peek height before the CordinatorLayout done it measure task. Let try the <code>post</code> method of the view. <a href=\"https://stackoverflow.com/questions/13840007/what-exactly-does-the-post-method-do\" title=\"what exactly does the post method do\">stackoverflow.com/questions/13840007/&hellip;</a>"},{"comment_id":104010560,"body":"@TrầnĐứcT&#226;m I&#39;ve tried with the post method, but it hasnt worked"}],"answers":[{"answer_id":76299636,"body":"<p>You can set the peek height of a BottomSheet to a specific view using the setPeekHeight method of the BottomSheetBehavior class. Here's an example:</p>\n<pre><code>ViewTreeObserver vto = target_view.getViewTreeObserver();\n    vto.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n        @Override\n        public void onGlobalLayout() {\n            target_view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n\n            // Get the height of the target view from the top of its parent view\n            int targetViewHeight = target_view.getTop();\n            // Set the peek height of the BottomSheet to the height of the target view\n            bottomSheetBehavior.setPeekHeight(targetViewHeight);\n            // Set the state of the BottomSheet to collapsed\n            bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n\n        }\n    });\n</code></pre>\n"}],"last_activity_date":1684669256,"question_id":58870631,"body":"<p>I have a <code>bottomsheet behavior</code> in a <code>linear layout</code>. I need to set the <code>peak height</code> of the <code>bottom sheet</code> to below this <code>button</code>, so it works great on all screens instead of giving a constant value.</p>\n<p>The <code>bottom sheet</code> is inside a <code>CoordinatorLayout</code> that has that weird transparent big space. I want the sheet to fill up that space<br />\nThe rounded bottom sheet's <code>peak height</code> should match up to below the Fireworks text</p>\n<p><img src=\"https://i.stack.imgur.com/bQxkE.png\" alt=\"\" /></p>\n<p>I have tried with <code>setPeekHeight(ContainerOfBottomSheet.getMeasuredHeight());</code> but it seems to return 0 or an extremely big value.\nHow can I do that?</p>\n<p><strong>UPDATE</strong><br />\nThis is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void SettingSheet(LinearLayout sheet, final CoordinatorLayout c) {\n      final BottomSheetBehavior beh = BottomSheetBehavior.from(sheet);\n        \n      c.measure(ActionBar.LayoutParams.WRAP_CONTENT, ActionBar.LayoutParams.WRAP_CONTENT);\n      CHeight = c.getMeasuredHeight();\n        \n      beh.setPeekHeight(CHeight);\n            }\n</code></pre>\n<p>//This is making the big value I have talked about.</p>\n"},{"last_activity_date":1684668875,"question_id":76291590,"body":"<p>I have a JSP page, where we have some reports displayed post fetching details from database.</p>\n<p>Now I want sumbit button on same page, once we click on the submit button. It should send report of that JSP page to mention email id.</p>\n<p>I don't have any idea. How to implement it . I want sample JSP code to do the above task.</p>\n"},{"comments":[{"comment_id":134326899,"body":"Have you tried to use different link or url that ends with some valid extension of audios like .mp3 ? Because as per your error , it looks like <code>Exoplayer</code> is not able to identify your audio because of html link"},{"comment_id":134355711,"body":"Indeed, with that link it played the music before but now it doesn&#39;t, it&#39;s an online radio link and I know it works because it&#39;s active at all times"}],"last_activity_date":1684668436,"question_id":76169226,"body":"<p>Good evening Devs, I have a problem when compiling or running in a radio app, the first time I tried it it worked completely fine but now with the same project it doesn't play and it throws me this error in the exoplayer when I run it, I've already I tried everything and it doesn't work for me.</p>\n<p>The streaming link I use comes from shoutcast.com and it works fine.</p>\n<p>It is this: <a href=\"https://radio.voxstream.net:7032/index.html?sid=1\" rel=\"nofollow noreferrer\">https://radio.voxstream.net:7032/index.html?sid=1</a></p>\n<p>It should be noted that it is a project that a friend asked me to review and I don't have much knowledge on the subject other than basic Kotlin and dependencies.</p>\n<p>Source error.</p>\n<blockquote>\n<p>com.google.android.exoplayer2.source.UnrecognizedInputFormatException:\nNone of the available extractors (MatroskaExtractor,\nFragmentedMp4Extractor, Mp4Extractor, Mp3Extractor, AdtsExtractor,\nAc3Extractor, TsExtractor, FlvExtractor, OggExtractor, PsExtractor,\nWavExtractor, AmrExtractor) could read the stream.\nat\ncom.google.android.exoplayer2.source.ExtractorMediaPeriod$ExtractorHolder.selectExtractor(ExtractorMediaPeriod.java:973)\nat\ncom.google.android.exoplayer2.source.ExtractorMediaPeriod$ExtractingLoadable.load(ExtractorMediaPeriod.java:891)\nat\ncom.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:381)\nat\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nat java.lang.Thread.run(Thread.java:923)</p>\n</blockquote>\n<p>Config.java from app:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.creativoagencia.lasabrosadechile;\n\npublic class Config {\n\n    /**\n     * URL DE SERVIDOR\n     */\n    public static final String BASE_URL = &quot;https://system.easywebecuador.com/panelradiotv/server/public/&quot;;\n    public static final String URL_SERVER = BASE_URL+ &quot;api/&quot;;\n    /**\n     * ID DE USUARIO EN EL SERVIDOR\n     */\n    public static final int ID_USER = 372;\n\n    /**\n     * TERMINOS Y CONDICIONES\n     */\n    public static final String TERMINOS = &quot;\\n&quot; + &quot;https://livestreamingmundial.com/privacidad&quot;;\n\n    /**\n     * Typeface Menu lateral\n     */\n    public static final int TYPEFACE_DRAWER = R.font.clanpro;\n\n\n    //Ingrese las Url de su Streaming de Audio y Video\n    public static final String RADIO_STREAM_URL = &quot;https://radio.voxstream.net:7032/index.html?sid=1&quot;;\n    public static final String TV_STREAM_URL = &quot;none&quot;;\n\n    //Acrivar el Uso de Panel de Control\n    public static final boolean ENABLE_ADMIN_PANEL = false;\n    //Cololar la URL del Panel de Control\n    public static final String ADMIN_PANEL_URL = &quot;none&quot;;\n\n    //ads configuration\n    public static final boolean ENABLE_ADMOB_BANNER_ADS = false;\n    public static final boolean ENABLE_ADMOB_INTERSTITIAL_ADS_ON_LOAD = false;\n    public static final boolean ENABLE_ADMOB_INTERSTITIAL_ADS_ON_DRAWER_SELECTION = false;\n    public static final boolean ENABLE_ADMOB_INTERSTITIAL_ON_PLAY = false;\n    public static final int ADMOB_INTERSTITIAL_ON_PLAY_INTERVAL = 30;\n\n    //auto play function\n    public static final boolean ENABLE_AUTO_PLAY = true;\n\n    //layout customization\n    public static final boolean ENABLE_SOCIAL_MENU = true;\n\n    //album art configuration\n    public static final boolean ENABLE_ALBUM_ART = true;\n    public static final boolean ENABLE_CIRCULAR_IMAGE_ALBUM_ART = true;\n    public static final int ALBUM_ART_BORDER_WIDTH = 8;\n    public static final int ALBUM_ART_CORNER_RADIUS = 30;\n\n    //when it enabled, the radio will be reloaded and the metadata will immediately be updated\n    //there may be a slight delay on play audio streaming when the metadata is updated\n    public static final boolean FORCE_UPDATE_METADATA_ON_RESUME = true;\n\n    //splash screen duration in millisecond\n    public static final int SPLASH_SCREEN_DURATION = 3000;\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":134178358,"body":"This is an HTTP client, not a REST client.  Try okhttp, which allows construction of an url instead or jax-rs"},{"comment_id":134178383,"body":"or just <code>setUrl(v3_USER_DETAILS.replace(&quot;{userId}&quot;, userId))</code>"}],"answers":[{"answer_id":76299630,"body":"<p>I checked out the library's code, and it looks like it doesn't support inserting path parameters into URLs. You can easily add a query parameter using <code>addQueryParam(String name, String value)</code>, but there is no method to insert a path parameter as in your example. You have to prepare the whole path part another way, for example, using <code>String::replace()</code> as suggested in a comment.</p>\n"}],"last_activity_date":1684667834,"question_id":75766485,"body":"<p>I am using <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"nofollow noreferrer\">AsyncHttpClient</a> for making HTTP calls. I am unable to find a solution to set a path parameter in a URL. Here is an example:</p>\n<pre><code>userId = &quot;dmsask121&quot;\nString v3_USER_DETAILS = &quot;http://example.com/users/{userId}/details&quot;;\nRequest request = new RequestBuilder(HttpConstants.Methods.GET)\n        .setUrl(v3_USER_DETAILS)\n        // some way to set userId in the URL??\n        .build();\nreturn execute(request)\n</code></pre>\n<p>Thanks in advance for your help.</p>\n"},{"comments":[{"comment_id":134547574,"body":"<code>equals</code> should work with any string, regardless of whether it&#39;s one word, multiple words, or just gibberish. Can you share a concrete example including the <code>books</code> list you have and the input string?"},{"comment_id":134547597,"body":"You should add more details."},{"comment_id":134547598,"body":"What do you expect to happen when your input for <code>bookname</code> is something like <code>&quot;name1 name2&quot;</code>? Why would that make <code>equalsIgnoreCase</code> on a single book&#39;s title return true?"},{"comment_id":134547766,"body":"The problem is not with <code>equals</code>.  The problem is that you are only &gt;&gt;reading&lt;&lt; one word when you call <code>next()</code>.   See the duplink."},{"comment_id":134561342,"body":"okay guys thank you i finally solved the problem"},{"comment_id":134561361,"body":"sorry for the lack of details and everything this is my first post and i was in kinda of a hurry because of my collage project"}],"last_activity_date":1684667561,"question_id":76299589,"body":"<p>When I use <code>equals()</code> method on a string with more than one word it doesn't work properly and says book not found</p>\n<pre class=\"lang-java prettyprint-override\"><code> private static void search(ArrayList &lt;book&gt; b){\n       Scanner in = new Scanner(System.in);\n       System.out.println(&quot;Enter the name of the book&quot;);\n       String bookname = in.next();\n       boolean found = true;\n             for (book book : b){\n                if (book.getTitle().equalsIgnoreCase(bookname)) {\n                    found= true;\n                    System.out.println(book);\n                    break;\n                } else {\n                    found = false;\n                }\n            }\n            if (!found) {\n                System.out.println(&quot;Book is not found&quot;);\n            }\n}\n</code></pre>\n<p>I suppose it compares 2 strings no matter what but it only works if it's one word</p>\n"},{"comments":[{"comment_id":134547572,"body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/76299563/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be tested by others. Also see <a href=\"//meta.stackoverflow.com/questions/271055\">Tips for asking a good Structured Query Language (SQL) question</a>. It is unclear what you are asking or what the problem is."},{"comment_id":134547852,"body":"It is unclear what you are asking about.  What do you mean by &quot;dynamic input&quot;?  Input from what or who?  Are you asking about how to do that? Or are you asking about how to format the output?  Or are you asking about how <i>select</i> on a column whose name is an input?   I&#39;m afraid that we can&#39;t answer you unless you are clear in your question.   Clear enough that we can understand  you."}],"last_activity_date":1684667498,"question_id":76299563,"body":"<p>I want to fetch the column first from the mysql database and then also input the the values inside it on the dynamic input and get all the details of the rest of the columns also . can anyone tell me how to do that.\nIn short on console I have to put the column name first and then will get the values inside it print on the console.\ncan anyone help me how to do it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    }\n    private void selectRecord() throws SQLException {\n        System.out.println(&quot;enter the id to get the result&quot;);\n        int number = Integer.parseInt(scanner.nextLine());\n        String sql = &quot;select * from your_table_name where id = &quot; + number;\n        Statement statement = connection.createStatement();\n        \n        ResultSet resultSet = statement.executeQuery(sql);\n        \n        if(resultSet.next()) {\n            int int1 = resultSet.getInt(&quot;id&quot;);\n            String string = resultSet.getString(&quot;name&quot;);\n            String string2 = resultSet.getString(&quot;salary&quot;);\n            String string3 = resultSet.getString(&quot;email&quot;);\n            System.out.println(&quot;id is &quot;+ int1);\n            System.out.println(&quot;name is &quot;+ string);\n            System.out.println(&quot;salary is &quot;+ string2);\n            System.out.println(&quot;email is &quot;+ string3);\n        }else {\n            System.out.println(&quot;record is not available&quot;);\n        }\n        \n    }\n}\n}\n</code></pre>\n"},{"comments":[{"comment_id":134566387,"body":"Java can&#39;t find io.socket.client.IO because it&#39;s not installed anywhere in your mod or in Minecraft apparently"}],"last_activity_date":1684667265,"question_id":76299562,"body":"<p>I'm trying to use websocket.io-client java for my minecraft fabric mods so i added this code in my build.gradle file</p>\n<pre><code>dependencies {\n    // other implementation\n    implementation 'org.json:json:20211205'\n    implementation ('io.socket:engine.io-client:2.1.0') {\n        // excluding org.json which is provided by Android\n        exclude group: 'org.json', module: 'json'\n    }\n    // Socket IO\n    implementation ('io.socket:socket.io-client:2.1.0') {\n        // excluding org.json which is provided by Android\n        exclude group: 'org.json', module: 'json'\n    }\n}\n</code></pre>\n<p>and its work well in my IDE. But after i built the mod and add it into my launcher, it crashed for</p>\n<pre><code>java.lang.RuntimeException: Could not execute entrypoint stage 'main' due to errors, provided by 'cloudchat'!\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.lambda$invoke0$0(EntrypointUtils.java:51)\n    at net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:49)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke(EntrypointUtils.java:35)\n    at net.fabricmc.loader.impl.game.minecraft.Hooks.startClient(Hooks.java:52)\n    at net.minecraft.class_310.&lt;init&gt;(class_310.java:468)\n    at net.minecraft.client.main.Main.main(Main.java:198)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:462)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.multimc.onesix.OneSixLauncher.launchWithMainClass(OneSixLauncher.java:210)\n    at org.multimc.onesix.OneSixLauncher.launch(OneSixLauncher.java:245)\n    at org.multimc.EntryPoint.listen(EntryPoint.java:143)\n    at org.multimc.EntryPoint.main(EntryPoint.java:34)\n    Suppressed: java.lang.BootstrapMethodError: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_634 failed\n        at de.keksuccino.fancymenu.networking.Packets.registerAll(Packets.java:25)\n        at de.keksuccino.fancymenu.FancyMenu.onInitialize(FancyMenu.java:154)\n        at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\n        ... 15 more\n    Caused by: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_634 failed\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:427)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 18 more\n    Caused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\n        at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392)\n        at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\n        at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\n        ... 22 more\n    Caused by: org.spongepowered.asm.mixin.transformer.throwables.MixinPreProcessorException: Attach error for CloudChat.mixins.json:ChatMixin from mod cloudchat during activity: [Transform -&gt; Method onSendChatMessage(Ljava/lang/String;Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; INVOKEVIRTUAL -&gt; io/socket/client/Socket::disconnect:()Lio/socket/client/Socket;]\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:313)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:277)\n        at org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1289)\n        at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:294)\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421)\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403)\n        at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\n        ... 25 more\n    Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: io.socket.client.Socket\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transformMemberReference(MixinPreProcessorStandard.java:786)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transformMethod(MixinPreProcessorStandard.java:772)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transform(MixinPreProcessorStandard.java:738)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:307)\n        ... 31 more\n    Caused by: java.lang.ClassNotFoundException: io.socket.client.Socket\n        ... 35 more\nCaused by: java.lang.NoClassDefFoundError: io/socket/client/IO\n    at dev.dinofeng.cloudchat.socket.SocketConnection.connect(SocketConnection.java:18)\n    at dev.dinofeng.cloudchat.socket.SocketConnection.&lt;init&gt;(SocketConnection.java:14)\n    at dev.dinofeng.cloudchat.CloudChat.initClient(CloudChat.java:44)\n    at dev.dinofeng.cloudchat.CloudChatInitializer.onInitialize(CloudChatInitializer.java:16)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\n    ... 15 more\nCaused by: java.lang.ClassNotFoundException: io.socket.client.IO\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:226)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 20 more\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n</code></pre>\n<p>I had tried to download the source and put it into src/main/java but seems not working.\nHow to fix it?</p>\n"},{"comments":[{"comment_id":134547421,"body":"<a href=\"https://stackoverflow.com/questions/68854192/its-correct-answer-is-22-but-i-am-getting-24-where-am-i-wrong-i-evaluate-the\" title=\"its correct answer is 22 but i am getting 24 where am i wrong i evaluate the\">stackoverflow.com/questions/68854192/&hellip;</a> might also be relevant since the expression is actually evaluated as <code>val1 %=  (3 + ++val1 + val2--)</code> and the left part results in the value <code>100</code>."},{"comment_id":134547578,"body":"I think this becomes clear when you rewrite that statement so it becomes clear what that <code>val1%=</code> actually does: <code>Integer val3 = val1 = (val1 % (3 + ++val1 + val2--));</code>"}],"last_activity_date":1684666648,"question_id":76299444,"body":"<p>Can anyone please elaborate on the below output? Not able to get why output will be 100</p>\n<pre><code>class Main {\n\n    public static void main(String args[]) {\n        Integer val1 = 100;\n        Integer val2 = 2;\n        Integer val3 = val1%=3 + ++val1 + val2--;\n        System.out.println(val3);\n    }\n}\n</code></pre>\n<p>I tried different ways but this concept is not clear to me.</p>\n"},{"comments":[{"comment_id":107508108,"body":"What have you researched so far?"},{"comment_id":107508176,"body":"Besides @Thorbj&#248;rnRavnAndersen &#39;s comment, I would urge you to consider using two different docker containers.  One for your node.js application and one for your Elastic Search storage.  It looks like you&#39;re doing that with your Mongo container...  Btw, there should be Elastic Search containers already out there to use, but if you want to install it yourself, use one of the OpenJDK containers and then install Elastic Search on that container."},{"comment_id":107519921,"body":"I would look at this <a href=\"https://stackoverflow.com/questions/49800652/run-java-in-docker-compose\" title=\"run java in docker compose\">stackoverflow.com/questions/49800652/run-java-in-docker-comp&zwnj;&#8203;ose</a>."}],"answers":[{"comments":[{"comment_id":107510189,"body":"This is most likely not what is really wanted here."},{"comment_id":107510727,"body":"It’s more than nothing though isn’t it"}],"answer_id":60764093,"body":"<p>Docker-compose is a tool used to launch multiple containers from a single .yaml file. </p>\n\n<p>Add this line to your Dockerfile to install Java:</p>\n\n<pre><code>RUN apt-get update &amp;&amp; \\\napt-get install -y openjdk-8-jdk &amp;&amp; \\\napt-get install -y ant &amp;&amp; \\\napt-get clean;\n</code></pre>\n"},{"answer_id":76299516,"body":"<p>Just add directive <strong>command</strong> see example. my base image is alpine. Now i am starting my image with composer and installing java. This working for me</p>\n<blockquote>\n<p>command: apk add --update openjdk11</p>\n</blockquote>\n<pre><code>---\n\nnetworks:\n  imaspc:\n    external: true\n\nservices:\n  hello_world:\n    image: test1:latest\n    container_name: test1\n    hostname: test1\n    tty: true\n    env_file:\n      - postgr.env\n    command: apk add --update openjdk11\n    networks:\n      - imaspc\n    labels:\n        - &quot;dbengine=postgres&quot;\n        - &quot;dbversion=14&quot;\n</code></pre>\n"}],"last_activity_date":1684666562,"question_id":60763945,"body":"<p>I am building an node mongo project.\nI am using docker compose for the project.\nhere is my dockerFile</p>\n\n<pre><code>FROM node:carbon\nWORKDIR /usr/src/app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 8080\nCMD [ \"npm\", \"start\" ]\n</code></pre>\n\n<p>Here is docker-compose.yml</p>\n\n<pre><code>version: \"2\"\nservices:\n  app:\n    container_name: app\n    restart: always\n    build: .\n    ports:\n      - \"3000:3000\"\n    links:\n      - mongo\n  mongo:\n    container_name: mongo\n    image: mongo\n    volumes:\n      - ./data:/data/db\n    ports:\n      - \"27017:27017\"\n</code></pre>\n\n<p>Here I also want to install java using docker-compose. As I will need java for elastic search and for other purposes. So can any one help about how to install java using docker-compose in this project.</p>\n"},{"answers":[{"answer_id":60124589,"body":"<p>The problem is this piece of code -</p>\n\n<pre><code>int lotteryDigit1 = lottery % 100;\n</code></pre>\n\n<p>For <code>lottery</code> = 554, <code>lotteryDigit1</code> will be set to 54. Similarly, <code>guessDigit1</code> is set to 42. Instead, lottery % 10 should give you the least significant digit here.</p>\n\n<p>Note - It's probably easy to figure out this flaw easily in this case, but learning how to use a debugger will help you in similar issues in future.</p>\n"},{"answer_id":60124604,"body":"<p>So, in this case there's a couple very small bugs. When you're attempting to get digit 1, you modulo by 100. I believe you're meaning to modulo by 10 to get the digit in the 1s place. You can view this by putting in a debugger if you know how or simply printing out the values you have temporarily while you work out the bugs.</p>\n\n<p>One thing you didn't mention, but I think you'll see later is that your code for determining if the 3 numbers match is slightly incorrect:</p>\n\n<pre><code>        else if (guessDigit2 == lotteryDigit1 \n                &amp;&amp; guessDigit1 == lotteryDigit2\n                &amp;&amp; guessDigit3 == lotteryDigit3)\n</code></pre>\n\n<p>doesn't compare the correct pairs of digits.</p>\n"},{"answer_id":63247959,"body":"<pre><code>public class Main {\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in); //make new scanner\n</code></pre>\n<p>// Generate a random three-digit number</p>\n<pre><code>    // Prompt the user to enter a three-digit number\n    //Generate random number with 3 diggits\n    int randomLottery = 100 + (int)(Math.random() * ((999 - 100)+1));\n    //Start scanner\n\n    //Prompt user to enter three digits\n    System.out.println(&quot; Enter the Guess number (three digit) integer&quot;);\n    int GuessUser = input.nextInt();\n\n    int GUESS1 = GuessUser /100;\n    int remainGuess = GuessUser % 100;\n\n    int guess2 = remainGuess /10;\n    int guess3= remainGuess % 10;\n\n\n    //Get  3 digits from lottery\n\n    int d1 = randomLottery /100;\n    int remainL = randomLottery % 100;\n\n    int d2 = remainL /10;\n    int d3= remainL % 10;\n\n    System.out.println(&quot; The lottery numbers are &quot; + d1 + &quot; &quot; + d2 + &quot; &quot; + d3 + &quot;!&quot;);\n\n    //**Check the guess and print out the award system.\n    /* if users input matches the lottery input in exact order price is 10000$*/\n\n    if (GuessUser == randomLottery ){\n        System.out.println(&quot;You have won $10000. HAMBALYO!!!!&quot;);\n\n        /* if all the DIGITS EQUAL $3000 */\n\n    }else if (((GUESS1 == d1) || (GUESS1 == d2) || (GUESS1 == d3)) &amp;&amp;\n            ((  guess2 == d1) || (guess2 == d2) || (guess2 == d3)) &amp;&amp;\n            ((guess3 == d1) || (guess3 == d2) || (guess3 == d3))){\n        System.out.println(&quot;ALL DIGITS MATCH! You have won $3000.&quot;);\n\n        /* if at least one digit matches the lottery number the award is 1000$ */\n\n    }else if (((GUESS1 == d1) || (GUESS1 == d2) || (GUESS1 == d3)) ||\n            ((guess2 == d1) || (guess2 == d2) || (guess2 == d3)) ||\n            ((guess3 == d1) || (guess3 == d2) || (guess3 == d3))){\n        System.out.println(&quot;At least one number is correct. You win $1000 &quot;);\n    }else\n        System.out.println (&quot;No match&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"answer_id":67260524,"body":"<p>Well, here's a similar solution in <code>Javascript</code> I came up with:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log('Program started...');\n\n// Settings\nconst persist = true; // 1. Make sure the user inputs a number only, loop until the user inputs a number\n\n// Function: Generates 3 random numbers, between 1 and 10 (inclusive)\nconst generateNumbers = () =&gt; {\n  var arr = [];\n  while (arr.length &lt; 3) {\n    var r = Math.floor(Math.random() * 10) + 1;\n    arr.push(r);\n  }\n  return arr;\n};\n\nconst winningNumbers = generateNumbers(); // An array of the 3 winning numbers\n\n// Function: Prompt user for a number\nconst getUserNumber = (type = '', err = '') =&gt; {\n  var q = \"\";\n  if (err.trim() != '') q = \"\\n\" + err + \"\\n\";\n  q += \"Enter your \";\n  q += type;\n  q += \" number\";\n  var inp = prompt(q);\n  if (persist &amp;&amp; inp != null) {\n    if (inp.trim() == '' || isNaN(inp.trim())) getUserNumber(type, \"Error: Invalid input!\");\n  }\n  return inp;\n};\n\nvar userNumbers = []; // An array of the 3 user selected numbers\n\n// Loop user input\n['first', 'second', 'third'].forEach((e, i) =&gt; {\n  let n = getUserNumber(e);\n  userNumbers.push(Number(n));\n});\n\nvar correct = 0; // Store correct matches\n\nvar _winningNumbers = [...winningNumbers]; // Store winning numbers temporarily\n\n// Process correct answers\nuserNumbers.forEach(n =&gt; {\n  let count = _winningNumbers.filter(num =&gt; {\n    return num == n\n  }).length;\n  if (count &gt;= 1) {\n    correct += 1;\n    _winningNumbers.splice(_winningNumbers.indexOf(n), 1);\n  }\n});\n\n// Process user winnings\nconst getWinnings = () =&gt; {\n  var winnings = \"\";\n  switch (correct) {\n    case 1:\n      winnings = \"$100\";\n      break;\n    case 2:\n      winnings = \"$200\";\n      break;\n    case 3:\n      winnings = \"$500\";\n      break;\n    default:\n      winnings = \"$0\";\n      break;\n  }\n  return winnings;\n}\n\n// Alert winnings\nvar resp = \"\";\nresp += \"The computer's numbers are \";\nresp += winningNumbers.join(\" \");\nresp += \"\\n\";\nresp += \"Your guesses were \";\nresp += userNumbers.join(\" \");\nresp += \"\\n\";\nresp += \"You got \";\nresp += correct;\nresp += \" right\";\nresp += \"\\n\";\nresp += \"You've won \";\nresp += getWinnings();\n\n// Function: Show response to user and prompt 'Play again?''\nconst showResponse = (err = '') =&gt; {\n  var q = resp;\n  q += \"\\n\\n\";\n  if (err.trim() != '') q += \"\\n\" + err + \"\\n\";\n  q += \"Play Again? Y or N\";\n  var inp = prompt(q);\n  if (persist &amp;&amp; inp != null) {\n    if (inp.trim() == '' || !isNaN(inp.trim())) showResponse(\"Error: Invalid input!\");\n  }\n  if (inp.toLowerCase() == 'y') window.location.reload();\n};\n\nshowResponse();\n\nconsole.log('Winning numbers: ', winningNumbers);\nconsole.log('Selected numbers: ', userNumbers);\nconsole.log('Correct numbers: ', correct);\nconsole.log('Amount won: ', getWinnings());\n\nconsole.log('...program completed!');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here's <a href=\"https://github.com/nzuqi/lottery\" rel=\"nofollow noreferrer\">the link</a> to the repo.</p>\n"}],"last_activity_date":1684666547,"question_id":60124547,"body":"<p>Generate a lottery of a three digit number. The program prompts the user to enter a three-digit number and determines whether the user wins according to the following rules:</p>\n\n<ul>\n<li>(RULE 1). If the user input matches the lottery number in the exact order, the award is $10,000.</li>\n<li>(RULE 2). If all digits in the user input match all digits in the lottery number, the award is $3,000.</li>\n<li>(RULE 3). If one digit in the user input matches a digit in the lottery number, the award is $1,000.</li>\n</ul>\n\n<p>I need help getting my program to function as intended with all that is seen in the code. No arrays, no strings, nothing other than what is already there. My issue is that at Rule 3 I am not understanding why it is not recognizing a winning digit. For example, My guess numbers will be 142 and the lottery numbers will be 554 and it will say \"No Match, Better Luck Next Time\" rather than \"Matched one number even though there is one correct number in my guess.</p>\n\n<pre><code>import java.util.Scanner;\npublic class Lottery {\n    public static void main(String[] args) {\n\n        //generate random lottery numbers \n        int lottery = (int)(Math.random() * 1000);\n\n        //ask user to enter a 3 digit integer and store those numbers\n        Scanner numbers = new Scanner(System.in);\n        System.out.println(\"Please enter your lottery pick. Three Digits Only\");\n        int guess = numbers.nextInt();\n\n        // numbers for lottery\n        int lotteryDigit1 = lottery % 100;\n        int lotteryDigit2 = lottery % 100 / 10;\n        int lotteryDigit3 = lottery / 100;\n\n        //get digits from guess\n        int guessDigit1 = guess % 100; \n        int guessDigit2 = guess % 100 / 10; \n        int guessDigit3 = guess / 100; \n\n        //print out lottery numbers\n        System.out.println(\"The lottery numbers are: \" + lottery);\n\n        if (guess == lottery)\n            System.out.println(\"Exact Match!!! 10,000$ Prize!!!\");\n        else if (guessDigit2 == lotteryDigit1 \n                &amp;&amp; guessDigit1 == lotteryDigit2\n                &amp;&amp; guessDigit3 == lotteryDigit3)\n            System.out.println(\"Matched all numbers!!! 3,000$ Prize!!!\");\n        //Rule 3\n        else if (guessDigit1 == lotteryDigit1\n            || guessDigit1 == lotteryDigit2\n            || guessDigit1 == lotteryDigit3\n            || guessDigit2 == lotteryDigit1\n            || guessDigit2 == lotteryDigit2\n            || guessDigit2 == lotteryDigit3\n            || guessDigit3 == lotteryDigit1\n            || guessDigit3 == lotteryDigit2\n            || guessDigit3 == lotteryDigit3)  \n            System.out.println(\"Mathed one number!!! 1,000$ Prize!!!\");\n        else enter code here\n            System.out.println(\"No Match, Better Luck Next Time!\");\n</code></pre>\n"},{"comments":[{"comment_id":134547490,"body":"Show your code and the complete error message"},{"comment_id":134548430,"body":"And the dependencies and versions."}],"last_activity_date":1684665702,"question_id":76299464,"body":"<p>I am getting method not found 'getExpiry' when invoke\njavax.ws.rs.core.NewCookie.getExpiry.</p>\n<p>I tried to invoke the method and it is not available but the tostring invoke it ?</p>\n"},{"last_activity_date":1684663679,"question_id":76298244,"body":"<p>My code:</p>\n<pre><code>call.enqueue(new Callback&lt;String&gt;() {\n     @Override\n     public void onResponse(@NonNull Call&lt;String&gt; call, @NonNull Response&lt;String&gt; response){\n         if(response.body() != null) {\n             if (response.isSuccessful()) {\n                 View alertdialog_2 = LayoutInflater.from(candidate_registration_1.this).inflate(R.layout.custom_dialog_layout_3, null);\n                 AlertDialog.Builder dialog_2 = new AlertDialog.Builder(candidate_registration_1.this);\n                 dialog_2.setView(alertdialog_2);\n                 MaterialTextView txt = alertdialog_2.findViewById(R.id.dialogtext);\n                 MaterialButton btn = alertdialog_2.findViewById(R.id.save_screenshot);\n                 AlertDialog wait_dialog = dialog_2.create();\n                 wait_dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n                 txt.setText(response.body());\n                 wait_dialog.show();\n                 String[] refid = response.body().split(&quot; &quot;);\n                 btn.setOnClickListener(view2 -&gt; takeScreenshot(refid[refid.length - 1], wait_dialog));\n             }\n         }\n     }\n\n     @Override\n     public void onFailure(@NonNull Call&lt;String&gt; call, @NonNull Throwable t) {}\n}\n</code></pre>\n<p>And this is my <code>takeScreenshot()</code> function:</p>\n<pre><code>private void takeScreenshot(String now,AlertDialog dialog) {\n    try {\n        String mPath = candidate_registration_1.this.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString()+ &quot;/&quot; + now + &quot;.jpg&quot;;\n        View v1 = getWindow().getDecorView().getRootView();\n        v1.setDrawingCacheEnabled(true);\n        Bitmap bitmap = Bitmap.createBitmap(v1.getDrawingCache());\n        v1.setDrawingCacheEnabled(false);\n\n        File imageFile = new File(mPath);\n\n        FileOutputStream outputStream = new FileOutputStream(imageFile);\n        int quality = 100;\n        bitmap.compress(Bitmap.CompressFormat.JPEG, quality, outputStream);\n        outputStream.flush();\n        outputStream.close();\n        dialog.cancel();\n        Toast.makeText(candidate_registration_1.this,&quot;Screenshot saved in &quot;+mPath, Toast.LENGTH_LONG).show();\n   } catch (Throwable e) {\n       e.printStackTrace();\n   }\n}\n</code></pre>\n<hr />\n<p>There are two issues with this code:</p>\n<ol>\n<li>It takes a screenshot of the activity, devoid of the <code>AlertDialog</code>. I want a screenshot only of the <code>AlertDialog</code>.</li>\n<li>The screenshot is saved inside <code>android/0/emulated/package_name/files/Download/..</code>. I want it to be saved in the local folder, where all phone screenshots are usually saved, so that it's accessible to the user.</li>\n</ol>\n<p>How do I resolve this issue?</p>\n"},{"comments":[{"comment_id":134517365,"body":"<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"},{"comment_id":134517717,"body":"This resembles the project configuration error seen <a href=\"https://stackoverflow.com/a/73611827/230513\">here</a>; more <a href=\"https://stackoverflow.com/a/73611206/230513\">here</a>."},{"comment_id":134522214,"body":"Tip: Use a JavaFX-specific template or archetype to create your project. <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> comes with a  nice JavaFX template for OpenJFX. If NetBeans does not, try to find a Maven or Gradle archetype for OpenJFX. See <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> site."},{"comment_id":134523484,"body":"As suggested by @BasilBourque, install <a href=\"https://github.com/openjfx/javafx-maven-archetypes\" rel=\"nofollow noreferrer\"><code>javafx-maven-archetypes</code></a>; then, in NetBeans, choose <i>File &gt; New Project &gt; Java with Maven &gt; Project from Archetype</i>"}],"answers":[{"comments":[{"comment_id":134538348,"body":"the question is tagged netbeans- suggesting another IDE is not an answer ;)"}],"answer_id":76288129,"body":"<p>Install the IDE IntelliJ IDEA and go to File &gt; Project Structure &gt; Project and verify that the Project SDK is correctly configured to the JDK you intend to use.</p>\n<p>Intellij IDEA solves a lots of problems with the Java Environment and IntelliJ can download automatically from internet any JDK platform. Test different JDK's versions.</p>\n"}],"last_activity_date":1684663621,"question_id":76281736,"body":"<p>While running the code on Apache Netbeans 17 with JAVAFX, the following error appeared:</p>\n<pre><code>C:\\Users\\User\\Documents\\NetBeansProjects\\javafxpos-main\\nbproject\\jfx-impl.xml:3867: \nThe following error occurred while executing this line: which directs to this specific code:\n` &lt;antcall target=&quot;-run-on-same-platform&quot; /&gt;`\nC:\\Users\\User\\Documents\\NetBeansProjects\\javafxpos-main\\nbproject\\jfx-impl.xml:3904: \nThe following error occurred while executing this line:\n` &lt;antcall target=&quot;jfxsa-run-no-another-jvm&quot; /&gt;`\nC:\\Users\\User\\Documents\\NetBeansProjects\\javafxpos-main\\nbproject\\jfx-impl.xml:1251: \nThe following error occurred while executing this line:\n`   &lt;jfx-copylibs-js-impl/&gt;`\nC:\\Users\\User\\Documents\\NetBeansProjects\\javafxpos-main\\nbproject\\jfx-impl.xml:1259: Unable to create javax script engine for javascript\nWhich direct to this code\n` &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134547253,"body":"I suspect that you have a class <code>ActionEvent</code> in your package. You could try declaring your <code>actionPerformed()</code> method as <code>@Override public void actionPerfomed(java.awt.event.ActionEvent evt)</code>."},{"comment_id":134547814,"body":"Either that or your importing the wrong ActionEvent (there are multiple classes with this name in core Java). Make sure to <code>import java.awt.event.ActionEvent;</code>"},{"comment_id":134547818,"body":"But also better to post more complete code, code that includes the import statements and full error message."}],"last_activity_date":1684663538,"question_id":76299299,"body":"<p>I'm trying to create a custom button with an image as a background. I tried searching around and came out with this solution found on this previous post (<a href=\"https://stackoverflow.com/questions/17110315/jbutton-background-image\">JButton background image</a>). The real problem is that, when i try to compile, it spits out this error:</p>\n<pre><code>The type StartButton must implement the inherited abstract method ActionListener.actionPerformed(ActionEvent)\n</code></pre>\n<p>The code is the following:</p>\n<pre><code>public class StartButton extends AbstractAction {\n    public StartButton() {\n        this.putValue(LARGE_ICON_KEY, Images.TEST_IMAGE_2.getImageIcon());\n    }\n\n    public void actionPerfomed(ActionEvent evt) {\n        return;\n    }\n}\n</code></pre>\n<p>And the implementation in the code is the following:</p>\n<pre><code>//Class PushButton.java\n\npublic class PushButton extends JButton {\n    private Dimension buttonSize = new Dimension(300, 150);\n\n    public PushButton(AbstractAction abstractAction, String text) {\n        super(abstractAction);\n        this.setPreferredSize(buttonSize);\n    }\n}\n</code></pre>\n<pre><code>//Class Menu.java (extends JPanel)\n\npublic Menu() {\n        super();\n        this.setPreferredSize(MainFrame.getWindowSize());\n        this.setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));\n\n        menuTitle = new JLabel();\n        menuTitle.setText(&quot;Quindici&quot;);\n        menuTitle.setForeground(Theme.ACCENT.getColor());\n        menuTitle.setFont(Fonts.TITLE.getFont());\n\n        startButton = new PushButton(new StartButton(), &quot;Start&quot;);\n        exitButton = new PushButton(new StartButton(), &quot;Exit&quot;);\n\n        this.add(menuTitle);\n        this.add(startButton);\n        this.add(exitButton);\n}\n</code></pre>\n<p>I simply don't know how to implement the actionPerformed function</p>\n"},{"comments":[{"comment_id":122910585,"body":"Your JSON is incorrect, it has some syntax errors, that&#39;s why you can&#39;t deserialize it"},{"comment_id":127388383,"body":"Have you found answer to this question? I am also facing the same issue: <a href=\"https://stackoverflow.com/q/72089765/7584240\">stackoverflow.com/q/72089765/7584240</a>"}],"answers":[{"comments":[{"comment_id":122931063,"body":"Hello, thank your for answering my question. I&#39;m sorry that I didn&#39;t post my question completely. I just updated it."},{"comment_id":122960456,"body":"@dedelduel You are welcome,  but this is a totally new question, not an update."},{"comment_id":123043854,"body":"the question remains the same. I just updated the story why I got this issue"}],"answer_id":69538948,"body":"<p>Your code fails because in your json file you have <code>&quot;fruits&quot;: []</code>, so you are associating <em>fruits</em> with an json array while in your abstract <code>Fruit</code> class you expect the <code>&quot;fruits&quot;</code> property referring to the name of the subclass you want to deserialize your json. So if you modify your json like below :</p>\n<pre><code>{\n    &quot;fruits&quot;: &quot;sandbox.Apple&quot;,\n    &quot;name&quot;: &quot;MyApple&quot;\n}\n</code></pre>\n<p>You can then deserialize it to the <code>Apple</code> subclass of the <code>Fruit</code> class:</p>\n<pre><code>Fruit fruit = mapper.readValue(src, Fruit.class);\nSystem.out.println(fruit); //&lt;-- Apple(_name=MyApple)\n</code></pre>\n<p>So you can either decide to change your json format to match your java classes or decide to change your java classes to match your json file.</p>\n"}],"last_activity_date":1684663410,"question_id":69536268,"body":"<p>I have an abstract class called Fruit and I put the <code>@JsonTypeInfo</code> and <code>@JsonSubTypes</code> on it as follow:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;fruits&quot;)\n@JsonSubTypes({\n    @Type(value = Apple.class, name = &quot;sandbox.Apple&quot;),\n    @Type(value = FruitGroup.class, name = &quot;sandbox.FruitGroup&quot;)\n})\npublic abstract class Fruit {\n\n    public abstract String getName();\n\n    @Override\n    public String toString() {\n        return &quot;Fruit [getName()=&quot; + getName() + &quot;, getClass()=&quot; + getClass() + &quot;, hashCode()=&quot; + hashCode() + &quot;, toString()=&quot; + super.toString() + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>And my derived class looks like this</p>\n<pre><code>@JsonTypeName(&quot;sandbox.Apple&quot;)\npublic class Apple extends Fruit {\n\n    private String _name;\n\n    public void setName(String name) {\n        _name = name;\n    }\n\n    @Override\n    public String getName() {\n        return _name;\n    }\n</code></pre>\n<p>======[UPDATED]======\nI also have class FruitGroup that extends Fruit and contains Array of Fruit.</p>\n<pre><code>@JsonTypeName(&quot;sandbox.FruitGroup&quot;)\npublic class FruitGroup extends Fruit {\nprivate Fruit[] _Fruit;\nprivate String _name;\nprivate String _category;\n\npublic Fruit[] getFruit() {\n    return _Fruit;\n}\n\npublic void setFruits(Fruit[] fruits) {\n    _Fruit = fruits;\n}\n\npublic void setName(String name) {\n    _name = name;\n}\n\n@Override\npublic String getName() {\n    return _name;\n}\n\npublic void setCategory(String category) {\n    _category = category;\n}\n\npublic String getCategory() {\n    return _category;\n}\n</code></pre>\n<p>}</p>\n<p>When I tried to deserialize the jsontext into Fruit object, I found the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id '[' as a subtype of `sandbox.FruitGroup`: known type ids = [FruitGroup, sandbox.Apple] at [Source: (String)&quot;{&quot;fruits&quot;:[[&quot;sandbox.Apple&quot;,{&quot;name&quot;: &quot;Apple&quot;}]],&quot;name&quot;: &quot;Fruit Group&quot;}&quot;; line: 1, column: 11]\nat com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\n</code></pre>\n<p>The jsontext [UPDATED] actually was generated by jackson version 2.10.2 and I didn't put any JSON annotations on my classes formerly. After I upgrade the jackson version to 2.11.0, I also update my abstract class to put the JSON annotations in it. Then I tried to deserialize it by using jackson version 2.11.0, but I got an error instead. Could you guys help me to solve this issue?\nHere's my jsontext</p>\n<pre><code>{\n    &quot;fruit&quot;: [\n        [\n            &quot;sandbox.Apple&quot;,\n            {\n                &quot;name&quot;: &quot;Apple1&quot;\n            }\n        ]\n    ],\n    &quot;name&quot;: &quot;Group of apples&quot;,\n    &quot;category&quot;: &quot;Sweet fruit&quot;\n}\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134543410,"body":"Thank you for your time! This does work, I only had to rewrite this slightly to account for any character: <code>(?&lt;=[A-Z]).*?([A-Z](.)*)</code>"},{"comment_id":134543460,"body":"@kido25, You&#39;re welcome.  I over looked that, I&#39;ll adjust my answer."},{"comment_id":134543529,"body":"@kido25 I&#39;ve provided an additional measure, to my answer, also."}],"answer_id":76296893,"body":"<p>I was able to match the second occurrence using the following.</p>\n<pre><code>(?&lt;=[A-Z]).*?([A-Z].)\n</code></pre>\n<ul>\n<li>The first group is a positive look-behind, attempting to match any uppercase letter.</li>\n<li>The second group is a capture, for any uppercase letter, followed by a single character.</li>\n<li>Between the two groups is a <code>.*?</code> pattern, which will attempt to match any character, 0 or more.</li>\n</ul>\n<p>You can then use the following method, to return the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String secondOccurrence(String string) {\n    Pattern pattern = Pattern.compile(&quot;(?&lt;=[A-Z]).*?([A-Z].)&quot;);\n    Matcher matcher = pattern.matcher(string);\n    if (matcher.find()) \n        return matcher.group(1);\n    return null;\n}\n</code></pre>\n<p>Alternatively, you could create a for-loop, breaking when the second occurrence is found.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String secondOccurrence(String string) {\n    int index = 0;\n    boolean first = false;\n    for (char character : string.toCharArray()) {\n        if (String.valueOf(character).matches(&quot;[A-Z]&quot;)) {\n            if (!first) first = true;\n            else break;\n        }\n        index++;\n    }\n    return string.substring(index, index + 2);\n}\n</code></pre>\n"},{"comments":[{"comment_id":134543387,"body":"Interesting approach using REPLACE, thank you for your time and thorough explanation!"},{"comment_id":134543478,"body":"Is that pseudo-code?  It&#39;s not Java code."},{"comment_id":134543502,"body":"Yes it was. Probably better to convert it to actual java code."}],"answer_id":76296912,"body":"<p>You can match from the second uppercase letter onwards. Or you can match anything that comes before the second uppercase letter and replace it with blank.</p>\n<p>The following regex will match the part that should be removed:</p>\n<pre><code>^[^A-Z]*[A-Z][^A-Z]*\n</code></pre>\n<p><strong>Regex Explanation</strong>:</p>\n<ul>\n<li><code>^</code>: start of string</li>\n<li><code>[^A-Z]*</code>: any sequence of non-uppercase characters</li>\n<li><code>[A-Z]</code>: an uppercase character</li>\n<li><code>[^A-Z]*</code>: any sequence of non-uppercase characters</li>\n</ul>\n<hr />\n<p>In your Java code:</p>\n<pre><code>String string = &quot;98A02D1&quot;;\nString pattern = &quot;^[^A-Z]*[A-Z][^A-Z]*&quot;;\n\nSystem.out.println(string.replaceFirst(pattern, &quot;&quot;));\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>D1\n</code></pre>\n<p>Check the regex demo <a href=\"https://regex101.com/r/Brd6X8/1\" rel=\"nofollow noreferrer\">here</a> and the java demo <a href=\"https://www.mycompiler.io/view/F7c3anthiub\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"comment_id":134547122,"body":"Very thorough answer, better than my pattern matching."},{"comment_id":134547148,"body":"@lemon Your answer is good as well. My answer is just a small extension on your approach for an additional scenario."},{"comment_id":134547277,"body":"@Thefourthbird, thank you for a valuable addition to this question! I understood where I went wrong."}],"answer_id":76299295,"body":"<p>Using <code>[A-Z]){2}</code> matches 2 consecutive uppercase chars, which is different from &quot;the second occurrence&quot; as there can be other characters in between in that case.</p>\n<p>If there has to be a second uppercase char present, you can use a capture group, and use that in the replacement with <code>$1</code></p>\n<p>If you don't want to cross newlines, you can exclude those in the negated character class.</p>\n<pre><code>^[^A-Z\\r\\n]*[A-Z][^A-Z\\r\\n]*([A-Z])\n</code></pre>\n<p><a href=\"https://regex101.com/r/vwHN5O/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/6vCjif\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<pre><code>String pattern = &quot;(?m)^[^A-Z\\\\r\\\\n]*[A-Z][^A-Z\\\\r\\\\n]*([A-Z].*)&quot;;\nString string = &quot;98A02D1\\n98A02&quot;;\nSystem.out.println(string.replaceAll(pattern, &quot;$1&quot;));\n</code></pre>\n<p>Output</p>\n<pre><code>D1\n98A02\n</code></pre>\n<hr>\n<p>An other option could be for example matching any uppercase letter using <code>\\p{Lu}</code></p>\n<pre><code>^[^\\p{Lu}]*[\\p{Lu}][^\\p{Lu}\\r\\n]*(\\p{Lu})\n</code></pre>\n<p>Or asserting an uppercase char to the right, and in the replacement use an empty string instead of group 1:</p>\n<pre><code>^[^A-Z\\r\\n]*[A-Z][^A-Z\\r\\n]*(?=[A-Z])\n</code></pre>\n"}],"last_activity_date":1684663137,"question_id":76296874,"body":"<p>I need help with building a regex with Java flavor, which extracts everything after second occurence of any kind of capital letter.</p>\n<p>For example, for the sample string <code>&quot;98A02D1&quot;</code> the result should be <code>D1</code>. Doesn't matter what comes before the second occurence of a capital letter.</p>\n<p>What I came up with is this: <code>(?:.*?[A-Z]){2}(.*)</code></p>\n<p>Which doesn't work and only captures from the third occurence. Lowering the number in curly brackets doesn't help. Appreciate any help!</p>\n"},{"comments":[{"comment_id":134547091,"body":"What does <code>resize()</code> do?"},{"comment_id":134547105,"body":"Where is <code>size</code> initialized in <code>add()</code>?"},{"comment_id":134547134,"body":"If the backing array is full (except for * index 0) and you&#39;re trying to add a new item, then double its capacity.@ Tim Moore"},{"comment_id":134547160,"body":"size can&#39;t be initialized in add(), as it changes everytime we add data. I try to add size=0; outside the add(), results are the same"},{"comment_id":134547188,"body":"oh I omit the resize() method, the results turned to be right. It is the resize() problem, thanks for your answering"},{"comment_id":134547246,"body":"I am curious what is this MinHeap collection. I can&#39;t seem to find it. Is it a custom collection?"},{"comment_id":134547396,"body":"I am implementing MinHeap using array so the class name is MinHeap"}],"last_activity_date":1684662965,"question_id":76299287,"body":"<p>I have problems with adding data to array starting with index 1 using JAVA.</p>\n<p>I wrote this code to add data to the array starting with index 1 and print the data in specific index of the array:</p>\n<p>...</p>\n<pre><code>public void add(T data) {\n  \n     if(data==null){\n      throw new IllegalArgumentException();\n    }\n    resize();\n\n    size=size+1;\n    backingArray[size]=data;\n\n    }\n\n    public T getindex(int i){\n      return backingArray[i];\n    }\n</code></pre>\n<p>...</p>\n<p>And I wrote this code to test it:</p>\n<pre><code>import java.util.NoSuchElementException;\n\npublic class Hptest {\n    public static void main(String[] args) {\n       MinHeap&lt;Integer&gt; mHeap=new MinHeap&lt;&gt;();\n\n       mHeap.add(0);\n       System.out.println(mHeap.getindex(0));\n       System.out.println(mHeap.getindex(1));\n       mHeap.add(14);\n       System.out.println(mHeap.getindex(0));\n       System.out.println(mHeap.getindex(1));\n       System.out.println(mHeap.getindex(2));\n       mHeap.add(21);\n       System.out.println(mHeap.getindex(0));\n       System.out.println(mHeap.getindex(1));\n       System.out.println(mHeap.getindex(2));\n       System.out.println(mHeap.getindex(3));\n\n  }\n}\n</code></pre>\n<p>I should get [null] [0] [null] [0] [14] [null] [0] [14] [21], but I get [null] [0] [null] [null] [14] [null] [null] [null] [21],which I don't understand why.</p>\n"},{"answers":[{"answer_id":76284306,"body":"<p>I think by asserting the response body, you are ensuring that the controller is producing a non-empty response. But simply checking for the presence of a response body doesn't confirm that the correct data is being returned.</p>\n<p>By also asserting the actual values in the response body, you can verify that the controller is returning the expected data in the correct format.</p>\n<p>One more important consideration when writing unit tests for controllers is to ensure that you are testing the behavior of the controller in isolation from other components of your application. For example, if your controller relies on a database or external API, you may want to use mock objects to simulate those dependencies during testing.</p>\n<p>So I Think asserting both the presence and the actual values in the response body is generally useful to follow for unit testing controllers in Spring Boot.</p>\n<p>I also found some useful notes <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"answer_id":76299237,"body":"<p>I think that those tests are at service level, so these are blackbox tests. The meaning of this kind of tests is to validate the right response to a concrete input. I think that you are doing it right verifying the content of the response.</p>\n<p>So, how we can reduce the effort to maintain that?\nThere are multiple ways, it depends on how the tests are structured, but in this case i think that the problem is that you have to repeat a lot of time this code in the same class:</p>\n<pre><code>    @Test\nvoid getBookTest() throws Exception {\n    // mock service method\n    when(bookService.getBook(anyLong())).thenReturn(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;));\n\n    // perform request and verify status\n    mockMvc.perform(get(&quot;/books/1&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.id&quot;).value(1L))\n            .andExpect(jsonPath(&quot;$.title&quot;).value(&quot;Title&quot;))\n            .andExpect(jsonPath(&quot;$.author&quot;).value(&quot;Author&quot;));\n}\n</code></pre>\n<p>So you can covert it into this:</p>\n<pre><code>    // No test annotation it's a private method in the class\nprivate void getBookTest(BookDTO bookDto, String bookRequest) throws Exception { \n    // mock service method\n    when(bookService.getBook(anyLong())).thenReturn(bookDto);\n\n    // perform request and verify status\n    mockMvc.perform(get(bookRequest))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.id&quot;).value(bookDto.getId()))\n            .andExpect(jsonPath(&quot;$.title&quot;).value(bookDto.getTitle()))\n            .andExpect(jsonPath(&quot;$.author&quot;).value(bookDto.getAuthor()));\n}\n</code></pre>\n<p>And then you only have to update one mehtod when you change the JSON. And call it from each test as following:</p>\n<pre><code>getBookTest(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;), &quot;/books/1&quot;)\n</code></pre>\n<p>Even if you are using always the same BookDTO instance you can do it better, creating that instance at class level field and call it like this:</p>\n<pre><code>private BookDTO bookDTO = new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;) //you better create the instance in a constructor\n\n.......\ngetBookTest(bookDto, &quot;/books/1&quot;)\n</code></pre>\n"}],"last_activity_date":1684662539,"question_id":76284047,"body":"<p>In my Spring Boot application, I have a layered architecture with Controllers, Services, and Repositories, each with their corresponding DTOs/Models. I am writing unit tests for my Controllers and am unsure about the extent to which I should assert the response body.</p>\n<p>Here's a simplified scenario to illustrate my question:</p>\n<p>Suppose I have a BookController with a GET /books/{id} endpoint that fetches a book's details. The response body contains a BookDTO with fields like id, title, author, etc.</p>\n<pre><code>@GetMapping(&quot;/books/{id}&quot;)\npublic ResponseEntity&lt;BookDTO&gt; getBook(@PathVariable Long id) {\n    BookDTO bookDTO = bookService.getBook(id);\n    return new ResponseEntity&lt;&gt;(bookDTO, HttpStatus.OK);\n}\n\n</code></pre>\n<p>When unit testing this GET endpoint, I am currently verifying the HTTP status and asserting the actual values in the BookDTO response body, like this:</p>\n<pre><code>@Test\nvoid getBookTest() throws Exception {\n    // mock service method\n    when(bookService.getBook(anyLong())).thenReturn(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;));\n\n    // perform request and verify status\n    mockMvc.perform(get(&quot;/books/1&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.id&quot;).value(1L))\n            .andExpect(jsonPath(&quot;$.title&quot;).value(&quot;Title&quot;))\n            .andExpect(jsonPath(&quot;$.author&quot;).value(&quot;Author&quot;));\n}\n\n</code></pre>\n<p>While this test is thorough, it's also tightly coupled to the structure of BookDTO. If BookDTO changes (e.g., a field is added, removed, or renamed), I'll need to update all tests that assert its values, which seems not very maintainable.</p>\n<p>I am considering a different approach where I only assert the presence of the response body, not its exact contents. I would then write separate unit tests for BookDTO to ensure it behaves correctly.</p>\n<p>My question is: In terms of best practices for unit testing Controllers in Spring Boot, should I assert the actual values in the response body, or just the presence of the body? I understand that it may depend on the specific context, but I'd appreciate any general guidelines or considerations. Thanks!</p>\n"},{"last_activity_date":1684662512,"question_id":76299259,"body":"<p>I need to do a program that generates a schedule following some constraints. I have an GurobiVar[l][p][r] Y that represents my schedule. It equals 1 if the lesson L starts at period P in room R. I have 2 constraints to make sure that each lesson is planned and that no 2 lessons can be in the same room at the same time. Under are the 2 constraints I created, the 1st one works, but the 2nd one makes the problem infeasible and I have no clue why. Got some pointers for me?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void addLessonConstraints(GRBModel model, GRBVar[][][] y) throws GRBException {\n        int numLessons = y.length;\n        int numPeriods = y[0].length;\n        int numRooms = y[0][0].length;\n\n        for (int l = 0; l &lt; numLessons; l++) {\n            GRBLinExpr lessonConstraint = new GRBLinExpr();\n            for (int p = 0; p &lt; numPeriods; p++) {\n                for (int r = 0; r &lt; numRooms; r++) {\n                    lessonConstraint.addTerm(1.0, y[l][p][r]);\n                }\n                model.addConstr(lessonConstraint, GRB.EQUAL, 1.0, &quot;lesson_constraint_&quot; + l + &quot;_&quot; + p);\n            }\n        }\n    }\n\n    // each period has at most one lesson in a room\n    public static void addRoomConstraint(GRBModel model, GRBVar[][][] y) throws GRBException {\n        int numLessons = y.length;\n        int numPeriods = y[0].length;\n        int numRooms = y[0][0].length;\n\n        for (int p = 0; p &lt; numPeriods; p++) {\n            for (int r = 0; r &lt; numRooms; r++) {\n                GRBLinExpr roomConstraint = new GRBLinExpr();\n                for (int l = 0; l &lt; numLessons; l++) {\n                    roomConstraint.addTerm(1.0, y[l][p][r]);\n                }\n                model.addConstr(roomConstraint, GRB.LESS_EQUAL, 1.0, &quot;room_constraint_&quot; + p + &quot;_&quot; + r);\n            }\n        }\n    }\n</code></pre>\n<p>Checked the doc of gurobi to know why a problem is infeasible here</p>\n<p><a href=\"https://support.gurobi.com/hc/en-us/articles/360029969391-How-do-I-determine-why-my-model-is-infeasible-\" rel=\"nofollow noreferrer\">https://support.gurobi.com/hc/en-us/articles/360029969391-How-do-I-determine-why-my-model-is-infeasible-</a></p>\n<p>Tried the constraints alone and it didn't change the results.</p>\n"},{"answers":[{"answer_id":76298965,"body":"<p>I solve the problem with a way described in <a href=\"https://stackoverflow.com/a/62120611/330457\">https://stackoverflow.com/a/62120611/330457</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var loaded = new ByteBuddy()\n        .subclass(serviceClass)\n        .method(ElementMatchers.any())\n        .intercept(InvocationHandlerAdapter.of(handler))\n        .make()\n        .load(serviceClass.getClassLoader(),\n              ClassLoadingStrategy.Default.INJECTION.with(PackageDefinitionStrategy.Trivial.INSTANCE))\n        .getLoaded();\ntry {\n    return loaded.getConstructor().newInstance();\n} catch (final ReflectiveOperationException roe) {\n    throw new RuntimeException(&quot;failed to instantiate &quot; + loaded, roe);\n}\n</code></pre>\n"}],"last_activity_date":1684662509,"question_id":76298911,"body":"<p>I just followed the way explained in <a href=\"https://stackoverflow.com/a/40300963/330457\">https://stackoverflow.com/a/40300963/330457</a> and I need help.</p>\n<p>I have the following class hierarchy in the same package.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class __BaseEntityService&lt;T extends __BaseEntity&lt;U&gt;, U&gt; {\n}\n\nabstract class _BaseEntityService&lt;T extends _BaseEntity&lt;U&gt;, U&gt;\n        extends __BaseEntityService&lt;T, U&gt; {\n}\n\npublic class SomeEntityService\n        extends _BaseEntityService&lt;Some, Integer&gt; {\n}\n</code></pre>\n<p>And, in my test, same, package, I'm trying to create a dynamic proxy form given concrete service class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeServiceTest {\n\n    void proxy() {\n        final var instance = new SomeService();\n        final var handler = new ValidationInvocationHandler(instance, validator);\n        // I want to create a proxy\n        // whose invocation handled with the handler\n        // on the instance.\n        final var loaded = new ByteBuddy()\n                .subclass(serviceClass)\n                .method(ElementMatchers.any())\n                .intercept(InvocationHandlerAdapter.of(handler))\n                .make()\n                .load(serviceClass.getClassLoader())\n                .getLoaded();\n        try {\n            return loaded.getConstructor().newInstance();\n        } catch (final ReflectiveOperationException roe) {\n            throw new RuntimeException(&quot;failed to instantiate &quot; + loaded, roe);\n        }\n    }\n}\n</code></pre>\n<p>I got this.</p>\n<pre><code> java.lang.IllegalAccessError: failed to access class ....__BaseEntityService from class ....SomeService$ByteBuddy$3WcNUA2k (....__BaseEntityService is in unnamed module of loader 'app'; ....SomeService$ByteBuddy$3WcNUA2k is in unnamed module of loader net.bytebuddy.dynamic.loading.ByteArrayClassLoader @1c0ec502)\n    at ....SomeService$ByteBuddy$3WcNUA2k.&lt;clinit&gt;(Unknown Source)\n    at java.base/jdk.internal.misc.Unsafe.ensureClassInitialized0(Native Method)\n    at java.base/jdk.internal.misc.Unsafe.ensureClassInitialized(Unsafe.java:1155)\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:42)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:185)\n    at java.base/java.lang.reflect.Field.acquireFieldAccessor(Field.java:1132)\n    at java.base/java.lang.reflect.Field.getFieldAccessor(Field.java:1113)\n    at java.base/java.lang.reflect.Field.set(Field.java:799)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:170)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6166)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\n</code></pre>\n<p>How can I solve this?</p>\n<p>A working alternative code block using Javassist is this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Proxy proxy;\n{\n    final var factory = new ProxyFactory();\n    factory.setSuperclass(serviceClass);\n    factory.setFilter(m -&gt; !m.getName().equals(&quot;finalize&quot;));\n    final var c = factory.createClass();\n    try {\n        proxy = (Proxy) c.getDeclaredConstructor().newInstance();\n    } catch (final ReflectiveOperationException roe) {\n        throw new RuntimeException(&quot;failed to instantiate the proxy class: &quot; + c, roe);\n    }\n    final MethodHandler mi = (self, thisMethod, proceed, args) -&gt; handler.invoke(instance, thisMethod, args);\n    proxy.setHandler(mi);\n    proxy.setHandler(mi);\n}\nreturn (T) proxy;\n}\n</code></pre>\n<p>Hi, <a href=\"https://stackoverflow.com/users/1237575/rafael-winterhalter\">@rafael-winterhalter</a>, by the way.</p>\n"},{"answers":[{"comments":[{"comment_id":134548000,"body":"Just got to solve this a few minutes ago. Thanks anyways it was exactly what I did."}],"answer_id":76299253,"body":"<p>You can listen the app state when app is from foreground (ex: user using the app) to background (user quit the app but not terminated yet).</p>\n<p>After listen to app state, you could add another shared_prefs to store the time remain when user pause app, and when app in resume, using shared_prefs previously as argument for the timer method</p>\n<pre><code>class _MyScreenState extends State&lt;MyScreen&gt; with WidgetsBindingObserver{}\n//add the following inside our initState:\n\nWidgetsBinding.instance.addObserver(this);\n//didChangeAppLifecycleState will be:\n\n@override\n     void didChangeAppLifecycleState(AppLifecycleState state) {\n     super.didChangeAppLifecycleState(state);\n      if (state == AppLifecycleState.paused) {\n       // went to Background\n         }\n       if (state == AppLifecycleState.resumed) {\n       // came back to Foreground\n       }\n    }\n</code></pre>\n"}],"last_activity_date":1684662401,"question_id":76299137,"body":"<p>I have a flutter application. Where I am saving a data in shared_preferences. Now what I want to achieve is that when data is saved it will start a timer for 5 minutes. After 5 minutes the data will be removed and user will be taken to the LoginPage again. This is quite simple. But here the things that I have done again restarts the timer whenever I start the application. I want is that suppose after 2 mins 30 seconds user closes the app. After some time the user again opens the app. Then the app will start from 2 mins 31 seconds and remaining time will be 2 mins 29 seconds. That means the timer will not restart even when the app is opened again.</p>\n<pre><code>Future&lt;void&gt; initializePreferences() async {\n    final SharedPreferences prefs = await SharedPreferences.getInstance();\n    _data = await prefs.getString('myData');\n  \n    Timer(Duration(minutes: 5), () {\n      prefs.remove('myData');\n      setState(() {\n        _data = null;\n      });\n\n      ///navigate to splashscreen\n      Navigator.pushNamedAndRemoveUntil(\n        context,\n        '/',\n            (route) =&gt; false,\n      );\n      print(&quot;Data is reremoved.&quot;);\n    });\n  }\n</code></pre>\n<p>here the timer starts for 5 mins. The remaining details what I want to achieve is given above. Thanks in advance.</p>\n"}]}