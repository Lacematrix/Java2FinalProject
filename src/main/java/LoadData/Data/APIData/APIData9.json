{"items":[{"answers":[{"comments":[{"comment_id":120787038,"body":"And there is. By the way, above I under the heading EDIT indicated a possible reason, am I right?"},{"comment_id":120790327,"body":"You&#39;re mixing many unrelated things together - &quot;Classes in bundle &#39;myProj&#39; do no match with execution data&quot; has nothing to do with with original &quot;Source file was not found&quot; and with version of Java."},{"comment_id":120790469,"body":"And IMO there is no <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> in your description, so unlikely that somebody will be able to blindly guess what is wrong in your case. Have a look at  <a href=\"https://docs.gradle.org/current/samples/sample_jvm_multi_project_with_code_coverage.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/samples/&hellip;</a> and compare your setup with following minimal-reproducible-example <a href=\"https://github.com/gradle/gradle/tree/4e03f54df0ddfdc9eca268cb38bc6034d25e38ff/subprojects/docs/src/samples/java/jvm-multi-project-with-code-coverage\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/tree/&hellip;</a>"},{"comment_id":120794461,"body":"I got the same result. This is strange because when I use Intellij IDEA Run&gt; Show Code Coverage&gt; test.exec, the IDE toolkit shows me the highlight code."}],"answer_id":68344020,"body":"<p>Maybe <code>com.myProj.myApi</code> is a single directory? whereas it should be 3 directories nested into each other <code>com</code> / <code>myProj</code> / <code>myApi</code></p>\n"},{"answer_id":68363834,"body":"<p>I've fixed it when I changed work with files. I've deleted all code from 'jacocoTestReport {' to 'reports {' (non include) and insert this:</p>\n<pre><code>  for (proj in otherProjects) {\n    sourceSets project(module).sourceSets.main\n  }\n</code></pre>\n<p>I don't understand why getAdditionalSourceDirs() and getAdditionalClassDirs() aren't working. Or, most likely, i don't know difference between these 2 methods of interaction with files. If you know, you can comment under this answer.</p>\n"},{"answer_id":76299232,"body":"<p>I was facing a similar issue. I was using some plugins which were generating source java files in the <code>build</code> folder. The coverage report (which included % coverage) for these source files generated in build folder was coming up but the exact source code file with coverage was not getting generated.\nI was getting the error: <code>source file com/abc/xyz/aop/LoggingAspect.java was not found during generation of report</code>.</p>\n<p>I found the solution to my issue in JaCoCo's FAQ page: <a href=\"https://www.jacoco.org/jacoco/trunk/doc/faq.html\" rel=\"nofollow noreferrer\">https://www.jacoco.org/jacoco/trunk/doc/faq.html</a>\n<code>Source files must be properly supplied at report generation time. I.e. specified source folders must be the direct parent of the folders that define the Java packages.</code></p>\n<p><strong>The sourceSet that I added for the generated code in build directory was not the direct parent of the Java package</strong>.</p>\n<p>Project structure:</p>\n<pre><code>project-root\n- build\n-- generated\n--- sources\n---- com/abc/xyz ('com.abc.xyz' Java package)\n\n- src/main/java\n-- com/abc/xyz ('com.abc.xyz' Java package)\n\n-build.gradle\n</code></pre>\n<p>The initial incorrect <code>build.gradle</code> file to add generated code to sourceSets:</p>\n<pre><code>sourceSets {\n  main {\n    java {\n      srcDirs += 'build/generated/sources/com'\n    }\n  }\n  test {\n    java {\n      srcDirs += 'build/generated/test-sources/com'\n    }\n  }\n}\n</code></pre>\n<p><strong>I configured the source directory for generated code to <code>build/generated/sources</code> instead of <code>build/generated/sources/com</code> and it worked.</strong></p>\n<p>Because <code>build/generated/sources</code> is a direct parent of <code>com.abc.xyz</code> but <code>build/generated/sources/com</code> isn't as it includes the path <code>com</code> in it.</p>\n"}],"last_activity_date":1684662125,"question_id":68343660,"body":"<p>help me understand what's wrong, please.\nI've worked with multi-module project and faced one problem.\nMy architecture look like this:</p>\n<pre><code>proj1\n-src\n--main\n---java\n----com.myProj.myApi\n-----directories containing .java files\n\n... // same proj2 and proj3\n\nrootProject src\n-main\n--java\n---com.myProj.myApi\n----Application.java\n-test\n--test .java files\n</code></pre>\n<p>In the root gradle, I have defined the following:</p>\n<ol>\n<li>Variable with project names.</li>\n<li>After testing useTestNG(), the jacocoTestReport() task starts.</li>\n<li>Inside the jacocoTestReport(), I have determined which java files need to be loaded and checked.\nMy root build.gradle:</li>\n</ol>\n<pre><code>  repositories {\n    mavenLocal()\n    mavenCentral()\n    tasks.withType(Javadoc).all { enabled = false }\n    tasks.withType(JavaCompile).all { options.encoding = 'UTF-8'  }\n  }\n\n  group = 'com.myProj.myApi'\n  version = '1.0.0-SNAPSHOT'\n\n  apply plugin: 'java'\n  apply plugin: 'jacoco'\n  apply plugin: 'java-library'\n\n  jacoco {\n    toolVersion = &quot;0.8.5&quot;\n  }\n\n  def otherProjects = [':proj1', ':proj2', ':proj3']\n\ntest {\n  useTestNG()\n  finalizedBy jacocoTestReport\n}\n\notherProjects.each {\n  evaluationDependsOn it\n}\n\njacocoTestReport {\n  FileTree sourceTree = files().getAsFileTree()\n  FileTree classTree = files().getAsFileTree()\n\n  otherProjects.each {\n    sourceTree += project(it).sourceSets.main.allJava\n    classTree += project(it).sourceSets.main.output.asFileTree\n  }\n\n  sourceTree = sourceTree.matching {\n    exclude '**/nonTestedClass.java'\n  }\n\n  classTree = classTree.matching {\n    exclude '**/nonTestedClass.class'\n  }\n\n  getAdditionalSourceDirs().setFrom(sourceTree)\n  getAdditionalClassDirs().setFrom(classTree)\n  reports {\n    html.enabled = true\n    xml.enabled = true\n    csv.enabled = false\n  }\n}\n\ndependencies {\n  implementation project(':proj1')\n  implementation project(':proj2')\n  implementation project(':proj3')\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n  testImplementation 'org.testng:testng'\n}\n</code></pre>\n<p>Gradle version is 7.0.1. Java 11.\nI've looked <a href=\"https://stackoverflow.com/questions/53829414/jacoco-not-generating-coverage-reports-based-on-source-file-method-names-not-c\">this post</a>, but my paths for each project are correct as you can see in architecture.</p>\n<p><a href=\"https://i.stack.imgur.com/MB9hd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MB9hd.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 1</strong>\nI found that in each subproject, the build directories contain class files only for those java files that are in a specific subproject. Maybe this is the problem? Maybe I need to send all class files to the root build directory or not?\nP.S. build.gradle of subprojects do not contain any jacoco settings.</p>\n<p><strong>EDIT 2</strong>\nI've added print for getAdditional...Dirs() and learned that all paths are correct and found.\nAlso terminal gives me this info:</p>\n<pre><code>&gt; Task :jacocoTestReport\n[ant:jacocoReport] Classes in bundle 'myProj' do no match with execution data. For report generation the same class files must be used as at runtime.\n</code></pre>\n<p>But it's very strange, because when i've added this code</p>\n<pre><code>println(JavaVersion.current())\n</code></pre>\n<p>I've got this result: Java Version: 11. It's correct version of my Java:</p>\n<pre><code>$ java --version\nopenjdk 11.0.11 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n"},{"comments":[{"comment_id":42243226,"body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2130892/persisting-hashlib-state\">Persisting hashlib state</a>"},{"comment_id":42243281,"body":"As you&#39;ve no doubt discovered you can&#39;t pickle hashlib&#39;s HASH objects; see <a href=\"http://stackoverflow.com/q/2130892/4014959\">Persisting hashlib state</a> for an explanation and some options. But you can speed up your hashing by using a larger blocksize, eg 64kB."},{"comment_id":42243572,"body":"@PM2Ring No answer is satisfying in your suggested question because I need something(SOME_CLASS) which can persist any Hash object from hashlib."},{"comment_id":42264743,"body":"The main answer in the question I linked to explains why you <b>can&#39;t</b> persist Hash objects from hashlib. I agree that the options mentioned in those answers are unsatisfactory. If you <i>really</i> need hash objects that can persist you&#39;ll need to write your own module. Have you tried my suggestion of using a larger block size? In my experiments 64 kilobytes (65536 bytes) works quite well."},{"comment_id":42278185,"body":"That question I linked to has links to pure Python implementations of sha256 and MD5 which can be used to make persistable hash objects, and <a href=\"http://stackoverflow.com/a/5866304/4014959\">this answer</a> shows how to do it for MD5. But I expect that on standard Python this approach will be <i>much</i> slower than hashlib, because most of the work in hashlib is done by the OpenSSL library, which is compiled C/C++ code."},{"comment_id":42324712,"body":"My previous answer to this question has been migrated to <a href=\"http://stackoverflow.com/questions/26880953/is-there-any-hash-function-which-have-following-properties/26881016#26881016\">a new question</a>, as suggested in a (deleted) comment by Devesh Saini."},{"comment_id":42325445,"body":"@PM2Ring What do you want to indicate?"},{"comment_id":42325753,"body":"I&#39;m just indicating the new location of my program in case anyone was wondering what happened to it. Why have you put a bounty on this question?"},{"comment_id":42326141,"body":"I have put a bounty on it because it haven&#39;t got much attention. Also, If someone having the answer, feeling lazy to write SOME_CLASS for just few points then this small bounty may get his/her attention to write code for me. If I had more reputation, I would offered a greater bounty on it because I seriously need answer."},{"comment_id":42326905,"body":"But as has already been explained, <b>it&#39;s simply not possible</b> to &quot;pause/resume md5 and sha256 hash object from standard &quot;hashlib&quot; module&quot;. The state data needed to make it possible is not accessible in any way via the Python hashlib and its hash objects. However, a new, functionally-equivalent, implementation of hashlib <i>could</i> allow such pausing and resuming, since the <code>struct SHAstate_st</code> aka <code>SHA_CTX</code> <i>is</i> accessible to C programs that use OpenSSL. See <code>&lt;openssl&#47;sha.h&gt;</code> (on my system that header is in <code>&#47;usr&#47;include</code>)."},{"comment_id":42327096,"body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/64784/discussion-between-devesh-saini-and-pm-2ring\">continue this discussion in chat</a>."},{"comment_id":42389765,"body":"hmm... write this code for +50 rep, or keep it to myself so that only MY bitcoin miner speeds up? You&#39;ve given us a tough choice."},{"comment_id":42393273,"body":"@iwolf : Hmmm. I know nothing about bitcoin. Maybe I shouldn&#39;t post my new code. OTOH, it runs at about the same speed as <code>sha256sum</code>, so maybe it gives no advantage... but what would <i>I</i> know. :)"}],"answers":[{"comments":[{"comment_id":42395536,"body":"It gives, OSError: libcrypto.so: cannot open shared object file... Can you write/update instruction for how to get it work?"},{"comment_id":42395924,"body":"Maybe you don&#39;t have that library file, but you should if you&#39;re on Linux and have OpenSSL installed. But try changing the library to &quot;libssl.so&quot;, i.e. change <code>crypto = cdll.LoadLibrary(&quot;libcrypto.so&quot;)</code> to <code>crypto = cdll.LoadLibrary(&quot;libssl.so&quot;)</code>. If you&#39;re not using Linux or some other form of Unix, you may have to use a slightly different syntax."},{"comment_id":42396087,"body":"I&#39;m not very familiar with Windows, but it looks like the OpenSSL crypto library name on Windows is <code>ssleay32.dll</code>. And the equivalent to <code>libssl.so</code> (the main OpenSSL library) is <code>libeay32.dll</code>."},{"comment_id":42396324,"body":"I tried changing the name to <code>libssl.so</code> but no effect. It keeps on raising same exception. I also tried installing openssl by doing <code>apt-get install openssl</code> and tried both names i.e. <code>libcrypto.so</code> and <code>libssl.so</code>. Same problem!"},{"comment_id":42396746,"body":"Those libraries should be in <code>&#47;usr&#47;lib&#47;</code>, as symbolic links to the actual libraries. I normally use <code>synaptic</code> to manage packages. On my system, the SSL libraries are part of the <code>libssl0.9.8</code> package; I guess <code>apt-get install libssl0.9.8</code> should work, but I don&#39;t understand why that wouldn&#39;t have been automatically installed as a dependency of the main OpenSSL package. <i>Maybe</i> you also need the developer files in the <code>libssl-dev</code> package so that the Python ctypes stuff works."},{"comment_id":42397186,"body":"And maybe you need to fix your sources list. Did you modify it a few months back when Heartbleed was a thing? Those libraries (and some others) should be listed if you do <code>ldd $(which openssl)</code>. Also try (as root) <code>dpkg -l | grep libssl</code>."},{"comment_id":42400815,"body":"I first installed <code>libssl0.9.8</code> and then <code>libssl-dev</code>. Now, it is working. Perfect solution :)"},{"comment_id":42403894,"body":"Excellent! And thankyou. :big grin:. With a minor change it also works on Windows, although I&#39;ve only tested it on WinXP."}],"answer_id":26878137,"body":"<p>It turned out to be easier than I thought to rewrite hashlib to be resumable, at least, the SHA-256 portion. I spent some time playing with C code that uses the OpenSSL crypto library, but then I realised that I don't need all that stuff, I can just use ctypes.</p>\n\n<p><strong>rehash.py</strong></p>\n\n<pre><code>#! /usr/bin/env python\n\n''' A resumable implementation of SHA-256 using ctypes with the OpenSSL crypto library\n\n    Written by PM 2Ring 2014.11.13\n'''\n\nfrom ctypes import *\n\nSHA_LBLOCK = 16\nSHA256_DIGEST_LENGTH = 32\n\nclass SHA256_CTX(Structure):\n    _fields_ = [\n        (\"h\", c_long * 8),\n        (\"Nl\", c_long),\n        (\"Nh\", c_long),\n        (\"data\", c_long * SHA_LBLOCK),\n        (\"num\", c_uint),\n        (\"md_len\", c_uint)\n    ]\n\nHashBuffType = c_ubyte * SHA256_DIGEST_LENGTH\n\n#crypto = cdll.LoadLibrary(\"libcrypto.so\")\ncrypto = cdll.LoadLibrary(\"libeay32.dll\" if os.name == \"nt\" else \"libssl.so\")\n\nclass sha256(object):\n    digest_size = SHA256_DIGEST_LENGTH\n\n    def __init__(self, datastr=None):\n        self.ctx = SHA256_CTX()\n        crypto.SHA256_Init(byref(self.ctx))\n        if datastr:\n            self.update(datastr)\n\n    def update(self, datastr):\n        crypto.SHA256_Update(byref(self.ctx), datastr, c_int(len(datastr)))\n\n    #Clone the current context\n    def _copy_ctx(self):\n        ctx = SHA256_CTX()\n        pointer(ctx)[0] = self.ctx\n        return ctx\n\n    def copy(self):\n        other = sha256()\n        other.ctx = self._copy_ctx()\n        return other\n\n    def digest(self):\n        #Preserve context in case we get called before hashing is\n        # really finished, since SHA256_Final() clears the SHA256_CTX\n        ctx = self._copy_ctx()\n        hashbuff = HashBuffType()\n        crypto.SHA256_Final(hashbuff, byref(self.ctx))\n        self.ctx = ctx\n        return str(bytearray(hashbuff))\n\n    def hexdigest(self):\n        return self.digest().encode('hex')\n\n#Tests\ndef main():\n    import cPickle\n    import hashlib\n\n    data = (\"Nobody expects \", \"the spammish \", \"imposition!\")\n\n    print \"rehash\\n\"\n\n    shaA = sha256(''.join(data))\n    print shaA.hexdigest()\n    print repr(shaA.digest())\n    print \"digest size =\", shaA.digest_size\n    print\n\n    shaB = sha256()\n    shaB.update(data[0])\n    print shaB.hexdigest()\n\n    #Test pickling\n    sha_pickle = cPickle.dumps(shaB, -1)\n    print \"Pickle length:\", len(sha_pickle)\n    shaC = cPickle.loads(sha_pickle)\n\n    shaC.update(data[1])\n    print shaC.hexdigest()\n\n    #Test copying. Note that copy can be pickled\n    shaD = shaC.copy()\n\n    shaC.update(data[2])\n    print shaC.hexdigest()\n\n\n    #Verify against hashlib.sha256()\n    print \"\\nhashlib\\n\"\n\n    shaD = hashlib.sha256(''.join(data))\n    print shaD.hexdigest()\n    print repr(shaD.digest())\n    print \"digest size =\", shaD.digest_size\n    print\n\n    shaE = hashlib.sha256(data[0])\n    print shaE.hexdigest()\n\n    shaE.update(data[1])\n    print shaE.hexdigest()\n\n    #Test copying. Note that hashlib copy can NOT be pickled\n    shaF = shaE.copy()\n    shaF.update(data[2])\n    print shaF.hexdigest()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p><strong>resumable_SHA-256.py</strong></p>\n\n<pre><code>#! /usr/bin/env python\n\n''' Resumable SHA-256 hash for large files using the OpenSSL crypto library\n\n    The hashing process may be interrupted by Control-C (SIGINT) or SIGTERM.\n    When a signal is received, hashing continues until the end of the\n    current chunk, then the current file position, total file size, and\n    the sha object is saved to a file. The name of this file is formed by\n    appending '.hash' to the name of the file being hashed.\n\n    Just re-run the program to resume hashing. The '.hash' file will be deleted\n    once hashing is completed.\n\n    Written by PM 2Ring 2014.11.14\n'''\n\nimport cPickle as pickle\nimport os\nimport signal\nimport sys\n\nimport rehash\n\nquit = False\n\nblocksize = 1&lt;&lt;16   # 64kB\nblocksperchunk = 1&lt;&lt;8\n\nchunksize = blocksize * blocksperchunk\n\ndef handler(signum, frame):\n    global quit\n    print \"\\nGot signal %d, cleaning up.\" % signum\n    quit = True\n\n\ndef do_hash(fname, filesize):\n    hashname = fname + '.hash'\n    if os.path.exists(hashname):\n        with open(hashname, 'rb') as f:\n            pos, fsize, sha = pickle.load(f)\n        if fsize != filesize:\n            print \"Error: file size of '%s' doesn't match size recorded in '%s'\" % (fname, hashname)\n            print \"%d != %d. Aborting\" % (fsize, filesize)\n            exit(1)\n    else:\n        pos, fsize, sha = 0, filesize, rehash.sha256()\n\n    finished = False\n    with open(fname, 'rb') as f:\n        f.seek(pos)\n        while not (quit or finished):\n            for _ in xrange(blocksperchunk):\n                block = f.read(blocksize)\n                if block == '':\n                    finished = True\n                    break\n                sha.update(block)\n\n            pos += chunksize\n            sys.stderr.write(\" %6.2f%% of %d\\r\" % (100.0 * pos / fsize, fsize))\n            if finished or quit:\n                break\n\n    if quit:\n        with open(hashname, 'wb') as f:\n            pickle.dump((pos, fsize, sha), f, -1)\n    elif os.path.exists(hashname):\n        os.remove(hashname)\n\n    return (not quit), pos, sha.hexdigest()\n\n\ndef main():\n    if len(sys.argv) != 2:\n        print \"Resumable SHA-256 hash of a file.\"\n        print \"Usage:\\npython %s filename\\n\" % sys.argv[0]\n        exit(1)\n\n    fname = sys.argv[1]\n    filesize = os.path.getsize(fname)\n\n    signal.signal(signal.SIGINT, handler)\n    signal.signal(signal.SIGTERM, handler)\n\n    finished, pos, hexdigest = do_hash(fname, filesize)\n    if finished:\n        print \"%s  %s\" % (hexdigest, fname)\n    else:\n        print \"sha-256 hash of '%s' incomplete\" % fname\n        print \"%s\" % hexdigest\n        print \"%d / %d bytes processed.\" % (pos, filesize)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p><strong>demo</strong></p>\n\n<pre><code>import rehash\nimport pickle\nsha=rehash.sha256(\"Hello \")\ns=pickle.dumps(sha.ctx)\nsha=rehash.sha256()\nsha.ctx=pickle.loads(s)\nsha.update(\"World\")\nprint sha.hexdigest()\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e\n</code></pre>\n\n<p><strong>edit</strong></p>\n\n<p>I've just made a minor edit to allow <code>rehash</code> to work on Windows, too, although I've only tested it on WinXP. The <code>libeay32.dll</code> can be in the current directory, or somewhere in the system library search path, eg <code>WINDOWS\\system32</code>. My rather ancient (and mostly unused) XP installation couldn't find the .dll, even though it's used by OpenOffice and Avira. So I just copied it from the Avira folder to system32. And now it works perfectly. :)</p>\n"},{"answer_id":76296495,"body":"<p>A pure python that support import / export to python dict: <a href=\"https://pypi.org/project/sha256bit/\" rel=\"nofollow noreferrer\">https://pypi.org/project/sha256bit/</a></p>\n<p>Demo:</p>\n<pre><code>&gt;&gt;&gt; from sha256bit import Sha256bit\n&gt;&gt;&gt; h1 = Sha256bit(&quot;a&quot;.encode())\n&gt;&gt;&gt; state = h1.export_state()\n&gt;&gt;&gt; h2 = Sha256bit.import_state(state)\n&gt;&gt;&gt; h2.update(&quot;bc&quot;.encode())\n&gt;&gt;&gt; h2.hexdigest()\n'ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad'\n</code></pre>\n<p><code>state</code> is a regular python dict that can be persisted.</p>\n"}],"last_activity_date":1684660986,"question_id":26838194,"body":"<p>I need a Python/C/C++/Java implementation which can <strong>pause hashing progress</strong> and <strong>store</strong> that progress in a file in such a way that the progress is <strong>recoverable</strong> from that file at a later stage.</p>\n\n<p>No matter in what language it is written from above listed, it should work properly in Python. It is recommended that you may provide that to work well with \"hashlib\" however it is not necessary. Also, if such a thing already exist, a link to that is sufficient.</p>\n\n<p><strong>For an idea</strong>, what your implementation should achieve.</p>\n\n<pre><code>import hashlib\nimport hashpersist #THIS IS NEEDED.\n\nsha256 = hashlib.sha256(\"Hello \")\nhashpersist.save_state(sha256, open('test_file', 'w'))\n\nsha256_recovered = hashpersist.load_state(open('test_file', 'r'))\nsha256_recovered.update(\"World\")\nprint sha256_recovered.hexdigest()\n</code></pre>\n\n<p>This should give the same output as we had done simple hashing of \"Hello World\" with standard sha256 function.</p>\n\n<pre><code>a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e\n</code></pre>\n"},{"comments":[{"comment_id":113168717,"body":"I feel your pain -- the Eclipse heap analyser can use a truly colossal amount of heap. I&#39;ve not found a better way to use it, than to set a massive -Xmx value, and allocate a lot of swap to the system. It&#39;s very slow, though. I&#39;d also like to know if there&#39;s a better way."}],"answers":[{"comments":[{"comment_id":113179379,"body":"Hey Aragozin, Please tell me how to use <a href=\"https://github.com/aragozin/heaplib\" rel=\"nofollow noreferrer\">github.com/aragozin/heaplib</a> ?"},{"comment_id":113194397,"body":"1+ I was not aware of this beauty, will try as soon as I get a chance."},{"comment_id":113204437,"body":"@PrinceGupta I have put some minimal info to README.md"}],"answer_id":64003891,"body":"<p>Processing large heap dump is a challenge. Both VisualVM and Eclipse Memory Analyzer required too much memory to process heap dumps in order of few dozen of GiB.</p>\n<p>Commercial profilers show better result (YourKit in particular) though I not sure of their practical limit.</p>\n<p>To routinely process 100+ GiB, I came up you with headless solution <a href=\"https://github.com/aragozin/heaplib\" rel=\"nofollow noreferrer\">heaplib</a>, which based on code base from VisualVM (Netbeans actually).</p>\n<p>Heaplib is neigther graphical, nor interactive. It is oriented to automated reporting.\nTool allows you to write code for heap analysis in OQL/JavaScript (or Java if you wish), though capabilities are limited to accommodate memory requirements. Processing of 100GiB could take hour, but for non interactive workflow it is acceptable.</p>\n"},{"answer_id":76299160,"body":"<p>Challenge is that RAM should be larger than the heap dump hprof file. And usually our laptop hosting windows system has RAM &lt;=16 GB. Thus analyzing heap dump of 35-40 gb in local system is almost impossible.</p>\n<p>Configure MAT in your remote unix server having enough RAM ( &gt; 35-40GB). And run it using command line. (GUI is always slower than command line anyway.)</p>\n<p>Assigning 8GB-10GB wont work. So Better to increase the heap assigned to java process.</p>\n<p>-vmargs\n-Xms40g\n-Xmx40g</p>\n<p>Check by descriptive answer here.\n<a href=\"https://stackoverflow.com/a/76298700/5140851\">https://stackoverflow.com/a/76298700/5140851</a></p>\n"}],"last_activity_date":1684660956,"question_id":63997436,"body":"<p>I have to analyse java heap dump of size 35-40GB, which can't be loaded on local machine except of remote servers of large memory.</p>\n<p>I found <a href=\"https://stackoverflow.com/questions/7254017/tool-for-analyzing-large-java-heap-dumps\">Tool for analyzing large Java heap dumps</a> as the best link till now. But after configuring all the things and properly executing all the command lines, I was not able to get any report file.</p>\n<p>My <em>ParseHeapDump.sh</em> file looks as</p>\n<pre><code>#!/bin/sh\n#\n# This script parses a heap dump.\n#\n# Usage: ParseHeapDump.sh &lt;path/to/dump.hprof&gt; [report]*\n#\n# The leak report has the id org.eclipse.mat.api:suspects\n# The top component report has the id org.eclipse.mat.api:top_components\n#\n./MemoryAnalyzer -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot; -vmargs -Xms8g -Xmx10g -XX:-UseGCOverheadLimit\n</code></pre>\n<p>and  <em>MemoryAnalyzer.ini</em> file looks as</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.700.v20180518-1200\njava -Xmx8g -Xms10g -jar plugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar -consoleLog -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot;\n-vmargs\n-Xms8g\n-Xmx10g\n</code></pre>\n<p>Please tell me If I'm doing any mistake in configuration or suggest me any other tool available in the market.</p>\n"},{"comments":[{"comment_id":134546802,"body":"You need to describe what your &quot;issue&quot; is, now we have to guess. I guess you wonder that this code &quot;does nothing&quot;? That&#39;s because you don&#39;t print the <code>String</code> that <code>pp.primes(7)</code> returns. Use <code>System.out.printlin</code> for that."}],"answers":[{"answer_id":76299133,"body":"<p>If you want to see the results, use <code>System.out.print(pp.primes(7));</code></p>\n"}],"last_activity_date":1684660534,"question_id":76299103,"body":"<p>What is the issue with this ?</p>\n<pre><code>public class prime \n{\n    String  primes(int num)\n    {\n        for(int i=2;i&lt;num-1;i++)\n        {\n            if(num%i==0)\n            {\n                return &quot;Not a prime&quot;;\n                \n            }\n            else if(num%i!=0)\n            {\n                return &quot;Prime&quot;;\n                \n            }\n        }\n        return &quot;Composite&quot;;\n    }\n\n    public static void main(String [] args) {\n        prime pp=new prime();\n        pp.primes(7);\n    \n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134542407,"body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"comment_id":134542491,"body":"&quot;that particular app will be installed automatically&quot; -- thankfully, that is not supported."},{"comment_id":134544137,"body":"what i meant that it will show a pop up like &quot;do you want to install this app&quot;"}],"last_activity_date":1684660151,"question_id":76296410,"body":"<p>How can I decrypt encrypted video files in an Android app and play them in an Android app that I am making and then remove the decrypted file from the storage?</p>\n"},{"comments":[{"comment_id":134548958,"body":"This is probably related to your classpath. You need to add the JAR-file that contains the class <code>com.googlecode.sqlsheet.Driver</code> to your classpath when you execute your program. So first find the correct JAR file, then adjust your starting of the program. To help you on the second part you need to add information to your question how you compile and run your program."}],"last_activity_date":1684660073,"question_id":76292240,"body":"<p>I am new to Anylogic and Java in general. I am trying to do something very simple. I have an Anylogic simulation model that imports data from an Excel file into the in-built database using the &quot;Create or import table&quot; link in the properties window.</p>\n<p>Now instead of using the &quot;Create or import table&quot; of the in-built database, I want to programmatically read the data in the Excel file into the in-built database. I look Anylogic Help and found a page that explains how to &quot;To import data from an Excel table into the model’s database programmatically&quot;.</p>\n<p>I followed the instructions and created the code in the &quot;on start up&quot; action box of main. However, I keep getting this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error during model startup:\nDatabase (&quot;Store Data&quot;): Couldn't load database JDBC Driver &quot;com.googlecode.sqlsheet.Driver&quot; (class   not found)\njava.lang.RuntimeException: Database (&quot;Store Data&quot;): Couldn't load database JDBC Driver       &quot;com.googlecode.sqlsheet.Driver&quot; (class not found)\nat com.anylogic.engine.connectivity.Database.&lt;init&gt;(Unknown Source)\nat com.anylogic.engine.connectivity.Database.&lt;init&gt;(Unknown Source)\nat com.anylogic.engine.connectivity.Database.&lt;init&gt;(Unknown Source)\nat testdatabase.Main.onStartup(Main.java:319)\nat com.anylogic.engine.Agent.d(Unknown Source)\nat com.anylogic.engine.Agent.start(Unknown Source)\nat com.anylogic.engine.Engine.start(Unknown Source)\nat com.anylogic.engine.ExperimentSimulation.g(Unknown Source)\nat com.anylogic.engine.ExperimentSimulation.run(Unknown Source)\nat com.anylogic.engine.ExperimentSimulation.b(Unknown Source)\nat com.anylogic.engine.internal.k$k.run(Unknown Source)\n</code></pre>\n<p>Can you please look at my code below and let me know why I am getting this JDBC Driver load error?</p>\n<pre><code>ModelDatabase modelDB = getEngine().getModelDatabase();\nDatabase myStoreFile = new Database(this, &quot;Store Data&quot;, &quot;Ryan_sim_data_02226.xlsx&quot;);\nmodelDB.importFromExternalDB(myStoreFile.getConnection(), &quot;loc_forecast&quot;, &quot;Internal_loc_forecast&quot;, true, false);\n</code></pre>\n"},{"comments":[{"comment_id":134546357,"body":"I cant add photo or other codes. How can ı do it   Your post appears to contain code that is not properly formatted as code. Please indent all code by 4 spaces using the code toolbar button or the CTRL+K keyboard shortcut. For more editing help, click the [?] toolbar icon."},{"comment_id":134546392,"body":"This kind of question needs to show your debugging efforts. Have you used a debugger to step through the code, set break points, inspected variables, and identified the very <b>first</b> place where something happened different from what you expected?"},{"comment_id":134546426,"body":"no i didnt but ı think bug is on isGameEnded method, because everything is fine . ı put all knigt pawn or like that."},{"comment_id":134546429,"body":"public boolean isGameEnded() {         int whitePieces = 0;         int blackPieces = 0;          for (int row = 0; row &lt; 8; row++) {             for (int col = 0; col &lt; 8; col++) {                 Piece piece = board[row][col].getPiece();                 if (piece != null) {                     if (piece.getColor() == ChessBoard.WHITE) {                         whitePieces++;                     } else {                         blackPieces++;                     }                 }             }         }"},{"comment_id":134546431,"body":"ı cant give all code i will be crazy what can ı do"},{"comment_id":134546438,"body":"can ı message you private or can ı add photo or like that?"},{"comment_id":134546439,"body":"<i>&quot;I think bug is on ...&quot;</i>: don&#39;t guess, instead use a debugger. Then, if <i>after</i> debugging with a debugger you haven&#39;t identified the problem, edit your question and add the results of your debugging efforts."},{"comment_id":134546442,"body":"how can ı use it ?"},{"comment_id":134546449,"body":"ı started project and it is working but just not like how ı want"},{"comment_id":134546456,"body":"<a href=\"https://stackoverflow.com/q/856388/5459839\">Setting breakpoints in Java</a>, <a href=\"https://stackoverflow.com/q/25385173/5459839\">What is a debugger and how can it help me diagnose problems?</a>, <a href=\"https://stackoverflow.com/q/18977397/5459839\">debug java program step by step in Eclipse</a>"},{"comment_id":134548135,"body":"Also, check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."}],"last_activity_date":1684660072,"question_id":76298801,"body":"<p>I created ChessGame, ChessBoard, Pierce, Square and all other classes like knight queen. And all codes are looking correct. It doesn't give any error, but when I start a game, it says game started, white win, game over. How can I fix that? I am trying to make a chess game but with a few differences like you can't win absolute pin: a piece can be played even it would put the King into check. End game control: you can end the game when no pieces exist from one color. How can I do it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ChessGame {\n\n    private ChessBoard board;\n\n    public ChessGame() {\n        board = new ChessBoard();\n    }\n\n    public void start() {\n        System.out.println(&quot;Satranç Oyununa Hoş Geldiniz!&quot;);\n\n        while (!board.isGameEnded()) {\n            printBoard();\n            int turnColor = board.isWhitePlaying() ? ChessBoard.WHITE : ChessBoard.BLACK;\n            String turnColorName = turnColor == ChessBoard.WHITE ? &quot;Beyaz&quot; : &quot;Siyah&quot;;\n            System.out.println(turnColorName + &quot; oyuncu sırası&quot;);\n            System.out.println(&quot;Bir taşı seçin (örneğin, e2):&quot;);\n            String sourceSquareName = readUserInput();\n\n            if (!isValidSquareName(sourceSquareName)) {\n                System.out.println(&quot;Geçersiz bir kare ismi girdiniz!&quot;);\n                continue;\n            }\n\n            Piece selectedPiece = board.getPieceAt(sourceSquareName);\n\n            if (selectedPiece == null) {\n                System.out.println(&quot;Seçtiğiniz karede bir taş bulunmuyor!&quot;);\n                continue;\n            }\n\n            if (selectedPiece.getColor() != turnColor) {\n                System.out.println(&quot;Seçtiğiniz taş sizin renginizde değil!&quot;);\n                continue;\n            }\n\n            System.out.println(&quot;Hedef kareyi seçin:&quot;);\n            String targetSquareName = readUserInput();\n\n            if (!isValidSquareName(targetSquareName)) {\n                System.out.println(&quot;Geçersiz bir kare ismi girdiniz!&quot;);\n                continue;\n            }\n\n            Square sourceSquare = board.getSquareAt(sourceSquareName);\n            Square targetSquare = board.getSquareAt(targetSquareName);\n\n            if (selectedPiece.canMove(targetSquare)) {\n                selectedPiece.move(targetSquare);\n                System.out.println(&quot;Taş başarıyla hareket etti!&quot;);\n                board.turn = turnColor == ChessBoard.WHITE ? ChessBoard.BLACK : ChessBoard.WHITE;\n            } else {\n                System.out.println(&quot;Geçersiz hareket!&quot;);\n            }\n        }\n\n        System.out.println(&quot;Oyun bitti!&quot;);\n    }\n\n    private void printBoard() {\n        System.out.println(&quot;-----------------&quot;);\n        for (int row = 7; row &gt;= 0; row--) {\n            for (int col = 0; col &lt; 8; col++) {\n                Piece piece = board.board[row][col].getPiece();\n                if (piece == null) {\n                    System.out.print(&quot;- &quot;);\n                } else if (piece instanceof Rook) {\n                    System.out.print(Rook.getSymbol() + &quot; &quot;);\n                } else if (piece instanceof Bishop) {\n                    System.out.print(Bishop.getSymbol() + &quot; &quot;);\n                } else if (piece instanceof Knight) {\n                    System.out.print(Knight.getSymbol() + &quot; &quot;);\n                } else if (piece instanceof King) {\n                    System.out.print(King.getSymbol() + &quot; &quot;);\n                }else if (piece instanceof Queen) {\n                    System.out.print(Queen.getSymbol() + &quot; &quot;);\n                }else if (piece instanceof Pawn) {\n                    System.out.print(Pawn.getSymbol() + &quot; &quot;);\n                }\n                // Diğer taş türleri için gerekli else if bloklarını ekleyebilirsiniz.\n            }\n            System.out.println();\n        }\n        System.out.println(&quot;-----------------&quot;);\n    }\n\n    private String readUserInput() {\n        Scanner scanner = new Scanner(System.in);\n        return scanner.nextLine();\n    }\n\n    private boolean isValidSquareName(String name) {\n        if (name.length() != 2) {\n            return false;\n        }\n\n        char file = name.charAt(0);\n        char rank = name.charAt(1);\n\n        return file &gt;= 'a' &amp;&amp; file &lt;= 'h' &amp;&amp; rank &gt;= '1' &amp;&amp; rank &lt;= '8';\n    }\n\n    public static void main(String[] args) {\n        ChessGame chessGame = new ChessGame();\n        chessGame.start();\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":127921386,"body":"I believe it should be <code>&quot;databaseName&quot;, &quot;[REDACTED]&quot;</code> not <code>&quot;database&quot;, &quot;[REDACTED]&quot;</code>."},{"comment_id":127921387,"body":"See also the examples here: <a href=\"https://stackoverflow.com/questions/50213381/how-do-i-configure-hikaricp-for-postgresql\">How do I configure HikariCP for postgresql?</a>"},{"comment_id":127921587,"body":"Hello @andrewJames, is there a comprehensive list of property names somewhere? Sorry if this sounds idiotic."},{"comment_id":127921795,"body":"See the HikariCP web site for all the HikariCP settings. And see the relevant Postgres JDBC documentation for all the Postgres JDBC settings."},{"comment_id":127922369,"body":"I&#39;ve seen both sites, and sometimes the names don&#39;t correspond as in the case above - the Postgres JDBC driver says &quot;database&quot; is the name of the database name parameter."},{"comment_id":127922790,"body":"Perhaps it would be easier to configure an object of type <code>PGSimpleDataSource</code> first. After that is done, pass to <a href=\"https://javadoc.io/static/com.zaxxer/HikariCP/5.0.1/com/zaxxer/hikari/HikariConfig.html#setDataSource(javax.sql.DataSource)\" rel=\"nofollow noreferrer\"><code>HikariConfig#setDataSource</code></a>."},{"comment_id":127923060,"body":"@BasilBourque Thanks for the suggestion. Didn&#39;t realize that was an option, and seems less ambiguous than the direct approach of adding properties using <code>addDataSourceProperty(&quot;something&quot;, &quot;the_other_thing&quot;)</code>.  I&#39;ll use that in the future."},{"comment_id":127924166,"body":"@daferrecpr If my suggested approach works out, please come back here to draft, post, and accept an Answer to your own Question, for posterity."}],"answers":[{"answer_id":72413985,"body":"<p>It gives that error because <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html\" rel=\"nofollow noreferrer\"><code>PGSimpleDataSource</code></a> does not have a property <code>database</code> (i.e. it doesn't have a <code>setDatabase(String)</code> method). It does have a property <code>databaseName</code> (<a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html#setDatabaseName-java.lang.String-\" rel=\"nofollow noreferrer\"><code>setDatabaseName</code></a> defined in <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html\" rel=\"nofollow noreferrer\"><code>BaseDataSource</code></a>). This property is specified in section <em>9.6.1 <code>DataSource</code> Properties</em> of the JDBC 4.3 specification.</p>\n<p>Reading the comments, it looks like you're confusing the documentation of the <a href=\"https://jdbc.postgresql.org/documentation/head/connect.html\" rel=\"nofollow noreferrer\">JDBC URL format</a> (and connection properties) with the properties that are available on the data source implementations provided by the driver. To be clear, that documentation doesn't specify there is a property <code>database</code>, it only uses <code>database</code> as a placeholder in the JDBC URL syntax (as in jdbc:postgresql://<em>host</em>/<em><strong>database</strong></em>).</p>\n"}],"last_activity_date":1684659609,"question_id":72411539,"body":"<p>I am attempting to set up various PostgreSQL JDBC driver <a href=\"https://jdbc.postgresql.org/documentation/head/connect.html\" rel=\"nofollow noreferrer\">properties</a> to my HikariCP pool, but for some reason, it's stating that those properties don't exist. Why so? Am I using the wrong parameter names?</p>\n<pre><code>import com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\npublic class HikariTest {\n    public static void main(String[] args) throws SQLException {\n        HikariConfig config = new HikariConfig();\n        config.setDataSourceClassName(&quot;org.postgresql.ds.PGSimpleDataSource&quot;);\n        config.setUsername(&quot;[REDACTED]&quot;);\n        config.setPassword(&quot;[REDACTED]&quot;);\n        config.addDataSourceProperty(&quot;host&quot;, &quot;[REDACTED&quot;);\n        config.addDataSourceProperty(&quot;database&quot;, &quot;[REDACTED]&quot;);\n        config.addDataSourceProperty(&quot;ssl&quot;, true);\n        config.addDataSourceProperty(&quot;sslcert&quot;, &quot;[REDACTED]&quot;);\n        HikariDataSource ds = new HikariDataSource(config);\n        Connection conn = ds.getConnection();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Property database does not exist on target class org.postgresql.ds.PGSimpleDataSource\n    at com.zaxxer.hikari.util.PropertyElf.setProperty(PropertyElf.java:127)\n    at com.zaxxer.hikari.util.PropertyElf.lambda$setTargetFromProperties$0(PropertyElf.java:51)\n    at java.base/java.util.concurrent.ConcurrentHashMap.forEach(ConcurrentHashMap.java:1603)\n    at java.base/java.util.Properties.forEach(Properties.java:1422)\n    at com.zaxxer.hikari.util.PropertyElf.setTargetFromProperties(PropertyElf.java:46)\n    at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:323)\n    at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:112)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:93)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\n    at HikariTest.main(HikariTest.java:21)\n</code></pre>\n"},{"answers":[{"answer_id":60496778,"body":"<p>You need to declare what is the column on the document table that contains the request Id:</p>\n\n<pre><code>@JoinColumn(name = \"PARENT_REQUEST\")\n</code></pre>\n\n<p>where PARENT_REQUEST is the name of the column on your Document table</p>\n"},{"answer_id":60496824,"body":"<p>While persisting new data into the database, you've probably added documents to Request's list but forgot to set Request's object to all of your documents on the other side.</p>\n\n<p>Check that you did both things (the following is the example):</p>\n\n<pre><code>Request request = new Request();\n//initialization of request\nfor (...) { //iterate over all document candidates\n    Document document = new Document();\n    //initialization of document\n    document.setRequest(request); //check this!\n    request.getDocuments().add(document);\n}\n</code></pre>\n\n<p>Also, it seems that you don't have a not-null constraint on <code>ID_REQUEST</code> column. Add this so you won't have this broken data with nullable <code>ID_REQUEST</code> field in the future (constraint violation exception will be raised instead in this kind of situations).</p>\n"}],"last_activity_date":1684658991,"question_id":60496569,"body":"<p>I have a problem when I want to persist 2 objects in the database</p>\n<p>In Request class:</p>\n<pre><code>@OneToMany(cascade = CascadeType.PERSIST, mappedBy = &quot;request&quot;)\nprivate List&lt;Document&gt; documents;\n</code></pre>\n<p>In Document class:</p>\n<pre><code>@JoinColumn( referencedColumnName = &quot;ID_REQUEST&quot;)\n@ManyToOne\nRequest request;\n</code></pre>\n<p>The problem is that when I add <code>request</code> the I find that the 2 objects are persisted but in the table Document lD_REQUEST IS ALWAYS NULL.</p>\n<p>THANK YOU IN ADVANCE and sorry for my English</p>\n"},{"answers":[{"answer_id":76287257,"body":"<p>I've figured this out. There're two topics here first you must bind <code>WebClient.Builder</code> via Autowiring it since Spring handles the tracing itself.</p>\n<p>Second there's a bug in the spring graphql <a href=\"https://github.com/spring-projects/spring-graphql/issues/675\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-graphql/issues/675</a> So using <code>3.0.7-SNAPSHOT</code> for spring dependencies fixed it.</p>\n<pre><code>@Bean\npublic HttpGraphQlClient dataServiceHttpGraphQlClient(@Autowired WebClient.Builder webClientBuilder,\n                                                      @Value(&quot;${url}&quot;) String url) {\n    return HttpGraphQlClient.builder(webClientBuilder)\n            .url(url)\n            .build();\n}\n</code></pre>\n<p><strong>UPDATE</strong> 3.0.7 is now released, you don't need to use SNAPSHOT anymore.</p>\n"}],"last_activity_date":1684658143,"question_id":76253140,"body":"<p>I'm using below micrometer dependencies along with spring boot graphql starter.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I use below graphqlclient to fetch data from one of my microservices I can see that traceId is being propagated for both services but unfortunately differently.</p>\n<pre><code>    @Bean\npublic HttpGraphQlClient dataServiceHttpGraphQlClient(@Value(&quot;${url}&quot;) String dataServiceUrl) {\n    return HttpGraphQlClient.builder()\n            .url(url)\n            .header(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\n            .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\n            .build();\n}\n</code></pre>\n<p>This's how I execute it:</p>\n<pre><code> public &lt;T&gt; Mono&lt;List&lt;T&gt;&gt; executeQuery(final String queryName,\n                                      final String path,\n                                      final Class&lt;T&gt; responseClass,\n                                      final Map&lt;String, Object&gt; variables) {\n    log.debug(&quot;Executing {} query: {}&quot;, path, queryName);\n\n    GraphQlClient.RequestSpec document = graphQlClient.documentName(queryName);\n    if (!CollectionUtils.isEmpty(variables)) document.variables(variables);\n\n    return document.execute()\n            .mapNotNull(response -&gt; response.field(path).toEntityList(responseClass))\n            .onErrorResume(error -&gt; Mono.error(new RuntimeException(&quot;Error &quot; + error.getMessage()))); //TODO custom exception\n\n}\n</code></pre>\n<p>When I check the headers in my requested service, I can see that no tracing header is added.</p>\n<p>Any help would be appreciated.</p>\n"},{"comments":[{"comment_id":132381325,"body":"How do you plan to handle lunchtime? Because when you say 8 working hours: 8am to 5pm this would be 9 hours of worktime?"},{"comment_id":132382233,"body":"In this case i don&#39;t need to calculate the lunchtime  basically i am running a scheduler which only expires the value of date between interval of 8 hours in weekdays  if you can suggest any code snippet for the same will be helpful  Thanks in advance @buec95"}],"answers":[{"answer_id":75018498,"body":"<p>For sure there are much more elegant solutions but this could be one. I also added a break during lunch(12 to 13 o'clock) so for example if the start is at 12:30 the end will be at 13:30 (Lunchtime = no usage).</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>final int START_OF_DAY = 8;\nfinal int END_OF_DAY = 17;\nfinal int WORKING_HOURS = 8;\nfinal int LUNCH = 1;\nLocalDateTime endDateTime = LocalDateTime.now(ZoneOffset.UTC);\nint startTime = endDateTime.getHour();\nint startDay = endDateTime.getDayOfWeek().getValue();\nint endTime = 0;\nint startTimeEndDay = 0;\n\nSystem.out.println(&quot;Start-Datetime: &quot; + endDateTime);\n\nif (startTime &gt; START_OF_DAY &amp;&amp; startTime &lt;= 12) {\n    startTimeEndDay = (END_OF_DAY - startTime - LUNCH);\n} else if (startTime &gt;= 13 &amp;&amp; startTime &lt;= END_OF_DAY) {\n    startTimeEndDay = END_OF_DAY - startTime;\n}\n\nendTime = START_OF_DAY + (WORKING_HOURS - startTimeEndDay);\nif (startTimeEndDay == 4) {\n    endTime += LUNCH;\n}\n\nendDateTime = endDateTime.withHour(endTime);\n\nif (startTime != START_OF_DAY) {\n    if (startDay != 5) {\n        endDateTime = endDateTime.plusDays(1);\n    } else {\n        endDateTime = endDateTime.plusDays(3);\n    }\n}     \n\nSystem.out.println(&quot;Expiry-Datetime: &quot; + endDateTime);\n\n}\n</code></pre>\n<p>For example:<br />\nInput: 05.01.2023 15:32<br />\nOutput: 06.01.2023 16:32</p>\n<p>Input: 06.01.2023 08:37<br />\nOutput: 09.01.2023 09:37</p>\n"}],"last_activity_date":1684657908,"question_id":75016407,"body":"<p>The expiry should be after 8 working hours (8 am to 5 pm UTC monday to Friday) for example the created date at 7 pm UTC time, the expiring time should be counted from next morning 8 am to 5 pm UTC time and expire. So it should expire at 4 pm UTC  .</p>\n<p>Another example, if broadcast happened at 4 pm SA time then expiry should be counted as 1 hour from today and 7 hours from next day (8 am to 5 pm time) so it should expire at 3 pm SA time .  I have tried this solution but not working can anyone please help me out here</p>\n<pre><code>int workHourStartUtc = 6;\nint workHourEndUtc = 15;\nint expiryWindow = 8;\nint currentHourUtc = LocalDateTime.now(ZoneOffset.UTC).getHour();\nint hourCompletedToday = currentHourUtc - workHourStartUtc;\nint offHours = LocalDate.now().getDayOfWeek() == 1 ? 72 : 24;\nLocalDateTime yesterdayWorkEndUtc = LocalDateTime.now(ZoneOffset.UTC).toLocalDate().atTime(workHourEndUtc, 0).minusHours(offHours);\nLocalDateTime expireDateBefore = hourCompletedToday &gt;= expiryWindow ? LocalDateTime.now(ZoneOffset.UTC).minusHours(expiryWindow): yesterdayWorkEndUtc.minusHours(expiryWindow - hourCompletedToday);\n</code></pre>\n"},{"comments":[{"comment_id":134517045,"body":"Can you share your try? Where are you stuck? How did you invoke methodB() and didn&#39;t pass a key?"},{"comment_id":134520084,"body":"Please update your example to realistically show your problem - in current shape the best advice is to remove unnecessary code (both methodB() and methodC() are side-effect free, and methodB result is ignored)"},{"comment_id":134526054,"body":"The only test that makes sense here is <code>assertEquals(&quot;success&quot;, methodA())</code>. Everything done by the other methods does not have any effect and is clean up by the GC after execution."}],"last_activity_date":1684657817,"question_id":76280190,"body":"<p>How to do unit test when a public method call a private method which then call a public method. How do we test?</p>\n<pre><code>public class Demo{\n    \n    public String methodA(){\n        String value=methodB();\n        return &quot;success&quot;;\n    }\n    \n    private String methodB(String key){\n        String res=methodC().get(key);\n        return res;\n    }\n    public Map&lt;String,String&gt; methodC(){\n        Map&lt;String,String&gt; mp=new HashMap&lt;&gt;();\n        mp.put(&quot;key&quot;,&quot;value&quot;);\n        return mp;\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134547661,"body":"please stop following outdated tutorials <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>"}],"last_activity_date":1684657692,"question_id":76298519,"body":"<p>Web Adapter is not working</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Autowired\n    private UserDetailsService jwtUserDetailsService;\n\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        // configure AuthenticationManager so that it knows from where to load\n        // user for matching credentials\n        // Use BCryptPasswordEncoder\n        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        // We don't need CSRF for this example\n        httpSecurity.csrf().disable()\n                // dont authenticate this particular request\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll()\n                // all other requests need to be authenticated\n                .anyRequest().authenticated().and()\n                // make sure we use stateless session; session won't be used to\n                // store user's state.\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Add a filter to validate the tokens with every request\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>How can I fix 'Web Adapter is not working' error when implementing JWT authentication with Spring Boot?\nWhat could cause 'Web Adapter is not working' when configuring Spring Security with JWT authentication in a Spring Boot app?\nTroubleshooting 'Web Adapter is not working': Implementing JWT authentication in Spring Boot with Spring Security</p>\n"},{"answers":[{"comments":[{"comment_id":69152508,"body":"@Query works now for deleting. You add @Query(value = &quot;{id: ?0}&quot;, delete = true) as Marcelo Pasut mentioned in answer."}],"answer_id":17490688,"body":"<p>Unfortunately spring data doesn't provides any method to delete documents based on a query. And the <code>@Query</code> annotation is only for find documents.</p>\n\n<p>What you could do is implement a <a href=\"http://static.springsource.org/spring-data/mongodb/docs/current/reference/html/repositories.html#repositories.custom-implementations\" rel=\"nofollow\" title=\"Custom Repositories\">custom repository</a> that deletes documents based on what you want.  </p>\n"},{"comments":[{"comment_id":59918735,"body":"This appears to be the latest as of now so I think this should be the top answer."}],"answer_id":24515369,"body":"<p>Maybe you can use repository delete queries. Here is an example from <a href=\"http://docs.spring.io/spring-data/data-mongo/docs/1.5.1.RELEASE/reference/html/mongo.repositories.html#mongodb.repositories.queries.delete\" rel=\"noreferrer\">documentation</a>:</p>\n\n<pre><code>public interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n  List &lt;Person&gt; deleteByLastname(String lastname);\n\n  Long deletePersonByLastname(String lastname);         \n}\n</code></pre>\n\n<p>Using return type List will retrieve and return all matching documents before actually deleting them. A numeric return type directly removes the matching documents returning the total number of documents removed.</p>\n"},{"comments":[{"comment_id":43015201,"body":"This will result in 2 mongo queries instead of a single delete(criteria) one."}],"answer_id":26423701,"body":"<p>Repository:</p>\n\n<pre><code>@Component\npublic interface SomeRepository extends MongoRepository&lt;SomeObject, String&gt; {\n\n    @Query(\"{ '_id' : ?0 }\")\n    SomeObject findById(String _id);\n}\n</code></pre>\n\n<p>Code in some class:</p>\n\n<pre><code>@Autowired\nprivate SomeRepository pRepo;\n\npublic void delete(String id) {\n\n    pRepo.delete(pRepo.findById(id));\n}\n</code></pre>\n"},{"comments":[{"comment_id":69152421,"body":"Thanks!, Worked for me. (was missing  &quot;delete = true&quot;)"},{"comment_id":87944760,"body":"you can also use @DeleteQuery which does not require explicitly delete=true setting."}],"answer_id":28583940,"body":"<pre><code>@Query(value=\"{'id' : $0}\", delete = true)\npublic Person deleteById (String id);\n</code></pre>\n"},{"answer_id":54824422,"body":"<p>Try this, it's work for me.</p>\n<pre><code>@Repository\npublic interface DepartmentDao extends MongoRepository&lt;Department, String&gt; {\n    @DeleteQuery\n    void deleteByDepartment(String department);\n}\n</code></pre>\n<p>OR</p>\n<pre><code>@Query(value=&quot;{'_id' : ?0}&quot;, delete = true)\npublic void deleteById(String id);\n</code></pre>\n"},{"comments":[{"comment_id":106935462,"body":"I recommend against answers in the shape of rethoric questions and against quoting questions in answers. Both puts the answer at risk of being mistaken for a question (at leat by lazy readers). Instead provide an explanation of how your solution works and why it solves the problem described in the question. That is anyway more appreciated here, because it also helps fighting the misconception that StackOverflow is a free codewriting service."}],"answer_id":60447467,"body":"<blockquote>\n  <p>How to delete a list of ids in the query ?</p>\n</blockquote>\n\n<pre><code>@Query(value=\"{idList : $0}\", delete = true)\n</code></pre>\n"},{"answer_id":73909875,"body":"<pre><code>@Repository\npublic interface DepartmentDao extends MongoRepository&lt;Department, String&gt; {\n    void deleteByDepartment(String department);\n}\n</code></pre>\n<p>is clean and shorter.</p>\n"},{"answer_id":76298922,"body":"<p>Below code snippet show deletes all documents from the plan collection whose planId field matches any planId provided in the list.</p>\n<pre><code>@Repository\npublic interface PlanRepository extends MongoRepository&lt;Plan, String&gt; {\n\n    @Query(value = &quot;{ 'planId' : { $in : ?0 } }&quot;, delete = true)\n  void deleteAllByPlanIdIn(List&lt;String&gt; planIds);\n}\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li><p>we can use the <code>@Query</code> annotation to define custom queries on MongoDB data stores in Spring</p>\n</li>\n<li><p>The &quot;<code>value</code>&quot; attribute specifies the MongoDB query in JSON-like syntax.</p>\n</li>\n<li><p>&quot;<code>planId</code>&quot; is a field in the plan document being queried.</p>\n</li>\n<li><p>&quot;<code>{ $in : ?0 }</code>&quot; is a query operator that checks if the value of the planId field is in the provided list of planIds (&quot;<code>?0</code>&quot; represents the first parameter of the method, which is the list of planIds).</p>\n</li>\n<li><p>&quot;<code>delete = true</code>&quot; is used to indicate that the query is intended to be deleted.</p>\n</li>\n</ul>\n"}],"last_activity_date":1684657153,"question_id":17484153,"body":"<p>I'm using Spring Data with MongoDB using MongoRepository.</p>\n\n<p>I was wondering if it is possible do a delete by filter using query annotation. I have been looking here and google and I cannot find any documentation.</p>\n"},{"last_activity_date":1684657000,"question_id":76162663,"body":"<p>I'm creating a PDF with OpenPDF 1.3.30, which gets a <code>PdfPTable</code> as header on every page. But the content of the document itself overwrites the the first cell (0,0). Which by the way has a rowspan.</p>\n<p>Here is my example code:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport com.lowagie.text.Chunk;\nimport com.lowagie.text.Document;\nimport com.lowagie.text.Element;\nimport com.lowagie.text.Font;\nimport com.lowagie.text.PageSize;\nimport com.lowagie.text.Paragraph;\nimport com.lowagie.text.Phrase;\nimport com.lowagie.text.Rectangle;\nimport com.lowagie.text.pdf.BaseFont;\nimport com.lowagie.text.pdf.PdfPCell;\nimport com.lowagie.text.pdf.PdfPTable;\nimport com.lowagie.text.pdf.PdfPageEventHelper;\nimport com.lowagie.text.pdf.PdfWriter;\n\npublic class TableTest {\n\n  public static void main( final String[] args ) throws Throwable {\n    try( final FileOutputStream outputStream = new FileOutputStream( &quot;test.pdf&quot; ) ) {\n      final Document pdfDocument = new Document( PageSize.A4 );\n\n      final PdfWriter pdfWriter = PdfWriter.getInstance( pdfDocument,outputStream );\n      pdfWriter.setPdfVersion( PdfWriter.VERSION_1_7 );\n\n      final PdfPTable header = new PdfPTable( 5 );\n      header.setWidths( new int[] { 30,30,30,30,30 } );\n      header.setHeaderRows( 0 );\n      header.getDefaultCell().setPadding( 1 );\n      header.setSplitLate( false );\n      header.setSplitRows( true );\n\n      PdfPCell cell = new PdfPCell( new Phrase( &quot;Gets truncated&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 5 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text A&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setHorizontalAlignment( Element.ALIGN_LEFT );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text B&quot; ) );\n      cell.setColspan( 2 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text C&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n      \n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\n      cell.setColspan( 4 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOTTOM );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      Phrase phrase = new Phrase();\n      phrase.add( new Phrase( &quot;Text D&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n      phrase.add( new Phrase( &quot;Text E&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n\n      cell = new PdfPCell( phrase );\n      cell.setColspan( 3 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text F&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\n      cell.setColspan( 4 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text G&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_LEFT );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text H&quot; ) );\n      cell.setColspan( 2 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      phrase = new Phrase();\n      phrase.add( new Phrase( &quot;Text I&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n      phrase.add( new Phrase( &quot;Text J&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n\n      cell = new PdfPCell( phrase );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\n      cell.setColspan( 6 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOTTOM );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      header.setTotalWidth( pdfWriter.getPageSize().getWidth() - pdfDocument.leftMargin() - pdfDocument.rightMargin() );\n\n      pdfDocument.setMargins( pdfDocument.leftMargin(),pdfDocument.rightMargin(),header.getTotalHeight() + pdfDocument.topMargin(),pdfDocument.bottomMargin() );\n\n      pdfWriter.setPageEvent( new PdfPageEventHelper() {\n\n        @Override\n        public void onStartPage( final PdfWriter writer,final Document document ) {\n          header.writeSelectedRows( 0,-1,document.left(),document.top() + header.getTotalHeight(),writer.getDirectContent() );\n        }\n      } );\n\n      pdfDocument.open();\n\n      final Paragraph paragraph = new Paragraph();\n      paragraph.add( new Phrase( &quot;Trucates&quot; ) );\n      paragraph.add( Chunk.NEWLINE );\n      paragraph.add( new Phrase( &quot;Cell(0,0)&quot; ) );\n\n      pdfDocument.add( paragraph );\n      pdfDocument.close();\n    }\n  }\n}\n</code></pre>\n<p>The resulting PDF overwrites the text 'Gets replaced' of the header table with text from the document paragraph content 'Replaces\\nLogo'.</p>\n<p><a href=\"https://i.stack.imgur.com/tDcES.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDcES.png\" alt=\"enter image description here\" /></a></p>\n<p>Any idea what I did wrong?</p>\n<p>I even tried to use the <code>HeaderFooter</code> approach to set the header via <code>pdfDocument.setHeader</code>, but that gets somehow weird, because the header doesn't adopt to the size needed by the table.</p>\n"},{"comments":[{"comment_id":134544970,"body":"That&#39;s because you haven&#39;t compiled <code>Course</code>. If you are learning <code>spring-boot</code>, use Maven or Gradle too."},{"comment_id":134544974,"body":"Specify exactly <b>how</b> you are trying to compile. Nothing wrong with ant, maven, gradle, sbt or leningen."},{"comment_id":134544976,"body":"Than you tgdavies, i did compiled Course  and used Maven :)"},{"comment_id":134545002,"body":"@ElliottFrisch , I&#39;m new here and not good at English. I&#39;ve pasted the compile steps i was using , could you pls help take a look?"},{"comment_id":134545046,"body":"Try <code>javac *.java</code> (use a build tool. Ant, Maven, Gradle, SBT or leningen. It will make your life much easier. Even more importantly, use ant IDE with support for one of the above. Maven is usually the most popular. Ant is old school. The others serve different needs. But all are superior to straight <code>javac</code>.)"},{"comment_id":134545101,"body":"@ElliottFrisch  I tried javac *.java ,  1. The compile starts from Main, i got another error package org.springframework.boot does not exist; but actually Maven has downloaded the package right in the lib.... I was following this tutorial. <a href=\"https://www.youtube.com/watch?v=zTAHY0SLQAg\" rel=\"nofollow noreferrer\">youtube.com/watch?v=zTAHY0SLQAg</a>   I will try find another one to see if can skip this error..."},{"comment_id":134545116,"body":"Build with a maven command, e.g. <code>mvn package</code> rather than trying to use <code>javac</code> directly."}],"answers":[{"comments":[{"comment_id":134544995,"body":"Hi @aled,  in the case, i did compile Course first with no error. And i was using MAVEN"}],"answer_id":76297821,"body":"<p>Compile Course first. The other class needs it to be compiled.</p>\n"}],"last_activity_date":1684656721,"question_id":76297812,"body":"<p>I have two classes, one is Course, another is CourseController.\nThey are in the same package , same path;\nBut when I compile javac CourseController.java, Intellij says :&quot;error: cannot find symbol&quot;</p>\n<p>Course:</p>\n<pre><code>package com.mjfirstSBv5.sprintboot.learnspringboot;\n\npublic class Course {\n    private int id;\n    private  String name;\n    private  String author;\n\n    public Course(int id, String name, String author)\n    {\n        super(); //why this?\n        this.author = author;\n        this.name =name;\n        this.id = id;\n\n\n\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Course{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, author='&quot; + author + '\\'' +\n                '}';\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n}\n\n</code></pre>\n<p>CourseController</p>\n<pre><code>package com.mjfirstSBv5.sprintboot.learnspringboot;\n\n\n//import org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n//@RestController\npublic class CourseController {\n\n    public List&lt;Course&gt; retrieveAllCourses()\n    {\n        return Arrays.asList(\n                new Course(1, &quot;learn aws&quot;, &quot;28min&quot;),\n                new Course(2, &quot;learn spring boot&quot;, &quot;28min&quot; )\n\n        );\n\n    }\n\n}\n\n</code></pre>\n<pre><code>PS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; javac Course.java\n\nPS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; javac CourseController.java  \nCourseController.java:12: error: cannot find symbol\n    public List&lt;Course&gt; retrieveAllCourses()\n                ^                           \n  symbol:   class Course                    \n  location: class CourseController  \n        \nCourseController.java:15: error: cannot find symbol \n                new Course(1, &quot;learn aws&quot;, &quot;28min&quot;),\n                    ^                               \n  symbol:   class Course\n  location: class CourseController\n\nCourseController.java:16: error: cannot find symbol\n                new Course(2, &quot;learn spring boot&quot;, &quot;28min&quot; )\n                    ^\n  symbol:   class Course\n  location: class CourseController\n\n3 errors\nPS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sUztY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"answers":[{"comments":[{"comment_id":134550688,"body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76298888/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":76298888,"body":"<p>You are looking for a reference of the elevation of certian location. Well, you need to find a data source for that. For example, in google map platform, there is a service called elevation api which can give you the static elevation of any point on the map.</p>\n"}],"last_activity_date":1684656572,"question_id":75543250,"body":"<p>I am implementing an android app in java to determine if an object is in flight (in the example ,it's a phone hang on a drone ) . To proceed,i retrieve the altitude of the  phone , then i retrieve the altitude of the area where the phone is ( because , i suppose that in the different places in the area).Then i add a defined height on the area altitude to determine if the object is in flight when it reaches this height . But the problem is , the only altitude i can retrieve is the phone altitude but not the area altitude and i'm trying to figure it out .Could you help me ?\nHere is the code , i've implemented :</p>\n<pre><code>public class TimeService extends Service{\n    private final static String TAG = TimeService.class.getName();\n    \n  LocationEntity location = new LocationEntity();\n   \n   private  Handler handler;\n\n    FusedLocationProviderClient fusedLocationProviderClient;\n   \n    LocationRequest locationRequest;\n   \n    \n\n    LocationRequest newlocationRequest;\n   \n\n    double Longitude, Latitude, Altitude,Acccuracy,Speed;\n  \n    AppDatabase appDatabase;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        context=this;\n      \n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n         appDatabase=AppDatabase.getDbIntance(this);\n      \n\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                super.onLocationResult(locationResult);\n\n                Location location = locationResult.getLastLocation();\n                assert location != null;\n                Log.d(&quot;TAG&quot;, &quot;onLocationResult: callback method  &quot;+&quot;longitude &quot;+location.getLongitude()+&quot;latitude &quot;+location.getLatitude()+&quot;Accuracy &quot;+location.getAccuracy()+&quot;Speed &quot;+location.getSpeed());\n            }\n        };\n\n        startLocationUpdate();\n       \n        handler = new Handler();\n\n        // Define the code block to be executed\n         Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                // Insert custom code here\n                   startLocationUpdate();\n                Log.d(&quot;TAG&quot;, &quot;run: &quot;+&quot;run every 30s&quot;);\n                // Repeat every 2 seconds\n                handler.postDelayed(this, 30000L);\n            }\n        };\n\n// Start the Runnable immediately\n        handler.post(runnable);\n    }\n}\n\n    //Location function\n    //Setting all properties of Location\n\n    public void locationSettings() {\n//Put in the time service\n        newlocationRequest = new LocationRequest();\n        newlocationRequest.setInterval(30000);\n        newlocationRequest.setFastestInterval(5000);\n        //most accurate use GPS\n        newlocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    }\n\n    public void updateGPS() {\n\n       // fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n        //user provided the permission , run the code\n        BaseView baseView = new BaseView();\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermi ssions for more details.\n            return;\n        }\n        fusedLocationProviderClient.getLastLocation().addOnSuccessListener(baseView, position -&gt; {\n            Log.d(&quot;TAG&quot;, &quot;updateGPS: position elements are : &quot; + &quot;lon = &quot; + position.getLongitude() + &quot;lat = &quot; + position.getLatitude()+&quot;alt &quot;+position.getAltitude() + &quot;Acc= &quot; + position.getAccuracy() + &quot; Speed = &quot; + position.getSpeed());\n\n\n                location.setLongitude(position.getLongitude());\n                location.setLatitude(position.getLatitude());\n                location.setAltitude(position.getAltitude());\n                location.setAccuracy(position.getAccuracy());\n                location.setSpeed(position.getSpeed());\n\n            assert location!=null;\n            appDatabase.locationDao().insert(location);\n\n        });\n\n    }\n\n\n\n    public void startLocationUpdate() {\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        fusedLocationProviderClient.requestLocationUpdates(newlocationRequest,locationCallback, null);\n        updateGPS();\n\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":133467228,"body":"I thought I was the only one who got this error while having had no use of Kotlin anywhere in my large project.. Then I came across this very-obvious-to-me-now answer and it solved it very simply for me... <a href=\"https://stackoverflow.com/a/75315276/4355877\">stackoverflow.com/a/75315276/4355877</a>"},{"comment_id":133823622,"body":"@Mick Thank you so much for the tip, a lifesaver for those shunning Kotlin."},{"comment_id":133999648,"body":"@midnighthowlers Try this solution once: <a href=\"https://stackoverflow.com/a/75974885/16765223\">stackoverflow.com/a/75974885/16765223</a>"}],"answers":[{"answer_id":75265284,"body":"<p>According to the release notes of Kotlin 1.8.0 (<a href=\"https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target</a>), you shouldn't specify <code>kotlin-stdlib-jdk7</code> nor <code>kotlin-stdlib-jdk8</code> as dependencies anymore and, instead, just use <code>kotlin-stdlib</code>.</p>\n"},{"comments":[{"comment_id":132954784,"body":"Note: After updating to &#39;1.8.0&#39;, do not forget to update kotlinCompilerExtensionVersion as &#39;1.4.0&#39; ."},{"comment_id":133060150,"body":"I get a compilation error:  <b>This version (1.3.2) of the Compose Compiler requires Kotlin version 1.7.20 but you appear to be using Kotlin version 1.8.0 which is not known to be compatible.  Please fix your configuration (or <code>suppressKotlinVersionCompatibilityCheck</code> but don&#39;t say I didn&#39;t warn you!).</b>"},{"comment_id":133092822,"body":"Question as a noob: Where should I add the above?"},{"comment_id":133196565,"body":"If you are using ksp, do not forget to update it too. <a href=\"https://github.com/google/ksp/releases\" rel=\"nofollow noreferrer\">github.com/google/ksp/releases</a>. For kotlin version 1.8.0 ksp must be 1.8.0"},{"comment_id":133472887,"body":"got this error:The &#39;kotlin-android-extensions&#39; Gradle plugin is no longer supported. Please use this migration guide (<a href=\"https://goo.gle/kotlin-android-extensions-deprecation\" rel=\"nofollow noreferrer\">goo.gle/kotlin-android-extensions-deprecation</a>) to start working with View Binding (<a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/view-binding</a>) and the &#39;kotlin-parcelize&#39; plugin."},{"comment_id":133776516,"body":"@PrasannjeetSingh It is <code>build.gradle</code> file"},{"comment_id":134350601,"body":"@IgorGanapolsky - You can update the kotlinCompilerExtensionVersion to 1.4.4 in app level build.gradle. You can find this in ComposeOptions {} block. Check the link below to find the correctly mapped version (<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/compose-kot&zwnj;&#8203;lin</a>)"},{"comment_id":134458016,"body":"This is useful but you also need edit kotlinCompilerExtensionVersion= &quot;1.4.3&quot;.  <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin?hl=zh-cn\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/&hellip;</a>"}],"answer_id":75268089,"body":"<p>Simply. For me just change this gradle plugins from 1.7.10 to 1.8.0 Then sync. =&gt; invalidate caches =&gt; build</p>\n<p>From:</p>\n<pre><code>plugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n}\n</code></pre>\n<p>To:</p>\n<pre><code>plugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n"},{"answer_id":75268204,"body":"<p>I solved the problem by changing kotlin class path dependency in the root <code>build.gradle</code> file from</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20-RC&quot;\n</code></pre>\n<p>to</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;\n</code></pre>\n"},{"comments":[{"comment_id":133279784,"body":"Same here. Had to downgrade material3 version to <code>&#39;1.1.0-alpha04&#39;</code>"}],"answer_id":75276293,"body":"<p>It is maybe some updated version dependency. In my new compose app, when i updated</p>\n<blockquote>\n<p>implementation 'androidx.compose.material3:material3:*'(new version)\nfrom 1.0.0-alpha11</p>\n</blockquote>\n<p>I will got this error. Try revert updated dependency.</p>\n<p>Also I was getting this error when <code>android studio</code> add in my gradle modules <code>ktx:+</code> dependency</p>\n"},{"answer_id":75280491,"body":"<p>for compose, use stable-version of material3</p>\n<p><code>androidx.compose.material3:material3:1.0.1</code></p>\n<p>and than</p>\n<p><code>id 'org.jetbrains.kotlin.android' version '1.7.0' apply false</code></p>\n"},{"answer_id":75284751,"body":"<p>I had same issue while it was working 2 days ago...</p>\n<p>I changed to</p>\n<pre><code>composeOptions {\n        kotlinCompilerExtensionVersion '1.3.2'\n}\n</code></pre>\n<p>and\n<code>id 'org.jetbrains.kotlin.android' version '1.7.20' apply false</code>\nin build.gradle (Project)</p>\n<p>Then clean and rebuild project.</p>\n"},{"comments":[{"comment_id":133511815,"body":"I have a project where the build failed for the same reason as above.  And I am not using any kotlin code in my project.  Is there a way to disable any and all kotlin dependencies so that I can&#39;t possibly get a &quot;duplicate classes&quot; for kotlin dependencies?"},{"comment_id":133541457,"body":"If you&#39;re not using any kotlin code, it sounds like a very different problem even if it has the same error message... probably worth posting as a separate question"},{"comment_id":133655457,"body":"@AJW You may think that you don&#39;t use any Kotlin code in your project, but the dependencies you use can use Kotlin code inside them (for example various AndroidX libraries are written in Kotlin)."},{"comment_id":133746002,"body":"It works now. You can also find information in <a href=\"https://youtrack.jetbrains.com/issue/KT-54136/Duplicated-classes-cause-build-failure-if-a-dependency-to-kotlin-stdlib-specified-in-an-android-project\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com</a>."},{"comment_id":134223966,"body":"With Android Studio Giraffe (2022.3.1 Beta 1), I get a warning in the IDE: <code>&#39;implementation&#39; is defined by &#39;dependencies&#39; but used within &#39;constraints&#39;</code>. Any idea why, and how to get rid of it?"},{"comment_id":134292034,"body":"This solution worked for me but I also tried out a much cleaner approach from the official kotlin docs. Here is the link: <a href=\"https://kotlinlang.org/docs/whatsnew18.html#usage-of-the-latest-kotlin-stdlib-version-in-transitive-dependencies\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>."}],"answer_id":75298544,"body":"<p><em>See <a href=\"https://kotlinlang.org/docs/whatsnew18.html#obligatory-check-for-jvm-targets-of-related-kotlin-and-java-compile-tasks\" rel=\"nofollow noreferrer\">this note</a> in the official kotlin docs for an explanation of how alignment works with these dependencies and build flags. The below original answer is an alternative approach which doesn't take this into account.</em></p>\n<p>This is because <code>kotlin-stdlib-jdk7</code> and <code>kotlin-stdlib-jdk8</code> are older dependencies that should be replaced by <code>kotlin-stdlib</code> (As @MrPNG pointed out from <a href=\"https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target\" rel=\"nofollow noreferrer\">the what's new docs for kotlin 1.8</a>). However, other libraries may still declare a dependency on them, which needs to be replaced with a dependency on <code>kotlin-stdlib</code>.</p>\n<p>You can override how the jdk7 and jdk8 versions are resolved like this (in your <code>app/build.gradle</code>):</p>\n<pre><code>dependencies {\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n}\n</code></pre>\n<p>The <code>constraints</code> section above can be added in alongside your other dependencies. Choose the version (here <code>1.8.0</code>) to match the one you actually want to be used, which should be the one that your non-jdkN-named version is in the duplicate class error (e.g. <code>(org.jetbrains.kotlin:kotlin-stdlib:1.8.0)</code>)</p>\n<p>If you have <code>apply plugin: 'kotlin-android'</code> in this file, then it doesn't need to separately also say to depend on the stdlib in dependencies, so remove any lines that look like this:</p>\n<pre><code>    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n</code></pre>\n<p>(thanks to <a href=\"https://dev.to/retyui/fix-react-native-android-builds-duplicate-class-kotlincollections-found-in-modules-jetified-kotlin-stdlib-180-2ca7\" rel=\"nofollow noreferrer\">this blog</a>)</p>\n"},{"answer_id":75310229,"body":"<p>If you are using Compose you need to update the Compose Compiler (<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-compiler\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-compiler</a>) to 1.4.2 and Kotlin to 1.8.10 at the same time.</p>\n"},{"answer_id":75328068,"body":"<p>I had the same error in my project but mine was caused by different jetpack compose libraries having different versions and I put the specific version number <code>&quot;1.3.3&quot;</code> which caused other libraries that have later version numbers to not be found. I fix this by using compose BOM which provides the latest version to each library</p>\n"},{"answer_id":75426135,"body":"<p>I noted the issue specifically after upgrading to these 2 libraries:</p>\n<ul>\n<li><p><strong><code>Material3</code></strong> version <strong><code>1.1.0-alpha05</code></strong></p>\n</li>\n<li><p><strong><code>Runtime-livedata</code></strong> version <strong><code>1.4.0-beta01</code></strong></p>\n</li>\n</ul>\n<p>This is are full dependencies:</p>\n<pre><code>implementation 'androidx.compose.runtime:runtime-livedata:1.4.0-beta01'\nimplementation 'androidx.compose.material3:material3:1.1.0-alpha04'\n</code></pre>\n<p>This is the error I was getting with <strong><code>Jdk-18.0.2</code></strong></p>\n<blockquote>\n<p>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in\nmodules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0)\nand kotlin-stdlib-jdk8-1.7.20</p>\n</blockquote>\n<p>The way around it for the time being is to downgrade these 2 libraries until the bug is corrected or updates are made.</p>\n<pre><code>implementation 'androidx.compose.material3:material3:1.1.0-alpha04'\nimplementation 'androidx.compose.runtime:runtime-livedata:1.4.0-alpha01'\n</code></pre>\n<p>Mind you there may be other dependencies that are affected and if you have recently upgraded the dependencies, you may need to rollback the updates and eliminate the library one by one to identify the troublesome one.</p>\n"},{"answer_id":75430864,"body":"<h3>Update 2023</h3>\n<p>Recently, I had the same issue where most of the duplicate classes belonged to Kotlin. One of the errors was something like this:</p>\n<pre><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n</code></pre>\n<p>I had this issue because I was using a buggy kotlin version. Upgrade your kotlin version to <code>1.8.0-Beta</code>. Follow this:</p>\n<p>in your <code>android/build.gradle</code>, first add this in the <code>ext</code> section:</p>\n<pre><code>kotlinVersion = &quot;1.8.0-Beta&quot;\n</code></pre>\n<p>Now, go down to the dependencies section and add this:</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;\n</code></pre>\n<p>Finally, make sure your <code>JAVA_HOME</code> points to a JDK11.</p>\n<p>Doing these fixed my problem. Hope it helps!</p>\n"},{"comments":[{"comment_id":134008430,"body":"This worked for me. Although I only needed to upgrade the kotlin android plugin. Thanks!"},{"comment_id":134019109,"body":"Adding the plugin worked for me, although my project is only Java and I don&#39;t use Kotlin at all. This really looks to me like a flaw in Android Studio, if not completely a bug."}],"answer_id":75550269,"body":"<p>Upgrade kotlin android plugin and kotlin compiler</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.android' version '1.8.10'\n}\nandroid {\n    composeOptions {\n        kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":133747160,"body":"I&#39;m not using kotlin in a project and this solved my problem."}],"answer_id":75567658,"body":"<p>I was getting same error after upgrading android annotation libray from ver 1.4.0 to 1.6.0,</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.6.0'\n</code></pre>\n<p>So I downgraded to 1.5.0 and error gone</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.5.0'\n</code></pre>\n<p>Hope this helps you too</p>\n"},{"answer_id":75585591,"body":"<p>The accepted answer worked for me, but the Kotlin DSL syntax is:</p>\n<pre><code>kotlin(&quot;android&quot;).version(&quot;1.8.10&quot;).apply(false)\n</code></pre>\n"},{"answer_id":75625126,"body":"<p>I first tried David Fraser's solution (constraints {...}) and it worked fine, but I found it strange and discarded it.\nInstead I changed the plugins as follows:</p>\n<pre><code>id 'org.jetbrains.kotlin.multiplatform' version '1.8.0' apply false // before 1.7.10\n</code></pre>\n<p>This also fixed the error.</p>\n"},{"answer_id":75641974,"body":"<p>I had the same errors in my project. What finally helped me was the following steps</p>\n<p>1-I have updated the buildScript: as below</p>\n<pre><code>buildscript {\n    ext {\n        compose_ui_version = '1.3.3'\n    }\n}\nthen change pluggin \nFrom\n\nplugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n\n}\n\nTo\n\nplugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n}\n</code></pre>\n<p>lastly updated in build.grade(app)</p>\n<p>Change in android scope {}</p>\n<pre><code>    android {\n    ......\n    composeOptions {\n            kotlinCompilerExtensionVersion '1.2.0'\n        }\n    .......\n    }\n</code></pre>\n<p>To the following and the errors were gone</p>\n<pre><code> composeOptions {\n        kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n    }\n\nHope it helps someone else \n</code></pre>\n"},{"comments":[{"comment_id":133562820,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75663164/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":75663164,"body":"<p>Replace this</p>\n<pre><code>implementation(&quot;androidx.navigation:navigation-compose:2.6.0-alpha06&quot;)\n</code></pre>\n<p>With</p>\n<pre><code>implementation(&quot;androidx.navigation:navigation-compose:2.6.0-alpha04&quot;)\n</code></pre>\n"},{"answer_id":75664860,"body":"<p>I was using <code>org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.10</code> before in our SDK and then I updated kotlin to v1.8.0 and that's when I started getting the above error in our Android Java front end application.\nUsing <code>org.jetbrains.kotlin:kotlin-bom</code> resolved the issue with transitive dependencies and might be a cleaner approach since it doesn't leak Kotlin details into the Java application.</p>\n<p>so I just replaced</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.10&quot;\n</code></pre>\n<p>with below which solved the problem for me.</p>\n<pre><code>// Align versions of all Kotlin components\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.0&quot;\n</code></pre>\n"},{"comments":[{"comment_id":134165629,"body":"This worked for me even though our project is a pure Java project without any Kotlin code. The clue that it would came from here: <a href=\"https://youtrack.jetbrains.com/issue/KT-55297/kotlin-stdlib-should-declare-constraints-on-kotlin-stdlib-jdk8-and-kotlin-stdlib-jdk7\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-55297/&hellip;</a>"},{"comment_id":134336753,"body":"This fixed my issue as well"}],"answer_id":75719642,"body":"<p>I have tried all the previous solutions but after adding the below code it was working.</p>\n<pre><code>dependencies {\n   ... ... ...\n   implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n   ... ... ...\n}\n</code></pre>\n"},{"answer_id":75744310,"body":"<p>Replace</p>\n<p><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20&quot;</code></p>\n<p>With</p>\n<p><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.10&quot;</code></p>\n<p>And then If you used <code>kotlin-android-extensions</code> plugin, then remove this line. And use <code>View binding</code> to whole project.</p>\n"},{"answer_id":75773243,"body":"<p>Duplicate id detected is because there is a duplicate id you defined. For example, you defined the id in project level build.gradle file and if you define the same id in your module-level build.gradle file then it is simply a duplicate id problem.</p>\n"},{"answer_id":75795808,"body":"<p>I ran into this issue today and I fixed it by upgrading both <code>Kotlin</code> <code>std-lib</code> for android and the <code>std-lib</code> itself.\nAlso it's worth mentioning that if you're using compose, you have upgrade the  <code>kotlinCompilerExtensionVersion</code></p>\n<p>Here is the final setup</p>\n<ul>\n<li>gradle file at Module level</li>\n</ul>\n<pre><code>composeOptions {\n    kotlinCompilerExtensionVersion '1.4.3'\n}\n</code></pre>\n<ul>\n<li>root project gradle file</li>\n</ul>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n    id 'org.jetbrains.kotlin.jvm' version '1.8.10' apply false\n}\n</code></pre>\n"},{"answer_id":75887353,"body":"<p>If you are upgrading to 1.8.0\nthen you should add</p>\n<pre><code>    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n</code></pre>\n"},{"comments":[{"comment_id":133903249,"body":"it just can be a temporary solution, but it helped me a lot !"}],"answer_id":75898804,"body":"<p>Downgrade these deps to</p>\n<pre><code>implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.3.1'\nimplementation 'androidx.activity:activity-compose:1.5.1'\n</code></pre>\n"},{"answer_id":75917014,"body":"<p>Such problem occurred after upgrading jetpack compose from <code>1.3.0</code> to <code>1.4.0</code>.</p>\n<p>If you find this problem, please refer to the <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">Kotlin Compose compatibility map</a> in order to find <strong>matching Kotlin/Compose Compiler</strong> versions.</p>\n<p>When you have found them, you need to make sure that:</p>\n<ul>\n<li>Gradle plugin has the right version (in <code>buildSrc</code>: <code>build.gradle.kts</code> for KTX gradle or in regular Gradle the root <code>build.gradle</code> one: <code>implementation(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:&lt;KOTLIN_VERSION&gt;&quot;)</code>)</li>\n<li>Kotlin dependency has right version (if you use multi-module app and use Kotlin directly (<code>implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib:&lt;KOTLIN_VERSION&gt;&quot;)</code>)</li>\n<li><code>kotlinCompilerExtensionVersion = &lt;COMPOSE_VERSION&gt;</code> is matching</li>\n</ul>\n"},{"answer_id":75952607,"body":"<p>I had the same error on my Kotlin project. When I add Ktor to my project and upgraded the library versions, and then I got the wired long error. This is how I fixed it.</p>\n<p>I used compose version 1.4.0</p>\n<pre><code>ext {\n    compose_ui_version = '1.4.0'\n}\n</code></pre>\n<p>kotlin version <code>1.8.0</code>, the latest one <code>1.8.10</code> not compatible with compose <code>1.4.0</code> So I used,</p>\n<pre><code>id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n</code></pre>\n<p>Then, adjust the <code>composeOptions</code> on app level build.gradle file, like</p>\n<pre><code>composeOptions {\n    kotlinCompilerExtensionVersion '1.4.0'\n}\n</code></pre>\n<p>These are the three changes that I have done and I got escaped from the wired error. Hope this will help someone.</p>\n"},{"answer_id":75988375,"body":"<p>kotlinCompilerExtensionVersion(compose) -&gt; kotlin_version</p>\n<p>1.4.4 -&gt; 1.8.10</p>\n<p>1.4.3 -&gt; 1.8.10</p>\n<p>1.4.2 -&gt; 1.8.10</p>\n<p>1.4.1 -&gt; 1.8.0</p>\n<p>1.4.0 -&gt; 1.8.0</p>\n<p>1.4.0-alpha02 -&gt; 1.7.21</p>\n<p>1.4.0-alpha01 -&gt; 1.7.20</p>\n<p>1.3.2 -&gt;1.7.20</p>\n<p>...</p>\n<p>Other versions: <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-kotlin</a></p>\n"},{"answer_id":76003404,"body":"<p>As I checked all ways, if there is a alpha version like this :</p>\n<pre><code> implementation 'androidx.appcompat:appcompat:1.7.0-alpha02'\n</code></pre>\n<p><strong>change it to</strong></p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.1'\n</code></pre>\n<p>then <strong>Add</strong> class path in <code>build.gradle()</code></p>\n<pre><code> dependencies {\n     \n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;\n...\n    }\n</code></pre>\n"},{"answer_id":76054519,"body":"<pre><code>lifecycle-viewmodel-ktx-2.6.1\n</code></pre>\n<p>down</p>\n<pre><code>lifecycle-viewmodel-ktx-2.5.1\n</code></pre>\n<p>I managed to get it working by lowering the dependency values.</p>\n"},{"answer_id":76072071,"body":"<p>By <a href=\"https://stackoverflow.com/a/76054519/6576302\">@ArdaKazancı answer</a>, I did a similar change: (agp:7.4.2, gradle: 7.5)</p>\n<pre><code>implementation 'androidx.recyclerview:recyclerview:1.3.1'\nimplementation 'androidx.core:core:1.10.0'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'androidx.recyclerview:recyclerview:1.2.1'\nimplementation 'androidx.core:core:1.9.0' \n</code></pre>\n"},{"answer_id":76104959,"body":"<p>it is because of <strong>Compose Compiler Version</strong> and <strong>Kotlin Version</strong> incompability. when I posting this answer, most updated compatible versions were:</p>\n<p><strong>Compose Compiler Version:</strong> 1.4.6\n<strong>Kotlin Version:</strong> 1.8.20</p>\n<p>you can always find most updated compatible versions in this page: <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-kotlin</a></p>\n<p>you can set this versions in app level gradle file like this:</p>\n<pre><code>composeOptions {\n    kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n}\n</code></pre>\n<p>and</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.android' version '1.8.10'\n}\n</code></pre>\n"},{"answer_id":76132651,"body":"<p>I'm getting similar error. These settings worked for me.</p>\n<p>Note: I'm using <code>Android Studio Flamingo | 2022.2.1</code></p>\n<p><code>build.gradle(:project)</code> settings</p>\n<p>Old use:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.7.20&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n...\n</code></pre>\n<p>New use:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.8.0&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.0.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n...\n</code></pre>\n<p><code>build.gradle(:app)</code> settings</p>\n<p>Old use:</p>\n<pre><code>...\ncompileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n...\n</code></pre>\n<p>New use:</p>\n<pre><code>...\ncompileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n...\n</code></pre>\n<p>Gradle Projects Settings</p>\n<p><a href=\"https://i.stack.imgur.com/427JG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/427JG.png\" alt=\"enter image description here\" /></a></p>\n"},{"answer_id":76158759,"body":"<p>On my Mac.  I hadn't worked on my app in a while 6-12 months maybe.  I was just checking in to make sure that Android Studio and the dependencies weren't too out of date.  I received the same error as noted in the question.</p>\n<ol>\n<li><p>When I tried to change my <code>ext.kotlin_version = &quot;1.7.20&quot;</code> to 1.8.x, I received a warning about <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</code> being inconsistent with my Kotlin version.</p>\n</li>\n<li><p>When I went into <code>Tools</code>-&gt;<code>Kotlin</code>-&gt;<code>Configure Kotlin Updates</code> and noticed that I couldn't get the the recent 1.8.20 version.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/fpcHb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fpcHb.png\" alt=\"Tool Menu\" /></a>\n<a href=\"https://i.stack.imgur.com/2um1v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2um1v.png\" alt=\"Kotlin Config Window\" /></a></p>\n<ol start=\"3\">\n<li><p>Then went to see if I needed an <code>Android Studio</code>-&gt;<code>Check for updates...</code>\n<a href=\"https://i.stack.imgur.com/IZzPQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IZzPQ.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>I in fact did need a major release update arctic fox to flamingo.\nAfter upgrading to Flamingo, I was able to update both locations of Kotlin Version to 1.8.20.  <code>Tools</code>-&gt;<code>Kotlin</code>-&gt;<code>Configure Kotlin Updates</code> and <code>ext.kotlin_version = &quot;1.8.20&quot;</code></p>\n</li>\n<li><p>Did <code>File</code>-&gt;<code>Invalidate Cache</code> and reboot</p>\n</li>\n<li><p>Did <code>Build</code>-&gt;<code>Clean Project</code></p>\n</li>\n<li><p>I updated whatever else needed to be updated with Flamingo</p>\n</li>\n<li><p>Built and ran -&gt; and ...\n<code>BUILD SUCCESSFUL in 1m 6s</code>\n<code>38 actionable tasks: 38 executed</code></p>\n</li>\n</ol>\n"},{"answer_id":76187916,"body":"<p><strong>Workaround for earlier KGP versions now is:</strong><br>\n*<strong>file</strong> <em>app/build.gradle</em></p>\n<pre><code>dependencies {\nconstraints {\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n        because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n    }\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n        because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"answer_id":76247603,"body":"<p>I fixed it by making Compose Compiler and JetBrains Kotlin plugins compatible</p>\n<p>First, make sure are you using <strong>org.jetbrains.kotlin.android</strong> plugin version above 1.8.0.</p>\n<p><strong>build.gradle(Project)</strong></p>\n<pre><code>plugins {\n  ...\n  id 'org.jetbrains.kotlin.android' version '1.8.21' apply false\n}\n</code></pre>\n<p>Then check compatible version of Compose Compiler from below link and update <strong>build.gradle(app)</strong>:<br />\n<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin#pre-release_kotlin_compatibility\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-kotlin#pre-release_kotlin_compatibility</a></p>\n<pre><code>android {\n  ...\n  composeOptions {\n    kotlinCompilerExtensionVersion '1.4.7'\n  }\n}\n</code></pre>\n"},{"answer_id":76279693,"body":"<p>This duplication happens because some of the libraries still use module <code>org.jetbrains.kotlin:kotlin-stdlib-jdk8</code> or <code>org.jetbrains.kotlin:kotlin-stdlib-jdk7</code> instead of the new module <code>org.jetbrains.kotlin:kotlin-stdlib</code>, therefore the class duplication accure.</p>\n<p>To fix this we need to replace this module by ourselves:</p>\n<pre><code>modules {\n        module('org.jetbrains.kotlin:kotlin-stdlib-jdk8')\n                { replacedBy 'org.jetbrains.kotlin:kotlin-stdlib', 'kotlin fixes' }\n        module('org.jetbrains.kotlin:kotlin-stdlib-jdk7')\n                { replacedBy 'org.jetbrains.kotlin:kotlin-stdlib', 'kotlin fixes' }\n    }\n</code></pre>\n"},{"answer_id":76288629,"body":"<p>You can now update the lifecycle dependencies to the most up-to-date versions, and simply add the following line in your build.gradle</p>\n<pre><code>dependencies {\n\n    (...)\n\n    // Fix Duplicate class\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n}\n</code></pre>\n"},{"answer_id":76296390,"body":"<p>I tried many ways to solve this same prolem but didnt work\nI tried to add this dependencies below in my &quot;<strong>build.gradle(module:app)</strong>&quot;..</p>\n<pre><code>implementation (platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n</code></pre>\n<p>and then synce now, it will resolve this error.</p>\n"},{"answer_id":76298880,"body":"<p>Step 1 :- Add this</p>\n<pre><code>plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n    }\n</code></pre>\n<p>Step 2 :- Add this on the dependencies</p>\n<pre><code>dependencies {\n\n.....\n\n  constraints{\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.10'\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.10'\n    }\n}\n</code></pre>\n<p><strong>Note:- version '1.8.10', jdk7:1.8.10 and jdk7:1.8.10 are same...</strong></p>\n"}],"last_activity_date":1684656409,"question_id":75263047,"body":"<p><img src=\"https://i.stack.imgur.com/ugp7v.png\" alt=\"Image Example\" /></p>\n<p>I kept on getting error that there is duplicate error in classes.\n<a href=\"https://i.stack.imgur.com/92lfH.png\" rel=\"noreferrer\">This is what i have under org.jetbrains.kotlin folder</a>\n<a href=\"https://i.stack.imgur.com/Q0zHs.png\" rel=\"noreferrer\">.idea/libraries</a></p>\n<p>it seems like the problem is because there is two different dependencies for the kotlin, from stdlib and stdlibjdk8 but I don't know how to remove either one from my module/project dependencies. Please help :(</p>\n<p>Here's the full error code :</p>\n<pre><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\n</code></pre>\n<p>I've tried deleting the files from the org.jetbrains.kotlin but whenever i build the app in Android Studio, the files will be re-downloaded again.</p>\n<p>this is my module app gradle code</p>\n<pre><code>\nplugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.umfs&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n    namespace 'com.example.umfs'\n}\n\ndependencies {\n\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'androidx.preference:preference:1.2.0'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    implementation 'com.google.firebase:firebase-core:21.1.1'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'com.google.firebase:firebase-firestore:24.4.1'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n    implementation 'com.google.firebase:firebase-firestore:24.4.1'\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\n    implementation 'com.google.firebase:firebase-database'\n    implementation platform('com.google.firebase:firebase-bom:28.4.0')\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\n    implementation 'com.github.marlonlom:timeago:4.0.3'\n    implementation &quot;androidx.core:core-ktx:+&quot;\n\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"},{"comments":[{"comment_id":30877124,"body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5250536/converting-a-large-java-project-to-use-maven\">Converting a large Java project to use maven</a>"},{"comment_id":30912136,"body":"I find use eclipse with m2eclipse:(Java Convert Maven) Project---&gt;Configure---&gt;Convert to Maven Project , add src/main/java src/test/java  manually.(Maven convert Java)project---&gt;Maven---&gt;Disable Maven Nature, edit package manually.This way is easy way to do the work."}],"answers":[{"answer_id":20629793,"body":"<p>Please follow below steps to migrate from Java Project to Maven Java Project. </p>\n\n<p>1) Create new folder \"src/main/java\" using File>New>Folder option </p>\n\n<p>2) Enable Dependency Management from the context menu of project>M2 MyEclipse Maven </p>\n\n<p>3) In the 2nd wizard,can add required Dependencies to your project if require. </p>\n\n<p>4) Move already existing packages under \"src\" folder to \"src/main/java\" folder </p>\n\n<p>5) Run \"Maven Install\" from the context menu of project, to install the created project in Maven local repository.</p>\n\n<p>As well as visit :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5250536/converting-a-large-java-project-to-use-maven\">Using multiple source folders (as intermediate step in a conversion of a large Java project to Maven)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/11016120/how-to-convert-java-project-to-maven-project-or-similar\">How to convert java project to Maven project or similar</a></p>\n"},{"answer_id":20629796,"body":"<p>If you use Eclipse, there is the possibility to convert an existing project into a maven project by <code>right-click on the root project folder &gt; Configure &gt; Convert to Maven Project</code></p>\n\n<p>in IntelliJ, you can convert it too, by selecting everything you need in the project sturcture settings.</p>\n"},{"answer_id":20629803,"body":"<p>You can convert it using <a href=\"http://maven.apache.org/eclipse-plugin.html\" rel=\"nofollow\">Integration for Apache Maven</a>.<br>\nFor more info, check <a href=\"http://wiki.eclipse.org/Converting_Eclipse_Java_Project_to_Maven_Project\" rel=\"nofollow\">here</a>.</p>\n"},{"answer_id":20630079,"body":"<p>You can create an empty Maven project with archetype plugin <a href=\"http://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html\" rel=\"nofollow\">http://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html</a> or IDE. The rest of the job (copying files to proper folders, adding dependencies) needs to be done manually.</p>\n"},{"answer_id":20630571,"body":"<p>In Intellij Idea, right click on the module to which you need to add Maven support:</p>\n\n<p><img src=\"https://i.stack.imgur.com/4xiWc.png\" alt=\"enter image description here\"></p>\n\n<p>There is also my screencast on how to quickly create a multi-module project with Idea: <a href=\"https://stackoverflow.com/questions/6328778/how-to-create-an-empty-multi-module-maven-project/20163892#20163892\">How to create an empty multi module Maven project?</a> The same technique could be used to manage modules.</p>\n"},{"answer_id":76298792,"body":"<p>Using IntelliJ Idea 2022.3.3, here is how you can do it:</p>\n<ul>\n<li>Right click on root of your project in Explorer on the left side.</li>\n<li>Select &quot;Add framework support&quot; (3rd option from the last as shown in image)</li>\n<li>Choose Maven</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/QlaG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlaG7.png\" alt=\"enter image description here\" /></a></p>\n"}],"last_activity_date":1684654572,"question_id":20629737,"body":"<p>If I create a Java Project at the beginning</p>\n\n<p>some days later,the project becomes larger and the dependency is larger</p>\n\n<p>I want to use maven to manage dependency, what should I do?</p>\n\n<p>I should create (src/main/java  src/test/java   pom.xml) manually or is there some easy way to do it? </p>\n"},{"answers":[{"comments":[{"comment_id":134554699,"body":"Thanks for that answer Olaf. So, I found a workaround to my problem. I would create my own portlets for search functionality. That way I would be able to build my queries and get search results based on that. I could not however find a good source on how to do that. I mean build a query that should return me all hits related to keyword &quot;test&quot; whether Pages, JournalArticles, Users, BlogEntries etc. I could also use portal-search-rest api to get search hits, but I am unable to build a request body that would return a response body with all the hits."}],"answer_id":76298784,"body":"<p>There seem to be several issues:</p>\n<ul>\n<li>Fragment bundles can contain JSPs but not code, Components, etc.</li>\n<li>Just because you implement a subclass of a portlet does not mean that it'll be wired instead of the superclass component</li>\n</ul>\n<p>Instead of providing a full tutorial how to do it: My recommendation is to check for a solution to the underlying problem. You have chosen a solution strategy (override a portlet), which <a href=\"https://meta.stackexchange.com/a/66378\">may or may not be the proper solution</a> for the underlying problem: Liferay's Search framework provides a lot of extension points that are meant for extention rather than code that needs to be replaced</p>\n<p>If you want to stick with your solution, search for &quot;marketplace override&quot;, which basically allows you to replace built-in components. I'd not recommend it though, as you'll have to do a three-way-merge any time you update and the original component has changed. That's a lot of maintenance burden, and I assume that there must be simpler solutions (I just don't know your underlying problem)</p>\n"}],"last_activity_date":1684654476,"question_id":76298264,"body":"<p>I am trying to achieve this through liferay module fragment. Is it possible?</p>\n<p>I created a fragment and created the packages with exact names as they have in source code.</p>\n<p>I created a <code>public class CustomPortlet extends SearchResultsPortlet</code>.</p>\n<p>I implemented a <code>@Override public void render(RenderRequest rq,RenderResponse re ) throws IOException,PortletException {log.info(&quot;Overriden&quot;); System.out.println(&quot;Overriden&quot;); super.render(rq,re);} </code></p>\n<p>I also tried with and without @Component annotation in my subclass.\nBut osgi is not registering my component.\nWhat am I doing wrong? Do I need to add properties inside  @Component annotation? Shouldn't the subclass inherit the superclass's annotations? I also made changes in a few jsp files, they are reflected in the portlet.</p>\n"},{"last_activity_date":1684654450,"question_id":75438973,"body":"<p>I have the query:</p>\n<p><code>@Query(&quot;SELECT t FROM thing t WHERE t.code in :codes&quot;) public List&lt;Thing&gt; getThingsByCodeList(@Param(&quot;codes&quot;) List&lt;String&gt; codes);</code></p>\n<p>and now I need to ignore hyphens in the query so I remove all the hyphens from <code>t.codes</code> like:</p>\n<p><code>@Query(&quot;SELECT t FROM thing t WHERE regexp_replace(t.code, '-', '') in :codes&quot;) public List&lt;Thing&gt; getThingsByCodeList(@Param(&quot;codes&quot;) List&lt;String&gt; codes);</code></p>\n<p>but I am unsure how to also remove the hyphens from all Strings in the List <code>codes</code></p>\n<p>I know I can remove the hyphens before calling the method but I want to make sure this solution is impossible first.</p>\n"},{"comments":[{"comment_id":134546332,"body":"The simple / simplest  &quot;query&quot; syntax is <code>data1 data2</code> and you decide if you want that to mean OR or AND.  That&#39;s how (for example) how Google search syntax works."},{"comment_id":134546358,"body":"There are many existing syntaxes that are or less suitable for non-programmers.  And don&#39;t underestimate the ability of a non-programmer to <b>learn</b> a syntax."},{"comment_id":134546381,"body":"&quot;How should I design my interface?&quot; is not an appropriate question type for Stack Overflow, as it is both subjective and overly broad. Looking for an existing popular syntax doesn&#39;t really help that, as a) we can&#39;t see the specific requirements of your syntax (what kinds of queries need to be created); b) choosing between them is still subjective; c) there are arbitrarily many out there - anyone can invent a new syntax ad-hoc and then it is &quot;already existing&quot;."},{"comment_id":134546382,"body":"@StephenC unfortunately, in my experience such ability rarely translates into willingness."},{"comment_id":134546430,"body":"@KarlKnechtel This is not how should I design my interface question, this is what end-user search query syntaxes exist out there question because I would prefer to use some existing syntax instead of inventing a bicycle. And I hardly can found anything suitable by myself."},{"comment_id":134546446,"body":"@KarlKnechtel - Perhaps they have no incentive to learn ..."},{"comment_id":134546447,"body":"@StephenC Yes, google like syntax is what I thought as a simplest variant, but unfortunately the more advanced search syntax is required."},{"comment_id":134546457,"body":"Choosing an existing syntax <b>is designing an interface</b>."},{"comment_id":134546461,"body":"@Zur13 - So ... let them learn the more advanced syntax with AND, OR, NOT, parentheses, etc.  If they have the incentive, they will learn.  If they don&#39;t ... well that&#39;s not your problem :-).  And I agree with Karl&#39;s first comment.  The functionality required should determine the syntax, not the other way around."},{"comment_id":134547042,"body":"Look at <a href=\"https://lucene.apache.org/\" rel=\"nofollow noreferrer\">Apache Lucene</a>"}],"last_activity_date":1684654412,"question_id":76298780,"body":"<p>I have a table with data in Java Swing UI and I need the end users to be able to apply filters to that table data.</p>\n<p>The are two categories of end users the inexperienced ones that require a simple queries like &quot;data1&quot; to display any rows containing this text in any cell with support of simple syntax like &quot;data1 OR data2&quot; and the experienced users who needs a more complex syntax like &quot;(COLUMN1=data1 OR COLUMN2=data2) AND NOT COLUMN3=data3&quot;.</p>\n<p>Is there any existing query syntax for such kind of requests that is suitable for non-programmers?</p>\n"},{"comments":[{"comment_id":133297194,"body":"Don’t use an integer. Use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">the built-in <code>DayOfWeek</code> enum</a>. It will also give you the math for free through its <code>plus</code> and <code>minus</code> methods."},{"comment_id":133297239,"body":"If it’s not too advanced for you: Declare <code>private static final DateTimeFormatter DOW_FORMATTER = new DateTimeFormatterBuilder() .parseCaseInsensitive() .appendText(ChronoField.DAY_OF_WEEK, TextStyle.FULL) .toFormatter(Locale.ENGLISH);</code> Then for example <code>DOW_FORMATTER.parse(&quot;sunDAY&quot;, DayOfWeek::from)</code> will give you the <code>SUNDAY</code> enum constant (it accepts mixed case as shown). Use <code>try</code>-<code>cath</code> to catch a <code>DateTimeParseException</code> in case the user enters an invalid day of week."},{"comment_id":133297265,"body":"Possibly simpler: <code>DayOfWeek.valueOf(&quot;sunDAY&quot;.toUpperCase(Locale.ENGLISH))</code>. Here you will get an <code>IllegalArgumentException</code> in case of invalid input."},{"comment_id":133471136,"body":"Is this homework? Then your tutor <i>may</i> require you to write this yourself. Otherwise, you should utilize <code>java.time.DayOfWeek</code>."}],"answers":[{"answer_id":75552299,"body":"<p>You can create a <code>List</code> of days in order, then use <code>indexOf</code> after converting the input <code>String</code> to lowercase.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; days = List.of(&quot;sunday&quot;, &quot;monday&quot;, &quot;tuesday&quot;, &quot;wednesday&quot;, &quot;thursday&quot;, &quot;friday&quot;, &quot;saturday&quot;);\n// convert day to index:\nint b = days.indexOf(day.toLowerCase()) + 1;\n\n// convert index to day:\nString day = days.get(a - 1);\n// capitalize it:\nday = Character.toUpperCase(day.charAt(0)) + day.substring(1);\n</code></pre>\n"},{"answer_id":75552361,"body":"<p>While the above answer is clear and accurate, you could also use an <code>enum</code> containing all days of the week, mostly in case you also want to add more functionality to them.</p>\n<pre><code>enum DayOfWeek {\n    MONDAY(1), TUESDAY(2), WEDNESDAY(3), THURSDAY(4), FRIDAY(5), SATURDAY(6), SUNDAY(7);\n\n    private final int value;\n\n    private DayOfWeek(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public DayOfWeek getPreviousDay() {\n        if (value == 1) return DayOfWeek.SUNDAY;\n        if (value == 2) return DayOfWeek.MONDAY;\n        // Insert other checks here\n    }\n\n    public DayOfWeek getNextDay() {\n        if (value == 7) return DayOfWeek.MONDAY;\n        // Insert other checks here\n    }\n}\n</code></pre>\n<p>... while the user input part can look like this:</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\nSystem.out.println(&quot;Please set the day of the week:&quot;);\nString day = scan.nextLine();\n\nDayOfWeek dayOfWeek = DayOfWeek.valueOf(day);\n</code></pre>\n<p>Of course, in this case, if the user inputs the correct value, but with wrong capitalization (e.g. <code>mondaY</code> or <code>Monday</code>), it will throw an <code>Exception</code>. User should type in <code>MONDAY</code>, as specified in <code>DayOfWeek</code>. You could convert <code>day</code> to uppercase pretty easy by just adding:</p>\n<pre><code>DayOfWeek dayOfWeek = DayOfWeek.valueOf(day.toUpperCase());\n</code></pre>\n"},{"answer_id":75655279,"body":"<p>import java.util.Scanner;</p>\n<p>public class DayOfWeek {\npublic static void main(String[] args) {\nString[] daysOfWeek = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};</p>\n<pre><code>    // Ask the user to input a day of the week\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Please enter a day of the week: &quot;);\n    String day = input.nextLine();\n\n    // Check if the input day is valid\n    boolean validDay = false;\n    for (String d : daysOfWeek) {\n        if (d.equalsIgnoreCase(day)) {\n            validDay = true;\n            break;\n        }\n    }\n    if (!validDay) {\n        System.out.println(&quot;Invalid input. Please enter a valid day of the week.&quot;);\n    } else {\n        // Ask the user to select an option\n        System.out.println(&quot;Please select an option:&quot;);\n        System.out.println(&quot;1. Return the day&quot;);\n        System.out.println(&quot;2. Return the next day&quot;);\n        System.out.println(&quot;3. Return the previous day&quot;);\n        System.out.println(&quot;4. Add certain days to the day you set&quot;);\n        System.out.print(&quot;Option: &quot;);\n        int option = input.nextInt();\n\n        if (option == 1) {\n            System.out.println(&quot;The day is &quot; + day);\n        } else if (option == 2) {\n            int index = -1;\n            for (int i = 0; i &lt; daysOfWeek.length; i++) {\n                if (daysOfWeek[i].equalsIgnoreCase(day)) {\n                    index = i;\n                    break;\n                }\n            }\n            String nextDay = daysOfWeek[(index + 1) % 7];\n            System.out.println(&quot;The next day is &quot; + nextDay);\n        } else if (option == 3) {\n            int index = -1;\n            for (int i = 0; i &lt; daysOfWeek.length; i++) {\n                if (daysOfWeek[i].equalsIgnoreCase(day)) {\n                    index = i;\n                    break;\n                }\n            }\n            String prevDay = daysOfWeek[(index - 1 + 7) % 7];\n            System.out.println(&quot;The previous day is &quot; + prevDay);\n        } else if (option == 4) {\n            System.out.print(&quot;Enter the number of days to add: &quot;);\n            int numDays = input.nextInt();\n            int index = -1;\n            for (int i = 0; i &lt; daysOfWeek.length; i++) {\n                if (daysOfWeek[i].equalsIgnoreCase(day)) {\n                    index = i;\n                    break;\n                }\n            }\n            String newDay = daysOfWeek[(index + numDays) % 7];\n            System.out.println(&quot;The new day is &quot; + newDay);\n        } else {\n            System.out.println(&quot;Invalid option. Please select a valid option.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"answer_id":75655401,"body":"<p>You can also use <code>Map&lt;String, Integer&gt;</code> where key is String like &quot;Monday&quot; etc, and an Integer as your value that should be associated with it.</p>\n<p>Then you can call for exact value by calling <code>map.get(scanner.nextLine())</code>.</p>\n<p>Later on focus on cleaning up the if-'ish' approach - get acquainted with <code>switch</code>.</p>\n<p>Final step would be to extract functionalities to separate methods:\none for retrieving day, then second for logic to deal with further processing, and last but not least for example the returning value method.</p>\n"},{"answer_id":76298767,"body":"<p>I adapted your code, utilizing an <code>enum</code> as the main reference point for your day values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int d;\n\nvoid userInput() {\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Please enter a day of the week: &quot;);\n    String day = scanner.nextLine();\n    Day value;\n    try {\n        value = Day.valueOf(day.toUpperCase());\n        d = value.ordinal() + 1;\n    } catch (IllegalArgumentException exception) {\n        System.out.printf(&quot;Invalid input, '%s'%n&quot;, day);\n        return;\n    }\n\n    System.out.println(&quot;Enter 1 to return the day.\\nEnter 2 to return tomorrows day.\\nEnter 3 to return yesterdays day.\\nEnter 4 to add days to the current day.\\n&quot;);\n    switch (scanner.nextInt()) {\n        case 1 -&gt; System.out.println(value);\n        case 2 -&gt; System.out.println(value.next());\n        case 3 -&gt; System.out.println(value.previous());\n        case 4 -&gt; {\n            System.out.println(&quot;Enter the number of days you want to add&quot;);\n            int c = scanner.nextInt();\n            while (c-- &gt; 0)\n                value = value.next();\n            System.out.println(value);\n        }\n    }\n}\n\nenum Day {\n    SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY;\n\n    Day next() {\n        if (this == SATURDAY) return SUNDAY;\n        return values()[ordinal() + 1];\n    }\n\n    Day previous() {\n        if (this == SUNDAY) return SATURDAY;\n        return values()[ordinal() - 1];\n    }\n}\n</code></pre>\n<p>Output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Please enter a day of the week: saturday\nEnter 1 to return the day.\nEnter 2 to return tomorrows day.\nEnter 3 to return yesterdays day.\nEnter 4 to add days to the current day.\n\n4\nEnter the number of days you want to add\n6\nFRIDAY\n</code></pre>\n"}],"last_activity_date":1684654227,"question_id":75552274,"body":"<p>`Im still learning and I sort of feel like Im doing this all wrong, but I could use some help. I have an assignment needs to have the user set a day of the week, then the program will make the user select an option that will either return the day, return the next day, return the previous day, or add certain days to the day they set(ex: If set the day as Monday and add 4 days, then it will return Friday). I really only need help with the adding days part but any advice on how to make the code better is appreciated.</p>\n<hr />\n<p>Im wanting to know if I can assign a int value to a string. For example, if String day equals &quot;Sunday&quot;, then int a = 1. I want to assign each day of the week to an int value, then add whatever number the user inputs to the int value, then the sum would be the new day.</p>\n<hr />\n<p>If theres a better way to do this please let me know, heres my code(sorry if it looks bad).</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\npublic static void main(String\\[\\] args)\n{\n\n        Day.userInput();\n    }\n\n}\n\nclass Day\n{\nstatic int b;\npublic static void userInput()\n{\nScanner scan = new Scanner(System.in);\n\n// set day of week\nSystem.out.println(&quot;Please set the day of the week:&quot;);\nString day = scan.nextLine();\n\n        if(day.equals(&quot;sunday&quot;) || (day.equals(&quot;Sunday&quot;)) )\n        {\n          b = 1;\n        }\n        if(day.equals(&quot;monday&quot;) || (day.equals(&quot;Monday&quot;)) )\n        {\n            b = 2;\n        }\n        if(day.equals(&quot;tuesday&quot;) || (day.equals(&quot;Tuesday&quot;)) )\n        {\n            b = 3;\n        }\n        if(day.equals(&quot;wednesday&quot;) || (day.equals(&quot;Wednesday&quot;)) )\n        {\n            b = 4;\n        }\n        if(day.equals(&quot;thursday&quot;) || (day.equals(&quot;Thursday&quot;)) )\n        {\n            b = 5;\n        }\n        if(day.equals(&quot;friday&quot;) || (day.equals(&quot;Friday&quot;)) )\n        {\n            b = 6;\n        }\n        if(day.equals(&quot;saturday&quot;) || (day.equals(&quot;Saturday&quot;)) )\n        {\n            b = 7;\n        }\n    \n    \n        System.out.println(&quot;Enter 1 to return the day.\\nEnter 2 to return tomorrows day.\\nEnter 3 to return yesterdays day.\\nEnter 4 to add days to the current day.\\n&quot;);\n        int a = scan.nextInt();\n\n// return day\nif(a == 1)\n{\nSystem.out.println(&quot;The day is &quot; + day);\n}\n//return next day\nif(a == 2)\n{\nif ( b == 1)\n{\nSystem.out.println(&quot;The next day is Monday.&quot;);\n}\nif (b == 2)\n{\nSystem.out.println(&quot;The next day is Tuesday.&quot;);\n}\nif (b == 3)\n{\nSystem.out.println(&quot;The next day is Wednesday.&quot;);\n}\nif (b == 4)\n{\nSystem.out.println(&quot;The next day is Thursday.&quot;);\n}\nif (b == 5)\n{\nSystem.out.println(&quot;The next day is Friday.&quot;);\n}\nif (b == 6)\n{\nSystem.out.println(&quot;The next day is Saturday.&quot;);\n}\nif (b == 7)\n{\nSystem.out.println(&quot;The next day is Sunday.&quot;);\n}\n\n        }\n\n//return previous day\nif(a == 3)\n{\nif( b == 1)\n{\nSystem.out.println(&quot;The previous day was Saturday.&quot;);\n}\nif (b == 2)\n{\nSystem.out.println(&quot;The previous day was Sunday.&quot;);\n}\nif (b == 3)\n{\nSystem.out.println(&quot;The previous day was Monday.&quot;);\n}\nif (b == 4)\n{\nSystem.out.println(&quot;The previous day was Tuesday.&quot;);\n}\nif (b == 5)\n{\nSystem.out.println(&quot;The previous day was Wednesday.&quot;);\n}\nif (b == 6)\n{\nSystem.out.println(&quot;The previous day was Thursday.&quot;);\n}\nif (b == 7)\n{\nSystem.out.println(&quot;The previous day was Friday.&quot;);\n}\n}\n// add days  \nif(a == 4 )\n{\nSystem.out.println(&quot;Enter the number of days you want to add&quot;);\nint c = scan.nextInt();\n\n        }\n    \n    \n    }\n\n}\n</code></pre>\n<p>I know a way I can do this but it'll take a massive amount of lines and if statements. `</p>\n"},{"comments":[{"comment_id":134542312,"body":"What are you trying to do? Show <code>index.html</code> for all routes that don&#39;t match anything?"}],"answers":[{"comments":[{"comment_id":134542214,"body":"I just tried it, but unfortunately it doesn&#39;t seem to change anything :("},{"comment_id":134542305,"body":"I think that&#39;s because of HttpStatus 500, you have a problem related to your database and jpa, you can check your connection with the database. and maybe the problem is because your methods in your service so check your methods getAllUsers, ..."},{"comment_id":134542451,"body":"Unfortunately no, I tested that by changing the controller into a Rest controller and having the method return the answer and it returned a json like expected"},{"comment_id":134542870,"body":"i think i found the problem i fotget to see the name of your file html, it&#39;s should be the name of the return of your function AllUsers, so just replace index.html by users.html."},{"comment_id":134544521,"body":"thanks to issam el orf, that seems to have &quot;fixed&quot; the problem, but now I have the new problem of the table not containing any of the elements in my database.  Anyhow could you make your comment into a response so that I can mark the question as solved?  Once again thanks"},{"comment_id":134544535,"body":"You&#39;re welcome, I want to ask you if you use my code html or not !! you should use it because your code html is fault"},{"comment_id":134544558,"body":"Yes I&#39;m using your code. Unfortunatly the users in my database are still not showing"},{"comment_id":134544613,"body":"Check if your entity&#39;s attributes have the some names in html file i mean ( id, email, name, ...)"},{"comment_id":134544654,"body":"I checked again and the names match, I think it might have something to do with me missusing model.addatribute(params) because I just can&#39;t think of any other place where it could have gone wrong"},{"comment_id":134544815,"body":"Try to not use @Column i mean remove it in your entity, and put the some names of entity&#39;s attributtes inside your users.html"}],"answer_id":76296224,"body":"<p>Update the file with the following content: html</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;div&gt;\n            &lt;table class=&quot;table&quot;&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;ID&lt;/th&gt;\n                        &lt;th&gt;Email&lt;/th&gt;\n                        &lt;th&gt;Name&lt;/th&gt;\n                        &lt;th&gt;Username&lt;/th&gt;\n                        &lt;th&gt;Password&lt;/th&gt;\n                        &lt;th&gt;&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\n                        &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\n                        &lt;td&gt;&lt;!-- additional actions if needed --&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"},{"answer_id":76297750,"body":"<p>I think i found the problem, The name of your file html should be the same name returned in your method AllUsers, so just replace index.html by users.html.</p>\n"}],"last_activity_date":1684654138,"question_id":76296160,"body":"<p>I have the following controller.</p>\n<pre><code>package com.school.project;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/&quot;)\n    public String AllUsers(Model model) {\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\n        return &quot;users&quot;;\n    }\n\n}\n</code></pre>\n<p>and an <code>index.html</code> file placed in my templates folder.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;div&gt;\n            &lt;table&gt;\n                &lt;thead&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;E-mail&lt;/th&gt;\n                    &lt;th&gt;name&lt;/th&gt;\n                    &lt;th&gt;username&lt;/th&gt;\n                    &lt;th&gt;password&lt;/th&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    \n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<p>But whenever I launch my application, I get the following error.</p>\n<pre><code>Sat May 20 18:57:06 IDT 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\nError resolving template [users], template might not exist or might not be accessible by any of the configured Template Resolvers\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [users], template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n<p>If I change the routing of my index mapping, the html will load with no problem, but if I give them the same routing, I get that error.</p>\n<p>It is the same error. I get if I try to go to a URL with no matching template file.</p>\n<p>I know this error has already been posted, but none of the solutions worked for me.</p>\n<p>My service class is the following.</p>\n<pre><code>package com.school.project;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    public List&lt;User&gt; getAllUsers() {\n        List&lt;User&gt; users = userRepository.findAll();\n        return users;\n    }\n}\n\n</code></pre>\n<p>and my model class.</p>\n<pre><code>package com.school.project;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;user&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;isAdmin&quot;)\n    private boolean isAdmin;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n\n</code></pre>\n"},{"comments":[{"comment_id":134546333,"body":"What headers does the response have?"}],"answers":[{"comments":[{"comment_id":134546470,"body":"problem is fixed"}],"answer_id":76298758,"body":"<p>The garbled response you're receiving indicates that the response is compressed with gzip or deflate encoding. To properly handle this compressed response, you need to decode it before reading it as a readable XML.</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\nimport java.util.zip.GZIPInputStream;\n\nprivate List&lt;Guaranty&gt; getGuarantyList(String nationalId, String centerBankCode) throws IOException {\n    try {\n        fixHttpsHandler();\n    } catch (Exception ex) {\n        System.out.println(ex.getMessage());\n    }\n\n    String responseString = &quot;&quot;;\n    String outputString = &quot;&quot;;\n    String wsEndPoint = &quot;http://192.168.5.202/services/out.asmx&quot;;\n    URL url = new URL(wsEndPoint);\n    URLConnection connection = url.openConnection();\n    HttpURLConnection httpConn = (HttpURLConnection) connection;\n    ByteArrayOutputStream bout = new ByteArrayOutputStream();\n    String xmlInput = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:pos=\\&quot;http://postbank.ir/\\&quot;&gt;\\r\\n&quot; + \n            ...\n            &quot;&lt;/soapenv:Envelope&gt;&quot;;\n    byte[] buffer = new byte[xmlInput.length()];\n    buffer = xmlInput.getBytes();\n    bout.write(buffer);\n    byte[] b = bout.toByteArray();\n    String SOAPAction = &quot;http://postbank.ir/getGuaranty&quot;;\n    httpConn.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip,deflate&quot;);\n    httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\n    httpConn.setRequestProperty(&quot;SOAPAction&quot;, SOAPAction);\n    httpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(b.length));\n    httpConn.setRequestProperty(&quot;Host&quot;, &quot;192.168.5.202&quot;);\n    httpConn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n    httpConn.setRequestProperty(&quot;User-Agent&quot;, &quot;Apache-HttpClient/4.5.5 (Java/16.0.1)&quot;);\n    httpConn.setRequestMethod(&quot;POST&quot;);\n    httpConn.setDoOutput(true);\n    httpConn.setDoInput(true);\n    OutputStream out = httpConn.getOutputStream();\n    out.write(b);\n    out.close();\n\n    InputStream inputStream = httpConn.getInputStream();\n    String contentEncoding = httpConn.getContentEncoding();\n\n    if (contentEncoding != null &amp;&amp; contentEncoding.equalsIgnoreCase(&quot;gzip&quot;)) {\n        inputStream = new GZIPInputStream(inputStream);\n    } else if (contentEncoding != null &amp;&amp; contentEncoding.equalsIgnoreCase(&quot;deflate&quot;)) {\n        inputStream = new InflaterInputStream(inputStream);\n    }\n\n    InputStreamReader isr = new InputStreamReader(inputStream, Charset.forName(&quot;UTF-8&quot;));\n\n    BufferedReader in = new BufferedReader(isr);\n    while ((responseString = in.readLine()) != null) {\n        outputString = outputString + responseString;\n    }\n\n    String formattedSOAPResponse = formatXML(outputString);\n    return formattedSOAPResponse;\n}\n</code></pre>\n<p>I added logic to check the Content-Encoding header of the HTTP response. If it indicates gzip compression, the inputStream is wrapped in a GZIPInputStream for decompression. Similarly, if the encoding is deflate, it is wrapped in an InflaterInputStream.</p>\n"}],"last_activity_date":1684654098,"question_id":76298608,"body":"<p>calling soap web service</p>\n<p>I have a soap web service to call, here is my code:</p>\n<pre><code>private List&lt;Guaranty&gt; getGuarantyList(String nationalId, String centerBankCode) throws IOException{\n        \n        try {\n            fixHttpsHandler();\n        } catch (Exception ex) {\n            System.out.println(ex.getMessage());\n        }\n\n        // Code to make a webservice HTTP request\n        String responseString = &quot;&quot;;\n        String outputString = &quot;&quot;;\n        String wsEndPoint = &quot;http://192.168.5.202/services/out.asmx&quot;;\n        URL url = new URL(wsEndPoint);\n        URLConnection connection = url.openConnection();\n        HttpURLConnection httpConn = (HttpURLConnection) connection;\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\n        String xmlInput = &quot;&lt;soapenv:Envelope xmlns:soapenv=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot; xmlns:pos=\\&quot;http://postbank.ir/\\&quot;&gt;\\r\\n&quot; + \n                &quot;   &lt;soapenv:Header&gt;\\r\\n&quot; + \n                &quot;      &lt;pos:PostbankAuth&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:UserName&gt;ebank&lt;/pos:UserName&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:Password&gt;qwer@123&lt;/pos:Password&gt;\\r\\n&quot; + \n                &quot;      &lt;/pos:PostbankAuth&gt;\\r\\n&quot; + \n                &quot;   &lt;/soapenv:Header&gt;\\r\\n&quot; + \n                &quot;   &lt;soapenv:Body&gt;\\r\\n&quot; + \n                &quot;      &lt;pos:getGuaranty&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:nationalCode&gt;&quot; + nationalId + &quot;&lt;/pos:nationalCode&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:centerBankCode&gt;&quot; + centerBankCode + &quot;&lt;/pos:centerBankCode&gt;\\r\\n&quot; + \n                &quot;         &lt;!--Optional:--&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:length&gt;10&lt;/pos:length&gt;\\r\\n&quot; + \n                &quot;         &lt;pos:offset&gt;0&lt;/pos:offset&gt;\\r\\n&quot; + \n                &quot;      &lt;/pos:getGuaranty&gt;\\r\\n&quot; + \n                &quot;   &lt;/soapenv:Body&gt;\\r\\n&quot; + \n                &quot;&lt;/soapenv:Envelope&gt;&quot;;\n        byte[] buffer = new byte[xmlInput.length()];\n        buffer = xmlInput.getBytes();\n        bout.write(buffer);\n        byte[] b = bout.toByteArray();\n        String SOAPAction = &quot;http://postbank.ir/getGuaranty&quot;;\n        httpConn.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip,deflate&quot;);\n        httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\n        httpConn.setRequestProperty(&quot;SOAPAction&quot;, SOAPAction);\n        httpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(b.length));\n        httpConn.setRequestProperty(&quot;Host&quot;, &quot;192.168.5.202&quot;);\n        httpConn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n        httpConn.setRequestProperty(&quot;User-Agent&quot;, &quot;Apache-HttpClient/4.5.5 (Java/16.0.1)&quot;);\n        httpConn.setRequestMethod(&quot;POST&quot;);\n        httpConn.setDoOutput(true);\n        httpConn.setDoInput(true);\n        OutputStream out = httpConn.getOutputStream();\n        // Write the content of the request to the outputstream of the HTTP\n        // Connection.\n        out.write(b);\n        out.close();\n        // Ready with sending the request.\n        // Read the response.\n\n        InputStreamReader isr = new InputStreamReader(httpConn.getInputStream(), Charset.forName(&quot;UTF-8&quot;));\n\n        BufferedReader in = new BufferedReader(isr);\n        // Write the SOAP message response to a String.\n        while ((responseString = in.readLine()) != null) {\n            outputString = outputString + responseString;\n        }\n            \n        String formattedSOAPResponse = formatXML(outputString);\n        return formattedSOAPResponse ;\n        \n    }\n</code></pre>\n<p>but i get this as response instead a readable xml:</p>\n<p>�________�_<code>_I�%&amp;/m�{_J�J��t�_�</code><em>$ؐ@<em>������_iG#)�*��eVe]f</em>@�흼��{���{���;�N'���?\\fd_l��J�ɞ!���</em>?~|<em>?&quot;<em>�_�_ez��MQ-?�hw��Q�/�լX^|�Ѻ=�&gt;���8z�T�����2/�U��+��</em>&gt;��yۮ_ݽ�L��&quot;k��</em>&gt;<em>W��]�r7ח�~���k�������_7���ٽ�{<em>��5_�.�M�-��{kv�[</em>)�O����㋼�|��ٲ�~�7�j�(�_Ъj�I�|;.��n�ºl�__�7Mv�_Uo_�5�?~��N�|v�����]���Y�__��$ϖG��E�^��ۏ�&gt;�1������I~Q,�e��GG{;{{�;����ٻ�hg����νG��-ۚ^����j潹��Km�_�ыl�5����_�����f�_�</em>=���6��_5�k��C wv?ݻ�wp����n�Rެ�__��nz�6���|V��۬]7�g�NO���_�\\�51�ku��_5ҏѠi�E^c(�ѿ�7��_X�o����_O��_��?&amp;����_�_����_�o����������?������o����_F_�[_��W�[<em>տ�7_�����_�_��ǳu��$<em><em>�C_����q��aB��2}<em>�{���ӶG�_�TD���������;</em>?�y0�9,�B$<em>o�oW�,��g���Ͻ�o�5����c������~���3�q��٫��;{�4=43�v�_�?x���s_�:�_B���_�7   �;4�;;<em>�_t^Ֆ�� �{��������h�פ����o�1D����#R&quot;�_�o��4&quot;��_A��_t��</em>;+��������?}@�_�uM__o�2_ͫe��r v_����}�C�</em></em>^c_BL�^z�������S~��9z�^��y3��__�5���</em></em>)���+��?�8�_�o��������������K��?���_�m鏿��������ߜn_��Q��_�o�5��_w���N?G����.q&quot;i��_�����'}�iW�ݘ���_ꙴZH</p>\n<p>this way works for other web services but not this one. i tested the web service in soap-ui and it works correctly...\nthanks</p>\n"},{"comments":[{"comment_id":134546472,"body":"Keep in mind that streaming from a <code>Queue</code> does not remove the elements from said <code>Queue</code>. Also, if the actual implementation is, e.g., <code>PriorityQueue</code>, which uses a min/max heap, then the encounter order of the elements while streaming is not guaranteed to be the order you&#39;d get by repeatedly polling/removing from the <code>PriorityQueue</code>."}],"answers":[{"answer_id":76298710,"body":"<p>There are 2 things wrong here:</p>\n<ol>\n<li><p>First of all you have to use <code>flatMap</code> and not <code>map</code> otherwise you are just sorting Collections and not the actual elements of the collection. More info <a href=\"https://www.baeldung.com/java-difference-map-and-flatmap\" rel=\"nofollow noreferrer\">here</a></p>\n</li>\n<li><p>Regarding why the breakpoint is not stopping there, java streams require terminal operations to be evaluated - <code>sorted</code> is NOT a terminal operation, so simply adding a terminal operation at the end, such as <code>toList()</code> or <code>.forEach(System.out::println)</code>, should do the trick.</p>\n</li>\n</ol>\n<p><a href=\"https://www.baeldung.com/java-8-streams#pipeline\" rel=\"nofollow noreferrer\">More info</a> on terminal operations in java</p>\n<p>Corrected version would then be:</p>\n<pre><code>taskQueues.stream()\n        .filter(aDeque -&gt; !aDeque.isEmpty())\n        .flatMap(decks -&gt; decks.stream()) // Breakpoint. Evaluate.\n        .sorted((a, b) -&gt; {\n            return 1;\n        })\n        .forEach(System.out::println);\n</code></pre>\n"}],"last_activity_date":1684653147,"question_id":76298593,"body":"<pre><code>taskQueues.stream().\n        filter(aDeque -&gt; !aDeque.isEmpty()).\n        map(decks -&gt; decks.stream()). // Breakpoint. Evaluate.\n        sorted((a, b) -&gt; {\n            return 1;\n        });\n</code></pre>\n<p>Please, have a look at the code: I have marked where breakpoint is put.\nThe image depicts that the stream is not empty. Therefore, I expected that I'll be able to compare something. But I have failed.</p>\n<p><a href=\"https://i.stack.imgur.com/vaArJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vaArJ.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is that I'll be able to understand how to sort only when I stop inside that lambda and have a look at the two objects at hand.</p>\n<p>Could you help me:</p>\n<ol>\n<li>Understand the reason why the debugger doesn't stop at line 42.</li>\n<li>Understand how to make the debugger stop there.</li>\n</ol>\n"},{"comments":[{"comment_id":8727178,"body":"Are you sure the dump is not corrupt and that you are using a more recent version of the DTFJ JARs? The <code>ArrayIndexOutOfBoundsException</code> features in atleast <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=294311\" rel=\"nofollow noreferrer\">two</a> <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=307530\" rel=\"nofollow noreferrer\">bugs</a>. I&#39;m stating this because you haven&#39;t reported <a href=\"http://wiki.eclipse.org/MemoryAnalyzer/FAQ#Out_of_Memory_Error_while_Running_the_Memory_Analyzer\" rel=\"nofollow noreferrer\">an OOME when running MAT, which has a different fix</a>."},{"comment_id":23728002,"body":"jhat uses heapMap to store the objects read, which grows exponentially with the number of objects stored in heap.  One option is to change the decl&#39;s from heapMap to TreeMap, and run the heap size of jhat as least as large as your process."},{"comment_id":119152266,"body":"I have drafted a proposal for a memory mapped backend for Eclipse MAT that would allow you to process much larger files than your local available heap, so long as you have sufficient local disk to spill to.  Feedback welcome <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=572512\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=572512</a>"},{"comment_id":119161162,"body":"@codeDr I doubt that it grows exponentially. Maybe quadratic, and that would be bad enough already."}],"answers":[{"answer_id":7254398,"body":"<p>The accepted answer to this related question should provide a good start for you (if you have access to the running process, generates live jmap histograms instead of heap dumps, it's very fast):</p>\n<p><a href=\"https://stackoverflow.com/questions/2511315/method-for-finding-memory-leak-in-large-java-heap-dumps\">Method for finding memory leak in large Java heap dumps</a></p>\n<p>Most other heap analysers (I use IBM <a href=\"http://www.alphaworks.ibm.com/tech/heapanalyzer\" rel=\"nofollow noreferrer\">http://www.alphaworks.ibm.com/tech/heapanalyzer</a>) require at least a percentage of RAM more than the heap if you're expecting a nice GUI tool.</p>\n<p>Other than that, many developers use alternative approaches, like live stack analysis to get an idea of what's going on.</p>\n<p>Although I must question why your heaps are so large? The effect on allocation and garbage collection must be massive. I'd bet a large percentage of what's in your heap should actually be stored in a database / a persistent cache etc etc.</p>\n"},{"comments":[{"comment_id":22380556,"body":"Important note: <code>ParseHeapDump.sh</code> is packaged with the Linux version only, not the OSX version -- <a href=\"http://www.eclipse.org/mat/downloads.php\" rel=\"nofollow noreferrer\">eclipse.org/mat/downloads.php</a>"},{"comment_id":60904225,"body":"When I try this (ssh&#39;d to bash on a linux box), it fails immediately with &quot;Unable to initialize GTK+&quot;.  So it looks like (the current version, 2016-04-15) still thinks it&#39;s talking to a UI(?)."},{"comment_id":60905745,"body":"Hmm, the newer versions of ParseHeapDump.sh want to run ./MemoryAnalyzer directly.  I am experimenting with running the launcher directly with java, so far that seems to be working, e.g.  java -Xmx16g -Xms16g -jar plugins/org.eclipse.equinox.launcher_1.3.100.v20150511-1540.&zwnj;&#8203;jar    -consoleLog -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot;"},{"comment_id":67716586,"body":"Appears you can use it on OS X by downloading both the Linux and OSX versions, then copy ParseHeapDump.sh to the same dir as your MemoryAnalyze file (in my case, ~/Downloads/mat.app/Contents/MacOS) and modify and run it there. Or run it on some remote server of course, via SSH :)"},{"comment_id":90251231,"body":"Opened a 2GB heap dump with Eclipse Memory Analyzer GUI using no more than 500MB memory. Index files were created on the fly on file opening (taken ~30sec). Maybe they improved the tool. It is more convinient than copy big files back and forth, if it really works this way. Small memory footprint even without any console utilities is a big plus for me. But  to be honest, I didn&#39;t try it with <b>really big dumps</b> (50+ GB). Very interesting how much memory is required to open and analyze such big dumps with this tool."},{"comment_id":95702903,"body":"I couldn&#39;t load a 30G hprof file with allocating 10G of Xmx to MAT so...not sure there :|"}],"answer_id":7254494,"body":"<p>Normally, what I use is <code>ParseHeapDump.sh</code> included within <a href=\"http://www.eclipse.org/mat/\" rel=\"noreferrer\">Eclipse Memory Analyzer</a> and described <a href=\"http://wiki.eclipse.org/index.php/MemoryAnalyzer/FAQ\" rel=\"noreferrer\">here</a>, and I do that  onto one our more beefed up servers (download and copy over the linux .zip distro, unzip there).  The shell script needs less resources than parsing the heap from the GUI, plus you can run it on your beefy server with more resources (you can allocate more resources by adding something like <code>-vmargs -Xmx40g -XX:-UseGCOverheadLimit</code> to the end of the last line of the script.\nFor instance, the last line of that file might look like this after modification</p>\n\n<pre><code>./MemoryAnalyzer -consolelog -application org.eclipse.mat.api.parse \"$@\" -vmargs -Xmx40g -XX:-UseGCOverheadLimit\n</code></pre>\n\n<p>Run it like <code>./path/to/ParseHeapDump.sh ../today_heap_dump/jvm.hprof</code></p>\n\n<p>After that succeeds, it creates a number of \"index\" files next to the .hprof file.</p>\n\n<p>After creating the indices, I try to generate reports from that and scp those reports to my local machines and try to see if I can find the culprit just by that (not just the reports, not the indices).  Here's a tutorial on <a href=\"http://javaforu.blogspot.com/2013/11/analyzing-large-java-heap-dumps-when.html\" rel=\"noreferrer\">creating the reports</a>.</p>\n\n<p>Example report:</p>\n\n<pre><code>./ParseHeapDump.sh ../today_heap_dump/jvm.hprof org.eclipse.mat.api:suspects\n</code></pre>\n\n<p>Other report options: </p>\n\n<p><code>org.eclipse.mat.api:overview</code> and <code>org.eclipse.mat.api:top_components</code> </p>\n\n<p>If those reports are not enough and if I need some more digging (i.e. let's say via oql), I scp the indices as well as hprof file to my local machine, and then open the heap dump (with the indices in the same directory as the heap dump) with my Eclipse MAT GUI. From there, it does not need too much memory to run.</p>\n\n<p><strong>EDIT:</strong> \nI just liked to add two notes :</p>\n\n<ul>\n<li>As far as I know, only the generation of the indices is the memory intensive part of Eclipse MAT. After you have the indices, most of your processing from Eclipse MAT would not need that much memory. </li>\n<li>Doing this on a shell script means I can do it on a headless server (and I normally do it on a headless server as well, because they're normally the most powerful ones). And if you have a server that can generate a heap dump of that size, chances are, you have another server out there that can process that much of a heap dump as well.</li>\n</ul>\n"},{"answer_id":7254844,"body":"<p>I suggest trying YourKit. It usually needs a little less memory than the heap dump size (it indexes it and uses that information to retrieve what you want)</p>\n"},{"comments":[{"comment_id":67756158,"body":"Unfortunately it says &quot;common problem: running out of memory: Increase the -Xmx to 2/3 of the dump-size&quot; but I suppose if you have enough RAM or can run it on a server with enough, that might be enough, thanks!"}],"answer_id":18775272,"body":"<p>A not so well known tool - <a href=\"http://dr-brenschede.de/bheapsampler/\" rel=\"nofollow\">http://dr-brenschede.de/bheapsampler/</a> works well for large heaps.  It works by sampling so it doesn't have to read the entire thing, though a bit finicky.</p>\n"},{"comments":[{"comment_id":95270294,"body":"Thanks.  DLd the utility today.  Tried run by 2x-click and it gave an error. Looked at log, could not create data file and said to use a switch.  Opened the .app package and found MemoryAnalyzer.ini in the Eclipse\\ folder, not \\MacOS.  Ah-ha! So I extracted all files locally and did as you suggested.  I created a .sh file in \\MacOS and moved the commands in Eclipse\\MemoryAnalyzer.ini into it as a flat single line.  Saved file.  Ran the .sh file from MacOS\\ on the command line and voila, it worked."},{"comment_id":125351882,"body":"What a confusing mess.  The MemoryAnalyzer.ini is not where it is supposed to be and even if you move it from Eclipse to MacOS the mods do not &quot;take&quot;.    All this to help nudge MAT to not run out of memory when it is trying to analyze a java heap which ran out of memory.  My java hprof is 1.7GB and I am running on MacOS 10.15.7 Catalina.  I do not believe the ini really takes, no matter where you put it on Mac.  The Eclipse doc is wrong."}],"answer_id":31422903,"body":"<p>First step:  increase the amount of RAM you are allocating to MAT.  By default it's not very much and it can't open large files.</p>\n\n<p>In case of using MAT on MAC (OSX) you'll have file MemoryAnalyzer.ini file in MemoryAnalyzer.app/Contents/MacOS. It wasn't working for me to make adjustments to that file and have them \"take\". You can instead create a modified startup command/shell script based on content of this file and run it from that directory. In my case I wanted 20 GB heap:</p>\n\n<pre><code>./MemoryAnalyzer -vmargs -Xmx20g --XX:-UseGCOverheadLimit ... other params desired\n</code></pre>\n\n<p>Just run this command/script from Contents/MacOS directory via terminal, to start the GUI with more RAM available.</p>\n"},{"comments":[{"comment_id":81661477,"body":"Actually works on a big dump, unlike say <a href=\"https://github.com/on-site/fasthat\" rel=\"nofollow noreferrer\">github.com/on-site/fasthat</a>. Nice!"},{"comment_id":129736338,"body":"I got histogram out of 26GB dump using this tool."}],"answer_id":40246695,"body":"<p>This person <a href=\"http://blog.ragozin.info/2015/02/programatic-heapdump-analysis.html\" rel=\"nofollow noreferrer\">http://blog.ragozin.info/2015/02/programatic-heapdump-analysis.html</a></p>\n<p>wrote a custom &quot;heap analyzer&quot; that just exposes a &quot;query style&quot; interface through the heap dump file, instead of actually loading the file into memory.</p>\n<p><a href=\"https://github.com/aragozin/heaplib\" rel=\"nofollow noreferrer\">https://github.com/aragozin/heaplib</a></p>\n<p>Though I don't know if &quot;query language&quot; is better than the eclipse OQL mentioned in the accepted answer here.</p>\n"},{"answer_id":54399903,"body":"<p>This is not a command line solution, however I like the tools:</p>\n\n<p>Copy the heap dump to a server large enough to host it. It is very well possible that the original server can be used.</p>\n\n<p>Enter the server via <code>ssh -X</code> to run the graphical tool remotely and use <code>jvisualvm</code> from the Java binary directory to load the <code>.hprof</code> file of the heap dump.</p>\n\n<p>The tool does not load the complete heap dump into memory at once, but loads parts when they are required. Of course, if you look around enough in the file the required memory will finally reach the size of the heap dump.</p>\n"},{"answer_id":54703908,"body":"<p>Try using jprofiler , its works good in analyzing large .hprof, I have tried with file sized around 22 GB.</p>\n<pre><code>https://www.ej-technologies.com/products/jprofiler/overview.html\n</code></pre>\n<p>$499/dev license but has a free 10 day evaluation</p>\n"},{"answer_id":57586030,"body":"<p>I came across an interesting tool called JXray. It provides limited evaluation trial license. Found it very useful to find memory leaks. You may give it a shot. </p>\n"},{"comments":[{"comment_id":124974599,"body":"Any idea how to do that without the UI?"},{"comment_id":125001980,"body":"See <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.mat.ui.help/tasks/batch.html?cp=57_3_14\" rel=\"nofollow noreferrer\">Batch mode</a> with the following options:  1. -discard_ratio=percentage. Option to discard a fraction of the objects from huge dumps. 2. -discard_pattern=regex. A regular expression matching the class names of objects to be discarded. 3. -discard_offset=offset value. Controls which particular objects are discarded. 4. -discard_seed=random number generator seed. Controls which particular objects are discarded."}],"answer_id":63635797,"body":"<p>The latest snapshot build of Eclipse Memory Analyzer has a facility to randomly discard a certain percentage of objects to reduce memory consumption and allow the remaining objects to be analyzed. See <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=563960\" rel=\"nofollow noreferrer\">Bug 563960</a> and the <a href=\"https://www.eclipse.org/mat/snapshotBuilds.php\" rel=\"nofollow noreferrer\">nightly snapshot build</a> to test this facility before it is included in the next release of MAT.  Update: it is now included in released version 1.11.0.</p>\n"},{"answer_id":70924609,"body":"<p>When the problem can be &quot;easily&quot; reproduced, one unmentioned alternative is to take heap dumps before memory grows that big (<em>e.g.</em>, <code>jmap -dump:format=b,file=heap.bin &lt;pid&gt;</code>).</p>\n<p>In many cases you will already get an idea of what's going on without waiting for an OOM.</p>\n<p>In addition, MAT provides a feature to compare different snapshots, which can come handy (see <a href=\"https://stackoverflow.com/a/55926302/898154\">https://stackoverflow.com/a/55926302/898154</a> for instructions and a description).</p>\n"},{"answer_id":76298700,"body":"<p><strong>Idea is that use the headless MAT option , as in windows system with limited RAM you cannot do the analysis of large heap dump files.</strong></p>\n<ol>\n<li><p>Download the latest mat for unix env - eg. MemoryAnalyzer-1.14.0.20230315-linux.gtk.x86_64.zip\n<a href=\"https://www.eclipse.org/mat/downloads.php\" rel=\"nofollow noreferrer\">https://www.eclipse.org/mat/downloads.php</a> , and extract in any directory of your server.</p>\n<p>Update the MAT config present in /MAT-folder-path/MemoryAnalyzer.ini :</p>\n<ul>\n<li><p>MAT tool requires min jdk-17 , set JVM path ( version &gt; java-17 )</p>\n</li>\n<li><p>Increase the heap memory eg -Xmx16384m as per heap dump size.</p>\n<pre><code> -vm  \n /path-to/jdk-17/bin  \n -vmargs  \n -Xmx16384m \n</code></pre>\n</li>\n</ul>\n</li>\n<li><p>Useful to have a utility script for generating reports out of your heap dump file - heapAnalysis.sh  (Do keep the free disc space &gt; twice the heap dump size)</p>\n<pre><code>    #!/bin/sh\n    heapFilePath=&quot;$1&quot;;\n    if [[ -z $heapFilePath ]]; then\n         echo &quot;The heapFilePath received : $heapFilePath&quot;;\n         if [ -f $heapFilePath ]; then\n             # MAT folder path : - ParseHeapDump.sh script\n             matDirectory=&quot;/MAT-folder-path/mat&quot;\n             matScript=&quot;ParseHeapDump.sh&quot;\n\n             heapDumpParserScript=$matDirectory/$matScript\n\n             # To parse the heap dump file and generate the html report in zip format.\n             echo &quot;[1] Leak suspect report analysis started..&quot;;\n             $heapDumpParserScript $heapFilePath org.eclipse.mat.api:suspects\n             echo &quot;Analysis completed : Leak suspect report.&quot;;\n\n             # You can comment out below [2] and [3] blocks. Usually LeakSuspect report helps in 80% of cases.\n\n             echo &quot;[2] System overview report analysis started..&quot;;\n             $heapDumpParserScript $heapFilePath org.eclipse.mat.api:overview\n             echo &quot;Analysis completed : System overview report.&quot;;\n\n             echo&quot; [3] Top Component report analysis started..&quot;;\n             $heapDumpParserScript $heapFilePath org.eclipse.mat.api:top_components\n             echo &quot;Analysis completed : Top Component report.&quot;;\n        else\n             echo &quot;Provide the correct filepath of heap dump, $heapFilePath file doesn't exist.&quot;;\n        fi \n    else \n         echo &quot;Provide the mandatory argument of the script.&quot;; \n     fi \n</code></pre>\n</li>\n<li><p>To execute the script to analyze heap dump. ( Use screen utility to detach your session in unix terminal to avoid aborting the process. Because such analysis takes hours. )</p>\n<pre><code>      source /script/heapAnalysis.sh /path-to/heapDumpFile.hprof\n</code></pre>\n</li>\n<li><p>Now you can download the html report (~few mb size) into your local system using winSCP tool.\n<strong>If you want, you can transfer the indexed files (ParseHeapDump.sh creates indexed files ) into windows system and load using MAT</strong></p>\n</li>\n</ol>\n"}],"last_activity_date":1684652892,"question_id":7254017,"body":"<p>I have a HotSpot JVM heap dump that I would like to analyze. The VM ran with <code>-Xmx31g</code>, and the heap dump file is 48 GB large.</p>\n\n<ul>\n<li>I won't even try <code>jhat</code>, as it requires about five times the heap memory (that would be 240 GB in my case) and is awfully slow.</li>\n<li>Eclipse MAT crashes with an <code>ArrayIndexOutOfBoundsException</code> after analyzing the heap dump for several hours.</li>\n</ul>\n\n<p>What other tools are available for that task? A suite of command line tools would be best, consisting of one program that transforms the heap dump into efficient data structures for analysis, combined with several other tools that work on the pre-structured data.</p>\n"},{"comments":[{"comment_id":96023074,"body":"Browser windows do not equal processes."},{"comment_id":96023668,"body":"@user207421 Where is it stated that a window is a process? It is only mentioned that you are able to close a window through a process, not that they are the same thing."}],"answers":[{"comments":[{"comment_id":47812792,"body":"Note that if the user opened additional windows while in that browser, all the windows will end up being destroyed, not just one."},{"comment_id":47946636,"body":"@Jelle ..tx for your answer but using runtime its takes alot of time to open the browser so now i am using the belwo code to open browser. in this case what could be a appropriate way to close the opened browser other than finding the process and then closing it.Any suggestion ?     Desktop dt = Desktop.getDesktop();                          //dt.browse(  new URI(url) );"},{"comment_id":47948261,"body":"@PinkGiraffe Not that I know of. Maybe you should find out why your <code>Runtime</code> is acting slow."}],"answer_id":29843152,"body":"<p>You can put it in a <code>Process</code> and kill that.</p>\n\n<pre><code>Runtime runtime = Runtime.getRuntime();\nProcess p = runtime.exec(\"/usr/bin/firefox -new-window \" + url);\np.destroy();\n</code></pre>\n\n<p>-- update --</p>\n\n<p>You should execute your command with a String array</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\n    \"/usr/bin/firefox\",\n    \"-new-window\", url\n});\n</code></pre>\n\n<p>This is less prone to errors:\n<a href=\"https://stackoverflow.com/questions/4916918/java-execute-a-command-with-a-space-in-the-pathname\">Java execute a command with a space in the pathname</a></p>\n\n<p>Or use <code>ProcessBuilder</code>: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder Documentation</a></p>\n"},{"answer_id":38723904,"body":"<p>I was trying to achieve a similar thing, without caring too much which browser will open. I come accross a solution based on Java FX:</p>\n\n<pre><code>public class MyBrowser extends Application {\n\nprivate String url = \"http://stackoverflow.com/questions/29842930/close-browser-window-using-java-code\";\n\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage) throws Exception {\n\n    WebView webview = new WebView();\n    webview.getEngine().load(url);\n    webview.setPrefSize(1800, 1000);\n\n    stage.setScene(new Scene(webview));\n    stage.show();\n\n    //stage.close();\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Of course if you call <code>close()</code> this way, you will not really see the embedded browser window. It should be called in another part of the code, e.g. in response to a button push. </p>\n"},{"answer_id":65438898,"body":"<p>Use the below code snippet</p>\n<pre><code>Runtime runtime = Runtime.getRuntime();\nruntime.exec(&quot;killall -9  firefox&quot;);\n</code></pre>\n<p>change the name of the browser according to your needs.</p>\n"}],"last_activity_date":1684652595,"question_id":29842930,"body":"<p>How should i close an opened browser window using java code. I have found a way to first find the process then end that process. Is there any better way? I have opened the browser initially using the below code. I am working in CentOS.</p>\n\n<pre><code>String url = \"http://192.168.40.174/test15.html\";\nRuntime runtime = Runtime.getRuntime();\nruntime.exec(\"/usr/bin/firefox -new-window \" + url);\n</code></pre>\n"},{"comments":[{"comment_id":45232498,"body":"Can you show us the code you are trying to attach the file ?"}],"answers":[{"answer_id":28452719,"body":"<p>MIME Headers (like <code>Subject</code> or <code>Content-Disposition</code>) must be mime-encoded, if they contain non-ascii chars.</p>\n\n<p>Encoding is either \"<code>quoted printable</code>\" or \"<code>base64</code>\". I recommend for <code>quoted-printable</code>.</p>\n\n<p>See here: <a href=\"https://stackoverflow.com/questions/21574745/java-encode-string-in-quoted-printable\">Java: Encode String in quoted-printable</a></p>\n"},{"answer_id":28452795,"body":"<p>I don't know how you send attachments. If upload through tomcat server, It could cause by value of URIEncoding in conf/server.xml \n</p>\n"}],"last_activity_date":1684652595,"question_id":28452599,"body":"<p>I am trying to send mails that may contain UTF-8 characters in subject, message body and in the attachment file name.</p>\n\n<p>I am able to send UTF-8 characters as a part of Subject as well as Mesage body. However when I am sending an attachment having UTF-8 characters as a attachment file name, it is not displaying it correctly.</p>\n\n<p>So my question is how can I set attachement filename as UTF-8?</p>\n\n<p>Here is part of my code:</p>\n\n<pre><code>MimeBodyPart pdfPart = new MimeBodyPart();\npdfPart.setDataHandler(new DataHandler(ds));\npdfPart.setFileName(filename);\nmimeMultipart.addBodyPart(pdfPart);\n</code></pre>\n\n<p>Later edit: </p>\n\n<p>I replaced </p>\n\n<pre><code>pdfPart.setFileName(filename);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>pdfPart.setFileName(MimeUtility.encodeText(filename, \"UTF-8\", null));\n</code></pre>\n\n<p>and it is working perfectly. \nThanks all.</p>\n"},{"comments":[{"comment_id":134542716,"body":"Please post your code"},{"comment_id":134574565,"body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> required..."}],"answers":[{"comments":[{"comment_id":134546175,"body":"thank you so much for the help, it sadly didn&#39;t work but i&#39;ll try custom cell button action instead"},{"comment_id":134546208,"body":"@Winter, you&#39;re welcome, I&#39;m glad I could help.  There is also <code>fireTableDataChanged</code> and <code>fireTableStructureChanged</code>."},{"comment_id":134546221,"body":"@Winter, I updated my answer, I believe the <code>fireTableRowsInserted</code> parameters should both be <code>row</code>, rather than <code>row -1</code>."},{"comment_id":134548491,"body":"@Relias Thank you so much! The row finally deletes itself when I click the checkbox. I&#39;ll just have to make it so that the deleted row will appear on the tableFinishedTasks. Such a big help! ^^"},{"comment_id":134574534,"body":"<b>do not</b> call the fireXX methods from application code - those being public is a design accident, it&#39;s the model&#39;s own responsibility to notify about its changes. Instead use model methods to modify its state, and/or implement a custom model if the default doesn&#39;t cover your requirements"},{"comment_id":134574595,"body":"the OP seems to use DefaultTableModel which does fire the appropriate notifications on add/remove - so there&#39;s something wrong in their usage (not shown yet)"}],"answer_id":76297054,"body":"<p>It appears that you'll need to call the <code>DefaultTableModel</code> <code>fire</code> methods.<br />\nSpecifically, <code>fireTableRowsInserted</code> and <code>fireTableRowsDeleted</code>.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/table/AbstractTableModel.html\" rel=\"nofollow noreferrer\">AbstractTableModel - Java SE 20 JavaDoc</a></p>\n<p>So, within the <code>isChecked</code> code block, you can add the following.</p>\n<p>Keep in mind, I am not positive about the parameters.<br />\nThe JavaDoc says they are inclusive, so I believe it would be <code>row - 1</code> for each.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (isChecked) {\n    int firstRow = finishedTasksModel.getRowCount();\n    Object[] rowData = new Object[tasksModel.getColumnCount()];\n    for (int col = 0; col &lt; tasksModel.getColumnCount(); col++) {\n        rowData[col] = tasksModel.getValueAt(lastRowIndex, col);\n    }\n    finishedTasksModel.addRow(rowData);\n    tasksModel.removeRow(lastRowIndex);\n    int row = finishedTasksModel.getRowCount() - 1;\n    finishedTasksModel.fireTableRowsInserted(row, row);\n    row = tasksModel.getRowCount() - 1;\n    tasksModel.fireTableRowsDeleted(row - 1, row - 1);\n}\n</code></pre>\n"}],"last_activity_date":1684652490,"question_id":76296545,"body":"<p>I have a table and for the first column, I have a checkbox for each row. How can I make it so that once the checkbox is checked, all of the data that belongs to the same row as the checkbox is moved to another table(which is on another frame)?</p>\n<p>This is my first time here so I don't know if I'm doing this right but I'll be super grateful if anyone answers. Thank you.</p>\n<p>I tried using an ActionListener for the checkbox but it didn't work or maybe I just did not do it right. This is my first time trying to create a system as a self learner so please bear with me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void btnAddActionPerformed(java.awt.event.ActionEvent evt) {\n    if (txtTask.getText().equals(&quot;&quot;) || txtSubject.getText().equals(&quot;&quot;) || txtDeadline.getText().equals(&quot;&quot;)) {\n        JOptionPane.showMessageDialog(this, &quot;Enter all necessary data.&quot;);\n    } else {\n        String task = txtTask.getText();\n        String subject = txtSubject.getText();\n        String deadline = txtDeadline.getText();\n\n        DefaultTableModel model = (DefaultTableModel) tableTasks.getModel();\n        model.addRow(new Object[] { false, task, subject, deadline, false });\n\n        JOptionPane.showMessageDialog(this, &quot;New task has been added to the list . . . !&quot;);\n        txtTask.setText(&quot;&quot;);\n        txtSubject.setText(&quot;&quot;);\n        txtDeadline.setText(&quot;&quot;);\n\n        int lastRowIndex = model.getRowCount() - 1;\n        Boolean isChecked = (Boolean) model.getValueAt(lastRowIndex, 0);\n        if (isChecked) {\n            Object[] rowData = new Object[tasksModel.getColumnCount()];\n            for (int col = 0; col &lt; tasksModel.getColumnCount(); col++) {\n                rowData[col] = tasksModel.getValueAt(lastRowIndex, col);\n            }\n            finishedTasksModel.addRow(rowData);\n            tasksModel.removeRow(lastRowIndex);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134542056,"body":"You should use Gradle to manage the dependencies of the project, both libraries and sub projects. You should not need to have jar files inside the folders."},{"comment_id":134542104,"body":"@aled i have some core business logic which i don&#39;t want to creates as subproject that way in want to keep the jar files in one place"},{"comment_id":134542150,"body":"Then create a separate project and install the artifact in a repository, local or remote."},{"comment_id":134543046,"body":"You might want to learn about &quot;multi-module&quot; projects in Gradle (similar in Maven). Each module is like a separate project, producing an &quot;artifact&quot; such as a JAR file, but with coordinated builds of the sibling modules. One module is the parent, controlling the other modules’ build. Not to be confused with <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><i>Java Platform Module System</i></a>."}],"answers":[{"answer_id":76298675,"body":"<p>In root dir you should have <code>settings.gradle</code> which describes the following:</p>\n<pre><code>rootProject.name = 'gradle-example'\n</code></pre>\n<p>to add child modules with names <code>foo</code> and <code>bar</code>:</p>\n<pre><code>include 'foo', 'bar'\n</code></pre>\n"}],"last_activity_date":1684652462,"question_id":76296063,"body":"<p>I am very new to java. i want to setup Gradle project in such way so that all the project should refer to the internal folder for dependencies, and all project need to be in child-parent structure as below</p>\n<pre><code>root-folders\n    -main-project(root-project gradle)\n    -api(child-project)\n    -ui(child-project)\n    -cashflow(child-project)\n    -views(all html/css/js files)\n    -WEB-INF\n        -lib(all jar files)\n</code></pre>\n<p>Everything is in Quarkus framework</p>\n"},{"comments":[{"comment_id":133459816,"body":"Your question really doesn&#39;t have enough information to answer well, as is frequently the case with regex questions. Examples (especially just 1-2) are not enough information to write a good regex. We need to understand the underlying rules. For example, how do <b>you</b> know that the <code>04794</code> part of the second text isn&#39;t interesting? What makes the <code>-CEP</code> worth ignoring but not the <code>-58</code>? Could it also be <code>-ABC</code> or <code>-123</code>? All of these and more are likely necessary details to craft the correct regex for the use case."},{"comment_id":133462026,"body":"Hi Joachim,  I have a set of strings and from that i have to identify these string which are usually in numeric value but these values can also have some special characters.. as i said in my first example i can get that particular string with my existing regex... but as in my second example it has -CEP added to the string   its not able to split it properly.. to be specific i want to split anything added after my string and hypen e.g 123456-2323-ABC  so here i want only 123456-2323"},{"comment_id":133462647,"body":"Again, I ask for precision: you said you &quot;want to split anything added after my string and hypen&quot;, so by those rules you <b>also</b> want to split of <code>-2323</code>. You assume that I somehow know that &quot;anything&quot; doesn&#39;t include numbers or that &quot;my string&quot; is some numbers and/or dashes combined. Regex need precision and if your requirements are not precise, then they can&#39;t just &quot;magic&quot; a solution up for you."}],"answers":[{"answer_id":75648548,"body":"<pre><code>String text1 = &quot;TAX ID - CNPJ+22.111.539/0003-58, CONTACT NAME&quot;;\nString text2 = &quot;CNPJ:02886427000164-CEP:04794-000**&quot;;\n\nString regex = &quot;[\\r\\n +:,#-]+(?=(?:(?!CEP).)*$)&quot;;\n\nString[] parts1 = text1.split(regex);\nString[] parts2 = text2.split(regex);\n\nSystem.out.println(parts1[1]); // Output: 22.111.539/0003-58\nSystem.out.println(parts2[0]); // Output: 02886427000164\n</code></pre>\n<p>Using the following regex</p>\n<pre><code>[\\r\\n +:,#-]+(?=(?:(?!CEP).)*$)\n</code></pre>\n<p>we get two result, If we take second one then its your desire string</p>\n"},{"answer_id":76298643,"body":"<p>If you don't require splitting the data, and you are simply looking for those values, you can use the following.</p>\n<pre><code>CNPJ(?:\\+(.+),|:(.+?)-)\n</code></pre>\n<p>You can use the following method to get the number from the <code>String</code> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String cnpj(String string) {\n    Pattern pattern = Pattern.compile(&quot;CNPJ(?:\\\\+(.+),|:(.+?)-)&quot;);\n    Matcher matcher = pattern.matcher(string);\n    if (matcher.find()) {\n        if (matcher.group(1) != null) return matcher.group(1);\n        else if (matcher.group(2) != null) return matcher.group(2);\n    }\n    return null;\n}\n</code></pre>\n<p>Output, given the <code>String</code> values you provided.</p>\n<pre class=\"lang-none prettyprint-override\"><code>22.111.539/0003-58\n02886427000164\n</code></pre>\n<p>If the pattern requires more conformity, for whatever reason, you can use the following.</p>\n<pre><code>(\\d\\d\\.\\d{3}\\.\\d{3}/\\d{4}-\\d\\d)|(\\d{14})\n</code></pre>\n"}],"last_activity_date":1684652339,"question_id":75648494,"body":"<p>I want to split a string based on regular expression to identify a number</p>\n<p>e.g.</p>\n<pre class=\"lang-none prettyprint-override\"><code>TAX ID - CNPJ+22.111.539/0003-58, CONTACT NAME\n</code></pre>\n<p>from this text i want <code>22.111.539/0003-58</code>  so i have used the regex <code>[\\r\\n +:,#]</code>.</p>\n<p>This is working fine for me</p>\n<p>but i also have a text e.g.</p>\n<pre class=\"lang-none prettyprint-override\"><code>CNPJ:02886427000164-CEP:04794-000**\n</code></pre>\n<p>from which i want <code>02886427000164</code></p>\n<p>so how to split the text having -CEP in it..\nso that the regex split should work for both the text</p>\n"},{"comments":[{"comment_id":134559587,"body":"Does this <a href=\"https://beam.apache.org/documentation/io/built-in/google-bigquery/\" rel=\"nofollow noreferrer\">link</a> help you in resolving the issue?"},{"comment_id":134560194,"body":"@PrajnaRaiT : not really it didn&#39;t help as mentioned above I am getting error code 409. I had already gone through this link."}],"last_activity_date":1684652072,"question_id":76298656,"body":"<p>I am trying to insert data into BigQuery. The request is failing with error code 409. Below is the code.</p>\n<pre><code>BigQueryIO.writeTableRows()\n        .to((SerializableFunction&lt;ValueInSingleWindow&lt;TableRow&gt;, TableDestination&gt;)\n                this::getTableDestination)\n        .withMethod(BigQueryIO.Write.Method.FILE_LOADS)\n        .withTriggeringFrequency(Duration.standardMinutes(5))\n        .withNumFileShards(6)\n        .withExtendedErrorInfo()\n        .withCreateDisposition(BigQueryIO.Write.CreateDisposition.CREATE_NEVER)\n        .withWriteDisposition(BigQueryIO.Write.WriteDisposition.WRITE_APPEND));\n</code></pre>\n<p>Below is the error / exception I am getting:</p>\n<blockquote>\n<p>Request failed with code 409, performed 0 retries due to IOExceptions,\nperformed 0 retries due to unsuccessful status codes, HTTP framework\nsays request can be retried, (caller responsible for retrying)</p>\n<p>BigQuery job GenericData already exists, will not retry inserting it</p>\n</blockquote>\n<p>Please kindly help me resolve the error.\nThanks</p>\n"},{"answers":[{"answer_id":2730902,"body":"<p>Adding to the node only is not enough, the Tree needs to be notified. The correct way to do this is to let the model take care of adding/removing nodes, as it will notify correctly the Tree on the way.</p>\n<p>In case of a DefaultTreeModel (which should be the one used in the JTree if you haven't made your own TreeModel), you have the method <a href=\"https://docs.oracle.com/javase/6/docs/api/javax/swing/tree/DefaultTreeModel.html#insertNodeInto(javax.swing.tree.MutableTreeNode,%20javax.swing.tree.MutableTreeNode,%20int)\" rel=\"nofollow noreferrer\">insertNodeInto(MutableTreeNode newChild, MutableTreeNode parent, int index)</a>, which you can use.</p>\n"},{"answer_id":2731089,"body":"<p>Since Java use MVC to implement JTree component, your operation that add a node just change the model. Besides, you should notify representation of the tree some modifications have taken place. Try use fireTreeNodes*** methods of your tree model to notify the JTree object this kind of modification. Refer Java API for details. Good luck.</p>\n"},{"comments":[{"comment_id":2759803,"body":"Avoid duplicating answers, though, if you don&#39;t bring anything new."},{"comment_id":2760156,"body":"Buddy @Gnoupi - the down vote was uncalled for. We concurrently answered the question. I have seen in a few occasions that by the time I finish type my answer and post, a few new answers refresh. Suit yourself."},{"comment_id":2763892,"body":"you answered it half an hour later, with saying basically the same thing, that&#39;s not what I would call &quot;concurrently&quot;. Like I said already, avoid duplicating, as it ultimately brings clutter. If an answer is already stating what you have to say, you can simply not post yours, or delete if if already posted."}],"answer_id":2731152,"body":"<p>Are you using <code>DefaultTreeModel</code>?</p>\n\n<p>If so, when adding use <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/javax/swing/tree/DefaultTreeModel.html#insertNodeInto(javax.swing.tree.MutableTreeNode,%20javax.swing.tree.MutableTreeNode,%20int)\" rel=\"nofollow noreferrer\">insertNodeInto</a> API so that appropriate events are generated.</p>\n"},{"answer_id":3203587,"body":"<p>if you use DefaultTreeModel try to call its <code>reload()</code> method.</p>\n\n<pre><code>DefaultTreeModel model = (DefaultTreeModel) tree.getModel();\nmodel.reload();\n\n//or... model.reload(nodeUpdatedByYou);\n</code></pre>\n\n<p>Never use <code>tree.updateUI()</code> as this is a look and feel operation (although it works).</p>\n"},{"answer_id":4741482,"body":"<p>Actually, it is enough to reload the parent node. Internally,</p>\n\n<pre><code>public void reload()\n</code></pre>\n\n<p>is using </p>\n\n<pre><code>public void reload(TreeNode node)\n</code></pre>\n\n<p>but with root as its parameter, so, unless you are updating the direct root's leaf, you are better of using a more fine-grained version.</p>\n"}],"last_activity_date":1684651411,"question_id":2730851,"body":"<p>I use JTree with TreeNode which extending DefaultMutableTreeNode.when I add new node,i cant update JTree.Any help will be appreciated </p>\n"},{"comments":[{"comment_id":32868861,"body":"Related: <a href=\"http://stackoverflow.com/q/16859973/1065197\">stackoverflow.com/q/16859973/1065197</a>"},{"comment_id":32868868,"body":"Is <code>T</code> a type parameter for a generic type here? If so, you&#39;ll need a <code>Class&lt;T&gt;</code> somewhere due to type erasure."},{"comment_id":32868959,"body":"Google for &quot;java reflection API&quot;"},{"comment_id":32869452,"body":"Guys, T is not generics, T is USUAL class name :)"},{"comment_id":32869505,"body":"@AshotKarakhanyan we can&#39;t know that without confirmation from OP. If T was a usual class, <code>new T()</code> would have worked. (Assuming there is a default constructor)"},{"comment_id":32869692,"body":"T is a generic. Like Class&lt;T&gt;."},{"comment_id":32869963,"body":"OK, @PitaJ, so why just now you informed about it. It assumes that you are creating a class witaot name, just generic name only :)))"},{"comment_id":32870041,"body":"Also you have write &quot;Object of type T&quot; not &quot;Object of type F and with generic of type T&quot;, it is so dramatic :)"},{"comment_id":32882775,"body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1090458/instantiating-a-generic-class-in-java\">Instantiating a generic class in Java</a>"}],"answers":[{"comments":[{"comment_id":32869194,"body":"This will work assuming the class has a default constructor e.g. <code>class Foo { public Foo() {} }</code>."},{"comment_id":32869732,"body":"I&#39;m getting IllegalAccessException and InstantiationException now."},{"comment_id":32869785,"body":"But we don&#39;t need generics... :)"},{"comment_id":32869873,"body":"@AshotKarakhanyan By now OP has confirmed that <code>T</code> is a generic type parameter."},{"comment_id":32869920,"body":"@PitaJ does your class have a public default constructor? Also the class itself must be accessible (public)."}],"answer_id":21733995,"body":"<p>As Jon commented you explictly need the class due to <a href=\"http://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">type erasure</a>.</p>\n\n<p>E.g. if you have a generic method, you'll have to do it like this:</p>\n\n<pre><code>public void &lt;T&gt; myMethod(Class&lt;T&gt; clazz) {\n    T foo = clazz.newInstance();\n}\n</code></pre>\n\n<p>If it's a generic class it basically works the same. You just have to pass the class object to the metod or even to the constructor.</p>\n"},{"comments":[{"comment_id":32869821,"body":"of course same caveats as Andre&#39;s Answer.  You need a no-arg constructor."},{"comment_id":32869889,"body":"and of course it is in a generic class define like  public class Name&lt;E&gt;  or public class Name&lt;E extends Node&gt;"}],"answer_id":21734324,"body":"<p>You can also use the Prototype Pattern</p>\n\n<pre><code>public E makeNew(E template) throws IllegalAccessException,InstantiationException{\n    E newobject=(E)template.getClass().newInstance();\n    return newobject;\n}\n</code></pre>\n"},{"answer_id":21734404,"body":"<p>You can only create instances of known types. <code>T</code> is not something that comes with Java, but it is often used as an internal type parameter in a class that takes a type parameter (java generics). </p>\n\n<p>As an example, say that you are creating a type parameterized linked list, that is, a linked list that you can use with any one data type as contents. If you would want an instance of this class that could only contain <code>String</code>s, you would instantiate it like so:</p>\n\n<pre><code>MyLinkedList&lt;String&gt; list = new MyLinkedList&lt;String&gt;();\n</code></pre>\n\n<p>The definition of such a class needs a type parameter, that will represent whatever class it was instantiated with, and would look something like this:</p>\n\n<pre><code>class MyLinkedList&lt;T&gt; {\n    // implementation code\n} \n</code></pre>\n\n<p>Inside that class, you can create instances of type T, and you would do it with <code>T t = new T();</code>, just like you'd expect. T will however refer to some other class at runtime, since T is just a type parameter. </p>\n\n<p>That <code>T</code> type will however not be accessible outside the class. </p>\n\n<p>If you're not implementing a type parameterized class, you would have to create a class of type T in order to instantiate it, and make sure to include it into whatever scope you want to use it in. I wouldn't recommend doing that though, because it Isn't very descriptive. </p>\n"}],"last_activity_date":1684651350,"question_id":21733811,"body":"<p>I'm trying to make a new Object of type T.</p>\n\n<p>I tried:</p>\n\n<pre><code>T h = new T();\nT h = T.newInstance();\n</code></pre>\n\n<p>Those don't work. I also tried:</p>\n\n<pre><code>T h = (T)(new Object());\n</code></pre>\n\n<p>That works, but then <code>h.getClass().getName()</code> returns <code>java.lang.Object</code></p>\n\n<p>Is there any way to make a default object of this class without knowing the class name?</p>\n\n<p>EDIT (from comments):</p>\n\n<p><code>T</code> is a generic. Like <code>Class&lt;T&gt;</code>.</p>\n"},{"comments":[{"comment_id":134531077,"body":"Can you try updating one step at a time? My first step would be updating to java 11, without changing the library versions (if that&#39;s possible)"},{"comment_id":134531128,"body":"@S&#246;ren i cant, the project was updated to java 17 ( so there are quite a few places that uses java 17 stuff ), some time ago and im to migrate the distributed tests that havent been looked at for a while."},{"comment_id":134532055,"body":"So, right now your tests are broken? If that&#39;s so, your first order of business should be to get back to a green state. Remove or revert code (locally!) until you have a working codebase again."}],"answers":[{"comments":[{"comment_id":134531133,"body":"what are the options then  to make it work? Use 3rd serialization service? Or?"}],"answer_id":76289724,"body":"<p>If you are using <a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/serialization/\" rel=\"nofollow noreferrer\">Java Object Serialization</a> as implemented by <code>ObjectInputStream</code> and <code>ObjectOutputStream</code>, then there are no guarantees that serializations of Java SE classes and 3rd party classes (e.g. Spring classes) will be stable across different Java versions.</p>\n<p>This is one of the drawbacks of using Java Object Serialization.</p>\n<p>Will you be able to work around the problem?  It depends on the nature of the incompatibility.</p>\n<p>In this case, if you can ensure that the <code>applicationContext</code> field is always <code>null</code> when you serialize, then serialization and deserialization should both work.</p>\n<p>Other options are:</p>\n<ul>\n<li>use a modified version of <code>AbstractTestNGSpringContextTests</code> in which the <code>applicationContext</code> field is declared as <code>transient</code>, or</li>\n<li>use a different serialization scheme; e.g. JSON, XML, etc.</li>\n</ul>\n<p>Note: if you <em>need</em> to pass the <code>ApplicationContext</code> object to your jmeter service, solving this going to be difficult.  There are probably good reasons why the <code>ApplicationContext</code> interface and its implementation classes are not declared as <code>Serializable</code>.</p>\n"}],"last_activity_date":1684651292,"question_id":76289675,"body":"<p>I am migrating project from Java 8 to Java 17. In version 8, the project uses these libraries for serialization:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Spring version --&gt;\n&lt;spring.version&gt;5.2.16.RELEASE&lt;/spring.version&gt;\n&lt;spring.autoconfig.version&gt;2.6.3&lt;/spring.autoconfig.version&gt;\n&lt;!-- Jmeter version --&gt; \n&lt;jmeter.version&gt;5.4.1&lt;/jmeter.version&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.9.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.9.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.9.9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.9.9&lt;/version&gt;\n&lt;/dependency&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_core&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_java&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.jmeter&lt;/groupId&gt;\n        &lt;artifactId&gt;ApacheJMeter_http&lt;/artifactId&gt;\n        &lt;version&gt;${jmeter.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The codebase is using distributed tests in jmeter -&gt; it serializes the objects and send them to remote engines (jmeter).</p>\n<p>In Java 17, a new version of spring/jmeter is used (serialization libraries remain the same).</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;spring.boot.version&gt;3.0.2&lt;/spring.boot.version&gt;\n&lt;spring.version&gt;6.0.4&lt;/spring.version&gt;\n&lt;jmeter.version&gt;5.5&lt;/jmeter.version&gt;\n</code></pre>\n<p>The test extends <code>AbstractTestNGSpringContextTests</code> class from spring.</p>\n<p>In the Java 8 version, the class is serialized without problem, but in Java 17 the serialization fails on</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error in rconfigure() method java.rmi.MarshalException: error marshalling arguments; nested exception is: \n    java.io.NotSerializableException: org.springframework.context.support.GenericApplicationContext\n</code></pre>\n<p><code>AbstractTestNGSpringContextTests</code> has</p>\n<pre><code>@Nullable\nprotected ApplicationContext applicationContext;\n</code></pre>\n<p>field that is probably the reason why it fails, but for Java 8/spring 5.2.16 version it works. What caused this? Is there any workaround in new spring version?</p>\n"},{"comments":[{"comment_id":133475519,"body":"Hint: look at the <code>DiscountTicket</code> constructor. What do you do with <code>s</code>?"},{"comment_id":133475576,"body":"tgdavies I&#39;ve been working on this for hours man help me please."},{"comment_id":133475591,"body":"Give <code>DiscountTicket</code> a <code>type</code> field and assign <code>s</code> to it in the constructor. Then you can use it in your <code>toString</code> function."}],"answers":[{"answer_id":76298611,"body":"<p>You can utilize a <code>StringBuilder</code> and a <code>Formatter</code> for this task.</p>\n<p>Consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic String toString() {\n    StringBuilder string = new StringBuilder();\n    Formatter formatter = new Formatter(string);\n    formatter.format(&quot;Ticket: [ serial#: %d &quot;, number);\n    formatter.format(&quot;Price: %.0f &quot;, price);\n    formatter.format(&quot;Type: %s]&quot;, s);\n    formatter.flush();\n    return string.toString();\n}\n</code></pre>\n<p>Output, given the desired output you provided.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Ticket: [ serial#: 3 Price: 20 Type: Student]\nTicket: [ serial#: 4 Price: 15 Type: Senior]\n</code></pre>\n"}],"last_activity_date":1684651253,"question_id":75657838,"body":"<p>So, I'm working on a application that counts tickets using inheritance and class perimeters.\nThis is my code for the class that is challenging.</p>\n<pre><code>\n    // For formatting currency\n    DecimalFormat currencyF = new DecimalFormat(&quot;#.00&quot;);\n\n    // parameter constructor\n    public DiscountTicket(int days, String s) {\n        super(days);\n        {\n            super.daysInAdvance = days;\n            getPrice();\n        }\n    }\n\n    // override getPrice()\n    public double getPrice() {\n        if (super.daysInAdvance &gt;= 10) {\n            super.price = 15;\n        }\n        if (super.daysInAdvance &lt; 10 &amp;&amp; super.daysInAdvance &gt;= 1) {\n            super.price = 20;\n        }\n        return price;\n\n    }\n\n    public String toString() {\n    //return &quot;Ticket number: &quot; + number + &quot;, Price: $&quot; + currencyF.format(price) + String s);   \n    }\n}\n</code></pre>\n<p>I need help forming a toString that can execute this class:</p>\n<pre><code>public class TicketTest\n{\n    public static void main(String args[])\n    {\n        int total_sales = 0;\n\n            Ticket[] tickets = {\n                    new WebTicket(10),\n                    new WebTicket(5),\n                    new CounterTicket(),\n                    new DiscountTicket(5, &quot;Student&quot;),\n                    new DiscountTicket(10, &quot;Senior&quot;),\n            };\n\n            for(int i=0; i&lt;tickets.length; i++) {\n                    System.out.println( tickets[i] );\n            }\n\n            for(int i=0; i&lt;tickets.length; i++) {\n                total_sales += tickets[i].getPrice();\n            }  \n\n            System.out.println();\n            System.out.print(&quot;Total sales: &quot; + total_sales );\n    }\n</code></pre>\n<p>This toString should help produce the</p>\n<pre><code> new DiscountTicket(5, &quot;Student&quot;),\n new DiscountTicket(10, &quot;Senior&quot;),\n</code></pre>\n<p>What I really want to know is how to put the &quot;Student&quot; and &quot;Senior&quot; Strings in the DiscountTicket Class using the same variable in the Class's perimeters. It would really be helpful. Maybe I could use the 5 and 10 values to initialize the String values.</p>\n<p>My desired output is:</p>\n<p><strong>Ticket: [ serial#: 3 Price: 20 Type: Student]<br />\nTicket: [ serial#: 4 Price: 15 Type: Senior]</strong></p>\n"},{"answers":[{"comments":[{"comment_id":660002,"body":"I am using the database for storing some other data and it does add up to the application size. You can see it in Settings/Applications/Manage Applications."},{"comment_id":660422,"body":"The best method for you is caching the files using CacheManager. I updated my answer. Please look at my update."},{"comment_id":6841602,"body":"I disagree that CacheManager is the best solution, its use is deprecated. To quote from the docs: &quot;This class is deprecated. Access to the HTTP cache will be removed in a future release.&quot;"}],"answer_id":851737,"body":"<p>I think the best way is to use the database.</p>\n<ol>\n<li>It does not blow up the application and memory.</li>\n<li>The related database is deleted once the application is uninstalled.</li>\n<li>Nobody can reach to this files besides your application.</li>\n</ol>\n<p>Update: But; If you want to cache only the data, there is a cache manager defined in webkit. <a href=\"http://developer.android.com/reference/android/webkit/CacheManager.html\" rel=\"nofollow noreferrer\">CacheManager</a></p>\n<p>I didn't use the package before but the methods seem straight forward to use:</p>\n<pre><code>static boolean   cacheDisabled()\nstatic boolean   endCacheTransaction()\nstatic CacheManager.CacheResult  getCacheFile(String url, Map&lt;String, String&gt; headers)\nstatic File  getCacheFileBaseDir()\nstatic void  saveCacheFile(String url, CacheManager.CacheResult cacheRet)\nstatic boolean   startCacheTransaction()\n</code></pre>\n<p>and you can find the usage at <a href=\"https://www.google.com/codesearch/p?hl=en#nJHaZQ1IJ84/trunk/gears/localserver/android/HttpRequestAndroid.java&amp;q=lang:java%20android%20getCacheFile&amp;l=386\" rel=\"nofollow noreferrer\">Google Gears code</a></p>\n<p>I hope this helps.</p>\n"},{"answer_id":873761,"body":"<p>If you you don't want to use the CacheManager then use a database or a local (non-SD) file  (local files get deleted on a complete uninstall) and register to receive the 'ACTION_DEVICE_STORAGE_LOW' and 'ACTION_DEVICE_STORAGE_OK' broadcast actions.  Then you'll know when your application is taking up too much space according to the device and when you need to start deleting pictures.  Your application size will still grow, but you will be able to manage the growth and shrinkage.</p>\n"},{"answer_id":873780,"body":"<p>Just a tip - if you save them on the SD Card, they will be scanned by the MediaScanner and will appear in the users's Gallery (Photos), which you probably don't want. So you probably want to store them on the phone, or somehow tell MediaScanner not to scan them (apparently impossible after a quick Google search.)<br>\nProbably best to store a select few in your application's private directory, which will be removed when your application is uninstalled.</p>\n"},{"answer_id":2334034,"body":"<p>You can hide images from the MediaScanner if you <a href=\"http://groups.google.com/group/android-discuss/browse_thread/thread/cc0e81735392df8f/5a60a54ae9749d72\" rel=\"noreferrer\">put it in a hidden dir</a> (i.e., with a dot prefixed) such as <code>/sdcard/.donotscan/</code>.</p>\n\n<p>Update: As <a href=\"http://twitter.com/#!/romainguy/status/63828545704701952\" rel=\"noreferrer\">romainguy mentions on twitter</a> this also works if you put a file named <code>.nomedia</code> into the dir.</p>\n"},{"comments":[{"comment_id":12094312,"body":"great answer looking for such an idea since very long time."}],"answer_id":5937092,"body":"<p>Your best solution is to use:</p>\n\n<pre><code>context.getCacheDir()\n</code></pre>\n\n<p>This directory is private to the application and will be deleted on uninstall, furthermore the system can delete from this directory for you if the device is running short of space.</p>\n\n<p>Note though that the docs say:</p>\n\n<blockquote>\n  <p>you should not rely on the system\n  deleting these files for you; you\n  should always have a reasonable\n  maximum, such as 1 MB, for the amount\n  of space you consume with cache files,\n  and prune those files when exceeding\n  that space</p>\n</blockquote>\n\n<p>If you need a lot of space and would rather use the SD card you can call</p>\n\n<pre><code>getExternalCacheDir()\n</code></pre>\n\n<p>instead. These will also get removed on uninstall, but the system does not monitor the space available in external storage, so won't automatically delete these files if low on space. If using this option you should also check that external storage is available with</p>\n\n<pre><code>Environment.getExternalStorageState()\n</code></pre>\n\n<p>before attempting to write to it.</p>\n"}],"last_activity_date":1684650783,"question_id":847664,"body":"<p>My application uses quite a lot of pictures that are downloaded from the internet and cached locally on the Android phone. I am wondering, what is the correct way to save those pictures. There are several ways I see, that are not fully satisfying.</p>\n\n<p>Save them on SD Card in a public folder</p>\n\n<ul>\n<li>Uses up space that wont be freed on uninstall</li>\n<li>User can see pics in Gallery</li>\n<li>Needs a folder on the sdcard root (you can actually see it while browsing your phone)</li>\n</ul>\n\n<p>Save them on SD Card in a non-public folder</p>\n\n<ul>\n<li>Uses up space that wont be freed on uninstall</li>\n<li>Secretly uses space on the SD Card</li>\n</ul>\n\n<p>Save them inside the application</p>\n\n<ul>\n<li>Blows up application size far too much</li>\n</ul>\n\n<p>What is the correct way of locally saving the images of my application to not distract the user and leave no garbage anywhere?</p>\n"},{"comments":[{"comment_id":100233761,"body":"If you look at your code, you should see a little green arrow to the left of the method"},{"comment_id":100234214,"body":"Or you can right click the method name and select <code>run myMethodName()</code>."}],"answers":[{"answer_id":56840818,"body":"<p>Please place caret inside test method you want to launch and using right click context menu launch single test. </p>\n"},{"comments":[{"comment_id":113421632,"body":"could you please tell me how to debug a particular junit test in Intellij. Earlier i used eclipse but I am unable to do so in intelij"},{"comment_id":113427514,"body":"You select the method, either in the editor or the structure view, right click and select &quot;debug&quot;. Also note that intellij has excellent help pages explaining such things."}],"answer_id":56840916,"body":"<p>Intellij runs the unit test in context of your selection!</p>\n\n<p>When you place the cursor on the class name, it will <em>run</em> the whole class. If you select a method name, only that method gets executed (upon turning to the menu or context menu). </p>\n\n<p>You can also select a package in the project view and get to corresponding behavior. </p>\n"},{"comments":[{"comment_id":106752920,"body":"Sadly, this is broken in IntelliJ 2019.3.3 (at least for Kotlin). Until you run <i>all</i> the tests in the test suite, you cannot run an individual test."},{"comment_id":106883549,"body":"Agree with John Kaster. You cannot run an individual test whether it is Java or Kotlin."}],"answer_id":56842091,"body":"<p>Open the class where the tests are located and check the part where inteliJ shows the the number of lines, at the beginning of each test method there is a green icon (looks like a play button) just hit that icon and the specific test method will be executed. </p>\n"},{"answer_id":76298591,"body":"<p>I fixed my issue by Uncheck the &quot;Delegate IDE build/run actions to Maven&quot;.\nI think this works for IntelliJ version higher( in my case is 2023.1.1)\nGo to Settings -&gt; Build, Execution, Deployment -&gt; Maven -&gt; Runner and Uncheck the &quot;Delegate IDE build/run actions to Maven&quot;.</p>\n<p>Hope it is useful!</p>\n<p><a href=\"https://i.stack.imgur.com/HBltJ.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"last_activity_date":1684650720,"question_id":56840798,"body":"<p>I am new in  IntelliJ IDEA and I want to execute a single Junit test as I do in Eclipse but I haven't seen this option</p>\n\n<p><a href=\"https://i.stack.imgur.com/dbPnF.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dbPnF.jpg\" alt=\"enter image description here\"></a></p>\n"},{"answers":[{"comments":[{"comment_id":134545067,"body":"But I cannot change the <code>Animal.class</code> structure unfortunalely. :("},{"comment_id":134545070,"body":"If someone is asking you to write unit tests for code, they need to allow you to refactor it for testability."}],"answer_id":76297872,"body":"<p>First, don't test the internal details of your class, test its behaviour. In your case I would rewrite animal like this:</p>\n<pre><code>class Animal {\n    int counter;\n    int Random random;\n    public Animal(Random random) {\n     this.random = random;\n    }\n\n    public void move() {\n        counter += getRandomNumber(1, 10);\n    }\n\n    // there must be some method which shows the effect of calling move()\n    public int getCounter() {\n         return counter;\n    }\n\n    private int getRandomNumber(int min, int max) {\n        return random.nextInt(min, max);\n    }\n}\n</code></pre>\n<p>Then your test becomes:</p>\n<pre><code>@Test\npublic void testMove() {\n    Random random = mock(Random.class);\n    when(random.nextInt(1, 10)).thenReturn(5);\n    Animal animal = new Animal(random);\n    animal.move();\n    assertEquals(5, animal.getCounter());\n}\n</code></pre>\n<p>Avoid calling <code>new</code> in classes which you wish to test.\nYou can keep <code>getRandomeNumber</code> as <code>static</code>, if you wish, and pass it the <code>Random</code> instance as a parameter, but I don't see any good reason to do that.</p>\n"},{"answer_id":76298590,"body":"<p>If you want to call a method that is calling your static mocks, you can do it simply in the try-block. As long as your static mock is present, it will be used for the calls.</p>\n<p>This means, your test could look like the following:</p>\n<pre><code>@Test\nvoid tryVerifyStaticMethod() {\n\n    try (MockedStatic&lt;Animal&gt; mockedStatic = mockStatic(Animal.class)) {\n\n        // Giving your static mock some behaviour if you want\n        mockedStatic.when(() -&gt; Animal.getRandomNumber(1, 10)).thenReturn(42);\n\n        // creating a new instance of animal\n        Animal animal = new Animal();\n\n        // calling the method under test\n        animal.move();\n\n        // asserting that the counter has changed\n        assertEquals(42, animal.counter);\n\n        // verifying the call of the random number method\n        mockedStatic.verify(() -&gt; Animal.getRandomNumber(1, 10), times(1));\n    }\n\n}\n</code></pre>\n<p>As long as you are calling <code>move()</code> inside the <code>try</code>, all the static calls to your <code>Animal</code> class will use the <code>mockedStatic</code> object and all of its behaviours. In this example case, I gave the behaviour to return <code>42</code> whenever <code>getRandomNumber</code> with <code>min</code> = 1 and <code>max</code> = 10 is called.</p>\n"}],"last_activity_date":1684650694,"question_id":76297839,"body":"<p>I have <code>Animal.class</code>:</p>\n<pre><code>class Animal {\n    int counter;\n    public void move() {\n        counter += getRandomNumber(1, 10);\n    }\n\n    public static int getRandomNumber(int min, int max) {\n        return new Random().nextInt(min, max);\n    }\n}\n</code></pre>\n<p>I use <code>Mockito 5.2.0</code>.</p>\n<p>Tried verify <code>getRandomNumber</code> method with <code>mockedStatic</code> interface:</p>\n<pre><code>@Test\nvoid tryVerifyStaticMethod() {\n    try (MockedStatic&lt;Animal&gt; mockedStatic = mockStatic(Animal.class)) {\n        mockedStatic.verify(() -&gt; Animal.getRandomNumber(1, 10), times(1));\n    }\n}\n</code></pre>\n<p>But I don't know how call non-static <code>move()</code> method in the test for invoking <code>getRandomNumber</code> method.</p>\n"},{"comments":[{"comment_id":133508306,"body":"Please don&#39;t post images of code, errors, logs, or other text; see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. I want to copy &amp; paste your code to give it a try. I am certainly not retyping it."},{"comment_id":133508313,"body":"What are the different methods you found - list them here, maybe as <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Show what you&#39;ve tried, with code, error output or unexpected console output."},{"comment_id":133508539,"body":"<code>String[] test = {&quot;aaaabbbb&quot;};</code>  Why is this even an array?  This is currently simply an array with a single value, it could easily just be <code>String test = &quot;aaaabbbb&quot;</code>"},{"comment_id":133508612,"body":"without digging deeper in the code, I can already see 2 huge problems: outer loop should be <code>for(int z=0; z&lt;test.length; z++)</code> and the inner loop should be <code>for(int i=0; i&lt;test[z].length() - 1; i++)</code>"},{"comment_id":133508643,"body":"First fix your for loops so you won&#39;t get out of bounds errors. The outer loop, with <code>z</code>, should be <code>z &lt; test.length</code>. The inner loop, with <code>i</code>, should be <code>i&lt; test[z].length()-1</code> since you are accessing the character to the right of the current position. Then you need to assign the return value of <code>String.replace()</code> back to your original array position with <code>test[z] = test[z].replace(test[z].charAt(i+1), c);</code>. But the bigger problem is that replace is going to change ALL OCCURRENCES of that char to the replacement value. If you only want to replace that position then use a different approach."},{"comment_id":133508728,"body":"<b>Strings are immutable</b> in Java.  You can reassign different Strings to String variables, but each String object itself can never be changed.  The <code>replace</code> method of String does not change the String, because Strings cannot be changed.  The method creates a new String value and returns it.  It’s up to you to make use of that returned value."},{"comment_id":133509934,"body":"Could use a queue and a stack."},{"comment_id":134370522,"body":"For the input <code>&quot;aaaabbbb&quot;</code>, what is the expected output? Can you provide more examples too?"}],"answers":[{"answer_id":75686374,"body":"<pre><code>public class Main  {\n\n   public static void main(String[] args) {\n\n        String test = &quot;aaaabbbb&quot;;\n        char c = 'z';\n        \n        char[] chars = test.toCharArray();\n\n        for(int i = 0; i &lt; chars.length -1 ;i++){\n\n            if(chars[i] == chars[i+1] ){\n\n                chars[i+1] = c;\n            }\n        }\n\n        String output = new String( chars );\n\n        System.out.println( output );\n    }    \n}\n</code></pre>\n"},{"answer_id":76196408,"body":"<p>The simplest approach that works with any doubled character (except z) is to use <a href=\"https://en.wikipedia.org/wiki/Regular_expression\" rel=\"nofollow noreferrer\">regex</a>:</p>\n<pre><code>str = str.replaceAll(&quot;(.)\\\\1&quot;, &quot;$1z&quot;);\n</code></pre>\n<hr />\n<p>Because your question says to replace with &quot;z&quot;, dealing with doubled z's is not required.</p>\n"},{"answer_id":76298579,"body":"<p>You can use the <code>String.replaceAll</code> method, which utilizes a regular expression pattern as it's first parameter.<br />\nYou can use it to capture all characters which are immediately followed by another occurrence.</p>\n<p>The following method will allow you to set the replacement character, as the <code>character</code> parameter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String replace(String string, char character) {\n    return string.replaceAll(&quot;(.)\\\\1&quot;, &quot;$1&quot; + character);\n}\n</code></pre>\n<p>Output for <code>replace(&quot;aaaabbbb&quot;, 'z')</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>azazbzbz\n</code></pre>\n"}],"last_activity_date":1684650472,"question_id":75677337,"body":"<p>So this could be easy and I may be just over looking it, but I have a string array. I don't want two identical characters next to each other. I want to replace the second &quot;a&quot; with this case a &quot;z&quot; or any other character just not an &quot;a&quot; but I'm struggling to do it. Any advice?</p>\n<p>I tried multiple different ways and looked up different methods on Google and I'm just stuck. I've tried <code>replace</code>, I've tried converting an integer into a <code>char</code> and replacing, I've tried just using an <code>=</code> (a <code>char</code>) but it didn't like that since <code>i+1</code> was an integer. I tried converting to a char array, changing the char then putting it back.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String[] test = {&quot;aaaabbbb&quot;};\n        int totalChange;\n        int[] changes = {test.length};\n        char c = 'z';\n\n        for(int z = 0; z &lt;= test.length;z++)\n        {\n            for(int i = 0; i&lt;= test[z].length();i++)\n            {\n                //System.out.println(test[z].charAt(i));\n                if(test[z].charAt(i) == test[z].charAt(i+1))\n                {\n                    System.out.println(test[z].charAt(i+1));\n                    test[z].replace(test[z].charAt(i+1), c);\n                    System.out.println(test[z].charAt(i+1));\n                }\n            }\n        }    \n    }\n}\n</code></pre>\n"},{"comments":[{"comment_id":133574595,"body":"The updated value of <code>int initial</code> will not stick to that updated in <code>getNumber</code>. I suggest that you debug your code."},{"comment_id":133574612,"body":"you should probably break out of the while loop after successfully getting a number"}],"answers":[{"comments":[{"comment_id":133588632,"body":"i tried the code and it works, but was wondering how return 0 works"},{"comment_id":133593590,"body":"wrote code in main method. insted of that you can write your own method and return some thing based on that handel. main method return type was void because of that just I wrote return statement."}],"answer_id":75718311,"body":"<p>public class Delemeter {</p>\n<pre><code>public static void main(String[] args) {\n\n    String rle = &quot;^5!^4@^8$&quot;;\n    char delimiter = '^';\n    String newRLE = &quot;&quot;;\n    int starting = 0;\n\n    while (starting &lt; rle.length()) {\n        char character = rle.charAt(starting);\n        if (character == delimiter) {\n            starting++;\n            int number = getNumber(rle, starting);\n            if(number ==0 ) return;\n            starting++;\n            char symbol = rle.charAt(starting);\n            int count = 0;\n            while (count &lt; number) {\n                newRLE += symbol;\n                count++;\n            }\n            starting ++;\n        } else {\n            newRLE += character;\n            starting++;\n        }\n    }\n    System.out.println(newRLE);\n}\n\nprivate static int getNumber(String rle, int initial) {\n    if (Character.isDigit(rle.charAt(initial))) {\n        return Integer.parseInt(String.valueOf(rle.charAt(initial)));\n    }\n    return 0;\n}}\n</code></pre>\n"},{"answer_id":76298530,"body":"<p>For run-length encoding, consider the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String repetition(String rle, char delimiter) {\n    StringBuilder string = new StringBuilder();\n    String[] strings = rle.split(Pattern.quote(String.valueOf(delimiter)));\n    int length;\n    char character;\n    for (String value : strings) {\n        if (value.isEmpty()) continue;\n        length = Integer.parseInt(value.substring(0, value.length() - 1));\n        character = value.charAt(value.length() - 1);\n        string.append(String.valueOf(character).repeat(length));\n    }\n    return string.toString();\n}\n</code></pre>\n<ul>\n<li>Split <code>rle</code> into an array of <code>String</code>, using <code>delimiter</code> as the regular expression pattern.<br />\nUse the <code>Pattern.quote</code> to avoid collision with a regular expression character.</li>\n<li>Loop through <code>strings</code>, skipping over any empty values.</li>\n<li>Assign the <code>length</code> and <code>character</code> variables.</li>\n<li>Use <code>String.repeat</code> to generate a sequence of <code>character</code>.</li>\n<li>Append the value to the <code>StringBuilder</code>.</li>\n</ul>\n<p>Output for <code>^5!^4@</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>!!!!!@@@@\n</code></pre>\n"}],"last_activity_date":1684649570,"question_id":75718173,"body":"<p>i am unable to print out my rle coding properly when inputting multiple delimiters, single delimiter work,</p>\n<p>when i do ^5!^4@, it does ^^^^^^^^^^^^4@, something like that, what i want would be !!!!!@@@@</p>\n<pre><code>private static int getNumber(String rle, int initial)\n{\n    int sum = 0;\n    while (initial &lt; rle.length())\n    { \n    if (Character.isDigit(rle.charAt(initial)))\n        {\n        sum = sum * 10 + Integer.parseInt(String.valueOf(rle.charAt(initial))); \n        initial++;\n        }\n        else\n        {\n            initial++;\n        }\n    }\n    return sum;\n}\n   \n\n\nprivate static String repetition(String rle, char delimiter)\n{\n    String newRLE = &quot;&quot;;\n    int starting = 0;\n\n    while (starting &lt; rle.length())\n    {\n        char character = rle.charAt(starting);\n        if (character == delimiter)\n        {\n            starting++;\n            int sum = getNumber(rle, starting);\n            char symbol = rle.charAt(starting + String.valueOf(sum).length());\n            int count = 0;\n            while (count &lt; sum) \n            {\n                newRLE += symbol;\n                count++;\n            }\n            starting += String.valueOf(sum).length() + 1;\n        }\n        else \n        {\n            newRLE += character; \n            starting++;\n        }\n    }\n    return newRLE;\n}\n</code></pre>\n"},{"comments":[{"comment_id":134545975,"body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a> --- Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"},{"comment_id":134548129,"body":"Your question suggests that you&#39;re just now learning the most basic concepts of Java programming. Since this site is not geared to work in place of an introduction to programming website, does not do your homework for you, and since it is best to get this information from tutorials, you will probably want to start there. You can find links to great Java tutorials and other language resources in the <a href=\"https://stackoverflow.com/tags/java/info\">java info</a> section of the <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag. Start here: <a href=\"https://docs.oracle.com/javase/tutorial/tutorialLearningPaths.html\" rel=\"nofollow noreferrer\">The Java™ Tutorials</a>"}],"last_activity_date":1684648445,"question_id":76298436,"body":"<p><a href=\"https://i.stack.imgur.com/uqXVS.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\nI am tring to make it for a mounth but ı cant. Can you help me please. I cant do anything.</p>\n"},{"comments":[{"comment_id":134545728,"body":"An array has a fixed size which you assign when you declare the array. Assuming each line of the CSV file represents an array element, then the number of lines in the CSV file is the size of the array. Do you know how many lines are in the file (before you read it)? Can you use a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\">List</a> rather than an array? By the way, I suggest you use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>."},{"comment_id":134545736,"body":"Did you try entering <b>[java] csv array</b> in the search box at the top of this webpage?"},{"comment_id":134545860,"body":"@Abra Unfortunately since we have not learnt List in the course yet, we are not allowed to use it."},{"comment_id":134546940,"body":"You&#39;ll be doing yourself a favour to give <code>Project</code> the method <code>public static Project fromCsv(String line, String separatorPattern)</code> You can then use that in various contexts to get an instance from a csv line"},{"comment_id":134547485,"body":"powershell has a built-in tool called Import-Csv that does this.  You can read about it <a href=\"https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.utility/import-csv?view=powershell-7.3\" rel=\"nofollow noreferrer\">Here</a>. Other scrpting languages may have such a tool.   If you are forced to code your own tool in Java,  using an existing tool as a guide may help you with the design."}],"answers":[{"answer_id":76298465,"body":"<p>You first need to count the lines in the file. Then you know what size array you require. You then need to read the file again in order to populate the array. Below is the code for class <code>Assignment</code>. I did not change the code for class <code>Project</code>.</p>\n<p>Method <code>countLines</code> counts the number of lines in the file. Method <code>processFile</code> populates the array <code>projects</code> by calling method <code>processLine</code> for each line of the file. Note that method <code>processFile</code> does not process the first line of the file since that line contains headers and not data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class Assignment {\n    private static int countFileLines(Path path) throws IOException {\n        try (BufferedReader br = Files.newBufferedReader(path)) {\n            int count = 0;\n            String line = br.readLine();\n            while (line != null) {\n                count++;\n                line = br.readLine();\n            }\n            return count;\n        }\n    }\n\n    private static void processFile(Path path, Project[] projects) throws IOException {\n        try (BufferedReader br = Files.newBufferedReader(path)) {\n            String line = br.readLine();\n            boolean first = true;\n            int index = 0;\n            while (line != null) {\n                if (first) {\n                    first = false;\n                }\n                else {\n                    projects[index++] = processLine(line);\n                }\n                line = br.readLine();\n            }\n        }\n    }\n\n    private static Project processLine(String csvRow) {\n        String[] fields = csvRow.split(&quot;,&quot;);\n        Project project = null;\n        if (fields.length == 7) {\n            project = new Project(fields[0], // province\n                                  fields[1], // beneficiary\n                                  Integer.parseInt(fields[2]), // beneficiary num\n                                  fields[3], // assets class\n                                  fields[4], // name\n                                  fields[5], // stage\n                                  Double.parseDouble(fields[6])); // location\n        }\n        return project;\n    }\n\n    public static void main(String[] args) {\n        try {\n            Path path = Paths.get(&quot;datafile.csv&quot;);\n            int count = countFileLines(path);\n            Project[] projects = new Project[count];\n            processFile(path, projects);\n        }\n        catch (IOException xIo) {\n            xIo.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684647998,"question_id":76298284,"body":"<p>How to load CSV data into an array of objects?</p>\n<p>I've been trying to figure this out for ages now, and I'm really stuck. For context, I'm a first year uni student, and in my assignment, I have to use CSV data to generate statistics, and print it back to the user. In the assignment specifications, it says I have to load data from the file into an array of Project objects (&quot;Project&quot; is one of my classes). I've got to be honest, I don't really know what this means.</p>\n<p>So pretty much, the CSV file comprises of data relating to projects in a country. I've got class fields for the &quot;Project&quot; object such as beneficiary, stage (e.g. ongoing, completed), and location. One of my tasks for the assignment is to generate statistics for a given province.</p>\n<p>I don't really know how I can load the CSV data into an array of objects. I've looked up tutorials online, so I know how to create arrays and everything; I just don't know how I'm supposed to load CSV data into it, and then collect it and print it back to the user. I've collected code from the lecture slides, but all I know what to do with that is simply read all the data in the file and print it back to the user. So I've got that down, I just need to work on loading the data into an array of objects, and generate statistics for a given province.</p>\n<p>Here is some sample data:</p>\n<pre class=\"lang-none prettyprint-override\"><code>PROV_TERR_EN,BENEFICIARY_NAME_EN,BENEFICIARY_BAND_NBR,ASSET_CLASS_EN,PROJECT_NAME_EN,PROJECT_DESC_EN,PROJECT_STAGE_EN,LATITUDE,LONGITUDE,COORD_SYS\n\nSaskatchewan,All Nations Healing Hospital,9999,Health,Design and construction of a new community health facility.,Design and construction of a new community health facility.,Completed,50.761877,-103.787043,GCS_North_American_1983_CSRS\n\nQuebec,First Nations of Quebec and Labrador Sustainable Development Institute,9999,Energy sustainability and connectivity,Comprehensive Community Planning,Comprehensive community \n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.io.*;\n\npublic class Assignment {\n    \n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        \n        int menuSelection;\n        String region = null; \n        String path = &quot;file_path&quot;; // omitted for privacy\n        \n        readFile(path);\n        \n\npublic static void readFile(String pFileName) { // Code from lecture slides; all I know how to do is print out all the data\n    FileInputStream fileStream = null;\n    InputStreamReader rdr;\n    BufferedReader bufRdr;\n    int lineNum;\n    String line;\n    try {\n        fileStream = new FileInputStream(pFileName);\n        rdr        = new InputStreamReader(fileStream);\n        bufRdr     = new BufferedReader(rdr);\n        lineNum    = 0;\n        line       = bufRdr.readLine();\n        String[] projectArray = new String[7];\n        while(line != null) {\n            lineNum++;\n            processLine(line);\n//            System.out.println(line);\n            line = bufRdr.readLine();\n                       \n        }\n            fileStream.close();\n    }\n    catch(IOException errorDetails) {\n        if(fileStream != null) {\n            try {\n                fileStream.close();\n            }\n            catch(IOException ex2) { \n            }\n        }\n        System.out.println(&quot;Error in fileProcessing: &quot; + errorDetails.getMessage());\n    }\n}\n\nprivate static void processLine(String csvRow) {\n    String[] splitLine;\n    splitLine = csvRow.split(&quot;,&quot;);\n    int lineLength = splitLine.length;\n    \n    for(int i = 0; i &lt; lineLength; i++) {\n        System.out.println(splitLine[i] + &quot; &quot;);\n    }\n    System.out.println(&quot;&quot;);\n}\n\n\n}\n</code></pre>\n<pre><code>public class Project { // This is my Project class\n    // Class Fields\n    private String province;\n    private String beneficiary;\n    private int beneficiaryNum;\n    private String assetClass;\n    private String name;\n    private String stage;\n    private double location;\n    \n    // With Parameters Constructor\n    public Project(String pProvince, String pBeneficiary, int pBeneficiaryNum, String pAssetClass, String pName, String pStage, double pLocation) {\n        province = pProvince;\n        beneficiary = pBeneficiary;\n        beneficiaryNum = pBeneficiaryNum;\n        assetClass = pAssetClass;\n        name = pName;\n        stage = pStage;\n        location = pLocation;\n    }\n    \n    // Copy Constructor\n    public Project(Project pProject) {\n        province = pProject.getProvince();\n        beneficiary = pProject.getBeneficiary();\n        beneficiaryNum = pProject.getBeneficiaryNum();\n        assetClass = pProject.getAssetClass();\n        name = pProject.getName();\n        stage = pProject.getStage();\n        location = pProject.getLocation();\n    }\n    \n    // Default Constructor\n    public Project() {\n        province = &quot;Province&quot;;\n        beneficiary = &quot;Beneficiary&quot;;\n        beneficiaryNum = 12345678;\n        assetClass = &quot;Class&quot;;\n        name = &quot;Name&quot;;\n        stage = &quot;Stage&quot;;\n        location = 00.00;\n    }\n    \n    // Accessor Methods\n    public String getProvince() {\n        return province;\n    }\n    \n    public String getBeneficiary() {\n        return beneficiary;\n    }\n    \n    public int getBeneficiaryNum() {\n        return beneficiaryNum;\n    }\n    \n    public String getAssetClass() {\n        return assetClass;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public String getStage() {\n        return stage;\n    }\n    \n    public double getLocation() {\n        return location;\n    }\n    \n    // Mutator Methods\n    public void setProvince(String pProvince) {\n        province = pProvince;\n    }\n    \n    public void setBeneficiary(String pBeneficiary) {\n        beneficiary = pBeneficiary;\n    }\n    \n    public void setBeneficiaryNum(int pBeneficiaryNum) {\n        beneficiaryNum = pBeneficiaryNum;\n    }\n    \n    public void setAssetClass(String pAssetClass) {\n        assetClass = pAssetClass;\n    }\n    \n    public void setName(String pName) {\n        name = pName;\n    }\n    \n    public void setStage(String pStage) {\n        stage = pStage;\n    }\n    \n    public void setLocation(double pLocation) {\n        location = pLocation;\n    }\n    \n    \n    \n    \n    \n}\n\n</code></pre>\n"},{"comments":[{"comment_id":134546082,"body":"Without a spec about what kind of date format it wants, or the java code that parses it, I&#39;m not sure this is an answerable question."},{"comment_id":134546413,"body":"Use <code>LocalDateTime.parse</code>. The old date formatters won&#39;t handle that literal T unless you specifically make them do so."},{"comment_id":134548013,"body":"Share an example of a date."},{"comment_id":134548728,"body":"@aled - We already have an example: see the exception message!!"},{"comment_id":134548747,"body":"Ahsan - Java can easily parse that date.  But you haven&#39;t shown us the code you are using to parse it (or the complete stacktrace!) so I don&#39;t think we can help you."},{"comment_id":134549212,"body":"<code>LocalDateTime.parse( &quot;2023-05-21T05:31:26.525115&quot; )</code>"},{"comment_id":134549542,"body":"I searched for OCTT, but didn&#39;t readily find anything that looked relevant. It seems to me that you need to consult the documentation of your simulator."}],"last_activity_date":1684647634,"question_id":76298449,"body":"<p>I am creating a server using python that returns my model-specific data. The APIs are being tested in Java based simulator called OCTT. There is no way we can modify the codes of the simulator. So, we have to send the date the way it wants. From the documentation, it says that I have to return the following schema</p>\n<pre><code>{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-04/schema#&quot;,\n    &quot;id&quot;: &quot;urn:OCPP:1.6:2019:12:BootNotificationResponse&quot;,\n    &quot;title&quot;: &quot;BootNotificationResponse&quot;,\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;status&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;additionalProperties&quot;: false,\n            &quot;enum&quot;: [\n                &quot;Accepted&quot;,\n                &quot;Pending&quot;,\n                &quot;Rejected&quot;\n            ]\n        },\n        &quot;currentTime&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;format&quot;: &quot;date-time&quot;\n        },\n        &quot;interval&quot;: {\n            &quot;type&quot;: &quot;integer&quot;\n        }\n    },\n    &quot;additionalProperties&quot;: false,\n    &quot;required&quot;: [\n        &quot;status&quot;,\n        &quot;currentTime&quot;,\n        &quot;interval&quot;\n    ]\n}\n\n</code></pre>\n<p>I am sending a date using the following code in Python</p>\n<pre><code>return call_result.BootNotificationPayload(\n                current_time=datetime.utcnow().isoformat(),\n                interval=10,\n                status=RegistrationStatus.accepted\n            )\n</code></pre>\n<p>But I am getting the following error</p>\n<pre><code>Caused by: java.text.ParseException: Unparseable date: &quot;2023-05-21T05:31:26.525115&quot;\n</code></pre>\n<p>I have noticed that the same code works in my windows machine. But I am facing the issue in my MacOS.</p>\n"},{"comments":[{"comment_id":133623698,"body":"<i>Now I have to generate a table from some specific columns of the exported tsv file using Java.</i> It might be a lot simpler to let the rdbms create the table and then just drop the columns you don&#39;t want"},{"comment_id":133623874,"body":"Nested delimiters in fields is tricky. If you&#39;re determined to parse the csv then use a proper API like OpenCsv"},{"comment_id":133624542,"body":"<code>String[] array = str.trim().replaceAll(&quot;[\\&quot;]&quot;, &quot;&quot;).split(&quot;\\t&quot;);</code>"},{"comment_id":133624937,"body":"Please correct your string and your expected output to make your question totally clear."},{"comment_id":133625073,"body":"Also, don&#39;t try to use the split method with a pattern that describes the delimiter, but use the <code>matches</code> method with a pattern that describes the values."},{"comment_id":133626193,"body":"Further to @CasimiretHippolyte&#39;s  suggestion it appears you can simply match <code>[^\\&quot;\\t]+</code>. <a href=\"https://regex101.com/r/NVWZ2M/1\" rel=\"nofollow noreferrer\">Demo</a> (Hello, Cas.)"},{"comment_id":133626402,"body":"@CarySwoveland: Hi Cary. If you do that, you can&#39;t obtain values enclosed between quotes or that contain tabulations: I wrote that: <a href=\"https://regex101.com/r/ftMHxT/1\" rel=\"nofollow noreferrer\">regex101.com/r/ftMHxT/1</a> , but solving the problem using the dbms (if possible) as g00se suggest it, is probably more simple."},{"comment_id":133629502,"body":"@CasimiretHippolyte, thanks, I misread the desired result."}],"answers":[{"answer_id":76298435,"body":"<p>Instead of splitting, you can use a <code>Pattern</code> and <code>Matcher</code> to capture all the values which are immediately followed by a tab character, or the end of the sequence.</p>\n<p>The regular expression pattern is as follows.</p>\n<pre><code>([^\\t]*?)(?:\\t|$)\n</code></pre>\n<p>Here is a method which will return a <code>List</code> of <code>String</code> values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; split(String string) {\n    List&lt;String&gt; split = new ArrayList&lt;&gt;();\n    Pattern pattern = Pattern.compile(&quot;([^\\\\t]*?)(?:\\\\t|$)&quot;);\n    Matcher matcher = pattern.matcher(string);\n    StringBuilder builder = new StringBuilder();\n    String group;\n    while (matcher.find()) {\n        group = matcher.group(1);\n        if (group.startsWith(&quot;\\&quot;\\&quot;&quot;)) {\n            builder.append(group);\n            if (group.endsWith(&quot;\\&quot;\\&quot;&quot;)) {\n                split.add(builder.toString());\n                builder = new StringBuilder();\n            }\n        } else if (group.startsWith(&quot;\\&quot;&quot;) &amp;&amp; !group.endsWith(&quot;\\&quot;\\&quot;&quot;)) {\n            if (!builder.isEmpty()) builder.append('\\t').append(group);\n            else split.add(group);\n        } else if (group.endsWith(&quot;\\&quot;\\&quot;&quot;)) {\n            builder.append('\\t').append(group);\n            split.add(builder.toString());\n            builder = new StringBuilder();\n        } else\n            split.add(group);\n    }\n    return split;\n}\n</code></pre>\n<p>If I provide the <code>String</code> value you provided, I get the following output.<br />\nWhich, while is technically not what you provided as the expected output, it appears to be a valid result.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n&quot;2023-01-03, \npage_view, \n&quot;&quot;Java is a&quot;    &quot;Program Language&quot;&quot;, \n&quot;&quot;Windows 10&quot;&quot;, \n, \n, \n, \nandroid, \n&quot;&quot;My User&quot;&quot;, \n, \n, \n]\n</code></pre>\n"}],"last_activity_date":1684647336,"question_id":75747318,"body":"<p>A database table has been exported as a .tsv file format. Now I have to generate a table from some specific columns of the exported tsv file using Java. In normal cases, I can separate each column by line.split(&quot;\\t&quot;) method. The parsing logic is a little bit complicated. A field data may have a tab(\\t). In that case, the field starts with &quot;&quot;some text and inner double quotations (&quot;) then the field tab(\\t) and then there are other double quotations (&quot;) to start the new text. And the text ends with &quot;&quot;. For example,\n<code>&quot;&quot;Java is a&quot;    &quot;Program Language&quot;&quot;</code>. I my case I have to consider this as a single field value. <br>\n<strong>Whatever, I'm ading a demo data and my expeted result here</strong></p>\n<p>So, currently getting this type of string from the tsv file line.</p>\n<pre><code>String str = &quot;\\&quot;2023-01-03&quot; +\n                &quot;\\tpage_view&quot; +\n                &quot;\\t&quot; +\n                &quot;\\&quot;\\&quot;Java is a\\&quot;\\t\\&quot;Program Language\\&quot;\\&quot;&quot; +\n                &quot;\\t\\&quot;\\&quot;Windows 10\\&quot;\\&quot;&quot; +\n                &quot;\\t&quot; +\n                &quot;\\t&quot; +\n                &quot;\\t&quot; +\n                &quot;\\tandroid&quot; +\n                &quot;\\t&quot; +\n                &quot;\\&quot;\\&quot;My User\\&quot;\\&quot;&quot; +\n                &quot;\\t&quot; +\n                &quot;\\t&quot; +\n                &quot;\\t&quot;;\n</code></pre>\n<p><strong>And my expected should be like bellow list</strong><br></p>\n<pre><code>[2023-01-03,\npage_view,\n,\nJava is a  Program Language,\n,\n,\n,\nWindows 10,\nandroid,\nMy User\n]\n</code></pre>\n<p>I facing difficulty to write the regex. Kindly help me to write the regex.</p>\n"},{"comments":[{"comment_id":126980713,"body":"Why did you reach the conclusion that HTTPS is the cause? Also, see SO with similar issue: <a href=\"https://stackoverflow.com/questions/70906081/springboot-swagger3-failed-to-load-remote-configuration\" title=\"springboot swagger3 failed to load remote configuration\">stackoverflow.com/questions/70906081/&hellip;</a>"},{"comment_id":126981594,"body":"@johnnyaug, thank you for your reply.  I had actually read that post before I posted my question.  I tried the suggestions in it (e.g. same as Mohamed&#39;s answer below), to no avail."}],"answers":[{"comments":[{"comment_id":126981494,"body":"Hi @Mohamed, thank you for your suggestion.  I tried this, and unfortunately it has made no difference."}],"answer_id":71858153,"body":"<p>Try to add this as well to your security config class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n   web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;);\n}\n</code></pre>\n"},{"comments":[{"comment_id":126984357,"body":"thank you for your reply.  That makes sense, but I thought the <code>application.properties</code> requires key value pairs. e.g. <code>abc=wyz</code>.  I am not sure how to add the above to <code>application.properties</code>?"},{"comment_id":126984457,"body":"i  wil try: <code>springdoc.swagger-ui.config-url=&#47;pow-wow&#47;v3&#47;api-docs&#47;swagger&zwnj;&#8203;-config springdoc.swagger-ui.url=&#47;v3&#47;api-docs</code>"}],"answer_id":71859359,"body":"<p>You should try and add</p>\n<pre><code>springdoc:\n  swagger-ui:\n    config-url: /pow-wow/v3/api-docs/swagger-config\n    url: /v3/api-docs\n</code></pre>\n<p>to your application.properties. In your provided example</p>\n<pre><code>https://mycompany.co/pow-wow/v3/api-docs/swagger-config\n</code></pre>\n<p>it shows that you have &quot;/pow-wow/&quot; in your path. Swagger needs to know where to fetch its config.</p>\n"},{"answer_id":72541309,"body":"<p>If security config allow swagger, it's because of cashing, try it after clear browser cash or in browser <strong>incognito mode</strong>.</p>\n"},{"answer_id":74040162,"body":"<p>I had the same issue :</p>\n<ul>\n<li>with <code>mvn spring-boot:run</code> : OK</li>\n<li>on my local Tomcat server : OK</li>\n<li>on the Tomcat server of my organization : KO (Failed to load remote configuration)</li>\n</ul>\n<p>The cause was the reverse proxy of my organization that blocked the loop-back call of the application.</p>\n"},{"answer_id":75259346,"body":"<p>To those who are asking:</p>\n<p>I had the same issue and this video helped me check it out: <a href=\"https://www.youtube.com/watch?v=A_RWUcTqHBI\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=A_RWUcTqHBI</a></p>\n<p>Just simple step by step.</p>\n<p>Regarding my project to be on the same page:</p>\n<p>Spring Boot 3 + Spring Security.</p>\n<p>So I:</p>\n<ol>\n<li>Added &quot;/swagger-ui/<strong>&quot; and &quot;/v3/api-docs/</strong>&quot; as @Mohamed suggested to my SecurityFilterChain bean.</li>\n<li>Added springdoc-openapi-starter-webmvc-ui dependency in POM.</li>\n<li>Configurated SwaggerConfig as follow:</li>\n</ol>\n<pre><code>@Configuration\n@OpenAPIDefinition\npublic class SwaggerConfig {\n    \n    @Bean\n    public OpenAPI config() {\n        return new OpenAPI().info(\n                new Info()\n                        .title(&quot;&quot;)\n                        .version(&quot;&quot;)\n                        .description(&quot;&quot;)\n        );\n    }\n}\n</code></pre>\n<p>http://localhost:8080/swagger-ui/index.html#/</p>\n<p>And it worked smoothly!</p>\n"},{"answer_id":75305203,"body":"<p>Config that helped me:</p>\n<pre><code>springdoc:\n    swagger-ui:\n        configUrl: /your-service/v3/api-docs/swagger-config\n        url: /your-service/v3/api-docs\n</code></pre>\n<p>If you have problems with the try it out block (404 error, wrong url), then just use the @OpenAPIDefinition annotation. Kotlin example:</p>\n<pre><code>@SpringBootApplication\n@OpenAPIDefinition(\n    info = Info(title = &quot;Your Service API&quot;, version = &quot;1.0&quot;, description = &quot;Your service description&quot;),\n    servers = [Server(url = &quot;/your-service&quot;, description = &quot;Your Service&quot;)]\n)\n</code></pre>\n"},{"answer_id":76298417,"body":"<p>I was facing the same issue and managed to solve it.</p>\n<p>If you have configured your spring security with <code>.authorizeRequests().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll()</code> and still get this error then it means that the URL - <code>/swagger-ui/index.html#/</code> is accessible but the network calls that are made on that page are probably being blocked by spring security.\nCheck the network tab in the browser and make sure all the networks calls are permitted without authentication.</p>\n<p>Generally, <code>.authorizeRequests().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll()</code> is sufficient but in my case I had path prefix set to <code>api/v1</code> hence I modified my code to <code>.authorizeRequests().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/api/v1/v3/api-docs/**&quot;).permitAll()</code> to make it work.</p>\n"}],"last_activity_date":1684646926,"question_id":71857622,"body":"<p>I have a Java 11 Spring Boot 2.5.1 application.</p>\n<p><strong>Swagger works locally via http:</strong></p>\n<p>I have added Swagger, which works perfectly on my localhost:</p>\n<p>http://localhost:8085/swagger-ui/index.html#/</p>\n<p><a href=\"https://i.stack.imgur.com/FxMCv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FxMCv.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Swagger does not work remotely via https:</strong></p>\n<p>However, when I deploy it to a remote server, I get the following error:</p>\n<p><a href=\"https://mycompany.co/pow-wow/swagger-ui/index.html#/\" rel=\"noreferrer\">https://mycompany.co/pow-wow/swagger-ui/index.html#/</a></p>\n<p><a href=\"https://i.stack.imgur.com/3voBO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3voBO.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Error</strong></p>\n<blockquote>\n<p>Failed to load remote configuration.</p>\n</blockquote>\n<p>note: the remote server is accessed via https.</p>\n<p>The REST endpoints are accessible on the remote server.</p>\n<p>e.g. GET <a href=\"https://mycompany.co/pow-wow/powwow/test-me\" rel=\"noreferrer\">https://mycompany.co/pow-wow/powwow/test-me</a> returns a 200 as expected.</p>\n<p><strong>Question</strong></p>\n<p>How do I access the Swagger via the remote server?</p>\n<p><strong>Code</strong></p>\n<p><strong>pom.xml</strong></p>\n<pre><code>    &lt;!-- Swagger --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.7&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>WebSecurityConfig.java</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        //http.csrf().disable().authorizeRequests().antMatchers(&quot;/powwow/*&quot;).hasRole(&quot;USER&quot;).and().httpBasic();\n        //http.csrf().disable().authorizeRequests().antMatchers(&quot;/*&quot;).permitAll().and().httpBasic();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests().antMatchers(&quot;/soapWS/**&quot;).permitAll().and()\n                .authorizeRequests().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;).permitAll().and()\n                .authorizeRequests().antMatchers(&quot;/actuator/**&quot;).permitAll()\n                .anyRequest().authenticated().and()\n                .httpBasic().and()\n                .csrf().disable();\n    }\n}\n</code></pre>\n<p><strong>More info:</strong></p>\n<p>When looking at the network traffic in the browser when accessing Swagger.</p>\n<p>Locally, there  is a call to:</p>\n<p>http://localhost:8085/v3/api-docs/swagger-config</p>\n<p>returns:</p>\n<p><a href=\"https://i.stack.imgur.com/Nh2eW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Nh2eW.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>{&quot;configUrl&quot;:&quot;/v3/api-docs/swagger-config&quot;,&quot;oauth2RedirectUrl&quot;:&quot;http://localhost:8085/swagger-ui/oauth2-redirect.html&quot;,&quot;url&quot;:&quot;/v3/api-docs&quot;,&quot;validatorUrl&quot;:&quot;&quot;}\n</code></pre>\n<p>Remotely, there  is a call to:</p>\n<p><a href=\"https://mycompany.co/v3/api-docs/swagger-config\" rel=\"noreferrer\">https://mycompany.co/v3/api-docs/swagger-config</a></p>\n<p>which returns a <code>302</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/tTuVf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/tTuVf.png\" alt=\"enter image description here\" /></a></p>\n<p>But <a href=\"https://mycompany.co/pow-wow/v3/api-docs/swagger-config\" rel=\"noreferrer\">https://mycompany.co/pow-wow/v3/api-docs/swagger-config</a></p>\n<p>returns:</p>\n<pre><code>{&quot;configUrl&quot;:&quot;/v3/api-docs/swagger-config&quot;,&quot;oauth2RedirectUrl&quot;:&quot;http://localhost:8085/swagger-ui/oauth2-redirect.html&quot;,&quot;url&quot;:&quot;/v3/api-docs&quot;,&quot;validatorUrl&quot;:&quot;&quot;}\n</code></pre>\n<p>So this suggests the issue is related to the <code>/pow-wow</code> context path is missing in the call.</p>\n"},{"comments":[{"comment_id":134528678,"body":"it seems that there is a problem in this piece of code if(answer.equals(correctAnswer)){}"},{"comment_id":134528867,"body":"The app works. Its just that I dont know what to write to make the correct answer also light up along with the wrong answer"},{"comment_id":134538618,"body":"Please share your xml file so that we can figure out the layout and views."}],"answers":[{"answer_id":76293952,"body":"<p>You can create a model class for storing a question.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Question {\n    private String name;\n    private ArrayList&lt;String&gt; options;\n    private String correctAnswer;\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public ArrayList&lt;String&gt; getOptions() {\n        return options;\n    }\n    public void setOptions(ArrayList&lt;String&gt; options) {\n        this.options = options;\n    }\n    public String getCorrectAnswer() {\n        return correctAnswer;\n    }\n    public void setCorrectAnswer(String correctAnswer) {\n        this.correctAnswer = correctAnswer;\n    }\n}\n</code></pre>\n<p>And then in your generate questions method you should create a list of the model class instead of the list of strings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Question question = new Question();\n\nquestion.setName(&quot;What is the capital of France?&quot;);\nquestion.setOptions(new ArrayList&lt;&gt;(Arrays.asList(&quot;Paris&quot;, &quot;London&quot;, &quot;Berlin&quot;, &quot;Madrid&quot;)));\nquestion.setCorrectAnswer(&quot;Paris&quot;);\n\nArrayList&lt;Question&gt; questions = new ArrayList();\nquestions.add(question);\n\n</code></pre>\n<p>And you should keep track of the index of the current question displayed.</p>\n<p>int currentQuestion;\nIn the countdown timer you could increase the index to change the question displayed.</p>\n<p>And I can't see where the <strong>answerSelected</strong> is being called but you should modify it so that it can take in the index as a parameter as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n public void answerSelected(View view,int indexOfQuestionSelected) {\n\n//getting the current question by the index from the array list of questions.\n        Question questionAnswered = questions.get(indexOfQuestionAnswered);\n        String answer = ((Button) view).getText().toString().trim();\n        \n        btn1.setEnabled(false);\n        btn2.setEnabled(false);\n        btn3.setEnabled(false);\n        btn4.setEnabled(false);\n\n        if(answer.equals(questionAnswered.getCorrectAnswer)){\n            view.setBackgroundColor(Color.parseColor(&quot;#4CAF50&quot;));\n            points++;\n            tvPoints.setText(points + &quot; / &quot; + questions.size());\n            tvResult.setText(&quot;Doğru&quot;);\n\n        }else{\n\n           String option1 = btn1.getText().toString();\n           String option2 = btn2.getText().toString();\n           String option3 = btn3.getText().toString();\n           String option4 = btn4.getText().toString();\n          \n           if(option1.equals(questionAnswered.getCorrectAnswer()){\n\n                btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \n            }\n            if(option2.equals(questionAnswered.getCorrectAnswer()){\n                            \n              btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \n\n            }if(option3.equals(questionAnswered.getCorrectAnswer()){\n                            \n              btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \n\n            }if(option4.equals(questionAnswered.getCorrectAnswer()){\n                            \n              btn1.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;)); \n\n            }\n            tvResult.setText(&quot;Yanlış&quot;);\n \n        }\n        \n      }\n    \n</code></pre>\n"}],"last_activity_date":1684646760,"question_id":76288028,"body":"<p>I'm making a quiz game for Android and I have small problem. When the wrong answer is chosen, the chosen answer must become red and the correct answer must turn green. However, I can't do the last part. The wrong answer does turn red but I don't know how to make correct answer light up green.</p>\n<p>Here is my code:</p>\n<pre><code>import android.content.Intent;\nimport android.graphics.Color;\nimport android.os.Bundle;\nimport android.os.CountDownTimer;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.HashMap;\n\npublic class OyunBasladi extends AppCompatActivity {\n    TextView tvTimer;\n    TextView tvResult;\n    ImageView ivShowImage;\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n    ArrayList&lt;String&gt; techList = new ArrayList&lt;&gt;();\n    int index;\n    Button btn1, btn2, btn3, btn4;\n    TextView tvPoints;\n    int points;\n    CountDownTimer countDownTimer;\n    long millisUntilFinished;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_soru1);\n        tvTimer = findViewById(R.id.tvTimer);\n        tvResult = findViewById(R.id.tvResult);\n        ivShowImage = findViewById(R.id.ivShowImage);\n        btn1 = findViewById(R.id.btn1);\n        btn2 = findViewById(R.id.btn2);\n        btn3 = findViewById(R.id.btn3);\n        btn4 = findViewById(R.id.btn4);\n        tvPoints = findViewById(R.id.tvPoints);\n\n        index = 0;\n\n        techList.add(&quot;Çin&quot;);\n        techList.add(&quot;Türkiye&quot;);\n        techList.add(&quot;Rusya&quot;);\n        techList.add(&quot;D.Kongo Cumhuriyeti&quot;);\n        techList.add(&quot;Mısır&quot;);\n        techList.add(&quot;Kazakistan&quot;);\n        techList.add(&quot;St. Lucia&quot;);\n        techList.add(&quot;Trinidad ve Tobago&quot;);\n        techList.add(&quot;İsviçre&quot;);\n        techList.add(&quot;Lüksemburg&quot;);\n        techList.add(&quot;Tonga&quot;);\n        techList.add(&quot;Filipinler&quot;);\n        techList.add(&quot;Guyana&quot;);\n        techList.add(&quot;Guatemala&quot;);\n        techList.add(&quot;ABD&quot;);\n        techList.add(&quot;Kanada&quot;);\n        techList.add(&quot;Peru&quot;);\n        techList.add(&quot;Burundi&quot;);\n\n        map.put(techList.get(0), R.drawable.cin);\n        map.put(techList.get(1), R.drawable.turkiye);\n        map.put(techList.get(2), R.drawable.rusya);\n        map.put(techList.get(3), R.drawable.dkongocumhuriyeti);\n        map.put(techList.get(4), R.drawable.misir);\n        map.put(techList.get(5), R.drawable.kazakistan);\n        map.put(techList.get(6), R.drawable.stlucia);\n        map.put(techList.get(7), R.drawable.trinidadvetobago);\n        map.put(techList.get(8), R.drawable.isvicre);\n        map.put(techList.get(9), R.drawable.luksemburg);\n        map.put(techList.get(10), R.drawable.tonga);\n        map.put(techList.get(11), R.drawable.filipinler);\n        map.put(techList.get(12), R.drawable.guyana);\n        map.put(techList.get(13), R.drawable.guatemala);\n        map.put(techList.get(14), R.drawable.abd);\n        map.put(techList.get(15), R.drawable.kanada);\n        map.put(techList.get(16), R.drawable.peru);\n        map.put(techList.get(17), R.drawable.burundi);\n\n        Collections.shuffle(techList);\n\n        millisUntilFinished = 10000;\n\n        points = 0;\n\n        startGame();\n    }\n\n    private void startGame() {\n\n        millisUntilFinished = 10000;\n\n        tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\n        tvPoints.setText(points + &quot; / &quot; + techList.size());\n\n        generateQuestions(index);\n\n        countDownTimer = new CountDownTimer(millisUntilFinished, 1000) {\n            @Override\n            public void onTick(long millisUntilFinished) {\n                tvTimer.setText(&quot;&quot; + (millisUntilFinished / 1000) + &quot;s&quot;);\n            }\n\n            @Override\n            public void onFinish() {\n                index++;\n                if (index &gt; techList.size() - 1){\n                    ivShowImage.setVisibility(View.GONE);\n                    btn1.setVisibility(View.GONE);\n                    btn2.setVisibility(View.GONE);\n                    btn3.setVisibility(View.GONE);\n                    btn4.setVisibility(View.GONE);\n                    Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\n                    intent.putExtra(&quot;points&quot;, points);\n                    startActivity(intent);\n                    finish();\n                }\n                else {\n                    countDownTimer = null;\n                    startGame();\n                }\n            }\n        }.start();\n    }\n\n    private void generateQuestions(int index) {\n        ArrayList&lt;String&gt; techListTemp = (ArrayList&lt;String&gt;) techList.clone();\n        String correctAnswer = techList.get(index);\n        techListTemp.remove(correctAnswer);\n        Collections.shuffle(techListTemp);\n        ArrayList&lt;String&gt; newList = new ArrayList&lt;&gt;();\n        newList.add(techListTemp.get(0));\n        newList.add(techListTemp.get(1));\n        newList.add(techListTemp.get(2));\n        newList.add(correctAnswer);\n        Collections.shuffle(newList);\n        btn1.setText(newList.get(0));\n        btn2.setText(newList.get(1));\n        btn3.setText(newList.get(2));\n        btn4.setText(newList.get(3));\n        ivShowImage.setImageResource(map.get(techList.get(index)));\n    }\n\n    public void nextQuestion(View view) {\n        btn1.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn2.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn3.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn4.setBackgroundColor(Color.parseColor(&quot;#2196f3&quot;));\n        btn1.setEnabled(true);\n        btn2.setEnabled(true);\n        btn3.setEnabled(true);\n        btn4.setEnabled(true);\n        countDownTimer.cancel();\n        index++;\n        if (index &gt; techList.size() - 1){\n            ivShowImage.setVisibility(View.GONE);\n            btn1.setVisibility(View.GONE);\n            btn2.setVisibility(View.GONE);\n            btn3.setVisibility(View.GONE);\n            btn4.setVisibility(View.GONE);\n            Intent intent = new Intent(OyunBasladi.this, OyunBitti.class);\n            intent.putExtra(&quot;points&quot;, points);\n            startActivity(intent);\n            finish();\n        }\n        else\n        {\n            countDownTimer = null;\n            startGame();\n        }\n    }\n\n    public void answerSelected(View view) {\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\n        btn1.setEnabled(false);\n        btn2.setEnabled(false);\n        btn3.setEnabled(false);\n        btn4.setEnabled(false);\n        countDownTimer.cancel();\n        String answer = ((Button) view).getText().toString().trim();\n        String correctAnswer = techList.get(index);\n        if(answer.equals(correctAnswer)){\n            view.setBackgroundColor(Color.parseColor(&quot;#4CAF50&quot;));\n            points++;\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\n            tvResult.setText(&quot;Doğru&quot;);\n        }\n        else\n        {\n            view.setBackgroundColor(Color.parseColor(&quot;#F44336&quot;));\n            tvResult.setText(&quot;Yanlış&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Here is the code where you make the correct answer green and the wrong answer red. What should I write here so that when the wrong answer is chosen it should show the correct option green meanwhile the wrong answer still being red?</p>\n<pre><code>    public void answerSelected(View view) {\n        view.setBackgroundColor(Color.parseColor(&quot;#17243e&quot;));\n        btn1.setEnabled(false);\n        btn2.setEnabled(false);\n        btn3.setEnabled(false);\n        btn4.setEnabled(false);\n        countDownTimer.cancel();\n        String answer = ((Button) view).getText().toString().trim();\n        String correctAnswer = techList.get(index);\n        if(answer.equals(correctAnswer)){\n            view.setBackgroundColor(Color.parseColor(&quot;#4CAF50&quot;));\n            points++;\n            tvPoints.setText(points + &quot; / &quot; + techList.size());\n            tvResult.setText(&quot;Doğru&quot;);\n        }\n        else\n        {\n            view.setBackgroundColor(Color.parseColor(&quot;#F44336&quot;));\n            tvResult.setText(&quot;Yanlış&quot;);\n        }\n    }\n</code></pre>\n<p>Any help is welcome.</p>\n"},{"answers":[{"comments":[{"comment_id":134546017,"body":"Hi, maintainer here. This is correct. You need to pick a backend. nd4j is just a parent artifact and doesn&#39;t do anything useful."}],"answer_id":76298393,"body":"<p>I think you are trying to include nd4j dependencies the wrong way.  If I am reading <a href=\"https://deeplearning4j.konduit.ai/multi-project/explanation/maven\" rel=\"nofollow noreferrer\">the instructions</a> correctly, you are supposed to add the Deeplearning4j dependency:</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n      &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>and a dependency for one of the nd4j backend modules; e.g.</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n      &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>You have apparently used something like this instead:</p>\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n      &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n      &lt;artifactId&gt;nd4j&lt;/artifactId&gt;\n      &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>That doesn't work because that dependency denotes a parent POM not a JAR file.</p>\n<hr />\n<blockquote>\n<p>I also went to the repo.maven.apache.org website, and it didn't have nd4j there.</p>\n</blockquote>\n<p><a href=\"https://central.sonatype.com/artifact/org.nd4j/nd4j/1.0.0-M2.1\" rel=\"nofollow noreferrer\">It was there when I looked</a>.  But as I said, it is a POM file not a JAR file.</p>\n"}],"last_activity_date":1684646298,"question_id":76298281,"body":"<p>I created a maven program in intellij-idea with openjdk-20, and I put the dependency for nd4j in the dependencies section in pom.xml, and imported nd4j.*, but when I ran the program, it raised this error:</p>\n<pre><code>Could not find artifact org.nd4j:nd4j:jar:1.0.0-M2.1 in central (https://repo.maven.apache.org/maven2)\n</code></pre>\n<p>I tried &quot;running the Maven import with -U&quot;, which was what the compiler said would fix the error, but it still raised the same error. I also went to the repo.maven.apache.org website, and it didn't have nd4j there.</p>\n"},{"comments":[{"comment_id":134546202,"body":"Based on: <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/tags/android-13.0.0_r45/media/java/android/media/EncoderCapabilities.java\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/refs/tag&zwnj;&#8203;s/&hellip;</a> the entire class has the <a href=\"https://stackoverflow.com/q/31908205/295004\">@hide annotation</a> and if you checked <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/android12-release/media/java/android/media/EncoderCapabilities.java\" rel=\"nofollow noreferrer\">Android 12 version of that file</a> those fields you are interested in where marked with <a href=\"https://stackoverflow.com/q/52499754/295004\">@UnsupportedAppUsage</a>"},{"comment_id":134546932,"body":"@Morrison Chang, so it&#39;s not recommended to use in Android 13 ?  Is there any other method to access same dimensions with other API ?  So far I tested <code>MediaCodecInfo</code> <code>MediaCodecList</code> , the output is different."},{"comment_id":134547003,"body":"@Morrison Chang, I compared both links you shared, it seems like both classes from the both links are marked with <code>@unsuportedAppUsage</code> , I don&#39;t see the <code>@hide</code> annototation except the one in the commented code."},{"comment_id":134550535,"body":"Somehow missed the both have the <a href=\"https://stackoverflow.com/q/17035271/295004\">@hide annotation</a>. Details/use case as to why you are accessing <code>VideoEncoderCap</code> fields might be helpful. Found this issue which may be related: <a href=\"https://issuetracker.google.com/issues/224990734\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/224990734</a>"},{"comment_id":134559922,"body":"@Morrison Chang, I&#39;m accessing those parameters to calculate the max frame width / max frame height of video encoder."}],"last_activity_date":1684646146,"question_id":76298275,"body":"<p>I'm working on Camera Apps using Android 13 API. However, when I tried to obtain the <code>maxFrameWidth</code> and <code>maxFrameHeight</code> of each supported video encoders such as MPEG4, H263 and so on, VideoEncoderCap is not able to call. I wonder is it deprecated in Android 13 ?</p>\n<p>I set <code>mintargetSdkVersion</code> and <code>targetSdkVersion</code> to 30, seems not working too.</p>\n<p>The reason why I want to use VideoEncoderCap because the <code>maxFrameWidth</code> and <code>maxFrameHeight</code> obtained through <code>MediaCodecInfo (getSupportedHeights().getUpper())</code> is different compare to VideoEncoderCap.</p>\n<p>Any advice are welcome.</p>\n"},{"comments":[{"comment_id":134544776,"body":"<i>&quot;Why create arraylist outside default constructor but then assign it in the construtor?&quot;</i> - because you&#39;re not (creating an instance of <code>ArrayList</code>) until the constructor is called. All you&#39;re doing is defining an instance variable for the class, which, until it&#39;s assigned a value, will be <code>null</code> by default"},{"comment_id":134544990,"body":"This is an example of the fairly common failure to understand the difference between an object and a variable."},{"comment_id":134545855,"body":"It is part of a strange fashion shared by parts of the JDK and some IDEs for separating the declaration from the initialization. Do not imitate."}],"answers":[{"answer_id":76297724,"body":"<h1>Three distinct parts: variable declaration, instantiation, and reference assignment</h1>\n<p>You asked:</p>\n<blockquote>\n<p>Why create arraylist outside default constructor but then assign it in the construtor?</p>\n</blockquote>\n<p>Your question is based on a misunderstanding.</p>\n<p>The line:</p>\n<pre><code>public ArrayList &lt;movie&gt; movies;  \n</code></pre>\n<p>… does <em>not</em> create an <code>ArrayList</code> <a href=\"https://en.wikipedia.org/wiki/Object_(computer_science)\" rel=\"nofollow noreferrer\">object</a>. That line 👉 defines a variable that <em>will</em> hold, but does not yet hold, a <a href=\"https://en.wikipedia.org/wiki/Reference_(computer_science)\" rel=\"nofollow noreferrer\">reference</a> to an <code>ArrayList</code> object. Holding no reference means the value of this variable is <a href=\"https://en.wikipedia.org/wiki/Null_pointer\" rel=\"nofollow noreferrer\"><em>null</em></a>.</p>\n<p>That line created a receptacle, but did not fill it.</p>\n<p>Your <code>new ArrayList &lt;movie&gt;()</code> code creates an <code>ArrayList</code> object. That object lives in memory. That code returns a <em>reference</em> to that new object (effectively its <a href=\"https://en.wikipedia.org/wiki/Memory_address\" rel=\"nofollow noreferrer\">address in memory</a>, a <a href=\"https://en.wikipedia.org/wiki/Pointer_(computer_programming)\" rel=\"nofollow noreferrer\">pointer</a>).</p>\n<p>Your <code>movies =</code> code 👉 captures that returned reference (the quasi memory location) and stores it in your variable, for later use in your other code.</p>\n<hr />\n<p>In your specific example, you could just as well have combined the variable declaration with the instantiation and the reference assignment. No need for your constructor then, as it performed no other work.</p>\n<p>You can omit the parameterized type when instantiating. The compiler can deduce that from the type you specified when declaring the object reference variable. So <code>new ArrayList&lt;&gt;()</code> rather than <code>new ArrayList&lt;movie&gt;()</code>.</p>\n<p>Add the keyword <code>final</code> if you want to prevent replacement of your list instance with another.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tickets {\n\n    public final ArrayList &lt;movie&gt; movies = new ArrayList &lt;&gt; () ;\n\n}\n</code></pre>\n<hr />\n<p>By the way, your <code>movie</code> class should be spelled <code>Movie</code>. Class names start with an uppercase letter, variable names start with a lowercase letter. So <code>Movie</code>, not <code>movie</code>.</p>\n<p>And generally best to declare your variables as a more general super-type when you don't need to explicitly refer to features exclusive to the more specific sub-type. So, <code>List</code>, not <code>ArrayList</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Tickets {\n\n    public final List &lt; Movie &gt; movies = new ArrayList &lt;&gt; () ;\n\n}\n</code></pre>\n"}],"last_activity_date":1684645764,"question_id":76297713,"body":"<p>Why create arraylist outside default constructor but then assign it in the construtor? What does this do? Couldnt you create it all within the constructor or outside of it?</p>\n<p>Here is a piece example i saw:</p>\n<pre><code>public class Tickets {\n\npublic ArrayList &lt;movie&gt; movies;  \n\n\npublic Tickets() {\n    \n    movies = new ArrayList &lt;movie&gt;(); //assigning movie to array list\n}\n</code></pre>\n"},{"comments":[{"comment_id":133858969,"body":"Hint: First split the string by &quot;\\n&quot; and then each part split by &quot;\\s+&quot;."}],"answers":[{"answer_id":75900659,"body":"<p>Here is a simple solution using Java 8 streams:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;1 2 3\\n4 5 6\\n10 20 30&quot;;\n\nString[][] output = Arrays.stream(input.split(&quot;\\n&quot;))\n  .map(entry -&gt; entry.split(&quot; &quot;)).toArray(String[][]::new);\n</code></pre>\n<p>If you want this to be a primitive <code>int</code> array, then this will work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] output =\n  Arrays.stream(input.split(&quot;\\n&quot;)).map(entry -&gt; Arrays.stream(entry.split(&quot; &quot;))\n    .mapToInt(Integer::parseInt).toArray()).toArray(int[][]::new);\n</code></pre>\n<p>or if you can use a boxed primitive, then this will work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[][] output =\n  Arrays.stream(input.split(&quot;\\n&quot;)).map(entry -&gt; Arrays.stream(entry.split(&quot; &quot;))\n    .map(Integer::parseInt).toArray(Integer[]::new)).toArray(Integer[][]::new);\n</code></pre>\n<p>To view and verify the results</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.stream(output).forEach(item -&gt; System.out.println(Arrays.toString(item)));\n</code></pre>\n<p>printed result is</p>\n<pre><code>[1, 2, 3]\n[4, 5, 6]\n[10, 20, 30]\n</code></pre>\n"},{"answer_id":76298223,"body":"<p>You can utilize the <code>BufferedReader</code> class, which has a <code>readLine</code> method.</p>\n<p>You'll need to iterate the string value twice, once to obtain a line count, and once again to populate the array.<br />\nThat is unless you would settle with a <code>List</code>, which will expand as we add values.</p>\n<p>Nevertheless, here is a method that will generate a 2-dimensional array, given a multi-line <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] matrix(String string) throws IOException {\n    BufferedReader reader = new BufferedReader(new StringReader(string));\n    int count = 0;\n    String line;\n    while (reader.readLine() != null)\n        count++;\n    reader = new BufferedReader(new StringReader(string));\n    int[][] matrix = new int[count][];\n    String[] strings;\n    int indexA = 0, indexB;\n    while ((line = reader.readLine()) != null) {\n        strings = line.split(&quot; &quot;);\n        matrix[indexA] = new int[strings.length];\n        indexB = 0;\n        for (String value : strings)\n            matrix[indexA][indexB++] = Integer.parseInt(value);\n        indexA++;\n    }\n    return matrix;\n}\n</code></pre>\n<p>Here is a test with the string you supplied.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;1 2 3\\n4 5 6\\n10 20 30&quot;;\nfor (int[] value : matrix(string))\n    System.out.println(Arrays.toString(value));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[1, 2, 3]\n[4, 5, 6]\n[10, 20, 30]\n</code></pre>\n<p>And finally, I created a method which can be used to print the matrix.<br />\nIt will format the values; right-justified.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String print(int[][] matrix) {\n    int maximum = String.valueOf(matrix[0][0]).length();\n    for (int[] values : matrix) {\n        for (int value : values) {\n            if (String.valueOf(value).length() &gt; maximum)\n                maximum = String.valueOf(value).length();\n        }\n    }\n    StringBuilder string = new StringBuilder();\n    String newline = System.lineSeparator();\n    int indexA = 0, indexB;\n    for (int[] values : matrix) {\n        if (indexA++ != 0)\n            string.append(newline);\n        indexB = 0;\n        for (int value : values) {\n            if (indexB++ != 0)\n                string.append(' ');\n            string.append((&quot;%&quot; + maximum + &quot;d&quot;).formatted(value));\n        }\n    }\n    return string.toString();\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code> 1  2  3\n 4  5  6\n10 20 30\n</code></pre>\n"}],"last_activity_date":1684644824,"question_id":75889643,"body":"<p>I need to convert a String representing a matrix of numbers to a 2D Array.</p>\n<pre><code>Input - &quot;1 2 3\\n4 5 6\\n10 20 30&quot;\noutput - 1 2 3\n         4 5 6\n         10 20 30\n</code></pre>\n<p>I tried out this code but i am not able to figure out how i can work with numbers with more than 1 digit. I know the code sucks but please bear with me as I am new to programming and learning as much as I can from my mistakes.</p>\n<pre><code>int rowCount = 1;\n        int colCount = 0;\n        for (int i = 0; i &lt; matrixAsString.length(); i++) {\n            if (matrixAsString.charAt(i) != ' ') {\n                colCount++;\n                if (Character.isISOControl(matrixAsString.charAt(i))) {\n                    rowCount++;\n                    colCount = 0;\n                }\n            }\n        }\n\n        this.rowCount = rowCount;\n        this.colCount = colCount;\n\n        int i = 0;\n\n        this.matrix = new int[rowCount][colCount];\n\n        for (int row = 0; row &lt; rowCount; row++) {\n            for (int col = 0; col &lt; colCount; col++) {\n                while (i &lt;= matrixAsString.length()) {\n                    if (matrixAsString.charAt(i) != ' ' &amp;&amp; !Character.isISOControl(matrixAsString.charAt(i))) {\n                        this.matrix[row][col] = Character.getNumericValue(matrixAsString.charAt(i));\n                        i++;\n                        break;\n                    } else {\n                        i++;\n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"comments":[{"comment_id":51368107,"body":"You can get rid of the counter as that seems to be for the ABA problem, which won&#39;t be an issue due to Java&#39;s GC. That should simplify it to be more like Java&#39;s CLQ."},{"comment_id":51389643,"body":"@BenManes Thanks for that tip.  I hadn&#39;t considered the effects of a GC on the ABA problem.  I found an article that explains that in a short, sweet fashion so I&#39;ll edit it in."},{"comment_id":51390931,"body":"<code>AtomicReferenceUpdater</code> does not offer anything which you can’t do as well with an <code>AtomicReference</code>. It only reduces the per-field storage requirement as you have one <code>static</code> updater instead of one atomic reference object per instance. But I have no idea how the <i>stamped</i> reference comes into play. What do you want to do with the stamp?"},{"comment_id":51392920,"body":"@Holger I think at this point I can ignore the stamp and just use an <code>AtomicReference</code>.  In fact, I&#39;ve tried the above with the necessary alterations between the two, but I still have the same issue where updating <code>tail</code> will update <code>head</code>(since CAS changes the node inside the reference, not the reference itself)."},{"comment_id":51393253,"body":"Well, the only cure is to modify the <code>tail</code> field so it doesn’t point to the same object as the head anymore. I guess, at one time you will have to change the <code>head</code> as well. But as said, you don’t need an <code>AtomicReferenceFieldUpdater</code> for that. You could also change the type of the <code>head</code> and <code>tail</code> fields to <code>AtomicReference&lt;Node&lt;E&gt;&gt;</code> instead. If you want to avoid being too similar to the JRE version, that’s the way to go. Any it would be strange to use <code>AtomicReference</code>s in the nodes and <code>AtomicReferenceFieldUpdater</code>s in the queue class, as there are much more nodes than queues…"}],"answers":[{"answer_id":76298344,"body":"<p>Your problem is not CAS, it's aliasing.</p>\n<p>As you well said, CAS doesn't change the reference, it changes what the reference points to.</p>\n<p>If the tail reference was pointing to tempTail it will now point to node. And that's great, but since head was sharing this reference as well it will also be pointing to node.</p>\n<p>So when you do:</p>\n<pre><code>tail.compareAndSet(tempTail, node, tailCount, count.incrementAndGet());\n</code></pre>\n<p>You're going from this:\n<a href=\"https://i.stack.imgur.com/DoIHp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DoIHp.png\" alt=\"enter image description here\" /></a></p>\n<p>To this:\n<a href=\"https://i.stack.imgur.com/Nfg46.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nfg46.png\" alt=\"enter image description here\" /></a></p>\n<p>So your problem started before, when you created one reference for both variables instead of two separate references pointing to the same object.</p>\n<p>So when you did:</p>\n<pre><code>volatile AtomicStampedReference&lt;Node&lt;T&gt;&gt; head = new AtomicStampedReference&lt;Node&lt;T&gt;&gt;(new Node&lt;T&gt;(), 0);\nvolatile AtomicStampedReference&lt;Node&lt;T&gt;&gt; tail = head;\n</code></pre>\n<p>You created this scenario:\n<a href=\"https://i.stack.imgur.com/B81yL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B81yL.png\" alt=\"enter image description here\" /></a></p>\n<p>Instead, you should've created this scenario:\n<a href=\"https://i.stack.imgur.com/KcCtA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KcCtA.png\" alt=\"enter image description here\" /></a></p>\n<p>And you can do it with this code:</p>\n<pre><code>Node&lt;T&gt; centinell = new Node&lt;T&gt;();\nhead = new AtomicStampedReference&lt;Node&lt;T&gt;&gt;(centinell, 0);\ntail = new AtomicStampedReference&lt;Node&lt;T&gt;&gt;(centinell, 0);\n</code></pre>\n<p>Also, you can change all the AtomicStampedReference for AtomicReference and it will work all the same.</p>\n"}],"last_activity_date":1684644724,"question_id":31714426,"body":"<p>So I'll start by saying this is for an assignment, and there are a few restrictions on the queue I need to build:</p>\n\n<ol>\n<li><p>It is unbounded.</p></li>\n<li><p>No locking mechanisms are allowed(no <code>synchronized</code>, <code>ReentrantLock</code>, etc){not even to simulate things like CompareAndSet}.</p></li>\n<li><p>It must implement <a href=\"http://www.research.ibm.com/people/m/michael/podc-1996.pdf\" rel=\"nofollow\">Michael and Scott's</a> algorithm.</p></li>\n<li><p>Of course, I can't rip off Java's source code for <code>ConcurrentLinkedQueue</code>.</p></li>\n</ol>\n\n<p>Here's what I have so far(dequeue is left out):</p>\n\n<pre><code>public class LockFreeQueue&lt;T&gt; implements MyQueue&lt;T&gt;\n{\n    private class Node&lt;R&gt;\n    {\n        public final R value;\n        public volatile AtomicReference&lt;Node&lt;R&gt;&gt; next;\n\n        public Node()\n        {\n            value = null;\n            next = new AtomicReference&lt;Node&lt;R&gt;&gt;(null);\n        }\n\n        public Node(R v)\n        {\n            value = v;\n            next = new AtomicReference&lt;Node&lt;R&gt;&gt;(null);\n        }\n    }\n\n    volatile AtomicStampedReference&lt;Node&lt;T&gt;&gt; head = new AtomicStampedReference&lt;Node&lt;T&gt;&gt;(new Node&lt;T&gt;(), 0);\n    volatile AtomicStampedReference&lt;Node&lt;T&gt;&gt; tail = head;\n    AtomicInteger count = new AtomicInteger(0);\n\n    public boolean enq(T value)\n    {\n        Node&lt;T&gt; node = new Node&lt;T&gt;(value);\n\n        while (true)\n        {\n            Node&lt;T&gt; tempTail = tail.getReference();\n            int tailCount = tail.getStamp();\n            Node&lt;T&gt; next = tempTail.next.get();\n            if (tempTail == tail.getReference())\n            {\n                if (null == next)\n                {\n                    if(tempTail.next.compareAndSet(null, node))\n                    {\n                        // Problem on this line:\n                        tail.compareAndSet(tempTail, node, tailCount, count.incrementAndGet());\n                        return true;\n                    }\n                }\n                else\n                {\n                    tail.compareAndSet(tempTail, next, tailCount, count.incrementAndGet());\n                }\n            }\n        }\n    }\n...\n}\n</code></pre>\n\n<p>Now, for the most part, this follows the code found in <a href=\"http://www.ibm.com/developerworks/library/j-jtp04186/\" rel=\"nofollow\">this IBM article</a>.  Particularly, it follows the code in <code>Listing 4. Insertion in the Michael-Scott nonblocking queue algorithm</code>.  The problem, which is exhibited by both my code and the code in the article, is that when the reference for the tail is swung to the new tail, it does the same for the head. It does this of course because it's changing the <code>Node</code> being referred to, rather than the actual reference, and the reference that <code>tail</code> and <code>head</code> have are the same.</p>\n\n<p>I also found <a href=\"http://gee.cs.oswego.edu/dl/classes/EDU/oswego/cs/dl/util/concurrent/WaitFreeQueue.java\" rel=\"nofollow\">a different solution</a> but the main problem with this code is that it uses <code>synchronized</code>, even though it's only doing so to simulate a CAS operation.</p>\n\n<p>As far as Java's <a href=\"http://fuseyism.com/classpath/doc/java/util/concurrent/ConcurrentLinkedQueue-source.html\" rel=\"nofollow\"><code>ConcurrentLinkedQueue</code></a> goes, I've noticed that they utilize <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html\" rel=\"nofollow\"><code>AtomicReferenceUpdater</code></a> and that really seems to be the only way to go.  The problem here, though, is that my code starts to look surprisingly close to Java's and I don't want to be docked points for plagiarism(or worse!).</p>\n\n<p>Is <code>AtomicReferenceUpdater</code> the only way for me to move forward, or are there other things I can do?  </p>\n\n<p>A last note:</p>\n\n<ul>\n<li><code>Node</code> is a total fabrication of my own, so it can change to be anything it needs to be.</li>\n</ul>\n\n<p><strong>Edit:</strong></p>\n\n<p>Ben Manes mentioned not needing to be concerned about the ABA problem in a language with garbage collection.  For those interested in this in the future, there's <a href=\"http://www.hergert.me/blog/2009/12/25/intro-to-lock-free-wait-free-and-aba.html\" rel=\"nofollow\">this article</a> which is a nice read.  The important part:</p>\n\n<blockquote>\n  <p>In garbage collected languages this isn't a problem. Why? Because the node's memory cannot be reclaimed for a new object until observing threads containing pointers to the structure have released them.</p>\n</blockquote>\n"},{"comments":[{"comment_id":134546283,"body":"This sounds like a good fit for an actor framework such as Akka or Apache Pekko."},{"comment_id":134547154,"body":"If you need a cluster - Akka + Clustering. If you have a single instance of a server - each store can be a Cats Effect&#39;s Ref where update is a pure operation working within ref.update. Alternatively use something like Cats STM. If it was persisted rather than in-memory event sourcing would be another solution."}],"last_activity_date":1684644549,"question_id":76298333,"body":"<p>How to run tasks sequentially on entityid and parallel across different entityid in Scala/ java ?</p>\n<p>**Example :\n**\nAssume you have an entity Store which has a storeId.\nYou have an in memory data structure which can be used to modify the inventory for the store. Operations are removeItem, updateInventory.</p>\n<p>I want these tasks to be run sequentially per store and parallel across stores.</p>\n<p>If I were to come up with a naive design, I would have a queue per store and have a future callback to change the state of the queue (READY, PROCESSING). So that each queue would be read sequentially.</p>\n<p>Concerns :</p>\n<ul>\n<li>Definitely not production ready in a short time</li>\n<li>Probably a repeated usecase so I want to know the industry standard</li>\n</ul>\n"},{"comments":[{"comment_id":132826080,"body":"Please provide full stacktrace including all caused by blocks and suppressed blocks."},{"comment_id":132853392,"body":"What IP and port are you using in the Java code? <code>bind 127.0.0.1</code> in your Redis config means Redis will only listen on 127.0.0.1."},{"comment_id":132921672,"body":"@SimonPrickett I have solved the issue and I was was simply binding to the wrong IP... I thought binding to 127.0.0.1 would be like binding to localhost (and seeing the redis server and the application connection to Redis runs on the same machine) that would work, but is that not the case?"}],"answers":[{"answer_id":75586429,"body":"<p>I had the same mistake. If I checked the open ports looks like 6379 is open but can't connect.</p>\n<p>I recomend check the firewall. And on the case open the port there.</p>\n<blockquote>\n<p>ufw allow 6379</p>\n</blockquote>\n"},{"answer_id":76298338,"body":"<p>For redis-cluster user this problem can happen if some of the master nodes are not up and running.</p>\n"}],"last_activity_date":1684644520,"question_id":75270153,"body":"<p>Whenever I try to connect to my Redis server from my Java application using Jedis, I get <code>JedisConnectionException: Failed to connect to any host resolved for DNS name.</code> The Java application runs on the same machine as the Redis server.</p>\n<p>When I check the Redis server's status using <code>systemctl</code>, it's online and running without problems. I also connected to the Redis client via terminal using command-line on the Linux machine it is running on, authenticated and performed <code>PING</code> in which <code>PONG</code> was returned to make sure the Redis was up running.</p>\n<p><strong>Redis configuration</strong></p>\n<p>I have bind and requirepass un-commented in the <code>redis.conf</code> and looks like following (not my entire config, of course):</p>\n<pre><code>bind 127.0.0.1\nrequirepass mypassword\nport 6379\n</code></pre>\n<p><strong>This is the code I am using:</strong></p>\n<pre><code>private void setupRedis(RedisCredentials credentials) {\n    final GenericObjectPoolConfig&lt;Jedis&gt; poolConfig = new JedisPoolConfig();\n    poolConfig.setMaxIdle(0);\n\n    Jedis jedis;\n    try (JedisPool pool = new JedisPool(poolConfig, credentials.getIp(), credentials.getPort())) { \n        jedis = pool.getResource();\n    }\n\n    jedis.auth(credentials.getPassword());\n    jedis.connect();\n    log.info(&quot;Redis connection was established.&quot;)\n}\n</code></pre>\n<p>I am a bit new to working with Redis therefor I wasn't sure on how much information to include in my post. All and any help is very much appreciated!</p>\n<p><strong>Tried</strong></p>\n<p>I tried the following code provided above multiple times. I have also tried restarting the Redis server and running the code again, with no successful try.</p>\n<p><strong>Expected to happen</strong></p>\n<p>For the application to log &quot;<em>Redis connection was establish</em>&quot; and to receive no errors in the process.</p>\n<p><strong>Resulted</strong></p>\n<p>The console logs the <code>redis.clients.jedis.exceptions.JedisConnectionException: Failed to connect to any host resolved for DNS name</code> and the application therefore obviously does not managed to establish a connection to Redis.</p>\n"},{"comments":[{"comment_id":134021991,"body":"It&#39;s about <a href=\"https://en.wikipedia.org/wiki/Character_encoding\" rel=\"nofollow noreferrer\">encoding</a>. See this <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\">great blog post</a> which explains in detail what it&#39;s all about."}],"answers":[{"answer_id":76297940,"body":"<p>To place a Unicode character within a <code>String</code>, you can use it's decimal or hexadecimal code, and cast it to a <code>char</code>.</p>\n<p>The <code>Registered trademark symbol</code> is code U+00AE.<br />\n<a href=\"https://en.wikipedia.org/wiki/Registered_trademark_symbol\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Registered_trademark_symbol</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>list.set(0, &quot;Forever Garcinia Plus&quot; + (char) 0xae);\n</code></pre>\n<p>Additionally, you can use the <code>\\u</code> escape sequence, for a <code>char</code> literal.<br />\nNote, a <code>\\u</code> escape sequence requires 4 hexadecimal values, 0 padded.</p>\n<pre class=\"lang-java prettyprint-override\"><code>list.set(0, &quot;Forever Garcinia Plus&quot; + '\\u00ae');\n</code></pre>\n"}],"last_activity_date":1684644427,"question_id":75988316,"body":"<p>I am practicing on of methods of ArrayList set().I got very crazy result here: <a href=\"https://i.stack.imgur.com/u3Ccp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u3Ccp.png\" alt=\"enter image description here\" /></a>\nHow to escape this error and successfully to set new value for ArrayList?</p>\n<p>I expected this output : [Forever Garcinia Plus®, Gel Aloe Vera, Hello, Forever Viber]Hello, World! , as after word Plust it should be symbol R.</p>\n<p>Actually resulted this one:</p>\n<pre><code>/tmp/SrUvRBAjDt/HelloWorld.java:12: error: unmappable character (0xC2) for encoding US-ASCII\n        list.set(0,&quot;Forever Garcinia Plus??&quot;);\n                                         ^\n/tmp/SrUvRBAjDt/HelloWorld.java:12: error: unmappable character (0xAE) for encoding US-ASCII\n        list.set(0,&quot;Forever Garcinia Plus??&quot;);\n                                      ^\n</code></pre>\n<p>2 errors</p>\n"},{"comments":[{"comment_id":134546128,"body":"Please include the relevant code as text, not as an image"},{"comment_id":134546242,"body":"You should be using a <code>PreparedStatement</code> for this.  Injecting a value into an SQL statement using string interpolation leads to SQL injection vulnerabilities."},{"comment_id":134546248,"body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"comment_id":134546273,"body":"<a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html</a>"}],"last_activity_date":1684644351,"question_id":76298269,"body":"<p>(<a href=\"https://i.stack.imgur.com/y4iYl.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/y4iYl.png</a>)\nWhat should I do to turn the content in the SQL statement into my custom variable username. getText() instead of just a string type 'content', the same goes for the subsequent pass</p>\n<p>I have no idea about this at all. Perhaps modifying custom variable types is useful, but SQL statements can only use string types. How can I add my own defined variables to the string statement Plz tell me how to do it, thank you all</p>\n"},{"last_activity_date":1684644074,"question_id":76298309,"body":"<p>I need an advice for RxJava2 optimization.</p>\n<p>I'm working on a support chat for Android Application. I need to retrieve the List of ChatPOJO from the server (list of users available for chatting) and modify it with the List of DraftPOJO before showing on UI based on userId field (list of drafts, saved locally in the app's database).</p>\n<p>Here is the request that I use to get all data from the local database and remote server:</p>\n<pre><code>             Flowable.combineLatest(\n                            getLocalDataListFlowable(mDraftDao),\n                            getServerDataListFlowable(mFirebaseFirestore,Chat.class),\n                            (pDraftList, pChatList) -&gt; {\n                                return pChatList\n                                        .stream()\n                                        .peek(pChat -&gt; {\n                                            Draft draft = pDraftList\n                                                    .stream()\n                                                    .filter(pDraft -&gt; pDraft.getUserId().equals(pChat.getUserId()))\n                                                    .findFirst()\n                                                    .orElse(null);\n                                            pChat.setDraft(draft);\n                                        })\n                                        .collect(Collectors.toList());\n                            })\n                    .subscribeOn(Schedulers.io())\n                    .subscribe(\n                            pFormattedChatList -&gt; {\n                                //\n                            }, pThrowable -&gt; {\n                               //\n                            });\n</code></pre>\n<p>Any suggestions how to optimize the code where I use Java8Stream inside combineLatest? It will be perfect to get links with suitable methods from RxJava2 with some description.\nThanks in advance.</p>\n"},{"comments":[{"comment_id":18448232,"body":"what does the other datasource look like?"},{"comment_id":18448268,"body":"Same config with different id."},{"comment_id":18448275,"body":"Have you tried increasing the connection limit on the database?"},{"comment_id":18448349,"body":"Also does this happen on start up or after a while at run time? Are you sure you&#39;ve configured your database settings correctly?"},{"comment_id":18448667,"body":"This is during run time. I doubt it was related to the connection limit for the db. The monitor shows the DB connection count with a sawtooth pattern (<a href=\"http://en.wikipedia.org/wiki/Sawtooth_wave\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Sawtooth_wave</a>), which is really weird. The DB is getting from anywhere between 40-300 connections. We have ds1 with maxPoolSize=300 and ds2 with maxPoolSize=50."},{"comment_id":18448749,"body":"so whats the limit on the DB?"},{"comment_id":18449100,"body":"1200 is the limit. We are far from there. BTW, the sawtooth problem was identified. We have a script that opens connections without closing them. That is now fixed. But this should have nothing to do with the getConnection() problem here."},{"comment_id":18449398,"body":"Have you noticed any pattern to this exception occuring? Does it occur on both datasources? Have you debugged before getting the connection to see if the datasource is in a weird state when it throws the exception?"},{"comment_id":18449593,"body":"Are you able to bump up the logging level on C3PO?"},{"comment_id":18449638,"body":"@Brian No pattern has been recognized. It happens on both ds. We are not able to reproduce the problem. So not possible to debug."},{"comment_id":18449649,"body":"@Alex How do I bump up the logging level in c3p0? We are using logback, btw."},{"comment_id":18449725,"body":"But how often does it happen and how soon after start up?"},{"comment_id":18449949,"body":"@Brian There is no pattern for it."},{"comment_id":18450229,"body":"Looks like c3p0 is hard-wired to use log4j (<a href=\"http://www.mchange.com/projects/c3p0/#configuring_logging\" rel=\"nofollow noreferrer\">mchange.com/projects/c3p0/#configuring_logging</a>). Your best bet is probably to install the log4j-over-slf4j bridge (<a href=\"http://www.slf4j.org/legacy.html\" rel=\"nofollow noreferrer\">slf4j.org/legacy.html</a>) and then modify your logback configuration to increase the logging level of the com.mchange appender."},{"comment_id":18457405,"body":"You&#39;re going to need to explain exactly what happens. Does it happen every time hibernate attempts to make a connection? I think you need to include your session factory bean and also the hibernate calling code"}],"answers":[{"answer_id":13483317,"body":"<p>Although not strictly answering your question, I didn't want to add code in the comments as code in comments is unreadable.</p>\n\n<p>Here is an example config of MySQL with C3P0 from my project. note all the extra parameters to make sure the connections don't die. (In the end I went with Postgres because it didn't kill my connections and was more stable generally, also having to retest connections with select 1; isn't very efficient)</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"\n     destroy-method=\"close\"&gt;\n  &lt;property name=\"driverClass\" value=\"${jdbc.driverClassName}\"/&gt;\n  &lt;property name=\"jdbcUrl\" value=\"${jdbc.url}\"/&gt;\n  &lt;property name=\"properties\"&gt;\n    &lt;props&gt;\n        &lt;prop key=\"c3p0.minPoolSize\"&gt;0&lt;/prop&gt;\n        &lt;prop key=\"hc3p0.maxPoolSize\"&gt;1000&lt;/prop&gt;\n        &lt;prop key=\"hc3p0.timeout\"&gt;3000&lt;/prop&gt;\n        &lt;prop key=\"c3p0.acquire_increment\"&gt;10&lt;/prop&gt;\n        &lt;prop key=\"c3p0.max_statement\"&gt;50&lt;/prop&gt;\n\n        &lt;prop key=\"hibernate.c3p0.idle_test_period\"&gt;60&lt;/prop&gt;\n        &lt;prop key=\"c3p0.preferredTestQuery\"&gt;SELECT 1;&lt;/prop&gt;\n        &lt;prop key=\"hibernate.c3p0.testConnectionOnCheckout\"&gt;false&lt;/prop&gt;\n        &lt;prop key=\"user\"&gt;${jdbc.username}&lt;/prop&gt;\n        &lt;prop key=\"password\"&gt;${jdbc.password}&lt;/prop&gt;\n    &lt;/props&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"answer_id":66766284,"body":"<p>I found the following list of causes and resolutions which helped me solve the problem. Might also help others:</p>\n<ol>\n<li><strong>The database configuration details you entered are incorrect or have changed</strong>. For example, the database name or database username/password for your Confluence database. Confirm that the database username, password, and connection URL in /confluence.cfg.xml are incorrect, and if not update them accordingly.</li>\n<li><strong>The URL for the database is incorrect</strong>. For example, if the database connection is jdbc:mysql://yma/confluence?autoReconnect=true, does the host 'yma' exist and is the database server installed on 'yma'? Check /confluence.cfg.xml to find this entry.</li>\n<li><strong>The database server is not running</strong>. If your database server is down, restart it and check the logs to see why it had failed or stopped.</li>\n<li><strong>The network is down</strong> (or there is a firewall in between Confluence and its database) and the connection to the database cannot be established. If your network is down, or a new firewall is installed, consult with your System Administrator for further troubleshooting.</li>\n<li><strong>Your database password has expired.</strong> If your password has expired (and you will only discover this if you try to connect to your database via your database client or an external database tool such as DbVisualizer), update your password. You may want to deactivate expiring passwords for your Confluence database user to prevent the problem from happening again. Be sure to consult with your DBA about this.</li>\n<li><strong>Postgres specific issue</strong>: the Postgres encryption method has been altered or changed when migrating or upgrading Confluence, the environment, etc. Check the pg_hba.conf file. If the method is set to ident change it to md5.</li>\n<li><strong>MySQL specific issue</strong>: there are too many connection requests that triggered MySQL server to block Confluence from making any requests. See this MySQL article for resolution.</li>\n</ol>\n<p>Source: <a href=\"https://confluence.atlassian.com/confkb/connections-could-not-be-acquired-from-the-underlying-database-104825087.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/confkb/connections-could-not-be-acquired-from-the-underlying-database-104825087.html</a></p>\n"}],"last_activity_date":1684642131,"question_id":13482803,"body":"<p>We have a [Hibernate + c3p0 + MySQL] config for our project. We are hitting the following exception:</p>\n<pre><code>com.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.\n    at com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1319) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:557) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:477) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:525) ~[c3p0-0.9.1.2.jar:0.9.1.2]\nWrapped by: java.sql.SQLException: Connections could not be acquired from the underlying database!\n    at com.mchange.v2.sql.SqlUtils.toSQLException(SqlUtils.java:106) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:529) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:128) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at org.hibernate.service.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:141) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\nWrapped by: org.hibernate.exception.GenericJDBCException: Could not open connection\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:52) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1263) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:399) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\nWrapped by: org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Could not open connection\n    at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:440) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:336) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at $Proxy28.messageExists(Unknown Source) ~[na:na]\n</code></pre>\n<p>Our c3p0 config:</p>\n<pre><code>&lt;bean id=&quot;provDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\n…\n        &lt;property name=&quot;acquireIncrement&quot; value=&quot;1&quot; /&gt;\n        &lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;100&quot;/&gt;\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot; /&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;50&quot; /&gt;\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;1800&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Note that we also have another similar c3p0 datasource configured on top of this MySQL instance.</p>\n<p>Can anyone give me some suggestions on how to debug this?</p>\n"},{"last_activity_date":1684641885,"question_id":76298256,"body":"<p>No other errors appear in the logs at all. The application starts then immediately shutsdown and I'm not sure why.</p>\n<p>Here are the relevant logs:</p>\n<pre><code>2023-05-20 23:53:45.161  INFO 22668 --- [           main] c.b.priceshift.PriceShiftApplication     : Starting PriceShiftApplication using Java 17.0.7 on DESKTOP-9SONR8O with PID 22668 (S:\\Projects2\\target\\classes started by Seven in S:\\Projects2)\n2023-05-20 23:53:45.163  INFO 22668 --- [           main] c.b.priceshift.PriceShiftApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-20 23:53:45.870  INFO 22668 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-05-20 23:53:45.884  INFO 22668 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 7 ms. Found 0 JPA repository interfaces.\n2023-05-20 23:53:46.257  INFO 22668 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8083 (http)\n2023-05-20 23:53:46.263  INFO 22668 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-05-20 23:53:46.263  INFO 22668 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.65]\n2023-05-20 23:53:46.442  INFO 22668 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-05-20 23:53:46.442  INFO 22668 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1234 ms\n2023-05-20 23:53:46.669  INFO 22668 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-05-20 23:53:46.704  INFO 22668 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.11.Final\n2023-05-20 23:53:46.789  INFO 22668 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-05-20 23:53:46.854  INFO 22668 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-05-20 23:53:47.106  INFO 22668 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-05-20 23:53:47.119  INFO 22668 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect\n2023-05-20 23:53:47.287  INFO 22668 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-05-20 23:53:47.293  INFO 22668 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-05-20 23:53:47.339  WARN 22668 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-05-20 23:53:47.824  INFO 22668 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38a52072, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@306bf4c3, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c7f2fdb, org.springframework.security.web.header.HeaderWriterFilter@31b289da, org.springframework.security.web.csrf.CsrfFilter@3921e96f, org.springframework.security.web.authentication.logout.LogoutFilter@40c6d1ef, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7852ab30, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5bf4dfb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@417751d3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@39f8adc0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5cf80dfb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d01ea33, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73b3ce31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@532ea86b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter@6108fd23, org.springframework.security.web.session.SessionManagementFilter@4e933cf1, org.springframework.security.web.access.ExceptionTranslationFilter@7f8f5d37, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ca8c904]\n2023-05-20 23:53:47.861  INFO 22668 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n2023-05-20 23:53:47.978 ERROR 22668 --- [           main] org.keycloak.services                    : java.lang.ExceptionInInitializerError\n2023-05-20 23:53:48.054  INFO 22668 --- [           main] org.jboss.resteasy.resteasy_jaxrs.i18n   : RESTEASY002225: Deploying javax.ws.rs.core.Application: class com.barajagroup.priceshift.config.EmbeddedKeycloakApplication\n2023-05-20 23:53:48.055  INFO 22668 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8083 (http) with context path ''\n2023-05-20 23:53:48.070  INFO 22668 --- [           main] c.b.priceshift.PriceShiftApplication     : Started PriceShiftApplication in 3.218 seconds (JVM running for 3.975)\n2023-05-20 23:53:48.090  INFO 22668 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-05-20 23:53:48.093  INFO 22668 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-05-20 23:53:48.098  INFO 22668 --- [ionShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n"},{"answers":[{"answer_id":63868613,"body":"<p>You could set a fixed width with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>stage.setMaxWidth(x);\nstage.setMinWidth(x);\n</code></pre>\n<p>If you then set the stage to resizable, you should only be able to resize it in its height.</p>\n"},{"answer_id":76298250,"body":"<p>It is better to have a more versatile approach especially if your program is using FXML. To do that we can bind the min and max width to be fixed to itself, thus non-adjustable by the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>stage.minWidthProperty().bind(stage.widthProperty());\nstage.maxWidthProperty().bind(stage.widthProperty());\n</code></pre>\n"}],"last_activity_date":1684641769,"question_id":63868544,"body":"<p>I have a stage and I want to let user change only its height, but not the width. The only solution I found is <code>stage.setResizable(false);</code> but it also doesn't allow to change height. How to do it?</p>\n"},{"comments":[{"comment_id":126686266,"body":"After saving the environment variables, did you restart your terminal?"},{"comment_id":126686326,"body":"Yep! Always made sure to close the existing command prompt &amp; open another session. I&#39;ve also confirmed the paths listed are where both the Java JDK &amp; Apache Maven bins are located."},{"comment_id":126686339,"body":"What does <code>java --version</code> output?"},{"comment_id":126686354,"body":"java --version outputs the following: &quot;&#39;java&#39; is not recognized as an internal or external command, operable program or batch file.&quot; This is strange given that I&#39;ve mapped the environmental variables..."},{"comment_id":126686413,"body":"Please check if you have some other mapping to java in you path variable. Secondly, please check if the JAVA_HOME and Path under user accounts are also mapped correctly"},{"comment_id":126686433,"body":"Does <code>echo %path%</code> (CMD) or <code>$env:path</code> (PowerShell) show the correct Java and Maven directories?"},{"comment_id":126686501,"body":"Also, in addition to Saurabh&#39;s suggestion, make sure you&#39;ve actually applied the new environment variables (e.g., by clicking &quot;Apply&quot; or closing all the dialogs with &quot;OK&quot;). Then try restarting your terminal one more time. If that doesn&#39;t work, you can try restarting your computer. Beyond that I&#39;m not sure I can be of more help (though someone else might be)."},{"comment_id":126686526,"body":"@Slaw : I went ahead and added the latest JDK (jdk-17.0.2) instead of my original screenshot &amp; I can confirm that my path shows the latest java &amp; maven directories."}],"answers":[{"comments":[{"comment_id":131270345,"body":"This was definitly the case for me when running on a self-hosted runner and setup-java and setup-maven github actions.  We were caching the <code>&#47;opt&#47;hostedtoolcache</code> directory in an azure pool and the permissions were off.  Had to chmod it."}],"answer_id":71683513,"body":"<p>Figured it out - Turns out the users did not have permissions to access the Maven OR Java JDK folders. Updated the permissions &amp; had no issues. Thank you!</p>\n"}],"last_activity_date":1684640218,"question_id":71683262,"body":"<p>I am unable to get apache maven to run locally on my Windows OS &amp; I'm not sure why. I have mapped the system environmental variables as follows &amp; am still receiving an error when I run command <code>mvn --version</code> using my command prompt:</p>\n<pre><code>The JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n</code></pre>\n<p>Can anyone tell me what I am missing in terms of successfully updating my system environmental variables so that I can run maven builds? Please see screenshots of how my system environmental variables &amp; system path variables are configured:</p>\n<p><a href=\"https://i.stack.imgur.com/RF2dW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RF2dW.png\" alt=\"Shows current system environment variables set up\" /></a>\n<a href=\"https://i.stack.imgur.com/F0FJI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F0FJI.png\" alt=\"Shows current system environment path variables set up\" /></a></p>\n<p>Thank you!</p>\n"},{"comments":[{"comment_id":134542612,"body":"Read the log. Did you try any of the suggestions?"},{"comment_id":134542657,"body":"@aled I&#39;m not really sure how to do the ones suggested actually so I skipped over it for now."},{"comment_id":134542682,"body":"That&#39;s the first thing you should work on. The issue seems in the code, that you didn&#39;t share. Without more details it is not possible to help. Also note that connectivity_plus is the name of your project: <code>evaluating project &#39;:connectivity_plus&#39;</code>"},{"comment_id":134542781,"body":"@aled sorry for my inexperience, but I don&#39;t think I follow. The error did say that it is from the build.gradle file specified in the android folder, in which the one above is the content of it. However, there is also another build.gradle file in my Android Studio project which I also am not sure what I am looking for to be honest as they have different code blocks."}],"answers":[{"answer_id":76298184,"body":"<p>It seems that the issue lies in the <code>android</code> block.</p>\n<p>The error specifically mentions that there is no signature of the method <code>android()</code> that is applicable for the given argument. This typically occurs when there is a mismatch between the Gradle version and the Android Gradle plugin version being used.</p>\n<p>To resolve this issue, you can try the following steps:</p>\n<ol>\n<li><p>Update the Gradle version. In the <code>build.gradle</code> file of your project (not the one in the 'connectivity_plus' library), make sure you are using a compatible Gradle version.</p>\n</li>\n<li><p>Sync your project. After making any changes to the Gradle files, it's important to sync your project with the updated configurations. In Android Studio, you can click on the &quot;Sync Project with Gradle Files&quot; button or select &quot;File&quot; -&gt; &quot;Sync Project with Gradle Files&quot; from the menu.</p>\n</li>\n</ol>\n"}],"last_activity_date":1684639950,"question_id":76296520,"body":"<p>As title says, I have encountered the error while working on an android project for college of mine.\nThe entire error says this following:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* Where:\nBuild file 'C:\\Users\\william\\AppData\\Local\\Pub\\Cache\\hosted\\pub.dev\\connectivity_plus-4.0.1\\android\\build.gradle' line: 24\n\n* What went wrong:\nA problem occurred evaluating project ':connectivity_plus'.\n&gt; No signature of method: build_bou4ub0wbhz1n3u4prip3694v.android() is applicable for argument types: (build_bou4ub0wbhz1n3u4prip3694v$_run_closure2) values: [build_bou4ub0wbhz1n3u4prip3694v$_run_closure2@3428450e]\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n</code></pre>\n<p>Upon checking the build.gradle file, I don't know what the error is and what should be done. But within it, here's what it have:</p>\n<pre><code>group 'io.flutter.plugins.connectivity'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n    }\n}\n\nrootProject.allprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\napply plugin: 'com.android.library'\n\nandroid {\n    compileSdkVersion 33\n\n    namespace 'dev.fluttercommunity.plus.connectivity'\n\n    compileOptions {\n      sourceCompatibility JavaVersion.VERSION_1_8\n      targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    defaultConfig {\n        minSdkVersion 19\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    lintOptions {\n        disable 'InvalidPackage'\n    }\n}\n\n</code></pre>\n<p>As per looking up this error, I haven't seen anyone else encounter that specific error regarding 'connectivity_plus' so I am not sure what to do about it. I'm not really an expert on gradle either since the only programming I have done so far are basic Java, Python and Flutter.</p>\n<p>Any suggestions would be helpful to fix this.</p>\n<p>By the way, this was done on Gradle 7.4.2, Flutter 3.10.1 and having Java 17</p>\n"},{"comments":[{"comment_id":133876846,"body":"So you first need to group them by their common name tokens. Then once you have the group, you can decide the fate of each member of the group"}],"answers":[{"answer_id":75900668,"body":"<p>I will address the Java route, which seems to be the focus of your question. But you <em>can</em> do this work on the database, in SQL; see <a href=\"https://stackoverflow.com/a/75901147/642706\">Answer by phatfingers</a>.</p>\n<h1>Java</h1>\n<h2>String manipulation</h2>\n<p>Yes, you could do that by manipulating strings. Do that if all you need is a one-and-done quick-and-dirty solution.</p>\n<h1>Objects</h1>\n<p>Instead of string manipulation, you could use objects. Go the <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">object-oriented</a> way if you will be doing much work with these files.</p>\n<p>Write a class to represent the meaningful fields embedded in your text.</p>\n<p>I would use a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> as the main purpose of this class is to communicate data transparently and immutably. You can define a record locally, if you want.</p>\n<pre><code>record File ( … , String name , … , int version ) {}\n</code></pre>\n<p>Add a static factory method taking your input string as an argument. Split the input string on your underscore delimiter. Parse each element of that split. Pass those parsed values to the constructor of our record. Return the new <code>File</code> record object.</p>\n<p>Mark your record as implementing <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface. Write the necessary <code>compareTo</code> method using your logic of sorting by name primarily and then version secondarily.</p>\n<p>Define a navigable/sorted map of the type <code>NavigableMap &lt; String , List &lt; File &gt; &gt;</code> where string is the <code>name</code> field of our record. Populate the map using a sorted list or a <code>SortedSet</code>/<code>NavigableSet</code>. With this map you can see review all your files. And you can see which have multiple versions, with multiple entries in the list of <code>File</code> objects. The last of each list is thi most recent.</p>\n<p>Add an instance method <code>toFileSystemName</code> to recreate the original full name of the input. You’ll need this when you go to delete a file.</p>\n"},{"answer_id":75901147,"body":"<h1>SQL</h1>\n<p>You could eliminate them in the database using a SQL statement.  Since your version format is organized such that the newer version is always alphabetically larger than a prior version, and is always the same length, it facilitates a simple string match.</p>\n<p>Your file name can be matched by <code>LEFT(filename, LENGTH(filename)-11)</code></p>\n<p>Your version can be matched by <code>RIGHT(filename, 11)</code></p>\n<pre><code>SELECT DISTINCT t1.id_used_for_deletion FROM table1 t1 JOIN table2 t2 \n  ON LEFT(t1.filename, LENGTH(t1.filename)-11)=LEFT(t2.filename, LENGTH(t2.filename)-11)\n  WHERE RIGHT(t1.filename, 11) &lt; RIGHT(t2.filename, 11)\n</code></pre>\n"},{"answer_id":76298181,"body":"<p>Sure, you can definitely compare the files.</p>\n<p>I recommend creating a class, call it <code>Version</code>, to hold the values.<br />\nThen create a method to compare it to another version.</p>\n<p>The <code>parse</code> method here, requires just the version portion of the filename, not the entire filename.<br />\nThe <code>compareTo</code> works similar to a <code>String.compareTo</code>, where it will return <code>-1</code> if it is less-than the parameter value, <code>0</code> if it is equal, or <code>1</code> if it is greater-than.<br />\nThe <code>toString</code> is simply for debugging purposes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Version {\n    int major, minor, build;\n\n    static Version parse(String string) {\n        String[] strings = string.split(&quot;_&quot;);\n        Version version = new Version();\n        version.major = Integer.parseInt(strings[0]);\n        version.minor = Integer.parseInt(strings[1]);\n        version.build = Integer.parseInt(strings[2]);\n        return version;\n    }\n\n    int compareTo(Version version) {\n        if (major &gt; version.major) return 1;\n        else if (major &lt; version.major) return -1;\n        else {\n            if (minor &gt; version.minor) return 1;\n            else if (minor &lt; version.minor) return -1;\n            else {\n                if (build &gt; version.build) return 1;\n                else if (build &lt; version.build) return -1;\n                return 0;\n            }\n        }\n    }\n\n    @Override\n    public String toString() {\n        return &quot;%d.%d.%d&quot;.formatted(major, minor, build);\n    }\n}\n</code></pre>\n<p>You could then utilize this method, possibly as a field within a class, or just as a way to compare the values against other values.</p>\n<p>Here is an example, using your data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fileA = &quot;abc_01234xyz_001_000_009&quot;;\nString fileB = &quot;abc_45678xyz_002_004_012&quot;;\nString nameA = fileA.substring(0, fileA.length() - 12);\nString nameB = fileB.substring(0, fileB.length() - 12);\nVersion versionA = Version.parse(fileA.substring(fileA.length() - 11));\nVersion versionB = Version.parse(fileB.substring(fileB.length() - 11));\nSystem.out.println(&quot;nameA = &quot; + nameA);\nSystem.out.println(&quot;nameB = &quot; + nameB);\nSystem.out.println(&quot;versionA = &quot; + versionA);\nSystem.out.println(&quot;versionB = &quot; + versionB);\nSystem.out.printf(&quot;%s compare %s == %d%n&quot;, versionA, versionB, versionA.compareTo(versionB));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>nameA = abc_01234xyz\nnameB = abc_45678xyz\nversionA = 1.0.9\nversionB = 2.4.12\n1.0.9 compare 2.4.12 == -1\n</code></pre>\n"}],"last_activity_date":1684639887,"question_id":75900431,"body":"<p>I got some entries in a database of files with a specific naming pattern e.g.:</p>\n<p>Filename1: abc_01234xyz_001_000_009</p>\n<p>Filename2:\nabc_45678xyz_002_004_012</p>\n<p>The part after abc_ for example 01234xyz is the name of the specific file and the last 3 digits are the version</p>\n<p>Now I have a different database where there might be the same file or a older version of it e.g</p>\n<p>abc_01234xyz_001_000_008</p>\n<p>Is given in this example it's the same file but an older version, in this case the older file can be deleted</p>\n<p>Now my question is is there a practical way to compare those files?</p>\n<p>Or is the only way splitting these strings for example by &quot;_&quot; and compare the indexes (here index 1 and 4)?\nThe files have the same naming pattern with the seperation by _</p>\n"},{"comments":[{"comment_id":134545610,"body":"Just use a CSV library."}],"last_activity_date":1684639875,"question_id":76298180,"body":"<p>I need to write a method that will import each line of text in a CSV file that has credit card information in it into an ArrayList . Then I will use a StringTokenizer to find the number of transactions, and how many debit and credit transactions there are. The transactions are determined as credits or debits based on where in the transaction string there is an empty space.</p>\n<p>Heres my main method:</p>\n<pre><code>public static void main ()\n    {\n        boolean moreLines = true;\n        int numTransactions = 0;\n        int numDebits = 0;\n        int numCredits = 0;\n        int debTotal = 0;\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        try {\n            s = new Scanner (new File (&quot;visadata.csv&quot;));\n        }\n        catch (FileNotFoundException e)\n        {\n            System.out.println(&quot;File Not Found&quot;);\n        } \n        \n        while (moreLines)\n        {\n            try\n            {\n                list.add(s.nextLine());\n                numTransactions++;\n            }\n            \n            catch (NullPointerException e)\n            {\n                moreLines = false;\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\n            }\n            catch (NoSuchElementException e)\n            {\n                moreLines = false;\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\n            }\n        }\n        for (String s : list){\n            String[] temp = getTokens(s);\n            if (temp[2].equals(&quot;&quot;)){\n                numCredits++;\n            } // this is a credit because debt is empty\n            if (temp[3].equals(&quot;&quot;)){\n                numDebits++;\n            } // this is a debit because cred is empty\n        }\n        System.out.println(&quot;There are &quot; + numCredits + &quot; credit transactions&quot;);\n        System.out.println(&quot;There are &quot; + numDebits + &quot; debit transactions&quot;);\n        //getTokens(list);\n    }\n</code></pre>\n<p>I expected it to give me the number of credits and debits in the text file but instead its giving me an ArrayIndexOutOfBoundsException in my getTokens method here</p>\n<pre><code>private static String[] getTokens (String input) {\n        String[] tokens = new String[5];\n        // Create empty String in each of 5 locations so\n        // I can add to them\n        for (int i = 0; i &lt; tokens.length; i++){\n            tokens[i] = &quot;&quot;;\n        }\n    \n        int index = 0; // location in array\n        int pointer = 0; // location in the String\n        boolean inQuotes = false; // to keep track of whether the pointer\n        // within quotes - ignore commas\n        while (true){\n            if (pointer == input.length()){\n                break;\n            }\n            if (input.charAt(pointer) == '\\&quot;'){\n                if (inQuotes){      \n                    inQuotes = false;\n                } else {\n                    inQuotes = true;\n                }\n            }\n            else if (input.charAt(pointer) == ','){\n                if (inQuotes){ // while between quotes\n                    // commas get added at end of current token\n                    tokens[index] += input.charAt(pointer);\n                } else {\n                    // when not in quotes, comma means move on\n                    // to next token\n                    index++;\n                }\n            }\n            \n            else if (input.charAt(pointer) == ' '){\n                if (inQuotes){ // while between quotes\n                    // commas get added at end of current token\n                    tokens[index] += input.charAt(pointer);\n                } else {\n                    // when not in quotes, comma means move on\n                    // to next token\n                    index++;\n                }\n            }\n            \n            else {\n                // anything other than &quot; or , will get added to the end\n                // of my current token.\n                tokens[index] += input.charAt(pointer); &lt;------ ERROR OCCURS HERE\n            }\n            pointer++;\n        }\n    \n        return tokens;\n    }\n</code></pre>\n"},{"answers":[{"answer_id":76298024,"body":"<p>The <code>TimerTask</code> is being executed on the <code>Timer</code> thread, not the thread that created the <code>TimerTask</code>, <code>Timer</code>, or <code>MaterialTextView</code>.</p>\n<p>From <a href=\"https://developer.android.com/reference/java/util/Timer\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/util/Timer</a> :</p>\n<blockquote>\n<p>Corresponding to each Timer object is a single background thread that is used to execute all of the timer's tasks, sequentially.</p>\n</blockquote>\n"}],"last_activity_date":1684639552,"question_id":76297977,"body":"<p>I am trying to create and show an <code>AlertDialog</code> when I send a request to my server, and cancel it when I receive a response. This is my code:</p>\n<pre><code>View alertdialog_2 = LayoutInflater.from(candidate_registration_1.this).inflate(R.layout.custom_dialog_layout2,null);\n\nAlertDialog.Builder dialog_2 = new AlertDialog.Builder(candidate_registration_1.this);\n\ndialog_2.setView(alertdialog_2);\n\nMaterialTextView txt = alertdialog_2.findViewById(R.id.dialogtext);\n\nAlertDialog wait_dialog = dialog_2.create();\n\nwait_dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n\ncall = api.save_data(array.get(0),array.get(1));\n\nif(call != null){\n\n    wait_dialog.show();\n\n    final int[] dotcount = {0};\n\n    new Timer().scheduleAtFixedRate(new TimerTask(){ //creating a ... animation in text inside dialog\n        @Override\n        public void run(){\n            dotcount[0] += 1;\n            if(dotcount[0] != 3){\n                txt.append(&quot;.&quot;);\n            }\n            else{\n                dotcount[0] = 0;\n                String tmp = txt.getText().toString();\n                tmp = tmp.replace(&quot;.&quot;,&quot;&quot;);\n                txt.setText(tmp);\n            }\n        }\n    },0,1000);\n\n    call.enqueue(new Callback&lt;String&gt;() {\n        @Override\n        public void onResponse(@NonNull Call&lt;String&gt; call, @NonNull Response&lt;String&gt; response) {\n            wait_dialog.cancel();\n        }\n        @Override\n        public void onFailure(@NonNull Call&lt;String&gt; call, @NonNull Throwable t) {}\n    });\n}\n</code></pre>\n<p>When I execute the code, I get this error:</p>\n<blockquote>\n<p>android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.</p>\n</blockquote>\n<p>in the line <code>txt.append(&quot;.&quot;);</code>. Why is that? How do I fix this?</p>\n"},{"comments":[{"comment_id":134545705,"body":"Ok. Looks like this is happening only on emulators. On a real device with debugging mode, I am able to get data."}],"last_activity_date":1684638984,"question_id":76298112,"body":"<p>I am trying to get data from API using okhttpclient in android studio. But it is neither throwing exception nor retrieving data. The same API with okhttpclient works well in a java project in IntelliJ. I also gave android internet permission in the manifest file.</p>\n<p>Here is what I am trying to do.</p>\n<pre><code>mediumBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                OkHttpClient client = new OkHttpClient();\n                Request request = new Request.Builder()\n                        .url(Configuration.EASY_URL)\n                        .build();\n                client.newCall(request).enqueue(new Callback() {\n                    @Override\n                    public void onResponse(Call call, Response response) throws IOException {\n                        // Check if the request was successful (HTTP 200-299)\n                        if (response.isSuccessful()) {\n                            // Get the response body as a string\n                            String responseBody = response.body().string();\n\n                            // Do something with the response body\n                            System.out.println(responseBody);\n                            Log.d(&quot;Response&quot;, responseBody);\n                        } else {\n                            // Request was not successful\n                            Log.d(&quot;Request Failed&quot;, &quot;Code: &quot; + response.code());\n                        }\n\n                        // Close the response to release resources\n                        response.close();\n                    }\n\n                    @Override\n                    public void onFailure(Call call, IOException e) {\n                        e.printStackTrace();\n                    }\n                });\n\n            }\n        });\n</code></pre>\n<p>On clicking the button I am trying to get data from the API. But the process keeps on running and there is no error in logcat or console.</p>\n<p>This is the URL I am trying to access</p>\n<pre><code>public static String EASY_URL= &quot;https://opentdb.com/api.php?amount=20&amp;category=21&amp;difficulty=easy&amp;type=multiple&quot;;\n</code></pre>\n"},{"comments":[{"comment_id":15869368,"body":"What is the value you get? What value did you expect?"},{"comment_id":15869378,"body":"I expect the output contains letters. But the output comes always as numbers."},{"comment_id":15869381,"body":"What decimal value are you trying with?"},{"comment_id":15869382,"body":"Ex: If I input 15, I expect F. But I get 21."},{"comment_id":15869426,"body":"<code>0x15 = 21</code>. You parsed the input <i>as</i> a hex string."}],"answers":[{"comments":[{"comment_id":15869418,"body":"need to improve my typing speed"},{"comment_id":15869427,"body":"Ok. But what is the difference between writing: <code>String s=toHex.toString(16);</code> and <code>String s=toHex.toString();</code> ??"},{"comment_id":15869444,"body":"<code>toString()</code> will return a base-10 representation of the number, while <code>toString(16)</code> will return a base-16 representation of the number."},{"comment_id":15869477,"body":"What should I use because both of them gives me the correct output. So I don&#39;t understand. If I entered input 15, I get f in both ways."}],"answer_id":11918145,"body":"<p>You should change </p>\n\n<pre><code>BigInteger toHex=new BigInteger(dec,16);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>BigInteger toHex=new BigInteger(dec,10);\n                                     ^\n</code></pre>\n\n<p>Currently you ask the user for a dec-value, and then interpret the input as a hex-value. (That's why the output is identical to the input.)</p>\n"},{"answer_id":11918147,"body":"<p>I think I see the problem:</p>\n\n<pre><code>BigInteger toHex=new BigInteger(dec,16);\n</code></pre>\n\n<p>You are converting the number you type to an integer using base 16. Try using <code>10</code> here.</p>\n"},{"answer_id":11918155,"body":"<p>use</p>\n\n<pre><code> BigInteger toHex=new BigInteger(dec,10);\n</code></pre>\n"},{"answer_id":17744644,"body":"<pre><code>String hexValue = \"FFF\";\n    System.out.println(\"HexaDecimal Value :\"+hexValue);\n    BigInteger bigint = new BigInteger(hexValue ,16);\n    System.out.println(\"Big Int Value :\"+bigint);\n    BigInteger s = new BigInteger(\"4\");\n    bigint = bigint.add(s);\n    System.out.println(\"After Addition :\"+bigint);\n    String hexNewValue = bigint.toString(16);\n    System.out.println(\"HexaDecimal Value after Addition :\"+hexNewValue);\n</code></pre>\n"},{"answer_id":76293689,"body":"<p>there is a same questions:\ni have a BigInteger value like this:</p>\n<pre><code> BigDecimal price = BigDecimal.valueOf(1151234).movePointRight(16);\n</code></pre>\n<p>and i want convert price to hex, i just write this code. then it output as i expect:</p>\n<pre><code>    System.out.println(&quot;0x&quot; + price.toBigInteger().toString(16));\n    //expect 0x27015cfcb0230820000\n    //output 0x27015cfcb0230820000\n</code></pre>\n"}],"last_activity_date":1684638397,"question_id":11918123,"body":"<p>I am making a Java program. I have a BigInteger number and I need to convert it to Hexadecimal. I tried the following code:</p>\n<pre><code>String dec = null;\nSystem.out.println(&quot;Enter the value in Dec: &quot;);\nBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\ndec = br.readLine();  \nBigInteger toHex=new BigInteger(dec,16);\nString s=toHex.toString(16);\nSystem.out.println(&quot;The value in Hex is: &quot;+ s);\n</code></pre>\n<p>However, this does not give me the correct value after conversion. I am not sure how I can achieve the desired output.</p>\n<p>Any help is welcome.</p>\n"},{"comments":[{"comment_id":134366428,"body":"Hi , Can you please add sample input text file and sample output you are expecting?"},{"comment_id":134366511,"body":"Firstly, you could halve the length of stretches of your code by using a <code>PrintWriter</code> and just calling <code>pw.println(&quot;293847&quot;);</code> etc. More importantly, we don&#39;t do &quot;2d array lists&quot;. Java is an object-oriented language so you would have a <code>List</code> of objects encapsulating the data you want. It&#39;s difficult to see what you want here from your code, so you need to explain more"},{"comment_id":134379788,"body":"Sorry for replying so late. The basic idea behind my code is that I will put the contents of the text files into array lists and which will then be called on to display in a jframe."},{"comment_id":134379817,"body":"Still too vague. What&#39;s in the text files and what is represented?"},{"comment_id":134404212,"body":"the numbers in the text file is the meter number. The user will input a 5 digit meter number and the program will find the corresponding 5 digit numbers and then retrieve information based on which meter number combination was met. The program I made is supposed to resemble a simple electric billing system."},{"comment_id":134406543,"body":"OK, so you&#39;d probably need at minimum <code>class Meter { private int id; private List&lt;Integer&gt; readings }</code> though for completeness each reading should have a date"}],"answers":[{"answer_id":76297704,"body":"<p>I've adapted your code to return a <code>List&lt;List&lt;String&gt;&gt;</code>.</p>\n<p>Consider the following methods.</p>\n<p>You don't need the <code>BufferedWriter</code> if you're just added a few lines.<br />\nPlace your <code>FileWriter</code> into a try-with-resources block, so it will automatically close upon error.<br />\nAdditionally, you can utilize the <code>append</code> method, which is a &quot;builder&quot; method, allowing you to chain calls.  You could also use <code>PrintWriter</code>, which has a <code>println</code> method, if you wanted, to make it a single call.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void filehandling(String path) throws IOException {\n    try (FileWriter writer = new FileWriter(path)) {\n        String newline = System.lineSeparator();\n        writer.append(&quot;13920&quot;).append(newline);\n        writer.append(&quot;32981&quot;).append(newline);\n        writer.append(&quot;2399&quot;).append(newline);\n        writer.append(&quot;12903&quot;).append(newline);\n        writer.append(&quot;59942&quot;).append(newline);\n        writer.append(&quot;58342&quot;).append(newline);\n        writer.append(&quot;12324&quot;).append(newline);\n        writer.append(&quot;66342&quot;).append(newline);\n        writer.append(&quot;90012&quot;).append(newline);\n        writer.append(&quot;55221&quot;);\n        writer.flush();\n    }\n}\n</code></pre>\n<p>Similarly, place your <code>BufferedReader</code> within a try-with-resources block.<br />\nUtilize some additional methods to return your <code>ccode</code>, <code>prreading</code>, and <code>ctype</code> values.<br />\nIt is of course not necessary, although it can improve the scalability of your application.<br />\nFinally, your declaring type, for an <code>ArrayList</code>, can just be <code>List</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;List&lt;String&gt;&gt; filetoarray(String path) throws IOException {\n    List&lt;String&gt; lines;\n    try (BufferedReader reader = new BufferedReader(new FileReader(path))) {\n        lines = new ArrayList&lt;&gt;();\n        String line;\n        while ((line = reader.readLine()) != null)\n            lines.add(line);\n    }\n    List&lt;List&lt;String&gt;&gt; list = new ArrayList&lt;&gt;();\n    list.add(lines);\n    list.add(List.of(ccode()));\n    list.add(List.of(prreading()));\n    list.add(List.of(ctype()));\n    return list;\n}\n\nString[] ccode() {\n    return new String[] {\n        &quot;123468&quot;,\n        &quot;492312&quot;,\n        &quot;642344&quot;,\n        &quot;353421&quot;,\n        &quot;354332&quot;,\n        &quot;6746643&quot;,\n        &quot;7578885&quot;,\n        &quot;3949390&quot;,\n        &quot;1000348&quot;,\n        &quot;5396978&quot;,\n        &quot;1234567&quot;,\n    };\n}\n\nString[] prreading() {\n    return new String[] {\n        &quot;1000&quot;,\n        &quot;6000&quot;,\n        &quot;3980&quot;,\n        &quot;2300&quot;,\n        &quot;4200&quot;,\n        &quot;8000&quot;,\n        &quot;1230&quot;,\n        &quot;4222&quot;,\n        &quot;5100&quot;,\n        &quot;3000&quot;,\n        &quot;&quot;\n    };\n}\n\nString[] ctype() {\n    return new String[] {\n        &quot;r&quot;,\n        &quot;r&quot;,\n        &quot;c&quot;,\n        &quot;c&quot;,\n        &quot;r&quot;,\n        &quot;c&quot;,\n        &quot;r&quot;,\n        &quot;c&quot;,\n        &quot;r&quot;,\n        &quot;r&quot;,\n        &quot;&quot;\n    };\n}\n</code></pre>\n"}],"last_activity_date":1684638382,"question_id":76192766,"body":"<pre class=\"lang-java prettyprint-override\"><code>public void filehandling() throws IOException {\n    FileWriter f = new FileWriter(&quot;C:\\\\Users\\\\PCB\\\\Documents\\\\NetBeansProjects\\\\Billing\\\\src\\\\Files\\\\MeterNumber.txt&quot;);\n    BufferedWriter b = new BufferedWriter(f);\n    b.write(&quot;13920&quot;);\n    b.newLine();\n    b.write(&quot;32981&quot;);\n    b.newLine();\n    b.write(&quot;2399&quot;);\n    b.newLine();\n    b.write(&quot;12903&quot;);\n    b.newLine();\n    b.write(&quot;59942&quot;);\n    b.newLine();\n    b.write(&quot;58342&quot;);\n    b.newLine();\n    b.write(&quot;12324&quot;);\n    b.newLine();\n    b.write(&quot;66342&quot;);\n    b.newLine();\n    b.write(&quot;90012&quot;);\n    b.newLine();\n    b.write(&quot;55221&quot;);\n    b.close();\n    f.close();\n}\n\npublic void filetoarray() throws IOException {\n    BufferedReader bufReader = new BufferedReader(new FileReader(&quot;C:\\\\Users\\\\PCB\\\\Documents\\\\NetBeansProjects\\\\Billing\\\\src\\\\Files\\\\MeterNumber.txt&quot;));\n    ArrayList&lt;String&gt; mnumber = new ArrayList&lt;&gt;();\n\n    String line = bufReader.readLine();\n    while (line != null) {\n        mnumber.add(line);\n        line = bufReader.readLine();\n    }\n    bufReader.close();\n\n    ArrayList&lt;ArrayList&lt;String&gt;&gt; mdetails = new ArrayList();\n    {\n        ArrayList&lt;String&gt; ccode = new ArrayList();\n        {\n            ccode.add(&quot;123468&quot;);\n            ccode.add(&quot;492312&quot;);\n            ccode.add(&quot;642344&quot;);\n            ccode.add(&quot;353421&quot;);\n            ccode.add(&quot;354332&quot;);\n            ccode.add(&quot;6746643&quot;);\n            ccode.add(&quot;7578885&quot;);\n            ccode.add(&quot;3949390&quot;);\n            ccode.add(&quot;1000348&quot;);\n            ccode.add(&quot;5396978&quot;);\n            ccode.add(&quot;1234567&quot;);\n        }\n\n        ArrayList&lt;String&gt; prreading = new ArrayList();\n        {\n            prreading.add(&quot;1000&quot;);\n            prreading.add(&quot;6000&quot;);\n            prreading.add(&quot;3980&quot;);\n            prreading.add(&quot;2300&quot;);\n            prreading.add(&quot;4200&quot;);\n            prreading.add(&quot;8000&quot;);\n            prreading.add(&quot;1230&quot;);\n            prreading.add(&quot;4222&quot;);\n            prreading.add(&quot;5100&quot;);\n            prreading.add(&quot;3000&quot;);\n            prreading.add(&quot;&quot;);\n        }\n\n        ArrayList&lt;String&gt; ctype = new ArrayList();\n        {\n            ctype.add(&quot;r&quot;);\n            ctype.add(&quot;r&quot;);\n            ctype.add(&quot;c&quot;);\n            ctype.add(&quot;c&quot;);\n            ctype.add(&quot;r&quot;);\n            ctype.add(&quot;c&quot;);\n            ctype.add(&quot;r&quot;);\n            ctype.add(&quot;c&quot;);\n            ctype.add(&quot;r&quot;);\n            ctype.add(&quot;r&quot;);\n            ctype.add(&quot;&quot;);\n        }\n\n        mdetails.add(mnumber);\n        mdetails.add(ccode);\n        mdetails.add(prreading);\n        mdetails.add(ctype);\n    }\n}\n</code></pre>\n<p>I was trying to use to convert a text file to arraylist then include it to a 2d arraylist from another class. I would like to add it to the 2d arraylist so I can simply just call on its contents using operations meant for 2d arraylists</p>\n<p>I am quite new to java and haven't really found a solution to this and would greatly appreciate the help.</p>\n<p><a href=\"https://i.stack.imgur.com/EU7qd.png\" rel=\"nofollow noreferrer\">This is how I plan to use the contents of the text file through array lists</a></p>\n"},{"comments":[{"comment_id":134545398,"body":"The start index goes 0, 1, 2, etc.  The end index goes N, N - 1, N -  2, etc.  When they meet in the middle <code>(start &gt; end)</code> both sides of the palindrome have been verified and the method returns true."},{"comment_id":134545407,"body":"<code>start</code> and <code>end</code> are not great names. I would use something like <code>indexOfNextLeadingCharacterToCheck</code> and <code>indexOfNextTrailingCharacterToCheck</code>"},{"comment_id":134545592,"body":"This isn&#39;t valid Java code."},{"comment_id":134547893,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"last_activity_date":1684636934,"question_id":76298067,"body":"<p>This is an algorithm that tests whether a string is a palindrome. I'm confused about the third line. Can someone explain to me what does &quot;if (start &gt; end)&quot; means in this code? Why does it return true?</p>\n<pre><code>Algorithm isPalindrome(aString, start, end)\n// Tests whether a string is a palindrome\nif (start &gt; end)\n    return true\nelse\n{\nif (characters at start and end are different)\n    return false\nelse\n    return isPalindrome(aString, start+1, end-1)\n}\n</code></pre>\n<p>Does it mean that the index of the first letter in the string is greater than the index of the last letter?</p>\n"},{"comments":[{"comment_id":132952844,"body":"Try adding &lt;scope&gt;provided&lt;/scope&gt; in your jakarta servlet dependency like below:"},{"comment_id":132952849,"body":"&lt;dependency&gt;   &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;   &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;   &lt;version&gt;version&lt;/version&gt;   &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;"},{"comment_id":132952900,"body":"@jarvo69 Unfortunately, still the same outcome"},{"comment_id":132956845,"body":"Your POM says Spring 6 &amp; Spring Boot 3, but your error message says you are using Spring 5 and Spring Boot 2."}],"answers":[{"answer_id":75349825,"body":"<p>Your pom looks good. Try the suggestion from this post: <a href=\"https://stackoverflow.com/questions/9980869/force-intellij-idea-to-reread-all-maven-dependencies\">Force Intellij IDEA to reread all maven dependencies</a>. From what I can tell your intelij is has not loaded the dependency into your env yet.</p>\n"}],"last_activity_date":1684636426,"question_id":75347956,"body":"<p>I installed Intellij on my new laptop and I attempted to run a very simple Spring Boot web app from a course i cloned. When I run the app, I keep getting the same <code>java.lang.IllegalStateException: Failed to introspect Class [org.springframework.web.context.support.GenericWebApplicationContext] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2f0e140b]</code> followed by <code>java.lang.ClassNotFoundException: jakarta.servlet.ServletContext</code>. Everything works fine when i run the app in (for example) Visual Studio Code.</p>\n<p>My <code>pom.xml</code> file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ltp&lt;/groupId&gt;\n    &lt;artifactId&gt;global-superstore&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;global-superstore&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;repo1.maven.org&lt;/id&gt;\n            &lt;url&gt;https://repo1.maven.org/maven2/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    \n&lt;/project&gt;\n</code></pre>\n<p>I tried downloading multiple versions of jakarta.servlet-api and I get the same error every time. When I download jakarta.servlet-api, I don't get ServletContext interface in jakarta/servlet folder. Is there something I'm missing?</p>\n<p>Here is the full stack trace:</p>\n<pre><code>java.lang.IllegalStateException: Failed to introspect Class [org.springframework.web.context.support.GenericWebApplicationContext] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@2f0e140b]\n    at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:743) ~[spring-core-5.3.19.jar:5.3.19]\n    at org.springframework.util.ReflectionUtils.findField(ReflectionUtils.java:611) ~[spring-core-5.3.19.jar:5.3.19]\n    at org.springframework.boot.devtools.restart.ClassLoaderFilesResourcePatternResolver.retrieveResourceLoader(ClassLoaderFilesResourcePatternResolver.java:81) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\n    at org.springframework.boot.devtools.restart.ClassLoaderFilesResourcePatternResolver.&lt;init&gt;(ClassLoaderFilesResourcePatternResolver.java:77) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\n    at org.springframework.boot.devtools.restart.Restarter.prepare(Restarter.java:442) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\n    at org.springframework.boot.devtools.restart.Restarter.prepare(Restarter.java:430) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\n    at org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationPreparedEvent(RestartApplicationListener.java:100) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\n    at org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationEvent(RestartApplicationListener.java:53) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-5.3.19.jar:5.3.19]\n    at org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:103) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:74) ~[spring-boot-2.6.7.jar:2.6.7]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:74) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:408) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.7.jar:2.6.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.7.jar:2.6.7]\n    at com.ltp.globalsuperstore.GlobalSuperstoreApplication.main(GlobalSuperstoreApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.7.jar:2.6.7]\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/ServletContext\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3353) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredFields(Class.java:2424) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:738) ~[spring-core-5.3.19.jar:5.3.19]\n    ... 25 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.ServletContext\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 29 common frames omitted\n</code></pre>\n"},{"comments":[{"comment_id":134545238,"body":"Have a look at the implementation of <code>HashMap.containsKey()</code>, or just at the theory of HashMaps in general. Did you do any research before asking this question?"},{"comment_id":134545247,"body":"FYI, your question is ill-premised, in that <code>Map</code> and <code>List</code> are interfaces with many implementations. It&#39;s possible to have an implementation of <code>Map.containsKey</code> that takes linear time, and it&#39;s possible to have an implementation of <code>List.contains</code> that takes constant time. So you need to ask about <code>HashMap</code> and <code>ArrayList</code> specifically."},{"comment_id":134545288,"body":"@tgdavies yes, that is the implementation in my example. Also, I am asking how a search of an implementation of Map can achieve constant time. Many, if not all, implementations of the Map interface in Java have methods that are able to search in constant time. Also, the link you provided does not address this."},{"comment_id":134545308,"body":"@ruakh Many, if not all, implementations of the Map interface in Java have methods that are able to search in constant time, or else they might not be a &quot;map&quot;. I gave a specific implementation for both Map and List in my example, which you acknowledged in your comment."},{"comment_id":134545309,"body":"@tgdavies it&#39;s ok for beginners to ask beginner questions. not everyone knows the right keywords to search for to find what they want."},{"comment_id":134545323,"body":"The <code>HashMap</code> implementation, specifically, uses a hash table internally. The nature of a hash table means a lookup can happen in O(1) time, because all that matters is whether the bucket the key&#39;s hash falls into contains the key (though it gets a little more complicated when dealing with hash collisions). The &quot;table&quot; is an array, and if you know the index you want to look at then accessing the array is O(1). An <code>ArrayList</code> does not use a hash table. It just uses an array &quot;as is&quot;. Therefore, it has to search the entire array linearly to see if it contains the element, which is an O(n) task."},{"comment_id":134545371,"body":"@Slaw &quot;if you know the index you want to look at then accessing the array is O(1)&quot; I am asking about a search operation for a map and a list, more specifically a has map and an array list, I am not asking about an access operation."},{"comment_id":134545384,"body":"As explained, the hash of the key is used to compute the index of the array to access. Accessing an array at a specific index is O(1). So, yes, you are implicitly asking about an access operation. Research hash tables and this will start to make more sense to you."},{"comment_id":134545410,"body":"@Slaw HashMap.containsKey() and ArrayList.contains() are used when you do not know if the data structure contains an element, therefore you do not know the index or if it even exists, therefore you must search the data structure. I am asking about a search operation, not an access operation."},{"comment_id":134545473,"body":"I recommend you research hash tables. What I&#39;m saying will make much more sense if you understand how the implementation works. But again, the hash is computed from the key, and the index is computed from the hash. You are passing the key to the <code>containsKey</code> method as an argument. So, it <i>does</i> know which index to search in the array. That&#39;s why I keep bringing up that accessing an array is O(1) time. You only ever look at one location; you don&#39;t search the entire array. That&#39;s different from an <code>ArrayList</code>, which <i>does</i> search the array linearly."},{"comment_id":134545496,"body":"@Slaw Ok, so that&#39;s more what I&#39;m asking for, but really I&#39;m asking how the &quot;hash&quot; algorithm that I did not create is able to produce the index of the key that I&#39;m looking for when my input is NOT the index but the value at the index which is not known yet. But I will research hash tables. Thank you for your explanation."},{"comment_id":134545509,"body":"A hash algorithm is simply something that takes an object and returns an integer. Ideally, every unique object would result in a different integer. Though that&#39;s not always possible. Now, in Java&#39;s <code>HashMap</code>, the hash is gotten by calling the <code>hashCode()</code> method on the key. Naively, the index would be computed by doing something like <code>int index = key.hashCode() % array.length</code>. Though <code>HashMap</code>, if I&#39;m not mistaken, does some more advanced things to make the implementation better somehow."},{"comment_id":134545717,"body":"@BrendanB: Many, but not all; for example, TreeMap.get and ConcurrentSkipListMap require logarithmic time. And EnumMap achieves constant time by a different principle, so it doesn&#39;t make sense to ask generically about how HashMap and EnumMap both manage it, unless you&#39;re OK with an answer that&#39;s vague enough to apply to both."}],"answers":[{"comments":[{"comment_id":134547897,"body":"<i>&quot;The List is basically a bunch of objects that point to their previous and next elements.&quot;</i> that describes a linked list, which - at least in Java - is not something you should use."},{"comment_id":134553608,"body":"@MarkRotteveel The Linked List is what is commonly taught in school, so it&#39;s what I talked about. When faced with a question from an obvious beginner, it&#39;s a good idea to answer from a beginner&#39;s perspective. I suppose the structure of the List isn&#39;t that important, though, since the main lack is an ability to go from value to location like the Map can."}],"answer_id":76298018,"body":"<p>This is just how those data structures are, well, structured.</p>\n<p>The simpler case is the List. The List is basically a bunch of objects that point to their previous and next elements. No single List element knows where all of the other elements are, just its neighbors. So, if you want to figure out if a specific value is present, you have to go through the entire List and read their values. This means the operation is <code>O(n)</code>, or linear, in time.</p>\n<p>For a Map, they typically use a hash to summarize a key and to tell the data structure where to put the key and value in the backing storage (the data structure that actually contains the keys and values).</p>\n<p>The typical example of this is an array of Lists. You create an array index using <code>int arrayIndex = hash(key) % backingArray.length</code>. Then, you do <code>backingArray[arrayIndex].contains(value)</code>. Since it is unlikely for two keys to have the same <code>arrayIndex</code>, this <code>contains</code> call usually happens in <code>O(1)</code> time since the List only has one element, but since it's possible for there to be multiple elements in a worst-case scenario, it's actually <code>O(n)</code> in time for a true worst-case scenario.</p>\n<p><code>Map.containsKey</code> is only <code>O(1)</code> in time if the hashing function properly distributes the keys.</p>\n"}],"last_activity_date":1684636079,"question_id":76297990,"body":"<p>In other words, how can Map.containsKey() search without iterating over the elements in proper sequence like List.contains() does, which is what makes List.contains() have a linear time complexity?</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    list.add(1);\n    list.add(2);\n    list.add(3);\n    list.add(4);\n    list.add(5);\n    list.contains(5); // Linear Time Complexity\nMap&lt;Integer, Character&gt; map = new HashMap&lt;&gt;();\n    map.put(1,'a');\n    map.put(2,'b');\n    map.put(3,'c');\n    map.put(4,'d');\n    map.put(5,'e');\n    map.containsKey(5); // Only Constant Time Complexity\n</code></pre>\n"},{"comments":[{"comment_id":134529498,"body":"It is absolutly possible. In general it is achived by adding libraries in classpath (as described here <a href=\"https://stackoverflow.com/questions/8084926/including-jar-files-in-class-path\" title=\"including jar files in class path\">stackoverflow.com/questions/8084926/&hellip;</a> )."},{"comment_id":134555353,"body":"Thanks @IvanBaranuk , I think I have done this (for intellij) as you can see in the screenshot I have attached but it does not seem to work. Unless I am missing something here"}],"answers":[{"answer_id":76297805,"body":"<p>You can add your external library to the classpath but there is another way that is better. Because of both projects are maven based it's better to use one of them as a dependency of another one . If we name the project that manages database connection as ConnectorProject you should at first build this project . After building ,the jar file of this project goes to .m2 folder so every projects that add ConnectorProject dependency in its own pom.xml file can use it. So add this dependency to your main project.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;${connector-project-groupId}&lt;/groupId&gt;\n    &lt;artifactId&gt;${connector-project-artifactId}&lt;/artifactId&gt;\n    &lt;version&gt;${connector-project-version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"last_activity_date":1684635411,"question_id":76287546,"body":"<p>I have a <strong>main spring boot application</strong> that connects to a mongodb to perform certain actions.</p>\n<p>It's main class:</p>\n<pre><code>@EnableMongoRepositories(repositoryBaseClass = CustomMongoRepositoryImpl.class)\n@ComponentScan(basePackages = {&quot;org.company.product&quot;})\n@SpringBootApplication\npublic class SvcPosControllerDataApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(SvcPosControllerDataApplication.class, args);\n    }\n}\n</code></pre>\n<p>It's pom.xml</p>\n<pre><code>...\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n      &lt;scope&gt;runtime&lt;/scope&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Database --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n...\n</code></pre>\n<p>It's application properties</p>\n<pre><code>...\nspring.data.mongodb.uri=mongodb://localhost:27017/\nspring.data.mongodb.database=myMongoDb_Test\n...\n</code></pre>\n<p>Now, I want to be able and use (<em>on demand</em>) an <strong>external jar file</strong> that connects to an mssql database and retrieves some data.</p>\n<p>I am adding the external jar into my main project in the following way (I can not declare it as a dependency):</p>\n<p><a href=\"https://i.stack.imgur.com/INbJd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/INbJd.jpg\" alt=\"enter image description here\" /></a></p>\n<p>The external jar file has the following elements:</p>\n<p>A repository:</p>\n<pre><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, String&gt; {\n    Customer findByAccountNumber(String accountNumber);\n}\n</code></pre>\n<p>An entity class:</p>\n<pre><code>@Entity\n@Table(name = &quot;Customer&quot;)\npublic class Customer {\n    @Column(name = &quot;StoreID&quot;)\n    private Integer storeID;\n\n    @Id\n    @Size(max = 20)\n    @Nationalized\n    @Column(name = &quot;AccountNumber&quot;, length = 20)\n    private String accountNumber;\n    ...\n</code></pre>\n<p>A data service to fetch some data from the database (implements a common interface and is declared as primary to override main's project dataservice):</p>\n<pre><code>@Service\n@Primary\npublic class BasicDataServiceCustomer_External implements IDataServiceCustomer {\n    @Autowired\n    CustomerMappingService customerMappingService;\n    @Autowired\n    Utils utils;\n    @Autowired\n    CustomerRepository repo;\n    @Autowired\n    EntityManager em;\n\n    @Override\n    public List&lt;Customer&gt; findAll() {\n    ...\n</code></pre>\n<p>It's pom.xml</p>\n<pre><code>...\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot-starter.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;${spring-boot-starter-data-jpa.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n    &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;${mssql-jdbc.version}&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n...\n</code></pre>\n<p>And it's application properties:</p>\n<pre><code>spring.datasource.url= jdbc:sqlserver://localhost:1433;encrypt=true;trustServerCertificate=true;databaseName=MyDatabase_Test\nspring.datasource.username= sa\nspring.datasource.password= *******\n\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.SQLServerDialect\nspring.jpa.hibernate.ddl-auto= none\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\nspring.jpa.properties.hibernate.create_empty_composites.enabled=true\n</code></pre>\n<p>Finally it's main class:</p>\n<pre><code>//@SpringBootApplication\n@EnableJpaRepositories(basePackages = {&quot;org.company.product.external_service.repository&quot;})\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(basePackages = {&quot;org.company.product&quot;,&quot;org.company.product.external_service&quot;})\npublic class ScvExternalDataService02 {\n    public static void main(String[] args) {\n        SpringApplication.run(ScvExternalDataService02.class, args);\n    }\n}\n</code></pre>\n<p>But I am getting an exception:</p>\n<pre><code>2023-05-19 11:44:51.159 ERROR 23888 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'svcPosControllerDataApplication': Unsatisfied dependency expressed through field 'dataServiceFactory'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataServiceFactory': Unsatisfied dependency expressed through field 'basicDataServices'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'basicDataServiceCustomer_Custom_02': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at org.company.product.main_service.SvcPosControllerDataApplication.main(SvcPosControllerDataApplication.java:23)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataServiceFactory': Unsatisfied dependency expressed through field 'basicDataServices'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'basicDataServiceCustomer_Custom_02': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 25 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'basicDataServiceCustomer_Custom_02': Lookup method resolution failed; nested exception is java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:289)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1609)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1573)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1462)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656)\n    ... 39 common frames omitted\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.company.product.main_service.service.impl.BasicDataServiceCustomer_Custom_02] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@1d44bcfa]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n    at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:321)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:267)\n    ... 54 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: javax/persistence/criteria/Expression\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n    ... 56 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.persistence.criteria.Expression\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 60 common frames omitted\n</code></pre>\n<p>First I want to know if this can be done (load everything required for mssql connection, repository etc. from within the external jar).</p>\n<p>If yes, then how can I achieve such a scenario?</p>\n<p>(*) I understand that a configuration that manages all the required data source connections (mongodb, mssql) and their dependencies from within the main service might make more sense. But this is a requirement asked for investigation purposes.</p>\n"},{"comments":[{"comment_id":133893149,"body":"what&#39;s the error? I&#39;ve tried it and it&#39;s working"},{"comment_id":133896995,"body":"@Erwin Error is it should be new StringBuilder(&quot;&quot;)  like this but when i did this it does not gives the output"},{"comment_id":133901141,"body":"Could you please post a stack trace so we can see the error you are getting?"},{"comment_id":133901142,"body":"Please provide enough code so others can better understand or reproduce the problem."},{"comment_id":134332545,"body":"Just a side-note, because your question has been answered. Please don&#39;t format you code like that. It&#39;s utterly unreadable"}],"answers":[{"answer_id":76173146,"body":"<p>There's a small bug in <code>Strchk</code> function. The base condition should be when <code>i</code> is equal to <code>abc.length()</code> not <code>str.length()</code>.  The function should be like this:</p>\n<pre><code>public static void Strchk (String abc, int i, StringBuilder str, boolean[] stroc)\n{\n    if( i==abc.length() ) {\n        System.out.println(str);\n        return;\n    }\n    char currChar=abc.charAt(i);\n    if(stroc[currChar - 'a'])\n        //duplicate\n        Strchk(abc, i+1, str, stroc);\n    else\n    {\n        stroc[currChar-'a']=true;\n        Strchk(abc, i+1, str.append(currChar), stroc);\n    }\n}\n</code></pre>\n"},{"answer_id":76298033,"body":"<p>I've re-written your code, and removed the requirement for the <code>stroc</code> parameter.<br />\nIs this the process you're looking for?</p>\n<p>Only append unique characters.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void strchk(String string, int index, StringBuilder builder) {\n    if (index &gt;= string.length()) {\n        System.out.println(builder);\n        return;\n    }\n    char character = string.charAt(index);\n    if (!builder.toString().contains(String.valueOf(character))) {\n        strchk(string, index + 1, builder.append(character));\n    } else {\n        strchk(string, index + 1, builder);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>apncoleg\n</code></pre>\n"}],"last_activity_date":1684635364,"question_id":75910622,"body":"<p>I am getting an error in output as i need to give spaces in function calling of strchk in new StringBuilder(&quot;     &quot;)\nto get the output printed whereas it should be like new StringBuilder(&quot;&quot;)\nI had also tried an online compiler it gives the same error\nThis is the input code</p>\n<pre><code>\n\npublic class Main\n{\n    public static void main(String[] args)\n        {\n        String abc=&quot;appnacolllege&quot;;\n        Strchk(abc, 0, new StringBuilder(&quot;     &quot;),new boolean[26]);\n    }\n\n\n    public static void Strchk (String abc,int i,StringBuilder str,boolean stroc[] ) \n      {\n       if(i==str.length())\n       {System.out.println(str);\n       return;}\n       char currChar=abc.charAt(i);\n       if(stroc[currChar-'a']==true)\n         //duplicate\n       Strchk(abc, i+1, str, stroc);      \n       else\n       {\n       stroc[currChar-'a']=true;\n       Strchk(abc, i+1, str.append(currChar), stroc);\n       }\n    } \n}\n\n</code></pre>\n"},{"comments":[{"comment_id":133995241,"body":"Are you trying to extract known tokens from the string (e.g. replacing <code>&amp;someData</code> with the data referenced by <code>someData</code>)? If so, there are much better ways than a regex in my opinion. Otherwise, I&#39;m not following what truly determines what strings belong, and which don&#39;t."}],"answers":[{"answer_id":75977016,"body":"<p>You can use your pattern and remove all matches from the string. Then check if the string has less than 3 or more than 15 characters.</p>\n<pre><code>String[] strings = {&quot;&amp;aHi&quot;, &quot;Hi&quot;, &quot;Hi!&quot;};\n\nfor (String s : strings) {\n    int len = s.replaceAll(&quot;(?i)&amp;[0-9A-FK-ORX]&quot;,&quot;&quot;).length();\n    if (len &lt; 3 || len &gt; 15) {\n        System.out.println(&quot;VALID --&gt; &quot; + s + &quot;. (&quot; + len + &quot; characters)&quot;);\n    } else {\n        System.out.println(&quot;INVALID --&gt; &quot; + s + &quot; (&quot;+ len + &quot; characters)&quot;);\n    }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>VALID --&gt; &amp;aHi. (2 characters)\nVALID --&gt; Hi. (2 characters)\nINVALID --&gt; Hi! (3 characters)\n</code></pre>\n"},{"answer_id":76297975,"body":"<p>The <code>|</code> symbol in regex is not a-alike to an if-conditional statement.</p>\n<p>It's simply saying the regex should match A, B, or C, etc.</p>\n<p>The following should be correct, let me know if I have made an error.</p>\n<pre><code>(?i)(?:(?:&amp;[0-9A-FK-ORX])?.{16,}|(?:&amp;[0-9A-FK-ORX])?..)\n</code></pre>\n<p>Here it is, with your variables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String A = &quot;&amp;aHi&quot;; // true, 2 characters in total\n    String B = &quot;Hi&quot;; // true, 2 characters in total\n    String C = &quot;Hi!&quot;; // false, 3 characters in total\n    System.out.println(valid(A));\n    System.out.println(valid(B));\n    System.out.println(valid(C));\n}\n\nstatic boolean valid(String string) {\n    return string.matches(&quot;(?i)(?:(?:&amp;[0-9A-FK-ORX])?.{16,}|(?:&amp;[0-9A-FK-ORX])?..)&quot;);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>true\ntrue\nfalse\n</code></pre>\n"}],"last_activity_date":1684633865,"question_id":75972119,"body":"<p>Example, I have 3 String:</p>\n<pre><code>String A = &quot;&amp;aHi&quot;; // true, 2 characters in total\nString B = &quot;Hi&quot;; // true, 2 characters in total\nString C = &quot;Hi!&quot;; // false, 3 characters in total\n</code></pre>\n<p>When the string contains &quot;&amp;&quot; followed by some character like &quot;[0-9A-FK-ORX]&quot; I want it to be excluded in the check if the string is less than 3 characters or greater than 15 characters.</p>\n<p>This is what I currently have:\nPattern:</p>\n<pre><code>&quot;^(?i)(?:(?!&amp;[0-9A-FK-ORX]).|^.{0,2}|^.{16,})$&quot;\n</code></pre>\n<p>but I can't get it to work, I'm trying to get it to ignore lower and upper case, I'm checking that it's less than 3 or greater than 15, but I can't get what I need.</p>\n"},{"comments":[{"comment_id":61686118,"body":"post your tr object where you set the values please"},{"comment_id":61686156,"body":"Looks like incompatible classes"}],"answers":[{"comments":[{"comment_id":61686221,"body":"I have imported a external library because in the process of exportation of my jar I have a problem with JSON function (cannot resolve Json...)"},{"comment_id":61686261,"body":"@Max, well, the library you use does not support <code>put()</code> method on the json object. You can either use the builtin json library like I showed, or find a corresponding method for put() in your external library"},{"comment_id":61686277,"body":"Ok, how i can resove this problem ?"},{"comment_id":61689390,"body":"I don&#39;t undestard, if i wrote a class in Android app all my code work perfectlym but If i create a java lib does&#39;t work because &quot;JSON* cannot resolve  symbol&quot;"}],"answer_id":37070624,"body":"<p>You appear to be importing some kind of external json library that doesn't have a <code>put()</code> method.</p>\n\n<p>JSONObject that has <code>put()</code> is \"built in\" to android, you don't need any additional libraries for it.</p>\n\n<pre><code>import org.json.JSONObject;\n\nJSONObject jsonObject = new JSONObject();\njsonObject.put(\"key\", \"value\");\n</code></pre>\n\n<p>This will work.</p>\n"},{"answer_id":72145812,"body":"<p><strong>KOTLIN</strong><br>\nLate but, i think it might help someone.\ni had this error</p>\n<pre><code>No virtual method put(Ljava/lang/String;F)Lorg/json/JSONObject; in class Lorg/json/JSONObject\n</code></pre>\n<p>i was importing the correct class and not importing any other related 3rd party libs.  even added progaurd rules but nothing helped.</p>\n<p>then i replaced</p>\n<pre><code>                val orderRequest = JSONObject()\n                orderRequest.put(&quot;amount&quot;, amount)\n                orderRequest.put(&quot;currency&quot;, &quot;INR&quot;)\n                orderRequest.put(&quot;receipt&quot;, &quot;order_rcptid_11&quot;)\n</code></pre>\n<p>with</p>\n<pre><code>         val reqStr = &quot;&quot;&quot;\n                    {\n                    &quot;amount&quot; : &quot;$amount&quot;,\n                    &quot;currency&quot; : &quot;INR&quot;,\n                    &quot;receipt&quot; : &quot;order_rcptid_11&quot;\n                    }\n                    &quot;&quot;&quot;.trimIndent()\n                \n         val orderRequest = JSONObject(reqStr)\n</code></pre>\n"},{"answer_id":76297952,"body":"<p>Per the <a href=\"https://developer.android.com/reference/org/json/JSONObject#put(java.lang.String,%20java.lang.Object)\" rel=\"nofollow noreferrer\">documentation</a>, the <code>Object</code> value passed to <code>JSONObject.put</code> must be:</p>\n<blockquote>\n<p>...a JSONObject, JSONArray, String, Boolean, Integer, Long, Double, NULL, or null. May not be NaNs or infinities.</p>\n</blockquote>\n<p><code>tr.getValue()</code> is of type <code>ArrayList&lt;String&gt;</code>. Since this is not one of the listed types, the attempt fails at runtime.</p>\n"}],"last_activity_date":1684632913,"question_id":37070527,"body":"<p>I'm developing an Android library, i add my lib in my Test project, now i have a error that can't allow to finish my test:</p>\n\n<pre><code>Could not find method org.json.JSONObject.put, referenced from method com.ldm.JsonBuilder.jsonbuilder\n\nProcess: , PID: 31181\njava.lang.NoSuchMethodError: org.json.JSONObject.put\nat com.ldm.JsonBuilder.jsonbuilder(JsonBuilder.java:70)\nat com.ldm.TestConnection.TestNow(TestConnection.java:79)\nat ldm.eisworld.it.test.MainActivity.onCreate(MainActivity.java:23)\nat android.app.Activity.performCreate(Activity.java:5442)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1094)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2393)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2493)\nat android.app.ActivityThread.access$800(ActivityThread.java:166)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1283)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:136)\nat android.app.ActivityThread.main(ActivityThread.java:5584)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:515)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1268)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1084)\nat dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>This is my gradle:</p>\n\n<pre><code>dependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile files('libs/httpcore-4.4.4.jar')\n    compile files('libs/json.jar')\n    compile 'org.json:json:20141113'\n}\n</code></pre>\n\n<p>And this is a part of my code:</p>\n\n<pre><code>   /* Parsing of hash map */\n    for (Map.Entry&lt;String, ArrayList&lt;String&gt;&gt; tr : rh.entrySet()) {\n\n        try {\n            /* Object that contains URL */\n            JSONObject TraceUrl = new JSONObject();\n            /* Object that contains nodes for each URL */\n            JSONObject TraceNodes = new JSONObject();\n\n            TraceUrl.put(\"url\", tr.getKey());\n            TraceUrl.put(\"nodes\", tr.getValue());\n            trace.put(TraceUrl);\n        } catch (JSONException e) {\n            System.out.println(\"Exception: \" + e.toString());\n        }\n</code></pre>\n\n<p>How i can resolve it ?</p>\n"},{"comments":[{"comment_id":134157484,"body":"If you know that your format is predictable, you could split on <code>), (</code>. And trim off the ends."},{"comment_id":134545136,"body":"Are the strings fully under your control? Can you guarantee they never contain the same delimiters as the top-level array? For example, <code>test(a), (b).zip</code> is a perfectly valid filename, and in the general case your solution should handle that. Alternatively if you control the server generating this message, you should use a standard encoding like JSON for which parsers already exist."}],"answers":[{"answer_id":76069541,"body":"<p>you can use a regular expression to split the string and then loop through the pairs to insert them into a Map or JSONObject.</p>\n<pre><code>import java.util.*;\nimport java.util.regex.*;\nimport org.json.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        String st = &quot;[(0, 'test.zip'), (1, 'test.zip-segment-1'), (2, 'test-segment-2'), (3, 'test.zip-segment-3')]&quot;;\n        int idx = st.indexOf(&quot;[&quot;);\n        String fix = st.substring(idx + 1, st.lastIndexOf(&quot;]&quot;));\n        fix = fix.replaceAll(&quot;'&quot;, &quot;&quot;);\n\n        Pattern pattern = Pattern.compile(&quot;\\\\(([^,]+),\\\\s+([^\\\\)]+)\\\\)&quot;);\n        Matcher matcher = pattern.matcher(fix);\n\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        JSONObject jsonObject = new JSONObject();\n\n        while (matcher.find()) {\n            String key = matcher.group(1).trim();\n            String value = matcher.group(2).trim();\n            map.put(key, value);\n            jsonObject.put(key, value);\n        }\n\n        System.out.println(&quot;Map: &quot; + map);\n        System.out.println(&quot;JSONObject: &quot; + jsonObject.toString());\n    }\n}\n</code></pre>\n"},{"answer_id":76297900,"body":"<p>There are a few approaches you can take.</p>\n<p>I recommend using a <code>Pattern</code> and <code>Matcher</code>, to create a regular expression capture-pattern, to populate your items into a <code>Map</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, String&gt; map(String string) {\n    Pattern pattern = Pattern.compile(&quot;(\\\\d+),\\\\s+'(.+?)'&quot;);\n    Matcher matcher = pattern.matcher(string);\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n    while (matcher.find())\n        map.put(Integer.parseInt(matcher.group(1)), matcher.group(2));\n    return map;\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{0=test.zip, 1=test.zip-segment-1, 2=test-segment-2, 3=test.zip-segment-3}\n</code></pre>\n<p>Another approach would be to use the <code>String.split</code> method, as you mentioned, except, splitting on a <code>), (</code>, as opposed to just a <code>,</code>.<br />\nNote, the first line here is a <code>substring</code>, which removes the first and last two characters.  This is under the presumption that the data will always start with <code>[(</code>, and end with <code>])</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, String&gt; map(String string) {\n    string = string.substring(2, string.length() - 2);\n    Map&lt;Integer, String&gt; map = new HashMap&lt;&gt;();\n    String[] strings;\n    for (String value : string.split(&quot;\\\\),\\\\s+\\\\(&quot;)) {\n        strings = value.split(&quot;,\\\\s+&quot;);\n        map.put(Integer.parseInt(strings[0]), strings[1]);\n    }\n    return map;\n}\n</code></pre>\n<p>If that is not the case, and the initial <code>(</code> and ending <code>)</code> are at unknown locations, you can replace the <code>substring</code> method with the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int indexOf = string.indexOf('(');\nstring = string.substring(indexOf + 1, string.lastIndexOf(')'));\n</code></pre>\n"}],"last_activity_date":1684631781,"question_id":76069522,"body":"<p>I got a response message of [(0, 'test.zip'), (1, 'test.zip-segment-1'), (2, 'test-segment-2'), (3, 'test.zip-segment-3')]\nWhat I am trying to do is put those pairs into a Map&lt;Strinig, String&gt; or JSONObject.</p>\n<p>What I did was</p>\n<pre><code>String st = &quot;[(0, 'test.zip'), (1, 'test.zip-segment-1'), (2, 'test-segment-2'), (3, 'test.zip-segment-3')]&quot;;\nint idx = a.indexOf(&quot;[&quot;);\nString fix = st.substring(idx+1, st.lastIndexOf(&quot;]&quot;));\nfix = fix.replaceAll(&quot;'&quot;, &quot;&quot;);\nSystem.out.println(fix);\n</code></pre>\n<p>then I got (0, test.zip), (1, test.zip-segment-1), (2, test.zip-segment-2), (3, test.zip-segment-3)</p>\n<p>I was trying to split it with a comma, but I couldn't because there is a comma inside of ()...</p>\n<p>I there better way to making the string to put it into a Map or a JSONObject?</p>\n"},{"comments":[{"comment_id":134546433,"body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71457925/resiliency4j-circuit-breaker-with-retry-configuration-not-working\">Resiliency4j circuit breaker with retry configuration not working</a>"}],"last_activity_date":1684631383,"question_id":76297910,"body":"<p>I'm doing a project using Spring Boot and Micro-services architecture.\nI have two micro-services one calling the other to process a request from API gateway. I'm trying to implement the circuit breaker pattern and retry pattern at the same time using resillience4j but my micro-service is not retrying.</p>\n<p>Note: If I disable(comment out) the circuit breaker annotation, my micro-service is retrying!!</p>\n<p>Here is my code of the service layer of micro-service.</p>\n<pre><code>@Override\n    @CircuitBreaker(name=&quot;${spring.application.name}&quot;, fallbackMethod = &quot;getDefaultDepartment&quot;)\n    @Retry(name=&quot;${spring.application.name}&quot;, fallbackMethod = &quot;getDefaultDepartment&quot;)\n\n    public ResponseDto getEmployee(Long id) {\n        LOGGER.info(&quot;inside getEmployee by ID method&quot;);\n        Employee employee = employeeRepository.findById(id).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, id));\n//        ------------------ Communication using REST template -----------------------------\n//        ResponseEntity&lt;DepartmentDto&gt; responseEntity = restTemplate.getForEntity(&quot;http://localhost:8080/api/departments/&quot; + employee.getDepartmentCode(),\n//                DepartmentDto.class);\n//        DepartmentDto departmentDto = responseEntity.getBody();\n\n//      ------------------ Communication using WebClient -----------------------------\n//        DepartmentDto departmentDto = webClient.get()\n//                .uri(&quot;http://localhost:8081/api/departments/&quot; + employee.getDepartmentCode())\n//                .retrieve()\n//                .bodyToMono(DepartmentDto.class)\n//                .block();\n\n//      ----------------------- Communication using OpenFeign -----------------------------\n        DepartmentDto departmentDto = apiClient.getDepartment(employee.getDepartmentCode());\n\n        return new ResponseDto(modelMapper.map(employee, EmployeeDto.class), departmentDto);\n    }\n</code></pre>\n<p>Here is my properties file</p>\n<pre><code>#------------------------------  Circuit breaker properties--------------------------------------\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.registerHealthIndicator=true\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.failureRateThreshold=50\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.minimumNumberOfCalls=5\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.automaticTransitionFromOpenToHalfOpenEnabled=true\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.waitDurationInOpenState=5s\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.permittedNumberOfCallsInHalfOpenState=3\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowSize=10\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowType=COUNT_BASED\n\n\n#------------------------------  Retry Configuration  --------------------------------------\nresilience4j.retry.instances.EMPLOYEE-SERVICE.registerHealthIndicator=true\nresilience4j.retry.instances.EMPLOYEE-SERVICE.maxAttempts=10\nresilience4j.retry.instances.EMPLOYEE-SERVICE.waitDuration=1s\n</code></pre>\n<p>I've tried multiple time, but didn't work :)</p>\n"},{"answers":[{"comments":[{"comment_id":66013560,"body":"The above code is not working for me. Did it work for you?"},{"comment_id":66014008,"body":"Yes. I have tested first and then put it here.What is the error you are getting ? please paste here as comment. You can introduce Thread.sleep() or WebDriverWait inbetween steps to introduce some waiting time."},{"comment_id":66024669,"body":"One query : Why you are using geckodriver.exe ? Is there any specific reason behind that ? I have used &quot;selenium server 2.53&quot; and default firefox browser."},{"comment_id":66483138,"body":"If you are using Selenium 3 then to work with Firefox browser you need to use separate a driver in this case Firefox Gecko Driver same the way we use for IE and chrome browsers which will interact with Firefox browser. I&#39;m using slenium Version 3.0.0 with Mozilla version 48.0.2."}],"answer_id":39340589,"body":"<p>You can use Actions class for <kbd>Ctrl</kbd>+<kbd>t</kbd> or <kbd>CTRL</kbd>+<kbd>TAB</kbd>. I modified your example as shown below</p>\n\n<pre><code>@Test\npublic void OpeningNewTab(){\n    WebDriver driver = new FirefoxDriver();\n    driver.get(\"http://www.google.com/\");\n    driver.manage().timeouts().pageLoadTimeout(30, TimeUnit.SECONDS);\n    System.out.println(driver.getTitle());\n    Actions act = new Actions(driver);\n    act.keyDown(Keys.CONTROL).sendKeys(\"t\").keyUp(Keys.CONTROL).build().perform();\n    driver.get(\"http://www.bing.com/\");\n    System.out.println(driver.getTitle());\n    act.keyDown(Keys.CONTROL).sendKeys(\"t\").keyUp(Keys.CONTROL).build().perform();\n    driver.get(\"http://www.yahoo.com/\");\n    System.out.println(driver.getTitle());\n    driver.close();\n    driver.quit();\n\n}\n</code></pre>\n"},{"comments":[{"comment_id":66013668,"body":"@VishvambruthJT  Put some wait and check again its working fine."},{"comment_id":66015719,"body":"I&#39;m able to open the new tab using the below code but unable to open URL on the new tab how to movethe control to new tab: try { Robot robot = new Robot(); // CTRL+T is now pressed  robot.keyPress(KeyEvent.VK_CONTROL); robot.keyPress(KeyEvent.VK_T);                         //Release pressed CTRL+T               robot.keyRelease(KeyEvent.VK_T);             robot.keyRelease(KeyEvent.VK_CONTROL);       \t    }catch (AWTException e) { \t    \te.printStackTrace(); \t    }driver.manage().timeouts().implicitlyWait(30, TimeUnit.SECONDS); \t    driver.get(&quot;<a href=\"http://www.bing.com/&quot;\" rel=\"nofollow noreferrer\">bing.com/&quot;</a>);"},{"comment_id":73340020,"body":"Do not use Robot"}],"answer_id":39340827,"body":"<p>You can use Robot class as well simply import</p>\n\n<pre><code>import java.awt.AWTException;\nimport java.awt.Robot;\nimport java.awt.event.InputEvent;\nimport java.awt.event.KeyEvent;\n\npublic class Keyboard {\n\n    public static void main(String[] args) {\n\n            try {\n                    Robot robot = new Robot();\n\n       // Simulate a mouse click\n                    robot.mousePress(InputEvent.BUTTON1_MASK);\n                    robot.mouseRelease(InputEvent.BUTTON1_MASK);\n\n      // ctrl + T &amp; ctrl TAB  \n\n                robot.keyPress(KeyEvent.VK_CONTROL);\n                robot.keyPress(KeyEvent.VK_T);\n\n                // CTRL+T is now pressed \n\n                robot.keyRelease(KeyEvent.VK_T);\n                robot.keyRelease(KeyEvent.VK_CONTROL);\n\n            } catch (AWTException e) {\n                    e.printStackTrace();\n            }\n        }\n</code></pre>\n"}],"last_activity_date":1684631205,"question_id":39338773,"body":"<blockquote>\n  <p>Hi All,</p>\n  \n  <p>For one of my project I need to open a new tab and navigate between\n  the tabs for the same I need to know how can I press <kbd>CTRL</kbd>+<kbd>T</kbd> and\n  <kbd>CTRL</kbd>+<kbd>TAB</kbd> in Selenium Webdriver using Java.</p>\n  \n  <p>Please let me know how can I do the same.Thank You...!!!</p>\n  \n  <p><strong>I'm using the below:</strong></p>\n  \n  <p><strong>Firefox Version:</strong> 48.0.2</p>\n  \n  <p><strong>Java Version:</strong> 1.8</p>\n  \n  <p><strong>Selenium WebDriver Version:</strong> 3.0.0</p>\n  \n  <p><strong>OS:</strong> Windows 10</p>\n</blockquote>\n\n<p><strong>I tried the below code but it doesn't seems to be working:</strong></p>\n\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\npublic class Handling_Tabs {\n\n    public static void main(String[] args) {\n        System.setProperty(\"webdriver.gecko.driver\",\"C:\\\\Eclipse\\\\Drivers\\\\geckodriver.exe\");\n        WebDriver driver = new FirefoxDriver();\n        driver.get(\"http://www.google.com/\");\n        System.out.println(driver.getTitle());\n        driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL+\"t\");\n        driver.get(\"http://www.bing.com/\");\n        System.out.println(driver.getTitle());\n        driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL+\"\\t\");\n        System.out.println(driver.getTitle());      \n    }\n}\n</code></pre>\n"},{"last_activity_date":1684631203,"question_id":76297904,"body":"<p>I've hit a wall in trying to protect my API routes in Spring-Boot. I'm trying to figure out where the SecurityFilterChain gets the claims it needs to authorize calls. I made a custom filter but I'm not sure what to do next.</p>\n<pre><code>public class CognitoFilter extends GenericFilter {\n@Override\npublic void doFilter(\n        ServletRequest request,\n        ServletResponse response,\n        FilterChain chain) throws IOException, ServletException {\n    HttpServletRequest req = (HttpServletRequest) request;\n\n    // Get the Authorization header to get cognito groups from it\n    String authHeader = req.getHeader(&quot;Authorization&quot;);\n    if (authHeader != null) {\n        System.out.println(authHeader.replace(&quot;Bearer &quot;, &quot;&quot;));\n    }\n\n    chain.doFilter(request, response);\n  }\n}\n</code></pre>\n<p>With this filter chain config:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n    // disable basic authentication (username and PW)\n    http.httpBasic().disable();\n\n    // disable Cross Site Request Forgery (CSRF)\n    // In general not required for stateless Rst APIs that use CRUD\n    http.cors().and().csrf().disable();\n\n    http.addFilterBefore(\n            new CognitoFilter(),\n            BasicAuthenticationFilter.class\n        )\n        .authorizeHttpRequests(authorizer -&gt;\n                authorizer\n                    .requestMatchers(&quot;/api/user/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;PROVIDER&quot;)\n        );\n\n    return http.build();\n  }\n}\n</code></pre>\n<p>I'm having a really hard time understanding how to setup Spring security to read my cognito token and where/how to tell it which claims to look at. Haven't seen tutorials that explain how the claims are obtained and parsed.</p>\n<p>Any help with this would help a ton!</p>\n"},{"last_activity_date":1684631191,"question_id":76297903,"body":"<p>I recently uninstalled all of my java versions from Ubuntu on WSL. I had to do a manual purge because <code>apt-get uninstall</code> wasn't working for java 11 (something about the expected installed version not aligning with the actual installed version, so the checksum returned a failure). The purge worked correctly and I removed java from my device (following these instructions: <a href=\"https://askubuntu.com/questions/84483/how-to-completely-uninstall-java\">https://askubuntu.com/questions/84483/how-to-completely-uninstall-java</a>). My remaining issue is that <code>update-java-alternatives -l</code> still shows the old versions, though <code>update-alternatives --config java</code> shows nothing.</p>\n<p>I want the update-java-alternatives command to only show installed versions. Does anyone know how I can accomplish this?</p>\n"},{"answers":[{"comments":[{"comment_id":26381,"body":"<a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/DataInput.html#modified-utf-8\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.5.0/docs/api/java/io/&hellip;</a> explains the modified UTF-8 encoding used by Java and demonstrates why this answer is correct."},{"comment_id":27566,"body":"BTW, this solution (the one bill @Bill James) is much more efficient than the currently accepted answer by @Matt Quail, because the former requires you to test 3 bytes at the most, whereas the latter requires you to test all characters in the text."},{"comment_id":28737,"body":"Alexander: the former requires you to <i>first convert the string to UTF8</i>, which requires iterating over all the characters in the text."},{"comment_id":30238,"body":"True, but the question does state &quot;Once it is UTF-8 encoded&quot;.  Presumably that price has been paid."},{"comment_id":6613764,"body":"@Alexander: That’s because they screwed up. That’s just trying to paper over the blunder. Surrogate pairs <b>HAVE NO BUSINESS IN UTF-8!</b>"},{"comment_id":133405263,"body":"There&#39;s a special case that I think should be considered: We might actually be at the last byte of a multi-byte character (I guess we would have to look at the next byte to find out whether this is the case). In that case we should not go back (and thereby trim 1 character too many), but just stay where we are."},{"comment_id":133409115,"body":"@chris  that case would be solved by the 2nd rule above when you process the next byte... you still need to do so in order to place the termination byte (0)."}],"answer_id":119338,"body":"<p>UTF-8 encoding has a neat trait that allows you to see where in a byte-set you are.</p>\n\n<p>check the stream at the character limit you want.  </p>\n\n<ul>\n<li>If its high bit is 0, it's a single-byte char, just replace it with 0 and you're fine.  </li>\n<li>If its high bit is 1 and so is the next bit, then you're at the start of a multi-byte char, so just set that byte to 0 and you're good.  </li>\n<li>If the high bit is 1 but the next bit is 0, then you're in the middle of a character, travel back along the buffer until you hit a byte that has 2 or more 1s in the high bits, and replace that byte with 0.</li>\n</ul>\n\n<p>Example:  If your stream is: 31 33 31 C1 A3 32 33 00, you can make your string 1, 2, 3, 5, 6, or 7 bytes long, but not 4, as that would put the 0 after C1, which is the start of a multi-byte char.</p>\n"},{"comments":[{"comment_id":7640787,"body":"This worked great for me -- probably less efficient, but much harder to get wrong, and it works for any character set. Works nicely with a quick <code>new String(output, 0, output.length - returnValue, CHARSET)</code>"},{"comment_id":66635885,"body":"@sigget&#39;s solution is similar and in addition returns the actual truncated string, instead of just the length"},{"comment_id":88808216,"body":"If this was, let&#39;s say for Oracle, shouldn&#39;t the <code>UTF-8</code> be replaced with whatever encoding is the target column defined with?"}],"answer_id":119343,"body":"<p>You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/charset/CharsetEncoder.html#encode-java.nio.CharBuffer-java.nio.ByteBuffer-boolean-\" rel=\"nofollow noreferrer\">CharsetEncoder</a>, the simple <code>getBytes()</code> + copy as many as you can can cut UTF-8 charcters in half.</p>\n<p>Something like this:</p>\n<pre><code>public static int truncateUtf8(String input, byte[] output) {\n    \n    ByteBuffer outBuf = ByteBuffer.wrap(output);\n    CharBuffer inBuf = CharBuffer.wrap(input.toCharArray());\n\n    CharsetEncoder utf8Enc = StandardCharsets.UTF_8.newEncoder();\n    utf8Enc.encode(inBuf, outBuf, true);\n    System.out.println(&quot;encoded &quot; + inBuf.position() + &quot; chars of &quot; + input.length() + &quot;, result: &quot; + outBuf.position() + &quot; bytes&quot;);\n    return outBuf.position();\n}\n</code></pre>\n"},{"comments":[{"comment_id":28659,"body":"UTF-8 can encode any UCS2 character in 3 bytes or less.  Check that page you reference.  However, if you want to comply with UCS4 or UTF16 (which can both reference the entire charset), you&#39;ll need to allow for up to 6-byte characters in UTF8."},{"comment_id":28732,"body":"Bill: see the CESU-8 discussion on the wikipedia page. My understanding is UTF-8 is supposed to encode surrogate pairs as a single 4-byte sequence, not two 3-byte sequences."},{"comment_id":29298,"body":"It&#39;s not 2 three-byte, it&#39;s up to 1 6-byte sequence to store UCS4, which is a full 31-bit character, not 2 16-bit &quot;pairs&quot; (that&#39;s UTF16).  A 6-byte seq = 1111110C 10CCCCCC 10CCCCCC 10CCCCCC 10CCCCCC 10CCCCCC where the C&#39;s are data bits. Right now, only enough chars are in use to need 4 bytes."},{"comment_id":29301,"body":"But 8 years ago, more than 16-bits wasn&#39;t even necessary.  Expect to see 5-byte chars in the next decade as more dialects and &quot;Klingon&quot;-type language planes are added."},{"comment_id":29892,"body":"Bill: you are correct, my code does not handle code points above U+10FFFF -- which is where more than 4 UTF-8 bytes are required.  But Java can&#39;t encode characters past U+10FFFF anyway. Each <code>char</code> in Java is a 16 bit codepoint between U+0000 and U+FFFF. Surrogate pairs give you up to U+10FFFF."},{"comment_id":30230,"body":"Well, then, it would seem my solution is in excess.  Didn&#39;t know that about Java&#39;s character (my I18n work was done for EQ in C++).  Nice chat. :)"},{"comment_id":6613727,"body":"That won’t work for graphemes.  It’s just as bad to truncate a partial grapheme as it is to truncate a partial character."},{"comment_id":14444526,"body":"@tchrist well, it actually isn&#39;t quite as bad because software won&#39;t choke on trying to decode them"},{"comment_id":69944050,"body":"Does this really need to be O(N)? Why not truncate the bytes, then look at the last 4 to figure out if you cut off in the middle of a unicode character, so that it&#39;s O(1)."}],"answer_id":119586,"body":"<p>Here is a simple loop that counts how big the UTF-8 representation is going to be, and truncates when it is exceeded:</p>\n\n<pre><code>public static String truncateWhenUTF8(String s, int maxBytes) {\n    int b = 0;\n    for (int i = 0; i &lt; s.length(); i++) {\n        char c = s.charAt(i);\n\n        // ranges from http://en.wikipedia.org/wiki/UTF-8\n        int skip = 0;\n        int more;\n        if (c &lt;= 0x007f) {\n            more = 1;\n        }\n        else if (c &lt;= 0x07FF) {\n            more = 2;\n        } else if (c &lt;= 0xd7ff) {\n            more = 3;\n        } else if (c &lt;= 0xDFFF) {\n            // surrogate area, consume next char as well\n            more = 4;\n            skip = 1;\n        } else {\n            more = 3;\n        }\n\n        if (b + more &gt; maxBytes) {\n            return s.substring(0, i);\n        }\n        b += more;\n        i += skip;\n    }\n    return s;\n}\n</code></pre>\n\n<p>This <em>does</em> handle <a href=\"http://en.wikipedia.org/wiki/UTF-16\" rel=\"noreferrer\">surrogate pairs</a> that appear in the input string. Java's UTF-8 encoder (correctly) outputs surrogate pairs as a single 4-byte sequence instead of two 3-byte sequences, so <code>truncateWhenUTF8()</code> will return the longest truncated string it can. If you ignore surrogate pairs in the implementation then the truncated strings may be shorted than they needed to be.</p>\n\n<p>I haven't done a lot of testing on that code, but here are some preliminary tests:</p>\n\n<pre><code>private static void test(String s, int maxBytes, int expectedBytes) {\n    String result = truncateWhenUTF8(s, maxBytes);\n    byte[] utf8 = result.getBytes(Charset.forName(\"UTF-8\"));\n    if (utf8.length &gt; maxBytes) {\n        System.out.println(\"BAD: our truncation of \" + s + \" was too big\");\n    }\n    if (utf8.length != expectedBytes) {\n        System.out.println(\"BAD: expected \" + expectedBytes + \" got \" + utf8.length);\n    }\n    System.out.println(s + \" truncated to \" + result);\n}\n\npublic static void main(String[] args) {\n    test(\"abcd\", 0, 0);\n    test(\"abcd\", 1, 1);\n    test(\"abcd\", 2, 2);\n    test(\"abcd\", 3, 3);\n    test(\"abcd\", 4, 4);\n    test(\"abcd\", 5, 4);\n\n    test(\"a\\u0080b\", 0, 0);\n    test(\"a\\u0080b\", 1, 1);\n    test(\"a\\u0080b\", 2, 1);\n    test(\"a\\u0080b\", 3, 3);\n    test(\"a\\u0080b\", 4, 4);\n    test(\"a\\u0080b\", 5, 4);\n\n    test(\"a\\u0800b\", 0, 0);\n    test(\"a\\u0800b\", 1, 1);\n    test(\"a\\u0800b\", 2, 1);\n    test(\"a\\u0800b\", 3, 1);\n    test(\"a\\u0800b\", 4, 4);\n    test(\"a\\u0800b\", 5, 5);\n    test(\"a\\u0800b\", 6, 5);\n\n    // surrogate pairs\n    test(\"\\uD834\\uDD1E\", 0, 0);\n    test(\"\\uD834\\uDD1E\", 1, 0);\n    test(\"\\uD834\\uDD1E\", 2, 0);\n    test(\"\\uD834\\uDD1E\", 3, 0);\n    test(\"\\uD834\\uDD1E\", 4, 4);\n    test(\"\\uD834\\uDD1E\", 5, 4);\n\n}\n</code></pre>\n\n<p><strong>Updated</strong> Modified code example, it now handles surrogate pairs.</p>\n"},{"answer_id":119660,"body":"<p>You can calculate the number of bytes without doing any conversion.</p>\n\n<pre><code>foreach character in the Java string\n  if 0 &lt;= character &lt;= 0x7f\n     count += 1\n  else if 0x80 &lt;= character &lt;= 0x7ff\n     count += 2\n  else if 0x800 &lt;= character &lt;= 0xd7ff // excluding the surrogate area\n     count += 3\n  else if 0xdc00 &lt;= character &lt;= 0xffff\n     count += 3\n  else { // surrogate, a bit more complicated\n     count += 4\n     skip one extra character in the input stream\n  }\n</code></pre>\n\n<p>You would have to detect surrogate pairs (D800-DBFF and U+DC00–U+DFFF) and count 4 bytes for each valid surrogate pair. If you get the first value in the first range and the second in the second range, it's all ok, skip them and add 4.\nBut if not, then it is an invalid surrogate pair. I am not sure how Java deals with that, but your algorithm will have to do right counting in that (unlikely) case.</p>\n"},{"comments":[{"comment_id":66635811,"body":"<code>CharBuffer.allocate(maxBytes)</code> allocates too much.  Could it be <code>CharBuffer.allocate(s.length())</code>?"},{"comment_id":127265900,"body":"s.length() is not in bytes."}],"answer_id":35148974,"body":"<p>Here's what I came up with, it uses standard Java APIs so should be safe and compatible with all the unicode weirdness and surrogate pairs etc. The solution is taken from <a href=\"http://www.jroller.com/holy/entry/truncating_utf_string_to_the\" rel=\"noreferrer\">http://www.jroller.com/holy/entry/truncating_utf_string_to_the</a> with checks added for null and for avoiding decoding when the string is fewer bytes than <strong>maxBytes</strong>.</p>\n\n<pre><code>/**\n * Truncates a string to the number of characters that fit in X bytes avoiding multi byte characters being cut in\n * half at the cut off point. Also handles surrogate pairs where 2 characters in the string is actually one literal\n * character.\n *\n * Based on: http://www.jroller.com/holy/entry/truncating_utf_string_to_the\n */\npublic static String truncateToFitUtf8ByteLength(String s, int maxBytes) {\n    if (s == null) {\n        return null;\n    }\n    Charset charset = Charset.forName(\"UTF-8\");\n    CharsetDecoder decoder = charset.newDecoder();\n    byte[] sba = s.getBytes(charset);\n    if (sba.length &lt;= maxBytes) {\n        return s;\n    }\n    // Ensure truncation by having byte buffer = maxBytes\n    ByteBuffer bb = ByteBuffer.wrap(sba, 0, maxBytes);\n    CharBuffer cb = CharBuffer.allocate(maxBytes);\n    // Ignore an incomplete character\n    decoder.onMalformedInput(CodingErrorAction.IGNORE)\n    decoder.decode(bb, cb, true);\n    decoder.flush(cb);\n    return new String(cb.array(), 0, cb.position());\n}\n</code></pre>\n"},{"comments":[{"comment_id":93483813,"body":"Although your solution looked the best this code gives me a StringIndexOutOfBoundsException: String index out of range: 300:         String str = &quot;kt on ivp (day 3) - part 2 - 19 haziran 2018 sal_ 11.36.21.mp4.&quot;;         System.out.println(&quot;Len is &quot; + str.getBytes(StandardCharsets.UTF_8.name()).length);         String finalTitle = new String(str.getBytes(StandardCharsets.UTF_8.name()),             0, Constants.MAX_TITLE_LENGTH, StandardCharsets.UTF_8.name());  Constants.MAX_TITLE_LENGTH is 300. @Suresh Gupta Do you know why?"},{"comment_id":93508853,"body":"first, check your string length if it is less than your max limit it will though exception. Make sure your string length should be more than your max lmit before truncating"},{"comment_id":133440302,"body":"the original question was literally how to perform that check optimally."}],"answer_id":52962632,"body":"<p>you can use -new String( data.getBytes(\"UTF-8\") , 0, maxLen, \"UTF-8\");</p>\n"},{"comments":[{"comment_id":133405221,"body":"There are cases when this code removes a character to much. Consider for example the String &quot;木&quot; (consisting of a single 3-byte character). With trimSize 3 I would expect to obtain the same String as result of utf8ByteTrim. However, the actual result is &quot;&quot;. The problem occurrs when we are on the last byte of a multi-byte char."},{"comment_id":134534707,"body":"The original code has two bugs. FIrst, it breaches the bound of the array. Second, as mentioned in the prior comment, it truncates even if the entire last character fits. So an initial check is needed to be sure we don&#39;t scan beyond the bounds of the array, and a test must be done to see if the last character fits."},{"comment_id":134535816,"body":"@BrentK. while I appreciate the fixes, my intention was to come up with a method as simple as possible -- I mentioned this in the first paragraph. Your corrections introduce a lot of checks and thus complexity into the method, turning it into the longest of all the answers, which goes against my intention. I rejected your edit, but feel free to remove your upvote if you want and/or post a new answer with your code (I&#39;d appreciate a mention if you did so, just like I did, but I won&#39;t mind if you don&#39;t include one). Thanks anyway!"}],"answer_id":70338834,"body":"<p>Based on <a href=\"https://stackoverflow.com/a/119338/6404321\">billjamesdev's answer</a> I've come up with the following method which, as far as I can tell, is the simplest <em>and</em> still works OK with surrogate pairs:</p>\n<pre><code>public static String utf8ByteTrim(String s, int trimSize) {\n    final byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\n    if ((bytes[trimSize-1] &amp; 0x80) != 0) { // inside a multibyte sequence\n        while ((bytes[trimSize-1] &amp; 0x40) == 0) { // 2nd, 3rd, 4th bytes\n            trimSize--;\n        }\n        trimSize--;\n    }\n    return new String(bytes, 0, trimSize, StandardCharsets.UTF_8);\n}\n</code></pre>\n<p>Some testing:</p>\n<pre><code>String test = &quot;Aæ😂尝试&quot;;\nIntStream.range(1, 16).forEachOrdered(i -&gt;\n        System.out.println(&quot;Size &quot; + i + &quot;: &quot; + utf8ByteTrim(test, i))\n);\n\n---\n\nSize 1: A\nSize 2: A\nSize 3: A\nSize 4: Aæ\nSize 5: Aæ\nSize 6: Aæ\nSize 7: Aæ\nSize 8: Aæ😂\nSize 9: Aæ😂\nSize 10: Aæ😂\nSize 11: Aæ😂尝\nSize 12: Aæ😂尝\nSize 13: Aæ😂尝试\nSize 14: Aæ😂尝试\nSize 15: Aæ😂尝试\n</code></pre>\n"},{"answer_id":76297886,"body":"<p>Scanning from the tail end of the string is far more efficient that scanning from the beginning, especially on very long strings.  So <a href=\"https://stackoverflow.com/a/70338834/9676015\">walen</a> was on the right path, unfortunately that answer does not provide the correct truncation.</p>\n<p>If you would like a solution that scans backwards only a few characters, this is the best option.</p>\n<p>Using the data in <a href=\"https://stackoverflow.com/a/119338/6404321\">billjamesdev's answer</a> we can effectively scan backwards and correctly get the truncation on a character boundary.</p>\n<pre><code>public static String utf8ByteTrim(String s, int requestedTrimSize) {\n    final byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\n    int maxTrimSize = Integer.min(requestedTrimSize, bytes.length);\n    int trimSize = maxTrimSize;\n    if ((bytes[trimSize-1] &amp; 0x80) != 0) { // inside a multibyte sequence\n        while ((bytes[trimSize - 1] &amp; 0x40) == 0) { // 2nd, 3rd, 4th bytes\n            trimSize--;\n        }\n        trimSize--;  // Get to the start of the UTF-8\n        // Now see if that final UTF-8 character fits.\n        // Assume the UTF-8 starts with binary 110xxxxx and is 2 bytes\n        int numBytes = 2;  \n        if ((bytes[trimSize] &amp; 0xF0) == 0xE0) {\n            // If the UTF-8 starts with binary 1110xxxx it is 3 bytes\n            numBytes = 3;\n        } else if ((bytes[trimSize] &amp; 0xF8) == 0xF0) {\n            // If the UTF-8 starts with binary 11110xxx it is 3 bytes\n            numBytes = 4;\n        }\n        if( (trimSize + numBytes) == maxTrimSize)  {\n            // The entire last UTF-8 character fits\n            trimSize = maxTrimSize; \n        }\n    }\n    return new String(bytes, 0, trimSize, StandardCharsets.UTF_8);\n}\n</code></pre>\n<p>There is only one while loop that will execute at most 3 iterations as it walks backward. Then a few if statements will determine which character to truncate.</p>\n<p>Some testing:</p>\n<pre><code>String test = &quot;Aæ😂尝试&quot;; // Sizes: (1,2,4,3,3) = 13 bytes\nIntStream.range(1, 16).forEachOrdered(i -&gt;\n        System.out.println(&quot;Size &quot; + i + &quot;: &quot; + utf8ByteTrim(test, i))\n);\n\n---\n\nSize 1: A\nSize 2: A\nSize 3: Aæ\nSize 4: Aæ\nSize 5: Aæ\nSize 6: Aæ\nSize 7: Aæ😂\nSize 8: Aæ😂\nSize 9: Aæ😂\nSize 10: Aæ😂尝\nSize 11: Aæ😂尝\nSize 12: Aæ😂尝\nSize 13: Aæ😂尝试\nSize 14: Aæ😂尝试\nSize 15: Aæ😂尝试\n</code></pre>\n"}],"last_activity_date":1684630618,"question_id":119328,"body":"<p>How do I truncate a java <code>String</code> so that I know it will fit in a given number of bytes storage once it is UTF-8 encoded?</p>\n"},{"last_activity_date":1684628547,"question_id":76297825,"body":"<p>package com.mycompany.formariana;</p>\n<p>import static com.sun.org.apache.xalan.internal.xsltc.compiler.util.Type.String;</p>\n<p>import java.io.BufferedReader;</p>\n<p>import java.io.IOException;</p>\n<p>import java.io.InputStreamReader;</p>\n<p>public class Formariana {</p>\n<pre><code>private static java.lang.String res;\n\npublic static void main(String[] args) throws IOException {\n\n \n\n    BufferedReader bufEntrada = new BufferedReader(new InputStreamReader(System.in));\n\n    int num;\n\n            int Si = 1;\n\n        Integer.toString(Si);\n\n    System.out.println(&quot;Un cohete de la NASA va a despegar&quot;);\n\n    System.out.println(&quot;Usted será el astronauta y pondrás la cuenta regresiva&quot;);\n\n    System.out.println(&quot;Pero antes, Tienes el traje espacial como debe ser?&quot;);\n\n    System.out.println(&quot;1.Si&quot;);\n\n    System.out.println(&quot;2.No&quot;);\n\n    res = bufEntrada.readLine();\n\n    if (res = Si) {\n\n                System.out.println(&quot;Acomodate en tu silla y prende las turbinas&quot;);\n\n                System.out.println(&quot;Iniciando cuenta regresiva para despegue&quot;);\n\n                num = Integer.parseInt(bufEntrada.readLine());\n\n                int l;\n\n                for (l=num;l&gt;=1;l--) {\n\n                    System.out.println(l);\n\n                }\n\n                System.out.println(&quot;¡¡¡DESPEGUE!!!&quot;);\n\n            } else {\n\n                System.out.println(&quot;No podrás hacer el viaje espacial&quot;);\n\n            }\n\n}\n</code></pre>\n<p>}</p>\n<p>Tengo un problema con este código, en la línea: if (res = Si) me dice: int cannot be converted to string y string cannot be converted to boolean.</p>\n<p>Me podrían ayudar por favor, agrego el código.</p>\n<hr />\n"},{"comments":[{"comment_id":134537580,"body":"What is the issue exactly that you feel that you need to solve?"},{"comment_id":134537701,"body":"@aled just want to remove printing &quot;WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release&quot; in console"},{"comment_id":134537739,"body":"Is that the full literal message? Are there more lines or details?"},{"comment_id":134544589,"body":"@aled The full message is:  <code>WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release WARN StatusConsoleListener The use of package scanning to locate plugins is deprecated and will be removed in a future release  Process finished with exit code 0</code>"}],"answers":[{"answer_id":76297778,"body":"<p>This warning is caused by using the <code>packages</code> attribute of the <code>Configuration</code> element in the log4j2.xml file, because it has been <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#ConfigurationSyntax\" rel=\"nofollow noreferrer\">deprecated</a>. Removing that attribute should prevent the message from appearing.</p>\n"}],"last_activity_date":1684627566,"question_id":76292921,"body":"<p>I use <code>log4j2.xml</code> to write my logs into a local file in my Maven project. I've installed the last dependencies for present day <code>&lt;version&gt;2.20.0&lt;/version&gt;)</code> in pom.xml.\nMy <code>log4j2.xml</code> is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;warn&quot; name=&quot;MyApp&quot; packages=&quot;&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;RollingFile name=&quot;RollingFile&quot; fileName=&quot;logs/app.log&quot; filePattern=&quot;logs/app-%d{MM-dd-yyyy}.log.gz&quot;&gt;\n            &lt;TimeFilter start=&quot;01:00:00&quot; end=&quot;07:00:00&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot;/&gt;\n\n            &lt;PatternLayout&gt;\n                &lt;pattern&gt;%d %p %c{1.} [%t] %m%n&lt;/pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;TimeBasedTriggeringPolicy /&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;error&quot;&gt;\n            &lt;AppenderRef ref=&quot;RollingFile&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>My dependencies in pom.xml:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n      &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n      &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I start my main method logs successfully be written in a file, but I get the message in IntelliJ IDEA console:</p>\n<blockquote>\n<p>WARN StatusConsoleListener The use of package scanning to locate\nplugins is deprecated and will be removed in a future release</p>\n</blockquote>\n<p>How can I resolve the problem?  just want to stop appearing the message in console.</p>\n"},{"comments":[{"comment_id":95742438,"body":"Does it work when you run it only with maven? Which version of IntelliJ are you using?"},{"comment_id":95743255,"body":"could it be that <code>build-helper-maven-plugin</code> conflicts with generating resources? Could you comment that one out and see what happens?"}],"answers":[{"answer_id":54476293,"body":"<p>Problem was that my mappers were missing annotation <code>@Mapper</code>.</p>\n"},{"comments":[{"comment_id":129572846,"body":"Adding the gradle dependency which worked for me.                                      implementation &#39;org.mapstruct:mapstruct-processor:1.0.0.Beta3&#39; Note - Its terrible that I can’t format comment in stackoverflow"}],"answer_id":63633202,"body":"<p>Adding <code>mapstruct-processor</code> dependency solved the issue for me.</p>\n"},{"answer_id":66565735,"body":"<p>I have come across this issue. In my case gets this error:</p>\n<blockquote>\n<p>Java: No implementation was created for Mapper due to having a problem in the erroneous element</p>\n</blockquote>\n<p>when the app is running.</p>\n<p>I used to spring boot version <code>2.4.3</code> when I decrease version to <code>2.2.6.RELEASE</code> it start to work</p>\n"},{"comments":[{"comment_id":129495470,"body":"adding   kotlin(&quot;kapt&quot;) version &quot;1.4.32&quot; in plugins {} block results in error saying &quot;only id(String) method calls allowed in plugins {} script block&quot;"}],"answer_id":67317199,"body":"<p>If you use kotlin, you need to use <code>kapt</code> instead of <code>annotationProcessor</code></p>\n<p>Gradle example:</p>\n<pre><code>plugins {\n  kotlin(&quot;kapt&quot;) version &quot;1.4.32&quot;\n}\n...\ndependencies {\n  ...\n  implementation(&quot;org.mapstruct:mapstruct:1.4.2.Final&quot;)\n  kapt(&quot;org.mapstruct:mapstruct-processor:1.4.2.Final&quot;)\n}\n</code></pre>\n<p>Afterwards the implementation is generated if you execute <code>gradle build</code></p>\n"},{"comments":[{"comment_id":123133906,"body":"Mattia, this does not look like an answer for OP question. As you can see <code>useIncrementalCompilation</code> was not used."},{"comment_id":123150290,"body":"You are right!  I just wanted to share my solution in case someone has the same kind of problem as me. I think it might be useful for some people."},{"comment_id":129703690,"body":"@MattiaCasella I&#39;m glad you left this here. It is a solution to the problem why Mapstruct was not generating the implementation class for the Mapper. The solution as shown in your answer was to add it to the annotation processor path"}],"answer_id":69661640,"body":"<p>For me the problem was:</p>\n<pre><code>&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;\n</code></pre>\n<p>After commented that out, all works!</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;${jdk.target.version}&lt;/source&gt;\n        &lt;target&gt;${jdk.target.version}&lt;/target&gt;\n        &lt;!--&lt;useIncrementalCompilation&gt;false&lt;/useIncrementalCompilation&gt;--&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"answer_id":70142735,"body":"<p>If you are using Kotlin with maven, you can add these dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;1.4.2.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And add the kapt execution to the kotlin-maven-plugin as follows:</p>\n<pre><code>   &lt;plugin&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;kapt&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;kapt&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirs&gt;\n                                &lt;sourceDir&gt;src/main/kotlin&lt;/sourceDir&gt;\n                                &lt;sourceDir&gt;src/main/java&lt;/sourceDir&gt;\n                            &lt;/sourceDirs&gt;\n                            &lt;annotationProcessorPaths&gt;\n                                &lt;!-- Specify your annotation processors here. --&gt;\n                                &lt;annotationProcessorPath&gt;\n                                    &lt;groupId&gt;com.google.dagger&lt;/groupId&gt;\n                                    &lt;artifactId&gt;dagger-compiler&lt;/artifactId&gt;\n                                    &lt;version&gt;2.9&lt;/version&gt;\n                                &lt;/annotationProcessorPath&gt;\n                            &lt;/annotationProcessorPaths&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"answer_id":76297761,"body":"<p>Try Properties &gt; Maven &gt; Annotation Processing &gt; (Enable) Automatically configure JDT APT.</p>\n"}],"last_activity_date":1684626300,"question_id":54465747,"body":"<p>I am using Mapstruct and Lombok with maven and IDEA and it is refusing to generate mappers implementation. Config:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n...\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;org.mapstruct.version&gt;1.3.0.Beta2&lt;/org.mapstruct.version&gt;\n        &lt;lombok.version&gt;1.18.2&lt;/lombok.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- spring deps --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        ...\n\n        &lt;!-- lombok dep --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n            &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;add-source&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;add-source&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sources&gt;\n                                &lt;source&gt;${project.build.directory}/generated-sources/java/&lt;/source&gt;\n                                &lt;source&gt;${project.build.directory}/generated-sources/annotations/&lt;/source&gt;\n                            &lt;/sources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                    &lt;annotationProcessorPaths&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;version&gt;${lombok.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                        &lt;path&gt;\n                            &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                            &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                            &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n                        &lt;/path&gt;\n                    &lt;/annotationProcessorPaths&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifestEntries&gt;\n                            &lt;Implementation-Version&gt;${project.version}&lt;/Implementation-Version&gt;\n                        &lt;/manifestEntries&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n   ...\n&lt;/project&gt;\n</code></pre>\n\n<p>Both Mapstruct and Lombok are registered as annotations processors with idea:\n<a href=\"https://i.stack.imgur.com/MCuwF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MCuwF.png\" alt=\"enter image description here\"></a></p>\n\n<p>Implementation files does not generate when I try to build with IDEA or if I try maven clean install.</p>\n\n<p>I have tried changing Java from 11 to 8 and it still does not work. /target/generated-sources/annotations is just empty. Other project with same config is wroking fine.</p>\n"},{"comments":[{"comment_id":127766273,"body":"You want to use the Period class, not Duration class - <a href=\"https://docs.oracle.com/javase/tutorial/datetime/iso/period.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/datetime/iso/period.html</a>"},{"comment_id":127766751,"body":"@OldProgrammer Or the ThreeTen Extra combo: <a href=\"https://www.threeten.org/threeten-extra/apidocs/org.threeten.extra/org/threeten/extra/PeriodDuration.html\" rel=\"nofollow noreferrer\">PeriodDuration</a>. Or if you don’t want the external dependency, then both a <code>Period</code> and a <code>Duration</code>."},{"comment_id":127770827,"body":"You may want to look at <a href=\"https://stackoverflow.com/a/43976799/5772882\">my answer here</a>."}],"answers":[{"comments":[{"comment_id":127767416,"body":"Note that currently that has an extra &quot;P&quot; in the middle which you don&#39;t want..."},{"comment_id":127768189,"body":"If on Java 9 or later, you can just use <code>duration.toHoursPart()</code> to get only the hours within any day (so 21 hours in your example). Similarly <code>toMinutesPart()</code> etc."},{"comment_id":127776312,"body":"Your solution will probably produce funny results around transitions to and from summer time (DST)."}],"answer_id":72321553,"body":"<p>I believe I have solved it:</p>\n<pre><code>ZonedDateTime event1 = ZonedDateTime.of(2022, 2, 2, 2, 2, 2, 0, ZoneId.of(&quot;UTC-7&quot;));\nZonedDateTime event2 = ZonedDateTime.of(2025, 1, 1, 0, 0, 0, 0, ZoneId.of(&quot;UTC-7&quot;));\nDuration duration = Duration.between(event1, event2);\nPeriod period = Period.between(event1.toLocalDate(), event2.toLocalDate());\nLog.d(&quot;Duration ISO-8601: &quot;, period.toString() + duration.toString());\n</code></pre>\n<p>This prints:</p>\n<pre><code>P2Y10M30DPT25533H57M58S\n</code></pre>\n<p>Which is 2 years, 10 months, 30 days, 25533 hours, 57 minutes, 58 seconds.</p>\n<p>When extracting the individual values (which is what I need), using modulus fixes the problem with hours:</p>\n<pre><code> String.valueOf(duration.toHours() % 24)\n</code></pre>\n<p>And if there's any problem with minutes and seconds, % 60 will fix it.</p>\n"},{"answer_id":72321832,"body":"<p>You can create a custom class that will maintain <code>Period</code> and <code>Duration</code> fields (credits to <em>@Ole V.V.</em> since he mentioned it earlier in the comments).</p>\n<p>Here is an example of such a class implementation, which exposes a static method <code>between()</code>, that expects two arguments of type <code>LocalDateTime</code>.</p>\n<p>Methods like <code>getYears()</code> and <code>getHours()</code> will delegate the call to <code>Period</code> and <code>Duration</code> objects.</p>\n<pre><code>class DateTimeSlot {\n    private Period period;\n    private Duration duration;\n    \n    private DateTimeSlot(Period period, Duration duration) {\n        this.period = period;\n        this.duration = duration;\n    }\n    \n    public int getYears() {\n        return period.getYears();\n    }\n    \n    public int getMonth() {\n        return period.getMonths();\n    }\n    \n    public int getDays() {\n        return period.getDays();\n    }\n    \n    public int getHours() {\n        return duration.toHoursPart(); // this method can be safely used instead `toHours()` because `between()` implementation guerantees that duration will be less than 24 hours\n    }\n    \n    public int getMinutes() {\n        return duration.toMinutesPart();\n    }\n    \n    public int getSeconds() {\n        return (int) (duration.getSeconds() % 60);\n    }\n    \n    public static DateTimeSlot between(LocalDateTime from, LocalDateTime to) {\n        if (from.isAfter(to) || from.equals(to)) {\n            throw new IllegalArgumentException();\n        }\n        \n        Duration duration;\n        Period period;\n        \n        if (from.toLocalTime().isBefore(to.toLocalTime())) {\n            duration = Duration.between(from.toLocalTime(), to.toLocalTime());\n            period = Period.between(from.toLocalDate(), to.toLocalDate());\n        } else {\n            duration = Duration.between(to.withHour(from.getHour())\n                .withMinute(from.getMinute())\n                .withSecond(from.getSecond())\n                .minusDays(1), to);                    // apply shift one day back\n            period = Period.between(from.toLocalDate()\n                .plusDays(1), to.toLocalDate());       // apply shift one day forward (to compensate the previous shift)\n        }\n        return new DateTimeSlot(period, duration);\n    }\n    \n    @Override\n    public String toString() {\n        return String.format(&quot;%s years, %s months, %s days, %s hours, %s minutes, %s seconds&quot;,\n            getYears(), getMonth(), getDays(), getHours(), getMinutes(), getSeconds());\n    }\n}\n</code></pre>\n<p><code>main()</code> - demo</p>\n<pre><code>public static void main(String[] args) {\n    LocalDateTime now = LocalDateTime.of(2022, 5, 20, 18, 0, 18);\n    LocalDateTime withTimeBefore = LocalDateTime.of(2020, 12, 31, 15, 9, 27);\n    LocalDateTime withTimeAfter = LocalDateTime.of(2020, 12, 31, 22, 50, 48);\n    \n    DateTimeSlot slot1 = DateTimeSlot.between(withTimeBefore, now);\n    DateTimeSlot slot2 = DateTimeSlot.between(withTimeAfter, now);\n    \n    System.out.println(slot1);\n    System.out.println(slot2);\n}\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>1 years, 4 months, 20 days, 2 hours, 50 minutes, 51 seconds  // between 2020-12-31T15:09:27 and 2022-05-20T18:00:18\n1 years, 4 months, 19 days, 19 hours, 9 minutes, 30 seconds  // between 2020-12-31T22:50:48 and 2022-05-20T18:00:18\n</code></pre>\n"},{"comments":[{"comment_id":127784074,"body":"Thanks, @Meno, for providing this good answer (and for making your connection to the library clear from the outset). The OP mentioned ISO 8601. Can your library print as <code>P2Y10M29DT21H57M58S</code> (or some other ISO 8601 variant)?"},{"comment_id":127787228,"body":"@OleV.V. Simply use <a href=\"http://time4j.net/javadoc-en/net/time4j/Duration.html#toStringISO--\" rel=\"nofollow noreferrer\">duration.toString()</a>. General static parsing methods for ISO-representations also exist, like <a href=\"http://time4j.net/javadoc-en/net/time4j/Duration.html#parsePeriod-java.lang.String-\" rel=\"nofollow noreferrer\">parsePeriod(String)</a>."}],"answer_id":72331438,"body":"<p>My library <a href=\"https://github.com/MenoData/Time4J\" rel=\"nofollow noreferrer\">Time4J</a> has support for calculating and printing such durations. Example using your input:</p>\n<pre><code>    PlainTimestamp event1 = PlainTimestamp.of(2022, 2, 2, 2, 2, 2);\n    PlainTimestamp event2 = PlainTimestamp.of(2025, 1, 1, 0, 0, 0);\n    TZID tzid = ZonalOffset.ofHours(OffsetSign.BEHIND_UTC, 7);\n\n    Duration&lt;IsoUnit&gt; duration =\n        Duration.in(\n                Timezone.of(tzid), \n                CalendarUnit.YEARS,\n                CalendarUnit.MONTHS, \n                CalendarUnit.DAYS,\n                ClockUnit.HOURS, \n                ClockUnit.MINUTES, \n                ClockUnit.SECONDS)\n            .between(event1, event2);\n    System.out.println(PrettyTime.of(Locale.US).print(duration));\n    // 2 years, 10 months, 29 days, 21 hours, 57 minutes, and 58 seconds\n</code></pre>\n<p>A big advantage is here good internationalization of the output including language-dependent plural rules, see also <a href=\"http://time4j.net/javadoc-en/net/time4j/PrettyTime.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<p>You can also use instants/moments as input and then transform to local timestamps like this way if your input changes (some transformation examples):</p>\n<pre><code>    tzid = () -&gt; &quot;America/Chicago&quot;; // probably better than your fixed offset\n    event1 = TemporalType.LOCAL_DATE_TIME.translate(LocalDateTime.of(2022, 2, 2, 2, 2, 2));\n    event2 = Moment.nowInSystemTime().toZonalTimestamp(tzid);\n</code></pre>\n"}],"last_activity_date":1684625343,"question_id":72321174,"body":"<p>Given <code>2</code> dates, how can I calculate the difference between them in <code>Year Month Day, Hour Minute Second</code> format, as per <strong>ISO 8601</strong> Durations?</p>\n<p>I've only found Java libraries that can give the difference in days or smaller.</p>\n<p>Given that months and years have irregular numbers of days, I'm not sure how to figure out the difference in months and years.</p>\n<p>Even <code>Duration.between()</code> is close, but it gives the result in hours minutes seconds:</p>\n<pre><code>ZonedDateTime event1 = ZonedDateTime.of(2022, 2, 2, 2, 2, 2, 0, ZoneId.of(&quot;UTC-7&quot;));\nZonedDateTime event2 = ZonedDateTime.of(2025, 1, 1, 0, 0, 0, 0, ZoneId.of(&quot;UTC-7&quot;));\n//ZonedDateTime now = ZonedDateTime.now(ZoneId.of(&quot;UTC-7&quot;));\nDuration duration = Duration.between(event1, event2);\nLog.d(&quot;Duration ISO-8601: &quot;, duration.toString());\n\n\nOutput:    PT25533H57M58S\n</code></pre>\n<p>Which is <code>25533</code> <em>hours</em>, <code>57</code> <em>minutes</em>, <code>58</code> <em>seconds</em>.</p>\n<p>I'd like to see something like:</p>\n<pre><code>__ years, __ months, __ days, 9 hours, 57 minutes, 58 seconds\n</code></pre>\n"},{"answers":[{"comments":[{"comment_id":134545335,"body":"I&#39;m on Windows 10 and I&#39;m using JDK 20 and have the same problem as I stated previously."},{"comment_id":134546418,"body":"@1mag1n33 Maybe I&#39;m not understanding what the problem is, but your code seems to work on my computer as well (Windows 10, JDK 20.0.1, JavaFX 20.0.1). Haven&#39;t tested it on my Windows 11 computer, but I suspect it works there as well."},{"comment_id":134548570,"body":"Also works on macOS, JavaFX 17."}],"answer_id":76297697,"body":"<p>I copied the initialize method contents into the start method of a new app and added the bits that would allow it to display and run and it worked for me with no issue. (JavaFX &amp; JDK 20 on Win 11).</p>\n<p>I dropped files from the file explorer into the app window and they were named in the system out, as per the drop handler code.</p>\n<p><em>Output</em></p>\n<pre><code>javafx.scene.input.DragEvent[source=Pane@6b2cc6e[styleClass=root]]\nDropped file: C:\\Users\\&lt;username&gt;\\OneDrive\\Documents\\flight.txt\n</code></pre>\n<p><em>Code</em></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.input.Dragboard;\nimport javafx.scene.input.TransferMode;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\nimport java.io.File;\n\npublic class CopyHandler extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        Pane dropPane = new Pane();\n        dropPane.setPrefSize(600, 400);\n\n        dropPane.setOnDragEntered(event -&gt; {\n            System.out.println(event);\n\n            if (event.getGestureSource() != dropPane &amp;&amp; event.getDragboard().hasFiles()) {\n                dropPane.setStyle(&quot;-fx-border-color: blue; -fx-border-width: 2;&quot;);\n                event.acceptTransferModes(TransferMode.COPY);\n            }\n            event.consume();\n        });\n\n        dropPane.setOnDragExited(event -&gt; {\n            dropPane.setStyle(&quot;-fx-border-color: transparent;&quot;);\n            event.consume();\n        });\n\n        dropPane.setOnDragOver(event -&gt; {\n            if (event.getGestureSource() != dropPane &amp;&amp; event.getDragboard().hasFiles()) {\n                event.acceptTransferModes(TransferMode.COPY);\n            }\n            event.consume();\n        });\n\n        dropPane.setOnDragDropped(event -&gt; {\n            Dragboard dragboard = event.getDragboard();\n            boolean success = false;\n            if (dragboard.hasFiles()) {\n                for (File file : dragboard.getFiles()) {\n                    // Process the dropped file\n                    System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\n                }\n                success = true;\n            }\n            event.setDropCompleted(success);\n            event.consume();\n        });\n\n        primaryStage.setScene(new Scene(dropPane));\n        primaryStage.show();\n    }\n}\n</code></pre>\n"}],"last_activity_date":1684624668,"question_id":76297588,"body":"<p>Issue with drag and drop functionality in JavaFX application</p>\n<p>I'm currently working on a JavaFX application and trying to implement a drag and drop functionality. I have a pane in my UI where I want users to be able to drag and drop files, specifically .jar files. However, I'm encountering an issue where the cursor shows a cancel sign when I drag a file over the pane, and the drop event is not triggered.</p>\n<p>I've tried various approaches, including setting the onDragEntered, onDragExited, onDragOver, and onDragDropped event handlers for the pane. I've also set the TransferMode to COPY and verified that the dragboard has files. However, the desired behavior is not working as expected.</p>\n<p>Here is my FXML file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.net.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.detector.Controller&quot;&gt;\n    &lt;stylesheets&gt;\n        &lt;URL value=&quot;@styles.css&quot; /&gt;\n    &lt;/stylesheets&gt;\n    &lt;children&gt;\n        &lt;Pane fx:id=&quot;dragDropPane&quot; layoutY=&quot;-3.0&quot; prefHeight=&quot;349.0&quot; prefWidth=&quot;600.0&quot; /&gt;\n        &lt;Button layoutX=&quot;545.0&quot; layoutY=&quot;361.0&quot; onAction=&quot;#onOpenButtonClick&quot; text=&quot;Open&quot; /&gt;\n        &lt;TextField fx:id=&quot;pathText&quot; layoutX=&quot;14.0&quot; layoutY=&quot;361.0&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;515.0&quot; /&gt;\n      &lt;Label layoutX=&quot;255.0&quot; layoutY=&quot;192.0&quot; text=&quot;Drag .jar file here&quot; /&gt;\n    &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>And here is my controller code:</p>\n<pre><code>import javafx.fxml.FXML;\nimport javafx.scene.input.DragEvent;\nimport javafx.scene.input.Dragboard;\nimport javafx.scene.input.TransferMode;\nimport javafx.scene.layout.Pane;\n\nimport java.io.File;\n\npublic class Controller {\n    @FXML\n    public Pane dragDropPane;\n\n    @FXML\n    public void initialize() {\n        dragDropPane.setOnDragEntered(event -&gt; {\n            if (event.getGestureSource() != dragDropPane &amp;&amp; event.getDragboard().hasFiles()) {\n                dragDropPane.setStyle(&quot;-fx-border-color: blue; -fx-border-width: 2;&quot;);\n                event.acceptTransferModes(TransferMode.COPY);\n            }\n            event.consume();\n        });\n\n        dragDropPane.setOnDragExited(event -&gt; {\n            dragDropPane.setStyle(&quot;-fx-border-color: transparent;&quot;);\n            event.consume();\n        });\n\n        dragDropPane.setOnDragOver(event -&gt; {\n            if (event.getGestureSource() != dragDropPane &amp;&amp; event.getDragboard().hasFiles()) {\n                event.acceptTransferModes(TransferMode.COPY);\n            }\n            event.consume();\n        });\n\n        dragDropPane.setOnDragDropped(event -&gt; {\n            Dragboard dragboard = event.getDragboard();\n            boolean success = false;\n            if (dragboard.hasFiles()) {\n                for (File file : dragboard.getFiles()) {\n                    // Process the dropped file\n                    System.out.println(&quot;Dropped file: &quot; + file.getAbsolutePath());\n                }\n                success = true;\n            }\n            event.setDropCompleted(success);\n            event.consume();\n        });\n    }\n}\n\n</code></pre>\n<p>I'm unsure why the drag and drop functionality is not working as expected. I appreciate any insights or suggestions on how to resolve this issue. Thank you!</p>\n"},{"comments":[{"comment_id":134447344,"body":"was this working before? If so, try to find the version where the behaviour changed. <a href=\"https://stackoverflow.com/q/42626065/11107541\">stackoverflow.com/q/42626065/11107541</a>"},{"comment_id":134450902,"body":"What VSCode extension for JSPs are you using?"},{"comment_id":134466064,"body":"Have you installed JSP -related extensions and have a complete <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Java expansion package</a>?"}],"answers":[{"answer_id":76297680,"body":"<p>You install the <strong>Java Extension Pack</strong> for Visual Studio Code by Microsoft.</p>\n<p>It includes several extensions (such as language support, a Java debugger, IntelliCode for Java) that make Java development in VS Code a snap.</p>\n<p>Just click on the Extensions button (over on the left, looks like a Rubik’s cube being taken apart). Search for it on the Marketplace. It’s free. Download and install.</p>\n<p>Good luck!</p>\n"}],"last_activity_date":1684624406,"question_id":76240061,"body":"<p>As the title says, I've encountered an issue where not a single &lt;%@ directive attribute is being even recognised in any jsp files on VSCode.</p>\n<p>For example something like <code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;</code> doesnt work, or <code>&lt;%@page import=&quot;java.util.ArrayList&quot; %&gt;</code>. Basically, anything with &lt;%@ doesnt work, &lt; just gets colored with red. Universal issue, happens with all Java projects.</p>\n<p>The syntax is correct, I have the right Maven Dependencies installed, jstl-1.2 . I tried installing VSCode on a seperate computer, and even there I have the same issue, the &lt; is just marked with red and the lines just show up as &quot;?&quot; in the outline. This happens with any Java project, mine or even my teacher's example code. And since taglib is not working, neither is any c: commands like c:forEach.</p>\n<p>I know im probably missing something obvious but after 5 hours of searching I just got no answers. I presume its something to do with my VSCode settings or extensions or something else. Know some more details are probably needed, please ask anything.</p>\n<p>Would love any suggestions on whats happening/what I am missing.</p>\n<p>Example of code that otherwise works except for taglib and &lt;c:forEach .</p>\n<pre><code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\n&lt;html&gt;\n    \n    &lt;title&gt;\n        Shopping List\n    &lt;/title&gt;\n    &lt;body&gt;\n        &lt;h1&gt;Shopping List&lt;/h1&gt;\n        &lt;table&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;&lt;th&gt;Product&lt;/th&gt;&lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;c:forEach items=&quot; ${ items }&quot; var=&quot;shoppingListItem&quot;&gt;\n                &lt;tr&gt;&lt;td&gt;${ shoppingListItem.getTitle() }&lt;/td&gt;&lt;/tr&gt;\n                &lt;/c:forEach&gt;\n\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"comments":[{"comment_id":134284718,"body":"Try to use C##SCOTT schema in the entity annotation @Table."},{"comment_id":134544612,"body":"@Mar-Z ... that was a big derp on my part yes C##SCOTT would be correct. It seems like the Oracle database I created doesn&#39;t want common users to actually have admin rights to the tables, from what I understand, you can do it, buuuut a  using a non C## name (not a common user) would helped. But later I had problems with Spring Data JPA choking on the hash/ pound sign for some reason. Might be by design. dunno. So solution was to create a database user with admin right and not have to use the C## prefix in the name for the schema / user that owned the tables."}],"answers":[{"answer_id":76154838,"body":"<p>You should distinguish between user and schema. Assuming you say</p>\n<blockquote>\n<p>I have a database schema/user in an Oracle enterprise database named C##SCOTT called Employee.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>I also have another schema/user called C##ORC_READ_ONLY which is set up to have read-only permissions of the tables within the C##SCOTT schema.</p>\n</blockquote>\n<p>your entity should look like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@ToString\n@Entity\n@Table(name =&quot;EMPLOYEE&quot;, schema=&quot;C##SCOTT&quot;)\npublic class Employee {\n}\n</code></pre>\n<p>The rest of the code should remain as is (tiny thing: you don't need <code>@Repository</code> over an interface extending <code>JpaRepository</code> as Spring resolves it automatically).</p>\n"},{"comments":[{"comment_id":134546225,"body":"Cool. Thanks for feedback. According to Oracle doc - common users are only relevant if you have multitenant architecture and need some special users who have the same name in all CDBs or PDBs. They will be recognized by the prefix &quot;C##&quot;."}],"answer_id":76297676,"body":"<p>Sooo. My only solution was to create another user that had admin rights... and NOT use the C## prefix. Thus I changed the Model to:</p>\n<pre><code>@Data\n@ToString\n@Entity\n@Table(name = &quot;EMPLOYEE&quot;, schema= &quot;FRED&quot;)\npublic class Employee {\n\n    @Id                    \n    @Column(name = &quot;EMPNO&quot;)\n    private Long id;\n\n    private String ename;\n\n    private String job;\n\n    private Long mgr;\n\n    private Date hiredate;\n\n    private Long sal;\n\n    private Long comm;\n\n    private Long deptno;\n\n}\n</code></pre>\n<p>FRED is not a common user. I think it was how I configured the Oracle database that caused the issue. @Mar-Z and @sergey-tsypanov answers DID help me put it together.</p>\n"}],"last_activity_date":1684624331,"question_id":76144387,"body":"<p>So I have a database schema/user in an Oracle enterprise database named C##SCOTT called Employee. This schema/user has all the permissions to create tables, update, read and write. I also have another schema/user called C##ORC_READ_ONLY which is set up to have read-only permissions of the tables within the C##SCOTT schema. My application.yml file looks like this if I want to access the database via C##ORC_READ_ONLY:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:oracle:thin:@localhost:1521:orcl\n    username: C##ORC_READ_ONLY\n    password: --password goes here--\n    driver-class-name: oracle.jdbc.OracleDriver\n\n  jpa:\n    database: oracle\n    show-sql: true\n    hibernate:\n      ddl-auto: none\n</code></pre>\n<p>From my understanding I just code my Entity like this:</p>\n<pre><code>@Data\n@ToString\n@Entity\n@Table(name =&quot;EMPLOYEE&quot;, schema=&quot;C##SCOTT&quot;)\npublic class Employee {\n\n    @Id                   \n    @Column(name = &quot;EMPNO&quot;)\n    private Long id;\n\n    private String ename;\n\n    private String job;\n\n    private Long mgr;\n\n    private Date hiredate;\n\n    private Long sal;\n\n    private Long comm;\n\n    private Long deptno;\n\n}\n</code></pre>\n<p>...and the repo like this:</p>\n<pre><code>@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n}\n</code></pre>\n<p>The service portion of my demo web-service looks like this:</p>\n<pre><code>@Service\npublic class EmployeeService {\n\n    @Autowired\n    EmployeeRepository employeeRepository;\n\n    @Autowired\n    ObjectMapper employeeObjectMapper;\n\n    public String getAllEmployeesService( ) throws JsonProcessingException {\n\n        List&lt;Employee&gt; employeeArrayList = employeeRepository.findAll();\n        GetAllEmployeesResponseWrapper getAllEmployeeResponseWrapper = new GetAllEmployeesResponseWrapper(employeeArrayList);\n        String response = employeeObjectMapper.writeValueAsString(getAllEmployeeResponseWrapper);\n\n        return response;\n\n    }\n}\n</code></pre>\n<p>Everything compiles fine, no warnings or errors regarding access occur. However, if I try to send the request message to the the web-service, I get an exception thrown saying that the table or view cannot be found:</p>\n<pre><code>ORA-00942: table or view does not exist\n</code></pre>\n<p>Now if I change the username and password to the schema/username that is the actual owner of the table... it works fine. Do I have to override the <code>findAll()</code> method from the repository to get this to work? Or is there something else wrong?</p>\n"},{"comments":[{"comment_id":134541344,"body":"Maybe because you didn&#39;t provide a minimal reproducible example."}],"answers":[{"comments":[{"comment_id":134545295,"body":"Hmmm, actually this is not working 100%. In my case it uses <code>groovy-3.0.10.jar</code> in the classpath so most Groovy stuff is working, but not everything. For example it also needs <code>groovy-nio-3.0.10.jar</code> for the extension methods of <code>java.nio.file.Path</code> .. and there are also some other additional <code>groovy-...-3.0.10.jar</code> files..."},{"comment_id":134547890,"body":"You can include to classpath whole lib directory"}],"answer_id":76296199,"body":"<p>how to run groovy script using java command line you can check in groovy shells/batches:</p>\n<p><a href=\"https://github.com/apache/groovy/blob/master/src/bin/groovy.bat#L30\" rel=\"nofollow noreferrer\">https://github.com/apache/groovy/blob/master/src/bin/groovy.bat#L30</a></p>\n<pre><code>java -cp &quot;$GROOVY_HOME/lib&quot; groovy.ui.GroovyMain myscript.groovy\n</code></pre>\n<p>the only question find out gradle/lib folder where usually groovy-all is located</p>\n<p>i can suggest this as straight forward:</p>\n<pre><code>def groovyJar = new File(groovy.ui.GroovyMain.getProtectionDomain().getCodeSource()?.getLocation()?.toURI())\n</code></pre>\n<hr />\n<p>Or when using <code>javaexec</code> as mentioned above, it's:</p>\n<pre><code>  javaexec {\n    classpath = files(groovy.ui.GroovyMain.protectionDomain.codeSource.location)\n    mainClass = 'groovy.ui.GroovyMain'\n    args = ['my-script.groovy']\n  }\n</code></pre>\n"},{"answer_id":76296338,"body":"<p>An alterntive solution seems to be:</p>\n<p>Add the following to <code>build.gradle</code>:</p>\n<pre><code>configurations {\n  groovyScript\n}\n\ndependencies {\n  groovyScript localGroovy()\n  ...\n}\n</code></pre>\n<p>Then later use:</p>\n<pre><code>  javaexec {\n    classpath = configurations.groovyScript\n    mainClass = 'groovy.ui.GroovyMain'\n    args = ['my-script.groovy']\n  }\n</code></pre>\n<p>I've just read this somewhere in the web. I do not really understand what this is exactly doing. If someone could explain, that would be great. TYVMIA</p>\n"}],"last_activity_date":1684623852,"question_id":76295597,"body":"<p>Let's say you have a Groovy script that ends with a <code>System.exit(...)</code> call and you want this Groovy script to be executed in a Gradle task. As the <code>System.exit</code> call will terminate the whole JVM you want to run this script in another Java process (as using <code>GroovyShell</code> does not seem to be an option because to of the <code>System.exit</code> call). How can you do this without using a separate Groovy installation's <code>groovy</code> command)?</p>\n<p>If something like this might work, how do I have to replace <code>???</code> and <code>????</code>?</p>\n<pre><code>  javaexec {\n    classpath = ???\n    mainClass = ????\n    args = ['my-script.groovy']\n  }\n</code></pre>\n<hr />\n<p>[Edit] Okay, here's a &quot;minimal reproducible example&quot; as mentioned in the comment below, if that makes the question better understandable:</p>\n<p>The Groovy script:</p>\n<pre><code>    // file: my-script.groovy\n\n    println 'Hello World'\n    System.exit(0)\n</code></pre>\n<p>The Gradle task (this might be completely wrong and I do not know how to replace the question marks):</p>\n<pre><code>task runMyScript(type: JavaExec) {\n  classpath = ???\n  mainClass = ????\n  args = ['my-script.groovy']\n}\n</code></pre>\n"},{"comments":[{"comment_id":21767488,"body":"It looks like you need a collection of some sort of data structure class: <a href=\"http://docs.oracle.com/javase/tutorial/collections/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/collections/index.html</a>"}],"answers":[{"answer_id":15397828,"body":"<p>Use an <code>ArrayList&lt;String&gt;</code>.</p>\n\n<p>ArrayList has a method, <code>add</code>, that adds a new value to the end of the collection. When you're done, you can use a <code>for</code> or <code>foreach</code> loop over the ArrayList and get each value added to it one at a time.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html</a></p>\n\n<p>If you need to store a bunch of strings but associate them with names, then you want a <code>HashMap&lt;String,String&gt;</code>.</p>\n\n<p>You can do <code>.add(\"username\", \"tom\")</code> and <code>.add(\"password\", \"hunter12\")</code> on a HashMap, and to get a value you do <code>.get(\"username\")</code> and you get \"tom\" back.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html</a></p>\n"},{"answer_id":15397917,"body":"<p>The problem is that the readline method returns the string without a line break.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#readLine%28%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html#readLine%28%29</a></p>\n\n<p>When you use it on the server there is no line break, so it continues to wait for the end of the line. </p>\n\n<p>Try this on your client:</p>\n\n<pre><code>System.out.println(\"Type password\");\nmyPass = fromUser.readLine();\ntoServer.writeBytes(myPass + \"\\n\");\n\n\nSystem.out.println(\"Type address\");\nmyAd = fromUser.readLine();\ntoServer.writeBytes(myAd + \"\\n\");\n</code></pre>\n"},{"comments":[{"comment_id":21768167,"body":"Thank you. The line separator did the job. Nice info too."}],"answer_id":15397923,"body":"<p>You're not really asking the right question, the problem you have is caused by a previous oversight, and if you fix it you can skip this problem.</p>\n\n<p>When you read the line in on the client with <code>fromUser.readLine();</code>, the String you recieve will have had its line separator removed, as stated in the Javadocs:</p>\n\n<blockquote>\n  <p>public String readLine() throws IOException</p>\n  \n  <p>Read a line of text. A line is considered to be terminated by any one of a line feed ('\\n'), a carriage return ('\\r'), or a carriage return followed immediately by a linefeed.</p>\n  \n  <p><strong>Returns</strong>:\n      A String containing the contents of the line, not including any line-termination characters, or null if the end of the stream has been reached</p>\n</blockquote>\n\n<p>Therefore, if you add them back in to the String before you send it to your server like so:</p>\n\n<pre><code>System.out.println(\"Type password\");\nmyPass = fromUser.readLine() + System.lineSeparator();\ntoServer.writeBytes(myPass);\n\n\nSystem.out.println(\"Type address\");\nmyAd = fromUser.readLine() + System.lineSeparator();\ntoServer.writeBytes(myAd);\n</code></pre>\n\n<p>Your server code should work as expected, as they will then be counted as separate lines once again.</p>\n\n<p>Or if you really want to do that, you should consider a <code>Map&lt;String, String&gt;</code> if you have an unknown number of variables.</p>\n"}],"last_activity_date":1684621887,"question_id":15397758,"body":"<p>I've come to a problem in passing data from one client class to another server class. I made variables to store each information the client sends to the server, and it uses an if statement that rejects service if either address or password is incorrect, else otherwise.</p>\n\n<p>However, I've come to a problem, when user typed in password; then address. The data is automatically passed on the first round. Instead of client send password data, and store data in password variable in the server. Then client send address, store the data in address variable. It just sends both, and store both in one variable.</p>\n\n<p><strong>I want to display:</strong></p>\n\n<pre><code>Password received: unlo91\\ (made up password)\nAddress received: localhost\n</code></pre>\n\n<p><strong>Instead I get:</strong></p>\n\n<pre><code>Password received: unlo91\\localhost (made up password)\nAddress received: null\n</code></pre>\n\n<p>Is there a method to, \"Right. Client just sent password. Store it in PW var. OK, don't store in PW var now because that is already in use (or used once already). Move on to next available variable (address) to store the next.\"</p>\n\n<p><strong>Server:</strong></p>\n\n<pre><code>cliPass = fromClient.readLine(); \nSystem.out.println(\"Client entered... \" + cliPass );\ncliAd = fromClient.readLine(); \nSystem.out.println(\"Client entered... \" + cliAd);\n</code></pre>\n\n<p><strong>Client:</strong></p>\n\n<pre><code>    System.out.println(\"Type password\");\n    myPass = fromUser.readLine();\n    toServer.writeBytes(myPass);\n\n\n    System.out.println(\"Type address\");\n    myAd = fromUser.readLine();\n    toServer.writeBytes(myAd);\n</code></pre>\n"},{"comments":[{"comment_id":134526562,"body":"Where do you expect to see your file? I can see you have created new File without any path, and <code>getOrifinalFileName</code> is not going to give you a file path, make sure you knew where the current directory is."},{"comment_id":134528426,"body":"@Popeye. The file does get created as mentioned in the outermost folder in the project. The issue I face is that the <code>transferTo()</code> does not work in my code.  I saw your other comment that it worked for you. Please let me know if the exact same code worked?"},{"comment_id":134536469,"body":"The exact code you have written. Please be more specific on how it does not work, Does it throw exception? Is it just no files are created?"},{"comment_id":134536803,"body":"Give an absolute path, if you use <code>File</code>  the renamed file got created in <code>ROOT</code> directory of <code>TOMCAT</code>, I can explain the reason, but then I will have to offer a complete answer."},{"comment_id":134538160,"body":"The code gets executed successfully without throwing any exceptions. File gets created thanks to <code>createNewFile()</code> But the MultipartFile did not get transferred to the file."},{"comment_id":134539488,"body":"As I said in my last comment , if you do not provide absolute path , your code will not execute properly. In production environment it will start writing file in your home directory, worse case, somewhere where it won&#39;t even have permission to write. Also creating file before moving is unnecessary."}],"answers":[{"comments":[{"comment_id":134526051,"body":"Thank you very much for the suggestion. <code>file.transferTo(file1.toPath());</code> works.  <code>transferto(File file)</code> and <code>transferto(Path path)</code> both exists. Interestingly, <code>transferto(File file)</code> does not work for some reason."},{"comment_id":134526109,"body":"Yes. File is from the &quot;ancient&quot; Java package java.io Path is from the new one java.nio.file Anyway thanks for feedback."},{"comment_id":134526572,"body":"For me, both works. I also checked the source code, it is very odd. the difference in the two functions are kind of funny. But Both functions works."},{"comment_id":134526613,"body":"@Popeye probably different Java versions? I&#39;m on Java 20"},{"comment_id":134527132,"body":"@Mar-Z please check other conditions. I do not see anything suspicious in Springboot source code. I am using java-19. But that&#39;s not a good reason to assume old functions broke."},{"comment_id":134527593,"body":"@Mar-Z I tried using both Java 20 and 17, <code>transferto(File file)</code> does not work in both."},{"comment_id":134527649,"body":"Yes. Please check the updated answer. @Popeye we are not assuming anything - we are testing :)"}],"answer_id":76286519,"body":"<p>I have reproduced your case and can confirm that <code>transferTo()</code> with <code>File</code> object doesn't work. I don't know why. But <code>transferTo()</code> with <code>Path</code> works fine.</p>\n<p>This code works fine:</p>\n<pre><code>String fileName = file.getOriginalFilename();\nFile file1 = new File(fileName);\nfile.transferTo(file1.toPath());\n</code></pre>\n<p>EDIT: I have checked the source code (Java 20) and there is an obvious difference between (1) transferTo(File file) and (2) transferTo(Path path): in (1) the file will only be copied if it is an absolute path. It means starts with '/' on Unix or drive letter or network drive on Windows. Method (2) doesn't check it and just copy the file. In our case to the working directory as the file name is not prefixed with anything.</p>\n"},{"answer_id":76297579,"body":"<p>I did a little digging on the source code itself to find out why this is happening.</p>\n<p>In the class <code>org.springframework.web.multipart.support.StandardMultipartHttpServletRequest</code> two functions exists</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Override\n        public void transferTo(File dest) throws IOException, IllegalStateException {\n            this.part.write(dest.getPath());\n            if (dest.isAbsolute() &amp;&amp; !dest.exists()) {\n                FileCopyUtils.copy(this.part.getInputStream(), Files.newOutputStream(dest.toPath()));\n            }\n        }\n\n        @Override\n        public void transferTo(Path dest) throws IOException, IllegalStateException {\n            FileCopyUtils.copy(this.part.getInputStream(), Files.newOutputStream(dest));\n        }\n    }\n\n</code></pre>\n<p>Definition of <code>part.write()</code> method is written in class <code>org.apache.catalina.core.ApplicationPart</code></p>\n<pre><code>    @Override\n    public void write(String fileName) throws IOException {\n        File file = new File(fileName);\n        // testing whether the path is absolute or not, OP's code is relative path\n        if (!file.isAbsolute()) {\n          // HIGHLIGHTED PART\n            file = new File(location, fileName);\n        }\n        try {\n            fileItem.write(file);\n        } catch (Exception e) {\n            throw new IOException(e);\n        }\n    }\n\n</code></pre>\n<p>In the <code>write</code> method absolute path is being created by using <code>location</code> variable. Variable <code>location</code> hold the value of <code>ROOT</code> directory of <code>TOMCAT</code> as example</p>\n<pre><code>/tmp/tomcat.8080.12533880900101227658/work/Tomcat/localhost/ROOT/\n</code></pre>\n<p>So, when you do not give an absolute path to <code>write</code>, function simply decide to move the file to <code>ROOT</code> directory. In other word, file is being moved, working properly, <strong>OP just does not know where to look for the moved file.</strong></p>\n<p>What can be done to resolve OP''s issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ControllerClass {\n  // Create an absolute base path where your uploaded file will be moved. \n  // All file will be moved here \n  private final String uploadFilePath = &quot;/a/suitable/path/&quot;;\n  @PostMapping(&quot;/form3&quot;)\n  public String handleFormUpload3(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n      String fileName = file.getOriginalFilename();\n      File file1 = new File(uploadFilePath, fileName);\n      //if(!file1.exists())\n      //    file1.createNewFile();\n      file.transferTo(file1);\n      System.out.println(file1.exists());\n      return &quot;redirect:uploadSuccess&quot;;\n  }\n}\n\n</code></pre>\n<p><strong>PS</strong>\nThis is poor judgement of coding by Spring Boot development team. They have overwridden function that has different behvior. This is bad principle for writing library. It is unwise to force programmer to be hyper aware of how functions with same name behave. It just create distrust towards the library. Both of the functions should have behave exactly the same. My apporach would be simpley call the other function with proper value instead of writing a whole new function with different nature.</p>\n"}],"last_activity_date":1684621808,"question_id":76286304,"body":"<p>The line <code>file1.createNewFile();</code> creates a new file, but the <code>file.transferTo(file1);</code> does not transfer the contents of the MultipartFile to file1.\nIs there a way to make the <code>transferTo</code> method work?</p>\n<pre><code>@PostMapping(&quot;/form3&quot;)\npublic String handleFormUpload3(@RequestParam(&quot;file&quot;) MultipartFile file) throws IOException {\n    String fileName = file.getOriginalFilename();\n    File file1 = new File(fileName);\n    if(!file1.exists())\n        file1.createNewFile();\n    file.transferTo(file1);\n    System.out.println(file1.exists());\n    return &quot;redirect:uploadSuccess&quot;;\n}\n</code></pre>\n<p>When I use <code>FileOutputStream</code> to save the MultipartFile to a regular file by converting into to a byte array, the transfer works fine. But <code>transferTo()</code> is much simpler and less verbose. How do I make it work?</p>\n"},{"comments":[{"comment_id":121023851,"body":"Clean your project Generate signed yours bundle/.apk file Uncheck the &quot;Remember password&quot; Manually put your password at &quot;Key store password&quot; and &quot;Key password&quot; Click Next and you Done!."}],"answers":[{"comments":[{"comment_id":119729639,"body":"so at the end, app module will have <code>id &#39;com.android.application&#39;</code>, and library module will have <code>id &#39;com.android.library&#39;</code>? I still stuck with this problem"}],"answer_id":67429192,"body":"<p>I got the solution.\nThere was a library in project having,</p>\n<pre><code>plugins {\n    id 'com.android.library'\n}\n</code></pre>\n<p>in the build.gradle file of library.\nI added the same,</p>\n<pre><code>plugins {\n    id 'com.android.library'\n}\n</code></pre>\n<p>in build.gradle file of app.\nIt was causing this error.\nI changed it back to,</p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n</code></pre>\n<p>This solved my issue.</p>\n"},{"answer_id":67980723,"body":"<p>In my case, there was an unwanted character(a semicolon) in build.gradle(app)</p>\n<p>I deleted that and rebuiled the project</p>\n<p>problem solved.</p>\n"},{"comments":[{"comment_id":129008079,"body":"you really helped me. I had the same issue. in my gradle versionCode was 1.0 that&#39;s why I ran into trouble. I changed it to 1. now I have no issue :)"}],"answer_id":68479491,"body":"<p>I was using -\n(in build.gradle)\n&quot;versionCode&quot; as RN-2 (* as i was developing in React Native)\nthen i tried &quot;versionCode&quot; as 3.1 but that also was throwing error\nthen i used -\n<code>versionCode 4</code></p>\n<p>and this time the BUILD was SUCCESSFUL</p>\n<p><em><em>my learning</em> -&gt; versionCode should be integer</em>*</p>\n"},{"comments":[{"comment_id":121193923,"body":"Back thats a way back right? It is recommended to upgraded from aapt to android resources"},{"comment_id":127144685,"body":"Any other possibility of this error? I don&#39;t have &#39;androidResources&#39; in my build.gradle"}],"answer_id":68573115,"body":"<p>I had the same issue when migrating to the AGP 7.0 when moving from <code>aaptOptions</code> to <code>androidResources</code>.</p>\n<p>For me it was enough to replace</p>\n<pre><code>androidResources {\n   noCompress '...'\n}\n</code></pre>\n<p>with</p>\n<pre><code>aaptOptions {\n   noCompress '...'\n}\n</code></pre>\n"},{"answer_id":68754449,"body":"<p>In my case I was working with <code>productFlavors</code>, setting up a boolean property. I forgot to surround the boolean value with apostrophes.</p>\n<p>So I changed this</p>\n<pre><code>productFlavors {\n    normal {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', false\n    } \n\n    admin {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', true\n    }\n}\n</code></pre>\n<p>to this</p>\n<pre><code>productFlavors {\n    normal {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', 'false'\n    } \n\n    admin {\n        flavorDimension &quot;access&quot;\n        buildConfigField 'boolean', 'IS_ADMIN', 'true'\n    }\n}\n</code></pre>\n"},{"answer_id":68758851,"body":"<p>I had the same issue when migrating to the <code>'com.android.tools.build:gradle:7.0.0'</code></p>\n<p>I removed the code:</p>\n<pre><code>javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [fragmentArgsLogWarnings: 'false']\n                includeCompileClasspath true\n            }\n        }\n</code></pre>\n<p>here is desc about how to add it again for kapt\n<a href=\"https://github.com/sockeqwe/fragmentargs#annotation-processor-options\" rel=\"noreferrer\">https://github.com/sockeqwe/fragmentargs#annotation-processor-options</a></p>\n"},{"answer_id":70007042,"body":"<p>There's no unique answer for this, except that it's a syntax typo inside <code>build.gradle</code> file.</p>\n"},{"answer_id":70045441,"body":"<p>The error can have many origins. One most frequent is due to <strong>syntax typo inside build.gradle</strong> file and there's no easy way to spot it.</p>\n<p>My suggestion. <strong>Copy the code from a working build.grade file on another project and replace the part that is throwing the error.</strong></p>\n"},{"answer_id":70109456,"body":"<p><code>kotlinOptions</code> lambda caused error in my case.</p>\n<pre><code>android {\n...\n    kotlinOptions {\n        jvmTarget = &quot;11&quot;\n    }\n...\n}\n</code></pre>\n<p>When I removed it - everything start to work back again.</p>\n"},{"answer_id":70196186,"body":"<p>My solution was to comment all elements in <code>android {}</code> section, sync &amp; build and then uncomment. It worked.</p>\n"},{"comments":[{"comment_id":126766263,"body":"I got help through this technique, thanks"},{"comment_id":127596985,"body":"I solved it also using this. In my case it was also useProguard inside the buildTypes, deleted that and it worked"},{"comment_id":130860994,"body":"That was my problem too (buildTypes)"}],"answer_id":70681405,"body":"<p>Best way to deal with this is going in the <code>android { ... }</code> block and start commenting out different methods/blocks until the configuration moves past the <code>.android()</code> error and you'll know which block is causing it. In my case it was a deprecated method in the <code>buildTypes { ... }</code> block.</p>\n"},{"answer_id":70805025,"body":"<p>I had this error <code>No signature of method: build_eux4i9fuz78eb5ojbn76y01n5.android() is applicable for argument types</code></p>\n<p>It was fixed by changing</p>\n<pre><code>buildFeatures {\n    dataBinding true\n}\n</code></pre>\n<p>to</p>\n<pre><code>dataBinding {\n    enabled = true\n}\n</code></pre>\n<p>I believe the error is the cause of version conflicts between kotlin plugin version and gradle version.</p>\n"},{"answer_id":71583908,"body":"<p>I had the same issue when I removed the <code>id 'org.jetbrains.kotlin.android.extensions'</code> plugin from build.gradle(:app).</p>\n<p>It was fixed by also removing</p>\n<pre><code>    android {\n        ...\n        androidExtensions {\n            experimental = true\n        }\n        ...\n    }\n</code></pre>\n"},{"answer_id":71760565,"body":"<p>I fixed this error by removing 'useProguard' from app/build.gradle like so:</p>\n<pre><code>buildTypes {\n        release {\n            signingConfig signingConfigs.release\n\n            minifyEnabled true\n            shrinkResources true\n\n            // useProguard true &lt;-- removed this\n            proguardFiles(\n                    getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;), &quot;proguard-rules.pro&quot;\n            )\n        }\n    }\n    \n</code></pre>\n<p>I hope that helps someone!</p>\n"},{"answer_id":71791797,"body":"<p>I recently had similar trouble. I had to rerun the project with a &quot;build.gradle&quot; file from another project that didn't have any issues. Then I narrowed the issue down to <code>useProguard true</code>. The issue disappeared after I commented out <code>useProguard true</code> as shown below:</p>\n<pre><code>buildTypes {\n    release {\n        signingConfig signingConfigs.release\n        minifyEnabled true\n        //useProguard true  &lt;-- remove this line\n        proguardFiles getDefaultProguardFile('proguard-android.txt')\n    }\n    debug {\n        signingConfig signingConfigs.debug\n    }\n}\n</code></pre>\n"},{"answer_id":71884903,"body":"<p>I just created a new project and added dependencies, and this error occurred.</p>\n<p>In my case the problem was <code>namespace</code> 'com.appName.packageName.app' line in <code>build.gradle</code> file. Deleting this helped me.</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'androidx.navigation.safeargs.kotlin'\n}\n\nandroid {\n    namespace 'com.mathtask.app' // Delete this line\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.mathtask.app&quot;\n        minSdk 27\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n...\n</code></pre>\n"},{"answer_id":71918267,"body":"<p>An absolutely Ludicrous error being issued by Android Studio</p>\n<p>Mind you this has been compiling absolutely fine in previous versions of AS and Gradle until I upgraded a couple of days ago.</p>\n<p>I had accidentally in one of my modules typed a Capital letter (many months ago mind you) as follows ;</p>\n<pre><code>DefaultConfig {\n    minSdkVersion 25\n    targetSdkVersion 30\n}\n</code></pre>\n<p>After so many hours of searching and trying various things I just happened to spot it.</p>\n<pre><code>defaultConfig {\n    minSdkVersion 25\n    targetSdkVersion 30\n}\n</code></pre>\n<p>The above resolved the issue.</p>\n<p><code>DefaultConfig</code> -&gt; <code>defaultConfig</code></p>\n"},{"answer_id":71982995,"body":"<p>remove</p>\n<p>&quot;useProguard true&quot;</p>\n<pre><code>buildTypes {\n        release {\n            minifyEnabled true\n            //useProguard true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n</code></pre>\n"},{"comments":[{"comment_id":127557373,"body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72186858/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"answer_id":72186858,"body":"<p>I fix this error by changing version code to less than 6. using 7 onwards will exist this error.</p>\n"},{"answer_id":72672246,"body":"<p>In my case I defined flavorDimensions using kotlin style instead of groovy</p>\n<pre><code>flavorDimensions += listOf(&quot;api&quot;, &quot;mode&quot;)\n</code></pre>\n<p>Fixed it this way</p>\n<pre><code>flavorDimensions += [&quot;api&quot;, &quot;mode&quot;]\n</code></pre>\n"},{"answer_id":72882943,"body":"<p>In my case i could fix it commenting the : MultiDexEnable value on android.defaultConfig</p>\n"},{"answer_id":73372856,"body":"<p>For me, I changed build:gradle.7.1.2 to 4.1.0 and work very good</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:7.1.2'\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n}\n</code></pre>\n<p>to</p>\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:4.1.0'\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n}\n</code></pre>\n"},{"answer_id":73407602,"body":"<p>I do that:</p>\n<pre><code>buildTypes {\n    release {\n\n        /**\n         * Enables code shrinking, obfuscation, and optimization for only\n         * your project's release build type.\n         * */\n        minifyEnabled true\n\n        /**\n         * Enables resource shrinking, which is performed by the\n         * Android Gradle plugin.\n         * */\n        shrinkResources true\n\n        /**\n         * Includes the default ProGuard rules files that are packaged with\n         * the Android Gradle plugin. To learn more, go to the section about\n         * R8 configuration files.\n         * */\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        /**\n         * Enables code shrinking, obfuscation, and optimization for only\n         * your project's release build type.\n         * */\n        minifyEnabled true\n\n        /**\n         * Enables resource shrinking, which is performed by the\n         * Android Gradle plugin.\n         * */\n        shrinkResources true\n\n        /**\n         * Includes the default ProGuard rules files that are packaged with\n         * the Android Gradle plugin. To learn more, go to the section about\n         * R8 configuration files.\n         * */\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n\n    }\n}\n</code></pre>\n"},{"answer_id":73416352,"body":"<p>This error is a bit misleading.\nA simple typo can cause this error</p>\n<p><a href=\"https://i.stack.imgur.com/MbukV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MbukV.png\" alt=\"enter image description here\" /></a></p>\n<p>I just had the spelling of &quot;multidexEnabled&quot; wrong.</p>\n"},{"answer_id":73533606,"body":"<p>In my case I've commented <code>buildTools</code></p>\n<pre><code>android {\n    compileSdk 32\n//    buildTools &quot;32.1.0 rc1&quot;\n...\n}\n</code></pre>\n"},{"answer_id":73617766,"body":"<p>For me, when I was downgrading the GradleVersion and some dependencie, I had to remove this line from <em>build.gradle (:app)</em></p>\n<pre><code>android {\n...\n    namespace 'com.yourpackagename' &lt;-- delete this line\n...\n}\n</code></pre>\n"},{"answer_id":73648223,"body":"<p>It usually happens during upgrading process of very old project and when some gradle file parts edited manually and there is a mismatch. It is very time consuming and sometimes very painful to find what is the exact problem as generated errors may not even correctly indicate the issue.</p>\n<p>One complex solution is to create new project with exact same package name and then copy-paste working-logic part into that project. This is easier solution as when we create new project all gradle, sdk, dependecies automatically created.</p>\n<p>It happened with my Flutter project upgrade and managed to solve the issue only this way.</p>\n"},{"comments":[{"comment_id":130652351,"body":"Hi Ali, where do I add this ?"},{"comment_id":130676892,"body":"Inside android you have to remove this."}],"answer_id":73676889,"body":"<p>I'm facing this problem because of jackOptions.I solve this to remove bellow code from android:</p>\n<pre><code>jackOptions {\n            enabled true\n        }\n</code></pre>\n"},{"answer_id":73753020,"body":"<p>in my case, it was <code>storeFile</code> value. following work fine for me.</p>\n<pre><code>storeFile keystoreProperties['storeFileUpload'] ? file(keystoreProperties['storeFileUpload']) : null\n</code></pre>\n"},{"answer_id":73762822,"body":"<p>In my case I had to remove this:</p>\n<pre><code>  proguardFile getDefaultDexGuardFile('dexguard-debug.pro')\n</code></pre>\n"},{"answer_id":73917593,"body":"<p>Just Remove All the dependencies related to <strong>protobuf</strong> .</p>\n"},{"answer_id":73939620,"body":"<p>There is certainly no unique answer here. Every developer faced some issue unique to their own <code>gradle</code> file configuration. For me, it started to appear during a migration to <code>gradle-7.0</code>. However, It worked when I realised and fixed the missing plugin in <code>app-gradle</code></p>\n<p>Plugin that my file was missing</p>\n<pre><code>id 'kotlin-android'\n</code></pre>\n"},{"answer_id":74113059,"body":"<p>As other answers have said, everybody has a different solution to this thanks to Gradle's crappy error messages. Or is it Groovy's fault? I'm not sure.</p>\n<p>In my case, it was a bit esoteric, but I'll post it anyway, it might help someone.</p>\n<p>I created a new Android project where the default skeleton Gradle files were using Android Gradle Plugin 7 and the new targetSdk (instead of targetSdkVersion), compileSdk (instead of compileSdkVersion) and minSdk (instead of minSdkVersion).</p>\n<p>I changed AGP to 3.6.3 (for a weird reason, this is why this is probably no help to anyone) and got the error message because targetSdk/compileSdk/minSdk</p>\n"},{"comments":[{"comment_id":131362759,"body":"Please explain your answer to make it better."}],"answer_id":74398399,"body":"<pre><code>plugins {\n      id 'org.jetbrains.kotlin.android'\n}\n</code></pre>\n<p>build.gradle add this plugin on app level Gradle then sync</p>\n"},{"answer_id":74613535,"body":"<p><em>Hi devs, just updated to AS-Dolphin and received this error while creating a new project.</em></p>\n<p>In my case the issue was <strong>compileSdk, minSdk, targetSdk</strong> all were missing <strong>Version</strong> keyword.</p>\n<p><em>When I added that the error was gone... <strong>Woh!!!</strong></em></p>\n<pre><code>compileSdkVersion 32\n\ndefaultConfig {\n    applicationId &quot;com.example.android&quot;\n    minSdkVersion 21\n    targetSdkVersion 32\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n</code></pre>\n"}],"last_activity_date":1684621503,"question_id":67418660,"body":"<ul>\n<li>Exception is:\norg.gradle.api.GradleScriptException: A problem occurred evaluating project ':app'</li>\n</ul>\n<p>Caused by: groovy.lang.MissingMethodException: No signature of method: build_h12dou32x8mktsbcdinr8fpc.android() is applicable for argument types: (build_h12dou32x8mktsbcdinr8fpc$_run_closure1) values: [build_h12dou32x8mktsbcdinr8fpc$_run_closure1@1630dea1]</p>\n"},{"comments":[{"comment_id":134544564,"body":"stockfish --help says &quot;Stockfish is normally used with a graphical user interface (GUI) and implements the Universal Chess Interface (UCI) protocol to communicate with a GUI, an API, etc.&quot; So look into UCI , seems to be a protocol used over <code>stdin&#47;stdout</code>."},{"comment_id":134545123,"body":"Your question is asking about how to solve multiple steps and looks to be asking for a personal tutorial (or two or three), suggesting that it may be too broad for this site. Consider either paring the question down to be more specific or else perhaps coming back after reviewing a tutorial or two on the subject."},{"comment_id":134547871,"body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"last_activity_date":1684621286,"question_id":76297557,"body":"<p>How to integrate stockfish engine inside of Android studio app</p>\n<p>I have been working on chess application, so far I have created online game option, now I want to add a computer vs human option so I want to use stockfish chess engine to get the next move from the board based on the board position.\nSomebody know how to do this? (I’m using Java )</p>\n"},{"comments":[{"comment_id":83125796,"body":"Are you working with a Maven project?  The problem is that the file is not on your classpath, hence when you run your program, Java can&#39;t find the file."},{"comment_id":83125856,"body":"One workaround would be to just use the fully qualified path to the file, e.g. <code>C:\\your_folder\\project\\result.csv</code>.  The alternative is to load it from the classpath."}],"answers":[{"comments":[{"comment_id":105116230,"body":"<code>Java.nio.file.path</code> doesn&#39;t have <code>getAbsolutePath()</code> method."},{"comment_id":112598407,"body":"Thanks man, the absolute path thing really helped me find where it was looking in the system."}],"answer_id":48076423,"body":"<p>The problem is that your default directory at application startup is not what you think it is. Try adding the following line to your code, just after you create the path:</p>\n\n<pre><code>public static void main(String [] args) {\n    int i=0;\n    String filename=\"result.csv\";\n    Path pathToFile = Paths.get(filename);\n    System.out.println(pathToFile.toAbsolutePath());\n</code></pre>\n\n<p>That way, you'll see exactly where it is looking for the file.</p>\n\n<p>How to fix it is your decision. You can use a full path spec instead of just a filename, or put the filename in a special \"Resources\" directory and reference it using a relative path, or move the file to wherever your default directory is.</p>\n"},{"answer_id":48076444,"body":"<p>The problem there is that java isn't able to find the \"result.csv\" file in the project folder. Thus, try to use the fully qualified path to the file, e.g. <code>C:\\your_folder\\project\\result.csv</code> in the Path variable. Also I think It would be better to use bufferedreader like this: <code>BufferedReader br = new BufferedReader(new FileReader(insert here the String in which is defined the path to the file));</code> Check the uses of BufferedReader <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"comments":[{"comment_id":105284094,"body":"easiest solution!"}],"answer_id":52453960,"body":"<p>If your <code>file(\"result.csv\")</code> in the src directory, you should use the <strong>\"src/result.csv\"</strong> instead of <strong>\"result.csv\"</strong>.</p>\n"},{"comments":[{"comment_id":93539191,"body":"The question uses a hard-coded file name, so that&#39;s not an issue."}],"answer_id":53329236,"body":"<p>If you're a MacOSX user please type the file path manually instead of copying it from \"Get Info\".\nYou'll get something like this if you copied it from \"Get Info\":\n<strong>/Users/username&lt;200e>&lt;2068>&lt;2068>/Desktop&lt;2069>/source.txt</strong></p>\n"},{"answer_id":69364365,"body":"<p>I had the same error caused by escaped characters on windows file path. For example, my application was looking for &quot;<code>C:\\Users\\david\\my%20folder%20name\\source.txt</code>&quot; meanwhile the real path was &quot;<code>C:\\Users\\david\\my folder name\\source.txt</code>&quot;.</p>\n"},{"answer_id":70142656,"body":"<p>Not discarding all possible solutions here, this error also occurs when your running Android Studio on Windows environment and using a project directory on an external hard drive formatted with other than NFTS. ]</p>\n<p>If this is the case, simply move your project into the main HDD (NTFS) and reload the project again , this time from the main HDD folder path.</p>\n"}],"last_activity_date":1684620754,"question_id":48076063,"body":"<p>I have a file called \"result.csv\", from that file i want to read certain data and display them. I have that file in my eclipse project folder itself. Still i'm unable to read the file.</p>\n\n<pre><code> public static void main(String [] args) {\n    int i=0;\n    String filename=\"result.csv\";\n    Path pathToFile = Paths.get(filename);\n\n    try (BufferedReader br = Files.newBufferedReader(pathToFile, StandardCharsets.US_ASCII)) { \n        // read the first line from the text file \n        String line = br.readLine(); \n        // loop until all lines are read \n        while (i&lt;10) { \n            // use string.split to load a string array with the values from \n            // each line of \n            // the file, using a comma as the delimiter\n            String[] attributes = line.split(\",\"); \n            double x=Double.parseDouble(attributes[8]);\n            double y=Double.parseDouble(attributes[9]);\n            System.out.println(GeoHash.withCharacterPrecision(x, y, 10));\n\n\n            // read next line before looping \n            // if end of file reached, line would be null \n            line = br.readLine(); \n            i++;\n        } \n    } catch (IOException ioe) { \n            ioe.printStackTrace(); \n    } \n}\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>java.nio.file.NoSuchFileException: result.csv\nat sun.nio.fs.WindowsException.translateToIOException(Unknown Source)\nat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\nat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\nat sun.nio.fs.WindowsFileSystemProvider.newByteChannel(Unknown Source)\nat java.nio.file.Files.newByteChannel(Unknown Source)\nat java.nio.file.Files.newByteChannel(Unknown Source)\nat java.nio.file.spi.FileSystemProvider.newInputStream(Unknown Source)\nat java.nio.file.Files.newInputStream(Unknown Source)\nat java.nio.file.Files.newBufferedReader(Unknown Source)\nat com.uvce.cse.searchiot.geohash.TestGeoHash.main(TestGeoHash.java:19)\n</code></pre>\n\n<p>Can anyone point where exactly i missed? and how can i overcome this or any alternate methods for this method?</p>\n"},{"answers":[{"comments":[{"comment_id":110665300,"body":"I don&#39;t initiate a fake drag in code to change the page, so <code>isFakeDragging</code> will always return <code>false</code> here."},{"comment_id":110670422,"body":"then what do you mean by <code>code initiated</code>? you need to add the complete details about your use case. Anyhow, if possible, use fake drag for best practices and desired behavior."},{"comment_id":110676967,"body":"OP edited.  I am using <code>viewPager.setCurrentItem()</code>."},{"comment_id":110694508,"body":"@lilbiscuit then the easy solution is to use a boolean flag to track the change or the other option is to use a touch event listener to detect the user touch and proceed accordingly."}],"answer_id":62575966,"body":"<p>You can use <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#isFakeDragging()\" rel=\"nofollow noreferrer\">isFakeDragging</a> inside <a href=\"https://developer.android.com/reference/androidx/viewpager2/widget/ViewPager2#registerOnPageChangeCallback(androidx.viewpager2.widget.ViewPager2.OnPageChangeCallback)\" rel=\"nofollow noreferrer\">registerOnPageChangeCallback</a> to detect whether the drag is fake or initiated by user.</p>\n<blockquote>\n<p>Returns true if a fake drag is in progress.</p>\n</blockquote>\n<pre><code>...onPageScrolledonPageScrolled(int position, float positionOffset, int positionOffsetPixels){\n    if(isFakeDragging)\n        {// fake scroll}\n    else{// user scroll}\n}\n</code></pre>\n"},{"answer_id":69212102,"body":"<p>One can override viewpager2 to detect a page change like so:</p>\n<pre><code>    viewPager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageSelected(int position) {\n        }\n    });\n</code></pre>\n"}],"last_activity_date":1684620619,"question_id":62575821,"body":"<p>I have the ViewPager2 callback setup but need to detect when a user initiated page change has completed. The callback won't differentiate between user initiated and code initiated. Here's what I have now:</p>\n<pre><code>ViewPager2.OnPageChangeCallback swipeListener = new ViewPager2.OnPageChangeCallback() {\n        @Override\n        public void onPageSelected(int position) {\n            //I want to run code only if user initiated this page change\n            //but this runs whether user initiated or code initiated\n        }\n}\n</code></pre>\n<p>The page change that is done via code:</p>\n<pre><code>viewPager.setCurrentItem(targetSlide);\n</code></pre>\n<p>The <a href=\"https://androidx.de/androidx/viewpager2/widget/ViewPager2.html\" rel=\"noreferrer\">docs for ViewPager2</a> show a <code>isUserInputEnabled()</code> method which tells you if a user &quot;can&quot; change the page manually, but I need to detect if the user &quot;did&quot; initiate the page change.</p>\n"},{"comments":[{"comment_id":102694196,"body":"Do any of <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.Year</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>java.time.YearMonth</code></a>, or <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/MonthDay.html\" rel=\"nofollow noreferrer\"><code>java.time.MonthDay</code></a> meet your requirements?"},{"comment_id":102694282,"body":"What is your use case for this? In general, I would not recommend using a single class to represent multiple concepts of time. There is a reason <code>java.time</code> had to split it all up."},{"comment_id":102694662,"body":"@Slaw you suggestion sounds good, I can wrap all: java.time.Year, java.time.YearMonth, or java.time.MonthDay  in a class and that would solve the problem."},{"comment_id":102694702,"body":"Note there&#39;s already a class that encapsulates all those values (year, month, and day): <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a>."},{"comment_id":102694752,"body":"Yes, But I can&#39;t make month day optional in that, with custom class wrapped around those 3 I can make the month day optional"},{"comment_id":102696796,"body":"No such class as <code>java.time.LocalYear</code>. There is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>Year</code></a>."},{"comment_id":102696958,"body":"Why the tag for <i>Joda-Time</i>? The creator of that library, Stephen Colebourne, went on to create its successor, the <i>java-time</i> classes built into Java 8 and later. You seem to be referring to <i>java.time</i>, so either explain or delete the <code>jodatime</code> tag."},{"comment_id":102697011,"body":"Explain your business problem, as there likely is a better solution than devising a partial date class."},{"comment_id":102697027,"body":"Avoid using <code>Date</code> as a class name. Java already includes two classes with that name."},{"comment_id":102706219,"body":"What does it <i>mean</i> for them to be optional?"},{"comment_id":102718876,"body":"@Raedwald By optional I mean it can be empty, and use will not always provide the month and day information and could only provide year."}],"answers":[{"answer_id":58156196,"body":"<p>It’s hard to guide you without knowing your use case. One option is using the <code>TemporalAccessor</code> interface as a common type for dates with and without month and/or day of month and then put either a <code>LocalDate</code>, a <code>YearMonth</code> or a <code>Year</code> into your variable (the last class is just called <code>Year</code> (not <code>LocalYear</code>, though it would have been in line with the naming scheme)). For example:</p>\n\n<pre><code>    List&lt;TemporalAccessor&gt; dates = List.of(\n            LocalDate.of(2019, Month.OCTOBER, 3), // full date\n            YearMonth.of(2019, Month.NOVEMBER), // no day of month\n            Year.of(2020)); // no month or day of month\n</code></pre>\n\n<p>What can we use this for? One example:</p>\n\n<pre><code>    for (TemporalAccessor ta : dates) {\n        System.out.println(ta);\n        System.out.println(\"Year: \" + ta.get(ChronoField.YEAR));\n        if (ta.isSupported(ChronoField.MONTH_OF_YEAR)) {\n            System.out.println(\"Month: \" + ta.get(ChronoField.MONTH_OF_YEAR));\n        } else {\n            System.out.println(\"Month: undefined\");\n        }\n        if (ta.isSupported(ChronoField.DAY_OF_MONTH)) {\n            System.out.println(\"Day: \" + ta.get(ChronoField.DAY_OF_MONTH));\n        } else {\n            System.out.println(\"Day: undefined\");\n        }\n        System.out.println();\n    }\n</code></pre>\n\n<p>This outputs:</p>\n\n<blockquote>\n<pre><code>2019-10-03\nYear: 2019\nMonth: 10\nDay: 3\n\n2019-11\nYear: 2019\nMonth: 11\nDay: undefined\n\n2020\nYear: 2020\nMonth: undefined\nDay: undefined\n</code></pre>\n</blockquote>\n\n<p>Whether or how well it fulfils your requirements I cannot tell.</p>\n\n<p>Using <code>ChronoField</code> constants for access is low-level, so you may want to wrap the <code>TemporalAccessor</code> in a nice class with nice getters. For example:</p>\n\n<pre><code>public class PartialDate {\n\n    private TemporalAccessor date;\n\n    public PartialDate(Year year) {\n        date = year;\n    }\n\n    public PartialDate(Year year, int month) {\n        date = year.atMonth(month);\n    }\n\n    public PartialDate(Year year, int month, int day) {\n        date = year.atMonth(month).atDay(day);\n    }\n\n    public Year getYear() {\n        return Year.from(date);\n    }\n\n    public OptionalInt getMonthValue() {\n        if (date.isSupported(ChronoField.MONTH_OF_YEAR)) {\n            return OptionalInt.of(date.get(ChronoField.MONTH_OF_YEAR));\n        } else {\n            return OptionalInt.empty();\n        }\n    }\n\n    // A similar getDay method\n\n}\n</code></pre>\n\n<p>You may extend the class to your needs. Maybe you want constructors that accept a <code>Month</code> enum constant and/or a <code>YearMonth</code> object directly and/or getters that return those types wrapped in <code>Optional</code>s.</p>\n\n<p><strong>Link:</strong> <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"last_activity_date":1684620486,"question_id":58155682,"body":"<p>I would like to store Date with optional month and day in java.\nI know of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Year.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalYear</code></a> class to store just the year.\nShall I create my own custom class to hold dates with optional month and day or are there any custom library to solve the problem.</p>\n<pre><code>\npublic class Date {\n\n  private LocalYear year;\n  private int month;\n  private int day;\n\n  public Date(LocalYear year) {\n   this.year = year;\n  } \n  \n  public Date(LocalYear year, int month) {\n   this.year = year;\n   this.month = month;\n  }\n\n  public Date(LocalYear year, int month, iny day) {\n   this.year = year;\n   this.month = month;\n   this.day = day;\n  }\n}\n</code></pre>\n"},{"comments":[{"comment_id":134542932,"body":"can you restart after setting env varidables"}],"answers":[{"comments":[{"comment_id":134543146,"body":"the variable itself is without the <code>%</code>. so unfortunately this didn&#39;t solve my problem."},{"comment_id":134543374,"body":"I am using jdk 11, you can give a try, also make sure to match other folders include bin inside bin inside it"}],"answer_id":76296739,"body":"<p>You need to use <code>JAVA_HOME</code> without <code>%</code>, It will look like</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Variable</th>\n<th>Value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>JAVA_HOME</td>\n<td>C:\\Program Files\\Java\\jdk-19</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a href=\"https://i.stack.imgur.com/1HT7v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HT7v.png\" alt=\"enter image description here\" /></a></p>\n<p>And restart your computer if needed.</p>\n"}],"last_activity_date":1684620469,"question_id":76296682,"body":"<p>So I'm trying flutter and I'm having a problem with running the starter app on my emulator. I first installed flutter alongside the electric eel version of android studio, which had problems with the java path. I fixed the problem by just copying the jdk folder contents to the jre folder. and because of &quot;LIFE&quot; I left flutter for about a month or so. today I decided to start it over but when I try to launch the starter app that flutter creates on the emulator via vscode, I get the following error:</p>\n<pre><code>PS E:\\projects\\first_app&gt; flutter run\nUsing hardware rendering with device sdk gphone x86 64. If you notice graphics artifacts, consider enabling software rendering with &quot;--enable-software-rendering&quot;.\nLaunching lib\\main.dart on sdk gphone x86 64 in debug mode...\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jre-10.0.2\\bin\\java.exe\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\nRunning Gradle task 'assembleDebug'...                           1,010ms\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>and i have no idea why it thinks that the jdk path is <code>C:\\Program Files\\Java\\jre-10.0.2\\bin\\java.exe</code> while my android studio is installed in the <code>Z:\\Program Files\\Android\\Android Studio</code></p>\n<p>copying the contents of the <code>C:\\Program Files\\Java\\jdk-19 </code>folder into the <code>C:\\Program Files\\Java\\jre-10.0.2\\ </code>folder fixes the issue and the app launches but this removes my jre which a lot of apps need.</p>\n<p>I tried setting some environment paths to fix the issue but they did nothing</p>\n<p><a href=\"https://i.stack.imgur.com/0o9fL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0o9fL.png\" alt=\"enter image description here\" /></a></p>\n<p>and below is the PATH variables:</p>\n<p><a href=\"https://i.stack.imgur.com/IjKeN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IjKeN.png\" alt=\"enter image description here\" /></a></p>\n<p>EDIT: since taking these screenshots I've also tried setting a <code>javaHome</code> variable alongside the <code>JAVA_HOME</code> variable. that didn't fix the issue either. also I've set both of the to have the <code>\\bin</code> folder too. no help.</p>\n<p><strong>EDIT 2: so... for some reason uninstalling all java installations on my pc with revo fixed the problem. I reinstalled java v8 and the problem didn't occur again, so I guess problem fixed?! I'm closing the thread and posting this in case anyone else found themselves here</strong></p>\n"},{"comments":[{"comment_id":30220771,"body":"What you say is merely true for HTTP POST requests. Plain sockets have a straight forward behavior."}],"answers":[{"comments":[{"comment_id":30221917,"body":"is socket.shutDownOutput() compulsory for xml?&gt; i thought so because that kind of stabilizes the program but i cant seem to read what im writing from the response. still isnt resolved"},{"comment_id":30222242,"body":"The way you transport the text (here via sockets) has nothing to do with what you transport (here a XML document). As I said, when the server is not responding to your XML, than the server hangs. Most likely because the server is still waiting for more input or did not recognize, that the XML ended. That&#39;s why I suggest to send an EOF over the ouput stream. BUT, as we have no information about the server, it might be any other issue. If you need more help you need to provide more information about the server."},{"comment_id":30223331,"body":"Say the response string is &lt;estel&gt;&lt;header&gt;&lt;request&gt;invalid request &lt;\\request&gt;&lt;\\header&gt;&lt;\\estel&gt; when I telnet, then using socket and unmarshalling with jaxb I also get this response , you get this response only when you dont send the proper xml format"},{"comment_id":30229748,"body":"You get this response simply because the XML parser throws an exception on the server. In your case, the same parser tries to read further as it did not receive an EOF. HAve you tried to send the EOF with <code>socket.shutdownOutput()</code>?"}],"answer_id":20260325,"body":"<p>You send the XML over the socket but the server side does not answer. To be 100% sure what happens, we would need the server code and server error messages. So far I see two things, you could do:</p>\n\n<ol>\n<li><p>When writing and flushing the XML, you can call <code>socket.shutdownOutput()</code>. This sends an EOF to the server, indicating that there's nothing more to read. Latest than the server should know, that it has to work on the XML and produce the result.</p></li>\n<li><p>You send a String of <code>char</code> over a Stream of <code>byte</code>. Hopefully the server understands that in the same way as the client sends it. As hope is not really helpful in programming, you should wrap the output stream like this: <code>Writer writer = new OutputStreamWriter(socket.shutdownOutput(), \"UTF-8\");</code> and do the write and the flush with the writer. Notice that you need to do the same on the server side for the input stream (wrap as Reader with \"UTF-8\")</p></li>\n</ol>\n"},{"comments":[{"comment_id":30221861,"body":"@Matthiaas i actually tried your version but it hangs @ the point where writing to socket begins, the whole code is within a try block and a IOException catches it."},{"comment_id":30221886,"body":"At which point? You do it in two programs or at least in two threads, yes?"},{"comment_id":30223445,"body":"I&#39;m simply writing the code in one class with a main method and a try block encapsulates the reading outputstream and inputstream, it seems for xml strings u actualli nid to do socket.shutDownOutput().  For it to stop hanging ,seems the server is expecting more data ."}],"answer_id":20260355,"body":"<p>Please reduce your issue to a running piece of code that shows the error. Posting some code that does not even compile, does not really help in understanding the problem you have. Even after fitting this code in a method and importing java.io stuff, there is 4 (!) undeclared variables: <code>hd, rq, out and rd</code>.</p>\n\n<p>To help with your problem and answer your questions:</p>\n\n<ol>\n<li><p>You do not need to use a buffered writer, you just have to make sure you write everything you want to write (and flush or close the stream afterwards). The client (receiver) of course has to read from that stream as long as bytes are available before he tries to interpret the data.</p></li>\n<li><p>If you want to implement a different protocol, you of course have to read / write until a certain marker or whatever indicates that your transmission is finished. For this question however I assume you only want to transmit one set of XML data.</p></li>\n</ol>\n\n<p>For writing you can simply write the String in one go using a simple <code>OutputStream</code>.\nCode like this would do the job:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\n//...\nSocket socket = new Socket(\"41.206.23.21\", 7101);\nOutputStream os = socket.getOutputStream();\nos.write(sb.toString().getBytes());\nos.flush();\n</code></pre>\n\n<p>Reading that, you can also use a simple <code>InputStream</code>. To make sure you get everything, you should usually read the data and write it all to an intermediate byte array which you then can transform back into your String. A generic method for doing that, could be like this:</p>\n\n<pre><code>  String read(InputStream in) throws IOException {\n    byte[] buffer = new byte[8192];\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    int got;\n    while ((got = in.read(buffer)) &gt; -1) {\n      out.write(buffer, 0, got);\n    }\n    byte[] data = out.toByteArray();\n    String result = new String(data);\n    return result;\n  }\n</code></pre>\n\n<p>Keep in mind that this method neither closes the stream, nor handles exceptions.</p>\n"}],"last_activity_date":1684620450,"question_id":20259849,"body":"<p>I tried this, but somewhere along the line I can't read the response from the server. (The response is in XML). </p>\n\n<p>I have read that writing over sockets requires buffering due to the string breakage. Somehow I discovered this is true when I used a jaxb unmarshaller and it reported a SAX EOF exception, meaning the xml been read was not complete. </p>\n\n<p>Please how do I buffer write and buffer read properly?</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(\"&lt;estel&gt;\");\nsb.append(\"&lt;header&gt;&lt;requesttype&gt;\").append(hd.getRequestType()).append(\"&lt;/requesttype&gt;&lt;/header&gt;\");\nsb.append(\"&lt;request&gt;\");\nsb.append(\"&lt;agentcode&gt;\").append(rq.getAgentCode()).append(\"&lt;/agentcode&gt;\");\nsb.append(\"&lt;pin&gt;\").append(rq.getPin()).append(\"&lt;/pin&gt;\");\nsb.append(\"&lt;destination&gt;\").append(rq.getDestination()).append(\"&lt;/destination&gt;\");\nsb.append(\"&lt;agenttransid&gt;\").append(rq.getAgentTransId()).append(\"&lt;/agenttransid&gt;\");\nsb.append(\"&lt;vendorcode&gt;\").append(rq.getVendorCode()).append(\"&lt;/vendorcode&gt;\");\nsb.append(\"&lt;amount&gt;\").append(rq.getAmount()).append(\"&lt;/amount&gt;\");\n    sb.append(\"&lt;productcode&gt;\").append(rq.getProductCode()).append(\"&lt;/productcode&gt;\");\n    sb.append(\"&lt;comments&gt;\").append(rq.getComments()).append(\"&lt;/comments&gt;\");\n    sb.append(\"&lt;clienttype&gt;\").append(rq.getClientType()).append(\"&lt;/clienttype&gt;\");\nsb.append(\"&lt;/request&gt;&lt;/estel&gt;\");\n\n\n    Socket socket = new Socket(\"41.206.23.21\",7101);\n    OutputStream os = socket.getOutputStream();\n    InputStream in = socket.getInputStream();\n\n    OutputStream buf = new BufferedOutputStream(os);    \n    out = new OutputStreamWriter(buf);\n\n    System.out.printf(\"\\nxml is %s\",sb.toString());   \n   System.out.print(\"\\n--------writing--to--socket-----\");\n    out.write(sb.toString());\n    out.flush();\n\n    //read response\n    InputStream bui = new BufferedInputStream(in);\n  rd = new InputStreamReader(bui);\n   System.out.print(\"\\nxml response\"+rd.toString());\n\n   in.close();\n   out.close();\n   socket.close();\n</code></pre>\n"},{"comments":[{"comment_id":134543165,"body":"In the Build Output window, on the bottom left, select the alert just above the one you have selected, where it is written &quot;demo 2: build failed&quot;. It should have more information. I agree, this is unintuitive by Intellij"},{"comment_id":134543200,"body":"I have aleardy tried but it does not have more information."},{"comment_id":134543256,"body":"Have you attempted to build on the command line?  My guess is that you&#39;re missing some libraries but I&#39;ll admit that it&#39;s weird that IntelliJ isn&#39;t giving you the error output."},{"comment_id":134543300,"body":"I haven&#39;t tried with terminal yet. I doubt that I am missing any lib, I have created a simple spring boot project, but still can&#39;t run"},{"comment_id":134545180,"body":"Click on the little m to reload your pom."}],"answers":[{"answer_id":76297522,"body":"<p>try to Reload maven or change JDK version 8 in your IDE</p>\n"}],"last_activity_date":1684620278,"question_id":76296835,"body":"<p>I am trying to run a java project in intellij on OS(mac) but the building window show error but can't specify the issue.<a href=\"https://i.stack.imgur.com/2Suvc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Suvc.png\" alt=\"enter image description here\" /></a></p>\n"}]}