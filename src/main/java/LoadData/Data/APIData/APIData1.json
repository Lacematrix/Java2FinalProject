{
  "items": [
    {
      "comments": [
        {
          "comment_id": 134548785,
          "body": "you probably would be better off with a <code>Map</code> where the key is the value in the original list and the value is it&#39;s frequency. Then you can loop over the <code>Map.entrySet()</code> and print each key and value from there."
        }
      ],
      "answers": [
        {
          "answer_id": 76300303,
          "body": "<p>Using a list to represent the result sounds a bit strange to be. The textbook solution would be to create a frequency map, where the key is the sample and the value is its frequency:</p>\n<pre class=\"lang-java prettyprint-override\"><code>LinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\nMap&lt;Double, Long&gt; frequencies = \n    sampleList.stream()\n              .collect(Collectors.groupingBy(Function.identity(), Collectors.counting());\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684678079,
      "question_id": 76300287,
      "body": "<p>I just started working on a project, its purpose is to be a tool for my statistics class, I'm currently working on a console based so once I'm done with it I can move on and use UI. But I'm stuck in this problem, I want to create a new list based on my existing list.</p>\n<pre><code>public class Main {\n\n    class ModifiedSample {\n        double item;\n        int frequency;\n\n        ModifiedSample(Double item, int frequency) {\n            this.item = item;\n            this.frequency = frequency;\n        }\n    }\n\n    public static void main(String[] args) {\n        LinkedList&lt;Double&gt; sampleList = new LinkedList&lt;Double&gt;();\n        LinkedList&lt;ModifiedSample&gt; modifiedSampleList = new LinkedList&lt;ModifiedSample&gt;();\n\n    }\n    \n}\n</code></pre>\n<p>This is my simplified version of the class, I do have scanners and all that jazz.</p>\n<p>If my sampleList = {2, 2, 3, 4, 5, 5, 5, 5, 6},\nhow can I make a modifiedSampleList = {sample1, sample2, sample3, sample4, sample5}\nso that if create a method like:</p>\n<pre><code>static void printSampleSpace(LinkedList&lt;ModifiedSample&gt; modifiedSampleList) {\n    for(ModifiedSample ms : modifiedSampleList) {\n        System.out.println(&quot;item: &quot; + ms.item);\n        System.out.println(&quot;frequency: &quot; + ms.frequency);\n    }\n}\n</code></pre>\n<p>I can get</p>\n<pre><code>item: 2                                                                          \nfrequency: 2                                                                     \nitem: 3                                                                   \nfrequency: 1                                                                          \nitem: 4                                                                               \nfrequency: 1                                                                          \nitem: 5                                                                       \nfrequency: 4                                                                          \nitem: 6                                                                               \nfrequency: 1  \n</code></pre>\n<p>So I'm stuck in finding a solution for this problem.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134543565,
          "body": "Can you use a debugging process to &quot;Step Into&quot; the <code>EntityUtils.toString</code> method?  I would imagine it&#39;s blocking on line 140, during the <code>reader.read</code> method. <a href=\"https://android.googlesource.com/platform/external/apache-http/+/refs/heads/lollipop-mr1-dev/src/org/apache/http/util/EntityUtils.java#112\" rel=\"nofollow noreferrer\">Google Git - EntityUtils.java</a>"
        },
        {
          "comment_id": 134544265,
          "body": "Yes its blocking on reader.read . What I am not able to understand is why ?"
        },
        {
          "comment_id": 134548813,
          "body": "Please reopen the Question ."
        }
      ],
      "last_activity_date": 1684677902,
      "question_id": 76296975,
      "body": "<p>I have 300 practices for which I need to get various data like address, client etc. In all making around 6-7 rest api calls one after another to get this data for each practice .\nEach practice is run in a separate thread using executor Service <code>Executors.newFixedThreadPool(10)</code> and for each restapi call within the practice thread I am reading the response using<code>EntityUtils.toString(response.getEntity()) ;</code></p>\n<p>However randomly one or two threads would just sits on the line<code> EntityUtils.toString(response.getEntity()) ;</code>  without any exception without anything. Its not on all practices or all rest calls . Its just random practices, random api calls  on which it gets stuck. Next run it would get stuck on some other practice for a different api call.</p>\n<p>It just Blocks on  reader.read ()</p>\n<p>Cant seem to figure out why this would be happening and what can be done to fix it</p>\n"
    },
    {
      "last_activity_date": 1684677488,
      "question_id": 76300260,
      "body": "<p>I have a difficult one.  I have a spring boot application, which uses hazelcast.  After a couple of days of a fresh deploy it starts failing.  The application is trying to make a service call and do a database check.  Where I see it failing is here:</p>\n<pre><code>private static HazelcastInstance HZ_INSTANCE;\n@Override\npublic void afterPropertiesSet() throws Exception {\n    HZ_INSTANCE = hazelCast;\n}]\n\npublic static Lock lockForUse(UUID companyId, String productId) throws GeneralServiceException {\n    String lockId = companyId.toString() + &quot;-&quot; + productId; \n    log.info(&quot;Acquiring product use lock: &quot; + lockId);\n    Lock lock = HZ_INSTANCE.getCPSubsystem().getLock(lockId);\n    try {\n        if (!lock.tryLock(15, TimeUnit.SECONDS))\n            throw new GeneralServiceException(&quot;Cannot acquire lock for &quot; + lockId + &quot;. Are there cluster performance problems?&quot;,null);\n    } catch (InterruptedException e) {\n        log.error(&quot;Cannot acquire lock for &quot; + lockId + &quot;. Lock waiting was interrupted: &quot; + e.getMessage(),e);\n        throw new GeneralServiceException(&quot;Error occurred acquiring required locking.&quot;,e);\n    }\n    return lock;\n}\n</code></pre>\n<p>Hazelcast properties are set to:</p>\n<pre><code>hazelcast.cp-group=3\nhazelcast.cp-members=3\nhazelcast.multicast-enabled=false\nhazelcast.kubernetes-enabled=true\n</code></pre>\n<p>It is unable to acquire the lock.  Any thought on causes of why this would work, then over time grind to a halt?</p>\n<p>I see this error:</p>\n<pre><code>com.ninegoldplatform.api.services.errors.GeneralServiceException: Cannot acquire lock for 6c4f2370-70d7-45e5-9e6d-b910d7d23921-restgen. Are there cluster performance problems?\n</code></pre>\n<p>If I reboot the application it all starts working again, then after a couple of days back to this.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 21161857,
          "body": "getX() should do the job..  did you try to move it and check ?"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 69326879,
              "body": "It&#39;s necessary to create Vector2 with zero coordinates (Vector2 coords = new Vector2(0, 0); )"
            }
          ],
          "answer_id": 15056534,
          "body": "<p>I believe <code>getX()</code> and <code>getY()</code> on an <code>Actor</code> are relative to their parent container, so you'll need to convert the coordinates to \"stage\" coordinates, and then from there to \"screen\" coordinates.  (I think there is an easier way to do this, so there may be a better answer out there).</p>\n\n<pre><code>Image myImage = ...;\nVector2 coords = new Vector2(myImage.getX(), myImage.getY());\nmyImage.localToStageCoordinates(/*in/out*/coords);\nmyImage.getStage().stageToScreenCoordinates(/*in/out*/coords);\n\nSystem.out.println(\"Image X \" +myImage.get()+ \" maps to screen \" +coords.x);\n</code></pre>\n"
        },
        {
          "answer_id": 17189565,
          "body": "<p>Just a guess!!! - Moving the image &amp; checking for position but getX() returning 0.0 might be because its the camera which moves &amp; produces the movement effect, image may havenot been moved at all &amp; tsayed at the initial position of 0.0 (i think this might be the thing you are missing) </p>\n"
        },
        {
          "answer_id": 76300254,
          "body": "<p>Now <code>Actor</code>s have <code>localToScreenCoordinates</code> to get what you need in one call:</p>\n<pre><code>Vector2 screenPosition = myImage.localToScreenCoordinates(new Vector2(0f, 0f))\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684677434,
      "question_id": 15052238,
      "body": "<p>I have this piece of code:</p>\n\n<pre><code>Image myImage = new Image(new Texture(\"data/file.png\"));\n</code></pre>\n\n<p>How to get <code>myImage</code> position on a screen?  I tried <code>myImage.getX()</code> and <code>myImage.getImageX()</code> both always return 0.0. What's wrong?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548177,
          "body": "Please edit your question. You have described your attempted solution (using a request and response wrapper), not the actual problem you are trying to solve. You understand that you need wrappers of some sort. We don&#39;t. See also, <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">what is the XY problem?</a>"
        },
        {
          "comment_id": 134548214,
          "body": "In the filter, I need to read and modify the request, and read and modify the response. I understand this cant be done in a filter without wrappers.  If filters can directly read and modyf request and response without wrappers, my bad!  I dont know how to create request and response wrappers.  I guess they should have some sort of io streams.  I guess I have to write or copy data betweeen the wrappers and and real requests, but I dont know and cant find example code"
        },
        {
          "comment_id": 134548243,
          "body": "&quot;the request&quot; &quot;the filter&quot; imagine we know nothing about your problem (in fact, you don&#39;t have to imagine) and have no context. Are you talking about requests in a specific protocol? Maybe this would be clearer if you included some code."
        },
        {
          "comment_id": 134548306,
          "body": "requests and responses use streams. If you try to read the body of the request, or response, using a stream reader in the filter  its not going to work when the servlet tires to do the same thing.  I everyeone says &quot;use wrappers&quot;, I just need an example and im good."
        },
        {
          "comment_id": 134548377,
          "body": "You expect someone to provide an example <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequestWrapper.html\" rel=\"nofollow noreferrer\"><code>HttpServletRequestWrapper</code></a> <b>and</b> <a href=\"https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponseWrapper.html\" rel=\"nofollow noreferrer\"><code>HttpServletResponseWrapper</code></a> (both of which are part of the Jakarta EE framework now) without using any frameworks. Good luck with that."
        },
        {
          "comment_id": 134548468,
          "body": "Great, thats a help, now I have to fiture out how to use  HttpServletRequestWrapper and HttpServletResponseWrapper.  Now I need to try to find some usable example of each, and put them together. If I mange it, ill post it here as a solution for others with the same question.  Thanks for banning my question also."
        }
      ],
      "last_activity_date": 1684677376,
      "question_id": 76299915,
      "body": "<p>Im trying to write a servlet filter which reads and modifies the request, and reads and modifies the response.</p>\n<p>I understand that I need wrappers, because both request and response objects use streams, which can only be read once.</p>\n<p>Ive ready several articles, but cant find an example filter with both a request and response wrapper (which doesnt use any frameworks, just plain java)  I dont really know what a wrapper object should contain, or if I need to manually copy the content from one to the other.</p>\n<pre><code>@Override\npublic void doFilter(final ServletRequest request, final ServletResponse response,\n                     final FilterChain filterChain) throws IOException, ServletException {\n\n    // read the request body into a variable\n    // modify the request body\n    // send the updated request body to the next filter in the chain\n    \n    filterChain.doFilter(request, response);\n\n    // read the response body\n    // modify the response body\n    // send the modified response body back up the chain\n}\n</code></pre>\n"
    },
    {
      "answers": [
        {
          "answer_id": 76297306,
          "body": "<p>As far as I can tell Delta standalone doesn't appear to support the actual creation of a Delta Table. From the documentation, we can see they state that:</p>\n<blockquote>\n<p>The Delta Standalone library is a single-node Java library that can be used to read from and write to Delta tables</p>\n</blockquote>\n<p>This is a real shame and rather limits the functionality of the standanlone library. For example, if we look at the supported Hive connector, we can see the following in the <a href=\"https://github.com/delta-io/connectors/blob/master/hive/README.md\" rel=\"nofollow noreferrer\">README file</a>:</p>\n<blockquote>\n<p>Right now the connector supports only EXTERNAL Hive tables. The Delta table must be created using Spark before an external Hive table can reference it.</p>\n</blockquote>\n<p>Having said that, you can still use <a href=\"https://docs.delta.io/latest/api/java/index.html\" rel=\"nofollow noreferrer\">DeltaTable</a> to create a table from existing Parquet files and then use Delta standalone to further interact with the table.</p>\n<p><code>delta-rs</code> the Rust implementation has full support for writing Delta Tables and interacting with them.</p>\n"
        }
      ],
      "last_activity_date": 1684676459,
      "question_id": 76113226,
      "body": "<p>I am able to read delta table which is created in Amazon S3 using standalone api, but unable to create delta table and insert data to it. In below link for delta lake it is mentioned to use Zappy reader and writer which is fictitious and used as reference.</p>\n<p>I tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?</p>\n<p><a href=\"https://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage\" rel=\"nofollow noreferrer\">https://docs.delta.io/latest/delta-standalone.html#-azure-blob-storage</a></p>\n<pre><code>ZappyDataFrame correctedSaleIdToTotalCost = ...;\nZappyDataFrame invalidSales = ZappyReader.readParquet(filteredFiles);\nZappyDataFrame correctedSales = invalidSales.join(correctedSaleIdToTotalCost, &quot;id&quot;)\n\nZappyWriteResult dataWriteResult = ZappyWritter.writeParquet(&quot;/data/sales&quot;, correctedSales);\n</code></pre>\n<p>&quot;Please note that this example uses a fictitious, non-Spark engine Zappy to write the actual parquet data, as Delta Standalone does not provide any data-writing APIs. Instead, Delta Standalone Writer lets you commit metadata to the Delta log after you’ve written your data&quot;</p>\n<p>Dependencies used - pom.xml</p>\n<pre><code>\n &lt;dependency&gt;\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n      &lt;version&gt;2.12.12&lt;/version&gt;\n  &lt;/dependency&gt;\n\n &lt;dependency&gt;\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-standalone_2.12&lt;/artifactId&gt;\n      &lt;version&gt;0.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n      &lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n      &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I tried using avro parquet writer but ran into issues in getting all the data needed for AddFile object, Could you please share any example for writer which can be used in scala and how to commit meta data to delta table?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548433,
          "body": "<i>&quot;Somehow the algorthm gets into an infinite loop and i can&#39;t figure out why.&quot;</i> -- this means it&#39;s time to do some debugging to first isolate the error. If you&#39;re not sure how to go about doing this, then please check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."
        },
        {
          "comment_id": 134548792,
          "body": "I don&#39;t think the backtracking is implemented wrong, it just takes that long to try out all the combinations of 22 numbers preceding the conflict. Whether it is a good idea to do it this way is a different question."
        }
      ],
      "last_activity_date": 1684675841,
      "question_id": 76300083,
      "body": "<p>I tried many things. At the end i followed / copied a guide that you can find here: <a href=\"https://www.geeksforgeeks.org/sudoku-backtracking-7/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/sudoku-backtracking-7/</a></p>\n<p>Somehow the algorthm gets into an infinite loop and i can't figure out why. I added some methods to check if the Sudoku field is a valid field.\nIn the Code below you can see the given field can't be solved because in the very centre of the two-dimensional field must be a 1 and at the same time a 2</p>\n<p>I think i forgot somewhere a return false; but tried it at every place possible and still it won't function</p>\n<p>It returns a possible solution for a solveable field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package oop.sudoku;\n\npublic class Sudoku\n\n{\n\n    public static boolean isSafe(int[][] board, int row, int col, int num)\n    {\n        // Row has the unique (row-clash)\n        for (int d = 0; d &lt; board.length; d++)\n        {\n\n            // Check if the number we are trying to\n            // place is already present in\n            // that row, return false;\n            if (board[row][d] == num)\n            {\n                return false;\n            }\n        }\n\n        // Column has the unique numbers (column-clash)\n        for (int r = 0; r &lt; board.length; r++)\n        {\n\n            // Check if the number\n            // we are trying to\n            // place is already present in\n            // that column, return false;\n            if (board[r][col] == num)\n            {\n                return false;\n            }\n        }\n\n        // Corresponding square has\n        // unique number (box-clash)\n        int sqrt = (int) Math.sqrt(board.length);\n        int boxRowStart = row - row % sqrt;\n        int boxColStart = col - col % sqrt;\n\n        for (int r = boxRowStart; r &lt; boxRowStart + sqrt; r++)\n        {\n            for (int d = boxColStart; d &lt; boxColStart + sqrt; d++)\n            {\n                if (board[r][d] == num)\n                {\n                    return false;\n                }\n            }\n        }\n\n        // if there is no clash, it's safe\n        return true;\n    }\n\n    private static boolean checkValidBoard(int[][] board)\n    {\n        boolean isValid = true;\n        int boardLenght = 9;\n        // überprüfe die Werte\n        if (board.length != boardLenght)\n        {\n            isValid = false;\n            ;\n        }\n        // überprüfe die Laengen des Boards\n        for (int i = 0; i &lt; boardLenght; i++)\n        {\n            if (board[i].length != boardLenght)\n            {\n                isValid = false;\n                break;\n            }\n            for (int j = 0; j &lt; 9; j++)\n            {\n                if (!(board[i][j] &lt; 10 &amp;&amp; board[i][j] &gt; -1))\n                {\n                    isValid = false;\n                    break;\n                }\n                // board[i][j] = board[i][j];\n            }\n        }\n        // überprüfe ob bereits gefüllte Felder legal sind\n        for (int i = 0; i &lt; board.length; i++)\n        {\n            if (!checkRow(board[i]))\n            {\n                isValid = false;\n            }\n            for (int j = 0; j &lt; board[i].length; j++)\n            {\n                if (!(checkColumn(board, j) &amp;&amp; checkSubSquare(i, j, board)))\n                {\n                    isValid = false;\n                }\n\n            }\n        }\n        return isValid;\n\n    }\n\n    private static boolean checkColumn(int[][] board, int column)\n    {\n        // int[] rowToCheck = board[row];\n        int[] columnToCheck = new int[board.length];\n\n        for (int i = 0; i &lt; board.length; i++)\n        {\n            for (int j = 0; j &lt; board.length; j++)\n            {\n                columnToCheck[i] = board[i][column];\n            }\n        }\n        int zero = 0;\n        int one = 0;\n        int two = 0;\n        int three = 0;\n        int four = 0;\n        int five = 0;\n        int six = 0;\n        int seven = 0;\n        int eight = 0;\n        int nine = 0;\n\n        for (int i = 0; i &lt; columnToCheck.length; i++)\n        {\n            switch (columnToCheck[i])\n            {\n                case 0:\n                    zero++;\n                    break;\n                case 1:\n                    one++;\n                    break;\n                case 2:\n                    two++;\n                    break;\n                case 3:\n                    three++;\n                    break;\n                case 4:\n                    four++;\n                    break;\n                case 5:\n                    five++;\n                    break;\n                case 6:\n                    six++;\n                    break;\n                case 7:\n                    seven++;\n                    break;\n                case 8:\n                    eight++;\n                    break;\n                case 9:\n                    nine++;\n                    break;\n                default:\n                    return false;\n            }\n\n        }\n        boolean bool = (one &lt;= 1 &amp;&amp; two &lt;= 1 &amp;&amp; three &lt;= 1 &amp;&amp; four &lt;= 1 &amp;&amp; five &lt;= 1 &amp;&amp; six &lt;= 1 &amp;&amp; seven &lt;= 1 &amp;&amp; eight &lt;= 1 &amp;&amp; nine &lt;= 1);\n        System.out.println(&quot;-------\\nCheckColumn --&gt; &quot; + bool + &quot; with &quot; + zero + &quot; Empty places&quot;);\n        return bool;\n    }\n\n    private static boolean checkRow(int[] row)\n    {\n        int zero = 0;\n        int one = 0;\n        int two = 0;\n        int three = 0;\n        int four = 0;\n        int five = 0;\n        int six = 0;\n        int seven = 0;\n        int eight = 0;\n        int nine = 0;\n\n        for (int i = 0; i &lt; row.length; i++)\n        {\n            switch (row[i])\n            {\n                case 0:\n                    zero++;\n                    break;\n                case 1:\n                    one++;\n                    break;\n                case 2:\n                    two++;\n                    break;\n                case 3:\n                    three++;\n                    break;\n                case 4:\n                    four++;\n                    break;\n                case 5:\n                    five++;\n                    break;\n                case 6:\n                    six++;\n                    break;\n                case 7:\n                    seven++;\n                    break;\n                case 8:\n                    eight++;\n                    break;\n                case 9:\n                    nine++;\n                    break;\n                default:\n                    return false;\n            }\n\n        }\n        boolean bool = (one &lt;= 1 &amp;&amp; two &lt;= 1 &amp;&amp; three &lt;= 1 &amp;&amp; four &lt;= 1 &amp;&amp; five &lt;= 1 &amp;&amp; six &lt;= 1 &amp;&amp; seven &lt;= 1 &amp;&amp; eight &lt;= 1 &amp;&amp; nine &lt;= 1);\n        System.out.println(&quot;-------\\nCheckRow --&gt; &quot; + bool + &quot; with &quot; + zero + &quot; Empty places&quot;);\n        return bool;\n    }\n\n    public static boolean checkSubSquare(int column, int row, int[][] board)\n    {\n        int zero = 0;\n        int one = 0;\n        int two = 0;\n        int three = 0;\n        int four = 0;\n        int five = 0;\n        int six = 0;\n        int seven = 0;\n        int eight = 0;\n        int nine = 0;\n\n        int rowBeginPointer = 0;\n        int rowEndPointer = 0;\n        int columnEndPointer = 0;\n        int columnBeginPointer = 0;\n\n        double rowDouble = row / 3.0;\n        double columnDouble = column / 3.0;\n\n        if (rowDouble &lt;= 1 &amp;&amp; rowDouble &gt;= 0)\n        {\n            rowBeginPointer = 0;\n            rowEndPointer = 2;\n        }\n        else if (rowDouble &lt;= 2 &amp;&amp; rowDouble &gt; 1)\n        {\n            rowBeginPointer = 3;\n            rowEndPointer = 5;\n        }\n        else\n        {\n            rowBeginPointer = 6;\n            rowEndPointer = 8;\n        }\n\n        if (columnDouble &lt;= 1 &amp;&amp; columnDouble &gt;= 0)\n        {\n            columnBeginPointer = 0;\n            columnEndPointer = 2;\n        }\n        else if (columnDouble &lt;= 2 &amp;&amp; columnDouble &gt; 1)\n        {\n            columnBeginPointer = 3;\n            columnEndPointer = 5;\n        }\n        else\n        {\n            columnBeginPointer = 6;\n            columnEndPointer = 8;\n        }\n\n        for (int i = columnBeginPointer; i &lt;= columnEndPointer; i++)\n        {\n            for (int j = rowBeginPointer; j &lt;= rowEndPointer; j++)\n            {\n                switch (board[i][j])\n                {\n                    case 0:\n                        zero++;\n                        break;\n                    case 1:\n                        one++;\n                        break;\n                    case 2:\n                        two++;\n                        break;\n                    case 3:\n                        three++;\n                        break;\n                    case 4:\n                        four++;\n                        break;\n                    case 5:\n                        five++;\n                        break;\n                    case 6:\n                        six++;\n                        break;\n                    case 7:\n                        seven++;\n                        break;\n                    case 8:\n                        eight++;\n                        break;\n                    case 9:\n                        nine++;\n                        break;\n                    default:\n                        return false;\n                }\n\n            }\n\n        }\n        boolean bool = (one &lt;= 1 &amp;&amp; two &lt;= 1 &amp;&amp; three &lt;= 1 &amp;&amp; four &lt;= 1 &amp;&amp; five &lt;= 1 &amp;&amp; six &lt;= 1 &amp;&amp; seven &lt;= 1 &amp;&amp; eight &lt;= 1 &amp;&amp; nine &lt;= 1);\n        System.out.println(&quot;CheckSquare --&gt; &quot; + bool + &quot; with &quot; + zero + &quot;empty places&quot;);\n        return bool;\n    }\n\n    public static boolean solve(int[][] board)\n    {\n        if (!checkValidBoard(board))\n        {\n            throw new IllegalArgumentException(&quot;Das Board ist nicht Valide!!!&quot;);\n        }\n        printBoard(board);\n        return solveSudoku(board);\n    }\n\n    private static boolean solveSudoku(int[][] board)\n    {\n        printBoard(board);\n        int boardLength = board.length;\n        int row = -1;\n        int col = -1;\n        boolean isEmpty = true;\n        for (int i = 0; i &lt; boardLength; i++)\n        {\n            for (int j = 0; j &lt; boardLength; j++)\n            {\n                if (board[i][j] == 0)\n                {\n                    row = i;\n                    col = j;\n\n                    // We still have some remaining\n                    // missing values in Sudoku\n                    isEmpty = false;\n                    break;\n                }\n            }\n            if (!isEmpty)\n            {\n                break;\n            }\n        }\n\n        // No empty space left\n        if (isEmpty)\n        {\n            return true;\n        }\n\n        // Else for each-row backtrack\n        for (int num = 1; num &lt;= boardLength; num++)\n        {\n            if (isSafe(board, row, col, num))\n            {\n                board[row][col] = num;\n                if (solveSudoku(board))\n                {\n                    // print(board, n);\n                    return true;\n                }\n                else\n                {\n                    // replace it\n                    board[row][col] = 0;\n                }\n            }\n        }\n        return false;\n    }\n\n    public static void print(int[][] board)\n    {\n\n        // We got the answer, just print it\n        int boardLength = board.length;\n        for (int r = 0; r &lt; boardLength; r++)\n        {\n            for (int d = 0; d &lt; boardLength; d++)\n            {\n                System.out.print(board[r][d]);\n                System.out.print(&quot; &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n\n            if ((r + 1) % (int) Math.sqrt(boardLength) == 0)\n            {\n                System.out.print(&quot;&quot;);\n            }\n        }\n    }\n\n    public static void main(String args[])\n    {\n\n        int[][] board = new int[][]\n        {\n//             { 3, 0, 6, 5, 0, 8, 4, 0, 0 },\n//             { 5, 2, 0, 0, 0, 0, 0, 0, 0 },\n//             { 0, 8, 7, 0, 0, 0, 0, 3, 1 },\n//             { 0, 0, 3, 0, 1, 0, 0, 8, 0 },\n//             { 9, 0, 0, 8, 6, 3, 0, 0, 5 },\n//             { 0, 5, 0, 0, 9, 0, 6, 0, 0 },\n//             { 1, 3, 0, 0, 0, 0, 2, 5, 0 },\n//             { 0, 0, 0, 0, 0, 0, 0, 7, 4 },\n//             { 0, 0, 5, 2, 0, 6, 3, 0, 0 } };\n\n            { 0, 0, 0, 1, 0, 0, 0, 0, 0 },\n            { 0, 0, 0, 2, 0, 0, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n            { 1, 2, 0, 0, 0, 0, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 0, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 0, 1, 2, 0 },\n            { 0, 0, 0, 0, 0, 1, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 2, 0, 0, 0 },\n            { 0, 0, 0, 0, 0, 0, 0, 0, 0 }, };\n//        int maxSize = board.length;\n\n        if (solve(board))\n        {\n            // print solution\n            System.out.println(&quot;found a Solution&quot;);\n            printBoard(board);\n        }\n        else\n        {\n            System.out.println(&quot;No solution&quot;);\n        }\n    }\n\n    private static void printBoard(int[][] board)\n    {\n        for (int row = 0; row &lt; 9; row++)\n        {\n            for (int column = 0; column &lt; 9; column++)\n            {\n                if ((column) % 3 == 0 &amp;&amp; column &gt; 1)\n                {\n                    // System.out.println(&quot;-----------------&quot;);\n                    System.out.print(&quot;| &quot;);\n                }\n                System.out.print(board[row][column] + &quot; &quot;);\n            }\n            if ((row + 1) % 3 == 0 &amp;&amp; row &lt; 8)\n            {\n                // System.out.println(&quot;-----------------&quot;);\n                System.out.print(&quot;\\n---------------------&quot;);\n            }\n            System.out.println();\n        }\n        System.out.print(&quot;---------------------&quot;);\n        System.out.print(&quot;\\n#####################&quot;);\n        System.out.println(&quot;\\n---------------------&quot;);\n    }\n}\n\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548322,
          "body": "You have to call <code>http:&#47;&#47;localhost:8080&#47;api&#47;heroes&#47;buscar&#47;Pisicola</code> to hit the mentioned endpoint"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134548518,
              "body": "I tried it before posting the problem, and none of both works :( The same error message appears"
            },
            {
              "comment_id": 134548742,
              "body": "I think this is caused by Spring default mapping. You have a few public methods not annotated (yet). This can cause Spring to interpret is as default GET method with long as parameter. Try first to comment these methods out. Hope it helps."
            }
          ],
          "answer_id": 76300079,
          "body": "<p>In your controller you are mixing the URL syntax for <code>PathVariable</code> and <code>RequestParameter</code>.</p>\n<p>For <code>RequestParameter</code> should be:</p>\n<pre><code>@GetMapping(&quot;/buscar&quot;)\npublic ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n    List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n    return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n}\n</code></pre>\n<p>And URL:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar?name=Pisicola\n</code></pre>\n<p>For <code>PathVariable</code> should be:</p>\n<pre><code>@GetMapping(&quot;/buscar/{name}&quot;)\npublic ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@PathVariable String name) {\n    List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n    return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n}\n</code></pre>\n<p>And URL:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar/Pisicola\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684675717,
      "question_id": 76299997,
      "body": "<p>I'm trying to get a hero by his name with the next method in the controller:</p>\n<pre><code>@GetMapping(&quot;/buscar/{name}&quot;)\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n    }\n</code></pre>\n<p>But when I use POSTMAN to get the information with the next line:</p>\n<pre><code>http://localhost:8080/api/heroes/buscar?name=Pisicola\n</code></pre>\n<p>It shows me this:</p>\n<pre><code>{\n    &quot;cause&quot;: {\n        &quot;cause&quot;: null,\n        &quot;message&quot;: &quot;For input string: \\&quot;buscar\\&quot;&quot;\n    },\n    &quot;message&quot;: &quot;Failed to convert from type [java.lang.String] to type [java.lang.Long] for value [buscar]&quot;\n}\n</code></pre>\n<p>Instead of the information of the Hero.</p>\n<p>This is all the code I have related to the problem:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/heroes&quot;)\npublic class HeroController {\n\n    @Autowired\n    private HeroesRepository heroesRepository;\n\n    @PostMapping\n    public ResponseEntity&lt;Heroe&gt; createHeroe(@RequestBody Heroe heroe) {\n        Heroe savedHeroe = heroesRepository.save(heroe);\n        return new ResponseEntity&lt;&gt;(savedHeroe, HttpStatus.CREATED);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; getHeroeById(long id) {\n        Heroe heroe = heroesRepository.findById(id).orElseThrow();\n        return new ResponseEntity&lt;&gt;(heroe, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/buscar/{name}&quot;)\n    public ResponseEntity&lt;List&lt;Heroe&gt;&gt; findHeroByName(@RequestParam String name) {\n        List&lt;Heroe&gt; heroes = heroesRepository.findByName(name);\n        return new ResponseEntity&lt;&gt;(heroes, HttpStatus.OK);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; updateHeroe(long id, Heroe heroe) {\n        Heroe updatedHeroe = heroesRepository.save(heroe);\n        return new ResponseEntity&lt;&gt;(updatedHeroe, HttpStatus.OK);\n    }\n\n    public ResponseEntity&lt;Heroe&gt; deleteHeroe(long id) {\n        heroesRepository.deleteById(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n    }\n}\n\n</code></pre>\n<pre><code>@RepositoryRestResource\npublic interface HeroesRepository extends JpaRepository&lt;Heroe, Long&gt; {\n\n    List&lt;Heroe&gt; findByName(String name);\n\n}\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548440,
          "body": "Actually I found the error and the sollution is:   The problem is the dependencies using on plugin.xml.  You must add that code:      &lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt;     &lt;depends&gt;com.intellij.modules.lang&lt;/depends&gt;     &lt;depends&gt;com.intellij.modules.java&lt;/depends&gt;     &lt;depends&gt;com.intellij.modules.xdebugger&lt;/depends&gt;     &lt;depends&gt;com.intellij.java&lt;/depends&gt;"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134548476,
              "body": "This is nothing but a copy of the original poster&#39;s comment, without adding any significant additional text or explanation. Not good."
            }
          ],
          "answer_id": 76300115,
          "body": "<p>Actually I found the error and the sollution is:</p>\n<p>The problem is the dependencies using on plugin.xml.</p>\n<p>You must add that code:</p>\n<pre><code>&lt;depends&gt;com.intellij.modules.platform&lt;/depends&gt;\n&lt;depends&gt;com.intellij.modules.lang&lt;/depends&gt;\n&lt;depends&gt;com.intellij.modules.java&lt;/depends&gt;\n&lt;depends&gt;com.intellij.modules.xdebugger&lt;/depends&gt;\n&lt;depends&gt;com.intellij.java&lt;/depends&gt;\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684675297,
      "question_id": 76300080,
      "body": "<p>Actually I'm retrieving that error when trying to create a new plugin on intellij platform.</p>\n<pre><code>PsiTreeUtil.findChildOfType(psiFile, PsiClass.class)\n</code></pre>\n<blockquote>\n<p>Caused by: java.lang.ClassNotFoundException:\ncom.intellij.psi.JavaPsiFacade when using\nPsiTreeUtil.findChildOfType(psiFile, PsiClass.class)</p>\n</blockquote>\n<p>I'm expecting to retrieve the PsiClass without any error.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548456,
          "body": "You can d both ways, But you has to put the Activity class as a parameter into the handler class and do not create a new Instance of the class"
        },
        {
          "comment_id": 134548629,
          "body": "You should <b>never</b> create an activity class manually in Android with <code>new MyActivity</code>, that will create an invalid state where many variables are null"
        }
      ],
      "last_activity_date": 1684675105,
      "question_id": 76300090,
      "body": "<p>I have a very simple question. In Android, the Handler class must be implemented inside the activity's class as an inner class? Or i can implement it in a separate file and create the object in the activity's class? When i try the second option, i can only access the view creating an object of the activity's class, and it's normal, but when I setText of the  mainActivity's textView using the handleMessage method in the Handle class, the app crashes with a &quot;NullPointerException&quot;\nMainActivity's code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    TextView tv;\n    Button btn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        tv = (TextView) findViewById(R.id.tv);\n        btn = (Button) findViewById(R.id.btn);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                MyHandler handler = new MyHandler();\n                handler.sendEmptyMessage(7);\n            }\n        });\n}\n</code></pre>\n<p>Handler class code:</p>\n<pre><code>public class MyHandler extends Handler {\n\n    MainActivity mainActivity = new MainActivity();\n\n\n\n    @Override\n    public void handleMessage(@NonNull Message msg) {\n        super.handleMessage(msg);\n\n        mainActivity.tv.setText(msg.what + &quot; &quot;);\n\n\n\n    }\n}\n</code></pre>\n<p>I did't find any article or tutorial that answers to this question, but all of them implement it as inner class. I want to know if this is a best practice or the only way to do it.\nThanks in advance.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134546777,
          "body": "PyCryptodome uses the OAEP digest as MGF1 digest by default. Since the Java code applies SHA56 for both digests and the Python code uses SHA256 as OAEP digest, the MGF1 digest is implicitly specified correctly (note: the MGF1 digest can also be specified explicitly, but this is not necessary here)."
        },
        {
          "comment_id": 134546826,
          "body": "It is not clear from your question whether there are any problems at all. Are there any problems? If so, which ones? You should then also post sample data (non-productive key pair, plaintext, ciphertexts of both codes). Note: For a test, the ciphertexts cannot just be compared, since OAEP is not deterministic. Instead, it must be checked whether both ciphertexts can be decrypted with the <i>same</i> (Java) code."
        },
        {
          "comment_id": 134548790,
          "body": "@Topaco thank you for your response. Actually, I don&#39;t have access to the decryption code. So I just wanted the Python code would be the same manner with Java code which is an SDK."
        },
        {
          "comment_id": 134548800,
          "body": "@Topaco Also I am not sure about decode, encode, hex, stuff in the python code which are in the right place or not"
        }
      ],
      "last_activity_date": 1684675074,
      "question_id": 76298951,
      "body": "<p>I am new in cryptography stuff and I want to encrypt a random symmetric key using RSA-OAEP-SHA256 in Python. Actually, my exact desire is to convert the following code from Java to Python:</p>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String encryptSymmetricKey(String symmetricKeyJson, PublicKey publicKey)\n        throws NoSuchPaddingException, NoSuchAlgorithmException, InvalidAlgorithmParameterException, InvalidKeyException, BadPaddingException, IllegalBlockSizeException {\n    OAEPParameterSpec oaepParameterSpec = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, MGF1ParameterSpec.SHA256, PSource.PSpecified.DEFAULT);\n    Cipher encryptCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\n\n    encryptCipher.init(Cipher.ENCRYPT_MODE, publicKey, oaepParameterSpec);\n\n    byte[] secretMessageBytes = symmetricKeyJson.getBytes(StandardCharsets.UTF_8);\n    byte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\n\n    return Base64.getEncoder().encodeToString(encryptedMessageBytes);\n}\n\nSecretKey aesKey = generateAesSecretKey();\n\nString rsaEncryptSymmetricKey = encryptSymmetricKey(\n        hex(aesKey.getEncoded()),\n        taxOrgPublicKey); \n</code></pre>\n<p>Here's the code I've done so far in Python, but I couldn't find MGF1 in it:</p>\n<pre class=\"lang-py prettyprint-override\"><code>def encrypt_symmetric_key(symmetric_key: bytes, public_key: str) -&gt; str:\n    &quot;&quot;&quot;encrypt symmetric key using public key\n    &quot;&quot;&quot;\n    keyDER = base64.b64decode(public_key)\n    public_key = RSA.import_key(keyDER)\n\n    # Use PKCS#1 OAEP for encryption with SHA256 hash function\n    cipher_rsa = PKCS1_OAEP.new(public_key, hashAlgo=SHA256.new())\n\n    # Encrypt the symmetric key\n    encrypted_symmetric_key = cipher_rsa.encrypt(symmetric_key.hex().encode())\n\n    # Return the encrypted key as a base64-encoded string\n    return base64.b64encode(encrypted_symmetric_key).decode()\n\nimport secrets\nsymmetric_key = secrets.token_bytes(32)\npublic_key = &quot;xxx&quot;\nencrypt_symmetric_key(symmetric_key, public_key)\n</code></pre>\n"
    },
    {
      "last_activity_date": 1684674882,
      "question_id": 76300050,
      "body": "<p>There is a <code>Map&lt;Pharmacy, List&lt;Medicine&gt;&gt;</code><br />\nHow to sort this map by value. The last element is the total price in the list. So I want to sort this map by this total Price value.</p>\n<pre><code>Map&lt;Pharmacy, List&lt;Medicine&gt;&gt; resultQuery = new HashMap&lt;&gt;();\n\nfor (Long id : pharmaciesID) {\n    Pharmacy pharmacy = pharmacyRepository.getReferenceById(id);\n    resultQuery\n        .computeIfAbsent(pharmacy, v -&gt; new ArrayList&lt;&gt;())\n        .addAll(findAllMedicinesFromPharmacy(pharmacy, medicinesList));\n}\n\nfor (Map.Entry&lt;Pharmacy, List&lt;Medicine&gt;&gt; entry : resultQuery.entrySet()) {\n    long id = entry.getKey().getId();\n    entry.getValue().add(new Medicine(&quot;Total price: &quot;, &quot;&quot;, 0, findTotalSumPrice(entry.getValue()), id));\n}\n</code></pre>\n"
    },
    {
      "answers": [
        {
          "answer_id": 76299619,
          "body": "<p>Would you mind sharing Move and State classes as well?<br>\nAnd this minimax method - needs to be reduced in complexity<br>\nand maybe renamed to getBestMoveByStateAndDepth() ?</p>\n<pre><code>if (isMaxPlayer) {\n  return bestMoveMaxPlayer();\n} else {\n  return bestMoveOrdinaryPlayer();\n}\n</code></pre>\n<p>... and so we can deep dive.\nAnd that controller class as well, plus its name is quite too generic.<br>\nNext I would choose better names for methods:<br>\nevaluate, eval1, eval2\nand polish them as well, suddenly isMaxPlayer is playerB,\nand so on, I believe, after some refactoring the whole process\nmight seems easier to understand and maintain.</p>\n"
        }
      ],
      "last_activity_date": 1684674681,
      "question_id": 76299474,
      "body": "<p>I'm coding the Mancala game with Minimax in Java, it's all running perfectly, but the algorithm doesn't choose the right move and it returns the wrong score all the time. I don't know what the problem is even though I sat a lot of hours to figure it out and I would love for some help.</p>\n<pre><code>private Move minimax(State state, int depth, int maxDepth, boolean isMaxPlayer)\n{\n    Move bestMove = null;\n    \n    if(isGameOverMinimax(state) || maxDepth == depth)\n    {\n        //System.out.println(&quot;**** Game Over ****&quot;);\n        double evalScore = evaluate(state, isMaxPlayer);\n        //printBoard(board);\n        //System.out.println(&quot;evalScore = &quot; + evalScore);\n        //System.out.println(&quot;depth = &quot; + depth);\n        //System.out.println(&quot;********************&quot;);\n        \n       return new Move(null, evalScore,depth);\n    }\n    \n    ArrayList&lt;Move&gt; possibleMoves = getAllPossibleMoves(state, getMinimaxPlayer(isMaxPlayer));\n    // MAX play\n    if(isMaxPlayer == true)\n    {\n        bestMove = new Move(null, Integer.MIN_VALUE, -1);\n        \n        for(int i=0; i &lt; possibleMoves.size(); i++)\n        {\n            State copyBoard = applyMove(state, possibleMoves.get(i), getMinimaxPlayer(isMaxPlayer));\n            Move move;\n            if(copyBoard.isMoreTurn())\n                move = minimax(copyBoard, depth+1, maxDepth, true);\n            else\n                move = minimax(copyBoard, depth+1, maxDepth, false);\n            move.setLocation(possibleMoves.get(i).getLocation());\n            \n            if(depth==0)\n                System.out.println(&quot;#Move#&quot; + (i+1) + &quot;: &quot; + possibleMoves.get(i).getLocation() + &quot;, Score: &quot; + move.getScore()+&quot;, Depth: &quot; + move.getDepth());\n            \n            if(move.getScore() &gt; bestMove.getScore())\n            {\n                bestMove.setLocation(move.getLocation());\n                bestMove.setScore(move.getScore());\n                bestMove.setDepth(move.getDepth());\n            }\n            else if(move.getScore() == bestMove.getScore()){\n                if(move.getDepth()&lt;bestMove.getDepth()){\n                    bestMove.setLocation(move.getLocation());\n                    bestMove.setScore(move.getScore());\n                    bestMove.setDepth(move.getDepth());\n                }\n            }\n        }\n    }\n    else  // MIN player\n    {\n        bestMove = new Move(null, Integer.MAX_VALUE, -1);\n        \n        for(int i=0; i&lt;possibleMoves.size(); i++)\n        {\n            State copyBoard = applyMove(state, possibleMoves.get(i), getMinimaxPlayer(isMaxPlayer));\n            Move move;\n            if(copyBoard.isMoreTurn())\n                move = minimax(copyBoard, depth+1, maxDepth, false);\n            else\n                move = minimax(copyBoard, depth+1, maxDepth, true);\n            move.setLocation(possibleMoves.get(i).getLocation());\n            \n            if(move.getScore() &lt; bestMove.getScore())\n            {\n                bestMove.setLocation(move.getLocation());\n                bestMove.setScore(move.getScore());\n                bestMove.setDepth(move.getDepth());\n            }\n        }\n    }\n    \n    return bestMove;\n}\n\nprivate State applyMove(State state, Move move, int currentPlayer)\n{\n    State copy = state.duplicateState();\n    return move.makeMove(move, currentPlayer, copy);\n}\n\nprivate double evaluate(State state,boolean playerB)\n{\n    int player;\n    if(playerB==true){\n        player=controller.getCurrentPlayer();\n        if(state.checkCopyWin(state)==player)\n            return 100;\n    }\n    else{\n        player=controller.getOpponent(controller.getCurrentPlayer());\n        if(state.checkCopyWin(state)==player)\n            return -100;\n    }\n    if(checkTie())\n        return 0;\n    double sum=eval1(state,player)*0.5 + eval2(state,player)*0.5;\n    return sum;\n}\n\n\nprivate int eval1(State state, int player)\n{\n    int sumForPlayer;\n    int sumForOponnent;\n    if(player==PLAYER_ONE){\n        sumForPlayer = state.getOpponentSum();\n        sumForOponnent = state.getPlayerSum();\n    }\n    else{\n        sumForPlayer = state.getPlayerSum();\n        sumForOponnent = state.getOpponentSum();\n    }\n    return sumForPlayer-sumForOponnent;\n}\nprivate int eval2(State state, int player)\n{\n    int sumForPlayer = state.getSumOfRocksLeft(player);\n    int sumForOponnent = state.getSumOfRocksLeft(controller.getOpponent(player));\n    return sumForPlayer-sumForOponnent;\n}\n</code></pre>\n<p>I've tried to print all the returns from the evaluation functions and yet I still don't understand why it doesn't return the correct answer.\nBy the way, all the auxiliary functions that I used and did not write down their implementation here work well and return a correct answer.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 118544680,
          "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/61702224/java-is-it-possible-to-use-a-pair-in-a-priority-queue-and-then-return-a-value-u\">Java. Is it possible to use a pair in a priority queue and then return a value using the key as a priority</a>"
        },
        {
          "comment_id": 118544735,
          "body": "You can not use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">Priority Key</a> with a pair.  If you want so, will need to write some code."
        },
        {
          "comment_id": 134548390,
          "body": "Note that answers suggesting PriorityQueue do not address your question since you are asking for a heap implementation. That behind the scenes this priority queue is implemented using a binary heap is just a technical detail."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 118544663,
              "body": "There is no method like <code>poll</code> in hash map. You will need to know the key in order to get an element."
            },
            {
              "comment_id": 118551707,
              "body": "I am sorry, actually I have found this type of code but couldn&#39;t understand properly. It will be very grateful if you explain these as well!"
            }
          ],
          "answer_id": 67065381,
          "body": "<p>In <code>Java</code> you can use a <code>HashMap</code> for that:</p>\n<pre><code>import javafx.util.Pair;\nimport java.util.PriorityQueue;\n\npublic class YourClass{\n\n    public static void main (String[] args){\n\n        int n = 3;\n\nPriorityQueue&lt;Pair&lt;Integer,Integer&gt; &gt; pq = new PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt;(n, Comparator.comparing(Pair::getKey));\n\n  /*Adding elements to HashMap*/\n  pq.add(new Pair &lt;&gt; (10, 200));\n  pq.add(new Pair &lt;&gt; (20, 100));\n  pq.add(new Pair &lt;&gt; (15, 400));\n\n System.out.println(l.poll().getValue()); \n    }\n}\n \n</code></pre>\n"
        },
        {
          "answer_id": 76299793,
          "body": "<p>There is a discussion with examples <a href=\"https://www.geeksforgeeks.org/priority-queue-of-pair-in-java-with-examples/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Briefly, you can set up the queue by providing key value pairs and specifying how pairs should be compared:</p>\n<pre><code>PriorityQueue&lt;Pair&lt;Integer,Integer&gt;&gt; pq = \n    new PriorityQueue&lt;&gt;((a,b)-&gt; b.getValue() - a.getValue());\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684674659,
      "question_id": 67058645,
      "body": "<p>I am trying to implement Max heap with key value pair in java. As we know in C++ we can do that in this way..</p>\n<pre><code>    priority_queue&lt;pair&lt;int, int&gt; &gt; pq;\n    pq.push(make_pair(10, 200));\n    pq.push(make_pair(20, 100));\n    pq.push(make_pair(15, 400));\n</code></pre>\n<p>But I am unable to do this in java, please help me to do so.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 20254416,
          "body": "you need to specify which parameter e.g. if you have keyword in the body use String keyword = request.getParameter(&quot;keyword&quot;);"
        },
        {
          "comment_id": 20254496,
          "body": "It&#39;d be interesting to see the JavaScript code sending the request. It&#39;s apparently composing the request parameters in a wrong way."
        },
        {
          "comment_id": 20254578,
          "body": "@Razh well yes I know, I was just specifying which methods I was trying. BalusC I am using the resumable.js library to handle split file uploads"
        },
        {
          "comment_id": 23352043,
          "body": "If I&#39;m not mistaking, it&#39;s important that you do NOT use request.getParameter() prior to reading from the input stream otherwise no data will be available (already read)."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 20255116,
              "body": "No problems, it&#39;s a bit hidden that one"
            },
            {
              "comment_id": 38934436,
              "body": "This post may be useful if you&#39;ve just used this in a filter and then discovered nothing else can read the body again!  <a href=\"http://natch3z.blogspot.co.uk/2009/01/read-request-body-in-filter.html\" rel=\"nofollow noreferrer\">natch3z.blogspot.co.uk/2009/01/read-request-body-in-filter.h&zwnj;&#8203;tml</a>"
            },
            {
              "comment_id": 98933756,
              "body": "@SgtPooki feel free to add some reasoning for that comment, my good sir!"
            },
            {
              "comment_id": 98940927,
              "body": "@davidfrancis I&#39;m not trying to judge you personally here, but: you have provided no context.. no link to documentation, no example. Your reply to my comment seems to have required more effort than the answer itself."
            },
            {
              "comment_id": 98944235,
              "body": "@SgtPooki Correct, as none of those things are needed. IMHO the name of the method needed is somewhat obscure, hence the method name is the answer to this question. Simple as that I thought. Feel free to submit a longer answer if you think it would be useful."
            },
            {
              "comment_id": 98944594,
              "body": "@davidfrancis, you&#39;re missing the point. The actual question is &quot;How do I get data from the request&quot;. Now try, with your answer as it stands, to get data by writing req.getReader(). Does that give you the data in the request payload, or does it give you the reader, which facilitates getting the body of the request?"
            },
            {
              "comment_id": 98981402,
              "body": "@sgtPooki Your answer is more detailed, but it has extraneous detail that may not be useful. Many people using this API will not be interested in reading the body line by line at all, they will be parsing the body using a library e.g. as JSON. IMHO you should really have submitted it as a new answer because it&#39;s no longer my text."
            },
            {
              "comment_id": 99063618,
              "body": "Likewise, I hope if your day job you don&#39;t overwrite code without discussion first, if you don&#39;t like it - even if 93 previous people happened to like it. I read around about the etiquette of editing answers so am fully up to date with the various opinions 8=}. Thanks for your input to the answer."
            }
          ],
          "answer_id": 14526070,
          "body": "<p>Simple answer:<br>\nUse getReader() to read the body of the request</p>\n\n<p>More info:<br>\nThere are two methods for reading the data in the body:</p>\n\n<ol>\n<li><p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getReader--\" rel=\"noreferrer\"><code>getReader()</code></a> returns a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html?is-external=true\" rel=\"noreferrer\">BufferedReader</a> that will allow you to read the body of the request. </p></li>\n<li><p><a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletRequest.html#getInputStream--\" rel=\"noreferrer\"><code>getInputStream()</code></a> returns a <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/ServletInputStream.html\" rel=\"noreferrer\">ServletInputStream</a> if you need to read binary data. </p></li>\n</ol>\n\n<p>Note from the docs: \"[Either method] may be called to read the body, not both.\"</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 35752728,
              "body": "Take into account that <code>request.getInputStream()</code> doesn&#39;t honor request character encoding as <code>request.getReader()</code> does. So this example uses default system charset."
            },
            {
              "comment_id": 35752832,
              "body": "<code>new BufferedReader(new InputStreamReader(request.getInputStream()))</code> could be simplified to just <code>request.getReader()</code> that is already buffered and also preserves request encoding."
            },
            {
              "comment_id": 77671961,
              "body": "I found this solution helpful as an exception was thrown: <code>javax.servlet.ServletException: java.lang.IllegalStateException: getInputStream() has already been called for this request</code> when I called getReader() as a result of the reader already being open."
            },
            {
              "comment_id": 116142760,
              "body": "Thanks sir, this is a clean and concise solution!"
            },
            {
              "comment_id": 120732626,
              "body": "why do you append empty string to the SB?"
            },
            {
              "comment_id": 125990343,
              "body": "public static String getBody(HttpServletRequest request){     return new String(request.getInputStream().readAllBytes()); }"
            },
            {
              "comment_id": 127441801,
              "body": "else {stringBuilder.append(&quot;&quot;);}  is redundant!"
            }
          ],
          "answer_id": 14885950,
          "body": "<pre><code>String payloadRequest = getBody(request);\n</code></pre>\n\n<p>Using this method </p>\n\n<pre><code>public static String getBody(HttpServletRequest request) throws IOException {\n\n    String body = null;\n    StringBuilder stringBuilder = new StringBuilder();\n    BufferedReader bufferedReader = null;\n\n    try {\n        InputStream inputStream = request.getInputStream();\n        if (inputStream != null) {\n            bufferedReader = new BufferedReader(new InputStreamReader(inputStream));\n            char[] charBuffer = new char[128];\n            int bytesRead = -1;\n            while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n                stringBuilder.append(charBuffer, 0, bytesRead);\n            }\n        } else {\n            stringBuilder.append(\"\");\n        }\n    } catch (IOException ex) {\n        throw ex;\n    } finally {\n        if (bufferedReader != null) {\n            try {\n                bufferedReader.close();\n            } catch (IOException ex) {\n                throw ex;\n            }\n        }\n    }\n\n    body = stringBuilder.toString();\n    return body;\n}\n</code></pre>\n"
        },
        {
          "answer_id": 25617320,
          "body": "<p>You can use Buffer Reader from request to read</p>\n<pre><code>    // Read from request\n    StringBuilder buffer = new StringBuilder();\n    BufferedReader reader = request.getReader();\n    String line;\n    while ((line = reader.readLine()) != null) {\n        buffer.append(line);\n        buffer.append(System.lineSeparator());\n    }\n    String data = buffer.toString()\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 65270996,
              "body": "This is interesting, but looks quite inefficient in terms of string concatenation! Any way this can be improved?"
            },
            {
              "comment_id": 65803399,
              "body": "String body = request.getReader().lines().collect(Collectors.joining());  may also work. Collectors.joining uses a StringBuilder under the hood apparently."
            },
            {
              "comment_id": 71404868,
              "body": "I think it should request.getReader().lines().collect(joining(&quot;\\n&quot;)) to preserve the newlines."
            },
            {
              "comment_id": 85092090,
              "body": "In java 8,stream will be processed parallely so need to add sequential method otherwise it will merge wrong portion of data - String body = request.getReader().lines().sequential().reduce(System.lineS&zwnj;&#8203;eparator(), (accumulator, actual) -&gt; accumulator + actual)"
            },
            {
              "comment_id": 89168506,
              "body": "You can replace <code>(accumulator, actual) -&gt; accumulator + actual</code> with <code>String::concat</code>."
            }
          ],
          "answer_id": 28377010,
          "body": "<p>Java 8 streams</p>\n\n<pre><code>String body = request.getReader().lines()\n    .reduce(\"\", (accumulator, actual) -&gt; accumulator + actual);\n</code></pre>\n"
        },
        {
          "answer_id": 39792253,
          "body": "<p>With <a href=\"https://commons.apache.org/proper/commons-io/\">Apache Commons IO</a> you can do this in one line.</p>\n\n<pre><code>IOUtils.toString(request.getReader())\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 80802570,
              "body": "Beware: The parameters are only available if you use the encoding <code>application&#47;x-www-form-urlencoded</code>; for <code>multipart&#47;form-data</code>, you apparently need to access the body part through <code>request.getReader()</code> and parse it manually."
            }
          ],
          "answer_id": 40587416,
          "body": "<p>You only need </p>\n\n<blockquote>\n  <p>request.getParameterMap()</p>\n</blockquote>\n\n<p>for getting the POST and GET - Parameters.</p>\n\n<p>The Method returns a <code>Map&lt;String,String[]&gt;</code>.</p>\n\n<p>You can read the parameters in the Map by</p>\n\n<pre><code>Map&lt;String, String[]&gt; map = request.getParameterMap();\n//Reading the Map\n//Works for GET &amp;&amp; POST Method\nfor(String paramName:map.keySet()) {\n    String[] paramValues = map.get(paramName);\n\n    //Get Values of Param Name\n    for(String valueOfParam:paramValues) {\n        //Output the Values\n        System.out.println(\"Value of Param with Name \"+paramName+\": \"+valueOfParam);\n    }\n}\n</code></pre>\n"
        },
        {
          "answer_id": 45423137,
          "body": "<p>Using Java 8 try with resources:</p>\n\n<pre><code>    StringBuilder stringBuilder = new StringBuilder();\n    try(BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(request.getInputStream()))) {\n        char[] charBuffer = new char[1024];\n        int bytesRead;\n        while ((bytesRead = bufferedReader.read(charBuffer)) &gt; 0) {\n            stringBuilder.append(charBuffer, 0, bytesRead);\n        }\n    }\n</code></pre>\n"
        },
        {
          "answer_id": 45635715,
          "body": "<p>If the contents of the body are a string in Java 8 you can do:</p>\n\n<p><code>String body = request.getReader().lines().collect(Collectors.joining());\n</code></p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 119159093,
              "body": "This worked in my case where I had to implement JWT authentication. I was sending JSON payload with username and password, then mapped that to my custom Auth Token class."
            }
          ],
          "answer_id": 48450880,
          "body": "<p>If you are able to send the payload in JSON, this is a most convenient way to read the playload:</p>\n\n<p>Example data class:</p>\n\n<pre><code>public class Person {\n    String firstName;\n    String lastName;\n    // Getters and setters ...\n}\n</code></pre>\n\n<p>Example payload (request body):</p>\n\n<pre><code>{ \"firstName\" : \"John\", \"lastName\" : \"Doe\" }\n</code></pre>\n\n<p>Code to read payload in servlet (requires com.google.gson.*):</p>\n\n<pre><code>Person person = new Gson().fromJson(request.getReader(), Person.class);\n</code></pre>\n\n<p>That's all. Nice, easy and clean. Don't forget to set the content-type header to application/json. </p>\n"
        }
      ],
      "last_activity_date": 1684674113,
      "question_id": 14525982,
      "body": "<p>I have a javascript library that is sending a POST request to my Java servlet, but in the <code>doPost</code> method, I can't seem to get the contents of the request payload. In chrome Developer Tools, all the content is in the Request Payload section in the headers tab, and the content is there, and I know that the POST is being received by the doPost method, but it just comes up blank.</p>\n<p>For the <code>HttpServletRequest</code>\nobject, what way can I get the data in the request payload?</p>\n<p>public class TestFilter implements Filter {</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134543817,
          "body": "1) Use a <code>PreparedStatement</code> for the SQL. Read the <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow noreferrer\">PresaredStatement tutorial</a> for some basics. 2) Test the PreparedStatement by hardcoding the value that you set. 3) Once that works, then try passing the data as parameters to the method."
        }
      ],
      "last_activity_date": 1684673708,
      "question_id": 76297131,
      "body": "<p>NullPointerException when writing to sqlite even if hardcoded value in Java</p>\n<p>I'm working on a project that encompasses passing data between servlets and *.jsp files, and at the same time writes to a sqlite database. The variables passed to the db are area_id, x, y, r, g, and timestamp. When testing the entire project together, all of the area_id values are NULL. The DB class has a Main() to test the functionality, and hard codes an entry into the db.</p>\n<p>Here is the content of DBManager.java:</p>\n<pre><code>package com.dronerecon.ws;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.Statement;\nimport java.sql.ResultSet;\n\nimport java.util.ArrayList;\n\npublic class DBManager {\n\n    public String DBLocation = &quot;dronedata.sqlite&quot;; // For running from an IDE w/ DB located in local project folder.\n\n    // For running in IDE but accessing full path to DB in Tomcat website (NOTE: May need to adjust 8.5).\n    //public String DBLocation = &quot;C:\\\\Program Files\\\\Apache Software Foundation\\\\Tomcat 10.1\\\\webapps\\\\dronereconportal\\\\db\\\\dronedata.sqlite&quot;;\n\n    // Create connection with DB.\n    // This is called internally by each CRUD function as a first step.\n    private Connection connect() {\n\n        // SQLite connection string\n        String url = &quot;jdbc:sqlite:&quot; + DBLocation;\n        Connection conn = null;\n\n        try {\n            Class.forName(&quot;org.sqlite.JDBC&quot;);\n\n            // Connect to DB.\n            conn = DriverManager.getConnection(url);\n        } catch (Exception e) {\n            System.err.println(e.getMessage());\n        }\n        return conn;\n    }\n\n\n    // Insert DB record into AreaGridTiles table.\n    // This is the &quot;C&quot; in CRUD.\n    public void insertAreaGridTile(String sAreaID, int iX, int iY, int iR, int iG){\n\n        Connection c = connect();\n        Statement stmt = null;\n\n        try {\n            c.setAutoCommit(false);\n\n            stmt = c.createStatement();\n            String sql = &quot;INSERT INTO AreaGridTiles (area_id,x,y,r,g,timestamp) &quot; +\n                    &quot;VALUES ('&quot; + sAreaID + &quot;',&quot; + iX + &quot;,&quot; + iY + &quot;,&quot; + iR + &quot;,&quot; + iG + &quot;,datetime());&quot;;\n            stmt.executeUpdate(sql);\n            stmt.close();\n            c.commit();\n            c.close();\n        } catch ( Exception e ) {\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n            e.printStackTrace();\n        }\n    }\n\n\n    // Select DB records from AreaGridTiles table.\n    // This is the &quot;R&quot; in CRUD.\n    public ArrayList&lt;AreaGridTile&gt; readAreaGridTiles(String sAreaID){\n\n        Connection c = connect();\n        Statement stmt = null;\n\n        // Used to hold tiles retrieved from DB.\n        ArrayList&lt;AreaGridTile&gt; lstTiles = new ArrayList&lt;&gt;();\n\n        try {\n            c.setAutoCommit(false);\n\n            stmt = c.createStatement();\n            ResultSet rs = stmt.executeQuery( &quot;SELECT * FROM AreaGridTiles WHERE area_id = '&quot; + sAreaID + &quot;';&quot; );\n\n            while ( rs.next() ) {\n                sAreaID = rs.getString(&quot;area_id&quot;);\n                int iX = rs.getInt(&quot;x&quot;);\n                int iY = rs.getInt(&quot;y&quot;);\n                int iR = rs.getInt(&quot;r&quot;);\n                int iG = rs.getInt(&quot;g&quot;);\n                String sTimestamp = rs.getString(&quot;timestamp&quot;);\n\n                AreaGridTile oTile = new AreaGridTile();\n                oTile.areaID = sAreaID;\n                oTile.x = iX;\n                oTile.y = iY;\n                oTile.r = iR;\n                oTile.g = iG;\n                oTile.timestamp = sTimestamp;\n\n                lstTiles.add(oTile);\n\n                 /*Uncomment for debugging\n                System.out.println( &quot;Area ID : &quot; + sAreaID);\n                System.out.println( &quot;x : &quot; + iX);\n                System.out.println( &quot;y : &quot; + iY);\n                System.out.println( &quot;r : &quot; + iR);\n                System.out.println( &quot;g : &quot; + iG);\n                System.out.println( &quot;timestamp : &quot; + sTimestamp);\n\n                  */\n\n            }\n\n            rs.close();\n            stmt.close();\n            c.close();\n\n        } catch ( Exception e ) {\n            System.err.println( e.getClass().getName() + &quot;: &quot; + e.getMessage() );\n        }\n\n        return lstTiles;\n    }\n\n    // Only for testing in an IDE.\n    public static void main(String[] args){\n\n        DBManager oDBManager = new DBManager();\n        oDBManager.insertAreaGridTile(&quot;abc123&quot;,10,10,243,109);\n        System.out.println(&quot;Record inserted.&quot;);\n\n        ArrayList&lt;AreaGridTile&gt; oTiles = oDBManager.readAreaGridTiles(&quot;abc123&quot;);\n\n        for(AreaGridTile oTile: oTiles){\n            System.out.println(&quot;tile: &quot; + oTile.x + &quot;,&quot; + oTile.y);\n        }\n    }\n}\n</code></pre>\n<p>And here is supporting pictures to show the issue:\n<a href=\"https://i.stack.imgur.com/DAHVW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p><a href=\"https://i.stack.imgur.com/evH5V.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Are these issues independent of each other? This seems to be an issue with connecting to the DB at all. I've been trying to resolve this for a while, with no luck. Thank you for your help!</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 74350935,
          "body": "You should  follow @LukeJanyga&#39;s advice and make use of java.time framework. Stop using raw java.util.Date objects and start using LocalDateTime, LocalDate, LocalTime, and so on."
        },
        {
          "comment_id": 74354465,
          "body": "could you tell me where is the mistake in my code why its not giving correct month difference and time difference?"
        },
        {
          "comment_id": 74358020,
          "body": "I haven&#39;t got spare time to take a look to your code right now. The best approach for you is to switch to java time: as you&#39;ll get it working faster resulting in lesser quantity of lines of code."
        },
        {
          "comment_id": 74358102,
          "body": "Take a look to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java time javadoc</a> and to <a href=\"http://www.oracle.com/technetwork/articles/java/jf14-date-time-2125367.html\" rel=\"nofollow noreferrer\">this article</a>."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134544430,
              "body": "Update: These terribly flawed date-time classes were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310."
            }
          ],
          "answer_id": 43650573,
          "body": "<pre><code>String calculateTime(String strDate) throws ParseException {\n\n    String result = \"\";\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"ddMMHHmm\");\n    Date currDate = new Date();\n    String date = dateFormat.format(currDate);\n\n    currDate = dateFormat.parse(date);\n    Date postDate = dateFormat.parse(strDate);\n\n    //calculate day diff\n    long timeDiff = currDate.getTime() - postDate.getTime();\n    long daysDiff = TimeUnit.MILLISECONDS.toDays(timeDiff);\n    Calendar calendar = GregorianCalendar.getInstance();\n    calendar.setTime(postDate);\n\n    if (daysDiff == 1) {\n\n\n        result = \"yesterday\";\n        result = result + \" at \" + getHour(calendar.get(Calendar.HOUR)) + \":\"\n                + setPrefix(calendar.get(Calendar.MINUTE))+ \" \" + getAM_PM(calendar.get(Calendar.AM_PM));\n\n    } else if (daysDiff &gt; 1) {\n\n        result = calendar.get(Calendar.DATE) + \" \" + getMonthForInt(calendar.get(Calendar.MONTH));\n        result = result + \" at \" + getHour(calendar.get(Calendar.HOUR)) + \":\"\n                + setPrefix(calendar.get(Calendar.MINUTE)) + \" \" + getAM_PM(calendar.get(Calendar.AM_PM));\n\n    } else {\n\n         long minDiff = TimeUnit.MILLISECONDS.toMinutes(timeDiff);\n\n\n        if (minDiff == 0) {\n\n            result = \"just now\";\n        } else if (minDiff &lt; 60) {\n\n            if (minDiff == 1) {\n\n                result = minDiff + \" min ago\";\n            } else if(minDiff &gt; 1)  {\n                result = minDiff + \" mins ago\";\n            }\n\n        } else {\n\n            long hourDiff = TimeUnit.MILLISECONDS.toHours(timeDiff);\n\n            if (hourDiff == 1) {\n\n                result = hourDiff + \" hr ago\";\n            } else if(hourDiff &gt; 1){\n\n                result = hourDiff + \" hrs ago\";\n\n            }\n\n        }\n\n    }\n\n    return result;\n}\n</code></pre>\n"
        },
        {
          "answer_id": 43651657,
          "body": "<p>Please use JSR-310 (known as ThreeTen) which is currently the standard for Java. It provides classes like <code>Duration</code> or <code>ChronoUnit</code> that contain all necessary tools.</p>\n\n<p>E.g. <code>ChronoUnit.MONTHS.between()</code> will calculate span between 2 dates in months</p>\n"
        },
        {
          "answer_id": 76297551,
          "body": "<h1>tl;dr</h1>\n<pre><code>Duration.between(\n    ZonedDateTime.of( \n        LocalDate.parse( input , DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ) ,\n        LocalTime.of( 15 , 45 , 0 ) ,\n        ZoneId.of( &quot;Africa/Casablanca&quot; ) \n    ) ,\n    ZonedDateTime.now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )  \n)\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>You have posted way too much code for me to parse thoroughly. But if I get the gist of it, this might help you…</p>\n<p>Use only <em>java.time</em> classes, never the terribly flawed legacy classes such as <code>Date</code>, <code>Calendar</code>, and <code>SimpleDateFormat</code>.</p>\n<p>Use <code>DateTimeFormatter</code> to define a formatting pattern matching your input.</p>\n<pre><code>DateTimeFormatter f = DateTimeFormatter.ofPattern( &quot;dd-MM-uuuu&quot; ) ;\n</code></pre>\n<p>Parse as a <code>LocalDate</code>.</p>\n<pre><code>LocalDate ld = LocalDate.parse( input , f ) ;\n</code></pre>\n<p>Generate text representing that value, in standard ISO 8601 format.</p>\n<pre><code>String output = ld.toString() ;\n</code></pre>\n<p>Generate text representing that value, in your custom format.</p>\n<pre><code>String output = ld.format( f ) ;\n</code></pre>\n<p>Add your time-of-day and a time zone to determine a moment, a specific point on the timeline.</p>\n<pre><code>LocalTime lt = LocalTime.of( 12 , 30 , 0 ) ;\nZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = ZonedDateTime.of( ld , lt , z ) ;\n</code></pre>\n<p>Calculate elapsed time on a scale of hours-minutes-seconds.</p>\n<pre><code>Duration duration = Duration.between( zdt , ZonedDateTime.now( z ) ) ;\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684673652,
      "question_id": 43650443,
      "body": "<p>i have this code for calculate month and time difference but this code is giving wrong output \nits calculating 3 month even actual month difference is 1 when i test this code and same in time case please help where is the issue in this code....</p>\n\n<pre><code>    public static void updateLinkDownTimeDate(ObjectId TimeDateId, TimeDatePojo TimeDatePojo) {\n            try {\n                List&lt;DBObject&gt; array = new ArrayList&lt;&gt;();\n                BasicDBObject match = new BasicDBObject();\n                match.put(\"_id\", TimeDateId);\n                DBCollection collection = new MongoSetup().getDBCollection(\"TimeDate\");\n                DBObject obj = TimeDatePojo.bsomFromPojo();\n                String newId = (String) obj.get(\"linkId\");\n                SimpleDateFormat dates = new SimpleDateFormat(\"dd-MM-yyyy\");\n                String startDate = dates.format(obj.get(\"startDate\"));\n                String endDate = dates.format(obj.get(\"endDate\"));\n                Date SD = dates.parse(startDate);\n                Date ED = dates.parse(endDate);\n                Calendar cal = Calendar.getInstance();\n                cal.setTime(SD);\n                int month = cal.get(Calendar.MONTH);\n                int year = cal.get(Calendar.YEAR);\n\n                String startTime = (String) obj.get(\"startTime\"); //present start time\n                SimpleDateFormat forms = new SimpleDateFormat(\"dd-MM-yyyy\");\n                SimpleDateFormat form = new SimpleDateFormat(\"HH:mm:ss\");\n                Calendar currentStartDateCalendar = Calendar.getInstance();\n                currentStartDateCalendar.setTime(SD);\n                int currentSDate = currentStartDateCalendar.get(Calendar.DATE);\n                int currentStartMonth = currentStartDateCalendar.get(Calendar.MONTH);\n                int currentStartYear = currentStartDateCalendar.get(Calendar.YEAR);\n                Date STs = form.parse(startTime);\n                Calendar presentStartTime = Calendar.getInstance();\n                presentStartTime.setTime(STs);\n                int currentHour = presentStartTime.get(Calendar.HOUR);\n                int currentMin = presentStartTime.get(Calendar.MINUTE);\n                int currentSec = presentStartTime.get(Calendar.SECOND);\n                currentStartDateCalendar.set(currentStartYear, currentStartMonth, currentSDate, currentHour, currentMin, currentSec);\n                Date PSDate = currentStartDateCalendar.getTime();\n\n                String endTime = (String) obj.get(\"endTime\");  //present end time\n                Date ETs = form.parse(endTime);\n                Calendar currentEndDateCalender = Calendar.getInstance();\n                currentEndDateCalender.setTime(ED);\n                int currentEDate = currentEndDateCalender.get(Calendar.DATE);\n                int currentEndMonth = currentEndDateCalender.get(Calendar.MONTH);\n                int currentEYear = currentEndDateCalender.get(Calendar.YEAR);\n                Calendar presentEndTime = Calendar.getInstance();\n                presentEndTime.setTime(ETs);\n                int currentEndHour = presentEndTime.get(Calendar.HOUR);\n                int currentEndMin = presentEndTime.get(Calendar.MINUTE);\n                int currentEndSec = presentEndTime.get(Calendar.SECOND);\n                currentEndDateCalender.set(currentEYear, currentEndMonth, currentEDate, currentEndHour, currentEndMin, currentEndSec);\n                Date PEDate = currentEndDateCalender.getTime();\n                BasicDBObject getSavedDate = new BasicDBObject();\n                getSavedDate.append(\"_id\", linkDownTimeDateId);\n                getSavedDate.append(\"linkId\", newId);\n                DBObject seeSaved = collection.findOne(getSavedDate);\n                Date savedSDate = (Date) seeSaved.get(\"startDate\");\n                Date savedEDate = (Date) seeSaved.get(\"endDate\");\n                String savedStartTime = (String) seeSaved.get(\"startTime\");\n                String savedEndTime = (String) seeSaved.get(\"endTime\");\n                Date SSD = null;\n                Date SED = null;\n                if (savedSDate.compareTo(SD) == 0 &amp;&amp; savedEDate.compareTo(ED) == 0) {\n                    Calendar saveStartTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(savedSDate);\n                    int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\n                    int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\n                    int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\n                    Date SSTs = form.parse(savedStartTime);\n                    Calendar savedStartTimeCal = Calendar.getInstance();\n                    savedStartTimeCal.setTime(SSTs);\n                    int hour = savedStartTimeCal.get(Calendar.HOUR);\n                    int mins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int secs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\n                    SSD = saveStartTimeCalendar.getTime();\n                    Calendar saveEndTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(savedEDate);\n                    int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\n                    int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\n                    int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\n                    Date ESTs = form.parse(savedEndTime);\n                    Calendar savedEndTimeCal = Calendar.getInstance();\n                    savedEndTimeCal.setTime(ESTs);\n                    int endhour = savedStartTimeCal.get(Calendar.HOUR);\n                    int endmins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int endsecs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\n                    SED = saveEndTimeCalendar.getTime();\n                } else if (savedSDate.compareTo(SD) == -1 || savedEDate.compareTo(ED) == -1) {\n                    Calendar saveStartTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(SD);\n                    int savedYear = saveStartTimeCalendar.get(Calendar.YEAR);\n                    int savedMonth = saveStartTimeCalendar.get(Calendar.MONTH);\n                    int savedDate = saveStartTimeCalendar.get(Calendar.DATE);\n                    Date SSTs = form.parse(savedStartTime);\n                    Calendar savedStartTimeCal = Calendar.getInstance();\n                    savedStartTimeCal.setTime(SSTs);\n                    int hour = savedStartTimeCal.get(Calendar.HOUR);\n                    int mins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int secs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveStartTimeCalendar.set(savedYear, savedMonth, savedDate, hour, mins, secs);\n                    SSD = saveStartTimeCalendar.getTime();\n                    Calendar saveEndTimeCalendar = Calendar.getInstance();\n                    saveStartTimeCalendar.setTime(ED);\n                    int savedEndYear = saveEndTimeCalendar.get(Calendar.YEAR);\n                    int savedEndMonth = saveEndTimeCalendar.get(Calendar.MONTH);\n                    int savedEndDates = saveEndTimeCalendar.get(Calendar.DATE);\n                    Date ESTs = form.parse(savedEndTime);\n                    Calendar savedEndTimeCal = Calendar.getInstance();\n                    savedEndTimeCal.setTime(ESTs);\n                    int endhour = savedStartTimeCal.get(Calendar.HOUR);\n                    int endmins = savedStartTimeCal.get(Calendar.MINUTE);\n                    int endsecs = savedStartTimeCal.get(Calendar.SECOND);\n                    saveEndTimeCalendar.set(savedEndYear, savedEndMonth, savedEndDates, endhour, endmins, endsecs);\n                    SED = saveEndTimeCalendar.getTime();\n                }\n                List&lt;DBObject&gt; lists = (List&lt;DBObject&gt;) seeSaved.get(\"linkDownTime\");\n                int down = 0;\n                for (DBObject dating : lists) {\n                    down = (int) dating.get(\"downTime\"); //saved down time\n                }\n                String startHour = \"00:00:00\";\n                String endHour = \"24:00:00\";\n                long minutesInOneDay = 1440;\n                int numberOfDays = 0;\n                long dateDifference = 0l;\n                int totalCalculatedMins = 0;\n                try {\n                    dateDifference = ED.getTime() - SD.getTime();\n                    long days = dateDifference / (24 * 60 * 60 * 1000);\n                    numberOfDays = (int) days;\n                    if (numberOfDays == 0) {\n                        int min = (int) minutesInOneDay;\n                        SimpleDateFormat format2 = new SimpleDateFormat(\"HH:mm:ss\");\n                        Date parsedStartTime = format2.parse(startTime);\n                        Date parsedEndTime = format2.parse(endTime);\n                        Date parsedOriginalStartHour = format2.parse(startHour);\n                        Date parsedOriginalEndHour = format2.parse(endHour);\n                        long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\n                        long excludedStartMins = minutesInOneDay - (excludeStartTime / (60 * 1000));\n                        int excludedMins = (int) excludedStartMins;\n                        long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\n                        long excludeEndMins = 1440 - (excludeEndTime / (60 * 1000));\n                        int excludeMins2 = (int) excludeEndMins;\n                        long calculation = min - excludedMins - excludeMins2;\n                        totalCalculatedMins = (int) calculation;\n                    } else {\n                        long minuetes = (minutesInOneDay * numberOfDays);\n                        int min = (int) minuetes;\n                        SimpleDateFormat format2 = new SimpleDateFormat(\"HH:mm:ss\");\n                        Date parsedStartTime = format2.parse(startTime);\n                        Date parsedEndTime = format2.parse(endTime);\n                        Date parsedOriginalStartHour = format2.parse(startHour);\n                        Date parsedOriginalEndHour = format2.parse(endHour);\n                        long excludeStartTime = parsedOriginalEndHour.getTime() - parsedStartTime.getTime();\n                        long excludedStartMins = excludeStartTime / (60 * 1000);\n                        int excludedMins = (int) excludedStartMins;\n                        long excludeEndTime = parsedEndTime.getTime() - parsedOriginalStartHour.getTime();\n                        long excludeEndMins = 1440 + (-(excludeEndTime / (60 * 1000)));\n                        int excludeMins2 = (int) excludeEndMins;\n                        long calculation = min + excludedMins - excludeMins2;\n                        totalCalculatedMins = (int) calculation;\n                    }\n                } catch (Exception e) {\n                    System.out.println(\"Exception being :-\" + e);\n                }\n                DBObject sub = new BasicDBObject();\n                sub.put(\"linkId\", newId);\n                sub.put(\"year\", year);\n                sub.put(\"month\", month);\n                sub.put(\"downTime\", totalCalculatedMins);\n                array.add(sub);\n                obj.put(\"linkDownTime\", array);\n                BasicDBObject update = new BasicDBObject();\n                update.put(\"$set\", obj);\n                collection.update(match, update, true, false);\n                BasicDBObject newQuery = new BasicDBObject(\"linkId\", obj.get(\"linkId\"))\n                        .append(\"startDate\", obj.get(\"startDate\"))\n                        .append(\"endDate\", obj.get(\"endDate\"));\n                DBObject findNewQuery = collection.findOne(newQuery);\n                DBCollection collection2 = new MongoSetup().getDBCollection(\"linkTotalDownTime\");\n                List&lt;DBObject&gt; list = (List&lt;DBObject&gt;) findNewQuery.get(\"linkDownTime\");\n                for (DBObject data : list) {\n                    String linkId = (String) data.get(\"linkId\");\n                    int years = (int) data.get(\"year\");\n                    int months = (int) data.get(\"month\");\n                    int downTime = (int) data.get(\"downTime\"); // current downTime \n\n                    BasicDBObject look = new BasicDBObject();\n                    look.append(\"linkID\", linkId).append(\"Year\", year).append(\"month\", month);\n                    DBObject findData = collection2.findOne(look);\n                    int dataget = (int) findData.get(\"totaldownTime\"); //totaldowntime \n                    int finalValue = 0;\n                    int finalTotalValue = 0;\n                    if (collection2.count() == 1) {\n                        if (PSDate.compareTo(SSD) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        } else if (PSDate.compareTo(SSD) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        }\n                    } else if (collection2.count() &gt; 1) {\n                        if (PSDate.compareTo(SSD) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        } else if (PSDate.compareTo(SSD) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == 1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget + finalValue);\n                            }\n                        } else if (PEDate.compareTo(SED) == -1) {\n                            if (downTime &gt; down) {\n                                finalValue = downTime - down;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            } else if (down &gt; downTime) {\n                                finalValue = down - downTime;\n                                finalTotalValue = (int) (dataget - finalValue);\n                            }\n                        }\n                    }\n                    BasicDBObject update_two = new BasicDBObject();\n                    update_two.put(\"linkID\", linkId);\n                    update_two.put(\"Year\", years);\n                    update_two.put(\"month\", months);\n                    update_two.put(\"totaldownTime\", finalTotalValue);\n                    collection2.update(findData, update_two, true, false);\n                }\n                System.out.println(\"Updated Successfully ...\");\n            } catch (Exception ex) {\n                ex.printStackTrace();\n            }\n        }\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548418,
          "body": "What are the input, actual output and expected output?"
        },
        {
          "comment_id": 134548576,
          "body": "I can&#39;t directly compare them because in this website: <a href=\"https://www.dynamicmath.xyz/fourier-epicycles/\" rel=\"nofollow noreferrer\">dynamicmath.xyz/fourier-epicycles</a> I can not directly input the sample points (as x and y coordinates) so I have to draw a new input. However if I draw similar inputs, for example a rectangle, I can see that the demo in the website has lesser amplitudes as frequency increases. In my function, the amplitude generally continues to decrease but at the end it increases again. I know the points being inputted are correct, I have checked those. If you have any particular inputs, I can run and tell you my results."
        },
        {
          "comment_id": 134548682,
          "body": "Questions in Stackoverlow should be self contained."
        }
      ],
      "last_activity_date": 1684673242,
      "question_id": 76299934,
      "body": "<p>I am working on a project to draw a given figure using epicycles (by DFT). I am following this website: <a href=\"https://www.instructables.com/Drawing-With-Discrete-Fourier-Transform/\" rel=\"nofollow noreferrer\">https://www.instructables.com/Drawing-With-Discrete-Fourier-Transform/</a> but I don't seem to be getting correct values for the amplitudes because for any sample of points, the amplitude increases in the end (at higher frequencies) while I don't think it should - at least not according to the examples in the website.</p>\n<p>The function takes a double[][] as input containing x and y coordinates of sample points and Points.n is the number of sample points. Here is my DFT function:</p>\n<pre><code>public class Dft {\n    public static double[][] dft(double[][] psamples){\n        double[][] result = new double[Points.n][2];\n        for (int i = 0; i &lt; Points.n; i++){\n            Complex x_i = new Complex(0, 0);\n            for (int j = 0; j &lt; Points.n; j++){\n                Complex sample = new Complex(psamples[j][0], psamples[j][1]);\n                double root = Math.PI*2*i*j/Points.n;\n                Complex unity = new Complex(Math.cos(root), -Math.sin(root));\n                x_i = Complex.add(x_i, Complex.multiply(sample, unity));\n            }\n            result[i][0] = x_i.amp()/Points.n; //amplitude\n            result[i][1] = x_i.angle(); //phase change\n            //frequency is equal to the index number i\n            System.out.println(i + &quot; amp: &quot; + result[i][0] + &quot; phase change: &quot; + result[i][1]);\n        }\n        return result;\n    } \n}\n\n</code></pre>\n<p>The Complex class is :</p>\n<pre><code>public class Complex {\n    double[] num = {0,0};\n    public Complex(double a, double b){\n        num[0] = a;\n        num[1] = b;\n    }\n    public void setReal(double a){\n        num[0] = a;\n    }\n    public void setImaginary(double b){\n        num[1] = b;\n    }\n    public double getReal(){\n        return num[0];\n    }\n    public double getImaginary(){\n        return num[1];\n    }\n    public static Complex add(Complex a, Complex b){\n        Complex result = new Complex(a.getReal()+b.getReal(), a.getImaginary() + b.getImaginary());\n        return result;\n    }\n    public static Complex euler(double r, double theta){\n        Complex result = new Complex(r*Math.cos(theta), r*Math.sin(theta));\n        return result;\n    }\n    public static Complex multiply(Complex a, Complex b){\n        Complex result = new Complex(a.getReal()*b.getReal() - a.getImaginary()*b.getImaginary(), a.getReal()*b.getImaginary() + a.getImaginary()*b.getReal());\n        return result;\n    }\n    public double amp(){\n        double result = Math.sqrt(num[0]*num[0] + num[1]*num[1]);\n        return result;\n    }\n    public double angle(){\n        if (num[0] == 0){\n            if (num[1]&gt;0) return Math.PI/2;\n            else if (num[1]&lt;0) return -Math.PI/2;\n            else return 0;\n        }\n        else {\n        double result = Math.atan2(num[1],num[0]);\n        return result;\n        }\n    }\n} \n\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 93362265,
          "body": "Just for the record: you understand that a prerequisite for binary search is that your array/list is already sorted? Is that the case here?"
        },
        {
          "comment_id": 93362298,
          "body": "&quot;I was too lazy&quot; you are supremely lazy if you can&#39;t be bothered to do s/eihcle/ehicle/g."
        },
        {
          "comment_id": 93362382,
          "body": "@AndyTurner yes :)"
        },
        {
          "comment_id": 93362389,
          "body": "@GhostCat apologies, see the edited question."
        }
      ],
      "answers": [
        {
          "answer_id": 53238111,
          "body": "<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#binarySearch-java.util.List-T-java.util.Comparator-\" rel=\"nofollow noreferrer\"><code>Collections#binarySearch</code></a> searches a <code>List</code> for the same type of value that the list holds. Here, you're trying to search a list of vehicles with a string, and thus getting the error your shared.<br/>\nOne approach is to create a fake vehicle just so its model can be searched:</p>\n<pre><code>Vehicle modelDummy = new Vehicle();\nmodelDummy.setModel(search);\nint index = Collections.binarySearch(vehicles, modelDummy, comp);\n</code></pre>\n<p>Note that in order to use <code>binarySearch</code> like that the list must be sorted according to the <code>Comparator</code> you provide (i.e., sorted according to the model in this case). If this assumption is not true, you'll have to use an O(n) search. E.g.:</p>\n<pre><code>Vehicle vehicle = vehicles.stream().filter(v -&gt; v.getModel().eqauls(search)).findFirst();\n</code></pre>\n"
        },
        {
          "answer_id": 53238223,
          "body": "<p>Create a view of the list:</p>\n\n<pre><code>List&lt;String&gt; view = new AbstractList&lt;String&gt;() {\n  @Override public int size() {\n    return vehicles.size();\n  }\n\n  @Override public String get(int i) {\n    return vehicles.get(i).getModel();\n  }\n};\n</code></pre>\n\n<p>Then apply binary search to the view.</p>\n\n<pre><code>int index = Collections.binarySearch(view, search);\n</code></pre>\n\n<p>Note that whilst it would work using an anonymous class, like this, it would be better to define a named class (e.g. a nested class, or even a local class), in order that it can both <code>extend AbstractList</code> and <code>implement RandomAccess</code>, so that the binary search knows it can access efficiently by index.</p>\n"
        },
        {
          "answer_id": 76299961,
          "body": "<p>Since this branch contains both correct solutions and it is both forbidden to use in my task, I will write my own, at the same time I will ask people to evaluate whether it is correct (the decision was made, tests passed)?\nIf you looking for vehicles by model(String model):</p>\n<pre><code>int index = Collections.binarySearch(vehicles, model, new Comparator&lt;Object&gt;(){\n        @Override\n        public int compare(Object o1, Object o2) {\n            Vehicle veh = (Vehicle)o1;\n            String str = (String) o2;\n            return veh.getModel().compareTo(str);\n        }\n    });\n</code></pre>\n<p>What do you think?</p>\n"
        }
      ],
      "last_activity_date": 1684673205,
      "question_id": 53238038,
      "body": "<p>I have tried all the answers from the related questions, like following:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/40196002/implement-binary-search-using-the-collections-binarysearch-signature\">Implement binary search using the `Collections.binarySearch` signature</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30743531/cant-use-binary-search-with-object-arraylist\">Can&#39;t use binary search with Object Arraylist?</a></p>\n\n<p>But none of them have worked for me.</p>\n\n<p>The thing is that I want to do <code>binarySearch()</code> to find an object with a particular attribute in an <code>ArrayList</code>.</p>\n\n<p>I am using the following code for this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class SearchingThread extends Thread {\n\n    private String search;\n    private ArrayList&lt;Vehicle&gt; vehicles;\n\n    public SearchingThread(String search, ArrayList&lt;Vehicle&gt; vehicles) {\n        this.search = search;\n        this.vehicles = vehicles;\n    }\n\n    public void run() {\n\n        Comparator&lt;Vehicle&gt; comp = new Comparator&lt;Vehicle&gt;() {\n\n            @Override\n            public int compare(Vehicle o1, Vehicle o2) {\n                return o1.getModel().compareTo(o2.getModel());\n            }\n\n        };\n\n        int index = Collections.binarySearch(vehicles, search, comp);\n\n\n\n    }\n\n}\n</code></pre>\n\n<p>Here <code>search</code> is the variable with the <code>model</code> that I want to search in the ArrayList <code>vehicles</code>.</p>\n\n<p>I am getting the following error for this:</p>\n\n<blockquote>\n  <p>The method binarySearch(List, T, Comparator) in the type Collections is not applicable for the arguments (ArrayList, String, Comparator)</p>\n</blockquote>\n\n<p>I am not able to use it, can anyone help me understand the cause and solution to the error.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Sorry for not posting this before, sorting is not an issue. I have sorted the array list accordingly beforehand.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134514958,
          "body": "Is that the password for the gmail account?  or an apps password?  is there any more to the error message?"
        },
        {
          "comment_id": 134517060,
          "body": "No it&#39;s not my password. I recovered the password from the gmail account from the &quot;Application passwords&quot; section. About the error, it just displays this warning in the console, no error"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134532053,
              "body": "I tried this option and tested sending email with groovy in hac and it worked. but when I use the email process in hybris, there is always this warning."
            },
            {
              "comment_id": 134537074,
              "body": "please share full stack trace of the logs."
            }
          ],
          "answer_id": 76289287,
          "body": "<p><strong>Cause</strong></p>\n<p>Sometimes, Google will disable access to less secure or other apps to protect your account from potential vulnerabilities. This setting can be turned off, or two factor authentication can be enabled for the account <code>(recommended)</code>.</p>\n<p><strong>Resolution</strong></p>\n<p><code>In most cases the issue can be resolved by setting up two-step verification on Google.</code></p>\n<p>Enable two-step verification for the account via this link : Google Two Steps Verification.</p>\n<p>Generate a specific password via this link : Google Specific Passwords.</p>\n<p>Use the generated specific password in configuration below:\nmail.smtp.password=&lt;&quot;generated specific password&quot;&gt;</p>\n<p>See Also</p>\n<p><a href=\"https://support.google.com/mail/answer/7126229?visit_id=636795778044562052-2774445042&amp;rd=2#cantsignin\" rel=\"nofollow noreferrer\">https://support.google.com/mail/answer/7126229?visit_id=636795778044562052-2774445042&amp;rd=2#cantsignin</a></p>\n<p>Alternate way to test email functionality locally:</p>\n<p><a href=\"https://groundlevelhybris.wordpress.com/2020/03/20/email-not-getting-triggered-in-hybris-local-environment/\" rel=\"nofollow noreferrer\">https://groundlevelhybris.wordpress.com/2020/03/20/email-not-getting-triggered-in-hybris-local-environment/</a></p>\n"
        }
      ],
      "last_activity_date": 1684673142,
      "question_id": 76280002,
      "body": "<p>I am trying to send an email with sap commerce.\nI have well configured the <strong><code>local.properties</code></strong> of the config extension</p>\n<pre><code>mail.smtp.server=smtp.gmail.com\n\nmail.smtp.host=smtp.gmail.com\nmail.smtp.port=587\nmail.from=sapcommerce14@gmail.com\nmail.smtp.ssl.protocols=TLSv1.2\n\nmail.smtp.user=sapcommerce14@gmail.com\nmail.smtp.password=********\n\nmail.smtp.starttls.enable=true\nmail.smtp.auth=true\n</code></pre>\n<p>but after the execution of the job and when sending the email a warning is displayed</p>\n<blockquote>\n<p>e-mail is sent to sourour siala</p>\n<p>from email page : sapcommerce14@gmail.com</p>\n<p>DiscountNotificationEmailContext init</p>\n<p>INFO  [TaskExecutor-master-21338-ProcessTask [8796928541622]] [GenerateEmailAction] Email message generated</p>\n<p>INFO  [TaskExecutor-master-21341-ProcessTask [8796928574390]] [DefaultEmailService] Sending Email [8796294879296] To [[sourour.siala@enis.tn]] From [sapcommerce14@gmail.com] Subject [Exclusive Promotions on Our Products - Don't Miss Out!!  ]</p>\n<p>WARN  [TaskExecutor-master-21341-ProcessTask [8796928574390]] [DefaultEmailService] Could not send e-mail pk [8796294879296] subject [Exclusive Promotions on Our Products - Don't Miss Out!!\n] cause: Sending the email to the following server failed : smtp.gmail.com:587</p>\n</blockquote>\n<p>Here are the steps of my work</p>\n<ol>\n<li><p>I created a &quot;ListFavoritesProcess&quot; model  extends &quot;StoreFrontCustomerProcess&quot; with one attribute</p>\n<pre><code>&lt;attribute qualifier=&quot;products&quot; type=&quot;ProductList&quot;&gt;\n &lt;persistence type=&quot;property&quot; /&gt;\n &lt;description&gt;Attribute contains the products that will be used in the process&lt;/description&gt;\n&lt;/attribute&gt;\n</code></pre>\n</li>\n<li><p>then I created the process.xml file</p>\n</li>\n<li><p>then I created a class to start the process</p>\n<pre><code>public Boolean discountNotificationEmailprocess(final CustomerModel customer, final Set&lt;ProductModel&gt; products)\n{\nBoolean bool = false;\nif ((customer != null) &amp;&amp; CollectionUtils.isNotEmpty(products))\n{\n    final ListFavoritesProcessModel listFavoritesProcessModel = getBusinessProcessService()\n     .createProcess(&quot;listFavoritesProcessModel-&quot; + customer.getUid() + &quot;-&quot;System.currentTimeMillis() + &quot;-&quot;+ Thread.currentThread().getId(), &quot;DiscountNotificationEmailProcess&quot;);\nlistFavoritesProcessModel.setCustomer(customer);\n         listFavoritesProcessModel.setStore(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;));\n         listFavoritesProcessModel.setSite(getBaseSiteService().getBaseSiteForUID(&quot;electronics&quot;));\n         listFavoritesProcessModel.setLanguage(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;).getDefaultLanguage());\n         listFavoritesProcessModel.setCurrency(getBaseStoreService().getBaseStoreForUid(&quot;electronics&quot;).getDefaultCurrency());\nlistFavoritesProcessModel.setProducts(new ArrayList&lt;ProductModel&gt;(products));\ngetModelService().save(listFavoritesProcessModel);\ngetBusinessProcessService().startProcess(listFavoritesProcessModel);\nbool = true;\n}\nreturn bool;\n}\n</code></pre>\n</li>\n<li><p>then I created the context which extends from AbstractEmailContext&lt;ListFavoritesProcessModel&gt;</p>\n<pre><code>@Override\npublic void init(final ListFavoritesProcessModel listFavoritesProcessModel, final EmailPageModel emailPageModel)\n{\nsuper.init(listFavoritesProcessModel, emailPageModel);\nproducts = new ArrayList&lt;&gt;();\nfinal List&lt;ProductModel&gt; productsModel = listFavoritesProcessModel.getProducts();\nproductsModel.forEach(productModel -&gt; {\nfinal ProductData productData = getProductFacade().getProductForOptions(productModel,\nArrays.asList(ProductOption.BASIC, ProductOption.PRICE, ProductOption.STOCK, ProductOption.PROMOTIONS));\nproducts.add(productData);\n});\nput(EMAIL, getCustomerEmailResolutionService().getEmailForCustomer(getCustomer(listFavoritesProcessModel)));\nput(DISPLAY_NAME, listFavoritesProcessModel.getCustomer().getName());\nput(FROM_EMAIL, Config.getParameter(&quot;mail.smtp.user&quot;));\nput(FROM_DISPLAY_NAME, &quot;sap&quot;);\nSystem.out.println(&quot;DiscountNotificationEmailContext init&quot;);\n}\n</code></pre>\n</li>\n</ol>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134522632,
          "body": "Please give your complete pom file. Also add your security config."
        },
        {
          "comment_id": 134526830,
          "body": "@ch4mp Thanks for your comment. I added the requested files."
        },
        {
          "comment_id": 134527693,
          "body": "why are you building your own JWT handling when spring security already has full support for handling JWTs? whats the point of using a security framework if you not intend to use its features?"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134529133,
              "body": "I currently cannot change the security configuration itself. Can you elaborate on the second option. I also added some clarification in regards for it in the original post."
            },
            {
              "comment_id": 134531815,
              "body": "It&#39;s already elaborated: remove <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code>, add <code>@WithMockUser</code>  next to <code>@Test</code>"
            },
            {
              "comment_id": 134548178,
              "body": "I updated the post and added the <b>EDIT</b> section. As you said, I removed <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code> and added <code>@WithMockUser</code> as method annotation. When this didn&#39;t work I tried to add a user with <code>.with(user(&quot;user&quot;))</code> but it also did not work. I also posted the error message I get when added the annotation in the <b>EDIT</b> section. Is there another way to test the controller without simply skipping SpringSecurity with <code>@AutoConfigureMockMvc(addFilters = false)</code>? Thans for your input!"
            },
            {
              "comment_id": 134548697,
              "body": "What is your <code>@Controller</code> code? It looks like the exception is not in security anymore."
            }
          ],
          "answer_id": 76287904,
          "body": "<p>I designed the <code>jwt()</code> request post-processor for MockMvc that you are using in your test, to populate the test security context with a <code>JwtAuthenticationToken</code> instance.</p>\n<p>This adapted when configuring your web-security with <code>http.resourceServer().jwt()</code>, and requires to have <code>spring-security-oauth2-resource-server</code> as dependency (which is a transient dependency of <code>spring-boot-starter-oauth2-resource-server</code>, not <code>spring-boot-starter-security</code>).</p>\n<p>Two options for you:</p>\n<ul>\n<li>change your security configuration to use spring-security for resource servers to validate access-tokens and populate the security context with <code>JwtAuthenticationToken</code> instances: this will require to replace what you did arround <code>io.jsonwebtoken</code> with <code>spring-security-oauth2-reource-server</code> standard configuration</li>\n<li>use something else than the <code>jwt()</code> post-processor to populate your test security context. If the Authentication type at runtime is <code>UsernamePasswordAuthenticationToken</code>, maybe the <code>@WithMockUser</code> annotation?</li>\n</ul>\n<p>I would favor the first option.</p>\n"
        }
      ],
      "last_activity_date": 1684673054,
      "question_id": 76284526,
      "body": "<p>I'm trying to write tests for controller methods. The application is secured with spring security and jwt-Token authentication. For the test I want to use requests to the controllers url and check if I get the responses I expect.</p>\n<p>This is my current setup:</p>\n<pre><code>@WebMvcTest(MyController.class)\n@Import({ MyWebSecurityConfig.class })\nclass MyControllerTest\n{\n    @Autowired\n    private MockMvc                 mockMvc;\n\n    // Autowired in JWTAuthorizationFilter\n    // Throws 'FailedToLoadContext' if its not mocked\n    @MockBean\n    JWTTokenUtils                   jwtTokenUtils;\n \n    // implementation of OncePerRequestFilter\n    @MockBean\n    JWTAuthorizationFilter          jwtAuthorizationFilter; \n\n    @MockBean\n    private MyService myService;\n\n    private final String            BASE_URL = &quot;/v1/endPoint&quot;;\n\n    @Test\n    void testGetByIdShouldReturnStatus200() throws Throwable\n    {\n\n        when(this.myService.getById(ArgumentMatchers.anyInt())).thenReturn(new TestBean());\n\n        ResultActions response = this.mockMvc.perform(\n             get(this.BASE_URL + &quot;/1&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .with(csrf())\n                .with(SecurityMockMvcRequestPostProcessors.jwt()\n                    /* .authorities(List.of(new SimpleGrantedAuthority(&quot;test&quot;))) */\n                )\n             );\n\n        response.andExpect(status().is2xxSuccessful()).andDo(print());\n\n    }\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mkhbrn.blume&lt;/groupId&gt;\n    &lt;artifactId&gt;Blume&lt;/artifactId&gt;\n    &lt;version&gt;develop&lt;/version&gt;\n    &lt;name&gt;Blume&lt;/name&gt;\n    &lt;description&gt;Blume - Analyze the flower growthcycle&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.0&lt;/spring-cloud.version&gt;\n        &lt;log4j2.version&gt;2.17.0&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-archiver&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.26&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;executable&gt;true&lt;/executable&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>My SecurityConfiguration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class MyWebSecurityConfig extends WebSecurityConfigurerAdapter\n{\n    @Bean\n    public JWTAuthorizationFilter authorizationJwtTokenFilter()\n    {\n        return new JWTAuthorizationFilter();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .authorizeRequests()\n                    .anyRequest().permitAll();\n        http.addFilter(new UsernamePasswordAuthenticationFilter(authenticationManager()));\n    }\n\n}\n</code></pre>\n<p>I also tried adding authorities to <code>jwt()</code> but I get the following error message in SpringToolSuite.</p>\n<blockquote>\n<p>The type org.springframework.security.oauth2.jwt.Jwt cannot be\nresolved.  It is indirectly referenced from required .class files</p>\n</blockquote>\n<p>With the same setup and the authorities I get the following in IntelliJ:</p>\n<blockquote>\n<p>java: cannot access org.springframework.security.oauth2.jwt.Jwt<br />\nclass file for org.springframework.security.oauth2.jwt.Jwt not found</p>\n</blockquote>\n<p><strong>EDIT</strong></p>\n<p>As per the first answer from @ch4amp I removed <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code> and tried adding <code>@WithMockUser</code> at class and method level but I did not work. I also tried to add a user to the request itself with <code>.with(user(&quot;user&quot;))</code> but that also did not work.\nEach time I get the following error:</p>\n<pre><code>java.lang.IllegalArgumentException: Attribute name must not be null\n    at org.springframework.util.Assert.notNull(Assert.java:201)\n    at org.springframework.mock.web.MockHttpServletRequest.setAttribute(MockHttpServletRequest.java:762)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:257)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:134)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:183)\n    at com.mkhbrn.blume.controller.MyControllerTest.testGetByIdShouldReturnStatus200(MyControllerTest.java:95)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:688)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:210)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:206)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:84)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n\n\n</code></pre>\n"
    },
    {
      "answers": [
        {
          "answer_id": 76299948,
          "body": "<p>Wrong spelling of of the entity field <code>userName</code>.</p>\n<pre><code>&lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p>Should be:</p>\n<pre><code>&lt;td th:text=&quot;${user.userName}&quot;&gt;&lt;/td&gt;\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684672810,
      "question_id": 76299822,
      "body": "<p>I have the following controller</p>\n<pre><code>package com.website.school;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/users&quot;)\n    public String index(Model model) {\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\n        return &quot;users&quot;;\n    }\n}\n\n</code></pre>\n<p>and a users.html file</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;h1&gt;ljkñafsñjafnjdfbhjñsdbfjñsdfvhjsdf&lt;/h1&gt;\n        &lt;table class=&quot;table&quot;&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;Email&lt;/th&gt;\n                    &lt;th&gt;Name&lt;/th&gt;\n                    &lt;th&gt;Username&lt;/th&gt;\n                    &lt;th&gt;Password&lt;/th&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n                &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\n                    &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<p>But whenever I run my application and navigate to /users I get the following error</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/users.html]&quot;)\n</code></pre>\n<p>If I comment out the tbody the page loads as expected\nI also know that I have a connection with my database because I made a test class that is a RestController and it returns the json I expected</p>\n<h3>My service class</h3>\n<pre><code>package com.website.school;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n    \n    @Autowired\n    private UserRepository userRepository;\n\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n}\n\n</code></pre>\n<h3>My Model class</h3>\n<pre><code>package com.website.school;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;user&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;isAdmin&quot;)\n    private boolean isAdmin;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n\n</code></pre>\n<h3>My repository</h3>\n<pre><code>package com.website.school;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n}\n\n</code></pre>\n"
    },
    {
      "answers": [
        {
          "comments": [
            {
              "comment_id": 123509384,
              "body": "You got the right idea, the webdriver wasn&#39;t instantiated, but you missed the reason why."
            },
            {
              "comment_id": 123528924,
              "body": "Thats great thank you so much."
            }
          ],
          "answer_id": 69870148,
          "body": "<p>The casting of the Webdriver interface with Chromedriver has only been declared in your @Before step (where it is not used), the other steps are unaware. Amend to the following:</p>\n<pre><code>public class hotelBookingFormPage {\n\n    public WebDriver driver = new ChromeDriver();\n\n    @Before\n    public void startBrowser() {\n        WebDriverManager.chromedriver().setup();\n    }\n\n    @After\n    public void closeBrowser() {\n        driver.close();\n        driver.quit();\n    }\n\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\n    public void iNavigateToTheHotelBookingFormPage() {\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\n    }\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 123528931,
              "body": "Thats great thank you so much."
            }
          ],
          "answer_id": 69871192,
          "body": "<pre><code>import org.junit.After;\nimport org.junit.Before;\n</code></pre>\n<p>With this you're importing the JUnit hook annotations, not the Cucumber ones. So Cucumber doesn't know you want to run the annotated methods before and after each scenario.</p>\n<p>Cucumbers annotations are in a different package:</p>\n<pre><code>import io.cucumber.java.en.Before;\nimport io.cucumber.java.en.After;\n</code></pre>\n"
        },
        {
          "answer_id": 76299942,
          "body": "<p>public class BaseClass {</p>\n<pre><code>//every time we need to open url and browser so we need to create variable for url an dbrowser \n//we have to read url and browser so in base class create object of ReadConfigue class\n\nReadConfigue readconfigue=new ReadConfigue();\n String url=readconfigue.getbaseurl();   //store getbaseurl and getbrowser in string \n String browser=readconfigue.getbrowser();\n public static WebDriver driver;\n public static Logger logger;\n \n \n //create method of launch broswer \n @BeforeClass\n public void setup() \n {\n     String  browser=&quot;Chrome&quot;;\n     switch(browser.toLowerCase())\n     {\n     case &quot;Chrome&quot;:\n         WebDriverManager.chromedriver().setup();\n         driver=new ChromeDriver();\n         break;\n         \n/*   case &quot;msedge&quot;:\n         WebDriverManager.edgedriver().setup();\n         driver=new EdgeDriver();\n         break;\n\n     case &quot;firefox&quot;:\n         WebDriverManager.firefoxdriver().setup();\n         driver=new FirefoxDriver();\n         break; */\n         default:\n         driver=null;\n         break;\n         \n     }\n     driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    \n     // for logging create object of logger\n     //create static varible of logger  outside class and intitize here\n     logger =LogManager.getLogger(&quot;AutomationFramework&quot;);\n     \n }\n\n @AfterClass\n public void tearDown() \n {\n     driver.close();\n     driver.quit();\n }\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684672729,
      "question_id": 69868702,
      "body": "<p>I am getting the error below. I am new to Java and thus any help would be appreciated.</p>\n<p><code>Cannot invoke &quot;org.openqa.selenium.WebDriver.get(String)&quot; because &quot;this.driver&quot; is null</code></p>\n<p>Please see the code below:</p>\n<pre><code>package steps;\n\nimport io.cucumber.java.en.Given;\nimport io.github.bonigarcia.wdm.WebDriverManager;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class hotelBookingFormPage {\n\n    public WebDriver driver;\n\n    @Before\n    public void startBrowser() {\n        WebDriverManager.chromedriver().setup();\n        driver = new ChromeDriver();\n    }\n\n    @After\n    public void closeBrowser() {\n        driver.close();\n        driver.quit();\n    }\n\n    @Given(&quot;I navigate to the hotel booking form page&quot;)\n    public void iNavigateToTheHotelBookingFormPage() {\n        driver.get(&quot;http://hotel-test.equalexperts.io/&quot;);\n    }\n</code></pre>\n<p>Any help would be appreciated.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548099,
          "body": "<a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+java+classnotfoundexception+com.mysql.jdbc.driver\" rel=\"nofollow noreferrer\">12,000+ similar questions</a>"
        }
      ],
      "last_activity_date": 1684672606,
      "question_id": 76299904,
      "body": "<p>How to fix java.lang.classnotfoundexception com.mysql.jdbc.driver</p>\n<p>The database connection is successful, but the login page comes with an error when I run the login.java file. How to fix it.</p>\n<p><a href=\"https://i.stack.imgur.com/Oxg3P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oxg3P.png\" alt=\"Login.java\" /></a>\n<a href=\"https://i.stack.imgur.com/To3P8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/To3P8.png\" alt=\"Database connection java file\" /></a>\n<a href=\"https://i.stack.imgur.com/HUx5x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HUx5x.png\" alt=\"Database connection successful\" /></a> I used java language, MySQL database and XAMPP server in localhost.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 39611104,
          "body": "No. You cannot access arbitrary memory in Java. But, you can share memory between two JVMs. Use JNI and ipcs. Or sockets over loopback."
        },
        {
          "comment_id": 39611122,
          "body": "AFAIK, there&#39;s nothing built into the core API.  You could use <code>Socket</code>s to communicate between each other or even via a third party"
        },
        {
          "comment_id": 39611123,
          "body": "who JVMs or two JVMs??? please correct the question title."
        },
        {
          "comment_id": 39611136,
          "body": "No, even if this was one JVM you can not access a pre-defined memory location.  You can <code>share</code> memory space by using a multi-tenanted JVM like waratek"
        },
        {
          "comment_id": 39611284,
          "body": "You can think of serializing the objects into a file and refer it from the other jvm"
        },
        {
          "comment_id": 39611359,
          "body": "What is your purpose of doing. If you want to share info between two jvms , then you can go for a RMI."
        },
        {
          "comment_id": 39611382,
          "body": "Depending on the use case, it may be possible to use memory mapped IO to achieve something roughly similar to shared memory. See <a href=\"http://www.javacodegeeks.com/2013/05/power-of-java-memorymapped-file.html\" rel=\"nofollow noreferrer\">javacodegeeks.com/2013/05/power-of-java-memorymapped-file.ht&zwnj;&#8203;ml</a>"
        },
        {
          "comment_id": 39611723,
          "body": "Why do you want to do this? If it&#39;s so performance-critical that a Unix socket won&#39;t work, Java is probably the wrong choice."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 53317188,
              "body": "&quot;arbitrary memory locations&quot;, yes, <i>as long as you stay within the same process</i>. No OS will let any process read memory from another process! (except for some specific embedded OS). The paging is not the same: <code>0x3f7e</code> is not the same physical address for all processes."
            },
            {
              "comment_id": 53508539,
              "body": "@Matthieu: completely untrue. You can read arbitrary memory locations completely unrestricted."
            },
            {
              "comment_id": 53513712,
              "body": "Did you try your solution? There are ways to hack into another process memory (see <a href=\"http://stackoverflow.com/questions/6016156/accessing-memory-of-other-applications-c\">that other question</a>) but it is very OS specific and needs special privileges. In the end, as you note, it is highly unrecommended. Moreover, the JNI-side has a different memory mapping than the Java-side (arrays can be copied back and forth), which makes it even more difficult to compute the correct hacking address."
            },
            {
              "comment_id": 53520189,
              "body": "@Matthieu: Hacking address? You&#39;d use JNI in both Java programs to call the implementation of the header I gave. One will write, one will read. Is this location what you call &quot;hacking address&quot;?"
            },
            {
              "comment_id": 53524054,
              "body": "What I mean is the two JVM will use different virtual address spaces so data at address e.g. <code>0x3f7e</code> in JVM1 is not the same as data at address <code>0x3f7e</code> in JVM2. From JVM2, if you want to read data from the heap of JVM1, you should get JVM1 PID, copy its heap locally (if you get the permission) and read the data you want at an address that would probably be <code>0x3f7e</code> but maybe not. That&#39;s what I call &quot;hacking address&quot; (<code>0x3f7e</code> in JVM1 seen from JVM2 can be something different from <code>0x3f7e</code>)."
            },
            {
              "comment_id": 53524136,
              "body": "Now that you mention it I&#39;m thinking about opening a new question on that specific topic, I think it is highly OS-dependent :)"
            },
            {
              "comment_id": 70758337,
              "body": "@vach  Care to teach us here how to write to shared memory accessible to different <code>processes</code> via <code>pure java</code> ?  If not then lose the attitude."
            },
            {
              "comment_id": 70764324,
              "body": "Basically the access to shared memory world comes with RandomAccessFile, which allows you to write randomly from process A, but for process B to see your write, it needs to have some sort of busy loop that checks the memory for changes... its up to you to decide how fast you want to see changes, fastest being no delay loop, that will be fastest possible way for 2 processes to communicate via shared memory. However if you dont want to spend some processing power on that, you can simply put some microsecond sleep delay in loop."
            },
            {
              "comment_id": 70764338,
              "body": "Peter Lawrey did a lot in this area. I learned most of what i know from his videos. Note that this sort of speed is 90% not needed in most applications, but in HFT world its a necessity. I was very surprised when i found out that people are doing with java same stuff that was done with C++ before..."
            },
            {
              "comment_id": 70764351,
              "body": "If you want to go down the rabbit hole here is where you start 1. <a href=\"https://www.youtube.com/watch?v=JMEVi_t38uc\" rel=\"nofollow noreferrer\">youtube.com/watch?v=JMEVi_t38uc</a> 2. <a href=\"https://www.youtube.com/watch?v=lWvZDZ-oRt0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=lWvZDZ-oRt0</a>"
            },
            {
              "comment_id": 70764402,
              "body": "People who code in low level world fail to realize that nowadays most of their expert knowledge is applied automatically in JVM as it will optimize an amateur code to a very fast and efficient assembly. Something that really experienced low level engineer will do with significant effort, now is done by any average java developer without him knowing all the low level tricks. However java still has things to do to fully match with Cpp, like value types... This is why performance penalty for using high level language goes down over time."
            },
            {
              "comment_id": 90100207,
              "body": "@Xabster the .dlls will have different addressing spaces (hence different data) and the only way to share memory through them is by using a memory-mapped file, which comes associated with synchronization and etc. I suppose through running a quick sample you might end up thinking you&#39;re reading data from other processes, but in reality all you&#39;re reading is junk left over from discarded page memories that are reused by the .dll. Also, global static variables in .dlls are copied into each process at startup."
            },
            {
              "comment_id": 103439263,
              "body": "So basically the poster thinks that in C this code: <code>int address = 0x01234; int value = *address;</code> will read the value that is stored at physical address 0x01234? Basic security in modern OS (where modern here means &gt; 1990) is based on logical to physical address mapping, and no user-level application can access random physical address."
            },
            {
              "comment_id": 108560771,
              "body": "No modern OS will allow one process to access the memory address space of another.  As the address space of a process is virtual, the actual memory which one process addresses as 0xABCD is different than what any other process addresses as 0xABCD.  The only way for two processes to communicate is with some mechanism explicitly provided by the OS for that purpose (pipes, memory mapped files, etc.).  Of those, java only supports memory mapped files."
            }
          ],
          "answer_id": 25396866,
          "body": "<p>Yes,</p>\n<p>with an intermediate program you can write to and read arbitrary memory locations. You cannot do it purely in Java.</p>\n<p>For example you can write a piece of C++ code that can read an arbitrary memory location and call that via JNI. The same is true in reverse to write to a memory address.</p>\n<p>Write a class definition first for the class that should handle this, for example:</p>\n<pre><code>public class MemTest {\n    public native byte[] readMemory(int address);\n    public native void writeMemory(int address, byte[] values);\n}\n</code></pre>\n<p>Then you compile it. Then you use javah.exe (or linux equivalent) to generate a header for it:</p>\n<pre><code>javah MemTest\n</code></pre>\n<p>Now you write a .cpp file that includes that header and defines the methods. Compile to DLL. To load the .dll you either use the <code>-Djava.library.path</code> JVM parameter with appropriate value, or <code>System.loadLibrary()</code>.</p>\n<p>Note of caution: I do not recommend doing this. There are almost certainly better ways to do what you want to do.</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 76188404,
              "body": "Can you give an example C client to read the data of the Server?"
            },
            {
              "comment_id": 76403045,
              "body": "@Qoros C would require OS specific APIs to deal with memory mapped files, such as mmap or VirtualAlloc. Otherwise the code would look fairly similar. Open the file, map it into the process, then read and write to the returned pointer."
            },
            {
              "comment_id": 120972780,
              "body": "so is this creating a physical file? I don&#39;t want to kill people&#39;s hard drives by constantly streaming read/write onto a disk"
            },
            {
              "comment_id": 127896405,
              "body": "@nullsector76 Exactly (yes, it is creating a physical file). This is keeping me from using this too. You could use a RAM disk, but I don&#39;t think there is a portable way to create a RAM disk in Java. Also, how do you signal something to the other process, e.g. when new data was written, and for synchronisation (if you need that)? There is no mechanism for that either, so you would need to use some sockets additionally."
            }
          ],
          "answer_id": 25397240,
          "body": "<h2><strong>Solution 1:</strong></h2>\n\n<p>The best solution in my opinion is to use memory mapped files. This allows you to share a region of memory between any number of process, including other non java programs. You can't place java objects into a memory mapped file, unless you serialize them. The following example shows that you can communicate between two different process, but you would need to make it much more sophisticated to allow better communication between the processes. I suggest you look at Java's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/package-summary.html\">NIO package</a>, specifically the classes and methods used in the below examples.</p>\n\n<p><strong>Server:</strong></p>\n\n<pre><code>public class Server {\n\n    public static void main( String[] args ) throws Throwable {\n        File f = new File( FILE_NAME );\n\n        FileChannel channel = FileChannel.open( f.toPath(), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE );\n\n        MappedByteBuffer b = channel.map( MapMode.READ_WRITE, 0, 4096 );\n        CharBuffer charBuf = b.asCharBuffer();\n\n        char[] string = \"Hello client\\0\".toCharArray();\n        charBuf.put( string );\n\n        System.out.println( \"Waiting for client.\" );\n        while( charBuf.get( 0 ) != '\\0' );\n        System.out.println( \"Finished waiting.\" );\n    }\n}\n</code></pre>\n\n<p><strong>Client:</strong></p>\n\n<pre><code>public class Client {\n\n    public static void main( String[] args ) throws Throwable {\n        File f = new File( FILE_NAME );\n        FileChannel channel = FileChannel.open( f.toPath(), StandardOpenOption.READ, StandardOpenOption.WRITE, StandardOpenOption.CREATE );\n\n        MappedByteBuffer b = channel.map( MapMode.READ_WRITE, 0, 4096 );\n        CharBuffer charBuf = b.asCharBuffer();\n\n        // Prints 'Hello server'\n        char c;\n        while( ( c = charBuf.get() ) != 0 ) {\n            System.out.print( c );\n        }\n        System.out.println();\n\n        charBuf.put( 0, '\\0' );\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<h2><strong>Solution 2:</strong></h2>\n\n<p>Another solution is to use Java <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\">Sockets</a> to communicate back and forth between processes. This has the added benefit of allowing communication over a network very easily. It could be argued that this is slower than using memory mapped files, but I do not have any benchmarks to back that statement up. I won't post code to implementing this solution, as it can become very complicated to implement a reliable network protocol and is fairly application specific. There are many good networking sites that can be found with quick searches.</p>\n\n<hr>\n\n<p>Now the above examples are if you want to share memory between two different process. If you just want to read/write to arbitrary memory in the current process, there are some warnings you should know first. This goes against the entire principle of the JVM and you really really should not do this in production code. You violate all safety and can very easily crash the JVM if you are not very careful. </p>\n\n<p>That being said, it is quite fun to experiment with. To read/write to arbitrary memory in the current process you can use the <code>sun.misc.Unsafe</code> class. This is provided on all JVMs that I am aware of and have used. An example on how to use the class can be found <a href=\"http://mishadoff.github.io/blog/java-magic-part-4-sun-dot-misc-dot-unsafe/\">here</a>.</p>\n"
        },
        {
          "answer_id": 25397943,
          "body": "<p>Honestly, you don't want to share the same memory. You should send only the data that you need to the other JVM. That being said, in the case you <em>do</em> need the shared memory, other solutions exist.</p>\n\n<p><strong>Sending Data</strong>\nTwo JVMs do not share the same memory access points, so it is impossible to use a reference from one JVM to use in another. A new reference will simply be create because they don't know about each other. </p>\n\n<p>However, you may ship the data to the other JVM, and back in a variety of ways:</p>\n\n<p>1) Using <a href=\"http://docs.oracle.com/javase/tutorial/rmi/designing.html\" rel=\"nofollow noreferrer\">RMI</a>, you can setup a remote server to parse data. I found it a bit of a hassle to set up because it requires security changes and that the data be <code>Serializable</code>. You can find out more at the link.</p>\n\n<p>2) Using a server is the age-old method of sending data to different places. One way to implement this is using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/Socket.html\" rel=\"nofollow noreferrer\"><code>ServerSocket</code></a> and connecting with a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html\" rel=\"nofollow noreferrer\"><code>Socket</code></a> on <code>localhost</code>. Objects still need to be <code>Serializable</code> if you want to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html\" rel=\"nofollow noreferrer\"><code>ObjectOutputStream</code></a>.</p>\n\n<hr>\n\n<p><strong>Sharing Data</strong>\nThis is very dangerous and volatile, low-level, and, well, unsafe (literally).</p>\n\n<p>If you want to use Java code, you can take a look at using <a href=\"https://stackoverflow.com/a/25257911/3308999\"><code>s.m.Unsafe</code></a>, using the correct memory addresses, you will be able to retrieve Objects stored by the backing C/C++ arrays in the OS.</p>\n\n<p>Otherwise, you can use <code>native</code> methods to access the C/C++ arrays yourself, although I have no clue how this could be implemented.</p>\n"
        },
        {
          "answer_id": 38290547,
          "body": "<p>There are some IPC libraries which facilitate use of shared memory via memory-mapped files in Java.</p>\n\n<h3><a href=\"https://github.com/OpenHFT/Chronicle-Queue\" rel=\"noreferrer\">Chronicle-Queue</a></h3>\n\n<p>Chronicle Queue is similar to a non-blocking Java <code>Queue</code>, except you could offer a message in one JVM and poll it in another JVM.</p>\n\n<p>In both JVMs you should create a <code>ChronicleQueue</code> instance in the same FS directory (locate this directory in a memory-mounted FS if you don't need message persistence):</p>\n\n<pre><code>ChronicleQueue ipc = ChronicleQueueBuilder.single(\"/dev/shm/queue-ipc\").build();\n</code></pre>\n\n<p>Write a message in one JVM:</p>\n\n<pre><code>ExcerptAppender appender = ipc.acquireAppender();\nappender.writeDocument(w -&gt; {\n    w.getValueOut().object(message);\n});\n</code></pre>\n\n<p>Read a message in another JVM:</p>\n\n<pre><code>ExcerptTailer tailer = ipc.createTailer();\n// If there is no message, the lambda, passed to the readDocument()\n// method is not called.\ntailer.readDocument(w -&gt; {\n    Message message = w.getValueIn().object(Message.class);\n    // process the message here\n});\n\n// or avoid using lambdas\ntry (DocumentContext dc = tailer.readingDocument()) {\n    if (dc.isPresent()) {\n        Message message = dc.wire().getValueIn().object(Message.class);\n        // process the message here\n    } else {\n        // no message\n    }\n}\n</code></pre>\n\n<h3><a href=\"https://github.com/real-logic/Aeron\" rel=\"noreferrer\">Aeron IPC</a></h3>\n\n<p>Aeron is more than just IPC queue (it is a network communication framework), but it provides an IPC functionality as well. It is similar to Chronicle Queue, one important difference is that it uses <a href=\"https://github.com/real-logic/simple-binary-encoding\" rel=\"noreferrer\">SBE</a> library for message marshalling/demarshalling, while Chronicle Queue uses <a href=\"https://github.com/OpenHFT/Chronicle-Wire\" rel=\"noreferrer\">Chronicle Wire</a>.</p>\n\n<h3><a href=\"https://github.com/OpenHFT/Chronicle-Map\" rel=\"noreferrer\">Chronicle Map</a></h3>\n\n<p>Chronicle Map allows IPC communication by some key. In both JVMs, you should create a map with identical configurations and persisted to the same file (the file should be localed in memory-mounted FS if you don't need actual disk persistence, e. g. in <code>/dev/shm/</code>):</p>\n\n<pre><code>Map&lt;Key, Message&gt; ipc = ChronicleMap\n    .of(Key.class, Message.class)\n    .averageKey(...).averageValue(...).entries(...)\n    .createPersistedTo(new File(\"/dev/shm/jvm-ipc.dat\"));\n</code></pre>\n\n<p>Then in one JVM you could write:</p>\n\n<pre><code>ipc.put(key, message); // publish a message\n</code></pre>\n\n<p>On the reciever JVM:</p>\n\n<pre><code>Message message = ipc.remove(key);\nif (message != null) {\n    // process the message here\n}\n</code></pre>\n"
        },
        {
          "answer_id": 38290745,
          "body": "<p><a href=\"https://en.wikipedia.org/wiki/Distributed_cache\" rel=\"nofollow noreferrer\">Distributed_cache</a> is best solution to address your requirements.</p>\n<blockquote>\n<p>In computing, a distributed cache is an extension of the traditional concept of cache used in a single locale. A distributed cache may span multiple servers so that it can grow in size and in transnational capacity.</p>\n</blockquote>\n<p>Few options:</p>\n<p><a href=\"https://www.terracotta.org/\" rel=\"nofollow noreferrer\">Terracotta</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Oracle_Coherence\" rel=\"nofollow noreferrer\">Oracle_Coherence</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Ehcache\" rel=\"nofollow noreferrer\">Ehcache</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Redis\" rel=\"nofollow noreferrer\">Redis</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Couchbase_Server\" rel=\"nofollow noreferrer\">Couchbase_Server</a></p>\n<p>Useful posts:</p>\n<p><a href=\"https://stackoverflow.com/questions/2761168/what-is-terracotta\">What is Terracotta?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/2761177/is-terracotta-a-distributed-cache\">Is Terracotta a distributed cache?</a></p>\n<p>For my use case with concurrent heavy writes and reads, Terracotta shown best performance compared to other alternatives. But this result may vary based on your business use cases.</p>\n<ol>\n<li>How many writes?</li>\n<li>How may reads?</li>\n<li>Cache Size.</li>\n</ol>\n"
        },
        {
          "comments": [
            {
              "comment_id": 81096440,
              "body": "Unfortunately, this won&#39;t work. The address space for each process is virtual. That is, process one&#39;s address 0x400000 will not map to the same physical address as process two&#39;s address 0x400000. So it is not possible to map addresses directly between two processes in the way you are suggesting. The way to do it is via memory-mapped files, as the accepted answer explains."
            },
            {
              "comment_id": 108560524,
              "body": "Down vote for exactly the reason in @Vince&#39;s comment"
            }
          ],
          "answer_id": 45558112,
          "body": "<p><strong>Unsafe with pivot off-heap memory</strong></p>\n\n<p>What about using Unsafe to copy Object bytes to an off-head zone, then some how pass a cheap pointer and class name to the 2nd JVM that will use the pointer and class name to copy and cast the off-heap space to an in-heap object in 2nd JVM.\nIts not the same object instance but a fast copy, without serializing. </p>\n\n<pre><code>public static Unsafe getUnsafe() {\n    try {\n        Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n        f.setAccessible(true);\n        return (Unsafe)f.get(null);\n    } catch (Exception e) { /* ... */ }\n}\n\nMyStructure structure = new MyStructure(); // create a test object\nstructure.x = 777;\n\nlong size = sizeOf(structure);\nlong offheapPointer = getUnsafe().allocateMemory(size);\ngetUnsafe().copyMemory(\n            structure,      // source object\n            0,              // source offset is zero - copy an entire object\n            null,           // destination is specified by absolute address, so destination object is null\n            offheapPointer, // destination address\n            size\n    ); // test object was copied to off-heap\n\nPointer p = new Pointer(); // Pointer is just a handler that stores address of some object\nlong pointerOffset = getUnsafe().objectFieldOffset(Pointer.class.getDeclaredField(\"pointer\"));\ngetUnsafe().putLong(p, pointerOffset, offheapPointer); // set pointer to off-heap copy of the test object\n\nstructure.x = 222; // rewrite x value in the original object\nSystem.out.println(  ((MyStructure)p.pointer).x  ); // prints 777\n\n....\n\nclass Pointer {\n    Object pointer;\n}\n</code></pre>\n\n<p>so now you pass <code>MyStructure</code> and <code>p</code> from ((MyStructure)p.pointer).x to a 2nd JVM, and you should be able to:</p>\n\n<pre><code>MyStructure locallyImported = (MyStructure)p.pointer;\n</code></pre>\n\n<p>I can imagine a use case: suppose you have 2 Microservices that may or may not be running in same server, and a client strategy, maybe implemented in the container AppServer, that knows where the services are deployed, in case it detects the requested service is in local, it might use an Unsafe based service client to query the other service transparently. Nasty but interesting, I'd like to see performance implications of not using network, bypassing WebAPI (calling directly handling controller) and not serializing. Apart from the controller parameters in this case the controler itself should be provided. Didn't even think about Security.</p>\n\n<p>code snippets borrowed from <a href=\"https://highlyscalable.wordpress.com/2012/02/02/direct-memory-access-in-java/\" rel=\"nofollow noreferrer\">https://highlyscalable.wordpress.com/2012/02/02/direct-memory-access-in-java/</a></p>\n"
        },
        {
          "answer_id": 49570142,
          "body": "<p><a href=\"https://github.com/pcdv/jocket\" rel=\"nofollow noreferrer\">Jocket</a>, an experimental project I made a few years ago does exactly this.</p>\n\n<p>It includes a drop-in replacement for <code>java.net.Socket</code> and <code>java.net.ServerSocket</code> if you want to use <code>Input/OutputStream</code>.</p>\n\n<p>Each directional channel uses a pair of circular buffers to post and get data (one for the \"packets\" and one for the address of packets). The buffers are obtained through a <code>RandomAccessFile</code>.</p>\n\n<p>It includes a small JNI layer (linux) to implement IPC synchronization (i.e. notify the other process of availability of data) but this is not mandatory if you want to poll for data.</p>\n"
        }
      ],
      "last_activity_date": 1684672603,
      "question_id": 25396664,
      "body": "<p>Is there a way in Java, for two JVMs (running on same physical machine), to use/share the same memory address space? Suppose a producer in JVM-1 puts messages at a particular pre-defined memory location, can the consumer on JVM-2 retrieve the message if it knows which memory location to look at?</p>\n"
    },
    {
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134469678,
              "body": "I already have this dependency with 2.1.0.1111 version. Apart from this, I am using 9.4.0.54424 sonarqube version,  and 7.15.0.30507 sonarjava version in my pom.xml file."
            },
            {
              "comment_id": 134470534,
              "body": "@RamGrg Did you declare this in the <a href=\"https://www.baeldung.com/maven-dependencymanagement-vs-dependencies-tags\" rel=\"nofollow noreferrer\"><code>&lt;dependencies&gt;</code> section or the <code>&lt;dependencyManagement&gt; section</code></a> of your <code>pom.xml</code>?"
            },
            {
              "comment_id": 134472653,
              "body": "I have these inside &lt;dependencyManagement&gt;         &lt;dependencies&gt;....&lt;/dependencies&gt;&lt;/dependencyManagement&gt;."
            },
            {
              "comment_id": 134475076,
              "body": "@RamGrg OK, that explains your error then. I have edited the answer to detail why."
            },
            {
              "comment_id": 134477124,
              "body": "My project doesn&#39;t have multiple modules. So I tried by putting all dependencies inside &lt;dependencies&gt; .. &lt;/dependencies&gt;. But the issue persists."
            },
            {
              "comment_id": 134477313,
              "body": "@RamGrg Can you edit your question with the content of your current pom.xml?"
            },
            {
              "comment_id": 134501564,
              "body": "@RamGrg I have edited the answer to address your comment."
            }
          ],
          "answer_id": 76249080,
          "body": "<p><code>java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader</code></p>\n<p>That means the required class is not found in the classpath during runtime.</p>\n<p>In your case, your custom SonarQube plugin is missing a dependency on the <code>sonar-analyzer-commons</code> library.<br />\nTry and add the dependency (<a href=\"https://mvnrepository.com/artifact/org.sonarsource.analyzer-commons/sonar-analyzer-commons\" rel=\"nofollow noreferrer\"><code>org.sonarsource.analyzer-commons » sonar-analyzer-commons</code></a>) to your custom plugin's <code>pom.xml</code> file.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    ...\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0.1358&lt;/version&gt; &lt;!-- Use the appropriate version that matches your SonarQube version --&gt;\n    &lt;/dependency&gt;\n    ...\n&lt;/dependencies&gt;\n</code></pre>\n<p>That library does include <a href=\"https://github.com/SonarSource/sonar-analyzer-commons/blob/master/commons/src/main/java/org/sonarsource/analyzer/commons/RuleMetadataLoader.java\" rel=\"nofollow noreferrer\"><code>RuleMetadataLoader.java</code></a>.</p>\n<hr />\n<p>The <a href=\"https://stackoverflow.com/users/3202325/ramgrg\">OP RamGrg</a> confirms in <a href=\"https://stackoverflow.com/questions/76229040/an-issue-occurred-while-starting-sonarqube-with-custom-java-maven-plugin/76249080#comment134472653_76249080\">the comments</a>:</p>\n<blockquote>\n<p>I have these inside <code>&lt;dependencyManagement&gt; &lt;dependencies&gt;....&lt;/dependencies&gt;&lt;/dependencyManagement&gt;</code>.</p>\n</blockquote>\n<p>And that the root cause of your issue.<br />\nLet's clarify the differences between <code>&lt;dependencies&gt;</code> and <code>&lt;dependencyManagement&gt;</code>:</p>\n<ol>\n<li><p><code>&lt;dependencies&gt;</code>: This section is used to declare the dependencies that your project needs. The libraries specified here will be included in the classpath during the build process.</p>\n</li>\n<li><p><code>&lt;dependencyManagement&gt;</code>: This section is used to manage the versions of dependencies in a multimodule project. When you declare dependencies inside the <code>&lt;dependencyManagement&gt;</code> tag, <strong>you are not actually including them in your project</strong>. Instead, you're specifying the versions that should be used if the project or its submodules were to include those dependencies.<br />\nIt's a way to ensure that all submodules use the same version of a dependency, thereby avoiding potential conflicts.</p>\n</li>\n</ol>\n<p>The issue in your case is likely due to the fact that the <code>sonar-analyzer-commons</code> dependency is declared inside <code>&lt;dependencyManagement&gt;</code>, but not in <code>&lt;dependencies&gt;</code>. This means that the dependency isn't actually being included in your build, leading to the <code>NoClassDefFoundError</code> you're seeing.</p>\n<p>To resolve this, you should move the <code>sonar-analyzer-commons</code> dependency from <code>&lt;dependencyManagement&gt;</code> to <code>&lt;dependencies&gt;</code>.<br />\nHere's how you can do this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    ...\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!-- other dependencies can be managed here, for instance: --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\n                &lt;version&gt;9.4.0.54424&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;!-- declare other managed dependencies here... --&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Here is where you should declare sonar-analyzer-commons dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0.1111&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- declare other direct dependencies here... --&gt;\n    &lt;/dependencies&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>In this <code>pom.xml</code>, the <code>sonar-analyzer-commons</code> dependency is declared outside the <code>&lt;dependencyManagement&gt;</code> section, meaning it will be included in the classpath during the build.</p>\n<p>In the <code>&lt;dependencyManagement&gt;</code> section, you're managing the version of <code>sonar-plugin-api</code> (and possibly other dependencies) to ensure that all submodules (if any) use the same version. But these dependencies won't be included in the classpath unless they're also declared in the <code>&lt;dependencies&gt;</code> section.</p>\n<hr />\n<p>Your <code>pom.xml</code> seems OK with respect to the <code>sonar-analyzer-commons</code> dependency. It is declared in the <code>&lt;dependencies&gt;</code> section, so it should be included in the classpath during the build. You might want to double-check your dependency versions to ensure compatibility, however.</p>\n<p>Here's an updated version of your <code>pom.xml</code>, with a potentially compatible <code>sonar-analyzer-commons</code> version. However, this is just a guess, since compatibility often involves more than one dependency. You might need to check the compatibility with other dependencies as well.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;!-- ... rest of your pom.xml ... --&gt;\n  &lt;dependencies&gt;\n    &lt;!-- ... rest of your dependencies ... --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.sonarsource.analyzer.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n      &lt;version&gt;2.1.0.1111&lt;/version&gt; &lt;!-- Ensure this version is compatible with your SonarQube version --&gt;\n    &lt;/dependency&gt;\n    &lt;!-- ... rest of your dependencies ... --&gt;\n  &lt;/dependencies&gt;\n  &lt;!-- ... rest of your pom.xml ... --&gt;\n&lt;/project&gt;\n</code></pre>\n<p>In the updated version, I only changed the comment for the <code>sonar-analyzer-commons</code> dependency to highlight the need for compatibility with your SonarQube version.</p>\n<p>If you're still encountering the same issue, the problem might not be with the <code>pom.xml</code>. It could be related to the way your custom plugin is interacting with the SonarQube API, or it might be a problem with the SonarQube setup itself.</p>\n"
        },
        {
          "answer_id": 76297607,
          "body": "<p>check $sonarqube_home/logs to get more info on this! I am sure you have tried common scenarios. Sometime I also delete contents of sonarqube/data in order to make sure any cached configuration is deleted (please take a backup before)--requires stopping of sq server. Hope this helps!</p>\n"
        },
        {
          "answer_id": 76299912,
          "body": "<p>following both dependencies are not compatible:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.sonarsource.analyzer-commons&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0.1111&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-plugin-api-impl&lt;/artifactId&gt;\n    &lt;version&gt;9.7.1.62043&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I see when I import your pom that the class you are getting the NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\nthat this version of the artifact (2.1.0.1111) is not compatible with the org.sonarsource.sonarqube.sonar-plugin-api:sonar-plugin-api-9.4.0.54424.jar (version 9.4.0.54424)\nfor example one of the methods in RuleMetadataLoader (org.sonarsource.analyzer.commons.RuleMetadataLoader#addOwaspAsvs) use org.sonar.api.server.rule.RulesDefinition.NewRule (org.sonar.api.server.rule.RulesDefinition.NewRule is present in sonar-plugin-api-9.4.0.54424.jar but the method org.sonar.api.server.rule.RulesDefinition.NewRule.addOwaspAsvs is only present from version 9.9...).</p>\n<p>As RuleMetadataLoader use non-existing method of already loaded classes, the initialization of the class RuleMetadataLoader failed and you get this error.</p>\n<p>You must upgrade your sonar-plugin-api to at least 9.9 or downgrade your sonar-analyzer-commons to a lower version.</p>\n"
        }
      ],
      "last_activity_date": 1684672233,
      "question_id": 76229040,
      "body": "<p>I am creating a custom sonarqube java plugin. After adding the plugin jar file inside ../extensions/plugins folder, I tried to start sonarqube in my device. But it is showing the following issues:</p>\n<pre><code>Background initialization failed. Stopping SonarQube\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jdk.internal.loader.ClassLoaders$AppClassLoader@5ffd2b27-org.sonar.server.rule.RegisterRules': Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.sonar.core.platform.SpringComponentContainer.startComponents(SpringComponentContainer.java:187)\n    at org.sonar.server.platform.platformlevel.PlatformLevel.start(PlatformLevel.java:80)\n    at org.sonar.server.platform.platformlevel.PlatformLevelStartup.access$001(PlatformLevelStartup.java:55)\n    at org.sonar.server.platform.platformlevel.PlatformLevelStartup$1.doPrivileged(PlatformLevelStartup.java:127)\n    at org.sonar.server.user.DoPrivileged.execute(DoPrivileged.java:45)\n    at org.sonar.server.platform.platformlevel.PlatformLevelStartup.start(PlatformLevelStartup.java:124)\n    at org.sonar.server.platform.PlatformImpl.executeStartupTasks(PlatformImpl.java:183)\n    at org.sonar.server.platform.PlatformImpl$AutoStarterRunnable.runIfNotAborted(PlatformImpl.java:344)\n    at org.sonar.server.platform.PlatformImpl$1.doRun(PlatformImpl.java:107)\n    at org.sonar.server.platform.PlatformImpl$AutoStarterRunnable.run(PlatformImpl.java:328)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NoClassDefFoundError: org/sonarsource/analyzer/commons/RuleMetadataLoader\n    at com.plugins.sonar.java.SonarqubeJavaRulesDefinition.define(SonarqubeJavaRulesDefinition.java:44)\n    at org.sonar.server.rule.RuleDefinitionsLoader.load(RuleDefinitionsLoader.java:56)\n    at org.sonar.server.rule.RegisterRules.start(RegisterRules.java:125)\n    at org.sonar.core.platform.StartableBeanPostProcessor.postProcessBeforeInitialization(StartableBeanPostProcessor.java:33)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:440)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)\n    ... 19 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.sonarsource.analyzer.commons.RuleMetadataLoader\n    at org.sonar.classloader.ParentFirstStrategy.loadClass(ParentFirstStrategy.java:39)\n    at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:87)\n    at org.sonar.classloader.ClassRealm.loadClass(ClassRealm.java:76)\n</code></pre>\n<p>The line of code as mentioned in logs, (SonarqubeJavaRulesDefinition.java:44), is the following:\n<code>RuleMetadataLoader ruleMetadataLoader = new RuleMetadataLoader(RULES_BASE_PATH, runtime);</code></p>\n<p>The following is the pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.sonar.project&lt;/groupId&gt;\n  &lt;artifactId&gt;static-java-code-analysis&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;StaticJavaCodeAnalysis&lt;/name&gt;\n  \n  &lt;description&gt;It defines the rules that detect energy smells in different loop types in java&lt;/description&gt;\n  &lt;packaging&gt;sonar-plugin&lt;/packaging&gt;\n  &lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n    \n    &lt;!-- &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt; --&gt;\n    &lt;sonarqube.version&gt;9.4.0.54424&lt;/sonarqube.version&gt;\n    &lt;sonar.organization&gt;ramgrg&lt;/sonar.organization&gt;\n    &lt;sonar.host.url&gt;https://sonarcloud.io&lt;/sonar.host.url&gt;\n    &lt;sonarjava.version&gt;7.15.0.30507&lt;/sonarjava.version&gt; \n    &lt;sonar.skipDependenciesPackaging&gt;true&lt;/sonar.skipDependenciesPackaging&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;5.9.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n       &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n       &lt;version&gt;3.23.1&lt;/version&gt;\n     &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n         &lt;artifactId&gt;sonar-plugin-api&lt;/artifactId&gt;\n         &lt;version&gt;${sonarqube.version}&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.analyzer-commons&lt;/groupId&gt;\n       &lt;artifactId&gt;sonar-analyzer-commons&lt;/artifactId&gt;\n       &lt;version&gt;2.1.0.1111&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.sonarqube&lt;/groupId&gt;\n       &lt;artifactId&gt;sonar-plugin-api-impl&lt;/artifactId&gt;\n       &lt;version&gt;9.7.1.62043&lt;/version&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.java&lt;/groupId&gt;\n       &lt;artifactId&gt;sonar-java-plugin&lt;/artifactId&gt;\n       &lt;version&gt;${sonarjava.version}&lt;/version&gt;\n       &lt;type&gt;sonar-plugin&lt;/type&gt;\n       &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n       &lt;groupId&gt;org.sonarsource.java&lt;/groupId&gt;\n       &lt;artifactId&gt;java-checks-testkit&lt;/artifactId&gt;\n       &lt;version&gt;${sonarjava.version}&lt;/version&gt;\n       &lt;scope&gt;test&lt;/scope&gt;\n     &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n   &lt;build&gt;\n      &lt;plugins&gt;\n          &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.11.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n             &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n             &lt;version&gt;3.0.0&lt;/version&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n             &lt;groupId&gt;org.sonarsource.sonar-packaging-maven-plugin&lt;/groupId&gt;\n             &lt;artifactId&gt;sonar-packaging-maven-plugin&lt;/artifactId&gt;\n             &lt;version&gt;1.21.0.505&lt;/version&gt;\n             &lt;extensions&gt;true&lt;/extensions&gt;\n             &lt;configuration&gt;\n                &lt;pluginKey&gt;staticjavacode&lt;/pluginKey&gt;\n                &lt;pluginName&gt;${project.name}&lt;/pluginName&gt;\n                &lt;pluginClass&gt;com.sonar.java.SonarqubeJavaplugin&lt;/pluginClass&gt;\n                &lt;sonarLintSupported&gt;true&lt;/sonarLintSupported&gt;\n             &lt;!--   &lt;skipDependenciesPackaging&gt;true&lt;/skipDependenciesPackaging&gt; --&gt;\n                &lt;sonarQubeMinVersion&gt;${sonarqube.version}&lt;/sonarQubeMinVersion&gt;\n                &lt;requirePlugins&gt;java:${sonarjava.version}&lt;/requirePlugins&gt;   \n             &lt;/configuration&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Any help is appreciated.</p>\n"
    },
    {
      "answers": [
        {
          "comments": [
            {
              "comment_id": 9283557,
              "body": "Exactly what I was looking for! And yeah, I meant adding the default maven2 &quot;Central&quot; repository element. But I can add that myself, no big deal."
            },
            {
              "comment_id": 9283576,
              "body": "Cool. But you shouldn&#39;t have to add that; it&#39;s already the default."
            },
            {
              "comment_id": 39148641,
              "body": "What happens if I don&#39;t have that option?"
            },
            {
              "comment_id": 39151272,
              "body": "@LukeyBoylsXen Check your plugins. Should be there, though."
            },
            {
              "comment_id": 71860501,
              "body": "which &quot;plugins&quot;?  I have 2 maven plugs (came default with IntelliJ).  Still no &quot;Maven&quot; option in Add Frameworks"
            },
            {
              "comment_id": 71984566,
              "body": "@Nick\tIt&#39;s quite likely the IDE has changed a bit in the last five years."
            },
            {
              "comment_id": 71985428,
              "body": "Re: no &quot;Maven&quot; option:  i believe it is due to working on an IntelliJ plugin for which there is no maven support.  @Dave Newton - you make a good point, always need to consider that for older questions and answers."
            },
            {
              "comment_id": 81927351,
              "body": "sorry for reviving this old post but is there an automatic way to put the jsf dependencies into the pom ? The pom gets created but it&#39;s empty, i would like to have all the proper dependencies of a jsf project inside the pom."
            },
            {
              "comment_id": 81928666,
              "body": "@MrSir There&#39;s probably an archetype for JSF projects, and using an archetype is one of the options IIRC."
            },
            {
              "comment_id": 81928749,
              "body": "@DaveNewton that was my first idea, but i&#39;m having issues with that, i made a <a href=\"https://stackoverflow.com/questions/47478855/how-to-build-a-jsf-application-in-intellij-using-maven?noredirect=1#comment81926817_47478855\">question</a> about it."
            },
            {
              "comment_id": 94986297,
              "body": "@Nick - Maven can be added as a framework to be selected, or made visible in the &quot;Add Framework Support&quot; by changing the intellij Settings: File -&gt; Settings-&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing: tick Import Maven projects automatically"
            }
          ],
          "answer_id": 7642607,
          "body": "<p>Right-click on the module, select &quot;Add framework support...&quot;, and check the &quot;Maven&quot; technology.</p>\n<p><a href=\"https://i.stack.imgur.com/sC2ix.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sC2ix.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/RK3xx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/RK3xx.png\" alt=\"enter image description here\" /></a></p>\n<p><em>(This also creates a <code>pom.xml</code> for you to modify.)</em></p>\n<p>If you mean adding source repository elements, I think you need to do that manually–not sure.</p>\n<p>Pre-IntelliJ 13 this won't convert the project to the <a href=\"http://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"noreferrer\">Maven Standard Directory Layout</a>, 13+ it will.</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 97333764,
              "body": "When I had a parent director git URL when many sub projects, the sub projects were not recognized as Maven. This answer helped. To make it clear, this functionality is available on the Maven Tool Window."
            },
            {
              "comment_id": 109582116,
              "body": "This answer helped me to re-associate a Gradle project back to Maven.  Just needed to unlink it (use the minus sign) on the analogous Gradle menu."
            },
            {
              "comment_id": 130766017,
              "body": "Great hint, I was moving projects under the parent and &quot;Add framework support&quot; was not available for me. Your solution works very nice."
            }
          ],
          "answer_id": 40743598,
          "body": "<ol>\n<li>Open 'Maven projects' (tab on the right side).  </li>\n<li>Use 'Add Maven Projects'  </li>\n<li>Find your pom.xml  </li>\n</ol>\n"
        },
        {
          "answer_id": 43055660,
          "body": "<p>A visual for those that benefit from it.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3GCAR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3GCAR.png\" alt=\"enter image description here\"></a></p>\n\n<p>After right-clicking the project name (\"test\" in this example), select \"Add framework support\" and check the \"Maven\" option. </p>\n"
        },
        {
          "answer_id": 43272100,
          "body": "<p>I want to add the important hint that converting a project like this can have side effects which are noticeable when you have a larger project. This is due the fact that Intellij Idea (2017) takes some important settings only from the pom.xml then which can lead to some confusion, following sections are affected at least:</p>\n\n<ol>\n<li>Annotation settings are changed for the modules</li>\n<li>Compiler output path is changed for the modules</li>\n<li>Resources settings are ignored totally and only taken from pom.xml</li>\n<li>Module dependencies are messed up and have to checked</li>\n<li>Language/Encoding settings are changed for the modules</li>\n</ol>\n\n<p>All these points need review and adjusting but after this it works like charm.</p>\n\n<p>Further more unfortunately there is no sufficient pom.xml template created, I have added an example which might help to solve most problems.</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;Name&lt;/groupId&gt;\n&lt;artifactId&gt;Artifact&lt;/artifactId&gt;\n&lt;version&gt;4.0&lt;/version&gt;\n&lt;properties&gt;\n    &lt;!-- Generic properties --&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;!--All dependencies to put here, including module dependencies--&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;directory&gt;${project.basedir}/target&lt;/directory&gt;\n    &lt;outputDirectory&gt;${project.build.directory}/classes&lt;/outputDirectory&gt;\n    &lt;testOutputDirectory&gt;${project.build.directory}/test-classes&lt;/testOutputDirectory&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/java&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt; ${project.basedir}/src/test/java&lt;/testSourceDirectory&gt;\n\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/java&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;${project.basedir}/src/main/resources&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;**/*&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessors/&gt;\n                &lt;source&gt;${java.version}&lt;/source&gt;\n                &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Edit 2019: </p>\n\n<ul>\n<li>Added recursive resource scan</li>\n<li>Added directory specification which might be important to avoid confusion of IDEA recarding the content root structure </li>\n</ul>\n"
        },
        {
          "answer_id": 45751385,
          "body": "<p>This fixed it for me: Open maven projects tab on the right. Add the pom if not yet present, then click refresh on the top left of the tab.</p>\n"
        },
        {
          "answer_id": 49127831,
          "body": "<p>I had a different scenario, but still landed on this answer.<br>\nI had imported my root project folder containing multiple Maven projects but also some other stuff used in this project.<br>\nIntelliJ recognised the Java files, but didn't resolve the Maven dependencies.</p>\n\n<p>I fixed this by performing a right-click on each pom and then \"Add as maven project\"</p>\n"
        },
        {
          "answer_id": 55503052,
          "body": "<p>I have resolved this same issue by doing below steps:</p>\n\n<ol>\n<li><p>File > Close Project</p></li>\n<li><p>Import Project</p></li>\n<li><p>Select you project via the system file popup</p></li>\n<li><p>Check \"Import project from external model\" radio button and select Maven entry</p></li>\n<li><p>And some Next buttons (select JDK, ...)</p></li>\n</ol>\n\n<p>Then the project will be imported as Maven module.</p>\n"
        },
        {
          "answer_id": 57090700,
          "body": "<p>The easiest way is to add the project as a Maven project directly. To do this, in the project explorer on the left, right-click on the POM file for the project, towards the bottom of the context menu, you will see an option called 'Add as Maven Project', click it. This will automatically convert the project to a Maven project</p>\n"
        },
        {
          "answer_id": 63370753,
          "body": "<p>Just follow the steps:</p>\n<ol>\n<li>Right click to on any module pox.xml and then chose &quot;Add as Maven Project&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/PMMmb.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PMMmb.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Next to varify it, go to the maven tab, you will see the project with all maven goal which you can use:</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/MrjeF.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MrjeF.png\" alt=\"enter image description here\" /></a></p>\n"
        },
        {
          "answer_id": 68425452,
          "body": "<p>Update on version Intellij IDEA 2020.2.3</p>\n<p><code>Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing</code>\nand click &quot;<strong>create module groups for multi-module Maven projects</strong>&quot;.</p>\n<p>Then Apply and you can see that option in &quot;Add Framework Support...&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/4ye4x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4ye4x.png\" alt=\"enter image description here\" /></a></p>\n"
        },
        {
          "answer_id": 72012159,
          "body": "<ol>\n<li>Right-click on the module</li>\n<li>Select &quot;Add framework support&quot;</li>\n<li>Click the &quot;Maven&quot; option.</li>\n</ol>\n<p>Note: This will convert the current project into maven driven project create the pom.xml file automatically. The dependencies can be added then.</p>\n<p><strong>Enable Auto Import of Dependencies</strong></p>\n<p>(<code>InteliJ IDEA 14.1.1</code> on <code>Ubuntu</code>)</p>\n<pre><code>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing &gt; [X] Import Maven projects automatically\n</code></pre>\n<p><strong>Run as maven project</strong></p>\n<p>Creating a new Run/Debug Configuration of type maven and adding the command <code>clean install</code></p>\n<p>Finally clicking the green button to run that Run/Debug Configuration, this will run build the project using <code>apache maven</code>.</p>\n"
        },
        {
          "answer_id": 76299911,
          "body": "<p>Using IntelliJ Idea 2022.3.3, here is the easiest way you can do it:</p>\n<ul>\n<li>Right click on root of your project in Explorer on the left side.</li>\n<li>Select &quot;Add framework support&quot; (3rd option from the last as shown in image)</li>\n<li>Choose Maven\n<a href=\"https://i.stack.imgur.com/QlaG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlaG7.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n"
        }
      ],
      "last_activity_date": 1684672180,
      "question_id": 7642456,
      "body": "<p>I have a project on Bitbucket. Only the sources are committed. To retrieve the project onto a new machine, I used Version Control > Checkout from Version Control from within IntelliJ.</p>\n\n<p>It then asks whether I would like to create a new project from this source, to which I reply Yes. So far, so good. It creates a nice little Java project for me, consisting of a single module.</p>\n\n<p>However, my goal in pulling this project into IntelliJ was to turn it into a Maven project. I cannot find any option anywhere that will let me do this!</p>\n\n<p>Is there a way to have IntelliJ just generate a basic empty pom.xml for me, with a name and an artifactId and a repository? Or, is there a way to import the project as a Maven project in the first place? (Whenever I try to create a project from existing source, it only gives me the option of a Java project.)</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134509864,
          "body": "Because you upgraded Java. They are <i>required</i> in versions of Java &gt;9 to work with the module system. Java has changed significantly over the years. Why would you expect it to be constant?"
        },
        {
          "comment_id": 134533944,
          "body": "Where is the <code>userLog()</code> method used? Am I wrong assumint that you: 1. use <code>ProcessBuilder</code> or similar to spawn a new JVM, 2. Call <code>userLog()</code> on each line that the new JVM outputs? BTW: <code>Configurator.initialize</code> does not replace the Log4j config if one already exists (i.e. you called a <code>LogManager</code> static method), use <code>Configurator.reconfigure</code> in this case."
        }
      ],
      "answers": [
        {
          "answer_id": 76297988,
          "body": "<p>I moved the logging function down into the Ant script that was being called.</p>\n<p>No problem now.</p>\n"
        }
      ],
      "last_activity_date": 1684671645,
      "question_id": 76276595,
      "body": "<p>I have a servlet running in Tomcat on a server. One of the tasks the servlet does is transform documents using a translation library jar. Executing a java -jar &quot;...&quot; command.</p>\n<p>I use log4j to log the actions a sample below.</p>\n<pre><code>[echo] [init] Initialize build space \n[echo] build.web.dir= /home/scott/workspace/mbel-work/tei2html/build/web teiFile=A10007 docName=A10007.xml\n[echo] [tei-doc-to-html] Building html documents production=no\n[echo] &quot;/home/scott/workspace/mbel-work/tei2html/build/web/A10007/A10007.html is up to date!&quot;\n[echo] [tei-to-html] Build index.html, searchsite.html and solrsearch.html files\n</code></pre>\n<p>I upgraded java and now I see this.</p>\n<pre><code>[echo] [init] Initialize build space \n[echo] build.web.dir= /home/scott/workspace/mbel-work/tei2html/build/web teiFile=A10011\ndocName=A10011.xml\n[echo] [tei-doc-to-html] Building html documents production=yes\n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[echo] [tei-to-html] Build index.html, searchsite.html and solrsearch.html files \n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n[java] NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n</code></pre>\n<p>Why is this showing up in my custom log file?</p>\n<p>Here is the code to create the logger and the call to log the message, the &quot;Picked up...&quot; is not in the message.</p>\n<pre><code>// create the new logger\n    builder.add(builder.newLogger(&quot;BuildLogger&quot;, Level.OFF)\n            .add(builder.newAppenderRef(&quot;rolling&quot;))\n            .addAttribute(&quot;additivity&quot;, false));\n\n    /*builder.add(builder.newRootLogger(Level.DEBUG)\n            .add(builder.newAppenderRef(&quot;rolling&quot;)));\n    */\n    ctx = Configurator.initialize(builder.build());\n    LOGGER = LogManager.getLogger(&quot;BuildLogger&quot;);\n    setup = true;\n    //System.out.println(&quot;BuildLog.init: exit&quot;);\n}\n\npublic static void userLog(String message) {\n    if (setup == false) {\n        init();\n    }\n    LOGGER.info(message);\n}\n</code></pre>\n<p>Any way I can suppress this?</p>\n<p>I did notice the Tomcat is setting these in the run script</p>\n<pre><code># Add the JAVA 9 specific start-up parameters required by Tomcat\nJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.base/java.lang=ALL-UNNAMED&quot;\nJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.base/java.io=ALL-UNNAMED&quot;\nJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED&quot;\nexport JDK_JAVA_OPTIONS\n</code></pre>\n<p>I'm sure its no coincidence that these are the same options now showing up in my log file. Though it didn't happen until I upgraded Java.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134546077,
          "body": "You overwrite various params immediately. That means you don&#39;t want those as parameters, just declare local variables. <code>double perc = a&#47;b*100;</code> where a and b are ints does not do what you want - that means perc will be 0 every time. Try <code>double perc = .01 * a &#47; b;</code> which works fine (<code>a &#47; b</code> is int division, i.e. rounded down to the nearest integer, which would be 0 here obviously). &quot;Does not work&quot; isn&#39;t useful. What <i>do</i> you see? Do you get any errors? Your paste isn&#39;t a full program. This isn&#39;t enough info; nothing in your paste explains specifically &#39;nothing happens&#39;. VTC: Not enough detail."
        }
      ],
      "last_activity_date": 1684671511,
      "question_id": 76298528,
      "body": "<p>Been racking my brain on this for a while, code isn't returning any errors, but menu won't print.  Originally thought I was using scanner class incorrectly but nothing seems to work. Any help appreciated.</p>\n<pre><code>    public static void menu(Project[] projectArray, int lineCount, int totalCompleted, int totalOngoing, double percCompleted)\n    {\n        totalOngoing = lineCount - totalCompleted;\n        percCompleted = (totalCompleted/lineCount)*100;\n\n        int selection1 = 0;\n        int selection2 = 0;\n\n        Scanner input = new Scanner(System.in);\n\n        try\n        {\n            System.out.println(&quot;Investments in Indigeneous community infrastructre Program&quot;);\n            System.out.println(&quot;There are a total of 9037 projects throughout Canada&quot;);\n            System.out.println(&quot;Please make a selection from the menu below:&quot;);\n            System.out.println(&quot;(1) All of Canada&quot;);\n            System.out.println(&quot;(2) Alberta&quot;);\n            System.out.println(&quot;(3) British Columbia&quot;);\n            System.out.println(&quot;(4) Manitoba &quot;);\n            System.out.println(&quot;(5) New Brunswick &quot;);\n            System.out.println(&quot;(6) Newfoundland and Labrador &quot;);\n            System.out.println(&quot;(7) Nova Scotia&quot;);\n            System.out.println(&quot;(8) Ontario&quot;);\n            System.out.println(&quot;(9) Prince Edward Island&quot;);\n            System.out.println(&quot;(10) Quebec&quot;);\n            System.out.println(&quot;(11) Saskatchewan&quot;);\n            System.out.println(&quot;(12) Northwest Territories&quot;);\n            System.out.println(&quot;(13) Nunavut&quot;);\n            System.out.println(&quot;(14) Yukon&quot;);\n            System.out.println(&quot;(0) Exit Program&quot;);\n            System.out.println(&quot;~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&quot;);\n            selection1 = input.nextInt();\n        }\n\n        catch (InputMismatchException exception)\n        {\n            System.out.println(&quot;Invalid input, please try again: &quot;);\n        }\n\n        input.close();\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 85042239,
          "body": "I think you need to check the value of the cell first thing. Ex: <code>if (a[i][j] == 0) return 0;</code>"
        },
        {
          "comment_id": 85042293,
          "body": "&quot;It doesn&#39;t work&quot; doesn&#39;t help us.  What does the program do as it fails, and how does it differ from the expected behavior?"
        },
        {
          "comment_id": 85042294,
          "body": "I agree with Johnny Mopp. If you are in a cell that has value 0 and is on the border, your code right now will proceed on that border instead of returning 0. How about creating a matrix that stores for which cell there are which amounts of ways from it and then print it as control?"
        },
        {
          "comment_id": 85042363,
          "body": "This kind of issue is best approached using a debugger (see here: <a href=\"https://stackoverflow.com/q/25385173\">stackoverflow.com/q/25385173</a>)."
        },
        {
          "comment_id": 85042404,
          "body": "@JohnnyMopp, Thank you, it worked now, is there a way to improve the performance of this program?"
        },
        {
          "comment_id": 85042677,
          "body": "You can ask at <a href=\"https://codereview.stackexchange.com\">Code Review</a> for improvements."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 85042959,
              "body": "Can you give me a snippet how to do this with dynamic programming?"
            },
            {
              "comment_id": 85043185,
              "body": "Something similar to your algorithm, but you don&#39;t use recursion. Create second array of the same size. Then you just loop through the array in correct order (for example <code>for(int i=rows-1;i&gt;=0;i--) for(int j=cols-1;j&gt;=0;j--)</code>) and calculate values as you do now, but instead of recursion you just take previously computed values from array."
            },
            {
              "comment_id": 85043352,
              "body": "I tried the approach, but not able to get an answer, can you please provide a solution using dynamic programming"
            },
            {
              "comment_id": 85044274,
              "body": "Nice answer, I have upvoted.  I had a DP solution much earlier which starts bottom right and goes to top left and answer is dp[0][0].  I am very interested in your optimizations.  My i,j loop has 4 if statements and can now see how you got rid of three of them (bottom/right cell, and each outer row/col) leaving just one if statement.   Very nice..."
            }
          ],
          "answer_id": 49018630,
          "body": "<p>First if should check value of <code>a[i][j]</code>. It it's 0, you should return 0.</p>\n\n<p>And about performance, algorithm written this way is very slow, as you calculate the same value many times. Use memorisation (create second array and save every value you return and at the beginning of function check first if you haven't calculated it before) or solve it with dynamic programming.</p>\n\n<p>EDIT: You forgot about your modulo 10^9+7.</p>\n\n<p>SECOND EDIT (responding to your comment):\nIt would be something like that. I divided it to three loops so that main (third) loop has less operations to do and function is quite faster for big data. I also changed direction of computing but it's not important at all.</p>\n\n<pre><code>static int count_dp(int a[][]){\n    int rows = a.length;\n    int cols = a[0].length;\n    int[][] dp = new int[rows][cols];\n\n    dp[0][0] = a[0][0];\n\n    for(int i=1;i&lt;rows;i++)\n        if(dp[i-1][0]==1 &amp;&amp; a[i][0]==1)\n            dp[i][0] = 1;\n\n    for(int i=1;i&lt;cols;i++)\n        if(dp[0][i-1]==1 &amp;&amp; a[0][i]==1)\n            dp[0][i] = 1;\n\n    for(int i=1;i&lt;rows;i++)\n        for(int j=1;j&lt;cols;j++)\n            if(a[i][j]==1)\n                dp[i][j] = (dp[i-1][j] + dp[i][j-1])%1000000007;\n\n    return dp[rows-1][cols-1];\n}\n</code></pre>\n"
        },
        {
          "answer_id": 63542601,
          "body": "<pre><code>def path_finder(i,j,m,l,n):\n    if i==n-1 and j==n-1:\n        if m[i][j]==1:\n            l.append([i,j])\n            return 1\n        else:\n            return 0\n    if i==n or j==n:\n        return 0\n    if m[i][j]==0:\n        return 0\n    l.append([i,j])\n    fl=path_finder(i+1,j,m,l,n)   #vertical movement \n    fr=path_finder(i,j+1,m,l,n)   #horizontal movement \n    if not (fl or fr):\n        l.pop()\n        return 0\n    return 1\n\nif __name__=='__main__':\n    n=4   #size od matrix\n    i=0\n    j=0\n    m=[[1,1,1,0],\n       [1,0,1,1],\n       [1,1,0,1],\n       [1,1,0,1]]\n    l=[]  #empty list to store path indices\n    found=path_finder(i,j,m,l,n)\n    if found==1:\n        for i in l:\n            print('({0},{1})'.format(*i),end=' ')\n    else:\n        print(-1)\n# A recursive approach to the solution.\n# Works for all values of n if we can move only right and \ndown. Fails if we have to move up or left,Eg: for matrix \nshown below we have to move up in order to get to n, n\n[[1 1 1 1 1], \n [1 0 0 0 0], \n [1 0 1 1 1], \n [1 0 1 0 1], \n [1 1 1 0 1]] \n</code></pre>\n"
        },
        {
          "answer_id": 76299868,
          "body": "<p>A little late to the party, but this problem can be easily solved using Dynamic Programming as follows -</p>\n<pre><code>static int mat[][] = new int[m][n]; //for e.g. m=3, n=3\n\npublic static int countPathUsingDp(int m, int n) {\n    for(int i=0;i&lt;m;i++)\n        mat[i][0] = 1;\n\n    for(int j=0;j&lt;n;j++)\n        mat[0][j] = 1;\n\n    for(int i=1;i&lt;m;i++)\n        for(int j=1;j&lt;n;j++)\n            mat[i][j] = mat[i-1][j] + mat[i][j-1];\n\n    return mat[m-1][n-1];\n}\n</code></pre>\n<p>The <strong>time complexity</strong>: <strong>O(m*n)</strong></p>\n<p><strong>Solution</strong>: You assign path to base[0,0] from every element, as you traverse.</p>\n"
        }
      ],
      "last_activity_date": 1684671460,
      "question_id": 49018462,
      "body": "<p>I am working on a program which states that:</p>\n\n<p>You are given a 2-D matrix with M rows and N columns.You are initially positioned at (0,0) which is the top-left cell in the array. You are allowed to move either right or downwards. The array is filled with 1’s and 0’s. A 1 indicates that you can move through that cell, a 0 indicates that you cannot move through that cell. Return the number of paths from top-left cell to bottom-right cell.(i.e. (0,0)to(M-1,N-1)). Since answer can be large thus you have to return ans%(10^9+7).</p>\n\n<p>I tried to implement it and it is working for some scenarios but fails for some cases:</p>\n\n<pre><code>static int count(int a[][], int i, int j) {\n    int rows = a.length;\n    int cols = a[0].length;\n    if(a[i][j] == 0)  return 0;\n    if (i == rows - 1 &amp;&amp; j == cols - 1)\n        return a[i][j];\n    else if (i == rows - 1)\n        return a[i][j + 1];\n    else if (j == cols - 1)\n        return a[i + 1][j];\n    else if (a[i][j] == 1)\n        return count(a, i + 1, j) + count(a, i, j + 1);\n    else\n        return 0;\n}\n</code></pre>\n\n<p>It fails for below array:\n<code>{{1,1}, {0,1}}</code></p>\n\n<p>Can you please help me what is the issue in this program?</p>\n\n<p><strong>Update:</strong></p>\n\n<p>Thanks @Johnny Mopp, it solved the above test case. How can we improve the performance of this program?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 133953865,
          "body": "Feature request <a href=\"https://github.com/remkop/picocli/issues/1993\" rel=\"nofollow noreferrer\">github.com/remkop/picocli/issues/1993</a>"
        }
      ],
      "answers": [
        {
          "answer_id": 74275000,
          "body": "<p>I suspect this is a bug/inconvenience. In method <code>consumeArguments</code>, at <a href=\"https://github.com/remkop/picocli/blob/main/src/main/java/picocli/CommandLine.java\" rel=\"nofollow noreferrer\">https://github.com/remkop/picocli/blob/main/src/main/java/picocli/CommandLine.java</a></p>\n<pre><code>            // now process the varargs if any\n            String fallback = consumed == 0 &amp;&amp; argSpec.isOption() &amp;&amp; !OptionSpec.DEFAULT_FALLBACK_VALUE.equals(((OptionSpec) argSpec).fallbackValue())\n                    ? ((OptionSpec) argSpec).fallbackValue()\n                    : null;\n            if (fallback != null &amp;&amp; (args.isEmpty() || !varargCanConsumeNextValue(argSpec, args.peek()))) {\n                args.push(fallback);\n            }\n</code></pre>\n<p>Because <code>((OptionSpec) argSpec).fallbackValue()</code> returns <code>null</code>, it is understood as if there was no <code>fallbackValue</code>, and therefore the <code>if (fallback != null</code> does not push the fallback value to <code>args</code>.</p>\n<h2>Workaround</h2>\n<p>Define your own <code>fallbackValue</code> magic string and a <code>converter</code> that later converts it to <code>null</code>. The convertor runs after <code>consumeArguments</code> completes (with the <code>failbackValue</code>).</p>\n<pre><code>public static final String MY_NULL_VALUE = &quot;MY_&quot; + CommandLine.Option.NULL_VALUE;\n\npublic class MyNullValueConvertor implements CommandLine.ITypeConverter&lt;String&gt; {\n    @Override\n    public String convert(String value) throws Exception {\n        if (value.equals(MY_NULL_VALUE)) {\n            return null;\n        }\n        return value;\n    }\n}\n</code></pre>\n<pre><code>    @CommandLine.Option(\n        names = {&quot;--msg-content-list-item&quot;},\n        arity = &quot;0..1&quot;, fallbackValue = MY_NULL_VALUE,\n        converter = MyNullValueConvertor.class)\n    private List&lt;String&gt; msgContentListItem;\n</code></pre>\n"
        },
        {
          "answer_id": 75958776,
          "body": "<p>There was a <a href=\"https://github.com/remkop/picocli/issues/1993\" rel=\"nofollow noreferrer\">bug</a> which is now fixed.</p>\n<p>Prior to version 4.7.2, use the workaround in my other answer.</p>\n<p>As of picocli 4.7.2, use the <code>fallbackValue</code> like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Option(names = {&quot;--list&quot;}, arity = &quot;0..1&quot;, fallbackValue = CommandLine.Option.NULL_VALUE)\nList&lt;String&gt; list;\n</code></pre>\n<p>from <a href=\"https://github.com/remkop/picocli/blob/2944addb8ba34d2ee6f97564bd43128bb62ec382/src/test/java/picocli/FallbackTest.java#L192-L193\" rel=\"nofollow noreferrer\">https://github.com/remkop/picocli/blob/2944addb8ba34d2ee6f97564bd43128bb62ec382/src/test/java/picocli/FallbackTest.java#L192-L193</a></p>\n"
        }
      ],
      "last_activity_date": 1684671440,
      "question_id": 74273941,
      "body": "<p>I have a parameter named <code>--msg-content-list-item</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CliProtonJ2Sender implements Callable&lt;Integer&gt; {\n\n    @CommandLine.Option(\n        names = {&quot;--msg-content-list-item&quot;},\n        arity = &quot;0..1&quot;,\n        defaultValue = CommandLine.Option.NULL_VALUE)\n    private List&lt;String&gt; msgContentListItem;\n\n\n    // ...\n}\n</code></pre>\n<p>I wish for the following test to pass</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void test_msgContentListItem() {\n        CliProtonJ2Sender a = new CliProtonJ2Sender();\n        CommandLine b = new CommandLine(a);\n        CommandLine.ParseResult r = b.parseArgs(&quot;--msg-content-list-item&quot;, &quot;--msg-content-list-item&quot;, &quot;pepa&quot;);\n\n        // https://github.com/powermock/powermock/wiki/Bypass-Encapsulation\n        List&lt;String&gt; v = Whitebox.getInternalState(a, &quot;msgContentListItem&quot;, a.getClass());\n        assertThat(v).containsExactly(null, &quot;pepa&quot;);\n    }\n</code></pre>\n<p>But it doesn't and I get</p>\n<pre><code>missing (1): null\n---\nexpected   : [null, pepa]\nbut was    : [pepa]\n</code></pre>\n<p>How do I define <code>@CommandLine.Option</code> to behave the way I want?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548074,
          "body": "@Jens could you please check this question again? I think is more focused now."
        }
      ],
      "last_activity_date": 1684671308,
      "question_id": 76291606,
      "body": "<p>Using Java, is there any option to convert/export an Excel Apache POI <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xssf/usermodel/XSSFWorkbook.html\" rel=\"nofollow noreferrer\">XSSFWorkbook</a> object into an image?</p>\n"
    },
    {
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134541313,
              "body": "Thank you very much for your answers, and I apologize for my poor English and the question with few details. I will edit it. There have been significant changes in Spring Security 6. The reason I wanted to apply JWT only to my created endpoints is to have a custom handling of the 404 error. If creating a custom filter is considered a bad practice, how could I handle 404 errors with a personalized message? Thank you very much for everything."
            },
            {
              "comment_id": 134542190,
              "body": "Hello @Darkvision, thank you so much for all your help. I truly appreciate it and I&#39;m grateful for taking the time to answer my question. Your solution helped me a lot to guide myself and achieve the expected result. However, now it returns a 403 error instead of an empty 403. I will read the documentation and learn more about the topic. Thank you very much."
            }
          ],
          "answer_id": 76293348,
          "body": "<p>You need ovveride spring security with <strong>WebSecurityConfigurerAdapter</strong> any request matching the <strong>/api/</strong>** pattern should be authenticated using JWT and anything that doesn't match would be allow to be call without JWT because of this <strong>anyRequest().permitAll()</strong> that the simple way</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/api/**&quot;).authenticated() \n            .anyRequest().permitAll()\n            .and()\n            .addFilterBefore(new JwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n}\n</code></pre>\n<p>Update sorry quick jumping on spring forgot was 3.0\nhere another way but didn't  test doing this you will have multi filter and define distinct security configurations also depend of version might have some function that is deprecate you might need look documentation\n. I left my others answer enjoy thumb dumb since they like validate they point without giving any solution to help.</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n@Bean\npublic SecurityFilterChain apiSecurityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .securityMatchers((matchers) -&gt; matchers\n                    .requestMatchers(antMatcher(&quot;/api/**&quot;), antMatcher(&quot;/app/**&quot;))\n            ).addFilterBefore(new JwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n            \n    return http.build();\n}\n\n@Bean\npublic SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n            .anyRequest().permitAll();\n    \n    return http.build();\n}\n</code></pre>\n<p>}</p>\n"
        }
      ],
      "last_activity_date": 1684670883,
      "question_id": 76293132,
      "body": "<p>I'm new to Spring Boot. I would like to handle authentication with JWT exclusively for my endpoints, and for all other requests that do not match my API, I want to use a 404 message. I have this configuration, but I am unable to handle the 403 errors.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .csrf()\n        .disable()\n        .authorizeHttpRequests()\n          .requestMatchers(endpoints)).authenticated()\n          .anyRequest().permitAll()\n        .and()\n        .sessionManagement()\n          .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authenticationProvider(authenticationProvider)\n        .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class);\n\n    return http.build();\n}\n</code></pre>\n<p>I have been reading the answers, and it seems that creating a custom filter is considered a bad practice. Is it possible to handle 404 and 403 errors with a message? If so, how can I achieve that?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 122454955,
          "body": "Do you provide and load a URL anywhere? Maybe the search context is <code>null</code> because no website has been loaded."
        },
        {
          "comment_id": 122455293,
          "body": "That&#39;s not the case. The search context is WebElement or WebDriver. Why is it null? Where do you initialize the WebDriver instance? You&#39;re passing driver to initElements - is it initialized somewhere?"
        },
        {
          "comment_id": 122458533,
          "body": "no, I have not initialized the WebDriver instance. Where do I need to initialize? My testbase code ``` public class TestBase  { \tWebDriver driver;  \t@BeforeTest \tpublic void setup() \t{ \t\tWebDriverManager.chromedriver().setup(); \t\tdriver = new ChromeDriver(); \t\tdriver.manage().window().maximize(); \t\tdriver.get(&quot;<a href=\"https://stage.aviationjobsearch.com/&quot;\" rel=\"nofollow noreferrer\">stage.aviationjobsearch.com/&quot;</a>); \t} } ```"
        },
        {
          "comment_id": 122474408,
          "body": "Please check your xpath is properly finding the element, in your developer tools. driver is unable to identify the element that is why it is returning the Null value"
        }
      ],
      "answers": [
        {
          "answer_id": 70618080,
          "body": "<p>Please use the same WebDriver instance from your TestBase class throughout all the scripts.\nEx., in LoginTest class remove the WebDriver declaration and modify the line:</p>\n<pre><code>HomePage objHomePage = new HomePage(TestBase.driver);\n</code></pre>\n<p>Make the WebDriver instance as static in TestBase class.</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 126848450,
              "body": "As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/71778917/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."
            }
          ],
          "answer_id": 71778917,
          "body": "<p>WebDriver driver; You are freshly declaring hence its null.</p>\n<p>public class LoginTest extends TestBase { //Comment this as you are already extending TestBase\n// WebDriver driver;</p>\n<p>//Also instead of mentioning driver //= new Chromedriver();\n// in before //method..write it here.</p>\n"
        },
        {
          "answer_id": 76041386,
          "body": "<pre><code>public class LoginStep {\npublic static WebDriver driver = new ChromeDriver();\nLoginPom lp = new LoginPom(driver);\n\n@Given(&quot;user navigate the login page&quot;)\npublic void user_navigate_the_login_page() {\n    WebDriverManager.chromedriver().setup();\n    //driver = new ChromeDriver();\n    driver.get(&quot;https://letcode.in/&quot;);\n    driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    lp.Loginbutton().click();\n</code></pre>\n<p>webdriver driver = new chromedriver();\nits working for me you have to initialize the browser first before entering into the steps</p>\n"
        }
      ],
      "last_activity_date": 1684670660,
      "question_id": 69282479,
      "body": "<p>The below code is failing in <code>homeSignInLink.click();</code> and giving error</p>\n<pre><code>&quot;NullPointerException: Cannot invoke &quot;org.openqa.selenium.SearchContext.findElement(org.openqa.selenium.By)&quot; because &quot;this.searchContext&quot; is null\n</code></pre>\n<p><strong>Code</strong></p>\n<pre><code>public class LoginTest extends TestBase\n{\n    WebDriver driver;\n    HomePage objHomePage = new HomePage(driver);\n     \n    @Test\n    public void login_check()\n    {\n        objHomePage.clickHomeSignInLink();\n        objHomePage.clickRecruiterSignInLink();\n    }\n}\n\npublic class HomePage\n{\n    WebDriver driver;\n    \n    @FindBy(xpath=&quot;//a[@class='nav-link bold' and text()='Sign in']&quot;) WebElement homeSignInLink;   \n    @FindBy(xpath=&quot;//a[text()='Recruiter sign in']&quot;) WebElement recruiterSignInLink;  \n\n    public HomePage(WebDriver driver)\n    {\n        this.driver = driver;\n        //This initElements method will create all WebElements\n        PageFactory.initElements(driver, this);\n    } \n    public void clickHomeSignInLink()\n    {   \n        homeSignInLink.click();\n    }\n    public void clickRecruiterSignInLink()\n    {\n        recruiterSignInLink.click();\n    }\n}\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548008,
          "body": "Two things. Firstly, don&#39;t do Thread.sleep. Instead use  (WebDriverWait) wait.until(ExpectedConditions.presenceOfElementLocated(...). But the issue you are having could be that you need to click the textfield first before you can sendkeys."
        },
        {
          "comment_id": 134548042,
          "body": "yes, as you can see at my code, i click the textfield first before i sendkeys"
        },
        {
          "comment_id": 134548098,
          "body": "Ah, I see now. Then chances are you might be using the wrong webelement. I see you are finding it by id. But sometimes you have to drill down a div or two to find the &#39;input&#39; element."
        }
      ],
      "last_activity_date": 1684670579,
      "question_id": 76299816,
      "body": "<p>org.openqa.selenium.ElementNotInteractableException: element not interactable &quot;when interacting with VueSelect</p>\n<p>so guys, in my current project i was interacting with VueSelect since we are using Nuxt.js\ni got the error : org.openqa.selenium.ElementNotInteractableException: element not interactable when i execute my code like below :</p>\n<pre><code>\n        WebElement currency = driver.findElement(By.id(&quot;select_currency&quot;));\n        Assert.assertTrue(currency.isDisplayed());\n        currency.click();\n        \n        Thread.sleep(3000);\n        \n        currency.sendKeys(&quot;Indonesian Rupiah&quot;);\n        \n        Thread.sleep(3000);\n        \n        currency.sendKeys(Keys.ENTER);\n\n        // below the frontend code in case you guys need it\n\n                        &lt;label&gt;Currency&lt;/label&gt;\n                        &lt;VueSelect\n                          :class=&quot;\n                            validationContext.errors[0]\n                              ? 'vs__dropdown-toggle-invalid'\n                              : ''\n                          &quot;\n                          :options=&quot;listCurrency&quot;\n                          placeholder=&quot;Select Currency&quot;\n                          label=&quot;text&quot;\n                          v-model=&quot;selectCurrency&quot;\n                          id=&quot;select_currency&quot;\n                        &gt;&lt;/VueSelect&gt;\n                     \n</code></pre>\n<p>i use Thread.sleep so i could check the interface</p>\n<p>before the code failed this is the latest condition before it's shut down</p>\n<p><a href=\"https://i.stack.imgur.com/DMKYx.png\" rel=\"nofollow noreferrer\">before it shut down</a></p>\n<p>it seems like it got error at the code : currency.sendKeys(&quot;Indonesian Rupiah&quot;); anybody could give me insight about this?</p>\n<p>i hope i could get some help</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547282,
          "body": "Use biginteger instead of long"
        },
        {
          "comment_id": 134547806,
          "body": "<code>ans = ans*i;</code> can be very huge and cause <i>integer overflow</i>"
        },
        {
          "comment_id": 134547819,
          "body": "@DmitryBychenko how do we resolve that problem?"
        },
        {
          "comment_id": 134547836,
          "body": "<code>return Enumerable.Range(1, n).Aggregate(1L, (s, a) =&gt; s * a % 1_000_000_007);</code>"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134547306,
              "body": "Can you please explain the logic behind &quot;If you have to write answer % 1000000007, you can (and I guess you should) use % operator every time in for loop.&quot;, what is the proof of correctness of this?"
            },
            {
              "comment_id": 134547359,
              "body": "@Max you can check it here: <a href=\"https://brestprog.by/topics/modulo/\" rel=\"nofollow noreferrer\">brestprog.by/topics/modulo</a> P.S. sorry for russian, i hope you can use Google Translator :)"
            },
            {
              "comment_id": 134547813,
              "body": "Technically, the last <code>ans % p;</code> is redundant: <code>return ans;</code> is enough"
            }
          ],
          "answer_id": 76299440,
          "body": "<p>If you have to write <code>answer % 1000000007</code>, you can (and I guess you should) use <code>%</code> operator every time in <code>for</code> loop.</p>\n<pre><code>long ans = 1;\nlong p = 1000000007;\n\nfor (int i = 0; i &lt; n; i++)\n{\n    ans = (ans * i) % p;\n}\n\nreturn ans % p;\n</code></pre>\n<p>If this is not enough, you can try this:</p>\n<pre><code>long ans = 1;\nlong p = 1000000007;\n\nfor (int i = 0; i &lt; n; i++)\n{\n    ans = ((ans % p) * (i % p)) % p;\n}\n\nreturn ans % p;\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684670532,
      "question_id": 76299415,
      "body": "<p>I am trying to solve the problem &quot;product of first n numbers&quot;</p>\n<pre><code>   long ans=1;\n\n    for(int i=1;i&lt;=n;i++){\n        ans = ans*i;\n    }\n    return ans % (1000000007) ;\n</code></pre>\n<p>I am incorrect result for large n, I suspect possible overflow. How do I go about solving it?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 76641091,
          "body": "If you&#39;re using <code>-passin file:.kp</code> as the password, you might want to try to supply that password as well :-): Right now you&#39;re performing <code>-srcstorepass:file .kp</code>"
        },
        {
          "comment_id": 76641330,
          "body": "I don&#39;t understand your comment :-("
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 76642379,
              "body": "I created the cacerts keystore using openssl, which let me set the password when it asked Enter Export Password: That part worked"
            }
          ],
          "answer_id": 44830386,
          "body": "<p>I have got this sorted out. I was using my password that is 'password' to update cacerts keystore in JDK while default password for cacerts keystore is 'changeit'</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 99570603,
              "body": "For what it&#39;s worth, I had only alpha numeric characters but I still got the error.  Exported a new one with only alpha characters and keytool worked?!"
            }
          ],
          "answer_id": 44831006,
          "body": "<p>Ok, so I have an answer.</p>\n\n<p>1: I had a non-ASCII character in the password.  openssl can handle that, keypass can't.</p>\n\n<p>2: Having created the private key with the non-ASCII password, I'm stuck with it, so I renamed that file .kpkey, and created a new .kp file with a pure ASCII password</p>\n\n<p>3: This required a change to 5:C:</p>\n\n<pre><code>openssl pkcs12 -export -in mike_ike_com.cer -inkey mike.privateKey.pass.pem -passin file:.kpkey -out mike_ike.p12 -name tomcat -caname root -chain -CAfile Comodo.root.crt \n</code></pre>\n\n<p>Note: when it asks \"Enter Export Password\" I give it the pw from .kp, NOT from .kpkey . The only change is <strong>-passin file:.kpkey</strong></p>\n\n<p>Everything else remains the same, and works</p>\n"
        },
        {
          "answer_id": 71079543,
          "body": "<p>I would like to add another possible cause:</p>\n<p>This error message can be misleading because it also occurs when the keystore is in an unsupported format.</p>\n"
        },
        {
          "answer_id": 74797128,
          "body": "<p>In our situation the Application Server was not opening the <code>Keystore.p12</code> that was supplied by the application, but the generated <code>KeyStore.p12</code> during startup. Both were in different (yet similar) paths but had different passwords.</p>\n"
        },
        {
          "answer_id": 76299791,
          "body": "<p>you just delete old keystore in User/upload_keystore.jsk\nand then reuse\nOn mac:</p>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n</code></pre>\n<p>On Android:</p>\n<pre><code>keytool -genkey -v -keystore %userprofile%\\upload-keystore.jks -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684670200,
      "question_id": 44830270,
      "body": "<p>Created a Certificate for Tomcat, trying to get it installed in new keystore, and getting error (Edit: ran it with -v option, now getting more info):</p>\n\n<pre><code>keytool error: java.io.IOException: keystore password was incorrect\njava.io.IOException: keystore password was incorrect\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2015)\n    at java.security.KeyStore.load(KeyStore.java:1445)\n    at sun.security.tools.keytool.Main.loadSourceKeyStore(Main.java:1894)\n    at sun.security.tools.keytool.Main.doImportKeyStore(Main.java:1926)\n    at sun.security.tools.keytool.Main.doCommands(Main.java:1021)\n    at sun.security.tools.keytool.Main.run(Main.java:340)\n    at sun.security.tools.keytool.Main.main(Main.java:333)\nCaused by: java.security.UnrecoverableKeyException: failed to decrypt safe contents entry: java.io.IOException: getSecretKey failed: Password is not ASCII\n</code></pre>\n\n<p>Sadly, it's correct, the passphrase has two \"®\".  So, given what I've done (the private key has the non-ASCII password), how much of a pain will it be to recover from this?:</p>\n\n<pre><code>1: Create a passphrase file: vi .kp\n2: Make CSR:\nA: Generate a 2048 bit private key:\nopenssl genpkey -algorithm RSA -outform PEM -out mike.privateKey.pass.pem -pkeyopt rsa_keygen_bits:2048 -pass file:.kp\nB: Make the CSR:\nopenssl req -new -sha256 -key mike.privateKey.pass.pem -out mike.ike.com.cert.csr\nNote: CSR has different \"challenge password\" than in the passphrase file, if that matters\n3: Submit CSR to Comodo\n4: Get certificate file mike_ike_com.cer &amp; Comodo trust chain files: COMODORSAOrganizationValidationSecureServerCA.crt, COMODORSAAddTrustCA.crt, AddTrustExternalCARoot.crt\n5: Convert the Certificates:\nA: Convert to PEM:\nopenssl x509 -inform DER -in COMODORSAOrganizationValidationSecureServerCA.crt -out COMODORSAOrganizationValidationSecureServerCA.pem -outform PEM\nopenssl x509 -inform DER -in COMODORSAAddTrustCA.crt -out COMODORSAAddTrustCA.pem -outform PEM\nopenssl x509 -inform DER -in AddTrustExternalCARoot.crt -out AddTrustExternalCARoot.pem -outform PEM\nB: Concat into a single file:\ncat COMODORSAOrganizationValidationSecureServerCA.pem COMODORSAAddTrustCA.pem AddTrustExternalCARoot.pem &gt; Comodo.root.crt \nC: Use openssl to create a pkcs12 file:\nopenssl pkcs12 -export -in mike_ike_com.cer -inkey mike.privateKey.pass.pem -passin file:.kp -out mike_ike.p12 -name tomcat -caname root -chain -CAfile Comodo.root.crt \nNote: when it asks \"Enter Export Password\" I give it the pw from .kp\n6: Use keytool to create the keystore file:\n$JAVA_HOME/bin/keytool -importkeystore -deststorepass:file .kp -destkeypass:file .kp -destkeystore .keystore -srckeystore mike_ike.p12 -srcstoretype PKCS12 -srcstorepass:file .kp -alias tomcat\n</code></pre>\n\n<p>The file \".keystore\" does not exist.  I am assuming that keytool will create it</p>\n"
    },
    {
      "answers": [
        {
          "answer_id": 74095386,
          "body": "<h1>Iterative implementation</h1>\n<p>Here's the algorithm for generating all non-empty subarrays of the given array iteratively:</p>\n<ul>\n<li><p>Maintain two nested lists: one for subarrays that are in progress and the resulting list for subarrays that are already built.</p>\n</li>\n<li><p>At each iteration step, create a <em>copy</em> of each subarray that is still in progress and add the next element to it. Whilst the <em>original subarray</em> goes into the resulting list intact.</p>\n</li>\n<li><p>At the very end of the iteration, add a singleton list containing the next element into the list containing subarrays with we will continue to work, so that on the next iteration step this list would serve as a blueprint for a new subarray and immediately will go into the resulting list.</p>\n</li>\n</ul>\n<p>That's how it can be implemetned:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; getSubArrays(int[] arr) {\n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    List&lt;List&lt;Integer&gt;&gt; inProgress = new ArrayList&lt;&gt;();\n    \n    for (int next: arr) {\n        List&lt;List&lt;Integer&gt;&gt; proceedWith = new ArrayList&lt;&gt;();\n        \n        for (List&lt;Integer&gt; subArray: inProgress) {\n            result.add(subArray); // we are done with this subarray\n            \n            List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(subArray);\n            copy.add(next);\n            proceedWith.add(copy); // we should continue working with copy\n        }\n        \n        proceedWith.add(List.of(next)); // to avoid empty subarrays appear in the result\n        inProgress = proceedWith;\n    }\n    \n    result.addAll(inProgress);\n    \n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    int[] arr = {1, 2, 3};\n    \n    getSubArrays(arr).forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1]\n[1, 2]\n[2]\n[1, 2, 3]\n[2, 3]\n[3]\n</code></pre>\n<h1>Recursive implementation</h1>\n<p>The main logic remains the same:</p>\n<ul>\n<li><p>Every subarray serves as a blueprint for another subarray in case if there are some unused elements left.</p>\n</li>\n<li><p>Each single-element subarray produces a new branch of subarrays (if there are some unused elements left).</p>\n</li>\n</ul>\n<p><strong>Base case</strong> (the condition when recursion should terminate) - there are no elements to explore, i.e. current index is equal to array's length.</p>\n<p><strong>Recursive case:</strong></p>\n<ul>\n<li><p>Create a copy of the subarray received as an argument and add the next element to, original subarray should go into the resulting list.</p>\n</li>\n<li><p>Then perform two recursive calls: one with the subarray's copy, another with a single-element subarray (containing the next element).</p>\n</li>\n</ul>\n<p>That's how recursive implementation might look like:</p>\n<pre><code>public static List&lt;List&lt;Integer&gt;&gt; getSubArraysRecursively(int[] arr) {\n    \n    if (arr.length == 0) return Collections.emptyList();\n    \n    List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; subarray = List.of(arr[0]);\n    generateSubArrays(result, subarray, arr, 1);\n    \n    return result;\n}\n\nprivate static void generateSubArrays(List&lt;List&lt;Integer&gt;&gt; result,\n                                      List&lt;Integer&gt; subarray,\n                                      int[] arr, int i) {\n    \n    if (i == arr.length) { // base case\n        result.add(subarray);\n        return;\n    }\n    \n    // recursive case\n    result.add(subarray);\n\n    List&lt;Integer&gt; copy = new ArrayList&lt;&gt;(subarray);\n    copy.add(arr[i]);\n    \n    generateSubArrays(result, copy, arr, i + 1); // proceed working with the copy\n    \n    generateSubArrays(result, List.of(arr[i]), arr, i + 1); // start a new branch of subarrays\n}\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 130823374,
              "body": "<code>[1]</code> repeats 7 times: that&#39;s no good."
            },
            {
              "comment_id": 130824027,
              "body": "Thank you Arvind for the solution, learned a lot here! Unfortunately, the output is not what I was hoping for. Apologies for not being clear!"
            },
            {
              "comment_id": 130831227,
              "body": "@Alex - That was an easy fix and you could do it. Feel free to edit posts to fix something like this. Anyway, thanks for pointing it out. I have fixed it now."
            },
            {
              "comment_id": 130831269,
              "body": "@PatPatPat - Most welcome! I wrote the answer during a meeting break 😊. I had hardly 5 minutes to write the answer and after that, I have been in back-to-back meetings. Just got time to fix it./"
            }
          ],
          "answer_id": 74095399,
          "body": "<h2><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#subList-int-int-\" rel=\"nofollow noreferrer\"><code>List#subList</code></a></h2>\n<p>You can do it with simple nested loops, a counter and some functions e.g. <code>Math#min</code>, <code>List#subList</code> etc. as shown below:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String args[]) {\n        int[] arr = { 1, 1, 1, 1 };\n        List&lt;Integer&gt; list = Arrays.stream(arr).boxed().toList();\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        int counter = 1;\n        for (int i = 0; i &lt; arr.length; i++) {\n            for (int j = 0; j &lt; arr.length; j++) {\n                List&lt;Integer&gt; sublist = list.subList(j, Math.min(j + counter, arr.length));\n                if (sublist.size() == counter)\n                    result.add(sublist);\n            }\n            counter++;\n        }\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>[[1], [1], [1], [1], [1, 1], [1, 1], [1, 1], [1, 1, 1], [1, 1, 1], [1, 1, 1, 1]]\n</code></pre>\n"
        },
        {
          "answer_id": 76299770,
          "body": "<p>Using List and stream we can get all SubArrays from an array.</p>\n<pre><code>public static void listSubArrays() {\n    int[] array = new int[] {1, 2, 3};\n    List&lt;List&lt;Integer&gt;&gt; subArrays = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; list =\n            Arrays.stream(array).boxed().collect(Collectors.toList());\n    for (int i = 0; i &lt; array.length; i++) {\n        for (int j = i; j &lt; array.length; j++){\n            subArrays.add(list.subList(i, j+1));\n        }\n    }\n    subArrays.stream().forEach(System.out::println);\n}\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684669877,
      "question_id": 74094646,
      "body": "<p>How to generate all subarrays from an initial array?</p>\n<p>Let's consider an array: <code>[1,1,1,1]</code>.</p>\n<p>I would like to generate all possible subarrays (in no particular order).</p>\n<p><em>Expected result:</em></p>\n<pre><code>[1], [1], [1], [1], \n[1, 1], [1, 1], [1, 1],\n[1, 1, 1], [1, 1, 1],\n[1, 1, 1, 1]\n</code></pre>\n<p><em>My attempt:</em></p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\ngenerateAllSubArrays(nums, list, 0, 0);\n</code></pre>\n<pre><code>private void generateAllSubArrays(int[] nums, List&lt;List&lt;Integer&gt;&gt; list, int start, int end) {\n    if (end == nums.length) {\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        for (int n : nums) {\n            l.add(n);\n        }\n        list.add(l);\n    } else if (start &gt; end) {\n        generateAllSubArrays(nums, list, 0, end + 1);\n    } else {\n        List&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        for (int i = start; i &lt; end; i++) {\n            l.add(nums[i]);\n        }\n        list.add(l);\n        generateAllSubArrays(nums, list, start + 1, end);\n    }\n}\n</code></pre>\n<p>I'm getting the following result:</p>\n<pre><code>[[], [1], [], [1, 1], [1], [], [1, 1, 1], [1, 1], [1], [], [1, 1, 1, 1]]\n</code></pre>\n<p><em>Issues:</em></p>\n<ul>\n<li><p>Some empty lists <code>[]</code> are present in the result (which is undesired). Unfortunately, I failed to understand why they are here.</p>\n</li>\n<li><p>Some of the expected values are absent, making the result incorrect.</p>\n</li>\n</ul>\n<p>What did I do wrong, and what should I do in order to get the correct computation?</p>\n<p>I believe what I tried is using some sort of recursion, increasing space and time complexity. What would be the algorithm with the best space and time complexity?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547726,
          "body": "So what exactly is the problem with the snippet below? How does its behavior differ from the expected behavior?"
        },
        {
          "comment_id": 134547735,
          "body": "It is not clear what you mean by &quot;check the quantities of the inventory&quot;."
        },
        {
          "comment_id": 134547784,
          "body": "Well , when I give the same question after I posted my this, my professor said check &quot;specific quantity of item&quot;."
        },
        {
          "comment_id": 134547854,
          "body": "The question is still not fully clear, and you&#39;ll probably want to discuss this with your instructor. Note though that if this were my code, I&#39;d create a new class, one that holds a String field for the item and an int field for the batch. I&#39;d then create an array list of this class, and fill it with MyClass items. <code>ArrayList&lt;MyClass&gt;</code>"
        }
      ],
      "last_activity_date": 1684669799,
      "question_id": 76299699,
      "body": "<p>So my problem here is that our professor want us to create a 2-Dim arraylist that adds an item and check it's respective quantity:</p>\n<p>Like this output:</p>\n<pre><code>Apple 10 \nBanana 20 \n</code></pre>\n<p>Both of these are supposedly a String data types, but because I used &quot;Integer.parseInt()&quot;, I turned the string values &quot;10&quot; and &quot;20&quot; into integer.</p>\n<p>After this I don't know now how to add these values in order for me to meet the 2nd requirement, which is to check the quantities of the inventory that I made. I attempted multiple times how to solve this but it always result in a error.</p>\n<p>How do I solve this?</p>\n<p>Btw this is my code in question:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.ArrayList;\n\npublic class Inventory {\n\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        ArrayList&lt;ArrayList&lt;Object&gt;&gt; myInventory = new ArrayList&lt;&gt;();\n        String item, batch, answer;\n        do {\n            ArrayList&lt;Object&gt; myRow = new ArrayList&lt;&gt;();\n            System.out.print(&quot;Enter a Item: &quot;);\n            item = input.nextLine();\n            myRow.add(item);\n            System.out.print(&quot;Enter a batch: &quot;);\n            batch = input.nextLine();\n            myRow.add(parseInput(batch));\n            System.out.print(&quot;\\n&quot;);\n            myInventory.add(myRow);\n            System.out.print(&quot;Do you want to continue?: &quot;);\n            answer = input.nextLine();\n        } while(answer.equalsIgnoreCase(&quot;yes&quot;));\n        for(ArrayList&lt;Object&gt; myRow : myInventory) {\n            for(Object toInv : myRow){\n                System.out.print(toInv + &quot; &quot;);\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n        input.close();\n    }\n\n    public static Object parseInput(String batch) {\n        try {\n            return Integer.parseInt(batch);\n        } catch (NumberFormatException e) {\n            return batch;\n        }\n    }\n}\n</code></pre>\n<p>This is the current result when I input the values:</p>\n<pre><code>Enter a Item: Milk\nEnter a batch: 8\n\nDo you want to continue?: Yes\nEnter a Item: Chocolate\nEnter a batch: 7\n\nDo you want to continue?: Yes\nEnter a Item: Chips\nEnter a batch: 2\n\nDo you want to continue?: no\nMilk 8 \nChocolate 7\nChips 2\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 104009885,
          "body": "post your code!"
        },
        {
          "comment_id": 104010111,
          "body": "Could you prepare some picture that so your idea? Maybe that could help."
        },
        {
          "comment_id": 104010154,
          "body": "@TrầnĐứcT&#226;m I already posted an image"
        },
        {
          "comment_id": 104010401,
          "body": "post your xml file too"
        },
        {
          "comment_id": 104010490,
          "body": "I guest you problem is you set the peek height before the CordinatorLayout done it measure task. Let try the <code>post</code> method of the view. <a href=\"https://stackoverflow.com/questions/13840007/what-exactly-does-the-post-method-do\" title=\"what exactly does the post method do\">stackoverflow.com/questions/13840007/&hellip;</a>"
        },
        {
          "comment_id": 104010560,
          "body": "@TrầnĐứcT&#226;m I&#39;ve tried with the post method, but it hasnt worked"
        }
      ],
      "answers": [
        {
          "answer_id": 76299636,
          "body": "<p>You can set the peek height of a BottomSheet to a specific view using the setPeekHeight method of the BottomSheetBehavior class. Here's an example:</p>\n<pre><code>ViewTreeObserver vto = target_view.getViewTreeObserver();\n    vto.addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n        @Override\n        public void onGlobalLayout() {\n            target_view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n\n            // Get the height of the target view from the top of its parent view\n            int targetViewHeight = target_view.getTop();\n            // Set the peek height of the BottomSheet to the height of the target view\n            bottomSheetBehavior.setPeekHeight(targetViewHeight);\n            // Set the state of the BottomSheet to collapsed\n            bottomSheetBehavior.setState(BottomSheetBehavior.STATE_COLLAPSED);\n\n        }\n    });\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684669256,
      "question_id": 58870631,
      "body": "<p>I have a <code>bottomsheet behavior</code> in a <code>linear layout</code>. I need to set the <code>peak height</code> of the <code>bottom sheet</code> to below this <code>button</code>, so it works great on all screens instead of giving a constant value.</p>\n<p>The <code>bottom sheet</code> is inside a <code>CoordinatorLayout</code> that has that weird transparent big space. I want the sheet to fill up that space<br />\nThe rounded bottom sheet's <code>peak height</code> should match up to below the Fireworks text</p>\n<p><img src=\"https://i.stack.imgur.com/bQxkE.png\" alt=\"\" /></p>\n<p>I have tried with <code>setPeekHeight(ContainerOfBottomSheet.getMeasuredHeight());</code> but it seems to return 0 or an extremely big value.\nHow can I do that?</p>\n<p><strong>UPDATE</strong><br />\nThis is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void SettingSheet(LinearLayout sheet, final CoordinatorLayout c) {\n      final BottomSheetBehavior beh = BottomSheetBehavior.from(sheet);\n        \n      c.measure(ActionBar.LayoutParams.WRAP_CONTENT, ActionBar.LayoutParams.WRAP_CONTENT);\n      CHeight = c.getMeasuredHeight();\n        \n      beh.setPeekHeight(CHeight);\n            }\n</code></pre>\n<p>//This is making the big value I have talked about.</p>\n"
    },
    {
      "last_activity_date": 1684668875,
      "question_id": 76291590,
      "body": "<p>I have a JSP page, where we have some reports displayed post fetching details from database.</p>\n<p>Now I want sumbit button on same page, once we click on the submit button. It should send report of that JSP page to mention email id.</p>\n<p>I don't have any idea. How to implement it . I want sample JSP code to do the above task.</p>\n"
    },
    {
      "last_activity_date": 1684668740,
      "question_id": 76299657,
      "body": "<p>I am trying to create a bean that is using the DataObject to collect value from a document.</p>\n<p>code is inspired by this <a href=\"https://stackoverflow.com/questions/23082652/example-of-how-to-use-a-managed-bean-to-read-write-to-a-configuration-notes-do\">post</a></p>\n<pre><code>package com.consili;\nimport lotus.domino.*;\n\nimport java.util.*;\nimport com.ibm.xsp.extlib.util.ExtLibUtil;\nimport java.io.*;\nimport com.ibm.xsp.model.DataObject;\n\npublic class ConfigBean implements DataObject, Serializable { \n\n    private static final long serialVersionUID = 1L;\n    private static HashMap&lt;Object,Object&gt; config = null; \n\n    public ConfigBean() throws NotesException, IOException, ClassNotFoundException{ \n        config = new java.util.HashMap&lt;Object,Object&gt;(); \n        readFromDocument(); \n    }\n\n    public void readFromDocument() throws NotesException, IOException, ClassNotFoundException{ \n        Database db = ExtLibUtil.getCurrentSession().getCurrentDatabase(); \n        View view = db.getView(&quot;Settings&quot;); \n        Document doc = view.getFirstDocument();\n        if(doc==null) throw new IllegalArgumentException(&quot;doc cannot be null.&quot;);\n        \n        if(doc!=null){\n            Iterator&lt;Item&gt; items = doc.getItems().iterator(); \n            while(items.hasNext()){\n                Item item =  items.next(); \n                setValue(item.getName(), item.getValueCustomData()); \n            }                 \n            doc.recycle(); \n            view.recycle(); \n            db.recycle(); \n        }\n    }\n\n    public void saveToDocument(){ \n        //.. write the HashMap back to your document. \n    }\n\n    @Override\n    public Object getValue(Object key) {\n        if (key == null) {\n            throw new IllegalArgumentException(&quot;Key cannot be null.&quot;);\n        } \n        return config.get(key); \n    }\n\n    @Override\n    public boolean isReadOnly(Object arg0) {\n        // TODO Auto-generated method stub\n        return false;\n    }\n\n    @Override\n    public void setValue(Object key, Object value) {\n        \n        if (key == null  || value == null) {\n               throw new IllegalArgumentException(&quot;Key or value cannot be null.&quot;);\n        } \n        config.put(key.toString(), value); \n    }\n\n    @Override\n    public Class&lt;ConfigBean&gt; getType(Object id) {\n          return ConfigBean.class;\n    }\n }\n\n\n\n &lt;managed-bean&gt;\n    &lt;managed-bean-name&gt;Config&lt;/managed-bean-name&gt;\n    &lt;managed-bean-class&gt;com.consili.ConfigBean&lt;/managed-bean-class&gt;\n    &lt;managed-bean-scope&gt;session&lt;/managed-bean-scope&gt;\n  &lt;/managed-bean&gt;\n</code></pre>\n<p>the form in the settings doc contain two fields Title and WebUrl\nif I add one inputbox to the xpage it throws a class not found exception</p>\n<p>javax.faces.FacesException: javax.faces.FacesException: can't create an instanse of the class: 'com.consili.ConfigBean'.. null</p>\n<pre><code> &lt;xp:inputText id=&quot;inputText1&quot; value=&quot;#{Config.Title}&quot;&gt;&lt;/xp:inputText&gt;\n</code></pre>\n<p>I noticed that if I comment out this line</p>\n<pre><code> setValue(item.getName(), item.getValueCustomData()); \n</code></pre>\n<p>the page works and displays the input box, but then the map values would not be be set.</p>\n<p>what can be wrong?</p>\n<p>a side note, If I show the webpage as preview in webbrowser instead of the server the client crash with the following error</p>\n<p><a href=\"https://i.stack.imgur.com/MyW7c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MyW7c.png\" alt=\"enter image description here\" /></a></p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134326899,
          "body": "Have you tried to use different link or url that ends with some valid extension of audios like .mp3 ? Because as per your error , it looks like <code>Exoplayer</code> is not able to identify your audio because of html link"
        },
        {
          "comment_id": 134355711,
          "body": "Indeed, with that link it played the music before but now it doesn&#39;t, it&#39;s an online radio link and I know it works because it&#39;s active at all times"
        }
      ],
      "last_activity_date": 1684668436,
      "question_id": 76169226,
      "body": "<p>Good evening Devs, I have a problem when compiling or running in a radio app, the first time I tried it it worked completely fine but now with the same project it doesn't play and it throws me this error in the exoplayer when I run it, I've already I tried everything and it doesn't work for me.</p>\n<p>The streaming link I use comes from shoutcast.com and it works fine.</p>\n<p>It is this: <a href=\"https://radio.voxstream.net:7032/index.html?sid=1\" rel=\"nofollow noreferrer\">https://radio.voxstream.net:7032/index.html?sid=1</a></p>\n<p>It should be noted that it is a project that a friend asked me to review and I don't have much knowledge on the subject other than basic Kotlin and dependencies.</p>\n<p>Source error.</p>\n<blockquote>\n<p>com.google.android.exoplayer2.source.UnrecognizedInputFormatException:\nNone of the available extractors (MatroskaExtractor,\nFragmentedMp4Extractor, Mp4Extractor, Mp3Extractor, AdtsExtractor,\nAc3Extractor, TsExtractor, FlvExtractor, OggExtractor, PsExtractor,\nWavExtractor, AmrExtractor) could read the stream.\nat\ncom.google.android.exoplayer2.source.ExtractorMediaPeriod$ExtractorHolder.selectExtractor(ExtractorMediaPeriod.java:973)\nat\ncom.google.android.exoplayer2.source.ExtractorMediaPeriod$ExtractingLoadable.load(ExtractorMediaPeriod.java:891)\nat\ncom.google.android.exoplayer2.upstream.Loader$LoadTask.run(Loader.java:381)\nat\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nat\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nat java.lang.Thread.run(Thread.java:923)</p>\n</blockquote>\n<p>Config.java from app:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.creativoagencia.lasabrosadechile;\n\npublic class Config {\n\n    /**\n     * URL DE SERVIDOR\n     */\n    public static final String BASE_URL = &quot;https://system.easywebecuador.com/panelradiotv/server/public/&quot;;\n    public static final String URL_SERVER = BASE_URL+ &quot;api/&quot;;\n    /**\n     * ID DE USUARIO EN EL SERVIDOR\n     */\n    public static final int ID_USER = 372;\n\n    /**\n     * TERMINOS Y CONDICIONES\n     */\n    public static final String TERMINOS = &quot;\\n&quot; + &quot;https://livestreamingmundial.com/privacidad&quot;;\n\n    /**\n     * Typeface Menu lateral\n     */\n    public static final int TYPEFACE_DRAWER = R.font.clanpro;\n\n\n    //Ingrese las Url de su Streaming de Audio y Video\n    public static final String RADIO_STREAM_URL = &quot;https://radio.voxstream.net:7032/index.html?sid=1&quot;;\n    public static final String TV_STREAM_URL = &quot;none&quot;;\n\n    //Acrivar el Uso de Panel de Control\n    public static final boolean ENABLE_ADMIN_PANEL = false;\n    //Cololar la URL del Panel de Control\n    public static final String ADMIN_PANEL_URL = &quot;none&quot;;\n\n    //ads configuration\n    public static final boolean ENABLE_ADMOB_BANNER_ADS = false;\n    public static final boolean ENABLE_ADMOB_INTERSTITIAL_ADS_ON_LOAD = false;\n    public static final boolean ENABLE_ADMOB_INTERSTITIAL_ADS_ON_DRAWER_SELECTION = false;\n    public static final boolean ENABLE_ADMOB_INTERSTITIAL_ON_PLAY = false;\n    public static final int ADMOB_INTERSTITIAL_ON_PLAY_INTERVAL = 30;\n\n    //auto play function\n    public static final boolean ENABLE_AUTO_PLAY = true;\n\n    //layout customization\n    public static final boolean ENABLE_SOCIAL_MENU = true;\n\n    //album art configuration\n    public static final boolean ENABLE_ALBUM_ART = true;\n    public static final boolean ENABLE_CIRCULAR_IMAGE_ALBUM_ART = true;\n    public static final int ALBUM_ART_BORDER_WIDTH = 8;\n    public static final int ALBUM_ART_CORNER_RADIUS = 30;\n\n    //when it enabled, the radio will be reloaded and the metadata will immediately be updated\n    //there may be a slight delay on play audio streaming when the metadata is updated\n    public static final boolean FORCE_UPDATE_METADATA_ON_RESUME = true;\n\n    //splash screen duration in millisecond\n    public static final int SPLASH_SCREEN_DURATION = 3000;\n\n}\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547861,
          "body": "what does <code>here i tried use native entitymanager...</code> mean? it does not work either?"
        },
        {
          "comment_id": 134548477,
          "body": "@AndreyB.Panfilov that’s means I injected EntityManager into service (I thought that’s bug of spring data jpa, and tried that with EM)"
        }
      ],
      "last_activity_date": 1684668026,
      "question_id": 76299652,
      "body": "<p>Situation: the database stores URLs, and information on how many times they were clicked. Correspondingly, if there is a large load (for example, 100 requests at the same time), there is a great chance for a race condition, and we will, in fact, record a non-actual number of &quot;clicks&quot;.\nThe solution was the following: pessimistic blocking:</p>\n<pre><code>// entity\n@NamedQuery(\n    name = &quot;Link.findByIdForIncressClicks&quot;,\n    query = &quot;SELECT l FROM Link l WHERE l.id = :id&quot;,\n    lockMode = LockModeType.PESSIMISTIC_WRITE\n)\n\n// spring data jpa repository\n@Query(name = &quot;Link.findByIdForIncressClicks&quot;)\nOptional&lt;Link&gt; findByIdForIncressClicks(@Param(&quot;id&quot;) Long id);\n\n// service layer\n@Override\n@Transactional\npublic Link getLinkByShortCutURL(String shortUrl) {\n    Long id = encoder.decode(shortUrl);\n    // here i tried use native entitymanager...\n    // Link link = em.find(Link.class, id, PESSIMISTIC_WRITE);\n    Link link = linkRepository.findByIdForIncressClicks(id).get();\n    link.incressClicks();\n    return linkRepository.save(link);\n}\n</code></pre>\n<p>Everything seems to be ok. READ_COMMITTED level. But the wrong value is still being written to the database (tests via JMeter: 40 clicks, 35 saved)\nThe select of hibernate in console:</p>\n<pre><code>Hibernate:\n    select\n        l1_0.id,\n        l1_0.clicks_count,\n        l1_0.created,\n        l1_0.owner_id,\n        l1_0.url\n    from\n        link_info.link l1_0\n    where\n        l1_0.id=?\nHibernate:\n    select\n        id\n    from\n        link_info.link\n    where\n        id=? for update\nHibernate:\n    update\n        link_info.link\n    set\n        clicks_count=?,\n        created=?,\n        owner_id=?\n    where\n        id=?\n</code></pre>\n<p>Idk, but hibernate doing first <code>select entity</code>,\ninstead of <code>select for update</code> on <code>id</code>.</p>\n<p>How i can fix that? Maybe i have wrong using pessimistic locks in JPA?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134178358,
          "body": "This is an HTTP client, not a REST client.  Try okhttp, which allows construction of an url instead or jax-rs"
        },
        {
          "comment_id": 134178383,
          "body": "or just <code>setUrl(v3_USER_DETAILS.replace(&quot;{userId}&quot;, userId))</code>"
        }
      ],
      "answers": [
        {
          "answer_id": 76299630,
          "body": "<p>I checked out the library's code, and it looks like it doesn't support inserting path parameters into URLs. You can easily add a query parameter using <code>addQueryParam(String name, String value)</code>, but there is no method to insert a path parameter as in your example. You have to prepare the whole path part another way, for example, using <code>String::replace()</code> as suggested in a comment.</p>\n"
        }
      ],
      "last_activity_date": 1684667834,
      "question_id": 75766485,
      "body": "<p>I am using <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"nofollow noreferrer\">AsyncHttpClient</a> for making HTTP calls. I am unable to find a solution to set a path parameter in a URL. Here is an example:</p>\n<pre><code>userId = &quot;dmsask121&quot;\nString v3_USER_DETAILS = &quot;http://example.com/users/{userId}/details&quot;;\nRequest request = new RequestBuilder(HttpConstants.Methods.GET)\n        .setUrl(v3_USER_DETAILS)\n        // some way to set userId in the URL??\n        .build();\nreturn execute(request)\n</code></pre>\n<p>Thanks in advance for your help.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547574,
          "body": "<code>equals</code> should work with any string, regardless of whether it&#39;s one word, multiple words, or just gibberish. Can you share a concrete example including the <code>books</code> list you have and the input string?"
        },
        {
          "comment_id": 134547597,
          "body": "You should add more details."
        },
        {
          "comment_id": 134547598,
          "body": "What do you expect to happen when your input for <code>bookname</code> is something like <code>&quot;name1 name2&quot;</code>? Why would that make <code>equalsIgnoreCase</code> on a single book&#39;s title return true?"
        },
        {
          "comment_id": 134547766,
          "body": "The problem is not with <code>equals</code>.  The problem is that you are only &gt;&gt;reading&lt;&lt; one word when you call <code>next()</code>.   See the duplink."
        }
      ],
      "last_activity_date": 1684667561,
      "question_id": 76299589,
      "body": "<p>When I use <code>equals()</code> method on a string with more than one word it doesn't work properly and says book not found</p>\n<pre class=\"lang-java prettyprint-override\"><code> private static void search(ArrayList &lt;book&gt; b){\n       Scanner in = new Scanner(System.in);\n       System.out.println(&quot;Enter the name of the book&quot;);\n       String bookname = in.next();\n       boolean found = true;\n             for (book book : b){\n                if (book.getTitle().equalsIgnoreCase(bookname)) {\n                    found= true;\n                    System.out.println(book);\n                    break;\n                } else {\n                    found = false;\n                }\n            }\n            if (!found) {\n                System.out.println(&quot;Book is not found&quot;);\n            }\n}\n</code></pre>\n<p>I suppose it compares 2 strings no matter what but it only works if it's one word</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547572,
          "body": "Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/76299563/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be tested by others. Also see <a href=\"//meta.stackoverflow.com/questions/271055\">Tips for asking a good Structured Query Language (SQL) question</a>. It is unclear what you are asking or what the problem is."
        },
        {
          "comment_id": 134547852,
          "body": "It is unclear what you are asking about.  What do you mean by &quot;dynamic input&quot;?  Input from what or who?  Are you asking about how to do that? Or are you asking about how to format the output?  Or are you asking about how <i>select</i> on a column whose name is an input?   I&#39;m afraid that we can&#39;t answer you unless you are clear in your question.   Clear enough that we can understand  you."
        }
      ],
      "last_activity_date": 1684667498,
      "question_id": 76299563,
      "body": "<p>I want to fetch the column first from the mysql database and then also input the the values inside it on the dynamic input and get all the details of the rest of the columns also . can anyone tell me how to do that.\nIn short on console I have to put the column name first and then will get the values inside it print on the console.\ncan anyone help me how to do it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    }\n    private void selectRecord() throws SQLException {\n        System.out.println(&quot;enter the id to get the result&quot;);\n        int number = Integer.parseInt(scanner.nextLine());\n        String sql = &quot;select * from your_table_name where id = &quot; + number;\n        Statement statement = connection.createStatement();\n        \n        ResultSet resultSet = statement.executeQuery(sql);\n        \n        if(resultSet.next()) {\n            int int1 = resultSet.getInt(&quot;id&quot;);\n            String string = resultSet.getString(&quot;name&quot;);\n            String string2 = resultSet.getString(&quot;salary&quot;);\n            String string3 = resultSet.getString(&quot;email&quot;);\n            System.out.println(&quot;id is &quot;+ int1);\n            System.out.println(&quot;name is &quot;+ string);\n            System.out.println(&quot;salary is &quot;+ string2);\n            System.out.println(&quot;email is &quot;+ string3);\n        }else {\n            System.out.println(&quot;record is not available&quot;);\n        }\n        \n    }\n}\n}\n</code></pre>\n"
    },
    {
      "last_activity_date": 1684667265,
      "question_id": 76299562,
      "body": "<p>I'm trying to use websocket.io-client java for my minecraft fabric mods so i added this code in my build.gradle file</p>\n<pre><code>dependencies {\n    // other implementation\n    implementation 'org.json:json:20211205'\n    implementation ('io.socket:engine.io-client:2.1.0') {\n        // excluding org.json which is provided by Android\n        exclude group: 'org.json', module: 'json'\n    }\n    // Socket IO\n    implementation ('io.socket:socket.io-client:2.1.0') {\n        // excluding org.json which is provided by Android\n        exclude group: 'org.json', module: 'json'\n    }\n}\n</code></pre>\n<p>and its work well in my IDE. But after i built the mod and add it into my launcher, it crashed for</p>\n<pre><code>java.lang.RuntimeException: Could not execute entrypoint stage 'main' due to errors, provided by 'cloudchat'!\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.lambda$invoke0$0(EntrypointUtils.java:51)\n    at net.fabricmc.loader.impl.util.ExceptionUtil.gatherExceptions(ExceptionUtil.java:33)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:49)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke(EntrypointUtils.java:35)\n    at net.fabricmc.loader.impl.game.minecraft.Hooks.startClient(Hooks.java:52)\n    at net.minecraft.class_310.&lt;init&gt;(class_310.java:468)\n    at net.minecraft.client.main.Main.main(Main.java:198)\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:462)\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74)\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.multimc.onesix.OneSixLauncher.launchWithMainClass(OneSixLauncher.java:210)\n    at org.multimc.onesix.OneSixLauncher.launch(OneSixLauncher.java:245)\n    at org.multimc.EntryPoint.listen(EntryPoint.java:143)\n    at org.multimc.EntryPoint.main(EntryPoint.java:34)\n    Suppressed: java.lang.BootstrapMethodError: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_634 failed\n        at de.keksuccino.fancymenu.networking.Packets.registerAll(Packets.java:25)\n        at de.keksuccino.fancymenu.FancyMenu.onInitialize(FancyMenu.java:154)\n        at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\n        ... 15 more\n    Caused by: java.lang.RuntimeException: Mixin transformation of net.minecraft.class_634 failed\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:427)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:323)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 18 more\n    Caused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\n        at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392)\n        at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234)\n        at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202)\n        at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:422)\n        ... 22 more\n    Caused by: org.spongepowered.asm.mixin.transformer.throwables.MixinPreProcessorException: Attach error for CloudChat.mixins.json:ChatMixin from mod cloudchat during activity: [Transform -&gt; Method onSendChatMessage(Ljava/lang/String;Lorg/spongepowered/asm/mixin/injection/callback/CallbackInfo;)V -&gt; INVOKEVIRTUAL -&gt; io/socket/client/Socket::disconnect:()Lio/socket/client/Socket;]\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:313)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.createContextFor(MixinPreProcessorStandard.java:277)\n        at org.spongepowered.asm.mixin.transformer.MixinInfo.createContextFor(MixinInfo.java:1289)\n        at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:294)\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421)\n        at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403)\n        at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363)\n        ... 25 more\n    Caused by: java.lang.RuntimeException: java.lang.ClassNotFoundException: io.socket.client.Socket\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transformMemberReference(MixinPreProcessorStandard.java:786)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transformMethod(MixinPreProcessorStandard.java:772)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.transform(MixinPreProcessorStandard.java:738)\n        at org.spongepowered.asm.mixin.transformer.MixinPreProcessorStandard.attach(MixinPreProcessorStandard.java:307)\n        ... 31 more\n    Caused by: java.lang.ClassNotFoundException: io.socket.client.Socket\n        ... 35 more\nCaused by: java.lang.NoClassDefFoundError: io/socket/client/IO\n    at dev.dinofeng.cloudchat.socket.SocketConnection.connect(SocketConnection.java:18)\n    at dev.dinofeng.cloudchat.socket.SocketConnection.&lt;init&gt;(SocketConnection.java:14)\n    at dev.dinofeng.cloudchat.CloudChat.initClient(CloudChat.java:44)\n    at dev.dinofeng.cloudchat.CloudChatInitializer.onInitialize(CloudChatInitializer.java:16)\n    at net.fabricmc.loader.impl.entrypoint.EntrypointUtils.invoke0(EntrypointUtils.java:47)\n    ... 15 more\nCaused by: java.lang.ClassNotFoundException: io.socket.client.IO\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:226)\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:112)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 20 more\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n</code></pre>\n<p>I had tried to download the source and put it into src/main/java but seems not working.\nHow to fix it?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547421,
          "body": "<a href=\"https://stackoverflow.com/questions/68854192/its-correct-answer-is-22-but-i-am-getting-24-where-am-i-wrong-i-evaluate-the\" title=\"its correct answer is 22 but i am getting 24 where am i wrong i evaluate the\">stackoverflow.com/questions/68854192/&hellip;</a> might also be relevant since the expression is actually evaluated as <code>val1 %=  (3 + ++val1 + val2--)</code> and the left part results in the value <code>100</code>."
        },
        {
          "comment_id": 134547578,
          "body": "I think this becomes clear when you rewrite that statement so it becomes clear what that <code>val1%=</code> actually does: <code>Integer val3 = val1 = (val1 % (3 + ++val1 + val2--));</code>"
        }
      ],
      "last_activity_date": 1684666648,
      "question_id": 76299444,
      "body": "<p>Can anyone please elaborate on the below output? Not able to get why output will be 100</p>\n<pre><code>class Main {\n\n    public static void main(String args[]) {\n        Integer val1 = 100;\n        Integer val2 = 2;\n        Integer val3 = val1%=3 + ++val1 + val2--;\n        System.out.println(val3);\n    }\n}\n</code></pre>\n<p>I tried different ways but this concept is not clear to me.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 107508108,
          "body": "What have you researched so far?"
        },
        {
          "comment_id": 107508176,
          "body": "Besides @Thorbj&#248;rnRavnAndersen &#39;s comment, I would urge you to consider using two different docker containers.  One for your node.js application and one for your Elastic Search storage.  It looks like you&#39;re doing that with your Mongo container...  Btw, there should be Elastic Search containers already out there to use, but if you want to install it yourself, use one of the OpenJDK containers and then install Elastic Search on that container."
        },
        {
          "comment_id": 107519921,
          "body": "I would look at this <a href=\"https://stackoverflow.com/questions/49800652/run-java-in-docker-compose\" title=\"run java in docker compose\">stackoverflow.com/questions/49800652/run-java-in-docker-comp&zwnj;&#8203;ose</a>."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 107510189,
              "body": "This is most likely not what is really wanted here."
            },
            {
              "comment_id": 107510727,
              "body": "It’s more than nothing though isn’t it"
            }
          ],
          "answer_id": 60764093,
          "body": "<p>Docker-compose is a tool used to launch multiple containers from a single .yaml file. </p>\n\n<p>Add this line to your Dockerfile to install Java:</p>\n\n<pre><code>RUN apt-get update &amp;&amp; \\\napt-get install -y openjdk-8-jdk &amp;&amp; \\\napt-get install -y ant &amp;&amp; \\\napt-get clean;\n</code></pre>\n"
        },
        {
          "answer_id": 76299516,
          "body": "<p>Just add directive <strong>command</strong> see example. my base image is alpine. Now i am starting my image with composer and installing java. This working for me</p>\n<blockquote>\n<p>command: apk add --update openjdk11</p>\n</blockquote>\n<pre><code>---\n\nnetworks:\n  imaspc:\n    external: true\n\nservices:\n  hello_world:\n    image: test1:latest\n    container_name: test1\n    hostname: test1\n    tty: true\n    env_file:\n      - postgr.env\n    command: apk add --update openjdk11\n    networks:\n      - imaspc\n    labels:\n        - &quot;dbengine=postgres&quot;\n        - &quot;dbversion=14&quot;\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684666562,
      "question_id": 60763945,
      "body": "<p>I am building an node mongo project.\nI am using docker compose for the project.\nhere is my dockerFile</p>\n\n<pre><code>FROM node:carbon\nWORKDIR /usr/src/app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 8080\nCMD [ \"npm\", \"start\" ]\n</code></pre>\n\n<p>Here is docker-compose.yml</p>\n\n<pre><code>version: \"2\"\nservices:\n  app:\n    container_name: app\n    restart: always\n    build: .\n    ports:\n      - \"3000:3000\"\n    links:\n      - mongo\n  mongo:\n    container_name: mongo\n    image: mongo\n    volumes:\n      - ./data:/data/db\n    ports:\n      - \"27017:27017\"\n</code></pre>\n\n<p>Here I also want to install java using docker-compose. As I will need java for elastic search and for other purposes. So can any one help about how to install java using docker-compose in this project.</p>\n"
    },
    {
      "answers": [
        {
          "answer_id": 60124589,
          "body": "<p>The problem is this piece of code -</p>\n\n<pre><code>int lotteryDigit1 = lottery % 100;\n</code></pre>\n\n<p>For <code>lottery</code> = 554, <code>lotteryDigit1</code> will be set to 54. Similarly, <code>guessDigit1</code> is set to 42. Instead, lottery % 10 should give you the least significant digit here.</p>\n\n<p>Note - It's probably easy to figure out this flaw easily in this case, but learning how to use a debugger will help you in similar issues in future.</p>\n"
        },
        {
          "answer_id": 60124604,
          "body": "<p>So, in this case there's a couple very small bugs. When you're attempting to get digit 1, you modulo by 100. I believe you're meaning to modulo by 10 to get the digit in the 1s place. You can view this by putting in a debugger if you know how or simply printing out the values you have temporarily while you work out the bugs.</p>\n\n<p>One thing you didn't mention, but I think you'll see later is that your code for determining if the 3 numbers match is slightly incorrect:</p>\n\n<pre><code>        else if (guessDigit2 == lotteryDigit1 \n                &amp;&amp; guessDigit1 == lotteryDigit2\n                &amp;&amp; guessDigit3 == lotteryDigit3)\n</code></pre>\n\n<p>doesn't compare the correct pairs of digits.</p>\n"
        },
        {
          "answer_id": 63247959,
          "body": "<pre><code>public class Main {\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in); //make new scanner\n</code></pre>\n<p>// Generate a random three-digit number</p>\n<pre><code>    // Prompt the user to enter a three-digit number\n    //Generate random number with 3 diggits\n    int randomLottery = 100 + (int)(Math.random() * ((999 - 100)+1));\n    //Start scanner\n\n    //Prompt user to enter three digits\n    System.out.println(&quot; Enter the Guess number (three digit) integer&quot;);\n    int GuessUser = input.nextInt();\n\n    int GUESS1 = GuessUser /100;\n    int remainGuess = GuessUser % 100;\n\n    int guess2 = remainGuess /10;\n    int guess3= remainGuess % 10;\n\n\n    //Get  3 digits from lottery\n\n    int d1 = randomLottery /100;\n    int remainL = randomLottery % 100;\n\n    int d2 = remainL /10;\n    int d3= remainL % 10;\n\n    System.out.println(&quot; The lottery numbers are &quot; + d1 + &quot; &quot; + d2 + &quot; &quot; + d3 + &quot;!&quot;);\n\n    //**Check the guess and print out the award system.\n    /* if users input matches the lottery input in exact order price is 10000$*/\n\n    if (GuessUser == randomLottery ){\n        System.out.println(&quot;You have won $10000. HAMBALYO!!!!&quot;);\n\n        /* if all the DIGITS EQUAL $3000 */\n\n    }else if (((GUESS1 == d1) || (GUESS1 == d2) || (GUESS1 == d3)) &amp;&amp;\n            ((  guess2 == d1) || (guess2 == d2) || (guess2 == d3)) &amp;&amp;\n            ((guess3 == d1) || (guess3 == d2) || (guess3 == d3))){\n        System.out.println(&quot;ALL DIGITS MATCH! You have won $3000.&quot;);\n\n        /* if at least one digit matches the lottery number the award is 1000$ */\n\n    }else if (((GUESS1 == d1) || (GUESS1 == d2) || (GUESS1 == d3)) ||\n            ((guess2 == d1) || (guess2 == d2) || (guess2 == d3)) ||\n            ((guess3 == d1) || (guess3 == d2) || (guess3 == d3))){\n        System.out.println(&quot;At least one number is correct. You win $1000 &quot;);\n    }else\n        System.out.println (&quot;No match&quot;);\n}\n</code></pre>\n<p>}</p>\n"
        },
        {
          "answer_id": 67260524,
          "body": "<p>Well, here's a similar solution in <code>Javascript</code> I came up with:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log('Program started...');\n\n// Settings\nconst persist = true; // 1. Make sure the user inputs a number only, loop until the user inputs a number\n\n// Function: Generates 3 random numbers, between 1 and 10 (inclusive)\nconst generateNumbers = () =&gt; {\n  var arr = [];\n  while (arr.length &lt; 3) {\n    var r = Math.floor(Math.random() * 10) + 1;\n    arr.push(r);\n  }\n  return arr;\n};\n\nconst winningNumbers = generateNumbers(); // An array of the 3 winning numbers\n\n// Function: Prompt user for a number\nconst getUserNumber = (type = '', err = '') =&gt; {\n  var q = \"\";\n  if (err.trim() != '') q = \"\\n\" + err + \"\\n\";\n  q += \"Enter your \";\n  q += type;\n  q += \" number\";\n  var inp = prompt(q);\n  if (persist &amp;&amp; inp != null) {\n    if (inp.trim() == '' || isNaN(inp.trim())) getUserNumber(type, \"Error: Invalid input!\");\n  }\n  return inp;\n};\n\nvar userNumbers = []; // An array of the 3 user selected numbers\n\n// Loop user input\n['first', 'second', 'third'].forEach((e, i) =&gt; {\n  let n = getUserNumber(e);\n  userNumbers.push(Number(n));\n});\n\nvar correct = 0; // Store correct matches\n\nvar _winningNumbers = [...winningNumbers]; // Store winning numbers temporarily\n\n// Process correct answers\nuserNumbers.forEach(n =&gt; {\n  let count = _winningNumbers.filter(num =&gt; {\n    return num == n\n  }).length;\n  if (count &gt;= 1) {\n    correct += 1;\n    _winningNumbers.splice(_winningNumbers.indexOf(n), 1);\n  }\n});\n\n// Process user winnings\nconst getWinnings = () =&gt; {\n  var winnings = \"\";\n  switch (correct) {\n    case 1:\n      winnings = \"$100\";\n      break;\n    case 2:\n      winnings = \"$200\";\n      break;\n    case 3:\n      winnings = \"$500\";\n      break;\n    default:\n      winnings = \"$0\";\n      break;\n  }\n  return winnings;\n}\n\n// Alert winnings\nvar resp = \"\";\nresp += \"The computer's numbers are \";\nresp += winningNumbers.join(\" \");\nresp += \"\\n\";\nresp += \"Your guesses were \";\nresp += userNumbers.join(\" \");\nresp += \"\\n\";\nresp += \"You got \";\nresp += correct;\nresp += \" right\";\nresp += \"\\n\";\nresp += \"You've won \";\nresp += getWinnings();\n\n// Function: Show response to user and prompt 'Play again?''\nconst showResponse = (err = '') =&gt; {\n  var q = resp;\n  q += \"\\n\\n\";\n  if (err.trim() != '') q += \"\\n\" + err + \"\\n\";\n  q += \"Play Again? Y or N\";\n  var inp = prompt(q);\n  if (persist &amp;&amp; inp != null) {\n    if (inp.trim() == '' || !isNaN(inp.trim())) showResponse(\"Error: Invalid input!\");\n  }\n  if (inp.toLowerCase() == 'y') window.location.reload();\n};\n\nshowResponse();\n\nconsole.log('Winning numbers: ', winningNumbers);\nconsole.log('Selected numbers: ', userNumbers);\nconsole.log('Correct numbers: ', correct);\nconsole.log('Amount won: ', getWinnings());\n\nconsole.log('...program completed!');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Here's <a href=\"https://github.com/nzuqi/lottery\" rel=\"nofollow noreferrer\">the link</a> to the repo.</p>\n"
        }
      ],
      "last_activity_date": 1684666547,
      "question_id": 60124547,
      "body": "<p>Generate a lottery of a three digit number. The program prompts the user to enter a three-digit number and determines whether the user wins according to the following rules:</p>\n\n<ul>\n<li>(RULE 1). If the user input matches the lottery number in the exact order, the award is $10,000.</li>\n<li>(RULE 2). If all digits in the user input match all digits in the lottery number, the award is $3,000.</li>\n<li>(RULE 3). If one digit in the user input matches a digit in the lottery number, the award is $1,000.</li>\n</ul>\n\n<p>I need help getting my program to function as intended with all that is seen in the code. No arrays, no strings, nothing other than what is already there. My issue is that at Rule 3 I am not understanding why it is not recognizing a winning digit. For example, My guess numbers will be 142 and the lottery numbers will be 554 and it will say \"No Match, Better Luck Next Time\" rather than \"Matched one number even though there is one correct number in my guess.</p>\n\n<pre><code>import java.util.Scanner;\npublic class Lottery {\n    public static void main(String[] args) {\n\n        //generate random lottery numbers \n        int lottery = (int)(Math.random() * 1000);\n\n        //ask user to enter a 3 digit integer and store those numbers\n        Scanner numbers = new Scanner(System.in);\n        System.out.println(\"Please enter your lottery pick. Three Digits Only\");\n        int guess = numbers.nextInt();\n\n        // numbers for lottery\n        int lotteryDigit1 = lottery % 100;\n        int lotteryDigit2 = lottery % 100 / 10;\n        int lotteryDigit3 = lottery / 100;\n\n        //get digits from guess\n        int guessDigit1 = guess % 100; \n        int guessDigit2 = guess % 100 / 10; \n        int guessDigit3 = guess / 100; \n\n        //print out lottery numbers\n        System.out.println(\"The lottery numbers are: \" + lottery);\n\n        if (guess == lottery)\n            System.out.println(\"Exact Match!!! 10,000$ Prize!!!\");\n        else if (guessDigit2 == lotteryDigit1 \n                &amp;&amp; guessDigit1 == lotteryDigit2\n                &amp;&amp; guessDigit3 == lotteryDigit3)\n            System.out.println(\"Matched all numbers!!! 3,000$ Prize!!!\");\n        //Rule 3\n        else if (guessDigit1 == lotteryDigit1\n            || guessDigit1 == lotteryDigit2\n            || guessDigit1 == lotteryDigit3\n            || guessDigit2 == lotteryDigit1\n            || guessDigit2 == lotteryDigit2\n            || guessDigit2 == lotteryDigit3\n            || guessDigit3 == lotteryDigit1\n            || guessDigit3 == lotteryDigit2\n            || guessDigit3 == lotteryDigit3)  \n            System.out.println(\"Mathed one number!!! 1,000$ Prize!!!\");\n        else enter code here\n            System.out.println(\"No Match, Better Luck Next Time!\");\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134548196,
          "body": "Question: Does it work if you delete all local data on client reset and allow the app to re-sync to the server? (assuming the schema matches the schema on the server)"
        }
      ],
      "last_activity_date": 1684666416,
      "question_id": 76299504,
      "body": "<p>Unable to perform client reset after doing schema changes using given sample in mongo db for realm android java sdk. But i was able to perform client reset after toggling sync in atlas.  The problem lies client reset not happening after breaking schema changes. Even I fixed schema.\nThis is the given sample in Mongo reference. And is there any process where we could now client reset triggers??</p>\n<pre><code>String appID = YOUR_APP_ID; // replace this with your App ID\nApp app = null;\nAtomicReference&lt;App&gt; globalApp = new AtomicReference&lt;&gt;(app);\n// accessing the app from within the lambda below requires an effectively final object\napp = new App(new AppConfiguration.Builder(appID)\n        .defaultSyncClientResetStrategy(new DiscardUnsyncedChangesStrategy() {\n            @Override\n            public void onBeforeReset(Realm realm) {\n                Log.w(&quot;EXAMPLE&quot;, &quot;Beginning client reset for &quot; + realm.getPath());\n            }\n            @Override\n            public void onAfterReset(Realm before, Realm after) {\n                Log.w(&quot;EXAMPLE&quot;, &quot;Finished client reset for &quot; + before.getPath());\n            }\n            @Override\n            public void onError(SyncSession session, ClientResetRequiredError error) {\n                Log.e(&quot;EXAMPLE&quot;, &quot;Couldn't handle the client reset automatically.&quot; +\n                        &quot; Falling back to manual client reset execution: &quot;\n                        + error.getErrorMessage());\n                // close all instances of your realm -- this application only uses one\n                globalRealm.close();\n                try {\n                    Log.w(&quot;EXAMPLE&quot;, &quot;About to execute the client reset.&quot;);\n                    // execute the client reset, moving the current realm to a backup file\n                    error.executeClientReset();\n                    Log.w(&quot;EXAMPLE&quot;, &quot;Executed the client reset.&quot;);\n                } catch (IllegalStateException e) {\n                    Log.e(&quot;EXAMPLE&quot;, &quot;Failed to execute the client reset: &quot; + e.getMessage());\n                    // The client reset can only proceed if there are no open realms.\n                    // if execution failed, ask the user to restart the app, and we'll client reset\n                    // when we first open the app connection.\n                    AlertDialog restartDialog = new AlertDialog.Builder(activity)\n                            .setMessage(&quot;Sync error. Restart the application to resume sync.&quot;)\n                            .setTitle(&quot;Restart to Continue&quot;)\n                            .create();\n                    restartDialog.show();\n                }\n                // open a new instance of the realm. This initializes a new file for the new realm\n                // and downloads the backend state. Do this in a background thread so we can wait\n                // for server changes to fully download.\n                ExecutorService executor = Executors.newSingleThreadExecutor();\n                executor.execute(() -&gt; {\n                    Realm newRealm = Realm.getInstance(globalConfig);\n                    // ensure that the backend state is fully downloaded before proceeding\n                    try {\n                        globalApp.get().getSync().getSession(globalConfig).downloadAllServerChanges(10000,\n                                TimeUnit.MILLISECONDS);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                    Log.w(&quot;EXAMPLE&quot;,\n                            &quot;Downloaded server changes for a fresh instance of the realm.&quot;);\n                    newRealm.close();\n                });\n                // execute the recovery logic on a background thread\n                try {\n                    executor.awaitTermination(20000, TimeUnit.MILLISECONDS);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n        })\n        .build());\nglobalApp.set(app);\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547207,
          "body": "What is the id value here"
        },
        {
          "comment_id": 134547849,
          "body": "The ID is just a Long"
        }
      ],
      "answers": [
        {
          "answer_id": 76299473,
          "body": "<p>Check your persistence configuration, if it encompasses package and class of yours 'Customer'.</p>\n"
        }
      ],
      "last_activity_date": 1684665838,
      "question_id": 76299372,
      "body": "<p>I am following an online tutorial, but came across an error which I am not able to resolve. I have a multimodule Quarkus application. One module is called 'Customer' with an according Customer class which is annotated as an @Entity:</p>\n<pre><code>package org.agoncal.quarkus.jpa;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\nimport java.time.Instant;\n\n@Entity\npublic class Customer {\n    @Id\n    @GeneratedValue\n    public Long id;\n\n    public String firstName;\n...\n</code></pre>\n<p>In another module 'vintage-store', the customerRepository is created andl ooks like this:</p>\n<pre><code>package org.agoncal.quarkus.panache.repository;\n\nimport io.quarkus.hibernate.orm.panache.PanacheRepository;\nimport org.agoncal.quarkus.jpa.Customer;\n\nimport javax.enterprise.context.ApplicationScoped;\n\n@ApplicationScoped\npublic class CustomerRepository implements PanacheRepository&lt;Customer&gt; {}\n</code></pre>\n<p>Now, when I try to run <code>mvn clean install</code> on the vintage store, there is this test which is failing in the CustomerRepositoryTest file:</p>\n<pre><code>package org.agoncal.quarkus.panache.repository;\n\nimport io.quarkus.test.TestTransaction;\nimport io.quarkus.test.junit.QuarkusTest;\nimport org.agoncal.quarkus.jpa.Customer;\nimport org.junit.jupiter.api.Test;\n\nimport javax.inject.Inject;\nimport java.sql.SQLException;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\n\n@QuarkusTest\npublic class CustomerRepositoryTest {\n    @Inject\n    CustomerRepository repository;\n\n    @Test\n    @TestTransaction\n    public void shouldCreateAndFindCustomer() throws SQLException {\n        Customer customer = new Customer(&quot;first name&quot;, &quot;last name&quot;, &quot;email&quot;);\n\n        repository.persist(customer);\n        assertNotNull(customer.getId());\n\n        Customer foundCustomer = repository.findById(customer.getId());\n        assertEquals(&quot;first name&quot;, foundCustomer.getFirstName());\n\n    }\n\n}\n</code></pre>\n<p>With the following error message:</p>\n<pre><code>java.lang.IllegalArgumentException: Not an entity [class org.agoncal.quarkus.jpa.Customer]\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\nCaused by: org.hibernate.MappingException: Unknown entity: org.agoncal.quarkus.jpa.Customer\n        at org.agoncal.quarkus.panache.repository.CustomerRepositoryTest.shouldCreateAndFindCustomer(CustomerRepositoryTest.java:24)\n</code></pre>\n<p>I have looked at it already for a few hours, but do not find the problem. I have found some pointers that it might have to do something with the difference between jakarta and javax, but not sure\nAll the code can be found om github: <a href=\"https://github.com/Tom-De-Backer/agoncal-panache\" rel=\"nofollow noreferrer\">https://github.com/Tom-De-Backer/agoncal-panache</a></p>\n"
    },
    {
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134541264,
              "body": "Hi. That makes sense. I don&#39;t have the controlsfx.jmod, not sure it exists. I will try what you recommend when only having the .rar. Can you please add a little bit more information about the dependency part, not completely sure where to start :) I read that I don&#39;t have to pass any information about Controlsfx to JPackage?"
            },
            {
              "comment_id": 134541319,
              "body": "Edit: Its working now, using what you recommended. Thank you very much."
            },
            {
              "comment_id": 134544435,
              "body": "<code>jlink</code> does not require JMOD files. As long as the JAR file has a <code>module-info</code> descriptor it will work just fine. You only need a JMOD file if you want to package things like native code and licenses along with your class files in a clean manner."
            },
            {
              "comment_id": 134544454,
              "body": "@droid You have <code>--add-modules javafx.controls,controlsfx</code> in your question, but the <a href=\"https://github.com/controlsfx/controlsfx/blob/0a8caa4ad2abb3dea48fecb10819ea540748e308/controlsfx/src/main/java/module-info.java#L31\" rel=\"nofollow noreferrer\">module name</a> for <i>ControlsFX</i> is <code>org.controlsfx.controls</code>."
            },
            {
              "comment_id": 134546356,
              "body": "@Slaw that is useful info about jmod files, I shall amend my answer."
            }
          ],
          "answer_id": 76295676,
          "body": "<p>As mentioned by @Slaw in comments below, you have used the wrong package name. You can confirm the module name of a jar by viewing the <a href=\"https://stackoverflow.com/questions/46616520/list-modules-in-jar-file/46617033#comment134547336_46617033\">module definition</a> - this shows the name as <code>org.controlsfx.controls</code>:</p>\n<pre><code>jar --file=controlsfx.jar --describe-module\norg.controlsfx.controls@11.1.2 jar:file:///c:/dev/mods/controlsfx.jar!/module-info.class\n... plus details of exports\n</code></pre>\n<p>The <code>jpackage</code> command will use <code>jlink</code> internally to build a runtime image that contains all the modules listed:</p>\n<pre><code>jpackage --input myinput --add-modules javafx.controls,org.controlsfx.controls --module-path c:\\xyz...\\javafx-jmods-NN --module-path c:\\abc...\\controlsfx.jar  --dest myoutput {otherargs}\n</code></pre>\n<p>After installation you can check which modules are in the installed runtime with:</p>\n<pre><code> C:\\Program Files\\XYZ\\runtime\\bin\\java --list-modules\n ...\n javafx.controls@somever\n ...\n org.controlsfx.controls@somever\n</code></pre>\n<p>You can also use a jar (module or non module) with <code>jpackage</code> by copying the jar into your target release structure somewhere under the <code>--input</code> directory. Then it will be picked up as a classpath jar dependency (inside the release directories) rather than as a module dependency (inside the runtime image as above).</p>\n<p>You can check if a jar was added as as classpath dependency by looking at the generated <code>{projectname}.cfg</code>, it should contain a line:</p>\n<pre><code> app.classpath=$APPDIR\\whateverplaceunder--input.dir\\controlsfx.jar\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684665799,
      "question_id": 76295523,
      "body": "<p>I’m having some issues including Controlsfx when using Jpackage.</p>\n<p>I have set up a project in IntelliJ with JavaFX using a Archetype from Maven Central. Works fine with JavaFX in IntelliJ. I can package it with Maven (from IntelliJ) and use JPackage for making an exe-installer, that also works fine. I’m using this command with JPackage:</p>\n<pre><code>jpackage --input C:\\...\\target --add-modules javafx.controls --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path --win-console --dest c:\\outputs --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\n</code></pre>\n<p>Now I want to incorporate ControlsFX so I download the ControlsFX .JAR from Maven: <a href=\"https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.1.2IntelliJ\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.controlsfx/controlsfx/11.1.2IntelliJ</a>\nIn IntelliJ I add it as a Module. All fine, I wan use ControlsFX in my project.</p>\n<p>Now I want to make an exe-installer (like above without ControlsFX) so I add ControlsFX to my JPackage command:</p>\n<pre><code>jpackage --input C:\\...\\target --add-modules javafx.controls,controlsfx --module-path C:\\...\\openjfx-20.0.1_windows-x64_bin-jmods\\javafx-jmods-20.0.1 --module-path C:\\..\\controlsfx --win-console --dest c:\\test --main-jar tests-1.0-SNAPSHOT.jar --main-class tests.App\n</code></pre>\n<p>When running the command I get this:</p>\n<p>java.lang.module.FindException: Module controlsfx not found</p>\n<p>I know my issue is related to the command I pass to JPackage but cant figure out what is.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547490,
          "body": "Show your code and the complete error message"
        },
        {
          "comment_id": 134548430,
          "body": "And the dependencies and versions."
        }
      ],
      "last_activity_date": 1684665702,
      "question_id": 76299464,
      "body": "<p>I am getting method not found 'getExpiry' when invoke\njavax.ws.rs.core.NewCookie.getExpiry.</p>\n<p>I tried to invoke the method and it is not available but the tostring invoke it ?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134538437,
          "body": "Don’t forget to annotate your test class, depending On whether you are using Junit4 or 5 - see : <a href=\"https://stackoverflow.com/a/49655834/681444\">stackoverflow.com/a/49655834/681444</a>"
        },
        {
          "comment_id": 134538720,
          "body": "@racraman I have added <code>@ExtendWith(MockitoExtension.class)</code> and also <code>@BeforeEach     public void setUp() {         MockitoAnnotations.initMocks(this);     }</code> still the actual function is getting called."
        },
        {
          "comment_id": 134538758,
          "body": "Are you using JUnit 4 or JUnit 5?  You shouldn&#39;t need to do both of those things, since the MockitoExtension actually calls initMocks."
        },
        {
          "comment_id": 134538787,
          "body": "And can you show us the <code>EncSercice</code> class?  There might be something about it that stops it from being stubbed, for example, if it&#39;s final."
        },
        {
          "comment_id": 134539006,
          "body": "I have updated the question and provided <code>EncService</code>.  I use <code>spring-boot-starter-test</code>. I think it has <code>junit 5x</code>. Spring verion 2.7.8."
        },
        {
          "comment_id": 134539458,
          "body": "How does this even work? you provide 2 parameters for the method callFn() in test, but this method needs only one"
        },
        {
          "comment_id": 134539561,
          "body": "In addition to the above question about parameters, must also ask how <code>ServiceClass</code> is calling <code>EncSercice</code> - is it calling <code>callFn</code> directly, or only via <code>execute</code> ?  If the latter, then even if Mockito was set up correctly, then your <code>when</code> would never have any effect (since the mock object does not have the actual <code>execute</code> code), so you would need to add a<code>when</code> for the <code>execute</code> call."
        },
        {
          "comment_id": 134545007,
          "body": "You still haven&#39;t shown the annotation you are using. Please edit your question with your actual code. Also, please add the code for ServiceClass. And answer the question @Feelfree asked."
        },
        {
          "comment_id": 134546139,
          "body": "Feelfree, I have edited the question. I had to mask some code.  For service code, I&#39;m just using @Service annotation."
        }
      ],
      "answers": [
        {
          "answer_id": 76299463,
          "body": "<p>The class being tested, ServiceClass, should have EncsService as a field, so that mockito could inject it as a dependency.</p>\n<pre><code>public class ServiceClass {\n   private EncSercice encService;\n   public SeviceClass(EncSercice enc) \n   {\n      this.encService = enc;\n   }\n\n   public void sendPayload(final ValidRequest  req) {\n\n    // some code imp...\n    String str = encService.call(req, keys);\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684665687,
      "question_id": 76293872,
      "body": "<p>Below is my test code.</p>\n<pre><code>import org.junit.Test;\nimport org.mockito.Mockito;\n\npublic class classA {\n\n    @Mock\n    EncSercice encService;\n\n    @InjectMocks\n    ServiceClass service;\n    @BeforeEach\n    public void setUp() {\n      MockitoAnnotations.initMocks(this);\n    }\n\n\n    @Test\n    public void testEncryptRegisterTransactionPayload() {\n        \n        ValidRequest request = new ValidRequest();\n\n        try {\n            \n            Mockito.when(encService.callFn(Mockito.anyString(), Mockito.any(String[].class)))\n                    .thenReturn(&quot;Stubbed encrypted message&quot;);\n\n            service.sendPayload(request);\n            Mockito.verify(encService).callFn(Mockito.anyString(), Mockito.any(String[].class));\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>Here I'm trying to mock/stub the <code>encService.callFn</code> method. But when i run it, It's actually calling method. I can see the logs which I have mentioned in <code>callFn</code> method. Even i have tried using <code>doReturn().when()</code>, Still it's calling the actual method. How can I solve this?</p>\n<p>EncService class:</p>\n<pre><code>class EncSercice implements EncSerciceImp {\n    public String callFn(final String req, final String[] keys) throws Exception {\n    byte[] output = // calling a private method and passing req and keys as args....\n    return new String(output);\n}\n}\n\n// ServiceClass  code \npublic void sendPayload(final ValidRequest  req) {\n\n    // some code imp..\n    EncSercice encService = new EncSercice();\n    String str = encService.call(req, keys);\n}\n</code></pre>\n<p>note: <code>callFn</code> will return a dynamic string.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134530588,
          "body": "Have you considered constructing a DateTimeFormatter for each format and then trying each one in turn?"
        },
        {
          "comment_id": 134530926,
          "body": "I was actually looking for a solution in java the way we have in JS. just with d = new Date() &amp; then d.getDate(), d.getMonth() .. so on"
        },
        {
          "comment_id": 134530938,
          "body": "Even in JS, the input format of what you parse matters. <code>new Date()</code> is just the current date, it&#39;s not parsing anything there."
        },
        {
          "comment_id": 134530972,
          "body": "The example <code>08-05-2023</code> is quite dangerous because one cannot reliably derive if it is <code>MM-dd-uuuu</code> or <code>dd-MM-uuuu</code>. Those would both be parseable by a <code>DateTimeFormatter</code>, but the results will be significantly different."
        },
        {
          "comment_id": 134530975,
          "body": "But within new Date() constructor you can pass any date format &amp; it will give you a generic date object which have those methods"
        },
        {
          "comment_id": 134530985,
          "body": "Do not use the <code>java.util</code> package for dates. Use the <code>java.time</code> package that was introduced in Java 8. See my response below."
        },
        {
          "comment_id": 134534900,
          "body": "@DikshaGoyal <i>But within new Date() constructor you can pass any date format &amp; it will give you a generic date object which have those methods</i> -- This is incorrect. Look at your example above. Try passing in 08-05-2023, like you showed, and see what JavaScript gives you. It will not work."
        },
        {
          "comment_id": 134534941,
          "body": "You tagged your question simpledateformat, but you should unconditionally avoid using <code>SimpleDateFormat</code> and <code>Date</code>. Those clauses were troublesome and are long outdated. Do use java.time and its <code>DateTimeFormatter</code> and other classes."
        },
        {
          "comment_id": 134534993,
          "body": "Your first format unlike the others includes an offset from UTC. In which time zone do you want the date in that case? And in the other cases, do you want to use the same time zone that was understood in the original string?"
        },
        {
          "comment_id": 134543166,
          "body": "This Question was closed for the wrong reason. This is not an opinion-based question. It is however a duplicate of other Questions on how to parse date-time inputs with various formats. Voting to re-open."
        },
        {
          "comment_id": 134543185,
          "body": "Duplicate of <a href=\"https://stackoverflow.com/q/51587242/642706\">this</a>, <a href=\"https://stackoverflow.com/q/19137007/642706\">this</a>, <a href=\"https://stackoverflow.com/q/4024544/642706\">this</a>, and more."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134531653,
              "body": "Please be aware that parsing month names is <code>Locale</code> sensitive"
            },
            {
              "comment_id": 134531941,
              "body": "@user16320675 I added <code>.withLocale(Locale.ENGLISH)</code> to the offending formatters above."
            },
            {
              "comment_id": 134543198,
              "body": "Good Answer, but this has already been covered on multiple other existing Questions."
            },
            {
              "comment_id": 134543216,
              "body": "In real work, the locale should likely need to specify a culture and possibly a sub-culture. Date-time formats (abbreviation, punctuation, capitalization) can vary across various English-speaking places."
            }
          ],
          "answer_id": 76289597,
          "body": "<p>You can iterate over known formats and skip ones that throw a <code>DateTimeParseException</code>.</p>\n<p><strong>Note:</strong> If you are parsing just a date string into a <code>LocalDateTime</code>, you will need to build the formatter and specify that the time portion is optional.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\nimport java.time.format.*;\nimport java.time.temporal.ChronoField;\nimport java.util.*;\n\npublic class DateParser {\n    public static void main(String[] args) {\n        System.out.println(normalizeDate(&quot;2023-05-09T05:55:07Z&quot;)); // 2023-05-09\n        System.out.println(normalizeDate(&quot;2023-04-30&quot;)); // 2023-04-30\n        System.out.println(normalizeDate(&quot;08-05-2023&quot;)); // 2023-08-05\n        System.out.println(normalizeDate(&quot;2023-05-09 00:00:00&quot;)); // 2023-05-09\n        System.out.println(normalizeDate(&quot;31-Dec-2021&quot;)); // 2021-12-31\n        System.out.println(normalizeDate(&quot;&quot;)); // null\n    }\n\n    public static String normalizeDate(String rawDateTimeString) {\n        return Optional.ofNullable(parseDateString(rawDateTimeString))\n                .map(displayFormat::format)\n                .orElse(null);\n    }\n\n    private static LocalDateTime parseDateString(String dateString) {\n        for (DateTimeFormatter formatter : knownFormats) {\n            try {\n                return LocalDateTime.parse(dateString, formatter);\n            } catch (DateTimeParseException e) {\n                continue;\n            }\n        }\n        return null;\n    }\n\n    private static final List&lt;DateTimeFormatter&gt; knownFormats = Arrays.asList(\n            DateTimeFormatter.ISO_DATE_TIME,\n            dateOnlyFormatter(&quot;yyyy-MM-dd&quot;),\n            dateOnlyFormatter(&quot;MM-dd-yyyy&quot;),\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;),\n            dateOnlyFormatter(&quot;dd-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\n\n    private static DateTimeFormatter dateOnlyFormatter(String datePattern) {\n        // Credit: https://stackoverflow.com/a/40175568/1762224\n        return new DateTimeFormatterBuilder()\n                .appendPattern(datePattern)\n                .optionalStart()\n                .appendPattern(&quot; HH:mm&quot;)\n                .optionalEnd()\n                .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n                .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n                .toFormatter();\n    }\n\n    private static final DateTimeFormatter displayFormat = DateTimeFormatter.ISO_DATE;\n}\n</code></pre>\n<p>Here is a modified version that is simpler as Devin suggested. It ignores the concept of time entirely, and only focuses on date when parsing. It removes the need for the <code>dateOnlyFormatter</code> method (as seen above).</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\nimport java.time.format.*;\nimport java.util.*;\n\npublic class DateParser {\n    public static void main(String[] args) {\n        System.out.println(normalizeDate(&quot;2023-05-09T05:55:07Z&quot;)); // 2023-05-09\n        System.out.println(normalizeDate(&quot;2023-04-30&quot;)); // 2023-04-30\n        System.out.println(normalizeDate(&quot;08-05-2023&quot;)); // 2023-08-05\n        System.out.println(normalizeDate(&quot;2023-05-09 00:00:00&quot;)); // 2023-05-09\n        System.out.println(normalizeDate(&quot;31-Dec-2021&quot;)); // 2021-12-31\n        System.out.println(normalizeDate(&quot;&quot;)); // null\n    }\n\n    public static String normalizeDate(String rawDateTimeString) {\n        return Optional.ofNullable(parseDateString(rawDateTimeString))\n                .map(displayFormat::format)\n                .orElse(null);\n    }\n\n    private static LocalDate parseDateString(String dateString) {\n        for (DateTimeFormatter formatter : knownFormats) {\n            try {\n                return LocalDate.parse(dateString, formatter);\n            } catch (DateTimeParseException e) {\n                continue;\n            }\n        }\n        return null;\n    }\n\n    private static final List&lt;DateTimeFormatter&gt; knownFormats = Arrays.asList(\n            DateTimeFormatter.ISO_DATE_TIME,\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;),\n            DateTimeFormatter.ofPattern(&quot;MM-dd-yyyy&quot;),\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;),\n            DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;).withLocale(Locale.ENGLISH));\n\n    private static final DateTimeFormatter displayFormat = DateTimeFormatter.ISO_DATE;\n}\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 134531615,
              "body": "Please be aware that parsing month names is <code>Locale</code> sensitive; and that <code>Z</code> can stand for a time zone, not necessarily the literal <code>Z</code>"
            },
            {
              "comment_id": 134543154,
              "body": "<i>Never</i> put quote marks around the <code>Z</code> in a date-time formatting pattern. The quotes mean &quot;expect but ignore this text&quot;. Ignoring that text is restless as the presence of a <code>Z</code> means &quot;An offset from UTC of zero hours-minutes-seconds&quot;. You are discarding valuable information, with no benefit in return. I must down-vote on a solution that recommends data loss."
            }
          ],
          "answer_id": 76289726,
          "body": "<p>This method is simple and easy to decipher. Here is all that the parseDateTime function does:</p>\n<ol>\n<li>Sets the output format</li>\n<li>Sets all possible input formats</li>\n<li>Iterates over each input format until the correct one is found</li>\n<li>Returns the date/time in the specified output format</li>\n</ol>\n<blockquote>\n<p><strong>Note</strong> If the String passed into the function is not in one of the 5 specified input formats, then it will return null. This should make it easy to see if it was successful or not!</p>\n</blockquote>\n<p>If you need more information to help add more formats, here is the DateTimeFormatter Documentation: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_DATE</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.*;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n     public static void main(String[] args) {\n        String[] inputDates = {\n                &quot;2023-04-30T05:55:07Z&quot;,\n                &quot;2023-04-30&quot;,\n                &quot;30-04-2023&quot;,\n                &quot;2023-04-30 00:00:00&quot;,\n                &quot;30-Apr-2023&quot;\n        };\n\n        for(String date : inputDates)\n            System.out.println(date + &quot;\\t-&gt;\\t&quot; + parseDateTime(date));\n    }\n\n\n    private static String parseDateTime(String currentDate){\n        //Desired Output Pattern\n        DateTimeFormatter outputFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n\n        //All Possible Input Patterns\n        DateTimeFormatter[] formatters = {\n            DateTimeFormatter.ISO_LOCAL_DATE,\n            DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;),\n            DateTimeFormatter.ofPattern(&quot;dd-MMM-yyyy&quot;),\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;),\n            DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;)\n        };\n\n        //Iterate over each pattern until it finds the correct one\n        for(DateTimeFormatter currFormatter : formatters){\n            try{\n                return LocalDate.parse(currentDate, currFormatter).format(outputFormat);\n            } catch(Exception ignored){\n                //Current formatter did not work, so lets try the next one\n            }\n        }\n        return null; // String was not one of those 5 formats\n    }\n}```\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684664349,
      "question_id": 76289312,
      "body": "<p>I have a use case where I have date in the following formats,</p>\n<ol>\n<li>2023-05-09T05:55:07Z</li>\n<li>2023-04-30</li>\n<li>08-05-2023</li>\n<li>2023-05-09 00:00:00</li>\n<li>31-Dec-2021</li>\n</ol>\n<p>Irrespective of the input format I have a requirement to convert it to <code>dd-mm-yyyy</code> format. How can I convert it in JDK11? I tried different libraries but got no luck.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134542103,
          "body": "Maybe provide a stacktrace so others can see what&#39;s going on?"
        },
        {
          "comment_id": 134544325,
          "body": "Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."
        }
      ],
      "last_activity_date": 1684663768,
      "question_id": 76295929,
      "body": "<p>I am writing a music bot for discord. The program successfully finds and downloads music, but does not play it. No code works, even completely copied from a manual, whose author has similar versions, and his code performs its function. Further study of the problem led to the fact that the program hangs on the line:\n<code>player.startTrack(track, false);</code>\nHanging also happens if you replace the line above with:\n<code>player.playTrack(track);</code></p>\n<p>I found information a few years ago that some platforms restricted access to downloads from them for bots. The guide whose code I tested was released in February of this year. I think that the problem is on my side.</p>\n<p>Also, when using /play, I tried to enter links to different platforms and tracks on them, but nothing helps.\nMaybe i should add some intents for the bot in the code?</p>\n<p>Code:</p>\n<ul>\n<li>Main</li>\n</ul>\n<pre><code>public static void main(String[] args) throws Exception {\n        JDA jda = JDABuilder.createDefault(TOKEN).setChunkingFilter(ChunkingFilter.ALL)\n                .setMemberCachePolicy(MemberCachePolicy.ALL).enableIntents(GatewayIntent.GUILD_MEMBERS,\n                        GatewayIntent.GUILD_MESSAGES,\n                        GatewayIntent.GUILD_VOICE_STATES).build();\n        jda.addEventListener(new checker()); \n    }  \n</code></pre>\n<ul>\n<li>AudioSendHandler</li>\n</ul>\n<pre><code>public class AudioForwarder implements AudioSendHandler {\n\n   private final AudioPlayer player;\n   private final Guild guild;\n   private final ByteBuffer buffer = ByteBuffer.allocate(1024);\n   private final MutableAudioFrame frame = new MutableAudioFrame();\n   private int time;\n\n   public AudioForwarder(AudioPlayer player, Guild guild) {\n       this.player = player;\n       this.guild = guild;\n       frame.setBuffer(buffer);\n   }\n\n   @Override\n   public boolean canProvide() {\n       boolean canProvide = player.provide(frame);\n       if(!canProvide) {\n           time += 20;\n           if(time &gt;= 300000) {\n               time = 0;\n               guild.getAudioManager().closeAudioConnection();\n           }\n       } else {\n           time = 0;\n       }\n       return canProvide;\n   }\n\n   @Nullable\n   @Override\n   public ByteBuffer provide20MsAudio() {\n       final Buffer tmp = ((Buffer) buffer).flip();\n\n       return (ByteBuffer) tmp;\n   }\n\n   @Override\n   public boolean isOpus() {\n       return true;\n   }\n}\n</code></pre>\n<ul>\n<li>TrackScheduler</li>\n</ul>\n<pre><code>public class TrackScheduler extends AudioEventAdapter {\n\n    private final AudioPlayer player;\n    private final BlockingQueue&lt;AudioTrack&gt; queue = new LinkedBlockingQueue&lt;&gt;();\n    private boolean isRepeat = false;\n\n    public TrackScheduler(AudioPlayer player) {\n        this.player = player;\n    }\n\n    @Override\n    public void onTrackEnd(AudioPlayer player, AudioTrack track, AudioTrackEndReason endReason) {\n        if(isRepeat) {\n            player.startTrack(track.makeClone(), false);\n        } else {\n            player.startTrack(queue.poll(), false);\n        }\n    }\n\n    public void queue(AudioTrack track) {\n        if(!player.startTrack(track, true)) {\n            System.out.println(&quot;1&quot;);\n            queue.offer(track);\n            System.out.println(&quot;2&quot;);\n        } else {\n            System.out.println(&quot;3&quot;);\n            player.startTrack(track, false);\n            System.out.println(&quot;4&quot;);\n        }\n    }\n\n    public AudioPlayer getPlayer() {\n        return player;\n    }\n\n    public BlockingQueue&lt;AudioTrack&gt; getQueue() {\n        return queue;\n    }\n\n    public boolean isRepeat() {\n        return isRepeat;\n    }\n\n    public void setRepeat(boolean repeat) {\n        isRepeat = repeat;\n    }\n}\n</code></pre>\n<ul>\n<li>GuildMusicManager</li>\n</ul>\n<pre><code>public class GuildMusicManager {\n\n    private TrackScheduler trackScheduler;\n    private AudioForwarder audioForwarder;\n\n    public GuildMusicManager(AudioPlayerManager manager, Guild guild) {\n        AudioPlayer player = manager.createPlayer();\n        trackScheduler = new TrackScheduler(player);\n        player.addListener(trackScheduler);\n        audioForwarder = new AudioForwarder(player, guild);\n    }\n\n    public TrackScheduler getTrackScheduler() {\n        return trackScheduler;\n    }\n\n    public AudioForwarder getAudioForwarder() {\n        return audioForwarder;\n    }\n}\n</code></pre>\n<ul>\n<li>PlayerManager</li>\n</ul>\n<pre><code>public class PlayerManager {\n\n    private static PlayerManager INSTANCE;\n    private final Map&lt;Long, GuildMusicManager&gt; guildMusicManagers = new HashMap&lt;&gt;();\n    private final AudioPlayerManager audioPlayerManager = new DefaultAudioPlayerManager();\n\n    private PlayerManager() {\n        AudioSourceManagers.registerRemoteSources(audioPlayerManager);\n        AudioSourceManagers.registerLocalSource(audioPlayerManager);\n    }\n\n    public static PlayerManager get() {\n        if(INSTANCE == null) {\n            INSTANCE = new PlayerManager();\n        }\n        return INSTANCE;\n    }\n\n    public GuildMusicManager getGuildMusicManager(Guild guild) {\n        return guildMusicManagers.computeIfAbsent(guild.getIdLong(), (guildId) -&gt; {\n            GuildMusicManager musicManager = new GuildMusicManager(audioPlayerManager, guild);\n\n            guild.getAudioManager().setSendingHandler(musicManager.getAudioForwarder());\n\n            return musicManager;\n        });\n    }\n\n    public void play(Guild guild, String trackURL) {\n        GuildMusicManager guildMusicManager = getGuildMusicManager(guild);\n        audioPlayerManager.loadItemOrdered(guildMusicManager, trackURL, new AudioLoadResultHandler() {\n            @Override\n            public void trackLoaded(AudioTrack track) {\n                System.out.println(&quot;loaded&quot;);\n                guildMusicManager.getTrackScheduler().queue(track);\n                System.out.println(&quot;5&quot;);\n            }\n\n            @Override\n            public void playlistLoaded(AudioPlaylist playlist) {\n                System.out.println(&quot;playlist_loaded&quot;);\n                guildMusicManager.getTrackScheduler().queue(playlist.getTracks().get(0));\n                System.out.println(&quot;5&quot;);\n            }\n\n            @Override\n            public void noMatches() {\n                System.out.println(&quot;no_matches&quot;);\n            }\n\n            @Override\n            public void loadFailed(FriendlyException exception) {\n                System.out.println(&quot;failed&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n<ul>\n<li>/play</li>\n</ul>\n<pre><code>public void onSlashCommandInteraction(@NotNull SlashCommandInteractionEvent event) {\n     if (event.getName().equals(&quot;play&quot;)) {\n            if (!event.getMember().getVoiceState().inAudioChannel()) {\n                event.reply(&quot;Сначала нужно подключиться к голосовому каналу!&quot;).setEphemeral(true).submit();\n            } else if (!event.getChannel().getId().equals(App.rules.get(&quot;music_channel_id&quot;))) {\n                event.reply(&quot;Данное действие можно использовать только в соответствующем канале!&quot;)\n                        .setEphemeral(true).submit();\n            } else if (event.getOption(&quot;name&quot;).getAsString().equals(&quot;null&quot;)) {\n                event.reply(&quot;Необходимо указать ссылку на трек!&quot;)\n                        .setEphemeral(true).submit();\n            } else {\n                event.getGuild().getAudioManager().openAudioConnection(event.getMember().getVoiceState().getChannel());\n\n                PlayerManager playerManager = PlayerManager.get();\n                event.reply(&quot;Playing&quot;).setEphemeral(true).submit();\n                playerManager.play(event.getGuild(), event.getOption(&quot;name&quot;).getAsString());\n            }\n        }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/TC3z2.png\" rel=\"nofollow noreferrer\">Console output</a></p>\n<p><a href=\"https://i.stack.imgur.com/s0g6p.png\" rel=\"nofollow noreferrer\">Stacktrace output</a></p>\n<p>After using /play, the bot starts reconnecting to the voice channel every few seconds.</p>\n<p>On the discord developer portal, all intents are enabled, on the test server the bot has administrator rights, the role of the bot is prioritized above all others.</p>\n<p>P.S. added a stacktrace before the line on which the hang occurs</p>\n"
    },
    {
      "last_activity_date": 1684663679,
      "question_id": 76298244,
      "body": "<p>My code:</p>\n<pre><code>call.enqueue(new Callback&lt;String&gt;() {\n     @Override\n     public void onResponse(@NonNull Call&lt;String&gt; call, @NonNull Response&lt;String&gt; response){\n         if(response.body() != null) {\n             if (response.isSuccessful()) {\n                 View alertdialog_2 = LayoutInflater.from(candidate_registration_1.this).inflate(R.layout.custom_dialog_layout_3, null);\n                 AlertDialog.Builder dialog_2 = new AlertDialog.Builder(candidate_registration_1.this);\n                 dialog_2.setView(alertdialog_2);\n                 MaterialTextView txt = alertdialog_2.findViewById(R.id.dialogtext);\n                 MaterialButton btn = alertdialog_2.findViewById(R.id.save_screenshot);\n                 AlertDialog wait_dialog = dialog_2.create();\n                 wait_dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\n                 txt.setText(response.body());\n                 wait_dialog.show();\n                 String[] refid = response.body().split(&quot; &quot;);\n                 btn.setOnClickListener(view2 -&gt; takeScreenshot(refid[refid.length - 1], wait_dialog));\n             }\n         }\n     }\n\n     @Override\n     public void onFailure(@NonNull Call&lt;String&gt; call, @NonNull Throwable t) {}\n}\n</code></pre>\n<p>And this is my <code>takeScreenshot()</code> function:</p>\n<pre><code>private void takeScreenshot(String now,AlertDialog dialog) {\n    try {\n        String mPath = candidate_registration_1.this.getExternalFilesDir(Environment.DIRECTORY_DOWNLOADS).toString()+ &quot;/&quot; + now + &quot;.jpg&quot;;\n        View v1 = getWindow().getDecorView().getRootView();\n        v1.setDrawingCacheEnabled(true);\n        Bitmap bitmap = Bitmap.createBitmap(v1.getDrawingCache());\n        v1.setDrawingCacheEnabled(false);\n\n        File imageFile = new File(mPath);\n\n        FileOutputStream outputStream = new FileOutputStream(imageFile);\n        int quality = 100;\n        bitmap.compress(Bitmap.CompressFormat.JPEG, quality, outputStream);\n        outputStream.flush();\n        outputStream.close();\n        dialog.cancel();\n        Toast.makeText(candidate_registration_1.this,&quot;Screenshot saved in &quot;+mPath, Toast.LENGTH_LONG).show();\n   } catch (Throwable e) {\n       e.printStackTrace();\n   }\n}\n</code></pre>\n<hr />\n<p>There are two issues with this code:</p>\n<ol>\n<li>It takes a screenshot of the activity, devoid of the <code>AlertDialog</code>. I want a screenshot only of the <code>AlertDialog</code>.</li>\n<li>The screenshot is saved inside <code>android/0/emulated/package_name/files/Download/..</code>. I want it to be saved in the local folder, where all phone screenshots are usually saved, so that it's accessible to the user.</li>\n</ol>\n<p>How do I resolve this issue?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134517365,
          "body": "<a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs</a>"
        },
        {
          "comment_id": 134517717,
          "body": "This resembles the project configuration error seen <a href=\"https://stackoverflow.com/a/73611827/230513\">here</a>; more <a href=\"https://stackoverflow.com/a/73611206/230513\">here</a>."
        },
        {
          "comment_id": 134522214,
          "body": "Tip: Use a JavaFX-specific template or archetype to create your project. <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\">IntelliJ</a> comes with a  nice JavaFX template for OpenJFX. If NetBeans does not, try to find a Maven or Gradle archetype for OpenJFX. See <a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">OpenJFX</a> site."
        },
        {
          "comment_id": 134523484,
          "body": "As suggested by @BasilBourque, install <a href=\"https://github.com/openjfx/javafx-maven-archetypes\" rel=\"nofollow noreferrer\"><code>javafx-maven-archetypes</code></a>; then, in NetBeans, choose <i>File &gt; New Project &gt; Java with Maven &gt; Project from Archetype</i>"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134538348,
              "body": "the question is tagged netbeans- suggesting another IDE is not an answer ;)"
            }
          ],
          "answer_id": 76288129,
          "body": "<p>Install the IDE IntelliJ IDEA and go to File &gt; Project Structure &gt; Project and verify that the Project SDK is correctly configured to the JDK you intend to use.</p>\n<p>Intellij IDEA solves a lots of problems with the Java Environment and IntelliJ can download automatically from internet any JDK platform. Test different JDK's versions.</p>\n"
        }
      ],
      "last_activity_date": 1684663621,
      "question_id": 76281736,
      "body": "<p>While running the code on Apache Netbeans 17 with JAVAFX, the following error appeared:</p>\n<pre><code>C:\\Users\\User\\Documents\\NetBeansProjects\\javafxpos-main\\nbproject\\jfx-impl.xml:3867: \nThe following error occurred while executing this line: which directs to this specific code:\n` &lt;antcall target=&quot;-run-on-same-platform&quot; /&gt;`\nC:\\Users\\User\\Documents\\NetBeansProjects\\javafxpos-main\\nbproject\\jfx-impl.xml:3904: \nThe following error occurred while executing this line:\n` &lt;antcall target=&quot;jfxsa-run-no-another-jvm&quot; /&gt;`\nC:\\Users\\User\\Documents\\NetBeansProjects\\javafxpos-main\\nbproject\\jfx-impl.xml:1251: \nThe following error occurred while executing this line:\n`   &lt;jfx-copylibs-js-impl/&gt;`\nC:\\Users\\User\\Documents\\NetBeansProjects\\javafxpos-main\\nbproject\\jfx-impl.xml:1259: Unable to create javax script engine for javascript\nWhich direct to this code\n` &lt;pathconvert property=&quot;run.classpath.without.build.classes.and.dist.dir&quot;&gt;\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547253,
          "body": "I suspect that you have a class <code>ActionEvent</code> in your package. You could try declaring your <code>actionPerformed()</code> method as <code>@Override public void actionPerfomed(java.awt.event.ActionEvent evt)</code>."
        },
        {
          "comment_id": 134547814,
          "body": "Either that or your importing the wrong ActionEvent (there are multiple classes with this name in core Java). Make sure to <code>import java.awt.event.ActionEvent;</code>"
        },
        {
          "comment_id": 134547818,
          "body": "But also better to post more complete code, code that includes the import statements and full error message."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134547170,
              "body": "It still does not work, spits out the same error. It also add another error that goes like this: <code>The method actionPerfomed(ActionEvent) of type StartButton must override or implement a supertype method</code>"
            },
            {
              "comment_id": 134547807,
              "body": "How could this possibly fix the compilation problem?"
            }
          ],
          "answer_id": 76299328,
          "body": "<p>you missed the @Override annotation,</p>\n<pre><code>    public class StartButton extends AbstractAction {\n    public StartButton() {\n        this.putValue(LARGE_ICON_KEY, Images.TEST_IMAGE_2.getImageIcon());\n    }\n\n    @Override\n    public void actionPerfomed(ActionEvent evt) {\n        return;\n    }\n}\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684663538,
      "question_id": 76299299,
      "body": "<p>I'm trying to create a custom button with an image as a background. I tried searching around and came out with this solution found on this previous post (<a href=\"https://stackoverflow.com/questions/17110315/jbutton-background-image\">JButton background image</a>). The real problem is that, when i try to compile, it spits out this error:</p>\n<pre><code>The type StartButton must implement the inherited abstract method ActionListener.actionPerformed(ActionEvent)\n</code></pre>\n<p>The code is the following:</p>\n<pre><code>public class StartButton extends AbstractAction {\n    public StartButton() {\n        this.putValue(LARGE_ICON_KEY, Images.TEST_IMAGE_2.getImageIcon());\n    }\n\n    public void actionPerfomed(ActionEvent evt) {\n        return;\n    }\n}\n</code></pre>\n<p>And the implementation in the code is the following:</p>\n<pre><code>//Class PushButton.java\n\npublic class PushButton extends JButton {\n    private Dimension buttonSize = new Dimension(300, 150);\n\n    public PushButton(AbstractAction abstractAction, String text) {\n        super(abstractAction);\n        this.setPreferredSize(buttonSize);\n    }\n}\n</code></pre>\n<pre><code>//Class Menu.java (extends JPanel)\n\npublic Menu() {\n        super();\n        this.setPreferredSize(MainFrame.getWindowSize());\n        this.setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));\n\n        menuTitle = new JLabel();\n        menuTitle.setText(&quot;Quindici&quot;);\n        menuTitle.setForeground(Theme.ACCENT.getColor());\n        menuTitle.setFont(Fonts.TITLE.getFont());\n\n        startButton = new PushButton(new StartButton(), &quot;Start&quot;);\n        exitButton = new PushButton(new StartButton(), &quot;Exit&quot;);\n\n        this.add(menuTitle);\n        this.add(startButton);\n        this.add(exitButton);\n}\n</code></pre>\n<p>I simply don't know how to implement the actionPerformed function</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134544319,
          "body": "So....what is going wrong?"
        },
        {
          "comment_id": 134547815,
          "body": "Check this out about JSONDeserializationSchema &amp; Flink: &lt;br&gt; <a href=\"https://stackoverflow.com/a/62072265/17530250\">stackoverflow.com/a/62072265/17530250</a>"
        }
      ],
      "last_activity_date": 1684663534,
      "question_id": 76293739,
      "body": "<pre><code>package org.example;\n\n    import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\n    import org.apache.flink.connector.kafka.source.KafkaSource;\n    import org.apache.flink.connector.kafka.source.enumerator.initializer.OffsetsInitializer;\n    import org.apache.flink.formats.json.JsonDeserializationSchema;\n    \n    \n    import org.apache.flink.api.common.eventtime.WatermarkStrategy;\n    \n    import static org.apache.flink.streaming.api.functions.sink.filesystem.rollingpolicies.OnCheckpointRollingPolicy.build;\n    \n    \n    public class DataStreamJob {\n        public static void main(String[] args) throws Exception {\n            final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n    \n            KafkaSource&lt;String&gt; source = KafkaSource.&lt;String&gt;builder()\n                    .setBootstrapServers(&quot;localhost:19092&quot;)\n                    .setTopics(&quot;1000pepeusdt&quot;,&quot;1000pepeusdtt&quot;)\n                    .setStartingOffsets(OffsetsInitializer.earliest())\n    **\\\\the error is on this line**.setValueOnlyDeserializer(new JsonDeserializationSchema&lt;&gt;(TradeEvent.class))\n                    .build();\n    \n            env.fromSource(source, WatermarkStrategy.noWatermarks(), &quot;Kafka Source&quot;)\n                    .print();\n    \n            // Execute the job\n            env.execute(&quot;Kafka Consumer Example&quot;);\n        }\n    }\n</code></pre>\n<p>This is what I'm trying to</p>\n<pre><code>consume: {\n&quot;e&quot;:&quot;aggTrade&quot;\n&quot;E&quot;:1684547379069\n&quot;a&quot;:30161410\n&quot;s&quot;:&quot;1000PEPEUSDT&quot;\n&quot;p&quot;:&quot;0.0015036&quot;\n&quot;q&quot;:&quot;665070&quot;\n&quot;f&quot;:70012793\n&quot;l&quot;:70012793\n&quot;T&quot;:1684547378913\n&quot;m&quot;:true\n}\n</code></pre>\n<p>Maybe looks like simple but I'm from cero a couple of months ago on coding, I've learned a lot but Java is more confusing.</p>\n<p>I'd like an advice and or guidelines to carry on and the solution to my problem.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 122910585,
          "body": "Your JSON is incorrect, it has some syntax errors, that&#39;s why you can&#39;t deserialize it"
        },
        {
          "comment_id": 127388383,
          "body": "Have you found answer to this question? I am also facing the same issue: <a href=\"https://stackoverflow.com/q/72089765/7584240\">stackoverflow.com/q/72089765/7584240</a>"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 122931063,
              "body": "Hello, thank your for answering my question. I&#39;m sorry that I didn&#39;t post my question completely. I just updated it."
            },
            {
              "comment_id": 122960456,
              "body": "@dedelduel You are welcome,  but this is a totally new question, not an update."
            },
            {
              "comment_id": 123043854,
              "body": "the question remains the same. I just updated the story why I got this issue"
            }
          ],
          "answer_id": 69538948,
          "body": "<p>Your code fails because in your json file you have <code>&quot;fruits&quot;: []</code>, so you are associating <em>fruits</em> with an json array while in your abstract <code>Fruit</code> class you expect the <code>&quot;fruits&quot;</code> property referring to the name of the subclass you want to deserialize your json. So if you modify your json like below :</p>\n<pre><code>{\n    &quot;fruits&quot;: &quot;sandbox.Apple&quot;,\n    &quot;name&quot;: &quot;MyApple&quot;\n}\n</code></pre>\n<p>You can then deserialize it to the <code>Apple</code> subclass of the <code>Fruit</code> class:</p>\n<pre><code>Fruit fruit = mapper.readValue(src, Fruit.class);\nSystem.out.println(fruit); //&lt;-- Apple(_name=MyApple)\n</code></pre>\n<p>So you can either decide to change your json format to match your java classes or decide to change your java classes to match your json file.</p>\n"
        }
      ],
      "last_activity_date": 1684663410,
      "question_id": 69536268,
      "body": "<p>I have an abstract class called Fruit and I put the <code>@JsonTypeInfo</code> and <code>@JsonSubTypes</code> on it as follow:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;fruits&quot;)\n@JsonSubTypes({\n    @Type(value = Apple.class, name = &quot;sandbox.Apple&quot;),\n    @Type(value = FruitGroup.class, name = &quot;sandbox.FruitGroup&quot;)\n})\npublic abstract class Fruit {\n\n    public abstract String getName();\n\n    @Override\n    public String toString() {\n        return &quot;Fruit [getName()=&quot; + getName() + &quot;, getClass()=&quot; + getClass() + &quot;, hashCode()=&quot; + hashCode() + &quot;, toString()=&quot; + super.toString() + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>And my derived class looks like this</p>\n<pre><code>@JsonTypeName(&quot;sandbox.Apple&quot;)\npublic class Apple extends Fruit {\n\n    private String _name;\n\n    public void setName(String name) {\n        _name = name;\n    }\n\n    @Override\n    public String getName() {\n        return _name;\n    }\n</code></pre>\n<p>======[UPDATED]======\nI also have class FruitGroup that extends Fruit and contains Array of Fruit.</p>\n<pre><code>@JsonTypeName(&quot;sandbox.FruitGroup&quot;)\npublic class FruitGroup extends Fruit {\nprivate Fruit[] _Fruit;\nprivate String _name;\nprivate String _category;\n\npublic Fruit[] getFruit() {\n    return _Fruit;\n}\n\npublic void setFruits(Fruit[] fruits) {\n    _Fruit = fruits;\n}\n\npublic void setName(String name) {\n    _name = name;\n}\n\n@Override\npublic String getName() {\n    return _name;\n}\n\npublic void setCategory(String category) {\n    _category = category;\n}\n\npublic String getCategory() {\n    return _category;\n}\n</code></pre>\n<p>}</p>\n<p>When I tried to deserialize the jsontext into Fruit object, I found the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id '[' as a subtype of `sandbox.FruitGroup`: known type ids = [FruitGroup, sandbox.Apple] at [Source: (String)&quot;{&quot;fruits&quot;:[[&quot;sandbox.Apple&quot;,{&quot;name&quot;: &quot;Apple&quot;}]],&quot;name&quot;: &quot;Fruit Group&quot;}&quot;; line: 1, column: 11]\nat com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\n</code></pre>\n<p>The jsontext [UPDATED] actually was generated by jackson version 2.10.2 and I didn't put any JSON annotations on my classes formerly. After I upgrade the jackson version to 2.11.0, I also update my abstract class to put the JSON annotations in it. Then I tried to deserialize it by using jackson version 2.11.0, but I got an error instead. Could you guys help me to solve this issue?\nHere's my jsontext</p>\n<pre><code>{\n    &quot;fruit&quot;: [\n        [\n            &quot;sandbox.Apple&quot;,\n            {\n                &quot;name&quot;: &quot;Apple1&quot;\n            }\n        ]\n    ],\n    &quot;name&quot;: &quot;Group of apples&quot;,\n    &quot;category&quot;: &quot;Sweet fruit&quot;\n}\n</code></pre>\n"
    },
    {
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134543410,
              "body": "Thank you for your time! This does work, I only had to rewrite this slightly to account for any character: <code>(?&lt;=[A-Z]).*?([A-Z](.)*)</code>"
            },
            {
              "comment_id": 134543460,
              "body": "@kido25, You&#39;re welcome.  I over looked that, I&#39;ll adjust my answer."
            },
            {
              "comment_id": 134543529,
              "body": "@kido25 I&#39;ve provided an additional measure, to my answer, also."
            }
          ],
          "answer_id": 76296893,
          "body": "<p>I was able to match the second occurrence using the following.</p>\n<pre><code>(?&lt;=[A-Z]).*?([A-Z].)\n</code></pre>\n<ul>\n<li>The first group is a positive look-behind, attempting to match any uppercase letter.</li>\n<li>The second group is a capture, for any uppercase letter, followed by a single character.</li>\n<li>Between the two groups is a <code>.*?</code> pattern, which will attempt to match any character, 0 or more.</li>\n</ul>\n<p>You can then use the following method, to return the value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String secondOccurrence(String string) {\n    Pattern pattern = Pattern.compile(&quot;(?&lt;=[A-Z]).*?([A-Z].)&quot;);\n    Matcher matcher = pattern.matcher(string);\n    if (matcher.find()) \n        return matcher.group(1);\n    return null;\n}\n</code></pre>\n<p>Alternatively, you could create a for-loop, breaking when the second occurrence is found.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String secondOccurrence(String string) {\n    int index = 0;\n    boolean first = false;\n    for (char character : string.toCharArray()) {\n        if (String.valueOf(character).matches(&quot;[A-Z]&quot;)) {\n            if (!first) first = true;\n            else break;\n        }\n        index++;\n    }\n    return string.substring(index, index + 2);\n}\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 134543387,
              "body": "Interesting approach using REPLACE, thank you for your time and thorough explanation!"
            },
            {
              "comment_id": 134543478,
              "body": "Is that pseudo-code?  It&#39;s not Java code."
            },
            {
              "comment_id": 134543502,
              "body": "Yes it was. Probably better to convert it to actual java code."
            }
          ],
          "answer_id": 76296912,
          "body": "<p>You can match from the second uppercase letter onwards. Or you can match anything that comes before the second uppercase letter and replace it with blank.</p>\n<p>The following regex will match the part that should be removed:</p>\n<pre><code>^[^A-Z]*[A-Z][^A-Z]*\n</code></pre>\n<p><strong>Regex Explanation</strong>:</p>\n<ul>\n<li><code>^</code>: start of string</li>\n<li><code>[^A-Z]*</code>: any sequence of non-uppercase characters</li>\n<li><code>[A-Z]</code>: an uppercase character</li>\n<li><code>[^A-Z]*</code>: any sequence of non-uppercase characters</li>\n</ul>\n<hr />\n<p>In your Java code:</p>\n<pre><code>String string = &quot;98A02D1&quot;;\nString pattern = &quot;^[^A-Z]*[A-Z][^A-Z]*&quot;;\n\nSystem.out.println(string.replaceFirst(pattern, &quot;&quot;));\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>D1\n</code></pre>\n<p>Check the regex demo <a href=\"https://regex101.com/r/Brd6X8/1\" rel=\"nofollow noreferrer\">here</a> and the java demo <a href=\"https://www.mycompiler.io/view/F7c3anthiub\" rel=\"nofollow noreferrer\">here</a>.</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 134547122,
              "body": "Very thorough answer, better than my pattern matching."
            },
            {
              "comment_id": 134547148,
              "body": "@lemon Your answer is good as well. My answer is just a small extension on your approach for an additional scenario."
            },
            {
              "comment_id": 134547277,
              "body": "@Thefourthbird, thank you for a valuable addition to this question! I understood where I went wrong."
            }
          ],
          "answer_id": 76299295,
          "body": "<p>Using <code>[A-Z]){2}</code> matches 2 consecutive uppercase chars, which is different from &quot;the second occurrence&quot; as there can be other characters in between in that case.</p>\n<p>If there has to be a second uppercase char present, you can use a capture group, and use that in the replacement with <code>$1</code></p>\n<p>If you don't want to cross newlines, you can exclude those in the negated character class.</p>\n<pre><code>^[^A-Z\\r\\n]*[A-Z][^A-Z\\r\\n]*([A-Z])\n</code></pre>\n<p><a href=\"https://regex101.com/r/vwHN5O/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/6vCjif\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<pre><code>String pattern = &quot;(?m)^[^A-Z\\\\r\\\\n]*[A-Z][^A-Z\\\\r\\\\n]*([A-Z].*)&quot;;\nString string = &quot;98A02D1\\n98A02&quot;;\nSystem.out.println(string.replaceAll(pattern, &quot;$1&quot;));\n</code></pre>\n<p>Output</p>\n<pre><code>D1\n98A02\n</code></pre>\n<hr>\n<p>An other option could be for example matching any uppercase letter using <code>\\p{Lu}</code></p>\n<pre><code>^[^\\p{Lu}]*[\\p{Lu}][^\\p{Lu}\\r\\n]*(\\p{Lu})\n</code></pre>\n<p>Or asserting an uppercase char to the right, and in the replacement use an empty string instead of group 1:</p>\n<pre><code>^[^A-Z\\r\\n]*[A-Z][^A-Z\\r\\n]*(?=[A-Z])\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684663137,
      "question_id": 76296874,
      "body": "<p>I need help with building a regex with Java flavor, which extracts everything after second occurence of any kind of capital letter.</p>\n<p>For example, for the sample string <code>&quot;98A02D1&quot;</code> the result should be <code>D1</code>. Doesn't matter what comes before the second occurence of a capital letter.</p>\n<p>What I came up with is this: <code>(?:.*?[A-Z]){2}(.*)</code></p>\n<p>Which doesn't work and only captures from the third occurence. Lowering the number in curly brackets doesn't help. Appreciate any help!</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547091,
          "body": "What does <code>resize()</code> do?"
        },
        {
          "comment_id": 134547105,
          "body": "Where is <code>size</code> initialized in <code>add()</code>?"
        },
        {
          "comment_id": 134547134,
          "body": "If the backing array is full (except for * index 0) and you&#39;re trying to add a new item, then double its capacity.@ Tim Moore"
        },
        {
          "comment_id": 134547160,
          "body": "size can&#39;t be initialized in add(), as it changes everytime we add data. I try to add size=0; outside the add(), results are the same"
        },
        {
          "comment_id": 134547188,
          "body": "oh I omit the resize() method, the results turned to be right. It is the resize() problem, thanks for your answering"
        },
        {
          "comment_id": 134547246,
          "body": "I am curious what is this MinHeap collection. I can&#39;t seem to find it. Is it a custom collection?"
        },
        {
          "comment_id": 134547396,
          "body": "I am implementing MinHeap using array so the class name is MinHeap"
        }
      ],
      "last_activity_date": 1684662965,
      "question_id": 76299287,
      "body": "<p>I have problems with adding data to array starting with index 1 using JAVA.</p>\n<p>I wrote this code to add data to the array starting with index 1 and print the data in specific index of the array:</p>\n<p>...</p>\n<pre><code>public void add(T data) {\n  \n     if(data==null){\n      throw new IllegalArgumentException();\n    }\n    resize();\n\n    size=size+1;\n    backingArray[size]=data;\n\n    }\n\n    public T getindex(int i){\n      return backingArray[i];\n    }\n</code></pre>\n<p>...</p>\n<p>And I wrote this code to test it:</p>\n<pre><code>import java.util.NoSuchElementException;\n\npublic class Hptest {\n    public static void main(String[] args) {\n       MinHeap&lt;Integer&gt; mHeap=new MinHeap&lt;&gt;();\n\n       mHeap.add(0);\n       System.out.println(mHeap.getindex(0));\n       System.out.println(mHeap.getindex(1));\n       mHeap.add(14);\n       System.out.println(mHeap.getindex(0));\n       System.out.println(mHeap.getindex(1));\n       System.out.println(mHeap.getindex(2));\n       mHeap.add(21);\n       System.out.println(mHeap.getindex(0));\n       System.out.println(mHeap.getindex(1));\n       System.out.println(mHeap.getindex(2));\n       System.out.println(mHeap.getindex(3));\n\n  }\n}\n</code></pre>\n<p>I should get [null] [0] [null] [0] [14] [null] [0] [14] [21], but I get [null] [0] [null] [null] [14] [null] [null] [null] [21],which I don't understand why.</p>\n"
    },
    {
      "answers": [
        {
          "answer_id": 76284306,
          "body": "<p>I think by asserting the response body, you are ensuring that the controller is producing a non-empty response. But simply checking for the presence of a response body doesn't confirm that the correct data is being returned.</p>\n<p>By also asserting the actual values in the response body, you can verify that the controller is returning the expected data in the correct format.</p>\n<p>One more important consideration when writing unit tests for controllers is to ensure that you are testing the behavior of the controller in isolation from other components of your application. For example, if your controller relies on a database or external API, you may want to use mock objects to simulate those dependencies during testing.</p>\n<p>So I Think asserting both the presence and the actual values in the response body is generally useful to follow for unit testing controllers in Spring Boot.</p>\n<p>I also found some useful notes <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">here</a></p>\n"
        },
        {
          "answer_id": 76299237,
          "body": "<p>I think that those tests are at service level, so these are blackbox tests. The meaning of this kind of tests is to validate the right response to a concrete input. I think that you are doing it right verifying the content of the response.</p>\n<p>So, how we can reduce the effort to maintain that?\nThere are multiple ways, it depends on how the tests are structured, but in this case i think that the problem is that you have to repeat a lot of time this code in the same class:</p>\n<pre><code>    @Test\nvoid getBookTest() throws Exception {\n    // mock service method\n    when(bookService.getBook(anyLong())).thenReturn(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;));\n\n    // perform request and verify status\n    mockMvc.perform(get(&quot;/books/1&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.id&quot;).value(1L))\n            .andExpect(jsonPath(&quot;$.title&quot;).value(&quot;Title&quot;))\n            .andExpect(jsonPath(&quot;$.author&quot;).value(&quot;Author&quot;));\n}\n</code></pre>\n<p>So you can covert it into this:</p>\n<pre><code>    // No test annotation it's a private method in the class\nprivate void getBookTest(BookDTO bookDto, String bookRequest) throws Exception { \n    // mock service method\n    when(bookService.getBook(anyLong())).thenReturn(bookDto);\n\n    // perform request and verify status\n    mockMvc.perform(get(bookRequest))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.id&quot;).value(bookDto.getId()))\n            .andExpect(jsonPath(&quot;$.title&quot;).value(bookDto.getTitle()))\n            .andExpect(jsonPath(&quot;$.author&quot;).value(bookDto.getAuthor()));\n}\n</code></pre>\n<p>And then you only have to update one mehtod when you change the JSON. And call it from each test as following:</p>\n<pre><code>getBookTest(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;), &quot;/books/1&quot;)\n</code></pre>\n<p>Even if you are using always the same BookDTO instance you can do it better, creating that instance at class level field and call it like this:</p>\n<pre><code>private BookDTO bookDTO = new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;) //you better create the instance in a constructor\n\n.......\ngetBookTest(bookDto, &quot;/books/1&quot;)\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684662539,
      "question_id": 76284047,
      "body": "<p>In my Spring Boot application, I have a layered architecture with Controllers, Services, and Repositories, each with their corresponding DTOs/Models. I am writing unit tests for my Controllers and am unsure about the extent to which I should assert the response body.</p>\n<p>Here's a simplified scenario to illustrate my question:</p>\n<p>Suppose I have a BookController with a GET /books/{id} endpoint that fetches a book's details. The response body contains a BookDTO with fields like id, title, author, etc.</p>\n<pre><code>@GetMapping(&quot;/books/{id}&quot;)\npublic ResponseEntity&lt;BookDTO&gt; getBook(@PathVariable Long id) {\n    BookDTO bookDTO = bookService.getBook(id);\n    return new ResponseEntity&lt;&gt;(bookDTO, HttpStatus.OK);\n}\n\n</code></pre>\n<p>When unit testing this GET endpoint, I am currently verifying the HTTP status and asserting the actual values in the BookDTO response body, like this:</p>\n<pre><code>@Test\nvoid getBookTest() throws Exception {\n    // mock service method\n    when(bookService.getBook(anyLong())).thenReturn(new BookDTO(1L, &quot;Title&quot;, &quot;Author&quot;));\n\n    // perform request and verify status\n    mockMvc.perform(get(&quot;/books/1&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.id&quot;).value(1L))\n            .andExpect(jsonPath(&quot;$.title&quot;).value(&quot;Title&quot;))\n            .andExpect(jsonPath(&quot;$.author&quot;).value(&quot;Author&quot;));\n}\n\n</code></pre>\n<p>While this test is thorough, it's also tightly coupled to the structure of BookDTO. If BookDTO changes (e.g., a field is added, removed, or renamed), I'll need to update all tests that assert its values, which seems not very maintainable.</p>\n<p>I am considering a different approach where I only assert the presence of the response body, not its exact contents. I would then write separate unit tests for BookDTO to ensure it behaves correctly.</p>\n<p>My question is: In terms of best practices for unit testing Controllers in Spring Boot, should I assert the actual values in the response body, or just the presence of the body? I understand that it may depend on the specific context, but I'd appreciate any general guidelines or considerations. Thanks!</p>\n"
    },
    {
      "last_activity_date": 1684662512,
      "question_id": 76299259,
      "body": "<p>I need to do a program that generates a schedule following some constraints. I have an GurobiVar[l][p][r] Y that represents my schedule. It equals 1 if the lesson L starts at period P in room R. I have 2 constraints to make sure that each lesson is planned and that no 2 lessons can be in the same room at the same time. Under are the 2 constraints I created, the 1st one works, but the 2nd one makes the problem infeasible and I have no clue why. Got some pointers for me?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void addLessonConstraints(GRBModel model, GRBVar[][][] y) throws GRBException {\n        int numLessons = y.length;\n        int numPeriods = y[0].length;\n        int numRooms = y[0][0].length;\n\n        for (int l = 0; l &lt; numLessons; l++) {\n            GRBLinExpr lessonConstraint = new GRBLinExpr();\n            for (int p = 0; p &lt; numPeriods; p++) {\n                for (int r = 0; r &lt; numRooms; r++) {\n                    lessonConstraint.addTerm(1.0, y[l][p][r]);\n                }\n                model.addConstr(lessonConstraint, GRB.EQUAL, 1.0, &quot;lesson_constraint_&quot; + l + &quot;_&quot; + p);\n            }\n        }\n    }\n\n    // each period has at most one lesson in a room\n    public static void addRoomConstraint(GRBModel model, GRBVar[][][] y) throws GRBException {\n        int numLessons = y.length;\n        int numPeriods = y[0].length;\n        int numRooms = y[0][0].length;\n\n        for (int p = 0; p &lt; numPeriods; p++) {\n            for (int r = 0; r &lt; numRooms; r++) {\n                GRBLinExpr roomConstraint = new GRBLinExpr();\n                for (int l = 0; l &lt; numLessons; l++) {\n                    roomConstraint.addTerm(1.0, y[l][p][r]);\n                }\n                model.addConstr(roomConstraint, GRB.LESS_EQUAL, 1.0, &quot;room_constraint_&quot; + p + &quot;_&quot; + r);\n            }\n        }\n    }\n</code></pre>\n<p>Checked the doc of gurobi to know why a problem is infeasible here</p>\n<p><a href=\"https://support.gurobi.com/hc/en-us/articles/360029969391-How-do-I-determine-why-my-model-is-infeasible-\" rel=\"nofollow noreferrer\">https://support.gurobi.com/hc/en-us/articles/360029969391-How-do-I-determine-why-my-model-is-infeasible-</a></p>\n<p>Tried the constraints alone and it didn't change the results.</p>\n"
    },
    {
      "answers": [
        {
          "answer_id": 76298965,
          "body": "<p>I solve the problem with a way described in <a href=\"https://stackoverflow.com/a/62120611/330457\">https://stackoverflow.com/a/62120611/330457</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final var loaded = new ByteBuddy()\n        .subclass(serviceClass)\n        .method(ElementMatchers.any())\n        .intercept(InvocationHandlerAdapter.of(handler))\n        .make()\n        .load(serviceClass.getClassLoader(),\n              ClassLoadingStrategy.Default.INJECTION.with(PackageDefinitionStrategy.Trivial.INSTANCE))\n        .getLoaded();\ntry {\n    return loaded.getConstructor().newInstance();\n} catch (final ReflectiveOperationException roe) {\n    throw new RuntimeException(&quot;failed to instantiate &quot; + loaded, roe);\n}\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684662509,
      "question_id": 76298911,
      "body": "<p>I just followed the way explained in <a href=\"https://stackoverflow.com/a/40300963/330457\">https://stackoverflow.com/a/40300963/330457</a> and I need help.</p>\n<p>I have the following class hierarchy in the same package.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class __BaseEntityService&lt;T extends __BaseEntity&lt;U&gt;, U&gt; {\n}\n\nabstract class _BaseEntityService&lt;T extends _BaseEntity&lt;U&gt;, U&gt;\n        extends __BaseEntityService&lt;T, U&gt; {\n}\n\npublic class SomeEntityService\n        extends _BaseEntityService&lt;Some, Integer&gt; {\n}\n</code></pre>\n<p>And, in my test, same, package, I'm trying to create a dynamic proxy form given concrete service class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeServiceTest {\n\n    void proxy() {\n        final var instance = new SomeService();\n        final var handler = new ValidationInvocationHandler(instance, validator);\n        // I want to create a proxy\n        // whose invocation handled with the handler\n        // on the instance.\n        final var loaded = new ByteBuddy()\n                .subclass(serviceClass)\n                .method(ElementMatchers.any())\n                .intercept(InvocationHandlerAdapter.of(handler))\n                .make()\n                .load(serviceClass.getClassLoader())\n                .getLoaded();\n        try {\n            return loaded.getConstructor().newInstance();\n        } catch (final ReflectiveOperationException roe) {\n            throw new RuntimeException(&quot;failed to instantiate &quot; + loaded, roe);\n        }\n    }\n}\n</code></pre>\n<p>I got this.</p>\n<pre><code> java.lang.IllegalAccessError: failed to access class ....__BaseEntityService from class ....SomeService$ByteBuddy$3WcNUA2k (....__BaseEntityService is in unnamed module of loader 'app'; ....SomeService$ByteBuddy$3WcNUA2k is in unnamed module of loader net.bytebuddy.dynamic.loading.ByteArrayClassLoader @1c0ec502)\n    at ....SomeService$ByteBuddy$3WcNUA2k.&lt;clinit&gt;(Unknown Source)\n    at java.base/jdk.internal.misc.Unsafe.ensureClassInitialized0(Native Method)\n    at java.base/jdk.internal.misc.Unsafe.ensureClassInitialized(Unsafe.java:1155)\n    at java.base/jdk.internal.reflect.UnsafeFieldAccessorFactory.newFieldAccessor(UnsafeFieldAccessorFactory.java:42)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newFieldAccessor(ReflectionFactory.java:185)\n    at java.base/java.lang.reflect.Field.acquireFieldAccessor(Field.java:1132)\n    at java.base/java.lang.reflect.Field.getFieldAccessor(Field.java:1113)\n    at java.base/java.lang.reflect.Field.set(Field.java:799)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$ForStaticField.onLoad(LoadedTypeInitializer.java:170)\n    at net.bytebuddy.implementation.LoadedTypeInitializer$Compound.onLoad(LoadedTypeInitializer.java:234)\n    at net.bytebuddy.dynamic.TypeResolutionStrategy$Passive.initialize(TypeResolutionStrategy.java:103)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6166)\n    at net.bytebuddy.dynamic.DynamicType$Default$Unloaded.load(DynamicType.java:6154)\n</code></pre>\n<p>How can I solve this?</p>\n<p>A working alternative code block using Javassist is this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Proxy proxy;\n{\n    final var factory = new ProxyFactory();\n    factory.setSuperclass(serviceClass);\n    factory.setFilter(m -&gt; !m.getName().equals(&quot;finalize&quot;));\n    final var c = factory.createClass();\n    try {\n        proxy = (Proxy) c.getDeclaredConstructor().newInstance();\n    } catch (final ReflectiveOperationException roe) {\n        throw new RuntimeException(&quot;failed to instantiate the proxy class: &quot; + c, roe);\n    }\n    final MethodHandler mi = (self, thisMethod, proceed, args) -&gt; handler.invoke(instance, thisMethod, args);\n    proxy.setHandler(mi);\n    proxy.setHandler(mi);\n}\nreturn (T) proxy;\n}\n</code></pre>\n<p>Hi, <a href=\"https://stackoverflow.com/users/1237575/rafael-winterhalter\">@rafael-winterhalter</a>, by the way.</p>\n"
    },
    {
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134548000,
              "body": "Just got to solve this a few minutes ago. Thanks anyways it was exactly what I did."
            }
          ],
          "answer_id": 76299253,
          "body": "<p>You can listen the app state when app is from foreground (ex: user using the app) to background (user quit the app but not terminated yet).</p>\n<p>After listen to app state, you could add another shared_prefs to store the time remain when user pause app, and when app in resume, using shared_prefs previously as argument for the timer method</p>\n<pre><code>class _MyScreenState extends State&lt;MyScreen&gt; with WidgetsBindingObserver{}\n//add the following inside our initState:\n\nWidgetsBinding.instance.addObserver(this);\n//didChangeAppLifecycleState will be:\n\n@override\n     void didChangeAppLifecycleState(AppLifecycleState state) {\n     super.didChangeAppLifecycleState(state);\n      if (state == AppLifecycleState.paused) {\n       // went to Background\n         }\n       if (state == AppLifecycleState.resumed) {\n       // came back to Foreground\n       }\n    }\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684662401,
      "question_id": 76299137,
      "body": "<p>I have a flutter application. Where I am saving a data in shared_preferences. Now what I want to achieve is that when data is saved it will start a timer for 5 minutes. After 5 minutes the data will be removed and user will be taken to the LoginPage again. This is quite simple. But here the things that I have done again restarts the timer whenever I start the application. I want is that suppose after 2 mins 30 seconds user closes the app. After some time the user again opens the app. Then the app will start from 2 mins 31 seconds and remaining time will be 2 mins 29 seconds. That means the timer will not restart even when the app is opened again.</p>\n<pre><code>Future&lt;void&gt; initializePreferences() async {\n    final SharedPreferences prefs = await SharedPreferences.getInstance();\n    _data = await prefs.getString('myData');\n  \n    Timer(Duration(minutes: 5), () {\n      prefs.remove('myData');\n      setState(() {\n        _data = null;\n      });\n\n      ///navigate to splashscreen\n      Navigator.pushNamedAndRemoveUntil(\n        context,\n        '/',\n            (route) =&gt; false,\n      );\n      print(&quot;Data is reremoved.&quot;);\n    });\n  }\n</code></pre>\n<p>here the timer starts for 5 mins. The remaining details what I want to achieve is given above. Thanks in advance.</p>\n"
    },
    {
      "answers": [
        {
          "comments": [
            {
              "comment_id": 120787038,
              "body": "And there is. By the way, above I under the heading EDIT indicated a possible reason, am I right?"
            },
            {
              "comment_id": 120790327,
              "body": "You&#39;re mixing many unrelated things together - &quot;Classes in bundle &#39;myProj&#39; do no match with execution data&quot; has nothing to do with with original &quot;Source file was not found&quot; and with version of Java."
            },
            {
              "comment_id": 120790469,
              "body": "And IMO there is no <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> in your description, so unlikely that somebody will be able to blindly guess what is wrong in your case. Have a look at  <a href=\"https://docs.gradle.org/current/samples/sample_jvm_multi_project_with_code_coverage.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/samples/&hellip;</a> and compare your setup with following minimal-reproducible-example <a href=\"https://github.com/gradle/gradle/tree/4e03f54df0ddfdc9eca268cb38bc6034d25e38ff/subprojects/docs/src/samples/java/jvm-multi-project-with-code-coverage\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/tree/&hellip;</a>"
            },
            {
              "comment_id": 120794461,
              "body": "I got the same result. This is strange because when I use Intellij IDEA Run&gt; Show Code Coverage&gt; test.exec, the IDE toolkit shows me the highlight code."
            }
          ],
          "answer_id": 68344020,
          "body": "<p>Maybe <code>com.myProj.myApi</code> is a single directory? whereas it should be 3 directories nested into each other <code>com</code> / <code>myProj</code> / <code>myApi</code></p>\n"
        },
        {
          "answer_id": 68363834,
          "body": "<p>I've fixed it when I changed work with files. I've deleted all code from 'jacocoTestReport {' to 'reports {' (non include) and insert this:</p>\n<pre><code>  for (proj in otherProjects) {\n    sourceSets project(module).sourceSets.main\n  }\n</code></pre>\n<p>I don't understand why getAdditionalSourceDirs() and getAdditionalClassDirs() aren't working. Or, most likely, i don't know difference between these 2 methods of interaction with files. If you know, you can comment under this answer.</p>\n"
        },
        {
          "answer_id": 76299232,
          "body": "<p>I was facing a similar issue. I was using some plugins which were generating source java files in the <code>build</code> folder. The coverage report (which included % coverage) for these source files generated in build folder was coming up but the exact source code file with coverage was not getting generated.\nI was getting the error: <code>source file com/abc/xyz/aop/LoggingAspect.java was not found during generation of report</code>.</p>\n<p>I found the solution to my issue in JaCoCo's FAQ page: <a href=\"https://www.jacoco.org/jacoco/trunk/doc/faq.html\" rel=\"nofollow noreferrer\">https://www.jacoco.org/jacoco/trunk/doc/faq.html</a>\n<code>Source files must be properly supplied at report generation time. I.e. specified source folders must be the direct parent of the folders that define the Java packages.</code></p>\n<p><strong>The sourceSet that I added for the generated code in build directory was not the direct parent of the Java package</strong>.</p>\n<p>Project structure:</p>\n<pre><code>project-root\n- build\n-- generated\n--- sources\n---- com/abc/xyz ('com.abc.xyz' Java package)\n\n- src/main/java\n-- com/abc/xyz ('com.abc.xyz' Java package)\n\n-build.gradle\n</code></pre>\n<p>The initial incorrect <code>build.gradle</code> file to add generated code to sourceSets:</p>\n<pre><code>sourceSets {\n  main {\n    java {\n      srcDirs += 'build/generated/sources/com'\n    }\n  }\n  test {\n    java {\n      srcDirs += 'build/generated/test-sources/com'\n    }\n  }\n}\n</code></pre>\n<p><strong>I configured the source directory for generated code to <code>build/generated/sources</code> instead of <code>build/generated/sources/com</code> and it worked.</strong></p>\n<p>Because <code>build/generated/sources</code> is a direct parent of <code>com.abc.xyz</code> but <code>build/generated/sources/com</code> isn't as it includes the path <code>com</code> in it.</p>\n"
        }
      ],
      "last_activity_date": 1684662125,
      "question_id": 68343660,
      "body": "<p>help me understand what's wrong, please.\nI've worked with multi-module project and faced one problem.\nMy architecture look like this:</p>\n<pre><code>proj1\n-src\n--main\n---java\n----com.myProj.myApi\n-----directories containing .java files\n\n... // same proj2 and proj3\n\nrootProject src\n-main\n--java\n---com.myProj.myApi\n----Application.java\n-test\n--test .java files\n</code></pre>\n<p>In the root gradle, I have defined the following:</p>\n<ol>\n<li>Variable with project names.</li>\n<li>After testing useTestNG(), the jacocoTestReport() task starts.</li>\n<li>Inside the jacocoTestReport(), I have determined which java files need to be loaded and checked.\nMy root build.gradle:</li>\n</ol>\n<pre><code>  repositories {\n    mavenLocal()\n    mavenCentral()\n    tasks.withType(Javadoc).all { enabled = false }\n    tasks.withType(JavaCompile).all { options.encoding = 'UTF-8'  }\n  }\n\n  group = 'com.myProj.myApi'\n  version = '1.0.0-SNAPSHOT'\n\n  apply plugin: 'java'\n  apply plugin: 'jacoco'\n  apply plugin: 'java-library'\n\n  jacoco {\n    toolVersion = &quot;0.8.5&quot;\n  }\n\n  def otherProjects = [':proj1', ':proj2', ':proj3']\n\ntest {\n  useTestNG()\n  finalizedBy jacocoTestReport\n}\n\notherProjects.each {\n  evaluationDependsOn it\n}\n\njacocoTestReport {\n  FileTree sourceTree = files().getAsFileTree()\n  FileTree classTree = files().getAsFileTree()\n\n  otherProjects.each {\n    sourceTree += project(it).sourceSets.main.allJava\n    classTree += project(it).sourceSets.main.output.asFileTree\n  }\n\n  sourceTree = sourceTree.matching {\n    exclude '**/nonTestedClass.java'\n  }\n\n  classTree = classTree.matching {\n    exclude '**/nonTestedClass.class'\n  }\n\n  getAdditionalSourceDirs().setFrom(sourceTree)\n  getAdditionalClassDirs().setFrom(classTree)\n  reports {\n    html.enabled = true\n    xml.enabled = true\n    csv.enabled = false\n  }\n}\n\ndependencies {\n  implementation project(':proj1')\n  implementation project(':proj2')\n  implementation project(':proj3')\n  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n  testImplementation 'org.testng:testng'\n}\n</code></pre>\n<p>Gradle version is 7.0.1. Java 11.\nI've looked <a href=\"https://stackoverflow.com/questions/53829414/jacoco-not-generating-coverage-reports-based-on-source-file-method-names-not-c\">this post</a>, but my paths for each project are correct as you can see in architecture.</p>\n<p><a href=\"https://i.stack.imgur.com/MB9hd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MB9hd.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 1</strong>\nI found that in each subproject, the build directories contain class files only for those java files that are in a specific subproject. Maybe this is the problem? Maybe I need to send all class files to the root build directory or not?\nP.S. build.gradle of subprojects do not contain any jacoco settings.</p>\n<p><strong>EDIT 2</strong>\nI've added print for getAdditional...Dirs() and learned that all paths are correct and found.\nAlso terminal gives me this info:</p>\n<pre><code>&gt; Task :jacocoTestReport\n[ant:jacocoReport] Classes in bundle 'myProj' do no match with execution data. For report generation the same class files must be used as at runtime.\n</code></pre>\n<p>But it's very strange, because when i've added this code</p>\n<pre><code>println(JavaVersion.current())\n</code></pre>\n<p>I've got this result: Java Version: 11. It's correct version of my Java:</p>\n<pre><code>$ java --version\nopenjdk 11.0.11 2021-04-20\nOpenJDK Runtime Environment (build 11.0.11+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.11+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134546890,
          "body": "Just &quot;a static map&quot; isn&#39;t a bad practice, there is a lot of cases where this is useful and the gool solution."
        },
        {
          "comment_id": 134546915,
          "body": "I see a caveat in your example, as this is static, do not put the initialization into a public constructor."
        },
        {
          "comment_id": 134547098,
          "body": "@PeterMmm why ?"
        },
        {
          "comment_id": 134547299,
          "body": "Without knowing the rest of your code, to use  _globals (with values), you must instantiate an object of MainClass. Can be fine in your case. But in general, constructor are for constructing objects and their members, statics are bind to the class."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134547235,
              "body": "If I make sure the map is set on initialisation and remains the same always, it seems that all of the 5 points you made are solved, no? factory pattern might still be a better solution, though"
            },
            {
              "comment_id": 134547371,
              "body": "I still would advise against utilizing static variables for achieving your goals"
            }
          ],
          "answer_id": 76299183,
          "body": "<p>Static variables, while not inherently problematic, can be classified as a code smell for a few significant reasons:</p>\n<p><strong>Global State:</strong> Static variables are essentially global state in disguise. Their state is preserved across the application's lifetime and can be accessed or mutated from any portion of the code, making it difficult to reason about behavior, leading to side effects and bugs.</p>\n<p><strong>Concurrency Issues:</strong> In multithreaded programming, static variables are shared among all threads. This can lead to race conditions and other synchronization problems unless handled carefully with locks, semaphores, etc.</p>\n<p><strong>Coupling:</strong> Static variables increase the coupling between components in your code. Changing the state of a static variable affects all the code that accesses it, making it harder to understand, maintain, and evolve the software.</p>\n<p><strong>Testing:</strong> Unit testing becomes more complicated when static variables are involved, as the shared state can persist between tests and cause tests to fail or pass unexpectedly. It can also make tests order-dependent.</p>\n<p><strong>OOP Principles:</strong> Static variables, particularly public ones, violate the principles of encapsulation and instantiation in Object-Oriented Programming (OOP). They contradict the idea of each object carrying its own state.</p>\n<p>As for</p>\n<blockquote>\n<p>The main purpose of _globals if to have it available for example in the class TextFieldController without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.</p>\n</blockquote>\n<p>It seems like you're intending to replace the IoC (Inversion of Control) container and establish singletons through the use of static variables. This approach, however, is not generally recommended as a best practice. If you're not interested in using IoC frameworks, I recommend exploring the factory pattern as a lightweight option.</p>\n"
        }
      ],
      "last_activity_date": 1684661974,
      "question_id": 76299162,
      "body": "<p>I want to have some important classes available through out the app, like so:</p>\n<pre><code>private static final HashMap&lt;Class&lt;?&gt;, Object&gt; _globals = new HashMap&lt;&gt;();\n\npublic MainClass(){\n     _stateManager = new StateManager();\n     _inputManager = new InputManager();\n     _toolManager = new ToolManager();\n     _viewManager = new ViewManager();\n     _globals.put(StateManager.class, _stateManager);\n     _globals.put(InputManager.class, _inputManager);\n     _globals.put(ToolManager.class, _toolManager);\n     _globals.put(ViewManager.class, _viewManager);\n}\n</code></pre>\n<p>From what I've been researching, static vars are always discouraged, but I feel like this might be ok, because I'm not actually keeping any static state. The main purpose of _globals if to have it available for example in the class <code>TextFieldController</code> without having to pass it to the constructors, from the main class all the way to there, going through classes that might not need it.</p>\n<p>Is this ok or is there any problems i'm not seeing ?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 42243226,
          "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2130892/persisting-hashlib-state\">Persisting hashlib state</a>"
        },
        {
          "comment_id": 42243281,
          "body": "As you&#39;ve no doubt discovered you can&#39;t pickle hashlib&#39;s HASH objects; see <a href=\"http://stackoverflow.com/q/2130892/4014959\">Persisting hashlib state</a> for an explanation and some options. But you can speed up your hashing by using a larger blocksize, eg 64kB."
        },
        {
          "comment_id": 42243572,
          "body": "@PM2Ring No answer is satisfying in your suggested question because I need something(SOME_CLASS) which can persist any Hash object from hashlib."
        },
        {
          "comment_id": 42264743,
          "body": "The main answer in the question I linked to explains why you <b>can&#39;t</b> persist Hash objects from hashlib. I agree that the options mentioned in those answers are unsatisfactory. If you <i>really</i> need hash objects that can persist you&#39;ll need to write your own module. Have you tried my suggestion of using a larger block size? In my experiments 64 kilobytes (65536 bytes) works quite well."
        },
        {
          "comment_id": 42278185,
          "body": "That question I linked to has links to pure Python implementations of sha256 and MD5 which can be used to make persistable hash objects, and <a href=\"http://stackoverflow.com/a/5866304/4014959\">this answer</a> shows how to do it for MD5. But I expect that on standard Python this approach will be <i>much</i> slower than hashlib, because most of the work in hashlib is done by the OpenSSL library, which is compiled C/C++ code."
        },
        {
          "comment_id": 42324712,
          "body": "My previous answer to this question has been migrated to <a href=\"http://stackoverflow.com/questions/26880953/is-there-any-hash-function-which-have-following-properties/26881016#26881016\">a new question</a>, as suggested in a (deleted) comment by Devesh Saini."
        },
        {
          "comment_id": 42325445,
          "body": "@PM2Ring What do you want to indicate?"
        },
        {
          "comment_id": 42325753,
          "body": "I&#39;m just indicating the new location of my program in case anyone was wondering what happened to it. Why have you put a bounty on this question?"
        },
        {
          "comment_id": 42326141,
          "body": "I have put a bounty on it because it haven&#39;t got much attention. Also, If someone having the answer, feeling lazy to write SOME_CLASS for just few points then this small bounty may get his/her attention to write code for me. If I had more reputation, I would offered a greater bounty on it because I seriously need answer."
        },
        {
          "comment_id": 42326905,
          "body": "But as has already been explained, <b>it&#39;s simply not possible</b> to &quot;pause/resume md5 and sha256 hash object from standard &quot;hashlib&quot; module&quot;. The state data needed to make it possible is not accessible in any way via the Python hashlib and its hash objects. However, a new, functionally-equivalent, implementation of hashlib <i>could</i> allow such pausing and resuming, since the <code>struct SHAstate_st</code> aka <code>SHA_CTX</code> <i>is</i> accessible to C programs that use OpenSSL. See <code>&lt;openssl&#47;sha.h&gt;</code> (on my system that header is in <code>&#47;usr&#47;include</code>)."
        },
        {
          "comment_id": 42327096,
          "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/64784/discussion-between-devesh-saini-and-pm-2ring\">continue this discussion in chat</a>."
        },
        {
          "comment_id": 42389765,
          "body": "hmm... write this code for +50 rep, or keep it to myself so that only MY bitcoin miner speeds up? You&#39;ve given us a tough choice."
        },
        {
          "comment_id": 42393273,
          "body": "@iwolf : Hmmm. I know nothing about bitcoin. Maybe I shouldn&#39;t post my new code. OTOH, it runs at about the same speed as <code>sha256sum</code>, so maybe it gives no advantage... but what would <i>I</i> know. :)"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 42395536,
              "body": "It gives, OSError: libcrypto.so: cannot open shared object file... Can you write/update instruction for how to get it work?"
            },
            {
              "comment_id": 42395924,
              "body": "Maybe you don&#39;t have that library file, but you should if you&#39;re on Linux and have OpenSSL installed. But try changing the library to &quot;libssl.so&quot;, i.e. change <code>crypto = cdll.LoadLibrary(&quot;libcrypto.so&quot;)</code> to <code>crypto = cdll.LoadLibrary(&quot;libssl.so&quot;)</code>. If you&#39;re not using Linux or some other form of Unix, you may have to use a slightly different syntax."
            },
            {
              "comment_id": 42396087,
              "body": "I&#39;m not very familiar with Windows, but it looks like the OpenSSL crypto library name on Windows is <code>ssleay32.dll</code>. And the equivalent to <code>libssl.so</code> (the main OpenSSL library) is <code>libeay32.dll</code>."
            },
            {
              "comment_id": 42396324,
              "body": "I tried changing the name to <code>libssl.so</code> but no effect. It keeps on raising same exception. I also tried installing openssl by doing <code>apt-get install openssl</code> and tried both names i.e. <code>libcrypto.so</code> and <code>libssl.so</code>. Same problem!"
            },
            {
              "comment_id": 42396746,
              "body": "Those libraries should be in <code>&#47;usr&#47;lib&#47;</code>, as symbolic links to the actual libraries. I normally use <code>synaptic</code> to manage packages. On my system, the SSL libraries are part of the <code>libssl0.9.8</code> package; I guess <code>apt-get install libssl0.9.8</code> should work, but I don&#39;t understand why that wouldn&#39;t have been automatically installed as a dependency of the main OpenSSL package. <i>Maybe</i> you also need the developer files in the <code>libssl-dev</code> package so that the Python ctypes stuff works."
            },
            {
              "comment_id": 42397186,
              "body": "And maybe you need to fix your sources list. Did you modify it a few months back when Heartbleed was a thing? Those libraries (and some others) should be listed if you do <code>ldd $(which openssl)</code>. Also try (as root) <code>dpkg -l | grep libssl</code>."
            },
            {
              "comment_id": 42400815,
              "body": "I first installed <code>libssl0.9.8</code> and then <code>libssl-dev</code>. Now, it is working. Perfect solution :)"
            },
            {
              "comment_id": 42403894,
              "body": "Excellent! And thankyou. :big grin:. With a minor change it also works on Windows, although I&#39;ve only tested it on WinXP."
            }
          ],
          "answer_id": 26878137,
          "body": "<p>It turned out to be easier than I thought to rewrite hashlib to be resumable, at least, the SHA-256 portion. I spent some time playing with C code that uses the OpenSSL crypto library, but then I realised that I don't need all that stuff, I can just use ctypes.</p>\n\n<p><strong>rehash.py</strong></p>\n\n<pre><code>#! /usr/bin/env python\n\n''' A resumable implementation of SHA-256 using ctypes with the OpenSSL crypto library\n\n    Written by PM 2Ring 2014.11.13\n'''\n\nfrom ctypes import *\n\nSHA_LBLOCK = 16\nSHA256_DIGEST_LENGTH = 32\n\nclass SHA256_CTX(Structure):\n    _fields_ = [\n        (\"h\", c_long * 8),\n        (\"Nl\", c_long),\n        (\"Nh\", c_long),\n        (\"data\", c_long * SHA_LBLOCK),\n        (\"num\", c_uint),\n        (\"md_len\", c_uint)\n    ]\n\nHashBuffType = c_ubyte * SHA256_DIGEST_LENGTH\n\n#crypto = cdll.LoadLibrary(\"libcrypto.so\")\ncrypto = cdll.LoadLibrary(\"libeay32.dll\" if os.name == \"nt\" else \"libssl.so\")\n\nclass sha256(object):\n    digest_size = SHA256_DIGEST_LENGTH\n\n    def __init__(self, datastr=None):\n        self.ctx = SHA256_CTX()\n        crypto.SHA256_Init(byref(self.ctx))\n        if datastr:\n            self.update(datastr)\n\n    def update(self, datastr):\n        crypto.SHA256_Update(byref(self.ctx), datastr, c_int(len(datastr)))\n\n    #Clone the current context\n    def _copy_ctx(self):\n        ctx = SHA256_CTX()\n        pointer(ctx)[0] = self.ctx\n        return ctx\n\n    def copy(self):\n        other = sha256()\n        other.ctx = self._copy_ctx()\n        return other\n\n    def digest(self):\n        #Preserve context in case we get called before hashing is\n        # really finished, since SHA256_Final() clears the SHA256_CTX\n        ctx = self._copy_ctx()\n        hashbuff = HashBuffType()\n        crypto.SHA256_Final(hashbuff, byref(self.ctx))\n        self.ctx = ctx\n        return str(bytearray(hashbuff))\n\n    def hexdigest(self):\n        return self.digest().encode('hex')\n\n#Tests\ndef main():\n    import cPickle\n    import hashlib\n\n    data = (\"Nobody expects \", \"the spammish \", \"imposition!\")\n\n    print \"rehash\\n\"\n\n    shaA = sha256(''.join(data))\n    print shaA.hexdigest()\n    print repr(shaA.digest())\n    print \"digest size =\", shaA.digest_size\n    print\n\n    shaB = sha256()\n    shaB.update(data[0])\n    print shaB.hexdigest()\n\n    #Test pickling\n    sha_pickle = cPickle.dumps(shaB, -1)\n    print \"Pickle length:\", len(sha_pickle)\n    shaC = cPickle.loads(sha_pickle)\n\n    shaC.update(data[1])\n    print shaC.hexdigest()\n\n    #Test copying. Note that copy can be pickled\n    shaD = shaC.copy()\n\n    shaC.update(data[2])\n    print shaC.hexdigest()\n\n\n    #Verify against hashlib.sha256()\n    print \"\\nhashlib\\n\"\n\n    shaD = hashlib.sha256(''.join(data))\n    print shaD.hexdigest()\n    print repr(shaD.digest())\n    print \"digest size =\", shaD.digest_size\n    print\n\n    shaE = hashlib.sha256(data[0])\n    print shaE.hexdigest()\n\n    shaE.update(data[1])\n    print shaE.hexdigest()\n\n    #Test copying. Note that hashlib copy can NOT be pickled\n    shaF = shaE.copy()\n    shaF.update(data[2])\n    print shaF.hexdigest()\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p><strong>resumable_SHA-256.py</strong></p>\n\n<pre><code>#! /usr/bin/env python\n\n''' Resumable SHA-256 hash for large files using the OpenSSL crypto library\n\n    The hashing process may be interrupted by Control-C (SIGINT) or SIGTERM.\n    When a signal is received, hashing continues until the end of the\n    current chunk, then the current file position, total file size, and\n    the sha object is saved to a file. The name of this file is formed by\n    appending '.hash' to the name of the file being hashed.\n\n    Just re-run the program to resume hashing. The '.hash' file will be deleted\n    once hashing is completed.\n\n    Written by PM 2Ring 2014.11.14\n'''\n\nimport cPickle as pickle\nimport os\nimport signal\nimport sys\n\nimport rehash\n\nquit = False\n\nblocksize = 1&lt;&lt;16   # 64kB\nblocksperchunk = 1&lt;&lt;8\n\nchunksize = blocksize * blocksperchunk\n\ndef handler(signum, frame):\n    global quit\n    print \"\\nGot signal %d, cleaning up.\" % signum\n    quit = True\n\n\ndef do_hash(fname, filesize):\n    hashname = fname + '.hash'\n    if os.path.exists(hashname):\n        with open(hashname, 'rb') as f:\n            pos, fsize, sha = pickle.load(f)\n        if fsize != filesize:\n            print \"Error: file size of '%s' doesn't match size recorded in '%s'\" % (fname, hashname)\n            print \"%d != %d. Aborting\" % (fsize, filesize)\n            exit(1)\n    else:\n        pos, fsize, sha = 0, filesize, rehash.sha256()\n\n    finished = False\n    with open(fname, 'rb') as f:\n        f.seek(pos)\n        while not (quit or finished):\n            for _ in xrange(blocksperchunk):\n                block = f.read(blocksize)\n                if block == '':\n                    finished = True\n                    break\n                sha.update(block)\n\n            pos += chunksize\n            sys.stderr.write(\" %6.2f%% of %d\\r\" % (100.0 * pos / fsize, fsize))\n            if finished or quit:\n                break\n\n    if quit:\n        with open(hashname, 'wb') as f:\n            pickle.dump((pos, fsize, sha), f, -1)\n    elif os.path.exists(hashname):\n        os.remove(hashname)\n\n    return (not quit), pos, sha.hexdigest()\n\n\ndef main():\n    if len(sys.argv) != 2:\n        print \"Resumable SHA-256 hash of a file.\"\n        print \"Usage:\\npython %s filename\\n\" % sys.argv[0]\n        exit(1)\n\n    fname = sys.argv[1]\n    filesize = os.path.getsize(fname)\n\n    signal.signal(signal.SIGINT, handler)\n    signal.signal(signal.SIGTERM, handler)\n\n    finished, pos, hexdigest = do_hash(fname, filesize)\n    if finished:\n        print \"%s  %s\" % (hexdigest, fname)\n    else:\n        print \"sha-256 hash of '%s' incomplete\" % fname\n        print \"%s\" % hexdigest\n        print \"%d / %d bytes processed.\" % (pos, filesize)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p><strong>demo</strong></p>\n\n<pre><code>import rehash\nimport pickle\nsha=rehash.sha256(\"Hello \")\ns=pickle.dumps(sha.ctx)\nsha=rehash.sha256()\nsha.ctx=pickle.loads(s)\nsha.update(\"World\")\nprint sha.hexdigest()\n</code></pre>\n\n<p><strong>output</strong></p>\n\n<pre><code>a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e\n</code></pre>\n\n<p><strong>edit</strong></p>\n\n<p>I've just made a minor edit to allow <code>rehash</code> to work on Windows, too, although I've only tested it on WinXP. The <code>libeay32.dll</code> can be in the current directory, or somewhere in the system library search path, eg <code>WINDOWS\\system32</code>. My rather ancient (and mostly unused) XP installation couldn't find the .dll, even though it's used by OpenOffice and Avira. So I just copied it from the Avira folder to system32. And now it works perfectly. :)</p>\n"
        },
        {
          "answer_id": 76296495,
          "body": "<p>A pure python that support import / export to python dict: <a href=\"https://pypi.org/project/sha256bit/\" rel=\"nofollow noreferrer\">https://pypi.org/project/sha256bit/</a></p>\n<p>Demo:</p>\n<pre><code>&gt;&gt;&gt; from sha256bit import Sha256bit\n&gt;&gt;&gt; h1 = Sha256bit(&quot;a&quot;.encode())\n&gt;&gt;&gt; state = h1.export_state()\n&gt;&gt;&gt; h2 = Sha256bit.import_state(state)\n&gt;&gt;&gt; h2.update(&quot;bc&quot;.encode())\n&gt;&gt;&gt; h2.hexdigest()\n'ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad'\n</code></pre>\n<p><code>state</code> is a regular python dict that can be persisted.</p>\n"
        }
      ],
      "last_activity_date": 1684660986,
      "question_id": 26838194,
      "body": "<p>I need a Python/C/C++/Java implementation which can <strong>pause hashing progress</strong> and <strong>store</strong> that progress in a file in such a way that the progress is <strong>recoverable</strong> from that file at a later stage.</p>\n\n<p>No matter in what language it is written from above listed, it should work properly in Python. It is recommended that you may provide that to work well with \"hashlib\" however it is not necessary. Also, if such a thing already exist, a link to that is sufficient.</p>\n\n<p><strong>For an idea</strong>, what your implementation should achieve.</p>\n\n<pre><code>import hashlib\nimport hashpersist #THIS IS NEEDED.\n\nsha256 = hashlib.sha256(\"Hello \")\nhashpersist.save_state(sha256, open('test_file', 'w'))\n\nsha256_recovered = hashpersist.load_state(open('test_file', 'r'))\nsha256_recovered.update(\"World\")\nprint sha256_recovered.hexdigest()\n</code></pre>\n\n<p>This should give the same output as we had done simple hashing of \"Hello World\" with standard sha256 function.</p>\n\n<pre><code>a591a6d40bf420404a011733cfb7b190d62c65bf0bcda32b57b277d9ad9f146e\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 113168717,
          "body": "I feel your pain -- the Eclipse heap analyser can use a truly colossal amount of heap. I&#39;ve not found a better way to use it, than to set a massive -Xmx value, and allocate a lot of swap to the system. It&#39;s very slow, though. I&#39;d also like to know if there&#39;s a better way."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 113179379,
              "body": "Hey Aragozin, Please tell me how to use <a href=\"https://github.com/aragozin/heaplib\" rel=\"nofollow noreferrer\">github.com/aragozin/heaplib</a> ?"
            },
            {
              "comment_id": 113194397,
              "body": "1+ I was not aware of this beauty, will try as soon as I get a chance."
            },
            {
              "comment_id": 113204437,
              "body": "@PrinceGupta I have put some minimal info to README.md"
            }
          ],
          "answer_id": 64003891,
          "body": "<p>Processing large heap dump is a challenge. Both VisualVM and Eclipse Memory Analyzer required too much memory to process heap dumps in order of few dozen of GiB.</p>\n<p>Commercial profilers show better result (YourKit in particular) though I not sure of their practical limit.</p>\n<p>To routinely process 100+ GiB, I came up you with headless solution <a href=\"https://github.com/aragozin/heaplib\" rel=\"nofollow noreferrer\">heaplib</a>, which based on code base from VisualVM (Netbeans actually).</p>\n<p>Heaplib is neigther graphical, nor interactive. It is oriented to automated reporting.\nTool allows you to write code for heap analysis in OQL/JavaScript (or Java if you wish), though capabilities are limited to accommodate memory requirements. Processing of 100GiB could take hour, but for non interactive workflow it is acceptable.</p>\n"
        },
        {
          "answer_id": 76299160,
          "body": "<p>Challenge is that RAM should be larger than the heap dump hprof file. And usually our laptop hosting windows system has RAM &lt;=16 GB. Thus analyzing heap dump of 35-40 gb in local system is almost impossible.</p>\n<p>Configure MAT in your remote unix server having enough RAM ( &gt; 35-40GB). And run it using command line. (GUI is always slower than command line anyway.)</p>\n<p>Assigning 8GB-10GB wont work. So Better to increase the heap assigned to java process.</p>\n<p>-vmargs\n-Xms40g\n-Xmx40g</p>\n<p>Check by descriptive answer here.\n<a href=\"https://stackoverflow.com/a/76298700/5140851\">https://stackoverflow.com/a/76298700/5140851</a></p>\n"
        }
      ],
      "last_activity_date": 1684660956,
      "question_id": 63997436,
      "body": "<p>I have to analyse java heap dump of size 35-40GB, which can't be loaded on local machine except of remote servers of large memory.</p>\n<p>I found <a href=\"https://stackoverflow.com/questions/7254017/tool-for-analyzing-large-java-heap-dumps\">Tool for analyzing large Java heap dumps</a> as the best link till now. But after configuring all the things and properly executing all the command lines, I was not able to get any report file.</p>\n<p>My <em>ParseHeapDump.sh</em> file looks as</p>\n<pre><code>#!/bin/sh\n#\n# This script parses a heap dump.\n#\n# Usage: ParseHeapDump.sh &lt;path/to/dump.hprof&gt; [report]*\n#\n# The leak report has the id org.eclipse.mat.api:suspects\n# The top component report has the id org.eclipse.mat.api:top_components\n#\n./MemoryAnalyzer -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot; -vmargs -Xms8g -Xmx10g -XX:-UseGCOverheadLimit\n</code></pre>\n<p>and  <em>MemoryAnalyzer.ini</em> file looks as</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.1.700.v20180518-1200\njava -Xmx8g -Xms10g -jar plugins/org.eclipse.equinox.launcher_1.5.0.v20180512-1130.jar -consoleLog -consolelog -application org.eclipse.mat.api.parse &quot;$@&quot;\n-vmargs\n-Xms8g\n-Xmx10g\n</code></pre>\n<p>Please tell me If I'm doing any mistake in configuration or suggest me any other tool available in the market.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134546802,
          "body": "You need to describe what your &quot;issue&quot; is, now we have to guess. I guess you wonder that this code &quot;does nothing&quot;? That&#39;s because you don&#39;t print the <code>String</code> that <code>pp.primes(7)</code> returns. Use <code>System.out.printlin</code> for that."
        }
      ],
      "answers": [
        {
          "answer_id": 76299133,
          "body": "<p>If you want to see the results, use <code>System.out.print(pp.primes(7));</code></p>\n"
        }
      ],
      "last_activity_date": 1684660534,
      "question_id": 76299103,
      "body": "<p>What is the issue with this ?</p>\n<pre><code>public class prime \n{\n    String  primes(int num)\n    {\n        for(int i=2;i&lt;num-1;i++)\n        {\n            if(num%i==0)\n            {\n                return &quot;Not a prime&quot;;\n                \n            }\n            else if(num%i!=0)\n            {\n                return &quot;Prime&quot;;\n                \n            }\n        }\n        return &quot;Composite&quot;;\n    }\n\n    public static void main(String [] args) {\n        prime pp=new prime();\n        pp.primes(7);\n    \n    }\n}\n</code></pre>\n"
    },
    {
      "answers": [
        {
          "answer_id": 45280148,
          "body": "<p>The Solution was:</p>\n\n<blockquote>\n  <p>remove the the Wildfly 11 Runtime\n  from the Classpath.</p>\n</blockquote>\n\n<ol>\n<li>Right Click on the Project </li>\n<li>Build Path </li>\n<li>Configure Build Path </li>\n<li>Libraries (Tab)</li>\n<li>remove Wildfly 11 Runtime (or Wildfly 10 Runtime)</li>\n</ol>\n\n<p>Why is this necessary? Comments welcome...</p>\n"
        },
        {
          "answer_id": 59233398,
          "body": "<p>I also had the same issue. I tried the below solution and it worked for me like a charm.\nThe Solution was:</p>\n\n<p>Adding the TestNG Library into the project.\nSteps are:</p>\n\n<ol>\n<li>Right Click on the Project</li>\n<li>Build Path</li>\n<li>Configure Build Path</li>\n<li>Libraries (Tab)</li>\n<li>Go to \"Add Library\" and click the button.</li>\n<li>Add the 'TestNG' Library and click Ok/Next.</li>\n<li>TestNG Library will be added to your project.</li>\n</ol>\n\n<p>Try Running again, it will work.</p>\n\n<p>Note: I was using Java1.8 Library (had to update it from java1.5 as my eclipse create the project with default 1.5).</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 109365204,
              "body": "Downgrading the testNg version has also helped me. Thanks :)"
            }
          ],
          "answer_id": 59712187,
          "body": "<p>Even I have faced the same issue when I was about to use the latest version of TestNG, but downgrading to a lower version of TestNG resolved the problem.</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 111118956,
              "body": "Please give some examples if possible. Please check <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a> for some guidance."
            }
          ],
          "answer_id": 62835881,
          "body": "<p>adding testng library to the project worked for me!</p>\n"
        },
        {
          "answer_id": 69611180,
          "body": "<p>if you are working on a maven project, upgrade your testng version to 7.1.0\nand its scope to test.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.1.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"
        },
        {
          "answer_id": 76299131,
          "body": "<pre><code>I also faced a similar issue when I added TestNg dependency(v7.8.0) in pom.xml.\nI changed the dependency to 7.7.1 and it started working.\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;7.7.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684660523,
      "question_id": 45280055,
      "body": "<p>I am getting the Exception</p>\n\n<pre><code>FAILED CONFIGURATION: @BeforeSuite arquillianBeforeSuite \njava.lang.NoSuchMethodError: org.jboss.remoting3.Endpoint.builder()Lorg/jboss/remoting3/EndpointBuilder;\nat org.jboss.as.controller.client.impl.RemotingModelControllerClient.getOrCreateChannel(RemotingModelControllerClient.java:117)\nat org.jboss.as.controller.client.impl.RemotingModelControllerClient$1.getChannel(RemotingModelControllerClient.java:59)\nat org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:147)\nat org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:122)\n</code></pre>\n\n<p>Running Arquillian Tests in Eclipse Oxygen with TestNG and wildfly11.\nMy Maven configuration is as follows:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.arquillian.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;arquillian-testng-container&lt;/artifactId&gt;\n        &lt;version&gt;1.1.13.Final&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.wildfly.arquillian&lt;/groupId&gt;\n        &lt;artifactId&gt;wildfly-arquillian-container-managed&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134542407,
          "body": "Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."
        },
        {
          "comment_id": 134542491,
          "body": "&quot;that particular app will be installed automatically&quot; -- thankfully, that is not supported."
        },
        {
          "comment_id": 134544137,
          "body": "what i meant that it will show a pop up like &quot;do you want to install this app&quot;"
        }
      ],
      "last_activity_date": 1684660151,
      "question_id": 76296410,
      "body": "<p>How can I decrypt encrypted video files in an Android app and play them in an Android app that I am making and then remove the decrypted file from the storage?</p>\n"
    },
    {
      "last_activity_date": 1684660073,
      "question_id": 76292240,
      "body": "<p>I am new to Anylogic and Java in general. I am trying to do something very simple. I have an Anylogic simulation model that imports data from an Excel file into the in-built database using the &quot;Create or import table&quot; link in the properties window.</p>\n<p>Now instead of using the &quot;Create or import table&quot; of the in-built database, I want to programmatically read the data in the Excel file into the in-built database. I look Anylogic Help and found a page that explains how to &quot;To import data from an Excel table into the model’s database programmatically&quot;.</p>\n<p>I followed the instructions and created the code in the &quot;on start up&quot; action box of main. However, I keep getting this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error during model startup:\nDatabase (&quot;Store Data&quot;): Couldn't load database JDBC Driver &quot;com.googlecode.sqlsheet.Driver&quot; (class   not found)\njava.lang.RuntimeException: Database (&quot;Store Data&quot;): Couldn't load database JDBC Driver       &quot;com.googlecode.sqlsheet.Driver&quot; (class not found)\nat com.anylogic.engine.connectivity.Database.&lt;init&gt;(Unknown Source)\nat com.anylogic.engine.connectivity.Database.&lt;init&gt;(Unknown Source)\nat com.anylogic.engine.connectivity.Database.&lt;init&gt;(Unknown Source)\nat testdatabase.Main.onStartup(Main.java:319)\nat com.anylogic.engine.Agent.d(Unknown Source)\nat com.anylogic.engine.Agent.start(Unknown Source)\nat com.anylogic.engine.Engine.start(Unknown Source)\nat com.anylogic.engine.ExperimentSimulation.g(Unknown Source)\nat com.anylogic.engine.ExperimentSimulation.run(Unknown Source)\nat com.anylogic.engine.ExperimentSimulation.b(Unknown Source)\nat com.anylogic.engine.internal.k$k.run(Unknown Source)\n</code></pre>\n<p>Can you please look at my code below and let me know why I am getting this JDBC Driver load error?</p>\n<pre><code>ModelDatabase modelDB = getEngine().getModelDatabase();\nDatabase myStoreFile = new Database(this, &quot;Store Data&quot;, &quot;Ryan_sim_data_02226.xlsx&quot;);\nmodelDB.importFromExternalDB(myStoreFile.getConnection(), &quot;loc_forecast&quot;, &quot;Internal_loc_forecast&quot;, true, false);\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134546357,
          "body": "I cant add photo or other codes. How can ı do it   Your post appears to contain code that is not properly formatted as code. Please indent all code by 4 spaces using the code toolbar button or the CTRL+K keyboard shortcut. For more editing help, click the [?] toolbar icon."
        },
        {
          "comment_id": 134546392,
          "body": "This kind of question needs to show your debugging efforts. Have you used a debugger to step through the code, set break points, inspected variables, and identified the very <b>first</b> place where something happened different from what you expected?"
        },
        {
          "comment_id": 134546426,
          "body": "no i didnt but ı think bug is on isGameEnded method, because everything is fine . ı put all knigt pawn or like that."
        },
        {
          "comment_id": 134546429,
          "body": "public boolean isGameEnded() {         int whitePieces = 0;         int blackPieces = 0;          for (int row = 0; row &lt; 8; row++) {             for (int col = 0; col &lt; 8; col++) {                 Piece piece = board[row][col].getPiece();                 if (piece != null) {                     if (piece.getColor() == ChessBoard.WHITE) {                         whitePieces++;                     } else {                         blackPieces++;                     }                 }             }         }"
        },
        {
          "comment_id": 134546431,
          "body": "ı cant give all code i will be crazy what can ı do"
        },
        {
          "comment_id": 134546438,
          "body": "can ı message you private or can ı add photo or like that?"
        },
        {
          "comment_id": 134546439,
          "body": "<i>&quot;I think bug is on ...&quot;</i>: don&#39;t guess, instead use a debugger. Then, if <i>after</i> debugging with a debugger you haven&#39;t identified the problem, edit your question and add the results of your debugging efforts."
        },
        {
          "comment_id": 134546442,
          "body": "how can ı use it ?"
        },
        {
          "comment_id": 134546449,
          "body": "ı started project and it is working but just not like how ı want"
        },
        {
          "comment_id": 134546456,
          "body": "<a href=\"https://stackoverflow.com/q/856388/5459839\">Setting breakpoints in Java</a>, <a href=\"https://stackoverflow.com/q/25385173/5459839\">What is a debugger and how can it help me diagnose problems?</a>, <a href=\"https://stackoverflow.com/q/18977397/5459839\">debug java program step by step in Eclipse</a>"
        },
        {
          "comment_id": 134548135,
          "body": "Also, check out <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. It won&#39;t solve your direct problem, but it will give you steps that you can follow that should help you solve it yourself, or even if that is not successful, then at least help you to better isolate your problem so that your question can be more focused and easier to answer."
        }
      ],
      "last_activity_date": 1684660072,
      "question_id": 76298801,
      "body": "<p>I created ChessGame, ChessBoard, Pierce, Square and all other classes like knight queen. And all codes are looking correct. It doesn't give any error, but when I start a game, it says game started, white win, game over. How can I fix that? I am trying to make a chess game but with a few differences like you can't win absolute pin: a piece can be played even it would put the King into check. End game control: you can end the game when no pieces exist from one color. How can I do it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class ChessGame {\n\n    private ChessBoard board;\n\n    public ChessGame() {\n        board = new ChessBoard();\n    }\n\n    public void start() {\n        System.out.println(&quot;Satranç Oyununa Hoş Geldiniz!&quot;);\n\n        while (!board.isGameEnded()) {\n            printBoard();\n            int turnColor = board.isWhitePlaying() ? ChessBoard.WHITE : ChessBoard.BLACK;\n            String turnColorName = turnColor == ChessBoard.WHITE ? &quot;Beyaz&quot; : &quot;Siyah&quot;;\n            System.out.println(turnColorName + &quot; oyuncu sırası&quot;);\n            System.out.println(&quot;Bir taşı seçin (örneğin, e2):&quot;);\n            String sourceSquareName = readUserInput();\n\n            if (!isValidSquareName(sourceSquareName)) {\n                System.out.println(&quot;Geçersiz bir kare ismi girdiniz!&quot;);\n                continue;\n            }\n\n            Piece selectedPiece = board.getPieceAt(sourceSquareName);\n\n            if (selectedPiece == null) {\n                System.out.println(&quot;Seçtiğiniz karede bir taş bulunmuyor!&quot;);\n                continue;\n            }\n\n            if (selectedPiece.getColor() != turnColor) {\n                System.out.println(&quot;Seçtiğiniz taş sizin renginizde değil!&quot;);\n                continue;\n            }\n\n            System.out.println(&quot;Hedef kareyi seçin:&quot;);\n            String targetSquareName = readUserInput();\n\n            if (!isValidSquareName(targetSquareName)) {\n                System.out.println(&quot;Geçersiz bir kare ismi girdiniz!&quot;);\n                continue;\n            }\n\n            Square sourceSquare = board.getSquareAt(sourceSquareName);\n            Square targetSquare = board.getSquareAt(targetSquareName);\n\n            if (selectedPiece.canMove(targetSquare)) {\n                selectedPiece.move(targetSquare);\n                System.out.println(&quot;Taş başarıyla hareket etti!&quot;);\n                board.turn = turnColor == ChessBoard.WHITE ? ChessBoard.BLACK : ChessBoard.WHITE;\n            } else {\n                System.out.println(&quot;Geçersiz hareket!&quot;);\n            }\n        }\n\n        System.out.println(&quot;Oyun bitti!&quot;);\n    }\n\n    private void printBoard() {\n        System.out.println(&quot;-----------------&quot;);\n        for (int row = 7; row &gt;= 0; row--) {\n            for (int col = 0; col &lt; 8; col++) {\n                Piece piece = board.board[row][col].getPiece();\n                if (piece == null) {\n                    System.out.print(&quot;- &quot;);\n                } else if (piece instanceof Rook) {\n                    System.out.print(Rook.getSymbol() + &quot; &quot;);\n                } else if (piece instanceof Bishop) {\n                    System.out.print(Bishop.getSymbol() + &quot; &quot;);\n                } else if (piece instanceof Knight) {\n                    System.out.print(Knight.getSymbol() + &quot; &quot;);\n                } else if (piece instanceof King) {\n                    System.out.print(King.getSymbol() + &quot; &quot;);\n                }else if (piece instanceof Queen) {\n                    System.out.print(Queen.getSymbol() + &quot; &quot;);\n                }else if (piece instanceof Pawn) {\n                    System.out.print(Pawn.getSymbol() + &quot; &quot;);\n                }\n                // Diğer taş türleri için gerekli else if bloklarını ekleyebilirsiniz.\n            }\n            System.out.println();\n        }\n        System.out.println(&quot;-----------------&quot;);\n    }\n\n    private String readUserInput() {\n        Scanner scanner = new Scanner(System.in);\n        return scanner.nextLine();\n    }\n\n    private boolean isValidSquareName(String name) {\n        if (name.length() != 2) {\n            return false;\n        }\n\n        char file = name.charAt(0);\n        char rank = name.charAt(1);\n\n        return file &gt;= 'a' &amp;&amp; file &lt;= 'h' &amp;&amp; rank &gt;= '1' &amp;&amp; rank &lt;= '8';\n    }\n\n    public static void main(String[] args) {\n        ChessGame chessGame = new ChessGame();\n        chessGame.start();\n    }\n}\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 127921386,
          "body": "I believe it should be <code>&quot;databaseName&quot;, &quot;[REDACTED]&quot;</code> not <code>&quot;database&quot;, &quot;[REDACTED]&quot;</code>."
        },
        {
          "comment_id": 127921387,
          "body": "See also the examples here: <a href=\"https://stackoverflow.com/questions/50213381/how-do-i-configure-hikaricp-for-postgresql\">How do I configure HikariCP for postgresql?</a>"
        },
        {
          "comment_id": 127921587,
          "body": "Hello @andrewJames, is there a comprehensive list of property names somewhere? Sorry if this sounds idiotic."
        },
        {
          "comment_id": 127921795,
          "body": "See the HikariCP web site for all the HikariCP settings. And see the relevant Postgres JDBC documentation for all the Postgres JDBC settings."
        },
        {
          "comment_id": 127922369,
          "body": "I&#39;ve seen both sites, and sometimes the names don&#39;t correspond as in the case above - the Postgres JDBC driver says &quot;database&quot; is the name of the database name parameter."
        },
        {
          "comment_id": 127922790,
          "body": "Perhaps it would be easier to configure an object of type <code>PGSimpleDataSource</code> first. After that is done, pass to <a href=\"https://javadoc.io/static/com.zaxxer/HikariCP/5.0.1/com/zaxxer/hikari/HikariConfig.html#setDataSource(javax.sql.DataSource)\" rel=\"nofollow noreferrer\"><code>HikariConfig#setDataSource</code></a>."
        },
        {
          "comment_id": 127923060,
          "body": "@BasilBourque Thanks for the suggestion. Didn&#39;t realize that was an option, and seems less ambiguous than the direct approach of adding properties using <code>addDataSourceProperty(&quot;something&quot;, &quot;the_other_thing&quot;)</code>.  I&#39;ll use that in the future."
        },
        {
          "comment_id": 127924166,
          "body": "@daferrecpr If my suggested approach works out, please come back here to draft, post, and accept an Answer to your own Question, for posterity."
        }
      ],
      "answers": [
        {
          "answer_id": 72413985,
          "body": "<p>It gives that error because <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/PGSimpleDataSource.html\" rel=\"nofollow noreferrer\"><code>PGSimpleDataSource</code></a> does not have a property <code>database</code> (i.e. it doesn't have a <code>setDatabase(String)</code> method). It does have a property <code>databaseName</code> (<a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html#setDatabaseName-java.lang.String-\" rel=\"nofollow noreferrer\"><code>setDatabaseName</code></a> defined in <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/ds/common/BaseDataSource.html\" rel=\"nofollow noreferrer\"><code>BaseDataSource</code></a>). This property is specified in section <em>9.6.1 <code>DataSource</code> Properties</em> of the JDBC 4.3 specification.</p>\n<p>Reading the comments, it looks like you're confusing the documentation of the <a href=\"https://jdbc.postgresql.org/documentation/head/connect.html\" rel=\"nofollow noreferrer\">JDBC URL format</a> (and connection properties) with the properties that are available on the data source implementations provided by the driver. To be clear, that documentation doesn't specify there is a property <code>database</code>, it only uses <code>database</code> as a placeholder in the JDBC URL syntax (as in jdbc:postgresql://<em>host</em>/<em><strong>database</strong></em>).</p>\n"
        }
      ],
      "last_activity_date": 1684659609,
      "question_id": 72411539,
      "body": "<p>I am attempting to set up various PostgreSQL JDBC driver <a href=\"https://jdbc.postgresql.org/documentation/head/connect.html\" rel=\"nofollow noreferrer\">properties</a> to my HikariCP pool, but for some reason, it's stating that those properties don't exist. Why so? Am I using the wrong parameter names?</p>\n<pre><code>import com.zaxxer.hikari.HikariConfig;\nimport com.zaxxer.hikari.HikariDataSource\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\n\npublic class HikariTest {\n    public static void main(String[] args) throws SQLException {\n        HikariConfig config = new HikariConfig();\n        config.setDataSourceClassName(&quot;org.postgresql.ds.PGSimpleDataSource&quot;);\n        config.setUsername(&quot;[REDACTED]&quot;);\n        config.setPassword(&quot;[REDACTED]&quot;);\n        config.addDataSourceProperty(&quot;host&quot;, &quot;[REDACTED&quot;);\n        config.addDataSourceProperty(&quot;database&quot;, &quot;[REDACTED]&quot;);\n        config.addDataSourceProperty(&quot;ssl&quot;, true);\n        config.addDataSourceProperty(&quot;sslcert&quot;, &quot;[REDACTED]&quot;);\n        HikariDataSource ds = new HikariDataSource(config);\n        Connection conn = ds.getConnection();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Property database does not exist on target class org.postgresql.ds.PGSimpleDataSource\n    at com.zaxxer.hikari.util.PropertyElf.setProperty(PropertyElf.java:127)\n    at com.zaxxer.hikari.util.PropertyElf.lambda$setTargetFromProperties$0(PropertyElf.java:51)\n    at java.base/java.util.concurrent.ConcurrentHashMap.forEach(ConcurrentHashMap.java:1603)\n    at java.base/java.util.Properties.forEach(Properties.java:1422)\n    at com.zaxxer.hikari.util.PropertyElf.setTargetFromProperties(PropertyElf.java:46)\n    at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:323)\n    at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:112)\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:93)\n    at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81)\n    at HikariTest.main(HikariTest.java:21)\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134546797,
          "body": "You might need to commit before fetching all rows. <code>ctx.commit();</code> please let me know if it works"
        }
      ],
      "last_activity_date": 1684659525,
      "question_id": 76299023,
      "body": "<p>I have tried to build a set of CRUD REST APIs using Spring Boot. I have created the project via Spring Initializr with the dependency spring-boot-starter-data-couchbase.</p>\n<p>I have uploaded the project here <a href=\"https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/tree/basic_crud\" rel=\"nofollow noreferrer\">https://github.com/RosarioB/spring-boot-rest-api-couchbase-crud/tree/basic_crud</a></p>\n<p>I have implemented some Repository methods using the CouchbaseTemplate. For example:</p>\n<pre><code>@Override\n    public List&lt;Customer&gt; findAll() {\n        List&lt;JsonObject&gt; jsonObjects = couchbaseTemplate.getCouchbaseClientFactory().getScope()\n                .query(String.format(&quot;SELECT * FROM %1$s &quot;, keySpace)).rowsAsObject();\n        return jsonObjects.stream().map(this::mapJsonToCustomer).collect(Collectors.toList());\n     }\n</code></pre>\n<p>And i have also implemented a test for the above method (with TestContainer) :</p>\n<pre><code>@Test\n    public void testFindAll() throws InterruptedException {\n        Customer alex = new Customer(&quot;customer1&quot;, &quot;Alex&quot;, &quot;Stone&quot;);\n        Customer jack = new Customer(&quot;customer2&quot;, &quot;Jack&quot;, &quot;Sparrow&quot;);\n        List&lt;Customer&gt; customerList = List.of(alex, jack);\n        Transactions transactions = couchbaseTemplate.getCouchbaseClientFactory().getCluster().transactions();\n        transactions.run(ctx -&gt;\n                customerList.forEach(customer -&gt; collection.insert(customer.getId(), customer))\n        );\n        List&lt;Customer&gt; customers = customerRepository.findAll();\n        Assertions.assertEquals(customerList, customers);\n    }\n</code></pre>\n<p>My problem is that even if I perform an insert in the database with collection.insert, when I try to recover the data with customerRepository.findAll some times the test fails because it finds just one item of the two.</p>\n<p>If I run the test in debug it works. I thought there were some synchronization issue and I've tried to synchronize the methods but I have not solved the problem.</p>\n<p>What am I doing wrong?</p>\n<p>I have tried to synchronize the method because I thought there was a synchronization issue but it didn't work.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134543917,
          "body": "Aside from main question, compiler informs about problems via <i>errors</i> and/or <i>warnings</i>. The <i>exceptions</i> are thrown at <i>runtime</i>. But to run java code first it needs to compile without errors."
        },
        {
          "comment_id": 134546364,
          "body": "@Pshemo yea it compiles without errors the question was about adding a condition for the error"
        },
        {
          "comment_id": 134546366,
          "body": "during runtime input"
        },
        {
          "comment_id": 134547075,
          "body": "Sorry - mixed you up with OP. I&#39;ll delete, but think it really better here as it addresses the orig question and effects that were misleading the OP. Here is that comment: Super Coder, note I have deleted my comments. It is practicably impossible with your code (which should be corrected in the question for the equals stuff) to enter a name with whitespace, even with quoting (the reason why I deleted my comments). We are getting too academic about this question, and you should probably be doing nextLine, not next(). There&#39;s no reason why the user should not be able to enter a name with a space"
        },
        {
          "comment_id": 134548497,
          "body": "@g00se yea I figured that out about an hour after I wrote the program lol I thought someone would just figure that out using logic but first answer I got was about the q that I asked :D"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134542713,
              "body": "yea I know I am just looking for a way to report an error in case there is a whitespace"
            }
          ],
          "answer_id": 76296573,
          "body": "<p>If you want to read a floating point number you have to explicitly ask for it using Scanner.nextDouble(). next() returns a String. You can not assign a string to a number in Java.</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 134542726,
              "body": "so there isn&#39;t any predefined functions ?"
            },
            {
              "comment_id": 134542822,
              "body": "@g00se, you&#39;re right, actually, I was trying to avoid recommending a <code>Pattern</code>.  Thanks for the correction, I overlooked it."
            },
            {
              "comment_id": 134542840,
              "body": "Yes, you can use <code>String.matches</code>, which requires a regular expression, the pattern <code>\\s</code> will match any white-space character.  Or, if you are looking for a single character you can use the <code>String.indexOf</code> method.  So, <code>name.indexOf(&#39; &#39;) != -1</code> would mean an index was found, thus it contains a space character."
            }
          ],
          "answer_id": 76296590,
          "body": "<p>You can use the following method to determine if a <code>String</code> contains a white-space character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean containsSpace(String string) {\n    for (char character : string.toCharArray()) {\n        switch (character) {\n            case ' ', '\\t', '\\n', '\\r', '\\f' -&gt; {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>Also, you're going to want to test the <code>name</code> value using the <code>String.equals</code> method, as opposed to the <code>==</code> equality operator.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (name.equals(&quot;&quot;)) error = true;\n</code></pre>\n<p>Furthermore, the <code>main</code> method requires a single <code>String</code> array, or <code>String</code> varargs parameter, to be valid.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args)\n</code></pre>\n<p>Here is a quick demonstration of how I would implement the task.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    \n    String name;\n    while (true) {\n        System.out.print(&quot;Name: &quot;);\n        name = scanner.nextLine();\n        if (!containsSpace(name))\n            break;\n        System.out.println(&quot;Name contains white-space.  Re-enter.&quot;);\n    }\n    \n    double amount;\n    while (true) {\n        System.out.print(&quot;Amount: &quot;);\n        try {\n            amount = Double.parseDouble(scanner.nextLine());\n            break;\n        } catch (NumberFormatException exception) {\n            System.out.println(&quot;Invalid amount.  Re-enter.&quot;);\n        }\n    }\n    \n    System.out.printf(&quot;Name is '%s'%n&quot;, name);\n    System.out.printf(&quot;Amount is %,f%n&quot;, amount);\n}\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684659276,
      "question_id": 76296529,
      "body": "<p>I am writing a program where I need to check if a string (<code>name</code>) contains any whitespaces or not.</p>\n<p>Here's part of my program :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main()\n    {\n        Scanner sc = new Scanner(System.in) ;\n        String name = &quot;&quot; ;\n        boolean error = false ;\n        do {\n            if(error) System.out.println(&quot;Sorry, error. Try again&quot;) ;\n            error = false ;\n            \n            System.out.print(&quot;Enter your name : &quot;) ;\n            name = sc.next() ;\n            if(name==&quot;&quot;) error = true ;\n        } while(error) ;\n        \n        double amount = 0.00 ;\n        do {\n            if(error) System.out.println(&quot;Sorry, error. Try again&quot;) ;\n            error = false ;\n            \n            System.out.print(&quot;Enter amount of purchase : &quot;) ;\n            amount = sc.nextDouble() ;\n            if(amount&lt;=1) error = true ;\n        } while(error) ;\n    }\n}\n</code></pre>\n<p>For checking errors in the <code>name</code> string input, I need to check if the string contains any whitespaces or not because otherwise <code>java.lang.InputMismatchException</code> is thrown when it accepts <code>amount</code> (and when the entered <code>name</code> contains whitespace with another string).</p>\n<p>Is there any predefined function that does this?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134534255,
          "body": "Why do you have custom JWT filters? Spring security has had full jwt support since 2017? Please read the spring security docs and implement the handling of JWTs in accordance to the documentation. Whats the point of having i security framework if you dont intend to use it?"
        },
        {
          "comment_id": 134534301,
          "body": "thanks for the feedback, I will take it, but at this time, removing the JWT Filters, doesn&#39;t help with the solution."
        },
        {
          "comment_id": 134534676,
          "body": "@Isaachjk You have to show the logs before <code>Securing POST &#47;error</code>. You could also permit <code>&#47;error</code> to see the real error in your response."
        },
        {
          "comment_id": 134535851,
          "body": "Not following the documentation makes it much harder for us to help you because the error could be in your custom code, we dont know"
        },
        {
          "comment_id": 134546721,
          "body": "Show also your controller method for <code>&#47;backend&#47;api&#47;general&#47;testError</code>"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134543273,
              "body": "Why did i get -1 for that answer? O.o"
            }
          ],
          "answer_id": 76293208,
          "body": "<p>Please double check if you have correct URL in your controller (without trailing slash). Since 3.0</p>\n<pre><code>localhost:8080/backend/api/general/testError\n</code></pre>\n<p>and</p>\n<pre><code>localhost:8080/backend/api/general/testError/\n</code></pre>\n<p>isn't the same for matcher and will lead to 404 error.\nYou don't permit <code>/error</code>, so you get 403.</p>\n<p>Probably that's the reason but it's hard to tell without more details.</p>\n<p><a href=\"https://stackoverflow.com/questions/76265356/404-error-for-post-request-using-springboot/76266001#76266001\">Same problem here</a></p>\n"
        },
        {
          "answer_id": 76293226,
          "body": "<p>If you want to <code>api/general/</code> matches <code>api/general</code>, override <code>configurePathMatching</code>.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code> override fun configurePathMatching(configurer: PathMatchConfigurer) {\n     configurer.setUseTrailingSlashMatch(true)\n }\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684659252,
      "question_id": 76290602,
      "body": "<p>I'm having trouble to make requestMatchers to work properly.</p>\n<p>If I try to make a request to ex. (localhost:8080/backend/api/general/testError), it returns 403 error, while the same request in Spring Boot: <code>2.7.X</code> don't.</p>\n<p>If I change <code>.anyRequest().authenticated()</code> to <code>.anyRequest().permitAll()</code> it works like a charm, but is not the idea to change the authenticated way.</p>\n<p>As I said, the same code was working on Spring Boot <code>2.7.X</code>.</p>\n<p>Also, tested on Spring boot: <code>3.0.4</code>, <code>3.0.7</code>, <code>3.1.0</code>.</p>\n<p>the following code is the SecurityFilterChain <code>filterChain</code> Bean definition:</p>\n<pre><code>\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(\n        securedEnabled = true, // ...\n        prePostEnabled = true // para poder usar PreAuthorize (Seguridad por roles)\n)\npublic class WebConfig implements WebMvcConfigurer {\n\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        Boolean isProduction = true;\n\n        try {\n            isProduction = !env.getProperty(&quot;dataSource.url&quot;).contains(&quot;DESA&quot;);\n        } catch (Exception ex) {\n            /**\n             * Ante un fallo aplicamos la seguridad de producciï¿½n\n             */\n            isProduction = true;\n        }\n\n        http\n            .sessionManagement(session -&gt;\n                    session.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            )\n            .csrf(csrf-&gt; csrf.disable())\n            .cors(withDefaults())\n            .authorizeHttpRequests(request -&gt; request\n                .requestMatchers(HttpMethod.POST,\n                        &quot;/actuator/**&quot;,\n                        &quot;/api/general/**&quot;, \n                        &quot;/api/digesto/documentos/getDigestoDocumentBits/**&quot;)\n                .permitAll()\n\n                .anyRequest()\n                .authenticated()\n            )\n            .authenticationProvider(authProvider)\n            .addFilter(new JwtAuthenticationFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class))))\n            .addFilter(new JwtAuthorizationFilter(authenticationManager(http.getSharedObject(AuthenticationConfiguration.class)), isProduction));\n\n        return http.build();\n    }\n</code></pre>\n<p>Debugging a little the message from console, we can see some interesting things:</p>\n<pre><code>[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:245 - Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@5f0c5384, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3805707d, org.springframework.security.web.context.SecurityContextHolderFilter@32764446, org.springframework.security.web.header.HeaderWriterFilter@6420c7d6, org.springframework.web.filter.CorsFilter@283de1da, org.springframework.security.web.authentication.logout.LogoutFilter@193bd24, bknd.Siam.Beans.JwtAuthenticationFilter@77464808, bknd.Siam.Beans.JwtAuthorizationFilter@4aeba517, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1061711c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d0c4031, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@597eb2af, org.springframework.security.web.session.SessionManagementFilter@5b9ea973, org.springframework.security.web.access.ExceptionTranslationFilter@1f21993c, org.springframework.security.web.access.intercept.AuthorizationFilter@2dcb65e]] (1/1)\n[2023-05-19 09:24:19][DEBUG] org.springframework.security.web.FilterChainProxy:223 - Securing POST /error\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking DisableEncodeUrlFilter (1/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking WebAsyncManagerIntegrationFilter (2/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking SecurityContextHolderFilter (3/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking HeaderWriterFilter (4/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking CorsFilter (5/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking LogoutFilter (6/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.authentication.logout.LogoutFilter:121 - Did not match request to Or [Ant [pattern='/logout', GET], Ant [pattern='/logout', POST], Ant [pattern='/logout', PUT], Ant [pattern='/logout', DELETE]]\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking JwtAuthenticationFilter (7/14)\n[2023-05-19 09:24:19][TRACE] bknd.Siam.Beans.JwtAuthenticationFilter:271 - Did not match request to Ant [pattern='/api/general/login']\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking JwtAuthorizationFilter (8/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking RequestCacheAwareFilter (9/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking SecurityContextHolderAwareRequestFilter (10/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking AnonymousAuthenticationFilter (11/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking SessionManagementFilter (12/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking ExceptionTranslationFilter (13/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.FilterChainProxy:133 - Invoking AuthorizationFilter (14/14)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager:71 - Authorizing SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4dea265c]]\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:416 - 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n[2023-05-19 09:24:19][TRACE] org.springframework.beans.factory.support.DefaultListableBeanFactory:256 - Returning cached instance of singleton bean 'basicErrorController'\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:525 - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:416 - 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n[2023-05-19 09:24:19][TRACE] org.springframework.beans.factory.support.DefaultListableBeanFactory:256 - Returning cached instance of singleton bean 'basicErrorController'\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:525 - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:416 - 2 matching mappings: [{ [/error]}, { [/error], produces [text/html]}]\n[2023-05-19 09:24:19][TRACE] org.springframework.beans.factory.support.DefaultListableBeanFactory:256 - Returning cached instance of singleton bean 'basicErrorController'\n[2023-05-19 09:24:19][TRACE] org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping:525 - Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.access.intercept.RequestMatcherDelegatingAuthorizationManager:80 - Checking authorization on SecurityContextHolderAwareRequestWrapper[ FirewalledRequest[ org.apache.catalina.core.ApplicationHttpRequest@4dea265c]] using org.springframework.security.authorization.AuthenticatedAuthorizationManager@6c2926cb\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.context.SupplierDeferredSecurityContext:72 - Created SecurityContextImpl [Null authentication]\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.authentication.AnonymousAuthenticationFilter:116 - Set SecurityContextHolder to AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\n[2023-05-19 09:24:19][TRACE] org.springframework.security.web.access.ExceptionTranslationFilter:194 - Sending AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]] to authentication entry point since access is denied\norg.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:91)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:238)\n    at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:321)\n    at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:222)\n    at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:135)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222)\n    at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:304)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:149)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n[2023-05-19 09:24:19][DEBUG] org.springframework.security.web.authentication.Http403ForbiddenEntryPoint:57 - Pre-authenticated entry point called. Rejecting access\n[2023-05-19 09:24:19][TRACE] org.springframework.boot.web.servlet.filter.OrderedRequestContextFilter:105 - Cleared thread-bound request context: org.apache.catalina.core.ApplicationHttpRequest@4dea265c\n</code></pre>\n<p>Reading the console, what I can find is like <code>anyRequest()</code> is getting ride of the <code>api/general</code> path, no matter that it has an exclusion.</p>\n<p>I have read a lot, and I cant find a definite solution, please help me!</p>\n<p>I tried many ways of implementing the requestMatchers and also try some solutions founds in Stackoverflow, but no ones work for me.</p>\n<p>Im expecting find a solution to the problem I have.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134546656,
          "body": "Can you share the complete method?"
        },
        {
          "comment_id": 134546681,
          "body": "@Mureinik yup put it in just now."
        },
        {
          "comment_id": 134546715,
          "body": "&quot;Ongoing&quot; /&quot;Completed&quot; would definitely be improved by making them <code>enum</code>s.  You need to check your expectations, and/or do <code>if (projectProvince.getStage().equalsIgnoreCase(&quot;Ongoing&quot;))</code>"
        },
        {
          "comment_id": 134546750,
          "body": "@g00se I looked them up and they do look effective, but since we haven&#39;t covered them in our uni course just yet, we aren&#39;t allowed to use them for this assignment."
        },
        {
          "comment_id": 134546848,
          "body": "@efx, if they are staying at <code>0</code>, then the <code>if</code> conditional-statements are not evaluating as <code>true</code>.  Are you positive the return value of either is that exact text; <code>equals</code> is case-sensative."
        },
        {
          "comment_id": 134546862,
          "body": "@efx, I recommend placing a breakpoint on the first <code>if</code> statement, and using a debugging process to derive the value from the <code>getStage</code> method."
        },
        {
          "comment_id": 134547124,
          "body": "btw I note the field <code>PROJECT_STAGE_EN</code> is missing even from one of the sample data lines you&#39;ve already posted in your other question"
        }
      ],
      "last_activity_date": 1684659041,
      "question_id": 76299007,
      "body": "<p>In my dataset, I've got a mixture of ongoing and completed projects. I want to make it so that each time &quot;Ongoing&quot; is found, the variable &quot;ongoing&quot; increases by 1, and the same for &quot;Completed&quot;. However, I had to initialize these variables, so I made them 0. Now, they stay zero, even though they're supposed to increase by 1.</p>\n<pre><code>public static void regions(String pRegion) { // variable region is out of scope; passed into variable pRegion \n    \n    Scanner input = new Scanner(System.in);\n    int userCh;\n    Project projectProvince = new Project();\n    System.out.println(&quot;Please make a choice from the statistics below for &quot;+pRegion+&quot;.&quot;);\n    \n    System.out.println(&quot;1 &gt; Number of projects\\n2 &gt; Percentage of all projects located in this province/territory\\n3 &gt; Total number and percentage of ongoing projects\\n&quot;\n            + &quot;4 Total number and percentage of completed projects\\n5 &gt; All of the above statistics\\n00 &gt; Return to main menu\\n&quot;);\n    userCh = input.nextInt();\n    \n    int howManyProvince = countItemsForProvince(pRegion);\n    double percentageProvince = ((double)howManyProvince/(double)linesInFileCount)*100;\n    \n    int ongoing = 0;\n    int completed = 0;\n    if (projectProvince.getStage().equals(&quot;Ongoing&quot;)) {     \n        ongoing++;\n    }\n    else if (projectProvince.getStage().equals(&quot;Completed&quot;)) {\n        completed++;\n    }\n    \n    switch (userCh) {\n    case 1: \n        System.out.println(&quot;Number of projects: &quot;+howManyProvince);\n        break;\n    case 2:     \n        System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%&quot;);\n        break;\n    case 3:\n        System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince);\n        break;\n    case 4:\n        System.out.println(&quot;Number of ongoing projects: &quot;+completed);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince);\n        break;\n    case 5:\n        System.out.println(&quot;Number of projects: &quot;+howManyProvince+&quot;\\n&quot;);\n        System.out.println(&quot;Percentage of all projects in &quot;+pRegion+&quot;: &quot; +percentageProvince+&quot;%\\n&quot;);\n        System.out.println(&quot;Number of ongoing projects: &quot;+ongoing);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+ongoing/howManyProvince+&quot;\\n&quot;);\n        System.out.println(&quot;Number of ongoing projects: &quot;+completed);\n        System.out.println(&quot;Percentage of ongoing projects: &quot;+completed/howManyProvince+&quot;\\n&quot;);\n        break;\n    }\n    \n    \n//  int ongoingCountForRegion = countItemsForProvinceAtStage(pRegion,&quot;Ongoing&quot;);\n//  \n//    int howManyProvince = countItemsForProvince(pRegion);\n//    System.out.println(howManyProvince);\n//    \n    input.close();\n}\n</code></pre>\n<p>I tried to 'return' the variables, but I couldn't, because the method is void. I also tried to place the initialized variables within the if-else block itself, but it didn't work, because I use these variables in a switch case immediately after</p>\n"
    },
    {
      "answers": [
        {
          "answer_id": 60496778,
          "body": "<p>You need to declare what is the column on the document table that contains the request Id:</p>\n\n<pre><code>@JoinColumn(name = \"PARENT_REQUEST\")\n</code></pre>\n\n<p>where PARENT_REQUEST is the name of the column on your Document table</p>\n"
        },
        {
          "answer_id": 60496824,
          "body": "<p>While persisting new data into the database, you've probably added documents to Request's list but forgot to set Request's object to all of your documents on the other side.</p>\n\n<p>Check that you did both things (the following is the example):</p>\n\n<pre><code>Request request = new Request();\n//initialization of request\nfor (...) { //iterate over all document candidates\n    Document document = new Document();\n    //initialization of document\n    document.setRequest(request); //check this!\n    request.getDocuments().add(document);\n}\n</code></pre>\n\n<p>Also, it seems that you don't have a not-null constraint on <code>ID_REQUEST</code> column. Add this so you won't have this broken data with nullable <code>ID_REQUEST</code> field in the future (constraint violation exception will be raised instead in this kind of situations).</p>\n"
        }
      ],
      "last_activity_date": 1684658991,
      "question_id": 60496569,
      "body": "<p>I have a problem when I want to persist 2 objects in the database</p>\n<p>In Request class:</p>\n<pre><code>@OneToMany(cascade = CascadeType.PERSIST, mappedBy = &quot;request&quot;)\nprivate List&lt;Document&gt; documents;\n</code></pre>\n<p>In Document class:</p>\n<pre><code>@JoinColumn( referencedColumnName = &quot;ID_REQUEST&quot;)\n@ManyToOne\nRequest request;\n</code></pre>\n<p>The problem is that when I add <code>request</code> the I find that the 2 objects are persisted but in the table Document lD_REQUEST IS ALWAYS NULL.</p>\n<p>THANK YOU IN ADVANCE and sorry for my English</p>\n"
    },
    {
      "answers": [
        {
          "answer_id": 76287257,
          "body": "<p>I've figured this out. There're two topics here first you must bind <code>WebClient.Builder</code> via Autowiring it since Spring handles the tracing itself.</p>\n<p>Second there's a bug in the spring graphql <a href=\"https://github.com/spring-projects/spring-graphql/issues/675\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-graphql/issues/675</a> So using <code>3.0.7-SNAPSHOT</code> for spring dependencies fixed it.</p>\n<pre><code>@Bean\npublic HttpGraphQlClient dataServiceHttpGraphQlClient(@Autowired WebClient.Builder webClientBuilder,\n                                                      @Value(&quot;${url}&quot;) String url) {\n    return HttpGraphQlClient.builder(webClientBuilder)\n            .url(url)\n            .build();\n}\n</code></pre>\n<p><strong>UPDATE</strong> 3.0.7 is now released, you don't need to use SNAPSHOT anymore.</p>\n"
        }
      ],
      "last_activity_date": 1684658143,
      "question_id": 76253140,
      "body": "<p>I'm using below micrometer dependencies along with spring boot graphql starter.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-observation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-tracing-bridge-brave&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I use below graphqlclient to fetch data from one of my microservices I can see that traceId is being propagated for both services but unfortunately differently.</p>\n<pre><code>    @Bean\npublic HttpGraphQlClient dataServiceHttpGraphQlClient(@Value(&quot;${url}&quot;) String dataServiceUrl) {\n    return HttpGraphQlClient.builder()\n            .url(url)\n            .header(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\n            .header(HttpHeaders.ACCEPT, &quot;application/json&quot;)\n            .build();\n}\n</code></pre>\n<p>This's how I execute it:</p>\n<pre><code> public &lt;T&gt; Mono&lt;List&lt;T&gt;&gt; executeQuery(final String queryName,\n                                      final String path,\n                                      final Class&lt;T&gt; responseClass,\n                                      final Map&lt;String, Object&gt; variables) {\n    log.debug(&quot;Executing {} query: {}&quot;, path, queryName);\n\n    GraphQlClient.RequestSpec document = graphQlClient.documentName(queryName);\n    if (!CollectionUtils.isEmpty(variables)) document.variables(variables);\n\n    return document.execute()\n            .mapNotNull(response -&gt; response.field(path).toEntityList(responseClass))\n            .onErrorResume(error -&gt; Mono.error(new RuntimeException(&quot;Error &quot; + error.getMessage()))); //TODO custom exception\n\n}\n</code></pre>\n<p>When I check the headers in my requested service, I can see that no tracing header is added.</p>\n<p>Any help would be appreciated.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 132381325,
          "body": "How do you plan to handle lunchtime? Because when you say 8 working hours: 8am to 5pm this would be 9 hours of worktime?"
        },
        {
          "comment_id": 132382233,
          "body": "In this case i don&#39;t need to calculate the lunchtime  basically i am running a scheduler which only expires the value of date between interval of 8 hours in weekdays  if you can suggest any code snippet for the same will be helpful  Thanks in advance @buec95"
        }
      ],
      "answers": [
        {
          "answer_id": 75018498,
          "body": "<p>For sure there are much more elegant solutions but this could be one. I also added a break during lunch(12 to 13 o'clock) so for example if the start is at 12:30 the end will be at 13:30 (Lunchtime = no usage).</p>\n<p>public static void main(String[] args) {</p>\n<pre><code>final int START_OF_DAY = 8;\nfinal int END_OF_DAY = 17;\nfinal int WORKING_HOURS = 8;\nfinal int LUNCH = 1;\nLocalDateTime endDateTime = LocalDateTime.now(ZoneOffset.UTC);\nint startTime = endDateTime.getHour();\nint startDay = endDateTime.getDayOfWeek().getValue();\nint endTime = 0;\nint startTimeEndDay = 0;\n\nSystem.out.println(&quot;Start-Datetime: &quot; + endDateTime);\n\nif (startTime &gt; START_OF_DAY &amp;&amp; startTime &lt;= 12) {\n    startTimeEndDay = (END_OF_DAY - startTime - LUNCH);\n} else if (startTime &gt;= 13 &amp;&amp; startTime &lt;= END_OF_DAY) {\n    startTimeEndDay = END_OF_DAY - startTime;\n}\n\nendTime = START_OF_DAY + (WORKING_HOURS - startTimeEndDay);\nif (startTimeEndDay == 4) {\n    endTime += LUNCH;\n}\n\nendDateTime = endDateTime.withHour(endTime);\n\nif (startTime != START_OF_DAY) {\n    if (startDay != 5) {\n        endDateTime = endDateTime.plusDays(1);\n    } else {\n        endDateTime = endDateTime.plusDays(3);\n    }\n}     \n\nSystem.out.println(&quot;Expiry-Datetime: &quot; + endDateTime);\n\n}\n</code></pre>\n<p>For example:<br />\nInput: 05.01.2023 15:32<br />\nOutput: 06.01.2023 16:32</p>\n<p>Input: 06.01.2023 08:37<br />\nOutput: 09.01.2023 09:37</p>\n"
        }
      ],
      "last_activity_date": 1684657908,
      "question_id": 75016407,
      "body": "<p>The expiry should be after 8 working hours (8 am to 5 pm UTC monday to Friday) for example the created date at 7 pm UTC time, the expiring time should be counted from next morning 8 am to 5 pm UTC time and expire. So it should expire at 4 pm UTC  .</p>\n<p>Another example, if broadcast happened at 4 pm SA time then expiry should be counted as 1 hour from today and 7 hours from next day (8 am to 5 pm time) so it should expire at 3 pm SA time .  I have tried this solution but not working can anyone please help me out here</p>\n<pre><code>int workHourStartUtc = 6;\nint workHourEndUtc = 15;\nint expiryWindow = 8;\nint currentHourUtc = LocalDateTime.now(ZoneOffset.UTC).getHour();\nint hourCompletedToday = currentHourUtc - workHourStartUtc;\nint offHours = LocalDate.now().getDayOfWeek() == 1 ? 72 : 24;\nLocalDateTime yesterdayWorkEndUtc = LocalDateTime.now(ZoneOffset.UTC).toLocalDate().atTime(workHourEndUtc, 0).minusHours(offHours);\nLocalDateTime expireDateBefore = hourCompletedToday &gt;= expiryWindow ? LocalDateTime.now(ZoneOffset.UTC).minusHours(expiryWindow): yesterdayWorkEndUtc.minusHours(expiryWindow - hourCompletedToday);\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134517045,
          "body": "Can you share your try? Where are you stuck? How did you invoke methodB() and didn&#39;t pass a key?"
        },
        {
          "comment_id": 134520084,
          "body": "Please update your example to realistically show your problem - in current shape the best advice is to remove unnecessary code (both methodB() and methodC() are side-effect free, and methodB result is ignored)"
        },
        {
          "comment_id": 134526054,
          "body": "The only test that makes sense here is <code>assertEquals(&quot;success&quot;, methodA())</code>. Everything done by the other methods does not have any effect and is clean up by the GC after execution."
        }
      ],
      "last_activity_date": 1684657817,
      "question_id": 76280190,
      "body": "<p>How to do unit test when a public method call a private method which then call a public method. How do we test?</p>\n<pre><code>public class Demo{\n    \n    public String methodA(){\n        String value=methodB();\n        return &quot;success&quot;;\n    }\n    \n    private String methodB(String key){\n        String res=methodC().get(key);\n        return res;\n    }\n    public Map&lt;String,String&gt; methodC(){\n        Map&lt;String,String&gt; mp=new HashMap&lt;&gt;();\n        mp.put(&quot;key&quot;,&quot;value&quot;);\n        return mp;\n    }\n}\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134547661,
          "body": "please stop following outdated tutorials <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>"
        }
      ],
      "last_activity_date": 1684657692,
      "question_id": 76298519,
      "body": "<p>Web Adapter is not working</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n\n    @Autowired\n    private UserDetailsService jwtUserDetailsService;\n\n    @Autowired\n    private JwtRequestFilter jwtRequestFilter;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        // configure AuthenticationManager so that it knows from where to load\n        // user for matching credentials\n        // Use BCryptPasswordEncoder\n        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        // We don't need CSRF for this example\n        httpSecurity.csrf().disable()\n                // dont authenticate this particular request\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll()\n                // all other requests need to be authenticated\n                .anyRequest().authenticated().and()\n                // make sure we use stateless session; session won't be used to\n                // store user's state.\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and()\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        // Add a filter to validate the tokens with every request\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>How can I fix 'Web Adapter is not working' error when implementing JWT authentication with Spring Boot?\nWhat could cause 'Web Adapter is not working' when configuring Spring Security with JWT authentication in a Spring Boot app?\nTroubleshooting 'Web Adapter is not working': Implementing JWT authentication in Spring Boot with Spring Security</p>\n"
    },
    {
      "answers": [
        {
          "comments": [
            {
              "comment_id": 69152508,
              "body": "@Query works now for deleting. You add @Query(value = &quot;{id: ?0}&quot;, delete = true) as Marcelo Pasut mentioned in answer."
            }
          ],
          "answer_id": 17490688,
          "body": "<p>Unfortunately spring data doesn't provides any method to delete documents based on a query. And the <code>@Query</code> annotation is only for find documents.</p>\n\n<p>What you could do is implement a <a href=\"http://static.springsource.org/spring-data/mongodb/docs/current/reference/html/repositories.html#repositories.custom-implementations\" rel=\"nofollow\" title=\"Custom Repositories\">custom repository</a> that deletes documents based on what you want.  </p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 59918735,
              "body": "This appears to be the latest as of now so I think this should be the top answer."
            }
          ],
          "answer_id": 24515369,
          "body": "<p>Maybe you can use repository delete queries. Here is an example from <a href=\"http://docs.spring.io/spring-data/data-mongo/docs/1.5.1.RELEASE/reference/html/mongo.repositories.html#mongodb.repositories.queries.delete\" rel=\"noreferrer\">documentation</a>:</p>\n\n<pre><code>public interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n  List &lt;Person&gt; deleteByLastname(String lastname);\n\n  Long deletePersonByLastname(String lastname);         \n}\n</code></pre>\n\n<p>Using return type List will retrieve and return all matching documents before actually deleting them. A numeric return type directly removes the matching documents returning the total number of documents removed.</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 43015201,
              "body": "This will result in 2 mongo queries instead of a single delete(criteria) one."
            }
          ],
          "answer_id": 26423701,
          "body": "<p>Repository:</p>\n\n<pre><code>@Component\npublic interface SomeRepository extends MongoRepository&lt;SomeObject, String&gt; {\n\n    @Query(\"{ '_id' : ?0 }\")\n    SomeObject findById(String _id);\n}\n</code></pre>\n\n<p>Code in some class:</p>\n\n<pre><code>@Autowired\nprivate SomeRepository pRepo;\n\npublic void delete(String id) {\n\n    pRepo.delete(pRepo.findById(id));\n}\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 69152421,
              "body": "Thanks!, Worked for me. (was missing  &quot;delete = true&quot;)"
            },
            {
              "comment_id": 87944760,
              "body": "you can also use @DeleteQuery which does not require explicitly delete=true setting."
            }
          ],
          "answer_id": 28583940,
          "body": "<pre><code>@Query(value=\"{'id' : $0}\", delete = true)\npublic Person deleteById (String id);\n</code></pre>\n"
        },
        {
          "answer_id": 54824422,
          "body": "<p>Try this, it's work for me.</p>\n<pre><code>@Repository\npublic interface DepartmentDao extends MongoRepository&lt;Department, String&gt; {\n    @DeleteQuery\n    void deleteByDepartment(String department);\n}\n</code></pre>\n<p>OR</p>\n<pre><code>@Query(value=&quot;{'_id' : ?0}&quot;, delete = true)\npublic void deleteById(String id);\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 106935462,
              "body": "I recommend against answers in the shape of rethoric questions and against quoting questions in answers. Both puts the answer at risk of being mistaken for a question (at leat by lazy readers). Instead provide an explanation of how your solution works and why it solves the problem described in the question. That is anyway more appreciated here, because it also helps fighting the misconception that StackOverflow is a free codewriting service."
            }
          ],
          "answer_id": 60447467,
          "body": "<blockquote>\n  <p>How to delete a list of ids in the query ?</p>\n</blockquote>\n\n<pre><code>@Query(value=\"{idList : $0}\", delete = true)\n</code></pre>\n"
        },
        {
          "answer_id": 73909875,
          "body": "<pre><code>@Repository\npublic interface DepartmentDao extends MongoRepository&lt;Department, String&gt; {\n    void deleteByDepartment(String department);\n}\n</code></pre>\n<p>is clean and shorter.</p>\n"
        },
        {
          "answer_id": 76298922,
          "body": "<p>Below code snippet show deletes all documents from the plan collection whose planId field matches any planId provided in the list.</p>\n<pre><code>@Repository\npublic interface PlanRepository extends MongoRepository&lt;Plan, String&gt; {\n\n    @Query(value = &quot;{ 'planId' : { $in : ?0 } }&quot;, delete = true)\n  void deleteAllByPlanIdIn(List&lt;String&gt; planIds);\n}\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li><p>we can use the <code>@Query</code> annotation to define custom queries on MongoDB data stores in Spring</p>\n</li>\n<li><p>The &quot;<code>value</code>&quot; attribute specifies the MongoDB query in JSON-like syntax.</p>\n</li>\n<li><p>&quot;<code>planId</code>&quot; is a field in the plan document being queried.</p>\n</li>\n<li><p>&quot;<code>{ $in : ?0 }</code>&quot; is a query operator that checks if the value of the planId field is in the provided list of planIds (&quot;<code>?0</code>&quot; represents the first parameter of the method, which is the list of planIds).</p>\n</li>\n<li><p>&quot;<code>delete = true</code>&quot; is used to indicate that the query is intended to be deleted.</p>\n</li>\n</ul>\n"
        }
      ],
      "last_activity_date": 1684657153,
      "question_id": 17484153,
      "body": "<p>I'm using Spring Data with MongoDB using MongoRepository.</p>\n\n<p>I was wondering if it is possible do a delete by filter using query annotation. I have been looking here and google and I cannot find any documentation.</p>\n"
    },
    {
      "last_activity_date": 1684657000,
      "question_id": 76162663,
      "body": "<p>I'm creating a PDF with OpenPDF 1.3.30, which gets a <code>PdfPTable</code> as header on every page. But the content of the document itself overwrites the the first cell (0,0). Which by the way has a rowspan.</p>\n<p>Here is my example code:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport com.lowagie.text.Chunk;\nimport com.lowagie.text.Document;\nimport com.lowagie.text.Element;\nimport com.lowagie.text.Font;\nimport com.lowagie.text.PageSize;\nimport com.lowagie.text.Paragraph;\nimport com.lowagie.text.Phrase;\nimport com.lowagie.text.Rectangle;\nimport com.lowagie.text.pdf.BaseFont;\nimport com.lowagie.text.pdf.PdfPCell;\nimport com.lowagie.text.pdf.PdfPTable;\nimport com.lowagie.text.pdf.PdfPageEventHelper;\nimport com.lowagie.text.pdf.PdfWriter;\n\npublic class TableTest {\n\n  public static void main( final String[] args ) throws Throwable {\n    try( final FileOutputStream outputStream = new FileOutputStream( &quot;test.pdf&quot; ) ) {\n      final Document pdfDocument = new Document( PageSize.A4 );\n\n      final PdfWriter pdfWriter = PdfWriter.getInstance( pdfDocument,outputStream );\n      pdfWriter.setPdfVersion( PdfWriter.VERSION_1_7 );\n\n      final PdfPTable header = new PdfPTable( 5 );\n      header.setWidths( new int[] { 30,30,30,30,30 } );\n      header.setHeaderRows( 0 );\n      header.getDefaultCell().setPadding( 1 );\n      header.setSplitLate( false );\n      header.setSplitRows( true );\n\n      PdfPCell cell = new PdfPCell( new Phrase( &quot;Gets truncated&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 5 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text A&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setHorizontalAlignment( Element.ALIGN_LEFT );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text B&quot; ) );\n      cell.setColspan( 2 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text C&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n      \n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\n      cell.setColspan( 4 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOTTOM );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      Phrase phrase = new Phrase();\n      phrase.add( new Phrase( &quot;Text D&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n      phrase.add( new Phrase( &quot;Text E&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n\n      cell = new PdfPCell( phrase );\n      cell.setColspan( 3 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text F&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\n      cell.setColspan( 4 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text G&quot; ) );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_LEFT );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;Text H&quot; ) );\n      cell.setColspan( 2 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      phrase = new Phrase();\n      phrase.add( new Phrase( &quot;Text I&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n      phrase.add( new Phrase( &quot;Text J&quot; ) );\n      phrase.add( Chunk.NEWLINE );\n\n      cell = new PdfPCell( phrase );\n      cell.setColspan( 1 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOX );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_MIDDLE );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      cell = new PdfPCell( new Phrase( &quot;&quot; ) );\n      cell.setColspan( 6 );\n      cell.setRowspan( 1 );\n      cell.setBorder( Rectangle.BOTTOM );\n      cell.setPadding( 1 );\n      cell.setVerticalAlignment( Element.ALIGN_TOP );\n      cell.setHorizontalAlignment( Element.ALIGN_CENTER );\n      header.addCell( cell );\n\n      header.setTotalWidth( pdfWriter.getPageSize().getWidth() - pdfDocument.leftMargin() - pdfDocument.rightMargin() );\n\n      pdfDocument.setMargins( pdfDocument.leftMargin(),pdfDocument.rightMargin(),header.getTotalHeight() + pdfDocument.topMargin(),pdfDocument.bottomMargin() );\n\n      pdfWriter.setPageEvent( new PdfPageEventHelper() {\n\n        @Override\n        public void onStartPage( final PdfWriter writer,final Document document ) {\n          header.writeSelectedRows( 0,-1,document.left(),document.top() + header.getTotalHeight(),writer.getDirectContent() );\n        }\n      } );\n\n      pdfDocument.open();\n\n      final Paragraph paragraph = new Paragraph();\n      paragraph.add( new Phrase( &quot;Trucates&quot; ) );\n      paragraph.add( Chunk.NEWLINE );\n      paragraph.add( new Phrase( &quot;Cell(0,0)&quot; ) );\n\n      pdfDocument.add( paragraph );\n      pdfDocument.close();\n    }\n  }\n}\n</code></pre>\n<p>The resulting PDF overwrites the text 'Gets replaced' of the header table with text from the document paragraph content 'Replaces\\nLogo'.</p>\n<p><a href=\"https://i.stack.imgur.com/tDcES.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tDcES.png\" alt=\"enter image description here\" /></a></p>\n<p>Any idea what I did wrong?</p>\n<p>I even tried to use the <code>HeaderFooter</code> approach to set the header via <code>pdfDocument.setHeader</code>, but that gets somehow weird, because the header doesn't adopt to the size needed by the table.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134519274,
          "body": "Please share an example signed PDF to reproduce the issue, and indicate the Adobe Reader version you use.  That being asked for, please have a look at <a href=\"https://stackoverflow.com/a/16711745/1729265\">this stack overflow answer</a> about the original allowed and disallowed changes to signed documents. You will in particular see the difference that in certified documents, <i>adding form fields</i> always is disallowed, so to sign you needed an empty signature field. IIRC that concept was changed slightly over time to allow adding signature fields for P=1 and P=2 but maybe in your case that is suppressed."
        }
      ],
      "last_activity_date": 1684656896,
      "question_id": 76274739,
      "body": "<p>We are trying to add certification signature to avoid further modifications on the document after the first signature. But whenever we set DocMDP tranform with the value 2 (that should allow new signatures) Adobe reader disables the option to digitally sign the document although on the secutity properties it shows that signatures are allowed. Is that a bug in Adobe Reader or are we doing something wrong on our code?</p>\n<p>PDFBox version:</p>\n<pre><code>       try (PDDocument document = PDDocument.load(conteudoStream, MemoryUsageSetting.setupTempFileOnly())) {\n                PDSignature signature = new PDSignature();\n\n                signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE); \n                signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n                signature.setName(&quot;My System&quot;);\n                signature.setLocation(SOURCE_LOCATION);\n                signature.setReason(&quot;Assinatura Digital de documento.&quot;);\n\n\n                boolean isFirst = document.getSignatureDictionaries().isEmpty();\n                document.addSignature(signature);\n\n                if (isFirst) {\n                    SigUtils.setMDPPermission(document, signature, 3);\n                }\n\n\n                ExternalSigningSupport externalSign = PdfBoxHelper.saveIncrementalForExternalSigning(document, output);              \n                    externalSign.setSignature(signature);\n               \n             \n            }\n\n        }\n</code></pre>\n<p>Itext version:</p>\n<pre><code>    Rectangle rect = new Rectangle(36, 748, 144, 780);\n        PdfSigner signer = new PdfSigner(new PdfReader(inputPath), new FileOutputStream(outputPath), false);\n        signer.setFieldName(&quot;signature&quot;);\n        signer.setCertificationLevel(PdfSigner.CERTIFIED_FORM_FILLING);\n        System.out.println(&quot;provider: &quot;+Util.getProvedor().getName());\n        signer.signDetached(new BouncyCastleDigest(), new PrivateKeySignature(key), DigestAlgorithms.SHA512, &quot;SunMSCAPI&quot;), chain, null, null, null, 0, PdfSigner.CryptoStandard.CMS);\n</code></pre>\n<p>Security properties:</p>\n<p><a href=\"https://i.stack.imgur.com/HC1NF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HC1NF.png\" alt=\"security properties\" /></a></p>\n<p>Signature disabled:</p>\n<p><a href=\"https://i.stack.imgur.com/QYn7O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QYn7O.png\" alt=\"Signature disabled\" /></a></p>\n<p>We expected that modifications on the document would be forbidden but new signatures would be allowed as the description for DocMDP should allow &quot;Form fill-in and digital signatures&quot; and Adobe Reader list signatures as allowed although it greys out the option to sign.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134544970,
          "body": "That&#39;s because you haven&#39;t compiled <code>Course</code>. If you are learning <code>spring-boot</code>, use Maven or Gradle too."
        },
        {
          "comment_id": 134544974,
          "body": "Specify exactly <b>how</b> you are trying to compile. Nothing wrong with ant, maven, gradle, sbt or leningen."
        },
        {
          "comment_id": 134544976,
          "body": "Than you tgdavies, i did compiled Course  and used Maven :)"
        },
        {
          "comment_id": 134545002,
          "body": "@ElliottFrisch , I&#39;m new here and not good at English. I&#39;ve pasted the compile steps i was using , could you pls help take a look?"
        },
        {
          "comment_id": 134545046,
          "body": "Try <code>javac *.java</code> (use a build tool. Ant, Maven, Gradle, SBT or leningen. It will make your life much easier. Even more importantly, use ant IDE with support for one of the above. Maven is usually the most popular. Ant is old school. The others serve different needs. But all are superior to straight <code>javac</code>.)"
        },
        {
          "comment_id": 134545101,
          "body": "@ElliottFrisch  I tried javac *.java ,  1. The compile starts from Main, i got another error package org.springframework.boot does not exist; but actually Maven has downloaded the package right in the lib.... I was following this tutorial. <a href=\"https://www.youtube.com/watch?v=zTAHY0SLQAg\" rel=\"nofollow noreferrer\">youtube.com/watch?v=zTAHY0SLQAg</a>   I will try find another one to see if can skip this error..."
        },
        {
          "comment_id": 134545116,
          "body": "Build with a maven command, e.g. <code>mvn package</code> rather than trying to use <code>javac</code> directly."
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134544995,
              "body": "Hi @aled,  in the case, i did compile Course first with no error. And i was using MAVEN"
            }
          ],
          "answer_id": 76297821,
          "body": "<p>Compile Course first. The other class needs it to be compiled.</p>\n"
        }
      ],
      "last_activity_date": 1684656721,
      "question_id": 76297812,
      "body": "<p>I have two classes, one is Course, another is CourseController.\nThey are in the same package , same path;\nBut when I compile javac CourseController.java, Intellij says :&quot;error: cannot find symbol&quot;</p>\n<p>Course:</p>\n<pre><code>package com.mjfirstSBv5.sprintboot.learnspringboot;\n\npublic class Course {\n    private int id;\n    private  String name;\n    private  String author;\n\n    public Course(int id, String name, String author)\n    {\n        super(); //why this?\n        this.author = author;\n        this.name =name;\n        this.id = id;\n\n\n\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Course{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + '\\'' +\n                &quot;, author='&quot; + author + '\\'' +\n                '}';\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n}\n\n</code></pre>\n<p>CourseController</p>\n<pre><code>package com.mjfirstSBv5.sprintboot.learnspringboot;\n\n\n//import org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n//@RestController\npublic class CourseController {\n\n    public List&lt;Course&gt; retrieveAllCourses()\n    {\n        return Arrays.asList(\n                new Course(1, &quot;learn aws&quot;, &quot;28min&quot;),\n                new Course(2, &quot;learn spring boot&quot;, &quot;28min&quot; )\n\n        );\n\n    }\n\n}\n\n</code></pre>\n<pre><code>PS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; javac Course.java\n\nPS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; javac CourseController.java  \nCourseController.java:12: error: cannot find symbol\n    public List&lt;Course&gt; retrieveAllCourses()\n                ^                           \n  symbol:   class Course                    \n  location: class CourseController  \n        \nCourseController.java:15: error: cannot find symbol \n                new Course(1, &quot;learn aws&quot;, &quot;28min&quot;),\n                    ^                               \n  symbol:   class Course\n  location: class CourseController\n\nCourseController.java:16: error: cannot find symbol\n                new Course(2, &quot;learn spring boot&quot;, &quot;28min&quot; )\n                    ^\n  symbol:   class Course\n  location: class CourseController\n\n3 errors\nPS D:\\AutoQA_Progress\\intg-mock-service\\learn-spring-boot\\src\\main\\java\\com\\mjfirstSBv5\\sprintboot\\learnspringboot&gt; \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/sUztY.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"
    },
    {
      "answers": [
        {
          "answer_id": 76298888,
          "body": "<p>You are looking for a reference of the elevation of certian location. Well, you need to find a data source for that. For example, in google map platform, there is a service called elevation api which can give you the static elevation of any point on the map.</p>\n"
        }
      ],
      "last_activity_date": 1684656572,
      "question_id": 75543250,
      "body": "<p>I am implementing an android app in java to determine if an object is in flight (in the example ,it's a phone hang on a drone ) . To proceed,i retrieve the altitude of the  phone , then i retrieve the altitude of the area where the phone is ( because , i suppose that in the different places in the area).Then i add a defined height on the area altitude to determine if the object is in flight when it reaches this height . But the problem is , the only altitude i can retrieve is the phone altitude but not the area altitude and i'm trying to figure it out .Could you help me ?\nHere is the code , i've implemented :</p>\n<pre><code>public class TimeService extends Service{\n    private final static String TAG = TimeService.class.getName();\n    \n  LocationEntity location = new LocationEntity();\n   \n   private  Handler handler;\n\n    FusedLocationProviderClient fusedLocationProviderClient;\n   \n    LocationRequest locationRequest;\n   \n    \n\n    LocationRequest newlocationRequest;\n   \n\n    double Longitude, Latitude, Altitude,Acccuracy,Speed;\n  \n    AppDatabase appDatabase;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        context=this;\n      \n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n         appDatabase=AppDatabase.getDbIntance(this);\n      \n\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(@NonNull LocationResult locationResult) {\n                super.onLocationResult(locationResult);\n\n                Location location = locationResult.getLastLocation();\n                assert location != null;\n                Log.d(&quot;TAG&quot;, &quot;onLocationResult: callback method  &quot;+&quot;longitude &quot;+location.getLongitude()+&quot;latitude &quot;+location.getLatitude()+&quot;Accuracy &quot;+location.getAccuracy()+&quot;Speed &quot;+location.getSpeed());\n            }\n        };\n\n        startLocationUpdate();\n       \n        handler = new Handler();\n\n        // Define the code block to be executed\n         Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                // Insert custom code here\n                   startLocationUpdate();\n                Log.d(&quot;TAG&quot;, &quot;run: &quot;+&quot;run every 30s&quot;);\n                // Repeat every 2 seconds\n                handler.postDelayed(this, 30000L);\n            }\n        };\n\n// Start the Runnable immediately\n        handler.post(runnable);\n    }\n}\n\n    //Location function\n    //Setting all properties of Location\n\n    public void locationSettings() {\n//Put in the time service\n        newlocationRequest = new LocationRequest();\n        newlocationRequest.setInterval(30000);\n        newlocationRequest.setFastestInterval(5000);\n        //most accurate use GPS\n        newlocationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n    }\n\n    public void updateGPS() {\n\n       // fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(this);\n        //user provided the permission , run the code\n        BaseView baseView = new BaseView();\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermi ssions for more details.\n            return;\n        }\n        fusedLocationProviderClient.getLastLocation().addOnSuccessListener(baseView, position -&gt; {\n            Log.d(&quot;TAG&quot;, &quot;updateGPS: position elements are : &quot; + &quot;lon = &quot; + position.getLongitude() + &quot;lat = &quot; + position.getLatitude()+&quot;alt &quot;+position.getAltitude() + &quot;Acc= &quot; + position.getAccuracy() + &quot; Speed = &quot; + position.getSpeed());\n\n\n                location.setLongitude(position.getLongitude());\n                location.setLatitude(position.getLatitude());\n                location.setAltitude(position.getAltitude());\n                location.setAccuracy(position.getAccuracy());\n                location.setSpeed(position.getSpeed());\n\n            assert location!=null;\n            appDatabase.locationDao().insert(location);\n\n        });\n\n    }\n\n\n\n    public void startLocationUpdate() {\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            // TODO: Consider calling\n            //    ActivityCompat#requestPermissions\n            // here to request the missing permissions, and then overriding\n            //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n            //                                          int[] grantResults)\n            // to handle the case where the user grants the permission. See the documentation\n            // for ActivityCompat#requestPermissions for more details.\n            return;\n        }\n        fusedLocationProviderClient.requestLocationUpdates(newlocationRequest,locationCallback, null);\n        updateGPS();\n\n\n    }\n\n}\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 133467228,
          "body": "I thought I was the only one who got this error while having had no use of Kotlin anywhere in my large project.. Then I came across this very-obvious-to-me-now answer and it solved it very simply for me... <a href=\"https://stackoverflow.com/a/75315276/4355877\">stackoverflow.com/a/75315276/4355877</a>"
        },
        {
          "comment_id": 133823622,
          "body": "@Mick Thank you so much for the tip, a lifesaver for those shunning Kotlin."
        },
        {
          "comment_id": 133999648,
          "body": "@midnighthowlers Try this solution once: <a href=\"https://stackoverflow.com/a/75974885/16765223\">stackoverflow.com/a/75974885/16765223</a>"
        }
      ],
      "answers": [
        {
          "answer_id": 75265284,
          "body": "<p>According to the release notes of Kotlin 1.8.0 (<a href=\"https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target</a>), you shouldn't specify <code>kotlin-stdlib-jdk7</code> nor <code>kotlin-stdlib-jdk8</code> as dependencies anymore and, instead, just use <code>kotlin-stdlib</code>.</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 132954784,
              "body": "Note: After updating to &#39;1.8.0&#39;, do not forget to update kotlinCompilerExtensionVersion as &#39;1.4.0&#39; ."
            },
            {
              "comment_id": 133060150,
              "body": "I get a compilation error:  <b>This version (1.3.2) of the Compose Compiler requires Kotlin version 1.7.20 but you appear to be using Kotlin version 1.8.0 which is not known to be compatible.  Please fix your configuration (or <code>suppressKotlinVersionCompatibilityCheck</code> but don&#39;t say I didn&#39;t warn you!).</b>"
            },
            {
              "comment_id": 133092822,
              "body": "Question as a noob: Where should I add the above?"
            },
            {
              "comment_id": 133196565,
              "body": "If you are using ksp, do not forget to update it too. <a href=\"https://github.com/google/ksp/releases\" rel=\"nofollow noreferrer\">github.com/google/ksp/releases</a>. For kotlin version 1.8.0 ksp must be 1.8.0"
            },
            {
              "comment_id": 133472887,
              "body": "got this error:The &#39;kotlin-android-extensions&#39; Gradle plugin is no longer supported. Please use this migration guide (<a href=\"https://goo.gle/kotlin-android-extensions-deprecation\" rel=\"nofollow noreferrer\">goo.gle/kotlin-android-extensions-deprecation</a>) to start working with View Binding (<a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/view-binding</a>) and the &#39;kotlin-parcelize&#39; plugin."
            },
            {
              "comment_id": 133776516,
              "body": "@PrasannjeetSingh It is <code>build.gradle</code> file"
            },
            {
              "comment_id": 134350601,
              "body": "@IgorGanapolsky - You can update the kotlinCompilerExtensionVersion to 1.4.4 in app level build.gradle. You can find this in ComposeOptions {} block. Check the link below to find the correctly mapped version (<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/compose-kot&zwnj;&#8203;lin</a>)"
            },
            {
              "comment_id": 134458016,
              "body": "This is useful but you also need edit kotlinCompilerExtensionVersion= &quot;1.4.3&quot;.  <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin?hl=zh-cn\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/&hellip;</a>"
            }
          ],
          "answer_id": 75268089,
          "body": "<p>Simply. For me just change this gradle plugins from 1.7.10 to 1.8.0 Then sync. =&gt; invalidate caches =&gt; build</p>\n<p>From:</p>\n<pre><code>plugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n}\n</code></pre>\n<p>To:</p>\n<pre><code>plugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n"
        },
        {
          "answer_id": 75268204,
          "body": "<p>I solved the problem by changing kotlin class path dependency in the root <code>build.gradle</code> file from</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20-RC&quot;\n</code></pre>\n<p>to</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 133279784,
              "body": "Same here. Had to downgrade material3 version to <code>&#39;1.1.0-alpha04&#39;</code>"
            }
          ],
          "answer_id": 75276293,
          "body": "<p>It is maybe some updated version dependency. In my new compose app, when i updated</p>\n<blockquote>\n<p>implementation 'androidx.compose.material3:material3:*'(new version)\nfrom 1.0.0-alpha11</p>\n</blockquote>\n<p>I will got this error. Try revert updated dependency.</p>\n<p>Also I was getting this error when <code>android studio</code> add in my gradle modules <code>ktx:+</code> dependency</p>\n"
        },
        {
          "answer_id": 75280491,
          "body": "<p>for compose, use stable-version of material3</p>\n<p><code>androidx.compose.material3:material3:1.0.1</code></p>\n<p>and than</p>\n<p><code>id 'org.jetbrains.kotlin.android' version '1.7.0' apply false</code></p>\n"
        },
        {
          "answer_id": 75284751,
          "body": "<p>I had same issue while it was working 2 days ago...</p>\n<p>I changed to</p>\n<pre><code>composeOptions {\n        kotlinCompilerExtensionVersion '1.3.2'\n}\n</code></pre>\n<p>and\n<code>id 'org.jetbrains.kotlin.android' version '1.7.20' apply false</code>\nin build.gradle (Project)</p>\n<p>Then clean and rebuild project.</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 133511815,
              "body": "I have a project where the build failed for the same reason as above.  And I am not using any kotlin code in my project.  Is there a way to disable any and all kotlin dependencies so that I can&#39;t possibly get a &quot;duplicate classes&quot; for kotlin dependencies?"
            },
            {
              "comment_id": 133541457,
              "body": "If you&#39;re not using any kotlin code, it sounds like a very different problem even if it has the same error message... probably worth posting as a separate question"
            },
            {
              "comment_id": 133655457,
              "body": "@AJW You may think that you don&#39;t use any Kotlin code in your project, but the dependencies you use can use Kotlin code inside them (for example various AndroidX libraries are written in Kotlin)."
            },
            {
              "comment_id": 133746002,
              "body": "It works now. You can also find information in <a href=\"https://youtrack.jetbrains.com/issue/KT-54136/Duplicated-classes-cause-build-failure-if-a-dependency-to-kotlin-stdlib-specified-in-an-android-project\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com</a>."
            },
            {
              "comment_id": 134223966,
              "body": "With Android Studio Giraffe (2022.3.1 Beta 1), I get a warning in the IDE: <code>&#39;implementation&#39; is defined by &#39;dependencies&#39; but used within &#39;constraints&#39;</code>. Any idea why, and how to get rid of it?"
            },
            {
              "comment_id": 134292034,
              "body": "This solution worked for me but I also tried out a much cleaner approach from the official kotlin docs. Here is the link: <a href=\"https://kotlinlang.org/docs/whatsnew18.html#usage-of-the-latest-kotlin-stdlib-version-in-transitive-dependencies\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>."
            }
          ],
          "answer_id": 75298544,
          "body": "<p><em>See <a href=\"https://kotlinlang.org/docs/whatsnew18.html#obligatory-check-for-jvm-targets-of-related-kotlin-and-java-compile-tasks\" rel=\"nofollow noreferrer\">this note</a> in the official kotlin docs for an explanation of how alignment works with these dependencies and build flags. The below original answer is an alternative approach which doesn't take this into account.</em></p>\n<p>This is because <code>kotlin-stdlib-jdk7</code> and <code>kotlin-stdlib-jdk8</code> are older dependencies that should be replaced by <code>kotlin-stdlib</code> (As @MrPNG pointed out from <a href=\"https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target\" rel=\"nofollow noreferrer\">the what's new docs for kotlin 1.8</a>). However, other libraries may still declare a dependency on them, which needs to be replaced with a dependency on <code>kotlin-stdlib</code>.</p>\n<p>You can override how the jdk7 and jdk8 versions are resolved like this (in your <code>app/build.gradle</code>):</p>\n<pre><code>dependencies {\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n}\n</code></pre>\n<p>The <code>constraints</code> section above can be added in alongside your other dependencies. Choose the version (here <code>1.8.0</code>) to match the one you actually want to be used, which should be the one that your non-jdkN-named version is in the duplicate class error (e.g. <code>(org.jetbrains.kotlin:kotlin-stdlib:1.8.0)</code>)</p>\n<p>If you have <code>apply plugin: 'kotlin-android'</code> in this file, then it doesn't need to separately also say to depend on the stdlib in dependencies, so remove any lines that look like this:</p>\n<pre><code>    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n</code></pre>\n<p>(thanks to <a href=\"https://dev.to/retyui/fix-react-native-android-builds-duplicate-class-kotlincollections-found-in-modules-jetified-kotlin-stdlib-180-2ca7\" rel=\"nofollow noreferrer\">this blog</a>)</p>\n"
        },
        {
          "answer_id": 75310229,
          "body": "<p>If you are using Compose you need to update the Compose Compiler (<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-compiler\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-compiler</a>) to 1.4.2 and Kotlin to 1.8.10 at the same time.</p>\n"
        },
        {
          "answer_id": 75328068,
          "body": "<p>I had the same error in my project but mine was caused by different jetpack compose libraries having different versions and I put the specific version number <code>&quot;1.3.3&quot;</code> which caused other libraries that have later version numbers to not be found. I fix this by using compose BOM which provides the latest version to each library</p>\n"
        },
        {
          "answer_id": 75426135,
          "body": "<p>I noted the issue specifically after upgrading to these 2 libraries:</p>\n<ul>\n<li><p><strong><code>Material3</code></strong> version <strong><code>1.1.0-alpha05</code></strong></p>\n</li>\n<li><p><strong><code>Runtime-livedata</code></strong> version <strong><code>1.4.0-beta01</code></strong></p>\n</li>\n</ul>\n<p>This is are full dependencies:</p>\n<pre><code>implementation 'androidx.compose.runtime:runtime-livedata:1.4.0-beta01'\nimplementation 'androidx.compose.material3:material3:1.1.0-alpha04'\n</code></pre>\n<p>This is the error I was getting with <strong><code>Jdk-18.0.2</code></strong></p>\n<blockquote>\n<p>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in\nmodules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0)\nand kotlin-stdlib-jdk8-1.7.20</p>\n</blockquote>\n<p>The way around it for the time being is to downgrade these 2 libraries until the bug is corrected or updates are made.</p>\n<pre><code>implementation 'androidx.compose.material3:material3:1.1.0-alpha04'\nimplementation 'androidx.compose.runtime:runtime-livedata:1.4.0-alpha01'\n</code></pre>\n<p>Mind you there may be other dependencies that are affected and if you have recently upgraded the dependencies, you may need to rollback the updates and eliminate the library one by one to identify the troublesome one.</p>\n"
        },
        {
          "answer_id": 75430864,
          "body": "<h3>Update 2023</h3>\n<p>Recently, I had the same issue where most of the duplicate classes belonged to Kotlin. One of the errors was something like this:</p>\n<pre><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n</code></pre>\n<p>I had this issue because I was using a buggy kotlin version. Upgrade your kotlin version to <code>1.8.0-Beta</code>. Follow this:</p>\n<p>in your <code>android/build.gradle</code>, first add this in the <code>ext</code> section:</p>\n<pre><code>kotlinVersion = &quot;1.8.0-Beta&quot;\n</code></pre>\n<p>Now, go down to the dependencies section and add this:</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;\n</code></pre>\n<p>Finally, make sure your <code>JAVA_HOME</code> points to a JDK11.</p>\n<p>Doing these fixed my problem. Hope it helps!</p>\n"
        },
        {
          "comments": [
            {
              "comment_id": 134008430,
              "body": "This worked for me. Although I only needed to upgrade the kotlin android plugin. Thanks!"
            },
            {
              "comment_id": 134019109,
              "body": "Adding the plugin worked for me, although my project is only Java and I don&#39;t use Kotlin at all. This really looks to me like a flaw in Android Studio, if not completely a bug."
            }
          ],
          "answer_id": 75550269,
          "body": "<p>Upgrade kotlin android plugin and kotlin compiler</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.android' version '1.8.10'\n}\nandroid {\n    composeOptions {\n        kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n    }\n}\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 133747160,
              "body": "I&#39;m not using kotlin in a project and this solved my problem."
            }
          ],
          "answer_id": 75567658,
          "body": "<p>I was getting same error after upgrading android annotation libray from ver 1.4.0 to 1.6.0,</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.6.0'\n</code></pre>\n<p>So I downgraded to 1.5.0 and error gone</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.5.0'\n</code></pre>\n<p>Hope this helps you too</p>\n"
        },
        {
          "answer_id": 75585591,
          "body": "<p>The accepted answer worked for me, but the Kotlin DSL syntax is:</p>\n<pre><code>kotlin(&quot;android&quot;).version(&quot;1.8.10&quot;).apply(false)\n</code></pre>\n"
        },
        {
          "answer_id": 75625126,
          "body": "<p>I first tried David Fraser's solution (constraints {...}) and it worked fine, but I found it strange and discarded it.\nInstead I changed the plugins as follows:</p>\n<pre><code>id 'org.jetbrains.kotlin.multiplatform' version '1.8.0' apply false // before 1.7.10\n</code></pre>\n<p>This also fixed the error.</p>\n"
        },
        {
          "answer_id": 75641974,
          "body": "<p>I had the same errors in my project. What finally helped me was the following steps</p>\n<p>1-I have updated the buildScript: as below</p>\n<pre><code>buildscript {\n    ext {\n        compose_ui_version = '1.3.3'\n    }\n}\nthen change pluggin \nFrom\n\nplugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n\n}\n\nTo\n\nplugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n}\n</code></pre>\n<p>lastly updated in build.grade(app)</p>\n<p>Change in android scope {}</p>\n<pre><code>    android {\n    ......\n    composeOptions {\n            kotlinCompilerExtensionVersion '1.2.0'\n        }\n    .......\n    }\n</code></pre>\n<p>To the following and the errors were gone</p>\n<pre><code> composeOptions {\n        kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n    }\n\nHope it helps someone else \n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 133562820,
              "body": "Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75663164/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."
            }
          ],
          "answer_id": 75663164,
          "body": "<p>Replace this</p>\n<pre><code>implementation(&quot;androidx.navigation:navigation-compose:2.6.0-alpha06&quot;)\n</code></pre>\n<p>With</p>\n<pre><code>implementation(&quot;androidx.navigation:navigation-compose:2.6.0-alpha04&quot;)\n</code></pre>\n"
        },
        {
          "answer_id": 75664860,
          "body": "<p>I was using <code>org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.10</code> before in our SDK and then I updated kotlin to v1.8.0 and that's when I started getting the above error in our Android Java front end application.\nUsing <code>org.jetbrains.kotlin:kotlin-bom</code> resolved the issue with transitive dependencies and might be a cleaner approach since it doesn't leak Kotlin details into the Java application.</p>\n<p>so I just replaced</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.10&quot;\n</code></pre>\n<p>with below which solved the problem for me.</p>\n<pre><code>// Align versions of all Kotlin components\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.0&quot;\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 134165629,
              "body": "This worked for me even though our project is a pure Java project without any Kotlin code. The clue that it would came from here: <a href=\"https://youtrack.jetbrains.com/issue/KT-55297/kotlin-stdlib-should-declare-constraints-on-kotlin-stdlib-jdk8-and-kotlin-stdlib-jdk7\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-55297/&hellip;</a>"
            },
            {
              "comment_id": 134336753,
              "body": "This fixed my issue as well"
            }
          ],
          "answer_id": 75719642,
          "body": "<p>I have tried all the previous solutions but after adding the below code it was working.</p>\n<pre><code>dependencies {\n   ... ... ...\n   implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n   ... ... ...\n}\n</code></pre>\n"
        },
        {
          "answer_id": 75744310,
          "body": "<p>Replace</p>\n<p><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20&quot;</code></p>\n<p>With</p>\n<p><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.10&quot;</code></p>\n<p>And then If you used <code>kotlin-android-extensions</code> plugin, then remove this line. And use <code>View binding</code> to whole project.</p>\n"
        },
        {
          "answer_id": 75773243,
          "body": "<p>Duplicate id detected is because there is a duplicate id you defined. For example, you defined the id in project level build.gradle file and if you define the same id in your module-level build.gradle file then it is simply a duplicate id problem.</p>\n"
        },
        {
          "answer_id": 75795808,
          "body": "<p>I ran into this issue today and I fixed it by upgrading both <code>Kotlin</code> <code>std-lib</code> for android and the <code>std-lib</code> itself.\nAlso it's worth mentioning that if you're using compose, you have upgrade the  <code>kotlinCompilerExtensionVersion</code></p>\n<p>Here is the final setup</p>\n<ul>\n<li>gradle file at Module level</li>\n</ul>\n<pre><code>composeOptions {\n    kotlinCompilerExtensionVersion '1.4.3'\n}\n</code></pre>\n<ul>\n<li>root project gradle file</li>\n</ul>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n    id 'org.jetbrains.kotlin.jvm' version '1.8.10' apply false\n}\n</code></pre>\n"
        },
        {
          "answer_id": 75887353,
          "body": "<p>If you are upgrading to 1.8.0\nthen you should add</p>\n<pre><code>    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n</code></pre>\n"
        },
        {
          "comments": [
            {
              "comment_id": 133903249,
              "body": "it just can be a temporary solution, but it helped me a lot !"
            }
          ],
          "answer_id": 75898804,
          "body": "<p>Downgrade these deps to</p>\n<pre><code>implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.3.1'\nimplementation 'androidx.activity:activity-compose:1.5.1'\n</code></pre>\n"
        },
        {
          "answer_id": 75917014,
          "body": "<p>Such problem occurred after upgrading jetpack compose from <code>1.3.0</code> to <code>1.4.0</code>.</p>\n<p>If you find this problem, please refer to the <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">Kotlin Compose compatibility map</a> in order to find <strong>matching Kotlin/Compose Compiler</strong> versions.</p>\n<p>When you have found them, you need to make sure that:</p>\n<ul>\n<li>Gradle plugin has the right version (in <code>buildSrc</code>: <code>build.gradle.kts</code> for KTX gradle or in regular Gradle the root <code>build.gradle</code> one: <code>implementation(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:&lt;KOTLIN_VERSION&gt;&quot;)</code>)</li>\n<li>Kotlin dependency has right version (if you use multi-module app and use Kotlin directly (<code>implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib:&lt;KOTLIN_VERSION&gt;&quot;)</code>)</li>\n<li><code>kotlinCompilerExtensionVersion = &lt;COMPOSE_VERSION&gt;</code> is matching</li>\n</ul>\n"
        },
        {
          "answer_id": 75952607,
          "body": "<p>I had the same error on my Kotlin project. When I add Ktor to my project and upgraded the library versions, and then I got the wired long error. This is how I fixed it.</p>\n<p>I used compose version 1.4.0</p>\n<pre><code>ext {\n    compose_ui_version = '1.4.0'\n}\n</code></pre>\n<p>kotlin version <code>1.8.0</code>, the latest one <code>1.8.10</code> not compatible with compose <code>1.4.0</code> So I used,</p>\n<pre><code>id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n</code></pre>\n<p>Then, adjust the <code>composeOptions</code> on app level build.gradle file, like</p>\n<pre><code>composeOptions {\n    kotlinCompilerExtensionVersion '1.4.0'\n}\n</code></pre>\n<p>These are the three changes that I have done and I got escaped from the wired error. Hope this will help someone.</p>\n"
        },
        {
          "answer_id": 75988375,
          "body": "<p>kotlinCompilerExtensionVersion(compose) -&gt; kotlin_version</p>\n<p>1.4.4 -&gt; 1.8.10</p>\n<p>1.4.3 -&gt; 1.8.10</p>\n<p>1.4.2 -&gt; 1.8.10</p>\n<p>1.4.1 -&gt; 1.8.0</p>\n<p>1.4.0 -&gt; 1.8.0</p>\n<p>1.4.0-alpha02 -&gt; 1.7.21</p>\n<p>1.4.0-alpha01 -&gt; 1.7.20</p>\n<p>1.3.2 -&gt;1.7.20</p>\n<p>...</p>\n<p>Other versions: <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-kotlin</a></p>\n"
        },
        {
          "answer_id": 76003404,
          "body": "<p>As I checked all ways, if there is a alpha version like this :</p>\n<pre><code> implementation 'androidx.appcompat:appcompat:1.7.0-alpha02'\n</code></pre>\n<p><strong>change it to</strong></p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.1'\n</code></pre>\n<p>then <strong>Add</strong> class path in <code>build.gradle()</code></p>\n<pre><code> dependencies {\n     \n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;\n...\n    }\n</code></pre>\n"
        },
        {
          "answer_id": 76054519,
          "body": "<pre><code>lifecycle-viewmodel-ktx-2.6.1\n</code></pre>\n<p>down</p>\n<pre><code>lifecycle-viewmodel-ktx-2.5.1\n</code></pre>\n<p>I managed to get it working by lowering the dependency values.</p>\n"
        },
        {
          "answer_id": 76072071,
          "body": "<p>By <a href=\"https://stackoverflow.com/a/76054519/6576302\">@ArdaKazancı answer</a>, I did a similar change: (agp:7.4.2, gradle: 7.5)</p>\n<pre><code>implementation 'androidx.recyclerview:recyclerview:1.3.1'\nimplementation 'androidx.core:core:1.10.0'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'androidx.recyclerview:recyclerview:1.2.1'\nimplementation 'androidx.core:core:1.9.0' \n</code></pre>\n"
        },
        {
          "answer_id": 76104959,
          "body": "<p>it is because of <strong>Compose Compiler Version</strong> and <strong>Kotlin Version</strong> incompability. when I posting this answer, most updated compatible versions were:</p>\n<p><strong>Compose Compiler Version:</strong> 1.4.6\n<strong>Kotlin Version:</strong> 1.8.20</p>\n<p>you can always find most updated compatible versions in this page: <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-kotlin</a></p>\n<p>you can set this versions in app level gradle file like this:</p>\n<pre><code>composeOptions {\n    kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n}\n</code></pre>\n<p>and</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.android' version '1.8.10'\n}\n</code></pre>\n"
        },
        {
          "answer_id": 76132651,
          "body": "<p>I'm getting similar error. These settings worked for me.</p>\n<p>Note: I'm using <code>Android Studio Flamingo | 2022.2.1</code></p>\n<p><code>build.gradle(:project)</code> settings</p>\n<p>Old use:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.7.20&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n...\n</code></pre>\n<p>New use:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.8.0&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.0.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n...\n</code></pre>\n<p><code>build.gradle(:app)</code> settings</p>\n<p>Old use:</p>\n<pre><code>...\ncompileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n...\n</code></pre>\n<p>New use:</p>\n<pre><code>...\ncompileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n...\n</code></pre>\n<p>Gradle Projects Settings</p>\n<p><a href=\"https://i.stack.imgur.com/427JG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/427JG.png\" alt=\"enter image description here\" /></a></p>\n"
        },
        {
          "answer_id": 76158759,
          "body": "<p>On my Mac.  I hadn't worked on my app in a while 6-12 months maybe.  I was just checking in to make sure that Android Studio and the dependencies weren't too out of date.  I received the same error as noted in the question.</p>\n<ol>\n<li><p>When I tried to change my <code>ext.kotlin_version = &quot;1.7.20&quot;</code> to 1.8.x, I received a warning about <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</code> being inconsistent with my Kotlin version.</p>\n</li>\n<li><p>When I went into <code>Tools</code>-&gt;<code>Kotlin</code>-&gt;<code>Configure Kotlin Updates</code> and noticed that I couldn't get the the recent 1.8.20 version.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/fpcHb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fpcHb.png\" alt=\"Tool Menu\" /></a>\n<a href=\"https://i.stack.imgur.com/2um1v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2um1v.png\" alt=\"Kotlin Config Window\" /></a></p>\n<ol start=\"3\">\n<li><p>Then went to see if I needed an <code>Android Studio</code>-&gt;<code>Check for updates...</code>\n<a href=\"https://i.stack.imgur.com/IZzPQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IZzPQ.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>I in fact did need a major release update arctic fox to flamingo.\nAfter upgrading to Flamingo, I was able to update both locations of Kotlin Version to 1.8.20.  <code>Tools</code>-&gt;<code>Kotlin</code>-&gt;<code>Configure Kotlin Updates</code> and <code>ext.kotlin_version = &quot;1.8.20&quot;</code></p>\n</li>\n<li><p>Did <code>File</code>-&gt;<code>Invalidate Cache</code> and reboot</p>\n</li>\n<li><p>Did <code>Build</code>-&gt;<code>Clean Project</code></p>\n</li>\n<li><p>I updated whatever else needed to be updated with Flamingo</p>\n</li>\n<li><p>Built and ran -&gt; and ...\n<code>BUILD SUCCESSFUL in 1m 6s</code>\n<code>38 actionable tasks: 38 executed</code></p>\n</li>\n</ol>\n"
        },
        {
          "answer_id": 76187916,
          "body": "<p><strong>Workaround for earlier KGP versions now is:</strong><br>\n*<strong>file</strong> <em>app/build.gradle</em></p>\n<pre><code>dependencies {\nconstraints {\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n        because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n    }\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n        because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n    }\n}\n</code></pre>\n<p>}</p>\n"
        },
        {
          "answer_id": 76247603,
          "body": "<p>I fixed it by making Compose Compiler and JetBrains Kotlin plugins compatible</p>\n<p>First, make sure are you using <strong>org.jetbrains.kotlin.android</strong> plugin version above 1.8.0.</p>\n<p><strong>build.gradle(Project)</strong></p>\n<pre><code>plugins {\n  ...\n  id 'org.jetbrains.kotlin.android' version '1.8.21' apply false\n}\n</code></pre>\n<p>Then check compatible version of Compose Compiler from below link and update <strong>build.gradle(app)</strong>:<br />\n<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin#pre-release_kotlin_compatibility\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-kotlin#pre-release_kotlin_compatibility</a></p>\n<pre><code>android {\n  ...\n  composeOptions {\n    kotlinCompilerExtensionVersion '1.4.7'\n  }\n}\n</code></pre>\n"
        },
        {
          "answer_id": 76279693,
          "body": "<p>This duplication happens because some of the libraries still use module <code>org.jetbrains.kotlin:kotlin-stdlib-jdk8</code> or <code>org.jetbrains.kotlin:kotlin-stdlib-jdk7</code> instead of the new module <code>org.jetbrains.kotlin:kotlin-stdlib</code>, therefore the class duplication accure.</p>\n<p>To fix this we need to replace this module by ourselves:</p>\n<pre><code>modules {\n        module('org.jetbrains.kotlin:kotlin-stdlib-jdk8')\n                { replacedBy 'org.jetbrains.kotlin:kotlin-stdlib', 'kotlin fixes' }\n        module('org.jetbrains.kotlin:kotlin-stdlib-jdk7')\n                { replacedBy 'org.jetbrains.kotlin:kotlin-stdlib', 'kotlin fixes' }\n    }\n</code></pre>\n"
        },
        {
          "answer_id": 76288629,
          "body": "<p>You can now update the lifecycle dependencies to the most up-to-date versions, and simply add the following line in your build.gradle</p>\n<pre><code>dependencies {\n\n    (...)\n\n    // Fix Duplicate class\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n}\n</code></pre>\n"
        },
        {
          "answer_id": 76296390,
          "body": "<p>I tried many ways to solve this same prolem but didnt work\nI tried to add this dependencies below in my &quot;<strong>build.gradle(module:app)</strong>&quot;..</p>\n<pre><code>implementation (platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n</code></pre>\n<p>and then synce now, it will resolve this error.</p>\n"
        },
        {
          "answer_id": 76298880,
          "body": "<p>Step 1 :- Add this</p>\n<pre><code>plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n    }\n</code></pre>\n<p>Step 2 :- Add this on the dependencies</p>\n<pre><code>dependencies {\n\n.....\n\n  constraints{\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.10'\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.10'\n    }\n}\n</code></pre>\n<p><strong>Note:- version '1.8.10', jdk7:1.8.10 and jdk7:1.8.10 are same...</strong></p>\n"
        }
      ],
      "last_activity_date": 1684656409,
      "question_id": 75263047,
      "body": "<p><img src=\"https://i.stack.imgur.com/ugp7v.png\" alt=\"Image Example\" /></p>\n<p>I kept on getting error that there is duplicate error in classes.\n<a href=\"https://i.stack.imgur.com/92lfH.png\" rel=\"noreferrer\">This is what i have under org.jetbrains.kotlin folder</a>\n<a href=\"https://i.stack.imgur.com/Q0zHs.png\" rel=\"noreferrer\">.idea/libraries</a></p>\n<p>it seems like the problem is because there is two different dependencies for the kotlin, from stdlib and stdlibjdk8 but I don't know how to remove either one from my module/project dependencies. Please help :(</p>\n<p>Here's the full error code :</p>\n<pre><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\n</code></pre>\n<p>I've tried deleting the files from the org.jetbrains.kotlin but whenever i build the app in Android Studio, the files will be re-downloaded again.</p>\n<p>this is my module app gradle code</p>\n<pre><code>\nplugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.umfs&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n    namespace 'com.example.umfs'\n}\n\ndependencies {\n\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'androidx.preference:preference:1.2.0'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    implementation 'com.google.firebase:firebase-core:21.1.1'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'com.google.firebase:firebase-firestore:24.4.1'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n    implementation 'com.google.firebase:firebase-firestore:24.4.1'\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\n    implementation 'com.google.firebase:firebase-database'\n    implementation platform('com.google.firebase:firebase-bom:28.4.0')\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\n    implementation 'com.github.marlonlom:timeago:4.0.3'\n    implementation &quot;androidx.core:core-ktx:+&quot;\n\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"
    },
    {
      "comments": [
        {
          "comment_id": 30877124,
          "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/5250536/converting-a-large-java-project-to-use-maven\">Converting a large Java project to use maven</a>"
        },
        {
          "comment_id": 30912136,
          "body": "I find use eclipse with m2eclipse:(Java Convert Maven) Project---&gt;Configure---&gt;Convert to Maven Project , add src/main/java src/test/java  manually.(Maven convert Java)project---&gt;Maven---&gt;Disable Maven Nature, edit package manually.This way is easy way to do the work."
        }
      ],
      "answers": [
        {
          "answer_id": 20629793,
          "body": "<p>Please follow below steps to migrate from Java Project to Maven Java Project. </p>\n\n<p>1) Create new folder \"src/main/java\" using File>New>Folder option </p>\n\n<p>2) Enable Dependency Management from the context menu of project>M2 MyEclipse Maven </p>\n\n<p>3) In the 2nd wizard,can add required Dependencies to your project if require. </p>\n\n<p>4) Move already existing packages under \"src\" folder to \"src/main/java\" folder </p>\n\n<p>5) Run \"Maven Install\" from the context menu of project, to install the created project in Maven local repository.</p>\n\n<p>As well as visit :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5250536/converting-a-large-java-project-to-use-maven\">Using multiple source folders (as intermediate step in a conversion of a large Java project to Maven)</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/11016120/how-to-convert-java-project-to-maven-project-or-similar\">How to convert java project to Maven project or similar</a></p>\n"
        },
        {
          "answer_id": 20629796,
          "body": "<p>If you use Eclipse, there is the possibility to convert an existing project into a maven project by <code>right-click on the root project folder &gt; Configure &gt; Convert to Maven Project</code></p>\n\n<p>in IntelliJ, you can convert it too, by selecting everything you need in the project sturcture settings.</p>\n"
        },
        {
          "answer_id": 20629803,
          "body": "<p>You can convert it using <a href=\"http://maven.apache.org/eclipse-plugin.html\" rel=\"nofollow\">Integration for Apache Maven</a>.<br>\nFor more info, check <a href=\"http://wiki.eclipse.org/Converting_Eclipse_Java_Project_to_Maven_Project\" rel=\"nofollow\">here</a>.</p>\n"
        },
        {
          "answer_id": 20630079,
          "body": "<p>You can create an empty Maven project with archetype plugin <a href=\"http://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html\" rel=\"nofollow\">http://maven.apache.org/archetype/maven-archetype-plugin/generate-mojo.html</a> or IDE. The rest of the job (copying files to proper folders, adding dependencies) needs to be done manually.</p>\n"
        },
        {
          "answer_id": 20630571,
          "body": "<p>In Intellij Idea, right click on the module to which you need to add Maven support:</p>\n\n<p><img src=\"https://i.stack.imgur.com/4xiWc.png\" alt=\"enter image description here\"></p>\n\n<p>There is also my screencast on how to quickly create a multi-module project with Idea: <a href=\"https://stackoverflow.com/questions/6328778/how-to-create-an-empty-multi-module-maven-project/20163892#20163892\">How to create an empty multi module Maven project?</a> The same technique could be used to manage modules.</p>\n"
        },
        {
          "answer_id": 76298792,
          "body": "<p>Using IntelliJ Idea 2022.3.3, here is how you can do it:</p>\n<ul>\n<li>Right click on root of your project in Explorer on the left side.</li>\n<li>Select &quot;Add framework support&quot; (3rd option from the last as shown in image)</li>\n<li>Choose Maven</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/QlaG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QlaG7.png\" alt=\"enter image description here\" /></a></p>\n"
        }
      ],
      "last_activity_date": 1684654572,
      "question_id": 20629737,
      "body": "<p>If I create a Java Project at the beginning</p>\n\n<p>some days later,the project becomes larger and the dependency is larger</p>\n\n<p>I want to use maven to manage dependency, what should I do?</p>\n\n<p>I should create (src/main/java  src/test/java   pom.xml) manually or is there some easy way to do it? </p>\n"
    },
    {
      "answers": [
        {
          "answer_id": 76298784,
          "body": "<p>There seem to be several issues:</p>\n<ul>\n<li>Fragment bundles can contain JSPs but not code, Components, etc.</li>\n<li>Just because you implement a subclass of a portlet does not mean that it'll be wired instead of the superclass component</li>\n</ul>\n<p>Instead of providing a full tutorial how to do it: My recommendation is to check for a solution to the underlying problem. You have chosen a solution strategy (override a portlet), which <a href=\"https://meta.stackexchange.com/a/66378\">may or may not be the proper solution</a> for the underlying problem: Liferay's Search framework provides a lot of extension points that are meant for extention rather than code that needs to be replaced</p>\n<p>If you want to stick with your solution, search for &quot;marketplace override&quot;, which basically allows you to replace built-in components. I'd not recommend it though, as you'll have to do a three-way-merge any time you update and the original component has changed. That's a lot of maintenance burden, and I assume that there must be simpler solutions (I just don't know your underlying problem)</p>\n"
        }
      ],
      "last_activity_date": 1684654476,
      "question_id": 76298264,
      "body": "<p>I am trying to achieve this through liferay module fragment. Is it possible?</p>\n<p>I created a fragment and created the packages with exact names as they have in source code.</p>\n<p>I created a <code>public class CustomPortlet extends SearchResultsPortlet</code>.</p>\n<p>I implemented a <code>@Override public void render(RenderRequest rq,RenderResponse re ) throws IOException,PortletException {log.info(&quot;Overriden&quot;); System.out.println(&quot;Overriden&quot;); super.render(rq,re);} </code></p>\n<p>I also tried with and without @Component annotation in my subclass.\nBut osgi is not registering my component.\nWhat am I doing wrong? Do I need to add properties inside  @Component annotation? Shouldn't the subclass inherit the superclass's annotations? I also made changes in a few jsp files, they are reflected in the portlet.</p>\n"
    },
    {
      "last_activity_date": 1684654450,
      "question_id": 75438973,
      "body": "<p>I have the query:</p>\n<p><code>@Query(&quot;SELECT t FROM thing t WHERE t.code in :codes&quot;) public List&lt;Thing&gt; getThingsByCodeList(@Param(&quot;codes&quot;) List&lt;String&gt; codes);</code></p>\n<p>and now I need to ignore hyphens in the query so I remove all the hyphens from <code>t.codes</code> like:</p>\n<p><code>@Query(&quot;SELECT t FROM thing t WHERE regexp_replace(t.code, '-', '') in :codes&quot;) public List&lt;Thing&gt; getThingsByCodeList(@Param(&quot;codes&quot;) List&lt;String&gt; codes);</code></p>\n<p>but I am unsure how to also remove the hyphens from all Strings in the List <code>codes</code></p>\n<p>I know I can remove the hyphens before calling the method but I want to make sure this solution is impossible first.</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134546332,
          "body": "The simple / simplest  &quot;query&quot; syntax is <code>data1 data2</code> and you decide if you want that to mean OR or AND.  That&#39;s how (for example) how Google search syntax works."
        },
        {
          "comment_id": 134546358,
          "body": "There are many existing syntaxes that are or less suitable for non-programmers.  And don&#39;t underestimate the ability of a non-programmer to <b>learn</b> a syntax."
        },
        {
          "comment_id": 134546381,
          "body": "&quot;How should I design my interface?&quot; is not an appropriate question type for Stack Overflow, as it is both subjective and overly broad. Looking for an existing popular syntax doesn&#39;t really help that, as a) we can&#39;t see the specific requirements of your syntax (what kinds of queries need to be created); b) choosing between them is still subjective; c) there are arbitrarily many out there - anyone can invent a new syntax ad-hoc and then it is &quot;already existing&quot;."
        },
        {
          "comment_id": 134546382,
          "body": "@StephenC unfortunately, in my experience such ability rarely translates into willingness."
        },
        {
          "comment_id": 134546430,
          "body": "@KarlKnechtel This is not how should I design my interface question, this is what end-user search query syntaxes exist out there question because I would prefer to use some existing syntax instead of inventing a bicycle. And I hardly can found anything suitable by myself."
        },
        {
          "comment_id": 134546446,
          "body": "@KarlKnechtel - Perhaps they have no incentive to learn ..."
        },
        {
          "comment_id": 134546447,
          "body": "@StephenC Yes, google like syntax is what I thought as a simplest variant, but unfortunately the more advanced search syntax is required."
        },
        {
          "comment_id": 134546457,
          "body": "Choosing an existing syntax <b>is designing an interface</b>."
        },
        {
          "comment_id": 134546461,
          "body": "@Zur13 - So ... let them learn the more advanced syntax with AND, OR, NOT, parentheses, etc.  If they have the incentive, they will learn.  If they don&#39;t ... well that&#39;s not your problem :-).  And I agree with Karl&#39;s first comment.  The functionality required should determine the syntax, not the other way around."
        },
        {
          "comment_id": 134547042,
          "body": "Look at <a href=\"https://lucene.apache.org/\" rel=\"nofollow noreferrer\">Apache Lucene</a>"
        }
      ],
      "last_activity_date": 1684654412,
      "question_id": 76298780,
      "body": "<p>I have a table with data in Java Swing UI and I need the end users to be able to apply filters to that table data.</p>\n<p>The are two categories of end users the inexperienced ones that require a simple queries like &quot;data1&quot; to display any rows containing this text in any cell with support of simple syntax like &quot;data1 OR data2&quot; and the experienced users who needs a more complex syntax like &quot;(COLUMN1=data1 OR COLUMN2=data2) AND NOT COLUMN3=data3&quot;.</p>\n<p>Is there any existing query syntax for such kind of requests that is suitable for non-programmers?</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 133297194,
          "body": "Don’t use an integer. Use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">the built-in <code>DayOfWeek</code> enum</a>. It will also give you the math for free through its <code>plus</code> and <code>minus</code> methods."
        },
        {
          "comment_id": 133297239,
          "body": "If it’s not too advanced for you: Declare <code>private static final DateTimeFormatter DOW_FORMATTER = new DateTimeFormatterBuilder() .parseCaseInsensitive() .appendText(ChronoField.DAY_OF_WEEK, TextStyle.FULL) .toFormatter(Locale.ENGLISH);</code> Then for example <code>DOW_FORMATTER.parse(&quot;sunDAY&quot;, DayOfWeek::from)</code> will give you the <code>SUNDAY</code> enum constant (it accepts mixed case as shown). Use <code>try</code>-<code>cath</code> to catch a <code>DateTimeParseException</code> in case the user enters an invalid day of week."
        },
        {
          "comment_id": 133297265,
          "body": "Possibly simpler: <code>DayOfWeek.valueOf(&quot;sunDAY&quot;.toUpperCase(Locale.ENGLISH))</code>. Here you will get an <code>IllegalArgumentException</code> in case of invalid input."
        },
        {
          "comment_id": 133471136,
          "body": "Is this homework? Then your tutor <i>may</i> require you to write this yourself. Otherwise, you should utilize <code>java.time.DayOfWeek</code>."
        }
      ],
      "answers": [
        {
          "answer_id": 75552299,
          "body": "<p>You can create a <code>List</code> of days in order, then use <code>indexOf</code> after converting the input <code>String</code> to lowercase.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; days = List.of(&quot;sunday&quot;, &quot;monday&quot;, &quot;tuesday&quot;, &quot;wednesday&quot;, &quot;thursday&quot;, &quot;friday&quot;, &quot;saturday&quot;);\n// convert day to index:\nint b = days.indexOf(day.toLowerCase()) + 1;\n\n// convert index to day:\nString day = days.get(a - 1);\n// capitalize it:\nday = Character.toUpperCase(day.charAt(0)) + day.substring(1);\n</code></pre>\n"
        },
        {
          "answer_id": 75552361,
          "body": "<p>While the above answer is clear and accurate, you could also use an <code>enum</code> containing all days of the week, mostly in case you also want to add more functionality to them.</p>\n<pre><code>enum DayOfWeek {\n    MONDAY(1), TUESDAY(2), WEDNESDAY(3), THURSDAY(4), FRIDAY(5), SATURDAY(6), SUNDAY(7);\n\n    private final int value;\n\n    private DayOfWeek(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n    public DayOfWeek getPreviousDay() {\n        if (value == 1) return DayOfWeek.SUNDAY;\n        if (value == 2) return DayOfWeek.MONDAY;\n        // Insert other checks here\n    }\n\n    public DayOfWeek getNextDay() {\n        if (value == 7) return DayOfWeek.MONDAY;\n        // Insert other checks here\n    }\n}\n</code></pre>\n<p>... while the user input part can look like this:</p>\n<pre><code>Scanner scan = new Scanner(System.in);\n\nSystem.out.println(&quot;Please set the day of the week:&quot;);\nString day = scan.nextLine();\n\nDayOfWeek dayOfWeek = DayOfWeek.valueOf(day);\n</code></pre>\n<p>Of course, in this case, if the user inputs the correct value, but with wrong capitalization (e.g. <code>mondaY</code> or <code>Monday</code>), it will throw an <code>Exception</code>. User should type in <code>MONDAY</code>, as specified in <code>DayOfWeek</code>. You could convert <code>day</code> to uppercase pretty easy by just adding:</p>\n<pre><code>DayOfWeek dayOfWeek = DayOfWeek.valueOf(day.toUpperCase());\n</code></pre>\n"
        },
        {
          "answer_id": 75655279,
          "body": "<p>import java.util.Scanner;</p>\n<p>public class DayOfWeek {\npublic static void main(String[] args) {\nString[] daysOfWeek = {&quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;, &quot;Sunday&quot;};</p>\n<pre><code>    // Ask the user to input a day of the week\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Please enter a day of the week: &quot;);\n    String day = input.nextLine();\n\n    // Check if the input day is valid\n    boolean validDay = false;\n    for (String d : daysOfWeek) {\n        if (d.equalsIgnoreCase(day)) {\n            validDay = true;\n            break;\n        }\n    }\n    if (!validDay) {\n        System.out.println(&quot;Invalid input. Please enter a valid day of the week.&quot;);\n    } else {\n        // Ask the user to select an option\n        System.out.println(&quot;Please select an option:&quot;);\n        System.out.println(&quot;1. Return the day&quot;);\n        System.out.println(&quot;2. Return the next day&quot;);\n        System.out.println(&quot;3. Return the previous day&quot;);\n        System.out.println(&quot;4. Add certain days to the day you set&quot;);\n        System.out.print(&quot;Option: &quot;);\n        int option = input.nextInt();\n\n        if (option == 1) {\n            System.out.println(&quot;The day is &quot; + day);\n        } else if (option == 2) {\n            int index = -1;\n            for (int i = 0; i &lt; daysOfWeek.length; i++) {\n                if (daysOfWeek[i].equalsIgnoreCase(day)) {\n                    index = i;\n                    break;\n                }\n            }\n            String nextDay = daysOfWeek[(index + 1) % 7];\n            System.out.println(&quot;The next day is &quot; + nextDay);\n        } else if (option == 3) {\n            int index = -1;\n            for (int i = 0; i &lt; daysOfWeek.length; i++) {\n                if (daysOfWeek[i].equalsIgnoreCase(day)) {\n                    index = i;\n                    break;\n                }\n            }\n            String prevDay = daysOfWeek[(index - 1 + 7) % 7];\n            System.out.println(&quot;The previous day is &quot; + prevDay);\n        } else if (option == 4) {\n            System.out.print(&quot;Enter the number of days to add: &quot;);\n            int numDays = input.nextInt();\n            int index = -1;\n            for (int i = 0; i &lt; daysOfWeek.length; i++) {\n                if (daysOfWeek[i].equalsIgnoreCase(day)) {\n                    index = i;\n                    break;\n                }\n            }\n            String newDay = daysOfWeek[(index + numDays) % 7];\n            System.out.println(&quot;The new day is &quot; + newDay);\n        } else {\n            System.out.println(&quot;Invalid option. Please select a valid option.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n"
        },
        {
          "answer_id": 75655401,
          "body": "<p>You can also use <code>Map&lt;String, Integer&gt;</code> where key is String like &quot;Monday&quot; etc, and an Integer as your value that should be associated with it.</p>\n<p>Then you can call for exact value by calling <code>map.get(scanner.nextLine())</code>.</p>\n<p>Later on focus on cleaning up the if-'ish' approach - get acquainted with <code>switch</code>.</p>\n<p>Final step would be to extract functionalities to separate methods:\none for retrieving day, then second for logic to deal with further processing, and last but not least for example the returning value method.</p>\n"
        },
        {
          "answer_id": 76298767,
          "body": "<p>I adapted your code, utilizing an <code>enum</code> as the main reference point for your day values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int d;\n\nvoid userInput() {\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Please enter a day of the week: &quot;);\n    String day = scanner.nextLine();\n    Day value;\n    try {\n        value = Day.valueOf(day.toUpperCase());\n        d = value.ordinal() + 1;\n    } catch (IllegalArgumentException exception) {\n        System.out.printf(&quot;Invalid input, '%s'%n&quot;, day);\n        return;\n    }\n\n    System.out.println(&quot;Enter 1 to return the day.\\nEnter 2 to return tomorrows day.\\nEnter 3 to return yesterdays day.\\nEnter 4 to add days to the current day.\\n&quot;);\n    switch (scanner.nextInt()) {\n        case 1 -&gt; System.out.println(value);\n        case 2 -&gt; System.out.println(value.next());\n        case 3 -&gt; System.out.println(value.previous());\n        case 4 -&gt; {\n            System.out.println(&quot;Enter the number of days you want to add&quot;);\n            int c = scanner.nextInt();\n            while (c-- &gt; 0)\n                value = value.next();\n            System.out.println(value);\n        }\n    }\n}\n\nenum Day {\n    SUNDAY, MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY;\n\n    Day next() {\n        if (this == SATURDAY) return SUNDAY;\n        return values()[ordinal() + 1];\n    }\n\n    Day previous() {\n        if (this == SUNDAY) return SATURDAY;\n        return values()[ordinal() - 1];\n    }\n}\n</code></pre>\n<p>Output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Please enter a day of the week: saturday\nEnter 1 to return the day.\nEnter 2 to return tomorrows day.\nEnter 3 to return yesterdays day.\nEnter 4 to add days to the current day.\n\n4\nEnter the number of days you want to add\n6\nFRIDAY\n</code></pre>\n"
        }
      ],
      "last_activity_date": 1684654227,
      "question_id": 75552274,
      "body": "<p>`Im still learning and I sort of feel like Im doing this all wrong, but I could use some help. I have an assignment needs to have the user set a day of the week, then the program will make the user select an option that will either return the day, return the next day, return the previous day, or add certain days to the day they set(ex: If set the day as Monday and add 4 days, then it will return Friday). I really only need help with the adding days part but any advice on how to make the code better is appreciated.</p>\n<hr />\n<p>Im wanting to know if I can assign a int value to a string. For example, if String day equals &quot;Sunday&quot;, then int a = 1. I want to assign each day of the week to an int value, then add whatever number the user inputs to the int value, then the sum would be the new day.</p>\n<hr />\n<p>If theres a better way to do this please let me know, heres my code(sorry if it looks bad).</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\npublic static void main(String\\[\\] args)\n{\n\n        Day.userInput();\n    }\n\n}\n\nclass Day\n{\nstatic int b;\npublic static void userInput()\n{\nScanner scan = new Scanner(System.in);\n\n// set day of week\nSystem.out.println(&quot;Please set the day of the week:&quot;);\nString day = scan.nextLine();\n\n        if(day.equals(&quot;sunday&quot;) || (day.equals(&quot;Sunday&quot;)) )\n        {\n          b = 1;\n        }\n        if(day.equals(&quot;monday&quot;) || (day.equals(&quot;Monday&quot;)) )\n        {\n            b = 2;\n        }\n        if(day.equals(&quot;tuesday&quot;) || (day.equals(&quot;Tuesday&quot;)) )\n        {\n            b = 3;\n        }\n        if(day.equals(&quot;wednesday&quot;) || (day.equals(&quot;Wednesday&quot;)) )\n        {\n            b = 4;\n        }\n        if(day.equals(&quot;thursday&quot;) || (day.equals(&quot;Thursday&quot;)) )\n        {\n            b = 5;\n        }\n        if(day.equals(&quot;friday&quot;) || (day.equals(&quot;Friday&quot;)) )\n        {\n            b = 6;\n        }\n        if(day.equals(&quot;saturday&quot;) || (day.equals(&quot;Saturday&quot;)) )\n        {\n            b = 7;\n        }\n    \n    \n        System.out.println(&quot;Enter 1 to return the day.\\nEnter 2 to return tomorrows day.\\nEnter 3 to return yesterdays day.\\nEnter 4 to add days to the current day.\\n&quot;);\n        int a = scan.nextInt();\n\n// return day\nif(a == 1)\n{\nSystem.out.println(&quot;The day is &quot; + day);\n}\n//return next day\nif(a == 2)\n{\nif ( b == 1)\n{\nSystem.out.println(&quot;The next day is Monday.&quot;);\n}\nif (b == 2)\n{\nSystem.out.println(&quot;The next day is Tuesday.&quot;);\n}\nif (b == 3)\n{\nSystem.out.println(&quot;The next day is Wednesday.&quot;);\n}\nif (b == 4)\n{\nSystem.out.println(&quot;The next day is Thursday.&quot;);\n}\nif (b == 5)\n{\nSystem.out.println(&quot;The next day is Friday.&quot;);\n}\nif (b == 6)\n{\nSystem.out.println(&quot;The next day is Saturday.&quot;);\n}\nif (b == 7)\n{\nSystem.out.println(&quot;The next day is Sunday.&quot;);\n}\n\n        }\n\n//return previous day\nif(a == 3)\n{\nif( b == 1)\n{\nSystem.out.println(&quot;The previous day was Saturday.&quot;);\n}\nif (b == 2)\n{\nSystem.out.println(&quot;The previous day was Sunday.&quot;);\n}\nif (b == 3)\n{\nSystem.out.println(&quot;The previous day was Monday.&quot;);\n}\nif (b == 4)\n{\nSystem.out.println(&quot;The previous day was Tuesday.&quot;);\n}\nif (b == 5)\n{\nSystem.out.println(&quot;The previous day was Wednesday.&quot;);\n}\nif (b == 6)\n{\nSystem.out.println(&quot;The previous day was Thursday.&quot;);\n}\nif (b == 7)\n{\nSystem.out.println(&quot;The previous day was Friday.&quot;);\n}\n}\n// add days  \nif(a == 4 )\n{\nSystem.out.println(&quot;Enter the number of days you want to add&quot;);\nint c = scan.nextInt();\n\n        }\n    \n    \n    }\n\n}\n</code></pre>\n<p>I know a way I can do this but it'll take a massive amount of lines and if statements. `</p>\n"
    },
    {
      "comments": [
        {
          "comment_id": 134542312,
          "body": "What are you trying to do? Show <code>index.html</code> for all routes that don&#39;t match anything?"
        }
      ],
      "answers": [
        {
          "comments": [
            {
              "comment_id": 134542214,
              "body": "I just tried it, but unfortunately it doesn&#39;t seem to change anything :("
            },
            {
              "comment_id": 134542305,
              "body": "I think that&#39;s because of HttpStatus 500, you have a problem related to your database and jpa, you can check your connection with the database. and maybe the problem is because your methods in your service so check your methods getAllUsers, ..."
            },
            {
              "comment_id": 134542451,
              "body": "Unfortunately no, I tested that by changing the controller into a Rest controller and having the method return the answer and it returned a json like expected"
            },
            {
              "comment_id": 134542870,
              "body": "i think i found the problem i fotget to see the name of your file html, it&#39;s should be the name of the return of your function AllUsers, so just replace index.html by users.html."
            },
            {
              "comment_id": 134544521,
              "body": "thanks to issam el orf, that seems to have &quot;fixed&quot; the problem, but now I have the new problem of the table not containing any of the elements in my database.  Anyhow could you make your comment into a response so that I can mark the question as solved?  Once again thanks"
            },
            {
              "comment_id": 134544535,
              "body": "You&#39;re welcome, I want to ask you if you use my code html or not !! you should use it because your code html is fault"
            },
            {
              "comment_id": 134544558,
              "body": "Yes I&#39;m using your code. Unfortunatly the users in my database are still not showing"
            },
            {
              "comment_id": 134544613,
              "body": "Check if your entity&#39;s attributes have the some names in html file i mean ( id, email, name, ...)"
            },
            {
              "comment_id": 134544654,
              "body": "I checked again and the names match, I think it might have something to do with me missusing model.addatribute(params) because I just can&#39;t think of any other place where it could have gone wrong"
            },
            {
              "comment_id": 134544815,
              "body": "Try to not use @Column i mean remove it in your entity, and put the some names of entity&#39;s attributtes inside your users.html"
            }
          ],
          "answer_id": 76296224,
          "body": "<p>Update the file with the following content: html</p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;div&gt;\n            &lt;table class=&quot;table&quot;&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;ID&lt;/th&gt;\n                        &lt;th&gt;Email&lt;/th&gt;\n                        &lt;th&gt;Name&lt;/th&gt;\n                        &lt;th&gt;Username&lt;/th&gt;\n                        &lt;th&gt;Password&lt;/th&gt;\n                        &lt;th&gt;&lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot;user : ${listUsers}&quot;&gt;\n                        &lt;td th:text=&quot;${user.id}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.email}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.name}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.username}&quot;&gt;&lt;/td&gt;\n                        &lt;td th:text=&quot;${user.password}&quot;&gt;&lt;/td&gt;\n                        &lt;td&gt;&lt;!-- additional actions if needed --&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n"
        },
        {
          "answer_id": 76297750,
          "body": "<p>I think i found the problem, The name of your file html should be the same name returned in your method AllUsers, so just replace index.html by users.html.</p>\n"
        }
      ],
      "last_activity_date": 1684654138,
      "question_id": 76296160,
      "body": "<p>I have the following controller.</p>\n<pre><code>package com.school.project;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(&quot;/&quot;)\n    public String AllUsers(Model model) {\n        model.addAttribute(&quot;listUsers&quot;, userService.getAllUsers());\n        return &quot;users&quot;;\n    }\n\n}\n</code></pre>\n<p>and an <code>index.html</code> file placed in my templates folder.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Manager Site&lt;/title&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{webjars/bootstrap/5.2.3/css/bootstrap.min.css}&quot;&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container-fluid text-center&quot;&gt;\n        &lt;div&gt;\n            &lt;table&gt;\n                &lt;thead&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;E-mail&lt;/th&gt;\n                    &lt;th&gt;name&lt;/th&gt;\n                    &lt;th&gt;username&lt;/th&gt;\n                    &lt;th&gt;password&lt;/th&gt;\n                    &lt;th&gt;&lt;/th&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    \n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n</code></pre>\n<p>But whenever I launch my application, I get the following error.</p>\n<pre><code>Sat May 20 18:57:06 IDT 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\nError resolving template [users], template might not exist or might not be accessible by any of the configured Template Resolvers\norg.thymeleaf.exceptions.TemplateInputException: Error resolving template [users], template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n<p>If I change the routing of my index mapping, the html will load with no problem, but if I give them the same routing, I get that error.</p>\n<p>It is the same error. I get if I try to go to a URL with no matching template file.</p>\n<p>I know this error has already been posted, but none of the solutions worked for me.</p>\n<p>My service class is the following.</p>\n<pre><code>package com.school.project;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    public List&lt;User&gt; getAllUsers() {\n        List&lt;User&gt; users = userRepository.findAll();\n        return users;\n    }\n}\n\n</code></pre>\n<p>and my model class.</p>\n<pre><code>package com.school.project;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Entity\n@Data\n@Table(name = &quot;user&quot;)\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;isAdmin&quot;)\n    private boolean isAdmin;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;username&quot;)\n    private String userName;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n}\n\n</code></pre>\n"
    }
  ]
}